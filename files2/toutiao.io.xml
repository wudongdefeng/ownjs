<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>ce6a497ae6bbc7c84b16f11b837b1c15</guid>
<title>èµ„æ–™ | Google æ„å»ºå®‰å…¨å¯é çš„ç³»ç»Ÿï¼ˆæœ€ç»ˆç‰ˆï¼‰.pdf</title>
<link>https://toutiao.io/k/pjlvk64</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;å¼€å‘è€…å¤´æ¡&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;Weixin ID&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;kaifazhetoutiao&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;About Feature&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;ç¨‹åºå‘˜åˆ†äº«å¹³å° | å®˜æ–¹åº”ç”¨ä¸‹è½½åœ°å€ï¼šhttp://toutiao.io/download&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9c0753e72e0b88757f68ee561e94ba81</guid>
<title>é«˜å¹¶å‘ç³»ç»Ÿçš„é™æµç­–ç•¥ï¼šæ¼æ¡¶å’Œä»¤ç‰Œæ¡¶ï¼ˆé™„æºç å‰–æï¼‰</title>
<link>https://toutiao.io/k/x6ro69m</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å“ˆå–½ï¼Œå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ­£åœ¨å­¦ä¹ &lt;code&gt;PS&lt;/code&gt;æŠ€æœ¯çš„&lt;code&gt;asong&lt;/code&gt;ï¼Œè¿™æ˜¯æˆ‘å¹¶å‘ç¼–ç¨‹ç³»åˆ—çš„ç¬¬&lt;code&gt;5&lt;/code&gt;ç¯‡æ–‡ç« ï¼Œä»Šå¤©ä¸å¤§å®¶èŠä¸€èŠé«˜å¹¶å‘ç³»ç»Ÿä¸­çš„é™æµæŠ€æœ¯ï¼Œé™æµåˆç§°ä¸ºæµé‡æ§åˆ¶ï¼Œæ˜¯æŒ‡é™åˆ¶åˆ°è¾¾ç³»ç»Ÿçš„å¹¶å‘è¯·æ±‚æ•°ï¼Œå½“è¾¾åˆ°é™åˆ¶æ¡ä»¶åˆ™å¯ä»¥æ‹’ç»è¯·æ±‚ï¼Œå¯ä»¥èµ·åˆ°ä¿æŠ¤ä¸‹æ¸¸æœåŠ¡ï¼Œé˜²æ­¢æœåŠ¡è¿‡è½½ç­‰ä½œç”¨ã€‚å¸¸ç”¨çš„é™æµç­–ç•¥æœ‰æ¼æ¡¶ç®—æ³•ã€ä»¤ç‰Œæ¡¶ç®—æ³•ã€æ»‘åŠ¨çª—å£ï¼›ä¸‹æ–‡ä¸»è¦ä¸å¤§å®¶ä¸€èµ·åˆ†æä¸€ä¸‹æ¼æ¡¶ç®—æ³•å’Œä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œæ»‘åŠ¨çª—å£å°±ä¸åœ¨è¿™é‡Œè¿™ä»‹ç»äº†ã€‚å¥½å•¦ï¼ŒåºŸè¯ä¸å¤šè¯ï¼Œå¼€æ•´ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ¼æ¡¶ç®—æ³•&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¼æ¡¶ç®—æ³•æ¯”è¾ƒå¥½ç†è§£ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ°´æ¡¶ï¼Œæˆ‘ä»¬å‘è¿™ä¸ªæ°´æ¡¶é‡Œæ·»æ°´ï¼Œè™½ç„¶æˆ‘ä»¬æˆ‘ä»¬æ— æ³•é¢„è®¡ä¸€æ¬¡ä¼šæ·»å¤šå°‘æ°´ï¼Œä¹Ÿæ— æ³•é¢„è®¡æ°´æµå…¥çš„é€Ÿåº¦ï¼Œä½†æ˜¯å¯ä»¥å›ºå®šå‡ºæ°´çš„é€Ÿåº¦ï¼Œä¸è®ºæ·»æ°´çš„é€Ÿç‡æœ‰å¤šå¤§ï¼Œéƒ½æŒ‰ç…§å›ºå®šçš„é€Ÿç‡æµå‡ºï¼Œå¦‚æœæ¡¶æ»¡äº†ï¼Œæº¢å‡ºçš„ä¸Šæ–¹æ°´ç›´æ¥æŠ›å¼ƒã€‚æˆ‘ä»¬æŠŠæ°´å½“ä½œ&lt;code&gt;HTTP&lt;/code&gt;è¯·æ±‚ï¼Œæ¯æ¬¡éƒ½æŠŠè¯·æ±‚æ”¾åˆ°ä¸€ä¸ªæ¡¶ä¸­ï¼Œç„¶åä»¥å›ºå®šçš„é€Ÿç‡å¤„ç†è¯·æ±‚ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œä¸å¦‚çœ‹ä¸€ä¸ªå›¾åŠ æ·±ç†è§£(å›¾ç‰‡æ¥è‡ªäºç½‘ç»œï¼Œæ‰‹æ®‹å…šä¸ä¼šç”»ï¼Œå¤šå¤šåŒ…æ¶µ)ï¼š&lt;/p&gt;&lt;img data-ratio=&quot;1.3176229508196722&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3chrbsG2ukqH2YliaicwdJibcq8icWRObTT5crsHvaUBic5t9ndGGxRLLYwyg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;488&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸç†å…¶å®å¾ˆç®€å•ï¼Œå°±çœ‹æˆ‘ä»¬æ€ä¹ˆå®ç°å®ƒäº†ï¼Œ&lt;code&gt;uber&lt;/code&gt;å›¢é˜Ÿæœ‰ä¸€ä¸ªå¼€æºçš„&lt;code&gt;uber-go/ratelimit&lt;/code&gt;åº“ï¼Œè¿™ä¸ªåº“å°±æ˜¯æ¼æ¡¶çš„ä¸€ç§å®ç°ï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€çœ‹ä»–çš„å®ç°æ€è·¯ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ ·ä¾‹&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å­¦ä¹ ä¸€ä¸ªæ–°ä¸œè¥¿çš„æ—¶å€™ï¼Œå¾€å¾€æ˜¯ä»ä¼šç”¨å¼€å§‹çš„ï¼Œæ…¢æ…¢æ‰èƒ½æ˜ç™½å…¶å®ç°åŸç†ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™ä¸ªåº“æ˜¯æ€æ ·ä½¿ç”¨çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æä¾›ä¸€ä¸ªå®é™…ä½¿ç”¨ä¾‹å­ï¼Œé…åˆ&lt;code&gt;Gin&lt;/code&gt;æ¡†æ¶ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªé™æµä¸­é—´ä»¶ï¼Œæ¥è¾¾åˆ°è¯·æ±‚é™æµçš„ä½œç”¨ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â å®šä¹‰å…¨å±€é™æµå™¨å¯¹è±¡&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â rateLimitÂ ratelimit.Limiter&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â åœ¨Â gin.HandlerFuncÂ åŠ å…¥é™æµé€»è¾‘&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;leakyBucket&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;gin&lt;/span&gt;.&lt;span&gt;HandlerFunc&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â prevÂ :=Â time.Now()&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;(cÂ *gin.Context)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â nowÂ :=Â rateLimit.Take()&lt;br/&gt;Â Â fmt.Println(now.Sub(prev))Â &lt;span&gt;//Â ä¸ºäº†æ‰“å°æ—¶é—´é—´éš”&lt;/span&gt;&lt;br/&gt;Â Â prevÂ =Â nowÂ &lt;span&gt;//Â è®°å½•ä¸Šä¸€æ¬¡çš„æ—¶é—´ï¼Œæ²¡æœ‰è¿™ä¸ªæ‰“å°çš„ä¼šæœ‰é—®é¢˜&lt;/span&gt;&lt;br/&gt;Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â rateLimitÂ =Â ratelimit.New(&lt;span&gt;10&lt;/span&gt;)&lt;br/&gt;Â rÂ :=Â gin.Default()&lt;br/&gt;Â r.GET(&lt;span&gt;&quot;/ping&quot;&lt;/span&gt;,Â leakyBucket(),Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;(cÂ *gin.Context)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â c.JSON(&lt;span&gt;200&lt;/span&gt;,Â &lt;span&gt;true&lt;/span&gt;)&lt;br/&gt;Â })&lt;br/&gt;Â r.Run()Â &lt;span&gt;//Â listenÂ andÂ serveÂ onÂ 0.0.0.0:8080Â (forÂ windowsÂ &quot;localhost:8080&quot;)&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ç®€å•ä½¿ç”¨å‹æµ‹å·¥å…·&lt;code&gt;ab&lt;/code&gt;æµ‹è¯•ä¸€ä¸‹ï¼š&lt;code&gt;ab -n 10 -c 2 http://127.0.0.1:8080/ping&lt;/code&gt;ï¼Œæ‰§è¡Œç»“æœéƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3687074829931973&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3cuPNpVZHTAJ6bSDPeHCC79oZktdSpbBiaTgPIAWiawypIicd5LGmwcDNvQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;735&quot;/&gt;&lt;/figure&gt;&lt;img data-ratio=&quot;0.7490494296577946&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3cmtHcjFh7L588hQFUGgCynLuSw7v9GMR8fJc2VabFIhkdEiccpDSclhA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;789&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è§‚å¯Ÿç»“æœå¯çŸ¥ï¼Œæ¯æ¬¡å¤„ç†è¯·æ±‚çš„æ—¶é—´é—´éš”æ˜¯10msï¼Œå¹¶ä¸”åé¢çš„è¯·æ±‚è€—æ—¶è¶Šæ¥è¶Šä¹…ï¼Œä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè¿™é‡Œå…ˆå–ä¸ªå°å…³å­ï¼Œçœ‹å®Œ&lt;code&gt;uber&lt;/code&gt;çš„å®ç°ä½ å°±çŸ¥é“äº†ï½&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æºç å®ç°&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹å…¶æ ¸å¿ƒç»“æ„ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â limiterÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â sync.Mutex&lt;br/&gt;Â lastÂ Â Â Â Â Â Â time.Time&lt;br/&gt;Â sleepForÂ Â Â time.Duration&lt;br/&gt;Â perRequestÂ time.Duration&lt;br/&gt;Â maxSlackÂ Â Â time.Duration&lt;br/&gt;Â clockÂ Â Â Â Â Â Clock&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â LimiterÂ &lt;span&gt;interface&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;//Â TakeÂ shouldÂ blockÂ toÂ makeÂ sureÂ thatÂ theÂ RPSÂ isÂ met.&lt;/span&gt;&lt;br/&gt;Â Take()Â time.Time&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™åˆ¶å™¨æ¥å£åªæä¾›äº†ä¸€ä¸ªæ–¹æ³•&lt;code&gt;take()&lt;/code&gt;ï¼Œ&lt;code&gt;take()&lt;/code&gt;æ–¹æ³•ä¼šé˜»å¡ç¡®ä¿ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´çš„æ—¶é—´èµ°å®Œï¼Œå…·ä½“å®ç°æˆ‘ä»¬åœ¨ä¸‹é¢è¿›è¡Œåˆ†æã€‚å®ç°é™åˆ¶å™¨æ¥å£çš„ç»“æ„ä½“ä¸­å„ä¸ªå­—æ®µçš„æ„ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;sync.Mutext&lt;/code&gt;ï¼šäº’æ–¥é”ï¼Œæ§åˆ¶å¹¶å‘çš„ä½œç”¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;last&lt;/code&gt;ï¼šè®°å½•ä¸Šä¸€æ¬¡çš„æ—¶åˆ»&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;sleepFor&lt;/code&gt;ï¼šè·ç¦»å¤„ç†ä¸‹ä¸€æ¬¡è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;perRequest&lt;/code&gt;ï¼šæ¯æ¬¡è¯·æ±‚çš„æ—¶é—´é—´éš”&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;maxSlack&lt;/code&gt;ï¼šæœ€å¤§æ¾å¼›é‡ï¼Œç”¨æ¥è§£å†³çªå‘æµé‡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;clock&lt;/code&gt;ï¼šä¸€ä¸ªæ—¶é’Ÿæˆ–æ¨¡æ‹Ÿæ—¶é’Ÿï¼Œæä¾›äº†&lt;code&gt;now&lt;/code&gt;å’Œ&lt;code&gt;sleep&lt;/code&gt;æ–¹æ³•ï¼Œæ˜¯å®ä¾‹åŒ–é€Ÿç‡é™åˆ¶å™¨&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦æ˜¯ç”¨è¯¥é™åˆ¶å™¨ï¼Œé¦–å…ˆéœ€è¦é€šè¿‡&lt;code&gt;New&lt;/code&gt;æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸€ä¸ªå¿…ä¼ çš„å‚æ•°æ˜¯&lt;code&gt;rate&lt;/code&gt;ï¼Œä»£è¡¨çš„æ˜¯æ¯ç§’è¯·æ±‚é‡(RPS)ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå‚æ•°ç±»å‹&lt;code&gt;option&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰&lt;code&gt;limit&lt;/code&gt;ï¼Œä¸è¿‡ä¸€èˆ¬ä½¿ç”¨åœºæ™¯ä¸å¤šï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚æˆ‘ä¸»è¦çœ‹ä¸€ä¸‹ä»–æ˜¯æ€ä¹ˆä¿è¯å›ºå®šé€Ÿç‡çš„ï¼Œæˆªå–&lt;code&gt;New&lt;/code&gt;æ–¹æ³•éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;lÂ :=Â &amp;amp;limiter{&lt;br/&gt;Â Â perRequest:Â time.SecondÂ /Â time.Duration(rate),&lt;br/&gt;Â Â maxSlack:Â Â Â &lt;span&gt;-10&lt;/span&gt;Â *Â time.SecondÂ /Â time.Duration(rate),&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹æ®æˆ‘ä»¬ä¼ å…¥çš„è¯·æ±‚æ•°é‡ï¼Œèƒ½è®¡ç®—å‡º&lt;code&gt;1&lt;/code&gt;så†…è¦é€šè¿‡&lt;code&gt;n&lt;/code&gt;ä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚ä¹‹é—´çš„é—´éš”æ—¶é—´æ˜¯å¤šå°‘ï¼Œè¿™æ ·åœ¨&lt;code&gt;take&lt;/code&gt;æ–¹æ³•ä¸­å°±å¯ä»¥æ ¹æ®è¿™ä¸ªå­—æ®µæ¥å¤„ç†è¯·æ±‚çš„å›ºå®šé€Ÿç‡é—®é¢˜ï¼Œè¿™é‡Œè¿˜åˆå§‹åŒ–äº†æœ€å¤§æ¾å¼›åŒ–å­—æ®µï¼Œä»–çš„å€¼æ˜¯è´Ÿæ•°ï¼Œé»˜è®¤æœ€å¤§æ¾å¼›é‡æ˜¯10ä¸ªè¯·æ±‚çš„æ—¶é—´é—´éš”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬ä¸»è¦çœ‹ä¸€ä¸‹&lt;code&gt;take&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(tÂ *limiter)&lt;/span&gt;Â &lt;span&gt;Take&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;time&lt;/span&gt;.&lt;span&gt;Time&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â t.Lock()&lt;br/&gt;Â &lt;span&gt;defer&lt;/span&gt;Â t.Unlock()&lt;br/&gt;Â nowÂ :=Â t.clock.Now()&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â t.last.IsZero()Â {&lt;br/&gt;Â Â t.lastÂ =Â now&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â t.last&lt;br/&gt;Â }&lt;br/&gt;Â t.sleepForÂ +=Â t.perRequestÂ -Â now.Sub(t.last)&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â t.sleepForÂ &amp;lt;Â t.maxSlackÂ {&lt;br/&gt;Â Â t.sleepForÂ =Â t.maxSlack&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â t.sleepForÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â t.clock.Sleep(t.sleepFor)&lt;br/&gt;Â Â t.lastÂ =Â now.Add(t.sleepFor)&lt;br/&gt;Â Â t.sleepForÂ =Â &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â t.lastÂ =Â now&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â t.last&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;take()&lt;/code&gt;æ–¹æ³•çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸ºäº†æ§åˆ¶å¹¶å‘ï¼Œæ‰€ä»¥è¿›å…¥è¯¥æ–¹æ³•å°±éœ€è¦è¿›è¡Œä¸Šé”ï¼Œè¯¥é”çš„ç²’åº¦æ¯”è¾ƒå¤§ï¼Œæ•´ä¸ªæ–¹æ³•éƒ½åŠ ä¸Šäº†é”&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é€šè¿‡&lt;code&gt;IsZero&lt;/code&gt;æ–¹æ³•æ¥åˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œç›´æ¥å–&lt;code&gt;now&lt;/code&gt;æ—¶é—´å³å¯è¿”å›ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœä¸æ˜¯ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå°±éœ€è¦è®¡ç®—è·ç¦»å¤„ç†ä¸‹ä¸€æ¬¡è¯·æ±‚éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªè¦æ³¨æ„ç‚¹çš„æ˜¯ç´¯åŠ éœ€è¦ç­‰å¾…çš„æ—¶é—´ï¼Œç›®çš„æ˜¯å¯ä»¥ç»™åé¢çš„æŠµæ¶ˆä½¿ç”¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœå½“å‰ç´¯åŠ éœ€è¦ç­‰å¾…çš„æ—¶é—´å¤§äºæœ€å¤§æ¾å¼›é‡äº†ï¼Œå°†ç­‰å¾…çš„æ—¶é—´è®¾ç½®ä¸ºæœ€å¤§æ¾å¼›é‡çš„æ—¶é—´ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœå½“å‰è¯·æ±‚å¤šä½™çš„æ—¶é—´æ— æ³•å®Œå…¨æŠµæ¶ˆæ­¤æ¬¡çš„æ‰€éœ€é‡ï¼Œè°ƒç”¨&lt;code&gt;sleep&lt;/code&gt;æ–¹æ³•è¿›è¡Œé˜»å¡ï¼ŒåŒæ—¶æ¸…ç©ºç­‰å¾…çš„æ—¶é—´ã€‚å¦‚æœ&lt;code&gt;sleepFor&lt;/code&gt;å°äº0ï¼Œè¯´æ˜æ­¤æ¬¡è¯·æ±‚æ—¶é—´é—´éš”å¤§äºé¢„æœŸé—´éš”ï¼Œä¹Ÿå°±è¯´æ— éœ€ç­‰å¾…å¯ä»¥ç›´æ¥å¤„ç†è¯·æ±‚ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¥éª¤å…¶å®ä¸æ˜¯å¾ˆå¤šï¼Œä¸»è¦éœ€è¦æ³¨æ„ä¸€ä¸ªçŸ¥è¯†ç‚¹ â€”â€” æœ€å¤§æ¾å¼›é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¼æ¡¶ç®—æ³•æœ‰ä¸ªå¤©ç„¶ç¼ºé™·å°±æ˜¯æ— æ³•åº”å¯¹çªå‘æµé‡ï¼ˆåŒ€é€Ÿï¼Œä¸¤æ¬¡è¯·æ±‚ &lt;code&gt;req1&lt;/code&gt; å’Œ &lt;code&gt;req2&lt;/code&gt; ä¹‹é—´çš„å»¶è¿Ÿè‡³å°‘åº”è¯¥ &lt;code&gt;&amp;gt;=perRequest&lt;/code&gt;)ï¼Œä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼šå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸‰ä¸ªè¯·æ±‚&lt;code&gt;req1&lt;/code&gt;ã€&lt;code&gt;req2&lt;/code&gt;ã€&lt;code&gt;req3&lt;/code&gt;æŒ‰é¡ºåºå¤„ç†ï¼Œæ¯ä¸ªè¯·æ±‚å¤„ç†é—´éš”ä¸º100msï¼Œ&lt;code&gt;req1&lt;/code&gt;è¯·æ±‚å¤„ç†å®Œæˆä¹‹å150msï¼Œ&lt;code&gt;req2&lt;/code&gt;è¯·æ±‚åˆ°æ¥ï¼Œä¾æ®é™é€Ÿç­–ç•¥å¯ä»¥å¯¹ &lt;code&gt;req2&lt;/code&gt; ç«‹å³å¤„ç†ï¼Œå½“ &lt;code&gt;req2&lt;/code&gt; å®Œæˆåï¼Œ&lt;code&gt;50ms&lt;/code&gt; åï¼Œ &lt;code&gt;req3&lt;/code&gt; åˆ°æ¥ï¼Œè¿™ä¸ªæ—¶å€™è·ç¦»ä¸Šæ¬¡è¯·æ±‚è¿˜ä¸è¶³ &lt;code&gt;100ms&lt;/code&gt;ï¼Œå› æ­¤è¿˜éœ€è¦ç­‰å¾… &lt;code&gt;50ms&lt;/code&gt; æ‰èƒ½ç»§ç»­æ‰§è¡Œ, ä½†æ˜¯ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œå®é™…ä¸Šè¿™ä¸‰ä¸ªè¯·æ±‚ä¸€å…±æ¶ˆè€—äº† &lt;code&gt;250ms&lt;/code&gt; æ‰å®Œæˆï¼Œå¹¶ä¸æ˜¯é¢„æœŸçš„ &lt;code&gt;200ms&lt;/code&gt;ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.36585365853658536&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3cUaL5fBcZbqtpjElkH1gn4OUdJ0BGXeV8TibYQv3N4VS1brTnjDh0L5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;656&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºä¸Šé¢è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¹‹å‰é—´éš”æ¯”è¾ƒé•¿çš„è¯·æ±‚çš„æ—¶é—´åŒ€ç»™åé¢çš„è¯·æ±‚åˆ¤æ–­é™æµæ—¶ä½¿ç”¨ï¼Œå‡å°‘è¯·æ±‚ç­‰å¾…çš„æ—¶é—´äº†ï¼Œä½†æ˜¯å½“ä¸¤ä¸ªè¯·æ±‚ä¹‹é—´åˆ°è¾¾çš„é—´éš”æ¯”è¾ƒå¤§æ—¶ï¼Œå°±ä¼šäº§ç”Ÿå¾ˆå¤§çš„å¯æŠµæ¶ˆæ—¶é—´ï¼Œä»¥è‡³äºåé¢å¤§é‡è¯·æ±‚ç¬é—´åˆ°è¾¾æ—¶ï¼Œä¹Ÿæ— æ³•æŠµæ¶ˆè¿™ä¸ªæ—¶é—´ï¼Œé‚£æ ·å°±å·²ç»å¤±å»äº†é™æµçš„æ„ä¹‰ï¼Œæ‰€ä»¥å¼•å…¥äº†æœ€å¤§æ¾å¼›é‡ (maxSlack) çš„æ¦‚å¿µ, è¯¥å€¼ä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå…è®¸æŠµæ¶ˆçš„æœ€é•¿æ—¶é—´ï¼Œé˜²æ­¢ä»¥ä¸Šæƒ…å†µçš„å‡ºç°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå°±æ˜¯æ¼æ¡¶å®ç°çš„åŸºæœ¬æ€è·¯äº†ï¼Œæ•´ä½“è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œä½ å­¦ä¼šäº†å—ï¼Ÿ&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä»¤ç‰Œæ¡¶ç®—æ³•&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¤ç‰Œæ¡¶å…¶å®å’Œæ¼æ¡¶çš„åŸç†ç±»ä¼¼ï¼Œä»¤ç‰Œæ¡¶å°±æ˜¯æƒ³è±¡æœ‰ä¸€ä¸ªå›ºå®šå¤§å°çš„æ¡¶ï¼Œç³»ç»Ÿä¼šä»¥æ’å®šé€Ÿç‡å‘æ¡¶ä¸­æ”¾ Tokenï¼Œæ¡¶æ»¡åˆ™æš‚æ—¶ä¸æ”¾ã€‚ä»ç½‘ä¸Šæ‰¾äº†å›¾ï¼Œè¡¨è¿°éå¸¸æ°å½“ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.47368421052631576&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3crxfSWBTvxFvc3nibia41UqHe4ibNGSAnTgafHwkRGa26h2WuO7x122oIw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;532&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºä»¤ç‰Œæ¡¶é™æµç®—æ³•çš„å®ç°ï¼Œ&lt;code&gt;Github&lt;/code&gt;æœ‰ä¸€ä¸ªé«˜æ•ˆçš„åŸºäºä»¤ç‰Œæ¡¶é™æµç®—æ³•å®ç°çš„é™æµåº“ï¼š&lt;code&gt;github.com/juju/ratelimit&lt;/code&gt;ï¼Œ&lt;code&gt;Golang&lt;/code&gt;çš„&lt;code&gt;timer/rate&lt;/code&gt;ä¹Ÿæ˜¯ä»¤ç‰Œæ¡¶çš„ä¸€ç§å®ç°ï¼Œæœ¬æ–‡å°±ä¸ä»‹ç»&lt;code&gt;juju/ratelimit&lt;/code&gt;åº“äº†ï¼Œæœ‰å…´è¶£çš„è‡ªå·±å­¦ä¹ ä¸€ä¸‹çš„ä»–çš„å®ç°æ€æƒ³å§ï¼Œæˆ‘ä»¬ä¸»è¦æ¥çœ‹ä¸€çœ‹&lt;code&gt;time/rate&lt;/code&gt;æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ ·ä¾‹&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜æ˜¯è€æ ·å­ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç»“åˆ&lt;code&gt;gin&lt;/code&gt;å†™ä¸€ä¸ªé™æµä¸­é—´ä»¶çœ‹çœ‹ä»–æ˜¯æ€ä¹ˆä½¿ç”¨çš„ï¼Œä¾‹å­å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br/&gt;Â &lt;span&gt;&quot;net/http&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;time&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/gin-gonic/gin&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;golang.org/x/time/rate&quot;&lt;/span&gt;&lt;br/&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â rateLimitÂ *rate.Limiter&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;tokenBucket&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;gin&lt;/span&gt;.&lt;span&gt;HandlerFunc&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;(cÂ *gin.Context)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â rateLimit.Allow()Â {&lt;br/&gt;Â Â Â c.String(http.StatusOK,Â &lt;span&gt;&quot;rateÂ limit,Drop&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â c.Abort()&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â c.Next()&lt;br/&gt;Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â limitÂ :=Â rate.Every(&lt;span&gt;100&lt;/span&gt;Â *Â time.Millisecond)&lt;br/&gt;Â rateLimitÂ =Â rate.NewLimiter(limit,Â &lt;span&gt;10&lt;/span&gt;)&lt;br/&gt;Â rÂ :=Â gin.Default()&lt;br/&gt;Â r.GET(&lt;span&gt;&quot;/ping&quot;&lt;/span&gt;,Â tokenBucket(),Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;(cÂ *gin.Context)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â c.JSON(&lt;span&gt;200&lt;/span&gt;,Â &lt;span&gt;true&lt;/span&gt;)&lt;br/&gt;Â })&lt;br/&gt;Â r.Run()Â &lt;span&gt;//Â listenÂ andÂ serveÂ onÂ 0.0.0.0:8080Â (forÂ windowsÂ &quot;localhost:8080&quot;)&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬é¦–å…ˆè°ƒç”¨&lt;code&gt;NewLimiter&lt;/code&gt;æ–¹æ³•æ„é€ ä¸€ä¸ªé™æµå™¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯&lt;code&gt;r limit&lt;/code&gt;ï¼Œä»£è¡¨æ¯ç§’å¯ä»¥å‘&lt;code&gt;Token&lt;/code&gt;æ¡¶ä¸­äº§ç”Ÿå¤šå°‘&lt;code&gt;token&lt;/code&gt;ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯&lt;code&gt;b int&lt;/code&gt;ï¼Œä»£è¡¨&lt;code&gt;Token&lt;/code&gt;æ¡¶çš„å®¹é‡å¤§å°ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œè¡¨ç¤ºæ¯&lt;code&gt;100ms&lt;/code&gt;å¾€æ¡¶ä¸­æ”¾ä¸€ä¸ª&lt;code&gt;token&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;1s&lt;/code&gt;é’Ÿäº§ç”Ÿ&lt;code&gt;10&lt;/code&gt;ä¸ªï¼Œæ¡¶çš„å®¹é‡å°±æ˜¯&lt;code&gt;10&lt;/code&gt;ã€‚æ¶ˆè´¹&lt;code&gt;token&lt;/code&gt;çš„æ–¹æ³•è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;Allow&lt;/code&gt;æ–¹æ³•ï¼ŒAllow å®é™…ä¸Šå°±æ˜¯ &lt;code&gt;AllowN(time.Now(),1)&lt;/code&gt;ï¼Œ&lt;code&gt;AllowN&lt;/code&gt;æ–¹æ³•è¡¨ç¤ºï¼Œæˆªæ­¢åˆ°æŸä¸€æ—¶åˆ»ï¼Œç›®å‰æ¡¶ä¸­æ•°ç›®æ˜¯å¦è‡³å°‘ä¸º &lt;code&gt;n&lt;/code&gt; ä¸ªï¼Œæ»¡è¶³åˆ™è¿”å› &lt;code&gt;true&lt;/code&gt;ï¼ŒåŒæ—¶ä»æ¡¶ä¸­æ¶ˆè´¹ &lt;code&gt;n&lt;/code&gt;ä¸ª &lt;code&gt;token&lt;/code&gt;ã€‚åä¹‹è¿”å›ä¸æ¶ˆè´¹ &lt;code&gt;Token&lt;/code&gt;ã€‚å¯¹åº”ä¸Šé¢çš„ä¾‹å­ï¼Œå½“æ¡¶ä¸­çš„æ•°ç›®ä¸è¶³äº&lt;code&gt;1&lt;/code&gt;ä¸ªæ—¶ï¼Œå°±ä¼šä¸¢æ‰è¯¥è¯·æ±‚ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æºç å‰–æ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;Limitç±»å‹&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;time/rate&lt;/code&gt;è‡ªå®šä¹‰äº†ä¸€ä¸ª&lt;code&gt;limit&lt;/code&gt;ç±»å‹ï¼Œå…¶å®ä»–æœ¬è´¨å°±æ˜¯&lt;code&gt;float64&lt;/code&gt;çš„åˆ«åï¼Œ&lt;code&gt;Limit&lt;/code&gt;å®šäº†äº‹ä»¶çš„æœ€å¤§é¢‘ç‡ï¼Œè¡¨ç¤ºæ¯ç§’äº‹ä»¶çš„æ•°æ®é‡ï¼Œ0å°±è¡¨ç¤ºæ— é™åˆ¶ã€‚&lt;code&gt;Inf&lt;/code&gt;æ˜¯æ— é™çš„é€Ÿç‡é™åˆ¶ï¼›å®ƒå…è®¸æ‰€æœ‰äº‹ä»¶(å³ä½¿çªå‘ä¸º0)ã€‚è¿˜æä¾›&lt;code&gt;Every&lt;/code&gt; æ–¹æ³•æ¥æŒ‡å®šå‘&lt;code&gt;Token&lt;/code&gt; æ¡¶ä¸­æ”¾ç½®&lt;code&gt;Token&lt;/code&gt; çš„é—´éš”ï¼Œè®¡ç®—å‡ºæ¯ç§’æ—¶é—´çš„æ•°æ®é‡ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â LimitÂ &lt;span&gt;float64&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â InfÂ isÂ theÂ infiniteÂ rateÂ limit;Â itÂ allowsÂ allÂ eventsÂ (evenÂ ifÂ burstÂ isÂ zero).&lt;/span&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â InfÂ =Â Limit(math.MaxFloat64)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â EveryÂ convertsÂ aÂ minimumÂ timeÂ intervalÂ betweenÂ eventsÂ toÂ aÂ Limit.&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;Every&lt;/span&gt;&lt;span&gt;(intervalÂ time.Duration)&lt;/span&gt;Â &lt;span&gt;Limit&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â intervalÂ &amp;lt;=Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â Inf&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;Â /Â Limit(interval.Seconds())&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;code&gt;Limiter&lt;/code&gt;ç»“æ„ä½“&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â LimiterÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â muÂ Â Â Â Â sync.Mutex&lt;br/&gt;Â limitÂ Â Limit&lt;br/&gt;Â burstÂ Â &lt;span&gt;int&lt;/span&gt;&lt;br/&gt;Â tokensÂ &lt;span&gt;float64&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//Â lastÂ isÂ theÂ lastÂ timeÂ theÂ limiter&#x27;sÂ tokensÂ fieldÂ wasÂ updated&lt;/span&gt;&lt;br/&gt;Â lastÂ time.Time&lt;br/&gt;Â &lt;span&gt;//Â lastEventÂ isÂ theÂ latestÂ timeÂ ofÂ aÂ rate-limitedÂ eventÂ (pastÂ orÂ future)&lt;/span&gt;&lt;br/&gt;Â lastEventÂ time.Time&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å„ä¸ªå­—æ®µå«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;mu&lt;/code&gt;ï¼šäº’æ–¥é”ã€ä¸ºäº†æ§åˆ¶å¹¶å‘&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;limit&lt;/code&gt;ï¼šæ¯ç§’å…è®¸å¤„ç†çš„äº‹ä»¶æ•°é‡ï¼Œå³æ¯ç§’å¤„ç†äº‹ä»¶çš„é¢‘ç‡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;burst&lt;/code&gt;ï¼šä»¤ç‰Œæ¡¶çš„æœ€å¤§æ•°é‡ï¼Œå¦‚æœ&lt;code&gt;burst&lt;/code&gt;ä¸º0ï¼Œå¹¶ä¸”limit == Infï¼Œåˆ™å…è®¸å¤„ç†ä»»ä½•äº‹ä»¶ï¼Œå¦åˆ™ä¸å…è®¸&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;tokens&lt;/code&gt;ï¼šä»¤ç‰Œæ¡¶ä¸­å¯ç”¨çš„ä»¤ç‰Œæ•°é‡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;last&lt;/code&gt;ï¼šè®°å½•ä¸Šæ¬¡limiterçš„tokensè¢«æ›´æ–°çš„æ—¶é—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;lastEvent&lt;/code&gt;ï¼š&lt;code&gt;lastEvent&lt;/code&gt;è®°å½•é€Ÿç‡å—é™åˆ¶(æ¡¶ä¸­æ²¡æœ‰ä»¤ç‰Œ)çš„æ—¶é—´ç‚¹ï¼Œè¯¥æ—¶é—´ç‚¹å¯èƒ½æ˜¯è¿‡å»çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯å°†æ¥çš„(&lt;code&gt;Reservation&lt;/code&gt;é¢„å®šçš„ç»“æŸæ—¶é—´ç‚¹)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;code&gt;Reservation&lt;/code&gt;ç»“æ„ä½“&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â ReservationÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â okÂ Â Â Â Â Â Â Â &lt;span&gt;bool&lt;/span&gt;&lt;br/&gt;Â limÂ Â Â Â Â Â Â *Limiter&lt;br/&gt;Â tokensÂ Â Â Â &lt;span&gt;int&lt;/span&gt;&lt;br/&gt;Â timeToActÂ time.Time&lt;br/&gt;Â &lt;span&gt;//Â ThisÂ isÂ theÂ LimitÂ atÂ reservationÂ time,Â itÂ canÂ changeÂ later.&lt;/span&gt;&lt;br/&gt;Â limitÂ Limit&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å„ä¸ªå­—æ®µå«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;ok&lt;/code&gt;ï¼šåˆ°æˆªè‡³æ—¶é—´æ˜¯å¦å¯ä»¥è·å–è¶³å¤Ÿçš„ä»¤ç‰Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;lim&lt;/code&gt;ï¼š&lt;code&gt;limiter&lt;/code&gt;å¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;tokens&lt;/code&gt;ï¼šéœ€è¦è·å–çš„ä»¤ç‰Œæ•°é‡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;timeToAct&lt;/code&gt;ï¼šéœ€è¦ç­‰å¾…çš„æ—¶é—´ç‚¹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;limit&lt;/code&gt;ï¼šä»£è¡¨é¢„å®šçš„æ—¶é—´ï¼Œæ˜¯å¯ä»¥æ›´æ”¹çš„ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;reservation&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªé¢„å®šä»¤ç‰Œçš„æ“ä½œï¼Œ&lt;code&gt;timeToAct&lt;/code&gt;æ˜¯æœ¬æ¬¡é¢„çº¦éœ€è¦ç­‰å¾…åˆ°çš„æŒ‡å®šæ—¶é—´ç‚¹æ‰æœ‰è¶³å¤Ÿé¢„çº¦çš„ä»¤ç‰Œã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;code&gt;Limiter&lt;/code&gt;æ¶ˆè´¹token&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Limite&lt;/code&gt;ræœ‰ä¸‰ä¸ª&lt;code&gt;token&lt;/code&gt;çš„æ¶ˆè´¹æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯&lt;code&gt;Allow&lt;/code&gt;ã€&lt;code&gt;Reserve&lt;/code&gt;å’Œ&lt;code&gt;Wait&lt;/code&gt;ï¼Œæœ€ç»ˆä¸‰ç§æ¶ˆè´¹æ–¹å¼éƒ½è°ƒç”¨äº†&lt;code&gt;reserveN&lt;/code&gt; ã€&lt;code&gt;advance&lt;/code&gt;è¿™ä¸¤ä¸ªæ–¹æ³•æ¥ç”Ÿæˆå’Œæ¶ˆè´¹ &lt;code&gt;Token&lt;/code&gt;ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸»è¦çœ‹çœ‹&lt;code&gt;reserveN&lt;/code&gt;ã€&lt;code&gt;advance&lt;/code&gt;å‡½æ•°çš„å…·ä½“å®ç°ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(limÂ *Limiter)&lt;/span&gt;Â &lt;span&gt;advance&lt;/span&gt;&lt;span&gt;(nowÂ time.Time)&lt;/span&gt;Â &lt;span&gt;(newNowÂ time.Time,Â newLastÂ time.Time,Â newTokensÂ &lt;span&gt;float64&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;//lastä¸èƒ½åœ¨å½“å‰æ—¶é—´nowä¹‹åï¼Œå¦åˆ™è®¡ç®—å‡ºæ¥çš„elapsedä¸ºè´Ÿæ•°ï¼Œä¼šå¯¼è‡´ä»¤ç‰Œæ¡¶æ•°é‡å‡å°‘&lt;/span&gt;&lt;br/&gt;Â Â lastÂ :=Â lim.last&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â now.Before(last)Â {&lt;br/&gt;Â Â lastÂ =Â now&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//æ ¹æ®ä»¤ç‰Œæ¡¶çš„ç¼ºæ•°è®¡ç®—å‡ºä»¤ç‰Œæ¡¶æœªè¿›è¡Œæ›´æ–°çš„æœ€å¤§æ—¶é—´&lt;/span&gt;&lt;br/&gt;Â maxElapsedÂ :=Â lim.limit.durationFromTokens(&lt;span&gt;float64&lt;/span&gt;(lim.burst)Â -Â lim.tokens)&lt;br/&gt;Â elapsedÂ :=Â now.Sub(last)Â &lt;span&gt;//ä»¤ç‰Œæ¡¶æœªè¿›è¡Œæ›´æ–°çš„æ—¶é—´æ®µ&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â elapsedÂ &amp;gt;Â maxElapsedÂ {&lt;br/&gt;Â Â elapsedÂ =Â maxElapsed&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//æ ¹æ®æœªæ›´æ–°çš„æ—¶é—´(æœªå‘æ¡¶ä¸­åŠ å…¥ä»¤ç‰Œçš„æ—¶é—´æ®µ)è®¡ç®—å‡ºäº§ç”Ÿçš„ä»¤ç‰Œæ•°&lt;/span&gt;&lt;br/&gt;Â deltaÂ :=Â lim.limit.tokensFromDuration(elapsed)&lt;br/&gt;Â tokensÂ :=Â lim.tokensÂ +Â deltaÂ &lt;span&gt;//è®¡ç®—å‡ºå¯ç”¨çš„ä»¤ç‰Œæ•°&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â burstÂ :=Â &lt;span&gt;float64&lt;/span&gt;(lim.burst);Â tokensÂ &amp;gt;Â burstÂ {&lt;br/&gt;Â Â tokensÂ =Â burst&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â now,Â last,Â tokens&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;advance&lt;/code&gt;æ–¹æ³•çš„ä½œç”¨æ˜¯æ›´æ–°ä»¤ç‰Œæ¡¶çš„çŠ¶æ€ï¼Œè®¡ç®—å‡ºä»¤ç‰Œæ¡¶æœªæ›´æ–°çš„æ—¶é—´(elapsed)ï¼Œæ ¹æ®&lt;code&gt;elapsed&lt;/code&gt;ç®—å‡ºéœ€è¦å‘æ¡¶ä¸­åŠ å…¥çš„ä»¤ç‰Œæ•°&lt;code&gt;delta&lt;/code&gt;ï¼Œç„¶åç®—å‡ºæ¡¶ä¸­å¯ç”¨çš„ä»¤ç‰Œæ•°&lt;code&gt;newTokens&lt;/code&gt;.&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;reserveN&lt;/code&gt;æ–¹æ³•çš„å®ç°ï¼š&lt;code&gt;reserveN&lt;/code&gt;æ˜¯&lt;code&gt;AllowN&lt;/code&gt;,&lt;code&gt;ReserveN&lt;/code&gt;åŠ&lt;code&gt;WaitN&lt;/code&gt;çš„è¾…åŠ©æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­åœ¨&lt;code&gt;maxFutureReserve&lt;/code&gt;æ—¶é—´å†…æ˜¯å¦æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â @paramÂ nÂ è¦æ¶ˆè´¹çš„tokenæ•°é‡&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//Â @paramÂ maxFutureReserveÂ æ„¿æ„ç­‰å¾…çš„æœ€é•¿æ—¶é—´&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(limÂ *Limiter)&lt;/span&gt;Â &lt;span&gt;reserveN&lt;/span&gt;&lt;span&gt;(nowÂ time.Time,Â nÂ &lt;span&gt;int&lt;/span&gt;,Â maxFutureReserveÂ time.Duration)&lt;/span&gt;Â &lt;span&gt;Reservation&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â lim.mu.Lock()&lt;br/&gt;Â &lt;span&gt;//Â å¦‚æœæ²¡æœ‰é™åˆ¶&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â lim.limitÂ ==Â InfÂ {&lt;br/&gt;Â Â lim.mu.Unlock()&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â Reservation{&lt;br/&gt;Â Â Â ok:Â Â Â Â Â Â Â Â &lt;span&gt;true&lt;/span&gt;,Â &lt;span&gt;//æ¡¶ä¸­æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œ&lt;/span&gt;&lt;br/&gt;Â Â Â lim:Â Â Â Â Â Â Â lim,&lt;br/&gt;Â Â Â tokens:Â Â Â Â n,&lt;br/&gt;Â Â Â timeToAct:Â now,&lt;br/&gt;Â Â }&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;//æ›´æ–°ä»¤ç‰Œæ¡¶çš„çŠ¶æ€ï¼Œtokensä¸ºç›®å‰å¯ç”¨çš„ä»¤ç‰Œæ•°é‡&lt;/span&gt;&lt;br/&gt;Â now,Â last,Â tokensÂ :=Â lim.advance(now)&lt;br/&gt;Â Â &lt;span&gt;//Â è®¡ç®—å–å®Œä¹‹åæ¡¶è¿˜èƒ½å‰©èƒ½ä¸‹å¤šå°‘token&lt;/span&gt;&lt;br/&gt;Â tokensÂ -=Â &lt;span&gt;float64&lt;/span&gt;(n)&lt;br/&gt;Â &lt;span&gt;var&lt;/span&gt;Â waitDurationÂ time.Duration&lt;br/&gt;Â Â &lt;span&gt;//Â å¦‚æœtokenÂ &amp;lt;Â 0,Â è¯´æ˜ç›®å‰çš„tokenä¸å¤Ÿï¼Œéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â tokensÂ &amp;lt;Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â waitDurationÂ =Â lim.limit.durationFromTokens(-tokens)&lt;br/&gt;Â }&lt;br/&gt;Â okÂ :=Â nÂ &amp;lt;=Â lim.burstÂ &amp;amp;&amp;amp;Â waitDurationÂ &amp;lt;=Â maxFutureReserve&lt;br/&gt;Â rÂ :=Â Reservation{&lt;br/&gt;Â Â ok:Â Â Â Â ok,&lt;br/&gt;Â Â lim:Â Â Â lim,&lt;br/&gt;Â Â limit:Â lim.limit,&lt;br/&gt;Â }&lt;br/&gt;Â Â &lt;span&gt;//Â timeToActè¡¨ç¤ºå½“æ¡¶ä¸­æ»¡è¶³tokenæ•°ç›®ç­‰äºnçš„æ—¶é—´&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â okÂ {&lt;br/&gt;Â Â r.tokensÂ =Â n&lt;br/&gt;Â Â r.timeToActÂ =Â now.Add(waitDuration)&lt;br/&gt;Â }&lt;br/&gt;Â Â &lt;span&gt;//Â æ›´æ–°æ¡¶é‡Œé¢çš„tokenæ•°ç›®&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//Â æ›´æ–°lastæ—¶é—´&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//Â lastEvent&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â okÂ {&lt;br/&gt;Â Â lim.lastÂ =Â now&lt;br/&gt;Â Â lim.tokensÂ =Â tokens&lt;br/&gt;Â Â lim.lastEventÂ =Â r.timeToAct&lt;br/&gt;Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â lim.lastÂ =Â last&lt;br/&gt;Â }&lt;br/&gt;Â lim.mu.Unlock()&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â r&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„ä»£ç æˆ‘å·²ç»è¿›è¡Œäº†æ³¨é‡Šï¼Œè¿™é‡Œåœ¨æ€»ç»“ä¸€ä¸‹æµç¨‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é¦–é€‰åˆ¤æ–­æ˜¯å¦æ‹¥æœ‰é€Ÿç‡é™åˆ¶ï¼Œæ²¡æœ‰é€Ÿç‡é™åˆ¶ä¹Ÿå°±æ˜¯æ¡¶ä¸­ä¸€è‡´æ‹¥æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¡ç®—ä»ä¸Šæ¬¡å– Token çš„æ—¶é—´åˆ°å½“å‰æ—¶åˆ»ï¼ŒæœŸé—´ä¸€å…±æ–°äº§ç”Ÿäº†å¤šå°‘ &lt;code&gt;Token&lt;/code&gt;ï¼šæˆ‘ä»¬åªåœ¨å–&lt;code&gt;Token&lt;/code&gt; ä¹‹å‰ç”Ÿæˆæ–°çš„&lt;code&gt;Token&lt;/code&gt;ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯æ¬¡å–&lt;code&gt;Token&lt;/code&gt;çš„é—´éš”ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ç”Ÿæˆ &lt;code&gt;Token&lt;/code&gt; çš„é—´éš”ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ &lt;code&gt;tokensFromDuration&lt;/code&gt;, è½»æ˜“çš„ç®—å‡ºè¿™æ®µæ—¶é—´ä¸€å…±äº§ç”Ÿ &lt;code&gt;Token&lt;/code&gt; çš„æ•°ç›®ã€‚æ‰€ä»¥å½“å‰ &lt;code&gt;Token&lt;/code&gt; æ•°ç›® = æ–°äº§ç”Ÿçš„&lt;code&gt;Token&lt;/code&gt; æ•°ç›® + ä¹‹å‰å‰©ä½™çš„ &lt;code&gt;Token&lt;/code&gt; æ•°ç›® - è¦æ¶ˆè´¹çš„&lt;code&gt;Token&lt;/code&gt; æ•°ç›®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœæ¶ˆè´¹åå‰©ä½™ Token æ•°ç›®å¤§äºé›¶ï¼Œè¯´æ˜æ­¤æ—¶ Token æ¡¶å†…ä»ä¸ä¸ºç©ºï¼Œæ­¤æ—¶ Token å……è¶³ï¼Œæ— éœ€è°ƒç”¨ä¾§ç­‰å¾…ã€‚å¦‚æœ Token æ•°ç›®å°äºé›¶ï¼Œåˆ™éœ€ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ &lt;code&gt;durationFromTokens&lt;/code&gt; å°†å½“å‰è´Ÿå€¼çš„ Token æ•°è½¬åŒ–ä¸ºéœ€è¦ç­‰å¾…çš„æ—¶é—´ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å°†éœ€è¦ç­‰å¾…çš„æ—¶é—´ç­‰ç›¸å…³ç»“æœè¿”å›ç»™è°ƒç”¨æ–¹&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯åˆ©ç”¨äº† &lt;strong&gt;Token æ•°å¯ä»¥å’Œæ—¶é—´ç›¸äº’è½¬åŒ–&lt;/strong&gt; çš„åŸç†ã€‚è€Œå¦‚æœ Token æ•°ä¸ºè´Ÿï¼Œåˆ™éœ€è¦ç­‰å¾…ç›¸åº”æ—¶é—´å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢æåˆ°äº†&lt;code&gt;durationFromTokens&lt;/code&gt;ã€&lt;code&gt;tokensFromDuration&lt;/code&gt;è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæ˜¯å…³é”®ï¼Œä»–ä»¬çš„å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(limitÂ Limit)&lt;/span&gt;Â &lt;span&gt;durationFromTokens&lt;/span&gt;&lt;span&gt;(tokensÂ &lt;span&gt;float64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;time&lt;/span&gt;.&lt;span&gt;Duration&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â secondsÂ :=Â tokensÂ /Â &lt;span&gt;float64&lt;/span&gt;(limit)&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â time.NanosecondÂ *Â time.Duration(&lt;span&gt;1e9&lt;/span&gt;*seconds)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(limitÂ Limit)&lt;/span&gt;Â &lt;span&gt;tokensFromDuration&lt;/span&gt;&lt;span&gt;(dÂ time.Duration)&lt;/span&gt;Â &lt;span&gt;float64&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;//Â SplitÂ theÂ integerÂ andÂ fractionalÂ partsÂ ourselfÂ toÂ minimizeÂ roundingÂ errors.&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//Â SeeÂ golang.org/issues/34861.&lt;/span&gt;&lt;br/&gt;Â secÂ :=Â &lt;span&gt;float64&lt;/span&gt;(d/time.Second)Â *Â &lt;span&gt;float64&lt;/span&gt;(limit)&lt;br/&gt;Â nsecÂ :=Â &lt;span&gt;float64&lt;/span&gt;(d%time.Second)Â *Â &lt;span&gt;float64&lt;/span&gt;(limit)&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â secÂ +Â nsec/&lt;span&gt;1e9&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;durationFromTokens&lt;/code&gt;ï¼šåŠŸèƒ½æ˜¯è®¡ç®—å‡ºç”Ÿæˆ&lt;code&gt;N&lt;/code&gt; ä¸ªæ–°çš„&lt;code&gt;Token&lt;/code&gt; ä¸€å…±éœ€è¦å¤šä¹…ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;tokensFromDuration&lt;/code&gt;ï¼šç»™å®šä¸€æ®µæ—¶é•¿ï¼Œè¿™æ®µæ—¶é—´ä¸€å…±å¯ä»¥ç”Ÿæˆå¤šå°‘ä¸ª Tokenã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»†å¿ƒçš„ç½‘å‹ä¼šå‘ç°&lt;code&gt;tokensFromDuration&lt;/code&gt;æ–¹æ³•æ—¢ç„¶æ˜¯è®¡ç®—ä¸€æ®µæ—¶é—´ä¸€å…±å¯ä»¥ç”Ÿæˆå¤šå°‘ä¸ª&lt;code&gt;Token&lt;/code&gt;ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥è¿›è¡Œç›¸ä¹˜å‘¢ï¼Ÿå…¶å®&lt;code&gt;Golang&lt;/code&gt;æœ€åˆçš„ç‰ˆæœ¬å°±æ˜¯é‡‡ç”¨&lt;code&gt;d.Seconds() * float64(limit)&lt;/code&gt;ç›´æ¥ç›¸ä¹˜å®ç°çš„ï¼Œè™½ç„¶çœ‹ä¸Šå»ä¸€ç‚¹é—®é¢˜æ²¡æœ‰ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯ä¸¤ä¸ªå°æ•°ç›¸ä¹˜ï¼Œä¼šå¸¦æ¥ç²¾åº¦æŸå¤±ï¼Œæ‰€ä»¥é‡‡ç”¨ç°åœ¨è¿™ç§æ–¹æ³•å®ç°ï¼Œåˆ†åˆ«æ±‚å‡ºç§’çš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ï¼Œè¿›è¡Œç›¸ä¹˜åå†ç›¸åŠ ï¼Œè¿™æ ·å¯ä»¥å¾—åˆ°æœ€ç²¾ç¡®çš„ç²¾åº¦ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;code&gt;limiter&lt;/code&gt;å½’è¿˜&lt;code&gt;Token&lt;/code&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç„¶æˆ‘ä»¬å¯ä»¥æ¶ˆè´¹&lt;code&gt;Token&lt;/code&gt;ï¼Œé‚£ä¹ˆå¯¹åº”ä¹Ÿå¯ä»¥å–æ¶ˆæ­¤æ¬¡æ¶ˆè´¹ï¼Œå°†&lt;code&gt;token&lt;/code&gt;å½’è¿˜ï¼Œå½“è°ƒç”¨ &lt;code&gt;Cancel()&lt;/code&gt; å‡½æ•°æ—¶ï¼Œæ¶ˆè´¹çš„ Token æ•°å°†ä¼šå°½å¯èƒ½å½’è¿˜ç»™ Token æ¡¶ã€‚å½’è¿˜ä¹Ÿå¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•ï¼Œæ¥ä¸‹æˆ‘ä»¬æˆ‘ä»¬çœ‹çœ‹å½’è¿˜&lt;code&gt;token&lt;/code&gt;æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Reservation)&lt;/span&gt;Â &lt;span&gt;CancelAt&lt;/span&gt;&lt;span&gt;(nowÂ time.Time)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â !r.okÂ {&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â r.lim.mu.Lock()&lt;br/&gt;Â &lt;span&gt;defer&lt;/span&gt;Â r.lim.mu.Unlock()&lt;br/&gt;Â Â &lt;span&gt;/*&lt;br/&gt;Â Â 1.å¦‚æœæ— éœ€é™æµ&lt;br/&gt;Â 2.Â tokensä¸º0Â (éœ€è¦è·å–çš„ä»¤ç‰Œæ•°é‡ä¸º0)&lt;br/&gt;Â 3.Â å·²ç»è¿‡äº†æˆªè‡³æ—¶é—´&lt;br/&gt;Â ä»¥ä¸Šä¸‰ç§æƒ…å†µæ— éœ€å¤„ç†å–æ¶ˆæ“ä½œ&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â r.lim.limitÂ ==Â InfÂ ||Â r.tokensÂ ==Â &lt;span&gt;0&lt;/span&gt;Â ||Â r.timeToAct.Before(now)Â {&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//è®¡ç®—å‡ºéœ€è¦è¿˜åŸçš„ä»¤ç‰Œæ•°é‡&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//è¿™é‡Œçš„r.lim.lastEventå¯èƒ½æ˜¯æœ¬æ¬¡Reservationçš„ç»“æŸæ—¶é—´ï¼Œä¹Ÿå¯èƒ½æ˜¯åæ¥çš„Reservationçš„ç»“æŸæ—¶é—´ï¼Œæ‰€ä»¥è¦æŠŠæœ¬æ¬¡ç»“æŸæ—¶é—´ç‚¹(r.timeToAct)ä¹‹åäº§ç”Ÿçš„ä»¤ç‰Œæ•°å‡å»&lt;/span&gt;&lt;br/&gt;Â restoreTokensÂ :=Â &lt;span&gt;float64&lt;/span&gt;(r.tokens)Â -Â r.limit.tokensFromDuration(r.lim.lastEvent.Sub(r.timeToAct))&lt;br/&gt;Â Â &lt;span&gt;//Â å½“å°äº0ï¼Œè¡¨ç¤ºå·²ç»éƒ½é¢„æ”¯å®Œäº†ï¼Œä¸èƒ½å½’è¿˜äº†&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â restoreTokensÂ &amp;lt;=Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;//ä»æ–°è®¡ç®—ä»¤ç‰Œæ¡¶çš„çŠ¶æ€&lt;/span&gt;&lt;br/&gt;Â now,Â _,Â tokensÂ :=Â r.lim.advance(now)&lt;br/&gt;Â &lt;span&gt;//è¿˜åŸå½“å‰ä»¤ç‰Œæ¡¶çš„ä»¤ç‰Œæ•°é‡ï¼Œå½“å‰çš„ä»¤ç‰Œæ•°tokensåŠ ä¸Šéœ€è¦è¿˜åŸçš„ä»¤ç‰Œæ•°restoreTokens&lt;/span&gt;&lt;br/&gt;Â tokensÂ +=Â restoreTokens&lt;br/&gt;Â Â &lt;span&gt;//å¦‚æœtokenså¤§äºæ¡¶çš„æœ€å¤§å®¹é‡ï¼Œåˆ™å°†tokensç½®ä¸ºæ¡¶çš„æœ€å¤§å®¹é‡&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â burstÂ :=Â &lt;span&gt;float64&lt;/span&gt;(r.lim.burst);Â tokensÂ &amp;gt;Â burstÂ {&lt;br/&gt;Â Â tokensÂ =Â burst&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;//Â updateÂ state&lt;/span&gt;&lt;br/&gt;Â r.lim.lastÂ =Â nowÂ &lt;span&gt;//è®°å½•æ¡¶çš„æ›´æ–°æ—¶é—´&lt;/span&gt;&lt;br/&gt;Â r.lim.tokensÂ =Â tokensÂ &lt;span&gt;//æ›´æ–°ä»¤ç‰Œæ•°é‡&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;//Â å¦‚æœéƒ½ç›¸ç­‰ï¼Œè¯´æ˜è·Ÿæ²¡æ¶ˆè´¹ä¸€æ ·ã€‚ç›´æ¥è¿˜åŸæˆä¸Šæ¬¡çš„çŠ¶æ€å§&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â r.timeToActÂ ==Â r.lim.lastEventÂ {&lt;br/&gt;Â Â prevEventÂ :=Â r.timeToAct.Add(r.limit.durationFromTokens(&lt;span&gt;float64&lt;/span&gt;(-r.tokens)))&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â !prevEvent.Before(now)Â {&lt;br/&gt;Â Â Â r.lim.lastEventÂ =Â prevEvent&lt;br/&gt;Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨é‡Šå·²ç»æ·»åŠ ï¼Œå°±ä¸åœ¨è¯¦ç»†è§£é‡Šäº†ï¼Œé‡ç‚¹æ˜¯è¿™ä¸€è¡Œä»£ç ï¼š&lt;code&gt;restoreTokens := float64(r.tokens) - r.limit.tokensFromDuration(r.lim.lastEvent.Sub(r.timeToAct))&lt;/code&gt;ï¼Œ&lt;code&gt;r.tokens&lt;/code&gt;æŒ‡çš„æ˜¯æœ¬æ¬¡æ¶ˆè´¹çš„&lt;code&gt;token&lt;/code&gt;æ•°ï¼Œ&lt;code&gt;r.timeToAcr&lt;/code&gt;æŒ‡çš„æ˜¯&lt;code&gt;Token&lt;/code&gt;æ¡¶å¯ä»¥æ»¡è¶³æœ¬æ¬¡æ¶ˆè´¹æ•°ç›®çš„æ—¶åˆ»ï¼Œä¹Ÿå°±æ˜¯æ¶ˆè´¹çš„æ—¶åˆ»+ç­‰å¾…çš„æ—¶é•¿ï¼Œ&lt;code&gt;r.lim.lastEvent&lt;/code&gt;æŒ‡çš„æ˜¯æœ€è¿‘ä¸€æ¬¡æ¶ˆè´¹çš„&lt;code&gt;timeToAct&lt;/code&gt;çš„å€¼ï¼Œé€šè¿‡&lt;code&gt;r.limit.tokensFromDuration&lt;/code&gt;æ–¹æ³•å¾—å‡ºçš„ç»“æœæŒ‡çš„æ˜¯ä»è¯¥æ¬¡æ¶ˆè´¹åˆ°å½“å‰æ—¶é—´ï¼Œä¸€å…±åˆæ¶ˆè´¹äº†å¤šå°‘&lt;code&gt;Token&lt;/code&gt;æ•°ç›®ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—å‡ºè¿™ä¸€æ®µçš„ä»£ç å«ä¹‰æ˜¯ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦å½’è¿˜çš„&lt;code&gt;Token&lt;/code&gt; = è¯¥æ¬¡æ¶ˆè´¹çš„&lt;code&gt;Token&lt;/code&gt; - æ–°æ¶ˆè´¹çš„&lt;code&gt;token&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½å•¦ï¼Œæºç å°±æš‚æ—¶åˆ†æåˆ°è¿™äº†ï¼Œå› ä¸ºæ ‡å‡†åº“çš„å®ç°çš„ä»£ç é‡æœ‰ç‚¹å¤§ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†åœ¨è¿™é‡Œæ²¡æœ‰è¯´ï¼Œç•™ç»™å¤§å®¶è‡ªå·±å»å‰–æå§ï½ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡é‡ç‚¹ä»‹ç»äº†æ¼æ¡¶ç®—æ³•å’Œä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œæ¼æ¡¶ç®—æ³•å’Œä»¤ç‰Œæ¡¶ç®—æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œ&quot;æ¼æ¡¶ç®—æ³•&quot;èƒ½å¤Ÿå¼ºè¡Œé™åˆ¶æ•°æ®çš„ä¼ è¾“é€Ÿç‡(æˆ–è¯·æ±‚é¢‘ç‡)ï¼Œè€Œ&quot;ä»¤ç‰Œæ¡¶ç®—æ³•&quot;åœ¨èƒ½å¤Ÿé™åˆ¶æ•°æ®çš„å¹³å‡ä¼ è¾“é€Ÿç‡å¤–ï¼Œè¿˜å…è®¸æŸç§ç¨‹åº¦çš„çªå‘ä¼ è¾“ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¼æ¡¶ç®—æ³•ä¸èƒ½å¤Ÿæœ‰æ•ˆåœ°ä½¿ç”¨ç½‘ç»œèµ„æºï¼Œå› ä¸ºæ¼æ¡¶çš„æ¼å‡ºé€Ÿç‡æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å³ä½¿ç½‘ç»œä¸­æ²¡æœ‰å‘ç”Ÿæ‹¥å¡ï¼Œæ¼æ¡¶ç®—æ³•ä¹Ÿä¸èƒ½ä½¿æŸä¸€ä¸ªå•ç‹¬çš„æ•°æ®æµè¾¾åˆ°ç«¯å£é€Ÿç‡ã€‚å› æ­¤ï¼Œæ¼æ¡¶ç®—æ³•å¯¹äºå­˜åœ¨çªå‘ç‰¹æ€§çš„æµé‡æ¥è¯´ç¼ºä¹æ•ˆç‡ã€‚è€Œä»¤ç‰Œæ¡¶ç®—æ³•åˆ™èƒ½å¤Ÿæ»¡è¶³è¿™äº›å…·æœ‰çªå‘ç‰¹æ€§çš„æµé‡ã€‚é€šå¸¸ï¼Œæ¼æ¡¶ç®—æ³•ä¸ä»¤ç‰Œæ¡¶ç®—æ³•ç»“åˆèµ·æ¥ä¸ºç½‘ç»œæµé‡æä¾›æ›´é«˜æ•ˆçš„æ§åˆ¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¥½å•¦ï¼Œè¿™ç¯‡æ–‡ç« å°±åˆ°è¿™é‡Œå•¦ï¼Œç´ è´¨ä¸‰è¿ï¼ˆåˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹ï¼‰éƒ½æ˜¯ç¬”è€…æŒç»­åˆ›ä½œæ›´å¤šä¼˜è´¨å†…å®¹çš„åŠ¨åŠ›ï¼&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åˆ›å»ºäº†ä¸€ä¸ªGolangå­¦ä¹ äº¤æµç¾¤ï¼Œæ¬¢è¿å„ä½å¤§ä½¬ä»¬è¸Šè·ƒå…¥ç¾¤ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº¤æµã€‚å…¥ç¾¤æ–¹å¼ï¼šåŠ æˆ‘vxæ‹‰ä½ å…¥ç¾¤ï¼Œæˆ–è€…å…¬ä¼—å·è·å–å…¥ç¾¤äºŒç»´ç &lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç»“å°¾ç»™å¤§å®¶å‘ä¸€ä¸ªå°ç¦åˆ©å§ï¼Œæœ€è¿‘æˆ‘åœ¨çœ‹[å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼]è¿™ä¸€æœ¬ä¹¦ï¼Œè®²çš„å¾ˆå¥½ï¼Œè‡ªå·±ä¹Ÿæ”¶é›†äº†ä¸€æœ¬PDFï¼Œæœ‰éœ€è¦çš„å°ä¼™å¯ä»¥åˆ°è‡ªè¡Œä¸‹è½½ã€‚è·å–æ–¹å¼ï¼šå…³æ³¨å…¬ä¼—å·ï¼š[Golangæ¢¦å·¥å‚]ï¼Œåå°å›å¤ï¼š[å¾®æœåŠ¡]ï¼Œå³å¯è·å–ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘ç¿»è¯‘äº†ä¸€ä»½GINä¸­æ–‡æ–‡æ¡£ï¼Œä¼šå®šæœŸè¿›è¡Œç»´æŠ¤ï¼Œæœ‰éœ€è¦çš„å°ä¼™ä¼´åå°å›å¤[gin]å³å¯ä¸‹è½½ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¿»è¯‘äº†ä¸€ä»½Machineryä¸­æ–‡æ–‡æ¡£ï¼Œä¼šå®šæœŸè¿›è¡Œç»´æŠ¤ï¼Œæœ‰éœ€è¦çš„å°ä¼™ä¼´ä»¬åå°å›å¤[machinery]å³å¯è·å–ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘æ˜¯asongï¼Œä¸€åæ™®æ™®é€šé€šçš„ç¨‹åºçŒ¿ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ…¢æ…¢å˜å¼ºå§ã€‚æ¬¢è¿å„ä½çš„å…³æ³¨ï¼Œæˆ‘ä»¬ä¸‹æœŸè§~~~&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.4234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/k5430ljpYPNFVT6F1cSh4LJhic7wX9o3cmPicXrYcyvAxtKDVTg3PzTQicpw8wLIc59lVPs6c0UrWDwr1qnwq67UA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¨èå¾€æœŸæ–‡ç« ï¼š&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>919bbd160785232d114ce93f860969d6</guid>
<title>å¦‚ä½•è‡ªåŠ¨åŒæ­¥åšå®¢åˆ° GitHub ä¸»é¡µï¼Ÿ</title>
<link>https://toutiao.io/k/p980gmm</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Github æ”¯æŒé€šè¿‡åˆ›å»ºåŒåä»“åº“çš„å½¢å¼è‡ªå®šä¹‰ä¸»é¡µã€‚æ¯”å¦‚æˆ‘çš„ Github ç”¨æˆ·åæ˜¯ azl397985856ï¼Œé‚£ä¹ˆæ–°å»ºä¸€ä¸ªåä¸º azl397985856 çš„ä»“åº“å³å¯ã€‚æ¥ä¸‹æ¥ä½ å¯ä»¥é€šè¿‡ä¿®æ”¹æ­¤ä»“åº“çš„ README æ–‡ä»¶æ¥è‡ªå®šä¹‰ Github ä¸»é¡µã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æƒ³è¦è‡ªå®šä¹‰ä¸»é¡µå°±æ–°å»ºä¸€ä¸ªåŒåä»“åº“å¹¶ä¿®æ”¹ README å°±è¡Œäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¿®æ”¹ README èƒ½ç©å‡ºä»€ä¹ˆèŠ±æ ·å‘¢ï¼Ÿè¯·æ¥ç€å¾€ä¸‹çœ‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è£…ä¿®æ•ˆæœ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆä¸Šä¸€ä¸‹æˆ‘çš„è£…ä¿®æ•ˆæœï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7249398556535686&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CuarlDcuWP6BmfN0y4681NSnaDTrjrKupc3Qooy7YuUxTuBEFJ2GkiamnzPTf3yLic1cXV6xoHtX9VBZlfQqgALw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1247&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¼€å§‹åŠ¨æ‰‹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;æ·»åŠ æ•°æ®ç»Ÿè®¡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šå›¾çš„é‚£å‡ ä¸ª Github æ•°æ®ç»Ÿè®¡ä»¥åŠå¥–æ¯ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå¤–éƒ¨æœåŠ¡ã€‚æƒ³è¦æ˜¾ç¤ºå“ªä¸ªå°±æ·»åŠ ç›¸åº”ä»£ç å³å¯ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®ç»Ÿè®¡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;img&lt;/span&gt;Â &lt;span&gt;src&lt;/span&gt;=&lt;span&gt;&quot;https://github-readme-stats.vercel.app/api?username=azl397985856&amp;amp;show_icons=true&quot;&lt;/span&gt;Â &lt;span&gt;alt&lt;/span&gt;=&lt;span&gt;&quot;logo&quot;&lt;/span&gt;Â &lt;span&gt;height&lt;/span&gt;=&lt;span&gt;&quot;160&quot;&lt;/span&gt;Â &lt;span&gt;align&lt;/span&gt;=&lt;span&gt;&quot;right&quot;&lt;/span&gt;Â &lt;span&gt;style&lt;/span&gt;=&lt;span&gt;&quot;margin:Â 5px;Â margin-bottom:Â 20px;&quot;&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;æ³¨æ„å°† username æ”¹æˆè‡ªå·±çš„ç”¨æˆ·åå“¦(ä¸‹é¢ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¸å†èµ˜è¿°)ï¼Œä¸ç„¶å°±æ˜¾ç¤ºçš„ lucifer æˆ‘çš„ä¿¡æ¯å•¦ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥–æ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;img&lt;/span&gt;Â &lt;span&gt;src&lt;/span&gt;=&lt;span&gt;&quot;https://github-profile-trophy.vercel.app/?username=azl397985856&amp;amp;theme=flat&amp;amp;column=7&quot;&lt;/span&gt;Â &lt;span&gt;alt&lt;/span&gt;=&lt;span&gt;&quot;logo&quot;&lt;/span&gt;Â &lt;span&gt;height&lt;/span&gt;=&lt;span&gt;&quot;160&quot;&lt;/span&gt;Â &lt;span&gt;align&lt;/span&gt;=&lt;span&gt;&quot;center&quot;&lt;/span&gt;Â &lt;span&gt;style&lt;/span&gt;=&lt;span&gt;&quot;margin:Â auto;Â margin-bottom:Â 20px;&quot;&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;è‡ªåŠ¨æ›´æ–°åšå®¢&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šå›¾æˆ‘çš„è£…ä¿®ä¸»é¡µï¼Œå…¶ä¸­åšå®¢çš„æ–‡ç« åˆ—è¡¨ä¸æ˜¯å†™æ­»çš„ï¼Œè€Œæ˜¯æ¯éš”ä¸€ä¸ªå°æ—¶å®šæ—¶è¯»å–æˆ‘çš„&lt;span&gt;åšå®¢&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt; å†…å®¹ï¼Œå¹¶æå–å‰ 5 ç¯‡æ–‡ç« ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä¹Ÿæƒ³è¦è¿™ä¸ªåŠŸèƒ½ï¼Œå°±åœ¨ README ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;##Â ğŸ“•Â LatestÂ BlogÂ Posts&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;!--Â BLOG-POST-LIST:STARTÂ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;!--Â BLOG-POST-LIST:ENDÂ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹åè¯»å–çš„åšå®¢åˆ—è¡¨ä¼šå¡«å……åœ¨ä¸¤ä¸ªæ³¨é‡Šä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥&lt;strong&gt;ã€Œé€šè¿‡æ”¹å˜æ³¨é‡Šçš„ä½ç½®ï¼Œå°†å…¶æ”¾åˆ°é¡µé¢ä»»æ„ä½ç½®ã€&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†å®ç°&lt;strong&gt;ã€Œæ¯ä¸ªå°æ—¶å®šæ—¶æ›´æ–°çš„åŠŸèƒ½ã€&lt;/strong&gt;ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Github Action çš„å®šæ—¶ä»»åŠ¡æ¥å®ç°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.20323886639676114&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CuarlDcuWP6BmfN0y4681NSnaDTrjrKuZUhGOmgGZOKHcFPDAOsKJbUwk9yBGR6IR6YXFWA1AwzDlEsXvfcXFw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1235&quot;/&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.40946745562130177&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CuarlDcuWP6BmfN0y4681NSnaDTrjrKuUTjX4VKcbMDnpfCHh8lITOh9J998wjsicJmMiaYaibUoXBsQjoSFgwQ9Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;845&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥å°†å¦‚ä¸‹å†…å®¹å¤åˆ¶ç²˜è´´è¿›å»ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;name:&lt;/span&gt;Â &lt;span&gt;Blog&lt;/span&gt;Â &lt;span&gt;Posts&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;on:&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;#Â RunÂ workflowÂ automatically&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;schedule:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;#Â RunsÂ everyÂ hour,Â onÂ theÂ hour&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;cron:&lt;/span&gt;Â &lt;span&gt;&quot;0Â *Â *Â *Â *&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;jobs:&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;update-readme-with-blog:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;name:&lt;/span&gt;Â &lt;span&gt;Update&lt;/span&gt;Â &lt;span&gt;this&lt;/span&gt;Â &lt;span&gt;repo&#x27;s&lt;/span&gt;Â &lt;span&gt;README&lt;/span&gt;Â &lt;span&gt;with&lt;/span&gt;Â &lt;span&gt;latest&lt;/span&gt;Â &lt;span&gt;blog&lt;/span&gt;Â &lt;span&gt;posts&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;runs-on:&lt;/span&gt;Â &lt;span&gt;ubuntu-latest&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;steps:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;uses:&lt;/span&gt;Â &lt;span&gt;actions/checkout@v2&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;uses:&lt;/span&gt;Â &lt;span&gt;gautamkrishnar/blog-post-workflow@master&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;with:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;#Â comma-separatedÂ listÂ ofÂ RSSÂ feedÂ urls&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;feed_list:&lt;/span&gt;Â &lt;span&gt;&quot;https://lucifer.ren/blog/atom.xml&quot;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;æ³¨æ„ï¼šè¿™é‡Œçš„ &lt;code&gt;cron: &quot;0 * * * *&quot;&lt;/code&gt; çš„æ„æ€æ˜¯æ¯ä¸ªå°æ—¶è¿›è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯æ¯ä¸ªå°æ—¶çš„ 0 åˆ†ã€‚å› ä¸ºä½ éœ€è¦ç­‰åˆ°ä¸‹ä¸€ä¸ªæ•´ç‚¹æ‰èƒ½çœ‹åˆ°æ•ˆæœï¼Œæœ‰æ—¶å€™ Github ä¼šæœ‰å»¶æ—¶ï¼Œæ™šå‡ åˆ†é’Ÿä¹Ÿæ­£å¸¸ï¼Œå¤§å®¶ä¸è¦ç€æ€¥ï¼Œè€å¿ƒç­‰å¾…å³å¯ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯·å°† feed_list æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ RSS è®¢é˜…åœ°å€ã€‚å¦‚æœæœ‰å¤šä¸ªè®¢é˜…åœ°å€ï¼Œåˆ™ç”¨è‹±æ–‡åŠè§’é€—å·åˆ†å‰²ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çš„åšå®¢æ²¡æœ‰ RSS æˆ–è€…ä½ ä¸çŸ¥é“è‡ªå·±çš„ RSS åœ°å€å°±æ— æ³•ä½¿ç”¨äº†å“¦ã€‚æˆ‘çš„åšå®¢æ˜¯ç”¨ hexo ç”Ÿæˆçš„ï¼Œå› æ­¤æ·»åŠ  RSS å°±å¾ˆå®¹æ˜“äº†ï¼Œå¦‚æœä½ çš„åšå®¢æ˜¯æŒ‚åˆ°ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿä¼šæä¾› RSS åœ°å€ã€‚æ¯”å¦‚ CSDN å°±æä¾›äº† RSS åœ°å€ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.16148148148148148&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CuarlDcuWP6BmfN0y4681NSnaDTrjrKuiaO0CQicw0pHZYch5DgnLuAW6VicaN6xfUC8xIJeOTYOo5hGJhuZw0NtA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1350&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºå¤§å®¶çš„åšå®¢å¯èƒ½éƒ½ä¸ç›¸åŒï¼Œå› æ­¤å…·ä½“å¤§å®¶å¯ä»¥è‡ªè¡Œæœç´¢ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å®Œæ•´æºä»£ç &lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡æ‰€æœ‰çš„ä»£ç éƒ½å¯ä»¥åœ¨å¦‚ä¸‹çš„ä»£ç ä»“åº“ä¸­æ‰¾åˆ°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»“åº“åœ°å€ï¼šhttps://github.com/azl397985856/azl397985856&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ç¢°åˆ°å…¶ä»–é—®é¢˜ï¼Œä¹Ÿæ¬¢è¿ç§ä¿¡æˆ‘å“¦~ æœ€åç¥å¤§å®¶éƒ½æœ‰ä¸€ä¸ªé«˜å¤§ä¸Šçš„ Github ä¸»é¡µã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;Reference&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;lucifer çš„ç½‘ç»œåšå®¢: &lt;span&gt;https://lucifer.ren/blog/&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;margin-top: 20px; margin-bottom: 20px; font-weight: bold; font-size: 17px; max-width: 100%; box-sizing: border-box; white-space: normal; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; text-align: center; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__189&quot;&gt;&lt;span data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;padding-bottom: 2px; max-width: 100%; box-sizing: border-box; border-bottom: 2px solid rgba(79, 177, 249, 0.65); color: rgb(43, 43, 43); overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__190&quot;&gt;çˆ±å¿ƒä¸‰è¿å‡»&lt;/span&gt;&lt;/h3&gt;&lt;p data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;margin-top: 10px; margin-bottom: 10px; padding-top: 8px; padding-bottom: 8px; max-width: 100%; box-sizing: border-box; min-height: 1em; white-space: normal; text-align: left; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; font-size: 14px; line-height: 26px; word-spacing: 2px; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__191&quot;&gt;1.çœ‹åˆ°è¿™é‡Œäº†å°±ç‚¹ä¸ªåœ¨çœ‹æ”¯æŒä¸‹å§ï¼Œä½ çš„&lt;strong data-darkmode-color-16144294441363=&quot;rgb(53, 148, 247)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(43, 43, 43)|rgb(53, 148, 247)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot;&gt;åœ¨çœ‹&lt;/strong&gt;æ˜¯æˆ‘åˆ›ä½œçš„åŠ¨åŠ›ã€‚&lt;/p&gt;&lt;p data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;margin-top: 10px; margin-bottom: 10px; padding-top: 8px; padding-bottom: 8px; max-width: 100%; box-sizing: border-box; min-height: 1em; white-space: normal; color: rgb(0, 0, 0); text-align: left; background-color: rgb(255, 255, 255); font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; font-size: 14px; line-height: 26px; word-spacing: 2px; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__192&quot;&gt;&lt;span data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;max-width: 100%; color: rgb(43, 43, 43); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__193&quot;&gt;2.å…³æ³¨å…¬ä¼—å·&lt;/span&gt;&lt;span data-darkmode-color-16144294441363=&quot;rgb(53, 148, 247)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(53, 148, 247)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot;&gt;&lt;strong data-darkmode-color-16144294441363=&quot;rgb(53, 148, 247)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(53, 148, 247)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot;&gt;è„‘æ´å‰ç«¯&lt;/strong&gt;&lt;/span&gt;&lt;span data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;max-width: 100%; color: rgb(43, 43, 43); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__194&quot;&gt;ï¼Œè·å–æ›´å¤šå‰ç«¯ç¡¬æ ¸æ–‡ç« ï¼&lt;/span&gt;&lt;strong data-darkmode-color-16144294441363=&quot;rgb(53, 148, 247)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(53, 148, 247)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot;&gt;åŠ ä¸ªæ˜Ÿæ ‡&lt;/strong&gt;&lt;span data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(0, 0, 0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;max-width: 100%; color: rgb(43, 43, 43); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__195&quot;&gt;ï¼Œä¸é”™è¿‡æ¯ä¸€æ¡æˆé•¿çš„æœºä¼šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-color-16144294441363=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(43, 43, 43)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot; data-style=&quot;margin-top: 10px; margin-bottom: 10px; padding-top: 8px; padding-bottom: 8px; max-width: 100%; box-sizing: border-box; min-height: 1em; white-space: normal; text-align: left; background-color: rgb(255, 255, 255); color: rgb(43, 43, 43); font-family: Optima-Regular, Optima, PingFangTC-Light, PingFangSC-light, PingFangTC-light; letter-spacing: 2px; font-size: 14px; line-height: 26px; word-spacing: 2px; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__196&quot;&gt;3.å¦‚æœä½ è§‰å¾—æœ¬æ–‡çš„å†…å®¹å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±å¸®æˆ‘&lt;strong data-darkmode-color-16144294441363=&quot;rgb(53, 148, 247)&quot; data-darkmode-original-color-16144294441363=&quot;#fff|rgb(0,0,0)|rgb(43, 43, 43)|rgb(53, 148, 247)&quot; data-darkmode-bgcolor-16144294441363=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16144294441363=&quot;#fff|rgb(255, 255, 255)&quot;&gt;è½¬å‘&lt;/strong&gt;ä¸€ä¸‹å§ã€‚&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3MjU5NjU2NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/CuarlDcuWP7kyWw71LVGY1os33f0FzZSVXhXibf32rPFNncsiaDLx0HsWOGDSDuyibZXn5gaUM7Z2iajVRVpNp7jPQ/0?wx_fmt=png&quot; data-nickname=&quot;è„‘æ´å‰ç«¯&quot; data-alias=&quot;fe_lucifer&quot; data-signature=&quot;ä½œè€…æ˜¯ä¸€ä¸ª Github 40K star çš„å‰ç«¯æ¶æ„å¸ˆã€‚ä¸“æ³¨å‰ç«¯å·¥ç¨‹åŒ–ï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ¡†æ¶æºç ï¼Œåº•å±‚åŸç†ç­‰ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å®šæ—¶æ›´æ–°LeetCodeé¢˜è§£å’Œé¢è¯•å†…å®¹ï¼ŒæœŸå¾…ä½ çš„åŠ å…¥ï¼Œå’Œä¸‰ä¸‡åå·¥ç¨‹å¸ˆä¸€èµ·è¿›æ­¥ã€‚&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7ee4e1d07c56030e970d8ec23d7d576d</guid>
<title>10 ä¸ªå†…å­˜å¼•å‘çš„å¤§å‘ï¼Œä½ èƒ½èº²å¼€å‡ ä¸ªï¼Ÿï¼ˆä¸‰ï¼‰</title>
<link>https://toutiao.io/k/ktp4e97</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;span&gt;å¯¹ç¨‹åºå‘˜æ¥è¯´å†…å­˜ç›¸å…³çš„ bug æ’æŸ¥éš¾åº¦å‡ ä¹å’Œå¤šçº¿ç¨‹é—®é¢˜å¹¶é©¾é½é©±ï¼Œ&lt;strong&gt;å½“ç¨‹åºå‡ºç°è¿è¡Œå¼‚å¸¸æ—¶å¯èƒ½è·ç¦»çœŸæ­£æœ‰ bug çš„é‚£è¡Œä»£ç å·²ç»å¾ˆè¿œäº†&lt;/strong&gt;ï¼Œè¿™å°±å¯¼è‡´é—®é¢˜å®šä½æ’æŸ¥éå¸¸å›°éš¾ï¼Œè¿™ç¯‡æ–‡ç« å°†æ€»ç»“æ¶‰åŠå†…å­˜çš„ä¸€äº›ç»å…¸ bug ï¼Œå¿«æ¥çœ‹çœ‹ä½ çŸ¥é“å‡ ä¸ªï¼Œæˆ–è€…ä½ çš„ç¨‹åºä¸­ç°åœ¨æœ‰å‡ ä¸ªã€‚ã€‚ã€‚&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;h5 cid=&quot;n77&quot; mdtype=&quot;heading&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æŒ‡é’ˆå¤§å°ä¸æŒ‡é’ˆæ‰€æŒ‡å‘å¯¹è±¡çš„å¤§å°ä¸åŒ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h5&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;section&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; **&lt;span class=&quot;code-snippet__title&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; n)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; **M = (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; **)&lt;span class=&quot;code-snippet__built_in&quot;&gt;malloc&lt;/span&gt;(n * &lt;span class=&quot;code-snippet__keyword&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;; i &amp;lt; n; i++)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  M[i] = (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; *)&lt;span class=&quot;code-snippet__built_in&quot;&gt;malloc&lt;/span&gt;(m * &lt;span class=&quot;code-snippet__keyword&quot;&gt;sizeof&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; M;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¿™æ®µä»£ç çš„æœ¬æ„æ˜¯è¦åˆ›å»ºä¸€ä¸ªn*näºŒç»´æ•°ç»„ï¼Œä½†å…¶é”™è¯¯å‡ºç°åœ¨äº†ç¬¬3è¡Œï¼Œåº”è¯¥æ˜¯ sizeof(int *) è€Œä¸æ˜¯sizeof(int)ï¼Œå®é™…ä¸Šè¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«æœ‰ n ä¸ª int çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯åŒ…å« n ä¸ª int æŒ‡é’ˆçš„æ•°ç»„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†æœ‰è¶£çš„æ˜¯ï¼Œ&lt;strong&gt;è¿™è¡Œä»£ç åœ¨intå’Œint*å¤§å°ç›¸åŒçš„ç³»ç»Ÿä¸Šå¯ä»¥æ­£å¸¸è¿è¡Œ&lt;/strong&gt;ï¼Œä½†æ˜¯å¯¹äºintæŒ‡é’ˆæ¯”intè¦å¤§çš„ç³»ç»Ÿæ¥è¯´ï¼Œä¸Šè¿°ä»£ç åŒæ ·ä¼šè¦†ç›–æ‰æ•°ç»„Mä¹‹åçš„ä¸€éƒ¨åˆ†å†…å­˜ï¼Œè¿™é‡Œå’Œä¸Šä¸€ä¸ªä¾‹å­ç±»ä¼¼ï¼Œå¦‚æœè¿™éƒ¨åˆ†å†…å­˜æ˜¯ malloc ç”¨æ¥ä¿å­˜å†…å­˜åˆ†é…ä¿¡æ¯ç”¨çš„ï¼Œé‚£ä¹ˆä¹Ÿè®¸å½“é‡Šæ”¾è¿™æ®µå†…å­˜æ—¶æ‰ä¼šå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸ï¼Œæ­¤æ—¶å¯èƒ½å·²ç»è·ç¦»å‡ºç°é—®é¢˜çš„é‚£è¡Œä»£ç å¾ˆè¿œäº†ï¼Œè¿™ç±» bug åŒæ ·éš¾ä»¥æ’æŸ¥ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h5 cid=&quot;n82&quot; mdtype=&quot;heading&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æ ˆç¼“å†²å™¨æº¢å‡º&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h5&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;section&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;buffer_overflow&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;char&lt;/span&gt; buf[&lt;span class=&quot;code-snippet__number&quot;&gt;32&lt;/span&gt;];&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;gets(buf);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸Šé¢è¿™æ®µä»£ç æ€»æ˜¯å‡å®šç”¨æˆ·çš„è¾“å…¥ä¸è¿‡è¶…è¿‡ 32 å­—èŠ‚ï¼Œä¸€æ—¦è¶…è¿‡åï¼Œé‚£ä¹ˆå°†ç«‹åˆ»ç ´åæ ˆå¸§ä¸­ç›¸é‚»çš„æ•°æ®ï¼Œç ´åå‡½æ•°æ ˆå¸§æœ€å¥½çš„ç»“æœæ˜¯ç¨‹åºç«‹åˆ»crashï¼Œå¦åˆ™å’Œå‰é¢çš„ä¾‹å­ä¸€æ ·ï¼Œä¹Ÿè®¸ç¨‹åºè¿è¡Œå¾ˆé•¿ä¸€æ®µæ—¶é—´åæ‰å‡ºç°é”™è¯¯ï¼Œæˆ–è€…ç¨‹åºæ ¹æœ¬å°±ä¸ä¼šæœ‰è¿è¡Œæ—¶å¼‚å¸¸ä½†æ˜¯ä¼šç»™å‡ºé”™è¯¯çš„è®¡ç®—ç»“æœã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å®é™…ä¸Šåœ¨ä¸Šé¢å‡ ä¸ªä¾‹å­ä¸­ä¹Ÿä¼šæœ‰â€œæº¢å‡ºâ€ï¼Œä¸è¿‡æ˜¯åœ¨å †åŒºä¸Šçš„æº¢å‡ºï¼Œä½†æ ˆç¼“å†²å™¨æº¢å‡ºæ›´å®¹æ˜“å¯¼è‡´é—®é¢˜ï¼Œå› ä¸ºæ ˆå¸§ä¸­ä¿å­˜æœ‰å‡½æ•°è¿”å›åœ°å€ç­‰é‡è¦ä¿¡æ¯ï¼Œä¸€ç±»ç»å…¸çš„é»‘å®¢æ”»å‡»æŠ€æœ¯å°±æ˜¯åˆ©ç”¨æ ˆç¼“å†²åŒºæº¢å‡ºï¼Œå…¶åŸç†ä¹Ÿéå¸¸ç®€å•ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åŸæ¥ï¼Œæ¯ä¸ªå‡½æ•°è¿è¡Œæ—¶åœ¨æ ˆåŒºéƒ½ä¼šå­˜åœ¨ä¸€æ®µæ ˆå¸§ï¼Œæ ˆå¸§ä¸­ä¿å­˜æœ‰å‡½æ•°è¿”å›åœ°å€ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå‡½æ•°è¿è¡Œå®Œæˆåä¼šæ ¹æ®æ ˆå¸§ä¸­ä¿å­˜çš„è¿”å›åœ°å€è·³è½¬åˆ°ä¸Šä¸€ä¸ªå‡½æ•°ï¼Œå‡è®¾å‡½æ•°Aè°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆå½“å‡½æ•°Bè¿è¡Œå®Œæˆåå°±ä¼šè¿”å›å‡½æ•°Aï¼Œè¿™ä¸ªè¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;1.1756978653530377&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8g3rwJPmya1uUWibqDaIhHmImXAiaRpv1NPS1zfFcZyCnINwOUxMUtSvZ1shSnCCMchN3DCvhDchZQEiaJ8wHXcOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;609&quot; data-backw=&quot;578&quot; data-backh=&quot;679&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½ å¯ä»¥åœ¨ã€Š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU2NTYyOTQ4OQ==&amp;amp;mid=2247484963&amp;amp;idx=1&amp;amp;sn=542d3bec57c6a9dfc17c83005fd2c030&amp;amp;chksm=fcb9817dcbce086b10cb44cad7c9777b0088fb8d9d6baf71ae36a9b03e1f8ef5bec62b79d6f7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­&lt;/a&gt;ã€‹è¿™ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°å…³äºå‡½æ•°è¿è¡Œæ—¶æ ˆå¸§çš„è¯¦ç»†è®²è§£ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†å¦‚æœä»£ç ä¸­å­˜åœ¨æ ˆç¼“å†²åŒºæº¢å‡ºé—®é¢˜ï¼Œé‚£ä¹ˆåœ¨é»‘å®¢çš„ç²¾å¿ƒè®¾è®¡ä¸‹ï¼Œæº¢å‡ºçš„éƒ¨åˆ†ä¼šâ€œæ°å¥½â€è¦†ç›–æ‰æ ˆå¸§ä¸­çš„è¿”å›åœ°å€ï¼Œå°†å…¶ä¿®æ”¹ä¸ºä¸€ä¸ªç‰¹å®šçš„åœ°å€ï¼Œè¿™ä¸ªç‰¹å®šçš„åœ°å€ä¸­ä¿å­˜æœ‰é»‘å®¢ç•™ä¸‹çš„æ¶æ„ä»£ç ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;1.2408026755852843&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8g3rwJPmya1uUWibqDaIhHmImXAiaRpv1NOxbib5xfD1G5FdVJPWz4w6Us0GHas3aQZsiaQz1knibBT04t1nYS8LibDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;598&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¿™æ ·å½“è¯¥è¿›ç¨‹è¿è¡Œèµ·æ¥åå®é™…ä¸Šæ˜¯åœ¨æ‰§è¡Œé»‘å®¢çš„æ¶æ„ä»£ç ï¼Œè¿™å°±æ˜¯åˆ©ç”¨ç¼“å†²åŒºæº¢å‡ºè¿›è¡Œæ”»å‡»çš„ä¸€ä¸ªç»å…¸æ¡ˆä¾‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h5 cid=&quot;n93&quot; mdtype=&quot;heading&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æ“ä½œæŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡è€ŒéæŒ‡é’ˆæœ¬èº«&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h5&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;section&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;delete_one&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;** arr, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;* size)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__built_in&quot;&gt;free&lt;/span&gt;(arr[*size - &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;]);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  *size--;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;arr æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œè¿™æ®µä»£ç çš„æœ¬æ„æ˜¯è¦åˆ é™¤æ‰æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶å°†æ•°ç»„çš„å¤§å°å‡ä¸€ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†ä¸Šè¿°ä»£ç çš„é—®é¢˜åœ¨äº*å’Œ--æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ï¼Œè¯¥ä»£ç å®é™…ä¸Šä¼šå°† size æŒ‡é’ˆå‡1è€Œä¸æ˜¯æŠŠ size æŒ‡å‘çš„å€¼å‡1ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœä½ è¶³å¤Ÿå¹¸è¿çš„è¯é‚£ä¹ˆä¸Šè¿°ç¨‹åºè¿è¡Œåˆ°*size--æ—¶ç«‹åˆ» crashï¼Œè¿™æ ·ä½ å°±æœ‰æœºä¼šå¿«é€Ÿå‘ç°é—®é¢˜ã€‚ä½†æ›´æœ‰å¯èƒ½çš„æ˜¯ä¸Šè¿°ä»£ç ä¼šçœ‹ä¸Šå»ä¸€åˆ‡æ­£å¸¸çš„ç»§ç»­è¿è¡Œå¹¶è¿”å›ä¸€ä¸ªé”™è¯¯çš„æ‰§è¡Œç»“æœï¼Œ&lt;strong&gt;è¿™æ ·çš„bugæ’æŸ¥èµ·æ¥ä¼šè®©ä½ ç»ˆç”Ÿéš¾å¿˜&lt;/strong&gt;ï¼Œå› æ­¤å½“ä¸ç¡®å®šä¼˜å…ˆçº§æ—¶ä¸è¦åå•¬æ‹¬å·ï¼ŒåŠ ä¸Šå®ƒã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h5 cid=&quot;n99&quot; mdtype=&quot;heading&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h5&gt;&lt;section&gt;&lt;span&gt;å†…å­˜æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­è‡³å…³é‡è¦çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼ŒC/C++è¿™ç±»ååº•å±‚çš„è¯­è¨€åœ¨å¸¦æ¥é«˜æ€§èƒ½çš„åŒäº‹ä¹Ÿå¸¦æ¥å†…å­˜ç›¸å…³çš„æ— å°½é—®é¢˜ï¼Œè€Œè¿™ç±»é—®é¢˜é€šå¸¸éš¾ä»¥æ’æŸ¥ï¼Œä¸è¿‡çŸ¥å½¼çŸ¥å·±ï¼Œå½“ä½ ç†è§£äº†å¸¸è§çš„å†…å­˜ç›¸å…³é—®é¢˜åå°†æå¤§å‡å°‘å‡ºç°æ­¤ç±»é—®é¢˜çš„æ¦‚ç‡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¸Œæœ›è¿™ä¸ªå°ç³»åˆ—æ–‡ç« å¯¹å¤§å®¶ç†è§£å†…å­˜ä¸æŒ‡é’ˆæœ‰æ‰€å¸®åŠ©ã€‚&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__0&quot;&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2934&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2935&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2936&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2937&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2938&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2939&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2940&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2941&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2942&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2943&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;ä¼Ÿ&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2944&quot;&gt;ä¼Ÿ&lt;/span&gt;&lt;span data-raw-text=&quot;å¤§&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2945&quot;&gt;å¤§&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2946&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;åˆ†&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2947&quot;&gt;åˆ†&lt;/span&gt;&lt;span data-raw-text=&quot;å‰²&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2948&quot;&gt;å‰²&lt;/span&gt;&lt;span data-raw-text=&quot;çº¿&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2949&quot;&gt;çº¿&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2950&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2951&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2952&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2953&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2954&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2955&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2956&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2957&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2958&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2959&quot;&gt;-&lt;/span&gt;&lt;span data-raw-text=&quot;-&quot; data-textnode-index=&quot;97&quot; data-index=&quot;2960&quot;&gt;-&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI0MjEwMDMzNQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/LHDiahSVnXhuEIChmoDpeesYyxoiaDWYice5SX31nCmv2QA1TuYxxudVAvwAwTT3ia0mrjHuicxSwLMJZM7MZcA6P2Q/0?wx_fmt=png&quot; data-nickname=&quot;PHPé¥­ç±³ç²’&quot; data-alias=&quot;phpfamily&quot; data-signature=&quot;ä¸€ç¾¤é è°±çš„äººï¼Œæ„¿ä¸ºPHPerå¸¦æ¥ä¸€äº›å€¼å¾—ç»†ç»†å“å‘³çš„ç²¾ç¥é£Ÿç²®ï¼&quot;/&gt;&lt;/section&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__1&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__2&quot;&gt;&lt;span data-raw-text=&quot;P&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2961&quot;&gt;P&lt;/span&gt;&lt;span data-raw-text=&quot;H&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2962&quot;&gt;H&lt;/span&gt;&lt;span data-raw-text=&quot;P&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2963&quot;&gt;P&lt;/span&gt;&lt;span data-raw-text=&quot;é¥­&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2964&quot;&gt;é¥­&lt;/span&gt;&lt;span data-raw-text=&quot;ç±³&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2965&quot;&gt;ç±³&lt;/span&gt;&lt;span data-raw-text=&quot;ç²’&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2966&quot;&gt;ç²’&lt;/span&gt;&lt;span data-raw-text=&quot;(&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2967&quot;&gt;(&lt;/span&gt;&lt;span data-raw-text=&quot;p&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2968&quot;&gt;p&lt;/span&gt;&lt;span data-raw-text=&quot;h&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2969&quot;&gt;h&lt;/span&gt;&lt;span data-raw-text=&quot;p&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2970&quot;&gt;p&lt;/span&gt;&lt;span data-raw-text=&quot;f&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2971&quot;&gt;f&lt;/span&gt;&lt;span data-raw-text=&quot;a&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2972&quot;&gt;a&lt;/span&gt;&lt;span data-raw-text=&quot;m&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2973&quot;&gt;m&lt;/span&gt;&lt;span data-raw-text=&quot;i&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2974&quot;&gt;i&lt;/span&gt;&lt;span data-raw-text=&quot;l&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2975&quot;&gt;l&lt;/span&gt;&lt;span data-raw-text=&quot;y&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2976&quot;&gt;y&lt;/span&gt;&lt;span data-raw-text=&quot;)&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2977&quot;&gt;)&lt;/span&gt;&lt;span data-raw-text=&quot;Â &quot; data-textnode-index=&quot;98&quot; data-index=&quot;2978&quot;&gt;Â &lt;/span&gt;&lt;span data-raw-text=&quot;ç”±&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2979&quot;&gt;ç”±&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸€&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2980&quot;&gt;ä¸€&lt;/span&gt;&lt;span data-raw-text=&quot;ç¾¤&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2981&quot;&gt;ç¾¤&lt;/span&gt;&lt;span data-raw-text=&quot;é &quot; data-textnode-index=&quot;98&quot; data-index=&quot;2982&quot;&gt;é &lt;/span&gt;&lt;span data-raw-text=&quot;è°±&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2983&quot;&gt;è°±&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2984&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;äºº&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2985&quot;&gt;äºº&lt;/span&gt;&lt;span data-raw-text=&quot;å»º&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2986&quot;&gt;å»º&lt;/span&gt;&lt;span data-raw-text=&quot;ç«‹&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2987&quot;&gt;ç«‹&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼Œ&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2988&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span data-raw-text=&quot;æ„¿&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2989&quot;&gt;æ„¿&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸º&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2990&quot;&gt;ä¸º&lt;/span&gt;&lt;span data-raw-text=&quot;P&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2991&quot;&gt;P&lt;/span&gt;&lt;span data-raw-text=&quot;H&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2992&quot;&gt;H&lt;/span&gt;&lt;span data-raw-text=&quot;P&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2993&quot;&gt;P&lt;/span&gt;&lt;span data-raw-text=&quot;e&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2994&quot;&gt;e&lt;/span&gt;&lt;span data-raw-text=&quot;r&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2995&quot;&gt;r&lt;/span&gt;&lt;span data-raw-text=&quot;å¸¦&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2996&quot;&gt;å¸¦&lt;/span&gt;&lt;span data-raw-text=&quot;æ¥&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2997&quot;&gt;æ¥&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸€&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2998&quot;&gt;ä¸€&lt;/span&gt;&lt;span data-raw-text=&quot;äº›&quot; data-textnode-index=&quot;98&quot; data-index=&quot;2999&quot;&gt;äº›&lt;/span&gt;&lt;span data-raw-text=&quot;å€¼&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3000&quot;&gt;å€¼&lt;/span&gt;&lt;span data-raw-text=&quot;å¾—&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3001&quot;&gt;å¾—&lt;/span&gt;&lt;span data-raw-text=&quot;ç»†&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3002&quot;&gt;ç»†&lt;/span&gt;&lt;span data-raw-text=&quot;ç»†&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3003&quot;&gt;ç»†&lt;/span&gt;&lt;span data-raw-text=&quot;å“&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3004&quot;&gt;å“&lt;/span&gt;&lt;span data-raw-text=&quot;å‘³&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3005&quot;&gt;å‘³&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3006&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;ç²¾&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3007&quot;&gt;ç²¾&lt;/span&gt;&lt;span data-raw-text=&quot;ç¥&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3008&quot;&gt;ç¥&lt;/span&gt;&lt;span data-raw-text=&quot;é£Ÿ&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3009&quot;&gt;é£Ÿ&lt;/span&gt;&lt;span data-raw-text=&quot;ç²®&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3010&quot;&gt;ç²®&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼&quot; data-textnode-index=&quot;98&quot; data-index=&quot;3011&quot;&gt;ï¼&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__3&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__4&quot;&gt;&lt;span data-raw-text=&quot;é¥­&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3012&quot;&gt;é¥­&lt;/span&gt;&lt;span data-raw-text=&quot;ç±³&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3013&quot;&gt;ç±³&lt;/span&gt;&lt;span data-raw-text=&quot;ç²’&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3014&quot;&gt;ç²’&lt;/span&gt;&lt;span data-raw-text=&quot;åª&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3015&quot;&gt;åª&lt;/span&gt;&lt;span data-raw-text=&quot;å‘&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3016&quot;&gt;å‘&lt;/span&gt;&lt;span data-raw-text=&quot;åŸ&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3017&quot;&gt;åŸ&lt;/span&gt;&lt;span data-raw-text=&quot;åˆ›&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3018&quot;&gt;åˆ›&lt;/span&gt;&lt;span data-raw-text=&quot;æˆ–&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3019&quot;&gt;æˆ–&lt;/span&gt;&lt;span data-raw-text=&quot;æˆ&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3020&quot;&gt;æˆ&lt;/span&gt;&lt;span data-raw-text=&quot;æƒ&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3021&quot;&gt;æƒ&lt;/span&gt;&lt;span data-raw-text=&quot;å‘&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3022&quot;&gt;å‘&lt;/span&gt;&lt;span data-raw-text=&quot;è¡¨&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3023&quot;&gt;è¡¨&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3024&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;æ–‡&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3025&quot;&gt;æ–‡&lt;/span&gt;&lt;span data-raw-text=&quot;ç« &quot; data-textnode-index=&quot;99&quot; data-index=&quot;3026&quot;&gt;ç« &lt;/span&gt;&lt;span data-raw-text=&quot;ï¼Œ&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3027&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3028&quot;&gt;ä¸&lt;/span&gt;&lt;span data-raw-text=&quot;è½¬&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3029&quot;&gt;è½¬&lt;/span&gt;&lt;span data-raw-text=&quot;è½½&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3030&quot;&gt;è½½&lt;/span&gt;&lt;span data-raw-text=&quot;ç½‘&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3031&quot;&gt;ç½‘&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸Š&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3032&quot;&gt;ä¸Š&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3033&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;æ–‡&quot; data-textnode-index=&quot;99&quot; data-index=&quot;3034&quot;&gt;æ–‡&lt;/span&gt;&lt;span data-raw-text=&quot;ç« &quot; data-textnode-index=&quot;99&quot; data-index=&quot;3035&quot;&gt;ç« &lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__5&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__6&quot;&gt;&lt;span data-raw-text=&quot;æ‰€&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3036&quot;&gt;æ‰€&lt;/span&gt;&lt;span data-raw-text=&quot;å‘&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3037&quot;&gt;å‘&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3038&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;æ–‡&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3039&quot;&gt;æ–‡&lt;/span&gt;&lt;span data-raw-text=&quot;ç« &quot; data-textnode-index=&quot;100&quot; data-index=&quot;3040&quot;&gt;ç« &lt;/span&gt;&lt;span data-raw-text=&quot;ï¼Œ&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3041&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span data-raw-text=&quot;å‡&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3042&quot;&gt;å‡&lt;/span&gt;&lt;span data-raw-text=&quot;å¯&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3043&quot;&gt;å¯&lt;/span&gt;&lt;span data-raw-text=&quot;æ‰¾&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3044&quot;&gt;æ‰¾&lt;/span&gt;&lt;span data-raw-text=&quot;åˆ°&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3045&quot;&gt;åˆ°&lt;/span&gt;&lt;span data-raw-text=&quot;åŸ&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3046&quot;&gt;åŸ&lt;/span&gt;&lt;span data-raw-text=&quot;ä½œ&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3047&quot;&gt;ä½œ&lt;/span&gt;&lt;span data-raw-text=&quot;è€…&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3048&quot;&gt;è€…&lt;/span&gt;&lt;span data-raw-text=&quot;è¿›&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3049&quot;&gt;è¿›&lt;/span&gt;&lt;span data-raw-text=&quot;è¡Œ&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3050&quot;&gt;è¡Œ&lt;/span&gt;&lt;span data-raw-text=&quot;æ²Ÿ&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3051&quot;&gt;æ²Ÿ&lt;/span&gt;&lt;span data-raw-text=&quot;é€š&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3052&quot;&gt;é€š&lt;/span&gt;&lt;span data-raw-text=&quot;ã€‚&quot; data-textnode-index=&quot;100&quot; data-index=&quot;3053&quot;&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__7&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__8&quot;&gt;&lt;span&gt;&lt;span data-raw-text=&quot;ä¹Ÿ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3054&quot;&gt;ä¹Ÿ&lt;/span&gt;&lt;span data-raw-text=&quot;å¸Œ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3055&quot;&gt;å¸Œ&lt;/span&gt;&lt;span data-raw-text=&quot;æœ›&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3056&quot;&gt;æœ›&lt;/span&gt;&lt;span data-raw-text=&quot;å„&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3057&quot;&gt;å„&lt;/span&gt;&lt;span data-raw-text=&quot;ä½&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3058&quot;&gt;ä½&lt;/span&gt;&lt;span data-raw-text=&quot;å¤š&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3059&quot;&gt;å¤š&lt;/span&gt;&lt;span data-raw-text=&quot;å¤š&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3060&quot;&gt;å¤š&lt;/span&gt;&lt;span data-raw-text=&quot;æ‰“&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3061&quot;&gt;æ‰“&lt;/span&gt;&lt;span data-raw-text=&quot;èµ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3062&quot;&gt;èµ&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼ˆ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3063&quot;&gt;ï¼ˆ&lt;/span&gt;&lt;span data-raw-text=&quot;ç®—&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3064&quot;&gt;ç®—&lt;/span&gt;&lt;span data-raw-text=&quot;ä½œ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3065&quot;&gt;ä½œ&lt;/span&gt;&lt;span data-raw-text=&quot;ç¨¿&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3066&quot;&gt;ç¨¿&lt;/span&gt;&lt;span data-raw-text=&quot;è´¹&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3067&quot;&gt;è´¹&lt;/span&gt;&lt;span data-raw-text=&quot;ç»™&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3068&quot;&gt;ç»™&lt;/span&gt;&lt;span data-raw-text=&quot;æ–‡&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3069&quot;&gt;æ–‡&lt;/span&gt;&lt;span data-raw-text=&quot;ç« &quot; data-textnode-index=&quot;101&quot; data-index=&quot;3070&quot;&gt;ç« &lt;/span&gt;&lt;span data-raw-text=&quot;ä½œ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3071&quot;&gt;ä½œ&lt;/span&gt;&lt;span data-raw-text=&quot;è€…&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3072&quot;&gt;è€…&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼‰&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3073&quot;&gt;ï¼‰&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼Œ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3074&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span data-raw-text=&quot;æ›´&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3075&quot;&gt;æ›´&lt;/span&gt;&lt;span data-raw-text=&quot;å¸Œ&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3076&quot;&gt;å¸Œ&lt;/span&gt;&lt;span data-raw-text=&quot;æœ›&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3077&quot;&gt;æœ›&lt;/span&gt;&lt;span data-raw-text=&quot;å¤§&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3078&quot;&gt;å¤§&lt;/span&gt;&lt;span data-raw-text=&quot;å®¶&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3079&quot;&gt;å®¶&lt;/span&gt;&lt;span data-raw-text=&quot;å¤š&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3080&quot;&gt;å¤š&lt;/span&gt;&lt;span data-raw-text=&quot;å¤š&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3081&quot;&gt;å¤š&lt;/span&gt;&lt;span data-raw-text=&quot;æŠ•&quot; data-textnode-index=&quot;101&quot; data-index=&quot;3082&quot;&gt;æŠ•&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;ç¨¿&quot; data-textnode-index=&quot;102&quot; data-index=&quot;3083&quot;&gt;ç¨¿&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__9&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__10&quot;&gt;&lt;span data-raw-text=&quot;æŠ•&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3085&quot;&gt;æŠ•&lt;/span&gt;&lt;span data-raw-text=&quot;ç¨¿&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3086&quot;&gt;ç¨¿&lt;/span&gt;&lt;span data-raw-text=&quot;è¯·&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3087&quot;&gt;è¯·&lt;/span&gt;&lt;span data-raw-text=&quot;è”&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3088&quot;&gt;è”&lt;/span&gt;&lt;span data-raw-text=&quot;ç³»&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3089&quot;&gt;ç³»&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼š&quot; data-textnode-index=&quot;104&quot; data-index=&quot;3090&quot;&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__11&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__12&quot;&gt;&lt;span data-raw-text=&quot;s&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3091&quot;&gt;s&lt;/span&gt;&lt;span data-raw-text=&quot;h&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3092&quot;&gt;h&lt;/span&gt;&lt;span data-raw-text=&quot;e&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3093&quot;&gt;e&lt;/span&gt;&lt;span data-raw-text=&quot;n&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3094&quot;&gt;n&lt;/span&gt;&lt;span data-raw-text=&quot;z&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3095&quot;&gt;z&lt;/span&gt;&lt;span data-raw-text=&quot;h&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3096&quot;&gt;h&lt;/span&gt;&lt;span data-raw-text=&quot;e&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3097&quot;&gt;e&lt;/span&gt;&lt;span data-raw-text=&quot;1&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3098&quot;&gt;1&lt;/span&gt;&lt;span data-raw-text=&quot;6&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3099&quot;&gt;6&lt;/span&gt;&lt;span data-raw-text=&quot;3&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3100&quot;&gt;3&lt;/span&gt;&lt;span data-raw-text=&quot;@&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3101&quot;&gt;@&lt;/span&gt;&lt;span data-raw-text=&quot;g&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3102&quot;&gt;g&lt;/span&gt;&lt;span data-raw-text=&quot;m&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3103&quot;&gt;m&lt;/span&gt;&lt;span data-raw-text=&quot;a&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3104&quot;&gt;a&lt;/span&gt;&lt;span data-raw-text=&quot;i&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3105&quot;&gt;i&lt;/span&gt;&lt;span data-raw-text=&quot;l&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3106&quot;&gt;l&lt;/span&gt;&lt;span data-raw-text=&quot;.&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3107&quot;&gt;.&lt;/span&gt;&lt;span data-raw-text=&quot;c&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3108&quot;&gt;c&lt;/span&gt;&lt;span data-raw-text=&quot;o&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3109&quot;&gt;o&lt;/span&gt;&lt;span data-raw-text=&quot;m&quot; data-textnode-index=&quot;105&quot; data-index=&quot;3110&quot;&gt;m&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__13&quot;&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__14&quot;&gt;&lt;span data-raw-text=&quot;æœ¬&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3111&quot;&gt;æœ¬&lt;/span&gt;&lt;span data-raw-text=&quot;æ–‡&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3112&quot;&gt;æ–‡&lt;/span&gt;&lt;span data-raw-text=&quot;ç”±&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3113&quot;&gt;ç”±&lt;/span&gt;&lt;span data-raw-text=&quot; &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3114&quot;&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ç å†œçš„è’å²›æ±‚ç”Ÿ&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;Â &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3118&quot;&gt;Â &lt;/span&gt;&lt;span data-raw-text=&quot;æˆ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3119&quot;&gt;æˆ&lt;/span&gt;&lt;span data-raw-text=&quot;æƒ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3120&quot;&gt;æƒ&lt;/span&gt;&lt;span data-raw-text=&quot; &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3121&quot;&gt;Â &lt;/span&gt;&lt;span data-raw-text=&quot;é¥­&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3122&quot;&gt;é¥­&lt;/span&gt;&lt;span data-raw-text=&quot;ç±³&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3123&quot;&gt;ç±³&lt;/span&gt;&lt;span data-raw-text=&quot;ç²’&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3124&quot;&gt;ç²’&lt;/span&gt;&lt;span data-raw-text=&quot; &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3125&quot;&gt;Â &lt;/span&gt;&lt;span data-raw-text=&quot;å‘&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3126&quot;&gt;å‘&lt;/span&gt;&lt;span data-raw-text=&quot;å¸ƒ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3127&quot;&gt;å¸ƒ&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼Œ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3128&quot;&gt;ï¼Œ&lt;/span&gt;&lt;span data-raw-text=&quot;è½¬&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3129&quot;&gt;è½¬&lt;/span&gt;&lt;span data-raw-text=&quot;è½½&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3130&quot;&gt;è½½&lt;/span&gt;&lt;span data-raw-text=&quot;è¯·&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3131&quot;&gt;è¯·&lt;/span&gt;&lt;span data-raw-text=&quot;æ³¨&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3132&quot;&gt;æ³¨&lt;/span&gt;&lt;span data-raw-text=&quot;æ˜&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3133&quot;&gt;æ˜&lt;/span&gt;&lt;span data-raw-text=&quot;æœ¬&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3134&quot;&gt;æœ¬&lt;/span&gt;&lt;span data-raw-text=&quot;æ¥&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3135&quot;&gt;æ¥&lt;/span&gt;&lt;span data-raw-text=&quot;æº&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3136&quot;&gt;æº&lt;/span&gt;&lt;span data-raw-text=&quot;ä¿¡&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3137&quot;&gt;ä¿¡&lt;/span&gt;&lt;span data-raw-text=&quot;æ¯&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3138&quot;&gt;æ¯&lt;/span&gt;&lt;span data-raw-text=&quot;å’Œ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3139&quot;&gt;å’Œ&lt;/span&gt;&lt;span data-raw-text=&quot;ä»¥&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3140&quot;&gt;ä»¥&lt;/span&gt;&lt;span data-raw-text=&quot;ä¸‹&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3141&quot;&gt;ä¸‹&lt;/span&gt;&lt;span data-raw-text=&quot;çš„&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3142&quot;&gt;çš„&lt;/span&gt;&lt;span data-raw-text=&quot;äºŒ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3143&quot;&gt;äºŒ&lt;/span&gt;&lt;span data-raw-text=&quot;ç»´&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3144&quot;&gt;ç»´&lt;/span&gt;&lt;span data-raw-text=&quot;ç &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3145&quot;&gt;ç &lt;/span&gt;&lt;span data-raw-text=&quot;ï¼ˆ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3146&quot;&gt;ï¼ˆ&lt;/span&gt;&lt;span data-raw-text=&quot;é•¿&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3147&quot;&gt;é•¿&lt;/span&gt;&lt;span data-raw-text=&quot;æŒ‰&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3148&quot;&gt;æŒ‰&lt;/span&gt;&lt;span data-raw-text=&quot;å¯&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3149&quot;&gt;å¯&lt;/span&gt;&lt;span data-raw-text=&quot;è¯†&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3150&quot;&gt;è¯†&lt;/span&gt;&lt;span data-raw-text=&quot;åˆ«&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3151&quot;&gt;åˆ«&lt;/span&gt;&lt;span data-raw-text=&quot;äºŒ&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3152&quot;&gt;äºŒ&lt;/span&gt;&lt;span data-raw-text=&quot;ç»´&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3153&quot;&gt;ç»´&lt;/span&gt;&lt;span data-raw-text=&quot;ç &quot; data-textnode-index=&quot;106&quot; data-index=&quot;3154&quot;&gt;ç &lt;/span&gt;&lt;span data-raw-text=&quot;å…³&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3155&quot;&gt;å…³&lt;/span&gt;&lt;span data-raw-text=&quot;æ³¨&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3156&quot;&gt;æ³¨&lt;/span&gt;&lt;span data-raw-text=&quot;ï¼‰&quot; data-textnode-index=&quot;106&quot; data-index=&quot;3157&quot;&gt;ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p data-style=&quot;color: rgb(53, 53, 53); font-size: 14px; text-align: start; white-space: normal; max-width: 100%; min-height: 1em; font-family: -apple-system-font, system-ui, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; background-color: rgb(255, 255, 255); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot; class=&quot;js_darkmode__15&quot;&gt;&lt;span&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/LHDiahSVnXhunbEtuowcI7kF5kmUaeTrszibibQ3st6OU8hy2CoIotHHLxicicibyF1qkNI7HibXYHXGN6hRby4ZyjR6A/640?wx_fmt=jpeg&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.7272727272727273&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;198&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/dFZyR2JHA40ooBMYVEUxJCPXf4gibCfn7o9SibGwiaIsQFLIZj1fTCMntcXzojwibkvqgTMOiaw14icRwQkP7zNNO7Hw/640?wx_fmt=jpeg&quot;/&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;ç´ è´¨ä¸‰è¿biubiubiu~&lt;img data-ratio=&quot;1&quot; data-type=&quot;png&quot; data-w=&quot;64&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/b96CibCt70iaajvl7fD4ZCicMcjhXMp1v6UibM134tIsO1j5yqHyNhh9arj090oAL7zGhRJRq6cFqFOlDZMleLl4pw/640?wx_fmt=png&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>11215f1cd9b78a12f9be3538ae3569fb</guid>
<title>å®šåˆ¶ä¼˜åŒ– Nextcloud é•œåƒ</title>
<link>https://toutiao.io/k/4sqq7pl</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;entry-content&quot;&gt;&amp;#13;

&lt;p&gt;Nextcloud æ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç§æœ‰äº‘å­˜å‚¨ç½‘ç›˜é¡¹ç›®ï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿä¾¿æ·åœ°æ­å»ºä¸€å¥—å±äºè‡ªå·±æˆ–å›¢é˜Ÿçš„äº‘åŒæ­¥ç½‘ç›˜ï¼Œä»è€Œå®ç°è·¨å¹³å°è·¨è®¾å¤‡æ–‡ä»¶åŒæ­¥ã€å…±äº«ã€ç‰ˆæœ¬æ§åˆ¶ã€å›¢é˜Ÿåä½œç­‰åŠŸèƒ½ã€‚å®ƒçš„å®¢æˆ·ç«¯è¦†ç›–äº†Windowsã€Macã€Androidã€iOSã€Linux ç­‰å„ç§å¹³å°ï¼Œä¹Ÿæä¾›äº†ç½‘é¡µç«¯ä»¥åŠ WebDAVæ¥å£ï¼Œæ‰€ä»¥ä½ å‡ ä¹å¯ä»¥åœ¨å„ç§è®¾å¤‡ä¸Šæ–¹ä¾¿åœ°è®¿é—®ä½ çš„äº‘ç›˜ã€‚&lt;/p&gt;



&lt;span id=&quot;more-278&quot;/&gt;



&lt;p&gt;Nextcloud åŸºäºPHPè¯­è¨€å¼€å‘ï¼Œå¯ä»¥ä½¿ç”¨ Nginx + PHP æˆ– Apache + PHP éƒ¨ç½²ã€‚æˆ‘ä¸ªäººæ¨èDockeræ–¹å¼è¿è¡Œï¼Œå®˜æ–¹çš„Nextcloud Dockeré•œåƒæœ‰åšå¾ˆå¤šä¼˜åŒ–ï¼Œéƒ¨ç½²ç®€å•ï¼Œå‡çº§ä¹Ÿæ–¹ä¾¿ã€‚&lt;/p&gt;



&lt;h3 class=&quot;has-text-align-center&quot; id=&quot;è¿è¡Œnextcloud&quot;&gt;&lt;strong&gt;è¿è¡ŒNextCloud&lt;/strong&gt;&lt;/h3&gt;



&lt;p&gt;Nextcloud çš„æ•°æ®æ˜¯ä¿å­˜åœ¨æ•°æ®åº“ä¸­çš„ï¼Œæ”¯æŒ SQLiteï¼ŒMySQLï¼ŒPostgreSQLã€‚æ®è¯´ Nextcloud ä½¿ç”¨ PostgreSQL æœ‰BuffåŠ æˆã€‚&lt;/p&gt;



&lt;p&gt;ä¸‹è½½é•œåƒï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker pull nextcloud:latest;

docker pull postgres:latest;&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;è¿è¡ŒPostgreSQLï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker run -d -p 5432:5432 --name postgresql --restart=always \
    -e POSTGRES_USER=nextcloud \
    -e POSTGRES_PASSWORD=cloud@2021 \
    -v /data/nextcloud/postgresql:/var/lib/postgresql/data \
    postgres&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;è¿è¡ŒNextCloudï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker run -d -p 8080:80 --name nextcloud --restart=always \
    -v /data/nextcloud/apps:/var/www/html/custom_apps \
    -v /data/nextcloud/config:/var/www/html/config \
    -v /data/nextcloud/data:/var/www/html/data \
    -v /data/nextcloud/theme:/var/www/html/themes/ \
    nextcloud&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;Dockerè¿è¡ŒNextcloudç½‘ä¸Šæ•™ç¨‹å¤ªå¤šï¼Œä»¥ä¸Šå‘½ä»¤ç®€å•ï¼Œä¸å†è®²è§£ã€‚&lt;/p&gt;



&lt;p&gt;å¦‚æœæˆåŠŸï¼Œè¾“å…¥è®¿é—®åœ°å€å°±å¯ä»¥çœ‹åˆ°é…ç½®ç•Œé¢ï¼Œä¸€åˆ‡è®¾ç½®å®Œæˆåå°±å¯ä½¿ç”¨ Nextcloud äº†ã€‚&lt;/p&gt;



&lt;h3 class=&quot;has-text-align-center&quot; id=&quot;ç”Ÿæˆç¼©ç•¥å›¾&quot;&gt;&lt;strong&gt;ç”Ÿæˆç¼©ç•¥å›¾&lt;/strong&gt;&lt;/h3&gt;



&lt;p&gt;ä½¿ç”¨æ—¶ä¼šå‘ç°ï¼ŒNextcloud ä¸Šä¼ çš„è§†é¢‘ä¸èƒ½ç”Ÿæˆç¼©ç•¥å›¾ã€‚å…¶å® Nextcloud æœ¬èº«æ”¯æŒç”Ÿæˆè§†é¢‘ç¼©ç•¥å›¾ï¼Œéœ€è¦å®‰è£… ffmpeg å¹¶ä¿®æ”¹é…ç½®ï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker exec -it nextcloud bash

apt update

apt install ffmpeg&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;ä¿®æ”¹/var/www/html/config/config.phpé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;&#x27;enable_previews&#x27; =&amp;gt; true,
&#x27;enabledPreviewProviders&#x27; =&amp;gt;
array (
  0 =&amp;gt; &#x27;OC\\Preview\\Image&#x27;,
  1 =&amp;gt; &#x27;OC\\Preview\\Movie&#x27;,
  2 =&amp;gt; &#x27;OC\\Preview\\TXT&#x27;,
),&lt;/code&gt;&lt;/pre&gt;



&lt;h3 class=&quot;has-text-align-center&quot; id=&quot;æ”¯æŒæŒ‚è½½samba&quot;&gt;&lt;strong&gt;æ”¯æŒæŒ‚è½½Samba&lt;/strong&gt;&lt;/h3&gt;



&lt;p&gt;Nextcloud ä¸ä»…æ˜¯ä¸€ä¸ªç§æœ‰ç½‘ç›˜ï¼Œå®ƒè¿˜æ”¯æŒç®¡ç†å…¶ä»–å¤–éƒ¨å­˜å‚¨ã€‚å¯ä»¥æŠŠSambaå…±äº«ï¼ŒFTPï¼ŒWebDAVç­‰æŒ‚è½½åˆ°ç›®å½•ä¸‹ç»Ÿä¸€è®¿é—®ç®¡ç†ã€‚&lt;/p&gt;



&lt;p&gt;Nextcloudé»˜è®¤æ˜¯æ²¡æœ‰å¼€å¯å¤–éƒ¨å­˜å‚¨åŠŸèƒ½çš„ï¼Œéœ€åœ¨æ‰‹åŠ¨å¯ç”¨æ’ä»¶ã€‚&lt;/p&gt;







&lt;p&gt;ç„¶ååœ¨è®¾ç½®é‡Œå¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;







&lt;p&gt;Dockeréƒ¨ç½²çš„ Nextcloud é»˜è®¤æ˜¯æ— æ³•æŒ‚è½½ Samba çš„ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºï¼š&lt;/p&gt;







&lt;p&gt;éœ€è¦åœ¨å®¹å™¨å†…å®‰è£…smbclientï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker exec -it nextcloud bash

apt install smbclient libsmbclient-dev

pecl install smbclient

docker-php-ext-enable smbclient&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;é‡å¯DockeræœåŠ¡å³å¯ã€‚&lt;/p&gt;



&lt;h3 class=&quot;has-text-align-center&quot; id=&quot;è‡ªåˆ¶dockeré•œåƒ&quot;&gt;&lt;strong&gt;è‡ªåˆ¶Dockeré•œåƒ&lt;/strong&gt;&lt;/h3&gt;



&lt;p&gt;ä»¥ä¸Šä¸¤å¤„è°ƒæ•´ï¼Œåœ¨å‡çº§ Nextcloud é•œåƒååˆéœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡ã€‚æˆ‘ä»¬å¯ä»¥ç”¨åŸé•œåƒä¸ºåŸºç¡€å®šåˆ¶ä¸€ä¸ª Nextcloud é•œåƒã€‚&lt;/p&gt;



&lt;p&gt;å»ºå»ºæ–‡ä»¶ Dockerfile ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;FROM nextcloud:latest
LABEL maintainer=&quot;engr-z&quot;

RUN apt update &amp;amp;&amp;amp; apt upgrade -y
RUN apt install ffmpeg smbclient libsmbclient-dev -y
RUN pecl install smbclient
RUN docker-php-ext-enable smbclient&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;ç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker build -t my_nextcloud:latest ./&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;æ‰§è¡Œå®Œåä¼šç”Ÿæˆæ–°çš„é•œåƒï¼š&lt;/p&gt;







&lt;p&gt;æˆ‘ä»¬åªéœ€è¦ç”¨è¯¥é•œåƒè¿è¡Œå³å¯ã€‚&lt;/p&gt;



&lt;h3 class=&quot;has-text-align-center&quot; id=&quot;nextcloud-å‡çº§&quot;&gt;&lt;strong&gt;Nextcloud å‡çº§&lt;/strong&gt;&lt;/h3&gt;



&lt;p&gt;1.æ‰§è¡Œ docker pull nextcloud:latest ä¸‹è½½æœ€æ–°é•œåƒï¼Œå†æ„å»ºè‡ªå·±çš„é•œåƒã€‚&lt;/p&gt;



&lt;p&gt;2.åœæ­¢æ­£åœ¨è¿è¡Œçš„Nextcloudå¹¶åˆ é™¤ï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker stop nextcloud&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;3.é‡æ–°è¿è¡Œé•œåƒï¼Œå‚æ•°å’ŒåŸæ¥ä¸€æ ·ã€‚&lt;/p&gt;



&lt;p&gt;é€šè¿‡ Web è¿›å…¥ Nextcloud å°±ä¼šå‡ºç°ï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img loading=&quot;lazy&quot; src=&quot;https://engr-z.com/wp-content/uploads/2021/02/335e5520f3bc5707c522e741d201cf9e.png&quot; alt=&quot;&quot; class=&quot;wp-image-286&quot; title=&quot;&quot; srcset=&quot;https://engr-z.com/wp-content/uploads/2021/02/335e5520f3bc5707c522e741d201cf9e.png 844w, https://engr-z.com/wp-content/uploads/2021/02/335e5520f3bc5707c522e741d201cf9e-300x194.png 300w, https://engr-z.com/wp-content/uploads/2021/02/335e5520f3bc5707c522e741d201cf9e-768x496.png 768w&quot; sizes=&quot;(max-width: 844px) 100vw, 844px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;ä¸æ¨èåœ¨è¯¥ç•Œé¢ä¸Šç‚¹å‡»æ›´æ–°ã€‚å› ä¸ºåœ¨æ›´æ–°å†…å®¹å¤šçš„æƒ…å†µï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰æ–¹åº”ç”¨æ›´æ–°ï¼Œæ—¶é—´è¾ƒé•¿ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šè¶…æ—¶ï¼Œæ¨èä½¿ç”¨ occ æ›´æ–°ã€‚&lt;/p&gt;



&lt;p&gt;occå‘½ä»¤æ˜¯Nextcloudçš„å‘½ä»¤è¡Œç•Œé¢ï¼ŒNextcloudç®¡ç†å‘˜å¯ä»¥é€šè¿‡occæ‰§è¡Œè®¸å¤šå¸¸è§çš„æœåŠ¡å™¨æ“ä½œã€‚å‘½ä»¤æ ¼å¼ï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;sudo -u www-data php occ &amp;lt;your_command&amp;gt;&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;åœ¨Dockerä¸­è¿è¡Œçš„Nextcloudæ‰§è¡Œoccä¼šå‡ºç°æƒé™é—®é¢˜ï¼š&lt;/p&gt;







&lt;p&gt;æ­£ç¡®æ‰§è¡Œï¼š&lt;/p&gt;



&lt;pre class=&quot;wp-block-code&quot;&gt;&lt;code&gt;docker exec --user www-data nextcloud php occ upgrade&lt;/code&gt;&lt;/pre&gt;



&lt;p&gt;å†™è¿™ç¯‡æ–‡ç« æ—¶ï¼ŒNextcloud 21åˆšåˆšå‘å¸ƒï¼Œæ€§èƒ½æå‡å·¨å¤§ã€‚æˆ‘è‡ªå·±ä¹Ÿä¸€ç›´ç”¨ Nextcloud ç®¡ç†å®¶åº­çš„ç…§ç‰‡å’Œè§†é¢‘ï¼Œéå¸¸Niceã€‚&lt;/p&gt;
&lt;hr/&gt;&lt;/div&gt;&amp;#13;
&amp;#13;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>