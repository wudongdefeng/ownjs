<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>f7265605466025c9d1af394563da5406</guid>
<title>trzsz ( trz / tsz ) 是兼容 tmux 的 rz / sz，js 和 go 分别发布 1.0 正式版</title>
<link>https://toutiao.io/k/m5pdysq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a476e1ee8839e88a9ca7be60763c6489</guid>
<title>优质网站同好者周刊（第 096 期） | 倾城博客</title>
<link>https://toutiao.io/k/ejxlekc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;content&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;倾城之链&lt;/a&gt;作为一个开放平台，旨在云集全球&lt;strong&gt;优秀网站&lt;/strong&gt;，探索互联网中更广阔的世界。此周刊，将汇聚过去一周&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;倾城&lt;/a&gt;所收录的内容，以飨同好；欢迎推荐或自荐（仅限有独立域名的网站，可以是二级域名）。您如果要了解收录要求，请参见&lt;a href=&quot;https://nicelinks.site/about?utm_source=weekly&quot;&gt;关于倾城&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;备注&lt;/strong&gt;：本周刊&lt;strong&gt;每周五&lt;/strong&gt;生成，首发于个人微信公众号&lt;a href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI5MDIwMzM2Mg==&amp;amp;action=getalbum&amp;amp;album_id=1530765143352082433&amp;amp;scene=173&amp;amp;from_msgid=2650641087&amp;amp;from_itemidx=1&amp;amp;count=3#wechat_redirect&quot;&gt;晚晴幽草轩&lt;/a&gt;、博客&lt;a href=&quot;https://www.jeffjade.com&quot;&gt;晚晴幽草轩&lt;/a&gt;，以及&lt;a href=&quot;https://forum.lovejade.cn/&quot;&gt;悠然宜想亭&lt;/a&gt;社区；此一键生成脚本基于 &lt;a href=&quot;https://nicelinks.site/post/602d30aad099ff5688618591&quot;&gt;Deno&lt;/a&gt; 编写，并在 Github 开源：&lt;a href=&quot;https://github.com/nicejade/nicelinks-weekly&quot;&gt;nicejade/nicelinks-weekly&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;标签&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/tags/AI&quot;&gt;&lt;code&gt;AI&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E4%BA%A7%E5%93%81&quot;&gt;&lt;code&gt;产品&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E5%88%9B%E4%BD%9C&quot;&gt;&lt;code&gt;创作&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;The #1 Choice for AI Video Creation Platform&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/www.d-id.com.png?x-oss-process=style/png2jpg&quot; alt=&quot;倾城之链 - D-ID | The #1 Choice for AI Generated Video Creation Platform&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;推荐语&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/redirect?url=https://www.d-id.com/&quot;&gt;D-ID&lt;/a&gt; ，&lt;strong&gt;面向未来的生成人工智能平台&lt;/strong&gt;，只需按一下按钮，即可制作带有会说话的头像的定制视频，为企业和创作者提供超能力。它具有以下功能特征：&lt;/p&gt;&lt;h3 id=&quot;人类想象力的数字创作&quot;&gt;&lt;a href=&quot;#%E4%BA%BA%E7%B1%BB%E6%83%B3%E8%B1%A1%E5%8A%9B%E7%9A%84%E6%95%B0%E5%AD%97%E5%88%9B%E4%BD%9C&quot; aria-label=&quot;人类想象力的数字创作 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;人类想象力的数字创作&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;使用最新的生成式 AI 工具，通过使用 Creative Reality™ Studio 单击按钮创建会说话的化身&lt;/strong&gt;；自助工作室配备了 Stable Diffusion 和 GPT-3，让您可以将您的想法变成个性化、经济高效且引人入胜的精彩视频。以零技术知识大规模降低 100 多种语言的视频制作成本和麻烦。&lt;/p&gt;&lt;h3 id=&quot;从照片创建视频&quot;&gt;&lt;a href=&quot;#%E4%BB%8E%E7%85%A7%E7%89%87%E5%88%9B%E5%BB%BA%E8%A7%86%E9%A2%91&quot; aria-label=&quot;从照片创建视频 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;从照片创建视频&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;D-ID 的创意 AI 技术拍摄面部图像并将其转换为高质量、逼真的视频。只需单击一个按钮，它就可以将图像与音频或文本结合起来，赋予它们表达和演讲的能力。&lt;/p&gt;&lt;p&gt;D-ID 的 API 由经过数万个视频训练的神经网络提供支持，并且可以即时输出大规模结果。&lt;/p&gt;&lt;p&gt;D-ID 的 Generative AI 使用户能够将任何图片或视频转化为非凡的体验。其使命是仅使用人工智能来实现完整的视频制作。它旗下有两款产品： &lt;a href=&quot;https://www.d-id.com/liveportrait/&quot;&gt;Live Portrait&lt;/a&gt; （真人肖像）——&lt;strong&gt;只需一张照片即可创造视频的魔力&lt;/strong&gt;；&lt;a href=&quot;https://www.d-id.com/speaking-portrait/&quot;&gt;Speaking Portrait&lt;/a&gt;（说话人像）——&lt;strong&gt;仅从文本或音频创建会说话的头像视频&lt;/strong&gt;。D-ID，有免费版本可用；精简版，售价 5.99 美元/月。&lt;/p&gt;&lt;p&gt;── 出自&lt;a href=&quot;https://nicelinks.site/post/639b07bae524a8432ed1e9fd&quot;&gt;倾城之链 - D-ID | The #1 Choice for AI Generated Video Creation Platform&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;标签&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/tags/%E5%88%86%E6%9E%90&quot;&gt;&lt;code&gt;分析&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E8%87%AA%E6%89%98%E7%AE%A1&quot;&gt;&lt;code&gt;自托管&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E5%BC%80%E6%BA%90&quot;&gt;&lt;code&gt;开源&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Umami is an open source, privacy-focused alternative to Google Analytics.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/umami.is.png?x-oss-process=style/png2jpg&quot; alt=&quot;倾城之链 - Umami | Own your website analytics&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;推荐语&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/redirect?url=https://umami.is/&quot;&gt;Umami&lt;/a&gt; 是一个开源、注重隐私的平台，谷歌分析（Google Analytics）的替代方案（尤其是在 2023 年 7 月，谷歌全面切换至 &lt;code&gt;GA4&lt;/code&gt;——目前来看其体验颇为欠佳）。其创立理念是，用户应该通过他们使用的软件获得授权，而不应该为了交换而放弃隐私和数据所有权等基本权利。&lt;code&gt;umami&lt;/code&gt; 具有以下功能特征：&lt;/p&gt;&lt;h3 id=&quot;尊重数据隐私&quot;&gt;&lt;a href=&quot;#%E5%B0%8A%E9%87%8D%E6%95%B0%E6%8D%AE%E9%9A%90%E7%A7%81&quot; aria-label=&quot;尊重数据隐私 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;尊重数据隐私&lt;/h3&gt;&lt;p&gt;Umami 允许您收集所需的数据，同时尊重用户的隐私。Umami 不收集任何个人信息，不使用 cookie，不跟踪网站上的用户，并且符合 GDPR。最重要的是，您不需要显示烦人的 cookie 通知。&lt;/p&gt;&lt;h3 id=&quot;拥有您的数据&quot;&gt;&lt;a href=&quot;#%E6%8B%A5%E6%9C%89%E6%82%A8%E7%9A%84%E6%95%B0%E6%8D%AE&quot; aria-label=&quot;拥有您的数据 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;拥有您的数据&lt;/h3&gt;&lt;p&gt;Umami 帮助您遵守不断变化的数据隐私法。所有收集的数据都是匿名的，因此无法识别任何个人用户。确保您的数据安全地掌握在手中。&lt;/p&gt;&lt;h3 id=&quot;简单的分析&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E5%8D%95%E7%9A%84%E5%88%86%E6%9E%90&quot; aria-label=&quot;简单的分析 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;简单的分析&lt;/h3&gt;&lt;p&gt;Umami 易于使用和理解，无需运行复杂的报告。Umami 只收集您关心的指标，所有内容都适合一个页面。&lt;/p&gt;&lt;h3 id=&quot;致力于开源&quot;&gt;&lt;a href=&quot;#%E8%87%B4%E5%8A%9B%E4%BA%8E%E5%BC%80%E6%BA%90&quot; aria-label=&quot;致力于开源 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;致力于开源&lt;/h3&gt;&lt;p&gt;Umami 致力于开源开发。将您的信心放在完全透明、经过战斗测试和社区支持的产品上。&lt;/p&gt;&lt;p&gt;Umami 是一个自行托管的网络分析解决方案。有许多不同的方式来运行 Umami。您可以直接从源代码安装或基于 &lt;a href=&quot;https://nicelinks.site/post/5b7036890f8719053c094d68&quot;&gt;docker&lt;/a&gt; 进行安装；详情参见 &lt;a href=&quot;https://umami.is/docs/getting-started&quot;&gt;Umami 文档&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;── 出自&lt;a href=&quot;https://nicelinks.site/post/6399ca80e524a8432ed1e00a&quot;&gt;倾城之链 - Umami | Own your website analytics&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;标签&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/tags/%E6%8B%9B%E8%81%98&quot;&gt;&lt;code&gt;招聘&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E5%B7%A5%E4%BD%9C&quot;&gt;&lt;code&gt;工作&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/vivo&quot;&gt;&lt;code&gt;vivo&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;关键字&lt;/strong&gt;：vivo 招聘, vivo 校园招聘, vivo 社会招聘, vivo 招聘官方网站, vivo 招聘官网, vivo 招聘信息, vivo 职位招聘&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;vivo 官方招聘平台，诚邀精英共创智能未来！未来，在世界所有充满渴望极致的角落，vivo 与你共同创造令人震撼的奇迹！&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/hr.vivo.com.png?x-oss-process=style/png2jpg&quot; alt=&quot;倾城之链 - vivo 招聘&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;推荐语&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/post/5b3ce12a615bf842b609103f&quot;&gt;vivo&lt;/a&gt; 是一家以设计驱动创造伟大产品，以智能终端和智慧服务为核心的科技公司。其愿景是：成为更健康、更长久的世界一流企业；“本分、用户导向、设计驱动、学习、团队”是其核心价值观。 &lt;a href=&quot;https://nicelinks.site/redirect?url=https://hr.vivo.com/&quot;&gt;vivo 招聘&lt;/a&gt; 是 vivo 官方招聘平台（含社会招聘、校园招聘），旨在诚邀精英共创智能未来。&lt;/p&gt;&lt;h3 id=&quot;工作介绍&quot;&gt;&lt;a href=&quot;#%E5%B7%A5%E4%BD%9C%E4%BB%8B%E7%BB%8D&quot; aria-label=&quot;工作介绍 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;工作介绍&lt;/h3&gt;&lt;p&gt;因专注，而专业。长期思考和耐心做事的风格，成就了在全球市场中逐风破浪的 vivo，也让拥有远大愿景的你，更能心无旁骛地在热爱的领域一展所长。&lt;/p&gt;&lt;h3 id=&quot;生活介绍&quot;&gt;&lt;a href=&quot;#%E7%94%9F%E6%B4%BB%E4%BB%8B%E7%BB%8D&quot; aria-label=&quot;生活介绍 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;生活介绍&lt;/h3&gt;&lt;p&gt;让员工 Happy，是 vivo 的责任之一。因此，vivo 会认真对待每个人的辛苦付出，提供有竞争力的薪酬和各种资源，帮助你收获健康、快乐与成长。&lt;/p&gt;&lt;p&gt;vivo 在招岗位有：产品运营类、研发类、设计类、制造类、供应链类、营销类、市场类、公共类、品质类、产品运营类等；把握机会就现在，在 &lt;a href=&quot;https://nicelinks.site/redirect?url=https://hr.vivo.com/&quot;&gt;vivo 招聘&lt;/a&gt; 探索你擅长或感兴趣的工作领域，让 vivo 发现优秀的你。无论你是应届生、还是职场达人，都能在此大放异彩。&lt;/p&gt;&lt;p&gt;── 出自&lt;a href=&quot;https://nicelinks.site/post/6399b464e524a8432ed1ddea&quot;&gt;倾城之链 - vivo 招聘&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;标签&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/tags/WebAssembly&quot;&gt;&lt;code&gt;WebAssembly&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E6%A1%86%E6%9E%B6&quot;&gt;&lt;code&gt;框架&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/Rust&quot;&gt;&lt;code&gt;Rust&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;A framework for creating reliable and efficient web applications.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/yew.rs.png?x-oss-process=style/png2jpg&quot; alt=&quot;倾城之链 - Yew - Rust / Wasm framework for building client web apps&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;推荐语&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/redirect?url=https://yew.rs/&quot;&gt;Yew&lt;/a&gt; 是一个现代 &lt;a href=&quot;https://nicelinks.site/tags/Rust&quot;&gt;Rust&lt;/a&gt; 框架，用于使用 &lt;a href=&quot;https://nicelinks.site/tags/WebAssembly&quot;&gt;WebAssembly&lt;/a&gt; 创建多线程前端 Web 应用程序；能够达成前后端都使用 Rust 开发；它使用类似 React JSX 的语法开发页面，同时支持 class 和函数式两种组件编写方式（据悉，性能尚不如 &lt;a href=&quot;https://nicelinks.site/post/5b1a221c0526c920d6dfaada&quot;&gt;Vue3&lt;/a&gt;、&lt;a href=&quot;https://nicelinks.site/post/6329ab4f36feb75b35987e2a&quot;&gt;SolidJS&lt;/a&gt;、&lt;a href=&quot;https://nicelinks.site/post/62a9c2ad90509e23cea772c0&quot;&gt;Svelte&lt;/a&gt;、&lt;a href=&quot;https://nicelinks.site/post/5b1294b5e93ed2618cfac134&quot;&gt;React&lt;/a&gt; 这些）。它具有以下功能特性：&lt;/p&gt;&lt;h3 id=&quot;基于组件&quot;&gt;&lt;a href=&quot;#%E5%9F%BA%E4%BA%8E%E7%BB%84%E4%BB%B6&quot; aria-label=&quot;基于组件 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;基于组件&lt;/h3&gt;&lt;p&gt;具有基于组件的框架，可以轻松创建交互式 UI。有过 React 和 Elm 等框架经验的开发人员在使用 Yew 时应该感觉很自在。&lt;/p&gt;&lt;h3 id=&quot;html-宏&quot;&gt;&lt;a href=&quot;#html-%E5%AE%8F&quot; aria-label=&quot;html 宏 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;HTML 宏&lt;/h3&gt;&lt;p&gt;具有一个宏，用于使用 Rust 表达式声明交互式 HTML。有过在 &lt;a href=&quot;https://nicelinks.site/tags/React&quot;&gt;React&lt;/a&gt; 中使用 JSX 的经验的开发人员在使用 Yew 时应该会感到宾至如归。&lt;/p&gt;&lt;h3 id=&quot;服务器端渲染&quot;&gt;&lt;a href=&quot;#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93&quot; aria-label=&quot;服务器端渲染 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;服务器端渲染&lt;/h3&gt;&lt;p&gt;为所有 SEO 和服务器渲染应用程序的增强功能提供服务器端渲染，同时保持 SPA 的感觉。&lt;/p&gt;&lt;h3 id=&quot;为性能考虑&quot;&gt;&lt;a href=&quot;#%E4%B8%BA%E6%80%A7%E8%83%BD%E8%80%83%E8%99%91&quot; aria-label=&quot;为性能考虑 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;为性能考虑&lt;/h3&gt;&lt;p&gt;通过最小化每个页面渲染的 DOM API 调用，并使处理轻松地卸载到后台 Web 工作人员，实现了高性能。&lt;/p&gt;&lt;h3 id=&quot;支持前端生态&quot;&gt;&lt;a href=&quot;#%E6%94%AF%E6%8C%81%E5%89%8D%E7%AB%AF%E7%94%9F%E6%80%81&quot; aria-label=&quot;支持前端生态 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;支持前端生态&lt;/h3&gt;&lt;p&gt;支持 &lt;a href=&quot;https://nicelinks.site/tags/JavaScript&quot;&gt;JavaScript&lt;/a&gt; 互操作性，允许开发人员利用 NPM 包并与现有 JavaScript 应用程序集成。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/redirect?url=https://yew.rs/&quot;&gt;Yew&lt;/a&gt; 是一个受 Elm 和 React 启发的现代 &lt;a href=&quot;https://nicelinks.site/tags/Rust&quot;&gt;Rust&lt;/a&gt; 框架，用于使用 &lt;a href=&quot;https://nicelinks.site/tags/WebAssembly&quot;&gt;WebAssembly&lt;/a&gt; 创建多线程前端应用程序。该项目在 &lt;a href=&quot;https://github.com/yewstack/yew&quot;&gt;Github 开源&lt;/a&gt; （截止 2022 年 12 月 13 日，Yew 尚未达到 &lt;code&gt;1.0&lt;/code&gt;，经常有激进的 API 更改或重构）；如果您想了解更多，可以参见 &lt;a href=&quot;https://github.com/jetli/awesome-yew&quot;&gt;Awesome Yew&lt;/a&gt; （精心策划的与 &lt;code&gt;yew&lt;/code&gt; 有关的精彩事物列表）。&lt;/p&gt;&lt;p&gt;── 出自&lt;a href=&quot;https://nicelinks.site/post/6398874ae524a8432ed1d43e&quot;&gt;倾城之链 - Yew - Rust / Wasm framework for building client web apps&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;标签&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/tags/WebAssembly&quot;&gt;&lt;code&gt;WebAssembly&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/JavaScript&quot;&gt;&lt;code&gt;JavaScript&lt;/code&gt;&lt;/a&gt; · &lt;a href=&quot;https://nicelinks.site/tags/%E5%BC%95%E6%93%8E&quot;&gt;&lt;code&gt;引擎&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;V8 is Google’s open source high-performance JavaScript and WebAssembly engine, written in C++.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/v8.dev.png?x-oss-process=style/png2jpg&quot; alt=&quot;倾城之链 - V8 JavaScript engine&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;推荐语&lt;/strong&gt;：&lt;a href=&quot;https://nicelinks.site/redirect?url=https://v8.dev/&quot;&gt;V8&lt;/a&gt; 是 Google 的开源高性能 &lt;a href=&quot;https://nicelinks.site/tags/JavaScript&quot;&gt;JavaScript&lt;/a&gt; 和 &lt;a href=&quot;https://nicelinks.site/tags/WebAssembly&quot;&gt;WebAssembly&lt;/a&gt; 引擎，用 C++ 编写。它用于 Chrome、Node.js、和 &lt;a href=&quot;https://nicelinks.site/tags/%E5%BF%AB%E5%BA%94%E7%94%A8&quot;&gt;快应用&lt;/a&gt; 等。它实现了 ECMAScript 和 WebAssembly，并运行在 Windows 7 或更高版本、macOS 10.12+ 和使用 x64、IA-32、ARM 或 MIPS 处理器的 Linux 系统上。V8 可以独立运行，也可以嵌入到任何 C++ 应用程序中。&lt;/p&gt;&lt;p&gt;V8 编译和执行 JavaScript 源代码，处理对象的内存分配，以及垃圾收集它不再需要的对象。V8 的 stop-the-world、generation、精确的垃圾收集器是 V8 性能的关键之一。&lt;/p&gt;&lt;p&gt;JavaScript 通常用于浏览器中的客户端脚本，例如被用来操作文档对象模型（DOM）对象。然而，DOM 通常不是由 JavaScript 引擎提供，而是由浏览器提供。V8 也是如此——谷歌浏览器提供 &lt;code&gt;DOM&lt;/code&gt;。然而，V8 确实提供了 ECMA 标准中规定的所有数据类型、运算符、对象和函数。&lt;/p&gt;&lt;p&gt;V8 使任何 C++ 应用程序能够将自己的对象和函数暴露给 JavaScript 代码。这取决于你决定哪些对象和函数是你想暴露给 JavaScript 的。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/redirect?url=https://v8.dev/&quot;&gt;v8.dev&lt;/a&gt; ，基于 &lt;a href=&quot;https://nicelinks.site/post/5b1a221c0526c920d6dfaada&quot;&gt;Vue&lt;/a&gt; 、Firebase 搭建的网站；用以承载 V8 开发者博客、V8 文档、JavaScript / WebAssembly 特征等内容。如果您对 &lt;code&gt;v8&lt;/code&gt; 或 WebAssembly 相关内容感兴趣，&lt;code&gt;v8.dev&lt;/code&gt; 非常值得关注。&lt;/p&gt;&lt;p&gt;── 出自&lt;a href=&quot;https://nicelinks.site/post/63986e3ce524a8432ed1d256&quot;&gt;倾城之链 - V8 JavaScript engine&lt;/a&gt;&lt;/p&gt;&lt;p&gt;对倾城之链感兴趣的朋友，可通过 Web，小程序，快应用等渠道进行访问(后续将支持更多，如 VsCode 插件，Chrome 扩展等)。您有任何问题，欢迎随时向我们反馈（您可以通过官网反馈渠道，或添加如下客服微信），🤲 。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://image.nicelinks.site/%E5%80%BE%E5%9F%8E%E4%B9%8B%E9%93%BE-%E5%BE%AE%E4%BF%A1-mini.jpeg&quot; alt=&quot;倾城之链 - 客服微信&quot;/&gt;&lt;/p&gt;&lt;h2 id=&quot;本期文末寄语&quot;&gt;&lt;a href=&quot;#%E6%9C%AC%E6%9C%9F%E6%96%87%E6%9C%AB%E5%AF%84%E8%AF%AD&quot; aria-label=&quot;本期文末寄语 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;本期文末寄语&lt;/h2&gt;&lt;p&gt;无情流水多情客，劝我如曾识。杯行到手休辞却，这公道难得。曲水池上，小字更书年月。还对茂林修竹，似永和节。&lt;br/&gt;纤纤素手如霜雪，笑把秋花插。尊前莫怪歌声咽，又还是轻别。此去翱翔，遍赏玉堂金阙。欲问再来何岁，应有华发。&lt;br/&gt;── 北宋 · 苏轼《劝金船·无情流水多情客》&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;倾城之链&lt;/a&gt;作为一个开放平台，旨在云集全球&lt;strong&gt;优秀网站&lt;/strong&gt;，探索互联网中更广阔的世界；在这里，你可以轻松发现、学习、分享更多有用或有趣的事物。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://image.nicelinks.site/nicelinks-miniprogram-code.jpeg?imageView2/1/w/250/h/250/interlace/1/ignore-error/1&quot; alt=&quot;小程序码 - 倾城之链&quot;/&gt;&lt;/p&gt;&lt;h2 id=&quot;您可能感兴趣的文章&quot;&gt;&lt;a href=&quot;#%E6%82%A8%E5%8F%AF%E8%83%BD%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E6%96%87%E7%AB%A0&quot; aria-label=&quot;您可能感兴趣的文章 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;您可能感兴趣的文章&lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1c541337557083fd25b0dddffc7194b8</guid>
<title>独立开发变现周刊（第84期）：一个地理位置API服务，月收入1.5万美元</title>
<link>https://toutiao.io/k/0iuj402</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;strong&gt;分享独立开发、产品变现相关内容，每周五发布。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;(合集：https://ezindie.com/weekly )&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;目录&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;1、tiny.host: 简单部署你的web项目&lt;/h2&gt;&lt;p&gt;1、拖放你的个人文件或包含内容的zip文件 2、输入一个链接名称点击上传 3、就是这样，大功告成!&lt;/p&gt;&lt;p&gt;这个小产品，作者的年入收入可以达到10万美金级别。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5343889163780307&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUYqiczibJOW4NWgKLzoMwKkVGkSVLPibpaxQk3yX9b4l18fo6jIFLMnuiaw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2021&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7783882783882784&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUCDYiciap8uZupOTia5ssnic6TITsBxPicNrBOAdckaKK75eCmyU8XpLrsCA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1092&quot;/&gt;&lt;/p&gt;&lt;p&gt;tiny.host官网&lt;sup&gt;[1]&lt;/sup&gt;&lt;/p&gt;&lt;h2&gt;2、Verif Tools: 一个在线虚拟身份信息生成器&lt;/h2&gt;&lt;p&gt;Verif Tools，一个在线虚拟身份信息生成器，能够在线生成全球各国的护照、驾驶证照、身份证、账单、信用卡、社会保障SSN、居留证、军人证等等，信息支持定制填写，填写完成即可一键生成，支持下载，无水印下载需要付费。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4714098646879092&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGU7w36gaZb9cRb1cdeLDx8wF4Er5zyia3HhXicgkCacUgWO1rKiaW1HATkA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2291&quot;/&gt;&lt;/p&gt;&lt;p&gt;Verif Tools&lt;sup&gt;[2]&lt;/sup&gt;&lt;/p&gt;&lt;h2&gt;3、screen.studio: 一个桌面端的录屏编辑工具&lt;/h2&gt;&lt;p&gt;这是一个Mac端的录屏编辑工具。不需要复杂的操作就可以编辑出效果很好的演示视频。作者Adam Pietrasiak 在2022年9月13日写了第一行Screen Studio代码。到12月15日已经收入了1万多美金。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8056603773584906&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUjcIGZeHM0eFyRqqg67UQjdsg4ybIgN4N1Ch20U9Du06vEdP3ib5CCPA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1060&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9586330935251799&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGU55xty8QFWPKdnZKpL8BmqkGnicV6l58mdXzQyul91XFDI3nTxenJIgw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1112&quot;/&gt;&lt;/p&gt;&lt;p&gt;screen.studio官网&lt;sup&gt;[3]&lt;/sup&gt;&lt;/p&gt;&lt;h2&gt;4、一个地理位置API服务，月收入1.5万美元&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9445843828715366&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUkD2DSrXEG72NsibuWAyzib40CNqjof5d2HkiaId2xiaRv2G7OnIFicF020Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;794&quot;/&gt;&lt;/p&gt;&lt;p&gt;我是欧文·鲁奇，我的创业项目是geocode.xyz，一个地理位置分析，geocoding API的服务。&lt;/p&gt;&lt;p&gt;它于2016年推出，目前每天有数千名用户，每月API调用超过1亿次，每月收入超过1.5万美元。这一数字比一年前增长了1000%以上，而且仍在快速增长——当月的数据总是高于前一个月。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6376470588235295&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUe8miaQicw69KUR7jrRk76fvuwl2ECVj9n7Ua1P38PhSF0VPb15SzFTTg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;850&quot;/&gt;&lt;/p&gt;&lt;h3&gt;你是怎么想到这个想法的?&lt;/h3&gt;&lt;p&gt;建立地理定位API的想法始于我在研究生院的时候，因为当时缺乏这样的API(谷歌Maps还没有发布)。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.46531667384747954&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUsAuHRnqO6rgduLS7LCDcCdqFTFco3fgXUib7wOVNFS4RE2ibbjMPhfrA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2321&quot;/&gt;&lt;/p&gt;&lt;p&gt;我没有验证这个想法，这是我自己在其他一些项目中所需要的产品。&lt;/p&gt;&lt;h3&gt;带我们了解下你第一个产品的过程。&lt;/h3&gt;&lt;p&gt;地理解析/地理编码 软件是一个复杂的技术过程。它将NLP技术与 Computational Geometry 算法和快速内存数据库相结合。&lt;/p&gt;&lt;p&gt;在2004年，我们花了大约一个月的时间构建了第一个地理代码api。它只适用于加拿大，而且仅限于地理编码。后来，它扩大到包括美国。&lt;/p&gt;&lt;p&gt;这个过程通常是这样的 —— 编写脚本来清理和导入来自不同来源的数据。验证和测试。评估各种性能和准确性指标，并进一步微调，以实现100%覆盖率和准确性的目标。&lt;/p&gt;&lt;p&gt;在性能和准确性之间总是有一个反向的权衡。已经花了14年的时间来建造，我仍然不时地调整它。&lt;/p&gt;&lt;p&gt;2016年，我开始重写现在的 geocode.xyz&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4797867614393603&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUPb7FkZEdqQhJXWezK5iabq1dNdk8cTaDxbyVJ07WyfND2nQPK6Y0OfA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2251&quot;/&gt;&lt;/p&gt;&lt;p&gt;由于OpenStreetMap项目和各种政府开放数据倡议的成功，全球有足够多的开放地理数据可用，使努力变得值得。&lt;/p&gt;&lt;p&gt;该软件的重写使用reinforcement技术从任何长度的文本中进行地理定位和消除歧义，然后通过将它们与完全基于开放数据的现有地理编码数据集进行匹配来进行地理编码。&lt;/p&gt;&lt;p&gt;一开始，启动成本接近于零(我geocode.xyz的域名花了1美金。对于服务器，我在AWS上使用了一个免费的云实例)&lt;/p&gt;&lt;p&gt;大约两年过去了，经营成本随着收入的增加而有所增加。&lt;/p&gt;&lt;p&gt;软件是按小时租用的。它的成本在0.10美元/小时到6.00美元/小时之间，具体取决于硬件上的CPU数量。AWS处理所有客户关系，因此部分业务处于自动化状态。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4943820224719101&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUs6eDKw7aK8OrNogARsL9SMTicuV04DVDxp0sBJbyLGQhGI5hZG28GjA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2136&quot;/&gt;&lt;/p&gt;&lt;p&gt;我还通过直接出售API访问来赚钱，那个定价页面是最近才发布的，在一段时间内API是免费的，大多数业务模式是基于AWS的。&lt;/p&gt;&lt;p&gt;尽管免费版本现在通过节流受到了更多的限制，但与最接近的竞争对手相比，我选择了一个非常便宜的API访问定价模型。&lt;/p&gt;&lt;h3&gt;描述下创业的过程&lt;/h3&gt;&lt;p&gt;geocode.xyz在那里发布了大约6个月后才受到注意，并开始获得第一批客户。&lt;/p&gt;&lt;p&gt;我的第一个客户是一名记者，他想分析2016年左右当地对欧洲移民危机的态度。他们使用geocode构建了一些整洁的实时数据可视化。我花了一些时间使它更好地工作在特定的用例。(我是免费做的，所以严格来说这不是客户)&lt;/p&gt;&lt;p&gt;另一方面，第一个付费客户是在2017年12月左右。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42330259849119867&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUibLm2iby8baEb4JNZRmyIRlT2XW8y0puBiaPJ6S4FceyzyJBETwDdqqgg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2386&quot;/&gt;&lt;/p&gt;&lt;p&gt;然后在2018年1月又增加了3个客户。2月份还有5个，以此类推。其中一些使用geoparsing API，另一些使用 geocoding 或反向 geocoding。批处理地理编码端口也非常受欢迎，特别是对于那些正在寻找一种快速简便的方法在地图上可视化数据的小型客户端。&lt;/p&gt;&lt;p&gt;与此同时，AWS市场实例在2016年发布后不久就有了销售。&lt;/p&gt;&lt;p&gt;2018年初，geocode.xyz开始获得很多客户，所以从这一点开始，我可以称它为“业务”。我不知道为什么。我的营销努力仅限于在会议上发表演讲。也许有些人觉得这个API很有用，会链接到它，并在某些论坛上写了积极的评论。&lt;/p&gt;&lt;h3&gt;自推出以来，是什么吸引和留住了客户?&lt;/h3&gt;&lt;p&gt;自发布以来，我的主要关注点一直是改进API。自两年前以来，它已经走了很长一段路。&lt;/p&gt;&lt;p&gt;我想，一旦一个产品被注意到，它就会迅速发展，2018年的 geocode.xyz就是这样。我的猜测是，如果我能继续添加所需的功能，并改进现有的功能，这种增长将会持续下去，直到这种类型的API的市场规模有限，以及其他竞争对手的潜在进入/增长。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.46332046332046334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLpEI4hw5cTMfMrmZdN5SCGUWOCEULBaLyX0SnxicYxwnQ2H1ibtJ2sWOBL8EF4gFqfw7g73PAK0b2Zw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2331&quot;/&gt;&lt;/p&gt;&lt;p&gt;我仍然不知道2018年发生了什么导致了 geocode.xyz 获得关注，以及为什么在2017年没有发生。2017年，我确实在这方面付出了很多努力，但结果却很少。&lt;/p&gt;&lt;p&gt;geocode.xyz非常有利可图，运营成本保持在总收入的10%以下。从长远来看，我打算进一步与AWS合作，因为这是目前增长最快的收入领域。&lt;/p&gt;&lt;h3&gt;通过创业，你学到了什么特别有用的东西吗?&lt;/h3&gt;&lt;p&gt;经营企业是一项艰巨的工作。从想法到产品，尤其是在开始阶段，需要付出很多努力。产品永远不会完美，所以努力还在继续，因为我是个完美主义者。&lt;/p&gt;&lt;p&gt;我也可以少工作，但我仍然努力工作，因为我喜欢这样，这样我更有使命感。&lt;/p&gt;&lt;p&gt;在过去的13年里，我每年都比之前7年作为全职软件开发人员更加努力。我也赚了更多。&lt;/p&gt;&lt;h3&gt;对其他想要起步或刚刚起步的企业家的建议?&lt;/h3&gt;&lt;p&gt;认清自己的长处，做自己喜欢做的事。有目标感很重要，尤其是当这个目标是要解决一个你有能力解决的问题时。这一点，再加上经济独立的目标，可以把你的时间转化为成功的事业。&lt;/p&gt;&lt;p&gt;以上！&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;tiny.host官网: https://tiiny.host/&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Verif Tools: https://verif.tools/&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;screen.studio官网: https://www.screen.studio/&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;我也🐑了，能写完这篇文章，也属实不易，希望大家都平安健康！&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5OTM3NzAwNg==&amp;amp;mid=2649284834&amp;amp;idx=1&amp;amp;sn=8cbc139af66fdde68c93b5adae6fb106&amp;amp;chksm=bf2021e38857a8f5745f1129be95c7fa080c929c6894fffb81a803246afdbab1c5579c840606&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;7个基于ChatGPT的有意思小产品&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;7个基于ChatGPT的有意思小产品&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5OTM3NzAwNg==&amp;amp;mid=2649284822&amp;amp;idx=1&amp;amp;sn=8133d03589b96958e893501a34e9af73&amp;amp;chksm=bf2021d78857a8c1c2c7a8d1a11cd648498eee3a6108301dab1b41a1762e45bcca019cf1bc8a&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;独立开发变现周刊（第83期）：建在Stripe上的应用，年收入70万美元&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;独立开发变现周刊（第83期）：建在Stripe上的应用，年收入70万美元&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.4010582010582011&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/G4umk62oPLqxplJYrINXumqtVdQcxYLtztgN2kZoYgTAbQCTEAkKmiaHicw4eTppCJfz4CibHYl3DTPlE2GmSXpxQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;945&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;加入知识星球，和我一起做自己产品的独立变现，内有独家资料&lt;/span&gt;&lt;br/&gt;&lt;span&gt;星球内分享最新个人实战和经验、成员专属福利&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ba1d6c96d7689e5e23c6965cbae08c53</guid>
<title>后台开发进阶：白话DDD从入门到实践</title>
<link>https://toutiao.io/k/1r6dycq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.1575&quot; data-type=&quot;gif&quot; data-w=&quot;400&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/j3gficicyOvasIjZpiaTNIPReJVWEJf7UGpmokI3LL4NbQDb8fO48fYROmYPXUhXFN8IdDqPcI1gA6OfSLsQHxB4w/640?wx_fmt=gif&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作者：kunqian，腾讯 WXG 后台开发工程师&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;尝试用大家都能听得懂的话，结合我们在增值业务中的具体实现，分享一下我们从入门到实践 DDD 的一些心得。&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;0. 写在前面的&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DDD（领域驱动设计）是 Eric Evans 于 2003 年提出的解决复杂的中大型软件的方法，开始一直不愠不火。直到 Martin Fowler 于 2014 年发表的论文《Microservices》引起大家对微服务的关注，DDD 才重新慢慢的回到了大众的视野中。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DDD 这几年升温的同时，也收到了很多行业人员对 DDD 的负面意见，主要原因大概有“晦涩难懂过于抽象”、“很难找到实际的案例参考”、“不知道怎么落地”等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;笔者在学习 DDD 的过程中，也遇到了这些问题。不过在经过几个月的学习-实践，逐渐掌握了 DDD 的一些思想后，感觉还是确实有所受益，&lt;strong&gt;所以这里尝试用白话去总结我们从入门到实践的过程，尽量每一个概念都用我们的具体实现做出例子&lt;/strong&gt;，希望能对想一起学习 DDD 的同事有所帮助。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1.一个维护中的业务系统引出的思考&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们后台+前端大概 6-8 个开发同事这几年一起维护了一个带货类的项目，这个项目我们用了最传统的三层模型来搭建，大概是如下的模型：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6645569620253164&quot; data-type=&quot;jpeg&quot; data-w=&quot;948&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztYmWHPAAiajlIVezhOV2ibnK7Boaibefevu914E89xK5YvRZibicyojU6Cdg/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当这个项目维护几年之后，逐渐出些了一些有意思的情况，我挑选一些主要环节发现的代表性问题介绍下：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;情况 1（代码层面）：&lt;/strong&gt;少部分代码可读性在长期不同人员的修改下变得越来越差。如某个带货的核心 rpc 逻辑没有任何嵌套平铺在一个函数，单函数代码行数达到几百行，可读性和维护性极差，成功化身为“技术护城河”。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;情况 2（微服务层面）：&lt;/strong&gt; 某些微服务初始职能划分较为简单，导致少量模块在后续快速的迭代中快速膨胀。如其中的 mp 模块，原本职能是用来承接 B 端门户的功能，当我们决定拆分这个庞大的模块时，这个模块已经承载了 204 个 rpc。过多的能力承担让它编译变慢、变成链路单点、改动较多、一旦出现问题影响较大。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;情况 3（业务团队层面）：&lt;/strong&gt;带货项目会使用一些其他业务系统的接口和数据结构，当这些业务系统想要修改这些接口和数据结构的时候 ，偶尔可能没有察觉这里的依赖导致线上问题， 或者沟通过来发现耦合处比较多不容易改动。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对这个项目的维护引出了我们一些思考，在一个复杂业务系统中：代码结构要如何设计、微服务的横/纵向职能要如何划分、业务团队之间如何交互，才能持续在长期快速、多人协作的迭代中保证系统可维护性、拓展性、高内聚低耦合和稳定性。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;而传统的开发模式不管是&lt;strong&gt;面向过程（POP）&lt;/strong&gt;还是&lt;strong&gt;面向对象（OOP）&lt;/strong&gt;的思维，都没办法从微服务层面指导我们找到这些问题的答案。大概有两种方法解决这个问题：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1）寻找一个总是有时间、总能做出正确决策的中心节点同事，介入每一处全局/细节的设计并统一做出决策。2）寻找一个新的规则/规范来做指导，让每一位开发都能有做出正确决策的依据。在 Tencent 的氛围和环境中，2）无疑是更合理的，所以我们想到了领域驱动设计(DDD)。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2.DDD 的分层架构&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DDD 最有标志性的一点，就是将传统软件设计三层模型转化为了四层模型，这个转化如下图所示：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.680973734785394&quot; data-type=&quot;jpeg&quot; data-w=&quot;1561&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztsFlibgHeNp8Rj3JkCiaFzQziaaUgrz4d6GRIX1ibKlafQOD61QpCBZmRkQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;乍看之下，四层架构引入了很多概念，如领域服务、领域对象、 DTO、仓储等等。我们先不用在意这些细节概念，因为下一节我们会逐个分析并列举我们的实现例子。我们先关注这几个关键的层：&lt;strong&gt;用户界面层、应用层、领域层、基础设施层&lt;/strong&gt;。我们来看下他们的职能分工：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;用户界面层：网络协议的转化/统一鉴权/Session 管理/限流配置/前置缓存/异常转换&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;应用层：&lt;strong&gt;业务流程编排（仅编排，不能存在业务逻辑）&lt;/strong&gt;/ DTO 出入转化&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;领域层：领域模型/领域服务/仓储和防腐层的接口定义&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;基础设施层：仓储和防腐层接口实现/存储等基础层能力&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里必须要说的是，&lt;strong&gt;这四层不一定是指物理四层，也可以在一个微服务中拆分逻辑四层&lt;/strong&gt;。四层架构有很多变种，如六边形架构、洋葱架构、整洁架构、清晰架构等等。这些繁多的概念我们这里不过多讨论，仅以洋葱架构为例，着重强调 DDD 中的&lt;strong&gt;依赖倒置（DIP）&lt;/strong&gt;，以便后面更容易介绍仓储/防腐层等概念。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;依赖倒置(DIP)：&lt;br/&gt;&lt;span&gt;1.&lt;/span&gt;高级模块不应依赖于低级模块。两者都应依赖抽象。&lt;br/&gt;&lt;span&gt;2.&lt;/span&gt;抽象不应依赖细节。细节应依赖于抽象。&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8801115241635687&quot; data-type=&quot;jpeg&quot; data-w=&quot;1076&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuzt6PI41ObbUBvnic9CE2vHgh5oRHSnTtUZSsXCQCkhEfq7OkhzVYR3lEw/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如上，洋葱架构越往里依赖越低，越是核心能力。基础设施层在最外面，依赖其他层，这是是因为 DDD 中其他层等需要定义自己需要的基础能力接口，而基础设施层负责依赖并实现这些接口，从而实现整体依赖倒置。这体现了 DDD 的由全局入细微、自顶层向下层的设计思维。&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3.DDD 的概念和实践&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1）战略和战术&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DDD 的落地过程，其实就是&lt;strong&gt;战略建模&lt;/strong&gt;和&lt;strong&gt;战术建模&lt;/strong&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;战略建模&lt;/strong&gt;，是指：通过 DDD 的理论，对业务需求进行拆解分析，划分子域，梳理限界上下文，通过领域语言从战略层面进行领域划分以及构建领域模型。并且在在构建领域模型的过程中梳理出业务对应的聚合、实体、以及值对象。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;战术建模&lt;/strong&gt;，是指：以领域模型基础，通过限界上下文作为服务划分的边界进行微服务拆分，在每个微服务中进行领域分层，实现领域服务，从而实现领域模型对于代码映射目的，最终实现 DDD 的落地实施。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6876404494382022&quot; data-type=&quot;jpeg&quot; data-w=&quot;1335&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztyMpiaBOZkE4exwXT2ypwJOdtUkFGrWYIye52DRbbqn2Ez4OIv0RgPUA/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然，战略和战术的建模除了要考虑业务形态，还要考虑到组织架构，就如同&lt;strong&gt;康威定律&lt;/strong&gt;中的表达，&lt;strong&gt;沟通架构会影响技术架构&lt;/strong&gt;。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;康威定律：任何组织在设计一套系统（广义概念上的系统）时，所交付的设计方案在结构上都与该组织的沟通结构保持一致。&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2）领域&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DDD 在解决复杂的问题的时候，使用的是分而治之的思想。而这个分而治之的思想，就是从领域开始，一个领域就是一个问题空间，而我们在拆分这个问题空间的时候，也就是在划分子领域和寻找它的解系统的过程。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如我们某个新的增值业务，就是看成是的大的增值业务域，接下来我们通过 DDD 来指导拆分它。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6309055118110236&quot; data-type=&quot;jpeg&quot; data-w=&quot;1016&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztic5o73UrnWld7vNqXcNia6uU2ODbDzJSN3dINmRSlDyiboX74BSw6FahA/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;3&lt;/strong&gt;）&lt;strong&gt;子域&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果一个领域太大太复杂，涉及到的业务规则、交互流程、领域概念太多，就不能直接针对这个大的领域进行建模。这时就需要将领域进行拆分，本质上就是把大问题拆分为小问题，把一个大的领域划分为了多个小的领域（子域）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;子域可以分为三类：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;核心子域：&lt;/strong&gt;业务成功的核心竞争力。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;通用子域：&lt;/strong&gt;不是核心，但被整个业务系统所使用 。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;支撑子域：&lt;/strong&gt;不是核心，不被整个系统使用，完成业务的必要能力。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;子域的划分除了分治了大的问题空间，也划定了工作的优先级。我们应该给予核心域最高的优先级和最大的资源。在实施 DDD 的过程中，我们也是主要关注于核心域。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;子域的划分，需要比较强的业务知识和产品研发集体讨论，准确和深入的业务见解在这一阶段尤为重要。这里我们不对业务知识深入讨论，仅展示下我们的对增值业务域的拆解结果。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6587556125721616&quot; data-type=&quot;jpeg&quot; data-w=&quot;1559&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuzt7JccKSs1TnsBlUociaRFMiatQfzJKoEYYC53wDCVF7fqv3oCrYa2kqOg/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里要说的是，套餐域在实现的过程中由于产品需求变化概念被废弃了，但是由于我们的子域拆分，套餐域和其他域实现上没有任何耦合，所以废弃套餐域概念的废弃就像拆掉一个积木一样，对整套系统没有任何影响，也不会遗留任何不必要的包袱代码。&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;4）限界上下文&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;要理解限界上下文，首先要先介绍通用语言。通用语言是 DDD 非常重要的一点。比如商品这个概念，在商品域里是指备上架的商品， 包含了 id、介绍、文档等。在交易域里其实是指订单中被交易的实体，关注的是 id、成交时刻的售价等参数、成交数量。而如果不能明确这些概念和他们的关系就会让开发人员的实现变的随心所欲和模糊。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;而限界上下文是就是划分一个边界，当领域模型被一个显示的边界所包围时，其中每个概念的含义应该是明确且有唯一的含义。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我觉得初学者最常碰到的问题，肯定&quot;明明已经有子域了，为什么还会有限界上下文这个概念&quot;。子域是一个子问题空间，而限界上下文的作用是指导如何设计这个问题空间的解系统。换句话说，限界上下文才是真正用来指导微服务划分。一般来说一个子域对应一个或多个限界上下文。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;划分限界上下文可以参考如下的规则：1） 概念是否有歧义：如果一个模型在一个上下文里面有歧义，就说明可以继续拆分限界上下文。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2）外部系统：可以把与外部系统交互的那部分拆分出去降低外部系统对我们我们的核心业务逻辑的影响。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3）组织架构：不同团队最好在不同的限界上下文里面开发，避免沟通不顺畅、集成困难等问题。可以参考上述&quot;&lt;strong&gt;康威定律&lt;/strong&gt;&quot;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子 1：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如上所述，商品&lt;strong&gt;这个概念，是需要用限界上下文在不同场景区分开的。当然这也会导致两个限界上下文之间会有依赖。通过 DDD 的概念可以指导我们进行如下实现。&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4006896551724138&quot; data-type=&quot;jpeg&quot; data-w=&quot;1450&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuzt1FmMNDuXLJ6vgGbLzmDqfeAr7lWMicfMg1bu3BpGs8LsVvRT58eJcpQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;其中 gateway/gatewayimpl 是防腐层的实现，DTO 是指数据传输对象，APP 是指商品应用层。两个不同颜色的商品是指两个上下文中分别进行定义的不同的实体或值对象。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子 2：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;交易域中，有两个订单的概念，其中第一个订单的概念是指业务层订单， 第二个订单的概念是指内部基础层订单。业务订单更关注发生交易的成交商品信息，这个订单是用户需要的。基础层订单更关注交易底层的过程信息，这个订单更多是我们内部人员需要的，用户不理解。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当时有个思路是想让基础层团队的同学额外开发直接支持基础层订单存储业务信息，这明显是不符合 DDD 限界上下文划分规则 1）和 3）的，是需要通过限界上下文解耦开的。所以我们在交易域中拆分两个上下文，后续从微服务层面也是相互独立的微服务，各自管理各自的领域实体和值对象。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5578437310720775&quot; data-type=&quot;jpeg&quot; data-w=&quot;1651&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuzthL86iam8K4icVEX2dNAcSmIZbTeia5xviaRFXINdYcmMWo0rlXWoia6M5mw/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;5）防腐层&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当两个限界上下文相互调用的时候，需使用防腐层（ACL）来进行两个限界上下文的隔离，并实现 value object 的转换。避免不同上下文直接互相调用，不然一旦被调用上下文被修改则可能产生较大影响。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;实现链路可以参考 3.4 的例子 1，在商品域中，我们的防腐层是按照如下的目录方式实现的， 领域层来定义领域层需要的防腐接口，基础设施层继承并实现防腐接口，在基础设施层直接调用其他限界上下文。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;productdomainsvr （商品限界上下文）&lt;br/&gt;├── domain（领域层）&lt;br/&gt;│   ├── aggregate&lt;br/&gt;│   │   ├── spu.cpp                        //1)spu领域对象需要调用其他限界上下文生成id&lt;br/&gt;│   │   └── spu.h&lt;br/&gt;│   └── gateway&lt;br/&gt;│       └── gen_id_gateway.h         //2)领域层定义调用其他限界上下文生成id的防腐接口&lt;br/&gt;├── infrastructure（基础设施层）&lt;br/&gt;│   └── gatewayimpl&lt;br/&gt;│      └── acl（防腐层）&lt;br/&gt;│         ├── gen_id_gateway_impl.cpp //3)基础设施层实现领域层定义的防腐接口，真实调用其他上下文&lt;br/&gt;│         └── gen_id_gateway_impl.h&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;6）领域事件&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;两个限界上下文除了通过使用防腐层直接调用，更多的时候是通过领域事件来进行解耦。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;并不是所有领域中发生的事情都需要被建模为领域事件，我们只关注有业务价值的事情。领域事件是领域专家所关心的（需要跟踪的、希望被通知的、会引起其他模型对象改变状态的）发生在领域中的一些事情。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其实，领域事件的本质就是事件，我们常见的 kafka、wq 等都可以作为领域事件的实现基建。通过领域事件，可以把很轻松两个限界上下文解耦&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在我们的增值业务中，交易域的&quot;支付成功&quot;就是一个领域事件，计费域订阅这个领域事件，从而可以根据这个事件调整客户的计费资源包实体。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24958494742667406&quot; data-type=&quot;jpeg&quot; data-w=&quot;1807&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztX4wlhiasWRPzjqgNZlicbaDDdXfatN5jLAI6eBMyYzic0ngiaFAibPZrb7g/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以想象，如果这里没有采用领域事件， 而是交易域直接调用计费域的 rpc 通知交易成功，那么当后续有其他域需要接受“支付成功”这个事件，或者，计费域被调用的接口出现故障。都会让交易域陷入麻烦，前者需要交易域不停的堆叠调用外部 rpc 的代码并让系统变得不稳定，后者则直接会让计费域的故障影响到用户交易。&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;7）实体/值对象&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实体是指上下文中唯一的且可持续变化的基础单元，在其生命周期中可以通过稳定的唯一 id 来标识。实体在我们代码中以领域对象的形态存在，同时具备属性和方法，实体是 DDD 用来实现充血编程、解决贫血症的关键。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;与实体相对应的就是值对象，如果没有唯一标识就是值对象。值对象一般是嵌套在实体里面的。&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;商品域中的实体和值对象如下&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;strong&gt;实体&lt;/strong&gt;&lt;/th&gt;&lt;th&gt;&lt;strong&gt;描述&lt;/strong&gt;&lt;/th&gt;&lt;th&gt;&lt;strong&gt;关键值对象&lt;/strong&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;SPU&lt;/td&gt;&lt;td&gt;指一个被上架的服务。&lt;/td&gt;&lt;td&gt;spu_id, spu_type，状态等。&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;SKU&lt;/td&gt;&lt;td&gt;指一个服务具体的单项套餐。&lt;/td&gt;&lt;td&gt;sku_id, 规格，价格等。&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;折扣&lt;/td&gt;&lt;td&gt;自定义折扣。&lt;/td&gt;&lt;td&gt;折扣 id，折扣类型，折扣比例等。&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;8）聚合/聚合根&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;把关系紧密的实体放到一个聚合中，每个聚合中有一个实体作为聚合根，所有对于聚合内对象的访问都通过聚合根来进行，外部对象只能持有对聚合根的引用。每个聚合都可以有一个独立的上下文边界。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;聚合应划分的尽量小，一个聚合只包含一个聚合根实体和密不可分的实体，实体中只包含最小数量的属性。设计这样的小聚合有助于进行后续微服务的拆分。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果一个 rpc 所实现的功能是跨聚合的，那跨聚合的编排协调工作应该放在应用层来实现。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们可以在 6)中的例子划分如下的聚合。&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;strong&gt;聚合&lt;/strong&gt;&lt;/th&gt;&lt;th&gt;&lt;strong&gt;实体&lt;/strong&gt;&lt;/th&gt;&lt;th&gt;&lt;strong&gt;是否是根&lt;/strong&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;聚合 1&lt;/td&gt;&lt;td&gt;服务 SPU&lt;/td&gt;&lt;td&gt;是&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;服务 SKU&lt;/td&gt;&lt;td&gt;否&lt;/td&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;聚合 2&lt;/td&gt;&lt;td&gt;折扣&lt;/td&gt;&lt;td&gt;是&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在底层存储落表上， spu 实体/折扣实体作为表的一行， 而 sku 实体在这种聚合建模的指引下我们设计成 spu 聚合根的一列。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在微服务拆分上，如果想拆到最细粒度， 可以把两个聚合按照各自上下文拆成独立的微服务。当然这种落地实现并不是 DDD 强行要求的，我认为一些时候我们也可以从开发维护效率的角度考虑， 将一些有关联的小上下文放在一个为微服务上。我们在处理商品域上选择了后者。&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;9）DTO/领域对象/Data object&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当一个请求进入 DDD 所设计的系统中，这个请求的形态会根据所在的层级发生如下变换，DTO&amp;lt;-&amp;gt;领域对象&amp;lt;-&amp;gt;Data object。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;DTO 是指对外传输的其他服务需要理解的结构，领域对象是指同时包含了属性和方法的领域实体封装，Data object 则是真正用于最终存储的数据结构。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7422324510932106&quot; data-type=&quot;jpeg&quot; data-w=&quot;869&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztbafibaweQavZzcQUPz4jSL5hjo7sNt8w5J6BiaPgHBX4yFt9ibMAvMHDQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里其实很容易发现，DTO 的存在虽然符合其他调用方&lt;strong&gt;最少知识原则（LKP）&lt;/strong&gt;，但如果连最简单的查询请求都需要做这三级的转换，那无疑是会加重开发的复杂度，变成为了设计模式而设计模式。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;最少知识原则(迪米特法则，LKP):一个软件实体应当尽可能少地与其他实体发生相互作用。这里的软件实体是一个广义的概念，不仅包括对象，还包括系统、类、模块、函数、变量等。&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;所以 DDD 在这里一般会使用 CQRS（读写责任分离）架构，来保证一些简单的查询请求不会因为领域建模而变得过于复杂。CQRS（读写责任分离）基于 CQS（读写分离），使用了 CQRS 的 DDD 对象转换流程如下：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6601239669421488&quot; data-type=&quot;jpeg&quot; data-w=&quot;968&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvau8maibc9t42kTkMeyVdsuztaO9pzyib6bAicpGFibF9Xa3cZCv4e8rTFeqHvgAqWAMXibBCic3SDibib3NuA/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们的实现是在领域对象中封装了转换的 convert 函数（当然也可以在基础设施层将 convert 方法拆分出来做单独的封装），用于将 DTO 转换为领域对象，或者将领域对象转换为 DO。下面是我们明细域的实际转换代码和转换过程。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//1.领域对象中定义convert方法&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DetailRecord&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;:&lt;br/&gt;    &lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;ConvertFromDTO&lt;/span&gt;&lt;span&gt;(&lt;span&gt;const&lt;/span&gt; google::protobuf::Message&amp;amp; oDto)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;ConvertToDO&lt;/span&gt;&lt;span&gt;(detailrecordinfrastructure::DetailRecordDO &amp;amp; oDo)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;};&lt;br/&gt;&lt;span&gt;//2.应用层调用方法将DTO转化为领域对象， 然后调用仓储接口进行持久化&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;DetailrecordApplication::InsertDetailRecord&lt;/span&gt;&lt;span&gt;(&lt;span&gt;unsigned&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; head_uin, &lt;span&gt;const&lt;/span&gt; InsertDetailRecordReq&amp;amp; req,  InsertDetailRecordResp* resp)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;   &lt;span&gt;int&lt;/span&gt; iRet = &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;   &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DetailRecord&lt;/span&gt; &lt;span&gt;oRecord&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;   iRet = oRecord.ConvertFromDTO(req); &lt;span&gt;//生成领域对象，可以同时利用领域对象的方法进行自检等操作&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   iRet = m_oDetailRecordGateway-&amp;gt;Save(oRecord); &lt;span&gt;//调用仓储接口进行持久化&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;return&lt;/span&gt; iRet;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//3.在仓储中将领域对象转化为Dataobject，进行落存储操作，并发布领域事件&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;DetailRecordGatewayImpl::Save&lt;/span&gt;&lt;span&gt;(DetailRecord &amp;amp; oEntity)&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;   detailrecordinfrastructure::DetailRecordDO oDo;&lt;br/&gt;   &lt;span&gt;int&lt;/span&gt; iRet = oEntity.ConvertToDO(oDo);&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   iRet = oKvMapper.insert(oDo);      &lt;span&gt;//实际落存储&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   iRet = oEventMapper.publish(oDo);  &lt;span&gt;//发送领域事件&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;return&lt;/span&gt; iRet;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;10）仓储&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;仓储&lt;/strong&gt;是领域层由定义接口，它抽象了业务逻辑中对实体的访问（包括读取和存储）的技术细节。它的作用就是通过隔离具体的存储层技术实现来保证业务逻辑的稳定性。注意，&lt;strong&gt;仓储只是接口的定义是在领域层，但是它的实现是在基础设施层&lt;/strong&gt;。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;仓储不是数据库 Dao！！！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;仓储不是数据库 Dao！！！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;仓储不是数据库 Dao！！！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;重要的事情说三遍，仓储是从业务逻辑的角度抽象出来的接口，所以仓储的接口在实现上，一般是一个聚合对应一个仓储实现，仓储的需要用领域对象做参数。仓储接口的命名也可以取 save 这种更业务的命名， 而避免传统 dao 的 insert/set 等这种明明。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;实践例子：&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;通过 3.9 的例子，我们可以发现，仓储用于持久化的接口里，不但包含了写 kv 的操作，还包含了发布领域事件等操作，这就是因为仓储是从业务逻辑角度抽象出来的接口，领域层只需要理解 save 这个业务操作，而不应该理解 save 的过程包含了落存储、发布领域事件等具体流程。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//1.领域层定义DetailRecord仓储的接口&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DetailRecordGateway&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt;:&lt;br/&gt;       &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;       &lt;span&gt;&lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; &lt;span&gt;Save&lt;/span&gt;&lt;span&gt;(DetailRecord &amp;amp; oEntity)&lt;/span&gt; &lt;/span&gt;= &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;       &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;};&lt;br/&gt;&lt;span&gt;//2.基础设施层继承领域层的仓储接口进行实现&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DetailRecordGatewayImpl&lt;/span&gt; :&lt;/span&gt; &lt;span&gt;public&lt;/span&gt; DetailRecordGateway {&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt;:&lt;br/&gt;       &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;       &lt;span&gt;&lt;span&gt;virtual&lt;/span&gt; &lt;span&gt;int&lt;/span&gt; &lt;span&gt;Save&lt;/span&gt;&lt;span&gt;(DetailRecord &amp;amp; oEntity)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;       &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt; };&lt;br/&gt;&lt;span&gt;//3.仓储save接口具体实现&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;DetailRecordGatewayImpl::Save&lt;/span&gt;&lt;span&gt;(DetailRecord &amp;amp; oEntity)&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;   detailrecordinfrastructure::DetailRecordDO oDo;&lt;br/&gt;   &lt;span&gt;int&lt;/span&gt; iRet = oEntity.ConvertToDO(oDo);&lt;br/&gt;   &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   iRet = oKvMapper.insert(oDo);      &lt;span&gt;//实际落存储&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   iRet = oEventMapper.publish(oDo);  &lt;span&gt;//发布领域事件&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;/*...*/&lt;/span&gt;&lt;br/&gt;   &lt;span&gt;return&lt;/span&gt; iRet;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;11）领域服务&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当一些能力不适合放在某个领域对象中实现，又因为过于复杂不应该放在应用层来实现。可以把这些操作封装成领域服务的中方法，由应用层编排领域层的领域对象和领域服务方法来完成具体的业务功能。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;4.DDD 的代码脚手架&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们基于对 DDD 的理解和 WXG 的 svrkit 框架，设定我们的代码脚手架。脚手架的目录如下所示，希望可以给想一起实践的同事抛砖引玉，也欢迎大家来找我们一起讨论：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;项目目录&lt;br/&gt;├── adapter（物理用户界面模块）&lt;br/&gt;├── domainsvr（领域微服务）&lt;br/&gt;│   ├── detailrecorddomainsvr（明细域微服务）&lt;br/&gt;│   │   ├── adapter（用户界面层）&lt;br/&gt;│   │   ├── application（应用层）&lt;br/&gt;│   │   │   ├── detailrecord_application.cpp（应用层方法）&lt;br/&gt;│   │   ├── domain（领域层）&lt;br/&gt;│   │   │   ├── aggregate（聚合根）&lt;br/&gt;│   │   │   │   ├── detail_record.cpp（领域对象）&lt;br/&gt;│   │   │   │   └── detailrecordaggregate.proto（聚合根的值对象）&lt;br/&gt;│   │   │   ├── entity（非根实体）&lt;br/&gt;│   │   │   │   └── detailrecordentity.proto（非根实体的值对象）&lt;br/&gt;│   │   │   ├── gateway&lt;br/&gt;│   │   │   │   └── detail_record_gateway.h（仓储接口）&lt;br/&gt;│   │   │   └── detailrecord_domain_service.cpp（领域服务）&lt;br/&gt;│   │   ├── infrastructure（基础设施层）&lt;br/&gt;│   │   │   ├── gatewayimpl&lt;br/&gt;│   │   │   │   ├── acl（防腐层实现）&lt;br/&gt;│   │   │   │   └── detail_record_gateway_impl.cpp（仓储实现）&lt;br/&gt;│   │   │   └── detailrecordinfrastructure.proto（Data object定义）&lt;br/&gt;│   │   └── detailrecord.proto（DTO定义)&lt;br/&gt;└── infrastructuresvr（物理基础设施模块）&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e6b278f4769585aaeff788f4ecc2ba8b</guid>
<title>【Redis技术探索】「底层架构原理」探索分析服务核心数据结构介绍和案例_洛神灬殇的博客-CSDN博客</title>
<link>https://toutiao.io/k/hp3vboy</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/9695cebfde1cb4c9e7afc41fa7644141.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;h1&gt;&lt;a id=&quot;Redis_2&quot;/&gt;Redis常用存储类型&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;Redis底层提供了5种数据结构：&lt;strong&gt;字符串、哈希、列表、集合、有序集合&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;下图非常形象的表示了数据结构：&lt;br/&gt; &lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/f69a6fcbe88d604f4b2197aab29fa1b2.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;String_9&quot;/&gt;字符串String&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_11&quot;/&gt;常用命令&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;EX seconds：设置失效时长，单位秒&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;PX milliseconds：设置失效时长，单位毫秒&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;NX：key不存在时设置value，成功返回OK，失败返回(nil)&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;XX：key存在时设置value，成功返回OK，失败返回(nil)&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;SET key value [EX seconds] [PX milliseconds] [NX|XX]&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;_20&quot;/&gt;批量存储字符串键值对&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;MSET key value [key value...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;key_27&quot;/&gt;设置一个不存在的key&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SETNX key value
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keyvalue_34&quot;/&gt;获取key对应的value&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;GET key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_41&quot;/&gt;批量获取字符串键值&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;MGET key [key...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_48&quot;/&gt;删除一个键&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;DEL key [key...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_55&quot;/&gt;设置一个键的过期时间(秒)&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;EXPIRE key seconds
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_62&quot;/&gt;原子操作&lt;/h4&gt; 
&lt;h5&gt;&lt;a id=&quot;key1_64&quot;/&gt;将key中储存的数字值加1&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;INCR key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;key1_71&quot;/&gt;将key中储存的数字值减1&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;DECR key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;keyincrement_78&quot;/&gt;将key中储存的数字值加increment&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;INCRBY key increment
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;keydecrement_85&quot;/&gt;将key中储存的数字值减decrement&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;INCRBY key decrement
&lt;/code&gt;&lt;/pre&gt; 
&lt;hr/&gt; 
&lt;h2&gt;&lt;a id=&quot;String_94&quot;/&gt;String应用场景&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_96&quot;/&gt;单值存储&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;SET sentinel:status 1
GET sentinel:status
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_103&quot;/&gt;对象存储&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;JSON_105&quot;/&gt;JSON格式&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SET user:1001 {&quot;userId&quot;:1001, &quot;userName&quot;:&quot;张三&quot;, &quot;age&quot;:28}
GET user:1001
MSET user:1001:name 张三 user:1001:age 28
MGET user:1001:name user:1001:age
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_114&quot;/&gt;分布式锁&lt;/h3&gt; 
&lt;p&gt;返回1表示获取锁成功，返回0表示获取锁失败&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;SET lock:product:100001 1 EX 30 NX
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;处理成功后释放锁&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;DEL lock:product:100001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_128&quot;/&gt;计数器&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;INCR article:readcount:18021 // 文章id为18021阅读数量+1
GET article:readcount:18021  // 查询文章id为18021阅读数量
DECR product:count:100001  // 产品id为100001库存-1
GET product:count:100001    // 查询产品id为100001库存
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;WebSession_136&quot;/&gt;Web集群Session共享&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;SET sessionId  {&quot;userId&quot;:1001,&quot;name&quot;:&quot;张三&quot;,&quot;auth&quot;:&quot;&quot;}

&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;id_143&quot;/&gt;分布式全局主键id&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;INCRBY order:ids 1000   // 给订单服务生成1000个主键id
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;Hash_150&quot;/&gt;哈希Hash&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;key_152&quot;/&gt;存储一个哈希表key的键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HSET key field value
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;key_159&quot;/&gt;存储一个不存在的哈希表key的键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HSETNX key field value
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;key_165&quot;/&gt;存储多个哈希表key的键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HMSET key field value [field value ...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyfield_172&quot;/&gt;获取哈希表key对应的field键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HGET key field
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyfield_179&quot;/&gt;批量获取哈希表key中多个field键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HMGET key field [field ...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyfield_186&quot;/&gt;批量删除哈希表key中的field键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HDEL key field [field ...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyfield_193&quot;/&gt;返回哈希表key中field的数量&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HLEN key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;key_199&quot;/&gt;返回哈希表key中所有的键值&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HGETALL key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyhash_206&quot;/&gt;删除key，整个hash表全部删除&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;DEL key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;keyfieldincrement_213&quot;/&gt;为哈希表key中field键的值加上增量increment&lt;/h3&gt; 
&lt;pre&gt;&lt;code&gt;HINCRBY key field increment
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;hash_219&quot;/&gt;hash应用场景&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;_221&quot;/&gt;存储对象&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;hmset userinfo id:1001:name 张三 id:1001:age 28
hmget userinfo id:1001:name id:1001:age
hmset user:1001 id 1001 name 张三 age 28
expire user:1001 30
hgetall user:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_231&quot;/&gt;电商购物车&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;用户id为key，商品id为field，商品数量为value&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h5&gt;&lt;a id=&quot;_235&quot;/&gt;添加商品&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;hset cart:user:1001 10088 1
hset cart:user:1001 10072 1
hset cart:user:1001 10192 1
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_243&quot;/&gt;商品增加数量&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;hincrby cart:user:1001 10088 1
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_249&quot;/&gt;获取商品总数&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;hlen cart:user:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_255&quot;/&gt;删除商品&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;hdel cart:user:1001 10072
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_261&quot;/&gt;查询商品列表&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;hgetall cart:user:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;hash_267&quot;/&gt;hash优缺点&lt;/h4&gt; 
&lt;h5&gt;&lt;a id=&quot;_269&quot;/&gt;优点&lt;/h5&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;同类数据归类整合储存，方便数据管理，相比string操作消耗内存与cpu更小，相比string储存更节省空间&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h5&gt;&lt;a id=&quot;_273&quot;/&gt;缺点&lt;/h5&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;过期功能只能设置在key上，无法对field单独设置key，一个key不能存太多的field&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;&lt;a id=&quot;List_277&quot;/&gt;List集合&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_279&quot;/&gt;常用操作&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;listvalue_281&quot;/&gt;list列表左边依次插入一个或多个value&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;LPUSH list value [value ...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;listvalue_287&quot;/&gt;list列表右边依次插入一个或多个value&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;RPUSH list value [value ...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;list_293&quot;/&gt;移除list列表最左边的元素并返回&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;LPOP list
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;list_299&quot;/&gt;移除list列表最右边的元素并返回&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;RPOP list
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;liststartstop_305&quot;/&gt;返回列表list中指定区间内的元素，区间以偏移量start和stop指定&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;LRANGE list start stop
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;listlisttimeout_311&quot;/&gt;从list列表中弹出最左边的元素，如果list为空则阻塞timeout秒&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;BLPOP list [timeout]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;listlisttimeout_317&quot;/&gt;从list列表中弹出最右边的元素，如果list为空则阻塞timeout秒&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;BRPOP list [timeout]
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-9UYjlSrn-1671096099930)(null)]&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;list_326&quot;/&gt;list实现数据结构&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;栈（FILO）：&lt;strong&gt;LPUSH + LPOP 或 RPUSH + RPOP&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;队列（FIFO）：&lt;strong&gt;LPUSH + RPOP 或 RPUSH + LPOP&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;阻塞队列：&lt;strong&gt;LPUSH + BRPOP&lt;/strong&gt;或&lt;strong&gt;RPUSH+BLPOP&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;list_332&quot;/&gt;list应用场景&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;_334&quot;/&gt;消息队列&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;利用list的LPUSH + BRPOP实现一个消息队列，故而可以实现一个简单的点对点消息队列&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;_338&quot;/&gt;点赞用户列表&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;利用RPUSH + LRANGE组合实现点赞用户列表功能&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;_342&quot;/&gt;消息推送&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;利用LPUSH + LRANGE组合实现消息推送功能&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;&lt;a id=&quot;Set_346&quot;/&gt;Set集合&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_348&quot;/&gt;常用操作&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;key_350&quot;/&gt;往集合key中存入一个或多个元素，元素存在则忽略，元素不存在则存入&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SADD key [member] [member...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;key_356&quot;/&gt;从集合key中移除一个或多个元素，不存在的元素则忽略&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SREM key [member] [member...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;key_362&quot;/&gt;获取集合key中所有元素&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SMEMBERS key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;key_368&quot;/&gt;获取集合key总个数&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SCARD key
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;memberkey_374&quot;/&gt;判断member元素在key集合中是否存在&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SISMEMBER key member
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keycountkey_380&quot;/&gt;从集合key中随机选择出count个元素，元素不从集合key中删除&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SRANDMEMBER key [count]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keycount_386&quot;/&gt;从集合key中移除随机count个元素&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SPOP key [count]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_392&quot;/&gt;多个集合求交集&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SINTER key [key...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;destination_398&quot;/&gt;将交集结果存入destination集合中&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SINTERSTORE destination key1 [key2] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;destination_403&quot;/&gt;将交集结果存入destination集合中&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SUNION key1 [key2] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;destination_409&quot;/&gt;将并集结果存入destination集合中&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SUNIONSTORE destination key1 [key2]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_415&quot;/&gt;差集运算&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SDIFF key1 [key2] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;destination_421&quot;/&gt;将差果存入destination集合中&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;SDIFFSTORE destination key1 [key2]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_427&quot;/&gt;应用场景&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;_428&quot;/&gt;抽奖小程序&lt;/h4&gt; 
&lt;h5&gt;&lt;a id=&quot;id100110293_430&quot;/&gt;奖品id为1001的抽奖添加10293用户&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;SADD draw:prizes:1001 10293
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_436&quot;/&gt;查看所有参与抽奖用户&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;SMEMBERS draw:prizes:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_442&quot;/&gt;抽奖&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;SPOP draw:prizes:1001
SPOP draw:prizes:1001 N
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_449&quot;/&gt;点赞、收藏功能&lt;/h5&gt; 
&lt;h6&gt;&lt;a id=&quot;_451&quot;/&gt;收藏&lt;/h6&gt; 
 
&lt;pre&gt;&lt;code&gt;SADD collect:article:1001 29102
&lt;/code&gt;&lt;/pre&gt; 
&lt;h6&gt;&lt;a id=&quot;_458&quot;/&gt;取消收藏&lt;/h6&gt; 
 
&lt;pre&gt;&lt;code&gt;SREM collect:article:1001 29102
&lt;/code&gt;&lt;/pre&gt; 
&lt;h6&gt;&lt;a id=&quot;_464&quot;/&gt;检查用户是否收藏&lt;/h6&gt; 
&lt;pre&gt;&lt;code&gt;SISMEMBER collect:article:1001 29102
&lt;/code&gt;&lt;/pre&gt; 
&lt;h6&gt;&lt;a id=&quot;_469&quot;/&gt;获取收藏的用户列表&lt;/h6&gt; 
&lt;pre&gt;&lt;code&gt;SMEMBERS collect:article:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h6&gt;&lt;a id=&quot;_475&quot;/&gt;获取收藏用户数&lt;/h6&gt; 
&lt;pre&gt;&lt;code&gt;SCARD collect:article:1001
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;ZSet_482&quot;/&gt;ZSet有序集合&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_484&quot;/&gt;常用操作&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;_486&quot;/&gt;向有序集合添加一个或多个成员，或者更新已存在成员的分数&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZADD key score1 member1 [score2 member2] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keykey_492&quot;/&gt;从有序集合key中删除key&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZREM key member [member...]
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keymember_498&quot;/&gt;返回有序集合key中元素member的分值&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZSCORE key member
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keymemberincrement_504&quot;/&gt;为有序集合key中元素member的分值加上increment&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZINCRBY key increment member 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;key_510&quot;/&gt;返回有序集合key中元素个数&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZCARD key 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keystartstop_516&quot;/&gt;正序获取有序集合key从start下标到stop下标的元素&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZRANGE key start stop [WITHSCORES] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;keystartstop_522&quot;/&gt;倒序获取有序集合key从start下标到stop下标的元素&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZREVRANGE key start stop [WITHSCORES] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_528&quot;/&gt;并集计算&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZUNIONSTORE destkey numkeys key [key ...]  
&lt;/code&gt;&lt;/pre&gt; 
&lt;h4&gt;&lt;a id=&quot;_534&quot;/&gt;交集计算&lt;/h4&gt; 
&lt;pre&gt;&lt;code&gt;ZINTERSTORE destkey numkeys key [key ...] 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_540&quot;/&gt;应用场景&lt;/h3&gt; 
&lt;h4&gt;&lt;a id=&quot;_542&quot;/&gt;排行榜功能&lt;/h4&gt; 
&lt;h5&gt;&lt;a id=&quot;id1000120210426_545&quot;/&gt;文章id10001在20210426日被点击一次&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;ZINCRBY hotnews:20210426 1 10001 
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_551&quot;/&gt;展示当天热点前十新闻&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;ZREVRANGE hotnews:20210426 0 10 WITHSCORES
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_557&quot;/&gt;七日搜索榜单计算&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;ZUNIONSTORE hotnews:20210426-20210502 hotnews:20210426 hotnews:20210427 ... hotnews:20210502
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_563&quot;/&gt;展示七日排行前十&lt;/h5&gt; 
&lt;pre&gt;&lt;code&gt;ZREVRANGE hotnews:20210426-20210502 0 10 WITHSCORES
&lt;/code&gt;&lt;/pre&gt; 
&lt;h1&gt;&lt;a id=&quot;Redis10w_570&quot;/&gt;Redis为什么每秒支持10w并发&lt;/h1&gt; 
&lt;ul&gt;&lt;li&gt;单线程设计，避免线程上下文切换&lt;/li&gt;&lt;li&gt;基于内存操作运算&lt;/li&gt;&lt;li&gt;使用IO多路复用技术实现对多个并发请求的响应&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/0e55051d33a673e0d57a9b0f20f3c8a7.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>