<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>3950a01f9cc280144bf7955f12a573a2</guid>
<title>é†’é†’å§ï¼Œæœªæ¥ä¸ä¼šæœ‰ Go2 äº†ï¼</title>
<link>https://toutiao.io/k/d6zkan1</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç…é±¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é©¬ä¸Šæ˜¥èŠ‚äº†ï¼ŒèŠ‚å‰æœ€åä¸€æ›´ã€‚æå‰é¢„ç¥å¤§å®¶æ˜¥èŠ‚å¿«ä¹ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬å‘¨æœ«åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œçœ‹åˆ° Go å›¢é˜Ÿå¤§å½“å®¶ Russ Coxï¼ˆä¸‹ç§°ï¼šrscï¼‰åœ¨è¿‘æœŸåˆ†äº«çš„ã€Š&lt;span&gt;GopherCon 2022: Russ Cox - Compatibility: How Go Programs Keep Working&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ã€‹ï¼Œè®²çš„æ˜¯ Go åœ¨å…¼å®¹æ€§æ–¹é¢çš„ç°æœ‰é—®é¢˜å’Œæ€è€ƒï¼Œè¿˜åŸ‹äº†ä¸ªæ–°é¢„æœŸã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.668693009118541&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KVl0giak5ib4jtSWQDZX6Za6wCpMuV2KqiaGeMayMCUFgKsR79T9fjGNUcAxt3HGeWAxF4GgvVsBUHhjbud0qJ88Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1974&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»–æå‡ºäº†ä¸€ä¸ªæ–°çš„ Sloganï¼šâ€œGo is boring, and that&#x27;s good.ï¼ˆGo å¾ˆæ— èŠï¼Œè¿™å¾ˆå¥½ï¼‰â€ï¼ŒåŸå› åœ¨äºæ— èŠä»£è¡¨ç¨³å®šçš„ã€‚æ— èŠæ„å‘³ç€ä½ èƒ½å¤Ÿä¸“æ³¨äºä½ çš„å·¥ä½œï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„å·¥ä½œã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5620360551431601&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KVl0giak5ib4jtSWQDZX6Za6wCpMuV2KqiaH37qk8ZFmAcUxpsJiaopdia4CxWUkzwW1nyaMZWtvKOuVBlAIL5SeQ2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1886&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¸å¿ƒæ¥è®²ï¼ŒGo å›¢é˜Ÿå¸Œæœ› Go è¶³å¤Ÿç®€æ´ï¼ŒGopher ä¸è¦æ•´å¤©å· Go çš„å„ç§å¥‡æ€å¦™è®¡ï¼Œè¦æŠŠç²¾åŠ›éƒ½å…³æ³¨åˆ°è‡ªå·±çš„å·¥ä½œä¸Šï¼Œä¸è¦å…³æ³¨ä»–ä»¬ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä¸€å¼€å§‹å¬èµ·æ¥å¤šå°‘æœ‰ç‚¹é“ç†å’Œè‡ªå·±çš„æƒ³æ³•ï¼Œå¬ç€å¬ç€è¿™ä¸ªè½¦å°±åˆ¹ä¸ä½äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æœ€åçš„æœ€åï¼Œrsc å†·ä¸ä¸çš„æ­£å¼å®˜å®£ï¼š&lt;strong&gt;ä¸ä¼šæœ‰ Go2 äº†ï¼Œä¼šä¸€ç›´ä¿æŒ Go1ï¼Œå°†ä¼šåŠ å€æŠ•å…¥å¯¹ Go1 å…¼å®¹æ€§çš„å»ºè®¾ï¼Œè¿™å°†éå¸¸æœ‰ä»·å€¼&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5630965005302226&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KVl0giak5ib4jtSWQDZX6Za6wCpMuV2KqiazyXYMjjND86wmqiaXt38VibVYOtXSF5r2ic5NQBHxBl9aZo46xXDxwmAA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1886&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œä»–ä¹Ÿè®²äº†ï¼Œç‹­ä¹‰é‡Œçš„ Go2 å¯èƒ½å·²ç»å‘ç”Ÿäº†ï¼Œåªæ˜¯æ…¢æ…¢è½¬ä¸ºäº† Go1 çš„æ–°ç‰¹æ€§èå…¥åˆ°äº† Go ä¹‹ä¸­ã€‚ï¼ˆæˆ‘å¾ˆæƒ³è¯´ï¼Œç‰ˆæœ¬å·ä¹Ÿè¿˜æ˜¯ Go1ï¼Œå¥½ä¸€ä¸ªæ„è¯†...ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€é‡è¦çš„ï¼Œé‚£äº›æ²¡æ³•å…¼å®¹çš„ â€œæ–°â€ ä¸œè¥¿æ€ä¹ˆåŠï¼Ÿå¤§æ–¹å‘çš„å¤§æ‹›å·²ç»åœ¨å‰æ–‡ã€Š&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzUxMDI4MDc1NA==&amp;amp;mid=2247497881&amp;amp;idx=1&amp;amp;sn=91ab6e1c034d80621be301d2ae89b3e4&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;åŠ å¤§åŠ›åº¦ï¼Go å°†ä¼šå¢å¼º Go1 å‘åå…¼å®¹æ€§&lt;/a&gt;ã€‹æœ‰ä»‹ç»è¿‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¸å¿ƒä¹‹ä¸€ï¼š&lt;strong&gt;ä½¿ç”¨ Go å·¥ç¨‹ä¸­çš„ go.mod æ–‡ä»¶å†…çš„ go ç‰ˆæœ¬å·æ¥æ§åˆ¶ç¼–è¯‘&lt;/strong&gt;çš„é€‰æ‹©ï¼Œå†³å®šå„ä¸ªåº“åœ¨ä¸åŒ Go ç‰ˆæœ¬ä¸‹ä»¥ä¸åŒçš„è¡¨ç°æ¥åº”ç”¨å…¶ç‰¹æ€§ï¼Œå°†ä¼šå½±å“ç¼–è¯‘æ—¶çš„å†³å®šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5616438356164384&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KVl0giak5ib4jtSWQDZX6Za6wCpMuV2KqiacLU2XPFqabbA6brrkFw6vpX1DCYE8u5C3h2RAgQfreojJzub53C50g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1898&quot;/&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸»æ¨¡å—ï¼ˆmain module)ï¼šå£°æ˜ go ç‰ˆæœ¬æ˜¯ 1.19ï¼Œä»–å¯ä»¥ä½¿ç”¨æ³›å‹å’Œå¸¦ä¸‹åˆ’çº¿çš„æ•°å­—ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¨¡å— A v1.0.0ï¼šå£°æ˜ go ç‰ˆæœ¬æ˜¯ 1.17ï¼Œæ¨¡å— A é‡Œçš„åŒ…ä¸å¯ä»¥ä½¿ç”¨æ³›å‹ï¼ˆ1.18 æ‰å¼€å§‹æ”¯æŒï¼‰ï¼Œå¸¦ä¸‹åˆ’çº¿çš„æ•°å­—å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¨¡å— B v1.2.1ï¼šå£°æ˜ go ç‰ˆæœ¬æ˜¯ 1.12ï¼Œä¸¤è€…éƒ½ä¸èƒ½ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šè¿°è¯´æ˜ä¸­ï¼Œä¸»æ¨¡å—ã€æ¨¡å— Aã€æ¨¡å— Bï¼Œåˆ†åˆ«æ ¹æ® go.mod å†…çš„ go ç‰ˆæœ¬å·ï¼Œåº”ç”¨åˆ°äº†ä¸åŒçš„å¯ç”¨ç‰¹æ€§ï¼ˆæœ‰çš„å¯ä»¥ç”¨æ³›å‹ï¼Œæœ‰çš„ä¸å¯ä»¥ç”¨å¸¦ä¸‹åˆ’çº¿çš„æ•°å­—ï¼Œæœ‰çš„éƒ½ä¸èƒ½ç”¨ç­‰ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æœ¬è´¨æ˜¯ç»“åˆ Go modules åŸæœ¬çš„ä¾èµ–ç®¡ç†é€»è¾‘ï¼Œå†å¤ç”¨ go.mod çš„ go ç‰ˆæœ¬å·ç»™ä¸åŒç‰ˆæœ¬çš„ä¸åŒç‰¹æ€§æ¥åšå¥½ç¼–è¯‘çš„æ§åˆ¶é€»è¾‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœªæ¥å°†ä¸ä¼šæœ‰ Go2ï¼Œéƒ½ä¼šæ˜¯ Go1.xã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·²ç»æ‰¾åˆ°èƒ½å¾€é‡Œå„ç§å¡çš„å§¿åŠ¿äº†ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¨èé˜…è¯»&lt;span/&gt;&lt;/h4&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;GopherCon 2022: Russ Cox - Compatibility: How Go Programs Keep Working:&lt;em&gt;https://www.youtube.com/watch?v=v24wrd3RwGo&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å…³æ³¨å’ŒåŠ ç…é±¼å¾®ä¿¡ï¼Œ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ä¸€æ‰‹æ¶ˆæ¯å’ŒçŸ¥è¯†ï¼Œæ‹‰ä½ è¿›æŠ€æœ¯äº¤æµç¾¤&lt;span&gt;&lt;span&gt;ğŸ‘‡&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9988738738738738&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KVl0giak5ib4jVkzHVvaqjo3O0BIqDRJKkEyib7SJsryxHBFGsvek0FkdiczfJP6AdbWnK25DvlX3dY8wRObPbVJQg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;888&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.07106598984771574&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/486RHs1WbcgGib6o96dHbvGUGGwPicd8wusUGH1cXR29tM4bO0lNzialzkQhvU6m5ZUdaKibmcF2OQayjMe9Bia6iaXQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;394&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯ç…é±¼ï¼Œ&lt;span&gt;å‡ºç‰ˆè¿‡ Go ç•…é”€ä¹¦ã€ŠGo è¯­è¨€ç¼–ç¨‹ä¹‹æ—…ã€‹ï¼Œå†åˆ°è·å¾— GOPï¼ˆGo é¢†åŸŸæœ€æœ‰è§‚ç‚¹ä¸“å®¶ï¼‰è£èª‰ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxMDI4MDc1NA==&amp;amp;mid=2247483854&amp;amp;idx=1&amp;amp;sn=ec422fbf4d846975f2930ddeb5e81373&amp;amp;chksm=f9041493ce739d85a4b987eece14da627206cdad798f645cc770868312e4a22b6df24804f186&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç‚¹å‡»è“å­—æŸ¥çœ‹æˆ‘çš„å‡ºä¹¦ä¹‹è·¯&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ç‚¹å‡»è“å­—æŸ¥çœ‹æˆ‘çš„å‡ºä¹¦ä¹‹è·¯&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ—¥å¸¸åˆ†äº«é«˜è´¨é‡æ–‡ç« ï¼Œè¾“å‡º Go é¢è¯•ã€å·¥ä½œç»éªŒã€æ¶æ„è®¾è®¡ï¼Œ&lt;span&gt;åŠ å¾®ä¿¡æ‹‰è¯»è€…äº¤æµç¾¤ï¼Œå’Œå¤§å®¶äº¤æµï¼&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9bf2746ce8c4d352ba9ef917c7983649</guid>
<title>Web 3D ä»å…¥é—¨åˆ°è·‘è·¯</title>
<link>https://toutiao.io/k/ww8p4f5</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä¸ºæ¥è‡ª &lt;strong&gt;å­—èŠ‚è·³åŠ¨-ä¸šåŠ¡ä¸­å°-å‰ç«¯å›¢é˜Ÿ&lt;/strong&gt; æˆå‘˜çš„æ–‡ç« ï¼Œå·²æˆæƒ ELab å‘å¸ƒã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å‰æƒ…æ¦‚è¦&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºåœ¨è¯¥é¢†åŸŸå°ç™½çš„æˆ‘ï¼Œåœ¨å‡†å¤‡è¯¥ä¸»é¢˜åˆ†äº«ä¹‹å‰ï¼Œæˆ‘ä¿¡å¿ƒæ»¡æ»¡çš„å»çŸ¥ä¹æŸ¥äº†ä¸‹ï¼Œå¦‚ä½•å­¦ä¹  WebGLï¼Ÿ&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;å¦‚ä½•å…¥æ‰‹webGlä»¥åŠthree.jså‘¢? - çŸ¥ä¹&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‰ç«¯å¼€å‘è€…åº”è¯¥å¦‚ä½•å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦ç›¸å…³çš„çŸ¥è¯†? - çŸ¥ä¹&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤§ä¸‰è®¡ç®—æœºï¼Œæƒ³æ¥è§¦å›¾å½¢å­¦æ–¹é¢çš„çŸ¥è¯†ï¼Œç›´æ¥å­¦WebGLè¿˜æ˜¯OpenGL ? - çŸ¥ä¹&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt; ç­‰ .......&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‘˜å–è‡ªçŸ¥ä¹å›å¤ï¼šå›¾å½¢ + æ•°å­¦ + ä½“ç³»ç»“æ„ + æ“ä½œç³»ç»Ÿ + è½¯ä»¶å·¥ç¨‹ + è®¾è®¡æ¨¡å¼ + ç¼–è¯‘åŸç† + (C++åŠŸåŠ›) â‰ˆ æ›´å¥½çš„3D è½¯ä»¶å·¥ç¨‹å¸ˆã€‚(ç„¶è€Œæˆ‘ä¸æƒ³æˆä¸ºæ›´å¥½çš„3D è½¯ä»¶å·¥ç¨‹å¸ˆ)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ—¶ä¹Ÿçœ‹äº†å¾ˆå¤šå¤§ä½¬åˆ†äº«å­¦ä¹ è·¯å¾„ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å›¾å½¢å­¦ å’Œ æ•°å­¦ æ‰“å¥½åŸºç¡€ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç½‘å‹è¯´ï¼šæ¨èçœ‹3dæ•°å­¦åŸºç¡€è¿™æœ¬ä¹¦ï¼Œå­¦å¥½çº¿æ€§ä»£æ•°ï¼Œæ¥å£æœ¬è´¨å°±æ˜¯æ•°å­¦å’Œç‰©ç†ï¼Œæ¶‰åŠå¤§é‡çŸ©é˜µå˜æ¢...&lt;/p&gt;&lt;/blockquote&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;é€‰æ‹©ä¸€ä¸ªé¢†åŸŸï¼ŒWeb (WebGLã€Threejs)ã€3Då¼•æ“ã€æ¸¸æˆ (Unity) .....&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç½‘å‹è¯´ï¼šè¯­è¨€æ˜¯ä»¥ç¡¬ä»¶ä¸ºåŸºç¡€çš„ï¼Œå¦‚æœä½ äº†è§£CPUï¼Œå­¦ä¹ Cè¯­è¨€å¾ˆéšæ„ï¼ŒåŒæ ·ç€è‰²å™¨è¯­è¨€GLSLæ˜¯ç±»ä¼¼Cè¯­è¨€çš„é«˜çº§è¯­è¨€åœ¨GPUä¸Šæ‰§è¡Œçš„è¯­è¨€ï¼Œå­¦ä¹  WebGL APIå’Œç€è‰²å™¨è¯­è¨€æœ€å¥½å»äº†è§£GPUçš„æ¸²æŸ“ç®¡çº¿ã€å¯ç¼–ç¨‹ç€è‰²å™¨ã€‚è¯­è¨€å’Œç¡¬ä»¶åˆæ˜¯éš”ç¦»çš„ï¼Œæ²¡æœ‰å¿…è¦æ·±å…¥äº†è§£ç¡¬ä»¶ï¼ŒçŸ¥é“ä¸€ä¸ªå¤§æ¦‚å°è±¡å°±è¡Œã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;ol start=&quot;3&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å¹²ï¼šä¸æ–­å­¦ä¹ ã€ä¸æ–­å®è·µã€ç›´åˆ°å¯ä»¥é€ è½®å­ï¼Œå†å¾ªç¯ ......&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹äº†æ¯”è¾ƒå¤šçš„çŸ¥ä¹å›å¤åï¼Œæˆ‘å‘ç°è¿™ç©æ„å­¦ä¹ è·¯å¾„å’Œé—¨æ§›éƒ½æ¯”è¾ƒé«˜çš„ï¼Œéƒ½æ˜¯å’Œåº•å±‚ã€æ•°å­¦å¼ºç›¸å…³çš„ã€‚è€Œä¸” WebGL æŠ€æœ¯å’Œ Web å‰ç«¯æŠ€æœ¯è¿˜æ˜¯æœ‰æ¯”è¾ƒå¤§åŒºåˆ«ï¼Œæ„Ÿè§‰é™¤äº†åªæ˜¯å«&lt;code&gt;Web&lt;/code&gt;å¤–æ²¡åˆ«çš„ç›¸åŒå•¦ã€‚é€Ÿæˆæ˜¯ä¸å¯èƒ½çš„ï¼Œæœ‰å°¤å…¶åœ¨è¯¥é¢†åŸŸæˆ‘æ˜¯ä¸ªå°ç™½ï¼Œæ‰€ä»¥æœ¬æ¬¡åˆ†äº« (åˆ°æ­¤ç»“æŸ)ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.048780487804878&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a80PcicPiaVteejHHrMRKRsIYshZeXogNFSZOVvfJibadibHxN9kKEocUxHw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;984&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ¬¡åˆ†äº«ï¼Œå¤§è‡´åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¦‚å¿µç¯‡ï¼šæµ…æµ…äº†è§£è®¡ç®—æœºå›¾å½¢ç›¸å…³çŸ¥è¯†ã€‚å…ˆäº†è§£ OpenGLã€WebGLç­‰åº“æˆ–è¯­è¨€éƒ½æ˜¯å¹²ä»€ä¹ˆçš„ï¼›æ— è®ºæ˜¯åº“è¿˜æ˜¯è¯­è¨€ï¼Œæ ¸å¿ƒéƒ½æ˜¯ä¸ºäº†GPU æœåŠ¡çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç†è§£ GPU è®¾è®¡æ¨¡å‹ å’Œ å›¾å½¢æ¸²æŸ“ç®¡çº¿ï¼›ä»¥ä¸Šï¼Œæˆ‘ä»¬æ‰èƒ½å°†æŠ€èƒ½ç‚¹ä¸²èµ·æ¥ï¼ŒçŸ¥é“åç»­å‘åŠ›æ–¹å‘ å’Œ å¦‚ä½•å®è·µã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®è·µç¯‡ï¼šå…ˆé€šè¿‡ Three.js å…¥ä¸ªé—¨ï¼Œå†çœ‹åç»­æ˜¯ æ·±å…¥å­¦ä¹  è¿˜æ˜¯ è·‘è·¯æ”¾å¼ƒã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¦‚å¿µç¯‡ï¼šè®¡ç®—æœºå›¾å½¢ç›¸å…³çŸ¥è¯†&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;Three.js? GLSL? WebGL? OpenGL?&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4029574861367837&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8ZHveZobH3J1RyVWaicJ9zNspspsXMVchlbOIibkqo9TAZqtib9Ts8ZX0Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1082&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‚è€ƒï¼š&lt;span&gt;WebGLï¼ŒOpenGLå’ŒOpenGL ESä¸‰è€…çš„å…³ç³»&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt; å›¾&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;OpenGL&lt;/strong&gt; (Open Graphics Library)&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;OpenGL&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt; is a cross-language, cross-platform application programming interface (API) for rendering 2D and 3D vector graphics. The API is typically used to interact with a graphics processing unit (GPU), to achieve hardware-accelerated rendering.&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenGL æ˜¯API ã€æ˜¯è§„èŒƒã€‚GPU ç¡¬ä»¶å‚å•†éœ€è¦æ»¡è¶³ç»Ÿä¸€OpenGLè§„èŒƒã€‚è€Œ OpenGL ES (Open Graphics Library for Embedded Systems) æ˜¯ OpenGL å­é›†ï¼Œä¸“é—¨é’ˆå¯¹æ‰‹æœºç­‰åµŒå…¥å¼è®¾å¤‡è€Œè®¾è®¡çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äººè¯ç‰ˆæœ¬æ˜¯ï¼šå‘åŠ¨æœº(GPU) é©±åŠ¨æ˜¯æ–¹å‘ç›˜ã€ç¦»åˆå™¨ç­‰ç­‰ï¼ŒOpenGL å®šä¹‰æ“çºµ å‘åŠ¨æœº(GPU) å‘åŠ¨è§„èŒƒï¼ŒOpenGL ä¸å…³å¿ƒæ–¹å‘ç›˜æ˜¯åœ†çš„è¿˜æ˜¯æ–¹çš„ï¼Œé©±åŠ¨ å‘åŠ¨æœº(GPU) å¹²æ´»å•¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç”¨æ–¹å‘ç›˜ (é©±åŠ¨å™¨) -&amp;gt; ä¾ç…§è°ƒç”¨æ ‡å‡†ä½¿ç”¨ (&lt;/strong&gt; &lt;strong&gt;OpenGL&lt;/strong&gt; &lt;strong&gt;) -&amp;gt; æŒ‡æŒ¥å‘åŠ¨æœº (&lt;/strong&gt; &lt;strong&gt;GPU&lt;/strong&gt; &lt;strong&gt;) å¹²æ´»&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;WebGL&lt;/strong&gt; (Web Graphics Library)&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;WebGL&lt;/span&gt;&lt;sup&gt;[6]&lt;/sup&gt; is a cross-platform, royalty-free open web standard for a low-level 3D graphics API based on OpenGL ES, exposed to ECMAScript via the HTML5 Canvas element.&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;WebGL æ˜¯åœ¨ OpenGL ES åŸºç¡€ä¸Šå»ºç«‹çš„åœ¨ &lt;strong&gt;æµè§ˆå™¨&lt;/strong&gt; è·‘èµ·æ¥çš„å›¾å½¢å­¦æ ‡å‡†ï¼ŒåŒç†æ˜¯æµè§ˆå™¨å‚å•†è§„èŒƒ â‰ˆ è®©JS æ“ä½œæ¥å£ã€‚å…‰æœ‰è§„èŒƒæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜è¦ç¨‹åºå‘Šè¯‰ GPU å¦‚ä½•è¿›è¡Œæ¸²æŸ“ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;GLSL&lt;/strong&gt; (OpenGL Shading Language)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åé¢è®²åˆ°å›¾å½¢æ¸²æŸ“ç®¡çº¿ä¼šè¯´åˆ°ï¼Œè¿™é‡Œæµ…æµ…å…ˆé€šè¿‡ä¾‹å­æ„Ÿå—ä¸‹ &lt;span&gt;ç«‹æ–¹ä½“ demo&lt;/span&gt;&lt;sup&gt;[7]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä»£ç &lt;/span&gt;&lt;sup&gt;[8]&lt;/sup&gt; é˜‰å‰²ç‰ˆï¼šæœ‰ç±»Cè¯­è¨€çš„ç€è‰²å™¨è¯­è¨€ã€æœ‰æˆ‘ä»¬ç†Ÿæ‚‰JSè¯­è¨€ã€æœ‰çŸ©é˜µç›¸ä¹˜ ...&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â Â Â Â Â &lt;br/&gt;&amp;lt;canvasÂ id=&lt;span&gt;&quot;canvas&quot;&lt;/span&gt;&amp;gt;&amp;lt;/canvas&amp;gt;&lt;br/&gt;&amp;lt;scriptÂ &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;shader-source&quot;&lt;/span&gt;Â id=&lt;span&gt;&quot;vertexShader&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â precisionÂ mediumpÂ &lt;span&gt;float&lt;/span&gt;;Â //Â æ¥æ”¶Â JavaScriptÂ ä¼ é€’è¿‡æ¥çš„ç‚¹çš„åæ ‡ï¼ˆX,Â Y,Â Zï¼‰&lt;br/&gt;Â Â Â Â Â Â Â Â attributeÂ vec3Â a_Position;&lt;br/&gt;Â Â Â Â Â Â Â Â attributeÂ vec4Â a_Color;Â //Â æ¥æ”¶é¡¶ç‚¹é¢œè‰²&lt;br/&gt;Â Â Â Â Â Â Â Â varyingÂ vec4Â v_Color;&lt;br/&gt;Â Â Â Â Â Â Â Â uniformÂ mat4Â u_Matrix;&lt;br/&gt;Â Â Â Â Â Â Â Â voidÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â gl_PositionÂ =Â u_MatrixÂ *Â vec4(a_Position,Â 1);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â v_ColorÂ =Â a_Color;Â //Â å°†é¡¶ç‚¹é¢œè‰²æ’å€¼å¤„ç†ä¼ é€’ç»™ç‰‡å…ƒç€è‰²å™¨&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â gl_PointSizeÂ =Â 5.0;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&amp;lt;scriptÂ &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;shader-source&quot;&lt;/span&gt;Â id=&lt;span&gt;&quot;fragmentShader&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â precisionÂ mediumpÂ &lt;span&gt;float&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â varyingÂ vec4Â v_Color;&lt;br/&gt;Â Â Â Â Â Â Â Â voidÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â  gl_FragColor = v_Color;Â Â //Â ç‚¹çš„æœ€ç»ˆé¢œè‰²ã€‚&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&amp;lt;script&amp;gt;Â //è·å–canvasletÂ &lt;br/&gt;Â Â Â Â Â Â Â Â canvasÂ =Â getCanvas(&lt;span&gt;&#x27;#canvas&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â //ä½¿ç”¨è¯¥ç€è‰²å™¨ç¨‹åº&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â programÂ =Â createSimpleProgramFromScript(gl,Â &lt;span&gt;&#x27;vertexShader&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;fragmentShader&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â gl.useProgram(program);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â positionsÂ =Â [&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â -0.5,Â -0.5,Â 0.5,Â 1,Â 0,Â 0,Â 1,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 0.5,Â -0.5,Â 0.5,Â 1,Â 0,Â 0,Â 1,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 0.5,Â 0.5,Â 0.5,Â 1,Â 0,Â 0,Â 1,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â -0.5,Â 0.5,Â 0.5,Â 1,Â 0,Â 0,Â 1,Â .....&lt;br/&gt;Â Â Â Â Â Â Â Â ]&lt;br/&gt;Â Â Â Â Â Â Â Â //Â -----Â çœç•¥ä¸€äº›ä»£ç Â -----&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;render&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â //å…ˆç»• Y è½´æ—‹è½¬çŸ©é˜µã€‚&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â matrix.rotationY(deg2radians(yAngle),Â dstMatrix);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â //å†ç»•Â XÂ è½´æ—‹è½¬&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â matrix.multiply(dstMatrix,Â matrix.rotationX(deg2radians(xAngle),Â tmpMatrix),Â dstMatrix);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â //æ¨¡å‹æŠ•å½±çŸ©é˜µã€‚&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â matrix.multiply(projectionMatrix,Â dstMatrix,Â dstMatrix)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â //Â -----Â çœç•¥ä¸€äº›ä»£ç Â -----&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â requestAnimationFrame(render);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &amp;lt;/script&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Three.js&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;WebGLå­¦ä¹ æœ‰é—¨æ§›ï¼Œ&lt;span&gt;Three.js&lt;/span&gt;&lt;sup&gt;[9]&lt;/sup&gt; ä½œä¸ºæ–¹å‘å…¥é—¨ï¼Œå°±åƒ jQuery ä¸€æ ·çš„å­˜åœ¨ï¼Œå¯ä»¥å¿«é€Ÿçš„åˆ›å»ºå‡ºä¸‰ç»´åœºæ™¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5563480741797432&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8IRgUiciaArtCgg5s66lSjyvvXHdGgGQPfwSoZCHDmibtaKWtYoxEX8G3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2804&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é˜¶æ®µæ€»ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè§„èŒƒ/æ¥å£å‘Šè¯‰é©±åŠ¨å¦‚ä½• å’Œ GPU é€šä¿¡ï¼Œè¿™ä¸ªè§„èŒƒ/æ¥å£æ˜¯ OpenGLï¼Œå‘å±•è‡³ä»ŠåµŒå…¥å¼è®¾å¤‡å´›èµ·ï¼ŒOpenGL ES ä¹Ÿåº”è¿è€Œç”Ÿï¼ŒWebGL æ˜¯åŸºäº OpenGL ES å¯ä»¥è®©å…¶åœ¨æµè§ˆå™¨ä¸Šé€šè¿‡Javascript è°ƒç”¨çš„è§„èŒƒ/æ¥å£ï¼Œä½†WebGLé—¨æ§›ä¸ä½ï¼Œè¦å’ŒGPUé€šä¿¡ï¼Œå°±éœ€è¦äº†è§£è®¡ç®—æœºå›¾å½¢å­¦çŸ¥è¯†ï¼Œé‚£è‚¯å®šä¹Ÿéœ€è¦ç”¨åˆ°ç€è‰²å™¨ï¼Œæ‰€ä»¥ Three.js å°è£…å¥½æˆä¸ºä¸‰ç»´å¼•æ“ï¼Œä¹Ÿä¸ç”¨çŸ¥é“é‚£ä¹ˆå¤šåº•å±‚çŸ¥è¯†ï¼Œå°±å¯ä»¥åˆ›å»º Web 3Dã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹å°±å¥½æ¯” æ·±åº¦å­¦ä¹ é¢†åŸŸï¼šTensorflow (xxx.js / Python) éƒ½å¯ä»¥è°ƒè°ƒç°æœ‰æˆç†Ÿæ¨¡å‹ï¼Œçœ‹èµ·æ¥æ˜¯è°ƒå‚æ•°ååˆ†çš„ç®€å•ï¼Œä½†æ˜¯æ¨¡å‹èƒŒåæ˜¯ çº¿æ€§ä»£æ•°ã€é«˜æ•°ã€ç»Ÿè®¡å­¦ ...&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;ç†è§£ GPU è®¾è®¡æ¨¡å‹&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»€ä¹ˆæ˜¯æ¸²æŸ“å‘¢ï¼Ÿç®€å•çš„è¯´å°±æ˜¯ä»è®¡ç®—æœºç¨‹åºæœ€ååˆ°å›¾åƒçš„è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶é¢è¯•éƒ½ä¼šè¢«é—®åˆ°ä¸€ä¸ªé—®é¢˜ &lt;code&gt;ä»è¾“å…¥urlåˆ°é¡µé¢æ¸²æŸ“å®Œæˆï¼Œéƒ½ç»å†äº†äº›ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/code&gt; å¤§éƒ¨åˆ†åŒå­¦éƒ½æ­¢æ­¥äº ....... ç”ŸæˆRender Treeã€‚é‚£åç»­æ˜¯å¦‚ä½•å°†å„ç§ä¿¡æ¯è½¬æ¢ä¸ºå±å¹•ä¸Šçš„åƒç´ å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¯´æ˜æ¸²æŸ“è¿‡ç¨‹ä¹‹å‰ï¼Œå…ˆæ¥å¤§è‡´çœ‹ä¸‹ä¸ºä»€ä¹ˆéœ€è¦ GPUï¼Ÿ&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä¸‹é¢ç»˜åˆ¶å›¾ç‰‡ï¼Œå¼•ç”¨æ¥è‡ªè¯¥æ–‡æ¡£ &lt;span&gt;The Book of Shaders by Patricio Gonzalez Vivo &amp;amp; Jen Lowe&lt;/span&gt;&lt;sup&gt;[10]&lt;/sup&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6589057043073341&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8CBYyBavqQLQuq13eDJ5j343N6sGEd0cmH5j7ibyF3WpN7iaRMHTGpmlw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1718&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦å¯¹æ¯ä¸ªåƒç´ çš„è®¡ç®—ï¼Œå¦‚æ­¤è®¾è®¡æ¨¡å¼å¯¹CPUå‹åŠ›ä¼šæ¯”è¾ƒå¤§ï¼Œæ•…æœ‰ GPU ç»“æ„å»å¤„ç†è¯¥åœºæ™¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3919491525423729&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a84wia0Z7ho7F5hvcY3vnkiczNfckngnxXCLG5b9rLHd81sJy06GpudS5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1888&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šè¿°è¿™ä¹ˆè®¾è®¡çš„åŸå› æ˜¯ï¼šå¯¹æ¯ä¸ªåƒç´ è¿›è¡Œè®¡ç®—ï¼Œè€Œä¸”æ˜¯ç›¸åŒçš„è¿ç®—ï¼Œè¿™æ ·å¹¶è¡Œè®¡ç®—çš„æ•ˆç‡ä¼šæ›´é«˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå¯ä»¥ç†è§£ï¼šGPU è®¡ç®—èƒ½åŠ›ä¸å¦‚ CPUï¼Œä½†æ˜¯ GPU äººå¤šåŠ›é‡å¤§ (ç®¡å­å¤šï¼Œä¸”ç®¡å­åªå¤„ç†å·²çŸ¥ç®€å•ä»»åŠ¡)ï¼Œç±»æ¯”äº å»ºç­‘å·¥ç¨‹å¸ˆ (CPU) è®¾è®¡å‡ºæ¥å»ºç­‘å›¾çº¸å’Œæ¯é¡¹ä»»åŠ¡ï¼Œå·¥äººä»¬ (GPU) æ¬ç –å¹²æ´»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ğŸ¤” è¿™äº›ç ´ç®¡å­éƒ½å¹²äº†äº›å•¥ï¼Ÿç€è‰²å™¨åˆæ˜¯ä»€ä¹ˆï¼Ÿå¿…é¡»æµ…æµ…äº†è§£ä¸‹ å›¾å½¢æ¸²æŸ“ç®¡çº¿ Render Pipelineã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.39113428943937417&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8Z4YdQUQI1mGRVT38tLDMbHsRfYvjL5eqLp5caEtiastuf4ia91ibvv9AA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1534&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;äº†è§£ å›¾å½¢æ¸²æŸ“ç®¡çº¿&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9147424511545293&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8GZpOtiaPiaFUuyQeleZd18JTtYJfoAdRroCgz3ke9afUlfgiaHGxBgEXA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;563&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›é¡¾ä½ çš„å­¦ä¹ ç”Ÿæ¶¯ï¼Œåˆä¸­æ•°å­¦è®¡ç®—ç«‹æ–¹ä½“é¢ç§¯ï¼Œè€å¸ˆåœ¨ 2D é»‘æ¿ä¸Šç”»äº†XYZ è½´ï¼Œå¹¶éª—ä½ è¿™æ˜¯ä¸ª 3Dç«‹æ–¹ä½“(è§†è§‰ä¸Š)ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»»ä½•ç”¨3Dç©ºé—´ä¸­è¡¨ç¤ºçš„äº‹ç‰©ï¼Œåœ¨ ğŸ–¥ ä¸­éƒ½æ˜¯2Dåƒç´ æ•°ç»„ï¼Œè€ŒWebGL/OpenGL å¤§éƒ¨åˆ†å·¥ä½œä¹Ÿæ˜¯æŠŠ3Dåæ ‡è½¬æ¢ä¸º2Dåƒç´ ã€‚è¿™ä¸ªè¿‡ç¨‹å«åš &lt;strong&gt;å›¾å½¢æ¸²æŸ“ç®¡çº¿ Render&lt;/strong&gt; &lt;strong&gt;Pipeline&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“åˆä¸Šé¢é‚£äº›ä¸ªGPU æ¨¡å‹é‡Œçš„ç ´ç®¡å­ï¼Œæœ‰ä¸€å †åŸå§‹å›¾å½¢æ•°æ® ç»è¿‡ ä¸€ä¸ª ç ´ç®¡å­åï¼Œæœ€ç»ˆè¾“å‡ºè‡³å±å¹•ä¸­çš„è¿‡ç¨‹å°±æ˜¯ å›¾å½¢æ¸²æŸ“ç®¡çº¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›¾å½¢æ¸²æŸ“ç®¡çº¿ Render Pipeline è¢«åˆ’åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼Œè·Ÿå’±ä»¬çš„ByteCycle æµæ°´çº¿ä¸€æ ·ï¼Œæ¯ä¸ªé˜¶æ®µä¼šæŠŠä¸Šä¸ªé˜¶æ®µçš„è¾“å‡ºä½œä¸ºè¾“å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£æ˜¯å‡½æ•°å¼ç¼–ç¨‹ pipeline æ¨¡å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸“é—¨çš„å‡½æ•° / å°ç¨‹åºå»å¤„ç†ï¼Œå‡½æ•° / å°ç¨‹åº â‰ˆ &lt;strong&gt;ç€è‰²å™¨ (Shader)&lt;/strong&gt; ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5004812319538018&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8GTvKffVoOhbP9vh6RF2moYhHOxicKibaMZxNznGOTicc5bFdumsTBiazJw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2078&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;CPU å’Œ GPU æ˜¯é€šåŠ›åˆä½œçš„å…³ç³»æ¥æ¸²æŸ“å›¾åƒ&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.43818849449204406&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a87RyLzGkC2cic3DvficRCwys2dUGOv2QscShjPhIglMqSh2tC1Swrhlicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1634&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¸²æŸ“ç®¡çº¿æŠ½è±¡æµç¨‹&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;strong&gt;é¡¶ç‚¹ç€è‰²å™¨&lt;/strong&gt;&lt;/th&gt;&lt;th&gt;3Dåæ ‡ è½¬ä¸º å¦ä¸€ç§3Dåæ ‡(åé¢ä¼šè§£é‡Š ä»å±€éƒ¨åˆ°ä¸–ç•Œåæ ‡ç³»)ï¼Œå¹¶å¯¹é¡¶ç‚¹å±æ€§è¿›è¡Œå¤„ç†ã€‚&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;å›¾å…ƒçš„è£…é…&lt;/td&gt;&lt;td&gt;å°† é¡¶ç‚¹ç€è‰²å™¨ è¾“å‡ºçš„ç‚¹ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç»˜åˆ¶æˆå›¾å…ƒå½¢çŠ¶ã€‚&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;å‡ ä½•ç€è‰²å™¨&lt;/td&gt;&lt;td&gt;å°† å›¾å…ƒå½¢çŠ¶ æ„é€ æˆæ–°çš„å›¾å…ƒ æˆ– å…¶ä»–å½¢çŠ¶ã€‚&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;å…‰æ …åŒ–è¿‡ç¨‹&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;æŠŠ å›¾å…ƒ æ˜ å°„ä¸º æœ€ç»ˆå±å¹•ä¸Šç›¸åº”çš„ åƒç´ ã€‚&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;ç‰‡æ®µç€è‰²å™¨&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;è®¡ç®—ä¸€ä¸ªåƒç´ çš„æœ€ç»ˆé¢œè‰²ã€‚ä¾‹å¦‚ä¸€ä¸ªç«‹æ–¹ä½“åœ¨ç¯å…‰ç…§å°„ä¸‹ä¼šæœ‰é˜´å½±ï¼Œè¿™é‡Œä¹Ÿä¼šå°†å…¶å¤„ç†ã€‚&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;æµ‹è¯•ä¸æ··åˆ&lt;/td&gt;&lt;td&gt;ä¾‹å¦‚ æœ‰3Dé®æŒ¡åœºæ™¯ æˆ– ç‰©ä½“æ˜¯é€æ˜ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°±éœ€è¦åˆ¤æ–­æ˜¯å¦åœ¨è¯¥å¸§è¢«ä¸¢å¼ƒã€‚&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3843612334801762&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8wtRFrzAibcKsbHKI7uvIhicDwmjGkPR0PwDicib8reNJXdIEtLBIFf3Ricg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1816&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•äº†è§£ä¸‹GLSL è¯­è¨€ï¼Œç±»ä¼¼Cè¯­è¨€ï¼Œä»¥ä¸‹æ˜¯é¡¶ç‚¹ç€è‰²å™¨çš„ä¾‹å­ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â &lt;span&gt;#versionÂ 300Â esÂ Â #å£°æ˜äº†ç€è‰²å™¨ç‰ˆæœ¬å·Â 300Â ä»£è¡¨æ˜¯Â 3.0Â ä¹‹åç‰ˆæœ¬&lt;/span&gt;&lt;br/&gt;&lt;span&gt;in&lt;/span&gt;Â vec4Â aPosÂ ;&lt;br/&gt;&lt;span&gt;#Â inÂ =Â è¾“å…¥å˜é‡Â æµ®ç‚¹å‹å‘é‡vec4Â å˜é‡åç§°Â aPos&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â eg:Â aPosÂ =Â {1.0,Â 1.0,Â 1.0,Â 1.0}&lt;/span&gt;&lt;br/&gt;voidÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;()&lt;br/&gt;{&lt;br/&gt;Â Â Â Â gl_PositionÂ =Â aPosÂ ;&lt;br/&gt;Â Â Â Â &lt;span&gt;#Â é¡¶ç‚¹ç€è‰²å™¨çš„å†…ç½®è¾“å‡ºå˜é‡&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é˜¶æ®µæ€»ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºäºæµè§ˆå™¨ï¼Œé€šè¿‡Javascript æ¥å®ç°ç¼–ç¨‹æŠ€æœ¯ï¼Œèƒ½åœ¨ 2Då±å¹• ä¸Šçœ‹åˆ° 3Dæ•ˆæœã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åŸºç¡€èƒ½åŠ›ï¼šæ•°å­¦ã€ç‰©ç† ....&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;èƒ½åŠ›æ”¯æŒï¼šåŸºäº GPU å›¾å½¢æ¸²æŸ“ç®¡çº¿æ¶æ„è®¾è®¡ï¼Œåœ¨ Webç«¯ é€šè¿‡ WebGL (-&amp;gt; OpenGL ES -&amp;gt; OpenGL) å’Œ ç€è‰²å™¨ (ç€è‰²å™¨GLSL è¯­è¨€å®ç°)ï¼Œå®ç°é©±åŠ¨èƒ½åŠ›ã€‚(ä»»ä½•è¯­è¨€å®ç°éƒ½æ˜¯ä»¥ç¡¬ä»¶ä¸ºåŸºç¡€)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œå¦‚ä½•è®© 3Dç©ºé—´ç‚¹åæ ‡ è½¬ä¸º å±å¹• 2DäºŒç»´ç‚¹åæ ‡ï¼Ÿ&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;æµ…çœ‹ 3Dç©ºé—´ç‚¹ to å±å¹• 2DäºŒç»´ç‚¹&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5595595595595596&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8PyqwM2ib1erLXGOAVETOHxpfJEeBH2VcibNrhqqicqUyW30jvhYPmPsLg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1998&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªå¤æ‚åœºæ™¯ä¸­ï¼Œç‰©ä½“å¦‚ ğŸ¦– ã€å‘¨è¾¹ğŸŒ¸ğŸŒ¸ğŸŒ±ğŸŒ¿ ç­‰ï¼Œéƒ½éœ€è¦è½¯ä»¶å»ºæ¨¡ï¼Œå»ºæ¨¡å¥½åå†å°†å…¶æ”¾ç½®åˆ°è¯¥åœºæ™¯ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“å¯¹æ¯ä¸ªç‰©ä½“ğŸ¦– å»ºæ¨¡çš„æ—¶å€™ï¼Œç‰©ä½“æœ¬èº«æ˜¯æœ‰è‡ªå·±çš„ç‹¬ç«‹åæ ‡ç³» &lt;strong&gt;[1] å±€éƒ¨åæ ‡ç³» Local Space&lt;/strong&gt;ï¼Œä½† ğŸ¦– ğŸŒ¸ğŸŒ¸ğŸŒ±ğŸŒ¿ æ”¾åˆ°åœºæ™¯ä¸­å°±æœ‰ä¸åŒæ”¾ç½®ä½ç½®ï¼Œæ‰€æœ‰ç‰©ä½“å…±äº«åŒä¸€ä¸ªåæ ‡ç³»ï¼Œå« &lt;strong&gt;[2] ä¸–ç•Œåæ ‡ç³» World Space&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸–ç•Œåæ ‡ç³»åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ˜¯ä»æ­£é¢æŸä¸ªä½ç½®å»è§‚å¯Ÿ ğŸ¦–ï¼Œå¦‚æœè§†è§’å˜åŒ–è‡³æ²¿ç€Zè½´è´Ÿæ–¹å‘çœ‹å‘¢ï¼Ÿåˆæ˜¯å¦å¤–ä¸€ä¸ªç”»é¢ï¼Œå«åš &lt;strong&gt;[3] è§†è§‰åæ ‡ç³» View Space&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3256059009483667&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8aWQsPia1VQstxibwHG78aJs55u5dStEm6dkRiasekibXUoibEXw7BpypkqA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1898&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰©ä¸‹ä¸¤ä¸ªåæ ‡ç³»è¯´æ˜ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;[4] è£å‰ªåæ ‡ç³» Clip Space /&lt;/strong&gt; &lt;strong&gt;DNC&lt;/strong&gt;: å½’ä¸€åŒ–å¤„ç†ï¼Œå’Œ éœ€è¦åˆ¤æ–­å“ªä¸ªç‰‡æ®µéœ€è¦å±•ç¤ºåœ¨å±å¹•å†…ã€‚(è¿™é‡Œä¸åšå±•å¼€è·Ÿæœºå™¨å­¦ä¹ å½’ä¸€åŒ–ç›®æ ‡ä¸€è‡´ï¼Œç»Ÿè®¡å­¦ä¸­æ•°æ®æ”¶æ•›ä½œç”¨)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;[5] å±å¹•åæ ‡ç³» Screen Space&lt;/strong&gt;ï¼šæ ¹æ®è£å‰ªåæ ‡ç³»è®¡ç®—ï¼Œå†è½¬æ¢ä¸ºå±å¹•åæ ‡ã€‚æœ€åå°†æ•°æ®ä¼ åˆ°å…‰æ …å™¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä»¥ä¸Šç†è§£ç‰ˆ&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æˆ‘ä»¬æ¯ä¸ªäººéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹ä¸ªä½“éƒ½ä»¥&quot;è‡ªæˆ‘ä¸ºä¸­å¿ƒ&quot; ( [1] å±€éƒ¨åæ ‡ç³»)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;éšç€æˆ‘ä»¬é•¿å¤§è¦è¿›å…¥ç¤¾ä¼š ([2] ä¸–ç•Œåæ ‡ç³»)ï¼Œå­¦ä¹ ã€å·¥ä½œ ....&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰äººä»°è§†ä½ ï¼Œæœ‰äººä¿¯è§†ä½ ï¼Œä½ å¯ä»¥é€‰æ‹©å¹³è§†ä»–ä»¬ æˆ–è€… åè„‘å‹ºå¯¹ç€ä»–ä»¬ï¼Œæ€»ä¹‹å…¶ä»–äººä¼šç«™åœ¨è‡ªå·±çš„è§’åº¦çœ‹é—®é¢˜ æˆ–è€… çœ‹ä½  ([3] è§†è§‰åæ ‡ç³») ....&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;AnyWayï¼Œè¿‡ç¨‹ä¸­ä½ å¯èƒ½ä¼šç”Ÿæ´»ç£¨å¹³æ£±è§’ ([4] è£å‰ªåæ ‡ç³»)ï¼Œå˜æˆäº†ä½ å°æ—¶å€™æœ€è®¨åŒçš„äººï¼Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Butï¼Œä½ å°±æ˜¯ä½ ï¼Œæ˜¯ä¸ä¸€æ ·çš„çƒŸç«ï¼Œ.... è®©è”·è–‡å¼€å‡ºä¸€ç§ç»“æœ ([5] å±å¹•åæ ‡ç³»)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç†è§£æœ‰äº›æ¦‚å¿µåï¼Œå’±ä»¬å†çœ‹çœ‹è¿™äº›è¿‡ç¨‹é—´è½¬æ¢ï¼Œæ˜¯å¦‚ä½•ç¦»ä¸å¼€ çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;[1] å±€éƒ¨ç©ºé—´-&amp;gt; [2] ä¸–ç•Œç©ºé—´&lt;/strong&gt;ï¼Œæ¶‰åŠ &lt;code&gt;çŸ©é˜µçš„å¹³ç§»ã€ç¼©æ”¾ã€æ—‹è½¬&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¼©æ”¾ï¼šä»£è¡¨å¤šå°‘å€ï¼Œç¼©æ”¾S1ã€S2ã€S3 å€æ•°&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2803532008830022&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8odaic6eibN8J9AvWmRJApnydwV0S2C8OO7kwKsQjNTkdxh4udib8KJdNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;906&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹³ç§»ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.30512820512820515&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8HDlPjSk2ib4HvHjkrSzVqHtggH6stHF3fuXibPfPuh84EUEa5YHUz4pw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;780&quot;/&gt;&lt;/figure&gt;&lt;/section&gt;&lt;span data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;span&gt;æ—‹è½¬ï¼šç”± P(x, y, z) å˜ä¸º P&#x27; (x&#x27;, y&#x27;, z&#x27;)ï¼Œæ—‹è½¬ Î¸ è§’åº¦ï¼Œç•¥è¿‡ ... &lt;/span&gt;&lt;span&gt;å˜æ¢ - LearnOpenGL CN&lt;/span&gt;&lt;sup&gt;[11]&lt;/sup&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 0 1 0&quot; preserveaspectratio=&quot;xMidYMid slice&quot; aria-hidden=&quot;true&quot;/&gt;&lt;/section&gt;&lt;/span&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;[2] ä¸–ç•Œç©ºé—´ -&amp;gt; [3] è§†è§‰ç©ºé—´&lt;/strong&gt;ï¼Œæ„å»º &lt;code&gt;çº¿æ€§å˜æ¢çŸ©é˜µ&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»»ä½•æ–¹ä½è§‚å¯Ÿåˆ°çš„ç‰©ä½“éƒ½æ˜¯ä¸åŒçš„ï¼Œä»A ä½ç½® å˜æ¢è‡³ B ä½ç½®ï¼Œåªè¦çŸ¥é“ å˜æ¢å‰åçš„&lt;code&gt;åŸºå‘é‡&lt;/code&gt;ï¼Œå°±èƒ½çŸ¥é“ è¿åŠ¨è‡³å“ªé‡Œï¼Œæ–¹æ³•é€šè¿‡ &lt;code&gt;çŸ©é˜µç›¸ä¹˜&lt;/code&gt; (å¯¹å‡ ä½•ç©ºé—´çš„çº¿æ€§å˜åŒ–) ....&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çŸ©é˜µå‘é‡ä¹˜ç§¯: &lt;code&gt;å˜æ¢åçš„åŸºå‘é‡&lt;/code&gt; * æœªå˜åŒ–å‰çš„ä½ç½® (x, y) = åŸºå‘é‡å˜æ¢åæ–°(x&#x27;, y&#x27;)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5582120582120582&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8OSoQZANwLG6mSEwkEPKKz76KoRHcmm0HnDAWHCkNK6wk0YVB9kovWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1924&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5196182396606575&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8zqCzPiaY22hxicDBYRUpsOnF9TyRsVCUsZXvfohpR4T6cpm6YpQicicwTg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1886&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;[3] è§†è§‰ç©ºé—´ -&amp;gt; [4] è£å‰ªç©ºé—´ -&amp;gt; [5] å±å¹•ç©ºé—´&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å°† 3D ç‚¹ è¡¨ç¤ºåˆ° 2D ç‚¹ï¼Œ &lt;code&gt;æŠ•å½±&lt;/code&gt; -&amp;gt; &lt;code&gt;ç‚¹ç§¯&lt;/code&gt; (å®é™…ä¸Šä¼šæ›´å¤æ‚äº›) ....&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å†å°†èƒ½è§†è§‰å±•ç¤ºçš„ç©ºé—´å±•ç¤ºï¼Œä¸èƒ½å±•ç¤ºçš„è¢«å‰ªè£æ‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å‰ªè£åç‚¹ä½ï¼Œä¼šå½’ä¸€åŒ–å¤„ç†ï¼Œä¿è¯äº¤ä»˜ç»™å‘å…‰äºŒæç®¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ€»ä¹‹ï¼Œå­¦å¥½çº¿æ€§ä»£æ•°å¾ˆé‡è¦ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;ã€Šçº¿æ€§ä»£æ•°ã€‹ï¼ˆåŒæµç‰ˆï¼‰â€”â€”æ•™ç§‘ä¹¦ä¸­çš„è€»è¾±æŸ±&lt;/span&gt;&lt;sup&gt;[12]&lt;/sup&gt; è¯¥æ–‡ç«  å¼•èµ·äº†æˆ‘ç›¸å½“å¼ºçƒˆçš„å…±é¸£ (æ²¡å­¦å¥½çœŸä¸æ€¨æˆ‘)&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5588235294117647&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8XLa5ZsiaHm0icQzN8chpYKglyTw4tq2xCyDGApiaGOKDZowFRA5hib06Yg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1224&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8Ikv3SUvsHJJqHBRZTySiafppLEfHj0kS4F2uZModnWD2iaicWLFWYwMyQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å®è·µç¯‡ï¼šç”¨ Three.js å…¥ä¸ªé—¨&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å…ˆç”¨ä½æˆæœ¬å­¦ä¹ Three.jsï¼Œå¿«é€Ÿå…¥é—¨ .....&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;3D å»ºæ¨¡æ¦‚å¿µå¿…å¤‡&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ æ˜¯ä¸ªå¤§å¯¼æ¼”ï¼Œæœ‰ä¸€å¤©ä½ æƒ³è¯· å®‰çªæ‹‰å¤§å®è´å„¿ æ¥åŒ—äº¬ çŒ®æ­Œä¸€æ›²ï¼Œ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;è¦æœ‰åœ°ç‚¹ &lt;code&gt;Scene åœºæ™¯&lt;/code&gt; ï¼Œé€‰æ‹© äººæ°‘å¤§ä¼šå ‚ä½œä¸º èˆå°å§ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¦æœ‰ç¯å…‰ &lt;code&gt;Light ç¯å…‰&lt;/code&gt;, æ‰èƒ½è®©è§‚ä¼—çœ‹åˆ° å®‰çªæ‹‰å¤§å®è´å„¿ å”±æ­Œï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å…³äº å®‰çªæ‹‰å¤§å®è´ ä½œä¸º &lt;code&gt;æ¨¡å‹&lt;/code&gt;ï¼Œæ¥ä¹‹å‰è¦ä¿å…»ä¸€ä¸‹ï¼Œçš®è‚¤çœ‹èµ·æ¥å¹å¼¹å¯ç ´ &lt;code&gt;æè´¨ Material&lt;/code&gt;ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;XXX å¤§å“ç‰Œç–¯ç‹‚èµåŠ©ï¼Œå¹¶è¦æ±‚å¥¹ç©¿ä¸Šæ–°ä¸€å­£ æœé¥° å’Œ é…ä¸Šå¦†å‘ &lt;code&gt;è´´å›¾ä¸çº¹ç† Texture&lt;/code&gt;;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼ŒNä¸ªæœºå™¨ &lt;code&gt;Camera ç›¸æœº&lt;/code&gt; 360 åº¦æ— æ­»è§’çš„æ‹æ‘„ï¼Œå¥¹å”± XXXæ­Œæ›²ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ åˆšåœ¨è„‘æµ·é‡Œæ„å»ºå‡ºæ¥çš„ç”»é¢ â‰ˆ &lt;code&gt;æ¸²æŸ“å™¨ Render&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4914712153518124&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a86fzicLibQnNyRStlKvhkcRD9DAIJ6I4G6slpe3DGcS25usRpAH3ibbSGQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1876&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;Three.js demo&lt;/span&gt;&lt;sup&gt;[13]&lt;/sup&gt; è‡ªå·±å»å¯¹ç…§ç€æƒ³è±¡è¿™ä¸ªğŸ‘»ï¼Œå°±æ˜¯ å®‰çªæ‹‰å¤§å®è´å„¿ å§&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå‡ ä¸ªå…³é”®è¯æ˜¯ï¼š&lt;code&gt;Scene åœºæ™¯&lt;/code&gt;ã€&lt;code&gt;Light ç¯å…‰&lt;/code&gt;ã€&lt;code&gt;æ¨¡å‹&lt;/code&gt;ã€&lt;code&gt;æè´¨ Material&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€&lt;code&gt;Texture&lt;/code&gt;ã€&lt;code&gt;Camera ç›¸æœº&lt;/code&gt;ã€&lt;code&gt;æ¸²æŸ“å™¨ Render&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç†è§£äº†ä»¥ä¸Šçš„å‡ ä¸ªæ¦‚å¿µåï¼Œå¯¹æˆ‘ä»¬å®è·µä¸Šæ‰‹åº”ç”¨ Three.js éå¸¸çš„å…³é”®ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span/&gt;&lt;span&gt;å®è·µä»£ç èµ°ä¸€æ³¢&lt;/span&gt;&lt;span/&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;STEP1: åˆ›å»ºèˆå° å’Œ ç›¸æœºï¼Œå¹¶æ¸²æŸ“è‡³é¡µé¢ä¸Š&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;importÂ *Â asÂ THREEÂ fromÂ &lt;span&gt;&#x27;three&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;classÂ ThreeDemoÂ {&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;constructor&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â this.widthÂ =Â window.innerWidth&lt;br/&gt;Â Â Â Â this.heightÂ =Â window.innerHeight&lt;br/&gt;Â Â Â Â this.aspectRatioÂ =Â this.widthÂ /Â this.height&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºåœºæ™¯&lt;br/&gt;Â Â Â Â this.sceneÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºç›¸æœº&lt;br/&gt;Â Â Â Â this.cameraÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºç¯å…‰&lt;br/&gt;Â Â Â Â this.lightÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºæ¨¡å‹&lt;br/&gt;Â Â Â Â this.modelÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºæè´¨&lt;br/&gt;Â Â Â Â this.materialÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºçº¹ç†&lt;br/&gt;Â Â Â Â this.textureÂ =Â null&lt;br/&gt;Â Â Â Â //Â åˆ›å»ºæ¸²æŸ“&lt;br/&gt;Â Â Â Â this.rendererÂ =Â null&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;init&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â this.createScene()Â //Â åˆ›å»ºèˆå°Â å’ŒÂ ç›¸æœº&lt;br/&gt;Â Â Â Â this.createRenderer()Â //Â åˆ›å»ºæ¸²æŸ“&lt;br/&gt;Â Â Â Â document.body.appendChild(this.renderer.domElement)Â //Â æ¸²æŸ“è‡³é¡µé¢ä¸Š&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â constÂ renderÂ =Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â this.renderer.render(this.scene,Â this.camera)Â //Â æ¸²æŸ“åœºæ™¯&lt;br/&gt;Â Â Â Â Â Â requestAnimationFrame(render)&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â render()&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â this.axesHelper()&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;createScene&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â //Â ======Â æ­å»ºä¸ªèˆå°Â ======&lt;br/&gt;Â Â Â Â this.sceneÂ =Â newÂ THREE.Scene()Â &lt;br/&gt;Â Â Â Â this.scene.fogÂ =Â newÂ THREE.Fog(0x090918,Â 1,Â 600)&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â //Â ======Â æ­å»ºç›¸æœºÂ (æ¨¡æ‹Ÿäººè§†è§’å»çœ‹æ™¯è±¡)Â PerspectiveCameraÂ =Â é€è§†ç›¸æœºÂ ======&lt;br/&gt;Â Â Â Â this.cameraÂ =Â newÂ THREE.PerspectiveCamera(&lt;br/&gt;Â Â Â Â Â Â 75,Â //Â è§†è§’&lt;br/&gt;Â Â Â Â Â Â this.aspectRatio,Â //Â çºµæ¨ªæ¯”&lt;br/&gt;Â Â Â Â Â Â 0.1,Â //Â nearPlaneÂ è¿‘å¹³é¢&lt;br/&gt;Â Â Â Â Â Â 2000Â //Â farPlaneÂ è¿œå¹³é¢&lt;br/&gt;Â Â Â Â )&lt;br/&gt;Â Â Â Â //Â è®¾ç½®ç›¸æœºä½ç½®&lt;br/&gt;Â Â Â Â this.camera.position.set(10,Â 10,Â 10)Â //Â x,Â y,Â z&lt;br/&gt;Â Â Â Â //Â æ›´æ–°æ‘„åƒå¤´å®½é«˜æ¯”ä¾‹&lt;br/&gt;Â Â Â Â this.camera.aspectÂ =Â this.aspectRatio&lt;br/&gt;Â Â Â Â //Â æ›´æ–°æ‘„åƒå¤´çš„çŸ©é˜µ&lt;br/&gt;Â Â Â Â this.camera.updateProjectionMatrix()&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â å°†ç›¸æœºæ”¾åˆ°èˆå°ä¸Š&lt;br/&gt;Â Â Â Â this.scene.add(this.camera)&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;createRenderer&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â this.rendererÂ =Â newÂ THREE.WebGLRenderer({Â antialias:Â &lt;span&gt;true&lt;/span&gt;Â })&lt;br/&gt;Â Â Â Â this.renderer.outputEncodingÂ =Â THREE.sRGBEncoding&lt;br/&gt;Â Â Â Â //Â è®¾ç½®æ¸²æŸ“å™¨å®½é«˜&lt;br/&gt;Â Â Â Â this.renderer.setSize(this.width,Â this.height)&lt;br/&gt;Â Â Â Â this.renderer.setClearColor(this.scene.fog.color)&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â å±å¹•å˜åŒ–Â æ›´æ–°æ¸²æŸ“Â (ç›¸æœºè§†è§’å˜åŒ–Â å’ŒÂ æ¸²æŸ“å™¨å˜åŒ–)&lt;br/&gt;Â Â Â Â window.addEventListener(&lt;span&gt;&#x27;resize&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â this.camera.aspectÂ =Â window.innerWidthÂ /Â window.innerHeight&lt;br/&gt;Â Â Â Â Â Â this.camera.updateProjectionMatrix()&lt;br/&gt;Â Â Â Â Â Â this.renderer.setSize(window.innerWidth,Â window.innerHeight)&lt;br/&gt;Â Â Â Â })&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;br/&gt;Â Â //Â è¾…åŠ©åæ ‡ç³»&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;axesHelper&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â constÂ axesHelperÂ =Â newÂ THREE.AxesHelper(5)&lt;br/&gt;Â Â Â Â this.scene.add(axesHelper)&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;constÂ instanceÂ =Â newÂ ThreeDemo()&lt;br/&gt;instance.init()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;this.camera.position.set(10, 10, 10)&lt;/code&gt; åœ¨è¿™ä¸ªä½ç½®ä¸Šçœ‹&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5420289855072464&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8VicXfbGHdAzGQ4baicV0dkstCUQPcS4Rdum9PLnX7wJJJibiaOHgIlxAAg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1380&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæˆ‘ä»¬åœ¨&lt;code&gt;this.camera.position.set(0, 0, 5)&lt;/code&gt; è¿™ä¸ªä½ç½®ä¸Šçœ‹&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6502732240437158&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8icKtia1nbQF3oIyDiaWdYeZ6shD2F4eqddRpWUhGJLEdGZSibvlr7Wia0gw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1830&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;STEP2: åŠ æ¨¡å‹ å’Œ ç¯å…‰&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â åŠ å…¥ç¯å¢ƒå…‰&lt;br/&gt;//Â ç¯å¢ƒå…‰ä¼šå‡åŒ€çš„ç…§äº®åœºæ™¯ä¸­çš„æ‰€æœ‰ç‰©ä½“&lt;br/&gt;this.lightÂ =Â newÂ THREE.AmbientLight(0x404040)Â //Â softÂ whiteÂ light&lt;br/&gt;this.scene.add(this.light)&lt;br/&gt;&lt;br/&gt;//Â åœºæ™¯ä¸­æ·»åŠ çƒ&lt;br/&gt;constÂ geometryÂ =Â newÂ THREE.BoxGeometry(2,Â 2,Â 2)&lt;br/&gt;constÂ geometry_materialÂ =Â newÂ THREE.MeshStandardMaterial({Â color:Â 0xaafabbÂ })&lt;br/&gt;instance.scene.add(newÂ THREE.Mesh(geometry,Â geometry_material))&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰å…‰ç…§&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5508571428571428&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a82dC0RuloQmk23xdiaZDFU2u41AEdAJiceFnwkfxQJCJ86ic0OaS4VshKA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1750&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.48040638606676345&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8wjncLx3gudric7iad6ibL6tlSgmIFgVjvf6CANSajDpvdUsWu32wkVyEg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1378&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ— å…‰ç…§ (æ— ç¯å¢ƒå…‰åŠ å…¥)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸ä»…åŠ å…¥ç¯å¢ƒå…‰ï¼Œè¿˜åŠ å…¥äº†å¹³è¡Œå…‰ï¼Œå³å¹³è¡Œå…‰æ˜¯æ²¿ç€ç‰¹å®šæ–¹å‘å‘å°„çš„å…‰&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â &lt;span&gt;&lt;span&gt;createLight&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â //Â ç¯å¢ƒå…‰ä¼šå‡åŒ€çš„ç…§äº®åœºæ™¯ä¸­çš„æ‰€æœ‰ç‰©ä½“&lt;br/&gt;Â Â Â Â this.lightÂ =Â newÂ THREE.AmbientLight(0x404040)Â //Â softÂ whiteÂ light&lt;br/&gt;Â Â Â Â this.scene.add(this.light)&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â å¹³è¡Œå…‰æ˜¯æ²¿ç€ç‰¹å®šæ–¹å‘å‘å°„çš„å…‰&lt;br/&gt;Â Â Â Â this.directionalLightÂ =Â newÂ THREE.DirectionalLight(Â 0xffffff,Â 0.6Â )&lt;br/&gt;Â Â Â Â this.directionalLight.position.set(0,Â 5,Â 5)&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â this.scene.add(this.directionalLight)&lt;br/&gt;Â Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5358744394618834&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8ywM6BWAVm1uU0LpsAcMy6RsDoKWZD5m5BNcnOSr6c2ib5jAT6Lq63aw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1784&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;STEP3: è´´è†œ (æè´¨å’Œçº¹ç†)&lt;/strong&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;https://www.poliigon.com/ åœ¨è¿™ä¸ªç½‘ç«™ä¸Šå»æ‰¾ä¸€äº›è´´å›¾&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â åœºæ™¯ä¸­æ·»åŠ ç«‹æ–¹ä½“&lt;br/&gt;constÂ geometryÂ =Â newÂ THREE.BoxGeometry(2,Â 2,Â 2)&lt;br/&gt;constÂ geometry_materialÂ =Â newÂ THREE.MeshStandardMaterial({Â &lt;br/&gt;Â Â map:Â textureLoader.load(&lt;span&gt;&#x27;../public/textures/RoofTilesTerracotta004/RoofTilesTerracotta004_COL_1K.jpg&#x27;&lt;/span&gt;),&lt;br/&gt;Â Â aoMap:Â textureLoader.load(&lt;span&gt;&#x27;../public/textures/RoofTilesTerracotta004/RoofTilesTerracotta004_AO_1K.jpg&#x27;&lt;/span&gt;),&lt;br/&gt;Â Â alphaMap:Â textureLoader.load(&lt;span&gt;&#x27;../public/textures/RoofTilesTerracotta004/RoofTilesTerracotta004_AO_1K.jpg&#x27;&lt;/span&gt;),&lt;br/&gt;Â Â normalMap:Â textureLoader.load(&lt;span&gt;&#x27;../public/textures/RoofTilesTerracotta004/RoofTilesTerracotta004_NRM_1K.png&#x27;&lt;/span&gt;),&lt;br/&gt;Â Â transparent:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;Â Â roughness:Â 0,&lt;br/&gt;})&lt;br/&gt;constÂ modelÂ =Â newÂ THREE.Mesh(geometry,Â geometry_material)&lt;br/&gt;instance.scene.add(model)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5686145764937623&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ndgH50E7pIqpIVrX62SgKOmvK0FPc3a8k2ia63UGrtib5ZUHjECSxIeE3VOCbQIXSn0gyiahzao1RiaC4r05WW4VNg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;3046&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Step Xï¼šä»¥ä¸Šå°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å…ˆå°† &lt;code&gt;Scene åœºæ™¯&lt;/code&gt;ã€&lt;code&gt;Light ç¯å…‰&lt;/code&gt;ã€&lt;code&gt;Camera ç›¸æœº&lt;/code&gt; è®¾ç½®å¥½ï¼Œå¹¶å°†å…¶é€šè¿‡&lt;code&gt;æ¸²æŸ“å™¨ Render&lt;/code&gt; æ¸²æŸ“è‡³é¡µé¢ä¸Š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç¡®å®šå¥½ &lt;code&gt;æ¨¡å‹&lt;/code&gt; ç©¿ä¸Š &lt;code&gt;æè´¨ Material&lt;/code&gt; å’Œ &lt;code&gt;è´´å›¾ Texture&lt;/code&gt; åï¼Œå¹¶è®¾å®šå¥½è¯¥æ¨¡å‹ä½ç½®ï¼Œå†æ·»åŠ è‡³åœºæ™¯&lt;code&gt;Scene åœºæ™¯&lt;/code&gt; ä¸­ï¼Œå³å¯å¾—åˆ°3Dç‰©ä½“å•¦ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€åæ€»ç»“&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ æ²¡æœ‰ç³»ç»Ÿçš„æ¥è§¦è¿‡è¯¥æ–¹å‘ï¼Œé‚£å¯ä»¥å…ˆä»Three.js å…¥æ‰‹ï¼Œå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆï¼Œé€šè¿‡ç†è§£åœºæ™¯ã€ç¯å…‰ã€ç›¸æœº ... ç­‰å¤§æ¦‚çŸ¥é“ä¸€äº›æ¦‚å¿µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›¾å½¢å­¦è™½ç„¶æ°´å¾ˆæ·±ï¼Œä½†å†æ·±ä¹Ÿæœ‰åº•ï¼Œæ·±å…¥ WebGL + ç€è‰²å™¨ (GLSLè¯­è¨€) -&amp;gt; ç¡¬ä»¶ä¸Šè¿ä½œæœºåˆ¶ &lt;strong&gt;ç­‰ç­‰ç­‰&lt;/strong&gt; ...&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;å¦‚ä½•å…¥æ‰‹webGlä»¥åŠthree.jså‘¢? - çŸ¥ä¹: &lt;em&gt;https://www.zhihu.com/question/383398859/answer/1121471144&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;å‰ç«¯å¼€å‘è€…åº”è¯¥å¦‚ä½•å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦ç›¸å…³çš„çŸ¥è¯†? - çŸ¥ä¹: &lt;em&gt;https://www.zhihu.com/question/24351718&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;å¤§ä¸‰è®¡ç®—æœºï¼Œæƒ³æ¥è§¦å›¾å½¢å­¦æ–¹é¢çš„çŸ¥è¯†ï¼Œç›´æ¥å­¦WebGLè¿˜æ˜¯OpenGL ? - çŸ¥ä¹: &lt;em&gt;https://www.zhihu.com/question/422713076&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;WebGLï¼ŒOpenGLå’ŒOpenGL ESä¸‰è€…çš„å…³ç³»: &lt;em&gt;https://blog.csdn.net/qq_23034515/article/details/108283747&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[5]&lt;/span&gt;&lt;p&gt;OpenGL: &lt;em&gt;https://en.wikipedia.org/wiki/OpenGL&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[6]&lt;/span&gt;&lt;p&gt;WebGL: &lt;em&gt;https://www.khronos.org/webgl/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[7]&lt;/span&gt;&lt;p&gt;ç«‹æ–¹ä½“ demo: &lt;em&gt;http://ifanqi.top/webgl/pages/lesson12.html&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[8]&lt;/span&gt;&lt;p&gt;ä»£ç : &lt;em&gt;https://github.com/lucefer/webgl/blob/master/pages/lesson12.html&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[9]&lt;/span&gt;&lt;p&gt;Three.js: &lt;em&gt;https://threejs.org/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[10]&lt;/span&gt;&lt;p&gt;The Book of Shaders by Patricio Gonzalez Vivo &amp;amp; Jen Lowe: &lt;em&gt;https://thebookofshaders.com/01/?lan=ch&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[11]&lt;/span&gt;&lt;p&gt;å˜æ¢ - LearnOpenGL CN: &lt;em&gt;https://learnopengl-cn.github.io/01%20Getting%20started/07%20Transformations/#_18&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[12]&lt;/span&gt;&lt;p&gt;ã€Šçº¿æ€§ä»£æ•°ã€‹ï¼ˆåŒæµç‰ˆï¼‰â€”â€”æ•™ç§‘ä¹¦ä¸­çš„è€»è¾±æŸ±: &lt;em&gt;https://zhuanlan.zhihu.com/p/199665495&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[13]&lt;/span&gt;&lt;p&gt;Three.js demo: &lt;em&gt;https://threejs.org/examples/#webgl_animation_skinning_additive_blending&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â¤ï¸ è°¢è°¢æ”¯æŒ&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä¾¿æ˜¯æœ¬æ¬¡åˆ†äº«çš„å…¨éƒ¨å†…å®¹ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©^_^&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å–œæ¬¢çš„è¯åˆ«å¿˜äº†Â &lt;strong&gt;åˆ†äº«ã€ç‚¹èµã€æ”¶è—&lt;/strong&gt;Â ä¸‰è¿å“¦~ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¬¢è¿å…³æ³¨å…¬ä¼—å·Â &lt;strong&gt;ELabå›¢é˜Ÿ&lt;/strong&gt;Â æ”¶è´§å¤§å‚ä¸€æ‰‹å¥½æ–‡ç« &lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span data-raw-text=&quot;å­—&quot; data-textnode-index=&quot;346&quot; data-index=&quot;7804&quot;&gt;&lt;span data-raw-text=&quot;èŠ‚&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12090&quot;&gt;å­—èŠ‚&lt;/span&gt;&lt;span data-raw-text=&quot;è·³&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12091&quot;&gt;è·³&lt;/span&gt;&lt;span data-raw-text=&quot;åŠ¨&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12092&quot;&gt;åŠ¨&lt;/span&gt;&lt;span data-raw-text=&quot;æ ¡&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12093&quot;&gt;æ ¡&lt;/span&gt;&lt;span data-raw-text=&quot;/&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12094&quot;&gt;/&lt;/span&gt;&lt;span data-raw-text=&quot;ç¤¾&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12095&quot;&gt;ç¤¾&lt;/span&gt;&lt;span data-raw-text=&quot;æ‹›&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12096&quot;&gt;æ‹›&lt;/span&gt;&lt;span data-raw-text=&quot;å†…&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12097&quot;&gt;å†…&lt;/span&gt;&lt;span data-raw-text=&quot;æ¨&quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12098&quot;&gt;æ¨&lt;/span&gt;&lt;span data-raw-text=&quot;ç &quot; data-textnode-index-1642080622978=&quot;991&quot; data-index-1642080622978=&quot;12099&quot;&gt;ç &lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;:&quot; data-textnode-index-1642080622978=&quot;992&quot; data-index-1642080622978=&quot;12100&quot;&gt;:&lt;/span&gt;&lt;span data-raw-text=&quot;Â &quot; data-textnode-index-1642080622978=&quot;992&quot; data-index-1642080622978=&quot;12101&quot;&gt;Â &lt;/span&gt;&lt;span&gt;W7HD8A6&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span data-raw-text=&quot;æŠ•&quot; data-textnode-index=&quot;348&quot; data-index=&quot;7823&quot;&gt;&lt;span data-raw-text=&quot;æŠ•&quot; data-textnode-index-1642080622978=&quot;994&quot; data-index-1642080622978=&quot;12109&quot;&gt;æŠ•&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;é€’&quot; data-textnode-index=&quot;348&quot; data-index=&quot;7824&quot;&gt;&lt;span data-raw-text=&quot;é€’&quot; data-textnode-index-1642080622978=&quot;995&quot; data-index-1642080622978=&quot;12110&quot;&gt;é€’&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;é“¾&quot; data-textnode-index=&quot;348&quot; data-index=&quot;7825&quot;&gt;&lt;span data-raw-text=&quot;é“¾&quot; data-textnode-index-1642080622978=&quot;996&quot; data-index-1642080622978=&quot;12111&quot;&gt;é“¾&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;æ¥&quot; data-textnode-index=&quot;348&quot; data-index=&quot;7826&quot;&gt;&lt;span data-raw-text=&quot;æ¥&quot; data-textnode-index-1642080622978=&quot;997&quot; data-index-1642080622978=&quot;12112&quot;&gt;æ¥&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot;:&quot; data-textnode-index=&quot;348&quot; data-index=&quot;7827&quot;&gt;&lt;span data-raw-text=&quot;:&quot; data-textnode-index-1642080622978=&quot;998&quot; data-index-1642080622978=&quot;12113&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span data-raw-text=&quot; &quot; data-textnode-index=&quot;348&quot; data-index=&quot;7828&quot;&gt;&lt;span data-raw-text=&quot;Â &quot; data-textnode-index-1642080622978=&quot;999&quot; data-index-1642080622978=&quot;12114&quot;&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span data-raw-text=&quot;h&quot; data-textnode-index-1642080622978=&quot;1000&quot; data-index-1642080622978=&quot;12115&quot;/&gt;https://job.toutiao.com/s/6stp6SM&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>39630651e64e702e8a2fb4da10621892</guid>
<title>ã€SpringBootæŠ€æœ¯ä¸“é¢˜ã€‘ã€ŒStateMachineã€StateMachineçŠ¶æ€æœºè®¾è®¡åŠå®ç°å¼€å‘å­¦ä¹ æŒ‡å—_æ´›ç¥ç¬æ®‡çš„åšå®¢-CSDNåšå®¢</title>
<link>https://toutiao.io/k/s5v2a6g</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h1&gt;&lt;a id=&quot;_0&quot;/&gt;å‰è¨€ä»‹ç»&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€ä¸‹çŠ¶æ€æœºä»¥åŠç›¸å…³çš„ä¸€äº›æ¦‚å¿µã€‚ç»“åˆä¸€ä¸ªç®€å•çš„è®¢å•çŠ¶æ€æµç¨‹ï¼Œç¤ºä¾‹æ€æ ·åœ¨Springbootä¸­é›†æˆ&lt;strong&gt;Spring-statemachine&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h1&gt;&lt;a id=&quot;Finitestate_machine_4&quot;/&gt;æœ‰é™çŠ¶æ€æœºï¼ˆFinite-state machineï¼‰&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šfinite-state machineï¼Œç¼©å†™ï¼šFSMï¼‰ï¼Œç®€ç§°çŠ¶æ€æœºï¼Œæ˜¯è¡¨ç¤ºæœ‰é™ä¸ªçŠ¶æ€ä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„è½¬ç§»å’ŒåŠ¨ä½œç­‰è¡Œä¸ºçš„æ•°å­¦æ¨¡å‹&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;åº”ç”¨FSMæ¨¡å‹å¯ä»¥å¸®åŠ©å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„çŠ¶æ€çš„é¡ºåºä»¥åŠå¯¼è‡´çŠ¶æ€å˜åŒ–çš„äº‹ä»¶è¿›è¡Œç®¡ç†&lt;/strong&gt;ã€‚&lt;strong&gt;å°†çŠ¶æ€å’Œäº‹ä»¶æ§åˆ¶ä»ä¸åŒçš„ä¸šåŠ¡Serviceæ–¹æ³•çš„if elseä¸­æŠ½ç¦»å‡ºæ¥ã€‚FSMçš„åº”ç”¨èŒƒå›´å¾ˆå¹¿ï¼Œå¯¹äºæœ‰å¤æ‚çŠ¶æ€æµï¼Œæ‰©å±•æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å‹ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;ä¸‹é¢æ˜¯çŠ¶æ€æœºæ¨¡å‹ä¸­çš„4ä¸ªè¦ç´ ï¼Œå³ç°æ€ã€æ¡ä»¶ã€åŠ¨ä½œã€æ¬¡æ€ã€‚&lt;/p&gt; 
 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;æ¡ä»¶ï¼šåˆç§°ä¸ºâ€œäº‹ä»¶â€ã€‚å½“ä¸€ä¸ªæ¡ä»¶è¢«æ»¡è¶³ï¼Œå°†ä¼šè§¦å‘ä¸€ä¸ªåŠ¨ä½œï¼Œæˆ–è€…æ‰§è¡Œä¸€æ¬¡çŠ¶æ€çš„è¿ç§»ã€‚&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt; 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;åŠ¨ä½œï¼šæ¡ä»¶æ»¡è¶³åæ‰§è¡Œçš„åŠ¨ä½œã€‚åŠ¨ä½œæ‰§è¡Œå®Œæ¯•åï¼Œå¯ä»¥è¿ç§»åˆ°æ–°çš„çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥ä»æ—§ä¿æŒåŸçŠ¶æ€ã€‚åŠ¨ä½œä¸æ˜¯å¿…éœ€çš„ï¼Œå½“æ¡ä»¶æ»¡è¶³åï¼Œä¹Ÿå¯ä»¥ä¸æ‰§è¡Œä»»ä½•åŠ¨ä½œï¼Œç›´æ¥è¿ç§»åˆ°æ–°çŠ¶æ€&lt;/strong&gt;ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;æ¬¡æ€ï¼šæ¡ä»¶æ»¡è¶³åè¦è¿å¾€çš„æ–°çŠ¶æ€ã€‚â€œæ¬¡æ€â€æ˜¯ç›¸å¯¹äºâ€œç°æ€â€è€Œè¨€çš„ï¼Œâ€œæ¬¡æ€â€ä¸€æ—¦è¢«æ¿€æ´»ï¼Œå°±è½¬å˜æˆæ–°çš„â€œç°æ€â€äº†&lt;/strong&gt;ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;çŠ¶æ€æœºä¸­ï¼Œæ¯ä¸ªçŠ¶æ€æœ‰ç€ç›¸åº”çš„è¡Œä¸ºï¼Œéšç€è¡Œä¸ºçš„è§¦å‘æ¥åˆ‡æ¢çŠ¶æ€ã€‚å…¶ä¸­ä¸€ç§åšæ³•æ˜¯ä½¿ç”¨äºŒç»´æ•°ç»„å®ç°çŠ¶æ€æœºæœºåˆ¶ï¼Œå…¶ä¸­æ¨ªåæ ‡è¡¨ç¤ºè¡Œä¸ºï¼Œçºµåæ ‡è¡¨ç¤ºçŠ¶æ€ï¼Œå…·ä½“çš„æ•°å€¼åˆ™è¡¨ç¤ºå½“å‰çš„çŠ¶æ€ã€‚&lt;/p&gt; 
&lt;p&gt;æˆ‘ä»¬ä»¥ç™»å½•åœºæ™¯è®¾è®¡ä¸€ä¸ªçŠ¶æ€æœºã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/0fe603fc054d6224eea82d9894fc2ed8.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;è®¾è®¡ä¸€å¼ çŠ¶æ€æœºè¡¨ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;æ¨ªè½´æ˜¯åŠ¨ä½œï¼Œçºµè½´æ˜¯çŠ¶æ€&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/08db042643dcbf9371b5d4f61ddfb487.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;æ­¤æ—¶å®ƒçš„äºŒç»´æ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤º&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/e078a40bfa69e2e67ec62bdaa71f53e6.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡çŠ¶æ€æ¨¡å¼å®ç°ä¸€ä¸ªçŠ¶æ€æœºï¼ŒçŠ¶æ€æ¨¡å¼å°†æ¯ä¸€ä¸ªçŠ¶æ€å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œå…·ä½“è¡Œä¸ºä¼šéšç€å†…éƒ¨çŠ¶æ€è€Œæ”¹å˜ã€‚çŠ¶æ€æ¨¡å¼ç”¨ç±»è¡¨ç¤ºçŠ¶æ€ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡åˆ‡æ¢ç±»æ¥æ–¹ä¾¿åœ°æ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œé¿å…äº†å†—é•¿çš„æ¡ä»¶åˆ†æ”¯è¯­å¥ï¼Œ&lt;/li&gt;&lt;li&gt;è®©ç³»ç»Ÿå…·æœ‰æ›´å¥½çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªçŠ¶æ€æšä¸¾ï¼Œå…¶ä¸­åŒ…æ‹¬æœªè¿æ¥ã€å·²è¿æ¥ã€æ³¨å†Œä¸­ã€å·²æ³¨å†Œ 4 ç§çŠ¶æ€ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/4f0630218f313daef6b0bc787b99f439.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;å®šä¹‰ä¸€ä¸ªç¯å¢ƒç±»ï¼Œå®ƒæ˜¯å®é™…ä¸Šæ˜¯çœŸæ­£æ‹¥æœ‰çŠ¶æ€çš„å¯¹è±¡ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/2d84c3ea529a05ce342694c01379c841.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;çŠ¶æ€æ¨¡å¼ç”¨ç±»è¡¨ç¤ºçŠ¶æ€ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡åˆ‡æ¢ç±»æ¥æ–¹ä¾¿åœ°æ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚æˆ‘ä»¬å®šä¹‰å‡ ä¸ªçŠ¶æ€ç±»ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/e1eaf986be1f1638b98768651e9ba67b.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/8b487ffa5a3173a94f00dac44a725f4c.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/d0806f13bb43f3744e10137a2eb32b00.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/dc805e2c8d052b98577cdf72d698f493.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŸä¸ªè¡Œä¸ºä¸ä¼šè§¦å‘çŠ¶æ€çš„å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥æŠ›å‡ºä¸€ä¸ª RuntimeException å¼‚å¸¸ã€‚æ­¤å¤–ï¼Œè°ƒç”¨æ—¶ï¼Œé€šè¿‡ç¯å¢ƒç±»æ§åˆ¶çŠ¶æ€çš„åˆ‡æ¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/dea88f080ff5363f8dae49823fc3a5a2.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;Spring StateMachine è®©çŠ¶æ€æœºç»“æ„æ›´åŠ å±‚æ¬¡åŒ–ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…ç®€åŒ–çŠ¶æ€æœºçš„å¼€å‘è¿‡ç¨‹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥ç”¨ Spring StateMachine è¿›è¡Œæ”¹é€ ã€‚ä¿®æ”¹ pom æ–‡ä»¶ï¼Œæ·»åŠ  Maven/gradle ä¾èµ–ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-xml&quot;&gt;dependencies {
    compile &#x27;org.springframework.statemachine:spring-statemachine-core:1.2.7.RELEASE&#x27;
}  
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®šä¹‰ä¸€ä¸ªçŠ¶æ€æšä¸¾ï¼Œå…¶ä¸­åŒ…æ‹¬æœªè¿æ¥ã€å·²è¿æ¥ã€æ³¨å†Œä¸­ã€å·²æ³¨å†Œ 4 ç§çŠ¶æ€ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;CONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;LOGIN_INTO_SYSTEM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®šä¹‰äº‹ä»¶æšä¸¾ï¼Œäº‹ä»¶çš„å‘ç”Ÿè§¦å‘çŠ¶æ€è½¬æ¢&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;CONNECT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;BEGIN_TO_LOGIN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;LOGIN_SUCCESS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;LOGIN_FAILURE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    
    &lt;span class=&quot;token constant&quot;&gt;LOGOUT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;é…ç½®çŠ¶æ€æœºï¼Œé€šè¿‡æ³¨è§£æ‰“å¼€çŠ¶æ€æœºåŠŸèƒ½ã€‚&lt;br/&gt; é…ç½®ç±»ä¸€èˆ¬è¦ç»§æ‰¿EnumStateMachineConfigurerAdapterç±»ï¼Œå¹¶ä¸”é‡å†™ä¸€äº›configureæ–¹æ³•ä»¥é…ç½®çŠ¶æ€æœºçš„åˆå§‹çŠ¶æ€ä»¥åŠäº‹ä»¶ä¸çŠ¶æ€è½¬ç§»çš„è”ç³»ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;BEGIN_TO_LOGIN&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;CONNECT&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;LOGIN_FAILURE&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;LOGIN_SUCCESS&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;LOGOUT&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;CONNECTED&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;LOGINING&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;LOGIN_INTO_SYSTEM&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token import static&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token static&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Configuration&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EnableStateMachine&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EnumStateMachineConfigurerAdapter&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;builders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineStateConfigurer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;config&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;builders&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineTransitionConfigurer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;events&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;com&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;qyz&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@EnableStateMachine&lt;/span&gt; 
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateMachineConfig&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EnumStateMachineConfigurerAdapter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineStateConfigurer&lt;/span&gt; states&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        states&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withStates&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;states&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;EnumSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;allOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegStatusEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineTransitionConfigurer&lt;/span&gt; transitions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        
        transitions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExternal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONNECT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExternal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BEGIN_TO_LOGIN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExternal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGIN_FAILURE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExternal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGIN_INTO_SYSTEM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGIN_SUCCESS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExternal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGIN_INTO_SYSTEM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGOUT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;Spring StateMachine æä¾›äº†æ³¨è§£é…ç½®å®ç°æ–¹å¼ï¼Œæ‰€æœ‰ StateMachineListener æ¥å£ä¸­å®šä¹‰çš„äº‹ä»¶éƒ½èƒ½é€šè¿‡æ³¨è§£çš„æ–¹å¼æ¥è¿›è¡Œé…ç½®å®ç°ã€‚è¿™é‡Œä»¥è¿æ¥äº‹ä»¶ä¸ºæ¡ˆä¾‹ï¼Œ@OnTransition ä¸­ source æŒ‡å®šåŸå§‹çŠ¶æ€ï¼Œtarget æŒ‡å®šç›®æ ‡çŠ¶æ€ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶å°†ä¼šè¢«ç›‘å¬åˆ°ä»è€Œè°ƒç”¨ connect() æ–¹æ³•ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;åœ¨å¯åŠ¨springbootæ—¶ï¼Œéœ€è¦æ³¨å…¥çŠ¶æ€æœºçš„çŠ¶æ€ï¼Œäº‹ä»¶çš„é…ç½®ã€‚èµ·ä¸»è¦æ¶‰åŠåˆ°ä»¥ä¸‹ä¸¤ä¸ªç±»ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;StateMachineStateConfigurer &amp;lt; S, E&amp;gt; é…ç½®çŠ¶æ€é›†åˆä»¥åŠåˆå§‹çŠ¶æ€ï¼Œæ³›å‹å‚æ•°Sä»£è¡¨çŠ¶æ€ï¼ŒEä»£è¡¨äº‹ä»¶ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;StateMachineTransitionConfigurer é…ç½®çŠ¶æ€æµçš„è½¬ç§»ï¼Œå¯ä»¥å®šä¹‰çŠ¶æ€è½¬æ¢æ¥å—çš„äº‹ä»¶ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;é…ç½®äº‹ä»¶ç›‘å¬å™¨ï¼Œäº‹ä»¶å‘ç”Ÿæ—¶ä¼šè§¦å‘çš„æ“ä½œ&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Configuration&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OnTransition&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;org&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;springframework&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;statemachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;annotation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WithStateMachine&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@WithStateMachine&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateMachineEventConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@OnTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;UNCONNECTED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CONNECTED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Switch state from UNCONNECTED to CONNECTED: connect&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@OnTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CONNECTED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LOGINING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;beginToLogin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Switch state from CONNECTED to LOGINING: beginToLogin&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@OnTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LOGINING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LOGIN_INTO_SYSTEM&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loginSuccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Switch state from LOGINING to LOGIN_INTO_SYSTEM: loginSuccess&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@OnTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LOGINING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;UNCONNECTED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;loginFailure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Switch state from LOGINING to UNCONNECTED: loginFailure&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;      
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@OnTransition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;source &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;LOGIN_INTO_SYSTEM&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;UNCONNECTED&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;logout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Switch state from LOGIN_INTO_SYSTEM to UNCONNECTED: logout&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;é€šè¿‡æ³¨è§£è‡ªåŠ¨è£…é…ä¸€ä¸ªçŠ¶æ€æœº&lt;br/&gt; è¿™é‡Œå†™äº†ä¸€ä¸ªrestæ¥å£æ¥è§¦å‘çŠ¶æ€æœºå˜åŒ–&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;WebApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@GetMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/testStateMachine&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;testStateMachine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;CONNECT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BEGIN_TO_LOGIN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGIN_FAILURE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RegEventEnum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOGOUT&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt; state from &lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;CONNECTED&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; connect
&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt; state from &lt;span class=&quot;token constant&quot;&gt;CONNECTED&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; beginToLogin
&lt;span class=&quot;token class-name&quot;&gt;Switch&lt;/span&gt; state from &lt;span class=&quot;token constant&quot;&gt;LOGINING&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;UNCONNECTED&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; loginFailure
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt;&lt;li&gt;ä»è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶sendäº†4ä¸ªäº‹ä»¶ï¼Œä½†åªæœ‰ä¸‰æ¡è¾“å‡ºã€‚åŸå› æ˜¯æœ€åä¸€ä¸ªLOGOUTäº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒçŠ¶æ€æœºæ˜¯UNCONNECTEDçŠ¶æ€ï¼Œæ²¡æœ‰ä¸LOGOUTäº‹ä»¶å…³è”çš„çŠ¶æ€è½¬ç§»ï¼Œæ•…ä¸æ“ä½œã€‚&lt;/li&gt;&lt;li&gt;ä½¿ç”¨springå®ç°çš„çŠ¶æ€æœºå°†ç±»ä¹‹é—´çš„å…³ç³»å…¨éƒ¨äº¤ç”±äº†IOCå®¹å™¨åšç®¡ç†ï¼Œå®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„è§£è€¦ã€‚æœç„¶Springå¤§æ³•å¥½å•Šã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;Spring StateMachine è®©çŠ¶æ€æœºç»“æ„æ›´åŠ å±‚æ¬¡åŒ–ï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸‹å‡ ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼š&lt;/p&gt; 
 
&lt;hr/&gt; 
&lt;h3&gt;&lt;a id=&quot;_264&quot;/&gt;çŠ¶æ€è½¬ç§»çš„ç›‘å¬å™¨&lt;/h3&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;çŠ¶æ€è½¬ç§»è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡ç›‘å¬å™¨ï¼ˆListenerï¼‰æ¥å¤„ç†ä¸€äº›æŒä¹…åŒ–æˆ–è€…ä¸šåŠ¡ç›‘æ§ç­‰ä»»åŠ¡ã€‚åœ¨éœ€è¦æŒä¹…åŒ–çš„åœºæ™¯ä¸­ï¼Œå¯ä»¥åœ¨çŠ¶æ€æœºæ¨¡å¼ä¸­çš„ç›‘å¬å™¨ä¸­æ·»åŠ æŒä¹…åŒ–çš„å¤„ç†ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;_268&quot;/&gt;å…¶ä¸­ä¸»è¦æ¶‰åŠåˆ°&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;StateMachineListeneräº‹ä»¶ç›‘å¬å™¨(é€šè¿‡Springçš„eventæœºåˆ¶å®ç°)ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;ç›‘å¬stateEntered(è¿›å…¥çŠ¶æ€)ã€stateExited(ç¦»å¼€çŠ¶æ€)ã€eventNotAccepted(äº‹ä»¶æ— æ³•å“åº”)ã€transition(è½¬æ¢)ã€transitionStarted(è½¬æ¢å¼€å§‹)ã€transitionEnded(è½¬æ¢ç»“æŸ)ã€stateMachineStarted(çŠ¶æ€æœºå¯åŠ¨)ã€stateMachineStopped(çŠ¶æ€æœºå…³é—­)ã€stateMachineError(çŠ¶æ€æœºå¼‚å¸¸)ç­‰äº‹ä»¶ï¼Œå€ŸåŠ©listenerå¯ä»¥è·Ÿè¸ªçŠ¶æ€è½¬ç§»ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;StateChangeInterceptoræ‹¦æˆªå™¨æ¥å£ï¼Œä¸åŒäºListenerã€‚å…¶å¯ä»¥æ”¹å˜çŠ¶æ€è½¬ç§»é“¾çš„å˜åŒ–ã€‚ä¸»è¦åœ¨preEvent(äº‹ä»¶é¢„å¤„ç†)ã€preStateChange(çŠ¶æ€å˜æ›´çš„å‰ç½®å¤„ç†)ã€postStateChange(çŠ¶æ€å˜æ›´çš„åç½®å¤„ç†)ã€preTransition(è½¬åŒ–çš„å‰ç½®å¤„ç†)ã€postTransition(è½¬åŒ–çš„åç½®å¤„ç†)ã€stateMachineError(å¼‚å¸¸å¤„ç†)ç­‰æ‰§è¡Œç‚¹ç”Ÿæ•ˆã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;StateMachine çŠ¶æ€æœºå®ä¾‹ï¼Œspring statemachineæ”¯æŒå•ä¾‹ã€å·¥å‚æ¨¡å¼ä¸¤ç§æ–¹å¼åˆ›å»ºï¼Œæ¯ä¸ªstatemachineæœ‰ä¸€ä¸ªç‹¬æœ‰çš„machineIdç”¨äºæ ‡è¯†machineå®ä¾‹ï¼›éœ€è¦æ³¨æ„çš„æ˜¯statemachineå®ä¾‹å†…éƒ¨å­˜å‚¨äº†å½“å‰çŠ¶æ€æœºç­‰ä¸Šä¸‹æ–‡ç›¸å…³çš„å±æ€§ï¼Œå› æ­¤è¿™ä¸ªå®ä¾‹ä¸èƒ½å¤Ÿè¢«å¤šçº¿ç¨‹å…±äº«ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿æ‰©å±•æ›´å¤šçš„Listenerï¼Œä»¥åŠç®¡ç†Listenerså’ŒInterceptorsã€‚å¯ä»¥å®šä¹‰ä¸€ä¸ªåŸºäºçŠ¶æ€æœºå®ä¾‹çš„Handler: PersistStateMachineHandler,ä»¥åŠæŒä¹…åŒ–å®ä½“çš„ç›‘å¬å™¨OrderPersistStateChangeListenerå¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;p&gt;ç›‘å¬å™¨çš„Handlerä»¥åŠæ¥å£å®šä¹‰PersistStateMachineHandlerï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;LifecycleObjectSupport&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistingStateChangeInterceptor&lt;/span&gt; interceptor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; 
         &lt;span class=&quot;token class-name&quot;&gt;PersistingStateChangeInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CompositePersistStateChangeListener&lt;/span&gt; listeners &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; 
         &lt;span class=&quot;token class-name&quot;&gt;CompositePersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

   
   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; 
       stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token class-name&quot;&gt;Assert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;notNull&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stateMachine&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;State machine must be set&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stateMachine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onInit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStateMachineAccessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doWithAllRegions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;function &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; 
       function&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addStateMachineInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;interceptor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


   
   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handleEventWithState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt; 
       state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineAccess&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; withAllRegions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
        stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStateMachineAccessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withAllRegions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateMachineAccess&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; withAllRegions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resetStateMachine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DefaultStateMachineContext&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
       stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sendEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   
   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addPersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt; listener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       listeners&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;listener&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


   
   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

       
       &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPersist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
           &lt;span class=&quot;token class-name&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Transition&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistingStateChangeInterceptor&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt;   
         &lt;span class=&quot;token class-name&quot;&gt;StateMachineInterceptorAdapter&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       
       &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;preStateChange&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
             &lt;span class=&quot;token class-name&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                  &lt;span class=&quot;token class-name&quot;&gt;Transition&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
               &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           listeners&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onPersist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CompositePersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; 
           &lt;span class=&quot;token class-name&quot;&gt;AbstractCompositeListener&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt;
           &lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPersist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
               &lt;span class=&quot;token class-name&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                             &lt;span class=&quot;token class-name&quot;&gt;Transition&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;     
             &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Iterator&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; iterator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getListeners&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reverse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; 
               iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasNext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token class-name&quot;&gt;PersistStateChangeListener&lt;/span&gt; listener &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; iterator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
               listener&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onPersist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
           &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;æŒä¹…åŒ–çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„è®¢å•å®ä½“çš„Listenerå®ç°ç±»OrderPersistStateChangeListener:&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderPersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; 
                  &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderRepo&lt;/span&gt; repo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onPersist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;State&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;   
        &lt;span class=&quot;token class-name&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;token class-name&quot;&gt;Transition&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; transition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
      &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;message &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;containsKey&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;order&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt; order &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; message&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getHeaders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;order&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt; o &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; repo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByOrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt; status &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;status&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            repo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;o&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;Springbootæ³¨å…¥Handlerå’ŒListener beançš„Configurationç±»ï¼ŒOrderPersistHandlerConfig&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Configuration&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderPersistHandlerConfig&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StateMachine&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OrderStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; stateMachine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStateService&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt; handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistStateMachineHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        handler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addPersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;persistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStateService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistStateMachineHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stateMachine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Bean&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderPersistStateChangeListener&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderPersistStateChangeListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;è®¢å•æœåŠ¡çš„Controller&amp;amp;Serviceç¤ºä¾‹&lt;/p&gt; 
&lt;p&gt;ç¤ºä¾‹æä¾›äº†ä¸¤ä¸ªç®€å•çš„æ¥å£ï¼Œä¸€ä¸ªæ˜¯æŸ¥çœ‹æ‰€æœ‰è®¢å•åˆ—è¡¨ï¼Œä¸€ä¸ªæ˜¯æ”¹å˜ä¸€ä¸ªè®¢å•çš„çŠ¶æ€ã€‚&lt;/p&gt; 
&lt;p&gt;Controllerå¦‚ä¸‹OrderController:&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RestController&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/orders&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderController&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStateService&lt;/span&gt; orderStateService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RequestMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;orders&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; orders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; orderStateService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;listDbEntries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;orders&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


    
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;/{orderId}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RequestMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;processOrderState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@PathVariable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;orderId&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt; orderId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@RequestParam&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;event&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Boolean&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; orderStateService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;orderId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;è®¢å•æœåŠ¡ç±»OrderStateServiceï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStateService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStateService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PersistStateMachineHandler&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;handler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderRepo&lt;/span&gt; repo&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;listDbEntries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; orders &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; repo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;StringJoiner&lt;/span&gt; sj &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StringJoiner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt; order &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; orders&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            sj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; sj&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;


    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OrderStatusChangeEvent&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Order&lt;/span&gt; o &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; repo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findByOrderId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;order&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; handler&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;handleEventWithState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MessageBuilder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withPayload&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;order&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; order&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; o&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getStatus&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4da0c38900e0ddf29c9671d23cc08aed</guid>
<title>é˜¿é‡Œå¼ºåˆ¶ boolean ç±»å‹ä¸èƒ½ç”¨ is å¼€å¤´ï¼Ÿ</title>
<link>https://toutiao.io/k/21wjyc1</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h4&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;pre&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;é‡ç£…èµ„è®¯ï¼Œå¹²è´§ï¼Œç¬¬ä¸€æ—¶é—´é€è¾¾&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;# èƒŒæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¹³æ—¶å·¥ä½œä¸­å¤§å®¶ç»å¸¸ä½¿ç”¨åˆ°booleanä»¥åŠBooleanç±»å‹çš„æ•°æ®ï¼Œå‰è€…æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåè€…æ˜¯åŒ…è£…ç±»ï¼Œä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨isXXXæ¥å‘½åå‘¢ï¼Ÿåˆ°åº•æ˜¯ç”¨åŸºæœ¬ç±»å‹çš„æ•°æ®å¥½å‘¢è¿˜æ˜¯ç”¨åŒ…è£…ç±»å¥½å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;# ä¾‹å­&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.å…¶ä»–ébooleanç±»å‹&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; getIsHot() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.booleanç±»å‹&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;isHot&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.åŒ…è£…ç±»å‹&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Â &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt;Â &lt;span class=&quot;code-snippet__built_in&quot;&gt;Boolean&lt;/span&gt;Â isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Boolean&lt;/span&gt; getHot() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; isHot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.ä¸ä»¥iså¼€å¤´&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Â &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt;Â &lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt;Â hot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;isHot&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; hot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5.åŒ…è£…ç±»å‹&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Â &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt;Â &lt;span class=&quot;code-snippet__built_in&quot;&gt;Boolean&lt;/span&gt;Â hot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Boolean&lt;/span&gt; getHot() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; hot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®é˜¿é‡Œå·´å·´å‘å¸ƒçš„javaå¼€å‘æ‰‹å†Œä¸­å°±å†™æ˜äº†ï¼Œå¼ºåˆ¶è§„å®šï¼Œå¸ƒå°”ç±»å‹çš„æ•°æ®ï¼Œæ— è®ºæ˜¯booleanè¿˜æ˜¯Booleanéƒ½ä¸å‡†ä½¿ç”¨isXXXæ¥å‘½å&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3508158508158508&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icu8ekKAcwiaaTxg3xCEDX5s53ZEOiaBbha0Dj1vTR1Co8zIjzxqueCMbFnIjxwx0eBqnbV1UbsORdqu7DqMrRP4Q/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºébooleanç±»å‹çš„å‚æ•°ï¼Œgetterå’Œsetteræ–¹æ³•å‘½åçš„è§„èŒƒæ˜¯ä»¥getå’Œsetå¼€å¤´&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºbooleanç±»å‹çš„å‚æ•°ï¼Œsetteræ–¹æ³•æ˜¯ä»¥setå¼€å¤´ï¼Œä½†æ˜¯getteræ–¹æ³•å‘½åçš„è§„èŒƒæ˜¯ä»¥iså¼€å¤´&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŒ…è£…ç±»è‡ªåŠ¨ç”Ÿæˆçš„getterå’Œsetteræ–¹æ³•çš„åç§°éƒ½æ˜¯getXXX()å’ŒsetXXX()&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.å…¶å®javaBeansè§„èŒƒä¸­å¯¹è¿™äº›å‡æœ‰ç›¸åº”çš„è§„å®šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å±æ€§ï¼Œå…¶getterå’Œsetteræ–¹æ³•æ˜¯getXXX()å’ŒsetXXXï¼Œä½†æ˜¯å¯¹äºåŸºæœ¬æ•°æ®ä¸­å¸ƒå°”ç±»å‹çš„æ•°æ®ï¼Œåˆæœ‰ä¸€å¥—è§„å®šï¼Œå…¶getterå’Œsetteræ–¹æ³•æ˜¯isXXX()å’ŒsetXXXã€‚ä½†æ˜¯åŒ…è£…ç±»å‹éƒ½æ˜¯ä»¥getå¼€å¤´&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.è¿™ç§æ–¹å¼åœ¨æŸäº›æ—¶å€™æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„ï¼Œä½†æ˜¯åœ¨ä¸€äº›rpcæ¡†æ¶é‡Œé¢ï¼Œå½“åå‘è§£æè¯»å–åˆ°isSuccess()æ–¹æ³•çš„æ—¶å€™ï¼Œrpcæ¡†æ¶ä¼šâ€œä»¥ä¸ºâ€å…¶å¯¹åº”çš„å±æ€§å€¼æ˜¯successï¼Œè€Œå®é™…ä¸Šå…¶å¯¹åº”çš„å±æ€§å€¼æ˜¯isSuccessï¼Œå¯¼è‡´å±æ€§å€¼è·å–ä¸åˆ°ï¼Œä»è€ŒæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;# æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1ã€booleanç±»å‹çš„å±æ€§å€¼ä¸å»ºè®®è®¾ç½®ä¸ºiså¼€å¤´ï¼Œå¦åˆ™ä¼šå¼•èµ·rpcæ¡†æ¶çš„åºåˆ—åŒ–å¼‚å¸¸ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ã€å¦‚æœå¼ºè¡Œå°†IDEè‡ªåŠ¨ç”Ÿæˆçš„isSuccess()æ–¹æ³•ä¿®æ”¹æˆgetSuccess()ï¼Œä¹Ÿèƒ½è·å–åˆ°Successå±æ€§å€¼ï¼Œè‹¥ä¸¤è€…å¹¶å­˜ï¼Œåˆ™ä¹‹åé€šè¿‡getSuccess()æ–¹æ³•è·å–Successå±æ€§å€¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å·¥ä½œä¸­ä½¿ç”¨åŸºæœ¬ç±»å‹çš„æ•°æ®å¥½è¿˜æ˜¯åŒ…è£…ç±»å¥½&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å’±ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªè®¡ç®—ç›ˆåˆ©çš„ç³»ç»Ÿï¼Œå…¶ç›ˆåˆ©æ¯”ä¾‹æœ‰æ­£æœ‰è´Ÿï¼Œè‹¥ä½¿ç”¨äº†åŸºæœ¬ç±»å‹boubleå®šä¹‰äº†æ•°æ®ï¼Œå½“RPCè°ƒç”¨æ—¶ï¼Œè‹¥å‡ºç°äº†é—®é¢˜ï¼Œæœ¬æ¥åº”è¯¥è¿”å›é”™è¯¯çš„ï¼Œä½†æ˜¯ç”±äºä½¿ç”¨äº†åŸºæœ¬ç±»å‹ï¼Œè¿”å›äº†0.0ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä»Šå¹´æ”¶æ”¯å¹³è¡¡ï¼Œè€Œä¸ä¼šå‘ç°å…¶å®æ˜¯å‡ºç°äº†é”™è¯¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è‹¥ä½¿ç”¨äº†åŒ…è£…æ•°æ®ç±»å‹Doubleï¼Œå½“RPCè°ƒç”¨å¤±è´¥æ—¶ï¼Œä¼šè¿”å›nullï¼Œè¿™æ ·ç›´æ¥å°±èƒ½çœ‹åˆ°å‡ºç°é—®é¢˜äº†ï¼Œè€Œä¸ä¼šå› ä¸ºé»˜è®¤å€¼çš„é—®é¢˜å½±å“åˆ¤æ–­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®é˜¿é‡Œjavaå¼€å‘æ‰‹å†Œä¸­å¯¹äºè¿™ä¸ªä¹Ÿæœ‰å¼ºåˆ¶è§„å®š:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4209905660377358&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/icu8ekKAcwiaaTxg3xCEDX5s53ZEOiaBbhadFaCpiaMC2VUt2BOeqrBw2NKOAoWRCIPMsh6MZWxp3N9jzXfJvh6v4Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;848&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ï¼Œè¿™é‡Œå»ºè®®å¤§å®¶POJOä¸­ä½¿ç”¨åŒ…è£…æ•°æ®ç±»å‹ï¼Œå±€éƒ¨å˜é‡ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>0387d73f0064c81a5ec8e442387e9d0b</guid>
<title>å…«ä¸ª Web Components å‰ç«¯æ¡†æ¶ï¼Œä¸€å®šæœ‰ä¸€ä¸ªä½ ç”¨å¾—ä¸Š</title>
<link>https://toutiao.io/k/t82736r</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzUxNzk1MjQ0Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/YBFV3Da0Nwvv72YkFO0qPibDKicOCsfltiaE9070DOu4iahXnicYwRIHcxe9VBicAy45MkPqy8nZzLTVibugOtV0ORFcg/0?wx_fmt=png&quot; data-nickname=&quot;ç¨‹åºå‘˜æˆé•¿æŒ‡åŒ—&quot; data-alias=&quot;coder_growth&quot; data-signature=&quot;ä¸“æ³¨ Node.js æŠ€æœ¯æ ˆåˆ†äº«ï¼Œä» å‰ç«¯ åˆ° Node.js å†åˆ° åç«¯æ•°æ®åº“ï¼Œç¥æ‚¨æˆä¸ºä¼˜ç§€çš„é«˜çº§ Node.js å…¨æ ˆå·¥ç¨‹å¸ˆã€‚ä¸€ä¸ªæœ‰è¶£çš„ä¸”ä¹äºåˆ†äº«çš„äººã€‚åº§å³é“­ï¼šä»Šå¤©æœªå®Œæˆçš„ï¼Œæ˜å¤©æ›´ä¸ä¼šå®Œæˆã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å¤§å‚æŠ€æœ¯&lt;/span&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;é«˜çº§å‰ç«¯&lt;/span&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;Nodeè¿›é˜¶&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;span data-darkmode-bgcolor-16021670869911=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16021670869911=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16021670869911=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16021670869911=&quot;rgb(136, 136, 136)&quot; data-darkmode-bgcolor-16030289161394=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030289161394=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030289161394=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16030289161394=&quot;rgb(136, 136, 136)&quot; data-darkmode-bgcolor-16030315732716=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030315732716=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030315732716=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16030315732716=&quot;rgb(136, 136, 136)&quot;&gt;ç‚¹å‡»ä¸Šæ–¹Â &lt;/span&gt;&lt;span data-darkmode-bgcolor-16021670869911=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16021670869911=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16021670869911=&quot;rgb(0, 128, 255)&quot; data-darkmode-original-color-16021670869911=&quot;rgb(0, 128, 255)&quot; data-darkmode-bgcolor-16030289161394=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030289161394=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030289161394=&quot;rgb(0, 128, 255)&quot; data-darkmode-original-color-16030289161394=&quot;rgb(0, 128, 255)&quot; data-darkmode-bgcolor-16030315732716=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030315732716=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030315732716=&quot;rgb(0, 128, 255)&quot; data-darkmode-original-color-16030315732716=&quot;rgb(0, 128, 255)&quot;&gt;ç¨‹åºå‘˜æˆé•¿æŒ‡åŒ—&lt;/span&gt;&lt;span data-darkmode-bgcolor-16021670869911=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16021670869911=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16021670869911=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16021670869911=&quot;rgb(136, 136, 136)&quot; data-darkmode-bgcolor-16030289161394=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030289161394=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030289161394=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16030289161394=&quot;rgb(136, 136, 136)&quot; data-darkmode-bgcolor-16030315732716=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16030315732716=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-16030315732716=&quot;rgb(136, 136, 136)&quot; data-darkmode-original-color-16030315732716=&quot;rgb(136, 136, 136)&quot;&gt;ï¼Œå…³æ³¨å…¬ä¼—å·&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›å¤&lt;/span&gt;&lt;span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ï¼ŒåŠ å…¥é«˜çº§Nodeäº¤æµç¾¤&lt;/span&gt;&lt;/p&gt;&lt;section&gt;é€šè¿‡ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ï¼Œå¤§å®¶å¯¹ Web Components ä¸€å®šæœ‰äº†ä¸€ä¸ªæ·±å…¥çš„äº†è§£ã€‚é€šè¿‡å®æˆ˜ä¹Ÿå¯¹ Web Components æ€ä¹ˆå†™ã€æ€ä¹ˆç”¨æ¯”è¾ƒç†Ÿæ‚‰äº†ã€‚&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;ä½†æ˜¯ï¼Œåœ¨å®ç°æ—¶æˆ‘ä»¬ä¸éš¾å‘ç°ï¼ŒåŸç”Ÿçš„ Web Component å¯¹äºå°è£…ç»„ä»¶å…¶å®å¹¶ä¸æ˜¯å¾ˆæµç•…ï¼Œéœ€è¦å¯¹å±æ€§è¿›è¡Œå¤„ç†ã€éœ€è¦å¯¹æ•°æ®è¿›è¡Œç›‘å¬ã€éœ€è¦å¯¹äº‹ä»¶è¿›è¡Œæ§åˆ¶ç­‰ç­‰ã€‚è¿™ä¸€åˆ‡éƒ½åœ¨å’Œæ•ˆç‡å¼€å‘èƒŒé“è€Œé©°ã€‚&lt;/p&gt;&lt;p&gt;æ‰€ä»¥åœ¨é’ˆå¯¹è¿™äº›ä¸ç¬¦åˆç°åœ¨å¼€å‘æ¨¡å¼çš„æƒ…å†µï¼Œå‡ºç°äº†å¾ˆå¤š Web Components å‰ç«¯æ¡†æ¶ã€‚&lt;/p&gt;&lt;h1&gt;&lt;span&gt;Stencil&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;Stencil æ˜¯ç”¨äºç”Ÿæˆ Web Components çš„ç¼–è¯‘å™¨ï¼Œç”± Ionic å›¢é˜Ÿæ„å»ºã€‚Stencil å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨ã€‚TypeScript å’Œ JSX ç­‰æŠ€æœ¯æ¥å®šä¹‰ç»„ä»¶ï¼Œç„¶åç”Ÿæˆå¯åœ¨ç°ä»£æµè§ˆå™¨å’Œæ—§ç‰ˆæµè§ˆå™¨ä¸Šè¿è¡Œçš„ 100% åŸºäºæ ‡å‡†çš„ Web Componentã€‚å½“ä½ çš„ç»„ä»¶ä¸€æ—¦ç»è¿‡ build å®Œæˆåï¼Œå°±ä¼šè„±ç¦» Stencilï¼Œä¸å†ä¾èµ–ã€‚å¹¶ä¸” Stencil ç›¸å¯¹åŸç”Ÿ Web Components æä¾›äº†å®Œå–„çš„é¡¹ç›®ç›®å½•æ¶æ„å’Œé…ç½®ï¼Œä¸ç›´æ¥ä½¿ç”¨ Custom Elements ç›¸æ¯”ï¼ŒStencil æä¾›äº†é¢å¤–çš„ APIï¼Œä½¿ç¼–å†™å¿«é€Ÿç»„ä»¶å˜å¾—æ›´åŠ ç®€å•ï¼ŒStencli å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;Virtual DOM&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;JSX å’Œå¼‚æ­¥æ¸²æŸ“ç­‰ API ä½¿å¿«é€Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¼ºå¤§çš„ç»„ä»¶åˆ›å»º&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Reactive data-binding å•å‘æ•°æ®æµ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç»„ä»¶æ‡’åŠ è½½&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ— ä¾èµ–æ€§ç»„ä»¶&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é™æ€ç½‘ç«™ç”Ÿæˆ(SSG)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å¼€å‘äººå‘˜ä½“éªŒä¹Ÿå¾—åˆ°äº†è°ƒæ•´ï¼Œå¹¶å¸¦æœ‰å®æ—¶é‡æ–°åŠ è½½å’ŒåµŒå…¥ç¼–è¯‘å™¨çš„å°å‹å¼€å‘æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;p&gt;é€šè¿‡ &quot;npm init stencil&quot; æˆ‘ä»¬å¯ä»¥å»ä½“éªŒ Stencil æä¾› cli å·¥å…·ï¼ŒStencil ä¼šæä¾›ä¿å§†å¼çš„é€‰é¡¹é…ç½®ï¼š&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.45392749244712993&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wr65KQicCqibcLwMeiar6UEct9ky1kjmQM1TwokcG3CRZpwsajKdKRA3Hcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1324&quot;/&gt;&lt;/figure&gt;&lt;p&gt;Stencil ç»„ä»¶çœ‹èµ·æ¥å¾ˆåƒåŸºäºç±»çš„ React ç»„ä»¶ï¼Œåªæ˜¯æ·»åŠ äº† TypeScript è£…é¥°å™¨ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;importÂ {Â Component,Â Prop,Â hÂ }Â fromÂ &lt;span&gt;&#x27;@stencil/core&#x27;&lt;/span&gt;;&lt;br/&gt;importÂ {Â formatÂ }Â fromÂ &lt;span&gt;&#x27;../../utils/utils&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;@Component({&lt;br/&gt;Â Â tag:Â &lt;span&gt;&#x27;my-component&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â styleUrl:Â &lt;span&gt;&#x27;my-component.css&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â shadow:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;})&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â classÂ MyComponentÂ {&lt;br/&gt;Â Â /**&lt;br/&gt;Â Â Â *Â TheÂ firstÂ name&lt;br/&gt;Â Â Â */&lt;br/&gt;Â Â @Prop()Â first:Â string;&lt;br/&gt;&lt;br/&gt;Â Â /**&lt;br/&gt;Â Â Â *Â TheÂ middleÂ name&lt;br/&gt;Â Â Â */&lt;br/&gt;Â Â @Prop()Â middle:Â string;&lt;br/&gt;&lt;br/&gt;Â Â /**&lt;br/&gt;Â Â Â *Â TheÂ lastÂ name&lt;br/&gt;Â Â Â */&lt;br/&gt;Â Â @Prop()Â last:Â string;&lt;br/&gt;&lt;br/&gt;Â Â privateÂ getText():Â stringÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â format(this.first,Â this.middle,Â this.last);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;render&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;lt;div&amp;gt;Hello,Â World!Â I&lt;span&gt;&#x27;mÂ {this.getText()}&amp;lt;/div&amp;gt;;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çš„ç»„ä»¶å¯ä»¥åƒä»»ä½•å…¶ä»– HTML å…ƒç´ ä¸€æ ·ä½¿ç”¨ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;my-componentÂ first=&lt;span&gt;&quot;Stencil&quot;&lt;/span&gt;Â last=&lt;span&gt;&quot;&#x27;Don&#x27;tÂ callÂ meÂ aÂ framework&#x27;Â JS&quot;&lt;/span&gt;&amp;gt;&amp;lt;/my-component&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrIo1Z6bfLuskMsoW02UVqTjwKe2ayB1ocqFib0G54lic0m7OBILNbvicvw/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;Omi&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;Omi æ˜¯è…¾è®¯å¼€æºçš„å‰ç«¯è·¨æ¡†æ¶è·¨å¹³å°çš„æ¡†æ¶ã€‚æ˜¯ä¸‹ä¸€ä»£ Web æ¡†æ¶ï¼ŒOmi çš„ç›®æ ‡æ˜¯å»ä¸‡ç‰©ç³Ÿç²•ï¼Œåˆç²¾åä¸ºä¸€ã€‚Omi æ˜¯ä¸€ä¸ªè·¨æ¡†æ¶çš„æ¡†æ¶ï¼Œä»»ä½•æ¡†æ¶éƒ½å¯ä»¥ä½¿ç”¨ Omi è‡ªå®šä¹‰åŸå§‹ï¼Œå½“ç„¶ Web Components ä¹Ÿå¯ä»¥ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å°å·§å¹¶ä¸”é«˜æ€§èƒ½&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŸºäº Shadow/Ligit Dom è®¾è®¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Web Components + JSX/TSX èåˆä¸ºä¸€ä¸ªæ¡†æ¶ Omi&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Shadow/Light DOM ä¸ Virtual DOM èåˆï¼ŒOmi æ—¢ä½¿ç”¨äº†è™šæ‹Ÿ DOMï¼Œä¹Ÿæ˜¯ä½¿ç”¨çœŸå® Shadow DOMï¼Œè®©è§†å›¾æ›´æ–°æ›´å‡†ç¡®æ›´è¿…é€Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å±€éƒ¨ CSS æœ€ä½³è§£å†³æ–¹æ¡ˆ(Shadow DOM)ï¼Œç¤¾åŒºä¸ºå±€éƒ¨ CSS æŠ˜è…¾äº†ä¸å°‘æ¡†æ¶å’Œåº“(ä½¿ç”¨ js æˆ– json å†™æ ·å¼ï¼Œå¦‚:Radiumï¼Œjsxstyleï¼Œreact-styleï¼›ä¸ webpack ç»‘å®šä½¿ç”¨ç”Ÿæˆç‹¬ç‰¹çš„ className æ–‡ä»¶åâ€”ç±»åâ€”hashå€¼ï¼Œå¦‚ï¼šCSS Modulesï¼ŒVue)ï¼Œè¿˜æœ‰è¿è¡Œæ—¶æ³¨å…¥scoped atrr çš„æ–¹å¼ï¼Œéƒ½æ˜¯ hack æŠ€æœ¯ï¼›Shadow DOM Style æ˜¯æœ€å®Œç¾çš„æ–¹æ¡ˆ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹ custom elements å‹å¥½, é€šè¿‡å­—ç¬¦ä¸² &#x27;0&#x27;æˆ–è€…&#x27;false&#x27;ä¼ é€’ falseï¼Œé€šè¿‡:å’ŒOmi.$ä¼ é€’ä»»æ„å¤æ‚ç±»å‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¬¦åˆæµè§ˆå™¨çš„å‘å±•è¶‹åŠ¿ä»¥åŠ API è®¾è®¡ç†å¿µ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸‹å‘½ä»¤å¿«é€Ÿå¼€å§‹å¼€å‘é¡¹ç›®ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;$Â npmÂ iÂ omi-cliÂ -gÂ Â Â Â &lt;span&gt;#Â installÂ cli&lt;/span&gt;&lt;br/&gt;$Â omiÂ initÂ my-appÂ Â Â Â Â &lt;span&gt;#Â åˆå§‹åŒ–é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥åœ¨ç©ºç›®å½•é‡Œæ‰§è¡ŒÂ &#x27;omiÂ init&#x27;&lt;/span&gt;&lt;br/&gt;$Â &lt;span&gt;cd&lt;/span&gt;Â my-appÂ Â Â Â Â Â Â Â Â Â Â &lt;span&gt;#Â å¦‚æœåœ¨ç©ºç›®å½•é‡Œæ‰§è¡ŒÂ &#x27;omiÂ init&#x27;Â å¿½ç•¥è¿™æ¡å‘½ä»¤&lt;/span&gt;&lt;br/&gt;$Â npmÂ startÂ Â Â Â Â Â Â Â Â Â Â &lt;span&gt;#Â å¼€å‘&lt;/span&gt;&lt;br/&gt;$Â npmÂ runÂ buildÂ Â Â Â Â Â Â &lt;span&gt;#Â ç¼–è¯‘å‘å¸ƒ&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;importÂ {Â WeElement,Â render,Â h,Â tagÂ }Â fromÂ &lt;span&gt;&#x27;omi&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;importÂ &lt;span&gt;&#x27;./o-counter&#x27;&lt;/span&gt;&lt;br/&gt;importÂ &lt;span&gt;&#x27;./index.css&#x27;&lt;/span&gt;&lt;br/&gt;importÂ *Â asÂ cssÂ fromÂ &lt;span&gt;&#x27;./index.less&#x27;&lt;/span&gt;&lt;br/&gt;importÂ logoÂ fromÂ &lt;span&gt;&#x27;./logo.svg&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;interfaceÂ MyAppPropsÂ {&lt;br/&gt;Â Â name:Â string&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;@tag(&lt;span&gt;&#x27;my-app&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â defaultÂ classÂ extendsÂ WeElement&amp;lt;MyAppProps&amp;gt;Â {&lt;br/&gt;&lt;br/&gt;Â Â staticÂ cssÂ =Â css.default&lt;br/&gt;&lt;br/&gt;Â Â abc:Â string&lt;br/&gt;&lt;br/&gt;Â Â onCountChangedÂ =Â (evt:Â CustomEvent)Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â console.log(evt.detail)&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â render(props)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â &amp;lt;divÂ class=&lt;span&gt;&quot;app&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;headerÂ class=&lt;span&gt;&quot;app-header&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;img&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â src={logo}&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â class=&lt;span&gt;&quot;app-logo&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â alt=&lt;span&gt;&quot;logo&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â /&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;h1Â class=&lt;span&gt;&quot;app-title&quot;&lt;/span&gt;&amp;gt;WelcomeÂ toÂ {props.name}&amp;lt;/h1&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;/header&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â {this.abc}&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;o-counterÂ onCountChanged={this.onCountChanged}&amp;gt;&amp;lt;/o-counter&amp;gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â )&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;render(&amp;lt;my-app&amp;gt;&amp;lt;/my-app&amp;gt;,Â &lt;span&gt;&#x27;#root&#x27;&lt;/span&gt;,Â {&lt;br/&gt;Â Â //Â &lt;span&gt;if&lt;/span&gt;Â usingÂ OMIÂ toÂ buildÂ theÂ wholeÂ application,Â ignoreÂ theÂ attributsÂ ofÂ DOMÂ andÂ useÂ propsÂ ofÂ virtualÂ dom&lt;br/&gt;Â Â ignoreAttrs:Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Omi ç»„ä»¶çœ‹èµ·æ¥ä¹Ÿéå¸¸åƒ React ç»„ä»¶ã€‚ç›¸ä¼¼åº¦ 95%ï¼Œå“ˆå“ˆå“ˆã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ª React å¼€å‘è€…ä¸€å®šæ„Ÿè§‰è¿™è¯­æ³•éå¸¸çš„å‹å¥½ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrGv36dWUNbXFs5MjfkUMvMSIeuicLMX17DdS3AHYR8o5u2mqMnEVV8zw/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;Slim.js&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;Slim.js æ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§ Web Components åº“ï¼Œå®ƒä¸ºç»„ä»¶æä¾›æ•°æ®ç»‘å®šå’Œæ‰©å±•èƒ½åŠ›ï¼Œä½¿ç”¨ es6 åŸç”Ÿç±»ç»§æ‰¿ã€‚ä¸“æ³¨äºå¸®åŠ©å¼€å‘è€…æ›´å¥½çš„ç¼–å†™åŸç”Ÿwebç»„ä»¶ï¼Œè€Œä¸ä¾èµ–äºå…¶ä»–æ¡†æ¶ï¼Œä½†æ˜¯ä¹Ÿæä¾›äº†è‰¯å¥½çš„æ‹“å±•æ€§ï¼Œå¼€å‘è€…å¯ä»¥è‡ªç”±æ‹“å±•ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;slim.js æ ¸å¿ƒå¾ˆå°ï¼ˆå‹ç¼©åä¸åˆ° 3kBï¼‰ï¼Œä»åå­—ä¹Ÿèƒ½çœ‹å‡ºå®ƒå¾ˆå°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;slim.js å¸¦æœ‰å¯é€‰çš„å†…ç½®æŒ‡ä»¤â€”â€”å¯ä»¥é€‰æ‹©é€‚åˆçš„æŒ‡ä»¤ï¼Œä»è€Œä¿æŒåŒ…å¾ˆå°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;slim.js é€Ÿåº¦å¾ˆå¿«â€”â€”å®ƒä½¿ç”¨æµè§ˆå™¨çš„ Background Task API æŒ‰éœ€åˆ›å»ºç»‘å®šå¹¶é‡Šæ”¾å†…å­˜ä½œä¸ºåå°ä»»åŠ¡ï¼ˆåœ¨æ‰€æœ‰ä¸»è¦æµè§ˆå™¨ä¸Šï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;slim.js æ˜¯å¯æ‰©å±•çš„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ç®€å•çš„ API å°†æ‚¨è‡ªå·±çš„è‡ªå®šä¹‰æŒ‡ä»¤æ·»åŠ åˆ°æ³¨å†Œè¡¨ä¸­ï¼Œæˆ–è€…æ·»åŠ åœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ¯ä¸€æ­¥æ‰§è¡Œæ‚¨çš„ä»£ç çš„å…¨å±€æ’ä»¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;slim.js åŸºäºè‡ªå®šä¹‰å…ƒç´ æŠ€æœ¯ï¼Œå› æ­¤æ‚¨çš„ç”¨æˆ·ç•Œé¢å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šå¹²æ‰°ä»»ä½•å…¶ä»–åº“æˆ–æ¡†æ¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;slim.js ä½¿æ‚¨èƒ½å¤Ÿç¼–å†™æ ¸å¿ƒç»„ä»¶ã€ç”¨æˆ·ç•Œé¢çš„å¤æ‚éƒ¨åˆ†å’Œæ•´ä¸ª web åº”ç”¨ç¨‹åºâ€”â€”æ‚¨é€‰æ‹©æ‚¨çš„å°ºå¯¸ï¼Œslim.jså°†æä¾›ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥å¿«é€Ÿå¼€å§‹ slim.jsï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npmÂ installÂ slim-js&lt;br/&gt;Â &lt;span&gt;#Â æˆ–è€…&lt;/span&gt;&lt;br/&gt;yarnÂ addÂ slim-js&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ–è€…ä» CDN ä½¿ç”¨ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;IIFE / Globalï¼šÂ &amp;lt;script src=&lt;span&gt;&quot;https://unpkg.com/slim-js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;Moduleï¼šÂ &amp;lt;script src=&lt;span&gt;&quot;https://unpkg.com/slim-js?module&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;importÂ {Â SlimÂ }Â fromÂ &lt;span&gt;&#x27;slim-js&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;constÂ myHTMLÂ =Â `&amp;lt;h1&amp;gt;Welcome,Â {{this.username}}!&amp;lt;/h1&amp;gt;`;&lt;br/&gt;&lt;br/&gt;classÂ AwesomeComponentÂ extendsÂ SlimÂ {&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;constructor&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â super();&lt;br/&gt;Â Â Â Â this.usernameÂ =Â &lt;span&gt;&#x27;JohnÂ JimmyÂ Junior&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;Slim.element(&lt;span&gt;&#x27;my-awesome-component&#x27;&lt;/span&gt;,Â myHTML,Â AwesomeComponent);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;slim.js åŸºäºæµè§ˆå™¨çš„åŸç”Ÿ DOM API çš„ç½‘ç»œç»„ä»¶è§„èŒƒã€‚å¦‚æœæ‚¨å¸Œæœ›æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨ï¼Œæ‚¨å¯èƒ½éœ€è¦æ·»åŠ ä¸€ä¸ª polyfillã€‚å°†ä»¥ä¸‹æ ‡è®°æ·»åŠ åˆ°æ‚¨çš„ä¸» HTML æ–‡ä»¶ä¸­ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;scriptÂ src=&lt;span&gt;&quot;https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.17/webcomponents-lite.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrj7KLRb3JRgaJEw1jABYCT1sfK4bveibFUe37jCQ7Hz41rYRbOWPKa1w/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;Polymer&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;Polymer æ˜¯ Google æ¨å‡ºçš„ Web Components åº“ï¼Œæ”¯æŒæ•°æ®çš„å•å‘å’ŒåŒå‘ç»‘å®šï¼Œå…¼å®¹æ€§è¾ƒå¥½ï¼Œè·¨æµè§ˆå™¨æ€§èƒ½ä¹Ÿè¾ƒå¥½ï¼›æä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»º custom elements çš„åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½æ—¨åœ¨ä½¿ custom elements åƒæ ‡å‡† DOM å…ƒç´ ä¸€æ ·å·¥ä½œæ›´å®¹æ˜“å’Œæ›´å¿«ã€‚ä¸æ ‡å‡† DOM å…ƒç´ ç±»ä¼¼ï¼ŒPolymer å…ƒç´ å¯ä»¥æ˜¯ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨æ„é€ å‡½æ•°æˆ– document.createElement&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ç‰¹æ€§æˆ–ç‰¹æ€§é…ç½®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨æ¯ä¸ªå®ä¾‹ä¸­å¡«å……å†…éƒ¨ DOM&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å“åº”å±æ€§å’Œå±æ€§çš„å˜åŒ–&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨å†…éƒ¨é»˜è®¤å€¼æˆ–å¤–éƒ¨æ ·å¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å“åº”æ“çºµå…¶å†…éƒ¨çŠ¶æ€çš„æ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥è¿è¡Œä¸€ä¸ª Polymer ç¨‹åºï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npmÂ installÂ -gÂ polymer-cli@next&lt;br/&gt;&lt;br/&gt;gitÂ &lt;span&gt;clone&lt;/span&gt;Â https://github.com/PolymerLabs/polymer-3-first-element.git&lt;br/&gt;&lt;br/&gt;&lt;span&gt;cd&lt;/span&gt;Â polymer-3-first-element&lt;br/&gt;&lt;br/&gt;npmÂ install&lt;br/&gt;&lt;br/&gt;polymerÂ serveÂ --open&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;polymer è¿™è¯­æ³•å’Œ Web Components çš„åŸç”Ÿè¯­æ³•çœŸçš„éå¸¸çš„åƒã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;importÂ {Â PolymerElement,Â htmlÂ }Â fromÂ &lt;span&gt;&#x27;@polymer/polymer/polymer-element.js&#x27;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&#x27;@polymer/iron-icon/iron-icon.js&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;classÂ IconToggleÂ extendsÂ PolymerElementÂ {&lt;br/&gt;Â Â staticÂ getÂ &lt;span&gt;&lt;span&gt;template&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â html`&lt;br/&gt;Â Â Â Â Â Â &amp;lt;style&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â :hostÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â display:Â inline-block;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â iron-iconÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â fill:Â var(--icon-toggle-color,Â rgba(0,0,0,0));&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â stroke:Â var(--icon-toggle-outline-color,Â currentcolor);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â :host([pressed])Â iron-iconÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â fill:Â var(--icon-toggle-pressed-color,Â currentcolor);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â &amp;lt;/style&amp;gt;&lt;br/&gt;Â Â Â Â Â Â &amp;lt;!--Â shadowÂ DOMÂ goesÂ hereÂ --&amp;gt;&lt;br/&gt;Â Â Â Â Â Â &amp;lt;iron-iconÂ icon=&lt;span&gt;&quot;[[toggleIcon]]&quot;&lt;/span&gt;&amp;gt;&amp;lt;/iron-icon&amp;gt;&lt;br/&gt;Â Â Â Â `;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â staticÂ getÂ &lt;span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â toggleIcon:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;type&lt;/span&gt;:Â String&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â pressed:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;type&lt;/span&gt;:Â Boolean,&lt;br/&gt;Â Â Â Â Â Â Â Â notify:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â reflectToAttribute:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â value:Â &lt;span&gt;false&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â };&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;constructor&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â super();&lt;br/&gt;Â Â Â Â this.addEventListener(&lt;span&gt;&#x27;click&#x27;&lt;/span&gt;,Â this.toggle.bind(this));&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;toggle&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â this.pressedÂ =Â !this.pressed;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;customElements.define(&lt;span&gt;&#x27;icon-toggle&#x27;&lt;/span&gt;,Â IconToggle);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrpNJqh7AkzvBYI7yBiaFh10BCtIOiaIfyXFnF7d7ggtibThhLLshW4icGVw/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;hybrids&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;hybrids æ˜¯ä¸€ä¸ª JavaScript UI æ¡†æ¶ï¼Œç”¨äºåˆ›å»ºåŠŸèƒ½é½å…¨çš„ Web åº”ç”¨ç¨‹åºã€ç»„ä»¶åº“æˆ–å…·æœ‰ç‹¬ç‰¹çš„æ··åˆå£°æ˜æ€§å’ŒåŠŸèƒ½æ€§æ¶æ„çš„å•ä¸ª Web Componentsã€‚è¯¥æ¡†æ¶çš„ä¸»è¦ç›®æ ‡æ˜¯ä¸ºç½‘ç»œå¹³å°æä¾›ä¸€å¥—å®Œæ•´çš„å·¥å…·â€”â€”ä¸€åˆ‡éƒ½æ²¡æœ‰å¤–éƒ¨ä¾èµ–ã€‚å®ƒæ”¯æŒæ„å»º UI ç»„ä»¶ã€ç®¡ç†å¤æ‚çŠ¶æ€ã€ä½¿ç”¨å®¢æˆ·ç«¯è·¯ç”±åˆ›å»ºåº”ç”¨ç¨‹åºæµä»¥åŠé’ˆå¯¹å…¨çƒå¸‚åœºæœ¬åœ°åŒ–å…¶å†…å®¹ã€‚æ‰€æœ‰éƒ¨åˆ†éƒ½éµå¾ªç›¸åŒçš„ç‹¬ç‰¹æ¦‚å¿µï¼Œä½¿å…¶æ˜“äºç†è§£å’Œä½¿ç”¨ï¼å®ƒå…·æœ‰ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç®€å•çš„ç»“æ„ï¼Œç»„ä»¶æ¨¡å‹åŸºäºæ™®é€šå¯¹è±¡å’Œçº¯å‡½æ•°ï¼Œä»ç„¶åœ¨åº•å±‚ä½¿ç”¨Web Components API&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ— ç¼æœ¬åœ°åŒ–ï¼Œå¯¹ç»„ä»¶å†…å®¹è‡ªåŠ¨ç¿»è¯‘çš„å†…ç½®æ”¯æŒä½¿ç¿»è¯‘æ— ç¼ä¸”æ˜“äºé›†æˆ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¯¥æ¡†æ¶æä¾›äº†ä¸€ç§æ–¹æ³•æ¥æ·»åŠ å…·æœ‰å¤æ•°å½¢å¼çš„åŠ¨æ€æ¶ˆæ¯ã€HTML å†…å®¹ï¼Œæˆ–åœ¨æ¨¡æ¿ä¸Šä¸‹æ–‡ä¹‹å¤–ä½¿ç”¨æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¤æ‚çŠ¶æ€ç®¡ç†ï¼Œstore æ¨¡å—æä¾›åŸºäºå£°æ˜å¼æ¨¡å‹å®šä¹‰çš„å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œå†…ç½®å¯¹å¼‚æ­¥å¤–éƒ¨å­˜å‚¨ã€å…³ç³»ã€ç¦»çº¿ç¼“å­˜ç­‰çš„æ”¯æŒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç»“æ„åŒ–å®¢æˆ·ç«¯è·¯ç”±ï¼Œè·¯ç”±å™¨æ¨¡å—ä¸ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ä¸ªå…¨å±€å¯¼èˆªç³»ç»Ÿã€‚å®ƒä¸æ˜¯ä»…ä»…å°† URL ä¸ç›¸åº”çš„ç»„ä»¶åŒ¹é…ï¼Œè€Œæ˜¯ä¾èµ–äºæ ‘çŠ¶ç»“æ„çš„è§†å›¾ï¼Œè¿™äº›è§†å›¾åœ¨ç»„ä»¶å®šä¹‰ä¸­æœ‰è‡ªå·±çš„è·¯ç”±é…ç½®ã€‚å®ƒä½¿ URL æˆä¸ºå¯é€‰çš„ï¼Œå¯¹å¯¹è¯æ¡†ã€å—ä¿æŠ¤çš„è§†å›¾ç­‰å…·æœ‰å¼€ç®±å³ç”¨çš„æ”¯æŒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™é‡Œå¥—ç”¨ä¸€ä¸ªå®˜ç½‘çš„ä¾‹å­ï¼Œç»™å¤§å®¶æ¼”ç¤ºä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;importÂ {Â define,Â htmlÂ }Â fromÂ &lt;span&gt;&quot;hybrids&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;function&lt;/span&gt;Â increaseCount(host)Â {&lt;br/&gt;Â Â host.countÂ +=Â 1;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â defaultÂ define({&lt;br/&gt;Â Â tag:Â &lt;span&gt;&quot;simple-counter&quot;&lt;/span&gt;,&lt;br/&gt;Â Â count:Â 0,&lt;br/&gt;Â Â render:Â ({Â countÂ })Â =&amp;gt;Â html`&lt;br/&gt;Â Â Â Â &amp;lt;buttonÂ onclick=&lt;span&gt;&quot;&lt;span&gt;${increaseCount}&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Count:Â &lt;span&gt;${count}&lt;/span&gt;&lt;br/&gt;Â Â Â Â &amp;lt;/button&amp;gt;&lt;br/&gt;Â Â `&lt;br/&gt;});&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä»£ç ç›¸å¯¹å‰é¢å‡ ä¸ªå®ä¾‹ï¼Œéå¸¸çš„ç®€å•ï¼Œä»£ç ç»“æ„ä¹Ÿéå¸¸çš„æ¸…æ™°ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrxYrcDI0JoOwUeQWoBruYG86jnWnsXrxIjZ7l43AxgGxFVDQKicibmHvQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;X-Tag&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;X-Tag æ˜¯å¾®è½¯æ¨å‡ºçš„å¼€æºåº“ï¼Œæ”¯æŒ Web Components è§„èŒƒï¼Œå…¼å®¹Web Componentsã€‚X-Tag æœ€åˆç”± Mozilla å¼€å‘ï¼Œç°åœ¨ç”± Microsoft çš„å¼€å‘äººå‘˜æä¾›æ”¯æŒï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€æº JavaScript åº“ï¼Œå®ƒåŒ…è£…äº† W3C æ ‡å‡† Web Components API ç³»åˆ—ï¼Œä¸ºç»„ä»¶å¼€å‘æä¾›äº†ä¸€ä¸ªç´§å‡‘ã€åŠŸèƒ½ä¸°å¯Œçš„æ¥å£ã€‚è™½ç„¶ X-Tag å¯ä»¥è½»æ¾åˆ©ç”¨æ‰€æœ‰ Web Components APIï¼ˆè‡ªå®šä¹‰å…ƒç´ ã€Shadow DOMã€æ¨¡æ¿å’Œ HTML å¯¼å…¥ï¼‰ï¼Œä½†å®ƒåªéœ€è¦è‡ªå®šä¹‰å…ƒç´  API æ”¯æŒå³å¯è¿è¡Œã€‚åœ¨æ²¡æœ‰åŸç”Ÿè‡ªå®šä¹‰å…ƒç´  API çš„æƒ…å†µä¸‹ï¼ŒX-Tag ä½¿ç”¨ Google çš„ Polymer æ¡†æ¶æ‰€ä¾èµ–çš„ç›¸åŒçš„ polyfill ã€‚å®ƒçš„ç‰¹ç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ ‡å‡†ï¼ŒåŸºäº Web Components API æ„å»º&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é«˜æ•ˆï¼Œ3k min/gzipä¸­çš„å¼ºå¤§åŠŸèƒ½&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯æ’æ‹”ï¼Œå¯ä»¥å’Œå…¶ä»–åº“ä¸€èµ·ä½¿ç”¨&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å®ƒæœ‰ä¸¤ç§ç‰ˆæœ¬ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;x-tag + polyfills&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Just x-tag no polyfills&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™é‡Œæ¼”ç¤ºä¸€ä¸ª x-tag + polyfills ç‰ˆæœ¬ï¼Œçœ‹çœ‹æ•ˆæœï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPEÂ html&amp;gt;&lt;br/&gt;&amp;lt;htmlÂ lang=&lt;span&gt;&quot;en&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;&amp;lt;head&amp;gt;&lt;br/&gt;Â Â &amp;lt;metaÂ charset=&lt;span&gt;&quot;UTF-8&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â &amp;lt;metaÂ http-equiv=&lt;span&gt;&quot;X-UA-Compatible&quot;&lt;/span&gt;Â content=&lt;span&gt;&quot;IE=edge&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â &amp;lt;metaÂ name=&lt;span&gt;&quot;viewport&quot;&lt;/span&gt;Â content=&lt;span&gt;&quot;width=device-width,Â initial-scale=1.0&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â &amp;lt;title&amp;gt;Document&amp;lt;/title&amp;gt;&lt;br/&gt;&amp;lt;/head&amp;gt;&lt;br/&gt;&amp;lt;body&amp;gt;&lt;br/&gt;Â Â &amp;lt;x-clock&amp;gt;&amp;lt;/x-clock&amp;gt;&lt;br/&gt;&amp;lt;/body&amp;gt;&lt;br/&gt;&amp;lt;scriptÂ src=&lt;span&gt;&quot;../src/x-tag-polyfilled.min.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&amp;lt;scriptÂ src=&lt;span&gt;&quot;../src/index.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&amp;lt;/html&amp;gt;Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;//index.js&lt;br/&gt;xtag.create(&lt;span&gt;&#x27;x-clock&#x27;&lt;/span&gt;,Â classÂ extendsÂ XTagElementÂ {&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;connectedCallback&lt;/span&gt;&lt;/span&gt;Â ()Â {&lt;br/&gt;Â Â Â Â this.start();&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;start&lt;/span&gt;&lt;/span&gt;Â (){&lt;br/&gt;Â Â Â Â this.update();&lt;br/&gt;Â Â Â Â this._intervalÂ =Â setInterval(()Â =&amp;gt;Â this.update(),Â 1000);&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;stop&lt;/span&gt;&lt;/span&gt;Â (){&lt;br/&gt;Â Â Â Â this._intervalÂ =Â clearInterval(this._data.interval);&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;update&lt;/span&gt;&lt;/span&gt;Â (){&lt;br/&gt;Â Â Â Â this.textContentÂ =Â newÂ Date().toLocaleTimeString();&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;&#x27;tap::event&#x27;&lt;/span&gt;Â (){&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (this._interval)Â this.stop();&lt;br/&gt;Â Â Â Â &lt;span&gt;else&lt;/span&gt;Â this.start();&lt;br/&gt;Â Â }&lt;br/&gt;});&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrd04via5NVRGrQ0u1kicaNezwxVeLnJic69YlcIe6BAS5BxFmsqhdUomkA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;LitElement&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;LitElement æ˜¯ä¸€ä¸ªç®€å•çš„åŸºç±»ï¼Œç”¨äºä½¿ç”¨ lit-html åˆ›å»ºå¿«é€Ÿã€è½»é‡çº§çš„ Web Componentsã€‚LitElement ç°åœ¨æ˜¯Lit åº“ monorepoçš„ä¸€éƒ¨åˆ†ã€‚Lit 2 åŒ…æ‹¬ lit-html 2.x å’Œ LitElement 3.xã€‚LitElement ä½¿ç”¨lit-htmlæ¸²æŸ“åˆ°å…ƒç´ çš„Shadow DOM ä¸­ï¼Œå¹¶æ·»åŠ  API æ¥å¸®åŠ©ç®¡ç†å…ƒç´ å±æ€§å’Œç‰¹æ€§ã€‚LitElement å¯¹å±æ€§çš„å˜åŒ–åšå‡ºååº”ã€‚&lt;/p&gt;&lt;p&gt;LitElement å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç®€å•ã€ç°ä»£ã€å®‰å…¨ã€å°å·§ä¸”å¿«é€Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å…è®¸æ‚¨ä½¿ç”¨å¸¦æœ‰åµŒå…¥å¼ JavaScript è¡¨è¾¾å¼çš„æ¨¡æ¿æ–‡å­—åœ¨ JavaScript ä¸­ç¼–å†™ HTML æ¨¡æ¿&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;lit-html è¯†åˆ«æ¨¡æ¿çš„é™æ€å’ŒåŠ¨æ€éƒ¨åˆ†ï¼Œå› æ­¤å®ƒå¯ä»¥æœ‰æ•ˆåœ°åªæ›´æ–°æ›´æ”¹çš„éƒ¨åˆ†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;lit-html ä¸ä¾èµ–äºä»»ä½•ç»„ä»¶æ¨¡å‹ï¼Œå®ƒåªä¸“æ³¨äºåˆ›å»ºå’Œæ›´æ–° DOM&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™é‡Œä¹Ÿæ¼”ç¤ºä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¿è¡Œä¸‹é¢çš„ HTML ä»£ç ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;!doctypeÂ html&amp;gt;&lt;br/&gt;&amp;lt;html&amp;gt;&lt;br/&gt;&amp;lt;head&amp;gt;&lt;br/&gt;Â Â &amp;lt;!--Â PolyfillsÂ onlyÂ neededÂ &lt;span&gt;for&lt;/span&gt;Â FirefoxÂ andÂ Edge.Â --&amp;gt;&lt;br/&gt;Â Â &amp;lt;scriptÂ src=&lt;span&gt;&quot;https://unpkg.com/@webcomponents/webcomponentsjs@latest/webcomponents-loader.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&amp;lt;/head&amp;gt;&lt;br/&gt;&amp;lt;body&amp;gt;&lt;br/&gt;Â Â &amp;lt;!--Â WorksÂ onlyÂ onÂ browsersÂ thatÂ supportÂ JavascriptÂ modulesÂ like&lt;br/&gt;Â Â Chrome,Â Safari,Â FirefoxÂ 60,Â EdgeÂ 17Â --&amp;gt;&lt;br/&gt;Â Â &amp;lt;scriptÂ &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;module&quot;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â importÂ {LitElement,Â html,Â css}Â fromÂ &lt;span&gt;&#x27;https://unpkg.com/lit-element/lit-element.js?module&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â classÂ MyElementÂ extendsÂ LitElementÂ {&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â staticÂ getÂ &lt;span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â mood:Â {&lt;span&gt;type&lt;/span&gt;:Â String}&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â staticÂ getÂ &lt;span&gt;&lt;span&gt;styles&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â css`.moodÂ {Â color:Â green;Â }`;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;render&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â html`WebÂ ComponentsÂ areÂ &amp;lt;span class=&lt;span&gt;&quot;mood&quot;&lt;/span&gt;&amp;gt;&lt;span&gt;${this.mood}&lt;/span&gt;&amp;lt;/span&amp;gt;!`;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â customElements.define(&lt;span&gt;&#x27;my-element&#x27;&lt;/span&gt;,Â MyElement);&lt;br/&gt;Â Â &amp;lt;/script&amp;gt;&lt;br/&gt;Â Â &lt;br/&gt;Â Â &amp;lt;my-elementÂ mood=&lt;span&gt;&quot;great&quot;&lt;/span&gt;&amp;gt;&amp;lt;/my-element&amp;gt;&lt;br/&gt;Â Â &lt;br/&gt;&amp;lt;/body&amp;gt;&lt;br/&gt;&amp;lt;/html&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrXjxAN6RDG2dLXuehJbzibcicia9v5KMnicJmCCrR60TNMJElTzl6OBiaj0Q/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;direflow&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;direflow æ˜¯ä¸€ä¸ª Reactç»„ä»¶ + web component +web componen tå±æ€§å˜åŒ–é‡æ–°æŒ‚è½½ React ç»„ä»¶çš„ web componentæ¡†æ¶ã€‚direflowçš„å“åº”å¼å…¶å®åˆ†ä¸º2å—ï¼šç»„ä»¶å†…éƒ¨å“åº”å¼ï¼ˆé€šè¿‡Reactè‡ªèº«å“åº”å¼æµç¨‹ï¼‰ï¼Œç»„ä»¶å¤–éƒ¨å“åº”å¼ï¼ˆWebComponentså±æ€§å˜åŒ–ç›‘å¬é‡æ¸²æŸ“ç»„ä»¶ï¼‰ã€‚å¦‚æœå¤–éƒ¨å±æ€§ä¸ä¼šç»å¸¸å˜åŒ–çš„è¯ï¼Œæ€§èƒ½è¿™å—æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºç»„ä»¶å†…éƒ¨çš„å“åº”å¼å®Œå…¨æ˜¯èµ°äº†Reactè‡ªèº«çš„å“åº”å¼ã€‚å±æ€§å¤–éƒ¨å±æ€§å¦‚æœä¼šç»å¸¸å˜åŒ–çš„è¯ï¼Œdireflowæ¡†æ¶åœ¨è¿™å—è¿˜æœ‰ä¸€å®šçš„ä¼˜åŒ–ç©ºé—´ã€‚&lt;/p&gt;&lt;p&gt;direflow å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ React çš„å¼ºå¤§åŠŸèƒ½æ¥åˆ›å»ºæ‚¨çš„ç»„ä»¶æ„å»ºå®ƒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Direflow ä½¿å¼€å§‹å¼€å‘å˜å¾—éå¸¸å®¹æ˜“ï¼åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ª Direflow ç»„ä»¶&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åˆ›å»ºä¸°å¯Œä¸”å®Œå…¨ç‹¬ç«‹çš„å¾®å‰ç«¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ„å»ºæ•´ä¸ª UI åº“å¹¶åœ¨ä»»ä½• UI æ¡†æ¶å’Œåº“ä¸­ä½¿ç”¨å®ƒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;...&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿è¡Œä¸‹é¢çš„å‘½ä»¤è‡ªå·±å°è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;npmÂ iÂ -gÂ direflow-cli&lt;br/&gt;&lt;br/&gt;direflowÂ create&lt;br/&gt;&lt;br/&gt;&lt;span&gt;cd&lt;/span&gt;Â &amp;lt;project-folder&amp;gt;&lt;br/&gt;Â Â &lt;br/&gt;npmÂ install&lt;br/&gt;&lt;br/&gt;npmÂ start&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™å®Œå…¨å°±æ˜¯åœ¨å†™ Reactã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Â Â importÂ React,Â {Â useContextÂ }Â fromÂ &lt;span&gt;&#x27;react&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â importÂ PropTypesÂ fromÂ &lt;span&gt;&#x27;prop-types&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â importÂ {Â EventContext,Â StyledÂ }Â fromÂ &lt;span&gt;&#x27;direflow-component&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â importÂ stylesÂ fromÂ &lt;span&gt;&#x27;./App.css&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â constÂ AppÂ =Â (props)Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â constÂ dispatchÂ =Â useContext(EventContext);&lt;br/&gt;&lt;br/&gt;Â Â Â Â constÂ handleClickÂ =Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â constÂ eventÂ =Â newÂ Event(&lt;span&gt;&#x27;my-event&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â dispatch(event);&lt;br/&gt;Â Â Â Â };&lt;br/&gt;&lt;br/&gt;Â Â Â Â constÂ renderSampleListÂ =Â props.sampleList.map((sample)Â =&amp;gt;Â (&lt;br/&gt;Â Â Â Â Â Â &amp;lt;divÂ key={sample}Â className=&lt;span&gt;&#x27;sample-text&#x27;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â â†’Â {sample}&lt;br/&gt;Â Â Â Â Â Â &amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â ));&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â &amp;lt;StyledÂ styles={styles}&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;divÂ className=&lt;span&gt;&#x27;app&#x27;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;divÂ className=&lt;span&gt;&#x27;top&#x27;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &amp;lt;divÂ className=&lt;span&gt;&#x27;header-image&#x27;&lt;/span&gt;Â /&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;divÂ className=&lt;span&gt;&#x27;bottom&#x27;&lt;/span&gt;&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &amp;lt;divÂ className=&lt;span&gt;&#x27;header-title&#x27;&lt;/span&gt;&amp;gt;{props.componentTitle}&amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &amp;lt;div&amp;gt;{renderSampleList}&amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &amp;lt;buttonÂ className=&lt;span&gt;&#x27;button&#x27;&lt;/span&gt;Â onClick={handleClick}&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â ClickÂ me!&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &amp;lt;/button&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;/div&amp;gt;&lt;br/&gt;Â Â Â Â Â Â &amp;lt;/Styled&amp;gt;&lt;br/&gt;Â Â Â Â );&lt;br/&gt;Â Â };&lt;br/&gt;&lt;br/&gt;Â Â App.defaultPropsÂ =Â {&lt;br/&gt;Â Â Â Â componentTitle:Â &lt;span&gt;&#x27;TestÂ Direflow&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â sampleList:Â [&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&#x27;CreateÂ withÂ React&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&#x27;BuildÂ asÂ WebÂ Component&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&#x27;UseÂ itÂ anywhere!&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â ],&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â App.propTypesÂ =Â {&lt;br/&gt;Â Â Â Â componentTitle:Â PropTypes.string,&lt;br/&gt;Â Â Â Â sampleList:Â PropTypes.array,&lt;br/&gt;Â Â };&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;export&lt;/span&gt;Â defaultÂ App;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5002632964718273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/lCQLg02gtibvwiciboTf2Aq7gtibGLPcI8wrCGnr50E2uDTv4II06ZHvUpJ0qua3ttDpicJuZPRzH4HaYX7umlQ18iaQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1899&quot;/&gt;&lt;/figure&gt;&lt;h1&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;å°½ç®¡ Web Components å¯èƒ½è¿˜æ²¡æœ‰å…¨é¢çš„è¿›å…¥ç ”å‘è€…çš„è§†é‡ï¼Œç°åœ¨è¿˜å¤‡å—äº‰è®®ï¼Œä½†æ˜¯å®ƒå·²ç»è¢«å¾ˆå¤šå¤§å‚å·²ç»ç›´æ¥æˆ–è€…é—´æ¥å°†å®ƒç”¨äºå®è·µï¼Œå¹¶ä¸”åœ¨å¸‚åœºä¸Šä¹Ÿå‡ºç°äº†å¾ˆå¤š Web Components åº“ï¼Œå¯ä»¥è½»æ¾çš„ä½¿ç”¨å’Œæ„å»º Web Componentsï¼Œæœ¬æ–‡ä¹Ÿåˆ—ä¸¾äº†å…«ä¸ª Web Components çš„å‰ç«¯æ¡†æ¶ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;Stencilï¼šæ˜¯ä¸€ä¸ªç”¨äºæ„å»ºå¯é‡ç”¨ã€å¯æ‰©å±•çš„è®¾è®¡ç³»ç»Ÿçš„å·¥å…·é“¾ã€‚ç”Ÿæˆå¯åœ¨æ¯ä¸ªæµè§ˆå™¨ä¸­è¿è¡Œçš„å°å‹ã€æå¿«ä¸” 100% åŸºäºæ ‡å‡†çš„ Web Componentsã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Omiï¼šæ˜¯ Web Components + JSX/TSX èåˆä¸ºä¸€ä¸ªæ¡†æ¶ï¼Œå°å·§çš„å°ºå¯¸å’Œé«˜æ€§èƒ½ï¼Œèåˆå’Œ React å’Œ Web Components å„è‡ªçš„ä¼˜åŠ¿ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Slim.jsï¼šæ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§ Web Components åº“ï¼Œå®ƒä¸ºç»„ä»¶æä¾›æ•°æ®ç»‘å®šå’Œæ‰©å±•èƒ½åŠ›ï¼Œä½¿ç”¨ es6 åŸç”Ÿç±»ç»§æ‰¿ã€‚ä¸“æ³¨äºå¸®åŠ©å¼€å‘è€…æ›´å¥½çš„ç¼–å†™åŸç”Ÿwebç»„ä»¶ï¼Œè€Œä¸ä¾èµ–äºå…¶ä»–æ¡†æ¶ï¼Œä½†æ˜¯ä¹Ÿæä¾›äº†è‰¯å¥½çš„æ‹“å±•æ€§ï¼Œå¼€å‘è€…å¯ä»¥è‡ªç”±æ‹“å±•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Polymer ï¼šæ˜¯ Google æ¨å‡ºçš„ Web Components åº“ï¼Œæ”¯æŒæ•°æ®çš„å•å‘å’ŒåŒå‘ç»‘å®šï¼Œå…¼å®¹æ€§è¾ƒå¥½ï¼Œè·¨æµè§ˆå™¨æ€§èƒ½ä¹Ÿè¾ƒå¥½ï¼›æä¾›äº†ä¸€ç»„ç”¨äºåˆ›å»º custom elements çš„åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½æ—¨åœ¨ä½¿ custom elements åƒæ ‡å‡† DOM å…ƒç´ ä¸€æ ·å·¥ä½œæ›´å®¹æ˜“å’Œæ›´å¿«ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;hybridsï¼šæ˜¯ä¸€ä¸ª JavaScript UI æ¡†æ¶ï¼Œç”¨äºåˆ›å»ºåŠŸèƒ½é½å…¨çš„ Web åº”ç”¨ç¨‹åºã€ç»„ä»¶åº“æˆ–å…·æœ‰ç‹¬ç‰¹çš„æ··åˆå£°æ˜æ€§å’ŒåŠŸèƒ½æ€§æ¶æ„çš„å•ä¸ª Web Componentsã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;X-Tagï¼šæ˜¯å¾®è½¯æ¨å‡ºçš„å¼€æºåº“ï¼Œæ”¯æŒ Web Components è§„èŒƒï¼Œå…¼å®¹Web Components APIã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;LitElementï¼šæ˜¯ä¸€ä¸ªç®€å•çš„åŸºç±»ï¼Œç”¨äºä½¿ç”¨ lit-html åˆ›å»ºå¿«é€Ÿã€è½»é‡çº§çš„ Web Componentsã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;direflowï¼šæ˜¯ä¸€ä¸ª Reactç»„ä»¶ + web component +web componen tå±æ€§å˜åŒ–é‡æ–°æŒ‚è½½ React ç»„ä»¶çš„ web componentæ¡†æ¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™äº›æ¡†æ¶éƒ½æœ‰è‡ªå·±çš„ç‰¹æ€§ï¼Œä¹Ÿå„å…·è‡ªå·±çš„ä¼˜ç¼ºç‚¹ï¼Œåœ¨å®æˆ˜äº†ä¸­å…·ä½“éœ€è¦ç”¨å“ªä¸€ä¸ª Web Components å‰ç«¯æ¡†æ¶å®Œå…¨å–å†³äºä½ è‡ªå·±ã€‚å¥½å•¦ï¼Œæœ¬æ–‡çš„å†…å®¹åˆ°æ­¤ç»“æŸäº†ã€‚&lt;/p&gt;&lt;section&gt;æœ€åï¼Œæˆ‘å¸Œæœ›ä»è¿™ä¸ª Web Components ç³»åˆ—æ•™ç¨‹ä¸­ä½ å¯ä»¥å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿.&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzUxNzk1MjQ0Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/YBFV3Da0Nwvv72YkFO0qPibDKicOCsfltiaE9070DOu4iahXnicYwRIHcxe9VBicAy45MkPqy8nZzLTVibugOtV0ORFcg/0?wx_fmt=png&quot; data-nickname=&quot;ç¨‹åºå‘˜æˆé•¿æŒ‡åŒ—&quot; data-alias=&quot;coder_growth&quot; data-signature=&quot;ä¸“æ³¨ Node.js æŠ€æœ¯æ ˆåˆ†äº«ï¼Œä» å‰ç«¯ åˆ° Node.js å†åˆ° åç«¯æ•°æ®åº“ï¼Œç¥æ‚¨æˆä¸ºä¼˜ç§€çš„é«˜çº§ Node.js å…¨æ ˆå·¥ç¨‹å¸ˆã€‚ä¸€ä¸ªæœ‰è¶£çš„ä¸”ä¹äºåˆ†äº«çš„äººã€‚åº§å³é“­ï¼šä»Šå¤©æœªå®Œæˆçš„ï¼Œæ˜å¤©æ›´ä¸ä¼šå®Œæˆã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section label=&quot;Copyright Â© 2016 playhudong All Rights Reserved.&quot; donone=&quot;shifuMouseDownPayStyle(&#x27;shifu_t_042&#x27;)&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;Node ç¤¾ç¾¤&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;89226&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ç»„å»ºäº†ä¸€ä¸ªæ°›å›´ç‰¹åˆ«å¥½çš„ Node.js ç¤¾ç¾¤ï¼Œé‡Œé¢æœ‰å¾ˆå¤š Node.jså°ä¼™ä¼´ï¼Œå¦‚æœä½ å¯¹Node.jså­¦ä¹ æ„Ÿå…´è¶£çš„è¯ï¼ˆåç»­æœ‰è®¡åˆ’ä¹Ÿå¯ä»¥ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€èµ·è¿›è¡ŒNode.jsç›¸å…³çš„äº¤æµã€å­¦ä¹ ã€å…±å»ºã€‚ä¸‹æ–¹åŠ  è€ƒæ‹‰ å¥½å‹å›å¤ã€ŒNodeã€å³å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/YBFV3Da0NwsF7OKB4iaaXAzQPbNstk2LybA0Zz5I1hiaiazE9W7WH2Ojt2dibDODWMVUmHqgfXCefVwt7z5ibNMWLvg/0?wx_fmt=jpeg&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;578.2649006622516&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;700.2119205298013&quot; data-fileid=&quot;100016913&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.2093425605536332&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/YBFV3Da0NwvFQgO67XibvUG5S2UMXwCghOuJvE8BFRzUXnCAfWXkU1qHld6Ly9xiarib3siaWicJWJ0U3lI8kSgD38w/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;strong&gt;&lt;span&gt;Â â€œåˆ†äº«ã€ç‚¹èµ&lt;/span&gt;&lt;span&gt;ã€&lt;/span&gt;&lt;span&gt;åœ¨çœ‹â€ æ”¯æŒä¸€æ³¢ğŸ‘&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>