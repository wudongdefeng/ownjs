<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>33ff5db8d5154704f8385d944885eb2c</guid>
<title>MySQL ç´¢å¼• 15 è¿é—®ï¼ŒæŠ—ä½ï¼</title>
<link>https://toutiao.io/k/kvj44bf</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‡‘ä¸‰é“¶å››å¾ˆå¿«å°±è¦æ¥å•¦ï¼Œå‡†å¤‡äº†ç´¢å¼•çš„15è¿é—®ï¼Œç›¸ä¿¡å¤§å®¶çœ‹å®Œè‚¯å®šä¼šæœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4842689697717458&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdgXSeo8CAyiblD0tznKPPIZDJpGNwVS59hXjiacQhGoKALSS4VIZ23icuA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1621&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1. ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.34979973297730305&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicd4oCJXicPAIOPT3giaGN9gmT7xB2ObdSfoh6ic0Fzn1RNLEebbDUcoqz2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;749&quot;/&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•æ˜¯ä¸€ç§èƒ½æé«˜æ•°æ®åº“æŸ¥è¯¢æ•ˆç‡çš„æ•°æ®ç»“æ„ã€‚å®ƒå¯ä»¥æ¯”ä½œä¸€æœ¬å­—å…¸çš„ç›®å½•ï¼Œå¯ä»¥å¸®ä½ å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„è®°å½•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•ä¸€èˆ¬å­˜å‚¨åœ¨ç£ç›˜çš„æ–‡ä»¶ä¸­ï¼Œå®ƒæ˜¯å ç”¨ç‰©ç†ç©ºé—´çš„ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ­£æ‰€è°“æ°´èƒ½è½½èˆŸï¼Œä¹Ÿèƒ½è¦†èˆŸã€‚é€‚å½“çš„ç´¢å¼•èƒ½æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè¿‡å¤šçš„ç´¢å¼•ä¼šå½±å“æ•°æ®åº“è¡¨çš„æ’å…¥å’Œæ›´æ–°åŠŸèƒ½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2. MySQLç´¢å¼•æœ‰å“ªäº›ç±»å‹&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9365671641791045&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicd0aEqEPUqzNtdpS0Shy5BPORuiaCtox9F0wh7tex6X0WnLKJR0gbvKbQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;804&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•°æ®ç»“æ„ç»´åº¦&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;B+æ ‘ç´¢å¼•ï¼šæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¤æ‚åº¦ä¸º&lt;code&gt;O(logn)&lt;/code&gt;ï¼Œé€‚åˆèŒƒå›´æŸ¥è¯¢ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å“ˆå¸Œç´¢å¼•: Â é€‚åˆç­‰å€¼æŸ¥è¯¢ï¼Œæ£€ç´¢æ•ˆç‡é«˜ï¼Œä¸€æ¬¡åˆ°ä½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å…¨æ–‡ç´¢å¼•ï¼š&lt;code&gt;MyISAM&lt;/code&gt;å’Œ&lt;code&gt;InnoDB&lt;/code&gt;ä¸­éƒ½æ”¯æŒä½¿ç”¨å…¨æ–‡ç´¢å¼•ï¼Œä¸€èˆ¬åœ¨æ–‡æœ¬ç±»å‹&lt;code&gt;char,text,varchar&lt;/code&gt;ç±»å‹ä¸Šåˆ›å»ºã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;R-Tree&lt;/code&gt;ç´¢å¼•: ç”¨æ¥å¯¹&lt;code&gt;GIS&lt;/code&gt;æ•°æ®ç±»å‹åˆ›å»º&lt;code&gt;SPATIAL&lt;/code&gt;ç´¢å¼•&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç‰©ç†å­˜å‚¨ç»´åº¦&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;èšé›†ç´¢å¼•ï¼šèšé›†ç´¢å¼•å°±æ˜¯ä»¥ä¸»é”®åˆ›å»ºçš„ç´¢å¼•ï¼Œåœ¨å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯è¡¨ä¸­çš„æ•°æ®ã€‚ï¼ˆ&lt;code&gt;Innodb&lt;/code&gt;å­˜å‚¨å¼•æ“ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;éèšé›†ç´¢å¼•ï¼šéèšé›†ç´¢å¼•å°±æ˜¯ä»¥éä¸»é”®åˆ›å»ºçš„ç´¢å¼•ï¼Œåœ¨å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å’Œç´¢å¼•åˆ—ã€‚ï¼ˆ&lt;code&gt;Innodb&lt;/code&gt;å­˜å‚¨å¼•æ“ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é€»è¾‘ç»´åº¦&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸»é”®ç´¢å¼•ï¼šä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ™®é€šç´¢å¼•ï¼š&lt;code&gt;MySQLä¸­&lt;/code&gt;åŸºæœ¬ç´¢å¼•ç±»å‹ï¼Œå…è®¸ç©ºå€¼å’Œé‡å¤å€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è”åˆç´¢å¼•ï¼šå¤šä¸ªå­—æ®µåˆ›å»ºçš„ç´¢å¼•ï¼Œä½¿ç”¨æ—¶éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•åˆ—ä¸­çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å…è®¸ä¸ºç©ºå€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç©ºé—´ç´¢å¼•ï¼š&lt;code&gt;MySQL5.7&lt;/code&gt;ä¹‹åæ”¯æŒç©ºé—´ç´¢å¼•ï¼Œåœ¨ç©ºé—´ç´¢å¼•è¿™æ–¹é¢éµå¾ª&lt;code&gt;OpenGIS&lt;/code&gt;å‡ ä½•æ•°æ®æ¨¡å‹è§„åˆ™ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3. ç´¢å¼•ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æŸ¥è¯¢æ¡ä»¶åŒ…å«&lt;code&gt;or&lt;/code&gt;ï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœå­—æ®µç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œ&lt;code&gt;where&lt;/code&gt;æ—¶ä¸€å®šç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œå¦åˆ™ç´¢å¼•å¤±æ•ˆ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;like&lt;/code&gt;é€šé…ç¬¦å¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è”åˆç´¢å¼•ï¼ŒæŸ¥è¯¢æ—¶çš„æ¡ä»¶åˆ—ä¸æ˜¯è”åˆç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªåˆ—ï¼Œç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨ mysql çš„å†…ç½®å‡½æ•°ï¼Œç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹ç´¢å¼•åˆ—è¿ç®—ï¼ˆå¦‚ï¼Œ&lt;code&gt;+ã€-ã€*ã€/&lt;/code&gt;ï¼‰ï¼Œç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨&lt;code&gt;ï¼ˆï¼= æˆ–è€… &amp;lt; &amp;gt;ï¼Œnot inï¼‰&lt;/code&gt;æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨&lt;code&gt;is nullï¼Œ is not null&lt;/code&gt;ï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å·¦è¿æ¥æŸ¥è¯¢æˆ–è€…å³è¿æ¥æŸ¥è¯¢æŸ¥è¯¢å…³è”çš„å­—æ®µç¼–ç æ ¼å¼ä¸ä¸€æ ·ï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;mysql ä¼°è®¡ä½¿ç”¨å…¨è¡¨æ‰«æè¦æ¯”ä½¿ç”¨ç´¢å¼•å¿«,åˆ™ä¸ä½¿ç”¨ç´¢å¼•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4. å“ªäº›åœºæ™¯ä¸é€‚åˆå»ºç«‹ç´¢å¼•ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ•°æ®é‡å°‘çš„è¡¨ï¼Œä¸é€‚åˆåŠ ç´¢å¼•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ›´æ–°æ¯”è¾ƒé¢‘ç¹çš„ä¹Ÿä¸é€‚åˆåŠ ç´¢å¼•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŒºåˆ†åº¦ä½çš„å­—æ®µä¸é€‚åˆåŠ ç´¢å¼•ï¼ˆå¦‚æ€§åˆ«ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;whereã€group byã€order by&lt;/code&gt;ç­‰åé¢æ²¡æœ‰ä½¿ç”¨åˆ°çš„å­—æ®µï¼Œä¸éœ€è¦å»ºç«‹ç´¢å¼•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å·²ç»æœ‰å†—ä½™çš„ç´¢å¼•çš„æƒ…å†µï¼ˆæ¯”å¦‚å·²ç»æœ‰&lt;code&gt;a,b&lt;/code&gt;çš„è”åˆç´¢å¼•ï¼Œä¸éœ€è¦å†å•ç‹¬å»ºç«‹&lt;code&gt;a&lt;/code&gt;ç´¢å¼•ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;5. ä¸ºä»€ä¹ˆè¦ç”¨ B+æ ‘ï¼Œä¸ºä»€ä¹ˆä¸ç”¨äºŒå‰æ ‘ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å¯ä»¥ä»å‡ ä¸ªç»´åº¦å»çœ‹è¿™ä¸ªé—®é¢˜ï¼ŒæŸ¥è¯¢æ˜¯å¦å¤Ÿå¿«ï¼Œæ•ˆç‡æ˜¯å¦ç¨³å®šï¼Œå­˜å‚¨æ•°æ®å¤šå°‘ï¼Œ
ä»¥åŠæŸ¥æ‰¾ç£ç›˜æ¬¡æ•°ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯äºŒå‰æ ‘ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯
B æ ‘ï¼Œè€Œååæ˜¯ B+æ ‘å‘¢ï¼Ÿ&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆä¸æ˜¯ä¸€èˆ¬äºŒå‰æ ‘ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœäºŒå‰æ ‘ç‰¹æ®ŠåŒ–ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œç›¸å½“äºå…¨è¡¨æ‰«æã€‚å¹³è¡¡äºŒå‰æ ‘ç›¸æ¯”äºäºŒå‰æŸ¥æ‰¾ æ ‘æ¥è¯´ï¼ŒæŸ¥æ‰¾æ•ˆç‡æ›´ç¨³å®šï¼Œæ€»ä½“çš„æŸ¥æ‰¾é€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨å†…å­˜æ¯”åœ¨ç£ç›˜çš„æ•°æ®ï¼ŒæŸ¥è¯¢æ•ˆç‡å¿«å¾—å¤šã€‚å¦‚æœæ ‘è¿™ç§æ•°æ®ç»“æ„ä½œ
ä¸ºç´¢å¼•ï¼Œé‚£æˆ‘ä»¬æ¯æŸ¥æ‰¾ä¸€æ¬¡æ•°æ®å°±éœ€è¦ä»ç£ç›˜ä¸­è¯»å–ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´
çš„ä¸€ä¸ªç£ç›˜å—ï¼Œä½†æ˜¯å¹³è¡¡äºŒå‰æ ‘å¯æ˜¯æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä¸ªé”®å€¼å’Œæ•°æ®çš„ï¼Œå¦‚æœ
æ˜¯ B æ ‘ï¼Œå¯ä»¥å­˜å‚¨æ›´å¤šçš„èŠ‚ç‚¹æ•°æ®ï¼Œæ ‘çš„é«˜åº¦ä¹Ÿä¼šé™ä½ï¼Œå› æ­¤è¯»å–ç£ç›˜çš„æ¬¡æ•°
å°±é™ä¸‹æ¥å•¦ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±å¿«å•¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é‚£ä¸ºä»€ä¹ˆä¸æ˜¯ B æ ‘è€Œæ˜¯ B+æ ‘å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;B+æ ‘éå¶å­èŠ‚ç‚¹ä¸Šæ˜¯ä¸å­˜å‚¨æ•°æ®çš„ï¼Œä»…å­˜å‚¨é”®å€¼ï¼Œè€Œ B æ ‘èŠ‚ç‚¹ä¸­ä¸ä»…å­˜å‚¨
é”®å€¼ï¼Œä¹Ÿä¼šå­˜å‚¨æ•°æ®ã€‚innodb ä¸­é¡µçš„é»˜è®¤å¤§å°æ˜¯ 16KBï¼Œå¦‚æœä¸å­˜å‚¨æ•°æ®ï¼Œé‚£ ä¹ˆå°±ä¼šå­˜å‚¨æ›´å¤šçš„é”®å€¼ï¼Œç›¸åº”çš„æ ‘çš„é˜¶æ•°ï¼ˆèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ ‘ï¼‰å°±ä¼šæ›´å¤§ï¼Œæ ‘å°± ä¼šæ›´çŸ®æ›´èƒ–ï¼Œå¦‚æ­¤ä¸€æ¥æˆ‘ä»¬æŸ¥æ‰¾æ•°æ®è¿›è¡Œç£ç›˜çš„ IO æ¬¡æ•°æœ‰ä¼šå†æ¬¡å‡å°‘ï¼Œæ•°æ®æŸ¥
è¯¢çš„æ•ˆç‡ä¹Ÿä¼šæ›´å¿«ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;B+æ ‘ç´¢å¼•çš„æ‰€æœ‰æ•°æ®å‡å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œè€Œä¸”æ•°æ®æ˜¯æŒ‰ç…§é¡ºåºæ’åˆ—çš„ï¼Œé“¾
è¡¨è¿ç€çš„ã€‚é‚£ä¹ˆ B+æ ‘ä½¿å¾—èŒƒå›´æŸ¥æ‰¾ï¼Œæ’åºæŸ¥æ‰¾ï¼Œåˆ†ç»„æŸ¥æ‰¾ä»¥åŠå»é‡æŸ¥æ‰¾å˜å¾— å¼‚å¸¸ç®€å•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;6. ä¸€æ¬¡B+æ ‘ç´¢å¼•æ ‘æŸ¥æ‰¾è¿‡ç¨‹&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å‡è®¾æœ‰ä»¥ä¸‹è¡¨ç»“æ„ï¼Œå¹¶ä¸”åˆå§‹åŒ–äº†è¿™å‡ æ¡æ•°æ®&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;CREATEÂ TABLEÂ `employee`Â (&lt;br/&gt;Â Â `id`Â int(11)Â NOTÂ NULL,&lt;br/&gt;Â Â `name`Â varchar(255)Â DEFAULTÂ NULL,&lt;br/&gt;Â Â `age`Â int(11)Â DEFAULTÂ NULL,&lt;br/&gt;Â Â `date`Â datetimeÂ DEFAULTÂ NULL,&lt;br/&gt;Â Â `sex`Â int(1)Â DEFAULTÂ NULL,&lt;br/&gt;Â Â PRIMARYÂ KEYÂ (`id`),&lt;br/&gt;Â Â KEYÂ `idx_age`Â (`age`)Â USINGÂ BTREE&lt;br/&gt;)Â ENGINE=InnoDBÂ DEFAULTÂ CHARSET=utf8;&lt;br/&gt;&lt;br/&gt;insertÂ intoÂ employeeÂ values(100,&lt;span&gt;&#x27;å°ä¼¦&#x27;&lt;/span&gt;,43,&lt;span&gt;&#x27;2021-01-20&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;0&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(200,&lt;span&gt;&#x27;ä¿Šæ°&#x27;&lt;/span&gt;,48,&lt;span&gt;&#x27;2021-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;0&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(300,&lt;span&gt;&#x27;ç´«çª&#x27;&lt;/span&gt;,36,&lt;span&gt;&#x27;2020-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;1&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(400,&lt;span&gt;&#x27;ç«‹çº¢&#x27;&lt;/span&gt;,32,&lt;span&gt;&#x27;2020-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;0&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(500,&lt;span&gt;&#x27;æ˜“è¿…&#x27;&lt;/span&gt;,37,&lt;span&gt;&#x27;2020-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;1&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(600,&lt;span&gt;&#x27;å°å†›&#x27;&lt;/span&gt;,49,&lt;span&gt;&#x27;2021-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;0&#x27;&lt;/span&gt;);&lt;br/&gt;insertÂ intoÂ employeeÂ values(700,&lt;span&gt;&#x27;å°ç‡•&#x27;&lt;/span&gt;,28,&lt;span&gt;&#x27;2021-01-21&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;1&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§è¡Œè¿™æ¡æŸ¥è¯¢SQLï¼Œéœ€è¦æ‰§è¡Œå‡ æ¬¡çš„æ ‘æœç´¢æ“ä½œï¼Ÿå¯ä»¥ç”»ä¸‹å¯¹åº”çš„ç´¢å¼•æ ‘ç»“æ„å›¾~&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;selectÂ *Â fromÂ TemployeeÂ &lt;span&gt;where&lt;/span&gt;Â age=32;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®è¿™ä¸ªï¼Œè¿™ä¸ªå¤§å®¶å¯ä»¥å…ˆç”»å‡º&lt;code&gt;idx_age&lt;/code&gt;æ™®é€šç´¢å¼•çš„ç´¢å¼•ç»“æ„å›¾ï¼Œå¤§æ¦‚å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5664621676891616&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdFCyRyicMuBJlvs9XJroboq8yWLl2zfP0mBJibnVHBofttuvoDOh3WY4g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;978&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†ç”»å‡º&lt;code&gt;id&lt;/code&gt;ä¸»é”®ç´¢å¼•ï¼Œæˆ‘ä»¬å…ˆç”»å‡ºèšæ—ç´¢å¼•ç»“æ„å›¾ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4027237354085603&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicd4fpq0FIAHLIP9G6rD6SIvT53OYdm0ic0NYOe7MjqLmSHxag6WRmSJMA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1028&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ¡ SQL æŸ¥è¯¢è¯­å¥æ‰§è¡Œå¤§æ¦‚æµç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æœç´¢&lt;code&gt;idx_age&lt;/code&gt; ç´¢å¼•æ ‘ï¼Œå°†&lt;code&gt;ç£ç›˜å—1&lt;/code&gt;åŠ è½½åˆ°å†…å­˜ï¼Œç”±äº&lt;code&gt;32&amp;lt;43&lt;/code&gt;,æœç´¢å·¦è·¯åˆ†æ”¯ï¼Œåˆ°ç£ç›˜å¯»å€&lt;code&gt;ç£ç›˜å—2&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å°†&lt;code&gt;ç£ç›˜å—2&lt;/code&gt;åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç”±äº&lt;code&gt;32&amp;lt;36&lt;/code&gt;,æœç´¢å·¦è·¯åˆ†æ”¯ï¼Œåˆ°ç£ç›˜å¯»å€&lt;code&gt;ç£ç›˜å—4&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å°†&lt;code&gt;ç£ç›˜å—4&lt;/code&gt;åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåœ¨å†…å­˜ç»§ç»­éå†ï¼Œæ‰¾åˆ°&lt;code&gt;age=32&lt;/code&gt;çš„è®°å½•ï¼Œå–å¾—&lt;code&gt;id = 400&lt;/code&gt;.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ‹¿åˆ°&lt;code&gt;id=400&lt;/code&gt;åï¼Œå›åˆ°&lt;code&gt;idä¸»é”®ç´¢å¼•æ ‘&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æœç´¢&lt;code&gt;idä¸»é”®ç´¢å¼•æ ‘&lt;/code&gt;ï¼Œå°†&lt;code&gt;ç£ç›˜å—1&lt;/code&gt;åŠ è½½åˆ°å†…å­˜ï¼Œå› ä¸º&lt;code&gt;300&amp;lt;400&amp;lt;500&lt;/code&gt;,æ‰€ä»¥åœ¨é€‰æ‹©ä¸­é—´åˆ†æ”¯ï¼Œåˆ°ç£ç›˜å¯»å€&lt;code&gt;ç£ç›˜å—3&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è™½ç„¶åœ¨&lt;code&gt;ç£ç›˜å—3&lt;/code&gt;ï¼Œæ‰¾åˆ°äº†id=400ï¼Œä½†æ˜¯å®ƒä¸æ˜¯å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šç»§ç»­å¾€ä¸‹æ‰¾ã€‚åˆ°ç£ç›˜å¯»å€&lt;code&gt;ç£ç›˜å—8&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å°†&lt;code&gt;ç£ç›˜å—8&lt;/code&gt;åŠ è½½å†…å­˜ï¼Œåœ¨å†…å­˜éå†ï¼Œæ‰¾åˆ°&lt;code&gt;id=400&lt;/code&gt;çš„è®°å½•ï¼Œæ‹¿åˆ°&lt;code&gt;R4&lt;/code&gt;è¿™ä¸€è¡Œçš„æ•°æ®ï¼Œå¥½çš„ï¼Œå¤§åŠŸå‘Šæˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;7. ä»€ä¹ˆæ˜¯å›è¡¨ï¼Ÿå¦‚ä½•å‡å°‘å›è¡¨ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æŸ¥è¯¢çš„æ•°æ®åœ¨ç´¢å¼•æ ‘ä¸­ï¼Œæ‰¾ä¸åˆ°çš„æ—¶å€™ï¼Œéœ€è¦å›åˆ°&lt;strong&gt;ä¸»é”®ç´¢å¼•æ ‘&lt;/strong&gt;ä¸­å»è·å–ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åš&lt;strong&gt;å›è¡¨&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚åœ¨&lt;strong&gt;ç¬¬6&lt;/strong&gt;å°èŠ‚ä¸­ï¼Œä½¿ç”¨çš„æŸ¥è¯¢SQL&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;selectÂ *Â fromÂ TemployeeÂ &lt;span&gt;where&lt;/span&gt;Â age=32;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦æŸ¥è¯¢æ‰€æœ‰åˆ—çš„æ•°æ®ï¼Œ&lt;code&gt;idx_age&lt;/code&gt;æ™®é€šç´¢å¼•ä¸èƒ½æ»¡è¶³ï¼Œéœ€è¦æ‹¿åˆ°ä¸»é”®idçš„å€¼åï¼Œå†å›åˆ°&lt;code&gt;id&lt;/code&gt;ä¸»é”®ç´¢å¼•æŸ¥æ‰¾è·å–ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å›è¡¨ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;8. ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæˆ‘ä»¬æŸ¥è¯¢SQLçš„&lt;code&gt;select *&lt;/code&gt; ä¿®æ”¹ä¸º &lt;code&gt;select id, age&lt;/code&gt;çš„è¯ï¼Œå…¶å®æ˜¯&lt;strong&gt;ä¸éœ€è¦å›è¡¨&lt;/strong&gt;çš„ã€‚å› ä¸º&lt;code&gt;id&lt;/code&gt;å’Œ&lt;code&gt;age&lt;/code&gt;çš„å€¼ï¼Œéƒ½åœ¨&lt;code&gt;idx_age&lt;/code&gt;ç´¢å¼•æ ‘çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œè¿™å°±æ¶‰åŠåˆ°è¦†ç›–ç´¢å¼•çš„çŸ¥è¯†ç‚¹äº†ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;è¦†ç›–ç´¢å¼•æ˜¯&lt;code&gt;select&lt;/code&gt;çš„æ•°æ®åˆ—åªç”¨ä»ç´¢å¼•ä¸­å°±èƒ½å¤Ÿå–å¾—ï¼Œä¸å¿…å›è¡¨ï¼Œæ¢å¥è¯è¯´ï¼ŒæŸ¥è¯¢åˆ—è¦è¢«æ‰€å»ºçš„ç´¢å¼•è¦†ç›–ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;9. èŠèŠç´¢å¼•çš„æœ€å·¦å‰ç¼€åŸåˆ™&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œå¯ä»¥æ˜¯&lt;strong&gt;è”åˆç´¢å¼•çš„æœ€å·¦Nä¸ªå­—æ®µ&lt;/strong&gt;ã€‚æ¯”å¦‚ä½ å»ºç«‹ä¸€ä¸ªç»„åˆç´¢å¼•&lt;code&gt;ï¼ˆa,b,cï¼‰&lt;/code&gt;ï¼Œå…¶å®å¯ä»¥ç›¸å½“äºå»ºäº†&lt;code&gt;ï¼ˆaï¼‰ï¼Œï¼ˆa,bï¼‰,(a,b,c)&lt;/code&gt;ä¸‰ä¸ªç´¢å¼•ï¼Œå¤§å¤§æé«˜äº†ç´¢å¼•å¤ç”¨èƒ½åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œæœ€å·¦å‰ç¼€ä¹Ÿå¯ä»¥æ˜¯&lt;strong&gt;å­—ç¬¦ä¸²ç´¢å¼•çš„æœ€å·¦Mä¸ªå­—ç¬¦ã€‚&lt;/strong&gt;ã€‚æ¯”å¦‚ï¼Œä½ çš„æ™®é€šç´¢å¼•æ ‘æ˜¯é…±ç´«ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.34629629629629627&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdiaVx3GzpZFCfLUnwLdNiabMC0sL0W6qkTmrCZoiarVic9e7QEgmcmglZxw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªSQL:&lt;code&gt; select * from employee where name like &#x27;å°%&#x27; order by age desc;&lt;/code&gt; ä¹Ÿæ˜¯å‘½ä¸­ç´¢å¼•çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdN6WvfhxJcaSDw8fULO4JxxqyGaScKiboOm3cZwDDlPV1CyAOLbOhfRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;10. ç´¢å¼•ä¸‹æ¨äº†è§£è¿‡å—ï¼Ÿä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»™ä½ è¿™ä¸ªSQLï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;selectÂ *Â fromÂ employeeÂ &lt;span&gt;where&lt;/span&gt;Â nameÂ likeÂ &lt;span&gt;&#x27;å°%&#x27;&lt;/span&gt;Â andÂ age=28Â andÂ sex=&lt;span&gt;&#x27;0&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ï¼Œ&lt;code&gt;name&lt;/code&gt;å’Œ&lt;code&gt;age&lt;/code&gt;ä¸ºè”åˆç´¢å¼•ï¼ˆ&lt;code&gt;idx_name_age&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ˜¯&lt;strong&gt;Mysql5.6ä¹‹å‰&lt;/strong&gt;ï¼Œåœ¨&lt;code&gt;idx_name_age&lt;/code&gt;ç´¢å¼•æ ‘ï¼Œæ‰¾å‡ºæ‰€æœ‰åå­—ç¬¬ä¸€ä¸ªå­—æ˜¯&lt;code&gt;â€œå°â€&lt;/code&gt;çš„äººï¼Œæ‹¿åˆ°å®ƒä»¬çš„&lt;code&gt;ä¸»é”®id&lt;/code&gt;ï¼Œç„¶åå›è¡¨æ‰¾å‡ºæ•°æ®è¡Œï¼Œå†å»å¯¹æ¯”å¹´é¾„å’Œæ€§åˆ«ç­‰å…¶ä»–å­—æ®µã€‚å¦‚å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.44166666666666665&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdHQ3zkfMOU0bsJ9d1ibOwCwS0289lcU7OcJQMVPnm96CjARgz0UBDdzQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº›æœ‹å‹å¯èƒ½è§‰å¾—å¥‡æ€ªï¼Œ&lt;code&gt;idx_name_ageï¼ˆname,age)&lt;/code&gt;ä¸æ˜¯è”åˆç´¢å¼•å˜›ï¼Ÿä¸ºä»€ä¹ˆé€‰å‡ºåŒ…å«&lt;code&gt;â€œå°â€&lt;/code&gt;å­—åï¼Œä¸å†é¡ºä¾¿çœ‹ä¸‹å¹´é¾„&lt;code&gt;age&lt;/code&gt;å†å›è¡¨å‘¢ï¼Œä¸æ˜¯æ›´é«˜æ•ˆå˜›ï¼Ÿæ‰€ä»¥å‘€ï¼Œ&lt;code&gt;MySQL 5.6&lt;/code&gt;å°±å¼•å…¥äº†&lt;strong&gt;ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨ç´¢å¼•éå†è¿‡ç¨‹ä¸­ï¼Œå¯¹ç´¢å¼•ä¸­åŒ…å«çš„å­—æ®µå…ˆåšåˆ¤æ–­ï¼Œç›´æ¥è¿‡æ»¤æ‰ä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤ï¼ŒMySQL5.6ç‰ˆæœ¬ä¹‹åï¼Œé€‰å‡ºåŒ…å«&lt;code&gt;â€œå°â€&lt;/code&gt;å­—åï¼Œé¡ºè¡¨è¿‡æ»¤&lt;code&gt;age=28&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4398148148148148&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdZgnTbKsY4lMmLJWmYjUCJspFwl0kDbcicBeNiapYcUhSN7JOnmsIajLQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;11. å¤§è¡¨å¦‚ä½•æ·»åŠ ç´¢å¼•&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¸€å¼ è¡¨æ•°æ®é‡çº§æ˜¯åƒä¸‡çº§åˆ«ä»¥ä¸Šçš„ï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•ç»™è¿™å¼ è¡¨æ·»åŠ ç´¢å¼•ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€ç‚¹ï¼Œ&lt;strong&gt;ç»™è¡¨æ·»åŠ ç´¢å¼•çš„æ—¶å€™&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ˜¯ä¼šå¯¹è¡¨åŠ é”çš„&lt;/strong&gt;ã€‚å¦‚æœä¸è°¨æ…æ“ä½œï¼Œæœ‰å¯èƒ½å‡ºç°ç”Ÿäº§äº‹æ•…çš„ã€‚å¯ä»¥å‚è€ƒä»¥ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å…ˆåˆ›å»ºä¸€å¼ è·ŸåŸè¡¨&lt;code&gt;A&lt;/code&gt;æ•°æ®ç»“æ„ç›¸åŒçš„æ–°è¡¨&lt;code&gt;B&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨æ–°è¡¨&lt;code&gt;B&lt;/code&gt;æ·»åŠ éœ€è¦åŠ ä¸Šçš„æ–°ç´¢å¼•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æŠŠåŸè¡¨&lt;code&gt;A&lt;/code&gt;æ•°æ®å¯¼åˆ°æ–°è¡¨&lt;code&gt;B&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;rename&lt;/code&gt;æ–°è¡¨&lt;code&gt;B&lt;/code&gt;ä¸ºåŸè¡¨çš„è¡¨å&lt;code&gt;A&lt;/code&gt;ï¼ŒåŸè¡¨&lt;code&gt;A&lt;/code&gt;æ¢åˆ«çš„è¡¨åï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;12. å¦‚ä½•çŸ¥é“è¯­å¥æ˜¯å¦èµ°ç´¢å¼•æŸ¥è¯¢ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;explain&lt;/code&gt;æŸ¥çœ‹SQLçš„æ‰§è¡Œè®¡åˆ’ï¼Œ&lt;strong&gt;è¿™æ ·å°±çŸ¥é“æ˜¯å¦å‘½ä¸­ç´¢å¼•äº†&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“&lt;code&gt;explain&lt;/code&gt;ä¸&lt;code&gt;SQL&lt;/code&gt;ä¸€èµ·ä½¿ç”¨æ—¶ï¼ŒMySQLå°†æ˜¾ç¤ºæ¥è‡ªä¼˜åŒ–å™¨çš„æœ‰å…³è¯­å¥æ‰§è¡Œè®¡åˆ’çš„ä¿¡æ¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15925925925925927&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpwSP2IkzhZw4BticmiaDmFnicdKg5D72uRIF2WmSgPsdkInJJWicLTkDgUosicsibz83S1o3Lna17syzapw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨&lt;code&gt;typeã€rowsã€filteredã€extraã€key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.1 type&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;typeè¡¨ç¤º&lt;strong&gt;è¿æ¥ç±»å‹&lt;/strong&gt;ï¼ŒæŸ¥çœ‹ç´¢å¼•æ‰§è¡Œæƒ…å†µçš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡ã€‚ä»¥ä¸‹æ€§èƒ½ä»å¥½åˆ°åä¾æ¬¡ï¼š&lt;code&gt;system  &amp;gt; const &amp;gt; eq_ref &amp;gt; ref  &amp;gt; ref_or_null &amp;gt; index_merge &amp;gt; unique_subquery &amp;gt; index_subquery &amp;gt; range &amp;gt; index &amp;gt; ALL&lt;/code&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;systemï¼šè¿™ç§ç±»å‹è¦æ±‚æ•°æ®åº“è¡¨ä¸­åªæœ‰ä¸€æ¡æ•°æ®ï¼Œæ˜¯&lt;code&gt;const&lt;/code&gt;ç±»å‹çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸ä¼šå‡ºç°çš„ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;constï¼šé€šè¿‡ä¸€æ¬¡ç´¢å¼•å°±èƒ½æ‰¾åˆ°æ•°æ®ï¼Œä¸€èˆ¬ç”¨äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•ä½œä¸ºæ¡ä»¶ï¼Œè¿™ç±»æ‰«ææ•ˆç‡æé«˜ï¼Œï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;eq_refï¼šå¸¸ç”¨äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æï¼Œä¸€èˆ¬æŒ‡ä½¿ç”¨ä¸»é”®çš„å…³è”æŸ¥è¯¢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ref : å¸¸ç”¨äºéä¸»é”®å’Œå”¯ä¸€ç´¢å¼•æ‰«æã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ref_or_nullï¼šè¿™ç§è¿æ¥ç±»å‹ç±»ä¼¼äº&lt;code&gt;ref&lt;/code&gt;ï¼ŒåŒºåˆ«åœ¨äº&lt;code&gt;MySQL&lt;/code&gt;ä¼šé¢å¤–æœç´¢åŒ…å«&lt;code&gt;NULL&lt;/code&gt;å€¼çš„è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;index_mergeï¼šä½¿ç”¨äº†ç´¢å¼•åˆå¹¶ä¼˜åŒ–æ–¹æ³•ï¼ŒæŸ¥è¯¢ä½¿ç”¨äº†ä¸¤ä¸ªä»¥ä¸Šçš„ç´¢å¼•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;unique_subqueryï¼šç±»ä¼¼äº&lt;code&gt;eq_ref&lt;/code&gt;ï¼Œæ¡ä»¶ç”¨äº†&lt;code&gt;in&lt;/code&gt;å­æŸ¥è¯¢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;index_subqueryï¼šåŒºåˆ«äº&lt;code&gt;unique_subquery&lt;/code&gt;ï¼Œç”¨äºéå”¯ä¸€ç´¢å¼•ï¼Œå¯ä»¥è¿”å›é‡å¤å€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;rangeï¼šå¸¸ç”¨äºèŒƒå›´æŸ¥è¯¢ï¼Œæ¯”å¦‚ï¼šbetween ... and æˆ– In ç­‰æ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;indexï¼šå…¨ç´¢å¼•æ‰«æ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ALLï¼šå…¨è¡¨æ‰«æ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.2 rows&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥åˆ—è¡¨ç¤ºMySQLä¼°ç®—è¦æ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€çš„è®°å½•ï¼Œéœ€è¦è¯»å–çš„è¡Œæ•°ã€‚å¯¹äºInnoDBè¡¨ï¼Œæ­¤æ•°å­—æ˜¯ä¼°è®¡å€¼ï¼Œå¹¶éä¸€å®šæ˜¯ä¸ªå‡†ç¡®å€¼ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.3 filtered&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥åˆ—æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”çš„å€¼ï¼Œè¡¨é‡Œç¬¦åˆæ¡ä»¶çš„è®°å½•æ•°çš„ç™¾åˆ†æ¯”ã€‚ç®€å•ç‚¹è¯´ï¼Œè¿™ä¸ªå­—æ®µè¡¨ç¤ºå­˜å‚¨å¼•æ“è¿”å›çš„æ•°æ®åœ¨ç»è¿‡è¿‡æ»¤åï¼Œå‰©ä¸‹æ»¡è¶³æ¡ä»¶çš„è®°å½•æ•°é‡çš„æ¯”ä¾‹ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.4 extra&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥å­—æ®µåŒ…å«æœ‰å…³MySQLå¦‚ä½•è§£ææŸ¥è¯¢çš„å…¶ä»–ä¿¡æ¯ï¼Œå®ƒä¸€èˆ¬ä¼šå‡ºç°è¿™å‡ ä¸ªå€¼ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;Using filesortï¼šè¡¨ç¤ºæŒ‰æ–‡ä»¶æ’åºï¼Œä¸€èˆ¬æ˜¯åœ¨æŒ‡å®šçš„æ’åºå’Œç´¢å¼•æ’åºä¸ä¸€è‡´çš„æƒ…å†µæ‰ä¼šå‡ºç°ã€‚ä¸€èˆ¬è§äºorder byè¯­å¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Using index ï¼šè¡¨ç¤ºæ˜¯å¦ç”¨äº†è¦†ç›–ç´¢å¼•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Using temporary: è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨äº†ä¸´æ—¶è¡¨,æ€§èƒ½ç‰¹åˆ«å·®ï¼Œéœ€è¦é‡ç‚¹ä¼˜åŒ–ã€‚ä¸€èˆ¬å¤šè§äºgroup byè¯­å¥ï¼Œæˆ–è€…unionè¯­å¥ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Using where : è¡¨ç¤ºä½¿ç”¨äº†whereæ¡ä»¶è¿‡æ»¤.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Using index conditionï¼šMySQL5.6ä¹‹åæ–°å¢çš„ç´¢å¼•ä¸‹æ¨ã€‚åœ¨å­˜å‚¨å¼•æ“å±‚è¿›è¡Œæ•°æ®è¿‡æ»¤ï¼Œè€Œä¸æ˜¯åœ¨æœåŠ¡å±‚è¿‡æ»¤ï¼Œåˆ©ç”¨ç´¢å¼•ç°æœ‰çš„æ•°æ®å‡å°‘å›è¡¨çš„æ•°æ®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.5 key&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥åˆ—è¡¨ç¤º&lt;strong&gt;å®é™…ç”¨åˆ°çš„ç´¢å¼•&lt;/strong&gt;ã€‚ä¸€èˆ¬é…åˆ&lt;code&gt;possible_keys&lt;/code&gt;åˆ—ä¸€èµ·çœ‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;13.Hash ç´¢å¼•å’Œ B+æ ‘åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä½ åœ¨è®¾è®¡ç´¢å¼•æ˜¯æ€ä¹ˆæŠ‰æ‹©çš„ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;B+æ ‘å¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼ŒHash ç´¢å¼•ä¸èƒ½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;B+æ ‘æ”¯æŒè”åˆç´¢å¼•çš„æœ€å·¦ä¾§åŸåˆ™ï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;B+æ ‘æ”¯æŒ order by æ’åºï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Hash ç´¢å¼•åœ¨ç­‰å€¼æŸ¥è¯¢ä¸Šæ¯” B+æ ‘æ•ˆç‡æ›´é«˜ã€‚ï¼ˆä½†æ˜¯ç´¢å¼•åˆ—çš„é‡å¤å€¼å¾ˆå¤šçš„è¯ï¼ŒHashå†²çªï¼Œæ•ˆç‡é™ä½ï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;B+æ ‘ä½¿ç”¨ like è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ï¼Œlike åé¢ï¼ˆæ¯”å¦‚%å¼€å¤´ï¼‰çš„è¯å¯ä»¥èµ·åˆ°ä¼˜åŒ–çš„ä½œç”¨ï¼ŒHash ç´¢å¼•æ ¹æœ¬æ— æ³•è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;14. Â ç´¢å¼•æœ‰å“ªäº›ä¼˜ç¼ºç‚¹ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®æŸ¥è¯¢é€Ÿåº¦ï¼Œå‡å°‘æŸ¥è¯¢æ—¶é—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å”¯ä¸€ç´¢å¼•å¯ä»¥ä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œçš„æ•°æ®çš„å”¯ä¸€æ€§&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦è€—è´¹æ—¶é—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç´¢å¼•éœ€è¦å ç‰©ç†ç©ºé—´ï¼Œé™¤äº†æ•°æ®è¡¨å ç”¨æ•°æ®ç©ºé—´ä¹‹å¤–ï¼Œæ¯ä¸€ä¸ªç´¢å¼•è¿˜è¦å ç”¨ä¸€å®šçš„ç‰©ç†ç©ºé—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä»¥è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢ã€åˆ ã€æ”¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;15. èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;èšç°‡ç´¢å¼•å¹¶ä¸æ˜¯ä¸€ç§å•ç‹¬çš„ç´¢å¼•ç±»å‹ï¼Œè€Œæ˜¯ä¸€ç§&lt;strong&gt;æ•°æ®å­˜å‚¨æ–¹å¼&lt;/strong&gt;ã€‚å®ƒè¡¨ç¤ºç´¢å¼•ç»“æ„å’Œæ•°æ®ä¸€èµ·å­˜æ”¾çš„ç´¢å¼•ã€‚éèšé›†ç´¢å¼•æ˜¯&lt;strong&gt;ç´¢å¼•ç»“æ„å’Œæ•°æ®åˆ†å¼€å­˜æ”¾çš„ç´¢å¼•&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†ä¸åŒå­˜å­˜å‚¨å¼•æ“å»èŠå“ˆ~&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨&lt;code&gt;MySQL&lt;/code&gt;çš„&lt;code&gt;InnoDB&lt;/code&gt;å­˜å‚¨å¼•æ“ä¸­ï¼Œ èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•æœ€å¤§çš„åŒºåˆ«ï¼Œåœ¨äºå¶èŠ‚ç‚¹æ˜¯å¦å­˜æ”¾ä¸€æ•´è¡Œè®°å½•ã€‚èšç°‡ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨äº†ä¸€æ•´è¡Œè®°å½•ï¼Œè€Œéèšç°‡ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®ä¿¡æ¯ï¼Œ&lt;strong&gt;å› æ­¤ï¼Œä¸€èˆ¬éèšç°‡ç´¢å¼•è¿˜éœ€è¦å›è¡¨æŸ¥è¯¢ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸€ä¸ªè¡¨ä¸­åªèƒ½æ‹¥æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ï¼ˆå› ä¸ºä¸€èˆ¬èšç°‡ç´¢å¼•å°±æ˜¯&lt;strong&gt;ä¸»é”®ç´¢å¼•&lt;/strong&gt;ï¼‰ï¼Œè€Œéèšé›†ç´¢å¼•ä¸€ä¸ªè¡¨åˆ™å¯ä»¥å­˜åœ¨å¤šä¸ªã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸€èˆ¬æ¥è¯´ï¼Œç›¸å¯¹äºéèšç°‡ç´¢å¼•ï¼Œèšç°‡ç´¢å¼•æŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºä¸ç”¨å›è¡¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œåœ¨&lt;code&gt;MyISM&lt;/code&gt;å­˜å‚¨å¼•æ“ä¸­ï¼Œå®ƒçš„ä¸»é”®ç´¢å¼•ï¼Œæ™®é€šç´¢å¼•éƒ½æ˜¯éèšç°‡ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®å’Œç´¢å¼•æ˜¯åˆ†å¼€çš„ï¼Œå¶å­èŠ‚ç‚¹éƒ½ä½¿ç”¨&lt;strong&gt;ä¸€ä¸ªåœ°å€æŒ‡å‘çœŸæ­£çš„è¡¨æ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzIxMjE5MTE1Nw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/NtO5sialJZGrOaned81pMkwib5Voibzes9ibatWlia3ZiceXRbsEWCZbyeOdoQTP1b4licNGR2qbzfaicvstXFztqQJ0wg/0?wx_fmt=png&quot; data-nickname=&quot;ç¨‹åºå‘˜å°ç°&quot; data-alias=&quot;chengxuyuanxiaohui&quot; data-signature=&quot;ä¸€ç¾¤å–œçˆ±ç¼–ç¨‹æŠ€æœ¯å’Œç®—æ³•çš„å°ä»“é¼ ã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»™ä¸ªèµæ”¯æŒä¸€ä¸‹ï¼Œè°¢è°¢å•¦~&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>78fa97b9210d010d587ea4cf9e7bd545</guid>
<title>K8S å¼‚æ­¥ API çš„åŸå› å’Œä¼˜ç¼ºç‚¹ï¼Ÿ</title>
<link>https://toutiao.io/k/aacvzce</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.43448275862068964&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/K1sI6IqaK7ZEVjsNdVk4P5ruZqjTb73OLHicXEbviaibATvf0uiaia6IrBsfGVYia1M3xqg3Hau0y89iayngts6U1cMAA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1160&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“åä½œæˆå‘˜å˜å¾—å¾ˆå¤šæ—¶å¾€å¾€å¾ˆéš¾åŒæ­¥äº¤æµï¼Œæ¯”å¦‚ä¸€ä¸ªå¾®ä¿¡ç¾¤åŒæ—¶åœ¨çº¿çš„ç”¨æˆ·ä¸å¯èƒ½å¤ªå¤šã€‚å› æ­¤ï¼Œåœ¨å‚ä¸äººå‘˜åºå¤§çš„å¼€æºç¤¾åŒºè‡ªç„¶ä¼˜å…ˆé€‰æ‹©é‚®ä»¶åˆ—è¡¨æˆ–è®ºå›ç­‰å¼‚æ­¥æ²Ÿé€šç­‰æ‰‹æ®µï¼Œåœ¨Node.jsä¸­ä¹Ÿæ˜¯é€šè¿‡å¼‚æ­¥ç¼–ç¨‹æ¥æ¶ˆé™¤ä¸åŒåä½œå¯¹è±¡é€Ÿåº¦çš„å·®å¼‚ã€‚æ‰€ä»¥å¾ˆå¤šå®è·µçš„åœ°æ–¹åœ¨æ— æ³•æä¾›å¾ˆå¥½çš„åŒæ­¥APIä½“éªŒæ—¶ï¼Œä¼šé‡‡ç”¨äº‹ä»¶å¼‚æ­¥è§¦å‘æˆ–è€…å®šæœŸç­‰å¼‚æ­¥è§¦å‘æ‰§è¡Œæå‰ç¼“å­˜å¥½çš„æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ä¼ ç»Ÿç¼–ç¨‹é¢†åŸŸå¼‚æ­¥APIä¸»è¦æ˜¯å¸¦æ¥äº†æ€§èƒ½ä¼˜åŠ¿ï¼Œåœ¨è¿ç»´åœºæ™¯å¼‚æ­¥APIç¼“è§£äº†å„ç§æ“ä½œé¡ºåºå·®å¼‚å¸¦æ¥çš„åŒæ­¥å›°éš¾ã€‚&lt;/span&gt;&lt;span&gt;ä½†æ˜¯å¼‚æ­¥APIä¹Ÿæœ‰å…¶ç¼ºç‚¹ï¼Œä¸¾ä¾‹æ¥è¯´Node.jsç¨‹åºä¼šé¢ä¸´å¤æ‚çš„å¼‚æ­¥å¯¼è‡´çš„åµŒå¥—é—®é¢˜ï¼Œå› ä¸ºå¤šå±‚åµŒå¥—åˆå¼•å‘äº†ç¨‹åºçœŸå®æ‰§è¡Œé¡ºåºéš¾ä»¥ç†è§£çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;span&gt;ç®€å•æ¥è¯´ï¼Œå¼‚æ­¥APIå¦‚æœé…åˆéœ€è¦ä¸¥æ ¼ä¾èµ–æ‰§è¡Œé¡ºåºçš„è¿‡ç¨‹å¼ç¼–ç¨‹æ¨¡å¼å°†ä¼šå¸¦æ¥Node.jsé¢ä¸´çš„ç›¸ä¼¼çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;span&gt;é¢å¯¹è¿™ä¸ªé—®é¢˜ï¼ŒGoè¯­è¨€å°è¯•é€šè¿‡å¸¦ç¼“å­˜çš„ç®¡é“æ¥ç¼“è§£å¼‚æ­¥çš„å›°éš¾æ˜¯å¦ä¸€ç§é€‰æ‹©ã€‚&lt;/span&gt;&lt;span&gt;è€ŒK8Såˆ™é€šè¿‡é¡ºåºæ— å…³çš„YAMLæ•°æ®è¡¨ç¤ºçš„æ“ä½œä»¥é…åˆå¼‚æ­¥APIã€‚&lt;/span&gt;&lt;span&gt;ä¸¤ç§æ‰‹æ®µéƒ½æ˜¯åœ¨ç‰ºç‰²å°‘é‡æ€§èƒ½çš„å‰æä¸‹è·å¾—çµæ´»æ€§å’Œä¾¿äºç†è§£çš„å¹³è¡¡ï¼Œå‰è€…æ›´é€‚åˆäºè®¡ç®—çš„åœºæ™¯ã€è€Œåè€…æ›´é€‚åˆäºèµ„æºç®¡ç†åœºæ™¯ã€‚&lt;/span&gt;&lt;span&gt;K8S é€šè¿‡å°†åŸºç¡€è®¾æ–½æŠ½è±¡ä¸ºå¯¹åº”çš„èµ„æºï¼Œå®ç°äº†é€šè¿‡å£°æ˜å¼æè¿°èµ„æºæœŸæœ›çš„çŠ¶æ€å’Œå¼‚æ­¥çŠ¶æ€æ§åˆ¶è¾¾æˆäº†å¹³è¡¡ã€‚&lt;/span&gt;&lt;span&gt;å¤§å®¶å¸¸ä¸¾çš„ä¾‹å­å°±æ˜¯ç©ºè°ƒæ’æ¸©åé¦ˆç³»ç»Ÿï¼š&lt;/span&gt;&lt;span&gt;ç”¨æˆ·æŒ‡å®šä¸€ä¸ªæœŸæœ›çš„ç¨³å®šï¼Œç©ºè°ƒæ…¢æ…¢è°ƒæ•´åˆ°è¯¥æ¸©åº¦ï¼Œè€Œç©ºè°ƒæœ¬èº«å§‹ç»ˆå¤„äºä¸€ä¸ªåŠ¨æ€è°ƒæ•´çš„çŠ¶æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦ä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œæ˜¯K8Sçš„ç”Ÿå‘½å¼APIéœ€è¦æ˜ç¡®æŠ½è±¡èµ„æºçš„ç‰¹å¾å±æ€§ï¼Œè€ŒåŸºäºè¿™äº›ç›¸å¯¹ç‹¬ç«‹çš„å±æ€§ï¼ˆæˆ–è€…å«ç»´åº¦ï¼‰å¯ä»¥è®©ä¸åŒè§’è‰²çš„è¿ç»´å’Œå¼€å‘åŒå­¦å¯ä»¥åœ¨åŒä¸€ä¸ªå¹³å°ååŒå·¥ä½œã€‚ç±»ä¼¼å¼€å‘åŒå­¦åœ¨è°ƒæ•´ç©ºè°ƒçš„æ¸©åº¦ä¹‹æ—¶ï¼Œè¿ç»´åŒå­¦å¯ä»¥æ”¾å¿ƒåœ°è°ƒæ•´ç©ºè°ƒçš„å¹é£æ–¹å‘ã€‚å³å¯ä»¥åè°ƒåˆä¸ä¼šå¼•èµ·å†²çªæ­£æ˜¯DevOpsç†å¿µåŒå­¦æœŸæœ›çš„çŠ¶æ€ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è¯´ K8S è¿™ç§é¡ºåºæ— å…³çš„å£°æ˜å¼å¼‚æ­¥APIæ˜¯å¤©ç”ŸDevOpsäº²å’Œçš„ï¼ˆè¿™ä¹Ÿæ­£æ˜¯è¯ç”Ÿçš„ç›®çš„ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç„¶K8Sæœ¬èº«è®¾è®¡å·²ç»è¿œè¿œè¶…å‡ºäº†å¼‚æ­¥APIï¼šå®ƒä¸ä»…ä»…é€šè¿‡etcdå­˜å‚¨æœŸæœ›çš„çŠ¶æ€ï¼ŒåŒæ—¶ä¹Ÿæ—¶åˆ»åæ˜ äº†å¹³å°æœ¬èº«çŠ¶æ€ï¼ŒåŸºäºetcdå’Œæ§åˆ¶å™¨å®ƒåƒç²˜åˆå‰‚ä¸€æ ·å°†æ‰€æœ‰éƒ¨ä»¶è¿æ¥åœ¨ä¸€èµ·ã€‚æ­£æ˜¯è¿™ç§æœºåˆ¶ï¼Œè®©å…¶å¯ä»¥ä¿æŒå¯æ‰©å±•æ€§ã€å¯è§‚æµ‹æ€§çš„åŒæ—¶ä¸ç»„ç»‡ç”Ÿæ€ç³»ç»Ÿå…±å­˜ï¼Œè€Œè‡ªèº«è¿˜å¯ä»¥ä¸æ–­æ¸è¿›å¼å‘å±•ä¿æŒæ›´æŒä¹…çš„ç”Ÿå‘½åŠ›ã€‚K8S é‡‡ç”¨çš„æ˜¯ä¸Šå¸ç¼–ç¨‹èŒƒå¼ï¼šå¸å“¥è¯´è¦æœ‰å…‰äºæ˜¯å°±æœ‰äº†å…‰ï¼ŒAppå¼€å‘è€…è¯´è¦æœ‰è¶…å¤§å†…å­˜å°±æœ‰äº†è¶…å¤§å†…å­˜ï¼ŒSREè¯´è¦æœ‰ç½‘ç»œäºæ˜¯å°±æœ‰äº†ç½‘ç»œã€‚è¿™å¯¹äºæ—¥å¸¸æ‰“å·¥äººæ¥è¯´æ˜¯æœ€å¤§çš„æŒ‘æˆ˜ï¼Œéœ€è¦å°†æ€ç»´æ–¹å¼åŠªåŠ›è°ƒæ•´ä¸ºä¸Šå¸æˆ–è€æ¿æ¨¡å¼ï¼Œä»å¹²æ´»è§’è‰²å˜æˆå‘ K8S å‘å‘½ä»¤çš„è§’è‰²ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5057471264367817&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/K1sI6IqaK7a9yqzqNrGQzz5syNFibkOyDxRn4uEFpsricnNLBiaefqqgxlB9wDibGHhHiaM5PVtBHaY2obIhpSCnicdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;522&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d6c3941597cef3e82b711fb89f098442</guid>
<title>ç§’æ€ç³»ç»Ÿä¸Šäº‘ï¼Œä» 1342ms æå‡åˆ° 138ms</title>
<link>https://toutiao.io/k/9w9b3m0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å½“ä¸€å›æ ‡é¢˜é¬¼æ‰ï¼Œå“ˆå“ˆ&lt;br/&gt;&lt;/span&gt;&lt;span&gt;å°ä¼™ä¼´ä»¬å¥½å‘€ï¼Œæ‹–æ‹–æ‹‰æ‹‰çš„æˆ‘ï¼Œç»ˆäºæŠŠ ç§’æ€é¡¹ç›® éƒ¨ç½²åˆ°äº‘ç«¯ä¸Šå»äº†ï¼&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.40524781341107874&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabHpK9lkw7qVDU7NxuJPSmxL5wktnbQh7J2fAttJdOl4kzGx4L528OkA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;686&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ¬¡è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒé¡ºåˆ©ï¼Œæ­å»ºä¸‹ RabbitMQ å°±å¥½äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;helmÂ installÂ rabbitmqÂ bitnami/rabbitmqÂ --namespaceÂ prodÂ -fÂ config.yaml&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸è¿‡æˆ‘å‘ç°ï¼Œæ¯æ¬¡éƒ½å¾—ç ”ç©¶ä¸‹è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ŒçœŸçš„æ˜¯å¤´å¤§ï¼Œè€Œä¸”åé¢å¦‚æœè¦è£…æ’ä»¶ï¼Œå¼€å¯æ’ä»¶è¿™äº›å¥½åƒä¹ŸæŒºéº»çƒ¦çš„ï¼Œåƒ Redis çš„ å¸ƒéš†è¿‡æ»¤å™¨ï¼ŒRabbitMQ çš„å»¶è¿Ÿæ’ä»¶ ç­‰ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œä¸”æ£é¼“åˆ°æœ€åï¼Œè¿˜å¾—æ‰“åŒ…æˆè‡ªå·±çš„é•œåƒæ‰èƒ½å¥½å¥½ä¿å­˜ä¸‹æ¥ğŸ·&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¶Šæ“ä½œè¶Šä¸è€çƒ¦ï¼Œè¿˜æ˜¯å†™ä»£ç çœå¿ƒğŸ™ƒ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªç®—æ˜¯æˆ‘éƒ¨ç½²åœ¨äº‘ç«¯çš„ç¬¬ä¸€ä¸ªæœ‰æ„ä¹‰çš„ k8s åº”ç”¨ï¼Œæœ‰ç‚¹å°æ¿€åŠ¨ï¼Œç‹ ç‹ åœ°æµ‹è¯•ä¸‹ğŸ‘‡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç åŸºæœ¬æ²¡å•¥æ”¹åŠ¨ï¼Œç®€å•åœ°è°ƒæ•´ä¸‹è¿™äº› host ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.14615384615384616&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabusP4AzEk1ibLmTrwX3qwYNwJQUiaP0W8PfuHFvricwUBzYicJfBibuYiaBjQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;260&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡ºæ‰‹å°† redisson æ”¹æˆäº†ä¸»ä»ï¼Œä»£ç ä¸­ lettuce è¿˜æ²¡ä¿®æ”¹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.38513513513513514&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniab8kAkbNU5Voa9DgviaR3SZ38TxKPDmSDT0HIZpmH7K5PmepSbKGh3PWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;444&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†™ä¸ª Dockerfile éƒ¨ç½²ä¸‹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;FROM&lt;/span&gt;Â adoptopenjdk:&lt;span&gt;11&lt;/span&gt;-jre-hotspotÂ asÂ builder&lt;br/&gt;&lt;span&gt;MAINTAINER&lt;/span&gt;Â Jav4ye&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt;&lt;span&gt;Â application&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ARG&lt;/span&gt;Â JAR_FILE=/target/seckill-demo.jar&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â &lt;span&gt;${JAR_FILE}&lt;/span&gt;Â application.jar&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt;&lt;span&gt;Â javaÂ -Djarmode=layertoolsÂ -jarÂ application.jarÂ extract&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;FROM&lt;/span&gt;Â adoptopenjdk:&lt;span&gt;11&lt;/span&gt;-jre-hotspot&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt;&lt;span&gt;Â application&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â --from=builderÂ application/dependencies/Â ./&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â --from=builderÂ application/spring-boot-loader/Â ./&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â --from=builderÂ application/snapshot-dependencies/Â ./&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â --from=builderÂ application/application/Â ./&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â TZ=&lt;span&gt;&quot;Asia/Shanghai&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â JVM_OPTS=&lt;span&gt;&quot;-Xmx512mÂ -Xms512m&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENTRYPOINT&lt;/span&gt;&lt;span&gt;Â [&lt;span&gt;&quot;sh&quot;&lt;/span&gt;,&lt;span&gt;&quot;-c&quot;&lt;/span&gt;,&lt;span&gt;&quot;javaÂ &lt;span&gt;${JVM_OPTS}&lt;/span&gt;Â org.springframework.boot.loader.JarLauncher&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29608404966571156&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabS2NE5f7otNbSQiaw8iajRw12YaWaZC7YjbUlA3N9pOdIp0wBSFz9jIfA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1047&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å•æœº&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8523809523809524&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabbTGNmRv1EmiaGHf0Km2jVYN8gkTa2j6wNFbMHTkCBA4dYghaV1UTia1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;210&quot;/&gt;&lt;figcaption&gt;jmeter æµ‹è¯•&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æ˜¯ &lt;strong&gt;åæ¬¡&lt;/strong&gt; æµ‹è¯•ç»“æœæ•°æ®ï¼Œå¯ä»¥è·³åˆ°é˜…è¯» &lt;strong&gt;å°ç»“&lt;/strong&gt; å†…å®¹&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬ä¸€æ¬¡ å¹³å‡å“åº” æ˜¯ 1711 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 1808msï¼Œ99% æ˜¯ 2552 ms ï¼Œæœ€å°æ˜¯ 708 msï¼Œæœ€å¤§æ˜¯ 2961 ms ï¼Œååé‡æ˜¯ 224.1/s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.23103748910200522&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabU0vBA33GGwUDlQIj7lwHUE7XeGjSAJB0Lbwdu27mRfeSETmoFsiaoOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1147&quot;/&gt;&lt;figcaption&gt;ç¬¬ä¸€æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬äºŒæ¬¡ å¹³å‡å“åº” æ˜¯ 400 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 394 msï¼Œ99% æ˜¯ 1002 ms ï¼Œæœ€å°æ˜¯ 21 msï¼Œæœ€å¤§æ˜¯ 1198 ms ï¼Œååé‡æ˜¯ 503.3 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22933333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabyDPXv4Ut9ribMs8RHyvQSkUX0BWNqMPFKdSCuvyNngeBU8LyKSGLaiaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1125&quot;/&gt;&lt;figcaption&gt;ç¬¬äºŒæ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬ä¸‰æ¬¡ å¹³å‡å“åº” æ˜¯ 337 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 311 msï¼Œ99% æ˜¯ 791 ms ï¼Œæœ€å°æ˜¯ 11 msï¼Œæœ€å¤§æ˜¯ 847 ms ï¼Œååé‡æ˜¯ 557.4 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2209405501330967&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabC5Kibx53kVT0ZOMiazzIemYXbyDo2COcErGrvVcbdAkefiaewccK7qBAA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1127&quot;/&gt;&lt;figcaption&gt;ç¬¬ä¸‰æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬å››æ¬¡ å¹³å‡å“åº” æ˜¯ 97 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 85 msï¼Œ99% æ˜¯ 236 ms ï¼Œæœ€å°æ˜¯ 17 msï¼Œæœ€å¤§æ˜¯ 365 ms ï¼Œååé‡æ˜¯ 745.2 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.23733333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabcZjzEOicwOE42f0TW5yVd4Z2Luqpwpib0n2Z8VnQCXoC4IWePY7mtqVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1125&quot;/&gt;&lt;figcaption&gt;ç¬¬å››æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬äº”æ¬¡ å¹³å‡å“åº” æ˜¯ 124 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 109 msï¼Œ99% æ˜¯ 332 ms ï¼Œæœ€å°æ˜¯ 11 msï¼Œæœ€å¤§æ˜¯ 3033 ms ï¼Œååé‡æ˜¯ 248 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24264049955396966&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniabib312Tv3YDic592yNdFSted6PbNbDyhev1YUua6WxNB1NHyKibEIS6QyA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1121&quot;/&gt;&lt;figcaption&gt;ç¬¬äº”æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬å…­æ¬¡ å¹³å‡å“åº” æ˜¯ 84 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 83 msï¼Œ99% æ˜¯ 156 ms ï¼Œæœ€å°æ˜¯ 14 msï¼Œæœ€å¤§æ˜¯ 217 ms ï¼Œååé‡æ˜¯ 805 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24468085106382978&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniabiaf14n6zic8CtIkr54kmWrzcRqibZ20NN2W3g6shspO735RtrFGjhrBQg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1128&quot;/&gt;&lt;figcaption&gt;ç¬¬å…­æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬ä¸ƒæ¬¡ å¹³å‡å“åº” æ˜¯ 224 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 224 msï¼Œ99% æ˜¯ 486 ms ï¼Œæœ€å°æ˜¯ 18 msï¼Œæœ€å¤§æ˜¯ 565 ms ï¼Œååé‡æ˜¯ 657.5 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24822064056939502&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabglZu923B7T9Mr6iawbogY76nq78bB3lEIhEYcxbvrZABT7zvBpGVTyA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1124&quot;/&gt;&lt;figcaption&gt;ç¬¬ä¸ƒæ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬å…«æ¬¡ å¹³å‡å“åº” æ˜¯ 92 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 81 msï¼Œ99% æ˜¯ 326 ms ï¼Œæœ€å°æ˜¯ 9 msï¼Œæœ€å¤§æ˜¯ 3024 ms ï¼Œååé‡æ˜¯ 250.5 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24955595026642985&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabAWC4sEaqWVT8U2iadDadepbiaRliaDIxXU5S9W7nLEibjIibhQibsRz3CUSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1126&quot;/&gt;&lt;figcaption&gt;ç¬¬å…«æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬ä¹æ¬¡ å¹³å‡å“åº” æ˜¯ 80 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 72 msï¼Œ99% æ˜¯ 173 ms ï¼Œæœ€å°æ˜¯ 14 msï¼Œæœ€å¤§æ˜¯ 396 ms ï¼Œååé‡æ˜¯ 789.9 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24823321554770317&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabZtmqnRSBthJyhoJFnJibicjianljxQI5nzkU30vvqIGR9zyhzGHarxm8w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1132&quot;/&gt;&lt;figcaption&gt;ç¬¬ä¹æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬åæ¬¡ å¹³å‡å“åº” æ˜¯ 72 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 63 msï¼Œ99% æ˜¯ 138 ms ï¼Œæœ€å°æ˜¯ 12 msï¼Œæœ€å¤§æ˜¯ 347 ms ï¼Œååé‡æ˜¯ 792.4 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22638146167557932&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabIGWF20bjfQ07UlySib8LlrXSbmcgQE274CghXTzXksWBddabA3PF6sg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1122&quot;/&gt;&lt;figcaption&gt;ç¬¬åæ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å°ç»“&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€æ¬¡è¿™ä¹ˆè®¤çœŸçš„æµ‹è¯•ï¼Œä½†æ˜¯è¿™ç§æµ‹è¯•è¿˜ä¸ä¸¥è°¨ï¼Œçœ‹ç½‘ä¸Šè¯´è¦ å‘½ä»¤è¡Œçš„æ–¹å¼å»è¿è¡Œ jmeter æµ‹è¯•ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å·ä¸ªæ‡’ï¼Œè¿™æ ·å’Œä¸Šæ–‡æµ‹è¯•å‡ºæ¥çš„ç»“æœä¹Ÿå¥½æœ‰ä¸ªæ¯”è¾ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šæ–‡ &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=Mzg2MjUzODc5Mw==&amp;amp;mid=2247492265&amp;amp;idx=1&amp;amp;sn=c2e02a681c47d8241af79e87f51e41e3&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;ã€Šå†™ä¸ªç®€æ˜“ç‰ˆç§’æ€ç³»ç»Ÿç»ƒç»ƒæ‰‹ã€‹&lt;/a&gt; ä¸­ï¼Œæœ‰ä¸‹é¢è¿™ä»½æŠ¥å‘Š ğŸ‘‡&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5565912117177098&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniab0JZLUn4qhowqf0nGF4ibkt7Cgkiad2YdLcRicc96E7Ws3Ykp3o2NZjRog/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;751&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œä¸Šæ–‡çš„è¿™ä¸ªæŠ¥å‘Šæ˜¯ &lt;strong&gt;å–æœ€å¥½&lt;/strong&gt; çš„é‚£ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ &lt;strong&gt;é¢„çƒ­ JVM&lt;/strong&gt; åçš„ç»“æœã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ¬¡ï¼Œæµ‹è¯•äº† &lt;strong&gt;åæ¬¡&lt;/strong&gt; ï¼Œä¹Ÿæ˜¯ 500 å¹¶å‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ° &lt;strong&gt;ç¬¬ä¸€æ¬¡&lt;/strong&gt; è¯·æ±‚çš„æ•°æ®æ•ˆæœéå¸¸å·®ï¼99% çš„è¯·æ±‚è¦ 2552 msï¼Œè¿™å¯èƒ½å°±æ˜¯æ²¡ &lt;strong&gt;é¢„çƒ­JVM&lt;/strong&gt; çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬äºŒæ¬¡ï¼Œç¬¬ä¸‰æ¬¡ï¼Œæ•ˆæœä¹Ÿå¾ˆå·®ï¼Œä½†æ˜¯åˆ° &lt;strong&gt;ç¬¬å››æ¬¡&lt;/strong&gt; å¼€å§‹ï¼Œæ•ˆæœå°±å¥½èµ·æ¥äº† 99% çš„è¯·æ±‚åœ¨ 350 msä»¥ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€å¥½çš„ä¸€æ¬¡ï¼Œæ˜¯ç¬¬åæ¬¡ï¼Œ 99% çš„è¯·æ±‚åœ¨ &lt;strong&gt;138 ms&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹æ¯”ä¸Šæ–‡çš„ç»“æœï¼Œä» &lt;strong&gt;1342ms&lt;/strong&gt; æå‡åˆ° &lt;strong&gt;138ms&lt;/strong&gt; ï¼Œç¡¬ç”Ÿç”Ÿæå‡äº† &lt;strong&gt;10å€&lt;/strong&gt; çš„æ•ˆç‡ï¼Œè¿™è¦æ˜¯æ”¾åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œé‚£ä¸å¾—æŠŠç‰›å¹åäº†ğŸ˜‚&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;æ¬¡æ•°&lt;/th&gt;&lt;th&gt;å¹³å‡å“åº”&lt;/th&gt;&lt;th&gt;50%&lt;/th&gt;&lt;th&gt;99%&lt;/th&gt;&lt;th&gt;min&lt;/th&gt;&lt;th&gt;max&lt;/th&gt;&lt;th&gt;ååé‡&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;1711 ms&lt;/td&gt;&lt;td&gt;1808 ms&lt;/td&gt;&lt;td&gt;2552 ms&lt;/td&gt;&lt;td&gt;708 ms&lt;/td&gt;&lt;td&gt;2961 ms&lt;/td&gt;&lt;td&gt;224.1/s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;400 ms&lt;/td&gt;&lt;td&gt;394 ms&lt;/td&gt;&lt;td&gt;1002 ms&lt;/td&gt;&lt;td&gt;21 ms&lt;/td&gt;&lt;td&gt;1198 ms&lt;/td&gt;&lt;td&gt;503.3 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;337 ms&lt;/td&gt;&lt;td&gt;311 ms&lt;/td&gt;&lt;td&gt;791 ms&lt;/td&gt;&lt;td&gt;11 ms&lt;/td&gt;&lt;td&gt;847 ms&lt;/td&gt;&lt;td&gt;557.4 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;97 ms&lt;/td&gt;&lt;td&gt;85 ms&lt;/td&gt;&lt;td&gt;236 ms&lt;/td&gt;&lt;td&gt;17 ms&lt;/td&gt;&lt;td&gt;365 ms&lt;/td&gt;&lt;td&gt;745.2 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;124 ms&lt;/td&gt;&lt;td&gt;109 ms&lt;/td&gt;&lt;td&gt;332 ms&lt;/td&gt;&lt;td&gt;11 ms&lt;/td&gt;&lt;td&gt;3033 ms&lt;/td&gt;&lt;td&gt;248 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;84 ms&lt;/td&gt;&lt;td&gt;83 ms&lt;/td&gt;&lt;td&gt;156 ms&lt;/td&gt;&lt;td&gt;14 ms&lt;/td&gt;&lt;td&gt;217 ms&lt;/td&gt;&lt;td&gt;805 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;224 ms&lt;/td&gt;&lt;td&gt;224 ms&lt;/td&gt;&lt;td&gt;486 ms&lt;/td&gt;&lt;td&gt;18 ms&lt;/td&gt;&lt;td&gt;565 ms&lt;/td&gt;&lt;td&gt;657.5 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;92 ms&lt;/td&gt;&lt;td&gt;81 ms&lt;/td&gt;&lt;td&gt;326 ms&lt;/td&gt;&lt;td&gt;9 ms&lt;/td&gt;&lt;td&gt;3024 ms&lt;/td&gt;&lt;td&gt;250.5 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;80 ms&lt;/td&gt;&lt;td&gt;72 ms&lt;/td&gt;&lt;td&gt;173 ms&lt;/td&gt;&lt;td&gt;14 ms&lt;/td&gt;&lt;td&gt;396 ms&lt;/td&gt;&lt;td&gt;789.9 /s&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;72 ms&lt;/td&gt;&lt;td&gt;63 ms&lt;/td&gt;&lt;td&gt;138 ms&lt;/td&gt;&lt;td&gt;12 ms&lt;/td&gt;&lt;td&gt;347 ms&lt;/td&gt;&lt;td&gt;792.4 /s&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œä»è¡¨ä¸­è¿˜å¯ä»¥å‘ç°ï¼Œè¿™ &lt;strong&gt;ç½‘ç»œæŠ–åŠ¨&lt;/strong&gt; è¿˜æœ‰ç‚¹å¤§ï¼Œä¸çŸ¥é“æ€çš„ï¼Œè¿™ä¸ª max çªç„¶å°±å¡åˆ° 3024 ms å»ï¼Œä¸¥é‡é™ä½äº†è¿™ä¸ª &lt;strong&gt;ååé‡&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šæ–‡ä¹Ÿæåˆ°è¿‡ï¼Œæœ€å¤§çš„é—®é¢˜åº”è¯¥æ˜¯ &lt;strong&gt;ç½‘ç»œå¼€é”€&lt;/strong&gt;ï¼Œæ¯•ç«Ÿè¿˜æ˜¯ç”¨äº† &lt;strong&gt;MQ å¼‚æ­¥ä¸‹å•&lt;/strong&gt; ï¼Œ&lt;strong&gt;å†…å­˜æ ‡è®°&lt;/strong&gt;ï¼Œ&lt;strong&gt;Redis é¢„æ‰£åº“å­˜&lt;/strong&gt;Â ç­‰æ‰‹æ®µå»ä¼˜åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨éƒ½éƒ¨ç½²åˆ° k8s ä¸Šï¼ŒRabbitMQï¼ŒRedisï¼ŒMySQL éƒ½åœ¨ä¸Šé¢ï¼Œå°±ä¸ä¼šæœ‰è¿™ä¹ˆå¤§çš„ç½‘è·¯å¼€é”€äº†ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¥ä¸‹æ¥æ€ä¹ˆä¼˜åŒ–å‘¢ï¼Ÿ&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰åªæœ‰é›¶æ˜Ÿçš„æ€è·¯ï¼Œæ¯”å¦‚ååé‡çš„è¯ï¼Œæˆ‘å¯èƒ½ä¼šå°è¯•ä¸‹è¿™ä¸ª &lt;strong&gt;reactive&lt;/strong&gt; çš„æ–¹å¼ï¼Œæˆ–è€…å°† Springboot å†…åµŒçš„ &lt;strong&gt;Tomcat&lt;/strong&gt; æ¢æˆ &lt;strong&gt;jetty&lt;/strong&gt; ï¼Œ&lt;strong&gt;undertow&lt;/strong&gt; è¯•è¯•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç çš„è¯ï¼Œè¯•è¯•å°† lettuce ä¹Ÿæ›´æ¢æˆä¸»ä»æ¨¡å¼çš„çœ‹çœ‹ï¼Œå†çœ‹çœ‹ API æœ‰å“ªäº›å¯ä»¥ä¼˜åŒ–çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€ä¸»è¦çš„ï¼Œè¿˜æ˜¯è¿™ä¸ª &lt;strong&gt;JVM&lt;/strong&gt; ï¼Œä¸‹æ¬¡ç”¨ &lt;strong&gt;VisualVM&lt;/strong&gt; è¿ä¸Šå»çœ‹çœ‹ JVM åœ¨è¿™æœŸé—´çš„å˜åŒ–ï¼Œçœ‹çœ‹ CPUï¼Œå†…å­˜ï¼Œç­‰çš„å˜åŒ–ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabXyqGPvp4ROnQlwTtGKVqoZu5UOSnzlhWlu7ibvaY1VSDSyoRCvQ7yVQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;50&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é›†ç¾¤ï¼ˆ3ä¸ªï¼‰&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è™½ç„¶ä¸€ç›´åæ§½éƒ¨ç½²å˜å¾—éº»çƒ¦ï¼Œä½†æ˜¯è¿™ä¸ªç‚¹ä¸€ç‚¹å°±æ‰©å®¹ï¼Œä¸€ä¸‹å­å°±å˜æˆé›†ç¾¤çœŸçš„å¤ªèµäº†ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥æˆ‘åœ¨ä¸Šæ–‡æåˆ°ç›´æ¥ç”¨ &lt;strong&gt;åˆ†å¸ƒå¼é”&lt;/strong&gt; å°±å¥½äº†ï¼Œæ¯•ç«Ÿå¾ˆéš¾å¿ä½ä¸è¯•ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸‹å­å˜æˆå¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯å¥½åœ¨ç”¨äº†è¿™ä¸ªåˆ†å¸ƒå¼é”ï¼Œé¿å…äº† &lt;strong&gt;é‡å¤æ¶ˆè´¹è®¢å•&lt;/strong&gt; çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹Ÿå¾ˆç¬¦åˆæˆ‘ç†æƒ³ä¸­çš„ä»£ç ï¼Œä¸šåŠ¡ä»£ç å°±å½’ä¸šåŠ¡ä»£ç å¥½äº†ï¼Œå¾®æœåŠ¡é‚£ä¸€å¥—èƒ½åˆ†ç¦»çš„å°±å°½é‡åˆ†ç¦»å‡ºæ¥ï¼Œç°åœ¨é è¿™ä¸ª k8s å°±èƒ½å®ç° &lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt; äº†ï¼Œç¡®å®å¥½æ–¹ä¾¿ï¼Œå½“ç„¶ï¼Œä¸æ–¹ä¾¿çš„å°±è½åˆ° k8s è¿ç»´äººå‘˜èº«ä¸Šå»äº†ï¼Œæ¯”å¦‚è´Ÿè½½å‡è¡¡ç­–ç•¥çš„è°ƒæ•´å•¥çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3579595426561126&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabL9DQkA4yn0C5tKVsNT8Dg9GpHiaVtUyAdibE18g8sw5lRq6vdFq0J3xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1137&quot;/&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬ä¸€æ¬¡ å¹³å‡å“åº” æ˜¯ 1705 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 1795 msï¼Œ99% æ˜¯ 3838 ms ï¼Œæœ€å°æ˜¯ 16 msï¼Œæœ€å¤§æ˜¯ 4155ms ï¼Œååé‡æ˜¯ 157.1 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24312333629103816&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniabvp3ZeZWBC59biaU7vBzXH9n3lWlB52Ticl3YyiblIhSD7ZZ0a9eUtObqg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1127&quot;/&gt;&lt;figcaption&gt;ç¬¬ä¸€æ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç¬¬äºŒæ¬¡ å¹³å‡å“åº” æ˜¯ 587 ms ï¼Œ 50 % çš„è¯·æ±‚æ˜¯ 529 msï¼Œ99% æ˜¯ 2162 msï¼Œæœ€å°æ˜¯ 20 msï¼Œæœ€å¤§æ˜¯ 2265 ms ï¼Œååé‡æ˜¯ 388.7 /s ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24779541446208111&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabYeWwHcRBybehuZ00YRzHmu7kgv631uLFxKT9STpzSGXQibVPjbh9hAg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1134&quot;/&gt;&lt;figcaption&gt;ç¬¬äºŒæ¬¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æˆ‘å°±æœ‰ç‚¹çº³é—·äº†ï¼Œæ€ä¹ˆè¿˜è¿™ä¹ˆæ…¢çš„ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‰ç†è¯´ï¼Œæˆ‘è¿™é›†ç¾¤æ˜¯æ¥æé«˜ååé‡çš„å•Šï¼éš¾é“æ˜¯å› ä¸ºæˆ‘è¿™æ˜¯ å‡çš„é›†ç¾¤ï¼ˆéƒ½åœ¨ minikube èŠ‚ç‚¹ä¸Šï¼‰&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2520852641334569&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1Xniabo3MNZKibicVVcjwORbLJ72PuHunarEZDBuzLW4PouhLoicSvrlknRCCaA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1079&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“æœæŸ¥çœ‹å®¹å™¨æ—¥å¿—æ—¶ï¼Œå‘ç°å±…ç„¶æœ‰é”™ğŸ˜±&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1581532416502947&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabnSe0eNBFiauKAa5fImGHibRum6IiapMJzohXxj7RlZ3norgtMqhbiaxS8w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1018&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŠŠæ—¥å¿—ä¸‹è½½åˆ°æœ¬åœ°å‘ç°ï¼ŒåŸæ¥æ˜¯è¿™ä¸ª ID é‡å¤äº†â€¦â€¦&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰å·ä¸ªæ‡’ï¼Œç›´æ¥ç”¨ hutool å·¥å…·ç”Ÿæˆäº†ï¼Œç°åœ¨å˜æˆé›†ç¾¤ä¹Ÿä¸å¥½ä¿®æ”¹å‘€ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1505016722408027&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zIjiaGEEKdYEAA2CA2n6XDCAkpDl1XniabZqRKXD91tMMNia6LZgPBzPHnNd5K3e2hg2cRAuU6ZkpKKkj60C4giavQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;598&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å¥½å§ï¼Œå…ˆæš‚æ—¶ä½œç½¢ï¼Œçœ‹æ¥è¿˜å¾—æŠŠè¿™ä¸ª &lt;strong&gt;åˆ†å¸ƒå¼&lt;/strong&gt;ID ç”Ÿæˆå™¨æ­å»ºä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å’±ä»¬ä¸‹æ–‡è§ï¼Œä¸‹æ–‡å°±æ¥çœ‹çœ‹å•æœºä¸‹ JVM çš„å˜åŒ–å…ˆå§ï¼Œoverï¼&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4040e5b8d60e897dd40f269c1d54d60d</guid>
<title>ä¸€ç§åŸºäºå›¾ç‰‡æœç´¢è§†é¢‘çš„æ–¹æ¡ˆ</title>
<link>https://toutiao.io/k/d0jftv6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;preview&quot;&gt;&lt;p&gt;&lt;strong&gt;ä½œè€…ï¼šäº¬ä¸œé›¶å”® è°·ä¼Ÿ&lt;/strong&gt;&lt;/p&gt;

&lt;h1&gt;1.å•†å“æœç´¢&lt;/h1&gt;

&lt;p&gt;1.1ç½‘ç»œè´­ç‰©çš„æœç´¢æ‰‹æ®µ&lt;/p&gt;

&lt;p&gt;éšç€ç§»åŠ¨äº’è”ç½‘å‘å±•ï¼Œæ‰‹æœºç«¯è´­ç‰©å·²æˆä¸ºäººä»¬ç”Ÿæ´»çš„å¸¸æ€ã€‚äººä»¬åœ¨æœç´¢å•†å“æ—¶é‡‡ç”¨çš„æ‰‹æ®µä¹Ÿè¶Šæ¥è¶Šä¸°å¯Œï¼Œå½“å‰çš„ä¸»è¦æœç´¢æ–¹å¼æ˜¯æ–‡æœ¬æœç´¢ä¸æ‹ç…§æœç´¢ã€‚&lt;/p&gt;

&lt;p&gt;1.2æ–‡æœ¬æœç´¢&lt;/p&gt;

&lt;p&gt;æ–‡æœ¬æœç´¢åº”ç”¨æ¯”è¾ƒå¹¿æ³›ï¼Œè¾ƒä¸ºå¸¸ç”¨çš„æ˜¯å…³é”®å­—åŒ¹é…ï¼Œé’ˆå¯¹å•†å“ä¿¡æ¯çš„ç›¸å…³æè¿°è¿›è¡Œåˆ†è¯ï¼Œå¹¶å¯¹åˆ†è¯å»ºç«‹ç´¢å¼•åº“ï¼Œä»è€Œè¾¾åˆ°æŸ¥æ‰¾çš„ç›®çš„ã€‚éšç€äººå·¥æ™ºèƒ½çš„å‘å±•ï¼Œè¯­ä¹‰æœç´¢å¾—åˆ°äº†å¿«é€Ÿçš„å‘å±•ï¼Œå®ƒé€šè¿‡ç”¨æˆ·è¾“å…¥çš„æœç´¢å†…å®¹æ¥ç†è§£ç”¨æˆ·çœŸæ­£çš„æ„å›¾ï¼Œä»è€Œè·å¾—æ›´æœ‰ä»·å€¼çš„å†…å®¹ã€‚å…¶æœ¬è´¨æ˜¯å°†æ‰€æœ‰è¦æœç´¢çš„å†…å®¹è½¬åŒ–ä¸ºé«˜ç»´æ•°å­¦å‘é‡ï¼Œç”¨ç»Ÿä¸€çš„ç‰¹å¾å‘é‡æ¥æè¿°ä¸åŒå†…å®¹ï¼ŒæŠŠæ£€ç´¢è¾“å…¥çš„å†…å®¹å‘é‡åŒ–ï¼Œå¹¶ä¸è¦æœç´¢çš„å†…å®¹è¿›è¡Œå‘é‡åŒ¹é…ï¼ŒæŠŠç›¸ä¼¼åº¦æœ€é«˜çš„ç»“æœå±•ç°å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;1.3æ‹ç…§æœç´¢&lt;/p&gt;

&lt;p&gt;æ‹ç…§æœç´¢ä¹Ÿå°±æ˜¯ä»¥å›¾æœå›¾ï¼Œæ˜¯è¿‘å‡ å¹´çš„è§†è§‰AIå‘å±•çš„ä¸€ä¸ªäº§ç‰©ã€‚ç”¨æˆ·ç™»å½•ç”µå•†å¹³å°ï¼Œå¯ä»¥é€šè¿‡ä¸Šä¼ å›¾ç‰‡ï¼Œç»è¿‡å›¾åƒåˆ†æä¸è¯†åˆ«æ¥æŸ¥æ‰¾ç›¸ä¼¼çš„å•†å“ä¸»å›¾ï¼Œä»è€Œæ‰¾å‡ºç›¸å…³çš„å•†å“ã€‚å…¶åŸºæœ¬åŸç†æ˜¯ç»å›¾åƒåˆ†ææŠ½å–å›¾åƒçš„é¢œè‰²ã€å½¢çŠ¶ã€çº¹ç†ç­‰ç‰¹å¾ï¼Œå»ºç«‹ç‰¹å¾ç´¢å¼•åº“ï¼Œå¯¹ç”¨æˆ·ä¸Šä¼ çš„å›¾åƒè¿›è¡Œç‰¹å¾åŒ–æè¿°ï¼Œä»ç´¢å¼•åº“ä¸­æŸ¥æ‰¾å‡ºä¸ä¹‹è¿‘ä¼¼çš„ç‰¹å¾å›¾åƒã€‚&lt;/p&gt;

&lt;h1&gt;2. ç°çŠ¶åˆ†æ&lt;/h1&gt;

&lt;p&gt;2.1éœ€è¦ä¸“ä¸šäººå‘˜å‚ä¸&lt;/p&gt;

&lt;p&gt;æ–‡æœ¬æœç´¢éœ€è¦æ–‡æœ¬æè¿°çš„æ”¯æŒï¼Œä¹Ÿå°±æ˜¯éœ€è¦å¯¹çŸ­è§†é¢‘è¿›è¡Œæ–‡æœ¬æè¿°ï¼Œéœ€è¦äººå‘˜å¯¹çŸ­è§†é¢‘è¿›è¡Œå‡†ç¡®çš„æ–‡æœ¬æè¿°ï¼Œå°¤å…¶æè¿°ä¸­è¦å«æœ‰ä»£è¡¨å…¶å•†å“çš„å…³é”®è¯ï¼Œå¦åˆ™å¯èƒ½éš¾ä»¥è¢«æœç´¢å¼•æ“æ‰€å‘½ä¸­ï¼Œè¿™å¯¹è§†é¢‘çš„å‘å¸ƒäººå‘˜äº§ç”Ÿäº†ä¸€å®šçš„é—¨æ§›ï¼Œå¢åŠ æœç´¢å‘½ä¸­çš„éš¾åº¦ã€‚&lt;/p&gt;

&lt;p&gt;æ‹ç…§æœç´¢ä¸»è¦æ˜¯å¯¹å•†å“çš„ä¸»å›¾è¿›è¡Œç‰¹å¾åŒ¹é…ï¼Œè¿™ä¹Ÿå°±éœ€è¦å•†å“å‘å¸ƒäººå‘˜è¦åˆ¶ä½œå°½å¯èƒ½ä¸ä¹‹åŒ¹é…çš„å›¾ç‰‡ï¼Œå°¤å…¶éœ€è¦ç¾å·¥è®¾è®¡äººå‘˜çš„å‚ä¸ï¼Œä»è€Œå¢åŠ äº†äººåŠ›æˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;2.2éš¾ä»¥æ”¯æŒçŸ­è§†é¢‘æœç´¢&lt;/p&gt;

&lt;p&gt;éšç€è¿‘å‡ å¹´è‡ªåª’ä½“çš„å‘å±•ï¼ŒçŸ­è§†é¢‘é€æ¸æˆä¸ºäº’è”ç½‘ä¿¡æ¯ä¼ æ’­çš„ä¸»è¦æ‰‹æ®µã€‚è€ŒçŸ­è§†é¢‘å¯ä»¥è®¤ä¸ºæ˜¯å¤§é‡å›¾ç‰‡çš„é›†åˆï¼Œä¸å¯èƒ½å¯¹çŸ­è§†é¢‘çš„æ¯å¼ å›¾ç‰‡å»ºç«‹ç‰¹å¾ç´¢å¼•ï¼Œå› ä¸ºè¿™ä¼šæµªè´¹å¤§é‡çš„è®¡ç®—æœºç®—åŠ›ã€‚&lt;/p&gt;

&lt;h1&gt;3. æŠ€æœ¯æ–¹æ¡ˆ&lt;/h1&gt;

&lt;h2&gt;3.1 æŠ€æœ¯é—®é¢˜&lt;/h2&gt;

&lt;p&gt;ä»¥å‰å•†å“ä»‹ç»ä¸»è¦ä»¥å›¾æ–‡æ–¹å¼æ¥å±•ç°å•†å“ï¼Œä¸ä»…è¦å±•ç¤ºå•†å“ä¸»å›¾è¿˜è¦é…ç»†èŠ‚å›¾ï¼Œä»¥åŠäº§å“å‚æ•°ï¼Œä»è€Œè¾¾åˆ°å…¨é¢æ¶µç›–äº§å“ä¿¡æ¯çš„èƒ½åŠ›ã€‚è€ŒçŸ­è§†é¢‘èƒ½å¤Ÿå…¨æ–¹ä½çš„å±•ç¤ºå•†å“ï¼Œå¹¶æ­é…è¯­è¨€æè¿°ä»¥åŠèƒŒæ™¯éŸ³ä¹ï¼Œå¯è¿›ä¸€æ­¥å½¢è±¡çš„ç»™æ¶ˆè´¹è€…ä»‹ç»å•†å“çš„åŠŸèƒ½ï¼Œç»™é¡¾å®¢æ›´ç›´è§‚çš„ä½“éªŒï¼Œæœ‰åŠ©äºä¿ƒè¿›ä¸‹å•ã€‚åŒæ—¶å•†å®¶åˆ¶ä½œçš„çŸ­è§†é¢‘å¯å°†å…¶æ¨é€åˆ°è‡ªåª’ä½“å¹³å°ä¸Šï¼Œä¾¿äºç»™å•†å“å¼•æµï¼Œæé«˜å•†å“é”€é‡ï¼Œä»è€Œæ‹“å®½äº†é”€å”®å¸‚åœºã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤çŸ­è§†é¢‘è¥é”€ç›¸å¯¹äºå›¾æ–‡è¥é”€æ›´æœ‰ä¼˜åŠ¿ï¼Œå¦‚ä½•è®©é¡¾å®¢èƒ½å¤Ÿæ›´å¿«æ›´ä¾¿æ·åœ°æœç´¢åˆ°å…¶æ„Ÿå…´è¶£çš„å•†å“çŸ­è§†é¢‘ï¼Œæ˜¯æœ¬å‘æ˜æ‰€è¦è§£å†³çš„ä¸»è¦é—®é¢˜ã€‚æœ¬æ–¹æ¡ˆä¸»è¦è§£å†³çš„æ˜¯å•†å“çŸ­è§†é¢‘æœç´¢ï¼ŒæŒ‰ç…§ç±»ç›®ç»´åº¦å¯¹å•†å“çŸ­è§†é¢‘è¿›è¡Œç­›é€‰ï¼Œå¹¶æé«˜è§†é¢‘æœç´¢çš„å‘½ä¸­ç‡ï¼Œä¸ºå•†å“çŸ­è§†é¢‘æœç´¢å»ºç«‹æ¡¥æ¢ã€‚&lt;/p&gt;

&lt;h2&gt;3.2 æŠ€æœ¯æ–¹æ¡ˆ&lt;/h2&gt;

&lt;h3&gt;3.2.1 æµç¨‹å›¾&lt;/h3&gt;

&lt;p&gt;æµç¨‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d369840ad31d41888411365b90a55e17%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ï»¿ï»¿&lt;/p&gt;

&lt;h3&gt;3.2.2 è¯¦ç»†æè¿°&lt;/h3&gt;

&lt;p&gt;1.å…³é”®å¸§æå–&lt;/p&gt;

&lt;p&gt;å–å®¶åœ¨åˆ¶ä½œå¥½å•†å“ä»‹ç»çš„çŸ­è§†é¢‘åï¼Œåœ¨å‘å¸ƒå•†å“æ—¶å¯¹çŸ­è§†é¢‘è¿›è¡Œä¸Šä¼ ï¼Œè§†é¢‘æ—¶é•¿ä¸èƒ½è¶…è¿‡2åˆ†é’Ÿã€‚å¯¹è¯¥è§†é¢‘è¿›è¡Œå…³é”®å¸§æå–ã€‚è§†é¢‘æ˜¯ç”±ä¸€ç»„è¿ç»­çš„å›¾åƒç»„æˆï¼Œå¦‚æœæ¯å¼ å›¾ç‰‡éƒ½å­˜å‚¨ä¸‹æ¥ï¼Œåˆ™ä¼šå¯¼è‡´è§†é¢‘æ–‡ä»¶è¿‡å¤§ï¼Œå› æ­¤è§†é¢‘éƒ½ä¼šè¢«å‹ç¼©ï¼Œåœ¨å‹ç¼©è¿‡ç¨‹ä¸­ï¼Œäº§ç”Ÿäº†Iå¸§ã€På¸§ã€Bå¸§ã€‚Iå¸§æ˜¯ç”»é¢çš„å®Œæ•´ä¿å­˜ï¼Œå®ƒå°½å¯èƒ½å»é™¤äº†å›¾åƒç©ºé—´çš„å†—ä½™ä¿¡æ¯ï¼›På¸§åˆ™æ˜¯è®°å½•ä¸å‰ä¸€ä¸ªå…³é”®å¸§çš„å·®åˆ«ï¼›Bå¸§æ˜¯è®°å½•æœ¬å¸§ä¸ä¸Šä¸€å¸§å’Œä¸‹ä¸€å¸§çš„å·®åˆ«ã€‚&lt;/p&gt;

&lt;p&gt;å› æ­¤åªéœ€æå–å‡ºIå¸§å³å¯ã€‚åœ¨MPEG-4æ ‡å‡†ä¸­ï¼Œstsséƒ¨åˆ†æ ‡è¯†äº†å“ªäº›sampleæ˜¯å…³é”®å¸§ï¼Œå¦‚æœæ²¡æœ‰stssåˆ™å…¨éƒ¨sampleæ˜¯å…³é”®å¸§ã€‚å½“è·å–çš„å…³é”®å¸§å¤ªå¤šæ—¶ï¼Œä»¥æ—¶é—´è½´ç»´åº¦ï¼Œéšæœºé€‰å–20å¸§çš„å›¾åƒä¾›å•†å®¶é€‰æ‹©ï¼ŒæŠŠå•†å®¶é€‰å–çš„5å¼ å›¾ç‰‡ä¸è§†é¢‘æ–‡ä»¶ä¸€åŒä¿å­˜åˆ°æ–‡ä»¶æ•°æ®åº“ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;Mp4æ ‡å‡†&lt;/p&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Boxç±»å‹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;th/&gt;
&lt;th/&gt;
&lt;th/&gt;
&lt;th/&gt;
&lt;th/&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ftyp&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;æ–‡ä»¶ç±»å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;moov&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;è®°å½•åª’ä½“ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;mvhd&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;è§†é¢‘æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚æ—¶é•¿ã€åˆ›å»ºæ—¶é—´ç­‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;track&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;å­˜æ”¾è§†é¢‘çš„å®¹å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;tkhd&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;åª’ä½“æ€»ä½“ä¿¡æ¯ï¼Œå¦‚å®½é«˜ç­‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;mdia&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;åª’ä½“å®¹å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;mdhd&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;æ¢ç®—çœŸå®äº‹ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;hdlr&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;åª’ä½“ç±»å‹ï¼ŒæŒ‡æ˜æ˜¯videoã€audioã€hint&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;minf&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;åª’ä½“ä¿¡æ¯å®¹å™¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stbl&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;åç§»æ˜ å°„å…³ç³»è¡¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stsd&lt;/td&gt;
&lt;td&gt;sampleæè¿°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stts&lt;/td&gt;
&lt;td&gt;æ—¶æˆ³-sampleåºå·æ˜ å°„è¡¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stsc&lt;/td&gt;
&lt;td&gt;sampleä¸chunkçš„æ˜ å°„è¡¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stsz&lt;/td&gt;
&lt;td&gt;sampleçš„å¤§å°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stz2&lt;/td&gt;
&lt;td&gt;å¦ä¸€ç§å­˜å‚¨sampleçš„å¤§å°ï¼Œæ›´èŠ‚çœç©ºé—´&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stss&lt;/td&gt;
&lt;td&gt;å…³é”®å¸§åˆ—è¡¨ï¼ˆä»è¯¥å¤„è·å¾—Iå¸§ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;stco&lt;/td&gt;
&lt;td&gt;æ¯ä¸ªchunkçš„åç§»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;co64&lt;/td&gt;
&lt;td&gt;64ä½chunkçš„åç§»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mdat&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;ï»¿&lt;/td&gt;
&lt;td&gt;å…·ä½“çš„åª’ä½“æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;p&gt;2.ç‰¹å¾å‘é‡è®¡ç®—&lt;/p&gt;

&lt;p&gt;æœ¬æ¬¡çš„ç‰¹å¾å‘é‡è®¡ç®—é‡‡ç”¨çš„æ˜¯VGG16æ¨¡å‹ã€‚ç”±äºå…³é”®å¸§çš„å›¾ç‰‡éƒ½æ˜¯å½©è‰²å›¾ç‰‡ï¼Œå› æ­¤é‡‡ç”¨3é€šé“ã€‚å·ç§¯æ ¸ä¸º3Ã—3ï¼Œæ± åŒ–æ ¸ä¸º2Ã—2ã€‚ä»¥224Ã—224çš„è§†é¢‘å›¾åƒä¸ºä¾‹ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;1) è¾“å…¥å›¾åƒå¤§å°ä¸º224Ã—224Ã—3ï¼Œç»64ä¸ªé€šé“çš„å·ç§¯æ ¸3Ã—3ï¼Œæ­¥é•¿ä¸º1ï¼Œå…±å·ç§¯2æ¬¡ï¼Œè¾“å‡ºå°ºå¯¸ä¸º224Ã—224Ã—64çš„ç‰¹å¾å‘é‡ã€‚è¿›è¡Œæ± åŒ–ï¼Œé‡‡ç”¨æ± åŒ–æ ¸2Ã—2ï¼Œæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°ºå¯¸ä¸º112Ã—112Ã—64çš„ç‰¹å¾å‘é‡ã€‚&lt;/p&gt;

&lt;p&gt;2) ç»128ä¸ª3Ã—3çš„å·ç§¯æ ¸ï¼Œæ­¥é•¿ä¸º1ï¼Œå·ç§¯2æ¬¡ï¼Œå°ºå¯¸å˜ä¸º112Ã—112Ã—128ï¼Œè¿›è¡Œæ± åŒ–ï¼Œæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°ºå¯¸ä¸º56Ã—56Ã—128ã€‚&lt;/p&gt;

&lt;p&gt;3) ç»256ä¸ª3Ã—3çš„å·ç§¯æ ¸ï¼Œæ­¥é•¿ä¸º1ï¼Œå·ç§¯3æ¬¡ï¼Œå°ºå¯¸å˜ä¸º56Ã—56Ã—256ï¼Œè¿›è¡Œæ± åŒ–ï¼Œæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°ºå¯¸ä¸º28Ã—28Ã—256ã€‚&lt;/p&gt;

&lt;p&gt;4) ç»512ä¸ª3Ã—3çš„å·ç§¯æ ¸ï¼Œæ­¥é•¿ä¸º1ï¼Œå·ç§¯3æ¬¡ï¼Œå°ºå¯¸å˜ä¸º28Ã—28Ã—512ï¼Œè¿›è¡Œæ± åŒ–ï¼Œæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°ºå¯¸ä¸º14Ã—14Ã—256ã€‚&lt;/p&gt;

&lt;p&gt;5) ç»512ä¸ª3Ã—3çš„å·ç§¯æ ¸ï¼Œæ­¥é•¿ä¸º1ï¼Œå·ç§¯3æ¬¡ï¼Œå°ºå¯¸å˜ä¸º14Ã—14Ã—512ï¼Œè¿›è¡Œæ± åŒ–ï¼Œæ­¥é•¿ä¸º2ï¼Œè¾“å‡ºå°ºå¯¸ä¸º7Ã—7Ã—256ã€‚&lt;/p&gt;

&lt;p&gt;6) å°†æ•°æ®æ‹‰å¹³æˆä¸€ç»´æ•°ç»„ï¼Œ7Ã—7Ã—256=25088ã€‚&lt;/p&gt;

&lt;p&gt;7) ç»ä¸¤å±‚1Ã—1Ã—4096ä¸ä¸€å±‚1Ã—1Ã—1000çš„å…¨è¿æ¥å±‚ï¼Œæœ€ç»ˆè¾“å‡º1Ã—1000çš„ç‰¹å¾å‘é‡ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f888d0a15f3c4c80b8d23fafa1f89c7d%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ï»¿ï»¿&lt;/p&gt;

&lt;p&gt;3.å‘é‡æ•°æ®åº“&lt;/p&gt;

&lt;p&gt;å‘é‡åœ¨å­˜å‚¨æ—¶è¦æŠŠæ–‡ä»¶æ•°æ®åº“ä¸­çš„IDåŒæ—¶å­˜ä¸‹æ¥ï¼Œä»¥åŠå•†å“IDï¼Œä»è€Œå»ºç«‹å‘é‡ã€æ–‡ä»¶ã€å•†å“çš„å…³ç³»ã€‚å‘é‡æœç´¢éƒ½æ˜¯ç›¸ä¼¼æ€§æœç´¢ï¼Œé€šè¿‡ä¸¤ä¸ªå‘é‡åœ¨é«˜ä½ç©ºé—´çš„è·ç¦»æ¥åšåˆ¤æ–­ï¼Œå…¶å®å°±æ˜¯åœ¨é«˜ç»´ç©ºé—´ä¸­æ‰¾åˆ°ä¸ç›®æ ‡å‘é‡æœ€æ¥è¿‘çš„Kä¸ªå‘é‡ï¼Œä¸€èˆ¬é‡‡ç”¨æ¬§å¼è·ç¦»è®¡ç®—ï¼Œå…¶å…¬å¼ï¼š&lt;/p&gt;

&lt;p&gt;ï»¿&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9491d859e7b42d2ae8a02913d998084%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ï»¿ï»¿  &lt;/p&gt;

&lt;p&gt;ä¸ºäº†å¬å›ç²¾åº¦é«˜ï¼Œæš´åŠ›æœç´¢çš„æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†è¿™ä¼šäº§ç”Ÿå¤§é‡çš„ä¸å¿…è¦çš„è®¡ç®—ï¼Œæµªè´¹äº†è®¡ç®—æœºèµ„æºã€‚å› æ­¤æœ¬æ–¹æ¡ˆé‡‡ç”¨ç±»ç›®ç»´åº¦è¿›è¡Œåˆ‡å‰²ã€‚å‡å°‘æœç´¢èŒƒå›´ã€‚&lt;/p&gt;

&lt;p&gt;4.è§†é¢‘æœç´¢&lt;/p&gt;

&lt;p&gt;ä¹°å®¶éœ€è¦é€‰æ‹©è¦æœç´¢çš„ç±»ç›®å†è¿›è¡Œå›¾ç‰‡ä¸Šä¼ ï¼Œé€šè¿‡VGG16æ¨¡å‹è®¡ç®—å‡ºç‰¹å¾å‘é‡ï¼Œç„¶ååŸºäºç±»ç›®ç»´åº¦è¿›è¡Œæš´åŠ›æœç´¢æŠŠæœ€æ¥è¿‘çš„Kä¸ªå‘é‡ç­›é€‰å‡ºæ¥ã€‚æœ€åå†æ ¹æ®å‘é‡ä¸æ–‡ä»¶çš„å…³ç³»ï¼ŒæŠŠè§†é¢‘æ–‡ä»¶æŸ¥æ‰¾å‡ºæ¥ï¼Œè¿”å›ç»™ä¹°å®¶ã€‚&lt;/p&gt;

&lt;p&gt;5.è§†é¢‘æ·˜æ±°ç­–ç•¥&lt;/p&gt;

&lt;p&gt;æ¯æ—¥è¿›è¡Œå®šæ—¶å·¡æ£€ï¼Œå¯¹äºé•¿æ—¶é—´æ²¡æœ‰æµé‡æˆ–è€…æµé‡ä½äºé˜ˆå€¼çš„å•†å“ï¼Œéœ€è¦ä»å‘é‡åº“ä¸­å¯¹å…¶çŸ­è§†é¢‘è¿›è¡Œé€»è¾‘åˆ é™¤ï¼Œå°½å¯èƒ½å‡å°‘æœç´¢çš„ä½“ç§¯ï¼Œå‡å°‘è®¡ç®—èµ„æºçš„æµªè´¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/448d8089a0fa45ceac16369f01b44757%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>54fe7cf3541c7c085a09b5aeac5e723f</guid>
<title>ç”¨æˆ·è¡Œä¸ºåˆ†ææ¨¡å‹å®è·µï¼ˆä¸‰ï¼‰â€”â€”H5 é€šç”¨åˆ†ææ¨¡å‹</title>
<link>https://toutiao.io/k/hddfgjn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä½œè€…ï¼švivo äº’è”ç½‘å¤§æ•°æ®å›¢é˜Ÿ- Zhao Weiã€Tian Fengbiaoã€Li Xiong&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;æœ¬æ–‡ä»æå‡ç”¨æˆ·è¡Œä¸ºåˆ†ææ•ˆç‡è§’åº¦å‡ºå‘ï¼Œè¯¦ç»†ä»‹ç»äº†H5åŸ‹ç‚¹æ–¹æ¡ˆè§„åˆ’ï¼ŒåŸ‹ç‚¹æ•°æ®é‡‡é›†æµç¨‹ï¼Œæä¾›å¯å€Ÿé‰´çš„ç”¨æˆ·è¡Œä¸ºæ•°æ®é‡‡é›†æ–¹æ¡ˆï¼›ä¸”å®Œæ•´å‘ˆç°äº†é’ˆå¯¹é¡µé¢åˆ†æï¼Œç•™å­˜åˆ†æçš„æ•°ä»“æ¨¡å‹è§„åˆ’æ–¹æ¡ˆï¼Œåœ¨æ•°ä»“æ¨¡å‹è®¾è®¡è¿‡ç¨‹ä¸­é‡è§çš„ç—›ç‚¹éš¾ç‚¹é—®é¢˜ä¹Ÿç›¸åº”çš„ç»™å‡ºäº†è§£å†³æ€è·¯åŠæ¡ˆä¾‹ä»£ç ï¼›åœ¨æ•°æ®å±•ç¤ºæ¨¡å—ï¼Œæä¾›äº†åˆ†ææŒ‡æ ‡æ•°æ®å±•ç¤ºçš„é€»è¾‘æµç¨‹åŠUIæ¡ˆä¾‹ï¼Œæ—¨åœ¨å¸®åŠ©æœ‰éœ€è¦çš„åŒå­¦å…¨æ–¹ä½çš„äº†è§£ç”¨æˆ·è¡Œä¸ºæ•°æ®å…¨é“¾è·¯åˆ†ææµç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;ä¸€ã€èƒŒæ™¯&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;é’ˆå¯¹ç”¨æˆ·è¡Œä¸ºæ•°æ®è¿›è¡Œé‡‡é›†æœ‰ä¸ªä¸“ä¸šæœ¯è¯­å«åŸ‹ç‚¹ï¼Œåœ¨h5é¡µé¢ä¸Šåšçš„åŸ‹ç‚¹ç»Ÿç§°ä¸ºH5åŸ‹ç‚¹ã€‚H5é¡µé¢å› å…¶çµæ´»æ€§ï¼Œä¾¿æ·çš„äº¤äº’å’Œä¸°å¯Œçš„åŠŸèƒ½ï¼Œä»¥åŠåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ”¯æŒå¤šåª’ä½“ç­‰ç‰¹ç‚¹ç›®å‰è¢«å¹¿æ³›åº”ç”¨äºç½‘é¡µappå¼€å‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ç°é˜¶æ®µH5åŸ‹ç‚¹çš„è‡ªç”±åº¦è¾ƒé«˜ï¼Œè¡Œä¸šæ•°æ®äº§å“åœ¨åŒç±»é«˜é¢‘çš„ä¸šåŠ¡åœºæ™¯ä¸Šè®¾è®¡çš„æ—¶é—´èŠ±è´¹è¾ƒå¤šï¼ŒåŸ‹ç‚¹å¼€å‘ã€åŸ‹ç‚¹æµ‹è¯•ç­‰äº‹é¡¹è€—æ—¶ï¼Œä¸”éœ€é‡å¤åŠ³åŠ¨ï¼›åŒæ ·çš„åŸ‹ç‚¹æ•°æ®åˆ†æå±‚é¢-åŸºç¡€åˆ†ææŒ‡æ ‡ï¼Œç•™å­˜æŒ‡æ ‡ï¼Œé¡µé¢åˆ†æç­‰éœ€æ±‚éœ€å¤šæ¬¡å¼€å‘æ¨¡å‹ï¼Œæµªè´¹å®è´µçš„äººåŠ›èµ„æºã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;H5é€šç”¨åˆ†ææ¨¡å‹æ—¨åœ¨é€šè¿‡è§„èŒƒåŒ–åŸ‹ç‚¹è®¾è®¡æ–¹æ¡ˆï¼Œå¼€å‘è®¾è®¡ä¸€å¥—é€šç”¨åº¦é«˜ï¼Œæ‰©å±•æ–¹ä¾¿ï¼Œéœ€æ±‚å“åº”è¿…é€Ÿçš„æ¨¡å‹ï¼Œå‡å°‘è¡Œä¸šæ•°æ®äº§å“å’Œå¼€å‘åœ¨ç±»ä¼¼éœ€æ±‚ä¸Šçš„äººåŠ›æŠ•å…¥ï¼Œæå‡æ•°æ®åˆ†ææ•ˆç‡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;äºŒã€åˆ†ææ¨¡å‹æ¦‚è¿°&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;2.1 æœ¯è¯­è§£é‡Š&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.42039542143600417&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVwMmZcH25xoicjgUUunJcy3ovp2UYbaq1uwmXm1uVcEuWcMtktJcgPxQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;961&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;2.2 æ¨¡å‹æ¦‚è¿°&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;é’ˆå¯¹ä¸šåŠ¡å‘å±•çš„ä¸åŒé˜¶æ®µï¼Œä¼šæœ‰ç›¸åº”çš„æ•°æ®åˆ†æéœ€æ±‚ã€‚å¦‚å›¾ï¼ˆ1ï¼‰ï¼Œåœ¨ä¸šåŠ¡åˆæœŸï¼Œç”¨æˆ·çš„è®¿é—®ï¼Œç•™å­˜æƒ…å†µç­‰æ˜¯é˜¶æ®µæ€§åˆ†æé‡ç‚¹ï¼Œä¸šåŠ¡äº§å“è¿è¥å¯ä»¥æ ¹æ®åˆ†ææ•°æ®é€‚æ—¶çš„è°ƒæ•´é¡µé¢å¸ƒå±€ï¼Œè¿è¥ç­–ç•¥ç­‰ï¼›åº”ç”¨å‘å±•ä¸­åæœŸå¯èƒ½ä¼šæ›´å¤šçš„å…³æ³¨è®¢å•ã€è½¬åŒ–ã€è·¯å¾„ç­‰ç›¸å…³åˆ†ææŒ‡æ ‡ã€‚å¦‚æœèƒ½åœ¨åº”ç”¨ä¸Šçº¿ä¹‹åˆï¼Œå¿«é€Ÿçš„æ‹¿åˆ°æ ¸å¿ƒåˆ†ææŒ‡æ ‡æ•°æ®ï¼Œå¯¹äº§å“çš„æ¨å¹¿ï¼Œè¿­ä»£æ— ç–‘æ˜¯æ”¶ç›Šè‰¯å¤šã€‚æ‰€ä»¥ï¼Œæœ¬æ¬¡æ¨¡å‹æ„å»ºä»åº”ç”¨åˆæœŸåˆ†ææœ€å¹¿æ³›çš„æ ¸å¿ƒæŒ‡æ ‡å‡ºå‘ï¼Œè½åœ°åº”ç”¨æ¦‚å†µã€é¡µé¢è®¿é—®ã€ç”¨æˆ·ç•™å­˜ç­‰ç»´åº¦å…¨æ–¹ä½æ ¸å¿ƒåˆ†ææŒ‡æ ‡ä½“ç³»ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.46796875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVu3mAIeAB5yI2ibbZ5cpBAIX6rctic8uSfIspZb1spyneoSZna4oz57xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ1ï¼‰åº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…æŒ‡æ ‡åˆ†ææƒ…å†µ&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;2.2.1 åˆ†ææ¨¡å‹ä¸»é¢˜&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æœ¬æ¬¡é€šç”¨åˆ†ææ¨¡å‹å›´ç»•ä»¥ä¸‹åˆ†æä¸»é¢˜æ„å»ºã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;ã€åŸºç¡€åˆ†æã€‘ï¼š&lt;/strong&gt;ä»ç”¨æˆ·æµè§ˆæ¬¡æ•°ï¼Œäººå‡è®¿é—®é¡µé¢æ•°ï¼Œäººå‡ä½¿ç”¨æ—¶é•¿ï¼Œæ–°è€ç”¨æˆ·ç­‰åŸºç¡€æŒ‡æ ‡å±•ç¤ºç”¨æˆ·è®¿é—®å¤§ç›˜æ•°æ®ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;ã€é¡µé¢åˆ†æã€‘ï¼š&lt;/strong&gt;é¢å‘å…·ä½“é¡µé¢ï¼Œåˆ†æç”¨æˆ·è®¿é—®pv,uv,è®¿é—®æ—¶é•¿ç­‰æ ¸å¿ƒæŒ‡æ ‡ï¼Œæœ‰é’ˆå¯¹æ€§çš„å‘ç°é¡µé¢è®¿é‡è–„å¼±ç¯èŠ‚ï¼Œä¸ºåˆç†åŒ–é¡µé¢ç®¡ç†æä¾›æ•°æ®æ”¯æ’‘ï¼ŒååŠ©äº§å“ç»ç†é€šè¿‡ä¿¡æ¯é‡ç»„ï¼Œæå‡é¡µé¢è®¿é—®é‡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;ã€ç•™å­˜åˆ†æã€‘ï¼š&lt;/strong&gt;é€šè¿‡ç”¨æˆ·çš„ç•™å­˜ï¼Œäº†è§£ç›®å‰çš„äº§å“ç°çŠ¶ï¼ˆç”¨æˆ·çš„å“ªäº›è¡Œä¸ºå¯¼è‡´ç•™å­˜ç‡çš„ä¸åŒï¼‰;Â åˆ¤æ–­äº§å“çš„æ”¹è¿›æœ‰æ— æ•ˆæœï¼ˆç”¨æˆ·è¡Œä¸ºæ˜¯å¦å‘ç”Ÿäº†æ”¹å˜å¯¼è‡´ç•™å­˜ç‡çš„æå‡ï¼‰ï¼›ç•™å­˜åˆ†æåæ˜ äº†ç”¨æˆ·ç”±åˆæœŸçš„ä¸ç¨³å®šç”¨æˆ·è½¬åŒ–ä¸ºæ´»è·ƒç”¨æˆ·ï¼Œç¨³å®šç”¨æˆ·ï¼Œå¿ è¯šç”¨æˆ·çš„è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;2.2.2 åˆ†ææŒ‡æ ‡å®šä¹‰&lt;/strong&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ï¼ˆä»¥ä¸‹ç¤ºä¾‹ä¸­æ•°æ®å‡ä¸ºå‚è€ƒæ•°æ®ï¼ŒéçœŸå®æ•°æ®ï¼‰&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;1ã€åŸºç¡€åˆ†æï¼š&lt;/strong&gt;è®¿é—®pvï¼Œuvç­‰æŒ‡æ ‡ï¼ˆå…¨ç»´åº¦ï¼‰&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.12256267409470752&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URV65Zguiauu2Kq4PPPbaBmqeH5ZnwcuSbicz4Mw5lE28E6Ur5TGqSuibiaSw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;718&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;2ã€é¡µé¢åˆ†æï¼š&lt;/strong&gt;é¡µé¢è®¿é—®ç›¸å…³pvï¼Œuvï¼Œæ—¶é•¿ç­‰æŒ‡æ ‡&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.11724137931034483&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVhotbnwZ5HVhwJz4uapt0zH4tojSJmyENumL5zDRfTMZG1ReoKhCNUw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;725&quot;/&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ³¨ï¼šç”¨æˆ·å¯¹è®¿é—®é¡µé¢è¿›è¡Œå‘½åï¼Œåˆ†æå¹³å°æä¾›é…ç½®å…¥å£ï¼Œæ–¹ä¾¿ç”¨æˆ·å¯¹é¡µé¢è¿›è¡Œå‘½åã€‚&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3ã€ç•™å­˜åˆ†æï¼š&lt;/strong&gt;æ–°ç”¨æˆ·ç•™å­˜ï¼Œæ´»è·ƒç”¨æˆ·ç•™å­˜Â  åŒ…æ‹¬ï¼šNæ—¥å†…ç•™å­˜ å’Œ ç¬¬Næ—¥ç•™å­˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;é€šå¸¸æ„ä¹‰ä¸Šçš„ç•™å­˜åˆ†ææŒ‡çš„æ˜¯ï¼šç”¨æˆ·åœ¨APPäº§ç”Ÿè¡Œä¸ºåï¼Œåœ¨å›ºå®šçš„ç¬¬Næ—¥ç»§ç»­è®¿é—®æˆ–ä½¿ç”¨APPçš„ç”¨æˆ·ï¼›åŒ…æ‹¬æ´»è·ƒç”¨æˆ·ç•™å­˜å’Œæ–°ç”¨æˆ·ç•™å­˜&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;ä¸ºæ»¡è¶³ä¸åŒä¸šåŠ¡çš„åˆ†æéœ€æ±‚ã€‚æ­¤æ¬¡ç•™å­˜æ¨¡å‹åŒ…å« næ—¥å†…ç•™å­˜åˆ†æï¼Œå³ç”¨æˆ·åœ¨APPäº§ç”Ÿè¡Œä¸ºåï¼Œåœ¨å›ºå®šçš„ç¬¬Næ—¥å†…ç»§ç»­è®¿é—®æˆ–ä½¿ç”¨APPçš„ç”¨æˆ·ï¼ˆæ—¥æœŸèŒƒå›´ç•™å­˜ï¼‰ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.21337266470009833&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVVOk3ds42YXtXfOicKaBHrvsgF2724BjlkczNaLBnpY15Xg0nyNnQaiaQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1017&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;ä¸‰ã€åŸ‹ç‚¹æ–¹æ¡ˆ&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.1 ä¸šåŠ¡ç›®æ ‡&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.2 è‡ªåŠ¨é‡‡é›†&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;3.2.1 ä»€ä¹ˆæ˜¯è‡ªåŠ¨é‡‡é›†&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;è‡ªåŠ¨é‡‡é›†æ˜¯ç›¸å¯¹äºå‰ç«¯å¼€å‘è€…è€Œè¨€ï¼Œç›®çš„æ˜¯ä¸ºäº†å¸®åŠ©å‰ç«¯å¼€å‘è€…æå‡æ•°æ®é‡‡é›†æ•ˆç‡ã€‚é€šè¿‡è‡ªåŠ¨é‡‡é›†å¼€å…³é…ç½®ï¼Œæ— éœ€åœ¨æ‰‹åŠ¨å®ç°ä¸ŠæŠ¥é€»è¾‘ã€‚ä½¿ç”¨æ—¶å‰ç«¯å¼€å‘è€…é€šè¿‡å¼•å…¥h5sdk.js(ä¹Ÿç§°jssdk.js)ï¼Œæ‰“å¼€è‡ªåŠ¨é‡‡é›†å¼€å…³ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨é€‚å½“çš„æ—¶æœºï¼Œä»¥é€‚å½“çš„è§„åˆ™é‡‡é›†æ•°æ®ï¼Œå¹¶è¿›è¡Œä¸ŠæŠ¥ã€‚å¼€å‘è€…æ— éœ€åœ¨å…³æ³¨é‡‡é›†ä»£ç å†…éƒ¨é€»è¾‘ï¼Œä»¥æ­¤æ¥å‡è½»åŒç±»æ•°æ®é‡‡é›†çš„å¼€å‘å·¥ä½œé‡ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;3.2.2 å¦‚ä½•è‡ªåŠ¨é‡‡é›†&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æŒ‰ç…§ç»™å®šçš„è§„åˆ™è¿›è¡Œé¡µé¢äº‹ä»¶EventListenerï¼Œå½“ç”¨æˆ·æ´»åŠ¨è§¦å‘å¯¹åº”çš„äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ä¼šç»„è£…å¥½æ•°æ®ï¼Œç„¶åå°†ç»„è£…å¥½çš„æ•°æ®é€šè¿‡httpsä¼ å…¥åˆ°åå°ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;3.2.3 è‡ªåŠ¨é‡‡é›†çš„ä¸‰å¤§è§„åˆ™åœºæ™¯&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æˆ‘ä»¬çš„ç½‘ç«™æ˜¯ä¸€ä¸ªSPAåº”ç”¨ã€‚SPAåº”ç”¨é€šè¿‡æ”¹å˜å‰ç«¯è·¯ç”±çš„å˜åŒ–ï¼Œå®ç°é¡µé¢å†…ç»„ä»¶çš„åˆ‡æ¢ã€‚ç»„ä»¶çš„åˆ‡æ¢ï¼Œå¯¹äºä¸€ä¸ªéå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œå¯ä»¥æ³›æŒ‡é¡µé¢çš„åˆ‡æ¢ã€‚æ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€åœºæ™¯æ˜¯è¦è¦†ç›–urlå˜åŒ–çš„è¿™ç±»äº‹ä»¶ã€‚åœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå½“æˆ‘ä»¬éœ€è¦é‡‡é›†é¡µé¢çš„ç”¨æˆ·åœç•™æ—¶é•¿æ—¶ï¼Œå¾€å¾€ä¼šä¸å‡†ç¡®ã€‚ä¸ºä»€ä¹ˆä¸å‡†ç¡®ï¼Ÿç”¨æˆ·å¯ä»¥ç¼©å°åŒ–æµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥åˆ‡æ¢tabåˆ°å…¶ä»–ç½‘ç«™ï¼Œè¿™ä¸ªæ—¶å€™è®¡ç®—çš„ç”¨æˆ·æ—¶é•¿æ˜¯ä¸å‡†ç¡®çš„ã€‚å› ä¸ºç”¨æˆ·è™½ç„¶æ‰“å¼€äº†æˆ‘ä»¬ç½‘é¡µï¼Œä½†æ˜¯å¹¶æ²¡æœ‰èšç„¦åˆ°æˆ‘ä»¬çš„ç½‘é¡µã€‚è¿™ç§ä¸åº”è¯¥ç®—ä½œç”¨æˆ·åœç•™æ—¶é•¿ï¼Œå› æ­¤å¯¹äºè¿™äº›è¡Œä¸ºï¼Œæˆ‘ä»¬åˆåŠ ä¸Šäº†å¤±å»ç„¦ç‚¹ï¼Œå¾—åˆ°ç„¦ç‚¹ï¼Œä»¥åŠåˆ‡æ¢æµè§ˆå™¨tabäº‹ä»¶çš„EventListenerï¼Œè¿™ä¸¤ç§åœºæ™¯ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ç»¼ä¸Šä¸‰å¤§åœºæ™¯æ€»ç»“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;ol class=&quot;list-paddingleft-1&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;li&gt;&lt;p&gt;é¡µé¢åˆ‡æ¢æ—¶ï¼Œè¿›è¡Œé‡‡é›†ï¼Œå³urlå˜åŒ–æ—¶è§¦å‘çš„äº‹ä»¶ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é¡µé¢å¤±å»ç„¦ç‚¹ï¼Œå¾—åˆ°ç„¦ç‚¹æ—¶ï¼Œè¿›è¡Œé‡‡é›†ã€‚å³focusï¼Œbluräº‹ä»¶ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é¡µé¢é€šè¿‡æµè§ˆå™¨tabåˆ‡æ¢ç¦»å¼€ï¼Œåˆ‡æ¢å›æ¥æ—¶ï¼Œè¿›è¡Œé‡‡é›†ï¼Œå³visibilitychangeäº‹ä»¶ï¼›&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.2.3.1 ä¸‰å¤§è§„åˆ™åœºæ™¯çš„ç•Œå®š&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;ä¸Šæ–‡æˆ‘ä»¬å·²ç»åœ¨å®è·µä¸­æ€»ç»“å‡ºäº†è‡ªåŠ¨é‡‡é›†çš„ä¸‰å¤§åœºæ™¯ï¼Œåœ¨å®é™…åº”ç”¨é’ˆå¯¹ä¸‰å¤§åœºæ™¯çš„ä½¿ç”¨æˆ‘ä»¬ä¹Ÿæ€»ç»“å‡ºäº†ä¸€å¥—ç•Œå®šæ–¹æ¡ˆã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;ï¼ˆ1ï¼‰è§„åˆ™ä¸€ç•Œå®šâ€”â€”æ€ä¹ˆåˆ¤æ–­é¡µé¢åˆ‡æ¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;aã€ç°åœ¨çš„ç½‘ç«™è¦ä¹ˆæ˜¯MPAï¼Œè¦ä¹ˆæ˜¯SPAæ¨¡å¼ï¼Œæˆ–è€…ä¸¤ç§æ¨¡å¼æ··åˆï¼ŒMPAä¸»è¦æ˜¯åå°è·¯ç”±ï¼ŒSPAä¸»è¦æ˜¯å‰ç«¯è·¯ç”±ï¼ˆhashæ¨¡å¼å’Œhistoryæ¨¡å¼ï¼‰ã€‚ä½†æ— è®ºæ˜¯SPAè¿˜æ˜¯MPAï¼Œå½“é¡µé¢éœ€è¦åˆ‡æ¢æ—¶ï¼Œurlä¸€å®šä¼šå˜åŒ–ï¼ŒåŸºäºæ­¤ç‚¹ï¼Œæˆ‘ä»¬åˆ¤æ–­å½“urlå˜åŒ–æ—¶ï¼Œç”¨æˆ·ä¸€å®šåˆ‡æ¢äº†é¡µé¢ã€‚æ­¤æ—¶è§¦å‘è§„åˆ™ä¸€çš„äº‹ä»¶ï¼Œäº§ç”Ÿæ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„2ä¸ªé—®é¢˜ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç¬¬1ä¸ªé—®é¢˜ï¼š&lt;/strong&gt;urlå˜åŒ– = window.location.origin + window.location.pathname + window.location.hash è¿™ä¸‰éƒ¨åˆ†çš„ä»»ä¸€éƒ¨åˆ†å˜åŒ–ï¼Œå³ä¸ºurlå˜åŒ–ï¼Œå¹¶ä¸åŒ…æ‹¬window.location.searchè¿™éƒ¨åˆ†çš„å˜åŒ–ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç¬¬2ä¸ªé—®é¢˜ï¼š&lt;/strong&gt;åœ¨SPAä¸­ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢å†…æœ‰å¤šä¸ªtabï¼Œå½“åˆ‡æ¢tabæ—¶ï¼Œå¼€å‘è€…ä¹Ÿæ”¹å˜ä»–çš„urlçš„window.location.pathnameï¼Œæ­¤æ—¶ä¹Ÿä¼šè®¤ä¸ºæ˜¯é¡µé¢åˆ‡æ¢ï¼Œä¹Ÿä¼šäº§ç”Ÿä¸ŠæŠ¥æ•°æ®ï¼Œå¦‚ä¸‹è¿™ç§æƒ…å†µã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.475609756097561&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URViaBCtHnp8CDScR9p15Zxa4MF9Vq1yibibd2ibr69F4Aa2nKJWwdTlT1Bibg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;492&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ2ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;bã€å®Œæ•´é¡µé¢åˆ‡æ¢ä¸ŠæŠ¥æµç¨‹ï¼Œç”±é¡µé¢Aåˆ‡æ¢åˆ°é¡µé¢Bæ—¶ï¼Œä¸€å…±ä¸ŠæŠ¥4ä¸ªåŸ‹ç‚¹ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6754385964912281&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVSicbnyH4ALibX67Sf5LiaRibdEk6Nrz0sAM2Jp1frMScp4AfUCB4layLhA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;798&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ3ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;cã€å…³äºè·¯ç”±çš„EventListener&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç°åœ¨çš„å¤§å¤šç½‘ç«™ï¼Œå¤§å¤šæ˜¯SPAåº”ç”¨ï¼ŒSPAçš„å‰ç«¯è·¯ç”±æœ‰hashæ¨¡å¼å’Œhistoryæ¨¡å¼è¿™ä¸¤ç§æ¨¡å¼ï¼Œå½“é€šè¿‡å‰ç«¯è·¯ç”±æ¥é¡µé¢åˆ‡æ¢æ—¶ï¼Œè‚¯å®šä¼šè§¦å‘hashæ¨¡å¼æˆ–historyç›¸å…³çš„apiã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ‰€æœ‰è§¦å‘äº‹ä»¶çš„åœºæ™¯ç»™å…¨éƒ¨è¿›è¡ŒEventListenerå³å¯ã€‚æœ‰å¦‚ä¸‹2ç§è·¯ç”±çš„EventListenerï¼šwindow.hashchangeäº‹ä»¶â€”â€”è§¦å‘hashæ¨¡å¼æ—¶ã€window.popstateäº‹ä»¶ã€pushstate,replacestateè‡ªå®šä¹‰äº‹ä»¶â€”â€”è§¦å‘historyæ¨¡å¼æ—¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿™é‡Œæœ‰2ä¸ªé—®é¢˜éœ€è¦å…³æ³¨ï¼šä¸€æ˜¯å½“æŸä¸ªSPAåº”ç”¨çš„è·¯ç”±äº‹ä»¶ï¼Œè§¦å‘äº†historyæ¨¡å¼æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç§»é™¤hashæ¨¡å¼çš„EventListenerã€‚äºŒæ˜¯pushstate,replacestateè‡ªå®šä¹‰äº‹ä»¶ï¼Œå› ä¸ºBOMå¹¶æ²¡æœ‰æä¾›ç›¸å…³çš„apiæ”¯æŒEventListenerï¼Œéœ€è¦è‡ªè¡Œå°è£…ä½¿ç”¨ï¼Œå¦‚ä¸‹codeã€‚&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å¼•å…¥JSSDK&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;resetHistoryFun&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;let&lt;/span&gt; originMethod = &lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.history[&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt;]&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;let&lt;/span&gt; rs = originMethod.apply(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-snippet__built_in&quot;&gt;arguments&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;let&lt;/span&gt; e = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Event(&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt;.toLocaleLowerCase())&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        e.arguments = &lt;span class=&quot;code-snippet__built_in&quot;&gt;arguments&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.dispatchEvent(e)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; rs;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.history.pushState = resetHistoryFun(&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;pushState&#x27;&lt;/span&gt;) &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.history.replaceState = resetHistoryFun(&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replaceState&#x27;&lt;/span&gt;) &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;pushstate&#x27;&lt;/span&gt;, reportBothEvent)          &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;window&lt;/span&gt;.addEventListener(&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replacestate&#x27;&lt;/span&gt;, reportBothEvent)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;ï¼ˆ2ï¼‰è§„åˆ™äºŒç•Œå®šâ€”â€”æ€ä¹ˆåˆ¤æ–­é¡µé¢å¤±å»ç„¦ç‚¹ï¼Œå¾—åˆ°ç„¦ç‚¹ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;å¤±å»ç„¦ç‚¹ï¼Œå¾—åˆ°ç„¦ç‚¹ã€‚æˆ‘ä»¬ä¸»è¦è¿›è¡Œå¦‚ä¸‹è¿™ä¸¤ä¸ªäº‹ä»¶çš„EventListenerï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å¼•å…¥JSSDK&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;window.addEventListener(&#x27;focus&#x27;, ()=&amp;gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    console.log(&#x27;é¡µé¢å¾—åˆ°ç„¦ç‚¹&#x27;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;window.addEventListener(&#x27;blur&#x27;, ()=&amp;gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    console.log(&#x27;é¡µé¢å¤±å»ç„¦ç‚¹&#x27;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;ï¼ˆ3ï¼‰è§„åˆ™ä¸‰ç•Œå®šâ€”â€”æ€ä¹ˆåˆ¤æ–­æµè§ˆå™¨tabåˆ‡æ¢ç¦»å¼€ï¼Œåˆ‡æ¢å›æ¥ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;tabåˆ‡æ¢ç¦»å¼€ï¼Œåˆ‡æ¢å›æ¥ã€‚æˆ‘ä»¬ä¸»è¦è¿›è¡Œå¦‚ä¸‹è¿™ä¸€ä¸ªäº‹ä»¶çš„EventListenerï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å¼•å…¥JSSDK&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;document.addEventListener(&#x27;visibilitychange&#x27;,  () =&amp;gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    if(document.hidden) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        console.log(&#x27;é¡µé¢ç¦»å¼€&#x27;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } else {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        console.log(&#x27;é¡µé¢è¿›å…¥&#x27;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt;å¦‚æœä¸€ä¸ªè¡Œä¸ºåŒæ—¶æ»¡è¶³2ä¸ªåŠ2ä¸ªä»¥ä¸Šçš„è§„åˆ™æ—¶ï¼Œåªä¼šå–ä¸€ä¸ªè§„åˆ™ä¸ŠæŠ¥æ•°æ®ã€‚é¿å…ä¸é‡å¤ä¸ŠæŠ¥æ•°æ®ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.3 åŸ‹ç‚¹è®¾è®¡&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;3.3.1 åŸ‹ç‚¹ä¸ªæ•°&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸ºäº†å¾—åˆ°pvå’Œuvçš„ç›¸å…³æ•°æ®ï¼Œæˆ‘ä»¬è®¾è®¡äº†&lt;strong&gt;2ä¸ª&lt;/strong&gt;åŸ‹ç‚¹ï¼Œ1ä¸ªä¸º&lt;strong&gt;é¡µé¢è¿›å…¥&lt;/strong&gt;æ—¶ä¸ŠæŠ¥çš„åŸ‹ç‚¹ï¼Œå¦å¤–1ä¸ªä¸º&lt;strong&gt;é¡µé¢ç¦»å¼€&lt;/strong&gt;æ—¶çš„åŸ‹ç‚¹ï¼Œä¸ŠæŠ¥çš„æ•°æ®éƒ½æ˜¯ä¸€å¯¹çš„ï¼Œ&lt;strong&gt;ç¦»å¼€-è¿›å…¥é¡µ&lt;/strong&gt;é¢ä¸ºä¸€å¯¹ï¼Œ&lt;strong&gt;å¤±å»ç„¦ç‚¹-å¾—åˆ°ç„¦ç‚¹&lt;/strong&gt;ä¸ºä¸€å¯¹ï¼Œåˆ‡æ¢tabç¦»å¼€å½“å‰é¡µé¢-è¿”å›å½“å‰é¡µé¢ä¹Ÿä¸ºä¸€å¯¹ï¼›&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¦è®¾è®¡2ä¸ªåŸ‹ç‚¹ï¼Ÿè®¾è®¡2ä¸ªåŸ‹ç‚¹ï¼Œèƒ½è¦†ç›–å…¨é¢ä¸Šè¿°æˆ‘ä»¬æ‰€è¯´çš„3ç§è§„åˆ™åœºæ™¯ï¼›å…¶æ¬¡ï¼Œæ–¹é¢è®¡ç®—é¡µé¢åœç•™æ—¶é•¿ï¼›æœ€åå°±æ˜¯æ–¹ä¾¿é€»è¾‘åˆ¤æ–­ï¼Œé¿å…é‡å¤ä¸ŠæŠ¥ï¼›&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;strong&gt;3.3.2 å‚æ•°çš„è®¾è®¡&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æŒ‰ç…§ä¸åŒçš„éœ€æ±‚ï¼Œå‚æ•°çš„è®¾è®¡åˆ†ä¸ºå¦‚ä¸‹4ç±»ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;pvï¼Œuvéœ€è¦å‚æ•°ï¼Œå¼€å‘è€…ä¼ å…¥å‚æ•°ï¼š&lt;/strong&gt;unique_idâ€”â€”æ ‡è¯†ç”¨æˆ·å”¯ä¸€æ ‡è¯†ã€topic_idâ€”â€”å½“å‰ç½‘ç«™å”¯ä¸€æ ‡è¯†ã€current_envâ€”â€”å½“å‰ç½‘ç«™ç¯å¢ƒï¼Œé»˜è®¤ä¸ºprodï¼Œå¯ç”¨æˆ·ä¼ å…¥ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;pvï¼Œuvéœ€è¦å‚æ•°ï¼Œsdkå†…éƒ¨è·å–å‚æ•°&lt;/strong&gt;ï¼šdurationâ€”â€”é¡µé¢åœç•™æ—¶é•¿ã€last_page_urlâ€”â€”ä¸Šä¸ªé¡µé¢urlã€page_urlâ€”â€”å½“å‰é¡µé¢urlï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;SDKéœ€è¦çš„å‚æ•°&lt;/strong&gt;ï¼Œå¸®åŠ©åˆ¤æ–­äº‹ä»¶è§¦å‘ç±»å‹ï¼ŒSDKå†…éƒ¨è·å–å‚æ•°ï¼ševentType&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç”¨æˆ·å…¶ä»–éœ€è¦è¡¥å……çš„å‚æ•°ï¼š&lt;/strong&gt;è‡ªå®šä¹‰å‚æ•°&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.4 æ•°æ®ä¸ŠæŠ¥&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æ•°æ®ä¸ŠæŠ¥æ–¹å¼æ˜¯XMLHttpRequestã€window.navigator.sendBeaconï¼ŒåŸºäºh5sdkä¸ŠæŠ¥é€»è¾‘æ¶æ„ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.49296875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVIaLqrMzz86LYF6uKK27sgLs9HEePZ3lkicArNBp5M1o175sB0Q17b1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ4ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.5 å…¼å®¹æ€§å’Œå®¹é”™æ€§&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å…³äºå…¼å®¹æ€§ï¼Œä¾èµ–äºwindowå¯¹è±¡ã€ä¸å…¼å®¹IE6ã€IE7ï¼ŒIE8;&lt;/p&gt;&lt;p&gt;å…³äºå®¹é”™æ€§ï¼Œå¯¹é€šç”¨åŒ–å†…éƒ¨é€»è¾‘åšäº†try catchçš„å®¹é”™å…¼å®¹ï¼Œä¿è¯å‡ºé”™æ—¶ä¸å½±å“ä¸šåŠ¡ä¸»é€»è¾‘è¿è¡Œï¼ŒåŒæ—¶ä¸ŠæŠ¥ä¸€ä¸ªå‡ºé”™çš„äº‹ä»¶ç±»å‹ï¼ŒçŸ¥é“å‡ºé”™çš„åŸå› ï¼Œä»¥ä¾¿æå‰åšå¥½å¯¹åº”çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;3.6 ä¸ªäººæ•°æ®ä¿æŠ¤åˆè§„&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;ä¸ºäº†ä¿æŠ¤å¥½ç”¨æˆ·çš„ä¸ªäººæ•°æ®åŠå…¶éšç§å¹¶æ»¡è¶³æ³•å¾‹æ³•è§„è¦æ±‚ï¼Œåœ¨åŸ‹ç‚¹çš„è®¾è®¡ã€é‡‡é›†ã€ä½¿ç”¨ç­‰ç¯èŠ‚éœ€è¦è¿›è¡Œå……åˆ†çš„éšç§ä¿æŠ¤è®¾è®¡ã€‚ä¾‹å¦‚ï¼Œåœ¨åŸ‹ç‚¹è®¾è®¡é˜¶æ®µï¼Œéœ€è¦ç¡®å®šæ ‡è¯†ç¬¦çš„é€‰æ‹©ã€åŸ‹ç‚¹å‚æ•°çš„æœ€å°å¿…è¦ã€é‡‡é›†é¢‘ç‡çš„æœ€å°å¿…è¦ç­‰ï¼›åœ¨åŸ‹ç‚¹çš„é‡‡é›†ã€ä½¿ç”¨é˜¶æ®µï¼Œéœ€è¦ç¡®ä¿ç›¸å…³å¤„ç†è¡Œä¸ºçš„é€æ˜ã€å¯æ§ï¼ŒåŒ…æ‹¬å¯¹ç”¨æˆ·è¿›è¡Œå‘ŠçŸ¥ï¼Œè·å–ç”¨æˆ·çš„æœ‰æ•ˆåŒæ„ï¼Œæä¾›æ’¤å›åŒæ„çš„æ¸ é“ç­‰ç­‰ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;å››ã€æ•°ä»“æ–¹æ¡ˆ&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;åŸ‹ç‚¹æ–¹æ¡ˆå·²ç»å…·å¤‡ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œå°±æ˜¯è®¾è®¡ä¸€å¥—æ¥å…¥é«˜æ•ˆï¼Œæ‹“å±•ä¾¿æ·çš„æ•°ä»“åˆ†ææ¨¡å‹ï¼›ä¸ºå®ç°ä»¥ä¸Šæ—¢å®šçš„åˆ†æç›®æ ‡ï¼Œæ¨¡å‹è®¾è®¡è¿‡ç¨‹ä¸­éœ€è¦è§£å†³ä»¥ä¸‹æ ¸å¿ƒé—®é¢˜ã€‚&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;4.1 æ ¸å¿ƒé—®é¢˜åˆ—è¡¨&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.41857923497267757&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVpVqPOhbiaibQ8f3via8TA2hbtbibj9fXp5D6LR3ltHVcFFgTIjU1L1LLRg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;915&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;4.2 æ¨¡å‹åˆ†å±‚æ ‡å‡†&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;ä»‹ç»æ¨¡å‹è®¾è®¡å‰ï¼Œå…ˆè¯´ä¸‹vivo æ•°ä»“æ¨¡å‹åˆ†å±‚åŸºæœ¬åŸåˆ™ï¼ŒåŠæœ¬æ¬¡æ¨¡å‹åˆ†å±‚æ€è·¯ï¼Œå„å±‚æ¨¡å‹è®¾è®¡åŸåˆ™å‚ç…§ã€Švivoä¸­å°æ•°ä»“å»ºè®¾æ–¹æ³•è®ºã€‹ï¼Œå±‚çº§è®¾è®¡æ‘˜è¦å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.40198511166253104&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URV3jHUrAibjC7331H17FFDBes98WWx1iagFbnfloiaP4h4U7prricaPLibYPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1209&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;4.3 æ¨¡å‹å±‚çº§æ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;é€šè¿‡æ ¸å¿ƒé—®é¢˜æ‹†è§£å‘ç°ï¼Œä¸ºå®ç°é€šç”¨åˆ†ææ¨¡å‹æ–¹æ¡ˆï¼Œéœ€è¦ä»æ•°æ®æ¥å…¥å±‚æ”¶å£ï¼Œåœ¨æ•°æ®æ¥å…¥æ—¶ç»Ÿä¸€å‚æ•°è§£æï¼Œç»Ÿä¸€å­—æ®µå‘½åï¼Œå¹¶è®¾ç½®ç›¸åº”çš„åº”ç”¨idå­—æ®µï¼ŒåŒºåˆ†å„ä¸ªä¸šåŠ¡æ•°æ®æºï¼›æ¥ç€éœ€è¦ç”Ÿæˆæ´»è·ƒæ•°æ®æ˜ç»†è¡¨ï¼Œå¯ç»Ÿè®¡ç›¸åº”çš„åŸºç¡€åˆ†æï¼Œé¡µé¢åˆ†ææŒ‡æ ‡ï¼›åŒæ—¶ä¸ºæ»¡è¶³ç•™å­˜åˆ†æçš„éœ€è¦ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºç›¸åº”çš„æ´»è·ƒå…¨é‡è¡¨ï¼Œç•™å­˜åˆ†æä¸»é¢˜è¡¨åŸºäºæ´»è·ƒå¢é‡è¡¨å’Œæ´»è·ƒå…¨é‡è¡¨ç”Ÿæˆï¼Œç”¨æˆ·æ´»è·ƒä¿¡æ¯é€šè¿‡æ‰“æ ‡ç­¾çš„æ–¹å¼æ ‡è®°ã€‚è‡³æ­¤æ¶‰åŠä¸‰ä¸ªä¸»é¢˜åˆ†æçš„æ¨¡å‹è§„åˆ’å®Œæ¯•ã€‚å±‚çº§åˆ’åˆ†åŸåˆ™åŠè§„åˆ’é€»è¾‘æ¨¡å‹æ˜ç»†ï¼Œå¦‚ï¼šå›¾ï¼ˆ5ï¼‰&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.68203125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVqCcPXvqH3jpYzzB3UIHC2IMglia3mx8hJQWz8iaLAbgTWhzqBfCIjzrA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾ï¼ˆ5ï¼‰&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;ä»åˆ†å±‚æ¶æ„å›¾å¯çœ‹å‡ºH5é€šç”¨åˆ†ææ¨¡å‹åˆ†ä¸ºæ˜ç»†å±‚(dw)ã€è½»åº¦æ±‡æ€»å±‚(dma)ã€åˆ†æä¸»é¢˜è¡¨ (dmt) å’ŒæŒ‡æ ‡å±‚(da); å…¶ä¸­è½»åº¦æ±‡æ€»å±‚å¯ä½œä¸ºä¸­é—´æ•°æ®æä¾›è¡Œä¸šåˆ†æå¸ˆåŠæ•°æ®å¼€å‘ã€ä¸šåŠ¡äº§å“ç­‰æŸ¥è¯¢åˆ†æä½¿ç”¨ï¼›æ±‡æ€»å±‚ä½œä¸ºåˆ†æå¹³å°é€šç”¨åˆ†ææ¨¡å‹æŠ¥è¡¨æ•°æ®æºï¼Œå¯¼å…¥mysqlå­˜å‚¨ï¼Œå‰ç«¯åŸºäºmysqlè¡¨å®ç°æ•°æ®å±•ç¤º,å„ä¸ªæ¨¡å‹è®¾è®¡ç»†åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.34375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVBtuAlOK0ua397xydnq6sLxhb665PvgnhW1q0s0yiceIMs2I8yhiaZaPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;992&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æ•°æ®æ¨¡å‹è§„åˆ’åŠè®¾è®¡çš„æ ¸å¿ƒåœ¨äºä¸‰ç‚¹ï¼š&lt;strong&gt;ç¡®å®šappidå’Œç”¨æˆ·idæ˜ å°„å…³ç³»ï¼Œç•™å­˜æ–¹æ¡ˆå®ç°åŠç•™å­˜è®°å½•å…¥åº“bitmapæ–¹å¼è¯»å†™ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;1ã€ç¡®å®šappidå’Œç”¨æˆ·idæ˜ å°„å…³ç³»-unique_id å…³è”è®¾è®¡&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å¤šä¸šåŠ¡idç»Ÿä¸€&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## æ˜ç»†å±‚æ”¶å£æ•°æ®,ç»Ÿä¸€idå­—æ®µ&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT  xx&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,xx1&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,CASE WHEN appid IN(1)       THEN  1   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(2)   THEN  2  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(3)       THEN  3    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(4,5,6,...)       THEN  4      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        ELSE 0  END   AS  id_flag   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,CASE WHEN appid IN(1)      THEN  id1&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(2)  THEN  id2&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(3)      THEN  id3     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             WHEN appid IN(4,5,6,...)  THEN  IF(NVL(params[&#x27;id1&#x27;],&#x27;&#x27;)=&#x27;&#x27;,NVL(params[&#x27;id2&#x27;],&#x27;NA&#x27;),params[&#x27;id1&#x27;])            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ELSE &#x27;NA&#x27; END  AS  unique_id        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,appid        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  FROM ods_table_name_XXX  a     -- å„ä¸ªæ¥å…¥ä¸šåŠ¡çº¿æ•°æ®æº ods&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; WHERE day=&#x27;${today}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   AND hour = &#x27;${etl_hour}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   -- APPID å’Œ äº‹ä»¶id è¦åŒ¹é…æ–°å¢&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   AND appid  in (1,2,3 ...)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   AND äº‹ä»¶id  in (XXX|167,XXX|168,...);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## idå­—æ®µåç»­å…³è”ä½¿ç”¨æ–¹å¼&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## å¢é‡å…³è”å…¨é‡ï¼Œç¡®å®šæ˜¯å¦æ–°ç”¨æˆ·&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT if(b.unique_id is null,1,0) AS is_new&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;FROM&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT *&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  FROM table_XXX_hi&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; WHERE day= &#x27;${today}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   AND hour = &#x27;${etl_hour}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; GROUP BY XX&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ) a&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       -- å–å…¨é‡è¡¨å”¯ä¸€ unique_id ä½œä¸ºå…³è”æ¡ä»¶ï¼Œåˆ¤æ–­æ–°è€ç”¨æˆ·&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       -- æ–°ç”¨æˆ·æ˜¯ç›¸å¯¹äºå†å²å…¨é‡çš„&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  LEFT JOIN ( SELECT unique_id,appid&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                FROM      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ( SELECT unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        ,appid&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        ,row_number() over(partition by unique_id,appid order by æ´»è·ƒæ—¥æœŸ asc)  as rn_0&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                   FROM table_XXX_df&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  WHERE day=&#x27;${etl_date}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                ) a&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                WHERE rn_0 = 1&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             ) b&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      ON a.unique_id = b.unique_id AND a.appid = b.appid;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;2ã€ç•™å­˜æ–¹æ¡ˆå®ç°åŠç•™å­˜è®°å½•å…¥åº“bitmapæ–¹å¼è¯»å†™&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç•™å­˜æ–¹æ¡ˆ&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## åˆ©ç”¨bitmapæ€æƒ³ï¼Œç•™å­˜æ ‡ç­¾æ»¡8ä½è½¬åŒ–ä¸º16è¿›åˆ¶ç»„åˆåˆ°retain_tagä¹‹å‰ï¼Œè¿™æ ·å¯ä»¥åˆ©ç”¨å¾ˆå°‘çš„ä½æ•°è®°å½•è¾ƒé•¿çš„æ´»è·ƒæƒ…å†µ&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## ç¤ºä¾‹ä»£ç å¦‚ä¸‹&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT user_unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,if(length(tmp_retain_tag) = 8,is_active,concat(is_active,tmp_retain_tag))          as tmp_retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       --  å¦‚æœtmp_retain_tagé•¿åº¦ä¸º8çš„æ—¶å€™ï¼Œå°†æ•°æ®è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ·»åŠ åˆ°retain_tagå‰ï¼Œå¹¶å°†æœ¬å­—æ®µæ¸…ç©ºï¼Œä»å¤´å¼€å§‹è®¡æ•°&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,if(length(tmp_retain_tag) = 8,concat(con_tmp_retain_tag,retain_tag),retain_tag)    as retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,is_active&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  FROM&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    SELECT unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            -- å‰ä¸€å¤©çš„ä¸´æ—¶å­˜å‚¨ï¼Œä¸con_tmp_retain_tagä¿æŒä¸€è‡´&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,tmp_retain_tag                            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            -- å¦‚æœè½¬æ¢ä¸ºåå…­è¿›åˆ¶åçš„é•¿åº¦ä¸ä¸º2ï¼Œåˆ™åœ¨å·¦è¾¹æ·»åŠ 0          &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,if(length(conv(tmp_retain_tag,2,16)) = 2,conv(tmp_retain_tag,2,16),concat(&#x27;0&#x27;,conv(tmp_retain_tag,2,16))) as con_tmp_retain_tag &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            -- å†å²è½¨è¿¹&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,retain_tag                                                                                      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,first_value(is_active) over(partition by unique_id,appid,topic_id  order by first_active_day desc)  as is_active&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       FROM&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      ( SELECT unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,topic_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,appid &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,first_active_day&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,last_active_day&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               -- ç•™å­˜æ ‡ç­¾&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,&#x27;0&#x27; as is_active&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,tmp_retain_tag -- å½¢å¦‚ 11101010&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,retain_tag       -- å½¢å¦‚ A0E3&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          FROM table_active_XX_df  -- æ´»è·ƒå…¨é‡è¡¨&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         WHERE day= &#x27;${last_etl_date}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         UNION ALL&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SELECT unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,topic_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,appid &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,day as first_active_day&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,day as last_active_day&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               -- ç•™å­˜æ ‡ç­¾           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,&#x27;1&#x27; as is_active&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,&#x27;&#x27;  as tmp_retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,&#x27;&#x27;  as retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          FROM table_active_XX_hi  -- æ´»è·ƒæ˜ç»†è¡¨&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         WHERE day= &#x27;${etl_date}&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         ) a&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;) b&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;WHERE rn =1;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## ç•™å­˜æŒ‡æ ‡ç»Ÿè®¡ï¼š## ä»¥3æ—¥å†…åŠç¬¬3æ—¥ç•™å­˜ä¸ºä¾‹&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;WITH tmp_table AS (&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT DAY&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,appid&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,é¦–æ¬¡æ´»è·ƒæ—¥æœŸ&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,CONCAT(tmp_retain_tag,retain_tag) AS login_trace    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   FROM (&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SELECT DAY&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           ,tmp_retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,appid&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,é¦–æ¬¡æ´»è·ƒæ—¥æœŸ&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               ,IF(nvl(retain_tag,&#x27;&#x27;) &amp;lt;&amp;gt; &#x27;&#x27;,CONV(SUBSTR(retain_tag,1,8),16,2),&#x27;&#x27;) AS retain_tag&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              -- å¦‚æœretain_tagä¸ºç©ºæ—¶ï¼Œç›´æ¥å–ç©ºå€¼ã€‚å¦‚æœé•¿åº¦è¶…è¿‡8ä½æ•°ï¼Œå–æœ€åå…«ä½æ•°ï¼›å¦‚æœé•¿åº¦ä¸è¶…è¿‡8ä½æ•°ï¼Œå–å…¨éƒ¨ã€‚å¦‚æœæ˜¯30æ—¥å†…æ–°ç”¨æˆ·ï¼Œé•¿åº¦ä¸è¶…è¿‡8ä½&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          FROM table_active_XX_df WHERE DAY = ç»Ÿè®¡æ—¥&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        ) x1&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;## ä»¥3æ—¥å†…åŠç¬¬3æ—¥ç•™å­˜ä¸ºä¾‹ï¼š&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;SELECT -- ç¬¬Næ—¥ç•™å­˜æŒ‡æ ‡ï¼šç¬¬Næ—¥æ¥è®¿&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,SUM(IF(SUBSTR(login_trace,3,1) = &#x27;1&#x27;,1,null))    AS retain_cnt_3th&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       -- Næ—¥å†…ç•™å­˜æŒ‡æ ‡:Næ—¥å†…è®¿é—®è¿‡1æ¬¡æˆ–Næ¬¡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       ,SUM(IF(instr(SUBSTR(login_trace,2,2) ,&#x27;1&#x27;)= 0,null,1))  AS retain_cnt_between_3th&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; FROM (&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       SELECT &#x27;ç»Ÿè®¡æ—¥-2å¤©&#x27; AS dt&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              ,unique_id&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              ,REVERSE(SUBSTR(login_trace,1,3)) AS login_trace&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              ,appid&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         FROM tmp_table WHERE SUBSTR(login_trace,3,1) = &#x27;1&#x27; AND é¦–æ¬¡æ´»è·ƒæ—¥æœŸ = ç»Ÿè®¡æ—¥-2å¤©&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;) X GROUP BY dt,appid;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;4.4 æ¨¡å‹æ•°æ®æµå›¾&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;è‡³æ­¤ï¼Œæ¨¡å‹çš„è®¾è®¡è½åœ°å…¨éƒ¨å®Œæˆï¼Œæ¨¡å‹åŒ…å«åŸ‹ç‚¹æ•°æ®è¡¨2å¼ ï¼Œdwæ˜ç»†å±‚æ¨¡å‹1å¼ ï¼Œç»´è¡¨1å¼ ï¼Œdmaè½»åº¦æ±‡æ€»ä¸»é¢˜å±‚2å¼ ï¼Œdmtä¸»é¢˜è¡¨2å¼ ï¼Œä»»åŠ¡å±‚æ·±4å±‚ï¼Œæ¨¡å‹å±‚2å±‚ï¼Œæ¨¡å‹æ•°æ®æ¥å…¥0.5äººæ—¥å¯å®Œæˆã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æ•°æ®æµå›¾å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.96484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVZFJtgcGwsMFIgY1qy2Lv5fs05j63Ke31osicf5nv6khtXKKjIibCfJAg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾ï¼ˆ6ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;äº”ã€æ•°æ®å±•ç¤º&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æ¨¡å‹æ•°æ®å±•ç¤ºå¯åŸºäºç”¨æˆ·è¡Œä¸ºåˆ†æå¹³å°ï¼Œæ•°æ®æŒ‡æ ‡å­˜å‚¨ä½¿ç”¨ MySQL æ•°æ®åº“ï¼Œæ•°æ®å±•ç¤ºé€»è¾‘å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.41015625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URV6raLsNO1fCwgOI4UvsuVhRibicpD3t3KdUPQ1XC3jMSjPkwicqnQ0t57A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ7ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;5.1 æŠ¥è¡¨å±•ç¤º&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;æŠ¥è¡¨é…ç½®å®Œæˆåï¼Œå„ä¸ªåˆ†ææ¨¡å—çš„å‰å°å±•ç¤ºç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.51015625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVB7jKEP0kkIvAhgtTh1YiaEPOMibvvuBHOXia0FcDUwTwJzf2OHhsk8Iibw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ8ï¼‰åº”ç”¨æ¦‚å†µæŠ¥è¡¨&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5078125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVDrmbVESV6QJVqfyzTSjcEAeURHicYQS0DsKMWoh4w9y2Z29v5Rrt6fA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ9ï¼‰ç”¨æˆ·ç•™å­˜æŠ¥è¡¨&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.50546875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt4GpmhdsA6Px0Y1yiayw4URVzdwIibDBBbvLbaUf2JvJNmgtEAVukcJ3cfoJmLUZsk7MjicqC6kh4Psg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;å›¾ï¼ˆ10ï¼‰é¡µé¢åˆ†ææŠ¥è¡¨&lt;/span&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;å…­ã€æœªæ¥å±•æœ›&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;è‡³æ­¤ï¼ŒH5é€šç”¨åˆ†æ¨¡å‹è½åœ°æµç¨‹å·²ä»‹ç»å®Œæ¯•ã€‚æœ¬æ–‡ä¸»è¦æ˜¯åŸºäºä¸šåŠ¡åˆæœŸè¯‰æ±‚ï¼Œå¿«é€Ÿè½åœ°é€šç”¨çš„ã€ç»Ÿä¸€çš„æ•°æ®è§£å†³æ–¹æ¡ˆï¼Œæ»¡è¶³ä¸šåŠ¡åˆ†æäººå‘˜åœ¨äº§å“åˆæœŸæœ€è¿«åˆ‡çš„åˆ†æéœ€æ±‚ã€‚éšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•è¿­ä»£ï¼Œè¿è¥äº§å“çš„åˆ†ææ–¹å‘ä¹Ÿä¼šä¸æ–­çš„æ‰©å±•å’Œæ·±å…¥ï¼ŒåŒæ—¶ä¸åŒçš„ä¸šåŠ¡å…³æ³¨ç‚¹ä¸åŒï¼Œé’ˆå¯¹åˆ†ææ¨¡å‹çš„è¯‰æ±‚ä¹Ÿä¸å°½ç›¸åŒã€‚ä¾‹å¦‚åœ¨ä¸šåŠ¡ä¸­åæœŸï¼Œç®€å•çš„è®¿é—®ç•™å­˜åˆ†æå·²ç»æ”¯æ’‘ä¸äº†æ›´è¿›ä¸€æ­¥çš„å†³ç­–åˆ¶å®šï¼Œæ­¤æ—¶é’ˆå¯¹é¡µé¢è®¿é—®çš„è·¯å¾„åˆ†ææ¨¡å‹ï¼›é’ˆå¯¹è¥é”€åˆ†æçš„è®¢å•è½¬åŒ–æ¨¡å‹ã€å½’å› åˆ†ææ¨¡å‹ï¼›é’ˆå¯¹é¡µé¢è·³è½¬åˆ†æçš„ç”¨æˆ·æ¼æ–—æ¨¡å‹ç­‰éœ€æ±‚ä¼šç›¸åº”å˜å¤šã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œä¸ºæ›´å¥½çš„æ”¯æ’‘ä¸šåŠ¡ç›®æ ‡è¾¾æˆï¼ŒH5é€šç”¨åˆ†ææ¨¡å‹ç³»åˆ—åœ¨åæœŸä¼šæ ¹æ®ä¸šåŠ¡è¯‰æ±‚è½åœ°ç›¸åº”çš„åˆ†ææ¨¡å‹ï¼ŒæŒç»­ä¸ºäº§å“è¿è¥æä¾›é«˜æ•ˆç¨³å®šçš„æ•°æ®è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;END&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;span title=&quot;&quot; opera-tn-ra-cell=&quot;_$.pages:0.layers:0.comps:176.title1&quot;&gt;&lt;p&gt;çŒœä½ å–œæ¬¢&lt;/p&gt;&lt;/span&gt; &lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>