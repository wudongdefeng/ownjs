<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>e966677c2f9bee21e4ca708cae9da564</guid>
<title>RedisJson æ¨ªç©ºå‡ºä¸–ï¼Œè¿™æ€§èƒ½æ€ç–¯äº†ï¼</title>
<link>https://toutiao.io/k/y4wdv6t</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸€ã€æ¦‚è¿°&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿‘æœŸå®˜ç½‘ç»™å‡ºäº†RedisJsonï¼ˆRedisSearchï¼‰çš„æ€§èƒ½æµ‹è¯•æŠ¥å‘Šï¼Œå¯è°“ç¢¾å‹å…¶ä»–NoSQLï¼Œä¸‹é¢æ˜¯æ ¸å¿ƒçš„æŠ¥å‘Šå†…å®¹ï¼Œå…ˆä¸Šç»“è®ºï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å¯¹äºéš”ç¦»å†™å…¥(isolated writes)ï¼ŒRedisJSON æ¯” MongoDB å¿« 5.4 å€ï¼Œæ¯” ElasticSearch å¿« 200 å€ä»¥ä¸Šã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹äºéš”ç¦»è¯»å–(isolated reads)ï¼ŒRedisJSON æ¯” MongoDB å¿« 12.7 å€ï¼Œæ¯” ElasticSearch å¿« 500 å€ä»¥ä¸Šã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ··åˆå·¥ä½œè´Ÿè½½åœºæ™¯ä¸­ï¼Œå®æ—¶æ›´æ–°ä¸ä¼šå½±å“ RedisJSON çš„æœç´¢å’Œè¯»å–æ€§èƒ½ï¼Œè€Œ ElasticSearch ä¼šå—åˆ°å½±å“ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„æ•°æ®ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;RedisJSON* æ”¯æŒçš„æ“ä½œæ•°/ç§’æ¯” MongoDB é«˜çº¦ 50 å€ï¼Œæ¯” ElasticSearch é«˜ 7 å€/ç§’ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;RedisJSON* çš„å»¶è¿Ÿæ¯” MongoDB ä½çº¦ 90 å€ï¼Œæ¯” ElasticSearch ä½ 23.7 å€ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼ŒRedisJSON çš„è¯»å–ã€å†™å…¥å’Œè´Ÿè½½æœç´¢å»¶è¿Ÿåœ¨æ›´é«˜çš„ç™¾åˆ†ä½æ•°ä¸­è¿œæ¯” ElasticSearch å’Œ MongoDB ç¨³å®šã€‚å½“å¢åŠ å†™å…¥æ¯”ç‡æ—¶ï¼ŒRedisJSON è¿˜èƒ½å¤„ç†è¶Šæ¥è¶Šé«˜çš„æ•´ä½“ååé‡ï¼Œè€Œå½“å†™å…¥æ¯”ç‡å¢åŠ æ—¶ï¼ŒElasticSearch ä¼šé™ä½å®ƒå¯ä»¥å¤„ç†çš„æ•´ä½“ååé‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;äºŒã€æŸ¥è¯¢å¼•æ“&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚å‰æ‰€è¿°ï¼Œreresearchå’ŒRedisJSONçš„å¼€å‘éå¸¸å¼ºè°ƒæ€§èƒ½ã€‚å¯¹äºæ¯ä¸€ä¸ªç‰ˆæœ¬ï¼Œæˆ‘ä»¬éƒ½æƒ³ç¡®ä¿å¼€å‘è€…å¯ä»¥ä½“éªŒåˆ°ç¨³å®šå’Œäº§å“ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æˆ‘ä»¬ç»™å‡ºäº†ä¸€äº›åˆ†æå·¥å…·ã€æ¢æµ‹å™¨æ¥è¿›è¡Œæ€§èƒ½åˆ†æã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¶ä¸”ï¼Œæˆ‘ä»¬æ¯æ¬¡å‘è¡Œæ–°ç‰ˆæœ¬æ—¶æ—¶ï¼Œä¹Ÿåœ¨ä¸æ–­çš„æå‡æ€§èƒ½ã€‚ç‰¹åˆ«æ˜¯å¯¹äºreresearchæ¥è¯´ï¼Œ2.2ç‰ˆæœ¬åœ¨åŠ è½½å’ŒæŸ¥è¯¢æ€§èƒ½ä¸Šéƒ½æ¯”2.0å¿«äº†1.7å€ï¼ŒåŒæ—¶è¿˜æ”¹è¿›äº†ååé‡å’Œæ•°æ®åŠ è½½çš„å»¶è¿Ÿã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.1 åŠ è½½ä¼˜åŒ–&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥çš„ä¸¤ä¸ªå›¾æ˜¾ç¤ºäº†è¿è¡Œçº½çº¦å¸‚å‡ºç§Ÿè½¦åŸºå‡†æµ‹è¯•çš„è¿è¡Œç»“æœ&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.624312156078039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOouUUmLMqP94KHoG85Mpgbawqb3lXIN8UyVAfS5bJ36bRnGomLcMRTZg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1999&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.624312156078039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOo2QA3eUh1wNVHB9BrptR4y68ibjYicglGW1VCLraaN1errGw3ChXDrYaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1999&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»è¿™äº›å›¾è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ¯ä¸€ä¸ªreresearchçš„æ–°ç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªå®è´¨æ€§çš„æ€§èƒ½æ”¹è¿›ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.2 å…¨æ–‡æœç´¢ä¼˜åŒ–&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†è¯„ä¼°æœç´¢æ€§èƒ½ï¼Œæˆ‘ä»¬ç´¢å¼•äº†590ä¸‡ç¯‡ç»´åŸºç™¾ç§‘æ‘˜è¦ã€‚ç„¶åæˆ‘ä»¬è¿è¡Œä¸€ä¸ªå…¨æ–‡æœç´¢æŸ¥è¯¢é¢æ¿ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.583791895947974&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoQ1bib9tUV4VWib0uXLP99O5Zv0xKzCBlwVr0LM1ngpHXmibB1eMTbstOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1999&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.624312156078039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoVnXV6q7ibg0IwMR40f64ia5HsWzREt0fBjuFAejFrgFq2T7Z7N7ibz5PA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1999&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„å›¾å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡ä»v2.0è¿ç§»åˆ°v2.2ï¼ŒåŒæ ·çš„æ•°æ®ï¼Œåœ¨å†™ã€è¯»ã€æœç´¢(å»¶è¿Ÿå›¾)æ–¹é¢éƒ½æœ‰äº†å¤§å¹…åº¦çš„æ”¹è¿›ï¼Œä»è€Œæé«˜äº†è¿è¡ŒSearchå’ŒJSONçš„å¯å®ç°ååé‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸‰ã€å’Œå…¶ä»–æ¡†æ¶çš„å¯¹æ¯”&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†è¯„ä¼°RedisJSONçš„æ€§èƒ½ï¼Œæˆ‘ä»¬å†³å®šå°†å®ƒä¸MongoDBå’ŒElasticSearchè¿›è¡Œæ¯”è¾ƒã€‚ä¸ºäº†æ–¹ä¾¿å¯¹æ¯”ï¼Œæˆ‘ä»¬ä¼šä»æ–‡æ¡£å­˜å‚¨ã€æœ¬åœ°å¯ç”¨ã€äº‘ä¸­å¯ç”¨ã€ä¸“ä¸šæ”¯æŒå’Œæä¾›å¯ä¼¸ç¼©æ€§ã€æ€§èƒ½ç­‰æ–¹é¢è¿›è¡Œå…¨æ–¹ä½çš„å¯¹æ¯”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä½¿ç”¨äº†å®Œå–„çš„YCSBæ ‡å‡†æ¥è¿›è¡Œæµ‹è¯•å¯¹æ¯”ï¼Œå®ƒèƒ½å¤ŸåŸºäºå¸¸è§çš„å·¥ä½œè´Ÿè½½æ¥è¯„ä¼°ä¸åŒçš„äº§å“ï¼Œæµ‹é‡å»¶è¿Ÿã€ååé‡æ›²çº¿ç›´åˆ°é¥±å’Œã€‚é™¤äº†CRUD YCSBæ“ä½œä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ªä¸¤ä¸ªå­—çš„æœç´¢æ“ä½œï¼Œä¸“é—¨å¸®åŠ©å¼€å‘äººå‘˜ã€ç³»ç»Ÿæ¶æ„å¸ˆå’ŒDevOpsä»ä¸šè€…æ‰¾åˆ°é€‚åˆä»–ä»¬ç”¨ä¾‹çš„æœ€ä½³æœç´¢å¼•æ“ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.1 åŸºå‡†æµ‹è¯•&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ¬¡æµ‹è¯•ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å¦‚ä¸‹çš„ä¸€äº›è½¯ä»¶ç¯å¢ƒï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;MongoDB v5.0.3&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ElasticSearch 7.15&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;RedisJSON (RediSearch 2.2+RedisJSON 2.0)&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ¬¡æ˜¯åœ¨Amazon Web Services å®ä¾‹ä¸Šè¿è¡ŒåŸºå‡†æµ‹è¯•ï¼Œè¿™ä¸‰ç§è§£å†³æ–¹æ¡ˆéƒ½æ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¹¶ä¸”æœ€å¸¸ç”¨äºç”Ÿäº§ä¸­çš„åˆ†å¸ƒå¼æ–¹å¼ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰€æœ‰äº§å“éƒ½ä½¿ç”¨ç›¸åŒçš„é€šç”¨ m5d.8xlarge VM å’Œæœ¬åœ° SSDï¼Œå¹¶ä¸”æ¯ä¸ªè®¾ç½®ç”±å››ä¸ª VM ç»„æˆï¼šä¸€ä¸ªå®¢æˆ·ç«¯ + ä¸‰ä¸ªæ•°æ®åº“æœåŠ¡å™¨ã€‚åŸºå‡†æµ‹è¯•å®¢æˆ·ç«¯å’Œæ•°æ®åº“æœåŠ¡å™¨éƒ½åœ¨å¤„äºæœ€ä½³ç½‘ç»œæ¡ä»¶ä¸‹çš„å•ç‹¬ m5d.8xlarge å®ä¾‹ä¸Šè¿è¡Œï¼Œå°†å®ä¾‹ç´§å¯†åœ°æ‰“åŒ…åœ¨ä¸€ä¸ªå¯ç”¨åŒºå†…ï¼Œå®ç°ç¨³æ€åˆ†ææ‰€éœ€çš„ä½å»¶è¿Ÿå’Œç¨³å®šçš„ç½‘ç»œæ€§èƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ‹è¯•æ˜¯åœ¨ä¸‰èŠ‚ç‚¹é›†ç¾¤ä¸Šæ‰§è¡Œçš„ï¼Œéƒ¨ç½²ç»†èŠ‚å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;MongoDB 5.0.3&lt;/code&gt;ï¼šä¸‰æˆå‘˜å‰¯æœ¬é›†ï¼ˆPrimary-Secondary-Secondaryï¼‰ã€‚å‰¯æœ¬ç”¨äºå¢åŠ è¯»å–å®¹é‡å¹¶å…è®¸æ›´ä½çš„å»¶è¿Ÿè¯»å–ã€‚ä¸ºäº†æ”¯æŒå¯¹å­—ç¬¦ä¸²å†…å®¹çš„æ–‡æœ¬æœç´¢æŸ¥è¯¢ï¼Œåœ¨æœç´¢å­—æ®µä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–‡æœ¬ç´¢å¼•ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;ElasticSearch 7.15&lt;/code&gt;ï¼š15 ä¸ªåˆ†ç‰‡è®¾ç½®ï¼Œå¯ç”¨æŸ¥è¯¢ç¼“å­˜ï¼Œå¹¶ä¸º 2 ä¸ªåŸºäº NVMe çš„æœ¬åœ° SSD æä¾› RAID 0 é˜µåˆ—ï¼Œä»¥å®ç°æ›´é«˜çº§åˆ«çš„æ–‡ä»¶ç³»ç»Ÿç›¸å…³å¼¹æ€§æ“ä½œæ€§èƒ½ã€‚è¿™ 15 ä¸ªåˆ†ç‰‡ä¸ºæˆ‘ä»¬ä¸º Elastic æ‰€åšçš„æ‰€æœ‰åˆ†ç‰‡å˜ä½“æä¾›äº†å¯å®ç°çš„æœ€ä½³æ€§èƒ½ç»“æœã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;RedisJSON*&lt;/code&gt;ï¼šRediSearch 2.2 and RedisJSON 2.0: OSS Redis Cluster v6.2.6ï¼Œæœ‰27ä¸ªåˆ†ç‰‡ï¼Œå‡åŒ€åˆ†å¸ƒåœ¨ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šï¼ŒåŠ è½½äº†RediSearch 2.2å’ŒRedisJSON 2.0 OSSæ¨¡å—ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†è¿™ä¸ªä¸»è¦çš„åŸºå‡†/æ€§èƒ½åˆ†æåœºæ™¯ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜åœ¨ç½‘ç»œã€å†…å­˜ã€CPU å’Œ I/O ä¸Šè¿è¡ŒåŸºå‡†åŸºå‡†æµ‹è¯•ï¼Œä»¥äº†è§£åº•å±‚ç½‘ç»œå’Œè™šæ‹Ÿæœºç‰¹æ€§ã€‚åœ¨æ•´ä¸ªåŸºå‡†æµ‹è¯•é›†æœŸé—´ï¼Œç½‘ç»œæ€§èƒ½ä¿æŒåœ¨å¸¦å®½å’Œ PPS çš„æµ‹é‡é™åˆ¶ä»¥ä¸‹ï¼Œä»¥äº§ç”Ÿç¨³å®šç¨³å®šçš„è¶…ä½å»¶è¿Ÿç½‘ç»œä¼ è¾“ï¼ˆæ¯ä¸ªæ•°æ®åŒ… p99 &amp;lt; 100microsï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»æä¾›å•ç‹¬çš„æ“ä½œæ€§èƒ½ [100% å†™å…¥] å’Œ [100% è¯»å–] å¼€å§‹ï¼Œå¹¶ä»¥ä¸€ç»„æ··åˆå·¥ä½œè´Ÿè½½ç»“æŸä»¥æ¨¡æ‹Ÿç°å®å·¥ä½œä¸­çš„åº”ç”¨ç¨‹åºåœºæ™¯ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.2 100% å†™å…¥åŸºå‡†&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¯¥åŸºå‡†æµ‹è¯•è¡¨æ˜ï¼ŒRedisJSON* çš„æ‘„å–é€Ÿåº¦æ¯” ElasticSearch å¿« 8.8 å€ï¼Œæ¯” MongoDB å¿« 1.8 å€ï¼ŒåŒæ—¶ä¿æŒæ¯ä¸ªæ“ä½œçš„äºšæ¯«ç§’çº§å»¶è¿Ÿã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ99% çš„ Redis è¯·æ±‚åœ¨ä¸åˆ° 1.5 æ¯«ç§’çš„æ—¶é—´å†…å®Œæˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼ŒRedisJSON* æ˜¯æˆ‘ä»¬æµ‹è¯•è¿‡çš„å”¯ä¸€ä¸€ç§åœ¨æ¯æ¬¡å†™å…¥æ—¶è‡ªåŠ¨æ›´æ–°å…¶ç´¢å¼•çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æ„å‘³ç€ä»»ä½•åç»­çš„æœç´¢æŸ¥è¯¢éƒ½ä¼šæ‰¾åˆ°æ›´æ–°çš„æ–‡æ¡£ã€‚ElasticSearch æ²¡æœ‰è¿™ç§ç»†ç²’åº¦çš„å®¹é‡ï¼›å®ƒå°†æ‘„å–çš„æ–‡æ¡£æ”¾åœ¨ä¸€ä¸ªå†…éƒ¨é˜Ÿåˆ—ä¸­ï¼Œå¹¶ä¸”è¯¥é˜Ÿåˆ—ç”±æœåŠ¡å™¨ï¼ˆä¸å—å®¢æˆ·ç«¯æ§åˆ¶ï¼‰æ¯ N ä¸ªæ–‡æ¡£æˆ–æ¯ M ç§’åˆ·æ–°ä¸€æ¬¡ã€‚ä»–ä»¬ç§°è¿™ç§æ–¹æ³•ä¸ºè¿‘å®æ—¶ (NRT)ã€‚Apache Lucene åº“ï¼ˆå®ƒå®ç°äº† ElasticSearch çš„å…¨æ–‡åŠŸèƒ½ï¼‰æ—¨åœ¨å¿«é€Ÿæœç´¢ï¼Œä½†ç´¢å¼•è¿‡ç¨‹å¤æ‚ä¸”ç¹é‡ã€‚å¦‚è¿™äº› WRITE åŸºå‡†æµ‹è¯•å›¾è¡¨æ‰€ç¤ºï¼Œç”±äºè¿™ç§â€œè®¾è®¡â€é™åˆ¶ï¼ŒElasticSearch ä»˜å‡ºäº†å·¨å¤§çš„ä»£ä»·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“åˆå»¶è¿Ÿå’Œååé‡æ”¹è¿›ï¼ŒRedisJSON* æ¯” Mongodb å¿« 5.4 å€ï¼Œæ¯” ElasticSearch å¿« 200 å€ä»¥ä¸Šï¼Œç”¨äºéš”ç¦»å†™å…¥ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5636574074074074&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOo611nYGmaGGrcVeWIiaMTxFOhlSibia3uibp6RJzBIWhsMcJHGSHRCl5GnA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1728&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5636574074074074&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoY4jdTU9WZ3ibIpicV9VothEic8RZDKh3aia9WEybIMicaI70jusuXpoMe5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1728&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.3 100% è¯»å–åŸºå‡†&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸å†™ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ° Redis åœ¨è¯»å–æ–¹é¢è¡¨ç°æœ€ä½³ï¼Œå…è®¸è¯»å–æ¯” ElasticSearch å¤š 15.8 å€ï¼Œæ¯” MongoDB å¤š 2.8 å€ï¼ŒåŒæ—¶åœ¨æ•´ä¸ªå»¶è¿ŸèŒƒå›´å†…ä¿æŒäºšæ¯«ç§’çº§å»¶è¿Ÿï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ç»“åˆå»¶è¿Ÿå’Œååé‡æ”¹è¿›æ—¶ï¼ŒRedisJSON* æ¯” MongoDB å¿« 12.7 å€ï¼Œæ¯” ElasticSearch å¿« 500 å€ä»¥ä¸Šï¼Œç”¨äºéš”ç¦»è¯»å–ã€‚&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.5636574074074074&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOo6TfKUcIy5oaI2pqQgoQnC0CBXDw6TukKDaBqkZBmjRAU6sFHHI1z6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1728&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.618421052631579&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOovwFn6X4ALlkicQX45iallAqcaXDV7WzEFFDWTSfN5hWQxBWSSV0Jk6oQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1520&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.4 æ··åˆè¯»/å†™/æœç´¢åŸºå‡†&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®é™…åº”ç”¨ç¨‹åºå·¥ä½œè´Ÿè½½å‡ ä¹æ€»æ˜¯è¯»å–ã€å†™å…¥å’Œæœç´¢æŸ¥è¯¢çš„æ··åˆã€‚å› æ­¤ï¼Œåœ¨æ¥è¿‘é¥±å’Œæ—¶äº†è§£ç”±æ­¤äº§ç”Ÿçš„æ··åˆå·¥ä½œè´Ÿè½½ååé‡æ›²çº¿æ›´ä¸ºé‡è¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºèµ·ç‚¹ï¼Œæˆ‘ä»¬è€ƒè™‘äº† 65% æœç´¢å’Œ 35% è¯»å–çš„åœºæ™¯ï¼Œè¿™ä»£è¡¨äº†ä¸€ä¸ªå¸¸è§çš„ç°å®ä¸–ç•Œåœºæ™¯ï¼Œåœ¨è¯¥åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œçš„æœç´¢/æŸ¥è¯¢æ¯”ç›´æ¥è¯»å–æ›´å¤šã€‚65% æœç´¢ã€35% è¯»å–å’Œ 0% æ›´æ–°çš„åˆå§‹ç»„åˆä¹Ÿå¯¼è‡´ ElasticSearch å’Œ RedisJSON* çš„ååé‡ç›¸ç­‰ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒYCSB å·¥ä½œè´Ÿè½½å…è®¸æ‚¨æŒ‡å®šæœç´¢/è¯»å–/æ›´æ–°ä¹‹é—´çš„æ¯”ç‡ä»¥æ»¡è¶³æ‚¨çš„è¦æ±‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;â€œæœç´¢æ€§èƒ½â€å¯ä»¥æŒ‡ä¸åŒç±»å‹çš„æœç´¢ï¼Œä¾‹å¦‚â€œåŒ¹é…æŸ¥è¯¢æœç´¢â€ã€â€œåˆ†é¢æœç´¢â€ã€â€œæ¨¡ç³Šæœç´¢â€ç­‰ç­‰ã€‚æˆ‘ä»¬æ‰€åšçš„æœ€åˆå‘ YCSB å¢åŠ çš„æœç´¢å·¥ä½œè´Ÿè½½ä»…ä¸“æ³¨äºâ€œåŒ¹é…æŸ¥è¯¢æœç´¢â€ï¼Œæ¨¡ä»¿åˆ†é¡µçš„ä¸¤è¯æŸ¥è¯¢åŒ¹é…ï¼ŒæŒ‰æ•°å­—å­—æ®µæ’åºã€‚â€œåŒ¹é…æŸ¥è¯¢æœç´¢â€æ˜¯ä»»ä½•å¯ç”¨æœç´¢åŠŸèƒ½çš„ä¾›åº”å•†è¿›è¡Œæœç´¢åˆ†æçš„èµ·ç‚¹ï¼Œå› æ­¤ï¼Œæ¯ä¸ªæ”¯æŒ YCSB çš„æ•°æ®åº“/é©±åŠ¨ç¨‹åºéƒ½åº”è¯¥èƒ½å¤Ÿåœ¨å…¶åŸºå‡†é©±åŠ¨ç¨‹åºä¸Šè½»æ¾å¯ç”¨æ­¤åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ¯ä¸ªæµ‹è¯•å˜ä½“ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº† 10% çš„å†™å…¥ï¼Œä»¥æŒ‰ç›¸åŒçš„æ¯”ä¾‹æ··åˆå’Œå‡å°‘æœç´¢å’Œè¯»å–ç™¾åˆ†æ¯”ã€‚è¿™äº›æµ‹è¯•å˜ä½“çš„ç›®æ ‡æ˜¯äº†è§£æ¯ä¸ªäº§å“å¦‚ä½•å¤„ç†æ•°æ®çš„å®æ—¶æ›´æ–°ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ˜¯äº‹å®ä¸Šçš„æ¶æ„ç›®æ ‡ï¼Œå³å†™å…¥ç«‹å³æäº¤åˆ°ç´¢å¼•ï¼Œè¯»å–å§‹ç»ˆæ˜¯æœ€æ–°çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6423444976076556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOo0yed0ibm9bF1AplAt4TgcS42aFwUfR28C1tCuC4484bypMia942nGOTQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1672&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­£å¦‚æ‚¨åœ¨å›¾è¡¨ä¸­æ‰€çœ‹åˆ°çš„ï¼Œåœ¨ RedisJSON* ä¸Šä¸æ–­æ›´æ–°æ•°æ®å’Œå¢åŠ å†™å…¥æ¯”ä¾‹ä¸ä¼šå½±å“è¯»å–æˆ–æœç´¢æ€§èƒ½å¹¶æé«˜æ•´ä½“ååé‡ã€‚å¯¹æ•°æ®äº§ç”Ÿçš„æ›´æ–°è¶Šå¤šï¼Œå¯¹ ElasticSearch æ€§èƒ½çš„å½±å“å°±è¶Šå¤§ï¼Œæœ€ç»ˆå¯¼è‡´è¯»å–å’Œæœç´¢é€Ÿåº¦å˜æ…¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ElasticSearch å¯å®ç°çš„ ops/sec ä» 0% æ›´æ–°åˆ° 50% çš„æ¼”å˜ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°å®ƒåœ¨ 0% æ›´æ–°åŸºå‡†ä¸Šä»¥ 10k Ops/sec å¼€å§‹ï¼Œå¹¶å—åˆ°ä¸¥é‡å½±å“ï¼Œå‡å°‘äº† 5 å€çš„ ops/secï¼Œåœ¨50% æ›´æ–°ç‡åŸºå‡†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸æˆ‘ä»¬åœ¨ä¸Šè¿°å•ä¸ªæ“ä½œåŸºå‡†ä¸­è§‚å¯Ÿåˆ°çš„ç±»ä¼¼ï¼ŒMongoDB æœç´¢æ€§èƒ½æ¯” RedisJSON* å’Œ ElasticSearch æ…¢ä¸¤ä¸ªæ•°é‡çº§ï¼ŒMongoDB çš„æœ€å¤§æ€»ååé‡ä¸º 424 ops/secï¼Œè€Œ RedisJSON* ä¸º 16K æœ€å¤§ ops/secã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œå¯¹äºæ··åˆå·¥ä½œè´Ÿè½½ï¼ŒRedisJSON* æ”¯æŒçš„æ“ä½œæ•°/ç§’æ¯” MongoDB é«˜ 50.8 å€ï¼Œæ¯” ElasticSearch é«˜ 7 å€ã€‚å¦‚æœæˆ‘ä»¬å°†åˆ†æé›†ä¸­åœ¨æ··åˆå·¥ä½œè´Ÿè½½æœŸé—´çš„æ¯ç§æ“ä½œç±»å‹çš„å»¶è¿Ÿä¸Šï¼Œä¸ MongoDB ç›¸æ¯”ï¼ŒRedisJSON* å¯å°†å»¶è¿Ÿé™ä½å¤šè¾¾ 91 å€ï¼Œä¸ ElasticSearch ç›¸æ¯”ï¼Œå»¶è¿Ÿé™ä½ 23.7 å€ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.5 å®Œæ•´å»¶è¿Ÿåˆ†æ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸æµ‹é‡æ¯ä¸ªè§£å†³æ–¹æ¡ˆé¥±å’Œä¹‹å‰äº§ç”Ÿçš„ååé‡æ›²çº¿ç±»ä¼¼ï¼Œåœ¨æ‰€æœ‰è§£å†³æ–¹æ¡ˆé€šç”¨çš„å¯æŒç»­è´Ÿè½½ä¸‹è¿›è¡Œå®Œæ•´çš„å»¶è¿Ÿåˆ†æä¹Ÿå¾ˆé‡è¦ã€‚è¿™å°†ä½¿æ‚¨èƒ½å¤Ÿäº†è§£å¯¹äºæ‰€æœ‰å·²å‘å¸ƒæ“ä½œåœ¨å»¶è¿Ÿæ–¹é¢æœ€ç¨³å®šçš„è§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Œä»¥åŠå“ªç§è§£å†³æ–¹æ¡ˆä¸æ˜“å—åˆ°åº”ç”¨ç¨‹åºé€»è¾‘å¼•å‘çš„å»¶è¿Ÿå³°å€¼çš„å½±å“ï¼ˆä¾‹å¦‚ï¼Œå¼¹æ€§æŸ¥è¯¢ç¼“å­˜æœªå‘½ä¸­ï¼‰ã€‚å¦‚æœæ‚¨æƒ³æ›´æ·±å…¥åœ°äº†è§£æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼ŒGil Tene æä¾›äº†å»¶è¿Ÿæµ‹é‡æ³¨æ„äº‹é¡¹çš„æ·±å…¥æ¦‚è¿°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŸ¥çœ‹ä¸Šä¸€èŠ‚çš„ååé‡å›¾è¡¨ï¼Œå¹¶å…³æ³¨ 10% æ›´æ–°åŸºå‡†ä»¥åŒ…å«æ‰€æœ‰ä¸‰ä¸ªæ“ä½œï¼Œæˆ‘ä»¬åšäº†ä¸¤ç§ä¸åŒçš„å¯æŒç»­è´Ÿè½½å˜åŒ–ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;250 ops/sec&lt;/code&gt;ï¼šæ¯”è¾ƒ MongoDBã€ElasticSearch å’Œ RedisJSON*ï¼Œä½äº MongoDB çš„å‹åŠ›ç‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;6000 ops/sec&lt;/code&gt;ï¼šæ¯”è¾ƒ ElasticSearch å’Œ RedisJSON*ï¼Œä½äº ElasticSearch å‹åŠ›ç‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.5.1 MongoDB ä¸ ElasticSearch ä¸ RedisJSON* çš„å»¶è¿Ÿåˆ†æ&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸‹é¢çš„ç¬¬ä¸€å¼ å›¾ç‰‡ä¸­ï¼Œå±•ç¤ºäº†ä» p0 åˆ° p9999 çš„ç™¾åˆ†ä½æ•°ï¼Œå¾ˆæ˜æ˜¾ï¼Œåœ¨æ¯æ¬¡æœç´¢æ—¶ï¼ŒMongoDB çš„è¡¨ç°éƒ½è¿œè¿œä¼˜äº Elastic å’Œ RedisJSON&lt;em&gt;ã€‚æ­¤å¤–ï¼Œå…³æ³¨ ElasticSearch ä¸ RedisJSON&lt;/em&gt;ï¼Œå¾ˆæ˜æ˜¾ï¼ŒElasticSearch å®¹æ˜“å—åˆ°è¾ƒé«˜å»¶è¿Ÿçš„å½±å“ï¼Œè¿™å¾ˆå¯èƒ½æ˜¯ç”±åƒåœ¾æ”¶é›† (GC) è§¦å‘å™¨æˆ–æœç´¢æŸ¥è¯¢ç¼“å­˜æœªå‘½ä¸­å¼•èµ·çš„ã€‚RedisJSON* çš„ p99 ä½äº 2.61 æ¯«ç§’ï¼Œè€Œ ElasticSearch p999 æœç´¢è¾¾åˆ° 10.28 æ¯«ç§’ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoSIgCOft3OEc0H9BW2zQQyF1diamfHdHXyxFxgBfIvy6lSBM6Ldhnu6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸‹é¢çš„è¯»å–å’Œæ›´æ–°å›¾è¡¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° RedisJSON* åœ¨æ‰€æœ‰å»¶è¿ŸèŒƒå›´å†…è¡¨ç°æœ€ä½³ï¼Œå…¶æ¬¡æ˜¯ MongoDB å’Œ ElasticSearchã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;RedisJSON* æ˜¯åœ¨æ‰€æœ‰åˆ†æçš„å»¶è¿Ÿç™¾åˆ†ä½æ•°ä¸Šä¿æŒäºšæ¯«ç§’çº§å»¶è¿Ÿçš„å”¯ä¸€è§£å†³æ–¹æ¡ˆã€‚åœ¨ p99ï¼ŒRedisJSON* çš„å»¶è¿Ÿä¸º 0.23 æ¯«ç§’ï¼Œå…¶æ¬¡æ˜¯ MongoDB çš„ 5.01 æ¯«ç§’å’Œ ElasticSearch çš„ 10.49 æ¯«ç§’ã€‚&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoJN5FLx51FRmGNXYV4cJHPr2lHpha5T9RYtfZWjGnaXy5zmFw0D7k3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å†™å…¥æ—¶ï¼ŒMongoDB å’Œ RedisJSON* å³ä½¿åœ¨ p99 æ—¶ä¹Ÿèƒ½ä¿æŒäºšæ¯«ç§’çº§çš„å»¶è¿Ÿã€‚å¦ä¸€æ–¹é¢ï¼ŒElasticSearch æ˜¾ç¤ºå‡ºé«˜å°¾å»¶è¿Ÿï¼ˆ&amp;gt; 10 æ¯«ç§’ï¼‰ï¼Œè¿™å¾ˆå¯èƒ½ä¸å¯¼è‡´ ElasticSearch æœç´¢å³°å€¼çš„åŸå›  (GC) ç›¸åŒã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoAicsbeISKwnTjxmRicsZ6RWjcVpib7Q32nB05bhgtc1MuHGnzoUXbzA8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.5.2 ElasticSearch ä¸ RedisJSON çš„å»¶è¿Ÿåˆ†æ&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»…å…³æ³¨ ElasticSearch å’Œ RedisJSON&lt;em&gt;ï¼Œåœ¨ä¿æŒ 6K ops/sec çš„å¯æŒç»­è´Ÿè½½çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ° Elastic å’Œ RedisJSON&lt;/em&gt; çš„è¯»å–å’Œæ›´æ–°æ¨¡å¼ä¸ä»¥ 250 ops/sec è¿›è¡Œçš„åˆ†æä¿æŒä¸€è‡´ã€‚RedisJSON* æ˜¯æ›´ç¨³å®šçš„è§£å†³æ–¹æ¡ˆï¼Œå…¶ p99 è¯»å–æ—¶é—´ä¸º 3 æ¯«ç§’ï¼Œè€Œ Elastic çš„ p99 è¯»å–æ—¶é—´ä¸º 162 æ¯«ç§’ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ›´æ–°æ—¶ï¼ŒRedisJSON* ä¿ç•™äº† 3 æ¯«ç§’çš„ p99ï¼Œè€Œ ElasticSearch åˆ™ä¿ç•™äº† 167 æ¯«ç§’çš„ p99ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoLoJVvKgRRI3rmCNLzUjCvpk1MA5l6Ioxqm7dPF6qf2vrqoSIQ2hgOA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOohq9AdiaxdPAohSbybaM0Iwey2nQD6GEt0v1nwW8oxnhic8fzcdhBGvPg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸“æ³¨äºæœç´¢æ“ä½œï¼ŒElasticSearch å’Œ RedisJSON* ä»¥ä¸ªä½æ•° p50 å»¶è¿Ÿå¼€å§‹ï¼ˆp50 RedisJSON* ä¸º 1.13 æ¯«ç§’ï¼Œè€Œ ElasticSearch çš„ p50 ä¸º 2.79 æ¯«ç§’ï¼‰ï¼Œå…¶ä¸­ ElasticSearch ä»˜å‡ºäº† GC è§¦å‘å’ŒæŸ¥è¯¢ç¼“å­˜æœªå‘½ä¸­çš„ä»£ä»·åœ¨è¾ƒé«˜çš„ç™¾åˆ†ä½æ•°ä¸Šï¼Œåœ¨ &amp;gt;= p90 ç™¾åˆ†ä½æ•°ä¸Šæ¸…æ™°å¯è§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;RedisJSON* å°† p99 ä¿æŒåœ¨ 33 æ¯«ç§’ä»¥ä¸‹ï¼Œè€Œ ElasticSearch ä¸Šçš„ p99 ç™¾åˆ†ä½æ•°ä¸º 163 æ¯«ç§’ï¼Œé«˜å‡º 5 å€ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/6fuT3emWI5Ipdw76Gcm7InE3HCCH8iaOoKUACUUMo6ttA42WSADP4nRFwA1PsibTDibRpwGAj7g5bnicy3BW0K56qw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1600&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å››ã€å¦‚ä½•å¼€å§‹&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼€å§‹ä½¿ç”¨RedisJSON*ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è´¹çš„æ•°æ®åº“åœ¨æ‰€æœ‰åœ°åŒºçš„Redisäº‘ï¼Œæˆ–è€…ä½¿ç”¨RedisJSON dockerå®¹å™¨ã€‚æˆ‘ä»¬å·²ç»æ›´æ–°äº†redisjsonçš„æ–‡æ¡£ï¼Œä»¥æ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿçš„å¼€å§‹ä½¿ç”¨æŸ¥è¯¢å’Œæœç´¢åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨æœ€è¿‘çš„å®¢æˆ·æœºåº“å£°æ˜ä¸­æåˆ°çš„ï¼Œä»¥ä¸‹æ˜¯å‡ ç§æµè¡Œè¯­è¨€çš„å®¢æˆ·æœºé©±åŠ¨ç¨‹åºï¼Œå¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿå…¥é—¨ã€‚&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;th&gt;RedisJSON*&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Node.js&lt;/td&gt;&lt;td&gt;node-redis&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Java&lt;/td&gt;&lt;td&gt;Jedis&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;.NET&lt;/td&gt;&lt;td&gt;NRedisJSON NRediSearch&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Python&lt;/td&gt;&lt;td&gt;redis-py&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>99ca66fcc49e4d9f2325fbe3bfdec968</guid>
<title>çœ‹Goä¸­çš„structå¦‚ä½•è¢«ä¼˜åŒ–ï¼Œè¿˜æœ‰å°æ’æ›²</title>
<link>https://toutiao.io/k/zv2dasc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;structä¸­çš„å­—æ®µé¡ºåº&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸‹é¢çš„ç»“æ„ä¸ºä¾‹ï¼Œå’±ä»¬çœ‹çœ‹ä¸‹é¢çš„ç»“æ„ä½“ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;package&lt;/span&gt;Â main&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br/&gt;Â &lt;span&gt;&quot;fmt&quot;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;&quot;time&quot;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;&quot;unsafe&quot;&lt;/span&gt;&lt;br/&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â PeopleÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â  IDÂ Â Â Â Â Â Â Â Â Â &lt;span&gt;int64&lt;/span&gt;Â Â Â Â Â Â Â &lt;span&gt;//Â Sizeof:Â 8Â byteÂ Â Alignof:Â 8Â Â Offsetof:Â 0&lt;/span&gt;&lt;br/&gt;Â Â Â Â GenderÂ Â Â Â Â Â &lt;span&gt;int8&lt;/span&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â Sizeof:Â 1Â byteÂ Â Alignof:Â 1Â Â Offsetof:Â 8&lt;/span&gt;&lt;br/&gt;Â Â Â Â NickNameÂ Â Â Â &lt;span&gt;string&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;//Â Sizeof:Â 16Â byteÂ Alignof:Â 8Â Offsetof:Â 16&lt;/span&gt;&lt;br/&gt;Â Â Â Â DescriptionÂ &lt;span&gt;string&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;//Â Sizeof:Â 16Â byteÂ Alignof:Â 8Â Offsetof:Â 32&lt;/span&gt;&lt;br/&gt;Â Â Â Â IsDeletedÂ Â Â &lt;span&gt;bool&lt;/span&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â Sizeof:Â 1Â byteÂ Â Alignof:Â 1Â Â Offsetof:Â 48&lt;/span&gt;&lt;br/&gt;Â Â Â Â CreatedÂ Â Â Â Â time.TimeÂ Â Â &lt;span&gt;//Â Sizeof:Â 24Â byteÂ Alignof:Â 8Â Â Offsetof:Â 56&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â pÂ :=Â People{}&lt;br/&gt;Â Â Â Â fmt.Println(unsafe.Sizeof(p))&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//Â output&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//Â 80&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹å‡ºæ‰“å°ç»“æœä¸º 80 å­—èŠ‚ï¼Œä½†æ˜¯æ‰€æœ‰å­—æ®µåŠ èµ·æ¥æ˜¯66 å­—èŠ‚ã€‚é‚£é¢å¤–çš„ 14 ä¸ªå­—èŠ‚æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿæƒ³å¿…å¤§éƒ¨åˆ†åŒå­¦ä¹Ÿå¾ˆæ¸…æ¥šã€‚64 ä½CPUå¤„ç†å™¨æ¯æ¬¡å¯ä»¥ä»¥ 64 ä½ï¼ˆ8 å­—èŠ‚ï¼‰å—çš„å½¢å¼ä¼ è¾“æ•°æ®ã€‚32 ä½ CPUçš„è¯åˆ™æ˜¯32 ä½ï¼ˆ4 å­—èŠ‚ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ä¸ªå­—æ®µ&lt;code&gt;ID&lt;/code&gt;å ç”¨ 8 ä¸ªå­—èŠ‚ï¼Œ&lt;code&gt;Gender&lt;/code&gt;å­—æ®µå ç”¨äº†1 ä¸ªå­—èŠ‚å¹¶æœ‰ 7 ä¸ªæœªä½¿ç”¨çš„å­—èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå­—æ®µä¸ºå­—ç¬¦ä¸²ç±»å‹ä¸º16å­—èŠ‚ï¼Œæ¥ä¸‹æ¥æ˜¯&lt;code&gt;IsDeleted&lt;/code&gt;å­—æ®µï¼Œå®ƒéœ€è¦ 1 ä¸ªå­—èŠ‚å¹¶æœ‰ 7 ä¸ªæœªä½¿ç”¨çš„å­—èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€å¥½çš„æƒ…å†µæ˜¯æ˜¯æŒ‰å­—æ®µçš„å¤§å°ä»å¤§åˆ°å°å¯¹å­—æ®µè¿›è¡Œæ’åºã€‚å¯¹ä¸Šè¿°ç»“æ„ä½“è¿›è¡Œæ’åºï¼Œå¤§å°å‡å°‘åˆ° 72 ä¸ªå­—èŠ‚ã€‚æœ€åä¸¤ä¸ªå­—æ®µ &lt;code&gt;Gender&lt;/code&gt; å’Œ &lt;code&gt;IsDeleted&lt;/code&gt; è¢«æ”¾åœ¨åŒä¸€ä¸ªå—ä¸­ï¼Œä»è€Œå°†æœªä½¿ç”¨çš„å­—èŠ‚æ•°ä» 14 (2x7) å‡å°‘åˆ° 6 (1 x 6)ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­èŠ‚çœäº† 8 ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â PeopleÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â CreatedAtÂ Â Â time.TimeÂ &lt;span&gt;//Â 24Â bytes&lt;/span&gt;&lt;br/&gt;Â Â Â Â NickNameÂ Â Â Â &lt;span&gt;string&lt;/span&gt;Â Â Â Â &lt;span&gt;//Â 16Â bytes&lt;/span&gt;&lt;br/&gt;Â Â Â Â DescriptionÂ &lt;span&gt;string&lt;/span&gt;Â Â Â Â &lt;span&gt;//Â 16Â bytes&lt;/span&gt;&lt;br/&gt;Â Â Â Â IDÂ Â Â Â Â Â Â Â Â Â &lt;span&gt;int64&lt;/span&gt;Â Â Â Â Â &lt;span&gt;//Â 8Â bytes&lt;/span&gt;&lt;br/&gt;Â Â Â Â GenderÂ Â Â Â Â Â &lt;span&gt;int8&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;//Â 1Â byte&lt;/span&gt;&lt;br/&gt;Â Â Â Â IsDeletedÂ Â Â &lt;span&gt;bool&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;//Â 1Â byte&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â pÂ :=Â People{}&lt;br/&gt;Â Â Â Â fmt.Println(unsafe.Sizeof(p))&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢å’±ä»¬çœ‹çœ‹&lt;span&gt;Go ç™½çš®ä¹¦&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ä¸­å¯¹å­—èŠ‚å¤§å°ä¿è¯çš„ä¸€äº›è¯´æ˜ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äº&lt;span&gt;æ•°å­—ç±»å‹&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;ï¼Œæœ‰ä¸‹é¢çš„å¤§å°ä¿è¯ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;ç±»å‹&lt;/th&gt;&lt;th&gt;å ç”¨å­—èŠ‚å¤§å°&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;byte, uint8, int8&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;uint16, int16&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;uint32, int32, float32&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;uint64, int64, float64, complex64&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;complex128&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¿è¯ä»¥ä¸‹æœ€å°å¯¹é½å±æ€§ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å¯¹äºä»»ä½•ç±»å‹çš„å˜é‡&lt;code&gt;x&lt;/code&gt;ï¼š&lt;code&gt;unsafe.Alignof(x)&lt;/code&gt;è‡³å°‘ä¸º 1ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹äºstruct ç±»å‹çš„å˜é‡&lt;code&gt;x&lt;/code&gt;ï¼š&lt;code&gt;unsafe.Alignof(x)&lt;/code&gt;æ˜¯æ‰€æœ‰å­—æ®µå­—èŠ‚å¯¹é½çš„æœ€å¤§å€¼&lt;code&gt;unsafe.Alignof(x.f)&lt;/code&gt;ï¼Œä½†è‡³å°‘ä¸º 1ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹äºæ•°ç»„ç±»å‹çš„å˜é‡&lt;code&gt;x&lt;/code&gt; ï¼š&lt;code&gt;unsafe.Alignof(x)&lt;/code&gt;ä¸æ•°ç»„å…ƒç´ ç±»å‹çš„å˜é‡çš„å¯¹é½æ–¹å¼ç›¸åŒã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœstructæˆ–æ•°ç»„ç±»å‹ä¸åŒ…å«å¤§å°å¤§äºé›¶çš„å­—æ®µï¼ˆæˆ–å…ƒç´ ï¼‰ï¼Œåˆ™å…¶å¤§å°ä¸ºé›¶ã€‚ä¸¤ä¸ªä¸åŒçš„é›¶å¤§å°å˜é‡åœ¨å†…å­˜ä¸­å¯èƒ½å…·æœ‰ç›¸åŒçš„åœ°å€ã€‚&lt;/p&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹å‡ºå ç”¨å°äº8 å­—èŠ‚çš„ Go ç±»å‹æœ‰ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;boolï¼š1 ä¸ªå­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;int8/uint8ï¼š1 ä¸ªå­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;int16/uint16ï¼š2 ä¸ªå­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;int32/uint32/runeï¼š4 å­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;float32ï¼š4 å­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;byteï¼š1ä¸ªå­—èŠ‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆä½ çŸ¥é“äº†è¿™äº›å°äº8å­—èŠ‚çš„ç±»å‹ï¼Œè¦æ‰‹åŠ¨æ£€æŸ¥ä»–çš„å¤§å°ç„¶åå¯¹å…¶è¿›è¡Œæ’åºå˜›ï¼ŒNONONOï¼Œå°åœŸä¸‹é¢ç»™å¤§å®¶æ¨èä¸€ä¸ª&lt;code&gt;linter&lt;/code&gt; &lt;span&gt;fieldalignment&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt;æ¥æ£€æŸ¥å¹¶è¿›è¡Œæ­£ç¡®åœ°æ’åºã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;fieldalignment å°å·¥å…·&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œå°åœŸç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªæ£€æµ‹å’Œå¯¹é½ç»“æ„ä½“å­—æ®µçš„å°å·¥å…·&lt;code&gt;fieldalignment&lt;/code&gt;,é¡¾åæ€ä¹‰å°±æ˜¯&lt;strong&gt;å­—æ®µå¯¹é½&lt;/strong&gt;çš„æ„æ€ã€‚ä¸‹é¢è®©æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å®‰è£…å’Œè¿è¡Œä¸€ä¸‹&lt;code&gt;fieldalignment&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å®‰è£…fieldalignment&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$go&lt;/span&gt;Â installÂ golang.org/x/tools/go/analysis/passes/fieldalignment/cmd/fieldalignment@latest&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆåˆ«ç€æ€¥è¿è¡Œï¼Œå’±ä»¬å…ˆæ¥çœ‹ä¸‹filedalignmentçš„ä½¿ç”¨ï¼Œfieldalignmentå¯ä»¥æ‰¾åˆ°é‚£äº›å¯ä»¥é‡æ–°æ’åˆ—ä»¥å‡å°‘å†…å­˜çš„ç»“æ„ï¼Œå¹¶æä¾›
å»ºè®®ç¼–è¾‘æœ€ç´§å‡‘çš„é¡ºåºã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;fieldalignmentä»‹ç»&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â fieldalignment&lt;br/&gt;fieldalignment:Â findÂ structsÂ thatÂ wouldÂ useÂ lessÂ memoryÂ &lt;span&gt;if&lt;/span&gt;Â theirÂ fieldsÂ wereÂ sorted&lt;br/&gt;&lt;br/&gt;Usage:Â fieldalignmentÂ [-flag]Â [package]&lt;br/&gt;&lt;br/&gt;ThisÂ analyzerÂ findÂ structsÂ thatÂ canÂ beÂ rearrangedÂ toÂ useÂ lessÂ memory,Â andÂ provides&lt;br/&gt;aÂ suggestedÂ editÂ withÂ theÂ mostÂ compactÂ order.&lt;br/&gt;&lt;br/&gt;NoteÂ thatÂ thereÂ areÂ twoÂ differentÂ diagnosticsÂ reported.Â OneÂ checksÂ structÂ size,&lt;br/&gt;andÂ theÂ otherÂ reportsÂ &lt;span&gt;&quot;pointerÂ bytes&quot;&lt;/span&gt;Â used.Â PointerÂ bytesÂ isÂ howÂ manyÂ bytesÂ ofÂ the&lt;br/&gt;objectÂ thatÂ theÂ garbageÂ collectorÂ hasÂ toÂ potentiallyÂ scanÂ &lt;span&gt;for&lt;/span&gt;Â pointers,Â &lt;span&gt;for&lt;/span&gt;Â example:&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â structÂ {Â uint32;Â stringÂ }&lt;br/&gt;&lt;br/&gt;haveÂ 16Â pointerÂ bytesÂ becauseÂ theÂ garbageÂ collectorÂ hasÂ toÂ scanÂ upÂ throughÂ theÂ string&lt;span&gt;&#x27;s&lt;br/&gt;innerÂ pointer.&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â structÂ {Â string;Â *uint32Â }&lt;br/&gt;&lt;br/&gt;hasÂ 24Â pointerÂ bytesÂ becauseÂ itÂ hasÂ toÂ scanÂ furtherÂ throughÂ theÂ *uint32.&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â structÂ {Â string;Â uint32Â }&lt;br/&gt;&lt;br/&gt;hasÂ 8Â becauseÂ itÂ canÂ stopÂ immediatelyÂ afterÂ theÂ stringÂ pointer.&lt;br/&gt;&lt;br/&gt;BeÂ awareÂ thatÂ theÂ mostÂ compactÂ orderÂ isÂ notÂ alwaysÂ theÂ mostÂ efficient.&lt;br/&gt;InÂ rareÂ casesÂ itÂ mayÂ causeÂ twoÂ variablesÂ eachÂ updatedÂ byÂ itsÂ ownÂ goroutine&lt;br/&gt;toÂ occupyÂ theÂ sameÂ CPUÂ cacheÂ line,Â inducingÂ aÂ formÂ ofÂ memoryÂ contention&lt;br/&gt;knownÂ asÂ &quot;falseÂ sharing&quot;Â thatÂ slowsÂ downÂ bothÂ goroutines.&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Flags:&lt;br/&gt;Â Â -VÂ Â Â Â printÂ versionÂ andÂ exit&lt;br/&gt;Â Â -all&lt;br/&gt;Â Â Â Â Â Â Â Â noÂ effectÂ (deprecated)&lt;br/&gt;Â Â -cÂ int&lt;br/&gt;Â Â Â Â Â Â Â Â displayÂ offendingÂ lineÂ withÂ thisÂ manyÂ linesÂ ofÂ contextÂ (defaultÂ -1)&lt;br/&gt;Â Â -cpuprofileÂ string&lt;br/&gt;Â Â Â Â Â Â Â Â writeÂ CPUÂ profileÂ toÂ thisÂ file&lt;br/&gt;Â Â -debugÂ string&lt;br/&gt;Â Â Â Â Â Â Â Â debugÂ flags,Â anyÂ subsetÂ ofÂ &quot;fpstv&quot;&lt;br/&gt;Â Â -fix&lt;br/&gt;Â Â Â Â Â Â Â Â applyÂ allÂ suggestedÂ fixes&lt;br/&gt;Â Â -flags&lt;br/&gt;Â Â Â Â Â Â Â Â printÂ analyzerÂ flagsÂ inÂ JSON&lt;br/&gt;Â Â -json&lt;br/&gt;Â Â Â Â Â Â Â Â emitÂ JSONÂ output&lt;br/&gt;Â Â -memprofileÂ string&lt;br/&gt;Â Â Â Â Â Â Â Â writeÂ memoryÂ profileÂ toÂ thisÂ file&lt;br/&gt;Â Â -source&lt;br/&gt;Â Â Â Â Â Â Â Â noÂ effectÂ (deprecated)&lt;br/&gt;Â Â -tagsÂ string&lt;br/&gt;Â Â Â Â Â Â Â Â noÂ effectÂ (deprecated)&lt;br/&gt;Â Â -test&lt;br/&gt;Â Â Â Â Â Â Â Â indicatesÂ whetherÂ testÂ filesÂ shouldÂ beÂ analyzed,Â tooÂ (defaultÂ true)&lt;br/&gt;Â Â -traceÂ string&lt;br/&gt;Â Â Â Â Â Â Â Â writeÂ traceÂ logÂ toÂ thisÂ file&lt;br/&gt;Â Â -vÂ Â Â Â noÂ effectÂ (deprecated)&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹å¸®åŠ©çš„è¯´æ˜è¿™é‡Œå°åœŸæ€»ç»“ä¸€ä¸‹fieldalignmentçš„ä»‹ç»ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;fieldalignment ä¼šæœ‰ä¸¤ä¸ªä¸åŒçš„æŠ¥å‘Šï¼Œä¸€ä¸ªæ˜¯æ£€æŸ¥ç»“æ„ä½“çš„å¤§å°ã€‚å¦ä¸€ä¸ªæŠ¥å‘Šæ‰€ä½¿ç”¨çš„æŒ‡é’ˆå­—èŠ‚æ•°(æ˜¯æŒ‡gcä¼šå¯¹structä¸­çš„è¿™äº›å­—èŠ‚è¿›è¡Œæ½œåœ¨çš„æŒ‡é’ˆæ‰«æ)ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;struct { uint32; string } ï¼š16ä¸ªæŒ‡é’ˆå­—èŠ‚ï¼Œgcä¼šæ‰«æå­—ç¬¦ä¸²çš„å†…éƒ¨æŒ‡é’ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;struct { string; *uint32 } : 24ä¸ªæŒ‡é’ˆå­—èŠ‚ï¼Œgcä¼šè¿›ä¸€æ­¥æ‰«æ *uint32ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;struct { string; uint32 }ï¼š8ä¸ªæŒ‡é’ˆå­—èŠ‚ï¼Œå› ä¸ºæ‰«æåˆ°stringä¼šç«‹é©¬åœæ­¢ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹å‡ºæœ€ç´§å‡‘çš„é¡ºåºå¹¶ä¸æ€»æ˜¯æœ€æœ‰æ•ˆçš„ã€‚åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´ä¸¤ä¸ªå˜é‡åˆ†åˆ«è¢«è‡ªå·±çš„goroutineæ›´æ–°å ç”¨åŒä¸€ä¸ªCPUç¼“å­˜çº¿ï¼Œä»è€Œå¼•èµ·ä¸€ç§è¢«ç§°ä¸º &quot;å‡å…±äº« &quot;çš„å†…å­˜äº‰å¤ºã€‚è¿™æ ·ä¼šé™ä½äº†ä¸¤ä¸ªgoroutineçš„é€Ÿåº¦ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;è¿è¡Œfieldalignment&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°åœŸåœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†&lt;code&gt;fieldalignment&lt;/code&gt;å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡ºæ£€æµ‹å‡ºä¸å°‘çš„ä¸ç¬¦åˆæ’åºè§„åˆ™çš„structï¼Œè€Œä¸”&lt;code&gt;fieldalignment&lt;/code&gt;å°†æœªå¯¹é½çš„å­—æ®µè¿›è¡Œäº†é‡æ–°æ’åºï¼Œå†æ¬¡æ‰§è¡Œå¯ä»¥çœ‹åˆ°å°±æ²¡æœ‰ç›¸å…³çš„æç¤ºäº†ã€‚ä»ä¸‹é¢çš„æ£€æµ‹ä¿¡æ¯ä¸­å¤§å®¶ä¹Ÿå¯ä»¥çœ‹å‡ºæœªå¯¹é½çš„&lt;code&gt;struct&lt;/code&gt;ä¸­æœ‰8-64å­—èŠ‚çš„ç©ºé—´æµªè´¹ã€‚&lt;code&gt;struct&lt;/code&gt;è¾ƒå¤šçš„é¡¹ç›®ï¼Œç®—ä¸‹æ¥ä¹Ÿæ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€(8B*1024=8K,è§‰å¾—è¿™äº›å†…å­˜å ç”¨å¾®ä¸è¶³é“çš„åŒå­¦ä¹Ÿå¯ä»¥å¿½ç•¥å“ˆ)ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$fieldalignment&lt;/span&gt;Â -fixÂ ./...Â Â Â Â Â Â Â Â &lt;br/&gt;...Â &lt;span&gt;#Â å‰é¢ä»£ç å°±çœç•¥äº†&lt;/span&gt;&lt;br/&gt;structÂ withÂ 2568Â pointerÂ bytesÂ couldÂ beÂ 2560&lt;br/&gt;structÂ withÂ 56Â pointerÂ bytesÂ couldÂ beÂ 48&lt;br/&gt;structÂ withÂ 16Â pointerÂ bytesÂ couldÂ beÂ 8&lt;br/&gt;structÂ withÂ 16Â pointerÂ bytesÂ couldÂ beÂ 8&lt;br/&gt;structÂ ofÂ sizeÂ 80Â couldÂ beÂ 72&lt;br/&gt;structÂ withÂ 200Â pointerÂ bytesÂ couldÂ beÂ 176&lt;br/&gt;structÂ withÂ 104Â pointerÂ bytesÂ couldÂ beÂ 72&lt;br/&gt;structÂ withÂ 80Â pointerÂ bytesÂ couldÂ beÂ 72&lt;br/&gt;structÂ withÂ 32Â pointerÂ bytesÂ couldÂ beÂ 24&lt;br/&gt;structÂ withÂ 40Â pointerÂ bytesÂ couldÂ beÂ 32&lt;br/&gt;structÂ withÂ 104Â pointerÂ bytesÂ couldÂ beÂ 40&lt;br/&gt;structÂ withÂ 72Â pointerÂ bytesÂ couldÂ beÂ 56&lt;br/&gt;structÂ ofÂ sizeÂ 256Â couldÂ beÂ 248&lt;br/&gt;structÂ withÂ 64Â pointerÂ bytesÂ couldÂ beÂ 48&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;fieldalignmentçš„å°bug&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡å°åœŸå‰é¢ä¸€é¡¿æ“ä½œæ‰§è¡Œï¼Œåœ¨å‡†å¤‡commitçš„æ—¶å€™å‘ç°ä¹‹å‰structä¸­çš„æ³¨é‡Šå±…ç„¶å˜æ²¡äº†ï¼Œäºæ˜¯å°åœŸä¹Ÿç»™Goå®˜æ–¹æäº†ä¸€ä¸ªå°issueï¼Œ&lt;span&gt;https://github.com/golang/go/issues/54333&lt;/span&gt;ï¼Œéƒ½å¥½å‡ å¤©äº†ä¹Ÿéƒ½æ²¡ç»™å›å¤ï¼ŒsadğŸ˜­ï¼Œçœ‹æ¥è¿™é—®é¢˜æœ‰ç‚¹å¾®ä¸è¶³é“ã€‚å¸Œæœ›åœ¨å¤§å®¶ä½¿ç”¨&lt;code&gt;fieldalignment&lt;/code&gt;çš„æ—¶å€™æ³¨æ„è¿™ä¸€ç‚¹ï¼Œå°åœŸæ˜¯åœ¨fixä¹‹åè¿›è¡Œäº†ä¸€äº›æ³¨é‡Šæ¢å¤ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å°ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œå°åœŸå¼€å§‹å¯¹structä¸­çš„å­—æ®µå­—èŠ‚å¯¹é½åšäº†ä¸€äº›åˆ†æå¹¶æ¨èäº†ä¸€ä¸ªå¯¹structä¸­çš„å­—æ®µé¡ºåºé”™ä¹±fixçš„å·¥å…·fieldalignmentã€‚å¸Œæœ›ä»Šå¤©çš„æ–‡ç« å¯¹å¤§å®¶æœ‰ä¸€äº›å¸®åŠ©ï¼Œå¦‚æœ‰ç›¸å…³çœ‹æ³•æ¬¢è¿ç•™è¨€è®¨è®ºã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;Go ç™½çš®ä¹¦: &lt;em&gt;https://go.dev/ref/spec#Size_and_alignment_guarantees&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;æ•°å­—ç±»å‹: &lt;em&gt;https://go.dev/ref/spec#Numeric_types&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;fieldalignment: &lt;em&gt;https://pkg.go.dev/golang.org/x/tools/go/analysis/passes/fieldalignment&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>03f9ddb7fd8f282f6a57ada300643fca</guid>
<title>goé”™è¯¯å¤„ç†çš„ä¸€ç§å®è·µ</title>
<link>https://toutiao.io/k/oqb90id</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€è¿‘å†™äº†ä¸ªç¨‹åºï¼Œå› ä¸ºæ˜¯æ€¥æ´»ï¼ˆè²Œä¼¼æ²¡æœ‰ä¸æ€¥çš„...ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªç¨‹åºåˆæ˜¯æˆ‘ä¸œæ‹·ä¸€æ®µï¼Œè¥¿ç²˜ä¸€å—æ‹¼å‡ºæ¥çš„ã€‚ä»£ç å†™å®Œäº†åï¼Œæ„Ÿè§‰è¿™ä»£ç å±ä¸€æ ·ï¼Œéƒ½å¿«æŠŠè‡ªå·±çœ‹å“­äº†ã€‚çœŸçš„æ˜¯åœ¨å¿ƒé‡Œè¾¹å†™åˆ«éª‚ï¼Œå…ˆæ˜¯éª‚ä»¥å‰åšè¿™ä¸ªé¡¹ç›®çš„äººè ¢ï¼Œé¡¹ç›®æçš„è·Ÿå±ä¸€æ ·ï¼Œåæ¥ä»£ç è·‘èµ·æ¥äº†ï¼Œé¡ºåˆ©äº¤å·¥åï¼Œå˜æˆäº†éª‚æˆ‘è‡ªå·±è ¢ï¼Œè¿™ä¹ˆå†™åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5616161616161616&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f66PibzcbHs0m7xhJoicYzPPicIFviaPQ7ACCjbrNlyFRqlKKia5fmgxWZWGWY6a17gH7RaliaSDKma7KkA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;495&quot;/&gt;&lt;figcaption&gt;åˆä¸æ˜¯ä¸èƒ½ç”¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸è¿‡åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå…ˆä¸æé¡¹ç›®é‡Œçš„ä¸šåŠ¡é€»è¾‘ã€æ¥å£è®¾è®¡åˆä¸åˆç†çš„äº‹å„¿ï¼Œè¿™ä¸ªæˆ‘è§‰å¾—åœ¨æ—¶é—´ç´§ï¼ŒåŠ ä¸Šäººå‘˜æ›´è¿­å¿«çš„æ—¶å€™ï¼Œæ­£å¸¸äººéƒ½ä¼šèƒ½ç²˜å°±ç²˜ï¼Œä¸è¡Œäº†å°±å†åŒ…ä¸€å±‚ï¼Œåˆ«æ”¹å‡ºçº¿ä¸Šé—®é¢˜äº†å°±è¡Œã€‚æœ‰ä¸€ç‚¹æˆ‘æŠŠè‡ªå·±è ¢å“­çš„æ˜¯ï¼ŒGo çš„è¿™ä¸ªé”™è¯¯å¤„ç†ä¹Ÿå¤ªTMè ¢äº†ï¼Œä¸€ä¸ªç¨‹åºæˆ‘å†™äº†ä¸ƒå…«ä¸ªé”™è¯¯åˆ¤æ–­ï¼Œæˆ‘ç»™ä½ ä»¬ç”¨ä¼ªä»£ç æè¿°ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;err,Â fileÂ :=Â Â æ¥æ”¶ä¼ æ–‡ä»¶(æ–‡ä»¶)&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;err,Â fhÂ :=Â Â æ‰“å¼€ä¸Šä¼ æ–‡ä»¶(file)&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;err,Â dataÂ :=Â æŠŠæ–‡ä»¶é‡Œçš„è¡Œè®°å½•è§£æ/è½¬æ¢ä¸€ä¸‹(row)&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;err,Â data3Â :=Â è°ƒä¸€ä¸‹ç¬¬ä¸‰æ–¹æ¥å£æ‹¿æ•°æ®&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;err,Â data2Â :=Â è°ƒä¸€ä¸‹å†…éƒ¨å…¶ä»–æœåŠ¡æ‹¿æ•°æ®&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;errÂ :=Â å†™åº“&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â è®°æ—¥å¿—&lt;br/&gt;Â Â è¿”å›é”™è¯¯ç ç›¸åº”&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢è¿™ä¸ªä¾‹å­æ¯«ä¸å¤¸å¼ ï¼Œæˆ‘ç›¸ä¿¡å„ä½åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œä¸€å®šè§è¿‡ï¼Œå¦‚æœä½ æ˜¯åšä¸šåŠ¡å¼€å‘çš„ä¼šæ›´å¸¸è§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæœ‰äººè‚¯å®šä¼šé—®ï¼ŒGoçš„é”™è¯¯å¤„ç†å°±è¿™æ ·ä½ éš¾é“ç¬¬ä¸€å¤©è§å—ï¼Œè¿˜èƒ½è¢«è ¢å“­ã€‚è¯¶ï¼Œè¿™ä¸æ˜¯é™æœ¬ææ•ˆåäººå‘˜å°‘äº†ä¸€åŠï¼Œæˆ‘ä»¬è¿™å¸®çº§åˆ«æ²¡æ··ä¸Šå»çš„è™šçº¿Leaderï¼Œè¿™ä¸åˆå¼€å§‹è‡ªå·±å†™ä»£ç äº†å˜›ï¼Œä»¥å‰è ¢åˆè ¢ä¸åˆ°è‡ªå·±ã€‚å†åŠ ä¸Šä»¥å‰çš„ç³»ç»Ÿã€é¡¹ç›®åˆ†å±‚ã€æœåŠ¡éš”ç¦»æ•´çš„è¿˜å‡‘æ´»ï¼Œä¸ä¼šåƒä¸Šé¢è¿™æ ·ï¼Œåœ¨æ§åˆ¶å±‚è°ƒè¿™ä¹ˆå¤šä¸šåŠ¡å¯¹è±¡ï¼ŒæŠŠè ¢ç“œä»£ç é›†ä¸­åœ¨äº†ä¸€èµ·â€¦â€¦ å®˜æ„Ÿé©¬ä¸Šä¸ä¸€æ ·äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯ä¹æˆ‘å°±åœ¨æ€è€ƒï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆè®¾è®¡æ¨¡å¼ä»€ä¹ˆçš„ï¼Œèƒ½æŠŠè¿™äº›ä¸œè¥¿éšè—ä¸‹å»ï¼Œåº”è¯¥æœ‰å§ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯åŒ…ä¸€å±‚ä»£ç è§£å†³ä¸äº†çš„å§ï¼Œå®åœ¨ä¸è¡Œå°±åŒ…ä¸¤å±‚â€¦â€¦è¯¶ï¼Œå’‹ä¸€ä¸å°å¿ƒæŠŠè®¾è®¡æ¨¡å¼çš„ç²¾é«“ç»™è¯´å‡ºæ¥äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;Go ä¼˜é›…å¤„ç†é”™è¯¯çš„å‡ ç§æ–¹æ¡ˆ&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘è¿™å‡ å¤©åœ¨ç½‘ä¸Šçœ‹äº†ä¸å°‘è¯´ï¼ŒGo é”™è¯¯å¤„ç†çš„ï¼Œä½†åŸºæœ¬ä¸Šéƒ½æ˜¯è¯´æ€ä¹ˆè‡ªå®šä¹‰åŒ…è£… error ã€ä¼ é€’error ä¹‹ç±»çš„ï¼Œè®²æ€ä¹ˆåœ¨å†™ Go ä»£ç æ—¶èƒ½æ›´ä¼˜é›…æ›´å¥½çœ‹çš„æ–‡ç« æ¯”è¾ƒå°‘ï¼Œå†™çš„æœ€å¥½çš„æ˜¯å·¦è€³æœµè€—å­è€å¸ˆåœ¨è‡ªå·±åšå®¢é‡Œä»‹ç»çš„ä¸¤ç§æ–¹å¼ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä¸‹é¢çš„éƒ¨åˆ†ä»£ç å‚è€ƒè‡ªè€å¸ˆçš„åšå®¢ï¼šhttps://coolshell.cn/articles/21140.html&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ç§æ˜¯ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„ Closure æŠŠç›¸åŒçš„ if err !=nil ä¹‹ç±»çš„ä»£ç æŠ½è±¡å‡ºæ¥é‡æ–°å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¼šå¯¼è‡´æ–°çš„é—®é¢˜--åœ¨æ¯ä¸ªå‡½æ•°é‡Œéƒ½éœ€è¦å¼•å…¥å†…éƒ¨å‡½æ•°å’Œä¸€ä¸ª error å˜é‡ï¼Œæ‰€ä»¥å’±å°±ä¸å¤šè¯´äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»åŸåšæ–‡æŸ¥çœ‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œç›´æ¥ä»‹ç»å¦å¤–ä¸€ç§æ›´å¥½çš„ï¼Œå¯¹é¡¹ç›®ä¾µå…¥ä¸æ˜¯å¾ˆå¤§çš„æ–¹æ¡ˆç»™å¤§å®¶ã€‚åœ¨ Go è¯­è¨€å®˜æ–¹åº“Â &lt;code&gt;bufio&lt;/code&gt;Â ä¸­Â &lt;code&gt;Scanner&lt;/code&gt;å¯¹è±¡çš„é”™å¤„ç†çš„å®ç°æ–¹å¼å¯ä»¥ç»™æˆ‘ä»¬ä¸€ç‚¹å¯å‘ï¼Œå®ƒå¤§æ¦‚æ˜¯è¿™ä¹ˆå®ç°çš„ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;scannerÂ :=Â bufio.NewScanner(input)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;for&lt;/span&gt;Â scanner.Scan()Â {&lt;br/&gt;Â Â Â Â tokenÂ :=Â scanner.Text()&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â processÂ token&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ :=Â scanner.Err();Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â processÂ theÂ error&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ&lt;code&gt;scanner&lt;/code&gt;åœ¨æ“ä½œåº•å±‚çš„I/Oçš„æ—¶å€™ï¼Œé‚£ä¸ªfor-loopä¸­æ²¡æœ‰ä»»ä½•çš„Â &lt;code&gt;if err !=nil&lt;/code&gt;Â çš„æƒ…å†µï¼Œé€€å‡ºå¾ªç¯åæœ‰ä¸€ä¸ªÂ &lt;code&gt;scanner.Err()&lt;/code&gt;Â çš„æ£€æŸ¥ã€‚çœ‹æ¥ä½¿ç”¨äº†ç»“æ„ä½“çš„æ–¹å¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Â &lt;code&gt;Scanner&lt;/code&gt;ç±»å‹çš„å®šä¹‰&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â ScannerÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â rÂ Â Â Â Â Â Â Â Â Â Â Â io.Reader&lt;br/&gt;Â Â ...&lt;span&gt;//å…¶ä»–å­—æ®µçœç•¥&lt;/span&gt;&lt;br/&gt;Â errÂ Â Â Â Â Â Â Â Â Â errorÂ Â Â Â &lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªç±»å‹å†…éƒ¨æŒæœ‰ä¸€ä¸ª&lt;code&gt;error&lt;/code&gt;Â åœ¨è¿­ä»£æ‰§è¡Œ Scan æ–¹æ³•æ—¶ï¼Œé‡åˆ°é”™è¯¯åä¼šå¾€è¿™ä¸ª error ä¸­è®°å½•é”™è¯¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(sÂ *Scanner)&lt;/span&gt;Â &lt;span&gt;Scan&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;bool&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â ...&lt;span&gt;//Â å…¶ä½™ä»£ç çœç•¥&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;for&lt;/span&gt;Â {&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â s.setErr(err)&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;Â Â &lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(sÂ *Scanner)&lt;/span&gt;Â &lt;span&gt;Err&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;error&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â &lt;span&gt;if&lt;/span&gt;Â s.errÂ ==Â io.EOFÂ {&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;&lt;br/&gt;Â }&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â s.err&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å‚è€ƒè¿™ä¸ªæ€è·¯ç»§ç»­æä¸‹å»ã€‚æ¯”å¦‚æ¥ä¸€ä¸ªè¯»å–ä¸šåŠ¡å¯¹è±¡çš„&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2.0905797101449277&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f66PibzcbHs0m7xhJoicYzPPiclkub7qO0hvlyqqop6sdYicVSXLY83m6F4jedVFqFuCgZUWZMuOdssqA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1104&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢è¿™ä¸ªç¤ºä¾‹ç›¸ä¿¡å¤§å®¶å¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œä¸è¿‡ï¼Œå…¶ä½¿ç”¨åœºæ™¯ä¹Ÿå°±åªèƒ½åœ¨å¯¹äºåŒä¸€ä¸ªä¸šåŠ¡å¯¹è±¡çš„ä¸æ–­æ“ä½œä¸‹å¯ä»¥ç®€åŒ–é”™è¯¯å¤„ç†ï¼Œå¯¹äºå¤šä¸ªä¸šåŠ¡å¯¹è±¡çš„è¯ï¼Œè¿˜æ˜¯å¾—éœ€è¦å„ç§Â &lt;code&gt;if err != nil&lt;/code&gt;çš„æ–¹å¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£æœ‰ä»€ä¹ˆåŠæ³•å‘¢ï¼Œå’±ä»¬ä¹‹å‰è¯´è¿‡ä¸€æ¬¡ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŒ…ä¸€å±‚ä»£ç è§£å†³ä¸äº†çš„å§ï¼Œå®åœ¨ä¸è¡Œå°±åŒ…ä¸¤å±‚ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å†åšä¸€å±‚åŒ…è£…ï¼Œä»¥ä¸‹æ˜¯æˆ‘å¯¹è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç‚¹ç‚¹ç†è§£ï¼Œä¼šå€Ÿé‰´ä¸€ç‚¹DDDä¸­åˆ†å±‚çš„æ¦‚å¿µè§£å†³è¿™ä¸ªäº‹æƒ…ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ›´å®¹æ˜“è½åœ°çš„æ–¹æ¡ˆ&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆšæ‰é‚£ä¸ªä¾‹å­çš„é—®é¢˜æ˜¯åªé€‚åˆå‡å°‘å•ä¸ªä¸šåŠ¡å¯¹è±¡é€»è¾‘æ“ä½œä¸­çš„ if err != nill åˆ¤æ–­ï¼Œé‚£ä¹ˆé’ˆå¯¹è¿™å—å‘¢ï¼Œå’±ä»¬å¯ä»¥æŠŠæ¶‰åŠå¤šä¸ªä¸šåŠ¡å¯¹è±¡çš„æ“ä½œæ”¾åœ¨ä¸€ä¸ªåº”ç”¨æœåŠ¡é‡Œï¼ŒæŠŠåˆšæ‰åœ¨ä¸šåŠ¡å¯¹è±¡åšçš„é”™è¯¯å¤„ç†åˆ¤æ–­æ‹¿åˆ°åº”ç”¨æœåŠ¡é‡Œï¼Œè¿™æ ·ä¸šåŠ¡å¯¹è±¡é‡Œï¼Œæ¯”å¦‚Modelä¹‹ç±»çš„ä¸‹å±‚æ¨¡å—é‡Œï¼Œå°±è¿˜èƒ½æŒ‰ç…§æ­£å¸¸çš„æµç¨‹å†™ä»£ç äº†ï¼Œä¸ç”¨æ¯ä¸ªæ–¹æ³•å¼€å¤´éƒ½è¦å…ˆåˆ¤æ–­ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæå‰è¯´ä¸€ä¸‹ï¼Œåœ¨ä¸€äº›æ¶æ„è®¾è®¡é‡Œä¼šåˆ†åº”ç”¨æœåŠ¡å’Œé¢†åŸŸæœåŠ¡ï¼Œè¿™ä¸¤è€…çš„æ¦‚å¿µå®Œå…¨ä¸ä¸€æ ·ï¼Œåº”ç”¨æœåŠ¡æ˜¯é¢å‘äº§å“éœ€æ±‚çš„ç”¨ä¾‹å®ç°çš„ï¼Œè´Ÿè´£ä¸šåŠ¡ç”¨ä¾‹æµçš„ä»»åŠ¡åè°ƒï¼Œå°±æ˜¯æˆ‘ä»¬å®ç°APIæ—¶ï¼Œå¾€å¾€ä¼šæ§åˆ¶å±‚è°ƒåº”ç”¨æœåŠ¡ï¼Œå¤šä¸ªä¸åŒçš„ä¸šåŠ¡å¯¹è±¡å¯ä»¥æ”¾åˆ°ä¸€ä¸ªåº”ç”¨æœåŠ¡é‡Œã€‚è€Œé¢†åŸŸæœåŠ¡æ˜¯ä¸“ä¸€ç»™ä¸€ä¸ªé¢†åŸŸçš„ï¼Œè¿™å—æˆ‘å°±ä¸å¤šè§£é‡Šäº†ï¼ŒDDDè¿™äº›æˆ‘ä¹Ÿæ˜¯çœ‹äº†å‡ æœ¬ä¹¦ï¼Œçœ‹è¿‡COLAæ¡†æ¶çš„å®ç°ï¼Œè¿˜åœ¨ä¼¼æ‡‚éæ‡‚çš„æ°´å¹³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ä¹‹è®°ä½ä¸€ç‚¹ï¼Œé€šè¿‡åº”ç”¨æœåŠ¡å¯ä»¥åè°ƒå¤šä¸ªä¸šåŠ¡å¯¹è±¡æ‰§è¡Œä»»åŠ¡ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸Šé¢ä¸šåŠ¡å¯¹è±¡åŠ çš„é‚£äº›é”™è¯¯å¤„ç†æŠ½ç¦»åˆ°åº”ç”¨æœåŠ¡å±‚é‡Œï¼Œè®©ä¸šåŠ¡å¯¹è±¡æ›´ä¸“æ³¨è‡ªå·±çš„èŒè´£ã€‚è¿™æ ·çš„è¯ï¼Œä½ çš„æœåŠ¡å±‚ä»£ç ï¼Œå¯èƒ½å°±å¾—å˜æˆäº†è¿™æ ·&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.7468531468531467&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f66PibzcbHs0m7xhJoicYzPPicLT9DGCBN8n1SS9yt6xCe1Zkq3WafDmHws5Kx3RF1hmFO2CD22jibtww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1430&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæˆ‘ä»¬çš„æ§åˆ¶å±‚å‘¢ï¼Œè°ƒç”¨åº”ç”¨æœåŠ¡å±‚æ‹¿åˆ°ç»“æœï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªæ—¶å€™åˆ¤æ–­æ•´ä¸ªéœ€æ±‚ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰é”™è¯¯ï¼Œæœ‰çš„è¯è®°å½•é”™è¯¯ï¼Œè¿”å›é”™è¯¯å“åº”ç»™å®¢æˆ·ç«¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7300177619893428&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f66PibzcbHs0m7xhJoicYzPPic8TuLH1LiaDZKvRLQJVtfTRdqsZVCzyKtfOITGkkCh3DyjhOOKiaMzG5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1126&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;Go é”™è¯¯å¤„ç†çš„åŸºç¡€&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰åˆ†äº«è¿‡ä¸€ç¯‡æ–‡ç« Â Â &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzUzNTY5MzU2MA==&amp;amp;mid=2247489442&amp;amp;idx=1&amp;amp;sn=1805944e5acbe8629fdfa534c53a27dd&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;å…³äºGoç¨‹åºé”™è¯¯å¤„ç†çš„ä¸€äº›å»ºè®®&lt;/a&gt;Â è¯´çš„æ˜¯æˆ‘ä»¬åº”è¯¥æ€ä¹ˆç”¨å¥½ Go çš„error æ¥å£ï¼Œè‡ªå®šä¹‰é”™è¯¯ï¼ŒåŒ…è£…æ•´ä¸ªé”™è¯¯é“¾ç­‰ç›¸å…³çš„æŠ€èƒ½ã€‚è·Ÿæœ¬æ–‡çš„å†…å®¹å…³è”èµ·æ¥çœ‹ï¼Œå¯èƒ½ä¼šå¯¹é”™è¯¯å¤„ç†æœ‰ä¸ªæ›´å…¨å±€çš„ç†è§£ï¼Œåœ¨è¿™é‡Œä¹Ÿæ¨èç»™å¤§å®¶ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©ç»™å¤§å®¶åˆ†äº«äº†ä¸€äº›åœ¨è®©Goä»£ç çš„é”™è¯¯å¤„ç†æ›´ä¼˜é›…ä¸Šï¼Œæˆ‘å­¦åˆ°å’Œ&lt;span data-change-font=&quot;1&quot;/&gt;æƒ³åˆ°çš„ä¸€äº›ä¸œè¥¿ã€‚å…¶å®å¤§å®¶å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬æ˜¯æŠŠå¤šä¸ª if err != nil åˆ†æ•£åˆ°äº†å¤šä¸ªæ–¹æ³•é‡Œï¼Œè¿™æ ·ä»£ç æœ€èµ·ç ä»æ„Ÿå®˜ä¸Šçœ‹èµ·æ¥æ¯”åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œå†™ä¸ƒå…«ä¸ªé”™è¯¯åˆ¤æ–­æ›´å¥½ä¸€ç‚¹ã€‚&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-id=&quot;MzUzNTY5MzU2MA==&quot; data-pluginname=&quot;mpprofile&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f4pGhLz2xEbRFHnAQon2QLYgbBibCJo1ibJHesLWshPJeRibateRtAqkaf6BgjlbhYiaxHLq6Zu07CRPw/0?wx_fmt=png&quot; data-nickname=&quot;ç½‘ç®¡å¨biå¨&quot; data-alias=&quot;kevin_tech&quot; data-signature=&quot;åˆ†äº«è½¯ä»¶å¼€å‘å’Œç³»ç»Ÿæ¶æ„è®¾è®¡åŸºç¡€ã€Go è¯­è¨€å’ŒKubernetesã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹é”™è¯¯å¤„ç†æ–¹é¢ä½ æœ‰å“ªäº›è§è§£å‘¢ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºé‡Œç§¯æå‘è¨€ï¼Œå–œæ¬¢è¿™ç¯‡æ–‡ç« è¿˜è¯·å¸®å¿™æ¥ä¸ªç‚¹èµåœ¨çœ‹åŠ åˆ†äº«å§ï¼Œæ¥ä¸‹æ¥å†…å®¹è¿˜åœ¨å‘ä½ ä»¬æ‹›æ‰‹ğŸ™‹â€â™‚ï¸ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>5e7d93e2f2bcd53ad69f84a1d65a48af</guid>
<title>ä¸€æ–‡çœ‹æ‡‚å¤§æ•°æ®ç”Ÿæ€åœˆå®Œæ•´çŸ¥è¯†ä½“ç³»ï¼ˆæ–‡æœ«èµ ä¹¦ï¼‰</title>
<link>https://toutiao.io/k/j95wj12</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3NTM0MTYyMQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/7iaMpruNx3Afic1pUJiat0zez4aPTUCyHDAs7PzvDuIO6GRh5jhGImRAicoUsg240UM4w7zooIKAiaqwnAiaU2BMNl0Q/0?wx_fmt=png&quot; data-nickname=&quot;å¿—æ˜ä¸æ•°æ®&quot; data-alias=&quot;zhiming_data&quot; data-signature=&quot;ä¸“æ³¨äºæ•°æ®ç®¡ç†ã€æ•°æ®æ²»ç†ã€é¡¹ç›®ç®¡ç†ã€å¤§æ•°æ®ç­‰ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†å†…å®¹ã€å®è·µç»éªŒã€å¿ƒå¾—æ„Ÿæ‚Ÿåˆ†äº«ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–°ä¹¦æ¨èï¼Œå…ˆçœ‹çœ‹æ­£æ–‡ä»‹ç»ï¼Œæ–‡æœ«èµ ä¹¦2æœ¬&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.05669291338582677&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;635&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nr1VNxfeqxVOw2nPJHVH4xeZibzPY5F4ibOuOZLMsUMrzIibGB6KMw7EurSKv6DkrtLzuhYdBa30A9Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€å¤§æ•°æ®è¡Œä¸šçš„å‘å±•ï¼Œå¤§æ•°æ®ç”Ÿæ€åœˆä¸­ç›¸å…³çš„æŠ€æœ¯ä¹Ÿåœ¨ä¸€ç›´è¿­ä»£è¿›æ­¥ï¼Œä½œè€…æœ‰å¹¸äº²èº«ç»å†äº†å›½å†…å¤§æ•°æ®è¡Œä¸šä»é›¶åˆ°ä¸€çš„å‘å±•å†ç¨‹ï¼Œé€šè¿‡æœ¬æ–‡å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶å¿«é€Ÿæ„å»ºå¤§æ•°æ®ç”Ÿæ€åœˆå®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰å¤§æ•°æ®ç”Ÿæ€åœˆä¸­çš„æ ¸å¿ƒæŠ€æœ¯æ€»ç»“ä¸‹æ¥å¦‚å›¾1æ‰€ç¤ºï¼Œåˆ†ä¸ºä»¥ä¸‹9ç±»ï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;314&quot; data-backw=&quot;562&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;562&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;291&quot; data-ratio=&quot;0.5589798087141339&quot; data-type=&quot;png&quot; data-w=&quot;941&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6XaT8kkJSbzXTy2icxdzqADqgzibo9MhfPbsHbQI2ueueNibkDXcaaPbVg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;158:346&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot;&gt;&lt;strong&gt;1&lt;/strong&gt;&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®é‡‡é›†æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®é‡‡é›†ä¹Ÿè¢«ç§°ä¸ºæ•°æ®åŒæ­¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€äº’è”ç½‘ã€ç§»åŠ¨äº’è”ç½‘ã€ç‰©è”ç½‘ç­‰æŠ€æœ¯çš„å…´èµ·ï¼Œäº§ç”Ÿäº†æµ·é‡æ•°æ®ã€‚è¿™äº›æ•°æ®æ•£è½åœ¨å„ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™äº›æ•°æ®èåˆåˆ°ä¸€èµ·ï¼Œç„¶åä»è¿™äº›æµ·é‡æ•°æ®ä¸­è®¡ç®—å‡ºä¸€äº›æœ‰ä»·å€¼çš„å†…å®¹ã€‚&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¤æ—¶ç¬¬ä¸€æ­¥éœ€è¦åšçš„æ˜¯æŠŠæ•°æ®é‡‡é›†è¿‡æ¥ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;æ•°æ®é‡‡é›†æ˜¯å¤§æ•°æ®çš„åŸºç¡€ï¼Œæ²¡æœ‰æ•°æ®é‡‡é›†ï¼Œä½•è°ˆå¤§æ•°æ®ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®é‡‡é›†æŠ€æœ¯æ¡†æ¶åŒ…æ‹¬ä»¥å‡ ç§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Flumeã€Logstashå’ŒFileBeat&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¸¸ç”¨äºæ—¥å¿—æ•°æ®å®æ—¶ç›‘æ§é‡‡é›†ï¼Œå®ƒä»¬ä¹‹é—´çš„ç»†èŠ‚åŒºåˆ«è§è¡¨1ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Sqoopå’ŒDatax&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¸¸ç”¨äºå…³ç³»å‹æ•°æ®åº“ç¦»çº¿æ•°æ®é‡‡é›†ï¼Œå®ƒä»¬ä¹‹é—´çš„ç»†èŠ‚åŒºåˆ«è§è¡¨2ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Cannalå’ŒMaxwell&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¸¸ç”¨äºå…³ç³»å‹æ•°æ®åº“å®æ—¶æ•°æ®é‡‡é›†ï¼Œå®ƒä»¬ä¹‹é—´çš„ç»†èŠ‚åŒºåˆ«è§è¡¨3ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨1&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.47286012526096033&quot; data-type=&quot;png&quot; data-w=&quot;958&quot; data-backw=&quot;578&quot; data-backh=&quot;273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqniccsib9fPTXx9LnBJD8NdrWGicfbnaicJ8icsa08Uo2wujOrMCzpprqdTZg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨2&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42250740375123397&quot; data-type=&quot;png&quot; data-w=&quot;1013&quot; data-backw=&quot;578&quot; data-backh=&quot;244&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnC1DEGW6yGMv8LEuNnRM5Ur4NS07IQBiaxLLIFIDIO8Mv3icFre7iagI2Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.41544477028348&quot; data-type=&quot;png&quot; data-w=&quot;1023&quot; data-backw=&quot;578&quot; data-backh=&quot;240&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqn6YryQHLFhOEesvjNcEZiclDicaX6LUBjqv1fw2h2pdXMhfkDkFJjribFg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Flumeã€Logstashå’ŒFileBeatçš„æŠ€æœ¯é€‰å‹å¦‚å›¾2æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;357&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;232&quot; data-ratio=&quot;0.7052896725440806&quot; data-type=&quot;png&quot; data-w=&quot;794&quot; data-backw=&quot;357&quot; data-backh=&quot;252&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx63uGZToJNQrgIqqhkkKoEYsMIibiceSVdRfAXe8MYj0MzOvOLBQpv1diaQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Sqoopå’ŒDataxä¹‹é—´çš„æŠ€æœ¯é€‰å‹å¦‚å›¾3æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;gif&quot; data-w=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnFCSZy1z2yZ9r5zrqLP9FXKQQsJG3Ihq7ohboUWIlibu7SrEdAzqn1Tw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;364&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;213&quot; data-ratio=&quot;0.66015625&quot; data-type=&quot;png&quot; data-w=&quot;768&quot; data-backw=&quot;364&quot; data-backh=&quot;240&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6v0Vqc8wxibCNoHxYq41CRqFcIHvMugfEWXNUwRgCJQWFLkzjyJMF8EA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Cannalå’ŒMaxwellä¹‹é—´çš„æŠ€æœ¯é€‰å‹å¦‚å›¾4æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;356&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;210&quot; data-ratio=&quot;0.6729222520107239&quot; data-type=&quot;png&quot; data-w=&quot;746&quot; data-backw=&quot;354&quot; data-backh=&quot;238&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6MY1tfEued4icp1LQE1JxWiaicQdG9uib5S2Uq0lfjkxgQ5b4FbjYbObr5g/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;h2/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;270:746&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;2&quot;&gt;2&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®å­˜å‚¨æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;æ•°æ®çš„å¿«é€Ÿå¢é•¿æ¨åŠ¨äº†æŠ€æœ¯çš„å‘å±•ï¼Œæ¶Œç°å‡ºäº†ä¸€æ‰¹ä¼˜ç§€çš„ã€æ”¯æŒåˆ†å¸ƒå¼çš„å­˜å‚¨ç³»ç»Ÿã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æ•°æ®å­˜å‚¨æŠ€æœ¯æ¡†æ¶åŒ…æ‹¬HDFSã€HBaseã€Kuduã€Kafkaç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;HDFS&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å®ƒå¯ä»¥è§£å†³æµ·é‡æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œä½†æ˜¯å…¶æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¸æ”¯æŒå•æ¡æ•°æ®çš„ä¿®æ”¹æ“ä½œï¼Œå› ä¸ºå®ƒæ¯•ç«Ÿä¸æ˜¯æ•°æ®åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;HBase&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ˜¯ä¸€ä¸ªåŸºäºHDFSçš„åˆ†å¸ƒå¼NoSQLæ•°æ®åº“ã€‚è¿™æ„å‘³ç€ï¼ŒHBaseå¯ä»¥åˆ©ç”¨HDFSçš„æµ·é‡æ•°æ®å­˜å‚¨èƒ½åŠ›ï¼Œå¹¶æ”¯æŒä¿®æ”¹æ“ä½œã€‚ä½†HBaseå¹¶ä¸æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œæ‰€ä»¥å®ƒæ— æ³•æ”¯æŒä¼ ç»Ÿçš„SQLè¯­æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Kudu&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ˜¯ä»‹äºHDFSå’ŒHBaseä¹‹é—´çš„æŠ€æœ¯ç»„ä»¶ï¼Œæ—¢æ”¯æŒæ•°æ®ä¿®æ”¹ï¼Œä¹Ÿæ”¯æŒåŸºäºSQLçš„æ•°æ®åˆ†æåŠŸèƒ½ï¼›ç›®å‰Kuduçš„å®šä½æ¯”è¾ƒå°´å°¬ï¼Œå±äºä¸€ä¸ªæŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œåœ¨å®é™…å·¥ä½œä¸­åº”ç”¨æœ‰é™ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Kafka&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¸¸ç”¨äºæµ·é‡æ•°æ®çš„ä¸´æ—¶ç¼“å†²å­˜å‚¨ï¼Œå¯¹å¤–æä¾›é«˜ååé‡çš„è¯»å†™èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;258:664&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;3&quot;&gt;3&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;åˆ†å¸ƒå¼èµ„æºç®¡ç†æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ä¼ ç»Ÿçš„ITé¢†åŸŸä¸­ï¼Œä¼ä¸šçš„æœåŠ¡å™¨èµ„æºï¼ˆå†…å­˜ã€CPUç­‰ï¼‰æ˜¯æœ‰é™çš„ï¼Œä¹Ÿæ˜¯å›ºå®šçš„ã€‚ä½†æ˜¯ï¼ŒæœåŠ¡å™¨çš„åº”ç”¨åœºæ™¯å´æ˜¯çµæ´»å¤šå˜çš„ã€‚ä¾‹å¦‚ï¼Œä»Šå¤©ä¸´æ—¶ä¸Šçº¿äº†ä¸€ä¸ªç³»ç»Ÿï¼Œéœ€è¦å ç”¨å‡ å°æœåŠ¡å™¨ï¼›è¿‡äº†å‡ å¤©ï¼Œéœ€è¦æŠŠè¿™ä¸ªç³»ç»Ÿä¸‹çº¿ï¼ŒæŠŠè¿™å‡ å°æœåŠ¡å™¨æ¸…ç†å‡ºæ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å¤§æ•°æ®æ—¶ä»£åˆ°æ¥ä¹‹å‰ï¼ŒæœåŠ¡å™¨èµ„æºçš„å˜æ›´å¯¹åº”çš„æ˜¯ç³»ç»Ÿçš„ä¸Šçº¿å’Œä¸‹çº¿ï¼Œè¿™äº›å˜åŠ¨æ˜¯æœ‰é™çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€å¤§æ•°æ®æ—¶ä»£çš„åˆ°æ¥ï¼Œä¸´æ—¶ä»»åŠ¡çš„éœ€æ±‚é‡å¤§å¢ï¼Œè¿™äº›ä»»åŠ¡å¾€å¾€éœ€è¦å¤§é‡çš„æœåŠ¡å™¨èµ„æºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæ­¤æ—¶è¿˜ä¾èµ–è¿ç»´äººå‘˜äººå·¥å¯¹æ¥æœåŠ¡å™¨èµ„æºçš„å˜æ›´ï¼Œæ˜¾ç„¶æ˜¯ä¸ç°å®çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ï¼Œåˆ†å¸ƒå¼èµ„æºç®¡ç†ç³»ç»Ÿåº”è¿è€Œç”Ÿï¼Œå¸¸è§çš„åŒ…æ‹¬YARNã€Kuberneteså’ŒMesosï¼Œå®ƒä»¬çš„å…¸å‹åº”ç”¨é¢†åŸŸå¦‚å›¾5æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;gif&quot; data-w=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnFCSZy1z2yZ9r5zrqLP9FXKQQsJG3Ihq7ohboUWIlibu7SrEdAzqn1Tw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;402&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;112&quot; data-ratio=&quot;0.3933002481389578&quot; data-type=&quot;png&quot; data-w=&quot;806&quot; data-backw=&quot;402&quot; data-backh=&quot;158&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6zdlI6GXE0r1HEuq7SZAQmk7xrdsic13bic9KIYmKXF4Od26AKsJnwGqA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;245:670&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;4&quot;&gt;4&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®è®¡ç®—æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;æ•°æ®è®¡ç®—åˆ†ä¸ºç¦»çº¿æ•°æ®è®¡ç®—å’Œå®æ—¶æ•°æ®è®¡ç®—ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ï¼ˆ1ï¼‰ç¦»çº¿æ•°æ®è®¡ç®—&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤§æ•°æ®ä¸­çš„ç¦»çº¿æ•°æ®è®¡ç®—å¼•æ“ç»è¿‡åå‡ å¹´çš„å‘å±•ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ä¸»è¦å‘ç”Ÿäº†3æ¬¡å¤§çš„å˜æ›´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;MapReduce&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¯ä»¥ç§°å¾—ä¸Šæ˜¯å¤§æ•°æ®è¡Œä¸šçš„ç¬¬ä¸€ä»£ç¦»çº¿æ•°æ®è®¡ç®—å¼•æ“ï¼Œä¸»è¦ç”¨äºè§£å†³å¤§è§„æ¨¡æ•°æ®é›†çš„åˆ†å¸ƒå¼å¹¶è¡Œè®¡ç®—ã€‚MapReduceè®¡ç®—å¼•æ“çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°†è®¡ç®—é€»è¾‘æŠ½è±¡æˆMapå’ŒReduceä¸¤ä¸ªé˜¶æ®µè¿›è¡Œå¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Tezè®¡ç®—å¼•æ“&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨å¤§æ•°æ®æŠ€æœ¯ç”Ÿæ€åœˆä¸­çš„å­˜åœ¨æ„Ÿè¾ƒå¼±ï¼Œå®é™…å·¥ä½œä¸­å¾ˆå°‘ä¼šå•ç‹¬ä½¿ç”¨Tezå»å¼€å‘è®¡ç®—ç¨‹åºã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Spark&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å†…å­˜è®¡ç®—ï¼šä»»åŠ¡æ‰§è¡Œé˜¶æ®µçš„ä¸­é—´ç»“æœå…¨éƒ¨è¢«æ”¾åœ¨å†…å­˜ä¸­ï¼Œä¸éœ€è¦è¯»å†™ç£ç›˜ï¼Œæå¤§åœ°æé«˜äº†æ•°æ®çš„è®¡ç®—æ€§èƒ½ã€‚Sparkæä¾›äº†å¤§é‡é«˜é˜¶å‡½æ•°ï¼ˆä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºç®—å­ï¼‰ï¼Œå¯ä»¥å®ç°å„ç§å¤æ‚é€»è¾‘çš„è¿­ä»£è®¡ç®—ï¼Œéå¸¸é€‚åˆåº”ç”¨åœ¨æµ·é‡æ•°æ®çš„å¿«é€Ÿä¸”å¤æ‚è®¡ç®—éœ€æ±‚ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ï¼ˆ2ï¼‰å®æ—¶æ•°æ®è®¡ç®—&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸šå†…æœ€å…¸å‹çš„å®æ—¶æ•°æ®è®¡ç®—åœºæ™¯æ˜¯å¤©çŒ«â€œåŒåä¸€â€çš„æ•°æ®å¤§å±ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®å¤§å±ä¸­å±•ç°çš„æˆäº¤æ€»é‡‘é¢ã€è®¢å•æ€»é‡ç­‰æ•°æ®æŒ‡æ ‡ï¼Œéƒ½æ˜¯å®æ—¶è®¡ç®—å‡ºæ¥çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”¨æˆ·è´­ä¹°å•†å“åï¼Œå•†å“çš„é‡‘é¢å°±ä¼šè¢«å®æ—¶å¢åŠ åˆ°æ•°æ®å¤§å±ä¸­çš„æˆäº¤æ€»é‡‘é¢ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”¨äºå®æ—¶æ•°æ®è®¡ç®—çš„å·¥å…·ä¸»è¦æœ‰ä»¥ä¸‹3ç§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;SparkÂ Streaming&lt;/span&gt;&lt;span&gt;å’ŒStormã€Flinkä¹‹é—´çš„åŒºåˆ«è§è¡¨4ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨4&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.23055555555555557&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-backw=&quot;578&quot; data-backh=&quot;133&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnk1E8LOn0GfPaAN9AbViaVGU2sqY2waH6fic5WlI8gnL4cD4g5GrrZggQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Stormã€Sparkã€Flink ä¹‹é—´çš„æŠ€æœ¯é€‰å‹å¦‚å›¾6æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;gif&quot; data-w=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnFCSZy1z2yZ9r5zrqLP9FXKQQsJG3Ihq7ohboUWIlibu7SrEdAzqn1Tw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;398&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;101&quot; data-ratio=&quot;0.35434007134363854&quot; data-type=&quot;png&quot; data-w=&quot;841&quot; data-backw=&quot;398&quot; data-backh=&quot;141&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6DE07erCBzl0ZTAoWoyvfvajuFsHT5QdibNq33PQjJPvQB0eoodpRjug/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰ä¼ä¸šä¸­ç¦»çº¿è®¡ç®—ä¸»è¦ä½¿ç”¨Sparkï¼Œå®æ—¶è®¡ç®—ä¸»è¦ä½¿ç”¨Flinkã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;222:661&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;5&quot;&gt;5&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®åˆ†ææŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åˆ†ææŠ€æœ¯æ¡†æ¶åŒ…æ‹¬Hiveã€Impalaã€Kylinã€Clickhouseã€Druidã€Dorisç­‰ï¼Œå®ƒä»¬çš„å…¸å‹åº”ç”¨åœºæ™¯å¦‚å›¾7æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;406&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;228&quot; data-ratio=&quot;0.6544117647058824&quot; data-type=&quot;png&quot; data-w=&quot;816&quot; data-backw=&quot;406&quot; data-backh=&quot;266&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6RRE5Qic6tLXASrzNF75LA02DfRRKO4clAGMNUUDSZXwLoiafWuDcWKaw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;gif&quot; data-w=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnFCSZy1z2yZ9r5zrqLP9FXKQQsJG3Ihq7ohboUWIlibu7SrEdAzqn1Tw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Hiveã€Impalaå’ŒKylinå±äºå…¸å‹çš„ç¦»çº¿OLAPæ•°æ®åˆ†æå¼•æ“ï¼Œä¸»è¦åº”ç”¨åœ¨ç¦»çº¿æ•°æ®åˆ†æé¢†åŸŸï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«è§è¡¨5ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨5&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.16342412451361868&quot; data-type=&quot;png&quot; data-w=&quot;1028&quot; data-backw=&quot;578&quot; data-backh=&quot;94&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnqQIezGPaTf0nvmCPWiaY4TdtODj0fgvicRzSmJwiahYL7DucX0rX7kLBw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Clickhouseã€Druidå’ŒDoriså±äºå…¸å‹çš„å®æ—¶OLAPæ•°æ®åˆ†æå¼•æ“ï¼Œä¸»è¦åº”ç”¨åœ¨å®æ—¶æ•°æ®åˆ†æé¢†åŸŸï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«è§è¡¨6ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨6&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.19166666666666668&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-backw=&quot;578&quot; data-backh=&quot;111&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnGQVnQUtiaMrApOPbAMP2xr47d5UO2rJ0LeHYBMiaq15stoibvMGuA3yibA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;h2/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;231:651&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;6&quot;&gt;6&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;ä»»åŠ¡è°ƒåº¦æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;ä»»åŠ¡è°ƒåº¦æŠ€æœ¯æ¡†æ¶åŒ…æ‹¬&lt;/span&gt;&lt;strong&gt;&lt;span&gt;Azkabanã€Ooizeã€DolphinSchedulerç­‰&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;å®ƒä»¬é€‚ç”¨äºæ™®é€šå®šæ—¶æ‰§è¡Œçš„ä¾‹è¡ŒåŒ–ä»»åŠ¡ï¼Œä»¥åŠåŒ…å«å¤æ‚ä¾èµ–å…³ç³»çš„å¤šçº§ä»»åŠ¡è¿›è¡Œè°ƒåº¦ï¼Œæ”¯æŒåˆ†å¸ƒå¼ï¼Œä¿è¯è°ƒåº¦ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«è§è¡¨7ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;è¡¨7&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4140625&quot; data-type=&quot;png&quot; data-w=&quot;1024&quot; data-backw=&quot;578&quot; data-backh=&quot;239&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnJbs1CophuTiapiaMcLGqibWTav8nYhibKg4vRUicutxnOznK1AQjXH0647Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®ƒä»¬ä¹‹å‰çš„æŠ€æœ¯é€‰å‹å¦‚å›¾8æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â &lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;419&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;117&quot; data-ratio=&quot;0.3951332560834299&quot; data-type=&quot;png&quot; data-w=&quot;863&quot; data-backw=&quot;419&quot; data-backh=&quot;166&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6pJHKwia2ha5vDOsSLtN5wSLN4VibCGEQZfuO0WrlKHRic9n7H0opbibdxA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;7&quot;&gt;7&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;220:684&quot;&gt;&lt;span&gt;&lt;strong&gt;å¤§æ•°æ®åº•å±‚åŸºç¡€æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;å¤§æ•°æ®åº•å±‚åŸºç¡€æŠ€æœ¯æ¡†æ¶ä¸»è¦æ˜¯æŒ‡&lt;/span&gt;&lt;strong&gt;&lt;span&gt;Zookeeper&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;Zookeepeä¸»è¦æä¾›å¸¸ç”¨çš„åŸºç¡€åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šå‘½åç©ºé—´ã€é…ç½®æœåŠ¡ç­‰ï¼‰ï¼Œå¤§æ•°æ®ç”Ÿæ€åœˆä¸­çš„Hadoopï¼ˆHAï¼‰ã€HBaseã€Kafkaç­‰æŠ€æœ¯ç»„ä»¶çš„è¿è¡Œéƒ½ä¼šç”¨åˆ°Zookeeperã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;173:675&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;8&quot;&gt;8&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®æ£€ç´¢æŠ€æœ¯æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;éšç€ä¼ä¸šä¸­æ•°æ®çš„é€æ­¥ç§¯ç´¯ï¼Œé’ˆå¯¹æµ·é‡æ•°æ®çš„ç»Ÿè®¡åˆ†æéœ€æ±‚ä¼šå˜å¾—è¶Šæ¥è¶Šå¤šæ ·åŒ–ï¼šä¸ä»…è¦è¿›è¡Œåˆ†æï¼Œè¿˜è¦å®ç°å¤šæ¡ä»¶å¿«é€Ÿå¤æ‚æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œç”µå•†ç½‘ç«™ä¸­çš„å•†å“æœç´¢åŠŸèƒ½ï¼Œä»¥åŠå„ç§æœç´¢å¼•æ“ä¸­çš„ä¿¡æ¯æ£€ç´¢åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½éƒ½å±äºå¤šæ¡ä»¶å¿«é€Ÿå¤æ‚æŸ¥è¯¢çš„èŒƒç•´ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;åœ¨é€‰æ‹©å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·æ—¶ï¼Œå¯ä»¥ä»æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€ç¨³å®šæ€§ã€é›†ç¾¤è¿ç»´éš¾åº¦ã€é¡¹ç›®é›†æˆç¨‹åº¦ã€ç¤¾åŒºæ´»è·ƒåº¦è¿™å‡ ä¸ªæ–¹é¢è¿›è¡Œå¯¹æ¯”ã€‚Luceneã€Solrå’ŒElasticsearchçš„å¯¹æ¯”è§è¡¨8ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¡¨8&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2667964946445959&quot; data-type=&quot;png&quot; data-w=&quot;1027&quot; data-backw=&quot;578&quot; data-backh=&quot;154&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnE9tCQxsG6lNNOIL6D0pLrC1oaqzyV8G96C25MYibrduIzpfdj6qyK4g/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;h2/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-id=&quot;98856&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section hm_fix=&quot;227:671&quot;&gt;&lt;section data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;9&quot;&gt;9&lt;/section&gt;&lt;section data-width=&quot;15%&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;å¤§æ•°æ®é›†ç¾¤å®‰è£…ç®¡ç†æ¡†æ¶&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;ä¼ä¸šå¦‚æœæƒ³ä»ä¼ ç»Ÿçš„æ•°æ®å¤„ç†è½¬å‹åˆ°å¤§æ•°æ®å¤„ç†ï¼Œé¦–å…ˆè¦åšå°±æ˜¯æ­å»ºä¸€ä¸ªç¨³å®šå¯é çš„å¤§æ•°æ®å¹³å°ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä¸€ä¸ªå®Œæ•´çš„å¤§æ•°æ®å¹³å°éœ€è¦åŒ…å«æ•°æ®é‡‡é›†ã€æ•°æ®å­˜å‚¨ã€æ•°æ®è®¡ç®—ã€æ•°æ®åˆ†æã€é›†ç¾¤ç›‘æ§ç­‰åŠŸèƒ½ï¼Œè¿™å°±æ„å‘³ç€å…¶ä¸­éœ€è¦åŒ…å«Flumeã€Kafkaã€HaDoopã€Hiveã€HBaseã€Sparkã€Flinkç­‰ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶éœ€è¦éƒ¨ç½²åˆ°ä¸Šç™¾å°ç”šè‡³ä¸Šåƒå°æœºå™¨ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¾é è¿ç»´äººå‘˜å•ç‹¬å®‰è£…æ¯ä¸€ä¸ªç»„ä»¶ï¼Œåˆ™å·¥ä½œé‡æ¯”è¾ƒå¤§ï¼Œè€Œä¸”éœ€è¦è€ƒè™‘ç‰ˆæœ¬ä¹‹é—´çš„åŒ¹é…é—®é¢˜åŠå„ç§å†²çªé—®é¢˜ï¼Œå¹¶ä¸”åæœŸé›†ç¾¤ç»´æŠ¤å·¥ä½œä¹Ÿä¼šç»™è¿ç»´äººå‘˜é€ æˆå¾ˆå¤§çš„å‹åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;äºæ˜¯ï¼Œå›½å¤–ä¸€äº›å‚å•†å°±å¯¹å¤§æ•°æ®ä¸­çš„ç»„ä»¶è¿›è¡Œäº†å°è£…ï¼Œæä¾›äº†ä¸€ä½“åŒ–çš„å¤§æ•°æ®å¹³å°ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å¿«é€Ÿå®‰è£…å¤§æ•°æ®ç»„ä»¶ã€‚ç›®å‰ä¸šå†…æœ€å¸¸è§çš„æ˜¯åŒ…æ‹¬CDHã€HDPã€CDPç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86005&quot;&gt;&lt;section data-autoskip=&quot;1&quot; data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;HDPï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å…¨ç§°æ˜¯ Hortonworks Data Platformã€‚å®ƒç”± Hortonworks å…¬å¸åŸºäº Apache Hadoop è¿›è¡Œäº†å°è£…ï¼Œå€ŸåŠ©äº Ambari å·¥å…·æä¾›ç•Œé¢åŒ–å®‰è£…å’Œç®¡ç†ï¼Œå¹¶ä¸”é›†æˆäº†å¤§æ•°æ®ä¸­çš„å¸¸è§ç»„ä»¶ï¼Œ å¯ä»¥æä¾›ä¸€ç«™å¼é›†ç¾¤ç®¡ç†ã€‚HDP å±äºå¼€æºç‰ˆå…è´¹å¤§æ•°æ®å¹³å°ï¼Œæ²¡æœ‰æä¾›å•†ä¸šåŒ–æœåŠ¡ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;CDHï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å…¨ç§°æ˜¯ Cloudera Distribution Including Apache Hadoopã€‚å®ƒç”± Cloudera å…¬å¸åŸºäº Apache Hadoop è¿›è¡Œäº†å•†ä¸šåŒ–ï¼Œå€ŸåŠ©äº Cloudera Manager å·¥å…·æä¾›ç•Œé¢åŒ–å®‰è£…å’Œç®¡ç†ï¼Œå¹¶ä¸”é›†æˆäº†å¤§æ•°æ®ä¸­çš„å¸¸è§ç»„ä»¶ï¼Œå¯ä»¥æä¾›ä¸€ç«™å¼é›†ç¾¤ç®¡ç†ã€‚CDH å±äºå•†ä¸šåŒ–æ”¶è´¹å¤§ æ•°æ®å¹³å°ï¼Œé»˜è®¤å¯ä»¥è¯•ç”¨ 30 å¤©ã€‚ä¹‹åï¼Œå¦‚æœæƒ³ç»§ç»­ä½¿ç”¨é«˜çº§åŠŸèƒ½åŠå•†ä¸šåŒ–æœåŠ¡ï¼Œåˆ™éœ€è¦ä»˜è´¹è´­ä¹°æˆæƒï¼Œå¦‚æœåªä½¿ç”¨åŸºç¡€åŠŸèƒ½ï¼Œåˆ™å¯ä»¥ç»§ç»­å…è´¹ä½¿ç”¨ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;CDPï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Cloudera å…¬å¸åœ¨ 2018 å¹´ 10 æœˆä»½æ”¶è´­äº† Hortonworksï¼Œä¹‹åæ¨å‡ºäº†æ–°ä¸€ä»£çš„å¤§æ•°æ®å¹³å°äº§å“ CDPï¼ˆCloudera Data Centerï¼‰ã€‚CDP çš„ç‰ˆæœ¬å·å»¶ç»­äº†ä¹‹å‰ CDH çš„ç‰ˆæœ¬å·ã€‚ä» 7.0 ç‰ˆæœ¬å¼€å§‹ï¼Œ CDP æ”¯æŒ Private Cloudï¼ˆç§æœ‰äº‘ï¼‰å’Œ Hybrid Cloudï¼ˆæ··åˆäº‘ï¼‰ã€‚CDP å°† HDP å’Œ CDH ä¸­æ¯”è¾ƒä¼˜ç§€çš„ç»„ä»¶è¿›è¡Œäº†æ•´åˆï¼Œå¹¶ä¸”å¢åŠ äº†ä¸€äº›æ–°çš„ç»„ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‰è€…çš„å…³ç³»å¦‚å›¾9æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;562&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;150&quot; data-ratio=&quot;0.4074074074074074&quot; data-type=&quot;png&quot; data-w=&quot;918&quot; data-backw=&quot;562&quot; data-backh=&quot;229&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nPJpjtezpjPicR4yfx7ARx6jfzkLgZnnicCtibjlHXlh8G0mvfFWGicMXCH4oSH3LDesFUFqUeVsty4w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;7&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p data-autoskip=&quot;1&quot; hm_fix=&quot;310:479&quot;&gt;ä»¥ä¸Šå†…å®¹å‡ºè‡ªäºã€Šå¤§æ•°æ®æŠ€æœ¯åŠæ¶æ„å›¾è§£å®æˆ˜æ´¾ã€‹ä¸€ä¹¦ï¼Œæ¬¢è¿é˜…è¯»æ­¤ä¹¦äº†è§£æ›´å¤šç›¸å…³å†…å®¹ï¼&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.8533333333333333&quot; data-type=&quot;jpeg&quot; data-w=&quot;750&quot; data-backw=&quot;578&quot; data-backh=&quot;1071&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnAITwE7ON3WBib2lqbRoPxqvgicqOxaGDEUpZbzE0JNticds6dj0hy1hVw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;2446&quot; data-backw=&quot;460&quot; data-ratio=&quot;5.317391304347826&quot; data-type=&quot;png&quot; data-w=&quot;460&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqn4o2gR4W8mGOVc2YqLTyexzvVK87vbr7lS8NHoTiafGfjJ2fLqicvJpWg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;png&quot; data-w=&quot;300&quot; data-width=&quot;155px&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3lcYIbxWw19Z0lTlaCgjaqnUB3ciagotcysgpIxZq8uMReOXx9XHvUGnNWPD6Zceviaic0U6icg0iaXCUg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç²‰ä¸ä¸“äº«å…­æŠ˜è´­ä¹¦ç ï¼Œå¿«å¿«æ‰«ç æŠ¢è´­å§ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mpcps class=&quot;js_editor_new_cps&quot; data-traceid=&quot;575b8c6b-c343-456f-a1da-14fc844368d4&quot; data-goodssouce=&quot;1&quot; data-pid=&quot;101_10056709578969&quot; data-appuin=&quot;3075341621&quot; data-buffer=&quot;{&amp;quot;category_id&amp;quot;:10,&amp;quot;pid&amp;quot;:&amp;quot;101_10056709578969&amp;quot;,&amp;quot;biz_uin&amp;quot;:&amp;quot;3075341621&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;575b8c6b-c343-456f-a1da-14fc844368d4&amp;quot;,&amp;quot;sku_id&amp;quot;:&amp;quot;101_10056709578969&amp;quot;,&amp;quot;source_id&amp;quot;:2,&amp;quot;source_name&amp;quot;:&amp;quot;äº¬ä¸œ&amp;quot;,&amp;quot;audit_state&amp;quot;:1,&amp;quot;main_img&amp;quot;:&amp;quot;https://img.zhls.qq.com/3/8cae711c1834414aa80a09af0b1d990e.jpg&amp;quot;,&amp;quot;product_name&amp;quot;:&amp;quot;å¤§æ•°æ®æŠ€æœ¯åŠæ¶æ„å›¾è§£å®æˆ˜æ´¾ å¾è‘³ ä½“ç³»å®Œæ•´ ä»é›¶èµ·æ­¥ ä¸°å¯Œå®æˆ˜æ¡ˆä¾‹ è¡”æ¥è¿ç»´ è¦†ç›–å¤§æ•°æ®ç”Ÿæ€åœˆå®Œæ•´æŠ€æœ¯ä½“ç³» ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾&amp;quot;,&amp;quot;current_price&amp;quot;:8800,&amp;quot;first_category_id&amp;quot;:&amp;quot;10&amp;quot;,&amp;quot;appuin&amp;quot;:&amp;quot;3075341621&amp;quot;,&amp;quot;isNewCpsKOL&amp;quot;:1}&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3ntPMYAJur3UuYzhSDgO7Puv74VHDtgNjyJbpQvt1gicgSpjrlpDy6BheYoAmtjiaF7cdIuPkuUlFkw/0?wx_fmt=png&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;1920&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;29.8961937716263&quot; data-fileid=&quot;503655759&quot; data-ratio=&quot;0.01574074074074074&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PW0wIHxgg3ntPMYAJur3UuYzhSDgO7Pu8DQL5f0FQIuDZC87yrAuNLy4frEdlMeWkthrlzczb0RbMOBQCAwDrA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3NTM0MTYyMQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/7iaMpruNx3Afic1pUJiat0zez4aPTUCyHDAs7PzvDuIO6GRh5jhGImRAicoUsg240UM4w7zooIKAiaqwnAiaU2BMNl0Q/0?wx_fmt=png&quot; data-nickname=&quot;å¿—æ˜ä¸æ•°æ®&quot; data-alias=&quot;zhiming_data&quot; data-signature=&quot;ä¸“æ³¨äºæ•°æ®ç®¡ç†ã€æ•°æ®æ²»ç†ã€é¡¹ç›®ç®¡ç†ã€å¤§æ•°æ®ç­‰ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†å†…å®¹ã€å®è·µç»éªŒã€å¿ƒå¾—æ„Ÿæ‚Ÿåˆ†äº«ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;èµ ä¹¦è§„åˆ™&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;è¯„è®ºåŒºèµ°å¿ƒç•™è¨€&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å+è·èµæ•°(&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;28+&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;)ç¬¬&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æˆªæ­¢&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;æ—¶é—´&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2022å¹´08æœˆ28æ—¥å‘¨æ—¥æ™š22ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ¬¢è¿è½¬å‘åˆ†äº«åˆ°ä½ çš„&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®åœˆ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;png&quot; data-w=&quot;20&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/7iaMpruNx3Af5F8mdTheAvIIM9ftyBDVMSOnias7b1QyR3JpT6EicOPWLB0lp5fbXwxTma580ibzbJljhUzJ4UnqZA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨å¿—æ˜ |Â æ–°ä¹¦ä¸æ–­ |Â å¥½ä¹¦ä¸åœ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.562037037037037&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/7iaMpruNx3AfEoklpib3AX98zT5icTZvhAVic9xvcDrE4EGtHNlWdAyRc4rqLcxrRuVyefpRpakRPuIgQXeOfHRCZQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æ–°åˆ°å®ç‰©ä¹¦ï¼Œéšæœºç¿»å¼€çœ‹ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>24b3a992431f69b3cf14b74542a471bc</guid>
<title>åˆ†å¸ƒå¼æ¥å£å¹‚ç­‰æ€§ã€åˆ†å¸ƒå¼é™æµï¼šGuava ã€Nginxå’Œluaé™æµ</title>
<link>https://toutiao.io/k/xqrfbe8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-style-type=&quot;5&quot; data-tools=&quot;æ–°åª’ä½“æ’ç‰ˆ&quot; data-id=&quot;965972&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å› å…¬ä¼—å·æ›´æ”¹æ¨é€è§„åˆ™ï¼Œè¯·ç‚¹â€œåœ¨çœ‹â€å¹¶åŠ â€œæ˜Ÿæ ‡â€&lt;span&gt;ç¬¬ä¸€æ—¶é—´è·å–ç²¾å½©æŠ€æœ¯åˆ†äº«&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç‚¹å‡»å…³æ³¨#äº’è”ç½‘æ¶æ„å¸ˆå…¬ä¼—å·ï¼Œé¢†å–&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247487508&amp;amp;idx=1&amp;amp;sn=78cf235aa9ba5f988c6922ca98f8bfd6&amp;amp;chksm=ea5cdd72dd2b54647cf55b4a73dcafa69fc7228205ad39ecc98fe57b39cdecb21c238c6d6cb6&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ¶æ„å¸ˆå…¨å¥—èµ„æ–™&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ¶æ„å¸ˆå…¨å¥—èµ„æ–™&lt;/span&gt;&lt;/a&gt;&lt;span&gt; éƒ½åœ¨è¿™é‡Œ&lt;/span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-fileid=&quot;100029587&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/b96CibCt70iaajvl7fD4ZCicMcjhXMp1v6UibM134tIsO1j5yqHyNhh9arj090oAL7zGhRJRq6cFqFOlDZMleLl4pw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;64&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247487508&amp;amp;idx=1&amp;amp;sn=78cf235aa9ba5f988c6922ca98f8bfd6&amp;amp;chksm=ea5cdd72dd2b54647cf55b4a73dcafa69fc7228205ad39ecc98fe57b39cdecb21c238c6d6cb6&amp;amp;scene=21&amp;amp;token=171858062&amp;amp;lang=zh_CN#wechat_redirect&quot; textvalue=&quot;0ã€2Tæ¶æ„å¸ˆå­¦ä¹ èµ„æ–™å¹²è´§åˆ†äº«&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;0ã€&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;2Tæ¶æ„å¸ˆå­¦ä¹ èµ„æ–™å¹²è´§åˆ†&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸Šä¸€ç¯‡ï¼š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247530269&amp;amp;idx=1&amp;amp;sn=9f4f45fe6e961b139fb0f4448b339ca4&amp;amp;chksm=ea5fba7bdd28336d2a1a4b0234c6a1a4375668213c49b3579352a0bff57af09661cd66d4d094&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Spring Boot+Redis+æ‹¦æˆªå™¨+è‡ªå®šä¹‰Annotationå®ç°æ¥å£è‡ªåŠ¨å¹‚ç­‰&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Spring Boot+Redis+æ‹¦æˆªå™¨+è‡ªå®šä¹‰Annotationå®ç°æ¥å£è‡ªåŠ¨å¹‚ç­‰&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯äº’è”ç½‘æ¶æ„å¸ˆï¼&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥å£å¹‚ç­‰æ€§å°±æ˜¯ç”¨æˆ·å¯¹äºåŒä¸€æ“ä½œå‘èµ·çš„ä¸€æ¬¡è¯·æ±‚æˆ–è€…å¤šæ¬¡è¯·æ±‚çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä¸ä¼šå› ä¸ºå¤šæ¬¡ç‚¹å‡»è€Œäº§ç”Ÿäº†å‰¯ä½œç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œé‚£å°±æ˜¯æ”¯ä»˜ï¼Œç”¨æˆ·è´­ä¹°å•†å“åæ”¯ä»˜ï¼Œæ”¯ä»˜æ‰£æ¬¾æˆåŠŸï¼Œä½†æ˜¯è¿”å›ç»“æœçš„æ—¶å€™ç½‘ç»œå¼‚å¸¸ï¼Œæ­¤æ—¶é’±å·²ç»æ‰£äº†ï¼Œç”¨æˆ·å†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œæ­¤æ—¶ä¼šè¿›è¡Œç¬¬äºŒæ¬¡æ‰£æ¬¾ï¼Œè¿”å›ç»“æœæˆåŠŸï¼Œç”¨æˆ·æŸ¥è¯¢ä½™é¢è¿”å‘ç°å¤šæ‰£é’±äº†ï¼Œæµæ°´è®°å½•ä¹Ÿå˜æˆäº†ä¸¤æ¡,è¿™å°±æ²¡æœ‰ä¿è¯æ¥å£çš„å¹‚ç­‰æ€§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹‚ç­‰æ€§çš„æ ¸å¿ƒæ€æƒ³ï¼šé€šè¿‡å”¯ä¸€çš„ä¸šåŠ¡å•å·ä¿éšœå¹‚ç­‰æ€§ï¼Œéå¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ä¸šåŠ¡å•å·æœ‰æ²¡æœ‰æ“ä½œè¿‡ï¼Œæ²¡æœ‰åˆ™æ‰§è¡Œæ“ä½œï¼Œå¹¶å‘æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ“ä½œè¿‡ç¨‹éœ€è¦åŠ é”ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€Updateæ“ä½œçš„å¹‚ç­‰æ€§&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1ï¼‰æ ¹æ®å”¯ä¸€ä¸šåŠ¡å·å»æ›´æ–°æ•°æ®&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ç‰ˆæœ¬å·çš„æ–¹å¼ï¼Œæ¥æ§åˆ¶updateçš„æ“ä½œçš„å¹‚ç­‰æ€§ï¼Œç”¨æˆ·æŸ¥è¯¢å‡ºè¦ä¿®æ”¹çš„æ•°æ®ï¼Œç³»ç»Ÿå°†æ•°æ®è¿”å›ç»™é¡µé¢ï¼Œå°†æ•°æ®ç‰ˆæœ¬å·æ”¾å…¥éšè—åŸŸï¼Œç”¨æˆ·ä¿®æ”¹æ•°æ®ï¼Œç‚¹å‡»æäº¤ï¼Œå°†ç‰ˆæœ¬å·ä¸€åŒæäº¤ç»™åå°ï¼Œåå°ä½¿ç”¨ç‰ˆæœ¬å·ä½œä¸ºæ›´æ–°æ¡ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;update&lt;/span&gt;Â &lt;span&gt;set&lt;/span&gt;Â &lt;span&gt;version&lt;/span&gt;Â =Â &lt;span&gt;version&lt;/span&gt;Â +&lt;span&gt;1&lt;/span&gt;Â ,xxx=${xxx}Â &lt;span&gt;where&lt;/span&gt;Â &lt;span&gt;id&lt;/span&gt;Â =xxxÂ &lt;span&gt;and&lt;/span&gt;Â &lt;span&gt;version&lt;/span&gt;Â =Â ${&lt;span&gt;version&lt;/span&gt;};Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€ä½¿ç”¨Tokenæœºåˆ¶ï¼Œä¿è¯updateã€insertæ“ä½œçš„å¹‚ç­‰æ€§&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1ï¼‰æ²¡æœ‰å”¯ä¸€ä¸šåŠ¡å·çš„updateä¸insertæ“ä½œ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿›å…¥åˆ°æ³¨å†Œé¡µæ—¶ï¼Œåå°ç»Ÿä¸€ç”ŸæˆTokenï¼Œ è¿”å›å‰å°éšè—åŸŸä¸­ï¼Œç”¨æˆ·åœ¨é¡µé¢ç‚¹å‡»æäº¤æ—¶ï¼Œå°†Tokenä¸€åŒä¼ å…¥åå°ï¼Œä½¿ç”¨Tokenè·å–åˆ†å¸ƒå¼é”ï¼Œå®ŒæˆInsertæ“ä½œï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œä¸é‡Šæ”¾é”ï¼Œç­‰å¾…è¿‡æœŸè‡ªåŠ¨é‡Šæ”¾ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;äºŒã€åˆ†å¸ƒå¼é™æµ&lt;/span&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1ã€åˆ†å¸ƒå¼é™æµçš„å‡ ç§ç»´åº¦&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¶é—´ é™æµåŸºäºæŸæ®µæ—¶é—´èŒƒå›´æˆ–è€…æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œæ—¶é—´çª—å£â€ï¼Œæ¯”å¦‚å¯¹æ¯åˆ†é’Ÿã€æ¯ç§’é’Ÿçš„æ—¶é—´çª—å£åšé™å®š èµ„æº åŸºäºå¯ç”¨èµ„æºçš„é™åˆ¶ï¼Œæ¯”å¦‚è®¾å®šæœ€å¤§è®¿é—®æ¬¡æ•°ï¼Œæˆ–æœ€é«˜å¯ç”¨è¿æ¥æ•°&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢ä¸¤ä¸ªç»´åº¦ç»“åˆèµ·æ¥çœ‹ï¼Œé™æµå°±æ˜¯åœ¨æŸä¸ªæ—¶é—´çª—å£å¯¹èµ„æºè®¿é—®åšé™åˆ¶ï¼Œæ¯”å¦‚è®¾å®šæ¯ç§’æœ€å¤š100ä¸ªè®¿é—®è¯·æ±‚ã€‚ä½†åœ¨çœŸæ­£çš„åœºæ™¯é‡Œï¼Œæˆ‘ä»¬ä¸æ­¢è®¾ç½®ä¸€ç§é™æµè§„åˆ™ï¼Œè€Œæ˜¯ä¼šè®¾ç½®å¤šä¸ªé™æµè§„åˆ™å…±åŒä½œç”¨ï¼Œä¸»è¦çš„å‡ ç§é™æµè§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1ï¼‰QPSå’Œè¿æ¥æ•°æ§åˆ¶&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é’ˆå¯¹ä¸Šå›¾ä¸­çš„è¿æ¥æ•°å’ŒQPS(query per second)é™æµæ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®¾å®šIPç»´åº¦çš„é™æµï¼Œä¹Ÿå¯ä»¥è®¾ç½®åŸºäºå•ä¸ªæœåŠ¡å™¨çš„é™æµã€‚åœ¨çœŸå®ç¯å¢ƒä¸­é€šå¸¸ä¼šè®¾ç½®å¤šä¸ªç»´åº¦çš„é™æµè§„åˆ™ï¼Œæ¯”å¦‚è®¾å®šåŒä¸€ä¸ªIPæ¯ç§’è®¿é—®é¢‘ç‡å°äº10ï¼Œè¿æ¥æ•°å°äº5ï¼Œå†è®¾å®šæ¯å°æœºå™¨QPSæœ€é«˜1000ï¼Œè¿æ¥æ•°æœ€å¤§ä¿æŒ200ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ›´è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæŸä¸ªæœåŠ¡å™¨ç»„æˆ–æ•´ä¸ªæœºæˆ¿çš„æœåŠ¡å™¨å½“åšä¸€ä¸ªæ•´ä½“ï¼Œè®¾ç½®æ›´high-levelçš„é™æµè§„åˆ™ï¼Œè¿™äº›æ‰€æœ‰é™æµè§„åˆ™éƒ½ä¼šå…±åŒä½œç”¨äºæµé‡æ§åˆ¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2ï¼‰ä¼ è¾“é€Ÿç‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºâ€œä¼ è¾“é€Ÿç‡â€å¤§å®¶éƒ½ä¸ä¼šé™Œç”Ÿï¼Œæ¯”å¦‚èµ„æºçš„ä¸‹è½½é€Ÿåº¦ã€‚æœ‰çš„ç½‘ç«™åœ¨è¿™æ–¹é¢çš„é™æµé€»è¾‘åšçš„æ›´ç»†è‡´ï¼Œæ¯”å¦‚æ™®é€šæ³¨å†Œç”¨æˆ·ä¸‹è½½é€Ÿåº¦ä¸º100k/sï¼Œè´­ä¹°ä¼šå‘˜åæ˜¯10M/sï¼Œè¿™èƒŒåå°±æ˜¯åŸºäºç”¨æˆ·ç»„æˆ–è€…ç”¨æˆ·æ ‡ç­¾çš„é™æµé€»è¾‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;3ï¼‰é»‘ç™½åå•&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é»‘ç™½åå•æ˜¯å„ä¸ªå¤§å‹ä¼ä¸šåº”ç”¨é‡Œå¾ˆå¸¸è§çš„é™æµå’Œæ”¾è¡Œæ‰‹æ®µï¼Œè€Œä¸”é»‘ç™½åå•å¾€å¾€æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæŸä¸ªIPåœ¨ä¸€æ®µæ—¶é—´çš„è®¿é—®æ¬¡æ•°è¿‡äºé¢‘ç¹ï¼Œè¢«ç³»ç»Ÿè¯†åˆ«ä¸ºæœºå™¨äººç”¨æˆ·æˆ–æµé‡æ”»å‡»ï¼Œé‚£ä¹ˆè¿™ä¸ªIPå°±ä¼šè¢«åŠ å…¥åˆ°é»‘åå•ï¼Œä»è€Œé™åˆ¶å…¶å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¿—ç§°çš„â€œå°IPâ€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¹³æ—¶è§åˆ°çš„çˆ¬è™«ç¨‹åºï¼Œæ¯”å¦‚è¯´çˆ¬çŸ¥ä¹ä¸Šçš„ç¾å¥³å›¾ç‰‡ï¼Œæˆ–è€…çˆ¬åˆ¸å•†ç³»ç»Ÿçš„è‚¡ç¥¨åˆ†æ—¶ä¿¡æ¯ï¼Œè¿™ç±»çˆ¬è™«ç¨‹åºéƒ½å¿…é¡»å®ç°æ›´æ¢IPçš„åŠŸèƒ½ï¼Œä»¥é˜²è¢«åŠ å…¥é»‘åå•ã€‚æœ‰æ—¶æˆ‘ä»¬è¿˜ä¼šå‘ç°å…¬å¸çš„ç½‘ç»œæ— æ³•è®¿é—®12306è¿™ç±»å¤§å‹å…¬å…±ç½‘ç«™ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºæŸäº›å…¬å¸çš„å‡ºç½‘IPæ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œå› æ­¤åœ¨è®¿é—®é‡è¿‡é«˜çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªIPåœ°å€å°±è¢«å¯¹æ–¹ç³»ç»Ÿè¯†åˆ«ï¼Œè¿›è€Œè¢«æ·»åŠ åˆ°äº†é»‘åå•ã€‚ä½¿ç”¨å®¶åº­å®½å¸¦çš„åŒå­¦ä»¬åº”è¯¥çŸ¥é“ï¼Œå¤§éƒ¨åˆ†ç½‘ç»œè¿è¥å•†éƒ½ä¼šå°†ç”¨æˆ·åˆ†é…åˆ°ä¸åŒå‡ºç½‘IPæ®µï¼Œæˆ–è€…æ—¶ä¸æ—¶åŠ¨æ€æ›´æ¢ç”¨æˆ·çš„IPåœ°å€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç™½åå•å°±æ›´å¥½ç†è§£äº†ï¼Œç›¸å½“äºå¾¡èµé‡‘ç‰Œåœ¨èº«ï¼Œå¯ä»¥è‡ªç”±ç©¿æ¢­åœ¨å„ç§é™æµè§„åˆ™é‡Œï¼Œç•…è¡Œæ— é˜»ã€‚æ¯”å¦‚æŸäº›ç”µå•†å…¬å¸ä¼šå°†è¶…å¤§å–å®¶çš„è´¦å·åŠ å…¥ç™½åå•ï¼Œå› ä¸ºè¿™ç±»å–å®¶å¾€å¾€æœ‰è‡ªå·±çš„ä¸€å¥—è¿ç»´ç³»ç»Ÿï¼Œéœ€è¦å¯¹æ¥å…¬å¸çš„ITç³»ç»Ÿåšå¤§é‡çš„å•†å“å‘å¸ƒã€è¡¥è´§ç­‰ç­‰æ“ä½œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;4ï¼‰åˆ†å¸ƒå¼ç¯å¢ƒ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€è°“çš„åˆ†å¸ƒå¼é™æµï¼Œå…¶å®é“ç†å¾ˆç®€å•ï¼Œä¸€å¥è¯å°±å¯ä»¥è§£é‡Šæ¸…æ¥šã€‚åˆ†å¸ƒå¼åŒºåˆ«äºå•æœºé™æµçš„åœºæ™¯ï¼Œå®ƒæŠŠæ•´ä¸ªåˆ†å¸ƒå¼ç¯å¢ƒä¸­æ‰€æœ‰æœåŠ¡å™¨å½“åšä¸€ä¸ªæ•´ä½“æ¥è€ƒé‡ã€‚æ¯”å¦‚è¯´é’ˆå¯¹IPçš„é™æµï¼Œæˆ‘ä»¬é™åˆ¶äº†1ä¸ªIPæ¯ç§’æœ€å¤š10ä¸ªè®¿é—®ï¼Œä¸ç®¡æ¥è‡ªè¿™ä¸ªIPçš„è¯·æ±‚è½åœ¨äº†å“ªå°æœºå™¨ä¸Šï¼Œåªè¦æ˜¯è®¿é—®äº†é›†ç¾¤ä¸­çš„æœåŠ¡èŠ‚ç‚¹ï¼Œé‚£ä¹ˆéƒ½ä¼šå—åˆ°é™æµè§„åˆ™çš„åˆ¶çº¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„ä¾‹å­ä¸éš¾çœ‹å‡ºï¼Œæˆ‘ä»¬å¿…é¡»å°†é™æµä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªâ€œä¸­å¿ƒåŒ–â€çš„ç»„ä»¶ä¸Šï¼Œè¿™æ ·å®ƒå°±å¯ä»¥è·å–åˆ°é›†ç¾¤ä¸­æ‰€æœ‰æœºå™¨çš„è®¿é—®çŠ¶æ€ï¼Œç›®å‰æœ‰ä¸¤ä¸ªæ¯”è¾ƒä¸»æµçš„é™æµæ–¹æ¡ˆï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³å±‚é™æµ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸­é—´ä»¶é™æµ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å°†é™æµä¿¡æ¯å­˜å‚¨åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­æŸä¸ªä¸­é—´ä»¶é‡Œï¼ˆæ¯”å¦‚Redisç¼“å­˜ï¼‰ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ä»è¿™é‡Œè·å–åˆ°å½“å‰æ—¶åˆ»çš„æµé‡ç»Ÿè®¡ï¼Œä»è€Œå†³å®šæ˜¯æ‹’ç»æœåŠ¡è¿˜æ˜¯æ”¾è¡Œæµé‡&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2ã€é™æµæ–¹æ¡ˆå¸¸ç”¨ç®—æ³•è®²è§£&lt;/span&gt;&lt;/h4&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ï¼‰ä»¤ç‰Œæ¡¶ç®—æ³•&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Token Bucketä»¤ç‰Œæ¡¶ç®—æ³•æ˜¯ç›®å‰åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„é™æµç®—æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªå…³é”®è§’è‰²ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä»¤ç‰Œ è·å–åˆ°ä»¤ç‰Œçš„Requestæ‰ä¼šè¢«å¤„ç†ï¼Œå…¶ä»–Requestsè¦ä¹ˆæ’é˜Ÿè¦ä¹ˆè¢«ç›´æ¥ä¸¢å¼ƒ&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ¡¶ ç”¨æ¥è£…ä»¤ç‰Œçš„åœ°æ–¹ï¼Œæ‰€æœ‰Requestéƒ½ä»è¿™ä¸ªæ¡¶é‡Œé¢è·å–ä»¤ç‰Œ&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4583333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8KKrHK5ic6XAm8H0a8AQx38EIe3lIEdywfDFGbCUpcygn8f4QoXugbuLnqSpAISDqnwtxMI7NQNHRs9Vk5nbx9A/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;1080&quot;/&gt;&lt;figcaption&gt;å›¾ç‰‡&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä»¤ç‰Œç”Ÿæˆ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæµç¨‹æ¶‰åŠåˆ°ä»¤ç‰Œç”Ÿæˆå™¨å’Œä»¤ç‰Œæ¡¶ï¼Œå‰é¢æˆ‘ä»¬æåˆ°è¿‡ä»¤ç‰Œæ¡¶æ˜¯ä¸€ä¸ªè£…ä»¤ç‰Œçš„åœ°æ–¹ï¼Œæ—¢ç„¶æ˜¯ä¸ªæ¡¶é‚£ä¹ˆå¿…ç„¶æœ‰ä¸€ä¸ªå®¹é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ä»¤ç‰Œæ¡¶æ‰€èƒ½å®¹çº³çš„ä»¤ç‰Œæ•°é‡æ˜¯ä¸€ä¸ªå›ºå®šçš„æ•°å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºä»¤ç‰Œç”Ÿæˆå™¨æ¥è¯´ï¼Œå®ƒä¼šæ ¹æ®ä¸€ä¸ªé¢„å®šçš„é€Ÿç‡å‘æ¡¶ä¸­æ·»åŠ ä»¤ç‰Œï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é…ç½®è®©å®ƒä»¥æ¯ç§’100ä¸ªè¯·æ±‚çš„é€Ÿç‡å‘æ”¾ä»¤ç‰Œï¼Œæˆ–è€…æ¯åˆ†é’Ÿ50ä¸ªã€‚æ³¨æ„è¿™é‡Œçš„å‘æ”¾é€Ÿåº¦æ˜¯åŒ€é€Ÿï¼Œä¹Ÿå°±æ˜¯è¯´è¿™50ä¸ªä»¤ç‰Œå¹¶éæ˜¯åœ¨æ¯ä¸ªæ—¶é—´çª—å£åˆšå¼€å§‹çš„æ—¶å€™ä¸€æ¬¡æ€§å‘æ”¾ï¼Œè€Œæ˜¯ä¼šåœ¨è¿™ä¸ªæ—¶é—´çª—å£å†…åŒ€é€Ÿå‘æ”¾ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä»¤ç‰Œå‘æ”¾å™¨å°±æ˜¯ä¸€ä¸ªæ°´é¾™å¤´ï¼Œå‡å¦‚åœ¨ä¸‹é¢æ¥æ°´çš„æ¡¶å­æ»¡äº†ï¼Œé‚£ä¹ˆè‡ªç„¶è¿™ä¸ªæ°´ï¼ˆä»¤ç‰Œï¼‰å°±æµåˆ°äº†å¤–é¢ã€‚åœ¨ä»¤ç‰Œå‘æ”¾è¿‡ç¨‹ä¸­ä¹Ÿä¸€æ ·ï¼Œä»¤ç‰Œæ¡¶çš„å®¹é‡æ˜¯æœ‰é™çš„ï¼Œå¦‚æœå½“å‰å·²ç»æ”¾æ»¡äº†é¢å®šå®¹é‡çš„ä»¤ç‰Œï¼Œé‚£ä¹ˆæ–°æ¥çš„ä»¤ç‰Œå°±ä¼šè¢«ä¸¢å¼ƒæ‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä»¤ç‰Œè·å–&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯ä¸ªè®¿é—®è¯·æ±‚åˆ°æ¥åï¼Œå¿…é¡»è·å–åˆ°ä¸€ä¸ªä»¤ç‰Œæ‰èƒ½æ‰§è¡Œåé¢çš„é€»è¾‘ã€‚å‡å¦‚ä»¤ç‰Œçš„æ•°é‡å°‘ï¼Œè€Œè®¿é—®è¯·æ±‚è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä¸€éƒ¨åˆ†è¯·æ±‚è‡ªç„¶æ— æ³•è·å–åˆ°ä»¤ç‰Œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªâ€œç¼“å†²é˜Ÿåˆ—â€æ¥æš‚å­˜è¿™äº›å¤šä½™çš„ä»¤ç‰Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¼“å†²é˜Ÿåˆ—å…¶å®æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰åº”ç”¨äº†ä»¤ç‰Œæ¡¶ç®—æ³•çš„ç¨‹åºéƒ½ä¼šå®ç°é˜Ÿåˆ—ã€‚å½“æœ‰ç¼“å­˜é˜Ÿåˆ—å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œé‚£äº›æš‚æ—¶æ²¡æœ‰è·å–åˆ°ä»¤ç‰Œçš„è¯·æ±‚å°†è¢«æ”¾åˆ°è¿™ä¸ªé˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œç›´åˆ°æ–°çš„ä»¤ç‰Œäº§ç”Ÿåï¼Œå†ä»é˜Ÿåˆ—å¤´éƒ¨æ‹¿å‡ºä¸€ä¸ªè¯·æ±‚æ¥åŒ¹é…ä»¤ç‰Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“é˜Ÿåˆ—å·²æ»¡çš„æƒ…å†µä¸‹ï¼Œè¿™éƒ¨åˆ†è®¿é—®è¯·æ±‚å°†è¢«ä¸¢å¼ƒã€‚åœ¨å®é™…åº”ç”¨ä¸­æˆ‘ä»¬è¿˜å¯ä»¥ç»™è¿™ä¸ªé˜Ÿåˆ—åŠ ä¸€ç³»åˆ—çš„ç‰¹æ•ˆï¼Œæ¯”å¦‚è®¾ç½®é˜Ÿåˆ—ä¸­è¯·æ±‚çš„å­˜æ´»æ—¶é—´ï¼Œæˆ–è€…å°†é˜Ÿåˆ—æ”¹é€ ä¸ºPriorityQueueï¼Œæ ¹æ®æŸç§ä¼˜å…ˆçº§æ’åºï¼Œè€Œä¸æ˜¯å…ˆè¿›å…ˆå‡ºã€‚ç®—æ³•æ˜¯æ­»çš„ï¼Œäººæ˜¯æ´»çš„ï¼Œå…ˆè¿›çš„ç”Ÿäº§åŠ›æ¥è‡ªäºä¸æ–­çš„åˆ›é€ ï¼Œåœ¨æŠ€æœ¯é¢†åŸŸå°¤å…¶å¦‚æ­¤ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ï¼‰æ¼æ¡¶ç®—æ³•&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Leaky Bucket&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5972222222222222&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8KKrHK5ic6XAm8H0a8AQx38EIe3lIEdywV2z4moFZkz7II8aOylfO5DGl8WkfrPYO0pFOL55SEhStfj2iavXAa9w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;1080&quot;/&gt;&lt;figcaption&gt;å›¾ç‰‡&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¼æ¡¶ç®—æ³•çš„å‰åŠæ®µå’Œä»¤ç‰Œæ¡¶ç±»ä¼¼ï¼Œä½†æ˜¯æ“ä½œçš„å¯¹è±¡ä¸åŒï¼Œä»¤ç‰Œæ¡¶æ˜¯å°†ä»¤ç‰Œæ”¾å…¥æ¡¶é‡Œï¼Œè€Œæ¼æ¡¶æ˜¯å°†è®¿é—®è¯·æ±‚çš„æ•°æ®åŒ…æ”¾åˆ°æ¡¶é‡Œã€‚åŒæ ·çš„æ˜¯ï¼Œå¦‚æœæ¡¶æ»¡äº†ï¼Œé‚£ä¹ˆåé¢æ–°æ¥çš„æ•°æ®åŒ…å°†è¢«ä¸¢å¼ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¼æ¡¶ç®—æ³•çš„ååŠç¨‹æ˜¯æœ‰é²œæ˜ç‰¹è‰²çš„ï¼Œå®ƒæ°¸è¿œåªä¼šä»¥ä¸€ä¸ªæ’å®šçš„é€Ÿç‡å°†æ•°æ®åŒ…ä»æ¡¶å†…æµå‡ºã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œå¦‚æœæˆ‘è®¾ç½®äº†æ¼æ¡¶å¯ä»¥å­˜æ”¾100ä¸ªæ•°æ®åŒ…ï¼Œç„¶åæµå‡ºé€Ÿåº¦æ˜¯1sä¸€ä¸ªï¼Œé‚£ä¹ˆä¸ç®¡æ•°æ®åŒ…ä»¥ä»€ä¹ˆé€Ÿç‡æµå…¥æ¡¶é‡Œï¼Œä¹Ÿä¸ç®¡æ¡¶é‡Œæœ‰å¤šå°‘æ•°æ®åŒ…ï¼Œæ¼æ¡¶èƒ½ä¿è¯è¿™äº›æ•°æ®åŒ…æ°¸è¿œä»¥1sä¸€ä¸ªçš„æ’å®šé€Ÿåº¦è¢«å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ¼æ¡¶ vs ä»¤ç‰Œæ¡¶çš„åŒºåˆ«&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹æ®å®ƒä»¬å„è‡ªçš„ç‰¹ç‚¹ä¸éš¾çœ‹å‡ºæ¥ï¼Œè¿™ä¸¤ç§ç®—æ³•éƒ½æœ‰ä¸€ä¸ªâ€œæ’å®šâ€çš„é€Ÿç‡å’Œâ€œä¸å®šâ€çš„é€Ÿç‡ã€‚ä»¤ç‰Œæ¡¶æ˜¯ä»¥æ’å®šé€Ÿç‡åˆ›å»ºä»¤ç‰Œï¼Œä½†æ˜¯è®¿é—®è¯·æ±‚è·å–ä»¤ç‰Œçš„é€Ÿç‡â€œä¸å®šâ€ï¼Œåæ­£æœ‰å¤šå°‘ä»¤ç‰Œå‘å¤šå°‘ï¼Œä»¤ç‰Œæ²¡äº†å°±å¹²ç­‰ã€‚è€Œæ¼æ¡¶æ˜¯ä»¥â€œæ’å®šâ€çš„é€Ÿç‡å¤„ç†è¯·æ±‚ï¼Œä½†æ˜¯è¿™äº›è¯·æ±‚æµå…¥æ¡¶çš„é€Ÿç‡æ˜¯â€œä¸å®šâ€çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»è¿™ä¸¤ä¸ªç‰¹ç‚¹æ¥è¯´ï¼Œæ¼æ¡¶çš„å¤©ç„¶ç‰¹æ€§å†³å®šäº†å®ƒä¸ä¼šå‘ç”Ÿçªå‘æµé‡ï¼Œå°±ç®—æ¯ç§’1000ä¸ªè¯·æ±‚åˆ°æ¥ï¼Œé‚£ä¹ˆå®ƒå¯¹åå°æœåŠ¡è¾“å‡ºçš„è®¿é—®é€Ÿç‡æ°¸è¿œæ’å®šã€‚è€Œä»¤ç‰Œæ¡¶åˆ™ä¸åŒï¼Œå…¶ç‰¹æ€§å¯ä»¥â€œé¢„å­˜â€ä¸€å®šé‡çš„ä»¤ç‰Œï¼Œå› æ­¤åœ¨åº”å¯¹çªå‘æµé‡çš„æ—¶å€™å¯ä»¥åœ¨çŸ­æ—¶é—´æ¶ˆè€—æ‰€æœ‰ä»¤ç‰Œï¼Œå…¶çªå‘æµé‡å¤„ç†æ•ˆç‡ä¼šæ¯”æ¼æ¡¶é«˜ï¼Œä½†æ˜¯å¯¼å‘åå°ç³»ç»Ÿçš„å‹åŠ›ä¹Ÿä¼šç›¸åº”å¢å¤šã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3ã€åˆ†å¸ƒå¼é™æµçš„ä¸»æµæ–¹æ¡ˆ&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸»è¦è®²nginxå’Œluaçš„é™æµï¼Œgatewayå’Œhystrixæ”¾åœ¨åé¢springcloudä¸­è®²&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ï¼‰Guava RateLimiterå®¢æˆ·ç«¯é™æµ&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.å¼•å…¥maven&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.google.guava&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;guava&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;18.0&lt;span&gt;&amp;lt;/&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.ç¼–å†™Controller&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@RestController&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Controller&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//æ¯ç§’é’Ÿå¯ä»¥åˆ›å»ºä¸¤ä¸ªä»¤ç‰ŒÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â RateLimiterÂ limiterÂ =Â RateLimiter.create(&lt;span&gt;2.0&lt;/span&gt;);Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//éé˜»å¡é™æµÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;/tryAcquire&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;tryAcquire&lt;/span&gt;&lt;span&gt;(IntegerÂ count)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//countÂ æ¯æ¬¡æ¶ˆè€—çš„ä»¤ç‰ŒÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(limiter.tryAcquire(count)){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;æˆåŠŸï¼Œå…è®¸é€šè¿‡ï¼Œé€Ÿç‡ä¸º{}&quot;&lt;/span&gt;,limiter.getRate());Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;success&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;span&gt;else&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;é”™è¯¯ï¼Œä¸å…è®¸é€šè¿‡ï¼Œé€Ÿç‡ä¸º{}&quot;&lt;/span&gt;,limiter.getRate());Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;fail&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//é™å®šæ—¶é—´çš„éé˜»å¡é™æµÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;/tryAcquireWithTimeout&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;tryAcquireWithTimeout&lt;/span&gt;&lt;span&gt;(IntegerÂ count,Â IntegerÂ timeout)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//countÂ æ¯æ¬¡æ¶ˆè€—çš„ä»¤ç‰ŒÂ Â timeoutÂ è¶…æ—¶ç­‰å¾…çš„æ—¶é—´Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(limiter.tryAcquire(count,timeout,TimeUnit.SECONDS)){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;æˆåŠŸï¼Œå…è®¸é€šè¿‡ï¼Œé€Ÿç‡ä¸º{}&quot;&lt;/span&gt;,limiter.getRate());Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;success&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;span&gt;else&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;é”™è¯¯ï¼Œä¸å…è®¸é€šè¿‡ï¼Œé€Ÿç‡ä¸º{}&quot;&lt;/span&gt;,limiter.getRate());Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;fail&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//åŒæ­¥é˜»å¡é™æµÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;/acquire&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;acquire&lt;/span&gt;&lt;span&gt;(IntegerÂ count)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â limiter.acquire(count);Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;æˆåŠŸï¼Œå…è®¸é€šè¿‡ï¼Œé€Ÿç‡ä¸º{}&quot;&lt;/span&gt;,limiter.getRate());Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;success&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ï¼‰åŸºäºNginxçš„é™æµ&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1.iPé™æµ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.ç¼–å†™Controller&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@RestController&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Controller&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//nginxæµ‹è¯•ä½¿ç”¨Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;/nginx&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;nginx&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;NginxÂ success&quot;&lt;/span&gt;);Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.ä¿®æ”¹hostæ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªç½‘å€åŸŸå&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1Â Â Â www.test.comÂ Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.ä¿®æ”¹nginxï¼Œå°†æ­¥éª¤2ä¸­çš„åŸŸåï¼Œæ·»åŠ åˆ°è·¯ç”±è§„åˆ™å½“ä¸­&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰“å¼€nginxçš„é…ç½®æ–‡ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;vimÂ /usr/&lt;span&gt;local&lt;/span&gt;/nginx/conf/nginx.confÂ Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ·»åŠ ä¸€ä¸ªæœåŠ¡&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;#æ ¹æ®IPåœ°å€é™åˆ¶é€Ÿåº¦Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;#1ï¼‰$binary_remote_addrÂ Â Â binary_ç›®çš„æ˜¯ç¼©å†™å†…å­˜å ç”¨ï¼Œremote_addrè¡¨ç¤ºé€šè¿‡IPåœ°å€æ¥é™æµÂ Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;#2ï¼‰zone=iplimit:20mÂ Â Â iplimitæ˜¯ä¸€å—å†…å­˜åŒºåŸŸï¼ˆè®°å½•è®¿é—®é¢‘ç‡ä¿¡æ¯ï¼‰ï¼Œ20mæ˜¯æŒ‡è¿™å—å†…å­˜åŒºåŸŸçš„å¤§å°Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;#3ï¼‰rate=1r/sÂ Â æ¯ç§’æ”¾è¡Œ1ä¸ªè¯·æ±‚Â Â &lt;/span&gt;&lt;br/&gt;limit_req_zoneÂ &lt;span&gt;$binary_remote_addr&lt;/span&gt;Â zone=iplimit:20mÂ rate=1r/s;Â Â &lt;br/&gt;Â Â &lt;br/&gt;server{Â Â &lt;br/&gt;Â Â Â Â server_nameÂ www.test.com;Â Â &lt;br/&gt;Â Â Â Â locationÂ /access-limit/Â {Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â proxy_passÂ http://127.0.0.1:8080/;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#åŸºäºipåœ°å€çš„é™åˆ¶Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#1ï¼‰zone=iplimitÂ å¼•ç”¨limit_rep_zoneä¸­çš„zoneå˜é‡Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#2ï¼‰burst=2Â Â è®¾ç½®ä¸€ä¸ªå¤§å°ä¸º2çš„ç¼“å†²åŒºåŸŸï¼Œå½“å¤§é‡è¯·æ±‚åˆ°æ¥ï¼Œè¯·æ±‚æ•°é‡è¶…è¿‡é™æµé¢‘ç‡æ—¶ï¼Œå°†å…¶æ”¾å…¥ç¼“å†²åŒºåŸŸÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#3ï¼‰nodelayÂ Â Â ç¼“å†²åŒºæ»¡äº†ä»¥åï¼Œç›´æ¥è¿”å›503å¼‚å¸¸Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_reqÂ zone=iplimitÂ burst=2Â nodelay;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.è®¿é—®åœ°å€ï¼Œæµ‹è¯•æ˜¯å¦é™æµ&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;www.test.com/access-limit/nginx&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.å¤šç»´åº¦é™æµ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.ä¿®æ”¹nginxé…ç½®&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;#æ ¹æ®IPåœ°å€é™åˆ¶é€Ÿåº¦Â Â &lt;/span&gt;&lt;br/&gt;limit_req_zoneÂ &lt;span&gt;$binary_remote_addr&lt;/span&gt;Â zone=iplimit:20mÂ rate=10r/s;Â Â &lt;br/&gt;&lt;span&gt;#æ ¹æ®æœåŠ¡å™¨çº§åˆ«åšé™æµÂ Â &lt;/span&gt;&lt;br/&gt;limit_req_zoneÂ &lt;span&gt;$server_name&lt;/span&gt;Â zone=serverlimit:10mÂ rate=1r/s;Â Â &lt;br/&gt;&lt;span&gt;#æ ¹æ®ipåœ°å€çš„é“¾æ¥æ•°é‡åšé™æµÂ Â &lt;/span&gt;&lt;br/&gt;limit_conn_zoneÂ &lt;span&gt;$binary_remote_addr&lt;/span&gt;Â zone=perip:20m;Â Â &lt;br/&gt;&lt;span&gt;#æ ¹æ®æœåŠ¡å™¨çš„è¿æ¥æ•°åšé™æµÂ Â &lt;/span&gt;&lt;br/&gt;limit_conn_zoneÂ &lt;span&gt;$server_name&lt;/span&gt;Â zone=perserver:20m;Â Â &lt;br/&gt;Â Â &lt;br/&gt;Â Â &lt;br/&gt;server{Â Â &lt;br/&gt;Â Â Â Â server_nameÂ www.test.com;Â Â &lt;br/&gt;Â Â Â Â locationÂ /access-limit/Â {Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â proxy_passÂ http://127.0.0.1:8080/;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#åŸºäºipåœ°å€çš„é™åˆ¶Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_reqÂ zone=iplimitÂ burst=2Â nodelay;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#åŸºäºæœåŠ¡å™¨çº§åˆ«åšé™æµÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_reqÂ zone=serverlimitÂ burst=2Â nodelay;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#åŸºäºipåœ°å€çš„é“¾æ¥æ•°é‡åšé™æµÂ Â æœ€å¤šä¿æŒ100ä¸ªé“¾æ¥Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_connÂ zone=peripÂ 100;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#åŸºäºæœåŠ¡å™¨çš„è¿æ¥æ•°åšé™æµÂ æœ€å¤šä¿æŒ100ä¸ªé“¾æ¥Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_connÂ zone=perserverÂ 1;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#é…ç½®requestçš„å¼‚å¸¸è¿”å›504ï¼ˆé»˜è®¤ä¸º503ï¼‰Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_req_statusÂ 504;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â limit_conn_statusÂ 504;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â locationÂ /download/Â {Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#å‰100mä¸é™åˆ¶é€Ÿåº¦Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_rate_afferÂ 100m;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#é™åˆ¶é€Ÿåº¦ä¸º256kÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â limit_rateÂ 256k;Â Â &lt;br/&gt;Â Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3ï¼‰åŸºäºRedis+Luaçš„åˆ†å¸ƒå¼é™æµ&lt;/span&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;1.Luaè„šæœ¬&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Luaæ˜¯ä¸€ä¸ªå¾ˆå°å·§ç²¾è‡´çš„è¯­è¨€ï¼Œå®ƒçš„è¯ç”Ÿï¼ˆ1993å¹´ï¼‰ç”šè‡³æ¯”JDK 1.0è¿˜è¦æ—©ã€‚Luaæ˜¯ç”±æ ‡å‡†çš„Cè¯­è¨€ç¼–å†™çš„ï¼Œå®ƒçš„æºç éƒ¨åˆ†ä¸è¿‡2ä¸‡å¤šè¡ŒCä»£ç ï¼Œç”šè‡³ä¸€ä¸ªå®Œæ•´çš„Luaè§£é‡Šå™¨ä¹Ÿå°±200kçš„å¤§å°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Luaå¾€å¤§äº†è¯´æ˜¯ä¸€ä¸ªæ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¾€å°äº†è¯´å°±æ˜¯ä¸€ä¸ªè„šæœ¬è¯­è¨€ã€‚å¯¹äºæœ‰ç¼–ç¨‹ç»éªŒçš„åŒå­¦ï¼Œæ‹¿åˆ°ä¸€ä¸ªLuaè„šæœ¬å¤§ä½“ä¸Šå°±èƒ½æŠŠä¸šåŠ¡é€»è¾‘çŒœçš„å…«ä¹ä¸ç¦»åäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Rediså†…ç½®äº†Luaè§£é‡Šå™¨ï¼Œæ‰§è¡Œè¿‡ç¨‹ä¿è¯åŸå­æ€§&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.Luaå®‰è£…&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®‰è£…Luaï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.å‚è€ƒ&lt;code&gt;http://www.lua.org/ftp/&lt;/code&gt;æ•™ç¨‹ï¼Œä¸‹è½½5.3.5_1ç‰ˆæœ¬ï¼Œæœ¬åœ°å®‰è£…&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Macï¼Œé‚£å»ºè®®ç”¨brewå·¥å…·ç›´æ¥æ‰§è¡Œbrew install luaå°±å¯ä»¥é¡ºåˆ©å®‰è£…ï¼Œæœ‰å…³brewå·¥å…·çš„å®‰è£…å¯ä»¥å‚è€ƒ&lt;code&gt;https://brew.sh/&lt;/code&gt;ç½‘ç«™ï¼Œä½¿ç”¨brewå®‰è£…åçš„ç›®å½•åœ¨&lt;code&gt;/usr/local/Cellar/lua/5.3.5_1&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.å®‰è£…IDEAæ’ä»¶ï¼Œåœ¨IDEA-&amp;gt;Preferencesé¢æ¿ï¼ŒPluginsï¼Œé‡Œé¢Browse repositoriesï¼Œåœ¨é‡Œé¢æœç´¢luaï¼Œç„¶åå°±é€‰æ‹©åŒåæ’ä»¶luaã€‚å®‰è£…å¥½åé‡å¯IDEA&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.é…ç½®Lua SDKçš„ä½ç½®ï¼š&lt;code&gt;IDEA-&amp;gt;File-&amp;gt;Project Structure&lt;/code&gt;,é€‰æ‹©æ·»åŠ Luaï¼Œè·¯å¾„æŒ‡å‘Lua SDKçš„binæ–‡ä»¶å¤¹ï¼Œå…³äºnginxé¢è¯•èµ„æ–™ï¼Œå…¬ä¼— å·äº’è”ç½‘æ¶æ„å¸ˆï¼Œå›å¤2Tï¼Œé¢†å–é¢è¯•èµ„æ–™ã€‚Â &lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.éƒ½é…ç½®å¥½ä¹‹åï¼Œåœ¨é¡¹ç›®ä¸­å³é”®åˆ›å»ºModuleï¼Œå·¦ä¾§æ é€‰æ‹©luaï¼Œç‚¹ä¸‹ä¸€æ­¥ï¼Œé€‰æ‹©luaçš„sdkï¼Œä¸‹ä¸€æ­¥ï¼Œè¾“å…¥luaé¡¹ç›®åï¼Œå®Œæˆ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;3.ç¼–å†™hello lua&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;print&lt;/span&gt;Â &lt;span&gt;&#x27;HelloÂ Lua&#x27;&lt;/span&gt;Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;4.ç¼–å†™æ¨¡æ‹Ÿé™æµ&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;--Â æ¨¡æ‹Ÿé™æµÂ Â &lt;br/&gt;Â Â &lt;br/&gt;--Â ç”¨ä½œé™æµçš„keyÂ Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â keyÂ =Â &lt;span&gt;&#x27;myÂ key&#x27;&lt;/span&gt;Â Â &lt;br/&gt;Â Â &lt;br/&gt;--Â é™æµçš„æœ€å¤§é˜ˆå€¼Â Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â &lt;span&gt;limit&lt;/span&gt;Â =Â 2Â Â &lt;br/&gt;Â Â &lt;br/&gt;--Â å½“å‰é™æµå¤§å°Â Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â currentLimitÂ =Â 2Â Â &lt;br/&gt;Â Â &lt;br/&gt;--Â æ˜¯å¦è¶…è¿‡é™æµæ ‡å‡†Â Â &lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â currentLimitÂ +Â 1Â &amp;gt;Â &lt;span&gt;limit&lt;/span&gt;Â &lt;span&gt;then&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;print&lt;/span&gt;Â &lt;span&gt;&#x27;reject&#x27;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;else&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;print&lt;/span&gt;Â &lt;span&gt;&#x27;accept&#x27;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;Â Â &lt;br/&gt;endÂ Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;5.é™æµç»„ä»¶å°è£…&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.æ·»åŠ maven&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-data-redis&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-aop&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.google.guava&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;guava&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;18.0&lt;span&gt;&amp;lt;/&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.æ·»åŠ Springé…ç½®&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸æ˜¯é‡è¦å†…å®¹å°±éšä¾¿å†™ç‚¹ï¼Œä¸»è¦å°±æ˜¯æŠŠreidsé…ç½®ä¸€ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;server.port=8080Â Â &lt;br/&gt;Â Â &lt;br/&gt;spring.redis.database=0Â Â &lt;br/&gt;spring.redis.host=localhostÂ Â &lt;br/&gt;spring.redis.port=6376Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.ç¼–å†™é™æµè„šæœ¬&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;luaè„šæœ¬æ”¾åœ¨resourceç›®å½•ä¸‹å°±å¯ä»¥äº†&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;--Â è·å–æ–¹æ³•ç­¾åç‰¹å¾Â Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â methodKeyÂ =Â KEYS[1]Â Â &lt;br/&gt;redis.log(redis.LOG_DEBUG,&lt;span&gt;&#x27;keyÂ is&#x27;&lt;/span&gt;,methodKey)Â Â &lt;br/&gt;Â Â &lt;br/&gt;--Â è°ƒç”¨è„šæœ¬ä¼ å…¥çš„é™æµå¤§å°Â Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â &lt;span&gt;limit&lt;/span&gt;Â =Â tonumber(ARGV[1])Â Â &lt;br/&gt;Â Â &lt;br/&gt;--Â è·å–å½“å‰æµé‡å¤§å°Â Â &lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â countÂ =Â tonumber(redis.call(&lt;span&gt;&#x27;get&#x27;&lt;/span&gt;,methodKey)Â orÂ &lt;span&gt;&quot;0&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â &lt;br/&gt;--æ˜¯å¦è¶…å‡ºé™æµå€¼Â Â &lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â countÂ +Â 1Â &amp;gt;&lt;span&gt;limit&lt;/span&gt;Â &lt;span&gt;then&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â --Â æ‹’ç»è®¿é—®Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;else&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â --Â æ²¡æœ‰è¶…è¿‡é˜ˆå€¼Â Â &lt;br/&gt;Â Â Â Â --Â è®¾ç½®å½“å‰è®¿é—®æ•°é‡+1Â Â &lt;br/&gt;Â Â Â Â redis.call(&lt;span&gt;&#x27;INCRBY&#x27;&lt;/span&gt;,methodKey,1)Â Â &lt;br/&gt;Â Â Â Â --Â è®¾ç½®è¿‡æœŸæ—¶é—´Â Â &lt;br/&gt;Â Â Â Â redis.call(&lt;span&gt;&#x27;EXPIRE&#x27;&lt;/span&gt;,methodKey,1)Â Â &lt;br/&gt;Â Â Â Â --Â æ”¾è¡ŒÂ Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;Â Â &lt;br/&gt;endÂ Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.ä½¿ç”¨&lt;code&gt;spring-data-redis&lt;/code&gt;ç»„ä»¶é›†æˆLuaå’ŒRedis&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ›å»ºé™æµç±»&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AccessLimiter&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â StringRedisTemplateÂ stringRedisTemplate;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RedisScript&amp;lt;Boolean&amp;gt;Â rateLimitLua;Â Â &lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;limitAccess&lt;/span&gt;&lt;span&gt;(StringÂ key,IntegerÂ limit)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;boolean&lt;/span&gt;Â acquiredÂ =Â stringRedisTemplate.execute(Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â rateLimitLua,&lt;span&gt;//luaè„šæœ¬çš„çœŸèº«Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Lists.newArrayList(key),&lt;span&gt;//luaè„šæœ¬ä¸­çš„keyåˆ—è¡¨Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â limit.toString()&lt;span&gt;//luaè„šæœ¬çš„valueåˆ—è¡¨Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â );Â Â &lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(!acquired){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.error(&lt;span&gt;&quot;YourÂ accessÂ isÂ blocked,key={}&quot;&lt;/span&gt;,key);Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â RuntimeException(&lt;span&gt;&quot;YourÂ accessÂ isÂ blocked&quot;&lt;/span&gt;);Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ›å»ºé…ç½®ç±»&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Configuration&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;RedisConfiguration&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â RedisTemplate&amp;lt;String,String&amp;gt;Â &lt;span&gt;redisTemplate&lt;/span&gt;&lt;span&gt;(RedisConnectionFactoryÂ factory)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â StringRedisTemplate(factory);Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â DefaultRedisScriptÂ &lt;span&gt;loadRedisScript&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â DefaultRedisScriptÂ redisScriptÂ =Â &lt;span&gt;new&lt;/span&gt;Â DefaultRedisScript();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â redisScript.setLocation(&lt;span&gt;new&lt;/span&gt;Â ClassPathResource(&lt;span&gt;&quot;rateLimiter.lua&quot;&lt;/span&gt;));Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â redisScript.setResultType(java.lang.Boolean&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â redisScript;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5.åœ¨Controllerä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•éªŒè¯é™æµæ•ˆæœ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@RestController&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Controller&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â AccessLimiterÂ accessLimiter;Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;test&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;test&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â accessLimiter.limitAccess(&lt;span&gt;&quot;ratelimiter-test&quot;&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;);Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;success&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;6.ç¼–å†™é™æµæ³¨è§£&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.æ–°å¢æ³¨è§£&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Target&lt;/span&gt;({ElementType.METHOD})Â Â &lt;br/&gt;&lt;span&gt;@Retention&lt;/span&gt;(RetentionPolicy.RUNTIME)Â Â &lt;br/&gt;&lt;span&gt;@Documented&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;@interface&lt;/span&gt;Â AccessLimiterAop{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;limit&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;StringÂ &lt;span&gt;methodKey&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &quot;&quot;&lt;/span&gt;;Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.æ–°å¢åˆ‡é¢&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;@Aspect&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Component&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AccessLimiterAspect&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â AccessLimiterÂ Â accessLimiter;Â Â &lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//æ ¹æ®æ³¨è§£çš„ä½ç½®ï¼Œè‡ªå·±ä¿®æ”¹Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Pointcut&lt;/span&gt;(&lt;span&gt;&quot;@annotation(com.gyx.demo.annotation.AccessLimiter)&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;cut&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;cut&quot;&lt;/span&gt;);Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Before&lt;/span&gt;(&lt;span&gt;&quot;cut()&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;before&lt;/span&gt;&lt;span&gt;(JoinPointÂ joinPoint)&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è·å–æ–¹æ³•ç­¾åï¼Œä½œä¸ºmethodkeyÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â MethodSignatureÂ signatureÂ =(MethodSignature)Â joinPoint.getSignature();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â MethodÂ methodÂ =Â signature.getMethod();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â AccessLimiterAopÂ annotationÂ =Â method.getAnnotation(AccessLimiterAop&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(annotationÂ ==Â &lt;span&gt;null&lt;/span&gt;){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â StringÂ keyÂ =Â annotation.methodKey();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â IntegerÂ limitÂ =Â annotation.limit();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å¦‚æœæ²¡æœ‰è®¾ç½®methodKeyï¼Œå°±è‡ªåŠ¨æ·»åŠ ä¸€ä¸ªÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(StringUtils.isEmpty(key)){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Class[]Â typeÂ =Â method.getParameterType();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â keyÂ =Â method.getName();Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (typeÂ !=Â &lt;span&gt;null&lt;/span&gt;){Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â StringÂ paramTypes=Arrays.stream(type)Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .map(Class::getName)Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .collect(Collectors.joining(&lt;span&gt;&quot;,&quot;&lt;/span&gt;));Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â keyÂ +=Â &lt;span&gt;&quot;#&quot;&lt;/span&gt;+paramTypes;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è°ƒç”¨redisÂ Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â accessLimiter.limitAccess(key,limit);Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.åœ¨Controllerä¸­æ·»åŠ æµ‹è¯•æ–¹æ³•éªŒè¯é™æµæ•ˆæœ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@RestController&lt;/span&gt;Â Â &lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4jÂ Â &lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Controller&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â AccessLimiterÂ accessLimiter;Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;test&quot;&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@AccessLImiterAop&lt;/span&gt;(limitÂ =&lt;span&gt;1&lt;/span&gt;)Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;test&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;success&quot;&lt;/span&gt;;Â Â &lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;}Â &lt;/code&gt;&lt;/pre&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;æ¥æºï¼šblog.csdn.net/qq_34886352/article/details/104694550&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç›¸å…³é˜…è¯»ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;1ã€&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247523205&amp;amp;idx=1&amp;amp;sn=89b261f829ce6c3487ce8b2ccf3ed06b&amp;amp;chksm=ea5f56e3dd28dff5238989d3e07d775d34c04a4e80a166059e92e84379274819203d72d1dc1d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Alibabaå¼€æºå†…ç½‘é«˜å¹¶å‘ç¼–ç¨‹æ‰‹å†Œ.pdf&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Alibabaå¼€æºå†…ç½‘é«˜å¹¶å‘ç¼–ç¨‹æ‰‹å†Œ.pdf&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2ã€&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247487508&amp;amp;idx=1&amp;amp;sn=78cf235aa9ba5f988c6922ca98f8bfd6&amp;amp;chksm=ea5cdd72dd2b54647cf55b4a73dcafa69fc7228205ad39ecc98fe57b39cdecb21c238c6d6cb6&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;2Tæ¶æ„å¸ˆå­¦ä¹ èµ„æ–™å¹²è´§åˆ†äº«&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;2Tæ¶æ„å¸ˆå­¦ä¹ èµ„æ–™å¹²è´§åˆ†äº«&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3ã€&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247523100&amp;amp;idx=1&amp;amp;sn=82a70350577bde0bca6dd2dde811ca17&amp;amp;chksm=ea5f567add28df6cb6a780ff744c3ffdc79e498d2c2536ffb1853d8082ebfa986e1e5c43d532&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;10000+TB èµ„æºï¼Œé˜¿é‡Œäº‘ç›˜ï¼Œç‰›é€¼ï¼ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;10000+TB èµ„æºï¼Œé˜¿é‡Œäº‘ç›˜ï¼Œç‰›é€¼ï¼ï¼&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;p&gt;4ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247523863&amp;amp;idx=1&amp;amp;sn=4d2a2b5da60f14f3e8947e174d485c03&amp;amp;chksm=ea5f5371dd28da6791af6cb3a164c8052f1e77d7392cbbc87c5a73ccc6916b76eab29dbc9991&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åŸºæœ¬æ¶µç›–äº†Springæ‰€æœ‰æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;åŸºæœ¬æ¶µç›–äº†Springæ‰€æœ‰æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;Â  Â· END Â·&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æœ€åï¼Œå…³æ³¨å…¬ä¼—å·äº’è”ç½‘æ¶æ„å¸ˆï¼Œåœ¨åå°å›å¤ï¼š2Tï¼Œå¯ä»¥è·å–æˆ‘æ•´ç†çš„ Java ç³»åˆ—é¢è¯•é¢˜å’Œç­”æ¡ˆï¼Œéå¸¸é½å…¨&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3640625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRL358RWHQSLbUws79uyGm5RJ6WZibYJMAKUQibz8aYNA5LPSmbo1boibnD3IhggQ2F7kS37xgk3WXQ8Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™æ‰«æä¸‹å‘äºŒç»´ç å…³æ³¨ä¸€ä¸‹ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>