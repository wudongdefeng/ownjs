<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>aa8b9b7db22de7209399f7bd8541dfca</guid>
<title>httpså¼•èµ·çš„è·¨åŸŸé—®é¢˜-COE&amp;casestudy</title>
<link>https://toutiao.io/k/bim4wzo</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;é—®é¢˜å¾ˆç®€å•ï¼Œå¼€å‘ä¸€ä¸ªåå°æœåŠ¡ã€‚è¿™ä¸ªæœåŠ¡å‘¢ï¼ŒåŒ…å«äº†å‡ ä¸ªå›¢é˜Ÿçš„åå°æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ã€‚è¿™äº›åå°æœåŠ¡ä¹‹é—´çš„é¡¶çº§åŸŸå(ç›¸å…³æ¦‚å¿µåé¢ä¼šè§£é‡Š)ç›¸åŒï¼Œè¯·æ±‚å´æŠ¥é”™è¯´æœ‰è·¨åŸŸé—®é¢˜ã€‚ç»è°ƒæŸ¥ï¼ŒåŸå› æ˜¯è°ƒç”¨æ–¹æ˜¯httpæœåŠ¡ï¼Œè¢«è°ƒç”¨æ–¹æ˜¯httpsæœåŠ¡ï¼Œå¼•èµ·çš„è·¨åŸŸé—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5040983606557377&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRlibVMxkeEkgWAyRgXpvBFIp0vUl4LnKIGibq7c9drnW8OFty66GCpjavW7dbWOmgvwnQlTXeaCcUkbg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;488&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿™é‡Œå‡è®¾é—®é¢˜åˆ°ç”Ÿäº§ç¯å¢ƒæ‰å‘ç°ï¼Œæœ¬ç¯‡ä½¿ç”¨COEçš„å†™æ³•æ¥è®ºè¿°é—®é¢˜ã€‚COE(correction of error)æ›´æ­£é”™è¯¯ï¼Œæ˜¯å¾ˆå¤šå…¬å¸ç”¨æ¥åšé—®é¢˜æˆ–è€…äº‹æ•…å¤ç›˜çš„æ‰‹æ®µã€‚COEå› ä¸ºåç§°ä¸­å¸¦ç€â€œæœ‰äººçŠ¯é”™å•¦â€çš„æ„æ€ï¼Œå¾ˆå¤šå…¬å¸ä¸ºäº†è¡¨æ˜â€œè¿½ç©¶è´£ä»»ä¸æ˜¯ç›®çš„ï¼Œé‡è¦çš„æ˜¯å¸å–æ•™è®­ï¼Œé¿å…åŒæ ·å’ŒåŒç±»çš„é—®é¢˜â€ï¼ŒæŠŠCOEå«åšcasestudyä¸ªæ¡ˆç ”ç©¶ã€‚å®è·µè¯æ˜ï¼Œä¸ç®¡å«ä»€ä¹ˆï¼Œææƒ§ä¸€ç‚¹ä¹Ÿä¸ä¼šå‡å°‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5058977719528178&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRlibVMxkeEkgWAyRgXpvBFIp0EAlk0ViasRvadDIggvlVIHQaicfmhhIXJj4icJNJDgGiaAZouMMiaHThYPQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;763&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äº‹æ•…æè¿°&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;redæœåŠ¡ä»å‰ç«¯è°ƒç”¨grayæœåŠ¡æ—¶æŠ¥é”™ï¼šè·¨åŸŸé”™è¯¯ã€‚ç»æ’æŸ¥ç¡®è®¤ç”±äºhttpçš„åŸŸåä¸‹ä»å‰ç«¯è°ƒç”¨httpså¯¼è‡´ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äº‹æ•…è´£ä»»äºº&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;éƒ½æ˜¯æˆ‘çš„é”™&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äº‹æ•…å½±å“&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ–°æœåŠ¡ä¸Šçº¿ï¼Œæ— æ­£å¼ä¸šåŠ¡æ¥å…¥ï¼Œæ— ä¸šåŠ¡å½±å“ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ—¶é—´çº¿&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;14:00 ç°åº¦å‘å¸ƒæ–°ç‰ˆæœ¬å¹¶è¿›è¡ŒéªŒè¯&lt;/p&gt;&lt;p&gt;14:20Â éªŒè¯å‘ç°ä½¿ç”¨Chromeæµè§ˆå™¨é€šè¿‡ã€æ£€æŸ¥ã€‘-ã€ç½‘ç»œã€‘åŠŸèƒ½è§‚å¯Ÿåˆ°å‘èµ·äº†ä¸€ä¸ªOPTIONSç±»å‹çš„CORè·¨åŸŸè¯·æ±‚ï¼Œè¯·æ±‚æŠ¥é”™ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4275&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/2tk5ianItRl8VKfdZ0mhHrQgeXt1r32v8QYNoluojvc0sbxBx07FBneeibibZia7Q6OLnpeGGicibxu6YBMgKFqnFBvA/640?wx_fmt=other&quot; data-type=&quot;other&quot; data-w=&quot;800&quot;/&gt;&lt;/p&gt;&lt;p&gt;15:00Â ç¡®è®¤æ˜¯httpè®¿é—®httpså¯¼è‡´è¿åäº†åŒæºç­–ç•¥ï¼Œå¯¼è‡´è·¨åŸŸé—®é¢˜ã€‚æ–°æœåŠ¡ä¸Šçº¿ï¼Œæ— æ­£å¼ä¸šåŠ¡æ¥å…¥ï¼Œæ— ä¸šåŠ¡å½±å“ã€‚æ‰€ä»¥æœªè¿›è¡Œç‰ˆæœ¬å›æ»šã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ ¹æœ¬åŸå› åˆ†æ&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1ã€ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿé—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;p&gt;å‡ºäºå®‰å…¨åŸå› ï¼Œæµè§ˆå™¨é™åˆ¶ä»è„šæœ¬å†…å‘èµ·çš„è·¨æºHTTPè¯·æ±‚ã€‚å½“ä¸€ä¸ªèµ„æºä»ä¸è¯¥èµ„æºæœ¬èº«æ‰€åœ¨çš„æœåŠ¡å™¨ä¸åŒæºï¼Œè¯·æ±‚ä¸€ä¸ªèµ„æºæ—¶ï¼Œèµ„æºä¼šå‘èµ·ä¸€ä¸ªè·¨åŸŸ HTTP è¯·æ±‚ã€‚&lt;/p&gt;&lt;p&gt;åŒæºçš„åˆ¤æ–­æ ‡å‡†æ˜¯ï¼š&lt;/p&gt;&lt;p&gt;ä»¥ä¸Šä¸‰è€…éƒ½è¦ç›¸åŒã€‚å‘ç”Ÿé—®é¢˜çš„è¯·æ±‚ï¼Œç”±äºå…¶ä¸­åŸŸåé»˜è®¤åªè¦æ±‚é¡¶çº§åŸŸåç›¸åŒï¼Œæ­¤æ¡ä»¶æ»¡è¶³ï¼›åè®®ä¸€ä¸ªæ˜¯httpsï¼Œä¸€ä¸ªæ˜¯httpï¼Œä¸æ»¡è¶³ï¼›httpsç«¯å£ä¸º443ï¼Œhttpç«¯å£ä¸º80ï¼Œä¸æ»¡è¶³ã€‚æ€»ä½“ä¸æ»¡è¶³åŒæºç­–ç•¥ï¼Œè€Œä¸”è¢«è®¿é—®çš„åç«¯æ²¡æœ‰åšè·¨åŸŸå¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;2ã€ä¸ºä»€ä¹ˆæ²¡æœ‰åšè·¨åŸŸå¤„ç†ï¼Ÿ&lt;/p&gt;&lt;p&gt;å› ä¸ºé¡¶çº§åŸŸåç›¸åŒï¼Œå¹¶æœªè€ƒè™‘åˆ°æœ‰è·¨åŸŸé—®é¢˜ã€‚ä¸”æ•´ä¸ªåœ¨æµ‹è¯•ç¯å¢ƒä¸‹æµ‹è¯•é€šè¿‡ï¼Œå¹¶æœªå‘ç”Ÿé—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;3ã€ä¸ºä»€ä¹ˆæµ‹è¯•ç¯å¢ƒæ²¡æœ‰é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;p&gt;å› ä¸ºæµ‹è¯•ç¯å¢ƒï¼ŒåŒæ—¶æ”¯æŒhttpå’Œhttpsä¸¤ç§æ–¹å¼ï¼Œå½“æ—¶é…ç½®æ—¶æ²¡æœ‰è€ƒè™‘ä¸¤è€…ç›´æ¥çš„å·®å¼‚ï¼Œç›´æ¥ä½¿ç”¨httpçš„è·¯å¾„ã€‚&lt;/p&gt;&lt;p&gt;åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæ ¹æ®å®‰å…¨çš„è¦æ±‚ï¼Œå…³é—­äº†httpæ–¹å¼ï¼Œåªèƒ½ä½¿ç”¨httpsæ–¹å¼ï¼Œé€ æˆé—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;4ã€ä¸ºä»€ä¹ˆè°ƒç”¨ç«¯ä½¿ç”¨httpåè®®ï¼Ÿ&lt;/p&gt;&lt;p&gt;å› ä¸ºè°ƒç”¨ç«¯çš„æ¡†æ¶æ˜¯å‡ å¹´å‰çš„è€ç³»ç»Ÿï¼Œçº¿ä¸Šç¯å¢ƒè¿½æ±‚ç¨³å®šæ€§ï¼Œå˜æ›´æˆæœ¬é«˜ï¼Œç›®å‰è¿˜ç»´æŒä¹‹å‰çš„ç°çŠ¶ã€‚&lt;/p&gt;&lt;p&gt;5ã€ä¸ºä»€ä¹ˆè°ƒç”¨æ–¹æ˜¯postè°ƒç”¨ï¼Œå®é™…ä¸Šçš„è¯·æ±‚å´æ˜¯options?&lt;/p&gt;&lt;p&gt;å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰åŸŸåè®¿é—®åç«¯æœåŠ¡éƒ½å¯ä»¥ã€‚å…¶å®åœ¨æ­£å¼è·¨åŸŸä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®éœ€è¦å‘èµ·ä¸€æ¬¡é¢„æ£€ï¼ˆä¹Ÿå°±æ˜¯optionè¯·æ±‚ï¼‰ã€‚é¢„æ£€è¯·æ±‚ä¸æˆåŠŸï¼Œä¸ä¼šå‘èµ·æ­£å¼è¯·æ±‚ã€‚&lt;/p&gt;&lt;p&gt;æµè§ˆå™¨å°†CORSè¯·æ±‚åˆ†ä¸ºä¸¤ç±»ï¼šç®€å•è¯·æ±‚ï¼ˆsimple requestï¼‰å’Œéç®€å•è¯·æ±‚ï¼ˆnot-simple-requestï¼‰,ç®€å•è¯·æ±‚æµè§ˆå™¨ä¸ä¼šé¢„æ£€ï¼Œè€Œéç®€å•è¯·æ±‚ä¼šé¢„æ£€ã€‚&lt;/p&gt;&lt;p&gt;åŒæ—¶æ»¡è¶³ä¸‹åˆ—ä¸‰å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼Œå¦åˆ™å±äºéç®€å•è¯·æ±‚&lt;/p&gt;&lt;p&gt;å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥è¯·æ±‚ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¿¡æ¯ä¸­ï¼Œå¢åŠ ä¸€ä¸ªoriginå­—æ®µï¼Œæ¥è¯´æ˜æœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ˆåè®®+åŸŸå+ç«¯å£ï¼‰ã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œæ¥å†³å®šæ˜¯å¦åŒæ„è¯¥è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ä¼šå¤šå‡ ä¸ªå¤´ä¿¡æ¯å­—æ®µï¼Œå¦‚å›¾æ‰€ç¤ºï¼šä¸Šé¢çš„å¤´ä¿¡æ¯ä¸­ï¼Œä¸‰ä¸ªä¸CORSè¯·æ±‚ç›¸å…³ï¼Œéƒ½æ˜¯ä»¥Access-Control-å¼€å¤´ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;Access-Control-Allow-Originï¼šè¯¥å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œ* è¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ï¼Œè¿˜å¯ä»¥æŒ‡å®šåŸŸå&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Access-Control-Allow-Credentialsï¼šè¯¥å­—æ®µå¯é€‰ï¼Œæ˜¯ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å¯ä»¥æºå¸¦cookieï¼Œï¼ˆæ³¨æ„ï¼šå¦‚æœAccess-Control-Allow-Originå­—æ®µè®¾ç½®*ï¼Œæ­¤å­—æ®µè®¾ä¸ºtrueæ— æ•ˆï¼‰&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Access-Control-Allow-Headersï¼šè¯¥å­—æ®µå¯é€‰ï¼Œé‡Œé¢å¯ä»¥è·å–Cache-Controlã€Content-Typeã€Expiresç­‰ï¼Œå¦‚æœæƒ³è¦æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¯ä»¥åœ¨è¿™ä¸ªå­—æ®µä¸­æŒ‡å®šã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç»éªŒæ•™è®­&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;é¦–å…ˆæ˜¯çŸ¥è¯†æ–¹é¢ï¼šä¹‹å‰å¯¹åŒåŸŸæœ‰è¯¯è§£ï¼Œè®¤ä¸ºåªéœ€è¦é¡¶çº§åŸŸåç›¸åŒã€‚å®é™…ä¸Šéœ€è¦ç¬¦åˆåŸŸåã€åè®®å’Œç«¯å£ä¸‰è€…åŒæºçš„åŒæºç­–ç•¥ã€‚&lt;/p&gt;&lt;p&gt;å…¶æ¬¡æ˜¯æ²¡æœ‰å¯¹çº¿ä¸Šçº¿ä¸‹çš„å·®å¼‚åšä»”ç»†çš„è°ƒç ”åˆ†æã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åç»­ä¼˜åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;é¦–å…ˆè¦ä¿®å¤é—®é¢˜ï¼Œè·¨åŸŸæœ‰é£é™©ã€‚å¯ä»¥ä½¿ç”¨è°ƒç”¨æ–¹è‡ªå¸¦çš„ä»£ç†åŠŸèƒ½ã€‚è¢«è°ƒç”¨æ–¹æä¾›ä¸€ä¸ªRPCè°ƒç”¨ï¼Œè°ƒç”¨æ–¹ä½¿ç”¨ä»£ç†æ¥è½¬æ¢ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å°çŸ¥è¯†&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ ¹åŸŸå&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ç®€å•çš„æ¥è¯´å°±æ˜¯ç±»ä¼¼.comè¿™ç§ï¼Œæˆ–è€…ä¸­å›½çš„.cnè‹±å›½çš„.ukæ—¥æœ¬çš„.jpï¼Œè¿™äº›æ˜¯ç”±â€œäº’è”ç½‘åç§°ä¸æ•°å­—åœ°å€åˆ†é…æœºæ„â€ï¼ˆThe Internet Corporation for Assigned Names and Numbers ï¼Œç®€ç§°ICANNï¼‰æ¥åˆ†é…çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;é¡¶çº§åŸŸå&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ç®€å•æ¥è¯´é¡¶çº§åŸŸåå°±æ˜¯å°±æ˜¯åœ¨æ ¹åŸŸåçš„å‰é¢åŠ ä¸Šä½ è‡ªå·±å®šä¹‰çš„å­—æ¯æˆ–æ•°å­—ç­‰å­—ç¬¦ä¸²åŒ…æ‹¬è¿å­—ç¬¦-ï¼ˆåŒ…æ‹¬è¿å­—ç¬¦ä½†æ˜¯ä¸èƒ½è¿ç»­æ˜¯è¿å­—ç¬¦ï¼Œä¸”è¿å­—ç¬¦ä¸èƒ½åœ¨ç¬¬ä¸€ä¸ªï¼‰ä¾‹å¦‚è¿™æ ·web.comæˆ–è€…web.cnè¿™æ ·çš„æ—¢æ˜¯é¡¶çº§åŸŸåã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;äºŒçº§åŸŸå&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å½“ä½ æ³¨å†Œäº†ä¸€ä¸ªé¡¶çº§åŸŸååï¼Œä¾‹å¦‚web.cnï¼Œä½ å°±å¯ä»¥åœ¨ä½ çš„äº’è”ç½‘æœåŠ¡æä¾›å•†çš„dnsè§£æç³»ç»Ÿä¸Šè‡ªç”±åˆ†é…ä½ çš„äºŒçº§åŸŸåæˆ–è€…ä¸‰çº§åŸŸåç­‰ç­‰ï¼Œweb1.web.cn,web2.web1.web.cnç­‰ç­‰ï¼Œä»¥æ­¤ç±»æ¨æ ¹åŸŸåå‰é¢æœ‰å‡ ä¸ªå­—ç¬¦ä¸²å°±æ˜¯å‡ çº§åŸŸåã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¾€æœŸæ¨è&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d081e3cebb803036ea6694458e4e2276</guid>
<title>ç½‘æ˜“ä¸¥é€‰å®æ—¶è®¡ç®—å¹³å°å»ºè®¾å®è·µ</title>
<link>https://toutiao.io/k/67cbep8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p class=&quot;original_area_primary&quot;&gt;
                                                                                                &lt;/p&gt;

                    
                                            &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-backh=&quot;156&quot; data-backw=&quot;562&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;561&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;156&quot; data-fileid=&quot;100072321&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2777777777777778&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPjicBGnN2Sv2xfMf0eh07fxe53FSEJr7ogaf9QJMSV0iboV8bKNibavEhvl3VqpqOQVXI1r4kwgIhLjg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;288&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.49676025917926564&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9j8KEfvKP46qoDSC0viaxOlicn6EkZck12iaRPMcTxRsHcEFoxeibiaBoU2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1852&quot;/&gt;&lt;/p&gt;&lt;section data-width=&quot;100%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot; data-style=&quot;margin-bottom: -10px; margin-left: -8px; max-width: 100%; width: 18px; height: 18px; border-top: 8px solid rgb(54, 65, 173); border-left: 8px solid rgb(54, 65, 173); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;br data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;/&gt;&lt;/section&gt;&lt;section data-bgopacity=&quot;50%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot; data-style=&quot;max-width: 100%; width: 543.333px; background: rgb(247, 247, 247); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;åˆ†äº«å˜‰å®¾ï¼šç‹æ°ç‘ (å‰)ç½‘æ˜“Â èµ„æ·±æœåŠ¡ç«¯ç ”å‘&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;ç¼–è¾‘æ•´ç†ï¼šå®‹çµåŸ&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;å‡ºå“å¹³å°ï¼šDataFunTalk&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot; data-style=&quot;max-width: 100%; width: 18px; height: 18px; border-bottom: 8px solid rgb(54, 65, 173); border-right: 8px solid rgb(54, 65, 173); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¯¼è¯»ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ç½‘æ˜“ä¸¥é€‰ä½œä¸ºä¸€å®¶å“ç‰Œç”µå•†ï¼Œå¯¹æ•°æ®å®æ—¶é©±åŠ¨ä¸šåŠ¡æœ‰è¾ƒé«˜è¦æ±‚ã€‚åœ¨ä¸¥é€‰ï¼Œå®æ—¶è®¡ç®—è¢«å¹¿æ³›åº”ç”¨åœ¨å®æ—¶æ•°ä»“ã€é£æ§ã€ä¸šåŠ¡ç›‘æ§ç­‰åœºæ™¯ä¸­ã€‚æœ¬æ–‡å°†åˆ†äº«ç½‘æ˜“ä¸¥é€‰å®æ—¶è®¡ç®—å¹³å°çš„å»ºè®¾æ€è·¯å’Œå®è·µï¼Œå¹¶ä»‹ç»å¹³å°åç»­çš„ä¸€äº›å‘å±•è§„åˆ’ã€‚ä»å¦‚ä¸‹å‡ ä¸ªæ–¹é¢å±•å¼€ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;èƒŒæ™¯ä»‹ç»&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å®æ—¶ä»»åŠ¡SQLåŒ–&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;FlinkæœåŠ¡åŒ–&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®æ²»ç†&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åç»­è§„åˆ’&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;01&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;èƒŒæ™¯ä»‹ç»&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. å‘å±•å†ç¨‹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç½‘&lt;/span&gt;&lt;span&gt;æ˜“ä¸¥é€‰æ˜¯ä¸€å®¶ç”µå•†å¹³å°ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡é“¾è·¯ä¸»è¦æ¶‰åŠå•†å“é‡‡è´­ï¼Œé”€å”®ï¼Œç‰©æµä»¥åŠå”®åç­‰ä¸€ç³»åˆ—æœåŠ¡ï¼Œæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ•°æ®ä¸šåŠ¡ä½¿ç”¨åœºæ™¯ï¼Œåœ¨å¾ˆå¤šä¸šåŠ¡å†³ç­–ä¸Šéƒ½éœ€è¦ç”¨åˆ°å®æ—¶çš„æ•°æ®æ¥è¿›è¡Œåˆ†æï¼Œå› æ­¤ï¼Œå¹³å°æœ¬èº«å¯¹æ•°æ®çš„æ—¶æ•ˆæ€§å’Œå‡†ç¡®æ€§æœ‰å¾ˆé«˜çš„è¦æ±‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;326&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9l8bTmJ2fv7ArBUVSH1L7dpERN0BVIvMGibhMJB2dicphcQIkvn769laA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;ä»2017å¹´å¼€å§‹ï¼Œæˆ‘ä»¬è¿›è¡Œå¹³å°åŒ–çš„å»ºè®¾ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„å‘å±•å†ç¨‹å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. å¹³å°ç°çŠ¶&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm92Mia79cjKxtqcckibLjiar83bvA9GiaZXLwxy11ibSgoicbxrOhbGsSbicOag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰ï¼Œæ•´ä¸ªå¹³å°å¤§æ¦‚è¿è¡Œäº†5000å¤šä¸ªä»»åŠ¡ï¼Œæ¯å¤©å³°å€¼æµé‡å¯ä»¥è¾¾åˆ°æ¯ç§’2000ä¸‡å·¦å³ï¼Œå¹³å°ä»æ•°æ®é‡‡é›†åˆ°å¯¹å¤–æä¾›æœåŠ¡ï¼Œæ•´ä½“å»¶æ—¶åœ¨ç§’çº§åˆ«ã€‚åœ¨ç½‘æ˜“ä¸¥é€‰ï¼Œå®æ—¶è®¡ç®—è¦†ç›–çš„åœºæ™¯éå¸¸ä¸°å¯Œï¼Œæ¯”å¦‚ï¼šå®æ—¶å¤§å±ï¼Œå®æ—¶é£æ§ç®—æ³•ï¼Œæ—¥å¿—ä¸šåŠ¡ç›‘æ§ä»¥åŠAPMé¢„è­¦ç­‰åŸºç¡€æœåŠ¡æ–¹é¢çš„åº”ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3. å¹³å°æ¶æ„&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9WicXGYV0cTL8XYoiaIeWsOg0dwLJZkYsWfLjIAocO6pGGjQicPGLV0fSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šå›¾æ˜¯æˆ‘ä»¬å®æ—¶è®¡ç®—å¹³å°çš„æ•´ä½“æ¶æ„å›¾ï¼Œæœ€åº•å±‚æ˜¯æ•°æ®çš„åŸºå»ºå±‚ï¼Œä¸»è¦æä¾›äº†kafkaã€pulsarç­‰æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒYarnã€K8sç­‰è®¡ç®—èµ„æºä»¥åŠå…¶ä»–å­˜å‚¨ç»„ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æ•°æ®åŸºç¡€æ¶æ„å±‚ä¹‹ä¸Šï¼Œæˆ‘ä»¬åšäº†ä¸€ä¸ªæœåŠ¡åŒ–çš„æŠ½è±¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†å±è”½Flinkä»»åŠ¡å’Œåº•å±‚åŸºç¡€è®¾æ–½çš„äº¤äº’è¿‡ç¨‹ï¼Œä»¥æœåŠ¡çš„å½¢å¼å¼€æ”¾ç»™ä¸Šå±‚å¹³å°æˆ–ç¬¬ä¸‰æ–¹ç³»ç»Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†å¾€ä¸Šæ˜¯å¹³å°å±‚ï¼Œæ˜¯åº”ç”¨å¼€å‘çš„ä¸»è¦å…¥å£ï¼Œæˆ‘ä»¬å‘ç”¨æˆ·æä¾›äº†å¼€å‘è¿ç»´ç­‰ä½¿ç”¨åŠŸèƒ½ï¼Œä»¥åŠç›‘æ§æŠ¥è­¦ç­‰åŸºç¡€åŠŸèƒ½ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿæä¾›äº†å…ƒæ•°æ®ç®¡ç†ï¼Œè¡€ç¼˜åˆ†æç­‰ä»»åŠ¡æ²»ç†æ–¹é¢çš„å·¥å…·ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å¹³å°å±‚çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åŸºäºå®æ—¶è®¡ç®—æ„å»ºäº†ä¸°å¯Œçš„åº”ç”¨ï¼Œæ¯”å¦‚ETLï¼Œæ•°ä»“ï¼Œé£æ§ç­‰ä¸€ç³»åˆ—æ•°æ®æ–¹é¢çš„åº”ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;02&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;å®æ—¶ä»»åŠ¡SQLåŒ–&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;åœ¨å¤§æ•°æ®é¢†åŸŸï¼Œæ— è®ºæ˜¯å®æ—¶è®¡ç®—è¿˜æ˜¯ç¦»çº¿è®¡ç®—ï¼Œæ•´ä½“çš„å‘å±•è¶‹åŠ¿éƒ½æ˜¯æœç€SQLåŒ–çš„æ–¹å‘åœ¨æ¼”è¿›ã€‚&lt;/span&gt;&lt;span&gt;æˆ‘ä»¬å¹³å°å»ºè®¾ä¹‹åˆï¼Œç”¨æˆ·éœ€è¦ä½¿ç”¨javaæˆ–è€…scalaè‡ªè¡Œç¼–å†™Flinkä»»åŠ¡jaråŒ…ï¼Œæ‰˜ç®¡åˆ°å¹³å°ä¸Šè¿è¡Œã€‚è¿™ç§æ–¹å¼å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;span&gt;ä¸€ä¸ªæ˜¯å¼€å‘é—¨æ§›ç›¸å¯¹è¾ƒé«˜ï¼Œå¦ä¸€ä¸ªé—®é¢˜æ˜¯åœ¨ä»»åŠ¡è°ƒè¯•å’Œçº¿ä¸Šè°ƒä¼˜æ—¶éå¸¸å›°éš¾ã€‚&lt;/span&gt;&lt;span&gt;æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›æä¾›ä¸€ä¸ªèƒ½å¼€ç®±å³ç”¨çš„å¼€å‘ç¯å¢ƒï¼Œæ¥é™ä½ç”¨æˆ·ä½¿ç”¨å®æ—¶è®¡ç®—çš„é—¨æ§›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;326&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9mySic0h8ZxgjibiaeWmwtIF2f1IESvOtHkUnoOr86eVHfnjTWdfEXxTOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šå›¾æ˜¯Atomå¼€å‘å¹³å°ï¼Œæ˜¯æˆ‘ä»¬æä¾›çš„FlinkSQLå¼€å‘IDEï¼Œç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œå®Œæˆæ•´ä¸ªä»»åŠ¡çš„å¼€å‘ï¼Œè°ƒè¯•ä»¥åŠä¸Šçº¿ç­‰è¿‡ç¨‹ï¼Œå¹¶ä¸”Atomé›†æˆäº†ç»Ÿä¸€å…ƒæ•°æ®ï¼ŒUDFä»“åº“ä»¥åŠç‰ˆæœ¬æ§åˆ¶ç­‰åŸºç¡€åŠŸèƒ½ï¼Œèƒ½è¿›ä¸€æ­¥æå‡ç”¨æˆ·å¼€å‘SQLä»»åŠ¡çš„æ•ˆç‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;SQLå¹³å°çš„è®¾è®¡æ€è·¯ä¸»è¦å›´ç»•å¦‚ä¸‹å››ä¸ªæ–¹é¢å±•å¼€ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9Lqmjib4vA0aaCUYBLZ4jYQMHPzwHJxDz5fxIbeiaL0cYkbGIib8CTiau0Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. ç»Ÿä¸€å…ƒæ•°æ®ç®¡ç†&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9V1rwXunHPGLfANlQWKzKBAxkQHVvrzgcQjCKANKkZdTRxHm2JWhYUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å…ƒæ•°æ®ç®¡ç†æ–¹é¢ï¼ŒåˆæœŸæˆ‘ä»¬é€šè¿‡DDLè¯­å¥å°†å¤–éƒ¨å­˜å‚¨ä»¥è¡¨çš„å½¢å¼æ˜ å°„åˆ°FlinkSQLä¸­ï¼Œè¿™æ ·åšå­˜åœ¨æ˜æ˜¾çš„ç¼ºç‚¹ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨èµ·æ¥éå¸¸ç¹çï¼Œå¦ä¸€ä¸ªæ˜¯åº”ç”¨ä¹‹é—´æœåŠ¡æ— æ³•å¤ç”¨ã€‚å› æ­¤ä¸ºäº†é¿å…å¼€å‘å‰çš„ç¹çå·¥ä½œï¼Œæˆ‘ä»¬å¯¹ä¸»æµçš„å­˜å‚¨ï¼ˆæ¯”å¦‚ï¼škafkaï¼ŒHbaseç­‰ï¼‰åšäº†å…¨æ–¹ä½çš„æ‰“é€šï¼Œç”¨æˆ·å¼€å‘è¿‡ç¨‹ä¸­ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„æ¶ˆæ¯æ ¼å¼é—®é¢˜ï¼ŒIDEä¼šæä¾›ç»Ÿä¸€çš„æ ¼å¼è§£ææ’ä»¶æ¥å¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. UDFç®¡ç†&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9xzpUEiam0MicEWWdyhy7OhY0GLly8Httbic5bPX9IUXhD9XEry9iaToTlQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;åœ¨UDFæ–¹é¢ï¼Œé¦–å…ˆæˆ‘ä»¬å¯¹FlinkSQLæœ¬èº«æ‰€æ¬ ç¼ºä½†æ˜¯å¾ˆå¸¸ç”¨æœåŠ¡åšäº†æ‰©å±•ï¼Œæ¯”å¦‚è¯´Jsonè§£æï¼Œæ—¶é—´å¤„ç†ä»¥åŠè¿‘ä¼¼å»é‡ç­‰ã€‚&lt;/span&gt;&lt;span&gt;å¦å¤–ï¼Œæˆ‘ä»¬æä¾›äº†UDFä»“åº“ï¼Œç±»ä¼¼äºmavenä»“åº“ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±çš„å»ä¸Šä¼ è‡ªå®šä¹‰çš„UDFï¼Œä»“åº“ä¼šå¯¹è¿™äº›UDFåšç»Ÿä¸€çš„ç®¡ç†å’Œå¤ç”¨ï¼Œç­‰å®ƒå‘å¸ƒåï¼Œè¿™äº›UDFå°±å¯ä»¥åœ¨ä¸åŒå¼€å‘äººå‘˜ä¹‹é—´å…±äº«ã€‚&lt;/span&gt;&lt;span&gt;å½“ä¸€ä¸ªä»»åŠ¡éœ€è¦å¼•ç”¨æŸä¸€ä¸ªUDFåï¼Œå¹³å°ä¼šè‡ªåŠ¨å»å®Œæˆèµ„æºçš„åŠ è½½å’ŒUDFçš„æ³¨å†Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3. åŠŸèƒ½æ‰©å±•&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9JZx44x0Tel9yeOlW7gXYjXeCE978nWSO4Am7Qfict4STOh1RRDptVTA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;strong&gt;&lt;span&gt;4. ä»»åŠ¡æäº¤ä¸è°ƒè¯•&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9EnJWQYYoFuiaibCGMn3QQsT6nebvOHNuteJrKOkuyibMdO6CrFtaD3YuQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ä»»åŠ¡æäº¤å’Œè°ƒè¯•æ–¹é¢ï¼Œç›®å‰æˆ‘ä»¬é‡‡ç”¨å°†ç”¨æˆ·æäº¤çš„SQLç¼–è¯‘æˆJobGraphï¼Œç„¶åæäº¤åˆ°é›†ç¾¤å»è¿è¡Œï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä¼šå»åŠ è½½ä»»åŠ¡æ‰€ä¾èµ–çš„å„ç§connectorå’ŒUDFç­‰ä¸€ç³»åˆ—çš„èµ„æºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦å¤–ï¼Œå¹³å°æä¾›äº†è°ƒè¯•æ¨¡å¼æ¥æ”¯æŒåœ¨çº¿è°ƒè¯•FlinkSQLä»»åŠ¡ï¼Œåœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œå¹³å°ä¼šå¯¹SQLè¿›è¡Œæ”¹å†™ï¼Œç„¶åå®æ—¶æ‹¦æˆªè°ƒè¯•çš„è¾“å‡ºç»“æœï¼Œæ¥è®©ç”¨æˆ·åŠæ—¶è§‚å¯Ÿä»»åŠ¡çš„è¿è¡Œç»“æœï¼ŒåŒæ—¶è°ƒè¯•çš„è¿‡ç¨‹ä¸­å¯ä»¥è‡ªå®šä¹‰çš„åˆ¶å®šçº¿ä¸Šæ•°æ®é‡‡æ ·çš„æ—¶é—´æ®µï¼Œä½¿è°ƒè¯•æ›´åŠ çµæ´»ä¸å‡†ç¡®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;03&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;FlinkæœåŠ¡åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;æœåŠ¡åŒ–æ˜¯ä¸ºäº†ç®€&lt;/span&gt;&lt;span&gt;åŒ–æˆ‘ä»¬å¯¹ä»»åŠ¡ç®¡ç†çš„å¤æ‚åº¦ï¼Œå¯¹äºä¸Šå±‚çš„åº”ç”¨æˆ–è€…æ•´ä¸ªå¹³å°æ¥è¯´ï¼Œå¯ä»¥å±è”½æ‰Flinkä¸åº•å±‚èµ„æºçš„äº¤äº’ç»†èŠ‚ï¼Œä¸Šå±‚çš„å¹³å°å¯ç›´æ¥é€šè¿‡ restæˆ–è€…RPCä¸æœåŠ¡å±‚è¿›è¡Œäº¤äº’æ¥æ“ä½œä»»åŠ¡ï¼Œæ¯”å¦‚æ§åˆ¶ä»»åŠ¡çš„èµ·åœï¼ŒçŠ¶æ€ç›‘å¬æˆ–è€…è§‚å¯Ÿcheckpointå’Œsavepointç­‰ï¼ŒåŒæ—¶è¿˜æä¾›äº†ä»»åŠ¡å¤±è´¥è‡ªåŠ¨æ¢å¤ç­‰æœºåˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm91h9hdgCgIibHIicuZbuiaIicqDJXU0Frt7yxjVjDtFicIGliaAibHnlibWYVDA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬é€šè¿‡æ’ä»¶çš„æ–¹å¼æ¥æ”¯æŒå¤šç‰ˆæœ¬çš„Flink ä»»åŠ¡ï¼Œä¸åŒçš„ç‰ˆæœ¬å¯ä»¥å…±å­˜ï¼›å¹³å°ä¹Ÿå¯ä»¥æ”¯æŒåº•å±‚çš„è®¡ç®—èµ„æºçš„å¤šæ ·æ€§ï¼Œå¯ä»¥é€šè¿‡æ’æ‹”çš„æ–¹å¼åˆ‡æ¢å¤šä¸ªyarnæˆ–è€…K8sé›†ç¾¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡æœåŠ¡åŒ–çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†æ•´ä¸ªå®æ—¶è®¡ç®—çš„ç”Ÿäº§èƒ½åŠ›å¼€æ”¾å‡ºå»ï¼Œä¸ä»…ä»…æ˜¯ä¾›æˆ‘ä»¬çš„å¹³å°ä½¿ç”¨ï¼Œè€Œæ˜¯å¯ä»¥æä¾›ç»™å…¶ä»–æœåŠ¡ä½¿ç”¨ï¼Œæ¯”å¦‚æ—¥å¿—å¹³å°æˆ–è€…ç›‘æ§å¹³å°ç­‰ï¼Œè¿™äº›å¹³å°çš„å®æ—¶è®¡ç®—éœ€æ±‚ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡æœåŠ¡åŒ–çš„æ¥å£ç»Ÿä¸€å¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. èµ„æºä¼˜åŒ–Â &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9UGns7WfBzkzwU8551lRiceBpvKVkmjBFHs0vhcfvc9TMnDMVQgbufUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€ä»»åŠ¡æ•°è¶Šæ¥è¶Šå¤šï¼Œä½œä¸ºå¹³å°æ–¹å°±éœ€è¦è¿›ä¸€æ­¥è€ƒè™‘èµ„æºä¼˜åŒ–é—®é¢˜ã€‚&lt;/span&gt;&lt;span&gt;åœ¨è®²å…·ä½“ä¼˜åŒ–ä¹‹å‰æˆ‘ä»¬å…ˆå¯¹æ¯”ä¸‹Flinkå¸¸ç”¨çš„ä¸¤ç§éƒ¨ç½²æ¨¡å¼ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm93eb6ibdQtpTIO6y3TkoEP9kTe7ctadCibZ7JTZNyyx5nW8as1Ebk028A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»¼åˆåˆ†æä¸Šé¢ä¸¤ç§éƒ¨ç½²æ¨¡å¼çš„ä¼˜ç¼ºç‚¹åï¼Œæˆ‘ä»¬åšäº†ä¸€äº›æ”¹è¿›æªæ–½ã€‚é‡‡ç”¨äº†åŸºäºsessionçš„ä¸€ç§æ–°éƒ¨ç½²æ¨¡å¼ã€‚é€šè¿‡æä¾›ä»»åŠ¡èµ„æºç­–ç•¥å’Œèµ„æºæ± çš„æ–¹å¼æ¥æé«˜sessionæ¨¡å¼ä¸‹çš„èµ„æºæ–¹å¼ã€‚æˆ‘ä»¬æŠ½è±¡å‡ºä¸€ä¸ªèµ„æºç­–ç•¥çš„æ¦‚å¿µï¼Œå³æ ¹æ®ä½œä¸šçš„ç±»å‹ï¼Œä»¥åŠå®ƒçš„å¯¹èµ„æºç”³è¯·çš„éœ€æ±‚åšçš„ä¸€ä¸ªæŠ½è±¡ï¼Œé€šè¿‡è¿™ä¸ªèµ„æºç­–ç•¥æ¥åˆ’åˆ†ä¸åŒçš„èµ„æºæ± ã€‚å½“æäº¤ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œå¹³å°ä¼šæ ¹æ®å®ƒæ‰€å£°æ˜çš„èµ„æºç­–ç•¥æ¥é€‰æ‹©æ€§çš„å†³å®šè¯¥ä»»åŠ¡åº”è¯¥åˆ†é…åˆ°å“ªä¸€ä¸ªèµ„æºæ± çš„å“ªä¸€ä¸ªsessionä¸­ï¼Œè¿™æ ·åˆ†é…ä¸€æ–¹é¢å¯ä»¥å¤ç”¨jobManagerå’ŒtaskManagerçš„è®¡ç®—èµ„æºï¼Œå¦ä¸€æ–¹é¢å¯ä»¥ä¿è¯åœ¨åŒä¸€ä¸ªsessionä¸­ï¼Œæ‰€è¿è¡Œçš„ä»»åŠ¡çš„èµ„æºç”³è¯·ç²’åº¦æ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œå¯ä»¥å®ç°å¹³å°åœ¨ä»»åŠ¡çš„éš”ç¦»æ€§å’Œèµ„æºåˆ©ç”¨ç‡ä¹‹é—´çš„ç›¸å¯¹å¹³è¡¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. äº‘åŸç”Ÿéƒ¨ç½²Â &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9ibKibqlX0Hq1ialZbXgJyo4iad5niaOIgNU3yNfaxxicEPiaH9vdBo4SWhgjQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æœåŠ¡åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜å®Œæˆäº†ä»»åŠ¡äº‘åŸç”Ÿçš„éƒ¨ç½²æ–¹å¼ã€‚åœ¨æ—©æœŸå¹³å°ä»»åŠ¡éƒ½éƒ¨ç½²åœ¨Yarné›†ç¾¤ä¸Šï¼Œå› ä¸ºä¸€äº›å†å²åŸå› ï¼ŒYarné›†ç¾¤æ²¡æœ‰ä½¿ç”¨cgroupç­‰æ–¹å¼åšCPUçš„èµ„æºéš”ç¦»ï¼Œè¿™å¸¸å¸¸å‡ºç°åŒä¸€æœºå™¨ä¸Šçš„ä¸åŒä»»åŠ¡CPUèµ„æºå ç”¨çš„æƒ…å†µã€‚è€Œä¸”æ•´ä¸ªYarné›†ç¾¤æ˜¯åŸºäºç‰©ç†æœºæ¥éƒ¨ç½²çš„ï¼Œå½“éœ€è¦å¯¹é›†ç¾¤èµ„æºåšä¸´æ—¶çš„æ‰©å®¹æ—¶å°±æ˜¾å¾—éå¸¸ä¸æ–¹ä¾¿ï¼Œä¸”å‘¨æœŸå¾ˆé•¿ã€‚å¦å¤–ï¼Œæ•´ä½“çš„è¿ç»´äººåŠ›æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘ä½¿ç”¨K8sæ¥ä»£æ›¿Yarné›†ç¾¤ï¼ŒK8sçš„ä¸»è¦ä¼˜ç‚¹æ˜¯èµ„æºéš”ç¦»ç›¸å¯¹å½»åº•ï¼Œè€Œä¸”æ”¯æŒå¿«é€Ÿçš„å¼¹æ€§æ‰©ç¼©å®¹ï¼Œè¿™æ ·å°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬å¤šç±»å‹ä»»åŠ¡çš„æ··åˆéƒ¨ç½²ï¼Œä»è€Œæå‡è®¡ç®—èµ„æºçš„æ•´ä½“åˆ©ç”¨ç‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm97DW0akASr6HXmiacAuAyKcsQdIKQHA8iaQNUHmqBM6eevmNib3ltCZmbw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ç½‘æ˜“ä¸¥é€‰ï¼Œæˆ‘ä»¬åœ¨2019å¹´åº•ï¼ŒåŸºäºFlink1.6ç‰ˆæœ¬å®Œæˆäº†Flink on k8sçš„è½åœ°ã€‚å¹¶ä¸”åœ¨2020å¹´ï¼Œå®ŒæˆFlink1.10ç‰ˆæœ¬çš„æ•´åˆï¼Œç›®å‰å¹³å°ä»»åŠ¡çš„å®¹å™¨åŒ–éƒ¨ç½²è¦†ç›–ç‡è¶…è¿‡80%ã€‚åŒæ—¶æ ¹æ®ä¸šåŠ¡éœ€è¦ï¼Œæˆ‘ä»¬è¿˜åšäº†ä¸€äº›è‡ªé€‚åº”çš„æ‰©å±•ã€‚å…·ä½“æ‰©å±•å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ”¯æŒé€šè¿‡Node Selectoræ¥æŒ‰ç…§æ ‡ç­¾å»é€‰æ‹©æ€§è°ƒåº¦ä»»åŠ¡ï¼Œåšåˆ°èµ„æºéš”ç¦»&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¼•å…¥ingressæ˜¯æ¥æä¾›å¯¹å¤–çš„restæœåŠ¡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¢å¼ºå¯¹API Serverè¿æ¥æŠ–åŠ¨ã€ç½‘ç»œå¼‚å¸¸çš„å®¹å¿åº¦&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ”¯æŒé€šè¿‡Sidecarè¿›è¡Œæ—¥å¿—æ”¶é›†ï¼ŒService Meshç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¼˜åŒ–Nativeå†…å­˜æ³„æ¼é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ”¯æŒåŸºäºZookeeperçš„jobManager HAèƒ½åŠ›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;04&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®æ²»ç†&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9vviaicmVTFg6z7obnctCcB9V4s6YZGvWummEfB0662icXQhe7QPs0AP1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚ä¸Šå›¾æ˜¯ç½‘æ˜“ä¸¥é€‰åœ¨æ•°æ®å¤„ç†ä¸­çš„æ•´ä½“é“¾è·¯ï¼Œé€šè¿‡åˆ†å±‚çš„ç»“æ„æ¥æ”¯æŒæ•°ä»“çš„éœ€æ±‚ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°æ•´ä½“é“¾è·¯æ¯”è¾ƒé•¿ï¼Œä¸”ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»å¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æ•´ä¸ªæ•°æ®ä½“ç³»è¿›è¡Œå…¨é“¾è·¯çš„æ²»ç†ã€‚æ•°æ®æ²»ç†çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä¿éšœæ•°æ®èƒ½å¤Ÿé«˜æ•ˆç¨³å®šçš„äº§å‡ºï¼ŒåŒæ—¶æ¨è¿›å…¨é“¾è·¯çš„èµ„æºä¼˜åŒ–ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;strong&gt;&lt;span&gt;1. ä»»åŠ¡ç›‘æ§&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9PHkg6FCzMIiaveJkHedh5Y1sbibibYicp96hvaJoxHNdyR6cvJNTWvQfiaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æ•°æ®æ²»ç†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®Œå–„å¯¹ä»»åŠ¡å¤„ç†æƒ…å†µçš„ç›‘æ§ï¼Œæ¯”å¦‚åƒé£æ§ç­‰ä¸šåŠ¡ï¼Œå¯¹ä»»åŠ¡çš„ç¨³å®šæ€§å’Œæ—¶æ•ˆæ€§æ¯”è¾ƒæ•æ„Ÿï¼Œæ— æ³•å®¹å¿ä»»åŠ¡é•¿æ—¶é—´æ•…éšœæˆ–è€…å¼‚å¸¸å»¶è¿Ÿç­‰ã€‚Flinkæœ¬èº«æä¾›äº†ä¸°å¯Œçš„metricsæŒ‡æ ‡ç”¨æ¥ç›‘æ§ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸçš„å¥åº·æƒ…å†µï¼Œä½†æ˜¯å½“ä»»åŠ¡æ•°é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼ŒFlink metricsçš„ä½“é‡ä¹Ÿä¼šéå¸¸å¤§ï¼Œæˆ‘ä»¬ç»è¿‡è°ƒç ”å’Œå¯¹æ¯”å¸¸ç”¨çš„æ—¶åºæ•°æ®åº“åï¼Œé€‰æ‹©ä½¿ç”¨OpenTSDBæ¥ä½œä¸ºmetricsçš„å­˜å‚¨ï¼ŒåŒæ—¶é€šè¿‡åŠ ç›å“ˆå¸Œçš„æ–¹å¼æ¥åˆ†æ•£å­˜å‚¨å’ŒæŸ¥è¯¢çƒ­ç‚¹ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ç»Ÿä¸€ä¸ºå„ç§è¿æ¥å™¨æä¾›è®¿é—®å»¶è¿Ÿã€ç¼“å­˜å‘½ä¸­ç­‰å¤šé¡¹æŒ‡æ ‡ï¼ŒåŒæ—¶å°†æŒ‡æ ‡çš„ç²’åº¦ç»†åŒ–åˆ°ç®—å­çº§åˆ«ï¼Œæ–¹ä¾¿æˆ‘ä»¬å®šä½å’Œæ’æŸ¥é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. æ•°æ®è¡€ç¼˜è¿½è¸ª&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm92wKbwibvicPtSUrGEzQd4xLNxibwDcrAW5vzicETB0Dg3skSUAnV2v6PuA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æ•°æ®æ²»ç†ä¸­å¦ä¸€ä¸ªé‡è¦çš„åŸºç¡€æœåŠ¡æ˜¯å¯¹æ•°æ®è¡€ç¼˜çš„ç®¡ç†ï¼ŒFlinkä»»åŠ¡ä¸­SQLä»»åŠ¡ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹SQLåšè¯­æ³•æ ‘çš„éå†æ¥æ‹¿åˆ°å®ƒè¡€ç¼˜æƒ…å†µï¼Œè€Œé’ˆå¯¹ç”¨æˆ·è‡ªå®šä¹‰çš„jarä»»åŠ¡ï¼Œéœ€è¦åœ¨ç”ŸæˆJobGraphæ—¶è·å–å®ƒçš„DAGç»“æ„ï¼Œç„¶åé€šè¿‡åå°„æœºåˆ¶æ¥è·å–è¡€ç¼˜çš„å…ƒæ•°æ®ã€‚ç»Ÿä¸€çš„è¡€ç¼˜ç®¡ç†ï¼Œå¯ä»¥æ¸…æ™°çš„è·å–åˆ°ä»»åŠ¡çš„ä¸Šä¸‹æ¸¸å…³ç³»ï¼Œæ–¹ä¾¿é—®é¢˜çš„å¿«é€Ÿå®šä½å’Œæ’æŸ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;strong&gt;&lt;span&gt;3. å…¨é“¾è·¯æ•°æ®æ²»ç†&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9bmzeezS3s0LcePfYXgGibV3AOztz5AkPQK9GUjX5a7N8LTJnTZSzptA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¾æ‰˜æˆ‘ä»¬æä¾›çš„ç»Ÿä¸€å…ƒæ•°æ®ã€ä»»åŠ¡ç›‘æ§ä»¥åŠç»Ÿä¸€è¡€ç¼˜ç®¡ç†è¿™ä¸‰ä¸ªåŸºç¡€æœåŠ¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ•°æ®åšå…¨é“¾è·¯æ²»ç†ã€‚åœ¨æ•°æ®æ²»ç†ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ä»ä¸¤ä¸ªç»´åº¦æ¥è€ƒè™‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆæ˜¯è¡¨çš„ç»´åº¦ï¼Œæ‰€è°“è¡¨ï¼Œåœ¨å®æ—¶ä¸­å¤§éƒ¨åˆ†æŒ‡kafkaï¼Œè€Œåœ¨ç¦»çº¿ä¸­æŒ‡hiveç­‰å„ç§å­˜å‚¨ã€‚ä¾èµ–äºå…¨é“¾è·¯çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹æ•°æ®çš„è®¿é—®æ¨¡å‹ï¼Œé€šè¿‡æ¨¡å‹å¯ä»¥å¾ˆå¥½çš„è¯†åˆ«è¡¨çš„å†·çƒ­æƒ…å†µï¼Œç„¶åé’ˆå¯¹ä¸åŒçš„æƒ…å†µåšä¸€äº›åˆ†çº§çš„æ²»ç†ã€‚æ¯”å¦‚åœ¨kafkaè¿™ä¸€å—ï¼Œæˆ‘ä»¬ä¼šå¯¹ä¸€äº›çƒ­ç‚¹è¡¨åšèµ„æºåˆ†åŒºçš„è°ƒæ•´åŠæ‰©å®¹ï¼Œè€Œå¯¹ä¸€äº›æ— æ•ˆçš„è¡¨ï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨çš„æ¸…é™¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶æ¬¡æ˜¯ä»»åŠ¡çš„ç»´åº¦ï¼Œä¾æ‰˜å¯¹ä»»åŠ¡çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ä»¥åŠç›‘æ§æŒ‡æ ‡çš„èšåˆåˆ†æï¼Œé€šè¿‡æ™ºèƒ½è¯Šæ–­æ¡†æ¶å»è‡ªåŠ¨è¯†åˆ«ä»»åŠ¡çš„é—®é¢˜æ‰€åœ¨ï¼Œæ¯”å¦‚ä»»åŠ¡å»¶è¿Ÿï¼Œæ•°æ®å€¾æ–œã€åå‹ä»¥åŠèµ„æºä¸è¶³ç­‰ï¼Œç„¶åé€šè¿‡è¿›ä¸€æ­¥çš„åˆ†æï¼Œå¯¹ä»»åŠ¡åšèµ„æºçš„ä¼˜åŒ–åŠè°ƒæ•´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡å…¨é“¾è·¯çš„æ•°æ®æ²»ç†ï¼Œæˆ‘ä»¬æŠŠä»»åŠ¡çš„å»¶è¿Ÿæ§åˆ¶åœ¨ç§’ä»¥å†…ï¼Œæå‡äº†å¹³å°çš„æ•´ä½“ç¨³å®šæ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;05&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;åç»­è§„åˆ’&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;strong&gt;&lt;span&gt;1. æµæ‰¹ä¸€ä½“æ¢ç´¢&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9kiapRzugeF7k0QicQCSeFqGTBQ8xqHddyXWPdGVDT0ibibnlFJR0oCtiaIA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æµæ‰¹ä¸€ä½“çš„æ¢ç´¢è¿‡ç¨‹ä¸­ï¼Œç›®å‰æˆ‘ä»¬åˆæ­¥å®Œæˆäº†Icebergæ•°æ®æ¹–çš„é›†æˆï¼Œæ¥ä¸‹æ¥ä¼šè¿›ä¸€æ­¥æ¢ç´¢è®¡ç®—åŠå­˜å‚¨å±‚é¢çš„æ‰¹æµä¸€ä½“æ¶æ„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2. ä½œä¸šæ™ºèƒ½è¯Šæ–­ä¼˜åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9icPagkspjv3kB2gfMUndsRFoJVlcGgoax4MTx0NQfpNArffvYzLMbBw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿›ä¸€æ­¥å¼ºåŒ–ä½œä¸šæ™ºèƒ½è¯Šæ–­èƒ½åŠ›ï¼Œå¼•å…¥ä½œä¸šç®¡æ§æœåŠ¡ï¼Œå½“è¯Šæ–­æ¡†æ¶ç»™å‡ºè°ƒä¼˜æ–¹æ¡ˆä¹‹åï¼Œé€šè¿‡ä½œä¸šç®¡æ§æœåŠ¡è‡ªé€‚åº”çš„å¯¹ä»»åŠ¡åšå…·ä½“çš„è°ƒä¼˜ï¼Œä»è€Œå‡å°‘äººå·¥çš„ä»‹å…¥ï¼Œæå‡ä½œä¸šæ•´ä½“çš„å¯ç”¨æ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;06&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ç²¾å½©é—®ç­”&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;Qï¼š&lt;/span&gt;&lt;span&gt;å­˜åœ¨updateæƒ…å†µä¸‹ï¼ŒFlinksinkåˆ°ä¸‹æ¸¸è¾“å‡ºæ—¶ï¼Œå¦‚ä½•å®ç°å¹‚ç­‰æ€§ï¼Ÿæ¯”å¦‚Flinkå†™åˆ°Hbaseå¦‚ä½•å®ç°å¹‚ç­‰æ€§ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Aï¼šFlinkSQLæœ¬èº«åœ¨retractæ¨¡å¼æˆ–è€…upsertæ¨¡å¼ä¸‹ï¼Œè‹¥ä¸‹æ¸¸å­˜å‚¨å­˜åœ¨ä¸»é”®ï¼Œæ¯”å¦‚Hbaseçš„rowKeyï¼Œæ›´æ–°æˆ–è€…åˆ é™¤æ“ä½œéƒ½æ˜¯æ ¹æ®ä¸»é”®æ¥å®ç°ï¼Œæ‰€ä»¥ç»“æœæ˜¯å…·æœ‰å¹‚ç­‰æ€§çš„ã€‚è‹¥ä¸‹æ¸¸å­˜å‚¨æ²¡æœ‰ä¸»é”®ï¼Œæ¯”å¦‚kafkaï¼Œå°±éœ€è¦ä¸‹æ¸¸å­˜å‚¨è‡ªèº«åšå¹‚ç­‰çš„æ“ä½œï¼Œè¿™ç§æƒ…å†µä¼šæ›´å¤æ‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Qï¼šç”¨æˆ·å¯¹è°ƒè¯•åŠŸèƒ½éœ€æ±‚é«˜å—?å…¶ä¸»è¦çš„å®ç°æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Aï¼šå®é™…ä¸šåŠ¡å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒFlinkSQLé€šå¸¸ä¼šæ¯”è¾ƒå¤æ‚ï¼Œä»£ç é‡æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å¾ˆéš¾ä¸€æ¬¡æ€§å®Œæ•´çš„å†™å‡ºæ¥ï¼Œæ‰€ä»¥è°ƒè¯•åŠŸèƒ½çš„ä½¿ç”¨æ˜¯éå¸¸é«˜é¢‘çš„ã€‚æ— è®ºæ˜¯æ„é€ çš„æ•°æ®è¿˜æ˜¯é‡‡æ ·çº¿ä¸Šçš„æ•°æ®ï¼Œæˆ‘ä»¬åœ¨è°ƒè¯•æ¨¡å¼ä¸‹éœ€è¦åŠæ—¶çš„å±•ç°è¿™æ®µSQLçš„ç»“æœï¼Œæ–¹ä¾¿ç”¨æˆ·æ¥åˆ¤æ–­å…¶SQLçš„é€»è¾‘æ˜¯å¦è¾¾åˆ°è‡ªå·±æƒ³è¦çš„æ•ˆæœï¼Œå®ç°æ€è·¯å¤§æ¦‚æ˜¯ï¼šå¯¹SQLä»»åŠ¡sourceå’Œsinkåšæ›¿æ¢ï¼Œå¯¹sourceï¼Œæˆ‘ä»¬ä¼šå®ç°Kafkaé‡‡æ ·çš„åŠŸèƒ½æˆ–ä½¿ç”¨ç”¨æˆ·ä¸Šä¼ çš„æ ·ä¾‹æ•°æ®ï¼Œå¯¹sinkï¼Œæˆ‘ä»¬ä¼šæ›¿æ¢æˆwebSocketè¾“å‡ºæˆ–è€…æ–‡ä»¶è¾“å‡ºï¼Œæ–¹ä¾¿ç”¨æˆ·çš„æŸ¥çœ‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œè°¢è°¢å¤§å®¶ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;span&gt;åœ¨æ–‡æœ«åˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹ï¼Œç»™ä¸ª3è¿å‡»å‘—~&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†äº«å˜‰å®¾ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;289&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1gwFCnz4pXib4XicGSQHPAm9MboR6m1eQSxic4OBJ7TfGZyhYxm2nhtQcx4ibWbxoZyIxgicMWCQmiaJZA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1000&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ´»åŠ¨æ¨èï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æƒ³äº†è§£æ›´å¤šæ•°æ®æ¹–çš„çŸ¥è¯†å—ï¼Ÿ&lt;/span&gt;&lt;span&gt;12æœˆ19æ—¥ï¼Œåœ¨DataFunConå¹´ç»ˆå¤§ä¼šä¸Šï¼Œç”±&lt;/span&gt;&lt;span&gt;è…¾è®¯ä¸“å®¶å·¥ç¨‹å¸ˆå¼ è§…&lt;/span&gt;&lt;span&gt;è€å¸ˆå‡ºå“çš„æ™ºèƒ½æ•°æ®æ¹–è®ºå›ï¼Œå°†é‚€è¯·æ¥è‡ªè…¾è®¯ã€ç½‘æ˜“æ•°å¸†ã€é˜¿é‡Œã€åä¸ºçš„6ä½å˜‰å®¾ï¼Œä¸å¤§å®¶ä¸€èµ·æ¢è®¨æ™ºèƒ½æ•°æ®æ¹–çš„æ¶æ„ä¸å®è·µï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œæ¬¢è¿è¯†åˆ«ä¸‹å›¾äºŒç»´ç ï¼Œå…è´¹æŠ¥åå‚ä¸æ”¶çœ‹ç›´æ’­~&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;1642&quot; data-backw=&quot;520&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;1743&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.1566666666666667&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPgJ4pyzsLn0RYJthxpmEfxofZrn4AXBKnAOdVacmziaVEChYElPModVVn0bO6gLrWadMhNxayxtWjg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å…³äºæˆ‘ä»¬ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;DataFunï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸“æ³¨äºå¤§æ•°æ®ã€äººå·¥æ™ºèƒ½æŠ€æœ¯åº”ç”¨çš„åˆ†äº«ä¸äº¤æµã€‚å‘èµ·äº2017å¹´ï¼Œåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³ã€æ­å·ç­‰åŸå¸‚ä¸¾åŠè¶…è¿‡100+çº¿ä¸‹å’Œ100+çº¿ä¸Šæ²™é¾™ã€è®ºå›åŠå³°ä¼šï¼Œå·²é‚€è¯·è¿‘1000ä½ä¸“å®¶å’Œå­¦è€…å‚ä¸åˆ†äº«ã€‚å…¶å…¬ä¼—å· DataFunTalk ç´¯è®¡ç”Ÿäº§åŸåˆ›æ–‡ç« 500+ï¼Œç™¾ä¸‡+é˜…è¯»ï¼Œ12ä¸‡+ç²¾å‡†ç²‰ä¸ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3MTU2ODMzNA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm0Gnd52mVCVYjEDG4DoqUqvicKHdzia1o5YsgkMwyv5wjic9Q3f0GJNerzNucU0HVJKxLiavF4OsRMkeA/0?wx_fmt=png&quot; data-nickname=&quot;DataFunSummit&quot; data-alias=&quot;DataFunSummit&quot; data-signature=&quot;DataFunæ——ä¸‹ï¼Œä¸“æ³¨äºå¤§æ•°æ®ã€äººå·¥æ™ºèƒ½é¢†åŸŸï¼Œç›¸å…³å³°ä¼šä¿¡æ¯ã€å˜‰å®¾æ¼”è®²å†…å®¹çš„åˆ†äº«ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ğŸ§&lt;strong&gt;åˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹&lt;/strong&gt;ï¼Œç»™ä¸ª&lt;strong&gt;3è¿å‡»&lt;/strong&gt;å‘—ï¼&lt;strong&gt;ğŸ‘‡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1ee76ed61324d676ce16d258437fe061</guid>
<title>CompletableFutureï¼šè®©ä½ çš„ä»£ç å…å—é˜»å¡ä¹‹è‹¦</title>
<link>https://toutiao.io/k/141ukrd</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å†™åœ¨å‰é¢&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡é˜…è¯»æœ¬ç¯‡æ–‡ç« ä½ å°†äº†è§£åˆ°ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;CompletableFutureçš„ä½¿ç”¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;CompletableFureå¼‚æ­¥å’ŒåŒæ­¥çš„æ€§èƒ½æµ‹è¯•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å·²ç»æœ‰äº†Futureä¸ºä»€ä¹ˆä»éœ€è¦åœ¨JDK1.8ä¸­å¼•å…¥CompletableFuture&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;CompletableFutureçš„åº”ç”¨åœºæ™¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹CompletableFutureçš„ä½¿ç”¨ä¼˜åŒ–&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åœºæ™¯è¯´æ˜&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŸ¥è¯¢æ‰€æœ‰å•†åº—æŸä¸ªå•†å“çš„ä»·æ ¼å¹¶è¿”å›ï¼Œå¹¶ä¸”æŸ¥è¯¢å•†åº—æŸä¸ªå•†å“çš„ä»·æ ¼çš„APIä¸ºåŒæ­¥ ä¸€ä¸ªShopç±»ï¼Œæä¾›ä¸€ä¸ªåä¸ºgetPriceçš„åŒæ­¥æ–¹æ³•&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Shop&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RandomÂ randomÂ =Â &lt;span&gt;new&lt;/span&gt;Â Random();&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ ¹æ®äº§å“åæŸ¥æ‰¾ä»·æ ¼&lt;br/&gt;Â Â Â Â Â *Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;double&lt;/span&gt;Â &lt;span&gt;getPrice&lt;/span&gt;&lt;span&gt;(StringÂ product)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â calculatePrice(product);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â è®¡ç®—ä»·æ ¼&lt;br/&gt;Â Â Â Â Â *&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â product&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@return&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â *Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;double&lt;/span&gt;Â &lt;span&gt;calculatePrice&lt;/span&gt;&lt;span&gt;(StringÂ product)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â delay();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//random.nextDouble()éšæœºè¿”å›æŠ˜æ‰£&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â random.nextDouble()Â *Â product.charAt(&lt;span&gt;0&lt;/span&gt;)Â +Â product.charAt(&lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â é€šè¿‡ç¡çœ æ¨¡æ‹Ÿå…¶ä»–è€—æ—¶æ“ä½œ&lt;br/&gt;Â Â Â Â Â *Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;delay&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŸ¥è¯¢å•†å“çš„ä»·æ ¼ä¸ºåŒæ­¥æ–¹æ³•ï¼Œå¹¶é€šè¿‡sleepæ–¹æ³•æ¨¡æ‹Ÿå…¶ä»–æ“ä½œã€‚è¿™ä¸ªåœºæ™¯æ¨¡æ‹Ÿäº†å½“éœ€è¦è°ƒç”¨ç¬¬ä¸‰æ–¹APIï¼Œä½†ç¬¬ä¸‰æ–¹æä¾›çš„æ˜¯åŒæ­¥APIï¼Œåœ¨æ— æ³•ä¿®æ”¹ç¬¬ä¸‰æ–¹APIæ—¶å¦‚ä½•è®¾è®¡ä»£ç è°ƒç”¨æé«˜åº”ç”¨çš„æ€§èƒ½å’Œååé‡ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨CompletableFutureç±»&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;CompletableFutureä½¿ç”¨&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Completableæ˜¯Futureæ¥å£çš„å®ç°ç±»ï¼Œåœ¨JDK1.8ä¸­å¼•å…¥&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;CompletableFutureçš„åˆ›å»ºï¼š&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸¤ä¸ªé‡è½½æ–¹æ³•ä¹‹é—´çš„åŒºåˆ« =&amp;gt; åè€…å¯ä»¥ä¼ å…¥è‡ªå®šä¹‰Executorï¼Œå‰è€…æ˜¯é»˜è®¤çš„ï¼Œä½¿ç”¨çš„ForkJoinPool&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;supplyAsyncå’ŒrunAsyncæ–¹æ³•ä¹‹é—´çš„åŒºåˆ« =&amp;gt; å‰è€…æœ‰è¿”å›å€¼ï¼Œåè€…æ— è¿”å›å€¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Supplieræ˜¯å‡½æ•°å¼æ¥å£ï¼Œå› æ­¤è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥è¯¥æ¥å£çš„å®ç°ç±»ï¼Œè¿½è¸ªæºç ä¼šå‘ç°åœ¨runæ–¹æ³•ä¸­ä¼šè°ƒç”¨è¯¥æ¥å£çš„æ–¹æ³•ã€‚å› æ­¤ä½¿ç”¨è¯¥æ–¹æ³•åˆ›å»ºCompletableFutureå¯¹è±¡åªéœ€é‡å†™Supplierä¸­çš„getæ–¹æ³•ï¼Œåœ¨getæ–¹æ³•ä¸­å®šä¹‰ä»»åŠ¡å³å¯ã€‚åˆå› ä¸ºå‡½æ•°å¼æ¥å£å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œå’Œnewåˆ›å»ºCompletableFutureå¯¹è±¡ç›¸æ¯”ä»£ç ä¼š&lt;strong&gt;ç®€æ´&lt;/strong&gt;ä¸å°‘&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä½¿ç”¨newæ–¹æ³•&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;CompletableFuture&amp;lt;Double&amp;gt;Â futurePriceÂ =Â &lt;span&gt;new&lt;/span&gt;Â CompletableFuture&amp;lt;&amp;gt;();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä½¿ç”¨CompletableFuture#completedFutureé™æ€æ–¹æ³•åˆ›å»º&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;completedFuture&lt;/span&gt;&lt;span&gt;(UÂ value)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â CompletableFuture&amp;lt;U&amp;gt;((valueÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â ?Â NILÂ :Â value);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‚æ•°çš„å€¼ä¸ºä»»åŠ¡æ‰§è¡Œå®Œçš„ç»“æœï¼Œä¸€èˆ¬è¯¥æ–¹æ³•åœ¨å®é™…åº”ç”¨ä¸­è¾ƒå°‘åº”ç”¨&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä½¿ç”¨ CompletableFuture#supplyAsyncé™æ€æ–¹æ³•åˆ›å»º supplyAsyncæœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;supplyAsync&lt;/span&gt;&lt;span&gt;(Supplier&amp;lt;U&amp;gt;Â supplier)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â asyncSupplyStage(asyncPool,Â supplier);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;supplyAsync&lt;/span&gt;&lt;span&gt;(Supplier&amp;lt;U&amp;gt;Â supplier,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â asyncSupplyStage(screenExecutor(executor),Â supplier);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä½¿ç”¨CompletableFuture#runAsyncé™æ€æ–¹æ³•åˆ›å»º runAsyncæœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;runAsync&lt;/span&gt;&lt;span&gt;(RunnableÂ runnable)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â asyncRunStage(asyncPool,Â runnable);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;runAsync&lt;/span&gt;&lt;span&gt;(RunnableÂ runnable,Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â asyncRunStage(screenExecutor(executor),Â runnable);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;ç»“æœçš„è·å–ï¼š&lt;/strong&gt; å¯¹äºç»“æœçš„è·å–CompltableFutureç±»æä¾›äº†å››ç§æ–¹å¼&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹å¼ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â TÂ &lt;span&gt;get&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//æ–¹å¼äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â TÂ &lt;span&gt;get&lt;/span&gt;&lt;span&gt;(&lt;span&gt;long&lt;/span&gt;Â timeout,Â TimeUnitÂ unit)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//æ–¹å¼ä¸‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â TÂ &lt;span&gt;getNow&lt;/span&gt;&lt;span&gt;(TÂ valueIfAbsent)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//æ–¹å¼å››&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â TÂ &lt;span&gt;join&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;get()å’Œget(long timeout, TimeUnit unit) =&amp;gt; åœ¨Futureä¸­å°±å·²ç»æä¾›äº†ï¼Œåè€…æä¾›è¶…æ—¶å¤„ç†ï¼Œå¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…æœªè·å–ç»“æœå°†æŠ›å‡ºè¶…æ—¶å¼‚å¸¸&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;getNow =&amp;gt; ç«‹å³è·å–ç»“æœä¸é˜»å¡ï¼Œç»“æœè®¡ç®—å·²å®Œæˆå°†è¿”å›ç»“æœæˆ–è®¡ç®—è¿‡ç¨‹ä¸­çš„å¼‚å¸¸ï¼Œå¦‚æœæœªè®¡ç®—å®Œæˆå°†è¿”å›è®¾å®šçš„valueIfAbsentå€¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;join =&amp;gt; æ–¹æ³•é‡Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AcquireResultTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//getNowæ–¹æ³•æµ‹è¯•&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;String&amp;gt;Â cp1Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;60&lt;/span&gt;Â *Â &lt;span&gt;1000&lt;/span&gt;Â *Â &lt;span&gt;60&lt;/span&gt;Â );&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;helloÂ world&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â });&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â Â System.out.println(cp1.getNow(&lt;span&gt;&quot;helloÂ h2t&quot;&lt;/span&gt;));&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//joinæ–¹æ³•æµ‹è¯•&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Integer&amp;gt;Â cp2Â =Â CompletableFuture.supplyAsync((()-&amp;gt;Â &lt;span&gt;1&lt;/span&gt;Â /Â &lt;span&gt;0&lt;/span&gt;));&lt;br/&gt;Â Â Â Â Â Â System.out.println(cp2.join());&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//getæ–¹æ³•æµ‹è¯•&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Integer&amp;gt;Â cp3Â =Â CompletableFuture.supplyAsync((()-&amp;gt;Â &lt;span&gt;1&lt;/span&gt;Â /Â &lt;span&gt;0&lt;/span&gt;));&lt;br/&gt;Â Â Â Â Â Â System.out.println(cp3.get());&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªæ‰§è¡Œç»“æœä¸ºhello h2tï¼Œå› ä¸ºè¦å…ˆç¡ä¸Š1åˆ†é’Ÿç»“æœä¸èƒ½ç«‹å³è·å–&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;joinæ–¹æ³•è·å–ç»“æœæ–¹æ³•é‡Œä¸ä¼šæŠ›å¼‚å¸¸ï¼Œä½†æ˜¯æ‰§è¡Œç»“æœä¼šæŠ›å¼‚å¸¸ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸ä¸ºCompletionException&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;getæ–¹æ³•è·å–ç»“æœæ–¹æ³•é‡Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œæ‰§è¡Œç»“æœæŠ›å‡ºçš„å¼‚å¸¸ä¸ºExecutionException&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;å¼‚å¸¸å¤„ç†ï¼š&lt;/strong&gt; ä½¿ç”¨é™æ€æ–¹æ³•åˆ›å»ºçš„CompletableFutureå¯¹è±¡æ— éœ€æ˜¾ç¤ºå¤„ç†å¼‚å¸¸ï¼Œä½¿ç”¨newåˆ›å»ºçš„å¯¹è±¡éœ€è¦è°ƒç”¨completeExceptionallyæ–¹æ³•è®¾ç½®æ•è·åˆ°çš„å¼‚å¸¸ï¼Œä¸¾ä¾‹è¯´æ˜ï¼š&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;CompletableFutureÂ completableFutureÂ =Â &lt;span&gt;new&lt;/span&gt;Â CompletableFuture();&lt;br/&gt;&lt;span&gt;new&lt;/span&gt;Â Thread(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;//doSomethingï¼Œè°ƒç”¨completeæ–¹æ³•å°†å…¶ä»–æ–¹æ³•çš„æ‰§è¡Œç»“æœè®°å½•åœ¨completableFutureå¯¹è±¡ä¸­&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â completableFuture.complete(&lt;span&gt;null&lt;/span&gt;);&lt;br/&gt;Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;//å¼‚å¸¸å¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â completableFuture.completeExceptionally(e);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}).start();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åŒæ­¥æ–¹æ³•Pickå¼‚æ­¥æ–¹æ³•æŸ¥è¯¢æ‰€æœ‰åº—é“ºæŸä¸ªå•†å“ä»·æ ¼&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åº—é“ºä¸ºä¸€ä¸ªåˆ—è¡¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;Shop&amp;gt;Â shopListÂ =Â Arrays.asList(&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Shop(&lt;span&gt;&quot;BestPrice&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Shop(&lt;span&gt;&quot;LetsSaveBig&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Shop(&lt;span&gt;&quot;MyFavoriteShop&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Shop(&lt;span&gt;&quot;BuyItAll&quot;&lt;/span&gt;)&lt;br/&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åŒæ­¥æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;String&amp;gt;Â &lt;span&gt;findPriceSync&lt;/span&gt;&lt;span&gt;(StringÂ product)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â shopList.stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .map(shopÂ -&amp;gt;Â String.format(&lt;span&gt;&quot;%sÂ priceÂ isÂ %.2f&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â shop.getName(),Â shop.getPrice(product)))Â Â &lt;span&gt;//æ ¼å¼è½¬æ¢&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .collect(Collectors.toList());&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¼‚æ­¥æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;String&amp;gt;Â &lt;span&gt;findPriceAsync&lt;/span&gt;&lt;span&gt;(StringÂ product)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â List&amp;lt;CompletableFuture&amp;lt;String&amp;gt;&amp;gt;Â completableFutureListÂ =Â shopList.stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//è½¬å¼‚æ­¥æ‰§è¡Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .map(shopÂ -&amp;gt;Â CompletableFuture.supplyAsync(&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ()Â -&amp;gt;Â String.format(&lt;span&gt;&quot;%sÂ priceÂ isÂ %.2f&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â shop.getName(),Â shop.getPrice(product))))Â Â &lt;span&gt;//æ ¼å¼è½¬æ¢&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .collect(Collectors.toList());&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â completableFutureList.stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .map(CompletableFuture::join)Â Â &lt;span&gt;//è·å–ç»“æœä¸ä¼šæŠ›å‡ºå¼‚å¸¸&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .collect(Collectors.toList());&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ€§èƒ½æµ‹è¯•ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;FindÂ PriceÂ SyncÂ DoneÂ inÂ &lt;span&gt;4141&lt;/span&gt;&lt;br/&gt;FindÂ PriceÂ AsyncÂ DoneÂ inÂ &lt;span&gt;1033&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¼‚æ­¥&lt;/strong&gt;æ‰§è¡Œæ•ˆç‡&lt;strong&gt;æé«˜å››å€&lt;/strong&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸ºä»€ä¹ˆä»éœ€è¦CompletableFuture&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨JDK1.8ä»¥å‰ï¼Œé€šè¿‡è°ƒç”¨çº¿ç¨‹æ± çš„submitæ–¹æ³•å¯ä»¥è®©ä»»åŠ¡ä»¥å¼‚æ­¥çš„æ–¹å¼è¿è¡Œï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªFutureå¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨getæ–¹æ³•è·å–å¼‚æ­¥æ‰§è¡Œçš„ç»“æœï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;String&amp;gt;Â &lt;span&gt;findPriceFutureAsync&lt;/span&gt;&lt;span&gt;(StringÂ product)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ExecutorServiceÂ esÂ =Â Executors.newCachedThreadPool();&lt;br/&gt;Â Â Â Â List&amp;lt;Future&amp;lt;String&amp;gt;&amp;gt;Â futureListÂ =Â shopList.stream().map(shopÂ -&amp;gt;Â es.submit(()Â -&amp;gt;Â String.format(&lt;span&gt;&quot;%sÂ priceÂ isÂ %.2f&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â shop.getName(),Â shop.getPrice(product)))).collect(Collectors.toList());&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â futureList.stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â .map(fÂ -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â StringÂ resultÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resultÂ =Â f.get();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ExecutionExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â result;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }).collect(Collectors.toList());&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç”Ÿç‘œä½•ç”Ÿäº®ï¼Œä¸ºä»€ä¹ˆä»éœ€è¦å¼•å…¥CompletableFutureï¼Ÿå¯¹äºç®€å•çš„ä¸šåŠ¡åœºæ™¯ä½¿ç”¨Futureå®Œå…¨æ²¡æœ‰ï¼Œä½†æ˜¯æƒ³å°†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„è®¡ç®—ç»“æœç»„åˆèµ·æ¥ï¼Œåä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡çš„è®¡ç®—ç»“æœéœ€è¦å‰ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡çš„å€¼ç­‰ç­‰ï¼Œä½¿ç”¨Futureæä¾›çš„é‚£ç‚¹APIå°±å›Šä¸­ç¾æ¶©ï¼Œå¤„ç†èµ·æ¥ä¸å¤Ÿä¼˜é›…ï¼Œè¿™æ—¶å€™è¿˜æ˜¯è®©CompletableFutureä»¥&lt;strong&gt;å£°æ˜å¼&lt;/strong&gt;çš„æ–¹å¼ä¼˜é›…çš„å¤„ç†è¿™äº›éœ€æ±‚ã€‚è€Œä¸”åœ¨Futureç¼–ç¨‹ä¸­æƒ³è¦æ‹¿åˆ°Futureçš„å€¼ç„¶åæ‹¿è¿™ä¸ªå€¼å»åšåç»­çš„è®¡ç®—ä»»åŠ¡ï¼Œåªèƒ½é€šè¿‡è½®è¯¢çš„æ–¹å¼å»åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆè¿™æ ·éå¸¸å CPUå¹¶ä¸”ä»£ç ä¹Ÿä¸ä¼˜é›…ï¼Œç”¨ä¼ªä»£ç è¡¨ç¤ºå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;while&lt;/span&gt;(future.isDone())Â {&lt;br/&gt;Â Â Â Â resultÂ =Â future.get();&lt;br/&gt;Â Â Â Â doSomrthingWithResult(result);&lt;br/&gt;}Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†CompletableFutureæä¾›äº†APIå¸®åŠ©æˆ‘ä»¬å®ç°è¿™æ ·çš„éœ€æ±‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å…¶ä»–APIä»‹ç»&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;whenCompleteè®¡ç®—ç»“æœçš„å¤„ç†ï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹å‰é¢è®¡ç®—ç»“æœè¿›è¡Œå¤„ç†ï¼Œæ— æ³•è¿”å›æ–°å€¼
æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;T&amp;gt;Â &lt;span&gt;whenComplete&lt;/span&gt;&lt;span&gt;(BiConsumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â Throwable&amp;gt;Â action)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;T&amp;gt;Â &lt;span&gt;whenCompleteAsync&lt;/span&gt;&lt;span&gt;(BiConsumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â Throwable&amp;gt;Â action)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•ä¸‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;T&amp;gt;Â &lt;span&gt;whenCompleteAsync&lt;/span&gt;&lt;span&gt;(BiConsumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â Throwable&amp;gt;Â action,Â ExecutorÂ executor)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;BiFunction&amp;lt;? super T,? super U,? extends V&amp;gt; fnå‚æ•° =&amp;gt; å®šä¹‰å¯¹ç»“æœçš„å¤„ç†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Executor executorå‚æ•° =&amp;gt; è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä»¥asyncç»“å°¾çš„æ–¹æ³•å°†ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œç»„åˆæ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;WhenCompleteTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture&amp;lt;String&amp;gt;Â cf1Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â &lt;span&gt;&quot;hello&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture&amp;lt;String&amp;gt;Â cf2Â =Â cf1.whenComplete((v,Â e)Â -&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(String.format(&lt;span&gt;&quot;value:%s,Â exception:%s&quot;&lt;/span&gt;,Â v,Â e)));&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(cf2.join());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;thenApplyè½¬æ¢ï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°†å‰é¢è®¡ç®—ç»“æœçš„çš„CompletableFutureä¼ é€’ç»™thenApplyï¼Œè¿”å›thenApplyå¤„ç†åçš„ç»“æœã€‚å¯ä»¥è®¤ä¸ºé€šè¿‡thenApplyæ–¹æ³•å®ç°&lt;code&gt;CompletableFuture&amp;lt;T&amp;gt;&lt;/code&gt;è‡³&lt;code&gt;CompletableFuture&amp;lt;U&amp;gt;&lt;/code&gt;çš„è½¬æ¢ã€‚ç™½è¯ä¸€ç‚¹å°±æ˜¯å°†CompletableFutureçš„è®¡ç®—ç»“æœä½œä¸ºthenApplyæ–¹æ³•çš„å‚æ•°ï¼Œè¿”å›thenApplyæ–¹æ³•å¤„ç†åçš„ç»“æœ
æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenApply&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â extendsÂ U&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniApplyStage(&lt;span&gt;null&lt;/span&gt;,Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenApplyAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â extendsÂ U&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniApplyStage(asyncPool,Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•ä¸‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenApplyAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â extendsÂ U&amp;gt;Â fn,Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniApplyStage(screenExecutor(executor),Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Function&amp;lt;? super T,? extends U&amp;gt; fnå‚æ•° =&amp;gt; å¯¹å‰ä¸€ä¸ªCompletableFuture è®¡ç®—ç»“æœçš„è½¬åŒ–æ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Executor executorå‚æ•° =&amp;gt; è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä»¥asyncç»“å°¾çš„æ–¹æ³•å°†ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œç»„åˆæ“ä½œ ç¤ºä¾‹ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ThenApplyTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture&amp;lt;Integer&amp;gt;Â resultÂ =Â CompletableFuture.supplyAsync(ThenApplyTest::randomInteger).thenApply((i)Â -&amp;gt;Â iÂ *Â &lt;span&gt;8&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(result.get());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â IntegerÂ &lt;span&gt;randomInteger&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;10&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œå°†å‰ä¸€ä¸ªCompletableFutureè®¡ç®—å‡ºæ¥çš„ç»“æœæ‰©å¤§å…«å€&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;thenAcceptç»“æœå¤„ç†ï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;thenApplyä¹Ÿå¯ä»¥å½’ç±»ä¸ºå¯¹ç»“æœçš„å¤„ç†ï¼ŒthenAcceptå’ŒthenApplyçš„åŒºåˆ«å°±æ˜¯æ²¡æœ‰è¿”å›å€¼
æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;thenAccept&lt;/span&gt;&lt;span&gt;(Consumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T&amp;gt;Â action)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniAcceptStage(&lt;span&gt;null&lt;/span&gt;,Â action);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;thenAcceptAsync&lt;/span&gt;&lt;span&gt;(Consumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T&amp;gt;Â action)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniAcceptStage(asyncPool,Â action);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•ä¸‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;thenAcceptAsync&lt;/span&gt;&lt;span&gt;(Consumer&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T&amp;gt;Â action,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniAcceptStage(screenExecutor(executor),Â action);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Consumer&amp;lt;? super T&amp;gt; actionå‚æ•° =&amp;gt; å¯¹å‰ä¸€ä¸ªCompletableFutureè®¡ç®—ç»“æœçš„æ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Executor executorå‚æ•° =&amp;gt; è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŒç†ä»¥asyncç»“å°¾çš„æ–¹æ³•å°†ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œç»„åˆæ“ä½œ ç¤ºä¾‹ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ThenAcceptTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture.supplyAsync(ThenAcceptTest::getList).thenAccept(strListÂ -&amp;gt;Â strList.stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .forEach(mÂ -&amp;gt;Â System.out.println(m)));&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;String&amp;gt;Â &lt;span&gt;getList&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â Arrays.asList(&lt;span&gt;&quot;a&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;b&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;c&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°†å‰ä¸€ä¸ªCompletableFutureè®¡ç®—å‡ºæ¥çš„ç»“æœæ‰“å°å‡ºæ¥&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;thenComposeå¼‚æ­¥ç»“æœæµæ°´åŒ–ï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;thenComposeæ–¹æ³•å¯ä»¥å°†ä¸¤ä¸ªå¼‚æ­¥æ“ä½œè¿›è¡Œæµæ°´æ“ä½œ
æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenCompose&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,Â ?Â extendsÂ CompletionStage&amp;lt;U&amp;gt;&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniComposeStage(&lt;span&gt;null&lt;/span&gt;,Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenComposeAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,Â ?Â extendsÂ CompletionStage&amp;lt;U&amp;gt;&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniComposeStage(asyncPool,Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ–¹æ³•ä¸‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;thenComposeAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Function&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,Â ?Â extendsÂ CompletionStage&amp;lt;U&amp;gt;&amp;gt;Â fn,&lt;br/&gt;Â Â Â Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â uniComposeStage(screenExecutor(executor),Â fn);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Function&amp;lt;? super T, ? extends CompletionStage&amp;lt;U&amp;gt;&amp;gt; fn&lt;/code&gt;å‚æ•° =&amp;gt; å½“å‰CompletableFutureè®¡ç®—ç»“æœçš„æ‰§è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Executor executorå‚æ•° =&amp;gt; è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŒç†ä»¥asyncç»“å°¾çš„æ–¹æ³•å°†ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œç»„åˆæ“ä½œ
ç¤ºä¾‹ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ThenComposeTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture&amp;lt;Integer&amp;gt;Â resultÂ =Â CompletableFuture.supplyAsync(ThenComposeTest::getInteger)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .thenCompose(iÂ -&amp;gt;Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â iÂ *Â &lt;span&gt;10&lt;/span&gt;));&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(result.get());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;getInteger&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;666&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;expandValue&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â num)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â numÂ *Â &lt;span&gt;10&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§è¡Œæµç¨‹å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/N34tfh8WYkiahg74DUViaraK9PSjAvycy1Zx0KmIBMazZfcCzsEAsCrsOclmklaK06078KZ8X8RLB8vytgB3Xia6w/640?wx_fmt=other&quot; data-type=&quot;other&quot; data-ratio=&quot;0.6125&quot; data-w=&quot;640&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;thenCombineç»„åˆç»“æœï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;thenCombineæ–¹æ³•å°†ä¸¤ä¸ªæ— å…³çš„CompletableFutureç»„åˆèµ·æ¥ï¼Œç¬¬äºŒä¸ªCompletableå¹¶ä¸ä¾èµ–ç¬¬ä¸€ä¸ªCompletableçš„ç»“æœ
æä¾›äº†ä¸‰ä¸ªæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//æ–¹æ³•ä¸€&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &amp;lt;U,V&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;V&amp;gt;Â &lt;span&gt;thenCombine&lt;/span&gt;&lt;span&gt;(Â &lt;br/&gt;Â Â Â Â CompletionStage&amp;lt;?Â extendsÂ U&amp;gt;Â other,&lt;br/&gt;Â Â Â Â BiFunction&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â U,?Â extendsÂ V&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â biApplyStage(&lt;span&gt;null&lt;/span&gt;,Â other,Â fn);&lt;br/&gt;}&lt;br/&gt;Â Â &lt;span&gt;//æ–¹æ³•äºŒ&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â &amp;lt;U,V&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;V&amp;gt;Â &lt;span&gt;thenCombineAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Â Â CompletionStage&amp;lt;?Â extendsÂ U&amp;gt;Â other,&lt;br/&gt;Â Â Â Â Â Â BiFunction&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â U,?Â extendsÂ V&amp;gt;Â fn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â biApplyStage(asyncPool,Â other,Â fn);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//æ–¹æ³•ä¸‰&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â &amp;lt;U,V&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;V&amp;gt;Â &lt;span&gt;thenCombineAsync&lt;/span&gt;&lt;span&gt;(&lt;br/&gt;Â Â Â Â Â Â CompletionStage&amp;lt;?Â extendsÂ U&amp;gt;Â other,&lt;br/&gt;Â Â Â Â Â Â BiFunction&amp;lt;?Â &lt;span&gt;super&lt;/span&gt;Â T,?Â &lt;span&gt;super&lt;/span&gt;Â U,?Â extendsÂ V&amp;gt;Â fn,Â ExecutorÂ executor)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â biApplyStage(screenExecutor(executor),Â other,Â fn);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;CompletionStage&amp;lt;? extends U&amp;gt; otherå‚æ•° =&amp;gt; æ–°çš„CompletableFutureçš„è®¡ç®—ç»“æœ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;BiFunction&amp;lt;? super T,? super U,? extends V&amp;gt; fnå‚æ•° =&amp;gt; å®šä¹‰äº†ä¸¤ä¸ªCompletableFutureå¯¹è±¡&lt;strong&gt;å®Œæˆè®¡ç®—å&lt;/strong&gt;å¦‚ä½•åˆå¹¶ç»“æœï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Executor executorå‚æ•° =&amp;gt; è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŒç†ä»¥asyncç»“å°¾çš„æ–¹æ³•å°†ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­æ‰§è¡Œç»„åˆæ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ThenCombineTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â RandomÂ randomÂ =Â &lt;span&gt;new&lt;/span&gt;Â Random();&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â CompletableFuture&amp;lt;Integer&amp;gt;Â resultÂ =Â CompletableFuture.supplyAsync(ThenCombineTest::randomInteger).thenCombine(&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CompletableFuture.supplyAsync(ThenCombineTest::randomInteger),Â (i,Â j)Â -&amp;gt;Â iÂ *Â j&lt;br/&gt;Â Â Â Â Â Â Â Â );&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(result.get());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â IntegerÂ &lt;span&gt;randomInteger&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â random.nextInt(&lt;span&gt;100&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°†ä¸¤ä¸ªçº¿ç¨‹è®¡ç®—å‡ºæ¥çš„å€¼åšä¸€ä¸ªä¹˜æ³•åœ¨è¿”å› æ‰§è¡Œæµç¨‹å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/N34tfh8WYkiahg74DUViaraK9PSjAvycy1Zx0KmIBMazZfcCzsEAsCrsOclmklaK06078KZ8X8RLB8vytgB3Xia6w/640?wx_fmt=other&quot; data-type=&quot;other&quot; data-ratio=&quot;0.6125&quot; data-w=&quot;640&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;allOf&amp;amp;anyOfç»„åˆå¤šä¸ªCompletableFutureï¼š&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–¹æ³•ä»‹ç»ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//allOf&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â CompletableFuture&amp;lt;Void&amp;gt;Â &lt;span&gt;allOf&lt;/span&gt;&lt;span&gt;(CompletableFuture&amp;lt;?&amp;gt;...Â cfs)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â andTree(cfs,Â &lt;span&gt;0&lt;/span&gt;,Â cfs.lengthÂ -Â &lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//anyOf&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â CompletableFuture&amp;lt;Object&amp;gt;Â &lt;span&gt;anyOf&lt;/span&gt;&lt;span&gt;(CompletableFuture&amp;lt;?&amp;gt;...Â cfs)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â orTree(cfs,Â &lt;span&gt;0&lt;/span&gt;,Â cfs.lengthÂ -Â &lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;allOf =&amp;gt; æ‰€æœ‰çš„CompletableFutureéƒ½æ‰§è¡Œå®Œåæ‰§è¡Œè®¡ç®—ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;anyOf =&amp;gt; ä»»æ„ä¸€ä¸ªCompletableFutureæ‰§è¡Œå®Œåå°±ä¼šæ‰§è¡Œè®¡ç®—&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AllOfTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Void&amp;gt;Â future1Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;hello&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Void&amp;gt;Â future2Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;world&quot;&lt;/span&gt;);Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Void&amp;gt;Â resultÂ =Â CompletableFuture.allOf(future1,Â future2);&lt;br/&gt;Â Â Â Â Â Â System.out.println(result.get());&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;allOfæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œé€‚åˆæ²¡æœ‰è¿”å›å€¼å¹¶ä¸”éœ€è¦å‰é¢æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œåç»­ä»»åŠ¡çš„åº”ç”¨åœºæ™¯&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AnyOfTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â RandomÂ randomÂ =Â &lt;span&gt;new&lt;/span&gt;Â Random();&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;String&amp;gt;Â future1Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â randomSleep();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;hello&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;hello&quot;&lt;/span&gt;;});&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;String&amp;gt;Â future2Â =Â CompletableFuture.supplyAsync(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â randomSleep();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;world&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;world&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â CompletableFuture&amp;lt;Object&amp;gt;Â resultÂ =Â CompletableFuture.anyOf(future1,Â future2);&lt;br/&gt;Â Â Â Â Â Â System.out.println(result.get());&lt;br/&gt;Â }&lt;br/&gt;Â Â &lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;randomSleep&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Thread.sleep(random.nextInt(&lt;span&gt;10&lt;/span&gt;));&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¤ä¸ªçº¿ç¨‹éƒ½ä¼šå°†ç»“æœæ‰“å°å‡ºæ¥ï¼Œä½†æ˜¯getæ–¹æ³•åªä¼šè¿”å›æœ€å…ˆå®Œæˆä»»åŠ¡çš„ç»“æœã€‚è¯¥æ–¹æ³•æ¯”è¾ƒé€‚åˆåªè¦æœ‰ä¸€ä¸ªè¿”å›å€¼å°±å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡çš„åº”ç”¨åœºæ™¯&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ³¨æ„ç‚¹&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾ˆå¤šæ–¹æ³•éƒ½æä¾›äº†å¼‚æ­¥å®ç°ã€å¸¦asyncåç¼€ã€‘ï¼Œä½†æ˜¯éœ€å°å¿ƒè°¨æ…ä½¿ç”¨è¿™äº›å¼‚æ­¥æ–¹æ³•ï¼Œå› ä¸ºå¼‚æ­¥æ„å‘³ç€å­˜åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¯èƒ½æ€§èƒ½ä¸ä¸€å®šæ¯”åŒæ­¥å¥½ã€‚å¦‚æœéœ€è¦ä½¿ç”¨å¼‚æ­¥çš„æ–¹æ³•ï¼Œ&lt;strong&gt;å…ˆåšæµ‹è¯•&lt;/strong&gt;ï¼Œç”¨æµ‹è¯•æ•°æ®è¯´è¯ï¼ï¼ï¼&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;CompletableFutureçš„åº”ç”¨åœºæ™¯&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å­˜åœ¨IOå¯†é›†å‹çš„ä»»åŠ¡å¯ä»¥é€‰æ‹©CompletableFutureï¼ŒIOéƒ¨åˆ†äº¤ç”±å¦å¤–ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œã€‚Logbackã€Log4j2å¼‚æ­¥æ—¥å¿—è®°å½•çš„å®ç°åŸç†å°±æ˜¯æ–°èµ·äº†ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡ŒIOæ“ä½œï¼Œè¿™éƒ¨åˆ†å¯ä»¥ä»¥CompletableFuture.runAsync(()-&amp;gt;{ioOperation();})çš„æ–¹å¼å»è°ƒç”¨ã€‚å¦‚æœæ˜¯CPUå¯†é›†å‹å°±ä¸æ¨èä½¿ç”¨äº†æ¨èä½¿ç”¨å¹¶è¡Œæµ&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¼˜åŒ–ç©ºé—´&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;supplyAsyncæ‰§è¡Œä»»åŠ¡åº•å±‚å®ç°ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;supplyAsync&lt;/span&gt;&lt;span&gt;(Supplier&amp;lt;U&amp;gt;Â supplier)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â asyncSupplyStage(asyncPool,Â supplier);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;static&lt;/span&gt;Â &amp;lt;U&amp;gt;Â &lt;span&gt;CompletableFuture&amp;lt;U&amp;gt;Â &lt;span&gt;asyncSupplyStage&lt;/span&gt;&lt;span&gt;(ExecutorÂ e,Â Supplier&amp;lt;U&amp;gt;Â f)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (fÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â NullPointerException();&lt;br/&gt;Â Â Â Â CompletableFuture&amp;lt;U&amp;gt;Â dÂ =Â &lt;span&gt;new&lt;/span&gt;Â CompletableFuture&amp;lt;U&amp;gt;();&lt;br/&gt;Â Â Â Â e.execute(&lt;span&gt;new&lt;/span&gt;Â AsyncSupply&amp;lt;U&amp;gt;(d,Â f));&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â d;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åº•å±‚è°ƒç”¨çš„æ˜¯çº¿ç¨‹æ± å»æ‰§è¡Œä»»åŠ¡ï¼Œè€ŒCompletableFutureä¸­é»˜è®¤çº¿ç¨‹æ± ä¸ºForkJoinPool&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â ExecutorÂ asyncPoolÂ =Â useCommonPoolÂ ?&lt;br/&gt;Â Â Â Â Â Â Â Â ForkJoinPool.commonPool()Â :Â &lt;span&gt;new&lt;/span&gt;Â ThreadPerTaskExecutor();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ForkJoinPoolçº¿ç¨‹æ± çš„å¤§å°å–å†³äºCPUçš„æ ¸æ•°ã€‚CPUå¯†é›†å‹ä»»åŠ¡çº¿ç¨‹æ± å¤§å°é…ç½®ä¸ºCPUæ ¸å¿ƒæ•°å°±å¯ä»¥äº†ï¼Œä½†æ˜¯IOå¯†é›†å‹ï¼Œçº¿ç¨‹æ± çš„å¤§å°ç”±**CPUæ•°é‡ * CPUåˆ©ç”¨ç‡ * (1 + çº¿ç¨‹ç­‰å¾…æ—¶é—´/çº¿ç¨‹CPUæ—¶é—´)**ç¡®å®šã€‚è€ŒCompletableFutureçš„åº”ç”¨åœºæ™¯å°±æ˜¯IOå¯†é›†å‹ä»»åŠ¡ï¼Œå› æ­¤é»˜è®¤çš„ForkJoinPoolä¸€èˆ¬æ— æ³•è¾¾åˆ°æœ€ä½³æ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è‡ªå·±æ ¹æ®ä¸šåŠ¡åˆ›å»ºçº¿ç¨‹æ± &lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ce8a621d12bd6668e3e8ff1098f0b8e0</guid>
<title>å¦‚ä½•æŠŠPythonåº”ç”¨æ„å»ºä¸ºDockerå®¹å™¨</title>
<link>https://toutiao.io/k/ybi7p4m</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨äº‘åŸç”Ÿè¶Šæ¥è¶Šæµè¡Œ, å®¹å™¨åŒ–åŠ¿åœ¨å¿…è¡Œ, ä½œä¸ºä¸€ä¸ªå¼€å‘äººå‘˜ï¼Œ å¤šå¤šå°‘å°‘ä¹Ÿè¦æ¥è§¦ä¸€äº›å®¹å™¨ç›¸å…³çš„æ“ä½œï¼Œ å…¶ä¸­æœ€åŸºç¡€çš„æ“ä½œæ˜¯å¦‚ä½•æŠŠè‡ªå·±çš„åº”ç”¨æ„å»ºä¸ºä¸€ä¸ª&lt;code&gt;Docker&lt;/code&gt;å®¹å™¨ï¼Œ å¹¶ç®¡ç†ã€‚æœ¬æ–‡ä»¥&lt;code&gt;starlette&lt;/code&gt;æ¡†æ¶å’Œåå°çš„å¼€å‘å¸¸è§3ä»¶å¥—&lt;code&gt;Nginx&lt;/code&gt;ï¼Œ &lt;code&gt;MySQL&lt;/code&gt;å’Œ&lt;code&gt;Redis&lt;/code&gt;ä¸ºåº•åˆ›å»ºä¸€ä¸ªç®€å•çš„Webåå°æ¼”ç¤ºé¡¹ç›®, å¹¶ä¸€æ­¥ä¸€æ­¥ä»‹ç»å¦‚ä½•ç¼–å†™æˆä¸€ä¸ªå®¹å™¨ä»¥åŠå®¹å™¨çš„è¿è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨: 2021-02-07å¢åŠ äº†ç¤ºä¾‹ä»£ç 
æ³¨: 2021-12-12éƒ¨åˆ†å†…å®¹è¿›è¡Œé‡å†™&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.åˆ›å»ºé¡¹ç›®&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€æ­¥ä¼šå…ˆåˆ›å»ºä¸€ä¸ª&lt;code&gt;Python&lt;/code&gt;åå°é¡¹ç›®ï¼Œ è¿™ä¸ªé¡¹ç›®åŒ…å«3ä¸ªæ¥å£ï¼Œ ä¸€ä¸ªæ¥å£ç”¨æ¥æµ‹è¯•æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œ å¦å¤–ä¸€ä¸ªæ˜¯æµ‹è¯•&lt;code&gt;MySQL&lt;/code&gt;è°ƒç”¨ï¼Œ æœ€åä¸€ä¸ªæ˜¯æµ‹è¯•&lt;code&gt;Redis&lt;/code&gt;è°ƒç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæ˜¯åˆ›å»ºä¸€ä¸ªåå°é¡¹ç›®ä»¥åŠä¾èµ–:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;âœÂ Â example_pythonÂ git:(master)Â mkdirÂ python_on_dockerÂ Â Â Â Â Â Â Â Â Â &lt;br/&gt;âœÂ Â example_pythonÂ git:(master)Â &lt;span&gt;cd&lt;/span&gt;Â python_on_dockerÂ &lt;br/&gt;&lt;span&gt;#Â ä¸€ä¸ªé¡¹ç›®é…å¥—ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ,Â å¦‚æœç†Ÿæ‚‰,Â å»ºè®®ç”¨poretyæ¥å¤„ç†é¡¹ç›®çš„pythonå’Œvenvé…å¥—ç¯å¢ƒé—®é¢˜,Â è¿™é‡Œä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿,Â ä½¿ç”¨äº†venv&lt;/span&gt;&lt;br/&gt;âœÂ Â python_on_dockerÂ git:(master)Â python3.7Â -mÂ venvÂ venv&lt;br/&gt;âœÂ Â python_on_dockerÂ git:(master)Â &lt;span&gt;source&lt;/span&gt;Â venv/bin/activateÂ &lt;br/&gt;âœÂ Â python_on_dockerÂ git:(master)Â touchÂ __init__.pyÂ Â &lt;span&gt;#Â æ¯ä¸ªPythoné¡¹ç›®è¦ç¡®ä¿æœ‰ä¸€ä¸ª__init__.pyæ–‡ä»¶Â &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â å¯ä»¥çœ‹åˆ°å¤šäº†ä¸ªvenvçš„ç¯å¢ƒ,Â ç›®å‰å·²ç»åˆ‡åˆ°venv,Â å¼€å§‹å®‰è£…ä¾èµ–&lt;/span&gt;&lt;br/&gt;(venv)Â âœÂ Â python_on_dockerÂ git:(master)Â pipÂ installÂ starletteÂ aiomysqlÂ aioredisÂ uvicorn&lt;br/&gt;(venv)Â âœÂ Â python_on_dockerÂ git:(master)Â pipÂ installÂ cryptographyÂ Â &lt;span&gt;#Â aiomysqléœ€è¦è¯¥æ¨¡å—æä¾›åŠ å¯†ç®—æ³•&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ç”Ÿæˆpipå®‰è£…çš„ä¾èµ–æ–‡ä»¶&lt;/span&gt;&lt;br/&gt;(venv)Â âœÂ Â python_on_dockerÂ git:(master)Â pythonÂ -mÂ pipÂ freezeÂ &amp;gt;Â requirements.txt&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹ååˆ›å»ºé¡¹ç›®ä¸»æ–‡ä»¶&lt;code&gt;example.py&lt;/code&gt;, è¯¥æ–‡ä»¶ä¸»è¦æä¾›APIæœåŠ¡ï¼Œé‡Œé¢åŒ…å«ä¸Šé¢æ‰€è¯´çš„3ä¸ªæ¥å£, ç¤ºä¾‹ä»£ç å¦‚ä¸‹(æºç ):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;from&lt;/span&gt;Â typingÂ &lt;span&gt;import&lt;/span&gt;Â Optional,Â Tuple&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â aiomysql&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â aioredis&lt;br/&gt;&lt;span&gt;from&lt;/span&gt;Â starlette.applicationsÂ &lt;span&gt;import&lt;/span&gt;Â Starlette&lt;br/&gt;&lt;span&gt;from&lt;/span&gt;Â starlette.configÂ &lt;span&gt;import&lt;/span&gt;Â Config&lt;br/&gt;&lt;span&gt;from&lt;/span&gt;Â starlette.requestsÂ &lt;span&gt;import&lt;/span&gt;Â Request&lt;br/&gt;&lt;span&gt;from&lt;/span&gt;Â starlette.responsesÂ &lt;span&gt;import&lt;/span&gt;Â JSONResponse,Â PlainTextResponse&lt;br/&gt;&lt;span&gt;from&lt;/span&gt;Â starlette.routingÂ &lt;span&gt;import&lt;/span&gt;Â Route&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;config:Â ConfigÂ =Â Config(&lt;span&gt;&quot;.env&quot;&lt;/span&gt;)&lt;br/&gt;mysql_pool:Â Optional[aiomysql.Pool]Â =Â &lt;span&gt;None&lt;/span&gt;&lt;br/&gt;redis:Â Optional[aioredis.Redis]Â =Â &lt;span&gt;None&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;on_start_up&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;&quot;&quot;è¿æ¥MySQLå’ŒRedis&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;global&lt;/span&gt;Â mysql_pool&lt;br/&gt;Â Â Â Â &lt;span&gt;global&lt;/span&gt;Â redis&lt;br/&gt;&lt;br/&gt;Â Â Â Â mysql_poolÂ =Â &lt;span&gt;await&lt;/span&gt;Â aiomysql.create_pool(&lt;br/&gt;Â Â Â Â Â Â Â Â host=config(&lt;span&gt;&quot;MYSQL_HOST&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â port=config(&lt;span&gt;&quot;MYSQL_PORT&quot;&lt;/span&gt;,Â cast=int),&lt;br/&gt;Â Â Â Â Â Â Â Â user=config(&lt;span&gt;&quot;MYSQL_USER&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â password=config(&lt;span&gt;&quot;MYSQL_PW&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â db=config(&lt;span&gt;&quot;MYSQL_DB&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â )&lt;br/&gt;Â Â Â Â redisÂ =Â aioredis.Redis(&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â aioredis.create_redis_pool(&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â config(&lt;span&gt;&quot;REDIS_URL&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â minsize=config(&lt;span&gt;&quot;REDIS_POOL_MINSIZE&quot;&lt;/span&gt;,Â cast=int),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â maxsize=config(&lt;span&gt;&quot;REDIS_POOL_MAXSIZE&quot;&lt;/span&gt;,Â cast=int),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â encoding=config(&lt;span&gt;&quot;REDIS_ENCODING&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â )&lt;br/&gt;Â Â Â Â )&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;on_shutdown&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;&quot;&quot;å…³é—­MySQLå’ŒRedisè¿æ¥&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â mysql_pool.wait_closed()&lt;br/&gt;Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â redis.wait_closed()&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;hello_word&lt;/span&gt;&lt;span&gt;(request:Â Request)&lt;/span&gt;Â -&amp;gt;Â PlainTextResponse:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;&quot;&quot;æµ‹è¯•æ¥å£è°ƒç”¨æ¥å£&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â PlainTextResponse(&lt;span&gt;&quot;HelloÂ Word!&quot;&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;mysql_demo&lt;/span&gt;&lt;span&gt;(request:Â Request)&lt;/span&gt;Â -&amp;gt;Â JSONResponse:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;&quot;&quot;æµ‹è¯•MySQLè°ƒç”¨æ¥å£&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â count:Â intÂ =Â int(request.query_params.get(&lt;span&gt;&quot;count&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;0&quot;&lt;/span&gt;))&lt;br/&gt;Â Â Â Â &lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;with&lt;/span&gt;Â mysql_pool.acquire()Â &lt;span&gt;as&lt;/span&gt;Â conn:&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;with&lt;/span&gt;Â conn.cursor()Â &lt;span&gt;as&lt;/span&gt;Â cur:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â cur.execute(&lt;span&gt;&quot;SELECTÂ %s;&quot;&lt;/span&gt;,Â (count,Â ))&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â mysql_result_tuple:Â Tuple[int]Â =Â &lt;span&gt;await&lt;/span&gt;Â cur.fetchone()&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â JSONResponse({&lt;span&gt;&quot;result&quot;&lt;/span&gt;:Â mysql_result_tuple})&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;redis_demo&lt;/span&gt;&lt;span&gt;(request:Â Request)&lt;/span&gt;Â -&amp;gt;Â JSONResponse:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;&quot;&quot;æµ‹è¯•Redisè°ƒç”¨æ¥å£&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â count:Â intÂ =Â int(request.query_params.get(&lt;span&gt;&quot;count&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;0&quot;&lt;/span&gt;))&lt;br/&gt;Â Â Â Â key:Â strÂ =Â request.query_params.get(&lt;span&gt;&quot;key&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;not&lt;/span&gt;Â key:&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â JSONResponse(&lt;span&gt;&quot;keyÂ isÂ empty&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â result:Â intÂ =Â &lt;span&gt;await&lt;/span&gt;Â redis.incrby(key,Â count)&lt;br/&gt;Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â redis.expire(key,Â &lt;span&gt;60&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â JSONResponse({&lt;span&gt;&quot;count&quot;&lt;/span&gt;:Â result})&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;app:Â StarletteÂ =Â Starlette(&lt;br/&gt;Â Â Â Â routes=[&lt;br/&gt;Â Â Â Â Â Â Â Â Route(&lt;span&gt;&#x27;/&#x27;&lt;/span&gt;,Â hello_word),&lt;br/&gt;Â Â Â Â Â Â Â Â Route(&lt;span&gt;&#x27;/mysql&#x27;&lt;/span&gt;,Â mysql_demo),&lt;br/&gt;Â Â Â Â Â Â Â Â Route(&lt;span&gt;&#x27;/redis&#x27;&lt;/span&gt;,Â redis_demo)&lt;br/&gt;Â Â Â Â ],&lt;br/&gt;Â Â Â Â on_startup=[on_start_up],&lt;br/&gt;Â Â Â Â on_shutdown=[on_shutdown]&lt;br/&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡¹ç›®æ–‡ä»¶åˆ›å»ºå®Œæ¯•, æ¥ç€å†åˆ›å»ºä¸€ä¸ªé…å¥—çš„é…ç½®æ–‡ä»¶&lt;code&gt;.env&lt;/code&gt;(&lt;code&gt;starlette&lt;/code&gt;çš„configä¼šè‡ªåŠ¨åŠ è½½&lt;code&gt;.env&lt;/code&gt;çš„é…ç½®):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â æŒ‰è‡ªå·±çš„é…ç½®ä¿¡æ¯æ›´æ”¹é…ç½®&lt;/span&gt;&lt;br/&gt;MYSQL_DB=&lt;span&gt;&quot;mysql&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_HOST=&lt;span&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_PORT=&lt;span&gt;&quot;3306&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_USER=&lt;span&gt;&quot;root&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_PW=&lt;span&gt;&quot;&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;REDIS_URL=&lt;span&gt;&quot;redis://localhost&quot;&lt;/span&gt;&lt;br/&gt;REDIS_POOL_MINSIZE=1&lt;br/&gt;REDIS_POOL_MAXSIZE=10&lt;br/&gt;REDIS_ENCODING=&lt;span&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ°ç°åœ¨ä¸ºæ­¢, ç›®å½•é‡Œåªæœ‰&lt;code&gt;example.py&lt;/code&gt;ä¸»æ–‡ä»¶, &lt;code&gt;.env&lt;/code&gt;é…ç½®æ–‡ä»¶ä»¥åŠ&lt;code&gt;requirements.txt&lt;/code&gt;çš„ä¾èµ–æ–‡ä»¶, ç°åœ¨å¼€å§‹å¯åŠ¨åº”ç”¨æŸ¥çœ‹åº”ç”¨æ˜¯å¦èƒ½æ­£å¸¸å¯åŠ¨(æ³¨æ„ä¿®æ”¹mysqlå’Œredisçš„é…ç½®æ–‡ä»¶, ç›®å‰å‡è®¾å·²ç»åœ¨æœ¬åœ°å®‰è£…å¥½mysqlå’Œredis):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â ä½¿ç”¨pythonÂ -mÂ uvicornå¯ä»¥é˜²æ­¢è°ƒç”¨åˆ°å¤–éƒ¨çš„uvicorn&lt;/span&gt;&lt;br/&gt;pythonÂ -mÂ uvicornÂ example:app&lt;br/&gt;&lt;span&gt;#Â ä»¥ä¸‹ä¸ºç»ˆç«¯è¾“å‡º&lt;/span&gt;&lt;br/&gt;INFO:Â Â Â Â Â StartedÂ serverÂ processÂ [4616]&lt;br/&gt;INFO:Â Â Â Â Â WaitingÂ &lt;span&gt;for&lt;/span&gt;Â applicationÂ startup.&lt;br/&gt;INFO:Â Â Â Â Â ApplicationÂ startupÂ complete.&lt;br/&gt;INFO:Â Â Â Â Â UvicornÂ runningÂ onÂ http://127.0.0.1:8000Â (PressÂ CTRL+CÂ toÂ quit)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ç»ˆç«¯çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æœåŠ¡å·²ç»å¯åŠ¨å¹¶ç›‘å¬æœ¬æœºçš„8000ç«¯å£,æ¥ä¸‹æ¥æµ‹è¯•æ¥å£å¯å¦æ­£å¸¸ä½¿ç”¨:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;âœÂ Â curlÂ http://127.0.0.1:8000&lt;br/&gt;HelloÂ Word!&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/mysql&lt;br/&gt;{&lt;span&gt;&quot;result&quot;&lt;/span&gt;:[0]}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/mysql\?count\=10&lt;br/&gt;{&lt;span&gt;&quot;result&quot;&lt;/span&gt;:[10]}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/mysql\?count\=50&lt;br/&gt;{&lt;span&gt;&quot;result&quot;&lt;/span&gt;:[50]}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/redis\?key\=&lt;span&gt;test&lt;/span&gt;&lt;br/&gt;{&lt;span&gt;&quot;count&quot;&lt;/span&gt;:0}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/redis\?key\=&lt;span&gt;test&lt;/span&gt;\&amp;amp;count\=2&lt;br/&gt;{&lt;span&gt;&quot;count&quot;&lt;/span&gt;:2}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/redis\?key\=&lt;span&gt;test&lt;/span&gt;\&amp;amp;count\=2&lt;br/&gt;{&lt;span&gt;&quot;count&quot;&lt;/span&gt;:4}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/redis\?key\=&lt;span&gt;test&lt;/span&gt;\&amp;amp;count\=2&lt;br/&gt;{&lt;span&gt;&quot;count&quot;&lt;/span&gt;:6}&lt;br/&gt;âœÂ Â curlÂ http://127.0.0.1:8000/redis\?key\=&lt;span&gt;test&lt;/span&gt;\&amp;amp;count\=2&lt;br/&gt;{&lt;span&gt;&quot;count&quot;&lt;/span&gt;:8}Â Â Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¾“å‡ºå¯ä»¥å‘ç°, æˆ‘ä»¬çš„æµ‹è¯•ç»“æœæ­£å¸¸, æ¥å£å¯ä»¥æ­£å¸¸ä½¿ç”¨,å‰èœåˆ°æ­¤ç»“æŸ, æ¥ä¸‹æ¥æ˜¯å¼€å§‹åˆ©ç”¨&lt;code&gt;Docker&lt;/code&gt;éƒ¨ç½²Python Webåº”ç”¨ä¹‹æ—….&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.ä¸ºé¡¹ç›®åˆ›å»ºé•œåƒå¹¶è¿è¡Œ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰æˆ‘ä»¬è¿˜æ²¡ç¢°è¿‡&lt;code&gt;Docker&lt;/code&gt;, ä»è¿™é‡Œå¼€å§‹, å°±å¼€å§‹ä½¿ç”¨&lt;code&gt;Docker&lt;/code&gt;äº†, ä½†åœ¨ä½¿ç”¨ä¹‹å‰è¦ç¡®ä¿è‡ªå·±å®‰è£…äº†&lt;code&gt;Docker&lt;/code&gt;, æ¯ä¸ªå¹³å°éƒ½æœ‰ä¸åŒçš„å®‰è£…æ–¹æ³•ä¸”èµ„æ–™å¾ˆå¤šï¼Œ å®˜æ–¹èµ„æ–™ä¹Ÿå¾ˆè¯¦ç»†, è¿™é‡Œå°±ä¸å¤šåšæè¿°äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨&lt;code&gt;Docker&lt;/code&gt;ä¸­åˆ›å»ºé•œåƒå¾ˆç®€å•ï¼Œ åªéœ€è¦é€šè¿‡ä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶æ¥å‘Šè¯‰&lt;code&gt;Docker&lt;/code&gt;å¦‚ä½•åˆ¶ä½œé•œåƒå³å¯, &lt;code&gt;Dockerfile&lt;/code&gt;ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªç”¨é€”, ä¸€ä¸ªæ˜¯å¯¹å½“å‰é•œåƒçš„æè¿°ï¼›ä¸€ä¸ªæ˜¯æŒ‡å¯¼&lt;code&gt;Docker&lt;/code&gt;å®Œæˆåº”ç”¨çš„å®¹å™¨åŒ–ï¼ˆåˆ›å»ºä¸€ä¸ªåŒ…å«å½“å‰åº”ç”¨çš„é•œåƒ),&lt;code&gt;Dockerfile&lt;/code&gt;èƒ½å®ç°å¼€å‘å’Œéƒ¨ç½²ä¸¤ä¸ªè¿‡ç¨‹çš„æ— ç¼åˆ‡æ¢, åŒæ—¶&lt;code&gt;Dockerfile&lt;/code&gt;è¿˜èƒ½å¸®åŠ©æ–°æ‰‹å¿«é€Ÿç†Ÿæ‚‰è¿™ä¸ªé¡¹ç›®(&lt;code&gt;Dockerfile&lt;/code&gt;å¯¹å½“å‰çš„åº”ç”¨åŠå…¶ä¾èµ–æœ‰ä¸€ä¸ªæ¸…æ™°å‡†ç¡®çš„æè¿°ï¼Œå¹¶ä¸”éå¸¸å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œå› æ­¤ï¼Œè¦åƒé‡è§†ä½ çš„ä»£ç ä¸€æ ·é‡è§†è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å°†å®ƒçº³å…¥åˆ°æºæ§åˆ¶ç³»ç»Ÿå½“ä¸­.&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•çš„äº†è§£åå¼€å§‹ç¼–å†™å¯¹åº”çš„&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶ï¼Œ æ–‡ä»¶å¦‚ä¸‹(æºç ):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â æ‹‰å–pythonçš„åŸºç¡€é•œåƒ,Â å…·ä½“ä½¿ç”¨pythonÂ -VæŸ¥çœ‹åˆšæ‰è‡ªå·±æ˜¯å“ªä¸ªç‰ˆæœ¬çš„&lt;/span&gt;&lt;br/&gt;&lt;span&gt;FROM&lt;/span&gt;Â python:&lt;span&gt;3.7&lt;/span&gt;.&lt;span&gt;4&lt;/span&gt;-alpine&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®å½“å‰é•œåƒçš„ç»´æŠ¤è€…&lt;/span&gt;&lt;br/&gt;&lt;span&gt;LABEL&lt;/span&gt;&lt;span&gt;Â maintainer=&lt;span&gt;&quot;so1nxxxx@gmail.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®å·¥ä½œç›®å½•&lt;/span&gt;&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt;&lt;span&gt;Â /data/app&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â å¤åˆ¶æœ¬åœ°ä¾èµ–,Â æ¯ä¸ªCOPYä¼šæ–°å»ºä¸€ä¸ªé•œåƒå±‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â .Â .&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ä¸è¦ç”Ÿæˆpycæ–‡ä»¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â PYTHONDONTWRITEBYTECODEÂ &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â PYTHONUNBUFFEREDÂ &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â å®‰è£…ä¾èµ–,Â ç”±äºaioredisä¾èµ–çš„hiredisä»¥åŠcryptographyéœ€è¦ç¼–è¯‘,Â æ‰€ä»¥è¿™é‡Œéœ€è¦addè¿™äº›åŒ…,Â è¿™æ ·ä¾èµ–ï¼Œå®¹å™¨å°±ä¼šå˜å¾—å¾ˆå¤§...&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt;&lt;span&gt;Â apkÂ addÂ --updateÂ gccÂ musl-devÂ python3-devÂ libffi-devÂ openssl-devÂ build-baseÂ &amp;amp;&amp;amp;Â pipÂ installÂ --upgradeÂ pipÂ &amp;amp;&amp;amp;Â pipÂ installÂ -rÂ requirements.txt&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŒ‡æ˜ç›‘å¬çš„ç«¯å£&lt;/span&gt;&lt;br/&gt;&lt;span&gt;EXPOSE&lt;/span&gt;Â &lt;span&gt;8080&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â è¿è¡Œçš„å‘½ä»¤&lt;/span&gt;&lt;br/&gt;&lt;span&gt;CMD&lt;/span&gt;&lt;span&gt;Â [&lt;span&gt;&quot;uvicorn&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;--host&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;0.0.0.0&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;example:app&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶ä¸­çš„å‘½ä»¤è™½ç„¶æœ‰ç‚¹å¤š, ä½†æ˜¯ä¸å¤æ‚, ç†è§£åå°±ä¼šå‘ç°è¿™äº›å‘½ä»¤å¯è¯»æ€§å¾ˆé«˜, ä»¥ä¸‹æ˜¯å„ä¸ªå‘½ä»¤çš„è§£è¯»:&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;FROM: æ¯ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶ç¬¬ä¸€è¡Œéƒ½æ˜¯FROMæŒ‡ä»¤, FROMæŒ‡ä»¤æŒ‡å®šçš„é•œåƒï¼Œéƒ½ä¼šä½œä¸ºå½“å‰é•œåƒçš„ä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œåç»­å‘½ä»¤äº§ç”Ÿçš„é•œåƒéƒ½ä¼šä½œä¸ºæ–°å¢é•œåƒå±‚æ·»åŠ åˆ°åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;python:xxx-alpine&lt;/code&gt;çš„é•œåƒéƒ½æ˜¯å®˜æ–¹çš„é•œåƒ, è¿™ä¸ªé•œåƒçš„Pythonæ˜¯å»ºç«‹åœ¨ä¸€ä¸ªalpine Linuxçš„é•œåƒä¸Šé¢, alpine Linuxä½“ç§¯éå¸¸å°, ä¸è¿‡éº»é›€è™½å°, ä½†äº”è„ä¿±å…¨ã€‚ä½¿ç”¨FROMæŒ‡ä»¤å¼•ç”¨å®˜æ–¹åŸºç¡€é•œåƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¹ æƒ¯ï¼Œè¿™æ˜¯å› ä¸ºå®˜æ–¹çš„é•œåƒé€šå¸¸ä¼šéµå¾ªä¸€äº›æœ€ä½³å®è·µï¼Œå¹¶ä¸”èƒ½å¸®åŠ©ä½¿ç”¨è€…è§„é¿ä¸€äº›å·²çŸ¥çš„é—®é¢˜ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨FROMçš„æ—¶å€™é€‰æ‹©ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„é•œåƒæ–‡ä»¶é€šå¸¸ä¹Ÿèƒ½é¿å…ä¸€äº›æ½œåœ¨çš„é—®é¢˜.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;LABEL: &lt;code&gt;Dockerfile&lt;/code&gt;ä¸­é€šè¿‡æ ‡ç­¾ï¼ˆLABLEï¼‰æ–¹å¼æŒ‡å®šäº†å½“å‰é•œåƒçš„ç»´æŠ¤è€…ã€‚æ¯ä¸ªæ ‡ç­¾å…¶å®æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆKey-Valueï¼‰ï¼Œåœ¨ä¸€ä¸ªé•œåƒå½“ä¸­å¯ä»¥é€šè¿‡å¢åŠ æ ‡ç­¾çš„æ–¹å¼æ¥ä¸ºé•œåƒæ·»åŠ è‡ªå®šä¹‰å…ƒæ•°æ®.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WORKDIR: æŒ‡æ˜åœ¨é•œåƒä¸­çš„å·¥ä½œç›®å½•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;COPY: å¤åˆ¶æœ¬åœ°ç›®å½•, å°†åº”ç”¨ç›¸å…³æ–‡ä»¶ä»æ„å»ºä¸Šä¸‹æ–‡å¤åˆ¶åˆ°äº†å½“å‰é•œåƒä¸­ï¼Œå¹¶ä¸”æ–°å»ºä¸€ä¸ªé•œåƒå±‚æ¥å­˜å‚¨.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ENV: è®¾ç½®è¯¥é•œåƒè¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;RUN: æ‰§è¡Œå‘½ä»¤, RUNæŒ‡ä»¤ä¼šåœ¨FROMæŒ‡å®šçš„alpineåŸºç¡€é•œåƒä¹‹ä¸Šï¼Œæ–°å»ºä¸€ä¸ªé•œåƒå±‚æ¥å­˜å‚¨è¿™äº›å®‰è£…å†…å®¹.&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;EXPOSE: æŒ‡æ˜ç›‘å¬çš„ç«¯å£, å®é™…ä¸Šå¹¶æ²¡æœ‰ä»»ä½•ä½œç”¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;CMD: å¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™äº›å‘½ä»¤éƒ½å¾ˆç®€å•, ä¸è¿‡æˆ‘åœ¨&lt;code&gt;COPY&lt;/code&gt;å’Œ&lt;code&gt;RUN&lt;/code&gt;å‘½ä»¤æ³¨é‡Šä¸­, éƒ½è¯´åˆ°äº†æ–°å»ºäº†ä¸€ä¸ªé•œåƒå±‚, åœ¨&lt;code&gt;Docker&lt;/code&gt;é•œåƒä¸­ï¼Œ æ¯å¤šä¸€ä¸ªé•œåƒå±‚å°±æ„å‘³&lt;span&gt;ç€&lt;/span&gt;è¿™ä¸ªé•œåƒä¼šå ç”¨æ›´å¤šå­˜å‚¨ç©ºé—´, åŒæ—¶ä¹Ÿä¼šæ›´éš¾ç”¨, æ›´æ…¢ã€‚ æ‰€ä»¥å¤§å®¶ä¸€èˆ¬éƒ½ä¼šè¿½æ±‚æ„å»ºçš„é•œåƒéƒ½å°½é‡çš„å°ï¼Œ ä¸å–œæ¬¢å› ä¸ºå‡ ä¸ªå‘½ä»¤å¯¼è‡´é•œåƒå ç”¨è¿‡å¤šçš„ç©ºé—´ã€‚é‚£æˆ‘ä»¬è¯¥æ€ä¹ˆåŒºåˆ†å‘½ä»¤ï¼Œ åˆ¤æ–­å“ªäº›å‘½ä»¤ä¼šæ–°å¢ä¸€ä¸ªé•œåƒå±‚å‘¢?&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºå¦‚ä½•åŒºåˆ†å‘½ä»¤æ˜¯å¦ä¼šæ–°å»ºé•œåƒå±‚çš„ä¸€ä¸ªåŸºæœ¬åŸåˆ™æ˜¯ï¼Œå¦‚æœæŒ‡ä»¤çš„ä½œç”¨æ˜¯å‘é•œåƒä¸­å¢æ·»æ–°çš„æ–‡ä»¶æˆ–è€…ç¨‹åºï¼Œé‚£ä¹ˆè¿™æ¡æŒ‡ä»¤å°±ä¼šæ–°å»ºé•œåƒå±‚ï¼Œ å¦‚æœåªæ˜¯å‘Šè¯‰&lt;code&gt;Docker&lt;/code&gt;å¦‚ä½•å®Œæˆæ„å»ºæˆ–è€…å¦‚ä½•è¿è¡Œåº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆå°±åªä¼šå¢åŠ é•œåƒçš„å…ƒæ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œ ä¸åŒçš„&lt;code&gt;Dockerfile&lt;/code&gt;å†™æ³•éƒ½ä¼šå¯¼è‡´é•œåƒå±‚æ•°é‡çš„ä¸åŒ, æ¯”å¦‚åœ¨&lt;code&gt;Dockerfile&lt;/code&gt;ä¸­æ¯ä¸€ä¸ª&lt;code&gt;RUN&lt;/code&gt;æŒ‡ä»¤åŸºæœ¬éƒ½ä¼šæ–°å¢ä¸€ä¸ªé•œåƒå±‚, æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨&amp;amp;&amp;amp;è¿æ¥å¤šä¸ªå‘½ä»¤æˆ–è€…ä½¿ç”¨åæ–œæ ï¼ˆ\ï¼‰æ¢è¡Œçš„æ–¹æ³•ï¼Œå°†å¤šä¸ªå‘½ä»¤åŒ…å«åœ¨ä¸€ä¸ªRUNæŒ‡ä»¤ä¸­, è¿™æ ·å°±å¯ä»¥å‡å°‘é•œåƒå±‚çš„äº§ç”Ÿã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸è¿‡æœ‰äº›æ—¶å€™è¦æŠŠ&lt;code&gt;RUN&lt;/code&gt;æ‹†åˆ†çš„, å› ä¸º&lt;code&gt;Docker&lt;/code&gt;è‡ªå¸¦äº†ä¸€ä¸ªç¼“å­˜æœºåˆ¶, å¦‚æœè¿™ä¸ª&lt;code&gt;RUN&lt;/code&gt;æ‰§è¡Œæ—¶æ„å»ºçš„é•œåƒå±‚åœ¨ç¼“å­˜ä¸­æ—¶, &lt;code&gt;Docker&lt;/code&gt;ä¼šç›´æ¥å¼•ç”¨ï¼Œ è¿™æ ·æ„å»ºé€Ÿåº¦å°±ä¼šæ¯”è¾ƒå¿«, è€Œåœ¨æŠŠæ‰€æœ‰&lt;code&gt;RUN&lt;/code&gt;åˆå¹¶åˆ°åŒä¸€æ¡æ—¶, åŸºæœ¬ä¸Šå°±å¾ˆéš¾å‘½ä¸­ç¼“å­˜äº†(éœ€è¦æ³¨æ„çš„æ˜¯, dockeråœ¨æ‰§è¡Œåˆ°ç¬¬ä¸€å¥ä¸å‘½ä¸­ç¼“å­˜çš„å‘½ä»¤å, åé¢çš„æ‰€æœ‰å‘½ä»¤æ˜¯éƒ½ä¸ä¼šé€šè¿‡ç¼“å­˜æ„å»ºçš„)ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨&lt;code&gt;Dockerfile&lt;/code&gt;ç¼–å†™å®Œäº†ï¼Œ åœ¨æ„å»ºé•œåƒä¹‹å‰, æˆ‘ä»¬å…ˆæ£€æŸ¥æˆ‘ä»¬çš„ç›®å½•:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;(venv)Â âœÂ Â python_on_dockerÂ git:(master)Â lsÂ -a&lt;br/&gt;DockerfileÂ Â example.pyÂ Â requirements.txtÂ __pycache__Â Â venvÂ .env&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘ç°ç›®å½•ä¸‹é¢æœ‰&lt;code&gt;__pycache__&lt;/code&gt;å’Œ&lt;code&gt;venv&lt;/code&gt;æ–‡ä»¶, è¿™ä¸¤ä¸ªæ–‡ä»¶æˆ‘æ˜¯ä¸æƒ³ç¼–è¿›é•œåƒé‡Œçš„ï¼Œ ä½†æ˜¯å¼€å‘çš„æ—¶å€™éœ€è¦ç”¨åˆ°, è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;Docker&lt;/code&gt;ä¸­ä¸€ä¸ªç±»ä¼¼äº&lt;code&gt;gitignore&lt;/code&gt;çš„æœºåˆ¶, æˆ‘ä»¬é€šè¿‡&lt;code&gt;.dockerignore&lt;/code&gt;æ–‡ä»¶ç¼–å†™æˆ‘ä»¬è¦å¿½ç•¥çš„æ–‡ä»¶å³å¯è®©&lt;code&gt;Docker&lt;/code&gt;åœ¨æ„å»ºé•œåƒæ—¶å¿½ç•¥è¿™äº›æ–‡ä»¶:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;__pycache__/&lt;br/&gt;.venv&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨ï¼Œ&lt;code&gt;Dockerfile&lt;/code&gt;å’Œ&lt;code&gt;.dockerignore&lt;/code&gt;æ–‡ä»¶åˆ›å»ºå®Œäº†, å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤å¼€å§‹æ„å»ºè‡ªå·±çš„é•œåƒäº†:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â -tåé¢æ˜¯æ ‡ç­¾,Â å¯ä»¥è‡ªå·±å¡«å†™,Â .ä»£è¡¨å½“å‰ç›®å½•&lt;/span&gt;&lt;br/&gt;âœÂ Â dockerÂ imageÂ buildÂ -tÂ app:latestÂ .&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„å»ºå®Œé•œåƒåå°±å¯ä»¥æŸ¥çœ‹å½“å‰é•œåƒäº†&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â æŸ¥çœ‹å½“å‰çš„é•œåƒ&lt;/span&gt;&lt;br/&gt;âœÂ Â version_1Â git:(master)Â dockerÂ imageÂ ls&lt;br/&gt;REPOSITORYÂ Â Â Â Â Â Â Â Â Â TAGÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â IMAGEÂ IDÂ Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â SIZE&lt;br/&gt;appÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â latestÂ Â Â Â Â Â Â Â Â Â Â Â Â Â 3351ee7a79acÂ Â Â Â Â Â Â Â AboutÂ aÂ minuteÂ agoÂ Â Â 435MB&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é•œåƒå·²ç»åˆ›å»ºæˆåŠŸäº†ï¼Œ ä¸è¿‡æ˜¾ç¤ºè¿™ä¸ªç®€å•çš„é•œåƒå ç”¨äº†435MBçš„ç©ºé—´ï¼Œ è¿™æ˜¯ä¸åˆç†çš„ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code&gt;docker image inspect xxx&lt;/code&gt;æŸ¥çœ‹é•œåƒæœ‰å¤šå°‘å±‚, æœ‰å“ªäº›å·å’Œé…ç½®ä¿¡æ¯, è¿›ä¸€æ­¥è§£å†³é•œåƒè¿‡å¤§çš„é—®é¢˜(ç”±äºè¿”å›çš„æ•°æ®ä¼šæ¯”è¾ƒå¤š, è¿™é‡Œå°±ä¸å±•ç¤ºäº†)ã€‚æ­¤å¤–ï¼Œ æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡&lt;code&gt;history&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬çš„é•œåƒæ„å»ºæƒ…å†µ, äº†è§£æ˜¯å“ªä¸€ä¸ªæ­¥éª¤å¯¼è‡´é•œåƒå˜å¤§çš„:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;âœÂ Â version_1Â git:(master)Â dockerÂ &lt;span&gt;history&lt;/span&gt;Â app&lt;br/&gt;IMAGEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ BYÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SIZEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â COMMENT&lt;br/&gt;3351ee7a79acÂ Â Â Â Â Â Â Â AboutÂ aÂ minuteÂ agoÂ Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â CMDÂ [&quot;uvicorn&quot;Â &quot;--host&quot;Â &quot;â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;f7fedcb216b0Â Â Â Â Â Â Â Â AboutÂ aÂ minuteÂ agoÂ Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â EXPOSEÂ 8080Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;190fd056b947Â Â Â Â Â Â Â Â AboutÂ aÂ minuteÂ agoÂ Â Â /bin/shÂ -cÂ apkÂ addÂ --updateÂ gccÂ musl-devÂ pytâ€¦Â Â Â 313MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;66901ff8b9d4Â Â Â Â Â Â Â Â 5Â minutesÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â ENVÂ PYTHONUNBUFFERED=1Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;7e85b2fa504eÂ Â Â Â Â Â Â Â 5Â minutesÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â ENVÂ PYTHONDONTWRITEBYTECOâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;a2714bff8c12Â Â Â Â Â Â Â Â 5Â minutesÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â COPYÂ dir:26dace857b0be9773â€¦Â Â Â 23.7MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;dc4d69bd98e5Â Â Â Â Â Â Â Â 5Â minutesÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â WORKDIRÂ /data/appÂ Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;db1533598434Â Â Â Â Â Â Â Â 5Â minutesÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â LABELÂ maintainer=so1nxxxxâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;f309434dea3aÂ Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â CMDÂ [&quot;python3&quot;]Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;set&lt;/span&gt;Â -ex;Â Â Â wgetÂ -OÂ get-pip.pyÂ &lt;span&gt;&quot;&lt;span&gt;$P&lt;/span&gt;â€¦Â Â Â 6.24MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_GET_PIP_SHA256â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_GET_PIP_URL=htâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_PIP_VERSION=19â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ cdÂ /usr/local/binÂ Â &amp;amp;&amp;amp;Â lnÂ -sÂ idle3â€¦Â Â Â 32BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ setÂ -exÂ Â &amp;amp;&amp;amp;Â apkÂ addÂ --no-cacheÂ --â€¦Â Â Â 86.4MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_VERSION=3.7.4Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ GPG_KEY=0D96DF4D4110Eâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ apkÂ addÂ --no-cacheÂ ca-certificatesÂ Â Â 551kBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ LANG=C.UTF-8Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PATH=/usr/local/bin:/â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â CMDÂ [&quot;&lt;/span&gt;/bin/sh&lt;span&gt;&quot;]Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â ADDÂ file:fe64057fbb83dccb9â€¦Â Â Â 5.58MB&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°, ç¬¬3æ¡å‘½ä»¤çš„&lt;code&gt;apk ...&lt;/code&gt;é‚£é‡Œå ç”¨çš„ç©ºé—´æœ€å¤§, è¿™æ˜¯å› ä¸ºåœ¨&lt;code&gt;RUN&lt;/code&gt;çš„æ—¶å€™éœ€è¦å®‰è£…ä¸€äº›ç¼–è¯‘ä¾èµ–åæ‰èƒ½å®‰è£…æˆ‘ä»¬çš„æƒ³è¦çš„&lt;code&gt;Python&lt;/code&gt;åº“, ä½†è¿™äº›ä¾èµ–éƒ½éå¸¸å¤§ã€‚å¹¸å¥½&lt;code&gt;Docker&lt;/code&gt;é’ˆå¯¹è¿™ç§æƒ…å†µæä¾›äº†å¤šé˜¶æ®µæ„å»ºçš„åŠŸèƒ½(è¿˜æœ‰å»ºé€ è€…æ¨¡å¼, ä½†ä¸å¦‚å¤šé˜¶æ®µæ„å»º), å¤šé˜¶æ®µæ„å»ºæ–¹å¼æ˜¯ä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶åŒ…å«äº†å¤šä¸ªFROMæŒ‡ä»¤ï¼Œ åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­æ¯ä¸€ä¸ªFROMæŒ‡ä»¤éƒ½æ˜¯ä¸€ä¸ªæ–°çš„æ„å»ºé˜¶æ®µï¼ˆBuild Stageï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªæ–°çš„æ„å»ºæ¥å•éƒ½å¯ä»¥æ–¹ä¾¿åœ°å¤åˆ¶ä¹‹å‰é˜¶æ®µå®Œæˆçš„æ„ä»¶, ä¹Ÿå°±æ˜¯å¯ä»¥å…ˆé€šè¿‡ä¾èµ–æ„å»ºä¸€ä¸ªæ¯”è¾ƒé‡çš„Dockeré•œåƒï¼Œ ç„¶ååŸºäºè¯¥é•œåƒæ„å»ºä¸€ä¸ªç”¨æˆ·çœŸæ­£æƒ³è¦çš„é•œåƒï¼Œ æœ€ç»ˆåªä¿ç•™æœ€åæ„å»ºçš„é•œåƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶è¿›è¡Œæ”¹å†™ï¼Œ ä½¿ç”¨ç¬¬ä¸€ä¸ªæ„å»ºé˜¶æ®µè§£å†³å¥½ä¾èµ–å®‰è£…ï¼Œ ç„¶ååœ¨ç¬¬äºŒä¸ªæ„å»ºé˜¶æ®µæ—¶åŸºäºç¬¬ä¸€é˜¶æ®µçš„ä¾èµ–æ„å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œ æœ€åè¾“å‡ºç¬¬äºŒä¸ªæ„å»ºé˜¶æ®µçš„é•œåƒï¼Œ è¯¥ç¤ºä¾‹æ–‡ä»¶å¦‚ä¸‹ï¼š(æºç ):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#####################&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ç¼–è¯‘ä¾èµ–çš„é…ç½®æ–‡ä»¶#&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#####################&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â ç¬¬ä¸€é˜¶æ®µ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®è¯¥é˜¶æ®µçš„åˆ«åä¸ºbuilder&lt;/span&gt;&lt;br/&gt;&lt;span&gt;FROM&lt;/span&gt;Â python:&lt;span&gt;3.7&lt;/span&gt;.&lt;span&gt;4&lt;/span&gt;-alpineÂ asÂ builder&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®å·¥ä½œç›®å½•&lt;/span&gt;&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt;&lt;span&gt;Â /data/app&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â å¤åˆ¶æœ¬åœ°ä¾èµ–&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â .Â .&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ä¸è¦ç”Ÿæˆpycæ–‡ä»¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â PYTHONDONTWRITEBYTECODEÂ &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ENV&lt;/span&gt;Â PYTHONUNBUFFEREDÂ &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â å®‰è£…ä¾èµ–å¹¶ç¼–è¯‘æ–‡ä»¶åˆ°/data/python_wheels&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt;&lt;span&gt;Â apkÂ addÂ --updateÂ gccÂ musl-devÂ python3-devÂ libffi-devÂ openssl-devÂ build-baseÂ &amp;amp;&amp;amp;Â pipÂ installÂ --upgradeÂ pipÂ &amp;amp;&amp;amp;Â pipÂ wheelÂ --no-cache-dirÂ --no-depsÂ --wheel-dirÂ /data/python_wheelsÂ -rÂ requirements.txt&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#####################&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â çº¿ä¸Šä½¿ç”¨çš„é…ç½®æ–‡ä»¶#&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#####################&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â ç¬¬äºŒé˜¶æ®µ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â æ‹‰å–pythonçš„åŸºç¡€é•œåƒ,Â å…·ä½“ä½¿ç”¨pythonÂ -VæŸ¥çœ‹åˆšæ‰è‡ªå·±æ˜¯å“ªä¸ªç‰ˆæœ¬çš„&lt;/span&gt;&lt;br/&gt;&lt;span&gt;FROM&lt;/span&gt;Â python:&lt;span&gt;3.7&lt;/span&gt;.&lt;span&gt;4&lt;/span&gt;-alpine&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®å½“å‰é•œåƒçš„ç»´æŠ¤è€…&lt;/span&gt;&lt;br/&gt;&lt;span&gt;LABEL&lt;/span&gt;&lt;span&gt;Â maintainer=&lt;span&gt;&quot;so1nxxxx@gmail.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â è®¾ç½®å·¥ä½œç›®å½•&lt;/span&gt;&lt;br/&gt;&lt;span&gt;WORKDIR&lt;/span&gt;&lt;span&gt;Â /data/app&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â å¤åˆ¶æœ¬åœ°ä¾èµ–&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â .Â .&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â å°†ç¬¬ä¸€æ„å»ºé˜¶æ®µç”Ÿæˆçš„ç¼–è¯‘æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å¯¹åº”çš„è·¯å¾„ä¸‹é¢&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â --from=builderÂ /data/python_wheelsÂ /data/python_wheels&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â é€šè¿‡wheelså®‰è£…pythonä¾èµ–&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt;&lt;span&gt;Â pipÂ installÂ --no-cacheÂ /data/python_wheels/*&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŒ‡æ˜ç›‘å¬çš„ç«¯å£&lt;/span&gt;&lt;br/&gt;&lt;span&gt;EXPOSE&lt;/span&gt;Â &lt;span&gt;8080&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â è¿è¡Œçš„å‘½ä»¤&lt;/span&gt;&lt;br/&gt;&lt;span&gt;CMD&lt;/span&gt;&lt;span&gt;Â [&lt;span&gt;&quot;uvicorn&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;--host&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;0.0.0.0&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;example:app&quot;&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ç¤ºçš„&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ª&lt;code&gt;FROM&lt;/code&gt;, ä¸€ä¸ª&lt;code&gt;FROM&lt;/code&gt;ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„æ„å»ºé˜¶æ®µï¼Œ ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯æ ¹æ®å½“å‰çš„&lt;code&gt;Python&lt;/code&gt;ç¯å¢ƒ, å®‰è£…å¹¶ç¼–è¯‘éœ€è¦çš„ä¾èµ–, ç„¶åæ ¹æ®&lt;code&gt;requirements&lt;/code&gt;ç”Ÿæˆ&lt;code&gt;Python&lt;/code&gt;çš„ wheelæ–‡ä»¶, ç”Ÿæˆçš„ä½ç½®æ˜¯&lt;code&gt;/data/python_wheels&lt;/code&gt;ã€‚ç¬¬äºŒä¸ª&lt;code&gt;FROM&lt;/code&gt;è¿˜æ˜¯è·Ÿåˆšæ‰çš„ä¸€æ ·, ç›´åˆ°&lt;code&gt;COPY&lt;/code&gt;è¯­å¥,è¿™é‡Œæ˜¯ä¸€ä¸ª&lt;code&gt;COPY --from&lt;/code&gt;æŒ‡ä»¤ï¼Œå®ƒä»ä¹‹å‰çš„é˜¶æ®µæ„å»ºçš„é•œåƒä¸­ä»…å¤åˆ¶ç”Ÿäº§ç¯å¢ƒç›¸å…³çš„ä¾èµ–ï¼Œè€Œä¸ä¼šå¤åˆ¶ç”Ÿäº§ç¯å¢ƒä¸éœ€è¦çš„ä¾èµ–, è¿™ä¸ªè¯­å¥çš„æ„æ€æ˜¯ä»builderæ„å»ºé˜¶æ®µçš„&lt;code&gt;/data/python_wheels&lt;/code&gt;å¤åˆ¶åˆ°å½“å‰æ„å»ºé˜¶æ®µçš„&lt;code&gt;/data/python_wheels&lt;/code&gt;ã€‚æ¥ä¸‹æ¥&lt;code&gt;RUN&lt;/code&gt;è¯­å¥ä¹Ÿå‘ç”Ÿæ”¹å˜, ç”±äºåœ¨ç¬¬ä¸€é˜¶æ®µå·²ç»ç¼–è¯‘å¥½äº†ä¾èµ–, è¿™é‡Œç›´æ¥ä½¿ç”¨ä¾èµ–è¿›è¡Œå®‰è£…å³å¯. åé¢çš„å°±è·Ÿå‰é¢ä¸€æ ·, æ²¡æœ‰ä»€ä¹ˆå˜åŒ–, &lt;code&gt;Dkckerfile&lt;/code&gt;æ–‡ä»¶ç¼–å†™å¥½äº†, å¼€å§‹æ„å»ºè‡ªå·±çš„é•œåƒ:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â -tåé¢æ˜¯æ ‡ç­¾,Â å¯ä»¥è‡ªå·±å¡«å†™,Â .ä»£è¡¨å½“å‰ç›®å½•&lt;/span&gt;&lt;br/&gt;âœÂ Â dockerÂ imageÂ buildÂ -tÂ app_1:latestÂ .&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„å»ºå®ŒæˆåæŸ¥çœ‹æ„å»ºå®Œçš„é•œåƒ:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;âœÂ Â version_2Â git:(master)Â dockerÂ imageÂ ls&lt;br/&gt;REPOSITORYÂ Â Â Â Â Â Â Â Â Â TAGÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â IMAGEÂ IDÂ Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ Â Â Â Â Â Â Â Â Â Â Â Â SIZE&lt;br/&gt;app_1Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â latestÂ Â Â Â Â Â Â Â Â Â Â Â Â Â a71a4a7db157Â Â Â Â Â Â Â Â 7Â secondsÂ agoÂ Â Â Â Â Â Â 116MB&lt;br/&gt;appÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â latestÂ Â Â Â Â Â Â Â Â Â Â Â Â Â 3351ee7a79acÂ Â Â Â Â Â Â Â 9Â minutesÂ agoÂ Â Â Â Â Â Â 435MB&lt;br/&gt;&lt;br/&gt;âœÂ Â version_2Â git:(master)Â dockerÂ &lt;span&gt;history&lt;/span&gt;Â app_1&lt;br/&gt;IMAGEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ Â Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ BYÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SIZEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â COMMENT&lt;br/&gt;a71a4a7db157Â Â Â Â Â Â Â Â 43Â secondsÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â CMDÂ [&quot;uvicorn&quot;Â &quot;--host&quot;Â &quot;â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;d4d38b71a1baÂ Â Â Â Â Â Â Â 43Â secondsÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â EXPOSEÂ 8080Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;5fb10c8afea8Â Â Â Â Â Â Â Â 43Â secondsÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ pipÂ installÂ --no-cacheÂ /data/pythâ€¦Â Â Â 15.3MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;e454bbe54adbÂ Â Â Â Â Â Â Â 46Â secondsÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â COPYÂ dir:ff6195d46738a79a1â€¦Â Â Â 2.13MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;d70a8a552490Â Â Â Â Â Â Â Â 46Â secondsÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â COPYÂ dir:fbe9ac8ac1636d3d7â€¦Â Â Â 3.63kBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;dc4d69bd98e5Â Â Â Â Â Â Â Â 14Â minutesÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â WORKDIRÂ /data/appÂ Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;db1533598434Â Â Â Â Â Â Â Â 14Â minutesÂ agoÂ Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â LABELÂ maintainer=so1nxxxxâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;f309434dea3aÂ Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;#(nop)Â Â CMDÂ [&quot;python3&quot;]Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ &lt;span&gt;set&lt;/span&gt;Â -ex;Â Â Â wgetÂ -OÂ get-pip.pyÂ &lt;span&gt;&quot;&lt;span&gt;$P&lt;/span&gt;â€¦Â Â Â 6.24MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_GET_PIP_SHA256â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_GET_PIP_URL=htâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 16Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_PIP_VERSION=19â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ cdÂ /usr/local/binÂ Â &amp;amp;&amp;amp;Â lnÂ -sÂ idle3â€¦Â Â Â 32BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ setÂ -exÂ Â &amp;amp;&amp;amp;Â apkÂ addÂ --no-cacheÂ --â€¦Â Â Â 86.4MBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PYTHON_VERSION=3.7.4Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ GPG_KEY=0D96DF4D4110Eâ€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ apkÂ addÂ --no-cacheÂ ca-certificatesÂ Â Â 551kBÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ LANG=C.UTF-8Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â ENVÂ PATH=/usr/local/bin:/â€¦Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â Â CMDÂ [&quot;&lt;/span&gt;/bin/sh&lt;span&gt;&quot;]Â Â Â Â Â Â Â Â Â Â Â Â Â Â 0BÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&amp;lt;missing&amp;gt;Â Â Â Â Â Â Â Â Â Â Â 17Â monthsÂ agoÂ Â Â Â Â Â Â /bin/shÂ -cÂ #(nop)Â ADDÂ file:fe64057fbb83dccb9â€¦Â Â Â 5.58MBÂ &lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ç°åœ¨çš„é•œåƒå¤§å°å·²ç»å‡å°‘å¾ˆå¤šäº†, å·®ä¸å¤šåªå‰©4åˆ†ä¹‹ä¸€ï¼Œéå¸¸å®Œç¾! å¦‚æœè¿˜æƒ³è®©é•œåƒæ›´å°ä¸€ç‚¹, é‚£å¯ä»¥åœ¨ä½¿ç”¨&lt;code&gt;bliud&lt;/code&gt;å‘½ä»¤æ—¶, æ·»åŠ &lt;code&gt;--squash&lt;/code&gt;é€‰é¡¹, è¿™æ ·&lt;code&gt;Docker&lt;/code&gt;åœ¨&lt;code&gt;build&lt;/code&gt;çš„æ—¶å€™å°±ä¼šæŠŠæ‰€æœ‰é•œåƒå±‚åˆå¹¶ä¸ºä¸€ä¸ª, ä½†è¿™ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„, å› ä¸ºåˆå¹¶çš„é•œåƒå±‚æ— æ³•å…±äº«é•œåƒå±‚, è€Œä¸”é•œåƒåœ¨&lt;code&gt;push&lt;/code&gt;å’Œ&lt;code&gt;pull&lt;/code&gt;çš„æ—¶å€™å¼€é”€ä¼šå˜å¾—å¾ˆå¤§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é•œåƒç»ˆäºåˆ›å»ºå®Œäº†, ç»ˆäºå¯ä»¥å¯åŠ¨å®¹å™¨æŸ¥çœ‹æˆ‘ä»¬æ„å»ºçš„é•œåƒçš„è¿è¡Œæ•ˆæœäº†:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â æ‰§è¡Œå®¹å™¨è¿è¡Œå‘½ä»¤, --nameå‚æ•°å¯ä»¥è‡ªå·±å®š, -p å‚æ•°æŒ‡å®šå®¹å™¨çš„ç«¯å£(ç¬¬äºŒä¸ª)ç»‘å®šåˆ°æœ¬æœºçš„ç«¯å£(ç¬¬ä¸€), æœ€åä¸€ä¸ªå‚æ•°ä¸ºimage idæ¯æ¬¡ç”Ÿæˆçš„é•œåƒéƒ½ä¸åŒ&lt;/span&gt;&lt;br/&gt;âœÂ Â dockerÂ containerÂ runÂ -dÂ --nameÂ docker_app_1Â -pÂ 8000:8000Â app_1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è°ƒç”¨äº†å¯åŠ¨å‘½ä»¤åï¼Œ é€šè¿‡&lt;code&gt;ps&lt;/code&gt;å‘½ä»¤ä½ ç»™æŸ¥çœ‹å®¹å™¨è¿è¡Œæƒ…å†µ:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â å¯åŠ¨åæŸ¥çœ‹å®¹å™¨å¯åŠ¨å¤±è´¥,Â å¾ˆæ­£å¸¸,Â é…ç½®ç”¨çš„æ˜¯`127.0.0.1`è€Œå®¹å™¨æ²¡æœ‰å®‰è£…mysqlå’Œredis,è‚¯å®šæ˜¯è¿ä¸ä¸Šçš„Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹å®¹å™¨çŠ¶æ€&lt;/span&gt;&lt;br/&gt;âœÂ Â version_2Â git:(master)Â dockerÂ psÂ -a&lt;br/&gt;CONTAINERÂ IDÂ Â Â Â Â Â Â Â IMAGEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â COMMANDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CREATEDÂ Â Â Â Â Â Â Â Â Â Â Â Â STATUSÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PORTSÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â NAMES&lt;br/&gt;3070cf77c951Â Â Â Â Â Â Â Â app_1Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;uvicornÂ --hostÂ 0.0.â€¦&quot;&lt;/span&gt;Â Â Â 7Â secondsÂ agoÂ Â Â Â Â Â Â ExitedÂ (0)Â 6Â secondsÂ agoÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â docker_app_1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¾“å‡ºå¯ä»¥å‘ç°é•œåƒè¿è¡Œå¤±è´¥, ä½†æ˜¯ä¸çŸ¥é“ä¸ºå•¥å¤±è´¥, åªèƒ½é€šè¿‡è¿è¡Œæ—¥å¿—æŸ¥çœ‹ä¸ºä»€ä¹ˆå¤±è´¥:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â æŸ¥çœ‹è¿è¡Œæ—¥å¿—&lt;/span&gt;&lt;br/&gt;âœÂ Â version_2Â git:(master)Â dockerÂ logsÂ -fÂ -tÂ --tailÂ 10Â docker_app_1Â &lt;br/&gt;2021-02-07T09:01:16.062239955ZÂ Â Â Â Â awaitÂ pool._fill_free_pool(False)&lt;br/&gt;2021-02-07T09:01:16.062241993ZÂ Â Â FileÂ &lt;span&gt;&quot;/usr/local/lib/python3.7/site-packages/aiomysql/pool.py&quot;&lt;/span&gt;,Â lineÂ 168,Â &lt;span&gt;in&lt;/span&gt;Â _fill_free_pool&lt;br/&gt;2021-02-07T09:01:16.062250734ZÂ Â Â Â Â **self._conn_kwargs)&lt;br/&gt;2021-02-07T09:01:16.062253106ZÂ Â Â FileÂ &lt;span&gt;&quot;/usr/local/lib/python3.7/site-packages/aiomysql/connection.py&quot;&lt;/span&gt;,Â lineÂ 75,Â &lt;span&gt;in&lt;/span&gt;Â _connect&lt;br/&gt;2021-02-07T09:01:16.062255305ZÂ Â Â Â Â awaitÂ conn._connect()&lt;br/&gt;2021-02-07T09:01:16.062257318ZÂ Â Â FileÂ &lt;span&gt;&quot;/usr/local/lib/python3.7/site-packages/aiomysql/connection.py&quot;&lt;/span&gt;,Â lineÂ 523,Â &lt;span&gt;in&lt;/span&gt;Â _connect&lt;br/&gt;2021-02-07T09:01:16.062259455ZÂ Â Â Â Â self._host)Â fromÂ e&lt;br/&gt;2021-02-07T09:01:16.062275244ZÂ pymysql.err.OperationalError:Â (2003,Â &lt;span&gt;&quot;Can&#x27;tÂ connectÂ toÂ MySQLÂ serverÂ onÂ &#x27;127.0.0.1&#x27;&quot;&lt;/span&gt;)&lt;br/&gt;2021-02-07T09:01:16.062277250ZÂ &lt;br/&gt;2021-02-07T09:01:16.062279127ZÂ ERROR:Â Â Â Â ApplicationÂ startupÂ failed.Â Exiting.&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»æŠ¥é”™æ—¥å¿—å¯ä»¥çœ‹åˆ°, é•œåƒå¯åŠ¨å¤±è´¥æ˜¯ç”±äºè¿ä¸ä¸Š&lt;code&gt;127.0.0.1&lt;/code&gt;åœ°å€å¯¼è‡´æŠ¥é”™äº†, å¯æ˜¯æœ¬æœºä¸Šé¢å·²ç»å®‰è£…äº†&lt;code&gt;MySQL&lt;/code&gt;å•Š, ä¸ºä»€ä¹ˆè¿˜ä¼šè¿ä¸ä¸Šå‘¢? è¿™æ˜¯å› ä¸º&lt;code&gt;Docker&lt;/code&gt;å®¹å™¨è¿è¡Œçš„æ—¶å€™ä¼šé€‰æ‹©ä¸€ä¸ªç½‘ç»œæ¨¡å¼ï¼Œ å…±æœ‰&lt;code&gt;host&lt;/code&gt;ã€&lt;code&gt;bridge&lt;/code&gt;å’Œ&lt;code&gt;none&lt;/code&gt;ä¸‰ç§ç½‘ç»œå¯ä¾›é…ç½®ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;bridge Â è¯¥æ¨¡å¼æ˜¯&lt;code&gt;Docker&lt;/code&gt;çš„é»˜è®¤é€‰é¡¹. bridgeå³æ¡¥æ¥ç½‘ç»œï¼Œä»¥æ¡¥æ¥æ¨¡å¼è¿æ¥åˆ°å®¿ä¸»æœº, è¿™æ—¶å€™å®¹å™¨å†…çš„åº”ç”¨è®¿é—®&lt;code&gt;127.0.0.1&lt;/code&gt;æ˜¯æŒ‡å®¹å™¨æœ¬èº«çš„ç½‘ç»œ(åœ¨æœ¬æœºé€šè¿‡&lt;code&gt;ifconfig&lt;/code&gt;å‘½ä»¤å¯ä»¥çœ‹åˆ°æœ‰ä¸ªç±»ä¼¼äº&lt;code&gt;docker0&lt;/code&gt;çš„å±•ç¤º), è¯¥æ¨¡å¼ä¸‹å¦‚æœè¦è¿æ¥åˆ°å®¿ä¸»æœºçš„ç½‘ç»œ, åªèƒ½æŠŠ&lt;code&gt;127.0.0.1&lt;/code&gt;æ”¹ä¸ºæœ¬æœºçš„å±€åŸŸç½‘ipï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;host Â hostæ˜¯å®¿ä¸»ç½‘ç»œï¼Œå³&lt;code&gt;Docker&lt;/code&gt;ä¸å®¿ä¸»æœºå…±ç”¨ç½‘ç»œ, åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œ &lt;code&gt;Docker&lt;/code&gt;å®¹å™¨å†…çš„åº”ç”¨ä½¿ç”¨ç½‘ç»œæ—¶è·Ÿå¹³æ—¶ä¸€æ ·æ­£å¸¸ä½¿ç”¨å³å¯, åŒæ—¶è¯¥æ¨¡å¼çš„ç½‘ç»œæ€§èƒ½ä¹Ÿæ˜¯æœ€å¥½çš„, å¦‚æœåœ¨ä½¿ç”¨bridgeæ¨¡å¼æ—¶å‘ç°æœ‰ç½‘ç»œç“¶é¢ˆ, æˆ–è€…åº”ç”¨å¯¹ç½‘ç»œå»¶è¿Ÿå’Œå¹¶å‘æœ‰æé«˜çš„è¦æ±‚æ—¶, è®°å¾—åˆ‡ä¸ºhostç½‘ç»œæ¨¡å¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;noneåˆ™è¡¨ç¤ºæ— ç½‘ç»œï¼Œå®¹å™¨å†…åº”ç”¨å°†æ— æ³•è”ç½‘.&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº†è§£äº†&lt;code&gt;Docker&lt;/code&gt;çš„ç½‘ç»œæ¨¡å¼åï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠç½‘ç»œæ¨¡å¼æ”¹ä¸º&lt;code&gt;host&lt;/code&gt;æ¥è§£å†³è¿ä¸ä¸Šçš„é—®é¢˜äº†ï¼Œ å…·ä½“æ“ä½œæ˜¯é€šè¿‡å»æ‰&lt;code&gt;-p 8000:8000&lt;/code&gt;é€‰é¡¹, å¢åŠ &lt;code&gt;--net=host&lt;/code&gt;é€‰é¡¹æ¥å¯åŠ¨å®¹å™¨ (å¦‚æœæ—§å®¹å™¨å­˜åœ¨, è®°å¾—åˆ é™¤æ‰, ä¸ç„¶ä¼šå ç”¨ç©ºé—´):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â å¯åŠ¨å®¹å™¨&lt;/span&gt;&lt;br/&gt;âœÂ Â version_2Â git:(master)Â dockerÂ containerÂ runÂ -dÂ --nameÂ docker_app_1Â --net=hostÂ app_1Â Â &lt;br/&gt;cd1ea057cdb6ec6ee3917d13f9c3c55db2a2949e409716d1dbb86f34bb1356e5&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼ŒÂ æ­£å¸¸ï¼&lt;/span&gt;&lt;br/&gt;âœÂ Â version_2Â git:(master)Â dockerÂ logsÂ -fÂ -tÂ --tailÂ 10Â docker_app_1&lt;br/&gt;2021-02-07T09:06:35.403888447ZÂ INFO:Â Â Â Â Â StartedÂ serverÂ processÂ [1]&lt;br/&gt;2021-02-07T09:06:35.403903761ZÂ INFO:Â Â Â Â Â WaitingÂ &lt;span&gt;for&lt;/span&gt;Â applicationÂ startup.&lt;br/&gt;2021-02-07T09:06:35.437776480ZÂ INFO:Â Â Â Â Â ApplicationÂ startupÂ complete.&lt;br/&gt;2021-02-07T09:06:35.438466743ZÂ INFO:Â Â Â Â Â UvicornÂ runningÂ onÂ http://0.0.0.0:8000Â (PressÂ CTRL+CÂ toÂ quit)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â è°ƒç”¨æ¥å£å‘ç°å¯åŠ¨æˆåŠŸ&lt;/span&gt;&lt;br/&gt;âœÂ Â curlÂ 127.0.0.1:8000&lt;br/&gt;127.0.0.1,Â HelloÂ Word!&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ™æ­¤, æˆ‘ä»¬ç»ˆäºæŠŠpythonçš„webåº”ç”¨æ„å»ºæˆé•œåƒ, å¹¶æ­£å¸¸å¯åŠ¨é•œåƒäº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.å•å¼•æ“æ¨¡å¼éƒ¨ç½²å’Œç®¡ç†å¤šå®¹å™¨åº”ç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ‡‚äº†å¦‚ä½•åˆ¶ä½œå®¹å™¨ä¹‹å, å°±å¯ä»¥å¼€å§‹å‡†å¤‡æˆä¸ºYamlå·¥ç¨‹å¸ˆäº†, ä¸Šé¢æˆ‘ä»¬åªæ„å»ºä¸€ä¸ª&lt;code&gt;Python&lt;/code&gt;åº”ç”¨çš„é•œåƒ, ç„¶åè¿æ¥äº†æœ¬åœ°çš„&lt;code&gt;MySQL&lt;/code&gt;å’Œ&lt;code&gt;Redis&lt;/code&gt;æœåŠ¡, ç°åœ¨æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ&lt;code&gt;MySQL&lt;/code&gt;å’Œ&lt;code&gt;Redis&lt;/code&gt;è¿™ä¸¤ä¸ªæœåŠ¡ä¸€èµ·å®¹å™¨åŒ–, ä¸è¿‡è¿™æ—¶å€™æ¯ä¸ªæœåŠ¡éƒ½é€šè¿‡ä¸€ä¸ªç‰¹å®š&lt;code&gt;Dockerfile&lt;/code&gt;æ¥é…ç½®å¹¶ä½¿ç”¨çš„è¯å°±å¤ªéº»çƒ¦äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæœ‰ä¸€ä¸ªåƒ&lt;code&gt;Dockerfile&lt;/code&gt;çš„æ–‡ä»¶, æ–‡ä»¶é‡Œå†™äº†å¦‚ä½•å®‰è£…è¿™3ä¸ªé•œåƒ, ç„¶åæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥æŠŠè¿™ä¸‰ä¸ªæœåŠ¡éƒ½å®‰è£…åˆ°æœåŠ¡å™¨ä¸Š, é‚£å°±å¾ˆæ–¹ä¾¿äº†, åœ¨&lt;code&gt;Docker&lt;/code&gt;ä¸­æ˜¯ç”±&lt;code&gt;Docker Compose&lt;/code&gt;æä¾›äº†è¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å¦‚æœç”¨è¿‡&lt;code&gt;Ansible&lt;/code&gt;, å°±çŸ¥é“ä¼šæœ‰ä¸€ä¸ª&lt;code&gt;palybook&lt;/code&gt;çš„yamlé…ç½®æ–‡ä»¶, åªè¦åœ¨æ§åˆ¶ä¸»æœºä¸Šå­˜æ”¾ä¸€ä¸ª&lt;code&gt;palybook&lt;/code&gt;æ–‡ä»¶ï¼Œ å°±å¯ä»¥æ§åˆ¶å…¶å®ƒæœºå™¨æ‰§è¡Œä»»ä½•æ“ä½œ, æ¯”å¦‚ä¸ºå…¶å®ƒä¸»æœºå®‰è£…åº”ç”¨ç­‰åˆ°, è€Œ&lt;code&gt;Docker Compose&lt;/code&gt;æœ‰ç‚¹ç±»ä¼¼, åŸºäºè¯¥åŠŸèƒ½å¯ä»¥åšåˆ°åœ¨ä¸€å°æœºå™¨ä¸ŠåŒæ—¶ç®¡ç†å¤šä¸ª&lt;code&gt;Docker&lt;/code&gt;å®¹å™¨ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Docker Compose&lt;/code&gt;é€šè¿‡ä¸€ä¸ªå£°æ˜å¼çš„é…ç½®æ–‡ä»¶æè¿°æ•´ä¸ªåº”ç”¨ï¼Œä»è€Œä½¿ç”¨ä¸€æ¡å‘½ä»¤å®Œæˆéƒ¨ç½²ã€‚åº”ç”¨éƒ¨ç½²æˆåŠŸåï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—ç®€å•çš„å‘½ä»¤å®ç°å¯¹å…¶å®Œæ•´ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ã€‚æ­¤å¤–ï¼Œé…ç½®æ–‡ä»¶è¿˜å¯ä»¥ç½®äºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­è¿›è¡Œå­˜å‚¨å’Œç®¡ç†, è¿™ä¸ªå·¥å…·ä¼šè·Ÿ&lt;code&gt;docker&lt;/code&gt;ä¸€èµ·å®‰è£…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥å°±æ˜¯å®æˆ˜äº†ï¼Œ æœ¬æ¬¡å®ä¾‹ç›¸æ¯”äºä¹‹å‰çš„æœåŠ¡å¤šäº†ä¸ª&lt;code&gt;Nginx&lt;/code&gt;æœåŠ¡ï¼Œ è€Œä¸”&lt;code&gt;Nginx&lt;/code&gt;æ˜¯éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶éƒ½ï¼Œæ‰€ä»¥éœ€è¦å…ˆä¸º&lt;code&gt;Nginx&lt;/code&gt;å•ç‹¬é…ç½®ä¸€ä¸ª&lt;code&gt;Dockerfile&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆ, åœ¨ç›®å½•åˆ›å»ºä¸€ä¸ª&lt;code&gt;nginx&lt;/code&gt;æ–‡ä»¶å¤¹, ç„¶ååœ¨æ–‡ä»¶å¤¹é‡Œé¢ç¼–å†™é…ç½®æ–‡ä»¶&lt;code&gt;nginx.conf&lt;/code&gt;(æºç ):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;upstream app_server {&lt;br/&gt;    server app:8000;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;server {&lt;br/&gt;&lt;br/&gt;    listen 80;&lt;br/&gt;&lt;br/&gt;    location / {&lt;br/&gt;        proxy_pass http://app_server;&lt;br/&gt;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&lt;br/&gt;        proxy_set_header Host $host;&lt;br/&gt;        proxy_redirect off;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶å¯èƒ½å‘ç°é…ç½®æ–‡ä»¶é‡Œçš„&lt;code&gt;upstream&lt;/code&gt;é‡Œé¢æœ‰ä¸ªå¥‡æ€ªçš„é…ç½®&lt;code&gt;app:8000&lt;/code&gt;,æˆ‘ä»¬å…ˆä¸ç®¡, ç»§ç»­åˆ›å»º&lt;code&gt;Nginx&lt;/code&gt;çš„&lt;code&gt;Dockerfile&lt;/code&gt;(æºç )æ–‡ä»¶:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;FROM&lt;/span&gt;Â nginx:&lt;span&gt;1.19&lt;/span&gt;.&lt;span&gt;0&lt;/span&gt;-alpine&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â ç§»é™¤Nginxçš„é»˜è®¤é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;RUN&lt;/span&gt;&lt;span&gt;Â rmÂ /etc/nginx/conf.d/default.conf&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ä½¿ç”¨æˆ‘ä»¬ç¼–å†™çš„é…ç½®æ–‡ä»¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;COPY&lt;/span&gt;&lt;span&gt;Â nginx.confÂ /etc/nginx/conf.d&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨ï¼Œ &lt;code&gt;Nginx&lt;/code&gt;çš„å®¹å™¨æ–‡ä»¶å·²ç»å‡†å¤‡å®Œæ¯•ï¼Œ å¼€å§‹ç¼–å†™æˆ‘ä»¬çš„&lt;code&gt;docker-compose.yml&lt;/code&gt;æ–‡ä»¶, å‡è®¾æˆ‘ä»¬ç°åœ¨çš„å•æœåŠ¡å™¨éœ€è¦æœ‰&lt;code&gt;Python&lt;/code&gt;çš„WebæœåŠ¡, &lt;code&gt;Nginx&lt;/code&gt;, &lt;code&gt;Redis&lt;/code&gt;å’Œ&lt;code&gt;MySQL&lt;/code&gt;æœåŠ¡(æºç ):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;# versionæ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œè€Œä¸”æ€»æ˜¯ä½äºæ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚å®ƒå®šä¹‰äº†Composeæ–‡ä»¶æ ¼å¼ï¼ˆä¸»è¦æ˜¯APIï¼‰çš„ç‰ˆæœ¬ã€‚å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;version:&lt;/span&gt;Â &lt;span&gt;&quot;3.5&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â ç”¨äºå®šä¹‰ä¸åŒçš„åº”ç”¨æœåŠ¡&lt;/span&gt;&lt;br/&gt;&lt;span&gt;services:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;redis:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â åŸºäºredis:alpineé•œåƒå¯åŠ¨ä¸€ä¸ªç‹¬ç«‹çš„åä¸ºredisçš„å®¹å™¨ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;image:&lt;/span&gt;Â &lt;span&gt;&quot;redis:alpine&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â ä½¿å¾—Dockerå¯ä»¥å°†æœåŠ¡è¿æ¥åˆ°æŒ‡å®šçš„ç½‘ç»œä¸Šã€‚è¿™ä¸ªç½‘ç»œåº”è¯¥æ˜¯å·²ç»å­˜åœ¨çš„ï¼Œæˆ–è€…æ˜¯åœ¨networksä¸€çº§keyä¸­å®šä¹‰çš„ç½‘ç»œã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;networks:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;local-net&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockerå°†å®¹å™¨å†…ï¼ˆ-targetï¼‰çš„6379ç«¯å£æ˜ å°„åˆ°ä¸»æœºï¼ˆpublishedï¼‰çš„63790ç«¯å£ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;6379&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;published:&lt;/span&gt;Â &lt;span&gt;63790&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;mysql:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;image:&lt;/span&gt;Â &lt;span&gt;mysql&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;command:&lt;/span&gt;Â &lt;span&gt;mysqld&lt;/span&gt;Â &lt;span&gt;--character-set-server=utf8mb4&lt;/span&gt;Â &lt;span&gt;--collation-server=utf8mb4_unicode_ci&lt;/span&gt;Â &lt;span&gt;#è®¾ç½®utf8å­—ç¬¦é›†&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;restart:&lt;/span&gt;Â &lt;span&gt;always&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;networks:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local-net:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;environment:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;#Â é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®Â mysqléœ€è¦çš„ç”¨æˆ·åå’Œå¯†ç ç­‰&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;MYSQL_DATABASE:&lt;/span&gt;Â &lt;span&gt;&#x27;test&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;MYSQL_USER:&lt;/span&gt;Â &lt;span&gt;&#x27;root&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;MYSQL_PASSWORD:&lt;/span&gt;Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;MYSQL_ROOT_PASSWORD:&lt;/span&gt;Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;MYSQL_ALLOW_EMPTY_PASSWORD:&lt;/span&gt;Â &lt;span&gt;&#x27;true&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockerå°†å®¹å™¨å†…ï¼ˆ-targetï¼‰çš„3306ç«¯å£æ˜ å°„åˆ°ä¸»æœºï¼ˆpublishedï¼‰çš„33060ç«¯å£ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;3306&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;published:&lt;/span&gt;Â &lt;span&gt;33060&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â è®¾ç½®MySQLå®¹æ˜“å­˜å‚¨å†…å®¹åœ¨å“ªä¸ªç›®å½•&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;type:&lt;/span&gt;Â &lt;span&gt;volume&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;source:&lt;/span&gt;Â &lt;span&gt;local-vol&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;/example_volumes&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;app:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockeråŸºäºå½“å‰ç›®å½•ï¼ˆ.ï¼‰ä¸‹Dockerfileä¸­å®šä¹‰çš„æŒ‡ä»¤æ¥æ„å»ºä¸€ä¸ªæ–°é•œåƒã€‚è¯¥é•œåƒä¼šè¢«ç”¨äºå¯åŠ¨è¯¥æœåŠ¡çš„å®¹å™¨ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;build:&lt;/span&gt;Â &lt;span&gt;.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockeråœ¨å®¹å™¨ä¸­æ‰§è¡Œçš„å‘½ä»¤,Â ç”±äºæˆ‘ä»¬çš„Dockerfileä¸­å·²ç»æœ‰äº†ï¼ŒÂ è¿™é‡Œå°±æ³¨é‡Šæ‰&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â command:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockerå°†å®¹å™¨å†…ï¼ˆ-targetï¼‰çš„8000ç«¯å£æ˜ å°„åˆ°ä¸»æœºï¼ˆpublishedï¼‰çš„8000ç«¯å£ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;8000&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;published:&lt;/span&gt;Â &lt;span&gt;8000&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;networks:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;local-net&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‚è½½åˆ°æœ¬åœ°çš„å·&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;type:&lt;/span&gt;Â &lt;span&gt;volume&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;source:&lt;/span&gt;Â &lt;span&gt;local-vol&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;/example_volumes&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â å£°æ˜éœ€è¦ä¾èµ–ä¸Šé¢çš„æœåŠ¡,Â åªæœ‰ä¸Šé¢çš„æœåŠ¡èµ·æ¥ï¼ŒÂ è¿™ä¸ªæ‰èƒ½èµ·&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;depends_on:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;mysql&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;redis&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;nginx:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;build:&lt;/span&gt;Â &lt;span&gt;./nginx&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â æŒ‡å®šDockerå°†å®¹å™¨å†…ï¼ˆ-targetï¼‰çš„80ç«¯å£æ˜ å°„åˆ°ä¸»æœºï¼ˆpublishedï¼‰çš„8001ç«¯å£ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;networks:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;local-net&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;target:&lt;/span&gt;Â &lt;span&gt;80&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;published:&lt;/span&gt;Â &lt;span&gt;8001&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;depends_on:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;-&lt;/span&gt;Â &lt;span&gt;app&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# networksç”¨äºæŒ‡å¼•Dockeråˆ›å»ºæ–°çš„ç½‘ç»œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒDocker Composeä¼šåˆ›å»ºbridgeç½‘ç»œã€‚è¿™æ˜¯ä¸€ç§å•ä¸»æœºç½‘ç»œï¼Œåªèƒ½å¤Ÿå®ç°åŒä¸€ä¸»æœºä¸Šå®¹å™¨çš„è¿æ¥ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨driverå±æ€§æ¥æŒ‡å®šä¸åŒçš„ç½‘ç»œç±»å‹ã€‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;networks:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;local-net:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;driver:&lt;/span&gt;Â &lt;span&gt;bridge&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;local-vol:&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–‡ä»¶åˆ›å»ºå®Œäº†, å¦‚æœç›´æ¥å¯åŠ¨ï¼Œ ä¼šå‘ç°è™½ç„¶å®¹å™¨éƒ½ä¼šå°†ç«¯å£æ˜ å°„åˆ°ä¸»æœºä¸Šé¢, ä½†æ˜¯ç”±äºå…¨éƒ¨æœåŠ¡éƒ½é…ç½®äº†ä¸€ä¸ª&lt;code&gt;local-net&lt;/code&gt;ç½‘ç»œ, å®ƒæ˜¯&lt;code&gt;bridge&lt;/code&gt;æ¨¡å¼çš„ç½‘ç»œ, æ‰€ä»¥å®¹å™¨é‡Œé¢è®¿é—®&lt;code&gt;127.0.0.1&lt;/code&gt;æ˜¯è®¿é—®ä¸åˆ°å…¶ä»–å®¹å™¨äº†, ä¸è¿‡è¿™å‡ ä¸ªå®¹å™¨åº”ç”¨éƒ½å¯ä»¥é€šè¿‡&lt;code&gt;local-net&lt;/code&gt;ç½‘ç»œå»ºç«‹è¿æ¥, åªè¦é€šè¿‡è®¿é—®å®¹å™¨æœåŠ¡åå°±å¯ä»¥ç›´æ¥è®¿é—®åˆ°å¯¹åº”çš„å®¹å™¨(å›½å†…çš„æ•™ç¨‹å¾ˆå¤šéƒ½æ²¡è¯´, å·¨å‘), æ‰€ä»¥ä¸Šé¢çš„&lt;code&gt;nginx.conf&lt;/code&gt;é…ç½®æ‰æœ‰&lt;code&gt;app:8000&lt;/code&gt;è¿™ä¸ªé€‰é¡¹, æŒ‡çš„æ˜¯è®©&lt;code&gt;Nginx&lt;/code&gt;ä¸æˆ‘ä»¬çš„Pythonåº”ç”¨(æœåŠ¡åä¸ºapp)çš„8000ç«¯å£è¿æ¥ã€‚é™¤æ­¤ä¹‹å¤–, æˆ‘ä»¬è¿˜éœ€è¦æ”¹ä¸‹æˆ‘ä»¬çš„.envé…ç½®æ–‡ä»¶, æŠŠä»–ä»¬çš„hostè¿›è¡Œä¿®æ”¹:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â MySQLè®¿é—®çš„æ˜¯mysqlï¼ŒÂ ç›¸å½“äºè®¿é—®è‡ªå·±çš„ç½‘ç»œ,Â ä¸127.0.0.1æ˜¯ç±»ä¼¼çš„&lt;/span&gt;&lt;br/&gt;MYSQL_DB=&lt;span&gt;&quot;mysql&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_HOST=&lt;span&gt;&quot;mysql&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_PORT=&lt;span&gt;&quot;3306&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_USER=&lt;span&gt;&quot;root&quot;&lt;/span&gt;&lt;br/&gt;MYSQL_PW=&lt;span&gt;&quot;&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;REDIS_URL=&lt;span&gt;&quot;redis://redis&quot;&lt;/span&gt;&lt;br/&gt;REDIS_POOL_MINSIZE=1&lt;br/&gt;REDIS_POOL_MAXSIZE=10&lt;br/&gt;REDIS_ENCODING=&lt;span&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åè¿˜éœ€è¦æ”¹ä¸‹appçš„&lt;code&gt;Dockerfile&lt;/code&gt;å¯åŠ¨å‘½ä»¤, è®©ä»–5ç§’åå¯åŠ¨, é˜²æ­¢æœ‰äº›æœåŠ¡è¿˜æ²¡èµ·æ¥è‡ªå·±å°±å…ˆè¿è¡Œäº†:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;CMD&lt;/span&gt;&lt;span&gt;Â CMDÂ shÂ -cÂ &lt;span&gt;&#x27;sleepÂ 5Â &amp;amp;&amp;amp;Â uvicornÂ --hostÂ 0.0.0.0Â example:app&#x27;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‡äº‹ä¿±å¤‡, ç»ˆäºå¯ä»¥é€šè¿‡æ‰§è¡Œ&lt;code&gt;docker-compose up -d&lt;/code&gt;å‘½ä»¤æ¥å¯åŠ¨æˆ‘ä»¬çš„å®¹å™¨ç¾¤äº†, åœ¨è¿™ä¸ªå‘½ä»¤ä¸­dæ˜¯åå°è¿è¡Œçš„æ„æ€, ç„¶åè‡ªé€šè¿‡å‡ ä¸ªå‘½ä»¤æŸ¥çœ‹è¿è¡Œæƒ…å†µ:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â ä½¿ç”¨docker-compose upå‘½ä»¤æ¥æŸ¥çœ‹åº”ç”¨çš„çŠ¶æ€ã€‚è¾“å‡ºä¸­ä¼šæ˜¾ç¤ºå®¹å™¨åç§°ã€å…¶ä¸­è¿è¡Œçš„Commandã€å½“å‰çŠ¶æ€ä»¥åŠå…¶ç›‘å¬çš„ç½‘ç»œç«¯å£ã€‚&lt;/span&gt;&lt;br/&gt;âœÂ Â version_3Â git:(master)Â docker-composeÂ psÂ Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â NameÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CommandÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â StateÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â PortsÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;-----------------------------------------------------------------------------------------------&lt;br/&gt;version_3_app_1Â Â Â Â Â uvicornÂ --hostÂ 0.0.0.0Â exaÂ ...Â Â Â UpÂ Â Â Â Â Â 0.0.0.0:8000-&amp;gt;8000/tcp,Â 8080/tcpÂ Â &lt;br/&gt;version_3_mysql_1Â Â Â docker-entrypoint.shÂ mysqlÂ ...Â Â Â UpÂ Â Â Â Â Â 0.0.0.0:33060-&amp;gt;3306/tcp,Â 33060/tcp&lt;br/&gt;version_3_nginx_1Â Â Â /docker-entrypoint.shÂ nginÂ ...Â Â Â UpÂ Â Â Â Â Â 0.0.0.0:8001-&amp;gt;80/tcpÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;version_3_redis_1Â Â Â docker-entrypoint.shÂ redisÂ ...Â Â Â UpÂ Â Â Â Â Â 0.0.0.0:63790-&amp;gt;6379/tcpÂ &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â ä½¿ç”¨docker-compose topå‘½ä»¤åˆ—å‡ºå„ä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å†…è¿è¡Œçš„è¿›ç¨‹ã€‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â å…¶ä¸­PIDç¼–å·æ˜¯åœ¨Dockerä¸»æœºä¸Šï¼ˆè€Œä¸æ˜¯å®¹å™¨å†…ï¼‰çš„è¿›ç¨‹IDã€‚&lt;/span&gt;&lt;br/&gt;âœÂ Â version_3Â git:(master)Â docker-composeÂ top&lt;br/&gt;version_3_app_1&lt;br/&gt;UIDÂ Â Â Â PIDÂ Â Â Â PPIDÂ Â Â CÂ Â Â STIMEÂ Â Â TTYÂ Â Â Â Â TIMEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CMDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;-------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;rootÂ Â Â 1802Â Â Â 1786Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â /usr/&lt;span&gt;local&lt;/span&gt;/bin/pythonÂ /usr/&lt;span&gt;local&lt;/span&gt;/bin/uvicornÂ --hostÂ 0.0.0.0Â example:app&lt;br/&gt;&lt;br/&gt;version_3_mysql_1&lt;br/&gt;Â Â UIDÂ Â Â Â Â Â PIDÂ Â Â Â PPIDÂ Â Â CÂ Â Â STIMEÂ Â Â TTYÂ Â Â Â Â TIMEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CMDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;---------------------------------------------------------------------------------------------------------------------------------&lt;br/&gt;deepin-+Â Â Â 1047Â Â Â 1018Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â mysqldÂ --character-set-server=utf8mb4Â --collation-server=utf8mb4_unicode_ci&lt;br/&gt;&lt;br/&gt;version_3_nginx_1&lt;br/&gt;Â Â UIDÂ Â Â Â Â Â PIDÂ Â Â Â PPIDÂ Â Â CÂ Â Â STIMEÂ Â Â TTYÂ Â Â Â Â TIMEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â CMDÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;------------------------------------------------------------------------------------------------&lt;br/&gt;rootÂ Â Â Â Â Â Â 1355Â Â Â 1339Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â masterÂ processÂ nginxÂ -gÂ daemonÂ off;&lt;br/&gt;systemd+Â Â Â 1467Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1468Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1469Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1470Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1471Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1472Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1473Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1474Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1475Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1476Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1477Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;systemd+Â Â Â 1478Â Â Â 1355Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â nginx:Â workerÂ processÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;&lt;br/&gt;version_3_redis_1&lt;br/&gt;Â Â UIDÂ Â Â Â Â Â PIDÂ Â Â Â PPIDÂ Â Â CÂ Â Â STIMEÂ Â Â TTYÂ Â Â Â Â TIMEÂ Â Â Â Â Â Â Â Â CMDÂ Â Â Â Â &lt;br/&gt;------------------------------------------------------------------&lt;br/&gt;deepin-+Â Â Â 1048Â Â Â 1014Â Â Â 0Â Â Â 16:05Â Â Â ?Â Â Â Â Â 00:00:00Â Â Â redis-server&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹ç›®å‰çš„ç½‘ç»œ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹networkçš„è¯¦ç»†ä¿¡æ¯Â dockerÂ networkÂ inspectÂ version_3_local-netÂ Â &lt;/span&gt;&lt;br/&gt;âœÂ Â version_3Â git:(master)Â dockerÂ networkÂ ls&lt;br/&gt;NETWORKÂ IDÂ Â Â Â Â Â Â Â Â Â NAMEÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â DRIVERÂ Â Â Â Â Â Â Â Â Â Â Â Â Â SCOPE&lt;br/&gt;b39273f15fb3Â Â Â Â Â Â Â Â bridgeÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bridgeÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;23ef7eb0fba0Â Â Â Â Â Â Â Â hostÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â hostÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;ab8439cd985cÂ Â Â Â Â Â Â Â noneÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â nullÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;5bcd17ecd747Â Â Â Â Â Â Â Â version_3_local-netÂ Â Â bridgeÂ Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹å·&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥çœ‹è¯¦æƒ…Â dockerÂ volumeÂ inspectÂ version_3_local-volÂ &lt;/span&gt;&lt;br/&gt;âœÂ Â version_3Â git:(master)Â dockerÂ volumeÂ ls&lt;br/&gt;DRIVERÂ Â Â Â Â Â Â Â Â Â Â Â Â Â VOLUMEÂ NAME&lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â version_3_local-vol&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šè¿°çš„å‡ ä¸ªå‘½ä»¤å¯ä»¥å‘ç°æœåŠ¡æ˜¯æ­£å¸¸è¿è¡Œçš„ï¼Œ å¦‚æœè¿™æ—¶å€™è¦åœæ­¢, å¯ä»¥ä½¿ç”¨&lt;code&gt;docker-compose stop&lt;/code&gt;å‘½ä»¤, å®ƒä¼šåœæ­¢åº”ç”¨ï¼Œä½†å¹¶ä¸ä¼šåˆ é™¤èµ„æº, ä¸è¿‡å¯¹äºå·²åœæ­¢çš„åº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;docker-compose rm&lt;/code&gt;å‘½ä»¤æ¥è¿›è¡Œåˆ é™¤, è¿™ä¼šåˆ é™¤åº”ç”¨ç›¸å…³çš„å®¹å™¨å’Œç½‘ç»œï¼Œä½†æ˜¯ä¸ä¼šåˆ é™¤å·å’Œé•œåƒã€‚è€Œç›´æ¥ä½¿ç”¨&lt;code&gt;docker-compose down&lt;/code&gt;è¿™ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥åœæ­¢å’Œå…³é—­åº”ç”¨, ç„¶ååº”ç”¨è¢«åˆ é™¤ï¼Œä»…ç•™ä¸‹äº†é•œåƒã€å·å’Œæºç ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4.æ€»ç»“&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡³æ­¤ï¼Œ Pythonåº”ç”¨çš„å®¹å™¨åŒ–å°±å·²ç»ä»‹ç»å®Œæ¯•ï¼Œ ä½†æ˜¯è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„å¼€å§‹ï¼Œ åé¢éœ€è¦æ…¢æ…¢çš„äº†è§£å¤šæœºçš„å®¹å™¨åº”ç”¨çš„æ€ä¹ˆæ§åˆ¶å’Œæ‰§è¡Œçš„ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>b3161e7e8022f7d3318fee4c20799201</guid>
<title>V2er -- åŒç«¯å¼€æºçš„V2EXå®¢æˆ·ç«¯ï¼ˆSwiftUI+RXJavaï¼‰</title>
<link>https://toutiao.io/k/59ctye1</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;body class=&quot;logged-out env-production page-responsive&quot; id=&quot;readabilityBody&quot;&gt;
    

    

  &lt;p id=&quot;start-of-content&quot; class=&quot;show-on-focus&quot;/&gt;







    


    

  &lt;include-fragment class=&quot;js-notification-shelf-include-fragment&quot; data-base-src=&quot;https://github.com/notifications/beta/shelf&quot;/&gt;





  &lt;div class=&quot;application-main &quot; data-commit-hovercards-enabled=&quot;&quot; data-discussion-hovercards-enabled=&quot;&quot; data-issue-and-pr-hovercards-enabled=&quot;&quot;&gt;
      &lt;main id=&quot;js-pjax-container&quot; data-pjax-container=&quot;&quot;&gt;
        







&lt;div itemscope=&quot;&quot; itemtype=&quot;http://schema.org/Organization&quot;&gt;
  

&lt;header class=&quot;pagehead orghead border-bottom-0 pt-0&quot;&gt;
    &lt;include-fragment src=&quot;/orgs/v2er-app/survey_banner&quot; data-test-selector=&quot;survey-banner-selector&quot;&gt;
  &lt;/include-fragment&gt;


  &lt;div class=&quot;container-xl pt-4 pt-lg-0 p-responsive clearfix&quot;&gt;



    &lt;div class=&quot;d-flex flex-wrap flex-items-start flex-md-items-center my-3&quot;&gt;
        
      &lt;div class=&quot;flex-1&quot;&gt;
        &lt;h1 class=&quot;h2 lh-condensed&quot;&gt;
          v2er.app
        &lt;/h1&gt;

          &lt;div class=&quot;color-fg-muted&quot;&gt;&lt;p&gt;Let&#x27;s build the best V2EX client toghter ~&lt;/p&gt;&lt;/div&gt;

        
      &lt;/div&gt;

      &lt;p class=&quot;flex-self-start mt-3&quot;&gt;


      &lt;/p&gt;

    &lt;/div&gt;
  &lt;/div&gt;

  

&lt;/header&gt;


  &lt;div class=&quot;container-xl&quot;&gt;
    &lt;div data-view-component=&quot;true&quot; class=&quot;gutter-condensed gutter-lg flex-column flex-md-row d-flex&quot;&gt;

  &lt;div data-view-component=&quot;true&quot; class=&quot;flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0&quot;&gt;        &lt;div class=&quot;position-relative&quot;&gt;
          

      
&lt;div class=&quot;container-lg p-responsive js-pinned-items-reorder-container clearfix&quot;&gt;

  
    &lt;div class=&quot;js-pinned-items-reorder-container&quot;&gt;
  &lt;h2 class=&quot;f4 mb-2 text-normal&quot;&gt;
        Pinned

    &lt;span role=&quot;status&quot;&gt;
  &lt;span class=&quot;sr-only&quot;&gt;Loading&lt;/span&gt;
  &lt;svg viewbox=&quot;0 0 16 16&quot; fill=&quot;none&quot; data-view-component=&quot;true&quot; class=&quot;spinner pinned-items-spinner js-pinned-items-spinner v-align-text-bottom ml-1 anim-rotate&quot;&gt;
    &lt;circle cx=&quot;8&quot; cy=&quot;8&quot; r=&quot;7&quot; stroke=&quot;currentColor&quot; stroke-opacity=&quot;0.25&quot; stroke-width=&quot;2&quot; vector-effect=&quot;non-scaling-stroke&quot;/&gt;
    &lt;path d=&quot;M15 8a7.002 7.002 0 00-7-7&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; vector-effect=&quot;non-scaling-stroke&quot;/&gt;
&lt;/svg&gt;&lt;/span&gt;

    &lt;span class=&quot;ml-2 color-fg-muted f6 js-pinned-items-reorder-message&quot; role=&quot;status&quot; aria-live=&quot;polite&quot; data-error-text=&quot;Something went wrong.&quot; data-success-text=&quot;Order updated.&quot;/&gt;
  &lt;/h2&gt;

      &lt;ol class=&quot;d-flex flex-wrap list-style-none gutter-condensed mb-2 js-pinned-items-reorder-list&quot;&gt;
      &lt;li class=&quot;mb-3 d-flex flex-content-stretch col-12 col-md-6 col-lg-4&quot;&gt;
  &lt;div class=&quot;Box d-flex pinned-item-list-item p-3 width-full js-pinned-item-list-item public sortable-button-item source&quot;&gt;
    &lt;div class=&quot;pinned-item-list-item-content&quot;&gt;
      


      &lt;p class=&quot;pinned-item-desc color-fg-muted text-small d-block mt-2 mb-3&quot;&gt;
        The source of V2er.Android
      &lt;/p&gt;

      &lt;p class=&quot;mb-0 f6 color-fg-muted&quot;&gt;
          &lt;span class=&quot;d-inline-block mr-3&quot;&gt;
  &lt;span class=&quot;repo-language-color&quot;/&gt;
  &lt;span itemprop=&quot;programmingLanguage&quot;&gt;Java&lt;/span&gt;
&lt;/span&gt;

          &lt;a href=&quot;/v2er-app/Android/stargazers&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;stars&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-star&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z&quot;/&gt;
&lt;/svg&gt;
            104
          &lt;/a&gt;
          &lt;a href=&quot;/v2er-app/Android/network/members&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;forks&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-repo-forked&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z&quot;/&gt;
&lt;/svg&gt;
            11
          &lt;/a&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/li&gt;

      &lt;li class=&quot;mb-3 d-flex flex-content-stretch col-12 col-md-6 col-lg-4&quot;&gt;
  &lt;div class=&quot;Box d-flex pinned-item-list-item p-3 width-full js-pinned-item-list-item public sortable-button-item source&quot;&gt;
    &lt;div class=&quot;pinned-item-list-item-content&quot;&gt;
      


      &lt;p class=&quot;pinned-item-desc color-fg-muted text-small d-block mt-2 mb-3&quot;&gt;
        The source of V2er.iOS
      &lt;/p&gt;

      &lt;p class=&quot;mb-0 f6 color-fg-muted&quot;&gt;
          &lt;span class=&quot;d-inline-block mr-3&quot;&gt;
  &lt;span class=&quot;repo-language-color&quot;/&gt;
  &lt;span itemprop=&quot;programmingLanguage&quot;&gt;Swift&lt;/span&gt;
&lt;/span&gt;

          &lt;a href=&quot;/v2er-app/iOS/stargazers&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;stars&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-star&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z&quot;/&gt;
&lt;/svg&gt;
            127
          &lt;/a&gt;
          &lt;a href=&quot;/v2er-app/iOS/network/members&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;forks&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-repo-forked&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z&quot;/&gt;
&lt;/svg&gt;
            26
          &lt;/a&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/li&gt;

      &lt;li class=&quot;mb-3 d-flex flex-content-stretch col-12 col-md-6 col-lg-4&quot;&gt;
  &lt;div class=&quot;Box d-flex pinned-item-list-item p-3 width-full js-pinned-item-list-item public sortable-button-item source&quot;&gt;
    &lt;div class=&quot;pinned-item-list-item-content&quot;&gt;
      


      &lt;p class=&quot;pinned-item-desc color-fg-muted text-small d-block mt-2 mb-3&quot;&gt;
        The source of https://v2er.app
      &lt;/p&gt;

      &lt;p class=&quot;mb-0 f6 color-fg-muted&quot;&gt;
          &lt;span class=&quot;d-inline-block mr-3&quot;&gt;
  &lt;span class=&quot;repo-language-color&quot;/&gt;
  &lt;span itemprop=&quot;programmingLanguage&quot;&gt;CSS&lt;/span&gt;
&lt;/span&gt;

          &lt;a href=&quot;/v2er-app/v2er.app/stargazers&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;stars&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-star&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z&quot;/&gt;
&lt;/svg&gt;
            12
          &lt;/a&gt;
          &lt;a href=&quot;/v2er-app/v2er.app/network/members&quot; class=&quot;pinned-item-meta Link--muted &quot;&gt;
            &lt;svg aria-label=&quot;forks&quot; role=&quot;img&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-repo-forked&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z&quot;/&gt;
&lt;/svg&gt;
            5
          &lt;/a&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/li&gt;

&lt;/ol&gt;

&lt;/div&gt;


    
&lt;/div&gt;




        &lt;/div&gt;
&lt;/div&gt;

    &lt;div data-view-component=&quot;true&quot; class=&quot;flex-shrink-0 col-12 col-md-3&quot;&gt;        &lt;div class=&quot;px-3 px-md-0&quot;&gt;
              &lt;div class=&quot;my-3 py-3&quot;&gt;
    &lt;div class=&quot;&quot; id=&quot;org-members&quot;&gt;
      &lt;a class=&quot;d-block color-fg-default&quot; href=&quot;/orgs/v2er-app/people&quot; data-ga-click=&quot;Orgs, go to people, location:profile people module; text:People&quot;&gt;
        &lt;h4 class=&quot;f4 text-normal&quot;&gt;People&lt;/h4&gt;
      &lt;/a&gt;
      &lt;p class=&quot;color-fg-muted mt-3 mb-0&quot;&gt;
        This organization has no public members. You must be a member to see whoâ€™s a part of this organization.
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;


    




    


    



        &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;

      &lt;/main&gt;
  &lt;/div&gt;

            





  &lt;div id=&quot;ajax-error-message&quot; class=&quot;ajax-error-message flash flash-error&quot; hidden=&quot;&quot;&gt;
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-alert&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z&quot;/&gt;
&lt;/svg&gt;
    &lt;button type=&quot;button&quot; class=&quot;flash-close js-ajax-error-dismiss&quot; aria-label=&quot;Dismiss error&quot;&gt;
      &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-x&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z&quot;/&gt;
&lt;/svg&gt;
    &lt;/button&gt;&lt;p&gt;
    You canâ€™t perform that action at this time.
  &lt;/p&gt;&lt;/div&gt;

  &lt;div class=&quot;js-stale-session-flash flash flash-warn flash-banner&quot; hidden=&quot;&quot;&gt;
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-alert&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z&quot;/&gt;
&lt;/svg&gt;
    &lt;span class=&quot;js-stale-session-flash-signed-in&quot; hidden=&quot;&quot;&gt;You signed in with another tab or window. &lt;a href=&quot;&quot;&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
    &lt;span class=&quot;js-stale-session-flash-signed-out&quot; hidden=&quot;&quot;&gt;You signed out in another tab or window. &lt;a href=&quot;&quot;&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
  &lt;/div&gt;
    &lt;template id=&quot;site-details-dialog&quot;&gt;
  &lt;details class=&quot;details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm&quot; open=&quot;&quot;&gt;
    &lt;summary role=&quot;button&quot; aria-label=&quot;Close dialog&quot;/&gt;
    &lt;details-dialog class=&quot;Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal&quot;&gt;
      &lt;button class=&quot;Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0&quot; type=&quot;button&quot; aria-label=&quot;Close dialog&quot; data-close-dialog=&quot;&quot;&gt;
        &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-x&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z&quot;/&gt;
&lt;/svg&gt;
      &lt;/button&gt;
      &lt;p class=&quot;octocat-spinner my-6 js-details-dialog-spinner&quot;/&gt;
    &lt;/details-dialog&gt;
  &lt;/details&gt;
&lt;/template&gt;

    

    &lt;template id=&quot;snippet-clipboard-copy-button&quot;&gt;
  
&lt;/template&gt;




  &lt;/body&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>