<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>cbb9ac1dc92411698f9c08d5b64336b4</guid>
<title>å‘¨æœ«åˆ«é—²ç€ï¼Œå¿«æ¥å§ï¼</title>
<link>https://toutiao.io/k/sat069j</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;weui-dialog&quot;&gt;
      &lt;p class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot;&gt;&quot;Top Stories&quot; is disabled&lt;/strong&gt;&lt;/p&gt;
      &lt;p class=&quot;weui-dialog__bd&quot;&gt;
        Enable &quot;Top Stories&quot; in &quot;Settings&quot; &amp;gt; &quot;General&quot; &amp;gt; &quot;Manage Discover&quot;      &lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>415d8d9c97561b0c489ee80f620229a3</guid>
<title>åŸºäºå¼€æºå·¥å…·çš„äººç”Ÿç®¡ç†</title>
<link>https://toutiao.io/k/e2ie57j</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;entry-content&quot; itemprop=&quot;articleBody&quot;&gt;&amp;#13;
&lt;p&gt;æˆ‘åœ¨ã€Š&lt;a href=&quot;https://www.bmpi.dev/self/gtd-tools-i-used/&quot;&gt;æˆ‘çš„æ—¶é—´ç®¡ç†å·¥å…·&lt;/a&gt;ã€‹ä¸ã€Š&lt;a href=&quot;https://www.bmpi.dev/self/note-system/&quot;&gt;æˆ‘çš„ç¬”è®°ç³»ç»Ÿ&lt;/a&gt;ã€‹ä¸­åˆ†äº«è¿‡æˆ‘ä¸æ–­æ¼”è¿›çš„æ—¶é—´ç®¡ç†å·¥å…·ä¸ç¬”è®°ç³»ç»Ÿã€‚åœ¨ä½¿ç”¨è¿™äº›ç³»ç»Ÿå¤šå¹´åï¼Œå§‹ç»ˆæœ‰ä¸ªå›°æƒ‘è¦ç»•åœ¨æˆ‘è€³è¾¹ï¼Œé‚£å°±æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å•çº¯çš„è®°å½•æ—¶é—´ã€ç¬”è®°å’Œèµ„é‡‘æ˜¯ä¸€ç§ç¢ç‰‡åŒ–çš„è¡Œä¸ºï¼Œå®¹æ˜“å¯¼è‡´è¿‡äºè¿½æ±‚ç»†èŠ‚è€Œå¿˜æ‰å…¨å±€ï¼Œè®©è‡ªå·±æˆä¸ºä¸€ä¸ªå¿™ç¢Œçš„æˆ˜ç•¥æ‡’äººã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ—¶é—´ç®¡ç†ã€è®°è´¦ã€è®°ç¬”è®°ã€å­¦ä¹ ã€å†™ä½œã€é˜…è¯»ã€äº¤æµè¿™äº›è¡Œä¸ºéƒ½ä¸æ˜¯æœ€ç»ˆç›®çš„ï¼Œå®ƒä»¬åªæ˜¯ä¸€ç§å®ç°ä¸ªäººé•¿æœŸç›®æ ‡çš„è¾…åŠ©æ–¹æ³•ï¼Œå¦‚æœåšè¿™äº›äº‹å¯¹é•¿æœŸç›®æ ‡æ¯«æ— å¸®åŠ©ï¼Œé‚£æ²¡å¿…è¦æµªè´¹æ—¶é—´å»åšã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶æˆ‘åšäº†å¤§é‡çš„æ—¶é—´ä¸èµ„é‡‘å¼€é”€è®°å½•ï¼Œä½†æˆ‘ä¹Ÿå¾ˆéš¾è¯„ä¼°è¿™äº›å¼€é”€å¯¹å®ç°é•¿æœŸç›®æ ‡æœ‰ä½•å½±å“ã€‚è¿™ç§å›°æ‰°å¯ä»¥çœ‹ä½œä¸ªäººæ—¶é—´ç®¡ç†çš„å“¥å¾·å·´èµ«çŒœæƒ³ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘çŸ¥é“æˆ‘çš„æ—¶é—´æœ‰ä¸€åŠéƒ½è¢«æµªè´¹æ‰ï¼Œä½†å°±æ˜¯ä¸çŸ¥é“å“ªä¸€åŠã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¾—ç®€åŒ–é—®é¢˜çš„å¤æ‚åº¦ï¼Œè¿™ä¸ªé—®é¢˜å…¶å®ç­‰ä»·äºä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»Šå¤©æˆ‘åšäº†å•¥ï¼Ÿ&lt;/li&gt;
&lt;li&gt;åšè¿™äº›äº‹å¯¹æˆ‘çš„é•¿æœŸç›®æ ‡æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ€è€ƒï¼Œæˆ‘æœ‰äº†ä»¥ä¸‹çš„ç®€å•æ¨¡å‹å»è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®©æˆ‘ä»¬å…ˆå¯¹é—®é¢˜è¿›è¡Œå»ºæ¨¡ã€‚&lt;/p&gt;
&lt;h3&gt;é—®é¢˜å»ºæ¨¡&lt;/h3&gt;
&lt;p&gt;å¦‚æœæŠŠäººçœ‹ä½œä¸€ä¸ª Machineï¼Œè¿™ä¸ª Machine æœ‰è¾“å…¥æœ‰è¾“å‡ºã€‚æœ€åˆè¿™ä¸ª Machine åªæ‹¥æœ‰æ—¶é—´ç»´åº¦ï¼Œé€æ¸å®ƒæ‹¥æœ‰äº†æŠ€èƒ½ç»´åº¦ï¼ŒåŒæ—¶ç§¯ç´¯äº†é‡‘é’±ç»´åº¦ã€‚å¦‚æœæŠŠæ—¶é—´ã€æŠ€èƒ½ä¸é‡‘é’±çœ‹ä½œå®ƒçš„è¾“å…¥ç«¯ï¼Œé‚£å®ƒè¾“å‡ºç«¯å°±æ˜¯é‡‘é’±ã€æŠ€èƒ½ä¸å½±å“åŠ›ç»´åº¦ã€‚å…¶ä¸­é‡‘é’±å’ŒæŠ€èƒ½åœ¨è¾“å…¥ä¸è¾“å‡ºé—´è‡ªå¾ªç¯ï¼Œä¸€èˆ¬æ˜¯æ­£å‘çš„ã€‚æˆ‘ä»¬çš„é‡‘é’±å’ŒæŠ€èƒ½éƒ½ä¼šéšç€è¾“å…¥ä¸è¾“å‡ºçš„å¾ªç¯è€Œæå‡ï¼Œè€Œå½±å“åŠ›å…¶å®å°±æ˜¯çŸ¥è¯†çš„å˜ä½“ï¼Œæˆ‘ä»¬é€šè¿‡çŸ¥è¯†å»å½±å“åˆ«äººï¼Œé€šè¿‡çŸ¥è¯†å»å»ºç«‹æƒå¨ä¸ä¿¡èª‰åº¦ï¼Œæœ€ç»ˆå‘å±•å‡ºä¸ªäººå“ç‰Œã€‚è¿™ä¸ªæµç¨‹çœ‹èµ·æ¥éå¸¸åƒæ˜¯ä¸€åœº &lt;a href=&quot;https://www.bmpi.dev/self/road_to_life_games/&quot;&gt;æ‰“æ€ªå‡çº§çš„æ¸¸æˆ&lt;/a&gt;ã€‚è¿™äº›æŠ½è±¡çš„ç»´åº¦è½åœ°åå°±å˜ä¸º&lt;a href=&quot;https://www.bmpi.dev/self/gtd-tools-i-used/&quot;&gt;æ—¶é—´ç®¡ç†ç³»ç»Ÿï¼ˆç›®æ ‡ã€ä»»åŠ¡ä¸æ—¶é—´ï¼‰&lt;/a&gt;ã€&lt;a href=&quot;https://www.bmpi.dev/self/note-system/&quot;&gt;è´¢åŠ¡ç®¡ç†ç³»ç»Ÿï¼ˆè®°è´¦ã€æŠ•èµ„ä¸ä¿é™©ï¼‰&lt;/a&gt; ä¸&lt;a href=&quot;https://www.bmpi.dev/self/build-personal-knowledge-system/&quot;&gt;çŸ¥è¯†ä½“ç³»ï¼ˆå†™ä½œã€ç¬”è®°ä¸ä¸ªäººå“ç‰Œï¼‰&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è±¡è¿™ä¸ªåœºæ™¯ï¼šé€šè¿‡è®¾å®šä¸ªäºº OKRï¼ŒæŠŠä¸€ä¸ªä¸ª Key Result æ‹†è§£ä¸ºä¸€ä¸ªä¸ª TODO Taskï¼Œç”¨æ—¶é—´ç®¡ç†å·¥å…·å»è¿½è¸ªè¿™äº› Task çš„æ—¶é—´å¼€é”€ï¼Œç”¨è´¢åŠ¡ç®¡ç†å»è¿½è¸ªè¿™äº› Task çš„é‡‘é’±å¼€é”€ï¼Œç”¨çŸ¥è¯†ç®¡ç†å»è¿½è¸ªè¿™äº› Task çš„ç¬”è®°ï¼Œé‚£æˆ‘ä»¬æ˜¯å¯ä»¥çŸ¥é“æ¯ä¸ª Objective çš„æ—¶é—´ä¸èµ„é‡‘å¼€é”€ï¼ŒåŒæ—¶ä¹Ÿèƒ½çŸ¥é“è¿™ä¸ª Objective çš„è¾“å‡ºç¬”è®°äº§ç‰©æœ‰å“ªäº›ï¼Œæœ€ç»ˆè¾“å‡ºçš„å½±å“åŠ›ç¨‹åº¦ã€‚é€šè¿‡ä¸æ–­ä¼˜åŒ–è¾“å…¥ä¸è¾“å‡ºç«¯ï¼Œæˆ‘ä»¬å¯ä»¥å½¢æˆé«˜æ•ˆçš„å­¦ä¹ èƒ½åŠ›ï¼Œæ›´å¥½çš„é€‚åº”å¤–ç•Œçš„å˜åŒ–ã€‚å¦‚ä½•ä¼˜åŒ–ï¼Ÿå°±éœ€è¦è®°å½•è¾“å…¥ä¸è¾“å‡ºç«¯å„ä¸ªç»´åº¦çš„æ•°æ®ã€‚é€šè¿‡è®°å½•åº•å±‚ç»´åº¦æ•°æ®æ¥æŠŠæ§é«˜å±‚ç›®æ ‡çš„å®ç°ã€‚ä»æ—¶é—´ä¸è´¢åŠ¡æ€§ä»·æ¯”çš„è§’åº¦çœ‹ä¸€ä¸ªä¸ªæœ€ç»ˆæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæŸä¸ªä»»åŠ¡èƒ½æ›´å¥½çš„æ¨åŠ¨ OKR ç›®æ ‡çš„å®ç°ï¼Œé‚£è¿™ä¸ªä»»åŠ¡çš„æŠ•å…¥å°±æœ‰ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ç†æƒ³çš„æƒ…å†µæ˜¯ï¼Œæ¯ä¸ªäººæ‹¥æœ‰è‡ªå·±çš„è¾“å…¥ä¸è¾“å‡ºå„ç»´åº¦çš„ Dashboardï¼Œè¿™æ ·å°±èƒ½ä»å®è§‚è§†è§’çœ‹åˆ°è‡ªå·±æ¯å¤©åšçš„äº‹æƒ…çš„ä»·å€¼ã€‚æˆ‘ä»¬å¯ä»¥é‡åŒ–æ¯ä»¶äº‹æƒ…çš„æŠ•å…¥äº§å‡ºæ¯”ï¼Œå»ä¼˜åŒ–è‡ªå·±çš„å¤„ç†æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/1-life-management-based-on-open-source.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;ç³»ç»Ÿè®¾è®¡&lt;/h3&gt;
&lt;p&gt;åœ¨å¯¹é—®é¢˜å»ºæ¨¡åï¼Œæˆ‘ç°åœ¨çš„ä¸šåŠ¡éœ€æ±‚æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…¨å±€çš„ Tag ç³»ç»Ÿã€‚è¯¥ Tag ç³»ç»Ÿå¯ä»¥ä»ä¸ªäººæ„¿æ™¯ä¸­è®¾å®šå¹´åº¦ OKR ç›®æ ‡ï¼Œä¹‹åå¯ä»¥å¯¹ OKR çš„ Key Result è¿›è¡Œç»†ç²’åº¦çš„ Task æ‹†åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡æ—¶é—´å¼€é”€è¿½è¸ªã€‚å¯ä»¥å¯¹ OKR ç›®æ ‡çš„æŸä¸ª Key Result ç»Ÿè®¡ç›¸å…³çš„ Task çš„æ€»è€—è´¹æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡èµ„é‡‘å¼€é”€è¿½è¸ªã€‚å¯ä»¥å¯¹ OKR ç›®æ ‡çš„æŸä¸ª Key Result ç»Ÿè®¡ç›¸å…³çš„ Task çš„æ€»èµ„é‡‘æˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡ç›¸å…³ç¬”è®°å…³è”ã€‚å¯ä»¥å¯¹ OKR ç›®æ ‡çš„æŸä¸ª Key Result å…³è”ç›¸å…³çš„ Task çš„ç¬”è®°ã€‚&lt;/li&gt;
&lt;li&gt;Dashboard åŸå§‹æ•°æ®ç”Ÿæˆã€‚å¯ä»¥è‡ªåŠ¨æˆ–æ‰‹åŠ¨ç”Ÿæˆä¸ªäºº OKR å®Œæˆåº¦è¡¨ç°æŠ¥å‘Šä¸è´¢åŠ¡å¥åº·åº¦æŠ¥å‘Šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯ä¸€ä¸ªä»ä¸ªäººæ„¿æ™¯åˆ° OKR ï¼Œä¹‹åä» OKR ç”Ÿæˆæ¯æ—¥å¾…åŠä»»åŠ¡ï¼Œè¿½è¸ªä»»åŠ¡ç›¸å…³æ—¶é—´ã€èµ„é‡‘ä¸ç¬”è®°çš„æµç¨‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/2-life-management-based-on-open-source.jpg&quot;&gt;&lt;img src=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/2-life-management-based-on-open-source-768x368.jpg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;ç³»ç»Ÿå®ç°&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„ç³»ç»Ÿå®ç°åŸåˆ™æ˜¯å°½å¯èƒ½ç”¨å¼€æºçš„å·¥å…·ç»„åˆå®ç°æˆ‘çš„éœ€æ±‚ã€‚æ‰€ä»¥åŸºæœ¬åŸåˆ™æœ‰ä»¥ä¸‹å‡ æ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·¥å…·éœ€å¿…é¡»è¦å¼€æºã€‚ä¸è€ƒè™‘å•†ä¸šç‰ˆçš„åŸå› æ˜¯æœªçŸ¥ä¸å¯æ§çš„å•†ä¸šé£é™©ï¼Œè¿™äº›å·¥å…·éƒ½æ˜¯è¦é•¿æœŸä½¿ç”¨çš„ï¼Œé€‰æ‹©å¼€æºæ–¹æ¡ˆæ˜¯æ€§ä»·æ¯”æœ€é«˜çš„ã€‚&lt;/li&gt;
&lt;li&gt;å·¥å…·éœ€è¦å…·å¤‡å¯æ‰©å±•çš„èƒ½åŠ›ã€‚åªæœ‰å¯æ‰©å±•çš„ç³»ç»Ÿæ‰å…·å¤‡ç»„åˆçš„èƒ½åŠ›ï¼Œè¿™æ ·æ–¹ä¾¿åæœŸå®šåˆ¶åŒ–çš„ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å·¥å…·è¦æœ‰ä¸€ä¸ªå¥½çš„ç¤¾åŒºã€‚ä¸€ä¸ªå¥½çš„ç¤¾åŒºéå¸¸é‡è¦ï¼Œå¯ä»¥è®©æˆ‘ä»¬è§£å†³é—®é¢˜çš„æˆæœ¬ä¸‹é™å¾ˆå¤šã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººæä¾›çš„ç°æˆè§£å†³æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®å¿…é¡»èƒ½è‡ªæ‰˜ç®¡ã€‚æ•°æ®å¿…é¡»è¦å­˜æ”¾åˆ°è‡ªå·±æ§åˆ¶çš„å­˜å‚¨ï¼ˆæœ¬åœ°å’Œç½‘ç»œéƒ½å¯ä»¥ï¼‰ä¸­ï¼Œéšç§ç¬¬ä¸€åŸåˆ™ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®å°½å¯èƒ½æ˜¯çº¯æ–‡æœ¬ã€‚çº¯æ–‡æœ¬æ›´ç®€å•ï¼Œå°±ç®—å·¥å…·ä¸å¯ç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¯¹æ–‡æœ¬è¿›è¡Œè¯»å–æˆ–ä¿®æ”¹ã€‚é•¿æœŸæ¥çœ‹ï¼Œè¿™ç‚¹å¾ˆé‡è¦ã€‚&lt;/li&gt;
&lt;li&gt;é—¨æ§›ä½ã€‚æœ€å¥½ä¸€å¤©ä¸Šæ‰‹ï¼Œä¸‰å¤©ç²¾é€šï¼Œæˆ‘ä¸æƒ³èŠ±è´¹æ•°å‘¨æ—¶é—´å»å­¦ä¹ ä¸€ä¸ªå¤æ‚çš„å·¥å…·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ç°æœ‰è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;h5&gt;Emacs&lt;/h5&gt;
&lt;p&gt;å¦‚æœç›´æ¥é€‰ç°æˆçš„æ–¹æ¡ˆï¼Œä¸€å®šæœ‰äººä¼šæåˆ°è¿™ç¯‡ ã€Š&lt;a href=&quot;http://doc.norang.ca/org-mode.html&quot;&gt;Organize Your Life In Plain Text!&lt;/a&gt;ã€‹ã€‚è¿™ç¯‡è¶…è¿‡ 10 å¹´å†å²çš„æ–‡ç« çœ‹èµ·æ¥å¦‚ Emacs ä¸€æ ·å¼ºå¤§è€Œä¹…è¿œã€‚ç”¨ Emacs åšçš„ç¡®ç¬¦åˆä»¥ä¸Šæ‰€æœ‰åŸºæœ¬åŸåˆ™ï¼Œé—®é¢˜åœ¨äºæˆ‘ä¸æ˜¯ä¸€ä¸ª Emacs ä¸“å®¶ï¼Œæˆ‘ä¸æƒ³å­¦æ•°å¹´ Emacs åå†å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘çš„æ€è·¯æ˜¯èŠ±æœ€å¤šä¸è¿‡ä¸€å‘¨æ—¶é—´å»ç”¨å¼€æºå·¥å…·ç»„åˆå‡ºä¸€å¥—è§£å†³æˆ‘éœ€æ±‚çš„æ–¹æ¡ˆå‡ºæ¥ã€‚ä¸€å‘¨æ—¶é—´ï¼Œæˆ‘å¯èƒ½è¿ Emacs å¿«æ·é”®éƒ½è®°ä¸ä½ã€‚&lt;/p&gt;
&lt;h5&gt;è‡ªå·±åŠ¨æ‰‹åš&lt;/h5&gt;
&lt;p&gt;å½“æˆ‘çœ‹åˆ°è¿™ç¯‡ã€Š&lt;a href=&quot;https://beepb00p.xyz/blog-graph.html&quot;&gt;Blog graph&lt;/a&gt;ã€‹ å’Œ ã€Š&lt;a href=&quot;https://beepb00p.xyz/myinfra.html&quot;&gt;Map of my personal data infrastructure&lt;/a&gt; ã€‹æ—¶æ•´ä¸ªäººéƒ½éœ‡æƒŠäº†ã€‚ä½œè€…å…¨éƒ¨è‡ªå·±åŠ¨æ‰‹åšäº†ä¸€å¥—ç±»ä¼¼çš„ç³»ç»Ÿå»ç®¡ç†ä»–çš„äººç”Ÿã€‚å¦‚æœæˆ‘æœ‰æ—¶é—´çš„è¯æˆ‘ä¸€å®šä¼šè¿™ä¹ˆå°è¯•å»åšï¼Œä½†æ˜¯æˆ‘æ²¡æ—¶é—´ã€‚&lt;/p&gt;
&lt;h5&gt;å·¥å…·é€‰æ‹©&lt;/h5&gt;
&lt;p&gt;è¿™å¥—ç³»ç»Ÿå®ç°çš„å…³é”®åœ¨äºéœ€è¦æœ‰ Tagã€TODOã€ç¬”è®°ç®¡ç†ã€è®°è´¦ç­‰åŠŸèƒ½ï¼Œè®°è´¦å¯ä»¥ç”¨ Beancount å»åšï¼Œåªéœ€è¦ç»“åˆå®ƒçš„ Tag åŠŸèƒ½å°±å¯ä»¥è¿½é€ç›¸å…³ Tag çš„å¼€é”€ã€‚é‚£ä¹ˆåªéœ€è¦é€‰æ‹©ä¸€ä¸ªå…·å¤‡ Tag å’Œ TODO åŠŸèƒ½çš„å¼€æºç¬”è®°å·¥å…·å°±è¡Œäº†ã€‚è¿™ä¹ˆçœ‹æ¥æˆ‘ä»¬å¯é€‰æ‹©çš„å¾ˆæœ‰é™äº†ã€‚&lt;br/&gt;
ä»¥æœ€è¿‘å¤§çƒ­çš„ Roam Research ä¸ºä¾‹ï¼Œå®ƒå¼€å¯äº†ä¸å°‘ç¬”è®°å·¥å…·çš„æ–°ç‰¹æ€§ï¼šåå‘é“¾æ¥ã€å³è¾¹æ ã€æ¯æ—¥ç¬”è®°åŠå›¾æ•°æ®åº“ã€‚æœ€é‡è¦çš„å…¶å®æ˜¯å®ƒçš„å›¾æ•°æ®åº“ç‰¹æ€§ï¼Œå› ä¸ºå½“ä¸€ä¸ªå·¥å…·å…·å¤‡äº†æ•°æ®åº“çš„æŸ¥è¯¢èƒ½åŠ›æ—¶ï¼Œç»“åˆæ’ä»¶ç‰¹æ€§æˆ‘ä»¬å¯ä»¥åšå‡ºéå¸¸å¤šçš„åº”ç”¨åœºæ™¯ã€‚å¯æƒœçš„æ˜¯å®ƒæ˜¯ä¸€ä¸ªå•†ä¸šè½¯ä»¶ä¸”ä¸å¼€æºï¼ˆ Notion ä¹Ÿå› ä¸ºè¿™ä¸ªåŸå› è¢«æ’é™¤ï¼‰ï¼Œæ‰€ä»¥æˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªå…·å¤‡å®ƒå¾ˆå¤šç‰¹æ€§çš„å¼€æºè½¯ä»¶ Logseqï¼ŒLogseq æœ¬èº«å—å¾ˆå¤šç¬”è®°å·¥å…·çš„å¯å‘ï¼Œå¦‚ Roam Researchã€Tiddlywikiã€Workflowy ä¸ Org Mode ã€‚&lt;br/&gt;
åœ¨æŠŠç©äº†å‡ å¤© Logseq åæˆ‘å‘ç°æœ€å¼ºçš„å°±æ˜¯å®ƒåº•å±‚çš„ DataScript å†…å­˜å›¾æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡é«˜çº§æŸ¥è¯¢åšå¾ˆå¤šè‡ªå®šä¹‰ç•Œé¢ã€‚è¿™æ ·å°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„å¾ˆå¤šéœ€æ±‚äº†ï¼Œæ¯”å¦‚ç”Ÿæˆæ¯æ—¥å¾…åŠä»»åŠ¡ï¼Œæ ¹æ® OKR ç”Ÿæˆçš„ Tag æ¥è¿‡æ»¤å’Œ OKR ç›¸å…³çš„ä»»åŠ¡ï¼Œç»Ÿè®¡ç›¸å…³ä»»åŠ¡çš„èŠ±è´¹æ—¶é—´ç­‰ã€‚&lt;br/&gt;
ç›®å‰ Logseq è¿˜åœ¨å¼€å‘æ’ä»¶ç³»ç»Ÿï¼Œç­‰æ’ä»¶ç³»ç»Ÿä¸Šçº¿åï¼Œå¾ˆå¤šéš¾ä»¥å®ç°çš„åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡æ’ä»¶æ¥å®Œæˆã€‚å½“ç„¶æˆ‘çš„éœ€æ±‚è¿˜ä¸éœ€è¦æ’ä»¶ç³»ç»Ÿçš„æ”¯æŒï¼Œå…‰é«˜çº§æŸ¥è¯¢å°±å¯ä»¥æ»¡è¶³ã€‚&lt;/p&gt;
&lt;h5&gt;æˆ‘çš„æ–¹æ¡ˆ&lt;/h5&gt;
&lt;p&gt;å½“ç¡®å®šäº†ç¬”è®°å·¥å…·å’Œè®°è´¦å·¥å…·åï¼Œæˆ‘æœ€ç»ˆçš„æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/3-life-management-based-on-open-source.jpg&quot;&gt;&lt;img src=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/3-life-management-based-on-open-source-768x617.jpg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å„å·¥å…·çš„èŒè´£å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Logseqã€‚è´Ÿè´£åˆ¶å®š OKR ã€è®¾å®šç›¸å…³ Tag ã€æ‹†åˆ† OKR ç›¸å…³ä»»åŠ¡å¹¶è¿½è¸ªä»»åŠ¡è€—è´¹æ—¶é—´ï¼ˆæ—¶é—´ç®¡ç†ï¼‰åŠç®¡ç†è¿™äº›ä»»åŠ¡ç›¸å…³çš„ç¬”è®°ï¼ˆç¬”è®°ç³»ç»Ÿï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Beancountã€‚è´Ÿè´£è®°å½•ç›¸å…³ Tag çš„èµ„é‡‘å¼€é”€ï¼Œå½“ç„¶ä¹Ÿæ˜¯æˆ‘çš„è®°è´¦å·¥å…·ï¼Œæœ€ç»ˆå¸®åŠ©æˆ‘ç”Ÿæˆå®¶åº­è´¢åŠ¡å¥åº·åº¦çš„è¯„ä¼°æŠ¥å‘Šã€‚&lt;/li&gt;
&lt;li&gt;Tiddlywikiã€‚è´Ÿè´£å…¬å¼€ç¬”è®°çš„è¾“å‡ºã€‚å’Œ Logseq çš„åŒºåˆ«åœ¨äºï¼Œæˆ‘ä¼šå°† Logseq çš„ä¸€äº›ç¬”è®°æ•´ç†æˆå¯ä¾›åˆ†äº«çš„çŸ¥è¯†åå‘å¸ƒåˆ° Tiddlywiki ä¸Šã€‚è™½ç„¶ Logseq æ”¯æŒå…¬å¼€æŸä¸ªé¡µé¢ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½çš„åŒºåˆ†ç§äººç¬”è®°å’Œå…¬å¼€ç¬”è®°ï¼Œæˆ‘è¿˜æ˜¯åšäº†è¿™ä¸ªåŒºåˆ†ã€‚&lt;/li&gt;
&lt;li&gt;Amazon AWSã€‚æˆ‘çš„ä¸ªäººäº‘å¹³å°ã€‚ç›®å‰ä¸»è¦æ˜¯ç”¨ S3 + CloudFront åšåšå®¢çš„å›¾åºŠã€‚&lt;a href=&quot;https://www.bmpi.dev/dev/pulumi-aws-serverless-hugo-site-vists/&quot;&gt;åšå®¢çš„é¡µé¢è®¿é—®æ•°æ®&lt;/a&gt; ä¹Ÿæ˜¯ç”¨ &lt;a href=&quot;https://www.bmpi.dev/dev/guide-to-serverless/&quot;&gt;AWS Serverless&lt;/a&gt; å¼€å‘å®ç°çš„ã€‚&lt;/li&gt;
&lt;li&gt;Wayback Machineã€‚ç±»ä¼¼ OneNote å’Œ Evernote çš„ Web å‰ªè—å·¥å…·ã€‚å®ƒå¯ä»¥æ°¸ä¹…ä¿å­˜ç½‘é¡µçš„æ‰€æœ‰å˜æ›´ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸€èˆ¬æ— éœ€è‡ªå·±æŠŠç½‘é¡µå†…å®¹ä¸‹è½½åˆ°ç¬”è®°å·¥å…·é‡Œï¼Œè¿™æ ·ä¼šå¯¼è‡´ç¬”è®°å·¥å…·åŒæ­¥ç¼“æ…¢ã€‚æˆ‘å½“æ—¶ç”¨ OneNote å‰ªè—äº†å¾ˆå¤šç½‘é¡µå¯¼è‡´å…¶å­˜å‚¨è¾¾å‡  GB ï¼Œæ¯æ¬¡æ¢è®¾å¤‡åŒæ­¥éƒ½å¾ˆå¤´ç–¼ã€‚å®é™…ä¸Šåªéœ€è¦ä¿å­˜ç½‘é¡µé“¾æ¥å³å¯ï¼Œæœ€å¤šåŠ å‡ å¥æ€»ç»“çš„è¯åŠ©è®°ã€‚æœ‰ Wayback Machine å†ä¹Ÿæ— éœ€æ‹…å¿ƒç½‘é¡µçªç„¶ä¸è§äº†ã€‚&lt;/li&gt;
&lt;li&gt;GitHubã€‚é¡¹ç›®æ‰˜ç®¡ä¸äº‘å­˜å‚¨å¹³å°ã€‚åšå®¢ã€è®°è´¦ä¸æ—¶é—´ç®¡ç†çš„æ‰€æœ‰æ•°æ®åŒ…æ‹¬æ–‡ä»¶ï¼ˆæŸäº›æ–‡ä»¶ä¼šæ”¾åˆ° Google Drive é‡Œï¼‰éƒ½å­˜æ”¾åˆ° GitHub å…¬å¼€æˆ–ç§æœ‰ä»“åº“ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;Vercelã€‚åšå®¢ä¸Wikiæ‰˜ç®¡å¹³å°ã€‚å¯ç›´æ¥å…³è” GitHub åä¸€é”®å‘å¸ƒç½‘ç«™å¹¶è‡ªå¸¦ CDN ä¸” &lt;a href=&quot;https://www.bmpi.dev/dev/guide-to-setup-blog-site-with-zero-cost-5/&quot;&gt;å›½å†…è®¿é—®é€Ÿåº¦ä¸é”™&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;VSCodeã€‚æ–‡æœ¬ç¼–è¾‘å·¥å…·ã€‚ä¸€èˆ¬æˆ‘ä¼šç”¨å®ƒå®Œæˆåšå®¢å†™ä½œã€ç¬”è®°å†™ä½œï¼ˆä¹Ÿå¯ç”¨æµè§ˆå™¨ï¼‰ã€ç»˜å›¾ï¼ˆä¹Ÿå¯ç”¨æµè§ˆå™¨ï¼‰ã€è®°è´¦åŠä»£ç å¼€å‘ã€‚&lt;/li&gt;
&lt;li&gt;Google/Twitter/YouTubeã€‚ä¸»è¦çš„ä¿¡æ¯è·å–å¹³å°ã€‚ä¸»åŠ¨æœç´¢ç”¨ Googleï¼Œè¢«åŠ¨è·å–ç”¨ Twitter åŠ YouTubeã€‚ä¸­æ–‡é«˜è´¨é‡çš„ä¿¡æ¯è·å–å¹³å°è¶Šæ¥è¶Šå°‘äº†ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦ç”¨è‹±æ–‡æ‰èƒ½æœç´¢åˆ°æˆ‘æƒ³è¦çš„ä¿¡æ¯ã€‚æ‰€ä»¥æœç´¢æŠ€èƒ½å’Œè‹±æ–‡èƒ½åŠ›å·²ç»ç®—åŸºæœ¬èƒ½åŠ›äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€å³ä¾§æœ‰é¢œè‰²çš„ä¸‰ä¸ªæ¡†å°±æ˜¯æˆ‘çš„æ„¿æ™¯æœ€å…³æ³¨çš„ä¸‰ä¸ªé¢†åŸŸäº†ï¼Œæˆ‘çš„æ‰€æœ‰è¾“å‡ºéƒ½ä¼šå’Œè¿™ä¸‰ä¸ªé¢†åŸŸç›¸å…³ã€‚&lt;/p&gt;
&lt;h3&gt;å®ç°æ•ˆæœ&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ Logseq å®Œæˆçš„æœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://insights.thoughtworks.cn/wp-content/uploads/2021/07/4-life-management-based-on-open-source.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;p&gt;æ¯å¤©æˆ‘éƒ½å¯ä»¥åœ¨ Logseq ç³»ç»Ÿé¦–é¡µçœ‹åˆ°ä»¥æ—¶é—´å››è±¡é™åˆ’åˆ†æ³•è€Œåˆ’åˆ†çš„å¾…åŠä»»åŠ¡ã€‚å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ“… åœ¨åšè®¡åˆ’äº‹é¡¹ã€‚æ ‡è®°ä¸ºé‡è¦çš„æˆ–è€…å’Œä»»ä½• OKR ç›¸å…³çš„åœ¨åšä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ğŸŒ å¾…åšè®¡åˆ’äº‹é¡¹ã€‚æ ‡è®°ä¸ºé‡è¦çš„æˆ–è€…å’Œä»»ä½• OKR ç›¸å…³çš„å¾…åšä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;â° åœ¨åšå…¶ä»–äº‹é¡¹ã€‚ä»»ä½•ä¸é‡è¦çš„æˆ–è€…å’Œ OKR ä¸ç›¸å…³çš„åœ¨åšä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ğŸš® å¾…åšå…¶ä»–äº‹é¡¹ã€‚ä»»ä½•ä¸é‡è¦çš„æˆ–è€…å’Œ OKR ä¸ç›¸å…³çš„å¾…åšä»»åŠ¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åº•éƒ¨çš„åŒºå—æ˜¯å’Œ OKR ç›¸å…³çš„ä¿¡æ¯ï¼Œè®©æˆ‘å¯ä»¥å¿«é€Ÿäº†è§£åˆ°ç›®å‰æœ€é‡è¦çš„ Objective æœ‰å“ªäº›ã€‚&lt;br/&gt;
å½“ç„¶è¿™ä¸ªç³»ç»Ÿè¿œä¸æ­¢å¦‚æ­¤ï¼Œæ›´å¤šçš„ä¿¡æ¯æˆ‘ä¼šæ–°å¼€ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»å¦‚ä½•ç”¨ Logseq å®ç°è¿™äº›åŠŸèƒ½ã€‚ä¹Ÿä¼šå†™ä¸€ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åŸºäºæ–‡æœ¬ä½¿ç”¨ Beancount åšå¤å¼è®°è´¦ã€‚&lt;/p&gt;
&amp;#13;
&lt;/div&gt;&amp;#13;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3341cf6f94c0487190d7433a93080b67</guid>
<title>äº†ä¸èµ·çš„ Chrome æµè§ˆå™¨ï¼ˆå››ï¼‰ï¼šChrome 92 æ–°å¢ at å’Œ randomUUID æ–¹æ³•ï¼ŒCanvas æ”¯æŒ Display P3 è‰²åŸŸ</title>
<link>https://toutiao.io/k/a333hks</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;7æœˆ20æ—¥æ­£å¼å‘å¸ƒçš„Chrome 92ï¼Œå¸¦æ¥äº†å“ªäº›æœ‰æ„æ€çš„æ–°ç‰¹æ€§å‘¢ï¼Ÿ&lt;/p&gt;&lt;h1 data-lake-id=&quot;34ddb71c8f8a82125eaf87ae6d4ea601&quot;/&gt;&lt;h1 data-lake-id=&quot;34ddb71c8f8a82125eaf87ae6d4ea601&quot;&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;åå¤šå¹´æ¥ï¼ŒWebæŠ€æœ¯çªé£çŒ›è¿›ï¼Œå…¶ä¸­ChromeåŠŸä¸å¯æ²¡ï¼Œäº†è§£Chromeå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£æ•´ä¸ªè¡Œä¸šçš„å‘å±•è¶‹åŠ¿ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å› æ­¤ï¼Œæˆ‘å°†ä»¥ã€Šäº†ä¸èµ·çš„Chromeæµè§ˆå™¨ã€‹ä¸ºé¢˜ï¼Œå¯¹Chromeçš„æ¯ä¸€ä¸ªç‰ˆæœ¬çš„é‡è¦ç‰¹æ€§è¿›è¡Œè¯¦ç»†è§£è¯»ï¼ŒåŒæ—¶åˆ†äº«ä¸€äº›è‡ªå·±çš„ä¸€äº›æ€è€ƒï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;é€šè¿‡ä¸“æ³¨äºChromeçš„å†™ä½œï¼Œæ—¢å¯ä»¥å¯ä»¥æé«˜æˆ‘çš„ä¸“ä¸šèƒ½åŠ›ï¼Œä¹Ÿå¯ä»¥æé«˜ä¸ªäººå½±å“åŠ›ã€‚&lt;span&gt;æˆ‘çš„ç›®æ ‡æ˜¯åœ¨2025å¹´å‡ºç‰ˆä¸€æœ¬å…³äºChromeçš„ä¹¦&lt;/span&gt;ï¼Œæ¯•ç«Ÿå‡ºç‰ˆè‡ªå·±çš„ä¹¦æ¯ä¸€ä¸ªå†™ä½œè€…æœ€é«˜çš„è¿½æ±‚ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æˆ‘æ˜¯å¯’é›ï¼Œä¸€ä¸ªçƒ­çˆ±å†™ä»£ç å’Œå†™æ–‡ç« çš„ç¨‹åºå‘˜ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·å¯’é›Talkã€‚&lt;/p&gt;&lt;h1 data-lake-id=&quot;029f19ae2d05a034702f31a96a8d5500&quot;&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h1 data-lake-id=&quot;029f19ae2d05a034702f31a96a8d5500&quot;&gt;TL;TR&lt;/h1&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;ul data-lake-id=&quot;f47e54ae4cb1ddca0278a84be2ace458&quot; start=&quot;1&quot; lake-indent=&quot;0&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;Chrome 92æœ€å¤§çš„äº®ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿè¯´å®è¯ï¼Œ&lt;span&gt;Chrome92å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¤§çš„äº®ç‚¹&lt;/span&gt;ï¼Œä¸è¿‡Array.prototype.at()è¿˜æ˜¯æŒºå®ç”¨çš„&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Chrome 92æ˜¯å“ªå¤©å‘å¸ƒçš„ï¼Ÿ2021-07-20&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Chrome 92æ›´æ–°äº†å¤šå°‘ä¸ªç‰¹æ€§ï¼Ÿ14ä¸ªï¼Œå…·ä½“æœ‰å“ªäº›ç‰¹æ€§å¯ä»¥æŸ¥çœ‹Chrome Platform Status&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Chrome 92å°†ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„V8å¼•æ“ï¼Ÿ9.2&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æˆ‘æ„Ÿå…´è¶£çš„æ–°ç‰¹æ€§ä¾æ¬¡æœ‰å“ªäº›ï¼Ÿ&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-lake-id=&quot;a307463c5681d2c5807a63eedde86843&quot;&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h1 data-lake-id=&quot;a307463c5681d2c5807a63eedde86843&quot;&gt;è¯¦ç»†è§£è¯»&lt;/h1&gt;&lt;h3 data-lake-id=&quot;da2607b47c7f128fa56b5519712d9475&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h3 data-lake-id=&quot;da2607b47c7f128fa56b5519712d9475&quot;&gt;Array.prototype.at()&lt;/h3&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æƒ³å¿…å¤§å®¶éƒ½å†™è¿‡è¿™æ ·çš„ä»£ç ï¼Œä½¿ç”¨æ•°ç»„é•¿åº¦å‡1æ¥è·å–è¿‡æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt; A = [&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;4&lt;/span&gt;]; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;console&lt;/span&gt;.log(A[A.length - &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;]);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/pre&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä½œä¸ºä¸€ä¸ªæœ‰ä»£ç æ´ç™–çš„äººï¼Œè¿™æ ·çš„å†™æ³•å†—é•¿è€Œå¥‡æ€ªã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ç°åœ¨å¥½äº†ï¼ŒChrome 92æ”¯æŒArray.prototype.at()äº†ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt; A = [&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;4&lt;/span&gt;]; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;console&lt;/span&gt;.log(A.at(&lt;span class=&quot;code-snippet__number&quot;&gt;-1&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/pre&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä»£ç å°‘äº†5ä¸ªå­—ç¬¦ï¼Œå¯è¯»æ€§ä¹Ÿæé«˜äº†å¾ˆå¤šï¼Œä¸€ä¸¾ä¸¤å¾—!&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å¦å¤–ï¼Œé™¤äº†Arrayï¼ŒStringä¸TypedArrayä¹Ÿæ”¯æŒäº†atæ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;atæ–¹æ³•å¯¹åº”çš„ECMAScriptææ¡ˆ&lt;span&gt;proposal-relative-indexing-methodå·²ç»å¤„äºstage 3&lt;/span&gt;ï¼Œç›®æµ‹æœ€å¿«æ˜å¹´å°†ä¼šçº³å…¥ECMAScriptè§„èŒƒã€‚&lt;/p&gt;&lt;h3 data-lake-id=&quot;3d00855a8c2a513153da594cee6bb54b&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h3 data-lake-id=&quot;3d00855a8c2a513153da594cee6bb54b&quot;&gt;crypto.randomUUID()&lt;/h3&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ç”Ÿæˆå”¯ä¸€IDï¼Œä¾‹å¦‚ç»™æ¯ä¸ªç”¨æˆ·ç”Ÿæˆå”¯ä¸€IDã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;npmåŒ…uuidçš„å‘¨ä¸‹è½½é‡é«˜è¾¾4000ä¸‡+ï¼Œæˆ‘åœ¨è‡ªå·±çš„ä»£ç é‡Œä¹Ÿæœåˆ°äº†uuidæ¨¡å—ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;span data-card-type=&quot;inline&quot; data-lake-card=&quot;image&quot; data-card-value=&quot;data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fjpeg%2F928098%2F1626511048566-ef600748-9b21-4dfe-a9bc-62ce08d5656d.jpeg%22%2C%22originWidth%22%3A616%2C%22originHeight%22%3A302%2C%22name%22%3A%22uuid.jpeg%22%2C%22size%22%3A32197%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A23.600388%2C%22y%22%3A26.034937%2C%22width%22%3A89.497292%2C%22height%22%3A19.291891%2C%22text%22%3A%22SEARCH%22%7D%2C%7B%22x%22%3A573.852%2C%22y%22%3A93.99997%2C%22width%22%3A17.957750000000033%2C%22height%22%3A17.957750000000033%2C%22text%22%3A%22*%22%7D%2C%7B%22x%22%3A477.27963%2C%22y%22%3A96.268555%2C%22width%22%3A29.191899999999976%2C%22height%22%3A20.685035%2C%22text%22%3A%22Aa%22%7D%2C%7B%22x%22%3A519.5305%2C%22y%22%3A96.96076%2C%22width%22%3A31.716600000000085%2C%22height%22%3A24.78455000000001%2C%22text%22%3A%22Abl%22%7D%2C%7B%22x%22%3A35.097496%2C%22y%22%3A101.07541%2C%22width%22%3A50.082863999999994%2C%22height%22%3A18.37362999999999%2C%22text%22%3A%22uuid%22%7D%2C%7B%22x%22%3A28.598978%2C%22y%22%3A167.71324%2C%22width%22%3A435.798882%2C%22height%22%3A24.737089999999995%2C%22text%22%3A%2215resultsin15files-Openineditor%22%7D%2C%7B%22x%22%3A85.401146%2C%22y%22%3A223.99823%2C%22width%22%3A163.973474%2C%22height%22%3A30.528879999999987%2C%22text%22%3A%22package.json%22%7D%2C%7B%22x%22%3A44.734283%2C%22y%22%3A229.47353%2C%22width%22%3A29.592957000000006%2C%22height%22%3A11.546019999999999%2C%22text%22%3A%22npm%22%7D%2C%7B%22x%22%3A71.00187%2C%22y%22%3A269.1899%2C%22width%22%3A174.92923%2C%22height%22%3A23.32556999999997%2C%22text%22%3A%22uuid%5C%22%3A%5C%227.0.3%5C%22%22%7D%5D%2C%22style%22%3A%22none%22%2C%22search%22%3A%22SEARCH%20*%20Aa%20Abl%20uuid%2015resultsin15files-Openineditor%20package.json%20npm%20uuid%5C%22%3A%5C%227.0.3%5C%22%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22width%22%3A308%2C%22height%22%3A151%2C%22id%22%3A%22yiIrd%22%7D&quot;&gt;&lt;img data-height=&quot;151px&quot; data-ratio=&quot;0.4902597402597403&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/UnKibSlmUib8h6VL1oK56FSAYR5QY0f3dDVkuZIib2I3Juichaeajo39ia5Qa5WbPrHAsglUbUGwjgHe4UfqtjZvyEg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;616&quot; title=&quot;uuid.jpeg&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;Chrome 92æ–°å¢äº†crypto.randomUUID()æ–¹æ³•ï¼Œç”¨äºç”Ÿæˆç¬¦åˆRFC 4122 version 4è§„èŒƒçš„å”¯ä¸€IDã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å¯æƒœçš„æ˜¯ï¼Œç”±äºFirefoxã€Safariç­‰å…¶ä»–æµè§ˆå™¨æ²¡æœ‰æ”¯æŒï¼Œå› æ­¤å‰ç«¯é¡¹ç›®ä¸­å°†ä¾ç„¶éœ€è¦ä½¿ç”¨uuidæ¨¡å—ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä¸è¿‡ï¼ŒNode.js 14.17.0å·²ç»æ”¯æŒäº†crypto.randomUUID()æ–¹æ³•ï¼Œè€Œç”Ÿæˆå”¯ä¸€IDé€šå¸¸æ˜¯åœ¨åç«¯è¿›è¡Œï¼Œå› æ­¤ç›®æµ‹uuidæ¨¡å—çš„ä½¿ç”¨é‡å°†ä¼šæœ‰æ‰€é™ä½ã€‚ä½¿ç”¨å®˜æ–¹æä¾›çš„APIæ›´åŠ å®‰å…¨ï¼Œä¸”æ€§èƒ½æ›´å¥½ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;è¦ä¿è¯éšæœºç”Ÿæˆçš„UUIDçš„å”¯ä¸€æ€§å’Œå®‰å…¨æ€§ï¼Œæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥ç®€å•ï¼Œä½†å®é™…éå¸¸å¤æ‚çš„é—®é¢˜ã€‚å›¾çµå¥–å¾—ä¸»Donald Knuthåœ¨ä»–çš„é¸¿ç¯‡å·¨åˆ¶ã€ŠThe Art of Computer Programmingã€‹ä¸­èŠ±äº†ä¸€ä¸ªç« èŠ‚æ¥è®¨è®ºéšæœºæ•°ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;It is not easy to invent a foolproof source of random numbers.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„Math.random()å…¶å®åä¸å‰¯å®ï¼Œå¹¶ä¸éšæœºï¼Œå®ƒæ˜¯ä¸€ä¸ªä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆPseudo Random Number Generatorï¼Œç®€ç§°PRNGï¼‰ï¼Œå½“æˆ‘ä»¬æŒ‡å®šåŒä¸€ä¸ªrandom_seedå¯åŠ¨æ—¶ï¼Œå®ƒç”Ÿæˆçš„éšæœºæ•°åºåˆ—æ˜¯ä¸€æ ·çš„ï¼&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;node --random_seed=&lt;span class=&quot;code-snippet__number&quot;&gt;42&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Welcome to Node.js v14&lt;span class=&quot;code-snippet__number&quot;&gt;.17&lt;/span&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;.3&lt;/span&gt;.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Type &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;.help&quot;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; more information.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Math&lt;/span&gt;.random()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;0.5254990606499601&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Math&lt;/span&gt;.random()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;0.963056226312738&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;node --random_seed=&lt;span class=&quot;code-snippet__number&quot;&gt;42&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Welcome to Node.js v14&lt;span class=&quot;code-snippet__number&quot;&gt;.17&lt;/span&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;.3&lt;/span&gt;.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Type &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;.help&quot;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; more information.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Math&lt;/span&gt;.random()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;0.5254990606499601&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&amp;gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;Math&lt;/span&gt;.random()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;0.963056226312738&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre&gt;&lt;span&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦é»‘å®¢è·å–äº†random_seedï¼Œå°±èƒ½é¢„æµ‹Math.random()æ‰€è¿”å›çš„&quot;éšæœºåºåˆ—&quot;ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹å¯æ€•ï¼Ÿ&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å½“ç„¶ï¼Œè·å–random_seedå¹¶ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼Œä¸è¿‡å¹¶éæ²¡æœ‰å¯èƒ½ï¼Œå› ä¸ºrandom_seedä¸æ˜¯éšæœºçš„ï¼Œè€Œæ˜¯ä¾èµ–äºä¸€äº›å†…éƒ¨çŠ¶æ€ï¼Œæ¯”å¦‚æµè§ˆå™¨çš„å¯åŠ¨æ—¶é—´ã€æŸä¸ªå˜é‡çš„è™šæ‹Ÿå†…å­˜åœ°å€ï¼Œè¿™äº›å†…éƒ¨çŠ¶æ€æ˜¯æœ‰è§„å¾‹å¯å¾ªçš„ã€‚2014å¹´ï¼ŒAndriodç‰ˆçš„Firefoxå°±æ›¾è¢«äººç ´è§£è¿‡Math.random()ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;span&gt;å› æ­¤ï¼Œåœ¨å¯¹å®‰å…¨æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„åœºæ™¯ä¸­ï¼Œä¸è¦ä½¿ç”¨Math.random()ã€‚&lt;/span&gt;CVEä¸­æœ‰å¤šä¸ªå®‰å…¨æ¼æ´æ˜¯ä¸Math.random()ç›¸å…³ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä¸ºäº†æ»¡è¶³å¤§å®¶å¯¹äºæ›´åŠ å®‰å…¨çš„åŠ å¯†APIçš„éœ€æ±‚ï¼Œç¤¾åŒºæä¾›äº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œå…¶ä¸­æœ€å‡ºåçš„ä¸ºCryptoJSã€‚ä½†æ˜¯ï¼Œå¯¹äºåŠ å¯†è¿™ç§CPUå¯†é›†å‹åº”ç”¨ï¼Œçº¯JavaScriptçš„æ–¹æ¡ˆå­˜åœ¨æ¯”è¾ƒä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œä¸”ä¸å¤Ÿå®‰å…¨ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å› æ­¤ï¼Œ2017å¹´ï¼ŒW3Cå‘å¸ƒäº†Web Cryptography APIï¼Œæä¾›æ›´åŠ å®‰å…¨ã€æ€§èƒ½æ›´å¥½çš„åŠ å¯†APIã€‚å…¶ä¸­ï¼Œcrypto.getRandomValues()å¯ä»¥ç”¨äºç”Ÿæˆæ›´åŠ å®‰å…¨çš„éšæœºæ•°ï¼Œå®ƒæ˜¯å¯†ç å­¦å®‰å…¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆCryptographically Secure Pseudo Random Number Generatorï¼Œç®€ç§°CSPRNGï¼‰ã€‚å…¶å®ï¼ŒCSPRNGä¹Ÿä¸èƒ½ç”ŸæˆçœŸæ­£çš„éšæœºæ•°ï¼Œåªæ˜¯å®ƒå¯ä»¥é€šè¿‡ä¸€äº›ä¸¥æ ¼çš„å¯†ç å­¦æµ‹è¯•ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;51f50693f66baf1ce01a6330f88e7839&quot;&gt;crypto.randomUUID()æ˜¯åŸºäºCSPRNGçš„ï¼Œå› æ­¤ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;346b270359ecdd244fdaa1f36858afd3&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;a4156fd03a3b349d8aa16ede9ded4d06&quot;&gt;crypto.randomUUID()è™½ç„¶æ”¾åœ¨cyptoå¯¹è±¡ä¸­ï¼Œä½†æ˜¯å®ƒè¿˜å¹¶æœªè¢«çº³å…¥Web Cryptography APIï¼Œå› æ­¤è¿˜ä¸æ˜¯W3Cæ ‡å‡†ã€‚&lt;/p&gt;&lt;h3 data-lake-id=&quot;c52720c8c1e0172fb7ca680a89b969c5&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h3 data-lake-id=&quot;c52720c8c1e0172fb7ca680a89b969c5&quot;&gt;Canvas color management&lt;/h3&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ç›®å‰ï¼Œ2D canvasä»…æ”¯æŒé™ˆæ—§çš„sRGBè‰²åŸŸï¼Œä½†æ˜¯ç°åœ¨çš„å±å¹•å’Œç›¸æœºæ—©å°±æ”¯æŒæ›´å¤§çš„è‰²åŸŸäº†ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;21da956303b1d9a8d156c67dc2bf6ea5&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;4a0c96cf3239c96adb1866c928625585&quot;&gt;è‰²åŸŸæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒçš„è‹±æ–‡åæ˜¯Color Gamutæˆ–è€…Color Spaceï¼Œæ˜¯è®¾å¤‡ï¼ˆæ˜¾ç¤ºå™¨ã€æŠ•å½±ä»ªã€æ‰“å°æœºï¼‰å¯ä»¥è¡¨è¾¾çš„é¢œè‰²èŒƒå›´ã€‚äººçœ¼å¯è§çš„é¢œè‰²èŒƒå›´æ˜¯æœ‰é™çš„ï¼Œè€Œè®¾å¤‡èƒ½è¡¨è¾¾çš„é¢œè‰²èŒƒå›´æ˜¯äººçœ¼å¯è§çš„é¢œè‰²èŒƒå›´çš„å­é›†ï¼Œè€Œä¸åŒè‰²åŸŸæ ‡å‡†æ¯”å¦‚sRGBå’ŒDisplay P3èƒ½è¡¨è¾¾çš„é¢œè‰²èŒƒå›´ä¹Ÿä¸ä¸€æ ·ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;Chrome 92æ”¯æŒåœ¨åˆ›å»º2D canvasæ—¶ï¼Œä½¿ç”¨Display P3è‰²åŸŸï¼Œè¿™å°†å¢å¼º2D canvasçš„é¢œè‰²è¿˜åŸèƒ½åŠ›ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;canvas.getContext(&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;2d&#x27;&lt;/span&gt;, { &lt;span class=&quot;code-snippet__attr&quot;&gt;colorSpace&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;display-p3&quot;&lt;/span&gt;} );&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/pre&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;Display P3çš„è‰²åŸŸæ¯”sRGBçš„è‰²åŸŸå¤§25%ï¼Œå½“æˆ‘ä»¬å¯¹æ¯”ä¸¤è€…æ—¶ï¼Œä¼šå‘ç°Display P3è¦æ¯”sRGBæ˜äº®å¾ˆå¤šï¼ŒåŒºåˆ«éå¸¸æ˜æ˜¾ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;span data-card-type=&quot;inline&quot; data-lake-card=&quot;image&quot; data-card-value=&quot;data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fjpeg%2F928098%2F1626597197633-2387609e-2caf-4c26-84c2-f66df9bba5dc.jpeg%22%2C%22originWidth%22%3A1920%2C%22originHeight%22%3A1080%2C%22name%22%3A%22sRGB_vs_Display%20P3jpg.jpg%22%2C%22size%22%3A317566%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1269.397%2C%22y%22%3A960.95935%2C%22width%22%3A340.9797000000001%2C%22height%22%3A70.90105000000005%2C%22text%22%3A%22DisplayP3%22%7D%2C%7B%22x%22%3A389.8314%2C%22y%22%3A971.4579%2C%22width%22%3A174.87640000000005%2C%22height%22%3A53.52499999999998%2C%22text%22%3A%22SRGB%22%7D%5D%2C%22style%22%3A%22none%22%2C%22search%22%3A%22DisplayP3%20SRGB%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22width%22%3A480%2C%22height%22%3A270%2C%22id%22%3A%22rmkeH%22%7D&quot;&gt;&lt;img data-height=&quot;270px&quot; data-ratio=&quot;0.5626666666666666&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/UnKibSlmUib8h6VL1oK56FSAYR5QY0f3dDhCOGwuyTXAxbwxich3BJFnlhWLc7mVIVncavFu4IicqySzLzFssCHibbA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1500&quot; title=&quot;sRGB_vs_Display P3jpg.jpg&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å›¾ç‰‡æ¥æºï¼šGet Started with Display P3&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;span&gt;å¯¹äºå›¾åƒã€è§†é¢‘ã€è®¾è®¡ã€æ¸¸æˆã€åœ°å›¾ã€å¤–å–ã€ç”µå•†ç­‰åº”ç”¨ï¼Œå‡†ç¡®è¿˜åŸé¢œè‰²çš„é‡è¦æ€§ä¸è¨€è€Œå–»&lt;/span&gt;ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¹°å®¶ç§€å’Œå–å®¶ç§€çš„æ˜æ˜¾å·®å¼‚æ˜¯ç”±äºå–å®¶è¿‡åº¦PSå¯¼è‡´çš„ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¯èƒ½æ˜¯é¢œè‰²æ²¡æœ‰å¾—åˆ°å‡†ç¡®è¿˜åŸå¯¼è‡´çš„ã€‚&lt;/p&gt;&lt;h3 data-lake-id=&quot;1eab0fba397f46ead93f4c3e8c9751c0&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h3 data-lake-id=&quot;1eab0fba397f46ead93f4c3e8c9751c0&quot;&gt;Web Bluetooth manufacturer data filter&lt;/h3&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æ—©åœ¨6å¹´å‰ï¼ŒChromeå°±å¼€å§‹å¼€å‘Web Bluetoothäº†ï¼Œä¸è¿‡ç›´åˆ°ä»Šå¤©ï¼ŒWeb Bluetoothä¹Ÿæ²¡æœ‰æˆä¸ºW3Cæ ‡å‡†ï¼ŒSafariå’ŒFirefoxä¹Ÿæ²¡æœ‰æ”¯æŒWeb Bluetoothï¼Œè¿™å°±æœ‰ç‚¹å°´å°¬äº†ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;e0b33ae1135656caa4d7bbc7ec4897a5&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;510d8be2365cf3b900b008f291b30360&quot;&gt;&lt;span&gt;Chromeä»¥ä¸€å·±ä¹‹åŠ›æ¨åŠ¨äº†ä¼—å¤šWebæŠ€æœ¯æ ‡å‡†çš„è¿›æ­¥ï¼Œä½†æ˜¯ä»Web Bluetoothä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå…¶è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒè‰°è¾›çš„ï¼Œéœ€è¦æ—¶é—´å’Œè€å¿ƒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä¸è¿‡ï¼Œä¸ºäº†è®©Webå¯ä»¥è·å¾—åŸç”Ÿåº”ç”¨ä¸€æ ·çš„èƒ½åŠ›ï¼ŒChromeä¹Ÿä¸ä¼šæ”¾å¼ƒWeb Bluetoothã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;ä½¿ç”¨Web Bluetoothï¼ŒWebåº”ç”¨ä¹Ÿå¯ä»¥è¿æ¥å¹¶æ§åˆ¶å„ç§è“ç‰™è®¾å¤‡ï¼Œæ¯”å¦‚å½©ç¯ã€ç©å…·è½¦ã€LEDã€æ— äººæœºï¼Œè¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p/&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;è§†é¢‘æ¥æºï¼šWebBluetooth demos for Bluetooth.rocks&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;Chrome 92ä¸ºWeb Bluetoothæ–°å¢äº†æŒ‰ç…§è“ç‰™è®¾å¤‡çš„åˆ¶é€ å•†æ¥è¿‡æ»¤è“ç‰™è®¾å¤‡çš„èƒ½åŠ›ã€‚è¿™æ ·ï¼Œå¯¹äºä¸€äº›é’ˆå¯¹ç‰¹å®šäº§å•†çš„Webåº”ç”¨ï¼Œå°±å¯ä»¥åªç»™ç”¨æˆ·å±•ç¤ºå¯¹åº”äº§å•†çš„è“ç‰™è®¾å¤‡ã€‚&lt;/p&gt;&lt;h1 data-lake-id=&quot;e0ff11f66e8207127bf9c4be254c79c2&quot;&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h1 data-lake-id=&quot;e0ff11f66e8207127bf9c4be254c79c2&quot;&gt;æ€»ç»“&lt;/h1&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æœ¬ç¯‡æ˜¯ã€Šäº†ä¸èµ·çš„Chromeæµè§ˆå™¨ã€‹çš„ç¬¬4ç¯‡ï¼ŒåšæŒæ›´æ–°è¿™ä¸ªç³»åˆ—çš„åšå®¢è¿˜æ˜¯æŒºéš¾çš„ï¼Œä¸€æ–¹é¢å·¥ä½œå¤ªå¿™äº†ï¼Œå¦ä¸€æ–¹é¢Chrome 92å¯ä»¥å†™çš„å†…å®¹ç¡®å®ä¸å¤šï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œéœ€è¦å¾ˆå¤šæ—¶é—´æŒ–æ˜ã€‚ä½†æ˜¯ï¼Œä¸ç®¡æ€æ ·ï¼Œæˆ‘è¿˜æ˜¯ä¼šåšæŒå†™ä¸‹å»ï¼Œå› ä¸ºæ¯æ¬¡éƒ½èƒ½å­¦åˆ°ä¸€äº›æ–°çš„ä¸œè¥¿ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å†™åšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¼šé˜…è¯»å¤§é‡çš„å‚è€ƒèµ„æ–™ï¼Œå¹¶ä¸”è®°å½•é˜…è¯»ç¬”è®°ï¼Œæ‰€ä»¥æˆ‘é˜…è¯»çš„æ—¶é—´æ˜¯è¿œè¿œå¤§äºå†™ä½œçš„æ—¶é—´çš„ã€‚å¦‚æœä¸æ˜¯ä¸ºäº†å†™ä½œï¼Œæˆ‘å¹¶ä¸ä¼šå¯¹æŸä¸€ä¸ªçŸ¥è¯†ç‚¹è¿›è¡Œæ·±ç©¶ï¼Œ&lt;span&gt;è¿™ä¹Ÿæ˜¯å†™ä½œæœ€å¤§çš„å¥½å¤„ï¼Œé€šè¿‡è¾“å…¥å€’é€¼è¾“å‡ºï¼Œå€’é€¼è‡ªå·±è¿›è¡Œæ·±åº¦å­¦ä¹ &lt;/span&gt;ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å¯¹äºæ¯”è¾ƒæƒå¨ï¼Œå†…å®¹å¾ˆæœ‰å¯å‘çš„å‚è€ƒèµ„æ–™ï¼Œæˆ‘éƒ½ä¼šåˆ—åˆ°æ–‡ç« åé¢ã€‚è¿™æ ·æ—¢æ˜¯å¯¹ä½œè€…ç‰ˆæƒçš„å°Šé‡ï¼Œä¹Ÿæ˜¯æ–¹ä¾¿è‡ªå·±å’Œè¯»è€…å»é˜…è¯»ç›¸å…³èµ„æ–™ã€‚æŸä¸ªçŸ¥è¯†ç‚¹çœŸæ­£ä¼˜è´¨çš„å†…å®¹æ˜¯éå¸¸ç¨€ç¼ºçš„ï¼Œè¦æ‰¾åˆ°è¿™äº›èµ„æ–™æ˜¯éœ€è¦ä¸€äº›GoogleæŠ€å·§çš„ï¼šå‡†ç¡®å˜æ¢ä¸åŒçš„æœç´¢å…³é”®è¯ï¼Œä¸æ–­é€’å½’åœ°æŒ–æ˜æœ€åŸå§‹ã€æœ€æƒå¨çš„ç¬¬ä¸€æ‰‹èµ„æ–™ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;å¦å¤–ï¼Œæˆ‘å†™åšå®¢éƒ½ä¸æ˜¯å‡ ä¸ªå°æ—¶æˆ–è€…å‡ å¤©æ—¶é—´å†™å®Œçš„ï¼Œé•¿ç¯‡çš„åšå®¢å†™ä½œæ—¶é—´é•¿è¾¾ä¸€ä¸ªæœˆï¼Œæ‰€ä»¥æ”¹åŠ¨ä¼šå¾ˆé¢‘ç¹ï¼Œæ•´ä¸ªå†™ä½œè¿‡ç¨‹è¯­é›€éƒ½ä¼šæœ‰ä¿®æ”¹è®°å½•ã€‚è¿™æ ·å†™çœ‹èµ·æ¥å¾ˆç´¯ï¼Œä½†æ˜¯å…¶å®æ˜¯æŠŠä¸€ä¸ªå¤§çš„ä»»åŠ¡æ‹†åˆ†æˆäº†ä¸€ä¸ªä¸ªå°ä»»åŠ¡ï¼Œåè€Œè½»æ¾å¾ˆå¤šã€‚å¦å¤–ï¼Œæ¯ä¸€æ¬¡å†™éƒ½ä¼šæœ‰ä¸€äº›æ–°çš„å‘ç°ã€æ–°çš„çµæ„Ÿï¼Œè¿™å¯¹äºå†™ä½œä¹Ÿæ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æ¬¢è¿å…³æ³¨å¯’é›Talkå…¬ä¼—å·ï¼Œå…³æ³¨ã€Šäº†ä¸èµ·çš„Chromeæµè§ˆå™¨ã€‹ç³»åˆ—åšå®¢ï¼Œä¸æˆ‘ä¸€èµ·è§è¯å¤§å‰ç«¯çš„æ˜Ÿè¾°å¤§æµ·ï¼&lt;/p&gt;&lt;h1 data-lake-id=&quot;66e83f284b44207f4edb9c154b825666&quot;&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h1 data-lake-id=&quot;66e83f284b44207f4edb9c154b825666&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h1&gt;&lt;p data-lake-id=&quot;4b8cf913d96df71dd5bbba164fdbd7ff&quot;&gt;&lt;/p&gt;&lt;ul data-lake-id=&quot;a49861708177b3fa3e4972a9e227ecbf&quot; start=&quot;1&quot; lake-indent=&quot;0&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI4NjI2OTI0Nw==&amp;amp;mid=2247483736&amp;amp;idx=1&amp;amp;sn=48b87e3902fe8f6752aae18b9fe2a18d&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;äº†ä¸èµ·çš„Chromeæµè§ˆå™¨ï¼ˆ1ï¼‰ï¼šChrome 89å¼€å¯Webåº”ç”¨çš„ç‰©è”ç½‘æ—¶ä»£&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI4NjI2OTI0Nw==&amp;amp;mid=2247483765&amp;amp;idx=1&amp;amp;sn=cebe653e89518574a785c32b6aad88aa&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;äº†ä¸èµ·çš„Chromeæµè§ˆå™¨ï¼ˆ2ï¼‰ï¼šChrome 90å°†é»˜è®¤ä½¿ç”¨HTTPSï¼ŒWebæ›´å®‰å…¨äº†&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI4NjI2OTI0Nw==&amp;amp;mid=2247483785&amp;amp;idx=1&amp;amp;sn=e66890ec12bc3f9ffa88e8712283abbc&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;äº†ä¸èµ·çš„Chromeæµè§ˆå™¨ï¼ˆ3ï¼‰ï¼šChrome 91æ”¯æŒWebAssembly SIMDï¼ŒåŠ &lt;/a&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI4NjI2OTI0Nw==&amp;amp;mid=2247483785&amp;amp;idx=1&amp;amp;sn=e66890ec12bc3f9ffa88e8712283abbc&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;Webåœ¨AIç­‰é¢†åŸŸçš„åº”ç”¨&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Chrome 92: Web Apps as File Handlers, New JavaScript Features, and More&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;V8 release v9.2&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;at method for relative indexing&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;crypto.randomUUID is three times faster uuid.v4&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Overtaking Firefox Profiles: Vulnerabilities in Firefox for Android&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TIFU by using Math.random()&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;A Brief History of Random Numbers&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;[V8 Deep Dives] Random Thoughts on Math.random()&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ã€ŠArt of Computer Programming, Volume 2: Seminumerical Algorithms, 3rd Editionã€‹Chapter 3: Random Numbers&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Securing JavaScript applications with the Web Cryptography API&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Update on Web Cryptography&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Get Started with Display P3&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Improving Color on the Web&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Pixar in a Box: Color science&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;An Introduction To WebBluetooth&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;WebBluetooth demos for Bluetooth.rocks&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-lake-id=&quot;876710649adfccbc2696bad88f733ccb&quot;&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h1 data-lake-id=&quot;876710649adfccbc2696bad88f733ccb&quot;&gt;æ‹›è˜&lt;/h1&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;é˜¿é‡Œå·´å·´ä¸šåŠ¡å¹³å°äº‹ä¸šéƒ¨é•¿æœŸæ‹›è˜P6åŠä»¥ä¸Šå‰ç«¯å¤§ä½¬ï¼Œå‚ä¸å»ºè®¾æœ€å‰æ²¿çš„é˜¿é‡Œå‰ç«¯ç”Ÿæ€ç³»ç»Ÿï¼Œæ¨åŠ¨è¡Œä¸šæŠ€æœ¯å‘å±•ï¼Œå†…æ¨åœ°å€ï¼šhanyan.lk@alibaba-inc.com&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·å¯’é›Talkã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;da7032b39bddef89519c381ca7ae23b8&quot;&gt;&lt;span data-card-type=&quot;inline&quot; data-lake-card=&quot;image&quot; data-card-value=&quot;data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2021%2Fwebp%2F928098%2F1619341927214-9586185e-dfc0-4bf1-a2b8-222f7059c1bd.webp%22%2C%22originWidth%22%3A1080%2C%22originHeight%22%3A394%2C%22display%22%3A%22inline%22%2C%22align%22%3A%22left%22%2C%22linkTarget%22%3A%22_blank%22%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22width%22%3A540%2C%22height%22%3A197%2C%22id%22%3A%22pfcLA%22%7D&quot;&gt;&lt;img data-height=&quot;197px&quot; data-ratio=&quot;0.3648148148148148&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/UnKibSlmUib8h6VL1oK56FSAYR5QY0f3dDzLPm5ibCBjlHgrQYNjjL7OQ02gicezTDy8SUt9MibmxLhWQ2VI2TZKz3A/640?wx_fmt=other&quot; data-type=&quot;other&quot; data-w=&quot;1080&quot; title=&quot;image&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ea1f9a1bf5e2c124ecd19d17b8d5dc39</guid>
<title>å‰ç«¯å•å…ƒæµ‹è¯•æŠ€æœ¯æ–¹æ¡ˆæ€»ç»“</title>
<link>https://toutiao.io/k/7iqle6u</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.00703125&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/KV8By3euEQhZYTauMbrpamMgft7MXkV3icjnWU3XfYR2IN32GOkuaEa93kR5muQNzujot0JBJKjp49QnU7Oiaelw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœ¬æ–‡ä½œè€…: &lt;span&gt;æ±Ÿæ°´&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»å‰ç«¯&lt;strong&gt;å•å…ƒæµ‹è¯•&lt;/strong&gt;çš„ä¸€äº›æŠ€æœ¯æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•å…ƒæµ‹è¯•çš„æŠ€æœ¯æ–¹æ¡ˆå¾ˆå¤šï¼Œä¸åŒå·¥å…·ä¹‹é—´æœ‰äº’ç›¸ååŒï¼Œä¹Ÿå­˜åœ¨åŠŸèƒ½é‡åˆï¼Œç»™æˆ‘ä»¬æ­é…æµ‹è¯•æ–¹æ¡ˆå¸¦æ¥ä¸å°çš„å›°éš¾ï¼Œè€Œä¸”éšç€ &lt;code&gt;ES6&lt;/code&gt;, &lt;code&gt;TypeScript&lt;/code&gt; çš„å‡ºç°ï¼Œå•å…ƒæµ‹è¯•åˆå¢åŠ äº†å¾ˆå¤šå…¶ä»–æ­¥éª¤ï¼Œå®Œæ•´é…ç½®èµ·æ¥å¾€å¾€éœ€è¦å¾ˆå¤§çš„æ—¶é—´æˆæœ¬ã€‚æˆ‘å¸Œæœ›é€šè¿‡å¯¹è¿™äº›å·¥å…·çš„å„è‡ªä½œç”¨çš„æŒæ¡ï¼Œäº†è§£å®Œæ•´çš„å‰ç«¯æµ‹è¯•æŠ€æœ¯æ–¹æ¡ˆã€‚å‰ç«¯å•å…ƒæµ‹è¯•çš„é¢†åŸŸä¹Ÿå¾ˆå¤šï¼Œè¿™é‡Œä¸»è¦è®²å¯¹äºå‰ç«¯ç»„ä»¶å¦‚ä½•è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œæœ€åä¼šä¸»è¦ä»‹ç»ä¸‹å¯¹äº &lt;code&gt;React&lt;/code&gt; ç»„ä»¶çš„ä¸€äº›æµ‹è¯•æ–¹æ³•æ€»ç»“ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é€šç”¨æµ‹è¯•&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•å…ƒæµ‹è¯•æœ€æ ¸å¿ƒçš„éƒ¨åˆ†å°±æ˜¯åšæ–­è¨€ï¼Œæ¯”å¦‚ä¼ ç»Ÿè¯­è¨€ä¸­çš„ &lt;code&gt;assert&lt;/code&gt; å‡½æ•°ï¼Œå¦‚æœå½“å‰ç¨‹åºçš„æŸç§çŠ¶æ€ç¬¦åˆ &lt;code&gt;assert&lt;/code&gt; çš„æœŸæœ›æ­¤ç¨‹åºæ‰èƒ½æ­£å¸¸æ‰§è¡Œï¼Œå¦åˆ™ç›´æ¥é€€å‡ºåº”ç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ &lt;code&gt;Node&lt;/code&gt; ä¸­è‡ªå¸¦çš„ &lt;code&gt;assert&lt;/code&gt; æ¨¡å—åšæ–­è¨€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨æœ€ç®€å•çš„ä¾‹å­åšä¸ªéªŒè¯&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;multiple&lt;/span&gt;(&lt;span&gt;a,Â b&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â resultÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;let&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â b;Â ++i)&lt;br/&gt;Â Â Â Â Â Â Â Â resultÂ +=Â a;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â result;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â assertÂ =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;assert&#x27;&lt;/span&gt;);&lt;br/&gt;assert.equal(multiple(&lt;span&gt;1&lt;/span&gt;,Â &lt;span&gt;2&lt;/span&gt;),Â &lt;span&gt;3&lt;/span&gt;));&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§ä¾‹å­èƒ½å¤Ÿæ»¡è¶³åŸºç¡€åœºæ™¯çš„ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ç§å•å…ƒæµ‹è¯•çš„æ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;nodejs&lt;/code&gt; è‡ªå¸¦çš„ &lt;code&gt;assert&lt;/code&gt; æ¨¡å—æä¾›äº†ä¸‹é¢ä¸€äº›æ–­è¨€æ–¹æ³•ï¼Œåªèƒ½æ»¡è¶³ä¸€äº›ç®€å•åœºæ™¯çš„éœ€è¦ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;assert.deepEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.deepStrictEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.doesNotMatch(string,Â regexp[,Â message])&lt;br/&gt;assert.doesNotReject(asyncFn[,Â error][,Â message])&lt;br/&gt;assert.doesNotThrow(fn[,Â error][,Â message])&lt;br/&gt;assert.equal(actual,Â expected[,Â message])&lt;br/&gt;assert.fail([message])&lt;br/&gt;assert.ifError(value)&lt;br/&gt;assert.match(string,Â regexp[,Â message])&lt;br/&gt;assert.notDeepEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.notDeepStrictEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.notEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.notStrictEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.ok(value[,Â message])&lt;br/&gt;assert.rejects(asyncFn[,Â error][,Â message])&lt;br/&gt;assert.strictEqual(actual,Â expected[,Â message])&lt;br/&gt;assert.throws(fn[,Â error][,Â message])&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡ªå¸¦çš„ &lt;code&gt;assert&lt;/code&gt; ä¸æ˜¯ä¸“é—¨ç»™å•å…ƒæµ‹è¯•ä½¿ç”¨, æä¾›çš„é”™è¯¯ä¿¡æ¯æ–‡æ¡£æ€§ä¸å¥½ï¼Œä¸Šé¢çš„ &lt;code&gt;demo&lt;/code&gt; æœ€ç»ˆæ‰§è¡Œä¸‹æ¥ä¼šäº§ç”Ÿä¸‹é¢çš„æŠ¥å‘Š:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â nodeÂ index.js&lt;br/&gt;assert.js:84&lt;br/&gt;Â Â throwÂ newÂ AssertionError(obj);&lt;br/&gt;Â Â ^&lt;br/&gt;&lt;br/&gt;AssertionErrorÂ [ERR_ASSERTION]:Â 2Â ==Â 3&lt;br/&gt;Â Â Â Â atÂ Object.&amp;lt;anonymous&amp;gt;Â (/home/quanwei/git/index.js:4:8)&lt;br/&gt;Â Â Â Â atÂ Module._compileÂ (internal/modules/cjs/loader.js:778:30)&lt;br/&gt;Â Â Â Â atÂ Object.Module._extensions..jsÂ (internal/modules/cjs/loader.js:789:10)&lt;br/&gt;Â Â Â Â atÂ Module.loadÂ (internal/modules/cjs/loader.js:653:32)&lt;br/&gt;Â Â Â Â atÂ tryModuleLoadÂ (internal/modules/cjs/loader.js:593:12)&lt;br/&gt;Â Â Â Â atÂ Function.Module._loadÂ (internal/modules/cjs/loader.js:585:3)&lt;br/&gt;Â Â Â Â atÂ Function.Module.runMainÂ (internal/modules/cjs/loader.js:831:12)&lt;br/&gt;Â Â Â Â atÂ startupÂ (internal/bootstrap/node.js:283:19)&lt;br/&gt;Â Â Â Â atÂ bootstrapNodeJSCoreÂ (internal/bootstrap/node.js:623:3)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºè‡ªå¸¦çš„æ¨¡å—ä¾èµ– &lt;code&gt;Node&lt;/code&gt; è‡ªèº«çš„ç‰ˆæœ¬ï¼Œæ²¡åŠæ³•è‡ªç”±å‡çº§ï¼Œæ‰€ä»¥ä½¿ç”¨å†…ç½®çš„åŒ…çµæ´»æ€§æœ‰æ—¶å€™ä¸å¤ªå¤Ÿï¼Œå¦å¤–æˆ‘ä»¬å¾ˆå¤šæ–­è¨€å‡½æ•°ä¹Ÿéœ€è¦åœ¨æµè§ˆå™¨ç«¯æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŒæ—¶æ”¯æŒæµè§ˆå™¨å’Œ &lt;code&gt;Node&lt;/code&gt; ç«¯çš„æ–­è¨€åº“ã€‚åŒæ—¶è§‚å¯Ÿä¸Šé¢çš„è¾“å‡ºå¯ä»¥å‘ç°ï¼Œè¿™ä¸ªæŠ¥å‘Šæ›´åƒæ˜¯ç¨‹åºçš„é”™è¯¯æŠ¥å‘Šï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå•å…ƒæµ‹è¯•æŠ¥å‘Šã€‚è€Œæˆ‘ä»¬åœ¨åšå•å…ƒæµ‹æ—¶å¾€å¾€éœ€è¦æ–­è¨€åº“èƒ½å¤Ÿæä¾›è‰¯å¥½çš„æµ‹è¯•æŠ¥å‘Šï¼Œè¿™æ ·æ‰èƒ½ä¸€ç›®äº†ç„¶åœ°çœ‹åˆ°æœ‰å“ªäº›æ–­è¨€é€šè¿‡æ²¡é€šè¿‡ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸“ä¸šçš„å•å…ƒæµ‹è¯•æ–­è¨€åº“è¿˜æ˜¯å¾ˆæœ‰å¿…è¦ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;chai&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4000744324525493&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV33b7975QDrWQCSnPO5oglyBGEoczzDpYJ9vyfibQTicqOnWCodIwrJF8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2687&quot;/&gt;&lt;figcaption&gt;chai&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;chai&lt;/code&gt; æ˜¯ç›®å‰å¾ˆæµè¡Œçš„æ–­è¨€åº“ï¼Œç›¸æ¯”äºåŒç±»äº§å“æ¯”è¾ƒçªå‡ºã€‚&lt;code&gt;chai&lt;/code&gt; æä¾›äº† &lt;span&gt;TDD&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt; (Test-driven developmentï¼‰å’Œ &lt;span&gt;BDD&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt; (Behavior-driven development) ä¸¤ç§é£æ ¼çš„æ–­è¨€å‡½æ•°ï¼Œè¿™é‡Œä¸ä¼šè¿‡å¤šä»‹ç»ä¸¤ç§é£æ ¼çš„ä¼˜ç¼ºï¼Œæœ¬æ–‡ä¸»è¦ä»¥ &lt;code&gt;BDD&lt;/code&gt; é£æ ¼åšæ¼”ç¤ºã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;TDD é£æ ¼çš„ chai&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt;Â assertÂ =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;chai&#x27;&lt;/span&gt;).assert&lt;br/&gt;Â Â ,Â fooÂ =Â &lt;span&gt;&#x27;bar&#x27;&lt;/span&gt;&lt;br/&gt;Â Â ,Â beveragesÂ =Â {Â &lt;span&gt;tea&lt;/span&gt;:Â [Â &lt;span&gt;&#x27;chai&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;matcha&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;oolong&#x27;&lt;/span&gt;Â ]Â };&lt;br/&gt;&lt;br/&gt;assert.typeOf(foo,Â &lt;span&gt;&#x27;string&#x27;&lt;/span&gt;);Â &lt;span&gt;//Â withoutÂ optionalÂ message&lt;/span&gt;&lt;br/&gt;assert.typeOf(foo,Â &lt;span&gt;&#x27;number&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;fooÂ isÂ aÂ number&#x27;&lt;/span&gt;);Â &lt;span&gt;//Â withÂ optionalÂ message&lt;/span&gt;&lt;br/&gt;assert.equal(foo,Â &lt;span&gt;&#x27;bar&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;fooÂ equalÂ `bar`&#x27;&lt;/span&gt;);&lt;br/&gt;assert.lengthOf(foo,Â &lt;span&gt;3&lt;/span&gt;,Â &lt;span&gt;&#x27;foo`sÂ valueÂ hasÂ aÂ lengthÂ ofÂ 3&#x27;&lt;/span&gt;);&lt;br/&gt;assert.lengthOf(beverages.tea,Â &lt;span&gt;3&lt;/span&gt;,Â &lt;span&gt;&#x27;beveragesÂ hasÂ 3Â typesÂ ofÂ tea&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;chai&lt;/code&gt; æ¯” &lt;code&gt;Node&lt;/code&gt; è‡ªå¸¦çš„ &lt;code&gt;assert&lt;/code&gt; å¢åŠ äº†ä¸€ä¸ªæ–­è¨€è¯´æ˜å‚æ•°ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°æé«˜æµ‹è¯•æŠ¥å‘Šçš„å¯è¯»æ€§&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â nodeÂ chai-assert.js&lt;br/&gt;&lt;br/&gt;/home/quanwei/git/learn-tdd-bdd/node_modules/chai/lib/chai/assertion.js:141&lt;br/&gt;Â Â Â Â Â Â throwÂ newÂ AssertionError(msg,Â {&lt;br/&gt;Â Â Â Â Â Â ^&lt;br/&gt;AssertionError:Â fooÂ isÂ aÂ number:Â expectedÂ &lt;span&gt;&#x27;bar&#x27;&lt;/span&gt;Â toÂ beÂ aÂ number&lt;br/&gt;Â Â Â Â atÂ Object.&amp;lt;anonymous&amp;gt;Â (/home/quanwei/git/learn-tdd-bdd/chai-assert.js:6:8)&lt;br/&gt;Â Â Â Â atÂ Module._compileÂ (internal/modules/cjs/loader.js:778:30)&lt;br/&gt;Â Â Â Â atÂ Object.Module._extensions..jsÂ (internal/modules/cjs/loader.js:789:10)&lt;br/&gt;Â Â Â Â atÂ Module.loadÂ (internal/modules/cjs/loader.js:653:32)&lt;br/&gt;Â Â Â Â atÂ tryModuleLoadÂ (internal/modules/cjs/loader.js:593:12)&lt;br/&gt;Â Â Â Â atÂ Function.Module._loadÂ (internal/modules/cjs/loader.js:585:3)&lt;br/&gt;Â Â Â Â atÂ Function.Module.runMainÂ (internal/modules/cjs/loader.js:831:12)&lt;br/&gt;Â Â Â Â atÂ startupÂ (internal/bootstrap/node.js:283:19)&lt;br/&gt;Â Â Â Â atÂ bootstrapNodeJSCoreÂ (internal/bootstrap/node.js:623:3)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;BDD é£æ ¼çš„ chai&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;chai&lt;/code&gt; çš„ &lt;code&gt;BDD&lt;/code&gt; é£æ ¼ä½¿ç”¨ &lt;code&gt;expect&lt;/code&gt; å‡½æ•°ä½œä¸ºè¯­ä¹‰çš„èµ·å§‹ï¼Œä¹Ÿæ˜¯ç›®å‰å‡ ä¹æ‰€æœ‰ &lt;code&gt;BDD&lt;/code&gt; å·¥å…·åº“éƒ½éµå¾ªçš„é£æ ¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;chai&lt;/code&gt; çš„ &lt;code&gt;expect&lt;/code&gt; æ–­è¨€é£æ ¼å¦‚ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;expect(foo).to.be.a(&lt;span&gt;&#x27;string&#x27;&lt;/span&gt;);&lt;br/&gt;expect(foo).to.equal(&lt;span&gt;&#x27;bar&#x27;&lt;/span&gt;);&lt;br/&gt;expect(foo).to.have.lengthOf(&lt;span&gt;3&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;BDD&lt;/code&gt; çš„æ€æƒ³å°±æ˜¯å†™å•å…ƒæµ‹è¯•å°±åƒå†™äº§å“éœ€æ±‚ï¼Œè€Œä¸å…³å¿ƒå†…éƒ¨é€»è¾‘ï¼Œæ¯ä¸€ä¸ªç”¨ä¾‹é˜…è¯»èµ·æ¥å°±åƒä¸€ç¯‡æ–‡æ¡£ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç”¨ä¾‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;foo æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² Â  Â  Â  Â  Â  Â  Â -&amp;gt;&lt;code&gt;expect(foo).to.be.a(&#x27;string&#x27;)&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;foo å­—ç¬¦ä¸²é‡ŒåŒ…å« &#x27;bar&#x27; Â  Â  -&amp;gt;&lt;code&gt;expect(foo).to.include(&#x27;bar&#x27;)&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;foo å­—ç¬¦ä¸²é‡Œä¸åŒ…å« &#x27;biz&#x27; Â -&amp;gt; &lt;code&gt;expect(foo).to.not.include(&#x27;biz&#x27;)&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°è¿™ç§é£æ ¼çš„æµ‹è¯•ç”¨ä¾‹å¯è¯»æ€§æ›´å¼ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä»–çš„æ–­è¨€åº“è¿˜æœ‰ &lt;code&gt;expect.js&lt;/code&gt; &lt;code&gt;should.js&lt;/code&gt; &lt;span&gt;better-assert&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt; , &lt;span&gt;unexpected.js&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt; è¿™äº›æ–­è¨€åº“éƒ½åªæä¾›çº¯ç²¹çš„æ–­è¨€å‡½æ•°ï¼Œå¯ä»¥æ ¹æ®å–œå¥½é€‰æ‹©ä¸åŒçš„åº“ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†æ–­è¨€åº“ä¹‹åæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨æµ‹è¯•æ¡†æ¶å°†æˆ‘ä»¬çš„æ–­è¨€æ›´å¥½åœ°ç»„ç»‡èµ·æ¥ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;mocha å’Œ Jasmine&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4188262195121951&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3wLnQa5ryeJqMPPuGVkMBkOkCqD24qbUZH1q5VdS6lFHzV5k1nC8vwg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2624&quot;/&gt;&lt;figcaption&gt;mocha jasmine&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;mocha&lt;/code&gt; æ˜¯ä¸€ä¸ªç»å…¸çš„æµ‹è¯•æ¡†æ¶(Test Framework)ï¼Œæµ‹è¯•æ¡†æ¶æä¾›äº†ä¸€ä¸ªå•å…ƒæµ‹è¯•çš„éª¨æ¶ï¼Œå¯ä»¥å°†ä¸åŒå­åŠŸèƒ½åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å¯¹ä¸€ä¸ªå­æ¨¡å—çš„ä¸åŒå­åŠŸèƒ½å†è¿›è¡Œä¸åŒçš„åŠŸèƒ½æµ‹è¯•ï¼Œä»è€Œç”Ÿæˆä¸€ä»½ç»“æ„å‹çš„æµ‹è¯•æŠ¥å‘Šã€‚ä¾‹å¦‚ &lt;code&gt;mocha&lt;/code&gt; å°±æä¾›äº†&lt;code&gt;describe&lt;/code&gt; å’Œ &lt;code&gt;it&lt;/code&gt; æè¿°ç”¨ä¾‹ç»“æ„ï¼Œæä¾›äº† &lt;code&gt;before&lt;/code&gt;, &lt;code&gt;after&lt;/code&gt;, &lt;code&gt;beforeEach&lt;/code&gt;, &lt;code&gt;afterEach&lt;/code&gt; ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæä¾›äº† &lt;code&gt;describe.only&lt;/code&gt; ,&lt;code&gt;describe.skip&lt;/code&gt; , &lt;code&gt;it.only&lt;/code&gt;, &lt;code&gt;it.skip&lt;/code&gt; ç”¨ä»¥æ‰§è¡ŒæŒ‡å®šéƒ¨åˆ†æµ‹è¯•é›†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â {Â expectÂ }Â =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;chai&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â {Â multipleÂ }Â =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;./index&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;describe(&lt;span&gt;&#x27;Multiple&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ beÂ aÂ function&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(multiple).to.be.a(&lt;span&gt;&#x27;function&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;expectÂ 2Â *Â 3Â =Â 6&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(multiple(&lt;span&gt;2&lt;/span&gt;,Â &lt;span&gt;3&lt;/span&gt;)).to.be.equal(&lt;span&gt;6&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ‹è¯•æ¡†æ¶ä¸ä¾èµ–åº•å±‚çš„æ–­è¨€åº“ï¼Œå“ªæ€•ä½¿ç”¨åŸç”Ÿçš„ &lt;code&gt;assert&lt;/code&gt; æ¨¡å—ä¹Ÿå¯ä»¥è¿›è¡Œã€‚ç»™æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½è¦æ‰‹åŠ¨å¼•å…¥ &lt;code&gt;chai&lt;/code&gt; æ¯”è¾ƒéº»çƒ¦ ï¼Œè¿™æ—¶å€™å¯ä»¥ç»™ &lt;code&gt;mocha&lt;/code&gt; é…ç½®å…¨å±€è„šæœ¬ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½• &lt;code&gt;.mocharc.js&lt;/code&gt; æ–‡ä»¶ä¸­åŠ è½½æ–­è¨€åº“, è¿™æ ·æ¯ä¸ªæ–‡ä»¶å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code&gt;expect&lt;/code&gt; å‡½æ•°äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .mocharc.js&lt;/span&gt;&lt;br/&gt;global.expectÂ =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;chai&#x27;&lt;/span&gt;).expect;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ mocha å¯ä»¥å°†æˆ‘ä»¬çš„å•å…ƒæµ‹è¯•è¾“å‡ºæˆä¸€ä»½è‰¯å¥½çš„æµ‹è¯•æŠ¥å‘Š &lt;code&gt;mocha *.test.js&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3337969401947149&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3yrCp19zdvz9gFa8J3xDvrALTdp42aYhnT1ibxxHwojPr22NKPWoAjHg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1438&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“å‡ºç°é”™è¯¯æ—¶è¾“å‡ºå¦‚ä¸‹&lt;img data-ratio=&quot;0.5314091680814941&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3yAwX12uvlhsEkfrzcZNgEZqpsvMXXh9rEPXepaDeYgOzlwux9UQTqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1767&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºè¿è¡Œåœ¨ä¸åŒç¯å¢ƒä¸­éœ€è¦çš„åŒ…æ ¼å¼ä¸åŒï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬é’ˆå¯¹ä¸åŒç¯å¢ƒåšä¸åŒçš„åŒ…æ ¼å¼è½¬æ¢ï¼Œä¸ºäº†äº†è§£åœ¨ä¸åŒç«¯è·‘å•å…ƒæµ‹è¯•éœ€è¦åšå“ªäº›äº‹æƒ…ï¼Œå¯ä»¥å…ˆæ¥äº†è§£ä¸€ä¸‹å¸¸è§çš„åŒ…æ ¼å¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰æˆ‘ä»¬ä¸»æµæœ‰ä¸‰ç§æ¨¡å—æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯ &lt;code&gt;AMD&lt;/code&gt;, &lt;code&gt;CommonJS&lt;/code&gt;, &lt;code&gt;ES Module&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;AMD&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;AMD&lt;/span&gt;&lt;sup&gt;[6]&lt;/sup&gt; æ˜¯ &lt;code&gt;RequireJS&lt;/code&gt; æ¨å¹¿è¿‡ç¨‹ä¸­æµè¡Œçš„ä¸€ä¸ªæ¯”è¾ƒè€çš„è§„èŒƒï¼Œç›®å‰æ— è®ºæµè§ˆå™¨è¿˜æ˜¯ &lt;code&gt;Node&lt;/code&gt; éƒ½æ²¡æœ‰é»˜è®¤æ”¯æŒã€‚&lt;code&gt;AMD&lt;/code&gt; çš„æ ‡å‡†å®šä¹‰äº† &lt;code&gt;define&lt;/code&gt; å’Œ &lt;code&gt;require&lt;/code&gt;å‡½æ•°ï¼Œ&lt;code&gt;define&lt;/code&gt;ç”¨æ¥å®šä¹‰æ¨¡å—åŠå…¶ä¾èµ–å…³ç³»ï¼Œ&lt;code&gt;require&lt;/code&gt; ç”¨ä»¥åŠ è½½æ¨¡å—ã€‚ä¾‹å¦‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&amp;lt;!doctypeÂ html&amp;gt;&lt;br/&gt;&amp;lt;htmlÂ lang=&quot;en&quot;&amp;gt;&lt;br/&gt;Â Â Â Â &amp;lt;head&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;metaÂ charset=&quot;UTF-8&quot;/&amp;gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;title&amp;gt;Document&amp;lt;/title&amp;gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â Â &amp;lt;script&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â src=&quot;https://requirejs.org/docs/release/2.3.6/minified/require.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â Â &amp;lt;scriptÂ src=&quot;./index.js&quot;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;&amp;lt;/head&amp;gt;&lt;br/&gt;Â Â Â Â &amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;&lt;br/&gt;&amp;lt;/html&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â index.js&lt;/span&gt;&lt;br/&gt;define(&lt;span&gt;&#x27;moduleA&#x27;&lt;/span&gt;,Â [&lt;span&gt;&#x27;https://some/of/cdn/path&#x27;&lt;/span&gt;],Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â {Â &lt;span&gt;name&lt;/span&gt;:Â &lt;span&gt;&#x27;moduleA&#x27;&lt;/span&gt;Â };&lt;br/&gt;});&lt;br/&gt;&lt;br/&gt;define(&lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt;require&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â fsÂ =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;fs&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â fs;&lt;br/&gt;})&lt;br/&gt;&lt;br/&gt;define(&lt;span&gt;&#x27;moduleB&#x27;&lt;/span&gt;,Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â {Â &lt;span&gt;name&lt;/span&gt;:Â &lt;span&gt;&#x27;moduleÂ B&#x27;&lt;/span&gt;Â }&lt;br/&gt;});&lt;br/&gt;&lt;br/&gt;&lt;span&gt;require&lt;/span&gt;([&lt;span&gt;&#x27;moduleA&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;moduleB&#x27;&lt;/span&gt;],Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span&gt;moduleA,Â moduleB&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;module&lt;/span&gt;);&lt;br/&gt;});&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä½¿ç”¨äº†&lt;code&gt;RequireJS&lt;/code&gt; ä½œä¸º &lt;code&gt;AMD&lt;/code&gt; å¼•æ“, å¯ä»¥çœ‹åˆ° &lt;code&gt;define&lt;/code&gt; å‡½æ•°ä¼šå®šä¹‰å½“å‰ä¾èµ–äº†å“ªäº›æ¨¡å—å¹¶å°†æ¨¡å—åŠ è½½å®Œæˆåå¼‚æ­¥å›è°ƒç»™å½“å‰æ¨¡å—ï¼Œè¿™ç§ç‰¹æ€§ä½¿å¾— AMD å°¤ä¸ºé€‚åˆæµè§ˆå™¨ç«¯å¼‚æ­¥åŠ è½½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;webpack&lt;/code&gt; æ‰“åŒ…ä¸€ä»½ &lt;code&gt;amd&lt;/code&gt; æ¨¡å—çœ‹ä¸‹çœŸå®ä»£ç &lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â entry.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;sayHello&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&#x27;helloÂ amd&#x27;&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â webpack.config.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;module&lt;/span&gt;.exportsÂ =Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;mode&lt;/span&gt;:Â &lt;span&gt;&#x27;development&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;devtool&lt;/span&gt;:Â &lt;span&gt;false&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;entry&lt;/span&gt;:Â &lt;span&gt;&#x27;./entry.js&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;output&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;libraryTarget&lt;/span&gt;:Â &lt;span&gt;&#x27;amd&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€ç»ˆç”Ÿæˆä»£ç (ç²¾ç®€äº†ä¸ç›¸å…³çš„é€»è¾‘)&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â dist/main.js&lt;/span&gt;&lt;br/&gt;define(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â ({&lt;br/&gt;Â Â Â Â &lt;span&gt;default&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;sayHello&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&#x27;helloÂ amd&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}));&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æµè§ˆå™¨/&lt;code&gt;Node&lt;/code&gt; ä¸­æƒ³è¦ä½¿ç”¨ &lt;code&gt;AMD&lt;/code&gt; éœ€è¦å…¨å±€å¼•å…¥ &lt;code&gt;RequireJS&lt;/code&gt;ï¼Œå¯¹å•å…ƒæµ‹è¯•è€Œè¨€æ¯”è¾ƒå…¸å‹çš„é—®é¢˜æ˜¯åœ¨åˆå§‹åŒ– &lt;code&gt;karma&lt;/code&gt; æ—¶ä¼šè¯¢é—®æ˜¯å¦ä½¿ç”¨ &lt;code&gt;RequireJS&lt;/code&gt; ï¼Œä¸è¿‡ä¸€èˆ¬ç°åœ¨å¾ˆå°‘æœ‰äººä½¿ç”¨äº†ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;CommonJS&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥ç¼©å†™æˆ&lt;code&gt;CJS&lt;/code&gt; , å…¶ &lt;span&gt;è§„èŒƒ &lt;/span&gt;&lt;sup&gt;[7]&lt;/sup&gt;ä¸»è¦æ˜¯ä¸ºäº†å®šä¹‰ &lt;code&gt;Node&lt;/code&gt; çš„åŒ…æ ¼å¼ï¼Œ&lt;code&gt;CJS&lt;/code&gt; å®šä¹‰äº†ä¸‰ä¸ªå…³é”®å­—, åˆ†åˆ«ä¸º &lt;code&gt;require&lt;/code&gt;ï¼Œ&lt;code&gt;exports&lt;/code&gt;, &lt;code&gt;module&lt;/code&gt;, ç›®å‰å‡ ä¹æ‰€æœ‰&lt;code&gt;Node&lt;/code&gt; åŒ…ä»¥åŠå‰ç«¯ç›¸å…³çš„&lt;code&gt;NPM&lt;/code&gt;åŒ…éƒ½ä¼šè½¬æ¢æˆè¯¥æ ¼å¼, &lt;code&gt;CJS&lt;/code&gt; åœ¨æµè§ˆå™¨ç«¯éœ€è¦ä½¿ç”¨ &lt;code&gt;webpack&lt;/code&gt; æˆ–è€… &lt;code&gt;browserify&lt;/code&gt; ç­‰å·¥å…·æ‰“åŒ…åæ‰èƒ½æ‰§è¡Œã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ES Module&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;ES Module&lt;/code&gt; æ˜¯ &lt;code&gt;ES 2015&lt;/code&gt; ä¸­å®šä¹‰çš„ä¸€ç§æ¨¡å—è§„èŒƒï¼Œè¯¥è§„èŒƒå®šä¹‰äº† ä»£è¡¨ä¸º &lt;code&gt;import&lt;/code&gt; å’Œ &lt;code&gt;export&lt;/code&gt; ï¼Œæ˜¯æˆ‘ä»¬å¼€å‘ä¸­å¸¸ç”¨çš„ä¸€ç§æ ¼å¼ã€‚è™½ç„¶ç›®å‰å¾ˆå¤šæ–°ç‰ˆæµè§ˆå™¨éƒ½æ”¯æŒ&lt;code&gt;&amp;lt;script type=&quot;module&quot;&amp;gt;&lt;/code&gt; äº†ï¼Œæ”¯æŒåœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿è¡Œ &lt;code&gt;ES6&lt;/code&gt; ä»£ç ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸æ”¯æŒ &lt;code&gt;node_modules&lt;/code&gt; ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åŸå§‹ &lt;code&gt;ES6&lt;/code&gt; ä»£ç åœ¨æµè§ˆå™¨ä¸Šä¾ç„¶æ— æ³•è¿è¡Œï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘æš‚ä¸”è®¤ä¸ºæµè§ˆå™¨ä¸æ”¯æŒ &lt;code&gt;ES6&lt;/code&gt; ä»£ç , ä¾ç„¶éœ€è¦åšä¸€æ¬¡è½¬æ¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹è¡¨ä¸ºæ¯ç§æ ¼å¼çš„æ”¯æŒèŒƒå›´ï¼Œæ‹¬å·å†…è¡¨ç¤ºéœ€è¦å€ŸåŠ©å¤–éƒ¨å·¥å…·æ”¯æŒã€‚&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;th&gt;Node&lt;/th&gt;&lt;th&gt;æµè§ˆå™¨&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;AMD&lt;/td&gt;&lt;td&gt;ä¸æ”¯æŒ(require.js, r.js)&lt;/td&gt;&lt;td&gt;ä¸æ”¯æŒ(require.js)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;CommonJS&lt;/td&gt;&lt;td&gt;&lt;strong&gt;æ”¯æŒ&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;ä¸æ”¯æŒ(webpack/browserify)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;ESModule&lt;/td&gt;&lt;td&gt;ä¸æ”¯æŒ(babel)&lt;/td&gt;&lt;td&gt;ä¸æ”¯æŒ(webpack)&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•å…ƒæµ‹è¯•è¦åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹æ‰§è¡Œå°±è¦æ‰“ä¸åŒç¯å¢ƒå¯¹åº”çš„åŒ…ï¼Œæ‰€ä»¥åœ¨æ­å»ºæµ‹è¯•å·¥å…·é“¾æ—¶è¦ç¡®å®šè‡ªå·±è¿è¡Œåœ¨ä»€ä¹ˆç¯å¢ƒä¸­ï¼Œå¦‚æœåœ¨ &lt;code&gt;Node&lt;/code&gt; ä¸­åªéœ€è¦åŠ ä¸€å±‚ &lt;code&gt;babel&lt;/code&gt; è½¬æ¢ï¼Œå¦‚æœæ˜¯åœ¨çœŸå®æµè§ˆå™¨ä¸­ï¼Œåˆ™éœ€è¦å¢åŠ  &lt;code&gt;webpack&lt;/code&gt; å¤„ç†æ­¥éª¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿåœ¨ &lt;code&gt;Node&lt;/code&gt; ç¯å¢ƒçš„ &lt;code&gt;Mocha&lt;/code&gt;ä¸­ä½¿ç”¨ &lt;code&gt;ES Module&lt;/code&gt; æœ‰ä¸¤ç§æ–¹å¼&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Node&lt;/code&gt; ç¯å¢ƒå¤©ç”Ÿæ”¯æŒ &lt;code&gt;ES Module&lt;/code&gt; (node version &amp;gt;= 15)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ &lt;code&gt;babel&lt;/code&gt; ä»£ç è¿›è¡Œä¸€æ¬¡è½¬æ¢&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ç§æ–¹å¼ç•¥è¿‡ï¼Œç¬¬äºŒç§æ–¹å¼ä½¿ç”¨ä¸‹é¢çš„é…ç½®&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ @babel/registerÂ @babel/coreÂ @babel/preset-envÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â .mocharc.js&lt;br/&gt;&lt;span&gt;+Â require(&#x27;@babel/register&#x27;);&lt;/span&gt;&lt;br/&gt;global.expectÂ =Â require(&#x27;chai&#x27;).expect;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â .babelrc&lt;br/&gt;&lt;span&gt;+Â {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â &quot;presets&quot;:Â [&quot;@babel/preset-env&quot;Â ï¼Œâ€œ@babel/preset-typescriptâ€]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â }&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·åœ°å¦‚æœåœ¨é¡¹ç›®ä¸­ç”¨åˆ°äº† &lt;code&gt;TypeScript&lt;/code&gt;, å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;ts-node/register&lt;/code&gt; æ¥è§£å†³ï¼Œå› ä¸º &lt;code&gt;TypeScript&lt;/code&gt;æœ¬èº«æ”¯æŒ &lt;code&gt;ES Module&lt;/code&gt; è½¬æ¢æˆ &lt;code&gt;CJS&lt;/code&gt;, æ‰€ä»¥æ”¯æŒäº† &lt;code&gt;TypeScript&lt;/code&gt;åå°±ä¸éœ€è¦ä½¿ç”¨ &lt;code&gt;babel&lt;/code&gt; æ¥è½¬æ¢äº†ã€‚(è¿™é‡Œå‡è®¾ä½¿ç”¨äº† &lt;code&gt;TypeScript&lt;/code&gt; çš„é»˜è®¤é…ç½®)&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ ts-nodeÂ typescriptÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .mocharc.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;ts-node/register&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Mocha&lt;/code&gt; è‡ªèº«æ”¯æŒæµè§ˆå™¨å’Œ &lt;code&gt;Node&lt;/code&gt; ç«¯æµ‹è¯•ï¼Œä¸ºäº†åœ¨æµè§ˆå™¨ç«¯æµ‹è¯•æˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ª html, é‡Œé¢ä½¿ç”¨ &lt;code&gt;&amp;lt;script src=&quot;mocha.min.js&quot;&amp;gt;&lt;/code&gt; çš„æ–‡ä»¶ï¼Œç„¶åå†å°†æœ¬åœ°æ‰€æœ‰æ–‡ä»¶æ’å…¥åˆ°htmlä¸­æ‰èƒ½å®Œæˆæµ‹è¯•ï¼Œæ‰‹åŠ¨åšå·¥ç¨‹åŒ–æ•ˆç‡æ¯”è¾ƒä½ï¼Œæ‰€ä»¥éœ€è¦å€ŸåŠ©å·¥å…·æ¥å®ç°è¿™ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªå·¥å…·å°±æ˜¯ &lt;code&gt;Karma&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Karma&lt;/code&gt; æœ¬è´¨ä¸Šå°±æ˜¯åœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œç„¶åå†å¯åŠ¨ä¸€ä¸ªå¤–éƒ¨æµè§ˆå™¨åŠ è½½ä¸€ä¸ªå¼•å¯¼è„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬å°†æˆ‘ä»¬æ‰€æœ‰çš„æºæ–‡ä»¶å’Œæµ‹è¯•æ–‡ä»¶åŠ è½½åˆ°æµè§ˆå™¨ä¸­ï¼Œæœ€ç»ˆå°±ä¼šåœ¨æµè§ˆå™¨ç«¯æ‰§è¡Œæˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚æ‰€ä»¥ä½¿ç”¨ &lt;code&gt;Karma&lt;/code&gt; + &lt;code&gt;mocha&lt;/code&gt; +&lt;code&gt;chai&lt;/code&gt; å³å¯æ­å»ºä¸€ä¸ªå®Œæ•´çš„æµè§ˆå™¨ç«¯çš„å•å…ƒæµ‹è¯•å·¥å…·é“¾ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ karmaÂ mochaÂ chaiÂ karma-mochaÂ karma-chaiÂ --save-dev&lt;br/&gt;npxÂ karmaÂ init&lt;br/&gt;//Â WhichÂ testingÂ frameworkÂ doÂ youÂ wantÂ toÂ use:Â mocha&lt;br/&gt;//Â DoÂ youÂ wantÂ toÂ useÂ Require.js:Â no&lt;br/&gt;//Â DoÂ youÂ wantÂ captureÂ anyÂ browsersÂ automatically:Â Chrome&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œ &lt;code&gt;Karma&lt;/code&gt; åˆå§‹åŒ–æ—¶é€‰æ‹©äº† &lt;code&gt;Mocha&lt;/code&gt; çš„æ”¯æŒï¼Œç„¶åç¬¬äºŒä¸ª &lt;code&gt;Require.js&lt;/code&gt; ä¸€èˆ¬ä¸ºå¦ï¼Œé™¤éä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨äº†&lt;code&gt;amd&lt;/code&gt;ç±»å‹çš„åŒ…ã€‚ç¬¬ä¸‰ä¸ªé€‰ç”¨ &lt;code&gt;Chrome&lt;/code&gt; ä½œä¸ºæµ‹è¯•æµè§ˆå™¨ã€‚ç„¶åå†åœ¨ä»£ç é‡Œå•ç‹¬é…ç½®ä¸‹ &lt;code&gt;chai&lt;/code&gt; ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â karma.conf.js&lt;br/&gt;module.exportsÂ =Â function(config)Â {&lt;br/&gt;Â Â config.set({&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â baseÂ pathÂ thatÂ willÂ beÂ usedÂ toÂ resolveÂ allÂ patternsÂ (eg.Â files,Â exclude)&lt;br/&gt;Â Â Â Â basePath:Â &#x27;&#x27;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â frameworksÂ toÂ use&lt;br/&gt;Â Â Â Â //Â availableÂ frameworks:Â https://npmjs.org/browse/keyword/karma-adapter&lt;br/&gt;&lt;span&gt;-Â Â Â Â frameworks:Â [&#x27;mocha&#x27;],&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â frameworks:Â [&#x27;mocha&#x27;,Â &#x27;chai&#x27;],&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â listÂ ofÂ filesÂ /Â patternsÂ toÂ loadÂ inÂ theÂ browser&lt;br/&gt;Â Â Â Â files:Â [],&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Karma&lt;/code&gt; çš„ &lt;code&gt;frameworks&lt;/code&gt; ä½œç”¨æ˜¯åœ¨å…¨å±€æ³¨å…¥ä¸€äº›ä¾èµ–ï¼Œè¿™é‡Œçš„é…ç½®å°±æ˜¯å°† &lt;code&gt;Mocha&lt;/code&gt; å’Œ &lt;code&gt;chai&lt;/code&gt; æä¾›çš„æµ‹è¯•ç›¸å…³å·¥å…·æš´éœ²åœ¨å…¨å±€ä¸Šä¾›ä»£ç é‡Œä½¿ç”¨ã€‚&lt;code&gt;Karma&lt;/code&gt; åªæ˜¯å°†æˆ‘ä»¬çš„æ–‡ä»¶å‘é€åˆ°æµè§ˆå™¨å»æ‰§è¡Œï¼Œä½†æ˜¯æ ¹æ®å‰æ–‡æ‰€è¿°æˆ‘ä»¬çš„ä»£ç éœ€è¦ç»è¿‡ &lt;code&gt;webpack&lt;/code&gt; æˆ– &lt;code&gt;browserify&lt;/code&gt; æ‰“åŒ…åæ‰èƒ½è¿è¡Œåœ¨æµè§ˆå™¨ç«¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåŸå§‹ä»£ç å·²ç»æ˜¯ &lt;code&gt;CJS&lt;/code&gt;äº†ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;browserify&lt;/code&gt; æ¥æ”¯æŒæµè§ˆå™¨ç«¯è¿è¡Œï¼ŒåŸºæœ¬é›¶é…ç½®ï¼Œä½†æ˜¯å¾€å¾€ç°å®ä¸–ç•Œæ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬æœ‰ &lt;code&gt;ES6&lt;/code&gt;ï¼Œ&lt;code&gt;JSX&lt;/code&gt; ä»¥åŠ &lt;code&gt;TypeScript&lt;/code&gt; è¦å¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;webpack&lt;/code&gt; ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æ˜¯ &lt;code&gt;webpack&lt;/code&gt; çš„é…ç½®ä¿¡æ¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ karma-webpack@4Â webpack@4Â @babel/coreÂ @babel/preset-envÂ @babel/preset-reactÂ babel-loaderÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â karma.conf.js&lt;br/&gt;module.exportsÂ =Â function(config)Â {&lt;br/&gt;Â Â config.set({&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â baseÂ pathÂ thatÂ willÂ beÂ usedÂ toÂ resolveÂ allÂ patternsÂ (eg.Â files,Â exclude)&lt;br/&gt;Â Â Â Â basePath:Â &#x27;&#x27;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â frameworksÂ toÂ use&lt;br/&gt;Â Â Â Â //Â availableÂ frameworks:Â https://npmjs.org/browse/keyword/karma-adapter&lt;br/&gt;Â Â Â Â frameworks:Â [&#x27;mocha&#x27;,Â &#x27;chai&#x27;],&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â //Â listÂ ofÂ filesÂ /Â patternsÂ toÂ loadÂ inÂ theÂ browser&lt;br/&gt;Â Â Â Â files:Â [&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â {Â pattern:Â &quot;test/*.test.js&quot;,Â watched:Â falseÂ }&lt;/span&gt;&lt;br/&gt;Â Â Â Â ],&lt;br/&gt;&lt;br/&gt;Â Â Â Â preprocessors:Â {&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â &#x27;test/**/*.js&#x27;:Â [Â &#x27;webpack&#x27;]&lt;/span&gt;&lt;br/&gt;Â Â Â Â },&lt;br/&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â webpack:Â {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â module:Â {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â rules:Â [{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â Â Â Â Â test:Â /.*\.js/,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â Â Â Â Â use:Â &#x27;babel-loader&#x27;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â Â Â Â Â }]&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â Â }&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â },&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .babelrc&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;@babel/preset-react&quot;&lt;/span&gt;]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæˆ‘ä»¬æµ‹è¯•ä¸€ä¸ª&lt;code&gt;React&lt;/code&gt; ç¨‹åºä»£ç å¦‚ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â js/index.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â ReactÂ &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;react&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â ReactDOMÂ &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;react-dom&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;renderToPage&lt;/span&gt;(&lt;span&gt;str&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â containerÂ =Â &lt;span&gt;document&lt;/span&gt;.createElement(&lt;span&gt;&#x27;div&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;document&lt;/span&gt;.body.appendChild(container);&lt;br/&gt;Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;thereÂ isÂ realÂ browser&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â &lt;span&gt;Promise&lt;/span&gt;(&lt;span&gt;&lt;span&gt;resolve&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â ReactDOM.render(&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;{Â strÂ }Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;,Â container,Â resolve);&lt;br/&gt;Â Â Â Â });&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â test/index.test.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â {Â renderToPageÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;../js/index&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;describe(&lt;span&gt;&#x27;renderToPage&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ renderÂ toÂ page&#x27;&lt;/span&gt;,Â &lt;span&gt;async&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â contentÂ =Â &lt;span&gt;&#x27;magicÂ string&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;await&lt;/span&gt;Â renderToPage(content);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(&lt;span&gt;document&lt;/span&gt;.documentElement.innerText).to.be.contain(content);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.28008407777193906&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3yIVR17Kp33u07AL5tuoaq36MowPveCtpibp68o8E6SayOkndUiaIzpFQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1903&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¶ä¸”æ‰“å¼€äº†æœ¬åœ°æµè§ˆå™¨&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.42946708463949845&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3ib5yjXImfcfyAybZ22HpMtJHTFza4OPNIzcNnoX6b3Px7ib9cxaI0a9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2233&quot;/&gt;&lt;figcaption&gt;karma browser&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ç°åœ¨å·²ç»åœ¨çœŸå®æµè§ˆå™¨ä¸­è¿è¡Œæµ‹è¯•ç¨‹åºäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºå›¾å½¢åŒ–çš„æµ‹è¯•å¯¹ &lt;code&gt;CI&lt;/code&gt; æœºå™¨ä¸å‹å¥½ï¼Œæ‰€ä»¥å¯ä»¥é€‰æ‹© &lt;code&gt;puppeteer&lt;/code&gt; ä»£æ›¿ &lt;code&gt;Chrome&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†è€…è¿™äº›éƒ½æ˜¯å¾ˆé‡çš„åŒ…ï¼Œå¦‚æœå¯¹çœŸå®æµè§ˆå™¨ä¾èµ–æ€§ä¸å¼ºï¼Œå¯ä»¥ä½¿ç”¨ &lt;code&gt;JSDOM&lt;/code&gt; åœ¨ &lt;code&gt;Node&lt;/code&gt; ç«¯æ¨¡æ‹Ÿä¸€ä¸ªæµè§ˆå™¨ç¯å¢ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¨å¾®æ€»ç»“ä¸‹å·¥å…·é“¾&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨ Node ç¯å¢ƒä¸‹æµ‹è¯•å·¥å…·é“¾å¯ä»¥ä¸º : &lt;code&gt;mocha&lt;/code&gt; + &lt;code&gt;chai&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒå¯ä»¥ä¸º : &lt;code&gt;mocha&lt;/code&gt; + &lt;code&gt;chai&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt; + &lt;code&gt;jsdom&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨çœŸå®æµè§ˆå™¨ç¯å¢ƒä¸‹æµ‹è¯•å·¥å…·é“¾å¯ä»¥ä¸º : &lt;code&gt;karma&lt;/code&gt; + &lt;code&gt;mocha&lt;/code&gt; + &lt;code&gt;chai&lt;/code&gt; + &lt;code&gt;webpack&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªæµ‹è¯•æµæ°´çº¿å¾€å¾€éœ€è¦å¾ˆå¤šä¸ªå·¥å…·æ­é…ä½¿ç”¨ï¼Œé…ç½®èµ·æ¥æ¯”è¾ƒç¹çï¼Œè¿˜æœ‰ä¸€äº›é¢å¤–çš„å·¥å…·ä¾‹å¦‚å•å…ƒè¦†ç›–ç‡ï¼ˆistanbulï¼‰ï¼Œå‡½æ•°/æ—¶é—´æ¨¡æ‹Ÿ (sinon.jsï¼‰ç­‰å·¥å…·ã€‚å·¥å…·ä¹‹é—´çš„é…åˆæœ‰æ—¶å€™ä¸ä¸€å®šèƒ½å¤Ÿå®Œç¾å¥‘åˆï¼Œé€‰å‹è´¹æ—¶è´¹åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;jasmine&lt;/code&gt; çš„å‡ºç°å°±ç¨å¾®ç¼“è§£äº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œä½†ä¹Ÿä¸å¤Ÿå®Œæ•´ï¼Œ&lt;code&gt;jasmine&lt;/code&gt;æä¾›ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œé‡Œé¢åŒ…å«äº† æµ‹è¯•æµç¨‹æ¡†æ¶ï¼Œæ–­è¨€å‡½æ•°ï¼Œmockå·¥å…·ç­‰æµ‹è¯•ä¸­ä¼šé‡åˆ°çš„å·¥å…·ã€‚å¯ä»¥è¿‘ä¼¼åœ°çœ‹ä½œ &lt;code&gt;jasmine = mocha + chai + è¾…åŠ©å·¥å…·&lt;/code&gt; ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥è¯•ä¸€è¯• &lt;code&gt;jasmine&lt;/code&gt; çš„å·¥ä½œæµç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ &lt;code&gt;npx jasmine init&lt;/code&gt; åˆå§‹åŒ–ä¹‹åä¼šåœ¨å½“å‰ç›®å½•ä¸­ç”Ÿæˆ&lt;code&gt;spec&lt;/code&gt;ç›®å½•, å…¶ä¸­åŒ…å«ä¸€ä»½é»˜è®¤çš„é…ç½®æ–‡ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â ./spec/support/jasmine.json&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;spec_dir&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;spec&quot;&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;&quot;spec_files&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;**/*[sS]pec.js&quot;&lt;/span&gt;&lt;br/&gt;Â Â ],&lt;br/&gt;Â Â &lt;span&gt;&quot;helpers&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;helpers/**/*.js&quot;&lt;/span&gt;&lt;br/&gt;Â Â ],&lt;br/&gt;Â Â &lt;span&gt;&quot;stopSpecOnExpectationFailure&quot;&lt;/span&gt;:Â &lt;span&gt;false&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;&quot;random&quot;&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœå¸Œæœ›åŠ è½½ä¸€äº›å…¨å±€çš„é…ç½®å¯ä»¥åœ¨ &lt;code&gt;spec/helpers&lt;/code&gt; ç›®å½•ä¸­æ”¾ä¸€äº›&lt;code&gt;js&lt;/code&gt;æ–‡ä»¶, æ­£å¦‚é…ç½®æ‰€è¨€ï¼Œjasmine åœ¨å¯åŠ¨æ—¶ä¼šå»æ‰§è¡Œ &lt;code&gt;spec/helpers&lt;/code&gt; ç›®å½•ä¸‹çš„æ‰€æœ‰&lt;code&gt;js&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ &lt;code&gt;es6&lt;/code&gt;è¯­æ³•ï¼Œå°±éœ€è¦å¢åŠ &lt;code&gt;es6&lt;/code&gt;çš„æ”¯æŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–°å¢ &lt;code&gt;spec/helpers/babel.js&lt;/code&gt; å†™å…¥å¦‚ä¸‹é…ç½®å³å¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ @babel/registerÂ @babel/coreÂ @babel/preset-envÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â spec/helpers/babel.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;babel-register&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .babelrc&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å’Œ &lt;code&gt;mocha&lt;/code&gt; ä¸€æ ·ï¼Œå¦‚æœéœ€è¦ &lt;code&gt;TypeScript&lt;/code&gt; çš„æ”¯æŒï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹é…ç½®&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ ts-nodeÂ typescriptÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â spec/helpers/typescript.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;ts-node/register&#x27;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é…ç½®æ–‡ä»¶ä¸­çš„ &lt;code&gt;spec_dir&lt;/code&gt;æ˜¯ &lt;code&gt;jasmine&lt;/code&gt;çº¦å®šçš„ç”¨ä¾‹æ–‡ä»¶ç›®å½•ï¼Œ&lt;code&gt;spec_files&lt;/code&gt;è§„å®šäº†ç”¨ä¾‹æ–‡ä»¶æ ¼å¼ä¸º &lt;code&gt;xxx.spec.js&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†è¿™ä»½é»˜è®¤é…ç½®å°±å¯ä»¥æŒ‰ç…§è¦æ±‚å†™ç”¨ä¾‹ï¼Œä¾‹å¦‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â ./spec/index.spec.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â {Â multipleÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;../index.js&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;describe(&lt;span&gt;&#x27;Multiple&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ beÂ aÂ function&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(multiple).toBeInstanceOf(&lt;span&gt;Function&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ 7Â *Â 2Â =Â 14&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(multiple(&lt;span&gt;7&lt;/span&gt;,Â &lt;span&gt;2&lt;/span&gt;)).toEqual(&lt;span&gt;14&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ 7Â *Â -2Â =Â -14&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(multiple(&lt;span&gt;7&lt;/span&gt;,Â &lt;span&gt;-2&lt;/span&gt;)).toEqual(&lt;span&gt;-14&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;jasmine&lt;/code&gt; çš„æ–­è¨€é£æ ¼å’Œ &lt;code&gt;chai&lt;/code&gt; å¾ˆä¸ä¸€æ ·ï¼Œ&lt;code&gt;jasmine&lt;/code&gt; çš„ &lt;code&gt;API&lt;/code&gt; å¦‚ä¸‹ï¼Œä¸ &lt;code&gt;chai&lt;/code&gt; ç›¸æ¯”å°‘å†™äº†å¾ˆå¤š &lt;code&gt;.&lt;/code&gt; ï¼Œè€Œä¸”æ”¯æŒçš„åŠŸèƒ½æ›´åŠ æ¸…æ™°ï¼Œä¸ç”¨è€ƒè™‘å¦‚ä½•ç»„åˆä½¿ç”¨çš„é—®é¢˜ï¼Œè€Œä¸”ä¸‹æ–‡ä»‹ç»çš„ &lt;code&gt;jest&lt;/code&gt; æµ‹è¯•æ¡†æ¶ä¹Ÿæ˜¯ä½¿ç”¨è¿™ç§é£æ ¼ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;nothing()&lt;br/&gt;toBe(expected)&lt;br/&gt;toBeCloseTo(expected,Â precisionopt)&lt;br/&gt;toBeDefined()&lt;br/&gt;toBeFalse()&lt;br/&gt;toBeFalsy()&lt;br/&gt;toBeGreaterThan(expected)&lt;br/&gt;toBeGreaterThanOrEqual(expected)&lt;br/&gt;toBeInstanceOf(expected)&lt;br/&gt;toBeLessThan(expected)&lt;br/&gt;toBeLessThanOrEqual(expected)&lt;br/&gt;toBeNaN()&lt;br/&gt;toBeNegativeInfinity()&lt;br/&gt;toBeNull()&lt;br/&gt;toBePositiveInfinity()&lt;br/&gt;toBeTrue()&lt;br/&gt;toBeTruthy()&lt;br/&gt;toBeUndefined()&lt;br/&gt;toContain(expected)&lt;br/&gt;toEqual(expected)&lt;br/&gt;toHaveBeenCalled()&lt;br/&gt;toHaveBeenCalledBefore(expected)&lt;br/&gt;toHaveBeenCalledOnceWith()&lt;br/&gt;toHaveBeenCalledTimes(expected)&lt;br/&gt;toHaveBeenCalledWith()&lt;br/&gt;toHaveClass(expected)&lt;br/&gt;toHaveSize(expected)&lt;br/&gt;toMatch(expected)&lt;br/&gt;toThrow(expectedopt)&lt;br/&gt;toThrowError(expectedopt,Â messageopt)&lt;br/&gt;toThrowMatching(predicate)&lt;br/&gt;withContext(message)Â â†’Â {matchers}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿è¡Œ &lt;code&gt;jasmine&lt;/code&gt; å³å¯ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.42237061769616024&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3gxrWQNlATNfvnYuvHyR2WN5w2g7iabfYQqH4N5jDTxXVj9KPBM6C7Sw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1797&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é»˜è®¤çš„æµ‹è¯•æŠ¥å‘Šä¸æ˜¯å¾ˆç›´è§‚ï¼Œ å¦‚æœå¸Œæœ›æä¾›ç±»ä¼¼ &lt;code&gt;Mocha&lt;/code&gt; é£æ ¼çš„æŠ¥å‘Šå¯ä»¥å®‰è£… &lt;code&gt;jasmine-spec-reporter&lt;/code&gt; ï¼Œåœ¨ &lt;code&gt;spec/helpers&lt;/code&gt; ç›®å½•ä¸­æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œ ä¾‹å¦‚&lt;code&gt;spec/helpers/reporter.js&lt;/code&gt;ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â SpecReporterÂ =Â &lt;span&gt;require&lt;/span&gt;(&lt;span&gt;&#x27;jasmine-spec-reporter&#x27;&lt;/span&gt;).SpecReporter;&lt;br/&gt;&lt;br/&gt;jasmine.getEnv().clearReporters();Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â removeÂ defaultÂ reporterÂ logs&lt;/span&gt;&lt;br/&gt;jasmine.getEnv().addReporter(&lt;span&gt;new&lt;/span&gt;Â SpecReporter({Â Â &lt;span&gt;//Â addÂ jasmine-spec-reporter&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;spec&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;displayPending&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}));&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ—¶è¾“å‡ºçš„ç”¨ä¾‹æŠ¥å‘Šå¦‚ä¸‹&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4301449275362319&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3L8pgxRCsT5mqTC0nem85ZLQJdMkpljW87RSNADvkKJAPmtsVB61OYg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1725&quot;/&gt;&lt;figcaption&gt;jasmine&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåœ¨ &lt;code&gt;Jasmine&lt;/code&gt; ä¸­æ‰§è¡Œ DOM çº§åˆ«çš„æµ‹è¯•ï¼Œå°±ä¾ç„¶éœ€è¦å€ŸåŠ© &lt;code&gt;Karma&lt;/code&gt; æˆ– &lt;code&gt;JSDOM&lt;/code&gt;äº†ï¼Œå…·ä½“çš„é…ç½®è¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ç»“ä¸‹ &lt;code&gt;Jasmine&lt;/code&gt; çš„å·¥å…·é“¾&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Node ç¯å¢ƒä¸‹æµ‹è¯• : &lt;code&gt;Jasmine&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¨¡æ‹Ÿ &lt;code&gt;JSDOM&lt;/code&gt; æµ‹è¯• : &lt;code&gt;Jasmine&lt;/code&gt; + &lt;code&gt;JSDOM&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;çœŸå®æµè§ˆå™¨æµ‹è¯• : &lt;code&gt;Karma&lt;/code&gt; + &lt;code&gt;Jasmine&lt;/code&gt; + &lt;code&gt;webpack&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;JEST&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.34531081566654687&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3fZJgdFmaPhvibH7ejVRGttjF1iaHyL9S4m8fGziazKNsXpquVune7cXtg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2783&quot;/&gt;&lt;figcaption&gt;jest&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Jest&lt;/code&gt; æ˜¯ &lt;code&gt;facebook&lt;/code&gt; å‡ºçš„ä¸€ä¸ªå®Œæ•´çš„å•å…ƒæµ‹è¯•æŠ€æœ¯æ–¹æ¡ˆï¼Œé›† æµ‹è¯•æ¡†æ¶, æ–­è¨€åº“, å¯åŠ¨å™¨, å¿«ç…§ï¼Œæ²™ç®±ï¼Œmockå·¥å…·äºä¸€èº«ï¼Œä¹Ÿæ˜¯ &lt;code&gt;React&lt;/code&gt; å®˜æ–¹ä½¿ç”¨çš„æµ‹è¯•å·¥å…·ã€‚&lt;code&gt;Jest&lt;/code&gt; å’Œ &lt;code&gt;Jasmine&lt;/code&gt; å…·æœ‰éå¸¸ç›¸ä¼¼çš„ &lt;code&gt;API&lt;/code&gt; ï¼Œæ‰€ä»¥åœ¨ &lt;code&gt;Jasmine&lt;/code&gt; ä¸­ç”¨åˆ°çš„å·¥å…·åœ¨ &lt;code&gt;Jest&lt;/code&gt; ä¸­ä¾ç„¶å¯ä»¥å¾ˆè‡ªç„¶åœ°ä½¿ç”¨ã€‚å¯ä»¥è¿‘ä¼¼çœ‹ä½œ &lt;code&gt;Jest = JSDOM å¯åŠ¨å™¨ + Jasmine&lt;/code&gt; ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è™½ç„¶ Jest æä¾›äº†å¾ˆä¸°å¯Œçš„åŠŸèƒ½ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å†…ç½® &lt;code&gt;ES6&lt;/code&gt; æ”¯æŒï¼Œæ‰€ä»¥ä¾ç„¶éœ€è¦æ ¹æ®ä¸åŒè¿è¡Œæ—¶å¯¹ä»£ç è¿›è¡Œè½¬æ¢ï¼Œç”±äº Jest ä¸»è¦è¿è¡Œåœ¨ &lt;code&gt;Node&lt;/code&gt; ä¸­ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ &lt;code&gt;babel-jest&lt;/code&gt; å°† &lt;code&gt;ES Module&lt;/code&gt; è½¬æ¢æˆ &lt;code&gt;CommonJS&lt;/code&gt; ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Jest çš„é»˜è®¤é…ç½®&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ jestÂ --save-dev&lt;br/&gt;npxÂ jestÂ --init&lt;br/&gt;âˆšÂ WouldÂ youÂ likeÂ toÂ useÂ JestÂ whenÂ runningÂ &quot;test&quot;Â scriptÂ inÂ &quot;package.json&quot;?Â ...Â yes&lt;br/&gt;âˆšÂ WouldÂ youÂ likeÂ toÂ useÂ TypescriptÂ forÂ theÂ configurationÂ file?Â ...Â no&lt;br/&gt;âˆšÂ ChooseÂ theÂ testÂ environmentÂ thatÂ willÂ beÂ usedÂ forÂ testingÂ Â»Â jsdomÂ (browser-like)&lt;br/&gt;âˆšÂ DoÂ youÂ wantÂ JestÂ toÂ addÂ coverageÂ reports?Â ...Â no&lt;br/&gt;âˆšÂ WhichÂ providerÂ shouldÂ beÂ usedÂ toÂ instrumentÂ codeÂ forÂ coverage?Â Â»Â babel&lt;br/&gt;âˆšÂ AutomaticallyÂ clearÂ mockÂ callsÂ andÂ instancesÂ betweenÂ everyÂ test?Â ...Â yes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ &lt;code&gt;Node&lt;/code&gt; æˆ– &lt;code&gt;JSDOM&lt;/code&gt; ä¸‹å¢åŠ  &lt;code&gt;ES6&lt;/code&gt;ä»£ç çš„æ”¯æŒ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ jest-babelÂ @babel/coreÂ @babel/preset-env&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .babelrc&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â jest.config.js&lt;br/&gt;//Â ä¸‹é¢ä¸¤è¡Œä¸ºé»˜è®¤é…ç½®ï¼Œä¸å†™ä¹Ÿå¯ä»¥&lt;br/&gt;{&lt;br/&gt;&lt;span&gt;+Â Â Â Â testEnvironment:Â &quot;jsdom&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â transform:Â {&quot;\\.[jt]sx?$&quot;:Â &quot;babel-jest&quot;}&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ &lt;code&gt;Jest&lt;/code&gt; ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3801732435033686&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3LsShvuKbtgy8UeUlu5wrNhIYhiaoqjNFyqLpFnAOxNS7pfoEPqjvBGw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1039&quot;/&gt;&lt;figcaption&gt;jest&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äº &lt;code&gt;React&lt;/code&gt; å’Œ &lt;code&gt;TypeScript&lt;/code&gt; æ”¯æŒä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ &lt;code&gt;babel&lt;/code&gt; çš„é…ç½®è§£å†³&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ @babel/preset-reactÂ @babel/preset-typescriptÂ --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â .babrlrc&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;@babel/preset-react&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;@babel/preset-typescript&quot;&lt;/span&gt;]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Jest åœ¨çœŸå®æµè§ˆå™¨ç¯å¢ƒä¸‹æµ‹è¯•&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰ &lt;code&gt;Jest&lt;/code&gt; ä¸æ”¯æŒç›´æ¥åœ¨çœŸå®æµè§ˆå™¨ä¸­è¿›è¡Œæµ‹è¯•ï¼Œå…¶é»˜è®¤çš„å¯åŠ¨å™¨åªæä¾›äº†ä¸€ä¸ª &lt;code&gt;JSDOM&lt;/code&gt; ç¯å¢ƒï¼Œåœ¨æµè§ˆå™¨ä¸­è¿›è¡Œå•å…ƒæµ‹è¯•ç›®å‰åªæœ‰ &lt;code&gt;Karma&lt;/code&gt; æ–¹æ¡ˆèƒ½åšåˆ°ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code&gt;Karma&lt;/code&gt; + &lt;code&gt;Jest&lt;/code&gt; æ–¹æ¡ˆå®ç°ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå› ä¸º &lt;code&gt;Jest&lt;/code&gt; è‡ªèº«å¤ªé‡ï¼Œä½¿ç”¨ &lt;code&gt;Karma&lt;/code&gt; + &lt;code&gt;Jasmine&lt;/code&gt; èƒ½è¾¾åˆ°åŸºæœ¬ä¸€æ ·çš„æ•ˆæœã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæµè¡Œçš„ &lt;code&gt;E2E&lt;/code&gt; æ–¹æ¡ˆ &lt;code&gt;Jest&lt;/code&gt; + &lt;code&gt;Puppeteer&lt;/code&gt; , Â ç”±äº &lt;code&gt;E2E&lt;/code&gt; Â ä¸å±äºå•å…ƒæµ‹è¯•èŒƒç•´ï¼Œè¿™é‡Œä¸å†å±•å¼€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Jest&lt;/code&gt; å·¥å…·é“¾æ€»ç»“&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Node ç¯å¢ƒä¸‹æµ‹è¯• : &lt;code&gt;Jest&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;JSDOM&lt;/code&gt; æµ‹è¯• : &lt;code&gt;Jest&lt;/code&gt; + &lt;code&gt;babel&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;çœŸå®æµè§ˆå™¨æµ‹è¯•(ä¸æ¨è)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;E2E&lt;/code&gt; æµ‹è¯• : &lt;code&gt;Jest&lt;/code&gt; + &lt;code&gt;Puppeteer&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¨ä½œæ€»ç»“&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„å†…å®¹ä»‹ç»äº† &lt;code&gt;chai&lt;/code&gt; , Â &lt;code&gt;mocha&lt;/code&gt; , &lt;code&gt;karma&lt;/code&gt; , &lt;code&gt;jasmine&lt;/code&gt; å’Œ &lt;code&gt;jest&lt;/code&gt;, æ¯ç§å·¥å…·åˆ†åˆ«å¯¹åº”ä¸€äº›è‡ªå·±ç‰¹æœ‰çš„å·¥å…·é“¾ï¼Œåœ¨é€‰å–åˆé€‚çš„æµ‹è¯•å·¥å…·æ—¶æ ¹æ®å®é™…éœ€è¦é€‰æ‹©ï¼Œ æµ‹è¯•é¢†åŸŸè¿˜æœ‰éå¸¸å¤šçš„å·¥å…·æ•°éƒ½æ•°ä¸è¿‡æ¥ï¼Œä¸‹é¢æ¥çœ‹ä¸‹ React å•å…ƒæµ‹è¯•çš„ä¸€äº›æ–¹æ³•ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä½¿ç”¨ Jest + Enzyme å¯¹ React è¿›è¡Œå•å…ƒæµ‹è¯•&lt;span/&gt;&lt;/h4&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3540462427745665&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3ket1vuUibYIeNFwL6PXxINjOW2ZT01c5C3u1jSFiciccIh3j2tqFfADaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2768&quot;/&gt;&lt;figcaption&gt;enzyme&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Enzyme&lt;/code&gt;åŸºç¡€é…ç½®å¦‚ä¸‹:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;npmÂ installÂ enzymeÂ enzyme-adapter-react-16Â jest-enzymeÂ jest-environment-enzymeÂ jest-canvas-mockÂ react@16Â react-dom@16Â --save-dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â jest.config.js&lt;br/&gt;{&lt;br/&gt;&lt;span&gt;-Â &quot;testEnvironment&quot;:Â &quot;jsdom&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â setupFilesAfterEnv:Â [&quot;jest-enzyme&quot;,Â &quot;jest-canvas-mock&quot;],&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â testEnvironment:Â &quot;enzyme&quot;,&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â testEnvironmentOptions:Â {&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â Â Â &quot;enzymeAdapter&quot;:Â &quot;react16&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â Â },&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;jest-canvas-mock&lt;/code&gt; è¿™ä¸ªåŒ…æ˜¯ä¸ºäº†è§£å†³ä¸€äº›ä½¿ç”¨ &lt;code&gt;JSDOM&lt;/code&gt; æœªå®ç°è¡Œä¸ºè§¦å‘è­¦å‘Šçš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢å»ºç«‹äº†ä¸€ä¸ªä½¿ç”¨ &lt;code&gt;Enzyme&lt;/code&gt; æ¯”è¾ƒå‹å¥½çš„ç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œå¼•ç”¨ &lt;code&gt;React&lt;/code&gt; , &lt;code&gt;shallow&lt;/code&gt;, &lt;code&gt;mount&lt;/code&gt; ç­‰ &lt;code&gt;API&lt;/code&gt;ã€‚æ­¤å¤– &lt;code&gt;Enzyme&lt;/code&gt; è¿˜æ³¨å†Œäº†è®¸å¤šå‹å¥½çš„æ–­è¨€å‡½æ•°åˆ° &lt;code&gt;Jest&lt;/code&gt; ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œ&lt;span&gt;å‚è€ƒåœ°å€&lt;/span&gt;&lt;sup&gt;[8]&lt;/sup&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;toBeChecked()&lt;br/&gt;toBeDisabled()&lt;br/&gt;toBeEmptyRender()&lt;br/&gt;toExist()&lt;br/&gt;toContainMatchingElement()&lt;br/&gt;toContainMatchingElements()&lt;br/&gt;toContainExactlyOneMatchingElement()&lt;br/&gt;toContainReact()&lt;br/&gt;toHaveClassName()&lt;br/&gt;toHaveDisplayName()&lt;br/&gt;toHaveHTML()&lt;br/&gt;toHaveProp()&lt;br/&gt;toHaveRef()&lt;br/&gt;toHaveState()&lt;br/&gt;toHaveStyle()&lt;br/&gt;toHaveTagName()&lt;br/&gt;toHaveText()&lt;br/&gt;toIncludeText()&lt;br/&gt;toHaveValue()&lt;br/&gt;toMatchElement()&lt;br/&gt;toMatchSelector()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â js/ClassComponent.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â ReactÂ &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;react&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ClassComponent&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;PureComponent&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;constructor&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;super&lt;/span&gt;();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.stateÂ =Â {Â &lt;span&gt;name&lt;/span&gt;:Â &lt;span&gt;&#x27;classcomponent&#x27;&lt;/span&gt;Â };&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â render()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â aÂ simpleÂ classÂ component&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;CustomComponent&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â );&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â test/hook.test.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â HookComponentÂ &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;../js/HookComponent&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;describe(&lt;span&gt;&#x27;HookComponent&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;testÂ withÂ shallow&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â wrapperÂ =Â shallow(&lt;span&gt;&amp;lt;&lt;span&gt;HookComponent&lt;/span&gt;Â &lt;span&gt;id&lt;/span&gt;=&lt;span&gt;{1}&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toHaveState(&lt;span&gt;&#x27;name&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;classcomponent&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toIncludeText(&lt;span&gt;&#x27;aÂ simpleÂ classÂ component&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainReact(&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;aÂ simpleÂ classÂ component&lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainMatchingElement(&lt;span&gt;&#x27;CustomComponent&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Enzyme&lt;/code&gt; æä¾›äº†ä¸‰ç§æ¸²æŸ“ç»„ä»¶æ–¹æ³•&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;shallow&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;react-test-renderer&lt;/code&gt; å°†ç»„ä»¶æ¸²æŸ“æˆå†…å­˜ä¸­çš„å¯¹è±¡, å¯ä»¥æ–¹ä¾¿è¿›è¡Œ &lt;code&gt;props&lt;/code&gt;, &lt;code&gt;state&lt;/code&gt; ç­‰æ•°æ®æ–¹é¢çš„æµ‹è¯•ï¼Œå¯¹åº”çš„æ“ä½œå¯¹è±¡ä¸º &lt;code&gt;ShallowWrapper&lt;/code&gt;ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ä»…èƒ½æ„ŸçŸ¥åˆ°ç¬¬ä¸€å±‚è‡ªå®šä¹‰å­ç»„ä»¶ï¼Œå¯¹äºè‡ªå®šä¹‰å­ç»„ä»¶å†…éƒ¨ç»“æ„åˆ™æ— æ³•æ„ŸçŸ¥ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;mount&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;react-dom&lt;/code&gt; æ¸²æŸ“ç»„ä»¶ï¼Œä¼šåˆ›å»ºçœŸå® &lt;code&gt;DOM&lt;/code&gt; èŠ‚ç‚¹ï¼Œæ¯” &lt;code&gt;shallow&lt;/code&gt; ç›¸æ¯”å¢åŠ äº†å¯ä»¥ä½¿ç”¨åŸç”Ÿ &lt;code&gt;API&lt;/code&gt; æ“ä½œ &lt;code&gt;DOM&lt;/code&gt; çš„èƒ½åŠ›ï¼Œå¯¹åº”çš„æ“ä½œå¯¹è±¡ä¸º &lt;code&gt;ReactWrapper&lt;/code&gt;ï¼Œè¿™ç§æ¨¡å¼ä¸‹æ„ŸçŸ¥åˆ°çš„æ˜¯ä¸€ä¸ªå®Œæ•´çš„ &lt;code&gt;DOM&lt;/code&gt; æ ‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;render&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;react-dom-server&lt;/code&gt; æ¸²æŸ“æˆ &lt;code&gt;html&lt;/code&gt; å­—ç¬¦ä¸²ï¼ŒåŸºäºè¿™ä»½é™æ€æ–‡æ¡£è¿›è¡Œæ“ä½œï¼Œå¯¹åº”çš„æ“ä½œå¯¹è±¡ä¸º &lt;code&gt;CheerioWrapper&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Shallow æ¸²æŸ“&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸º &lt;code&gt;shallow&lt;/code&gt; æ¨¡å¼ä»…èƒ½æ„ŸçŸ¥åˆ°ç¬¬ä¸€å±‚è‡ªå®šä¹‰å­ç»„ä»¶ç»„ä»¶ï¼Œå¾€å¾€åªèƒ½ç”¨äºç®€å•ç»„ä»¶æµ‹è¯•ã€‚ä¾‹å¦‚ä¸‹é¢çš„ç»„ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â js/avatar.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Image&lt;/span&gt;(&lt;span&gt;{Â srcÂ }&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;img&lt;/span&gt;Â &lt;span&gt;src&lt;/span&gt;=&lt;span&gt;{src}&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Living&lt;/span&gt;(&lt;span&gt;{Â childrenÂ }&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;icon-living&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Â {Â childrenÂ }Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Avatar&lt;/span&gt;(&lt;span&gt;{Â user,Â onClickÂ }&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â {Â living,Â avatarUrlÂ }Â =Â user;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;container&quot;&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{onClick}&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;wrapper&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;Living&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;text&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Â ç›´æ’­ä¸­Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;Living&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;Image&lt;/span&gt;Â &lt;span&gt;src&lt;/span&gt;=&lt;span&gt;{avatarUrl}&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â )&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â Avatar;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;shallow&lt;/code&gt; æ¸²æŸ“è™½ç„¶ä¸æ˜¯çœŸæ­£çš„æ¸²æŸ“ï¼Œä½†æ˜¯å…¶ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¼šå®Œæ•´åœ°èµ°ä¸€éã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ &lt;code&gt;shallow(&amp;lt;Avatar /&amp;gt;)&lt;/code&gt; èƒ½æ„ŸçŸ¥åˆ°çš„ç»“æ„å¦‚ä¸‹, æ³¨æ„çœ‹åˆ° &lt;code&gt;div.text&lt;/code&gt; ä½œä¸º &lt;code&gt;Living&lt;/code&gt; ç»„ä»¶çš„ &lt;code&gt;children&lt;/code&gt; èƒ½å¤Ÿè¢«æ£€æµ‹åˆ°ï¼Œä½†æ˜¯ &lt;code&gt;Living&lt;/code&gt; çš„å†…éƒ¨ç»“æ„æ— æ³•æ„ŸçŸ¥ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6296918767507003&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3KLRcF118L4bsfrB22vO6nAr9F2YFziay1ldgEH4JGkwYWjTIWTAUfqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1785&quot;/&gt;&lt;figcaption&gt;shallow&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Enzyme&lt;/code&gt; æ”¯æŒçš„é€‰æ‹©å™¨æ”¯æŒæˆ‘ä»¬ç†Ÿæ‚‰çš„ &lt;code&gt;css selector&lt;/code&gt; è¯­æ³•ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥å¯¹ &lt;code&gt;DOM&lt;/code&gt; ç»“æ„åšå¦‚ä¸‹æµ‹è¯•&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â test/avatar.test.js&lt;/span&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â AvatarÂ &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&#x27;../js/avatar&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;describe(&lt;span&gt;&#x27;Avatar&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â wrapperÂ =Â &lt;span&gt;null&lt;/span&gt;,Â avatarUrlÂ =Â &lt;span&gt;&#x27;abc&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â beforeEach(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â wrapperÂ =Â shallow(&lt;span&gt;&amp;lt;&lt;span&gt;Avatar&lt;/span&gt;Â &lt;span&gt;user&lt;/span&gt;=&lt;span&gt;{{&lt;/span&gt;Â avatarUrl:Â avatarUrlÂ }}Â /&amp;gt;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â afterEach(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â wrapper.unmount();&lt;br/&gt;Â Â Â Â Â Â Â Â jest.clearAllMocks();&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ renderÂ success&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â wrapperÂ æ¸²æŸ“ä¸ä¸ºç©º&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).not.toBeEmptyRender();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ImageÂ ç»„ä»¶æ¸²æŸ“ä¸ä¸ºç©º,Â è¿™é‡Œä¼šæ‰§è¡ŒÂ ImageÂ ç»„ä»¶çš„æ¸²æŸ“å‡½æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;)).not.toBeEmptyRender();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainMatchingElement(&lt;span&gt;&#x27;div.container&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â åŒ…å«ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainMatchingElement(&lt;span&gt;&quot;Image&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainMatchingElement(&lt;span&gt;&#x27;Living&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â shallowÂ æ¸²æŸ“ä¸åŒ…å«å­ç»„ä»¶çš„å†…éƒ¨ç»“æ„&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).not.toContainMatchingElement(&lt;span&gt;&#x27;img&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â shallowÂ æ¸²æŸ“åŒ…å«Â childrenÂ èŠ‚ç‚¹&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper).toContainMatchingElement(&lt;span&gt;&#x27;div.text&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â shallowÂ æ¸²æŸ“å¯ä»¥å¯¹Â childrenÂ èŠ‚ç‚¹å†…éƒ¨ç»“æ„åšæµ‹è¯•&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;div.text&#x27;&lt;/span&gt;)).toIncludeText(&lt;span&gt;&#x27;ç›´æ’­ä¸­&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæˆ‘ä»¬æƒ³å»æµ‹è¯•å¯¹åº”ç»„ä»¶çš„ &lt;code&gt;props&lt;/code&gt; / &lt;code&gt;state&lt;/code&gt; ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿æµ‹è¯•ï¼Œä¸è¿‡ç›®å‰å­˜åœ¨ç¼ºé™·ï¼Œ&lt;code&gt;Class Component&lt;/code&gt; èƒ½é€šè¿‡ &lt;code&gt;toHaveProp&lt;/code&gt;, &lt;code&gt;toHaveState&lt;/code&gt; ç›´æ¥æµ‹è¯•ï¼Œ ä½†æ˜¯ &lt;code&gt;Hook&lt;/code&gt; ç»„ä»¶æ— æ³•æµ‹è¯• &lt;code&gt;useState&lt;/code&gt; ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;itÂ (&lt;span&gt;&#x27;ImageÂ componentÂ receiveÂ props&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â imageWrapperÂ =Â wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;);ã€&lt;br/&gt;Â Â &lt;span&gt;//Â å¯¹äºÂ HookÂ ç»„ä»¶ç›®å‰æˆ‘ä»¬åªèƒ½æµ‹è¯•Â props&lt;/span&gt;&lt;br/&gt;Â Â expect(imageWrapper).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â avatarUrl);&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;wrapper.find&lt;/code&gt; è™½ç„¶ä¼šè¿”å›åŒæ ·çš„ä¸€ä¸ª &lt;code&gt;ShallowWrapper&lt;/code&gt; å¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡çš„å­ç»“æ„æ˜¯æœªå±•å¼€çš„ï¼Œå¦‚æœæƒ³æµ‹è¯•&lt;code&gt;imageWrapper&lt;/code&gt; å†…éƒ¨ç»“æ„ï¼Œéœ€è¦å† &lt;code&gt;shallow render&lt;/code&gt; ä¸€æ¬¡ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;itÂ (&lt;span&gt;&#x27;ImageÂ momponentÂ receiveÂ props&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â imageWrapperÂ =Â wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;).shallow();&lt;br/&gt;&lt;br/&gt;Â Â expect(imageWrapper).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â avatarUrl);&lt;br/&gt;Â Â expect(imageWrapper).toContainMatchingElement(&lt;span&gt;&#x27;img&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â expect(imageWrapper.find(&lt;span&gt;&#x27;img&#x27;&lt;/span&gt;)).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â avatarUrl);&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå¯ä»¥æ”¹å˜ç»„ä»¶çš„ &lt;code&gt;props&lt;/code&gt;, è§¦å‘ç»„ä»¶é‡ç»˜&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;itÂ (&lt;span&gt;&#x27;shouldÂ rerenderÂ whenÂ userÂ change&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â newAvatarUrlÂ =Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;Â +Â &lt;span&gt;Math&lt;/span&gt;.random();&lt;br/&gt;Â Â Â Â wrapper.setProps({Â &lt;span&gt;user&lt;/span&gt;:Â {Â &lt;span&gt;avatarUrl&lt;/span&gt;:Â newAvatarUrlÂ }});&lt;br/&gt;Â Â Â Â wrapper.update();&lt;br/&gt;Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;)).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â newAvatarUrl);&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦ä¸€ä¸ªå¸¸è§çš„åœºæ™¯æ˜¯äº‹ä»¶æ¨¡æ‹Ÿï¼Œäº‹ä»¶æ¯”è¾ƒæ¥è¿‘çœŸå®æµ‹è¯•åœºæ™¯ï¼Œè¿™ç§åœºæ™¯ä¸‹ä½¿ç”¨ &lt;code&gt;shallow&lt;/code&gt; å­˜åœ¨è¯¸å¤šç¼ºé™·ï¼Œå› ä¸º &lt;code&gt;shallow&lt;/code&gt; åœºæ™¯äº‹ä»¶ä¸ä¼šåƒçœŸå®äº‹ä»¶ä¸€æ ·æœ‰æ•è·å’Œå†’æ³¡æµç¨‹ï¼Œæ‰€ä»¥æ­¤æ—¶åªèƒ½ç®€å•çš„è§¦å‘å¯¹åº”çš„ &lt;code&gt;callback&lt;/code&gt; è¾¾åˆ°æµ‹è¯•ç›®çš„ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;itÂ (&lt;span&gt;&#x27;willÂ callÂ onClickÂ propÂ whenÂ clickÂ eventÂ fired&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â fnÂ =Â jest.fn();&lt;br/&gt;&lt;br/&gt;Â Â Â Â wrapper.setProps({Â &lt;span&gt;onClick&lt;/span&gt;:Â fnÂ });&lt;br/&gt;Â Â Â Â wrapper.update();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è¿™é‡Œè§¦å‘äº†ä¸¤æ¬¡ç‚¹å‡»äº‹ä»¶ï¼Œä½†æ˜¯ onClick åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â wrapper.find(&lt;span&gt;&#x27;div.container&#x27;&lt;/span&gt;).simulate(&lt;span&gt;&#x27;click&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â wrapper.find(&lt;span&gt;&#x27;div.wrapper&#x27;&lt;/span&gt;).simulate(&lt;span&gt;&#x27;click&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â expect(fn).toHaveBeenCalledTimes(&lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºè¿™äº›ç½‘ä¸Šæœ‰äººæ€»ç»“äº† &lt;code&gt;shallow&lt;/code&gt; æ¨¡å¼ä¸‹çš„ä¸€äº›ä¸è¶³&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;shallow&lt;/code&gt; æ¸²æŸ“ä¸ä¼šè¿›è¡Œäº‹ä»¶å†’æ³¡ï¼Œè€Œ &lt;code&gt;mount&lt;/code&gt; ä¼šã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;shallow&lt;/code&gt; æ¸²æŸ“å› ä¸ºä¸ä¼šåˆ›å»ºçœŸå® &lt;code&gt;DOM&lt;/code&gt;ï¼Œæ‰€ä»¥ç»„ä»¶ä¸­ä½¿ç”¨ &lt;code&gt;refs&lt;/code&gt; çš„åœ°æ–¹éƒ½æ— æ³•æ­£å¸¸è·å–ï¼Œå¦‚æœç¡®å®éœ€è¦ä½¿ç”¨ &lt;code&gt;refs&lt;/code&gt; , åˆ™å¿…é¡»ä½¿ç”¨ &lt;code&gt;mount&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;simulate&lt;/code&gt; Â åœ¨ &lt;code&gt;mount&lt;/code&gt; ä¸­ä¼šæ›´åŠ æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä¼šè¿›è¡Œäº‹ä»¶å†’æ³¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ä¸Šé¢å‡ ç‚¹è¯´æ˜äº†ä¸€ä¸ªç°è±¡æ˜¯ &lt;code&gt;shallow&lt;/code&gt; å¾€å¾€åªé€‚åˆä¸€ç§ç†æƒ³çš„åœºæ™¯ï¼Œä¸€äº›ä¾èµ–æµè§ˆå™¨è¡Œä¸ºè¡¨ç°çš„æ“ä½œ &lt;code&gt;shallow&lt;/code&gt; æ— æ³•æ»¡è¶³ï¼Œè¿™äº›å’ŒçœŸå®ç¯å¢ƒç›¸å…³çš„å°±åªèƒ½ä½¿ç”¨&lt;code&gt;mount&lt;/code&gt;äº†ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Mount æ¸²æŸ“&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Mount&lt;/code&gt; æ¸²æŸ“çš„å¯¹è±¡ç»“æ„ä¸º &lt;code&gt;ReactWrapper&lt;/code&gt; å…¶æä¾›äº†å’Œ &lt;code&gt;ShallowWrapper&lt;/code&gt; å‡ ä¹ä¸€æ ·çš„ &lt;code&gt;API&lt;/code&gt; , å·®å¼‚å¾ˆå°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ &lt;code&gt;API&lt;/code&gt;å±‚é¢çš„ä¸€äº›å·®å¼‚å¦‚ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;+Â getDOMNode()Â Â Â Â Â Â Â Â è·å–DOMèŠ‚ç‚¹&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â detach()Â Â Â Â Â Â Â Â Â Â Â Â å¸è½½Reactç»„ä»¶ï¼Œç›¸å½“äºÂ unmountComponentAtNode&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â mount()Â Â Â Â Â Â Â Â Â Â Â Â Â æŒ‚è½½ç»„ä»¶ï¼Œunmountä¹‹åé€šè¿‡è¿™ä¸ªæ–¹æ³•é‡æ–°æŒ‚è½½&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â ref(refName)Â Â Â Â Â Â Â Â è·å–Â classÂ componentÂ çš„Â instance.refsÂ ä¸Šçš„å±æ€§&lt;/span&gt;&lt;br/&gt;&lt;span&gt;+Â setProps(nextProps,Â callback)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;-Â setProps(nextProps)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;-Â shallow()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;-Â dive()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;-Â getElement()&lt;/span&gt;&lt;br/&gt;&lt;span&gt;-Â getElements()&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ç”±äº &lt;code&gt;mount&lt;/code&gt; ä½¿ç”¨ &lt;code&gt;ReactDOM&lt;/code&gt; è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€ä»¥å…¶æ›´åŠ æ¥è¿‘çœŸå®åœºæ™¯ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹æˆ‘ä»¬èƒ½è§‚å¯Ÿåˆ°æ•´ä¸ª &lt;code&gt;DOM&lt;/code&gt; ç»“æ„å’ŒReactç»„ä»¶èŠ‚ç‚¹ç»“æ„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.643793369313801&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KV8By3euEQhZYTauMbrpamMgft7MXkV3icJmwZuVmYaEPMXjricYNfemwZrfAHwZpPlczepjhAEBC71svE0lK4icA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1297&quot;/&gt;&lt;figcaption&gt;mount&lt;/figcaption&gt;&lt;/figure&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;describe(&lt;span&gt;&#x27;MountÂ Avatar&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â wrapperÂ =Â &lt;span&gt;null&lt;/span&gt;,Â avatarUrlÂ =Â &lt;span&gt;&#x27;123&#x27;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â beforeEach(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â wrapperÂ =Â mount(&lt;span&gt;&amp;lt;&lt;span&gt;Avatar&lt;/span&gt;Â &lt;span&gt;user&lt;/span&gt;=&lt;span&gt;{{&lt;/span&gt;Â avatarUrlÂ }}Â /&amp;gt;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â afterEach(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â jest.clearAllMocks();&lt;br/&gt;Â Â Â Â })&lt;br/&gt;&lt;br/&gt;Â Â Â Â itÂ (&lt;span&gt;&#x27;shouldÂ setÂ imgÂ srcÂ withÂ avatarurl&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;)).toExist();&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;Image&#x27;&lt;/span&gt;)).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â avatarUrl);&lt;br/&gt;Â Â Â Â Â Â Â Â expect(wrapper.find(&lt;span&gt;&#x27;img&#x27;&lt;/span&gt;)).toHaveProp(&lt;span&gt;&#x27;src&#x27;&lt;/span&gt;,Â avatarUrl);&lt;br/&gt;Â Â Â Â })&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ &lt;code&gt;shallow&lt;/code&gt; ä¸­æ— æ³•æ¨¡æ‹Ÿçš„äº‹ä»¶è§¦å‘é—®é¢˜åœ¨ &lt;code&gt;mount&lt;/code&gt; ä¸‹å°±ä¸å†æ˜¯é—®é¢˜ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;itÂ (&lt;span&gt;&#x27;willÂ callÂ onClickÂ propÂ whenÂ clickÂ eventÂ fired&#x27;&lt;/span&gt;,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â fnÂ =Â jest.fn();&lt;br/&gt;&lt;br/&gt;Â Â Â Â wrapper.setProps({Â &lt;span&gt;onClick&lt;/span&gt;:Â fnÂ });&lt;br/&gt;Â Â Â Â wrapper.update();&lt;br/&gt;&lt;br/&gt;Â Â Â Â wrapper.find(&lt;span&gt;&#x27;div.container&#x27;&lt;/span&gt;).simulate(&lt;span&gt;&#x27;click&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â wrapper.find(&lt;span&gt;&#x27;div.wrapper&#x27;&lt;/span&gt;).simulate(&lt;span&gt;&#x27;click&#x27;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â expect(fn).toHaveBeenCalledTimes(&lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;})&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ç»“ä¸€ä¸‹ &lt;code&gt;shallow&lt;/code&gt; ä¸­èƒ½åšçš„ &lt;code&gt;mount&lt;/code&gt; éƒ½èƒ½åšï¼Œ&lt;code&gt;mount&lt;/code&gt;ä¸­èƒ½åšçš„ &lt;code&gt;shallow&lt;/code&gt;ä¸ä¸€å®šèƒ½åšã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Render æ¸²æŸ“&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;render&lt;/code&gt; å†…éƒ¨ä½¿ç”¨ &lt;code&gt;react-dom-server&lt;/code&gt; æ¸²æŸ“æˆå­—ç¬¦ä¸²ï¼Œå†ç»è¿‡ &lt;code&gt;Cherrio&lt;/code&gt; è½¬æ¢æˆå†…å­˜ä¸­çš„ç»“æ„ï¼Œè¿”å› &lt;code&gt;CheerioWrapper&lt;/code&gt; å®ä¾‹ï¼Œèƒ½å¤Ÿå®Œæ•´åœ°æ¸²æŸ“æ•´ä¸ª&lt;code&gt;DOM&lt;/code&gt; æ ‘ï¼Œä½†æ˜¯ä¼šå°†å†…éƒ¨å®ä¾‹çš„çŠ¶æ€ä¸¢å¤±ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸º &lt;code&gt;Static Rendering&lt;/code&gt; ã€‚è¿™ç§æ¸²æŸ“èƒ½å¤Ÿè¿›è¡Œçš„æ“ä½œæ¯”è¾ƒå°‘ï¼Œè¿™é‡Œä¹Ÿä¸ä½œå…·ä½“ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒ &lt;span&gt;å®˜æ–¹æ–‡æ¡£&lt;/span&gt;&lt;sup&gt;[9]&lt;/sup&gt; ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ€»ç»“&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè®©æˆ‘æ¨èçš„è¯ï¼Œå¯¹äºçœŸå®æµè§ˆå™¨æˆ‘ä¼šæ¨è &lt;code&gt;Karma&lt;/code&gt; + &lt;code&gt;Jasmine&lt;/code&gt; æ–¹æ¡ˆæµ‹è¯•ï¼Œå¯¹äº &lt;code&gt;React&lt;/code&gt; æµ‹è¯• &lt;code&gt;Jest&lt;/code&gt; + &lt;code&gt;Enzyme&lt;/code&gt; åœ¨ &lt;code&gt;JSDOM&lt;/code&gt; ç¯å¢ƒä¸‹å·²ç»èƒ½è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ã€‚å¦å¤–æµ‹è¯• &lt;code&gt;React&lt;/code&gt;ç»„ä»¶é™¤äº† &lt;code&gt;Enzyme&lt;/code&gt; æä¾›çš„æ“ä½œï¼Œ &lt;code&gt;Jest&lt;/code&gt; ä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–æœ‰ç”¨çš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¯ä»¥ &lt;code&gt;mock&lt;/code&gt; ä¸€ä¸ª &lt;code&gt;npm&lt;/code&gt; ç»„ä»¶çš„å®ç°ï¼Œè°ƒæ•´ &lt;code&gt;setTimeout&lt;/code&gt; æ—¶é’Ÿç­‰ï¼ŒçœŸæ­£è¿›è¡Œå•å…ƒæµ‹è¯•æ—¶ï¼Œè¿™äº›å·¥å…·ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ•´ä¸ªå•å…ƒæµ‹è¯•æŠ€æœ¯ä½“ç³»åŒ…å«äº†å¾ˆå¤šä¸œè¥¿ï¼Œæœ¬æ–‡æ— æ³•é¢é¢ä¿±åˆ°ï¼Œåªä»‹ç»äº†ä¸€äº›è·ç¦»æˆ‘ä»¬æœ€è¿‘çš„ç›¸å…³çš„æŠ€æœ¯ä½“ç³»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‚è€ƒ&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;https://medium.com/building-ibotta/understanding-chai-js-language-mechanics-cc28e4c9604b&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://medium.com/@turhan.oz/typescript-with-jasmine-easy-project-setup-530c7cc764e8&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://www.liuyiqi.cn/2015/10/12/karma-start/&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://jestjs.io/docs/en&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://blog.bitsrc.io/how-to-test-react-components-with-jest-and-enzyme-in-depth-145fcd06b90&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://www.freecodecamp.org/news/testing-react-hooks/&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;https://www.reddit.com/r/reactjs/comments/ajw2uv/jestenzyme_simulate_event_bubbling_onclick/&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœ¬æ–‡å‘å¸ƒè‡ª &lt;span&gt;ç½‘æ˜“äº‘éŸ³ä¹å¤§å‰ç«¯å›¢é˜Ÿ&lt;/span&gt;&lt;sup&gt;[10]&lt;/sup&gt;ï¼Œæ–‡ç« æœªç»æˆæƒç¦æ­¢ä»»ä½•å½¢å¼çš„è½¬è½½ã€‚æˆ‘ä»¬å¸¸å¹´æ‹›æ”¶å‰ç«¯ã€iOSã€Androidï¼Œå¦‚æœä½ å‡†å¤‡æ¢å·¥ä½œï¼Œåˆæ°å¥½å–œæ¬¢äº‘éŸ³ä¹ï¼Œé‚£å°±åŠ å…¥æˆ‘ä»¬ grp.music-fe(at)corp.netease.comï¼&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;æ±Ÿæ°´: &lt;em&gt;https://www.zhihu.com/people/li-quan-wei-41&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;TDD: &lt;em&gt;https://en.wikipedia.org/wiki/Test-driven_development&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;BDD: &lt;em&gt;https://en.wikipedia.org/wiki/Behavior-driven_development&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;better-assert: &lt;em&gt;https://github.com/tj/better-assert&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[5]&lt;/span&gt;&lt;p&gt;unexpected.js: &lt;em&gt;https://unexpected.js.org/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[6]&lt;/span&gt;&lt;p&gt;AMD: &lt;em&gt;https://github.com/amdjs/amdjs-api/blob/master/AMD.md&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[7]&lt;/span&gt;&lt;p&gt;è§„èŒƒ : &lt;em&gt;http://wiki.commonjs.org/wiki/Modules/1.1&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[8]&lt;/span&gt;&lt;p&gt;å‚è€ƒåœ°å€: &lt;em&gt;https://github.com/enzymejs/enzyme-matchers/blob/master/packages/jest-enzyme/README.md&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[9]&lt;/span&gt;&lt;p&gt;å®˜æ–¹æ–‡æ¡£: &lt;em&gt;https://enzymejs.github.io/enzyme/docs/api/render.html&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[10]&lt;/span&gt;&lt;p&gt;ç½‘æ˜“äº‘éŸ³ä¹å¤§å‰ç«¯å›¢é˜Ÿ: &lt;em&gt;https://github.com/x-orpheus&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c3b7f68d4f960e2e62eda7e34c530e74</guid>
<title>Android ç³»ç»Ÿæ¨é€ Hook å®æˆ˜</title>
<link>https://toutiao.io/k/8g4pb8s</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section id=&quot;toc-content&quot; class=&quot;post no-image&quot;&gt;
      &lt;h1 id=&quot;%E8%83%8C%E6%99%AF&quot;&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;éšç€æ•°æ®ç”Ÿäº§åŠŸèƒ½çš„é€æ¸ç¨³å®šï¼Œå·¥ä½œé‡ç‚¹å¼€å§‹ä»&lt;strong&gt;ä¿è¯æ•°æ®æ€»é‡&lt;/strong&gt;è½¬ç§»åˆ°äº†&lt;strong&gt;ä¿è¯æ•°æ®å®æ•ˆæ€§&lt;/strong&gt;ä¸Šæ¥äº†ã€‚ä¼ ç»Ÿçš„å®šæ—¶çˆ¬è™«èƒ½æ¯”è¾ƒè½»æ¾çš„æŠŠæ•°æ®æ€»é‡åšèµ·æ¥ï¼Œä½†æ˜¯å¯¹äºå¾ˆå¤šçƒ­ç‚¹æ•°æ®ï¼Œå´å¾ˆéš¾åšåˆ°å®æ—¶è·å–ã€‚&lt;/p&gt;&lt;p&gt;è€ƒè™‘åˆ°å¤§éƒ¨åˆ†äº§å“ã€å°¤å…¶æ˜¯æ–°é—»èµ„è®¯ç±»çš„äº§å“ï¼Œéƒ½ä¼šå¯¹çƒ­ç‚¹æ•°æ®åšæ¨é€æ‹‰æ´»ï¼Œå¦‚æœèƒ½æ‹¦æˆªåˆ°è¿™äº›æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½åº”å½“å°†æ•°æ®å®æ•ˆæ€§æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ¬¡æˆ‘ä»¬å°±ä¸»è¦å°è¯•æ‹¦æˆªä¸‹å°ç±³æ‰‹æœºçš„ç³»ç»Ÿé€šé“çš„æ¨é€æ•°æ®ã€‚å½“ç„¶ï¼Œå¯¹äºå„ä¸ª App è‡ªèº«çš„é€šé“ï¼Œä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•åšåˆ°æ‹¦æˆªï¼Œä¸è¿‡é‚£å°±éœ€è¦å¯¹å„ä¸ª App å†åšå¥½ä¿æ´»ã€‚&lt;/p&gt;&lt;h1 id=&quot;%E6%8E%A8%E9%80%81%E6%B5%81%E7%A8%8B&quot;&gt;æ¨é€æµç¨‹&lt;/h1&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-33.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä»¥å°ç±³å®˜æ–¹çš„æ–‡æ¡£ä¸ºä¾‹ï¼Œæ•´ä½“æ¨é€æµç¨‹å¤§è‡´åˆ†å››æ­¥ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;åº”ç”¨å®¢æˆ·ç«¯åœ¨å¯åŠ¨æ—¶å‘ MiPush SDK ä¸­æ³¨å†Œå½“å‰è®¾å¤‡ï¼Œå¹¶è·å¾—å¯¹åº”çš„å”¯ä¸€æ ‡è¯† regIdã€‚&lt;/li&gt;&lt;li&gt;åº”ç”¨æœåŠ¡ç«¯å‘Šè¯‰å°ç±³ç»Ÿä¸€æ¨é€æœåŠ¡ï¼Œä»–éœ€è¦å‘æŸä¸ªæŒ‡å®šè´¦å·ã€æŒ‡å®šç±»å‹ã€æˆ–æŒ‡å®šè®¾å¤‡æ¨é€æ¶ˆæ¯ã€‚&lt;/li&gt;&lt;li&gt;å°ç±³ç»Ÿä¸€çš„æœåŠ¡ç«¯é€šè¿‡ä¸æ‰‹æœºä¸Šçš„ MiPush SDK çš„é•¿è¿æ¥ï¼Œå‘æ‰‹æœºæ¨é€æ•°æ®ï¼Œå¹¶å±•ç¤ºåœ¨é€šçŸ¥æ ä¸­ã€‚&lt;/li&gt;&lt;li&gt;åº”ç”¨å®¢æˆ·ç«¯å®ç°ä¸€ä¸ªè‡ªå®šä¹‰ PushMessageReceiver åšå¥½æ•°æ®è§£æçš„å‡†å¤‡ï¼Œç­‰ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ åå°±å¯ä»¥å°†æ•°æ®ä¼ è¿‡å»ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;ç‰µæ¶‰åˆ°çš„å¤§æ¦‚æœ‰äº”æ–¹çš„ä»£ç ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ‰‹æœºå†…éƒ¨çš„MIUIæ¡†æ¶éƒ¨åˆ†ä»£ç ã€‚&lt;/li&gt;&lt;li&gt;åº”ç”¨å®¢æˆ·ç«¯ä»£ç ã€‚&lt;/li&gt;&lt;li&gt;åº”ç”¨å®¢æˆ·ç«¯å¼•ç”¨çš„å°ç±³çš„ MiPush SDKä»£ç ã€‚&lt;/li&gt;&lt;li&gt;å°ç±³ PushServer çš„ä»£ç ã€‚&lt;/li&gt;&lt;li&gt;åº”ç”¨æœåŠ¡ç«¯çš„ä»£ç ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;åœ¨è¿™é‡Œå½“ä¸­ï¼Œæˆ‘ä»¬å…¶å®åªéœ€è¦å…³å¿ƒ 1ã€3 ä¸¤éƒ¨åˆ†çš„ä»£ç å³å¯ã€‚&lt;/p&gt;&lt;h1 id=&quot;%E8%8E%B7%E5%8F%96%E6%80%9D%E8%B7%AF&quot;&gt;è·å–æ€è·¯&lt;/h1&gt;&lt;p&gt;ç®€å•ç¿»é˜…äº†ç½‘ç»œä¸Šå·²çŸ¥çš„ç­–ç•¥ï¼Œè·å¾—é€šçŸ¥æ çš„æ¨é€æ•°æ®ä¸€èˆ¬æœ‰å¦‚ä¸‹æ€è·¯ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;é€šè¿‡ Appium ç­‰è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œç›´æ¥è·å–é€šçŸ¥æ çš„å…ƒç´ ä¸­çš„æ¶ˆæ¯æ–‡æœ¬ã€‚&lt;/li&gt;&lt;li&gt;è‡ªå·±å†™ä¸€ä¸ª App ï¼Œå®ç° NotificationListenerService æ–¹æ³•ï¼Œç›‘å¬æ‰€æœ‰è¿‡æ¥çš„æ¶ˆæ¯ã€‚&lt;/li&gt;&lt;li&gt;é€šè¿‡ Frida ç­‰ hook å·¥å…·ï¼Œç›´æ¥æ‹¦æˆª MiPush æ¨è¿‡æ¥çš„åŸå§‹æ•°æ®ï¼Œè‡ªè¡Œåšè§£æå’Œè§£å¯†ã€‚&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;è™½ç„¶æˆ‘å¹¶æ²¡æœ‰åšå°è¯•ï¼Œä½†æ˜¯å‰ä¸¤ç§æ–¹å¼ä¼¼ä¹æœ€å¤šåªèƒ½è·å¾—æ¨é€çš„æ ‡é¢˜å’Œæ–‡æœ¬ç­‰åŸºæœ¬ä¿¡æ¯ï¼Œæ— æ³•è·å¾—æ›´è¯¦ç»†çš„åŸå§‹ä¿¡æ¯ï¼ˆå°¤å…¶æ˜¯è·³è½¬ scheme ã€å‚æ•°åˆ—è¡¨ç­‰ï¼‰ã€‚å› æ­¤æˆ‘ä»¬ä¸»è¦å°è¯•ç¬¬ä¸‰ç§æ€è·¯ã€‚&lt;/p&gt;&lt;h1 id=&quot;%E5%8A%A8%E6%89%8B%E5%AE%9E%E8%B7%B5&quot;&gt;åŠ¨æ‰‹å®è·µ&lt;/h1&gt;&lt;p&gt;ä¸‹é¢å°±ä»¥æ‰‹å¤´çš„ Redmi6 è®¾å¤‡è¿›è¡Œå°è¯•ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E5%AE%9A%E4%BD%8D%E5%BA%94%E7%94%A8&quot;&gt;å®šä½åº”ç”¨&lt;/h2&gt;&lt;p&gt;æ—¢ç„¶æˆ‘ä»¬å¸Œæœ›è·å–é€šçŸ¥æ çš„æ•°æ®ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆåº”å½“å®šä½åˆ°é€šçŸ¥æ çš„ç›¸å…³ä»£ç ã€‚æ‹‰å‡ºé€šçŸ¥æ ï¼Œdumpsysä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ adb shell dumpsys activity top|grep ACTIVITY
ACTIVITY com.android.systemui/.recents.RecentsActivity c2efb6 pid=30467
ACTIVITY com.ss.android.ugc.aweme/.splash.SplashActivity f9d8beb pid=7270
ACTIVITY com.miui.home/.launcher.Launcher 119c6 pid=1950&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœ‹èµ·æ¥ com.android.systemui å’Œ com.miui.home è¿™ä¸¤ä¸ªåŒ…æ¯”è¾ƒå¯ç–‘ï¼Œæˆ‘ä»¬å†ç”¨ Appium check ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-34.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ ·å°±è‚¯å®šæ˜¯ com.android.systemui æ²¡è·‘äº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E8%8E%B7%E5%8F%96%E4%BB%A3%E7%A0%81&quot;&gt;è·å–ä»£ç &lt;/h2&gt;&lt;p&gt;å®šä½åˆ°åŒ…åï¼Œé‚£å°±å»æ‰‹æœºä¸ŠæŠŠåŒ…æä¸‹æ¥å°±è¡Œï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ adb shell pm list packages -f |grep com.android.systemui
package:/vendor/overlay/SysuiDarkTheme/SysuiDarkThemeOverlay.apk=com.android.systemui.theme.dark
package:/system/priv-app/MiuiSystemUI/MiuiSystemUI.apk=com.android.systemui
 
$ adb pull /system/priv-app/MiuiSystemUI/MiuiSystemUI.apk
/system/priv-app/MiuiSystemUI/MiuiSystemUI.apk: 1 file pulled, 0 skipped. 10.5 MB/s (4901017 bytes in 0.446s)
 
$ ls -la MiuiSystemUI.apk
-rw-r--r--  1 myths  staff  4901017 Jun 29 15:42 MiuiSystemUI.apk&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åæ‹¿ jadx æ‰“å¼€çœ‹çœ‹ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-35.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å‘ç°ä¸å¯¹åŠ²ï¼Œæ€ä¹ˆä¸€è¡Œä»£ç ä¹Ÿæ²¡æœ‰ï¼Œéƒ½æ˜¯äº›æ²¡ç”¨çš„èµ„æºæ–‡ä»¶ã€‚ã€‚ã€‚åœ¨å°è¯•äº†è¯¸å¦‚ jebã€androidkillerã€apktoolç­‰åç¼–è¯‘è½¯ä»¶å‡å¤±è´¥åï¼Œæˆ‘é™·å…¥äº†æ²‰æ€ã€‚&lt;/p&gt;&lt;p&gt;æ²‰æ€è¿‡åï¼Œå†³å®šæ¢ä¸€éƒ¨æ›´é«˜çº§çš„ Redmi9 æ‰‹æœºè¯•è¯•ï¼Œç»“æœå‘ç° Redmi9 æ‰‹æœºçš„ MiuiSystemUI.apk ç«Ÿç„¶æ˜¯æœ‰ä»£ç çš„ï¼Œä¼°è®¡æ˜¯ Redmi6 ç”¨äº†ä»€ä¹ˆå¤è€çš„ç§‘æŠ€æŠŠä»£ç éšè—æ‰æˆ–è€…ä¸‹æ²‰äº†å•¥çš„ï¼Œä½†æ˜¯ä»£ç ä¸€å®šæ˜¯æœ‰çš„ï¼Œå¦åˆ™å“ªæ¥çš„ &lt;code&gt;com.android.systemui/.recents.RecentsActivity&lt;/code&gt; è¿™ä¸ª activityã€‚&lt;/p&gt;&lt;p&gt;äºæ˜¯æˆ‘æš´åŠ› grep äº† /system ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæœç„¶ç»™æˆ‘æ‰¾åˆ°äº†çº¿ç´¢ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ adb shell su -c &quot;grep RecentsActivity -r /system&quot;
grep: /system/framework/miuisdk.jar: No such file or directory
grep: /system/framework/miuisystem.jar: No such file or directory
Binary file /system/framework/oat/arm/services.vdex matches
Binary file /system/priv-app/MiuiSystemUI/oat/arm/MiuiSystemUI.vdex matches&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„ &lt;code&gt;MiuiSystemUI.vdex&lt;/code&gt; æ–‡ä»¶ï¼Œç®€å•æŸ¥äº†ä¸‹ï¼Œåº”å½“æ˜¯ä¸ºäº†ä¼˜åŒ–ç³»ç»Ÿ &lt;a href=&quot;https://source.android.google.cn/devices/tech/ota?hl=zh-cn&quot;&gt;OTA&lt;/a&gt; æ—¶ dex2oat è¿‡ç¨‹çš„ç±»ä¼¼é¢„ç¼–è¯‘çš„ä¸œè¥¿ï¼Œæœ¬è´¨è¿˜æ˜¯ä»£ç ç‰‡æ®µã€‚&lt;/p&gt;&lt;p&gt;äºæ˜¯ç”¨ &lt;a href=&quot;https://github.com/anestisb/vdexExtractor&quot;&gt;vdexExtractor&lt;/a&gt; è½¬æˆ MiuiSystemUI.dex Â :&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;$ ./vdexExtractor -i  ../../Jadx/MiuiSystemUI.vdex  -o output
[INFO] Processing 1 file(s) from ../../Jadx/MiuiSystemUI.vdex
[INFO] 1 out of 1 Vdex files have been processed
[INFO] 1 Dex files have been extracted in total
[INFO] Extracted Dex files are available in &#x27;output&#x27;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å†ç”¨ jadx æ‰“å¼€è¿™ä¸ª MiuiSystemUI.dex ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-36.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;è¿™ä¸‹å°±èˆ’æœäº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84&quot;&gt;ä»£ç ç»“æ„&lt;/h2&gt;&lt;p&gt;å¯¹æºç ç»è¿‡ç®€å•é˜…è¯»ï¼Œå†è¾…ä»¥ &lt;a href=&quot;https://github.com/sensepost/objection&quot;&gt;objection&lt;/a&gt; å’Œ frida çš„ Java.choose() æ–¹æ³•åŠ¨æ€è°ƒè¯•åå‘ç°å­˜å‚¨é€šçŸ¥æ æ¶ˆæ¯çš„åœ°æ–¹ä¸»è¦æ˜¯åœ¨ &lt;code&gt;com.android.systemui.statusbar.phone.NotificationGroupManager&lt;/code&gt; ã€‚è¿™ä¸ªç±»åœ¨ç³»ç»Ÿä¸­ä¼¼ä¹è¿˜æ˜¯ä¸ªå•ä¾‹ã€‚&lt;/p&gt;&lt;p&gt;æ‰¾åˆ°è¿™ä¸ªç±»ä¹‹åï¼Œå››ä¸‹è§‚å¯Ÿå°±å¯ä»¥æ•´ç†å‡ºå¤§è‡´å¦‚ä¸‹çš„ç±»å›¾ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-37.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;è¿™é‡Œæ¯ä¸ª NotificationData.Entry å°±æ˜¯æ¯ä¸€æ¡æ¨é€è®°å½•ï¼Œä¸æ–­æ·±å…¥çœ‹ä¸‹å»å°±ä¼šå‘ç°çœŸæ­£çš„æ•°æ®è¿˜æ˜¯æŒ‡å‘äº† StatusBarNotification è¿™ä¸ªç±»ã€‚è€Œè¿™ä¸ªç±»çš„æºç åªèƒ½å»å¯¹åº”çš„ Android SDK é‡Œå»çœ‹äº†ã€‚&lt;/p&gt;&lt;p&gt;äºæ˜¯æ‰“å¼€äº†å¯¹åº”ç‰ˆæœ¬ï¼ˆapi 27ï¼‰çš„SDKï¼Œç»§ç»­æ•´ç†äº†ä¸€ä¸‹æ ¸å¿ƒæ•°æ®æ¶‰åŠåˆ°çš„ç±»ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-38.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;h2 id=&quot;%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90&quot;&gt;æ•°æ®è§£æ&lt;/h2&gt;&lt;p&gt;è·Ÿè¸ªä¸Šé¢æ¶‰åŠåˆ°çš„ç›¸å…³å¯¹è±¡ï¼Œæ ¹æ®æ‰€éœ€è¦çš„æ•°æ®åšç›¸å…³è§£æå’Œæ‹¼æ¥å³å¯ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;Java.perform(function () {

    let MurmurHash3 = {
        mul32: function (m, n) {
            let nlo = n &amp;amp; 0xffff;
            let nhi = n - nlo;
            return ((nhi * m | 0) + (nlo * m | 0)) | 0;
        },
        hashString: function (data, len, seed) {
            let c1 = 0xcc9e2d51, c2 = 0x1b873593;

            let h1 = seed;
            let k1 = &#x27;&#x27;;
            let roundedEnd = len &amp;amp; ~0x1;

            for (let i = 0; i &amp;lt; roundedEnd; i += 2) {
                let k1 = data.charCodeAt(i) | (data.charCodeAt(i + 1) &amp;lt;&amp;lt; 16);

                k1 = this.mul32(k1, c1);
                k1 = ((k1 &amp;amp; 0x1ffff) &amp;lt;&amp;lt; 15) | (k1 &amp;gt;&amp;gt;&amp;gt; 17);
                k1 = this.mul32(k1, c2);

                h1 ^= k1;
                h1 = ((h1 &amp;amp; 0x7ffff) &amp;lt;&amp;lt; 13) | (h1 &amp;gt;&amp;gt;&amp;gt; 19);
                h1 = (h1 * 5 + 0xe6546b64) | 0;
            }

            if ((len % 2) === 1) {
                k1 = data.charCodeAt(roundedEnd);
                k1 = this.mul32(k1, c1);
                k1 = ((k1 &amp;amp; 0x1ffff) &amp;lt;&amp;lt; 15) | (k1 &amp;gt;&amp;gt;&amp;gt; 17);
                k1 = this.mul32(k1, c2);
                h1 ^= k1;
            }

            h1 ^= (len &amp;lt;&amp;lt; 1);

            h1 ^= h1 &amp;gt;&amp;gt;&amp;gt; 16;
            h1 = this.mul32(h1, 0x85ebca6b);
            h1 ^= h1 &amp;gt;&amp;gt;&amp;gt; 13;
            h1 = this.mul32(h1, 0xc2b2ae35);
            h1 ^= h1 &amp;gt;&amp;gt;&amp;gt; 16;

            return h1;
        }
    };

    let NotificationGroup = Java.use(&#x27;com.android.systemui.statusbar.phone.NotificationGroupManager$NotificationGroup&#x27;)
    let Entry = Java.use(&#x27;com.android.systemui.statusbar.NotificationData$Entry&#x27;)
    let Base64 = Java.use(&#x27;android.util.Base64&#x27;);

    function processInfo(statusbar, folded) {
        let mmap = statusbar.notification.value.extras.value.mMap.value;

        if (statusbar.notification.value.contentIntent.value) {
            let intent = statusbar.notification.value.contentIntent.value.getIntent();
            if (intent.mComponent.value) {
                let txt = mmap.get(&quot;android.text&quot;).toString()
                let id = MurmurHash3.hashString(txt, txt.length, 0).toString().replace(&quot;-&quot;, &quot;&quot;)
                let msg = {
                    &#x27;type&#x27;: &#x27;mi_push&#x27;,
                    &#x27;data&#x27;: {
                        &quot;folded&quot;: folded,
                        &quot;id&quot;: id,
                        &quot;intent&quot;: intent.getDataString() === null ? &quot;&quot; : intent.getDataString(),
                        &quot;title&quot;: mmap.get(&quot;android.title&quot;).toString(),
                        &quot;text&quot;: mmap.get(&quot;android.text&quot;).toString(),
                        &quot;package&quot;: intent.mComponent.value.mPackage.value,
                        &quot;class&quot;: intent.mComponent.value.mClass.value,
                        &quot;time&quot;: statusbar.postTime.value
                    },
                    &#x27;id&#x27;: id
                };
                let bundle = intent.getExtras()
                if (bundle) {
                    let miPushByte = bundle.get(&quot;mipush_payload&quot;)
                    if (miPushByte) {
                        let arr = Java.array(&#x27;byte&#x27;, miPushByte)
                        msg[&#x27;data&#x27;][&#x27;mipush&#x27;] = Base64.encodeToString(arr, 0).replaceAll(&quot;\n&quot;, &quot;&quot;);
                    }

                }
                send(JSON.stringify(msg));
            } else {
                console.log(&quot;contentIntent is null &quot; + mmap)
            }
        } else {
            console.log(&quot;intent.mComponent.value not exist &quot; + mmap)
        }
    }


    function processManager(manager) {
        try {
            let entrys = manager.mGroupMap.value.keySet()
            let it = entrys.iterator();
            while (it.hasNext()) {
                let key = it.next();
                let data = manager.mGroupMap.value.get(key)
                let nData = Java.cast(data, NotificationGroup)
                let unfoldIterator = nData.unfoldChildren.value.iterator()
                let foldIterator = nData.foldChildren.value.iterator()

                while (unfoldIterator.hasNext()) {
                    let entry = Java.cast(unfoldIterator.next(), Entry);
                    let row = entry.row.value
                    let statusbar = row.mExpandedNotification.value
                    processInfo(statusbar, false)

                }
                while (foldIterator.hasNext()) {
                    let entry = Java.cast(foldIterator.next(), Entry);
                    let row = entry.row.value
                    let statusbar = row.mExpandedNotification.value
                    processInfo(statusbar, true)
                }
            }
        } catch (e) {
            console.log(e.stack)
        }
    }
    Java.choose(&quot;com.android.systemui.statusbar.phone.NotificationGroupManager&quot;, {
        onMatch: function (instance) {
            processManager(instance)
        },
        onComplete: function () {
        }
    });
});&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ä»£ç å’Œ Android ç‰ˆæœ¬ã€MIUI ç‰ˆæœ¬éƒ½æœ‰å…³ï¼Œä¸åŒç§çš„è®¾å¤‡ä¹‹é—´å¤§æ¦‚ç‡æ˜¯ä¸èƒ½å…¼å®¹çš„ã€‚åœ¨æˆ‘çš„æ‰‹æœºä¸Šï¼Œè¿™æ ·è§£æå‡ºæ¥æ•°æ®å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
    &quot;package&quot;: &quot;com.smile.gifmaker&quot;,
    &quot;mipush&quot;: &quot;CAABAAAABQIAAgECAAMACwAEAAAEsOp4pGZjhmJnTz3lGB/Ta7aS5iS5UIKGF23UT2AvpzdmIbLJu0h9JH799FoT7VEdFq9vzPWuiLybhqJ2tcBm5tHXJ5Ff/eSje9jFUm799PQKg7uQEE3ieH/Bu5nglvYwk0+ku7bWfp3MjB8ukRrr5XgIUqLSVEyi4wICeBkHSWwVzIcfk63TH6z8r9wemQq8fZFPqq817rR4zED6MUQu83frrtYY/4i6kSazw2zKkhoR+T0j7/7ed4r/si3RwUBCsO9d73Ehdmrjg7odKxHP9q6yUFam4JihZYN2DzG3KsajgwZg+CmXCOQFanmpyYgKhUc+psE1Kl5bikWY9KqLYo1JD/Boesq4d82Yfub61xGoWaeli/SJwG8JMtsH5FmC7mxDwluhutoDEuRlX3HodtU1GlEaz2SBabRIOcFLYv6SjOrBN1o2xE+lvpHv1o0Reh4GG0mlnmrV7a236XHwMmSOdY4Akr4WR3eQz+NTNaqLwUjvQIb1GwWXauNWMAM4nroK38KAfBORVDLAZSoMLambNM+JsBZKRcmIPreuupVaYlS2hnlEr2qaGsfpPZK8bJs7PgXU6zscMBmVMjy/nL6D5+uUwVEkYbzoPdMCbsHPxxKcFeiR/AYJe7G1QK5KQMTtVY/jnJVRNG8T3H5fC52CO4xOFKRrpdNv30C/NvtBOIokBCqXXXf2Z4gWroq17Tc385/WhxhvcvazXoI8rjaF/ZHh7KGUN24VuN07tnjKvs74h3Z1JJi82WRuzxkSsFDQJNwIX3/Qk6U5mgHGwZJTtdB8IijTUn5GZG6C/c8CNYN36iy7ToIDCiNbIWO40GwDrmIHiaK3R6a0de6jCr917C1AfT1JFlNr9GeztWq/4tLH3F88SGWIhj00XFWcBWVa2EB7Du3yjFD0S18/HoCIi5j5l/HsvvMo0BpdWd0hTRQ89NUK409QiblaVjJ8vCtz3PrNLAiCROJPzA5GcD5x6F7xUi05YsBE+xX59kqf7Wzrs6IXb9frgllwWkS2aKcHNmZYT6TTE6QNII4rYOHlLhIB6bIq6iktbMY63TRAQi8a/1sBPuoMJ3tndbBZmumsV+emgbY5p4xv7YnA9AYK001Q+o2CfyfUjCRlhWAGZ5ZOe0Z/o6jSQegq39ib3KbPyE6ZxjEtNYMt/pLdIKyh86ixiv0rRqI2meLilcekGrFKmI46JK8YbYuVzYr5VIJdDEnvawnxjmw5qYVo6AE/uppaX5p8t+sBAaofqbYmpW6dIFEBR5vmE/ahZZolCgD1dwxNFAkTZf8hoBfG9/cZI3zaqEOfTghxw9FkVyauJwY4Qe5E4VuQxZfHEy4HVKhhIi4zkRLDpPJBUiovGZFaLMR3s2EnHppq2xrnA12FVeBuUjDJQpRER+E8DFErvk8MfjT4CoL05djf5BWPHfCdCvnGFg49Up1LbidPpycnlnTr4f/Nu87Ed0FmL6/81knkj3rT2fPdINpweHWZok9o55lHojNHANHae64FBQrwC/057zoKI3Oo5GBU85qcnCxvGKpzDZbVVF9Y/HQIR4DGVdIC91i6EiYGYdD1VsQVDwRu6P77ixubXjV+eq56KQsABQAAABMyODgyMzAzNzYxNTE3MTMwNTM0CwAGAAAAEmNvbS5zbWlsZS5naWZtYWtlcgwABwoAAQAAAAAAAAAFCwACAAAACzcwMDg0ODc2NDA2CwADAAAACnhpYW9taS5jb20LAAQAAAAIYW5TUVJTRUgIAAYAAAAACwAIAAAAAkM0AAwACAsAAQAAABZzY201OTI1NDYyNDkzMjg4MDk2MmpTCgACAAABelWMEkILAAQAAAAG5b+r5omLCwAFAAAAq+S9oOeci+i/h+eahOWon+WnkO+8iOaJi+acuuaRhOW9se+8ieWPkeW4g+S6huaWsOS9nOWTge+8muWkj+WkqeeahOiaiuWtkOWlveWkmuWViu+9nuWkquiuqOWOjOS6hu+8jOaVtOS4quWkp+iaiummmeaKiuS7luS7rOeGj+aZleWQp++8gSAj5omL5py65pGE5b2xICPliJvkvZzngbXmhJ8gI+WIm+aEjwgABgAAAAAIAAgAAAAACAAJD5/Mww0ACgsLAAAACQAAAA5uX3N0YXRzX2V4cG9zZQAAAIB2SktrUzArUHo2QzVXRXN5MjhtWnlvSE4zZnFRMGorYXhLMVhWWFovK3h0NUFDQTcybmRjSmcxdWh4clhMdStSblI0ODFCc0hwZDNoeWZPVWQ4dHdqbVVJM0lBbDJ3V3J3d3owSEQ0b2xvNXlHQUM5NStZaDdYMU5WT29VbUtTeAAAABFub3RpZnlfZm9yZWdyb3VuZAAAAAExAAAADmNhbGxiYWNrLnBhcmFtAAAAMDE0M0pyQnQ0R2JKVzAwNjM3KjFFTU5QV2pjZHA1dW5zZXQ4MncwTVdoNlJlZG1pNgAAAA1fX3RhcmdldF9uYW1lAAAAQE5UTWpMRk1ZNnRQWkpONFcrdytvZndvTUZOOWxhZDNublFUOWJPUEEyeUNJSDlrSml2bWM5V1Jmb0R0ZWRXOWoAAAAFZmVfdHMAAAANMTYyNDkzMjg4MDk2MgAAAA1jYWxsYmFjay50eXBlAAAAAjE3AAAAF25vdGlmaWNhdGlvbl9zdHlsZV90eXBlAAAAATEAAAAIY2FsbGJhY2sAAAA+aHR0cHM6Ly9wdXNoLmtzYXBpc3J2LmNvbS9yZXN0L2luZnJhL3B1c2gvcHJvdmlkZXIvbXQvY2FsbGJhY2sAAAAGX19tX3RzAAAADTE2MjQ5MzI4ODEzNDQNAAsLCwAAAAEAAAAKc2NvcmVfaW5mbwAABIl7InNlcnZlcl9zY29yZSI6MSwiZ3JvdXBfaW50ZXJ2YWwiOjcyMDAwMDAsImV4dHJhX2luZm8iOiJbe1widlwiOjAsXCJiXCI6LTAuOTI4NjcyMzk3NDQxOTE1NSxcIndcIjpbMTQuMDQyMzAwNjYwODQ4MDQyLC0wLjEwNDgyMTA5MTUxOTE1MzA5LDAsMCwwXSxcImVsXCI6W1szMCwwXSxbMCwwXV0sXCJjbFwiOltbMCwwXV0sXCJjZ1wiOltbMCwwXV0sXCJwa2dcIjp7XCJjb20udGVuY2VudC5tbVwiOjksXCJjb20udGVuY2VudC5tb2JpbGVxcVwiOjksXCJjb20uYW5kcm9pZC5tbXNcIjo5LFwiY29tLmFuZHJvaWQuY29udGFjdHNcIjo5LFwiY29tLmFuZHJvaWQucHJvdmlkZXJzLmNvbnRhY3RzXCI6OSxcImNvbS5hbmRyb2lkLmNhbGVuZGFyXCI6OSxcImNvbS5hbmRyb2lkLnByb3ZpZGVycy5jYWxlbmRhclwiOjksXCJjb20uZ29vZ2xlLmFuZHJvaWQuY2FsZW5kYXJcIjo5LFwiY29tLndoYXRzYXBwXCI6OSxcImNvbS5mYWNlYm9vay5vcmNhXCI6OSxcImNvbS5nb29nbGUuYW5kcm9pZC5nbVwiOjksXCJjb20uYW5kcm9pZC5kZXNrY2xvY2tcIjo5LFwiY29tLmFuZHJvaWQucGhvbmVcIjo5LFwiY29tLmFuZHJvaWQuc3RrXCI6OSxcImNvbS5hbmRyb2lkLmNlbGxicm9hZGNhc3RyZWNlaXZlclwiOjksXCJjb20uYW5kcm9pZC5pbmNhbGx1aVwiOjksXCJjb20uYW5kcm9pZC5zZXJ2ZXIudGVsZWNvbVwiOjksXCJjb20uYW5kcm9pZC5lbWFpbFwiOjksXCJjb20ueGlhb21pLmNoYW5uZWxcIjo5LFwiY29tLmFuZHJvaWQudXBkYXRlclwiOjksXCJjb20uYW5kcm9pZC5zZXR0aW5nc1wiOjksXCJjb20ubWl1aS5wbGF5ZXJcIjo5LFwiY29tLm1pdWkuYnVncmVwb3J0XCI6OSxcImNvbS5lZy5hbmRyb2lkLkFsaXBheUdwaG9uZVwiOjksXCJjb20ueGlhb21pLm1hcmtldFwiOjksXCJjb20uYW5kcm9pZC5wcm92aWRlcnMuZG93bmxvYWRzXCI6OSxcImNvbS5hbGliYWJhLmFuZHJvaWQucmltZXQuYWxpZGluZ3RhbGtcIjo5LFwiY29tLmFsaWJhYmEuYW5kcm9pZC5yaW1ldFwiOjksXCJjb20udGVuY2VudC50aW1cIjo5LFwiY29tLm1pdWkuaG9tZVwiOjl9LFwidGhcIjowLjUsXCJuXCI6M31dIiwidGhyZXNob2xkIjowLjY3LCJyYXdfc2NvcmUiOjAuNjQ3Mzc2NTY0OTk5MDQ1NSwic29ydF9kZWxheSI6MTAwMDAsInNlcnZlcl9zdHJhdGVneSI6ImxyIn0CAAwAAAA=&quot;,
    &quot;text&quot;: &quot;ä½ çœ‹è¿‡çš„å¨Ÿå§ï¼ˆæ‰‹æœºæ‘„å½±ï¼‰å‘å¸ƒäº†æ–°ä½œå“ï¼šå¤å¤©çš„èšŠå­å¥½å¤šå•Šï½å¤ªè®¨åŒäº†ï¼Œæ•´ä¸ªå¤§èšŠé¦™æŠŠä»–ä»¬ç†æ™•å§ï¼ #æ‰‹æœºæ‘„å½± #åˆ›ä½œçµæ„Ÿ #åˆ›æ„&quot;,
    &quot;title&quot;: &quot;å¿«æ‰‹&quot;,
    &quot;folded&quot;: false,
    &quot;id&quot;: &quot;scm59254624932880962jS&quot;,
    &quot;time&quot;: &quot;1624932881487&quot;,
    &quot;class&quot;: &quot;com.xiaomi.mipush.sdk.PushMessageHandler&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯ä»¥å‘ç°ï¼Œåœ¨ intent çš„ bundle é‡Œæœ‰ä¸€ä¸ª key ä¸º &quot;mipush_payload&quot; çš„åŠ å¯†æ•°æ®ï¼ˆæˆ‘è¿™é‡Œå±•ç¤ºæˆäº†base64ï¼‰ï¼Œè¿™é‡Œå­˜çš„å°±æ˜¯åŠ å¯†åçš„æ¨é€æ•°æ®è¯¦æƒ…ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç»§ç»­åšå¤„ç†ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E6%95%B0%E6%8D%AE%E8%A7%A3%E5%AF%86&quot;&gt;æ•°æ®è§£å¯†&lt;/h2&gt;&lt;h3 id=&quot;%E5%85%A5%E5%8F%A3&quot;&gt;å…¥å£&lt;/h3&gt;&lt;p&gt;æ•°æ®è§£å¯†çš„é€»è¾‘åº”å½“æ˜¯æ”¾åœ¨ MiPush SDK ä¸­ï¼Œæˆ‘ä»¬å°±åªèƒ½å»&lt;a href=&quot;https://admin.xmpush.xiaomi.com/zh_CN/mipush/downpage&quot;&gt;å°ç±³å¼€å‘è€…ä¸­å¿ƒ&lt;/a&gt;æŠŠæºç ä¸‹ä¸‹æ¥çœ‹çœ‹ã€‚å°ç±³è¿™é‡Œçš„å¤„ç†æ¯”è¾ƒè®©äººè›‹ç–¼ï¼Œä¸€å®šè¦æ³¨å†Œå°ç±³å¼€å‘è€…ç„¶åæ‰èƒ½ä¸‹è½½ä»£ç ã€‚æ±‚çˆ¹çˆ¹å‘Šå¥¶å¥¶ç»ˆäºæ•´åˆ°äº† SDKï¼Œä¸‹é¢å°±ä»¥ MiPush_SDK_Client_4_0_2.jar è¿™ä¸ªç‰ˆæœ¬æ¥çœ‹ã€‚&lt;/p&gt;&lt;p&gt;å¾ˆå®¹æ˜“æƒ³åˆ°çš„å…¥æ‰‹ç‚¹å°±æ˜¯ &quot;mipush_payload&quot; è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå…ˆç®€å•æœç´¢ä¸€ç•ªè¯•è¯•ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-39.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ¶‰åŠåˆ°çš„ä»£ç ä¸å¤šï¼ŒæŒºå¥½ã€‚è€ƒè™‘åˆ°æ—¢ç„¶æˆ‘ä»¬æƒ³è¦çš„æ˜¯è§£å¯†ï¼Œé‚£åº”å½“æ˜¯æ›´å…³å¿ƒ getByteArrayExtra æ–¹æ³•ã€‚è¿›å»çœ‹ä¸€çœ‹ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-40.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;è¿™é‡Œå¯¹ action çš„å€¼æœ‰å‡ ä¸ªåˆ†æ”¯åˆ¤æ–­ï¼Œæˆ‘ä»¬æ˜¾ç„¶æ˜¯å¸Œæœ› MESSAGE_ARRIVED è¿™ä¸ªäº‹ä»¶ï¼Œé‚£è§£æä»£ç åº”å½“å°±æ˜¯è¿™ä¸ªæ²¡è·‘äº†ã€‚&lt;/p&gt;&lt;h3 id=&quot;%E5%9D%91%E7%82%B9&quot;&gt;å‘ç‚¹&lt;/h3&gt;&lt;p&gt;å…¥å£éƒ½æ‰¾åˆ°äº†ï¼Œå‰©ä¸‹å°±æ˜¯æ— èŠçš„äººè‚‰è·Ÿè¸ªäº†ã€‚ä¸è¿‡å°ç±³åšäº†å­—èŠ‚ç çº§åˆ«çš„æ··æ·†ï¼Œå¯¼è‡´åœ¨åŒä¸€ä¸ªç±»ä¸­æœ‰å¾ˆå¤šç±»å‹ä¸åŒä½†æ˜¯åå­—ç›¸åŒçš„å˜é‡ï¼ˆä¸ç¬¦åˆjavaè¯­æ³•ã€ä½†æ˜¯ç¬¦åˆjvmè§„èŒƒï¼‰ã€‚è¿™æ ·å°±ä½¿ jadx æ— æ³•æ­£å¸¸åç¼–è¯‘å‡º java ä»£ç ï¼Œåªèƒ½å¯¹å˜é‡åé‡å‘½åå±•ç¤ºã€‚ä¾‹å¦‚ä¸Šé¢çš„ &lt;code&gt;b.m36a(this.f43a)&lt;/code&gt; è¿™ä¸ªæ–¹æ³•ï¼Œä»–çš„å‡½æ•°å£°æ˜çš„åœ°æ–¹æœ‰ jadx çš„æ³¨é‡Š:&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-41.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿äººçœ¼çœ‹ï¼Œè¿™æ ·çš„æ“ä½œè¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ä½†æ˜¯ç”±äºåœ¨å†™ä»£ç çš„æ—¶å€™è¿˜æ˜¯éœ€è¦ç”¨çœŸæ­£çš„å˜é‡åï¼Œå› æ­¤åœ¨ææ¸…é€»è¾‘ä¹‹åï¼Œæˆ‘ä»¬è¿˜æ˜¯åªèƒ½ç”¨ IDEA å»çœ‹çœŸæ­£çš„ä»£ç ã€‚ä¸Šé¢çš„ä»£ç åœ¨ IDEA ä¸­å°±æ˜¯è¿™æ ·ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-42.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¸å¾—ä¸è¯´è¿™ç§ä»£ç æ··æ·†æ˜¯çœŸçš„æ¶å¿ƒï¼Œåœ¨ IDEA ä¸­æˆ‘è¿˜çœ‹åˆ°äº†è¿™ç§æ§½ç‚¹åè¶³ã€æ™®é€šæ–¹æ³•æ ¹æœ¬æ— æ³•è°ƒç”¨çš„ä»£ç ï¼š&lt;/p&gt;&lt;figure class=&quot;kg-card kg-image-card&quot;&gt;&lt;img src=&quot;https://blog.mythsman.com/content/images/2021/06/image-43.png&quot; class=&quot;kg-image&quot; alt=&quot;&quot; loading=&quot;lazy&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¸Šé¢çš„ä¸€ç³»åˆ—æ“ä½œå¯¼è‡´çš„ç»“æœå°±æ˜¯æˆ‘ä»¬ä¸å¾—ä¸ä¸€å¾‹é‡‡ç”¨åå°„æ¥è°ƒç”¨è¿™äº›å‡½æ•°ã€‚&lt;/p&gt;&lt;h3 id=&quot;%E5%AF%86%E9%92%A5&quot;&gt;å¯†é’¥&lt;/h3&gt;&lt;p&gt;åœ¨ç»è¿‡ä¸€ç³»åˆ—æ–—äº‰åï¼Œå‘ç°è¿™äº›æ•°æ®å…¶å®æ˜¯é‡‡ç”¨äº† AES å¯¹ç§°åŠ å¯†ï¼ŒåŠ è§£å¯†ç”¨çš„ key æ˜¯ä»åä¸º mipush çš„ sharedpreferences ä¸­çš„ regSec ä¸­è·å¾—çš„ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;//com.xiaomi.push.i
private static Cipher a(byte[] bArr, int i) {
    SecretKeySpec secretKeySpec = new SecretKeySpec(bArr, &quot;AES&quot;);
    IvParameterSpec ivParameterSpec = new IvParameterSpec(a);
    Cipher instance = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);
    instance.init(i, secretKeySpec, ivParameterSpec);
    return instance;
}
 
//com.xiaomi.mipush.sdk.b
public static SharedPreferences a(Context context) {
    return context.getSharedPreferences(&quot;mipush&quot;, 0);
}
 
//com.xiaomi.mipush.sdk.b
public static a a(Context context, String str) {
    try {
        JSONObject jSONObject = new JSONObject(str);
        a aVar = new a(context);
        aVar.f62a = jSONObject.getString(&quot;appId&quot;);
        aVar.b = jSONObject.getString(&quot;appToken&quot;);
        aVar.c = jSONObject.getString(&quot;regId&quot;);
        aVar.d = jSONObject.getString(&quot;regSec&quot;);//è¿™ä¸ªï¼
        aVar.f = jSONObject.getString(&quot;devId&quot;);
        aVar.e = jSONObject.getString(&quot;vName&quot;);
        aVar.f63a = jSONObject.getBoolean(&quot;valid&quot;);
        aVar.f64b = jSONObject.getBoolean(&quot;paused&quot;);
        aVar.a = jSONObject.getInt(&quot;envType&quot;);
        aVar.g = jSONObject.getString(&quot;regResource&quot;);
        return aVar;
    } catch (Throwable th) {
        com.xiaomi.channel.commonutils.logger.b.a(th);
        return null;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯†é’¥çš„ä½ç½®åœ¨å¯¹åº” app å†…éƒ¨å­˜å‚¨ç›®å½•çš„ shared_prefs æ–‡ä»¶å¤¹ä¸‹ã€‚ä»¥ gifmaker ä¸ºä¾‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;$ adb shell su -c &#x27;cat /data/data/com.smile.gifmaker/shared_prefs/mipush.xml&#x27;
&amp;lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27; standalone=&#x27;yes&#x27; ?&amp;gt;
&amp;lt;map&amp;gt;
    &amp;lt;string name=&quot;devId&quot;&amp;gt;951ECBAB1F2EB405ABF912BD65FC703FF43969CE&amp;lt;/string&amp;gt;
    &amp;lt;boolean name=&quot;valid&quot; value=&quot;true&quot; /&amp;gt;
    &amp;lt;string name=&quot;regResource&quot;&amp;gt;oGZD6g&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;vName&quot;&amp;gt;8.2.31.17191&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;pref_msg_ids&quot;&amp;gt;,sdm580566248810824873c,sdm58782624881295100Zr&amp;lt;/string&amp;gt;
    &amp;lt;int name=&quot;envType&quot; value=&quot;1&quot; /&amp;gt;
    &amp;lt;string name=&quot;appToken&quot;&amp;gt;5431713053534&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;appId&quot;&amp;gt;2882303761517130534&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;regId&quot;&amp;gt;NTMjLFMY6tPZJN4W+w+ofwoMFN9lad3nnQT9bOPA2yCIH9kJivmc9WRfoDtedW9j&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;regSec&quot;&amp;gt;AMjTZmbZx2LS1X7dp0AAAA==&amp;lt;/string&amp;gt;
    &amp;lt;string name=&quot;appRegion&quot;&amp;gt;China&amp;lt;/string&amp;gt;
&amp;lt;/map&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œçš„å¯†é’¥å°±æ˜¯ AMjTZmbZx2LS1X7dp0AAAA== ã€‚&lt;/p&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå¯†é’¥æ˜¯åœ¨ app åˆæ¬¡å¯åŠ¨æ—¶ç”Ÿæˆçš„ï¼Œä¸é€šè®¾å¤‡ä¹‹é—´ä¸ä¸€æ ·ï¼Œç›¸åŒè®¾å¤‡çš„ä¸åŒæ¬¡å®‰è£…ä¹Ÿä¸ä¸€æ ·ã€‚&lt;/p&gt;&lt;h3 id=&quot;%E5%AE%9E%E7%8E%B0&quot;&gt;å®ç°&lt;/h3&gt;&lt;p&gt;æœ€åæŠŠç›¸å…³ä»£ç æ‹¼æ¥ä¸‹ï¼Œåœ¨æœåŠ¡ç«¯å®ç°ä¸€ä¸ªæœåŠ¡å³å¯ã€‚ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;public class PushMessage implements Serializable {
    private static final long serialVersionUID = 4745289224411613134L;
 
    private String id;
    private Long channelId;
    private String userId;
    private String server;
    private String resource;
    private String appId;
    private String packageName;
    private String payload;
    private Long createAt;
    private Long ttl;
    private Boolean isOnline;
    private Boolean needsAck;
    
    //some getter and setter
}
 
public PushMessage decrypt(String secKey, String payload) {
    try {
        byte[] data = Base64.getDecoder().decode(payload);
        byte[] key = Base64.getDecoder().decode(secKey);
 
        im im = new im();
 
        ja.a(im, data);
 
        byte[] buffer = null;
        for (Method declaredMethod : im.getClass().getDeclaredMethods()) {
            if (declaredMethod.getReturnType().equals(byte[].class)) {
                try {
                    buffer = (byte[]) declaredMethod.invoke(im);
                } catch (IllegalAccessException | InvocationTargetException e) {
                    throw new RuntimeException(e);
                }
            }
        }
        if (buffer == null) {
            throw new RuntimeException(&quot;buffer is null&quot;);
        }
 
 
        byte[] decrypted = i.a(key, buffer);
        it a3 = null;
        for (Method declaredMethod : com.xiaomi.mipush.sdk.ai.class.getDeclaredMethods()) {
            if (declaredMethod.getName().equals(&quot;a&quot;)
                    &amp;amp;&amp;amp; declaredMethod.getReturnType().equals(jb.class)
                    &amp;amp;&amp;amp; declaredMethod.getModifiers() == (Modifier.PRIVATE | Modifier.STATIC)) {
                declaredMethod.setAccessible(true);
                try {
                    a3 = (it) declaredMethod.invoke(com.xiaomi.mipush.sdk.ai.class, hq.a(5), true);
                } catch (IllegalAccessException | InvocationTargetException e) {
                    throw new RuntimeException(&quot;reflect invoke failed&quot;, e);
                }
            }
        }
 
        if (a3 == null) {
            throw new RuntimeException(&quot;a3 not found&quot;);
        }
        new jf(new com.xiaomi.push.js.a(true, true, data.length)).a(a3, decrypted);
 
        PushMessage pushMessage = convertToMessage(a3);
        logger.info(&quot;decrypt for {} \ndata: {}\nresult: {}&quot;, secKey, payload, JSONObject.toJSONString(pushMessage));
        return pushMessage;
    } catch (DecryptFailedException e) {
        logger.error(&quot;decrypt for {} failed\ndata: {}&quot;, secKey, payload, e);
        throw e;
    } catch (Throwable e) {
        RuntimeException ex = new RuntimeException(&quot;decode failed,&quot;, e);
        logger.error(&quot;decrypt for {} failed\ndata: {}&quot;, secKey, payload, ex);
        throw ex;
    }
}
 
private PushMessage convertToMessage(it result) throws IllegalAccessException, ClassNotFoundException {
    PushMessage pushMessage = new PushMessage();
 
    Field idField = findFieldByNameAndType(it.class, &quot;b&quot;, String.class);
    pushMessage.setId((String) idField.get(result));
 
    Field needsAckField = findFieldByNameAndType(it.class, &quot;a&quot;, boolean.class);
    pushMessage.setNeedsAck((boolean) needsAckField.get(result));
 
    Field appIdField = findFieldByNameAndType(it.class, &quot;c&quot;, String.class);
    pushMessage.setAppId((String) appIdField.get(result));
 
    Field packageNameField = findFieldByNameAndType(it.class, &quot;d&quot;, String.class);
    pushMessage.setPackageName((String) packageNameField.get(result));
 
    Class&amp;lt;?&amp;gt; ifClass = Class.forName(&quot;com.xiaomi.push.if&quot;);
    Field ifField = findFieldByNameAndType(it.class, &quot;a&quot;, ifClass);
    Object target = ifClass.cast(ifField.get(result));
 
    Field targetField = findFieldByNameAndType(ifClass, &quot;a&quot;, long.class);
    pushMessage.setChannelId((long) targetField.get(target));
 
    Field userIdField = findFieldByNameAndType(ifClass, &quot;a&quot;, String.class);
    pushMessage.setUserId((String) userIdField.get(target));
 
    Field serverField = findFieldByNameAndType(ifClass, &quot;b&quot;, String.class);
    pushMessage.setServer((String) serverField.get(target));
 
    Field resourceField = findFieldByNameAndType(ifClass, &quot;c&quot;, String.class);
    pushMessage.setResource((String) resourceField.get(target));
 
    Field icField = findFieldByNameAndType(it.class, &quot;a&quot;, ic.class);
    ic pmsg = (ic) icField.get(result);
 
    Field payloadField = findFieldByNameAndType(ic.class, &quot;c&quot;, String.class);
    pushMessage.setPayload((String) payloadField.get(pmsg));
 
    Field createAtField = findFieldByNameAndType(ic.class, &quot;a&quot;, long.class);
    pushMessage.setCreateAt((long) createAtField.get(pmsg));
 
    Field ttlField = findFieldByNameAndType(ic.class, &quot;b&quot;, long.class);
    pushMessage.setTtl((long) ttlField.get(pmsg));
 
    Field onlineField = findFieldByNameAndType(ic.class, &quot;a&quot;, boolean.class);
    pushMessage.setOnline((boolean) onlineField.get(pmsg));
 
    return pushMessage;
}
 
private Field findFieldByNameAndType(Class&amp;lt;?&amp;gt; clazz, String name, Class&amp;lt;?&amp;gt; returnType) {
    for (Field field : clazz.getDeclaredFields()) {
        if (field.getName().equals(name) &amp;amp;&amp;amp; field.getType().equals(returnType)) {
            return field;
        }
    }
    throw new FieldNotFoundException(String.format(&quot;cannot find name-&amp;gt;%s returnType-&amp;gt;%s for class-&amp;gt;%s&quot;, name, returnType, clazz));
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;mipush çš„å†…éƒ¨å®ç°ä¾èµ–äº† android ç›¸å…³çš„ç±»ï¼Œè™½ç„¶åœ¨è§£å¯†çš„è¿‡ç¨‹ä¸­å¹¶æ²¡æœ‰ç”¨åˆ°ï¼Œä½†æ˜¯å¦‚æœç±»ä¸å­˜åœ¨è¿˜æ˜¯ä¼šæŠ¥é”™çš„ã€‚å› æ­¤è¿˜éœ€è¦åŠ ä¸¤ä¸ªmockç±»ï¼Œç©ºå®ç°å³å¯ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;package android.content;
 
public class Context {
}&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;package android.text;
 
public class TextUtils {
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”±äº java ç¼–è¯‘å™¨çš„å…³ç³»ï¼Œåœ¨è¿è¡Œæ—¶éœ€è¦åŠ ä¸Š &lt;code&gt;-noverify&lt;/code&gt; çš„å‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥ &lt;code&gt;java.lang.VerifyError&lt;/code&gt; çš„é”™ã€‚ï¼ˆå‚è€ƒ &lt;a href=&quot;https://stackoverflow.com/questions/15122890/java-lang-verifyerror-expecting-a-stackmap-frame-at-branch-target-jdk-1-7&quot;&gt;sf&lt;/a&gt; ï¼‰&lt;/p&gt;&lt;h3 id=&quot;%E8%BF%90%E8%A1%8C&quot;&gt;è¿è¡Œ&lt;/h3&gt;&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬æŠŠæœ¬æ¬¡ä» gifmaker æ‹¿åˆ°çš„æ¨é€è§£æä¸€æŠŠï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
    &quot;appId&quot;: &quot;2882303761517130534&quot;,
    &quot;channelId&quot;: 5,
    &quot;createAt&quot;: 1624932880962,
    &quot;id&quot;: &quot;scm59254624932880962jS&quot;,
    &quot;needsAck&quot;: true,
    &quot;online&quot;: true,
    &quot;packageName&quot;: &quot;com.smile.gifmaker&quot;,
    &quot;payload&quot;: &quot;{\&quot;click_payload\&quot;:\&quot;true\&quot;,\&quot;push_notification\&quot;:\&quot;{}\&quot;,\&quot;infra_tag\&quot;:\&quot;cdp\&quot;,\&quot;onlyInBar\&quot;:\&quot;false\&quot;,\&quot;dndModeIsOn\&quot;:\&quot;false\&quot;,\&quot;push_msg_id\&quot;:\&quot;0000016249328800885970645000158\&quot;,\&quot;id\&quot;:\&quot;0000016249328800885970645000158\&quot;,\&quot;push_back\&quot;:\&quot;143JrBt4GbJW00637*1EMNPWjcdp5unset82w0MWh6Redmi6oANDROID_021f5a0bbeeb1eb1\&quot;,\&quot;server_key\&quot;:\&quot;{\\\&quot;business\\\&quot;:\\\&quot;RECO_PUSH\\\&quot;,\\\&quot;object_type\\\&quot;:\\\&quot;OBJECT_PHOTO\\\&quot;,\\\&quot;item_id\\\&quot;:\\\&quot;0\\\&quot;,\\\&quot;ks_order_id\\\&quot;:\\\&quot;empty\\\&quot;,\\\&quot;object_id\\\&quot;:\\\&quot;5205879746946008323\\\&quot;,\\\&quot;sender_id\\\&quot;:\\\&quot;0\\\&quot;,\\\&quot;push_type\\\&quot;:\\\&quot;PUSH_PHOTO\\\&quot;,\\\&quot;infra_tag\\\&quot;:\\\&quot;cdp\\\&quot;,\\\&quot;event_type\\\&quot;:\\\&quot;EVENT_CONSUME_AUTHOR_PHOTO_PUSH\\\&quot;,\\\&quot;time_ms\\\&quot;:\\\&quot;1624932880244\\\&quot;,\\\&quot;business_type\\\&quot;:\\\&quot;KUAISHOU\\\&quot;,\\\&quot;badge\\\&quot;:0}\&quot;,\&quot;title\&quot;:\&quot;å¿«æ‰‹\&quot;,\&quot;body\&quot;:\&quot;ä½ çœ‹è¿‡çš„å¨Ÿå§ï¼ˆæ‰‹æœºæ‘„å½±ï¼‰å‘å¸ƒäº†æ–°ä½œå“ï¼šå¤å¤©çš„èšŠå­å¥½å¤šå•Šï½å¤ªè®¨åŒäº†ï¼Œæ•´ä¸ªå¤§èšŠé¦™æŠŠä»–ä»¬ç†æ™•å§ï¼ #æ‰‹æœºæ‘„å½± #åˆ›ä½œçµæ„Ÿ #åˆ›æ„\&quot;,\&quot;uri\&quot;:\&quot;kwai:\\/\\/work\\/5205879746946008323?userId=2331994191&amp;amp;exp_tag=1_a\\/0_ps\&quot;}&quot;,
    &quot;resource&quot;: &quot;anSQRSEH&quot;,
    &quot;server&quot;: &quot;xiaomi.com&quot;,
    &quot;ttl&quot;: 86401,
    &quot;userId&quot;: &quot;70084876406&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…¶ä¸­çš„payload å†å±•å¼€çœ‹ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
    &quot;click_payload&quot;: &quot;true&quot;,
    &quot;push_notification&quot;: &quot;{}&quot;,
    &quot;infra_tag&quot;: &quot;cdp&quot;,
    &quot;onlyInBar&quot;: &quot;false&quot;,
    &quot;dndModeIsOn&quot;: &quot;false&quot;,
    &quot;push_msg_id&quot;: &quot;0000016249328800885970645000158&quot;,
    &quot;id&quot;: &quot;0000016249328800885970645000158&quot;,
    &quot;push_back&quot;: &quot;143JrBt4GbJW00637*1EMNPWjcdp5unset82w0MWh6Redmi6oANDROID_021f5a0bbeeb1eb1&quot;,
    &quot;server_key&quot;: &quot;{\&quot;business\&quot;:\&quot;RECO_PUSH\&quot;,\&quot;object_type\&quot;:\&quot;OBJECT_PHOTO\&quot;,\&quot;item_id\&quot;:\&quot;0\&quot;,\&quot;ks_order_id\&quot;:\&quot;empty\&quot;,\&quot;object_id\&quot;:\&quot;5205879746946008323\&quot;,\&quot;sender_id\&quot;:\&quot;0\&quot;,\&quot;push_type\&quot;:\&quot;PUSH_PHOTO\&quot;,\&quot;infra_tag\&quot;:\&quot;cdp\&quot;,\&quot;event_type\&quot;:\&quot;EVENT_CONSUME_AUTHOR_PHOTO_PUSH\&quot;,\&quot;time_ms\&quot;:\&quot;1624932880244\&quot;,\&quot;business_type\&quot;:\&quot;KUAISHOU\&quot;,\&quot;badge\&quot;:0}&quot;,
    &quot;title&quot;: &quot;å¿«æ‰‹&quot;,
    &quot;body&quot;: &quot;ä½ çœ‹è¿‡çš„å¨Ÿå§ï¼ˆæ‰‹æœºæ‘„å½±ï¼‰å‘å¸ƒäº†æ–°ä½œå“ï¼šå¤å¤©çš„èšŠå­å¥½å¤šå•Šï½å¤ªè®¨åŒäº†ï¼Œæ•´ä¸ªå¤§èšŠé¦™æŠŠä»–ä»¬ç†æ™•å§ï¼ #æ‰‹æœºæ‘„å½± #åˆ›ä½œçµæ„Ÿ #åˆ›æ„&quot;,
    &quot;uri&quot;: &quot;kwai://work/5205879746946008323?userId=2331994191&amp;amp;exp_tag=1_a/0_ps&quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿¡æ¯éå¸¸å…¨ï¼Œè¿˜å¸¦äº†è·³è½¬ç”¨çš„schemeï¼Œé€šè¿‡&lt;code&gt;adb shell am start -a android.intent.action.VIEW -d kwai://work/5205879746946008323?userId=2331994191&amp;amp;exp_tag=1_a/0_ps&lt;/code&gt; å°±èƒ½ç›´æ¥è·³è½¬åˆ°å¯¹åº”é¡µé¢äº†ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E9%80%9A%E7%9F%A5%E6%A0%8F%E6%B8%85%E7%90%86&quot;&gt;é€šçŸ¥æ æ¸…ç†&lt;/h2&gt;&lt;p&gt;ä¸Šé¢çš„è„šæœ¬ä»…ä»…æ¶‰åŠäº†è·å–æ•°æ®ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠæ¸…ç†é€šçŸ¥æ ã€‚æ˜¾ç„¶ï¼Œå¦‚æœä¸€ç›´ä¸æ¸…ç†ï¼Œä¸ä»…è¦è€ƒè™‘æ•°æ®å»é‡ï¼Œä¹Ÿä¼šå½±å“æ‹‰å–æ•ˆç‡ã€‚å®é™…ç”¨èµ·æ¥å‘ç°ï¼Œå¦‚æœä¸€ç›´ä¸æ¸…ç†ï¼Œä¹Ÿå®¹æ˜“ hook ä¸åŠ¨ã€‚ã€‚ã€‚&lt;/p&gt;&lt;p&gt;è¦æ¸…ç†ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨æ¯æ¬¡æ‹‰å–æ¶ˆæ¯ç»“æŸåï¼Œè°ƒç”¨ä¸€ä¸‹å‘½ä»¤å³å¯ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;$ adb shell su -c &#x27;service call notification 1&#x27;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;%E5%AE%9E%E6%97%B6%E7%9B%91%E5%90%AC&quot;&gt;å®æ—¶ç›‘å¬&lt;/h2&gt;&lt;p&gt;ä¸è¦å¿˜äº†ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å®æ—¶ç›‘å¬ï¼Œå› æ­¤è¿˜éœ€è¦ç›‘å¬ä¸‹&lt;code&gt;NotificationGroupManager&lt;/code&gt; çš„è§¦å‘å™¨ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;let NotificationGroupManager = Java.use(&#x27;com.android.systemui.statusbar.phone.NotificationGroupManager&#x27;)
let onEntryAdded = NotificationGroupManager.onEntryAdded;
onEntryAdded.implementation = function (entry) {
    let res = onEntryAdded.call(this, entry);
    processManager(this)
    return res;
}&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸è¿‡ï¼Œä»å®è·µä¸­çœ‹ï¼Œæƒ³é€šè¿‡ç›´æ¥ hook ä¸€æ¬¡è¿™ä¸ª onEntryAdded äº‹ä»¶å°±èƒ½ä¸€åŠ³æ°¸é€¸è¿˜æ˜¯æƒ³å¤ªå¤šäº†ã€‚Fridaè¿›ç¨‹æˆ–è€…æ˜¯æ¡Œé¢è¿›ç¨‹æ€»ä¼šæœ‰å„ç§ç†ç”±æŒ‚æ‰ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç”Ÿäº§ä¸­ä¹Ÿå¹¶æ²¡æœ‰ä¾èµ–è¿™ä¸ªï¼Œè€Œæ˜¯é€šè¿‡å¤–éƒ¨å®šæ—¶ä»»åŠ¡æ¥è§¦å‘ã€‚&lt;/p&gt;&lt;h2 id=&quot;%E5%AE%9A%E6%97%B6%E6%8B%89%E6%B4%BB&quot;&gt;å®šæ—¶æ‹‰æ´»&lt;/h2&gt;&lt;p&gt;ç”±äºå°ç±³å‚å®¶è‡ªèº«çš„é€šé“ï¼ˆå¯èƒ½ï¼‰æ¯”è¾ƒè´µï¼Œå› æ­¤å„å¤§åº”ç”¨å‡ ä¹éƒ½æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†èµ°çš„æ˜¯è‡ªå·±çš„é•¿é“¾æ¥ã€‚ä¸å°ç±³è‡ªèº«çš„ç³»ç»Ÿé€šé“ä¸åŒï¼Œè¿™äº›é•¿é“¾æ¥éƒ½æ˜¯éœ€è¦ App åœ¨åå°è¿è¡Œæ‰èƒ½ä¿è¯çš„ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿéœ€è¦å®šæœŸæŠŠé‚£äº›é‡è¦çš„ App è¿›è¡Œå¼ºåˆ¶æ‹‰æ´»ï¼Œè¿™æ ·æˆ‘ä»¬èƒ½æ”¶åˆ°çš„ push æ‰èƒ½æ›´å¿«ã€æ›´å¤šã€‚ä¸è¿‡å¥½æ¶ˆæ¯æ˜¯ï¼Œåº”ç”¨è‡ªèº«é€šé“çš„æ¨é€æ•°æ®æ˜¯ä¸ç”¨èµ° mipush åŠ å¯†é‚£ä¸€å¥—ä¸œè¥¿ï¼Œæ‰€ä»¥æèµ·æ¥æ›´ç®€å•ï½&lt;/p&gt;&lt;h1 id=&quot;%E7%BB%93%E8%AF%AD&quot;&gt;ç»“è¯­&lt;/h1&gt;&lt;p&gt;æœ€ååæ‰‹å¤¸ä¸€å¤¸è…¾è®¯ï¼Œçœ‹èµ·æ¥å„å¤§å‚å®¶å¯¹çƒ­ç‚¹äº‹ä»¶çš„æ¨é€ä¸­ï¼Œè…¾è®¯çˆ¸çˆ¸è¿˜æ˜¯æœ€åŠæ—¶çš„ï¼Œè¿è¥åŒå­¦ä»¬è¾›è‹¦äº†ã€‚&lt;/p&gt;&lt;h1 id=&quot;%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99&quot;&gt;å‚è€ƒèµ„æ–™&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://dev.mi.com/console/doc/detail?pId=863&quot;&gt;å°ç±³æ¨é€äº§å“è¯´æ˜&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://wwm0609.github.io/2017/12/21/android-vdex/&quot;&gt;Android 8.0 VDEXæœºåˆ¶ç®€ä»‹&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://pitechan.com/%E9%80%86%E5%90%91Settings%E5%AE%9E%E7%8E%B0%E7%9B%91%E6%8E%A7App%E9%80%9A%E7%9F%A5/&quot;&gt;é€†å‘settingså®ç°ç›‘æ§appé€šçŸ¥&lt;/a&gt;&lt;/p&gt;
    &lt;/section&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>