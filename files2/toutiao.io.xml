<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>f69a1d1e108f9b49e40b0022b574c4b5</guid>
<title>ç©¶ç«Ÿè¯¥å¦‚ä½•ç†è§£ã€Œå‰ç«¯å·¥ç¨‹åŒ–ã€ï¼Ÿ</title>
<link>https://toutiao.io/k/ujjeuz5</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œå‰ç«¯å·¥ç¨‹åŒ–æ˜¯ç»å¸¸å¬åˆ°çš„æ¦‚å¿µï¼Œä½†è™½ç„¶ç»å¸¸å¬åˆ°ï¼Œå¾ˆå¤šäººå¯¹å®ƒçš„è®¤è¯†ä¾ç„¶å¾ˆæ¨¡ç³Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚ï¼Œæåˆ°å‰ç«¯å·¥ç¨‹åŒ–ï¼Œä»–å¹¶ä¸èƒ½è¯´å‡ºä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–ã€‚ç»™å‡ºä¸€é—¨å…·ä½“çš„æŠ€æœ¯ï¼Œä»–ä¹Ÿä¸èƒ½ç¡®å®šæ˜¯ä¸æ˜¯å±äºå·¥ç¨‹åŒ–èŒƒç•´çš„æŠ€æœ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯å› ä¸ºä»–æ²¡æœ‰å¯¹å‰ç«¯å·¥ç¨‹åŒ–æœ‰ä¸€ä¸ªæ¦‚å¿µä¸Šçš„è®¤è¯†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œè¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ¥ç»™å‰ç«¯å·¥ç¨‹åŒ–ä¸‹ä¸ªå®šä¹‰å§ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æåˆ°å‰ç«¯å·¥ç¨‹åŒ–ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ç¼–è¯‘äº†ã€‚å¾ˆå¤šä»£ç éœ€è¦ç»è¿‡ç¼–è¯‘æ‰èƒ½è¿è¡Œåœ¨ç›®æ ‡ç¯å¢ƒï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é«˜ç‰ˆæœ¬çš„è¯­æ³•éœ€è¦ç”¨ babel ç¼–è¯‘æˆä½ç‰ˆæœ¬çš„ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;lessã€sass è¦ç»è¿‡å„è‡ªçš„ç¼–è¯‘å™¨è½¬æ¢æˆ css ä»£ç ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;TypeScript ä»£ç éœ€è¦ç»è¿‡ tsc æˆ–è€… babel ç­‰ç¼–è¯‘å™¨è½¬æˆ JS ä»£ç ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;...&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰ç«¯å·¥ç¨‹åŒ–é¦–å…ˆè¦åšçš„å°±æ˜¯æ”¯æŒå„ç§ä»£ç çš„ç¼–è¯‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€æ—©çš„å‰ç«¯å·¥ç¨‹åŒ–æ˜¯é€šè¿‡ä»»åŠ¡çš„å½¢å¼ç»„ç»‡è¿™äº›ç¼–è¯‘è¿‡ç¨‹çš„ï¼ŒæŒ‡å®šå¯¹ä»€ä¹ˆæ–‡ä»¶ç”¨ä»€ä¹ˆç¼–è¯‘å™¨ç¼–è¯‘ï¼Œç„¶åè¾“å‡ºåˆ°å“ªä¸ªç›®å½•ã€‚ä»»åŠ¡ä¹‹é—´å¯ä»¥è§„å®šå…ˆåé¡ºåºã€ä¸²è¡Œå¹¶è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;gulp å°±æ˜¯è¿™ä¸€ç±»å·¥å…·ï¼Œå«åš&lt;strong&gt;ä»»åŠ¡è¿è¡Œå™¨ï¼ˆtask runnerï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸€ç±»å·¥å…·èƒ½å¤Ÿç»„ç»‡æ•´ä¸ªç¼–è¯‘æµç¨‹ï¼Œå¯¹ä¸åŒçš„æ–‡ä»¶åˆ†åˆ«åšç›¸åº”çš„å¤„ç†ï¼Œä½¿ä¹‹èƒ½è¿è¡Œåœ¨ç›®æ ‡ç¯å¢ƒã€‚ä½†å› ä¸ºæ¯ä¸ªä»»åŠ¡éƒ½æ¯”è¾ƒç‹¬ç«‹ï¼Œå¾ˆéš¾åšä¸€äº›å…¨å±€çš„ä¼˜åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åæ¥å‡ºç°äº†å¦ä¸€ç§æ€è·¯ï¼Œä¸é€šè¿‡ä»»åŠ¡ç»„ç»‡äº†ï¼Œè€Œæ˜¯åˆ†ææ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»å…¥å£æ¨¡å—å¼€å§‹æ„å»ºä¸€æ£µä¾èµ–å›¾ï¼Œä¸­é—´é‡åˆ°çš„ç”¨åˆ°çš„ jsã€cssã€å›¾ç‰‡ç­‰éƒ½ä¼šä½œä¸ºä»–çš„ä¾èµ–ã€‚ç„¶åå¯¹ä¾èµ–å›¾çš„æ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«ç”¨å¯¹åº”çš„ç¼–è¯‘å™¨å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰çš„åŒå­¦è¯´ï¼Œè¿™ä¸ªå’Œ task runner çš„æ–¹å¼æœ‰å•¥åŒºåˆ«ï¼Œä¸éƒ½æ˜¯å¯¹ä¸åŒçš„æ–‡ä»¶ç”¨ä¸åŒçš„ç¼–è¯‘å™¨å¤„ç†ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£è‚¯å®šæœ‰åŒºåˆ«å‘€ï¼Œç°åœ¨æœ‰äº†æ¨¡å—ä¹‹é—´çš„ä¾èµ–å›¾äº†ï¼Œé‚£å°±å¯ä»¥åšä¸€äº›å…¨å±€çš„ä¼˜åŒ–ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚é€šè¿‡åˆ†æä¾èµ–å…³ç³»æ¥å»æ‰ä¸€äº›æ²¡æœ‰ç”¨åˆ°çš„ä»£ç ï¼Œè¿™å«åš tree shakingã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚æŠŠè¿™äº›æ¨¡å—æ‹†åˆ†åˆ°ä¸åŒçš„åˆ†ç»„ï¼ˆchunkï¼‰é‡Œï¼Œç„¶åç”Ÿæˆä¸åŒçš„æ–‡ä»¶ï¼Œè¿™æ ·æŠŠå˜åŠ¨é¢‘ç¹çš„æ¨¡å—å’Œä¸å’‹å˜åŠ¨çš„æ¨¡å—åˆ†åˆ°ä¸åŒçš„ chunkï¼Œè¿›è€Œç”Ÿæˆåˆ°ä¸åŒçš„æ–‡ä»¶é‡Œï¼Œå°±å¯ä»¥æ›´å¥½çš„åˆ©ç”¨ç¼“å­˜ï¼Œè¿™å«åš code splittingã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œä¸”ï¼Œå› ä¸ºç”Ÿæˆçš„ä»£ç æ˜¯è‡ªå·±æ§åˆ¶çš„ï¼Œæœ‰è‡ªå·±çš„ runtime ä»£ç ï¼Œé‚£å°±å¯ä»¥é…åˆ runtime æ¥å®ç°ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚å®ç°æ¨¡å—çš„ lazy loadï¼Œä¹Ÿå°±æ˜¯æŠŠ code splitting åˆ†å‡ºæ¥çš„ chunkï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å«åš&lt;strong&gt;æ‰“åŒ…å·¥å…·ï¼ˆbundlerï¼‰&lt;/strong&gt;ï¼Œå…¸å‹çš„æ˜¯ webpackã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»»åŠ¡è¿è¡Œå™¨å’Œæ‰“åŒ…å·¥å…·çš„åŒºåˆ«è¿˜æ˜¯å¾ˆæ˜æ˜¾çš„ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»»åŠ¡è¿è¡Œå™¨åªæ˜¯æŠŠä¸åŒçš„ç¼–è¯‘ä»»åŠ¡ç»„ç»‡èµ·æ¥ï¼Œå¹¶ä¸å‚ä¸å…·ä½“çš„ä»£ç å¤„ç†ï¼Œå…·ä½“å¤„ç†å•¥æ–‡ä»¶ï¼Œæ€ä¹ˆå¤„ç†éƒ½æ˜¯å¼€å‘è€…æŒ‡å®šçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œæ‰“åŒ…å·¥å…·åˆ™æ˜¯åˆ†ææ¨¡å—ä¾èµ–å…³ç³»ï¼Œæ„æˆä¾èµ–å›¾ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ç¡®å®šå¤„ç†å“ªäº›æ–‡ä»¶ï¼Œå¯ä»¥åŸºäºè¿™ç§ä¾èµ–å…³ç³»å®ç° tree shkingã€code splitting ç­‰ä¼˜åŒ–ï¼Œå¹¶ä¸”ç”Ÿæˆçš„ä»£ç ä¼šæœ‰è‡ªå·±çš„ runtimeï¼Œå¯ä»¥é…åˆ runtime å®ç° lazy load ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºæ‰“åŒ…å·¥å…·è¿™ç§æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œæ…¢æ…¢çš„å°±å–ä»£äº†ä»»åŠ¡è¿è¡Œå™¨ï¼Œæˆä¸ºäº†æ„å»ºçš„ä¸»æµæ–¹å¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯æ‰“åŒ…å·¥å…·ä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¦æ„å»ºæ•´ä¸ªä¾èµ–å›¾ï¼Œå¯¹ä¸åŒæ–‡ä»¶åˆ†åˆ«åšå¤„ç†ï¼Œä¹‹åæ‰èƒ½ç”Ÿæˆä»£ç ï¼Œæ‰€ä»¥å½“é¡¹ç›®çš„æ¨¡å—å¤šäº†å°±ä¼šå¾ˆæ…¢ï¼Œå¤§é¡¹ç›®æ‰“åŒ…å‡ åˆ†é’Ÿä¹Ÿæ˜¯å¾ˆå¸¸è§çš„äº‹æƒ…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰ç—›ç‚¹é—®é¢˜ï¼Œå¤§å®¶å°±ä¼šæƒ³åŠæ³•å»è§£å†³ï¼Œæ‰€ä»¥å‡ºç°äº† &lt;strong&gt;no bundle&lt;/strong&gt; çš„æ–¹æ¡ˆï¼Œä¹Ÿå°±æ˜¯ä¸æ‰“åŒ…ï¼Œæ¯”å¦‚ viteã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸æ‰“åŒ…ä¹Ÿå°±ä¸ä¼šè¿›è¡Œä¾èµ–åˆ†æï¼Œé‚£æ€ä¹ˆç¡®å®šå¤„ç†å“ªäº›æ–‡ä»¶å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;no bundle æ˜¯åŸºäºæµè§ˆå™¨æ”¯æŒ es module æ¥å®ç°çš„ï¼Œæµè§ˆå™¨ä¼šåš es module çš„ä¾èµ–åˆ†æï¼Œç„¶ååŠ è½½å¯¹åº”çš„æ¨¡å—ï¼Œè¿™æ ·è‡ªç„¶å°±ä¸ç”¨è‡ªå·±åšä¾èµ–åˆ†æäº†ï¼Œåªéœ€è¦å®ç°æ¨¡å—çš„ç¼–è¯‘å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œno bundle å·¥å…·ä¼šå¯åŠ¨ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œæ ¹æ®è¯·æ±‚çš„æ¨¡å—è·¯å¾„æ¥è¿›è¡Œç›¸åº”çš„ç¼–è¯‘ï¼Œç„¶åè¿”å›ç¼–è¯‘åçš„ä»£ç ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯éœ€è¦æ‰“åŒ…çš„ï¼Œä¼šç”¨æ‰“åŒ…å·¥å…·æ¥å¤„ç†ã€‚no bundle æ–¹æ¡ˆåªæ˜¯è§£å†³äº†å¼€å‘ç¯å¢ƒä¸‹æ‰“åŒ…å·¥å…·è¦æ„å»ºæ•´ä¸ªä¾èµ–å›¾å¯¼è‡´æ¯”è¾ƒæ…¢çš„ç—›ç‚¹é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å›è¿‡å¤´æ¥ç»¼åˆçœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ„å»ºçš„æ ¸å¿ƒæ˜¯å¯¹ä¸åŒçš„æ–‡ä»¶åšä¸åŒçš„ç¼–è¯‘ï¼Œæœ€æ—©çš„ä»»åŠ¡è¿è¡Œå™¨çš„æ–¹æ¡ˆå®ç°äº†ç¼–è¯‘æµç¨‹çš„ç»„ç»‡ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åšå…¨å±€çš„ä¼˜åŒ–ï¼Œä¹Ÿæ²¡æœ‰è‡ªå·±çš„ runtime ä»£ç ï¼Œæ‰€ä»¥å‡ºç°äº†åŸºäºä¾èµ–åˆ†æçš„æ‰“åŒ…å·¥å…·ï¼Œæ‰“åŒ…å·¥å…·å¯ä»¥åŸºäºä¾èµ–åˆ†æå®ç° treeshkingã€code splitting ç­‰ä¼˜åŒ–ï¼Œå¯ä»¥é…åˆ runtime ä»£ç å®ç° lazy loadã€‚ä½†æˆä¹Ÿä¾èµ–åˆ†æï¼Œè´¥ä¹Ÿä¾èµ–åˆ†æï¼Œè¿™ä¸ªå¤ªæ…¢äº†ï¼Œæ‰€ä»¥å‡ºç°äº† no bundle çš„æ–¹æ¡ˆï¼Œé…åˆæµè§ˆå™¨å¯¹ es module çš„æ”¯æŒï¼Œåªè¦å®ç°å¯¹åº”æ¨¡å—çš„ç¼–è¯‘æœåŠ¡å³å¯ï¼Œä¸è¿‡ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯è¦æ‰“åŒ…çš„ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£æˆ‘ä»¬é©¬åç‚®ä¸€ä¸‹ï¼Œå‡å¦‚å›åˆ° gulp å½“æ—¶çš„æ—¶ä»£ï¼Œèƒ½å¤Ÿå®ç°æ‰“åŒ…å·¥å…·å’Œ no bundle æœåŠ¡ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜çœŸä¸ä¸€å®šï¼Œå› ä¸ºæ‰“åŒ…å·¥å…·çš„å®ç°æ˜¯åŸºäºæ¨¡å—è§„èŒƒçš„ï¼Œå¾ˆæ—©çš„æ—¶å€™å¹¶æ²¡æœ‰ï¼Œæ‰€ä»¥åªèƒ½ç®€å•çš„å¯¹ç¼–è¯‘æµç¨‹åšä¸‹ç»„ç»‡ã€‚æ›´ä¸ç”¨è¯´ no bundle è¿˜è¦æµè§ˆå™¨æ”¯æŒ es module äº†ï¼Œè¿™ä¸ªä¹Ÿæ˜¯è¿‘å‡ å¹´æ‰å¯ä»¥çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œä¸ç®¡æ˜¯ä»»åŠ¡è¿è¡Œå™¨ã€æ‰“åŒ…å·¥å…·ã€no bundle æœåŠ¡éƒ½æ˜¯åœ¨å½“æ—¶çš„ç¯å¢ƒä¸‹çš„æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸æ˜¯è¯´è¢«æ·˜æ±°çš„å°±æ˜¯ä¸å¥½çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢æˆ‘ä»¬åªèŠäº†æ„å»ºï¼Œé‚£å‰ç«¯å·¥ç¨‹åŒ–å°±ç­‰äºæ„å»ºä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‚¯å®šä¸æ˜¯å‘€ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„æ–¹é¢ï¼Œæ¯”å¦‚ä»£ç çš„è§„èŒƒå’Œé™æ€åˆ†æï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;JS ä»£ç ä¼šç”¨ ESLint æ¥ç¦æ­¢æ‰ä¸€äº›å†™æ³•ï¼Œæ¯”å¦‚ concoleã€debugger çš„ä½¿ç”¨ï¼Œè¿˜å¯ä»¥ä¿®å¤æ ¼å¼é—®é¢˜ï¼Œæ¯”å¦‚ç¼©è¿›æ–¹å¼ï¼Œè¿˜èƒ½æ£€æŸ¥å‡ºä¸€äº›é€»è¾‘é”™è¯¯ï¼Œæ¯”å¦‚ if ä¸­ç”¨äº†èµ‹å€¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;CSS ä»£ç ä¹ŸåŒæ ·ä¼šç”¨ StyleLint æ¥ç¦ç”¨ä¸€äº›å†™æ³•ï¼Œä¿®å¤æ ¼å¼é—®é¢˜ï¼Œæ£€æŸ¥å‡ºä¸€äº›é€»è¾‘é”™è¯¯&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ESLintã€StyleLint åªæ˜¯å±€éƒ¨çš„æ ¼å¼ä¿®å¤ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ prettier æ¥è¿›è¡Œæ•´ä½“çš„æ ¼å¼åŒ–&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬ç”¨äº† TypeScriptï¼Œé‚£å°±å¯ä»¥ç”¨ tsc æ¥è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå‘ç°ä»£ç ä¸­æ½œåœ¨çš„ç±»å‹ä¸åŒ¹é…çš„é”™è¯¯&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™æ€åˆ†æå·¥å…·ã€æ ¼å¼åŒ–å·¥å…·å¹¶ä¸å½±å“æ„å»ºï¼Œä»–ä»¬ä¸€èˆ¬æ˜¯å•ç‹¬æ¥è·‘çš„ï¼Œç”¨æ¥å‘ç°ä¸€äº›ä»£ç æ½œåœ¨çš„é—®é¢˜ï¼Œè§„èŒƒä»£ç æ ¼å¼ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç å†™å®Œä¹‹åï¼Œä¼šä¸Šä¼ åˆ°ä»£ç ä»“åº“ï¼Œæ¯”å¦‚ gitlabï¼Œä»£ç æ‰˜ç®¡ä¹Ÿæ˜¯å·¥ç¨‹åŒ–çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç ä¸Šçº¿çš„è¯ï¼Œéœ€è¦è¿›è¡Œæ„å»ºå’Œéƒ¨ç½²ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ jenkins æ¥ç»„ç»‡æ„å»ºæµç¨‹ï¼Œå½“ gitlab ä»£ç æœ‰æ–°çš„ push çš„æ—¶å€™è§¦å‘ï¼Œè¿›è¡Œæ„å»ºï¼Œç„¶åæŠŠäº§ç‰©éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ŒåŸºäº git hook çš„æ„å»ºéƒ¨ç½²æµç¨‹å°±å«åšæŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰ã€‚è¿™ä¹Ÿæ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸€éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½åƒå¾ˆå¤šä¸œè¥¿éƒ½å±äºå‰ç«¯å·¥ç¨‹åŒ–ï¼Œé‚£æ€ä¹ˆç»™å‰ç«¯å·¥ç¨‹åŒ–ä¸‹ä¸ªå®šä¹‰å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢èŠäº†æ„å»ºã€é™æ€åˆ†æã€æ ¼å¼åŒ–ã€ä»£ç æ‰˜ç®¡ã€CI/CDï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°è¿™äº›å·¥å…·çš„å…±åŒç‰¹ç‚¹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»–ä»¬çš„å¤„ç†å¯¹è±¡éƒ½æ˜¯ä»£ç ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»–ä»¬åªæ˜¯æŠŠä»£ç å½“ä½œå­—ç¬¦ä¸²æ¥å¤„ç†ï¼Œå¹¶ä¸ç®¡ä½ ç”¨çš„æ˜¯ vueã€react è¿˜æ˜¯ angularï¼Œä½ ç”¨çš„å•¥çŠ¶æ€ç®¡ç†åº“ã€åŠ¨ç”»åº“ä¹‹ç±»çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥è¯´ï¼Œ&lt;strong&gt;å‰ç«¯å·¥ç¨‹åŒ–å°±æ˜¯å¤„ç†ä»£ç çš„ä¸€ç³»åˆ—å·¥å…·é“¾ï¼Œä»–ä»¬å¹¶ä¸ä¼šè¿è¡Œä»£ç ï¼Œåªæ˜¯æŠŠä»£ç ä½œä¸ºå­—ç¬¦ä¸²æ¥è¿›è¡Œä¸€ç³»åˆ—å¤„ç†ã€‚ç¼–è¯‘æ„å»ºã€ci/cdã€ä»£ç æ‰˜ç®¡ã€é™æ€åˆ†æã€æ ¼å¼åŒ–ç­‰éƒ½æ˜¯ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸çŸ¥é“å¤§å®¶æ˜¯å¦ç†è§£äº†ã€‚æˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬é¡¹ç›®ç”¨äº† reactï¼Œå…¬å…±ç»„ä»¶æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å°è£…äº† react çš„ç»„ä»¶åº“ã€‚è¿™å±äºå‰ç«¯å·¥ç¨‹åŒ–ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸å±äºã€‚å‰ç«¯æ¡†æ¶è¿˜æœ‰ç»„ä»¶éƒ½æ˜¯è¿è¡Œæ—¶æ‰æœ‰çš„ï¼Œå·¥ç¨‹åŒ–å¹¶ä¸ä¼šè¿è¡Œä»£ç ï¼Œåªä¼šå¤„ç†ä»£ç ã€‚æ‰€ä»¥ç»„ä»¶åº“å±äºå‰ç«¯åŸºå»ºï¼Œä½†ä¸å±äºå‰ç«¯å·¥ç¨‹åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¥½å‡ ä¸ªé¡¹ç›®ä¹‹é—´å…¬å…±ä»£ç æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ”¹é€ æˆäº† monorepo çš„å½¢å¼ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå·¥ç¨‹ä¸‹ä¿å­˜äº†å¤šä¸ªé¡¹ç›®çš„ä»£ç ï¼Œä½¿ç”¨äº† pnpm workspace æ¥ä½œä¸º monorepo çš„ç®¡ç†å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨çš„è¿›è¡Œä¾èµ–çš„å…³è”ï¼Œç»Ÿä¸€çš„è¿›è¡Œä¾èµ–å®‰è£…ã€æ„å»ºã€å‘ç‰ˆç­‰ã€‚è¿™å±äºå‰ç«¯å·¥ç¨‹åŒ–ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å±äºã€‚monorepo æ˜¯ç»„ç»‡ä»£ç çš„æ–¹å¼ï¼Œpnpm workspace æ˜¯ç®¡ç† monorepo çš„å·¥å…·ï¼Œå®ƒä¹Ÿæ˜¯å¤„ç†ä»£ç çš„å·¥å…·ï¼Œä¸ä¼šè¿è¡Œä»£ç ï¼Œæ‰€ä»¥ä¹Ÿå±äºå‰ç«¯å·¥ç¨‹åŒ–çš„èŒƒç•´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å…¬å¸è‡ªç ”äº† IDEï¼Œé›†æˆäº†å¾ˆå¤šå†…éƒ¨å·¥å…·ï¼Œè¿™å±äºå‰ç«¯å·¥ç¨‹åŒ–ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å±äºã€‚IDE æ˜¯å›´ç»•ä»£ç ç¼–è¾‘çš„åœºæ™¯æ¥æ‰“é€ ä¸€ç³»åˆ—å·¥å…·é“¾ï¼Œä¹Ÿæ˜¯å¤„ç†ä»£ç ä½†ä¸ä¼šè¿è¡Œä»£ç ï¼Œæ‰€ä»¥å±äºå‰ç«¯å·¥ç¨‹åŒ–çš„èŒƒç•´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡è¿™äº›ä¾‹å­ï¼Œç›¸ä¿¡å¤§å®¶å¯¹ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–ï¼Œå“ªäº›æŠ€æœ¯å±äºå‰ç«¯å·¥ç¨‹åŒ–å°±æ¯”è¾ƒæ¸…æ™°äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ‰€ä»¥ç»å¸¸è°ˆçš„æ˜¯å‰ç«¯çš„å·¥ç¨‹åŒ–ï¼Œå…¶å®åˆ«çš„è¯­è¨€ä¹Ÿæœ‰å·¥ç¨‹åŒ–ï¼Œæ¯”å¦‚ java ä»£ç ï¼ŒåŒæ ·éœ€è¦æ„å»ºã€æ ¼å¼åŒ–ã€é™æ€åˆ†æã€CI/CDï¼Œæ‰€ä»¥ä¹Ÿæœ‰å·¥ç¨‹åŒ–çš„æ¦‚å¿µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®å¤§å…¬å¸éƒ½ä¼šæœ‰ä¸€ä¸ªå·¥ç¨‹æ•ˆèƒ½éƒ¨é—¨ï¼Œä»–ä»¬åšçš„å°±æ˜¯å·¥ç¨‹åŒ–çš„äº‹æƒ…ï¼Œä¸è¿‡ä¸€èˆ¬æ˜¯è·¨è¯­è¨€çš„å·¥ç¨‹åŒ–ï¼Œå¹¶ä¸å±€é™äºå‰ç«¯å·¥ç¨‹åŒ–ã€åç«¯å·¥ç¨‹åŒ–ç­‰ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å‰ç«¯å·¥ç¨‹åŒ–æ˜¯æŒ‡å›´ç»•ä»£ç å¤„ç†çš„ä¸€ç³»åˆ—å·¥å…·é“¾ï¼Œä»–ä»¬æŠŠä»£ç å½“ä½œå­—ç¬¦ä¸²å¤„ç†ï¼Œå¹¶ä¸è¿è¡Œä»£ç ï¼ŒåŒ…æ‹¬ç¼–è¯‘æ„å»ºã€é™æ€åˆ†æã€æ ¼å¼åŒ–ã€CI/CD ç­‰ç­‰ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬è¯¦ç»†äº†è§£äº†ç¼–è¯‘æ„å»ºçš„å†å²ï¼Œä»ä»»åŠ¡è¿è¡Œå™¨ã€æ‰“åŒ…å·¥å…·åˆ° no bundle æœåŠ¡çš„æ¼”å˜å†å²ï¼Œä»–ä»¬éƒ½æ˜¯ç‰¹å®šæ—¶ä»£ä¸‹çš„äº§ç‰©ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†å°±æ˜¯é™æ€åˆ†æå’Œæ ¼å¼åŒ–ç”¨çš„ eslintã€stylelintã€prettierã€tsc ç­‰å·¥å…·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰ç«¯å·¥ç¨‹åŒ–çš„èŒƒå›´å¯ä»¥å¾ˆå¤§ï¼Œå¯ä»¥å›Šæ‹¬å¾ˆå¤šå·¥å…·è¿›æ¥ï¼Œæ¯”å¦‚ monorepoã€IDE ç­‰ç­‰ï¼Œå› ä¸ºåœ¨ä¸åŒçš„åœºæ™¯ä¸‹å¯¹ä»£ç å¤„ç†ï¼Œä¹Ÿå°±æ˜¯å·¥ç¨‹åŒ–æœ‰ä¸åŒçš„éœ€æ±‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ä½ å¯¹å‰ç«¯å·¥ç¨‹åŒ–æœ‰äº†æ¸…æ™°çš„å®šä¹‰ä¹‹åï¼Œå¯¹äºå‰ç«¯å·¥ç¨‹åŒ–è¦åšå“ªäº›äº‹æƒ…ï¼Œå“ªäº›æŠ€æœ¯å±äºå‰ç«¯å·¥ç¨‹åŒ–ã€å“ªäº›ä¸å±äºï¼Œå°±å¾ˆå®¹æ˜“ç†æ¸…äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;296&quot; data-ratio=&quot;0.5299270072992701&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/5Q3ZxrD2qNDvxh93JHfZD80m7GhBmGicoYpnLCanxmxvpVm4ACYNms63xnCgKt1Py5rvMCEDkWebYCTpfDVBq7g/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;685&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong/&gt;&lt;strong&gt;&lt;span&gt;å½¦ç¥–ï¼Œäº¦è²ï¼Œ&lt;/span&gt;&lt;span&gt;ç‚¹ä¸ª&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;ã€Œåœ¨çœ‹ã€&lt;/strong&gt;&lt;span&gt;å§&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f61a392a332124ec9bffc84b4ad50c3c</guid>
<title>æŒæ¡äº†è¿™ä¸€æ‹›ï¼ŒGoç‰ˆæœ¬çš„ç®¡ç†ä¸ç”¨æ„</title>
<link>https://toutiao.io/k/j2wtexh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;
            &lt;section&gt;&lt;section&gt;&lt;span&gt;ä»Šå¤©å¸¦æ¥ä¸€ç¯‡å…³äºGoç‰ˆæœ¬ç®¡ç†å™¨gvmçš„å°çŸ­æ–‡ã€‚&lt;/span&gt;&lt;span&gt;åºŸè¯ä¸å¤šè¯´ï¼Œå¼€å§‹å®‰è£…ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å®‰è£…&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä½¿ç”¨çš„macï¼Œmac éœ€è¦å…ˆå®‰è£…xcode-selectï¼Œæ²¡å®‰è£…è¿‡çš„åŒå­¦å¯ä»¥æŒ‰ç…§å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ‰§è¡Œå®‰è£…ï¼Œè¿™é‡Œä¸åšå¤ªå¤šè¯´æ˜äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;xcode-selectÂ --install&lt;br/&gt;brewÂ update&lt;br/&gt;brewÂ installÂ mercurial&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‰ç…§githubä¸Šé¢æŒ‡ç¤ºï¼Œæˆ‘ä»¬è¿™é‡ŒæŒ‰ç…§å‘½ä»¤è¡Œè¿›è¡Œä¸‹è½½gvm-installerè¿›è¡Œå®‰è£…ï¼Œç»ˆç«¯æ‰§è¡Œæœ‰é—®é¢˜çš„åŒå­¦ä¹Ÿå¯ä»¥åˆ°&lt;span&gt;gvm-installer&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;é¡µé¢è¿›è¡Œcloneå®‰è£…ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$bash&lt;/span&gt;Â &amp;lt;Â &amp;lt;(curlÂ -sÂ -SÂ -LÂ https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)&lt;br/&gt;CloningÂ fromÂ https://github.com/moovweb/gvm.gitÂ toÂ /Users/admin/.gvm&lt;br/&gt;CreatedÂ profileÂ &lt;span&gt;for&lt;/span&gt;Â existingÂ installÂ ofÂ GoÂ atÂ &lt;span&gt;&quot;/opt/homebrew/Cellar/go/1.18.1/libexec&quot;&lt;/span&gt;&lt;br/&gt;InstalledÂ GVMÂ v1.0.22&lt;br/&gt;&lt;br/&gt;PleaseÂ restartÂ yourÂ terminalÂ sessionÂ orÂ toÂ getÂ startedÂ rightÂ awayÂ run&lt;br/&gt;Â `&lt;span&gt;source&lt;/span&gt;Â /Users/admin/.gvm/scripts/gvm`&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ä¸ºäº†ä½¿gvmç”Ÿæ•ˆï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸‹ä¸Šé¢æç¤ºçš„&lt;code&gt;source /Users/admin/.gvm/scripts/gvm&lt;/code&gt;å‘½ä»¤å³å¯ï¼Œæ‰§è¡Œç»“æŸå°±å¯ä»¥åœ¨æ–°ç»ˆç«¯ä½¿ç”¨gvmæ¥åˆ‡æ¢æ§åˆ¶goçš„ç‰ˆæœ¬äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä½¿ç”¨&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®‰è£…å¥½äº†ï¼Œå’±ä»¬å°±å¯ä»¥æ¥ç®€å•äº†è§£ä¸€ä¸‹gvmçš„æ”¯æŒçš„ä¸€äº›åŠŸèƒ½ã€‚è¿™ä¸‹å¯ä»¥å‘¼å”¤gvmçš„helpé€‰é¡¹äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$gvm&lt;/span&gt;Â &lt;span&gt;help&lt;/span&gt;&lt;br/&gt;Usage:Â gvmÂ [&lt;span&gt;command&lt;/span&gt;]&lt;br/&gt;&lt;br/&gt;Description:&lt;br/&gt;Â Â GVMÂ isÂ theÂ GoÂ VersionÂ Manager&lt;br/&gt;&lt;br/&gt;Commands:&lt;br/&gt;Â Â versionÂ Â Â Â -Â &lt;span&gt;print&lt;/span&gt;Â theÂ gvmÂ versionÂ numberÂ &lt;span&gt;#Â æŸ¥çœ‹gvmçš„ç‰ˆæœ¬&lt;/span&gt;&lt;br/&gt;Â Â getÂ Â Â Â Â Â Â Â -Â getsÂ theÂ latestÂ codeÂ (&lt;span&gt;for&lt;/span&gt;Â debugging)Â &lt;span&gt;#Â è·å–æœ€æ–°çš„ä»£ç ï¼ˆä¸€èˆ¬ä¸ºäº†è°ƒè¯•ï¼‰&lt;/span&gt;&lt;br/&gt;Â Â useÂ Â Â Â Â Â Â Â -Â selectÂ aÂ goÂ versionÂ toÂ useÂ (--defaultÂ toÂ &lt;span&gt;set&lt;/span&gt;Â permanently)Â &lt;span&gt;#Â é€‰æ‹©ä½¿ç”¨çš„Goç‰ˆæœ¬Â ï¼ˆ--defaultÂ å¯ä»¥æ°¸ä¹…è®¾ç½®ï¼‰&lt;/span&gt;&lt;br/&gt;Â Â diffÂ Â Â Â Â Â Â -Â viewÂ changesÂ toÂ GoÂ rootÂ &lt;span&gt;#Â æŸ¥çœ‹GoÂ rootä¸­çš„å˜æ›´&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;help&lt;/span&gt;Â Â Â Â Â Â Â -Â displayÂ thisÂ usageÂ textÂ &lt;br/&gt;Â Â implodeÂ Â Â Â -Â completelyÂ removeÂ gvmÂ &lt;span&gt;#Â å®Œå…¨åˆ é™¤Â gvmÂ å’Œæ‰€æœ‰å·²å®‰è£…çš„Â GoÂ ç‰ˆæœ¬å’ŒåŒ…&lt;/span&gt;&lt;br/&gt;Â Â installÂ Â Â Â -Â installÂ goÂ versionsÂ &lt;span&gt;#Â å®‰è£…æŸä¸ªç‰ˆæœ¬çš„Go&lt;/span&gt;&lt;br/&gt;Â Â uninstallÂ Â -Â uninstallÂ goÂ versionsÂ &lt;span&gt;#Â å¸è½½æŸä¸ªç‰ˆæœ¬çš„Go&lt;/span&gt;&lt;br/&gt;Â Â crossÂ Â Â Â Â Â -Â installÂ goÂ crossÂ compilersÂ &lt;span&gt;#Â å®‰è£…è·¨å¹³å°Goç¼–è¯‘å™¨&lt;/span&gt;&lt;br/&gt;Â Â linkthisÂ Â Â -Â linkÂ thisÂ directoryÂ intoÂ GOPATHÂ &lt;span&gt;#Â å°†é¡¹ç›®è·¯å¾„é“¾æ¥åˆ°GOPATHä¸­&lt;/span&gt;&lt;br/&gt;Â Â listÂ Â Â Â Â Â Â -Â listÂ installedÂ goÂ versionsÂ &lt;span&gt;#Â ç½—åˆ—å·²ç»å®‰è£…çš„Goç‰ˆæœ¬åˆ—è¡¨&lt;/span&gt;&lt;br/&gt;Â Â listallÂ Â Â Â -Â listÂ availableÂ versionsÂ &lt;span&gt;#Â ç½—åˆ—å¯ç”¨çš„Goç‰ˆæœ¬&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;alias&lt;/span&gt;Â Â Â Â Â Â -Â manageÂ goÂ versionÂ aliasesÂ &lt;span&gt;#Â ç®¡ç†Goç‰ˆæœ¬åˆ«å&lt;/span&gt;&lt;br/&gt;Â Â pkgsetÂ Â Â Â Â -Â manageÂ goÂ packagesÂ setsÂ &lt;span&gt;#Â ç®¡ç†GoåŒ…çš„è®¾ç½®&lt;/span&gt;&lt;br/&gt;Â Â pkgenvÂ Â Â Â Â -Â editÂ theÂ environmentÂ &lt;span&gt;for&lt;/span&gt;Â aÂ packageÂ &lt;span&gt;set&lt;/span&gt;Â &lt;span&gt;#Â ç¼–è¾‘GoåŒ…é›†åˆçš„ç¯å¢ƒ&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;gvmçš„ç®€å•ä½¿ç”¨&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆé€šè¿‡&lt;code&gt;gvm listall&lt;/code&gt;å‘½ä»¤æ¥çœ‹ä¸‹ç›®å‰çš„Goç‰ˆæœ¬åˆ—è¡¨ï¼Œå¦‚ä¸‹ï¼Œåˆ—è¡¨å¤ªé•¿äº†ï¼Œè¿™é‡ŒGo1-15çš„ç‰ˆæœ¬åˆ—è¡¨çœç•¥äº†ï¼Œå¯ä»¥çœ‹å‡ºæœ€æ–°çš„æ˜¯Go1.19çš„betaå’Œå‡ ä¸ªrcç‰ˆæœ¬äº†ã€‚é‚£ä¹ˆå’±ä»¬æ¥ä¸‹æ¥é€šè¿‡ä¸‹è½½Go1.19çš„rcç‰ˆæœ¬æ¥åšç¤ºä¾‹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$gvm&lt;/span&gt;Â listall&lt;br/&gt;&lt;br/&gt;gvmÂ gosÂ (available)&lt;br/&gt;&lt;br/&gt;Â Â Â go1&lt;br/&gt;Â Â Â ...&lt;br/&gt;Â Â Â go1.16&lt;br/&gt;Â Â Â go1.16beta1&lt;br/&gt;Â Â Â go1.16rc1&lt;br/&gt;Â Â Â go1.16.1&lt;br/&gt;Â Â Â go1.16.2&lt;br/&gt;Â Â Â go1.16.3&lt;br/&gt;Â Â Â go1.16.4&lt;br/&gt;Â Â Â go1.16.5&lt;br/&gt;Â Â Â go1.16.6&lt;br/&gt;Â Â Â go1.16.7&lt;br/&gt;Â Â Â go1.16.8&lt;br/&gt;Â Â Â go1.16.9&lt;br/&gt;Â Â Â go1.16.10&lt;br/&gt;Â Â Â go1.16.11&lt;br/&gt;Â Â Â go1.16.12&lt;br/&gt;Â Â Â go1.16.13&lt;br/&gt;Â Â Â go1.16.14&lt;br/&gt;Â Â Â go1.16.15&lt;br/&gt;Â Â Â go1.17&lt;br/&gt;Â Â Â go1.17beta1&lt;br/&gt;Â Â Â go1.17rc1&lt;br/&gt;Â Â Â go1.17rc2&lt;br/&gt;Â Â Â go1.17.1&lt;br/&gt;Â Â Â go1.17.2&lt;br/&gt;Â Â Â go1.17.3&lt;br/&gt;Â Â Â go1.17.4&lt;br/&gt;Â Â Â go1.17.5&lt;br/&gt;Â Â Â go1.17.6&lt;br/&gt;Â Â Â go1.17.7&lt;br/&gt;Â Â Â go1.17.8&lt;br/&gt;Â Â Â go1.17.9&lt;br/&gt;Â Â Â go1.17.10&lt;br/&gt;Â Â Â go1.17.11&lt;br/&gt;Â Â Â go1.17.12&lt;br/&gt;Â Â Â go1.18&lt;br/&gt;Â Â Â go1.18beta1&lt;br/&gt;Â Â Â go1.18beta2&lt;br/&gt;Â Â Â go1.18rc1&lt;br/&gt;Â Â Â go1.18.1&lt;br/&gt;Â Â Â go1.18.2&lt;br/&gt;Â Â Â go1.18.3&lt;br/&gt;Â Â Â go1.18.4&lt;br/&gt;Â Â Â go1.19beta1&lt;br/&gt;Â Â Â go1.19rc1&lt;br/&gt;Â Â Â go1.19rc2&lt;br/&gt;Â Â Â release.r56&lt;br/&gt;Â Â Â release.r57&lt;br/&gt;Â Â Â release.r58&lt;br/&gt;Â Â Â release.r59&lt;br/&gt;Â Â Â release.r60&lt;br/&gt;Â Â Â release.r57.1&lt;br/&gt;Â Â Â release.r57.2&lt;br/&gt;Â Â Â release.r58.1&lt;br/&gt;Â Â Â release.r58.2&lt;br/&gt;Â Â Â release.r60.1&lt;br/&gt;Â Â Â release.r60.2&lt;br/&gt;Â Â Â release.r60.3&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å®‰è£…ä¸€ä¸ªGoç‰ˆæœ¬&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆçœ‹ä¸‹ç›®å‰ä½¿ç”¨çš„Goç‰ˆæœ¬ï¼Œå°åœŸè¿™é‡Œä½¿ç”¨çš„æ˜¯go1.18.1çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$go&lt;/span&gt;Â version&lt;br/&gt;goÂ versionÂ go1.18.1Â darwin/arm64&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®‰è£…ä¸€ä¸ªæœ€æ–°Go1.19çš„rc1ç‰ˆæœ¬ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$gvm&lt;/span&gt;Â installÂ go1.19rc1&lt;br/&gt;InstallingÂ go1.19rc1...&lt;br/&gt;Â *Â Compiling...&lt;br/&gt;go1.19rc1Â successfullyÂ installed!&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;ç‰ˆæœ¬åˆ‡æ¢&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ï¼Œå’±ä»¬åˆ‡æ¢ä¸€ä¸‹ä¸‹è½½å¥½çš„goç‰ˆæœ¬ï¼Œè¿™é‡Œä½¿ç”¨&lt;code&gt;gvm use  version&lt;/code&gt;å³å¯åˆ‡æ¢ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$gvm&lt;/span&gt;Â useÂ go1.19rc1&lt;br/&gt;NowÂ usingÂ versionÂ go1.19rc1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä½•æ°¸ä¹…åˆ‡æ¢å‘¢ï¼ŸåŠ ä¸Š&lt;code&gt;--default&lt;/code&gt;å³å¯æ°¸ä¹…è®¾ç½®ï¼Œå¯ä»¥é€šè¿‡æ–°å»ºç»ˆç«¯æ‰§è¡Œ&lt;code&gt;go version&lt;/code&gt;,éªŒè¯æŸ¥çœ‹Goç‰ˆæœ¬æ˜¯å¦å®Œå…¨åˆ‡æ¢ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$gvm&lt;/span&gt;Â useÂ go1.19rc1Â --default&lt;br/&gt;NowÂ usingÂ versionÂ go1.19rc1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæˆ‘ä»¬ä½¿ç”¨&lt;code&gt;go version&lt;/code&gt;æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„Goç‰ˆæœ¬ï¼Œçœ‹æ¥æ˜¯åˆ‡æ¢æˆåŠŸäº†ã€‚é‚£ä¹ˆä½ å°±å¯ä»¥æ¥å»è‡ªå¦‚åœ°åˆ‡æ¢Goç‰ˆæœ¬äº†ã€‚å°¤å…¶æ˜¯åœ¨è°ƒè¯•ä¸åŒGoç‰ˆæœ¬å¸¦æ¥çš„é—®é¢˜ä»£ç æ—¶å€™ç‰¹åˆ«æœ‰ç”¨ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$go&lt;/span&gt;Â version&lt;br/&gt;goÂ versionÂ go1.19rc1Â darwin/arm64&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‡çº§é—®é¢˜æ’æŸ¥&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‹¥åœ¨å‡çº§Goè¿‡ç¨‹ä¸­ï¼Œgvmæ–‡ä»¶çš„çŠ¶æ€å‘ç”Ÿé”™ä¹±æˆ–è€…å…¶ä»–é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ‰§è¡Œ&lt;code&gt;rm -rf ~/.gvm&lt;/code&gt;æ¥åˆ é™¤gvmè¿›è¡Œé—®é¢˜çš„fixã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å°ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©çš„çŸ­æ–‡ä¸»è¦ä»‹ç»äº†ä¸€ä¸ªgvmçš„ä½¿ç”¨ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼Œæ›´å¤šè¯¦æƒ…å¯ä»¥æŸ¥çœ‹&lt;span&gt;gvm&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;ï¼Œå¦å¤–ç«™é•¿ä¹‹å‰å†™äº†ä¸€ç¯‡å…³äºå‡çº§Goç‰ˆæœ¬çš„æ–‡ç« ï¼Œä¸»è¦è®²çš„æ˜¯ä½¿ç”¨&lt;span&gt;goup&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt;æ¥è¿›è¡ŒGoç‰ˆæœ¬çš„ç®¡ç†ã€‚å°åœŸè¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼ŒğŸ˜†ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzAxNzY0NDE3NA==&amp;amp;mid=2247485026&amp;amp;idx=1&amp;amp;sn=dcc047b6afe0e4e4daf37f8c9e499fce&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;ç»ˆäºæ‰¾åˆ°äº†ä¸€æ¬¾æˆ‘å–œæ¬¢çš„å®‰è£…å’Œç®¡ç† Go ç‰ˆæœ¬çš„å·¥å…·&lt;/a&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;gvm-installer: &lt;em&gt;https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;gvm: &lt;em&gt;https://github.com/moovweb/gvm&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;goup: &lt;em&gt;https://github.com/owenthereal/goup&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;hr/&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;å¾€æœŸæ¨è&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/UzjmETLXwBYuP3ncUTaemHXQYjOZDS40VoicqII73Hu9RncJv06g0kJhnrVicSmUfJRg5Wf9qcDHj7zf5vTjns5A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘æ˜¯ polarisxuï¼ŒåŒ—å¤§ç¡•å£«æ¯•ä¸šï¼Œæ›¾åœ¨ 360 ç­‰çŸ¥åäº’è”ç½‘å…¬å¸å·¥ä½œï¼Œ10å¤šå¹´æŠ€æœ¯ç ”å‘ä¸æ¶æ„ç»éªŒï¼2012 å¹´æ¥è§¦ Go è¯­è¨€å¹¶åˆ›å»ºäº† Go è¯­è¨€ä¸­æ–‡ç½‘ï¼è‘—æœ‰ã€Š&lt;/span&gt;&lt;span&gt;Goè¯­è¨€ç¼–ç¨‹ä¹‹æ—…&lt;/span&gt;&lt;span&gt;ã€‹ã€å¼€æºå›¾ä¹¦ã€Š&lt;/span&gt;&lt;span&gt;Goè¯­è¨€æ ‡å‡†åº“&lt;/span&gt;&lt;span&gt;ã€‹ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åšæŒè¾“å‡ºæŠ€æœ¯ï¼ˆåŒ…æ‹¬ Goã€Rust ç­‰æŠ€æœ¯ï¼‰ã€èŒåœºå¿ƒå¾—å’Œåˆ›ä¸šæ„Ÿæ‚Ÿï¼æ¬¢è¿å…³æ³¨ã€Œpolarisxuã€ä¸€èµ·æˆé•¿ï¼ä¹Ÿæ¬¢è¿åŠ æˆ‘å¾®ä¿¡å¥½å‹äº¤æµï¼š&lt;/span&gt;&lt;span&gt;gopherstudio&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ffe67a3af70b68f2ad21c231a026f685</guid>
<title>RocketMQ æ¶ˆæ¯é›†æˆï¼šå¤šç±»å‹ä¸šåŠ¡æ¶ˆæ¯â€”â€”å®šæ—¶æ¶ˆæ¯</title>
<link>https://toutiao.io/k/nvsge96</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;
            &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;108&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.1875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/yvBJb5Iiafvm62SLm1ZNNZqZy4p7sx1z2zvcRiaGCibBT6ptwkLNVZe1tVm1dLRaWIWK3wHSxS5cWxniaFPBNQVMNg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;640&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;å¼•è¨€&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;Apache RocketMQ è¯ç”Ÿè‡³ä»Šï¼Œå†ç»åä½™å¹´å¤§è§„æ¨¡ä¸šåŠ¡ç¨³å®šæ€§æ‰“ç£¨ï¼ŒæœåŠ¡äº† 100% é˜¿é‡Œé›†å›¢å†…éƒ¨ä¸šåŠ¡ä»¥åŠé˜¿é‡Œäº‘æ•°ä»¥ä¸‡è®¡çš„ä¼ä¸šå®¢æˆ·ã€‚ä½œä¸ºé‡‘èçº§å¯é çš„ä¸šåŠ¡æ¶ˆæ¯æ–¹æ¡ˆï¼ŒRocketMQ ä»åˆ›å»ºä¹‹åˆå°±ä¸€ç›´ä¸“æ³¨äºä¸šåŠ¡é›†æˆé¢†åŸŸçš„å¼‚æ­¥é€šä¿¡èƒ½åŠ›æ„å»ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æœ¬ç¯‡å°†ç»§ç»­ä¸šåŠ¡æ¶ˆæ¯é›†æˆçš„åœºæ™¯ï¼Œä»ä½¿ç”¨åœºæ™¯ã€åº”ç”¨æ¡ˆä¾‹ã€åŠŸèƒ½åŸç†ä»¥åŠæœ€ä½³å®è·µç­‰è§’åº¦ä»‹ç» RocketMQ çš„å®šæ—¶æ¶ˆæ¯åŠŸèƒ½ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;channels_iframe_wrp&quot;&gt;&lt;mpvideosnap class=&quot;js_uneditable custom_select_card channels_iframe videosnap_video_iframe&quot; data-pluginname=&quot;videosnap&quot; data-id=&quot;export/UzFfAgtgekIEAQAAAAAAJMcr2tQg4AAAAAstQy6ubaLX4KHWvLEZgBPEg4FIPCozEOqCzNPgMIvprdW4lqSqgqfdkg8ItU1z&quot; data-url=&quot;https://findermp.video.qq.com/251/20304/stodownload?encfilekey=rjD5jyTuFrIpZ2ibE8T7YmwgiahniaXswqztZqgwVbbBB12P46s7F6doQLU7SK2MMLeJQyxPVlkL4IOGkVl4fIpy3TdpxLKbclEnbVROGx4QzlcNscTWeiciaicw&amp;amp;adaptivelytrans=0&amp;amp;bizid=1023&amp;amp;dotrans=0&amp;amp;hy=SH&amp;amp;idx=1&amp;amp;m=&amp;amp;scene=0&amp;amp;token=x5Y29zUxcibAja4RIWiaVlwAELiavs4cdCY9QjsN1nycsksiboib56kI9kJk2axia6X5AYKoKEZaiaHicvg&quot; data-headimgurl=&quot;http://wx.qlogo.cn/finderhead/0nn3FBrD9a1ibNCickvTOoVzsfSN3MTOtOlceqLCtZ6vV3RHXAmBqmGQ/0&quot; data-username=&quot;v2_060000231003b20faec8c5e08119c3d5c904ea3db077cb7448ce1b497dcc26334037f75ae77e@finder&quot; data-nickname=&quot;é˜¿é‡Œäº‘äº‘åŸç”Ÿ&quot; data-desc=&quot;RocketMQ æ¶ˆæ¯é›†æˆï¼šå¤šç±»å‹ä¸šåŠ¡æ¶ˆæ¯â€”â€”å®šæ—¶æ¶ˆæ¯&amp;#10;&amp;#10;åœ¨åˆ†å¸ƒå¼å®šæ—¶è°ƒåº¦è§¦å‘ã€ä»»åŠ¡è¶…æ—¶å¤„ç†ç­‰åœºæ™¯ï¼Œéœ€è¦å®ç°ç²¾å‡†ã€å¯é çš„å®šæ—¶äº‹ä»¶è§¦å‘ã€‚æœ¬æœŸä¸»è¦ä»‹ç»RocketMQå®šæ—¶æ¶ˆæ¯ï¼Œé€šè¿‡åŠŸèƒ½åœºæ™¯ã€åº”ç”¨æ¡ˆä¾‹ä»¥åŠæœ€ä½³å®è·µç­‰è§’åº¦ä»‹ç»RocketMQå®šæ—¶æ¶ˆæ¯ç±»å‹çš„ä½¿ç”¨ã€‚&amp;#10;&amp;#10;#RocketMQæ¶ˆæ¯é›†æˆ&amp;#10;&quot; data-nonceid=&quot;4484842228834176589&quot; data-type=&quot;video&quot; data-width=&quot;1728&quot; data-height=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;æ¦‚å¿µï¼šä»€ä¹ˆæ˜¯å®šæ—¶æ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨ä¸šåŠ¡æ¶ˆæ¯é›†æˆåœºæ™¯ä¸­ï¼Œå®šæ—¶æ¶ˆæ¯æ˜¯ï¼Œç”Ÿäº§è€…å°†ä¸€æ¡æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—åå¹¶ä¸æœŸæœ›è¿™æ¡æ¶ˆæ¯é©¬ä¸Šä¼šè¢«æ¶ˆè´¹è€…æ¶ˆè´¹åˆ°ï¼Œè€Œæ˜¯æœŸæœ›åˆ°äº†æŒ‡å®šçš„æ—¶é—´ï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥æ¶ˆè´¹åˆ°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ç›¸ä¼¼åœ°ï¼Œå»¶è¿Ÿæ¶ˆæ¯å…¶å®æ˜¯å¯¹äºå®šæ—¶æ¶ˆæ¯çš„å¦å¤–ä¸€ç§è§£é‡Šï¼ŒæŒ‡çš„æ˜¯ç”Ÿäº§è€…æœŸæœ›æ¶ˆæ¯å»¶è¿Ÿä¸€å®šæ—¶é—´ï¼Œæ¶ˆè´¹è€…æ‰å¯ä»¥æ¶ˆè´¹åˆ°ã€‚å¯ä»¥ç†è§£ä¸ºå®šæ—¶åˆ°å½“å‰æ—¶é—´åŠ ä¸Šä¸€å®šçš„å»¶è¿Ÿæ—¶é—´ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯¹æ¯”ä¸€ä¸‹å®šæ—¶æ¶ˆæ¯å’Œæ™®é€šæ¶ˆæ¯çš„æµç¨‹ã€‚æ™®é€šæ¶ˆæ¯ï¼Œå¯ä»¥ç²—ç•¥çš„åˆ†ä¸ºæ¶ˆæ¯å‘é€ï¼Œæ¶ˆæ¯å­˜å‚¨å’Œæ¶ˆæ¯æ¶ˆè´¹ä¸‰ä¸ªè¿‡ç¨‹ã€‚å½“ä¸€æ¡æ¶ˆæ¯å‘é€åˆ° Topic ä¹‹åï¼Œé‚£ä¹ˆè¿™æ¡æ¶ˆæ¯å°±å¯ä»¥é©¬ä¸Šå¤„äºç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹çš„çŠ¶æ€äº†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;176&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.30407303370786515&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlbaFyN4tpD3Eunf98G3jQLofwUGLtglLSYaCJmLVMGbFsBRQqSF8k1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2848&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è€Œå¯¹äºå®šæ—¶/å»¶æ—¶æ¶ˆæ¯æ¥è¯´ï¼Œå…¶å¯ä»¥ç†è§£ä¸ºåœ¨æ™®é€šæ¶ˆæ¯çš„åŸºç¡€ä¸Šå åŠ äº†å®šæ—¶æŠ•é€’åˆ°æ¶ˆè´¹è€…çš„ç‰¹æ€§ã€‚ç”Ÿäº§è€…å‘é€äº†ä¸€æ¡å®šæ—¶æ¶ˆæ¯ä¹‹åï¼Œæ¶ˆæ¯å¹¶ä¸ä¼šé©¬ä¸Šè¿›å…¥ç”¨æˆ·çœŸæ­£çš„Topicé‡Œé¢ï¼Œè€Œæ˜¯ä¼šè¢« RocketMQ æš‚å­˜åˆ°ä¸€ä¸ªç³»ç»Ÿ Topic é‡Œé¢ï¼Œå½“åˆ°äº†è®¾å®šçš„æ—¶é—´ä¹‹åï¼ŒRocketMQ æ‰ä¼šå°†è¿™æ¡æ¶ˆæ¯æŠ•é€’åˆ°çœŸæ­£çš„ Topic é‡Œé¢ï¼Œè®©æ¶ˆè´¹è€…å¯ä»¥æ¶ˆè´¹åˆ°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;216&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.37430555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlKI4tIria6kiaawiae6hxTZJhoIgXFVxrdgicS4j53to1O9R17knvsCRibRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2880&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;åœºæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨å®šæ—¶æ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨åˆ†å¸ƒå¼å®šæ—¶è°ƒåº¦è§¦å‘ã€ä»»åŠ¡è¶…æ—¶å¤„ç†ç­‰åœºæ™¯ï¼Œéœ€è¦å®ç°ç²¾å‡†ã€å¯é çš„å®šæ—¶äº‹ä»¶è§¦å‘ã€‚å¾€å¾€è¿™ç±»å®šæ—¶äº‹ä»¶è§¦å‘éƒ½ä¼šå­˜åœ¨ä»¥ä¸‹è¯‰æ±‚ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é«˜æ€§èƒ½ååï¼šéœ€è¦å¤§é‡äº‹ä»¶è§¦å‘ï¼Œä¸èƒ½æœ‰æ€§èƒ½ç“¶é¢ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é«˜å¯é å¯é‡è¯•ï¼šä¸èƒ½ä¸¢å¤±äº‹ä»¶è§¦å‘ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;åˆ†å¸ƒå¼å¯æ‰©å±•ï¼šå®šæ—¶è°ƒåº¦ä¸èƒ½æ˜¯å•æœºç³»ç»Ÿï¼Œéœ€è¦èƒ½å¤Ÿå‡è¡¡çš„è°ƒåº¦åˆ°å¤šä¸ªæœåŠ¡è´Ÿè½½ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;ä¼ ç»Ÿçš„å®šæ—¶è°ƒåº¦æ–¹æ¡ˆï¼Œå¾€å¾€åŸºäºæ•°æ®åº“çš„ä»»åŠ¡è¡¨æ‰«ææœºåˆ¶æ¥å®ç°ã€‚å¤§æ¦‚çš„æ€è·¯å°±æ˜¯å°†éœ€è¦å®šæ—¶è§¦å‘çš„ä»»åŠ¡æ”¾åˆ°æ•°æ®åº“ï¼Œç„¶åå¾®æœåŠ¡åº”ç”¨å®šæ—¶è§¦å‘æ‰«ææ•°æ®åº“çš„æ“ä½œï¼Œå®ç°ä»»åŠ¡æå–å¤„ç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¿™ç±»æ–¹æ¡ˆè™½ç„¶å¯ä»¥å®ç°å®šæ—¶è°ƒåº¦ï¼Œä½†å¾€å¾€å­˜åœ¨å¾ˆå¤šä¸è¶³ä¹‹å¤„ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é‡å¤æ‰«æï¼šåœ¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œæ¯ä¸ªå¾®æœåŠ¡èŠ‚ç‚¹éƒ½éœ€è¦å»æ‰«ææ•°æ®åº“ï¼Œå¸¦æ¥å¤§é‡å†—ä½™çš„ä»»åŠ¡å¤„ç†ï¼Œéœ€è¦åšå»é‡å¤„ç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å®šæ—¶é—´éš”ä¸å‡†ç¡®ï¼šåŸºäºå®šæ—¶æ‰«æçš„æœºåˆ¶æ— æ³•å®ç°ä»»æ„æ—¶é—´ç²¾åº¦çš„å»¶æ—¶è°ƒåº¦ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ¨ªå‘æ‰©å±•æ€§å·®ï¼šä¸ºè§„é¿é‡å¤æ‰«æçš„é—®é¢˜ï¼Œæ•°æ®åº“æ‰«è¡¨çš„æ–¹æ¡ˆé‡Œå¾€å¾€ä¼šæŒ‰ç…§æœåŠ¡èŠ‚ç‚¹æ‹†åˆ†è¡¨ï¼Œä½†æ¯ä¸ªæ•°æ®è¡¨åªèƒ½è¢«å•èŠ‚ç‚¹å¤„ç†ï¼Œè¿™æ ·ä¼šäº§ç”Ÿæ€§èƒ½ç“¶é¢ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.5625&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlw5wd9D5iaeXJhLAYKwicdJUg2LPAHXHK1A2Q9kuozFvqzo43LkI1wiaWA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;960&quot;/&gt;&lt;span&gt;åœ¨è¿™ç±»å®šæ—¶è°ƒåº¦ç±»åœºæ™¯ä¸­ï¼Œä½¿ç”¨ RocketMQ çš„å®šæ—¶æ¶ˆæ¯å¯ä»¥ç®€åŒ–å®šæ—¶è°ƒåº¦ä»»åŠ¡çš„å¼€å‘é€»è¾‘ï¼Œå®ç°é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€é«˜å¯é çš„å®šæ—¶è§¦å‘èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ç²¾åº¦é«˜ã€å¼€å‘é—¨æ§›ä½ï¼šåŸºäºæ¶ˆæ¯é€šçŸ¥æ–¹å¼ä¸å­˜åœ¨å®šæ—¶é˜¶æ¢¯é—´éš”ã€‚å¯ä»¥è½»æ¾å®ç°ä»»æ„ç²¾åº¦äº‹ä»¶è§¦å‘ï¼Œæ— éœ€ä¸šåŠ¡å»é‡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é«˜æ€§èƒ½å¯æ‰©å±•ï¼šä¼ ç»Ÿçš„æ•°æ®åº“æ‰«ææ–¹å¼è¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦é¢‘ç¹è°ƒç”¨æ¥å£æ‰«æï¼Œå®¹æ˜“äº§ç”Ÿæ€§èƒ½ç“¶é¢ˆã€‚æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆçš„å®šæ—¶æ¶ˆæ¯å…·æœ‰é«˜å¹¶å‘å’Œæ°´å¹³æ‰©å±•çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;278&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.48089887640449436&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlicGdR6yiaYbCRZX5B13GgRibR6iayIoZRtISMwm28b7bHI71tLUqH1Rtrg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;890&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;æ¡ˆä¾‹ï¼šä½¿ç”¨å®šæ—¶æ¶ˆæ¯å®ç°é‡‘èæ”¯ä»˜è¶…æ—¶éœ€æ±‚&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åˆ©ç”¨å®šæ—¶æ¶ˆæ¯å¯ä»¥å®ç°åœ¨ä¸€å®šçš„æ—¶é—´ä¹‹åæ‰è¿›è¡ŒæŸäº›æ“ä½œè€Œä¸šåŠ¡ç³»ç»Ÿä¸ç”¨ç®¡ç†å®šæ—¶çš„çŠ¶æ€ã€‚ä¸‹é¢ä»‹ç»ä¸€ä¸ªå…¸å‹çš„æ¡ˆä¾‹åœºæ™¯ï¼šé‡‘èæ”¯ä»˜è¶…æ—¶ã€‚ç°åœ¨æœ‰ä¸€ä¸ªè®¢å•ç³»ç»Ÿï¼Œå¸Œæœ›åœ¨ç”¨æˆ·ä¸‹å• 30 åˆ†é’Ÿåæ£€æŸ¥ç”¨æˆ·çš„è®¢å•çŠ¶æ€ï¼Œå¦‚æœç”¨æˆ·è¿˜æ²¡æœ‰æ”¯ä»˜ï¼Œé‚£ä¹ˆå°±è‡ªåŠ¨å–æ¶ˆè¿™ç¬”è®¢å•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;250&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.4334828101644245&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvl7gV428oPW5puLqDCI02fZtnNscp11mnKiby2r1lk7JicUQoO9QHSkSnQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1338&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åŸºäº RocketMQ å®šæ—¶æ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”¨æˆ·ä¸‹å•ä¹‹åå‘é€ä¸€æ¡å®šæ—¶åˆ° 30 åˆ†é’Ÿä¹‹åçš„å®šæ—¶æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;span&gt;åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å°†è®¢å• ID è®¾ç½®ä¸º MessageKeyã€‚&lt;/span&gt;&lt;span&gt;å½“ 30 åˆ†é’Ÿä¹‹åï¼Œè®¢å•ç³»ç»Ÿæ”¶åˆ°æ¶ˆæ¯ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡è®¢å• ID æ£€æŸ¥è®¢å•çš„çŠ¶æ€ã€‚&lt;/span&gt;&lt;span&gt;å¦‚æœç”¨æˆ·è¶…æ—¶æœªæ”¯ä»˜ï¼Œé‚£ä¹ˆå°±è‡ªåŠ¨çš„å°†è¿™ç¬”è®¢å•å…³é—­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;åŸç†ï¼šRocketMQ å®šæ—¶æ¶ˆæ¯å¦‚ä½•å®ç°&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h3&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;å›ºå®šé—´éš”å®šæ—¶æ¶ˆæ¯&lt;/span&gt;&lt;/h3&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å¦‚å‰æ–‡ä»‹ç»ï¼Œå®šæ—¶æ¶ˆæ¯çš„æ ¸å¿ƒæ˜¯å¦‚ä½•åœ¨ç‰¹å®šçš„æ—¶é—´æŠŠå¤„äºç³»ç»Ÿå®šæ—¶ Topic é‡Œé¢çš„æ¶ˆæ¯è½¬ç§»åˆ°ç”¨æˆ·çš„ Topic é‡Œé¢å»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;187&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.32299741602067183&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvl288eHGbia6pubUib3kgTMbPBBhKPXwTdsvhFg5wQrWCGhlicA7mPvTZJA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1548&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Apache RocketMQ 4.x çš„ç‰ˆæœ¬çš„å®šæ—¶æ¶ˆæ¯æ˜¯å…ˆå°†å®šæ—¶æ¶ˆæ¯æ”¾åˆ°æŒ‰ç…§ DelayLevel æ”¾åˆ° SCHEDULE_TOPIC_XXXX è¿™ä¸ªç³»ç»Ÿçš„ä¸åŒ Queue é‡Œé¢ï¼Œç„¶åä¸ºæ¯ä¸€ä¸ª Queue å¯åŠ¨ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶çš„æ‹‰å–æ¶ˆæ¯å¹¶å°†åˆ°äº†æ—¶é—´çš„æ¶ˆæ¯è½¬æŠ•åˆ°ç”¨æˆ·çš„ Topic é‡Œé¢å»ã€‚è¿™æ ·è™½ç„¶å®ç°ç®€å•ï¼Œä½†ä¹Ÿå¯¼è‡´åªèƒ½æ”¯æŒç‰¹å®š DelayLevel çš„å®šæ—¶æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å½“ä¸‹ï¼Œæ”¯æŒå®šæ—¶åˆ°ä»»æ„ç§’çº§æ—¶é—´çš„å®šæ—¶æ¶ˆæ¯çš„å®ç°çš„ pr æå‡ºåˆ°äº†ç¤¾åŒºï¼Œä¸‹é¢ç®€å•çš„ä»‹ç»ä¸€ä¸‹å…¶åŸºæœ¬çš„å®ç°åŸç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h3&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;æ—¶é—´è½®ç®—æ³•&lt;/span&gt;&lt;/h3&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨ä»‹ç»å…·ä½“çš„å®ç°åŸç†ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹ç»å…¸çš„æ—¶é—´è½®ç®—æ³•ï¼Œè¿™æ˜¯å®šæ—¶æ¶ˆæ¯å®ç°çš„æ ¸å¿ƒç®—æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;247&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.42774936061381075&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlohQHASdjtPzWZI5Vw1bsnhOaqLbFaRibM0Xeuc6b4BFh1hWCp3g0oUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;3128&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚ä¸Šæ‰€ç¤ºï¼Œè¿™æ˜¯ä¸€ä¸ªä¸€åœˆå®šæ—¶ä¸º 7 ç§’çš„æ—¶é—´è½®ï¼Œå®šæ—¶çš„æœ€å°ç²¾åº¦çš„ä¸ºç§’ã€‚åŒæ—¶ï¼Œæ—¶é—´è½®ä¸Šé¢ä¼šæœ‰ä¸€ä¸ªæŒ‡å‘å½“å‰æ—¶é—´çš„æŒ‡é’ˆï¼Œå…¶ä¼šå®šæ—¶çš„ç§»å‘ä¸‹ä¸€ä¸ªåˆ»åº¦ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç°åœ¨æˆ‘ä»¬æƒ³å®šæ—¶åˆ° 1 ç§’ä»¥åï¼Œé‚£ä¹ˆå°±å°†æ•°æ®æ”¾åˆ° â€œ1â€ è¿™ä¸ªåˆ»åº¦é‡Œé¢ï¼ŒåŒæ—¶å¦‚æœæœ‰å¤šä¸ªæ•°æ®éœ€è¦å®šæ—¶åˆ°åŒä¸€ä¸ªæ—¶é—´ï¼Œé‚£ä¹ˆä¼šä»¥é“¾è¡¨çš„æ–¹å¼æ·»åŠ åˆ°åé¢ã€‚å½“æ—¶é—´è½®è½¬åˆ° â€œ1â€ è¿™ä¸ªåˆ»åº¦ä¹‹åï¼Œå°±ä¼šå°†å…¶è¯»å–å¹¶ä»é“¾è¡¨å‡ºé˜Ÿã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é‚£å¦‚æœæƒ³å®šåˆ°è¶…è¿‡æ—¶é—´è½®ä¸€åœˆçš„æ—¶é—´æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿä¾‹å¦‚æˆ‘ä»¬æƒ³å®šæ—¶åˆ° 14 ç§’ï¼Œç”±äºä¸€åœˆçš„æ—¶é—´æ˜¯ 7 ç§’ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å…¶æ”¾åœ¨â€œ6â€è¿™ä¸ªåˆ»åº¦é‡Œé¢ã€‚å½“ç¬¬ä¸€æ¬¡æ—¶é—´è½®è½¬åˆ°â€œ6â€ æ—¶ï¼Œå‘ç°å½“å‰æ—¶é—´å°äºæœŸæœ›çš„æ—¶é—´ï¼Œé‚£ä¹ˆå¿½ç•¥è¿™æ¡æ•°æ®ã€‚å½“ç¬¬äºŒæ¬¡æ—¶é—´è½®è½¬åˆ°â€œ6â€æ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå‘ç°å·²ç»åˆ°äº†æˆ‘ä»¬æœŸæœ›çš„ 14 ç§’äº†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h3&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;ä»»æ„ç§’çº§å®šæ—¶æ¶ˆæ¯&lt;/span&gt;&lt;/h3&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨ RocketMQ ä¸­ï¼Œä½¿ç”¨ TimerWheel å¯¹äºæ—¶é—´è½®è¿›è¡Œæè¿°å’Œå­˜å‚¨ï¼ŒåŒæ—¶ä½¿ç”¨ä¸€ä¸ª AppendOnly çš„ TimerLog è®°å½•æ—¶é—´è½®ä¸Šé¢æ¯ä¸€ä¸ªåˆ»åº¦æ‰€å¯¹åº”çš„æ‰€æœ‰çš„æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;TimerLog è®°å½•äº†ä¸€æ¡å®šæ—¶æ¶ˆæ¯çš„ä¸€äº›é‡è¦çš„å…ƒæ•°æ®ï¼Œç”¨äºåé¢å®šæ—¶çš„æ—¶é—´åˆ°äº†ä¹‹åï¼Œå°†æ¶ˆæ¯è½¬ç§»åˆ°ç”¨æˆ·çš„ Topic é‡Œé¢å»ã€‚å…¶ä¸­å‡ ä¸ªé‡è¦çš„å±æ€§å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;205&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.35384615384615387&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlYOqTLaeXudJvqx7JBv3wjI4uuoyvuj2pRWIrsBYtUTevTlWUeruVmQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1040&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å¯¹äº TimerWheel æ¥è¯´ï¼Œå¯ä»¥æŠ½è±¡çš„è®¤ä¸ºæ˜¯ä¸€ä¸ªå®šé•¿çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€æ ¼ä»£è¡¨æ—¶é—´è½®ä¸Šé¢çš„ä¸€ä¸ªâ€œåˆ»åº¦â€ã€‚TimerWheel çš„ä¸€ä¸ªâ€œåˆ»åº¦â€æ‹¥æœ‰ä»¥ä¸‹å±æ€§ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;118&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2034548944337812&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvl2xgYbRjJ1SCz8ziahcOVKr2xVCicCnlWT1eMMaJIvMtdQ7bc2puFMHhw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1042&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;TimerWheel å’Œ TimerLog ç›´æ¥çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;352&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.6088709677419355&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlkpHjIw3XauleYUH5AJ4TUb4ud7TrjzJZJ8mdrfPwTJ2H9cnYaicvhwA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;992&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;TimerWheel ä¸­çš„æ¯ä¸€æ ¼ä»£è¡¨ç€ä¸€ä¸ªæ—¶é—´åˆ»åº¦ï¼ŒåŒæ—¶ä¼šæœ‰ä¸€ä¸ª firstPos æŒ‡å‘è¿™ä¸ªåˆ»åº¦ä¸‹æ‰€æœ‰å®šæ—¶æ¶ˆæ¯çš„é¦–æ¡ TimerLog è®°å½•çš„åœ°å€ï¼Œä¸€ä¸ª lastPos æŒ‡å‘è¿™ä¸ªåˆ»åº¦ä¸‹æ‰€æœ‰å®šæ—¶æ¶ˆæ¯æœ€åä¸€æ¡ TimerLog çš„è®°å½•çš„åœ°å€ã€‚å¹¶ä¸”ï¼Œå¯¹äºæ‰€å¤„äºåŒä¸€ä¸ªåˆ»åº¦çš„çš„æ¶ˆæ¯ï¼Œå…¶ TimerLog ä¼šé€šè¿‡ prevPos ä¸²è”æˆä¸€ä¸ªé“¾è¡¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;352&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.6088709677419355&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlW3Qn4NiaVA6s20lBonCC5lPMqmdXqMqiaibTM3J61ibnyg5MBc9ibOIwmdQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;992&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å½“éœ€è¦æ–°å¢ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œä¾‹å¦‚ç°åœ¨æˆ‘ä»¬è¦æ–°å¢ä¸€ä¸ª â€œ1-4â€ã€‚é‚£ä¹ˆå°±å°†æ–°è®°å½•çš„ prevPos æŒ‡å‘å½“å‰çš„ lastPosï¼Œå³ â€œ1-3â€ï¼Œç„¶åä¿®æ”¹ lastPos æŒ‡å‘ â€œ1-4â€ã€‚è¿™æ ·å°±å°†åŒä¸€ä¸ªåˆ»åº¦ä¸Šé¢çš„ TimerLog è®°å½•å…¨éƒ½ä¸²èµ·æ¥äº†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ‰äº† TimerWheel å’Œ TimerLog ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ä¸€æ¡å®šæ—¶æ¶ˆæ¯ä»å‘é€åˆ° RocketMQ ä¹‹åæ˜¯æ€ä¹ˆæœ€ç»ˆæŠ•é€’ç»™ç”¨æˆ·çš„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;257&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.44579646017699115&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlphFde4ofCibt7CuIm5F0ck4fAhNHEN73IkTlzcl08KcPvt07ENRMicpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1808&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆï¼Œå½“å‘ç°ç”¨æˆ·å‘é€çš„æ˜¯ä¸€ä¸ªå®šæ—¶æ¶ˆæ¯è¿‡åï¼ŒRocketMQ å®é™…ä¸Šä¼šå°†è¿™æ¡æ¶ˆæ¯å‘é€åˆ°ä¸€ä¸ªä¸“é—¨ç”¨äºå¤„ç†å®šæ—¶æ¶ˆæ¯çš„ç³»ç»Ÿ Topic é‡Œé¢å»&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç„¶ååœ¨ TimerMessageStore ä¸­ä¼šæœ‰äº”ä¸ª Service è¿›è¡Œåˆ†å·¥åˆä½œï¼Œä½†æ•´ä½“å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šå…¥æ—¶é—´è½®å’Œå‡ºæ—¶é—´è½®&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯¹äºå…¥æ—¶é—´è½®ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;TimerEnqueueGetServiceÂ è´Ÿè´£ä»ç³»ç»Ÿå®šæ—¶ Topic é‡Œé¢æ‹‰å–æ¶ˆæ¯æ”¾å…¥ enqueuePutQueue ç­‰å¾… TimerEnqueuePutService çš„å¤„ç†&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;TimerEnqueuePutService è´Ÿè´£æ„å»º TimerLog è®°å½•ï¼Œå¹¶å°†å…¶æ”¾å…¥æ—¶é—´è½®çš„å¯¹åº”çš„åˆ»åº¦ä¸­&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;å¯¹äºå‡ºæ—¶é—´è½®ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;TimerDequeueGetService è´Ÿè´£è½¬åŠ¨æ—¶é—´è½®ï¼Œå¹¶å–å‡ºå½“å‰æ—¶é—´åˆ»åº¦çš„æ‰€æœ‰ TimerLog è®°å½•æ”¾å…¥ dequeueGetQueue&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;TimerDequeueGetMessageService è´Ÿè´£æ ¹æ® TimerLog è®°å½•ï¼Œä» CommitLog ä¸­è¯»å–æ¶ˆæ¯&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;TimerDequeuePutMessageService è´Ÿè´£åˆ¤æ–­é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ˜¯å¦å·²ç»åˆ°æœŸï¼Œå¦‚æœå·²ç»åˆ°æœŸäº†ï¼Œé‚£ä¹ˆå°†å…¶æŠ•å…¥ç”¨æˆ·çš„ Topic ä¸­ï¼Œç­‰å¾…æ¶ˆè´¹æ¶ˆè´¹ï¼›å¦‚æœè¿˜æ²¡æœ‰åˆ°æœŸï¼Œé‚£ä¹ˆé‡æ–°æŠ•å…¥ç³»ç»Ÿå®šæ—¶ Topicï¼Œç­‰å¾…é‡æ–°è¿›å…¥æ—¶é—´è½®ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;å®æˆ˜ï¼šä½¿ç”¨å®šæ—¶æ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;Cloud Native&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;äº†è§£äº† RocketMQ ç§’çº§å®šæ—¶æ¶ˆæ¯çš„åŸç†åï¼Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨å®šæ—¶æ¶ˆæ¯ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª â€œå®šæ—¶/å»¶æ—¶æ¶ˆæ¯â€ ç±»å‹çš„ Topicï¼Œå¯ä»¥ä½¿ç”¨æ§åˆ¶å°æˆ–è€… CLi å‘½ä»¤åˆ›å»ºã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;419&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.7244623655913979&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlUT8mHKy9XOIcrOCibP9Veuzl4T14MGnaR6byIKQPlAoEk97Jta9qrlQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1488&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»å‰é¢å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºå®šæ—¶æ¶ˆæ¯æ¥è¯´ï¼Œæ˜¯åœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ â€œåšæ–‡ç« â€ã€‚æ‰€ä»¥ï¼Œå¯¹äºç”Ÿäº§è€…ï¼Œç›¸å¯¹äºå‘é€æ™®é€šæ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘é€çš„æ—¶å€™è®¾ç½®æœŸæœ›çš„æŠ•é€’æ—¶é—´ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;515&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.8905405405405405&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlXrfE88K6mdx4b4jLwDkmia5pvEZkWIcwsEs5OKX5zwkdCSCDDWc0Y0w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1480&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å½“å®šæ—¶çš„æ—¶é—´åˆ°äº†ä¹‹åï¼Œè¿™æ¡æ¶ˆæ¯å…¶å®å°±æ˜¯ä¸€æ¡æŠ•é€’åˆ°ç”¨æˆ· Topic çš„æ™®é€šæ¶ˆæ¯è€Œå·²ã€‚æ‰€ä»¥å¯¹äºæ¶ˆè´¹è€…æ¥è¯´ï¼Œå’Œæ™®é€šæ¶ˆæ¯çš„æ¶ˆè´¹æ²¡æœ‰åŒºåˆ«ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;447&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.774496644295302&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yvBJb5Iiafvn3sMBMoQiaoJPaVLnKTdmvlwicBd9kKFANQ6Y3fQKytqVdeS0kAzJmViaicQctibFSn4jvrsAcXbibvibqw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1490&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ³¨æ„ï¼šå®šæ—¶æ¶ˆæ¯çš„å®ç°é€»è¾‘éœ€è¦å…ˆç»è¿‡å®šæ—¶å­˜å‚¨ç­‰å¾…è§¦å‘ï¼Œå®šæ—¶æ—¶é—´åˆ°è¾¾åæ‰ä¼šè¢«æŠ•é€’ç»™æ¶ˆè´¹è€…ã€‚å› æ­¤ï¼Œå¦‚æœå°†å¤§é‡å®šæ—¶æ¶ˆæ¯çš„å®šæ—¶æ—¶é—´è®¾ç½®ä¸ºåŒä¸€æ—¶åˆ»ï¼Œåˆ™åˆ°è¾¾è¯¥æ—¶åˆ»åä¼šæœ‰å¤§é‡æ¶ˆæ¯åŒæ—¶éœ€è¦è¢«å¤„ç†ï¼Œä¼šé€ æˆç³»ç»Ÿå‹åŠ›è¿‡å¤§ã€‚æ‰€ä»¥ä¸€èˆ¬å»ºè®®å°½é‡ä¸è¦è®¾ç½®å¤§é‡ç›¸åŒè§¦å‘æ—¶åˆ»çš„æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç‚¹å‡»é˜…è¯»åŸæ–‡ï¼Œè¿›å…¥å®˜ç½‘äº†è§£æ›´å¤šè¯¦æƒ…ï½&lt;/span&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8095487fccf0aeafef88e2d690b6e7ee</guid>
<title>Why not RocksDB in Streaming State?</title>
<link>https://toutiao.io/k/wkye2vn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;
            &lt;blockquote&gt;&lt;p&gt;æœ¬æ–‡ä»¥ Apache Flink ä¸ºä¾‹ï¼ŒèŠèŠä¸ºä»€ä¹ˆ RocksDB ä¸æ˜¯æµè®¡ç®—å¼•æ“ä¸­ç†æƒ³çš„çŠ¶æ€å­˜å‚¨ã€‚Flink ä¸­ä½¿ç”¨ RocksDB ä½œä¸ºå¤§çŠ¶æ€çš„å­˜å‚¨åç«¯ï¼Œä½†åœ¨å®é™…çº¿ä¸Šå¤§è§„æ¨¡çš„ç”Ÿäº§åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å‘ç° RocksDB å’Œæµè®¡ç®—åœºæ™¯çš„ç»„åˆï¼Œå³ä½¿åœ¨å‚æ•°è°ƒä¼˜åŠæŠ€æœ¯ä¼˜åŒ–åï¼Œä¹Ÿå§‹ç»ˆè¾¾ä¸åˆ°é¢„æœŸçš„ç†æƒ³çŠ¶æ€ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h1&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;RocksDB æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ Key-Value å­˜å‚¨ï¼Œå¹¶ä¸”åœ¨ç»è¿‡ Facebook å¤šå¹´çš„è¿­ä»£å’Œä¼˜åŒ–åï¼Œç¨³å®šæ€§å’ŒåŠŸèƒ½çš„ä¸°å¯Œæ€§éƒ½èƒ½æ»¡è¶³äºå„ç§ä¸»æµåœºæ™¯çš„éœ€è¦ã€‚æˆ‘ç›¸ä¿¡å½“å¼€å‘è€…åœ¨è¿›è¡Œ Embeded KV å­˜å‚¨é€‰å‹æ—¶ï¼ŒRocksDB ä»ç„¶æ˜¯ä¸€ä¸ªå¾ˆä¸»æµçš„é€‰æ‹©ï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Apache Flink æœ€åˆè®¾è®¡å¤§çŠ¶æ€ KeyedStateBackend æ—¶ï¼Œé€‰æ‹©äº† RocksDB ä½œä¸ºåº•å±‚å­˜å‚¨çš„åŸå› å§ï¼ˆå½“ç„¶è¿‘å¹´æ¥ä¹Ÿæœ‰ä¸å°‘ä¼˜ç§€çš„å­˜å‚¨å¦‚ Titanã€TerarkDB è¢«è®¾è®¡å‡ºæ¥è§£å†³æ–°ç¡¬ä»¶å’Œæ–°åœºæ™¯ä¸‹ RocksDB ä¸å¤ªç»™åŠ›çš„é—®é¢˜ï¼Œåœ¨æ­¤ä¸ä½œè®¨è®ºï¼‰ã€‚RocksDB ä½œä¸ºæµè®¡ç®—å¼•æ“çš„çŠ¶æ€å­˜å‚¨ï¼Œä»ä½¿ç”¨è€…çš„è§’åº¦æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¹¶ä¸ä¼šæœ‰å¾ˆå¤§çš„ç¼ºé™·ï¼Œä½†ä»åˆ†å¸ƒå¼è®¡ç®—å¼•æ“è§’åº¦æ¥çœ‹ï¼Œåœ¨å®é™…çº¿ä¸Šå¤§è§„æ¨¡çš„ç”Ÿäº§åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç° RocksDB å’Œæµè®¡ç®—æ”¾åœ¨ä¸€èµ·ï¼Œå§‹ç»ˆæ— æ³•æˆä¸ºä¸€ä¸ªå®Œç¾çš„ç»„åˆã€‚&lt;/p&gt;&lt;h1&gt;RocksDB&lt;/h1&gt;&lt;p&gt;&lt;span&gt;RocksDB&lt;sup&gt;[1]&lt;/sup&gt;&lt;/span&gt;Â ä½¿ç”¨ LSM-Tree çš„ç»“æ„ï¼Œæ•°æ®ä»¥ç±»ä¼¼ Log çš„æ–¹å¼è¿½åŠ å†™å…¥ï¼Œä¸æ–­äº§ç”Ÿæ–°æ–‡ä»¶ï¼Œå¹¶é€šè¿‡ Compaction åˆå¹¶æ¥å»é™¤ä¸åŒæ–‡ä»¶ä¸­é‡å¤ã€è¿‡æœŸã€å·²åˆ é™¤çš„ Key-Value æ•°æ®ã€‚åº•å±‚æ–‡ä»¶ä½¿ç”¨ SSTable æ ¼å¼ï¼ŒSST æ–‡ä»¶ä¸­çš„ Key-Value æ•°æ®æŒ‰ Key è¿›è¡Œæ’åºï¼Œå¹¶ä»¥ä¸€å®šè§„åˆ™åˆ’åˆ†ä¸ºå¤šä¸ª Data Blockï¼Œå¹¶åŸºäº Data Block çš„å…ƒä¿¡æ¯æ¥æ„å»º Index Blockï¼Œä»¥ä¿è¯è¾ƒå¥½çš„è¯»å–æ€§èƒ½ã€‚&lt;/p&gt;&lt;p&gt;SST æ–‡ä»¶åœ¨ RocksDB ä¸­ï¼Œä»¥ä¸åŒ Levelï¼ˆå±‚çº§ï¼‰çš„å½¢å¼æ¥ç»„ç»‡ã€‚æ•°æ®ä»å†…å­˜ä¸­æŒä¹…åŒ–æˆ SST æ–‡ä»¶åï¼Œä¼šå…ˆå­˜åœ¨äº L0 å±‚ï¼Œå½“ L0 å±‚æ•°æ®åˆ°è¾¾ Compaction è§¦å‘æ¡ä»¶æ—¶ï¼Œæ•°æ®ä¼šè¢« compact åˆ° L1 å±‚ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå­˜æ´»æ—¶é—´è¶Šé•¿çš„æ•°æ®ï¼Œæœ€ç»ˆåˆ°è¾¾çš„ Level å±‚çº§ä¼šè¶Šé«˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6589147286821705&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/LPVpEXa2xuApNUv5GMZH2yblotfTzc5YvxljR97xjzUHf86dKCV39xqWQTfGTlxxGQQqPE642F0Jyruqx2JIgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2580&quot;/&gt;&lt;/p&gt;&lt;h2&gt;æ•°æ®å†™å…¥&lt;/h2&gt;&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ•°æ®å†™å…¥ä¼šç»è¿‡å¦‚ä¸‹çš„è¿‡ç¨‹ï¼šåºåˆ—åŒ–ã€API è°ƒç”¨ã€å†™å…¥ Memtableã€æŒä¹…åŒ–åˆ° SST æ–‡ä»¶ã€‚RocksDB é»˜è®¤ï¼ˆå¯é…ç½®ï¼‰åœ¨å†…å­˜ä¸­ç»´æŠ¤äº† 2 ä¸ª Memtableï¼Œå½“ç”¨æˆ·è°ƒç”¨ RocksDB çš„å†™å…¥ API æ—¶ï¼Œæ•°æ®ä¼šåŒæ­¥å†™å…¥åˆ° Memtable ä¸­ï¼Œå¦‚æœ Memtable å·²ç»å†™æ»¡æˆ–è¾¾åˆ°å…¶ä»– flush æ¡ä»¶ï¼Œåˆ™ä¼šè½¬æ¢ä¸º Immutable Memtableï¼Œå¹¶è°ƒåº¦ RocksDB çš„ flush çº¿ç¨‹å¼‚æ­¥å¯¹å…¶æŒ‰ Key æ•´ç†ã€å»é‡ç­‰æ“ä½œï¼Œå¹¶æŒä¹…åŒ–æˆ L0 å±‚çš„ä¸€ä¸ªæ–°çš„ SST æ–‡ä»¶ã€‚ï¼ˆå¦‚æœç”¨æˆ·å¼€å¯ WALï¼Œæ•°æ®ä¼šåŒæ­¥å†™å…¥åˆ° WAL ä¸­ï¼‰&lt;/p&gt;&lt;p&gt;è¿™é‡Œè¦æ³¨æ„ï¼Œæ•°æ®çš„å†™å…¥ä¸€å®šæ˜¯ append-only çš„ï¼Œè¿™é‡Œçš„å†™å…¥åŒæ ·åŒ…æ‹¬äº†æ›´æ–°ã€‚å› ä¸º RocksDB é‡‡ç”¨ LSM-Tree çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥å¤šæ¬¡å†™å…¥ç›¸åŒ Key çš„æ•°æ®ï¼Œä¼šåœ¨è§¦å‘ Compaction æˆ–è€… Flush æ“ä½œæ—¶è¿›è¡Œåˆå¹¶ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ Memtable ä¸­åŸåœ°æ›´æ–°ï¼ˆupdate in-placeï¼‰ã€‚è¿™åŒæ ·é€‚ç”¨äº Delete æ“ä½œï¼Œå¯¹äºå•ä¸ª Key çš„åˆ é™¤æ“ä½œï¼Œåœ¨ SST æ–‡ä»¶ä¸­ä»¥ (Key -&amp;gt; DeleteType) çš„å½¢å¼å­˜åœ¨ã€‚ï¼ˆMemtable ä½¿ç”¨çš„æ•°æ®ç»“æ„é»˜è®¤ä»¥ Skip-List å½¢å¼å­˜åœ¨ï¼‰&lt;/p&gt;&lt;h2&gt;æ•°æ®è¯»å–&lt;/h2&gt;&lt;p&gt;è¿™é‡Œå…ˆä»‹ç» RocksDB SST æ–‡ä»¶åœ¨ä¸åŒ Level çš„ç‰¹æ€§ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;L0 å±‚ï¼šSST æ–‡ä»¶èµ„èº«æ˜¯æŒ‰ Key æ’åºï¼Œä½† L0 å±‚çš„ SST æ–‡ä»¶ä¹‹é—´æ˜¯æ— åºçš„ï¼Œæ¯ä¸ª L0 å±‚çš„ SST æ–‡ä»¶ä¹‹é—´ä¼šå‘ç”Ÿ Key Range çš„é‡åˆï¼Œä¹Ÿå°±æ˜¯è¯´ç›¸åŒ Key çš„æ•°æ®å¯èƒ½å­˜åœ¨äºåœ¨ L0 å±‚çš„æ¯ä¸€ä¸ª SST æ–‡ä»¶ä¸­ã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;L1 ~ Ln å±‚ï¼šå¤šä¸ª L0 å±‚çš„ SST æ–‡ä»¶è¾¾åˆ° Compaction æ¡ä»¶åï¼Œä¸è‹¥å¹²ä¸ª L1 å±‚æ–‡ä»¶è¿›è¡Œ Compaction åå½¢æˆæ–°çš„ L1 å±‚ SST æ–‡ä»¶ï¼ŒL1 å±‚ SST æ–‡ä»¶ä¹‹é—´ä¸ä¼šå‡ºç° Key Range çš„é‡åˆï¼Œä¹Ÿå°±æ˜¯è¯´ç›¸åŒ Key çš„æ•°æ®æœ€å¤šåªä¼šå­˜åœ¨äº L1 å±‚çš„ä¸€ä¸ª SST æ–‡ä»¶ä¸­ï¼ˆL2 ~ Ln å±‚åŒç†ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;è¯»å–æ•°æ®æ—¶ï¼Œæ•°æ®å¯èƒ½å­˜åœ¨äº Memtableã€Block Cacheã€SST æ–‡ä»¶ä¸­ã€‚è¯»å–æ“ä½œåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;Point Lookupï¼ˆç‚¹æŸ¥ï¼‰ï¼šå…ˆä» Memtable å’Œ Block Cache ä¸­å°è¯•è·å–ç»“æœï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šæŒ‰ç…§å±‚çº§æŸ¥æ‰¾ SST æ–‡ä»¶ã€‚å¯¹äº L0 å±‚ SST æ–‡ä»¶ï¼Œå…ˆé€šè¿‡ KeyRange è¿‡æ»¤å‡ºå¯èƒ½åŒ…å«æ­¤ Key çš„ SST æ–‡ä»¶å†è¿›è¡ŒæŸ¥æ‰¾ï¼›å†å¯¹äº L1~Ln å±‚çš„æ–‡ä»¶è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å®šä½å¯¹åº”çš„ SST æ–‡ä»¶å¹¶è¿›è¡Œè¯»å–ã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;Range Scanï¼šå¤šè·¯å½’å¹¶çš„æ€æƒ³ï¼Œè¿”å›ç»™ç”¨æˆ·çš„ Iterator ç”±å¤šä¸ª Iterator ç»„æˆï¼šæ¯ä¸ª Memtableã€Immutable Memtableã€L0 å±‚ SST æ–‡ä»¶ã€ä»¥åŠå¤šä¸ª L1 ~ Ln å±‚ SST æ–‡ä»¶ä¸­æ„å»º Iteratorï¼Œå¹¶ä»¥å¤šè·¯å½’å¹¶çš„æ–¹å¼è¿”å›ç»™ç”¨æˆ·å…·ä½“çš„å€¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸Šè¿°çš„æ“ä½œæœ‰å¾ˆå¤šé»˜è®¤çš„ä¼˜åŒ–ç­–ç•¥åœ¨æ­¤ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œæ¯”å¦‚ç‚¹æŸ¥æ“ä½œä¸­æ¯ä¸ª SST æ–‡ä»¶å¯ä»¥æ„å»º bloom filter æ¥å¿«é€Ÿåˆ¤æ–­ Key æ˜¯å¦å­˜åœ¨ï¼Œéå†æ“ä½œä¸­æ¯ä¸ª Iterator ä¼šå¯¹åº•å±‚çš„æ•°æ®è¿›è¡Œé¢„è¯»å–ä»¥è·å¾—æ›´å°‘çš„ IO æ¬¡æ•°ã€‚å¯¹äºå•ä¸ª SST æ–‡ä»¶è€Œè¨€ï¼Œå®ƒçš„&lt;span&gt;æ–‡ä»¶ç»“æ„&lt;sup&gt;[2]&lt;/sup&gt;&lt;/span&gt;å¦‚ä¸‹æ‰€ç¤ºï¼Œå•ä¸ª SST æ–‡ä»¶æŸ¥è¯¢ä¼šé€šè¿‡å¯¹ index block è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ¥å®šä½åˆ°å…·ä½“çš„ data block ï¼š&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;beginning_of_file&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;data block &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;// å…·ä½“çš„ KV æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;data block &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;// å…·ä½“çš„ KV æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;data block N&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;// å…·ä½“çš„ KV æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;meta block &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; filter block&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;            &lt;/span&gt;&lt;span&gt;// Filter ä¿¡æ¯ï¼Œæ¯”å¦‚ bloom filter&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;meta block &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; index block&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;              &lt;/span&gt;&lt;span&gt;// data block å¯¹åº”çš„ indexï¼ŒæŸ¥è¯¢ä¸­é€šè¿‡å¯¹ index block è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ¥å®šä½åˆ°å…·ä½“çš„ data block &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;...&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;compression&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;range deletion&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;stats block&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;meta block K&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; future extended block&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;metaindex block&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;Footer&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;                         &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;end_of_file&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h2&gt;Compaction ç­–ç•¥&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦è¿›è¡Œ Compaction?&lt;/strong&gt;ï¼šæˆ–è€…è¯´ Compaction æœ‰ä»€ä¹ˆä½œç”¨ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ Compaction æ˜¯å°†å¤šä¸ªæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶çš„è¿‡ç¨‹ï¼Œåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ä¼šè¿›è¡Œç›¸åŒ Key çš„å»é‡ï¼Œè¿‡æœŸ Key çš„åˆ é™¤ç­‰æ“ä½œã€‚ä¸€æ¬¡ Compaction å¯ä»¥ç®€å•çœ‹ä½œå°† N ä¸ªæ–‡ä»¶æ•°æ®è¯»å–åï¼Œç»è¿‡æ•´ç†å†é‡æ–°å†™ä¸€éçš„è¿‡ç¨‹ã€‚åœ¨è¿™é‡Œä¸¾ä¸¤ä¸ªæç«¯çš„ä¾‹å­ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;å®Œå…¨ä¸å‘ç”Ÿ Compactionï¼šSST æ–‡ä»¶åªå­˜åœ¨äº L0 å±‚ï¼Œç”±äº L0 å±‚ä¸ä¿è¯ SST ä¹‹é—´çš„ Key Range ä¸å‘ç”Ÿé‡åˆï¼Œæ‰€ä»¥æ•°æ®è¯»å–éœ€è¦è®¿é—®å¾ˆå¤š L0 å±‚ SST æ–‡ä»¶ï¼Œåœ¨è¯»å–æ€§èƒ½ä¸Šä¼šéå¸¸å·®ã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;æŒç»­å‘ç”Ÿ Compactionï¼šå‡å¦‚æ¯ç”Ÿæˆä¸€ä¸ª SST æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å°†å®ƒå’Œå…¶ä»– SST æ–‡ä»¶è¿›è¡Œ Compactionï¼Œé‚£ä¹ˆæ•°æ®å†™å…¥çš„å¼€é”€åˆ™ä¼šéå¸¸å¤§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼ŒCompaction ç­–ç•¥çš„ä¸åŒå†³å®šäº†è¯»å†™æ”¾å¤§ï¼Œä¹Ÿå†³å®šäº†è¯»å†™çš„æ€§èƒ½ï¼Œæ‰€ä»¥ä¸€ä¸ªåˆç†çš„ Compaction ç­–ç•¥å…¶å®æ˜¯å¯¹è¯»å†™æ€§èƒ½çš„å¹³è¡¡ï¼Œé’ˆå¯¹ä¸åŒåœºæ™¯çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åº”è¯¥è®¤çœŸè€ƒè™‘å…¶åœºæ™¯æ‰€é€‚åˆçš„ Compaction ç­–ç•¥ã€‚RocksDB é»˜è®¤æä¾›ä¸‰ç§ Compaction ç­–ç•¥ï¼Œæ¯ä¸ªç­–ç•¥çš„è§¦å‘æ¡ä»¶éƒ½æ¯”è¾ƒå¤æ‚ï¼ŒåŸç†å¯çœ‹å¯¹åº”é“¾æ¥ï¼Œè¿™é‡Œä»…æè¿°ä¸€ä¸‹å®ƒä»¬çš„ç‰¹ç‚¹ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;span&gt;Leveled Compactionï¼ˆé»˜è®¤ç­–ç•¥ï¼‰&lt;sup&gt;[3]&lt;/sup&gt;&lt;/span&gt;ï¼šCompaction è§¦å‘é¢‘ç‡ç›¸å¯¹é«˜ï¼Œè¯»æ”¾å¤§ä½ï¼Œå†™æ”¾å¤§é«˜&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;span&gt;Universal Compaction&lt;sup&gt;[4]&lt;/sup&gt;&lt;/span&gt;ï¼šCompaction è§¦å‘é¢‘ç‡ç›¸å¯¹ä½ï¼Œè¯»æ”¾å¤§é«˜ï¼Œå†™æ”¾å¤§ä½&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;span&gt;FIFO Compaction&lt;sup&gt;[5]&lt;/sup&gt;&lt;/span&gt;ï¼šå‡ ä¹ä¸å‘ç”Ÿ Compactionï¼Œè¯»æ”¾å¤§é«˜ï¼Œå†™æ”¾å¤§å‡ ä¹æ²¡æœ‰&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;æµå¼åœºæ™¯å’ŒçŠ¶æ€è®¿é—®&lt;/h1&gt;&lt;p&gt;è¿™é‡Œä»¥ Apache Flink ä¸ºä¾‹æ¥çœ‹çœ‹ Streaming State åœ¨æµå¼åœºæ™¯ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;åœºæ™¯ä¸€ï¼šWordCountï¼Œç»Ÿè®¡æ¯ 60s å†…ï¼Œæ¯ä¸ª word å‡ºç°çš„æ¬¡æ•°&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;p&gt;å¯¹äºæ¯æ¡æ•°æ®ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.&lt;/span&gt;Window ç®—å­æ ¹æ® word å’Œæ—¶é—´æˆ³ï¼Œæ‰¾åˆ°è¯¥æ•°æ®æ‰€å±çš„çª—å£&lt;/span&gt;&lt;span&gt;&lt;span&gt;2.&lt;/span&gt;å°† wordã€çª—å£æ ‡è¯†ç¬¦ï¼ˆå³çª—å£èµ·å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼‰å’Œå…¶ä»–ä¿¡æ¯ï¼ˆå¦‚ KeyGroupï¼‰æ‹¼æ¥æˆ RocksDB çš„ Key å¹¶åºåˆ—åŒ–æˆ byte[]&lt;/span&gt;&lt;span&gt;&lt;span&gt;3.&lt;/span&gt;è°ƒç”¨ RocksDB API è¯»å–çª—å£çš„ä¸­é—´ç»“æœæ•°æ®å¹¶ååºåˆ—åŒ–&lt;/span&gt;&lt;span&gt;&lt;span&gt;4.&lt;/span&gt;ä½¿ç”¨æ–° word æ›´æ–°ä¸­é—´ç»“æœ&lt;/span&gt;&lt;span&gt;&lt;span&gt;5.&lt;/span&gt;åºåˆ—åŒ–ä¸­é—´ç»“æœå¹¶è°ƒç”¨ RocksDB API å†™å…¥&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;åœºæ™¯äºŒï¼šA æµ Join B æµï¼Œé€»è¾‘å¦‚ä¸‹&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;SELECT &lt;/span&gt;&lt;span&gt;*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;FROM a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; b&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;WHERE a&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;id &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; b&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;AND a&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;time BETWEEN b&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;time &lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt; INTERVAL &lt;/span&gt;&lt;span&gt;&#x27;4&#x27;&lt;/span&gt;&lt;span&gt; HOUR AND b&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;time&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;å¯¹äº A æµçš„æ¯æ¡æ•°æ®ï¼ˆB æµåŒç†ï¼‰ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1.&lt;/span&gt;Join ç®—å­æ”¶åˆ° A æµæ•°æ®åï¼Œéå† B æµçš„çŠ¶æ€æ•°æ®åˆ—è¡¨å¹¶é€ä¸€ååºåˆ—åŒ–&lt;/span&gt;&lt;span&gt;&lt;span&gt;2.&lt;/span&gt;ä» B æµçš„çŠ¶æ€ä¸­æ‰¾åˆ°ç¬¦åˆ Join æ¡ä»¶çš„æ•°æ®å¹¶æ‹¼æ¥èµ·æ¥å‘é€ç»™ä¸‹æ¸¸&lt;/span&gt;&lt;span&gt;&lt;span&gt;3.&lt;/span&gt;å–å‡º A æµçŠ¶æ€æ•°æ®åˆ—è¡¨ï¼Œååºåˆ—åŒ–åå°†æ–°æ•°æ® append åˆ°åˆ—è¡¨æœ«å°¾&lt;/span&gt;&lt;span&gt;&lt;span&gt;4.&lt;/span&gt;A æµçŠ¶æ€æ•°æ®åˆ—è¡¨é‡æ–°åºåˆ—åŒ–å¹¶å†™å…¥&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å‘ç°ï¼Œä¸ç®¡æ˜¯çª—å£èšåˆè¿˜æ˜¯åŒæµ Join çš„åœºæ™¯ï¼Œ&lt;strong&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°çŠ¶æ€å­˜å‚¨çš„è¯»å†™æ€»æ˜¯å’Œå½“å‰æ•°æ®æ‰€æ¶‰åŠçš„æ—¶é—´è¾¹ç•ŒèŒƒå›´å†…çš„çŠ¶æ€æœ‰å…³&lt;/strong&gt;ï¼Œæ¯”å¦‚çª—å£èšåˆåœºæ™¯ä¸­åªä¼šå¯¹æ•°æ®æ‰€åœ¨çš„çª—å£è¿›è¡Œè¯»å†™ï¼ŒåŒæµ Join åœºæ™¯ä¸­åªä¼šå¯¹ Join æ¡ä»¶ä¸­çš„æ—¶é—´èŒƒå›´å†…çŠ¶æ€è¿›è¡Œè¯»å–å’Œå†™å…¥ï¼Œè€Œå¹¶éåƒ Web æœåŠ¡ä¸­çš„ ACID ä¸€æ ·å»æ“ä½œæ‰€æœ‰æ—¶é—´æ®µçš„æ•°æ®ã€‚è¿™ä¸ªç‰¹æ€§ç‚¹æ°å¥½ä¹Ÿå’Œæˆ‘ä»¬å¸¸è¯´çš„ï¼Œè¶Šæ¥è¿‘å½“å‰æ—¶é—´çš„æ•°æ®ä»·å€¼è¶Šé«˜ï¼Œè¶Šä¹…è¿œçš„æ•°æ®ä»·å€¼è¶Šä½æ˜¯ä¸è°‹è€Œåˆçš„ã€‚&lt;/p&gt;&lt;h1&gt;RocksDB ä½œä¸ºçŠ¶æ€å­˜å‚¨&lt;/h1&gt;&lt;p&gt;Apache Flink ç›®å‰ä½¿ç”¨ RocksDB ä½œä¸ºçŠ¶æ€å­˜å‚¨ï¼Œåœ¨å°çŠ¶æ€åœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨å°‘é‡å†—ä½™çš„èµ„æºæ¥æ©ç›–çŠ¶æ€å­˜å‚¨å¸¦æ¥çš„é—®é¢˜ï¼›åœ¨å¤§çŠ¶æ€åœºæ™¯æˆ–æ˜¯æ•°æ®å€¾æ–œçš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸ºäº†æµå¼ä½œä¸šçš„é«˜æ€§èƒ½ååéœ€è¦ï¼Œå¾€å¾€éœ€è¦ä»˜å‡ºéå¸¸å¤§çš„ overheadã€‚&lt;/p&gt;&lt;h2&gt;é€‰æ‹©å“ªä¸€ç§ Compaction ç­–ç•¥ï¼Ÿ&lt;/h2&gt;&lt;p&gt;ä¸Šé¢æåˆ° RocksDB å†…ç½®çš„ä¸‰ç§ Compaction ç­–ç•¥ï¼Œä»¥Â &lt;strong&gt;Leveled Compaction&lt;/strong&gt;Â ä¸ºä¾‹ï¼Œä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å†™æ”¾å¤§é—®é¢˜&lt;/strong&gt;ï¼šLeveled Compaction é’ˆå¯¹çš„æ˜¯å°‘å†™å¤šè¯»çš„åœºæ™¯ï¼Œè€Œåœ¨æµå¼è®¡ç®—ä¸­ï¼Œæ–°æ•°æ®çš„å¤„ç†é€šå¸¸éƒ½ä¼šäº§ç”Ÿå¤šæ¬¡çš„çŠ¶æ€è®¿é—®å’ŒçŠ¶æ€æ›´æ–°ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ›´æ¥è¿‘äºè¯»å†™æ¯”ä¾‹ 1ï¼š1ï¼ˆæ¯”å¦‚å…¸å‹çš„æ»šåŠ¨çª—å£è®¡ç®—åœºæ™¯ä¸­é—´ç»“æœçš„ updateï¼‰ã€‚é¢‘ç¹çš„æ•°æ®å†™å…¥ä¼šé€ æˆ Leveled Compaction ä¸Šå„ä¸ªå±‚çº§é¢‘ç¹è§¦å‘ Full Compactionï¼Œå°¤å…¶æ˜¯æ¯æ¬¡ Checkpoint éƒ½ä¼šå¼ºåˆ¶äº§ç”Ÿä¸€ä¸ª L0 å±‚æ–‡ä»¶ï¼Œå¾ˆå®¹æ˜“å°±è¾¾åˆ° Leveled Compaction çš„é»˜è®¤è§¦å‘æ¡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…±æŒ¯é—®é¢˜&lt;/strong&gt;ï¼šå¦‚æœç”¨æˆ·ä¾§æœ‰ TaskManager æ•´ä½“çš„ CPU ç›‘æ§ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹åˆ°ï¼Œæ¯ 4 ä¸ª Checkpoint è§¦å‘æ—¶é—´ç‚¹ï¼Œå°±ä¼šæœ‰ä¸€æ¬¡ CPU é™¡å¢çš„ç°è±¡ï¼Œå¹¶ä¸”ä½œä¸šçš„ååä¼šå‡ºç°æ˜æ˜¾çš„ä¸‹é™ï¼Œè¿™æ˜¯å› ä¸º RocksDB çš„ Leveled Compaction é»˜è®¤åœ¨ L0 å±‚çš„ SST æ–‡ä»¶æ•°é‡è¾¾åˆ° 4 ä¸ªæ—¶å°±ä¼šè§¦å‘ L0-&amp;gt;L1 å±‚çš„ Compaction æ“ä½œï¼Œè€Œå„ä¸ª Task çš„ Checkpoint æ“ä½œé€šå¸¸åœ¨ä¸€ä¸¤åˆ†é’Ÿå†…åŒæ—¶è§¦å‘ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šå¯¼è‡´ Compaction å…±æŒ¯é—®é¢˜ï¼ŒCPU é™¡å¢ä¹Ÿä¼šå½±å“ Task æ­£å¸¸çš„æ•°æ®å¤„ç†çº¿ç¨‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ½®æ±é—®é¢˜&lt;/strong&gt;ï¼šé€šå¸¸æ¥è¯´ï¼Œæ•°æ®æµé‡è¶Šå¤§ï¼ŒRocksDB çš„å†™å…¥è¶Šå¤šï¼ŒCompaction çš„è§¦å‘è¶Šé¢‘ç¹ã€‚è€Œæ°å¥½æµå¼åœºæ™¯ä¼šæœ‰éå¸¸å…¸å‹çš„æ½®æ±ç°è±¡ï¼Œé«˜å³°å’Œä½å³°æµé‡å¾€å¾€ä¼šå·®å¥½å‡ å€ï¼Œä½†æ˜¯å®é™…æƒ…å†µä¸­ï¼Œæˆ‘ä»¬ä¼šå‘ç° Compaction çš„èµ„æºå¼€é”€è¶Šåœ¨é«˜å³°é˜¶æ®µï¼Œå¼€é”€è¶Šå¤§ï¼Œè€ŒçœŸæ­£å¤„ç†ä½œä¸šé€»è¾‘çš„ç®—åŠ›æ›´åŠ ä¸å¤Ÿï¼Œåªèƒ½é€šè¿‡ç»§ç»­å¢å¤§èµ„æºçš„æ–¹å¼æ¥ç¼“è§£é—®é¢˜ï¼Œä¹Ÿå°±é€ æˆäº†ä½å³°æ—¶æœŸçš„èµ„æºåˆ©ç”¨ç‡ä¼šéå¸¸éå¸¸ä½ã€‚&lt;/p&gt;&lt;p&gt;å¯¹äºÂ &lt;strong&gt;Universal Compaction&lt;/strong&gt;ï¼Œä¼šç¨å¾®å¥½ä¸€äº›ä½†ä»ç„¶æœ‰ç±»ä¼¼çš„é—®é¢˜ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç€é‡çœ‹ä¸€ä¸‹åŠŸèƒ½æœ€å°‘ï¼Œè¡¨é¢çœ‹èµ·æ¥æœ€é¸¡è‚‹çš„ RocksDB çš„Â &lt;strong&gt;FIFO Compaction&lt;/strong&gt;ï¼Œæè¿°æ‘˜è‡ªÂ &lt;span&gt;wiki&lt;sup&gt;[6]&lt;/sup&gt;&lt;/span&gt;ï¼š&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;FIFO compaction style &lt;/span&gt;&lt;span&gt;is&lt;/span&gt;&lt;span&gt; the simplest compaction strategy&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;It&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;is&lt;/span&gt;&lt;span&gt; suited &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; keeping &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt; log &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;data &lt;/span&gt;&lt;span&gt;with&lt;/span&gt;&lt;span&gt; very low overhead &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;query log &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; example&lt;/span&gt;&lt;span&gt;).&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;It&lt;/span&gt;&lt;span&gt; periodically deletes the old data&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; so it&lt;/span&gt;&lt;span&gt;&#x27;s &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;basically a TTL compaction style&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;In&lt;/span&gt;&lt;span&gt; FIFO compaction&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; all files are &lt;/span&gt;&lt;span&gt;in&lt;/span&gt;&lt;span&gt; level &lt;/span&gt;&lt;span&gt;0.&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;When&lt;/span&gt;&lt;span&gt; total size of the data exceeds configured size&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;CompactionOptionsFIFO&lt;/span&gt;&lt;span&gt;::&lt;/span&gt;&lt;span&gt;max_table_files_size&lt;/span&gt;&lt;span&gt;),&lt;/span&gt;&lt;span&gt; we &lt;/span&gt;&lt;span&gt;delete&lt;/span&gt;&lt;span&gt; the oldest table file&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;This&lt;/span&gt;&lt;span&gt; means that &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt; write amplification of data &lt;/span&gt;&lt;span&gt;is&lt;/span&gt;&lt;span&gt; always &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;in&lt;/span&gt;&lt;span&gt; addition to WAL write amplification&lt;/span&gt;&lt;span&gt;).&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;FIFO çš„æ–¹å¼ï¼Œå…¶å®æ˜¯åœ¨ L0 å±‚ä»¥ SST æ–‡ä»¶çš„å½¢å¼ç»´æŠ¤äº†ä¸€ä¸ªâ€œæµâ€ï¼Œå­˜æ´»æ—¶é—´è¶Šé•¿çš„æ•°æ®ä¼˜å…ˆçº§è¶Šä½ï¼Œè¶Šæœ‰å¯èƒ½è¢« TTL åˆ é™¤ï¼Œè¿™æ ·å°±å’Œæµå¼åœºæ™¯æ¯”è¾ƒç›¸åƒäº†ã€‚ä¸è¿‡ä½¿ç”¨ FIFO Compaction ç­–ç•¥ä¼šå¯¼è‡´ L0 å±‚æ–‡ä»¶è¿‡å¤šï¼Œæ•°æ®è¯»å–æ€§èƒ½å˜å·®ï¼ŒRocksDB ä¹Ÿæä¾›äº†ä¸€äº›éå¸¸ç®€æ˜“çš„ Compaction ç­–ç•¥æ¥ç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ  bloom filter + cache çš„å½¢å¼æ¥å‡å°‘æ•°æ®æŸ¥è¯¢çš„æ–‡ä»¶ IO æ¬¡æ•°ã€‚&lt;/p&gt;&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ FIFO æ˜¯ä¸‰è€…ä¸­æœ€é€‚åˆæµå¼åœºæ™¯çš„ Compaction ç­–ç•¥ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰å’Œ Flink å†…éƒ¨æœºåˆ¶æ‰“é€šï¼ˆæ¯”å¦‚ TTL ä¸¤è¾¹ä¸å¯¹é½ï¼‰ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œæˆ‘ä»¬ä¹Ÿä¸æ¨èç”¨æˆ·è¿›è¡Œä½¿ç”¨ã€‚ï¼ˆå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ RocksDB çš„ API æ¥è‡ªå®šä¹‰ Compaction ç­–ç•¥ï¼Œæˆ–è€…å»ç¨å¾®æ”¹æ”¹ Flink or RocksDB çš„æºç ä»¥æ»¡è¶³éœ€æ±‚ï¼‰&lt;/p&gt;&lt;h2&gt;Embeded Storage å’Œåˆ†å¸ƒå¼è®¡ç®—&lt;/h2&gt;&lt;p&gt;RocksDB æ˜¯ Embeded Storageï¼ŒEmbeded ä¹Ÿå°±æ„å‘³ç€åœ¨åˆ†å¸ƒå¼è®¡ç®—åº”ç”¨ä¸­ï¼Œæ¯ä¸ª Task ç»´æŠ¤çš„ DB å®ä¾‹æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå¾ˆéš¾æ‹¿åˆ°ä¸€ä¸ª&lt;strong&gt;å…¨å±€è§†è§’&lt;/strong&gt;ä»¥åšå‡ºæœ€ä¼˜çš„æ–¹æ¡ˆã€‚å…³äºçŠ¶æ€å­˜å‚¨ï¼Œæˆ‘åœ¨Â &lt;span&gt;Hazelcast Jet è®ºæ–‡&lt;sup&gt;[7]&lt;/sup&gt;&lt;/span&gt;Â ä¸­æœ‰æåˆ°è¿‡ Embeded å’Œ Distributed Storage çš„å¯¹æ¯”ï¼Œè¿™é‡Œä»å¦ä¸€ä¸ªè§’åº¦è®²è®²ã€‚&lt;/p&gt;&lt;p&gt;ä»¥ä¸Šé¢æåˆ°çš„ Compaction å…±æŒ¯é—®é¢˜ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬åƒ HBase ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ jitterï¼ˆæŠ–åŠ¨å› å­å‚æ•°ï¼‰å°†å„ä¸ª Compaction æ“ä½œçš„æ—¶é—´é”™å¼€ï¼Œé‚£ä¹ˆæˆ‘ä»¬çœ‹åˆ°çš„ä½œä¸šè¾“å‡ºå¯èƒ½æ˜¯å¹³ç¨³ä¸”ç¬¦åˆé¢„æœŸçš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ‰©ç¼©å®¹é—®é¢˜ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼ŒApache Flink ä¸­ä½œä¸šçš„æ‰©ç¼©å®¹ï¼Œå¯¹åº”ç€çŠ¶æ€æ‰©ç¼©å®¹ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6453703703703704&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/LPVpEXa2xuApNUv5GMZH2yblotfTzc5Yme10OzrlHN9kgPmR4Yde31pLofTWDZeJicKRa35R1DjLT99uhpcnicew/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;figcaption&gt;rocksdb-state-rescale&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å‡è®¾ç®—å­æœ€å¤§å…è®¸å­˜åœ¨ 6 ä¸ª KeyGroupï¼ˆä»»ä½•æ•°æ®éƒ½ä¼šè¢«æ˜ å°„åˆ° 6 ä¸ª KeyGroup èŒƒå›´å†…ï¼‰ï¼Œç¼©å®¹å‰è¿™ä¸ªç®—å­æœ‰ 3 ä¸ª Taskï¼Œåˆ†åˆ«è´Ÿè´£ {1,2}ï¼Œ{3,4}ï¼Œ{5,6} ä¸‰ä¸ª KeyGroup çš„æ•°æ®å¤„ç†ï¼Œåœ¨ç®—å­å¹¶è¡Œåº¦ä» 3 è°ƒæ•´ä¸º 2 åï¼Œæ–°çš„ 2 ä¸ª Task éœ€è¦å¤„ç† 6 ä¸ª KeyGroup çš„æ•°æ®ï¼Œåˆ™å¯¹åº”è´Ÿè´£çš„ KeyGroup Range å°±å˜æˆäº† {1,2,3} å’Œ {4,5,6}ã€‚è¿™ä¹Ÿæ˜¯æµå¼è®¡ç®—ä¸­åº”å¯¹æ‰©ç¼©å®¹çš„é€šç”¨åšæ³•ï¼Œæ¯ä¸ª Task ä¼šè´Ÿè´£ä¸€å®š KeyGroup Range å†…çš„æ•°æ®å¤„ç†ï¼Œåœ¨è¿›è¡Œæ‰©ç¼©å®¹æ—¶ï¼ŒKeyGroup Range ä¼šæ ¹æ® Task çš„æ•°é‡è¿›è¡Œé‡æ–°åˆ†é…ï¼Œç›¸å¯¹åº”çš„ï¼Œæ¯ä¸ª Task è´Ÿè´£çš„ KeyGroup Range å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ„å‘³ç€ä¹‹å‰ä¸åŒ Task ä¸­ RocksDB å®ä¾‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®è¿ç§»å’Œåˆå¹¶ã€‚ä»å•æœºå­˜å‚¨çš„è®¾è®¡è§’åº¦æ¥è€ƒè™‘ï¼Œåœ¨è®¾è®¡ä¹‹åˆä¾¿æ˜¯ä¸ºäº†æœåŠ¡äºå•æœºåœºæ™¯ï¼Œå¾€å¾€ä¸ä¼šä¸ºè¿™ç§æ‰©ç¼©å®¹æƒ…å†µä½œè¿‡å¤šè€ƒè™‘ï¼ˆæ›´åˆ«ææµå¼è®¡ç®—è¿™ç±»å¯¹æ‰©ç¼©å®¹è€—æ—¶æ•æ„Ÿçš„åœºæ™¯äº†ï¼‰ã€‚&lt;/p&gt;&lt;h2&gt;èµ„æºç«äº‰&lt;/h2&gt;&lt;p&gt;èµ„æºç«äº‰çš„é—®é¢˜ä¸Šé¢å·²ç»æåˆ°ï¼ŒRocksDB flush çº¿ç¨‹å’Œ compaction çº¿ç¨‹æ‰€ç”¨çš„ CPU èµ„æºï¼Œä¼šå’Œä½œä¸šå¤„ç†æ•°æ®çº¿ç¨‹çš„ CPU èµ„æºäº§ç”Ÿç«äº‰ã€‚åˆ†å¸ƒå¼è®¡ç®—ä»»åŠ¡ï¼Œéƒ¨ç½²åœ¨ Yarn æˆ–è€… K8s ä¸Šï¼Œä¸ºäº†ä¿è¯å…¶ä»–èµ„æºï¼ˆå¦‚ Memoryï¼‰ä¸åˆ°è¾¾ç“¶é¢ˆï¼Œé€šå¸¸éƒ¨ç½²çš„ä¸€ä¸ªå®ä¾‹ï¼ˆcontainerï¼‰ä¸Š CPU æ•°ä¸ä¼šç‰¹åˆ«å¤šï¼Œä¹Ÿå°±æ˜¯ä¸ªä½æ•°çš„çº§åˆ«ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRocksDB çš„å¼‚æ­¥æ“ä½œå¯¹äºä½œä¸šå¤„ç†äº§ç”Ÿçš„èµ„æºç«äº‰å½±å“å°±ä¼šéå¸¸å¤§ã€‚å½“ç„¶ï¼ŒRocksDB çš„ Compaction çº¿ç¨‹ä¼šè¢«è®¾ç½®ä¸º low-priorityï¼Œä½†è¿™åœ¨æµå¼åœºæ™¯ä¸­æ•°æ®æŒç»­æµå…¥çš„æƒ…å†µä¸‹å¹¶ä¸èµ·å¤ªå¤§çš„ä½œç”¨ï¼Œè€Œä¸”å½“ Compaction è¿‡äºæ»åæ—¶ï¼ŒRocksDB ä¼šå‡ºç° Write Stall ç­‰ç°è±¡ï¼Œè®© Task çš„å¤„ç†çº¿ç¨‹åœ¨çŸ­æ—¶é—´å†…å®Œå…¨ hang ä½ã€‚&lt;/p&gt;&lt;h2&gt;å…¶å®ƒ&lt;/h2&gt;&lt;p&gt;é™¤äº†ä¸Šè¿°é—®é¢˜ï¼Œç¯‡å¹…åŸå› ï¼Œåœ¨è¿™é‡Œç®€è¦æ¦‚æ‹¬è¿‡å»åœ¨å·¥ä½œä¸­é‡åˆ°è¿‡çš„å…¶ä»–é—®é¢˜ï¼ˆæˆ–æ˜¯åœ¨æµå¼åœºæ™¯ä¸­å¯ä»¥æ”¹è¿›çš„é—®é¢˜ï¼‰ï¼š&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;strong&gt;åºåˆ—åŒ–&lt;/strong&gt;ï¼šåœ¨ Flink çš„ä½¿ç”¨ä¸‹ï¼ŒRocksDB å¹¶ä¸èƒ½å¾ˆå¥½åœ°å¤„ç† Read-Modify-Write çš„åœºæ™¯ï¼Œå°¤å…¶æ˜¯ç”¨æˆ·æ•°æ®ç»“æ„è¾ƒä¸ºå¤æ‚æ—¶ï¼Œç°è±¡ä¼šéå¸¸æ˜æ˜¾ï¼Œä¸€æ¬¡ Update å³æ„å‘³ç€ä¸€æ¬¡è¯»å–æ—¶çš„ååºåˆ—åŒ–å’Œä¸€æ¬¡å†™å…¥æ—¶çš„åºåˆ—åŒ–ï¼Œå¾ˆå¤šç”¨æˆ·è‡ªå®šä¹‰ UDAF æ—¶ä¸æ³¨æ„å­˜å‚¨æ•°æ®ç»“æ„çš„å¤æ‚åº¦ï¼Œè¿™é‡Œå¾ˆå®¹æ˜“å‡ºç°ç“¶é¢ˆã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;strong&gt;å‹ç¼©&lt;/strong&gt;ï¼šæ•°æ®çš„å‹ç¼©å’Œè§£å‹ç¼©ï¼ŒåŒä¸Šã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;strong&gt;å°æ–‡ä»¶&lt;/strong&gt;ï¼šé¢‘ç¹ updateï¼Œé€ æˆç”Ÿæˆçš„ SST æ–‡ä»¶éƒ½æ˜¯å°æ–‡ä»¶ã€‚&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;strong&gt;æ—¶é—´è¯­ä¹‰&lt;/strong&gt;ï¼šç¼ºä¹ä¸°å¯Œçš„æ—¶é—´è¯­ä¹‰ï¼ˆæ¯”å¦‚äº‹ä»¶æ—¶é—´ï¼‰&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;&lt;strong&gt;retract&lt;/strong&gt;ï¼šretract æ“ä½œä¼šé€ æˆå¤§é‡ delete ä»è€Œé™ä½ scan å’Œ seek çš„æ€§èƒ½ ....&lt;/span&gt;&lt;/p&gt;&lt;h1&gt;æ€»ç»“&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»äº† RocksDB çš„ç›¸å…³åŸç†å’Œä¸æµå¼åœºæ™¯ç»“åˆæ—¶å­˜åœ¨çš„è‹¥å¹²é—®é¢˜ã€‚è¿™å¹¶ä¸å½±å“ç”¨æˆ·ç»§ç»­ä½¿ç”¨ RocksDBStateBackend ä½œä¸ºå¤§çŠ¶æ€çš„å­˜å‚¨åç«¯ï¼Œåªæ˜¯æœŸå¾…æœªæ¥ä¼šæœ‰ä¸€ä¸ªè·Ÿæµå¼åœºæ™¯æ›´åŠ è´´åˆçš„ Storage å§ï¼Œå¯èƒ½æ˜¯ Embeded Storageï¼Œä¹Ÿå¯èƒ½æ˜¯ Distributed Storageï¼Œéšç€æµå¼åœºæ™¯è¶Šæ¥è¶Šæµè¡Œï¼Œè¿™ä»¶äº‹æƒ…ä¸€å®šä¼šæœ‰äººåœ¨åšæˆ–è€…å³å°†å‡†å¤‡åšçš„ã€‚&lt;/p&gt;&lt;h3&gt;References&lt;/h3&gt;&lt;p&gt;&lt;code&gt;[1]&lt;/code&gt;Â RocksDB:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/RocksDB-Overview&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[2]&lt;/code&gt;Â æ–‡ä»¶ç»“æ„:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/Rocksdb-BlockBasedTable-Format#file-format&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[3]&lt;/code&gt;Â Leveled Compactionï¼ˆé»˜è®¤ç­–ç•¥ï¼‰:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/Leveled-Compaction&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[4]&lt;/code&gt;Â Universal Compaction:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/Universal-Compaction&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[5]&lt;/code&gt;Â FIFO Compaction:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/FIFO-compaction-style&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[6]&lt;/code&gt;Â wiki:Â &lt;em&gt;https://github.com/facebook/rocksdb/wiki/FIFO-compaction-style&lt;/em&gt;&lt;br/&gt;&lt;code&gt;[7]&lt;/code&gt;Â Hazelcast Jet è®ºæ–‡:Â &lt;em&gt;http://www.liaojiayi.com/Hazelcast-jet/&lt;/em&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c4bf873050e5f75b5ead713547698e17</guid>
<title>åç§å®ç°å»¶è¿Ÿä»»åŠ¡çš„æ–¹æ¡ˆ</title>
<link>https://toutiao.io/k/72twanf</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;
            &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p&gt;&lt;span&gt;å»¶è¿Ÿä»»åŠ¡ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œå¾ˆå¤šä¸šåŠ¡åœºæ™¯éƒ½ä¼šç”¨åˆ°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;js_darkmode__1&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;js_darkmode__1&quot;&gt;&lt;span&gt;æ¯”å¦‚ï¼Œä½ åœ¨æ·˜å®ä¸Šä¹°äº†ä»¶å•†å“ï¼Œæ”¶åˆ°è´§ç‰©åï¼Œå¾ˆå°‘æœ‰äººä¸»åŠ¨å»ç‚¹ â€œç¡®è®¤æ”¶è´§â€ï¼Œä½†ç»†å¿ƒçš„æˆ‘ä»¬å‘ç°ï¼Œç»è¿‡è‹¥å¹²å¤©åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç¡®è®¤æ”¶è´§ï¼Œå®Œç»“è®¢å•ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;js_darkmode__1&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;js_darkmode__1&quot;&gt;&lt;span&gt;è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;/span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2KTof9YshwdBduS6EiatWo08iblKT72jaG4G7Z7YDg9ZkurncaiaO84nmXJgoAdUtlB9l1vCT1sAyIQkwxXMIXicHg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2KTof9YshwdBduS6EiatWo08iblKT72jaG4G7Z7YDg9ZkurncaiaO84nmXJgoAdUtlB9l1vCT1sAyIQkwxXMIXicHg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2KTof9YshwdBduS6EiatWo08iblKT72jaG4G7Z7YDg9ZkurncaiaO84nmXJgoAdUtlB9l1vCT1sAyIQkwxXMIXicHg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯å»¶è¿Ÿä»»åŠ¡ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¡¾æ˜æ€è®®ï¼Œæˆ‘ä»¬æŠŠéœ€è¦å»¶è¿Ÿæ‰§è¡Œçš„ä»»åŠ¡å«åšå»¶è¿Ÿä»»åŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å»¶è¿Ÿä»»åŠ¡çš„ä½¿ç”¨åœºæ™¯æœ‰ä»¥ä¸‹è¿™äº›ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;çº¢åŒ… 24 å°æ—¶æœªè¢«æŸ¥æ”¶ï¼Œéœ€è¦å»¶è¿Ÿæ‰§é€€è¿˜ä¸šåŠ¡ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ¯ä¸ªæœˆè´¦å•æ—¥ï¼Œéœ€è¦ç»™ç”¨æˆ·å‘é€å½“æœˆçš„å¯¹è´¦å•ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è®¢å•ä¸‹å•ä¹‹å 30 åˆ†é’Ÿåï¼Œç”¨æˆ·å¦‚æœæ²¡æœ‰ä»˜é’±ï¼Œç³»ç»Ÿéœ€è¦è‡ªåŠ¨å–æ¶ˆè®¢å•ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç­‰äº‹ä»¶éƒ½éœ€è¦ä½¿ç”¨å»¶è¿Ÿä»»åŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å»¶è¿Ÿä»»åŠ¡å®ç°æ€è·¯åˆ†æ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å»¶è¿Ÿä»»åŠ¡å®ç°çš„å…³é”®æ˜¯åœ¨æŸä¸ªæ—¶é—´èŠ‚ç‚¹æ‰§è¡ŒæŸä¸ªä»»åŠ¡ã€‚åŸºäºè¿™ä¸ªä¿¡æ¯æˆ‘ä»¬å¯ä»¥æƒ³åˆ°å®ç°å»¶è¿Ÿä»»åŠ¡çš„æ‰‹æ®µæœ‰ä»¥ä¸‹ä¸¤ä¸ªï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è‡ªå·±æ‰‹å†™ä¸€ä¸ªâ€œæ­»å¾ªç¯â€ä¸€ç›´åˆ¤æ–­å½“å‰æ—¶é—´èŠ‚ç‚¹æœ‰æ²¡æœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å€ŸåŠ© JDK æˆ–è€…ç¬¬ä¸‰æ–¹æä¾›çš„å·¥å…·ç±»æ¥å®ç°å»¶è¿Ÿä»»åŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è€Œé€šè¿‡ JDK å®ç°å»¶è¿Ÿä»»åŠ¡æˆ‘ä»¬èƒ½æƒ³åˆ°çš„å…³é”®è¯æ˜¯ï¼šDelayQueueã€ScheduledExecutorServiceï¼Œè€Œç¬¬ä¸‰æ–¹æä¾›çš„å»¶è¿Ÿä»»åŠ¡æ‰§è¡Œæ–¹æ³•å°±æœ‰å¾ˆå¤šäº†ï¼Œä¾‹å¦‚ï¼šRedisã€Nettyã€MQ ç­‰æ‰‹æ®µã€‚&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å»¶è¿Ÿä»»åŠ¡å®ç°&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬å°†ç»“åˆä»£ç æ¥è®²è§£æ¯ç§å»¶è¿Ÿä»»åŠ¡çš„å…·ä½“å®ç°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ1ã€æ— é™å¾ªç¯å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æ­¤æ–¹å¼æˆ‘ä»¬éœ€è¦å¼€å¯ä¸€ä¸ªæ— é™å¾ªç¯ä¸€ç›´æ‰«æä»»åŠ¡ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ª Map é›†åˆç”¨æ¥å­˜å‚¨ä»»åŠ¡å’Œå»¶è¿Ÿæ‰§è¡Œçš„æ—¶é—´ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;swift&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.time.Instant;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.time.LocalDateTime;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.HashMap;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Iterator;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Map;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayTaskExample&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__type&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__type&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-snippet__type&quot;&gt;Long&lt;/span&gt;&amp;gt; _TaskMap = new &lt;span class=&quot;code-snippet__type&quot;&gt;HashMap&lt;/span&gt;&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-snippet__type&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__type&quot;&gt;System&lt;/span&gt;.out.&lt;span class=&quot;code-snippet__built_in&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š&quot;&lt;/span&gt; + &lt;span class=&quot;code-snippet__type&quot;&gt;LocalDateTime&lt;/span&gt;.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        _TaskMap.put(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;task-1&quot;&lt;/span&gt;, &lt;span class=&quot;code-snippet__type&quot;&gt;Instant&lt;/span&gt;.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;).toEpochMilli()); &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        loopTask();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; void loopTask() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__type&quot;&gt;Long&lt;/span&gt; itemLong = 0L;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__type&quot;&gt;Iterator&lt;/span&gt; it = _TaskMap.entrySet().iterator();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (it.hasNext()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__type&quot;&gt;Map&lt;/span&gt;.&lt;span class=&quot;code-snippet__type&quot;&gt;Entry&lt;/span&gt; entry = (&lt;span class=&quot;code-snippet__type&quot;&gt;Map&lt;/span&gt;.&lt;span class=&quot;code-snippet__type&quot;&gt;Entry&lt;/span&gt;) it.next();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                itemLong = (&lt;span class=&quot;code-snippet__type&quot;&gt;Long&lt;/span&gt;) entry.getValue();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-snippet__type&quot;&gt;Instant&lt;/span&gt;.now().toEpochMilli() &amp;gt;= itemLong) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;span class=&quot;code-snippet__type&quot;&gt;System&lt;/span&gt;.out.&lt;span class=&quot;code-snippet__built_in&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ‰§è¡Œä»»åŠ¡ï¼š&quot;&lt;/span&gt; + entry.getKey() +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                            &lt;span class=&quot;code-snippet__string&quot;&gt;&quot; ï¼Œæ‰§è¡Œæ—¶é—´ï¼š&quot;&lt;/span&gt; + &lt;span class=&quot;code-snippet__type&quot;&gt;LocalDateTime&lt;/span&gt;.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    _TaskMap.remove(entry.getKey());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºæ‰§è¡Œçš„ç»“æœä¸ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-12T18&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:51&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:28.188&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ‰§è¡Œä»»åŠ¡ï¼š&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;task-1&lt;/span&gt; ï¼Œæ‰§è¡Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-12T18&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:51&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:31.189&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥çœ‹å‡ºä»»åŠ¡å»¶è¿Ÿäº† 3s é’Ÿæ‰§è¡Œäº†ï¼Œç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;JavaÂ API å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;Java API æä¾›äº†ä¸¤ç§å®ç°å»¶è¿Ÿä»»åŠ¡çš„æ–¹æ³•ï¼šDelayQueue å’Œ ScheduledExecutorServiceã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;2ã€&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ScheduledExecutorServiceÂ å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ScheduledExecutorService æ¥ä»¥å›ºå®šçš„é¢‘ç‡ä¸€ç›´æ‰§è¡Œä»»åŠ¡ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayTaskExample&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;String[] args&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        scheduledExecutorServiceTask();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;scheduledExecutorServiceTask&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        ScheduledExecutorService executor = Executors.newScheduledThreadPool(&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        executor.scheduleWithFixedDelay(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Runnable() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    @&lt;span class=&quot;code-snippet__function&quot;&gt;Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ‰§è¡Œä»»åŠ¡&quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                                &lt;span class=&quot;code-snippet__string&quot;&gt;&quot; ï¼Œæ‰§è¡Œæ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                },&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                TimeUnit.SECONDS);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºæ‰§è¡Œçš„ç»“æœä¸ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-12T21&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:28&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:10.416&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ‰§è¡Œä»»åŠ¡ ï¼Œæ‰§è¡Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-12T21&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:28&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:12.421&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ‰§è¡Œä»»åŠ¡ ï¼Œæ‰§è¡Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-12T21&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:28&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:14.422&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;......&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥çœ‹å‡ºä½¿ç”¨ ScheduledExecutorService#scheduleWithFixedDelay(...)Â æ–¹æ³•ä¹‹åï¼Œä¼šä»¥æŸä¸ªé¢‘ç‡ä¸€ç›´å¾ªç¯æ‰§è¡Œå»¶è¿Ÿä»»åŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ3ã€&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;DelayQueueÂ å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;DelayQueue æ˜¯ä¸€ä¸ªæ”¯æŒå»¶æ—¶è·å–å…ƒç´ çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„å…ƒç´ å¿…é¡»å®ç° Delayed æ¥å£ï¼Œå¹¶é‡å†™ getDelay(TimeUnit) å’Œ compareTo(Delayed)Â æ–¹æ³•ï¼ŒDelayQueue å®ç°å»¶è¿Ÿé˜Ÿåˆ—çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayTest&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(String[] args)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; InterruptedException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        DelayQueue delayQueue = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; DelayQueue();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        delayQueue.put(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; DelayElement(&lt;span class=&quot;code-snippet__number&quot;&gt;1000&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        delayQueue.put(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; DelayElement(&lt;span class=&quot;code-snippet__number&quot;&gt;3000&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        delayQueue.put(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; DelayElement(&lt;span class=&quot;code-snippet__number&quot;&gt;5000&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;å¼€å§‹æ—¶é—´ï¼š&quot;&lt;/span&gt; +  DateFormat.getDateTimeInstance().format(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Date()));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (!delayQueue.isEmpty()){&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            System.out.println(delayQueue.take());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ç»“æŸæ—¶é—´ï¼š&quot;&lt;/span&gt; +  DateFormat.getDateTimeInstance().format(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Date()));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayElement&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Delayed&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; delayTime = System.currentTimeMillis();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayElement&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; delayTime)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.delayTime = (&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.delayTime + delayTime);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;getDelay&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(TimeUnit unit)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; unit.convert(delayTime - System.currentTimeMillis(), TimeUnit.MILLISECONDS);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;compareTo&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Delayed o)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.getDelay(TimeUnit.MILLISECONDS) &amp;gt; o.getDelay(TimeUnit.MILLISECONDS)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.getDelay(TimeUnit.MILLISECONDS) &amp;lt; o.getDelay(TimeUnit.MILLISECONDS)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; -&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;code-snippet__title&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; DateFormat.getDateTimeInstance().format(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Date(delayTime));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºæ‰§è¡Œçš„ç»“æœä¸ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;å¼€å§‹æ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-4-12&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:40&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:38&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-4-12&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:40&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:39&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-4-12&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:40&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:41&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-4-12&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:40&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:43&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ç»“æŸæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-4-12&lt;/span&gt;Â 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:40&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:43&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;RedisÂ å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½¿ç”¨ Redis å®ç°å»¶è¿Ÿä»»åŠ¡çš„æ–¹æ³•å¤§ä½“å¯åˆ†ä¸ºä¸¤ç±»ï¼šé€šè¿‡ zset æ•°æ®åˆ¤æ–­çš„æ–¹å¼ï¼Œå’Œé€šè¿‡é”®ç©ºé—´é€šçŸ¥çš„æ–¹å¼ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ4ã€é€šè¿‡æ•°æ®åˆ¤æ–­çš„æ–¹å¼&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬å€ŸåŠ© zset æ•°æ®ç±»å‹ï¼ŒæŠŠå»¶è¿Ÿä»»åŠ¡å­˜å‚¨åœ¨æ­¤æ•°æ®é›†åˆä¸­ï¼Œç„¶ååœ¨å¼€å¯ä¸€ä¸ªæ— çº¿å¾ªç¯æŸ¥è¯¢å½“å‰æ—¶é—´çš„æ‰€æœ‰ä»»åŠ¡è¿›è¡Œæ¶ˆè´¹ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼ˆéœ€è¦å€ŸåŠ© Jedis æ¡†æ¶ï¼‰ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; redis.clients.jedis.Jedis;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; utils.JedisUtils;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.time.Instant;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Set;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayQueueExample&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; String _KEY = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;myDelayQueue&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(String[] args)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; InterruptedException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Jedis jedis = JedisUtils.getJedis();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; delayTime = Instant.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;).getEpochSecond();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.zadd(_KEY, delayTime, &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;order_1&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.zadd(_KEY, Instant.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;).getEpochSecond(), &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;order_2&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.zadd(_KEY, Instant.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;).getEpochSecond(), &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;order_3&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.zadd(_KEY, Instant.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;7&lt;/span&gt;).getEpochSecond(), &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;order_4&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.zadd(_KEY, Instant.now().plusSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;).getEpochSecond(), &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;order_5&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        doDelayQueue(jedis);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;doDelayQueue&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Jedis jedis)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; InterruptedException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;true&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__comment&quot;&gt;// å½“å‰æ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            Instant nowInstant = Instant.now();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; lastSecond = nowInstant.plusSeconds(-&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;).getEpochSecond(); &lt;span class=&quot;code-snippet__comment&quot;&gt;// ä¸Šä¸€ç§’æ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; nowSecond = nowInstant.getEpochSecond();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__comment&quot;&gt;// æŸ¥è¯¢å½“å‰æ—¶é—´çš„æ‰€æœ‰ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            Set&amp;lt;String&amp;gt; data = jedis.zrangeByScore(_KEY, lastSecond, nowSecond);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (String item : data) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ¶ˆè´¹ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ¶ˆè´¹ï¼š&quot;&lt;/span&gt; + item);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__comment&quot;&gt;// åˆ é™¤å·²ç»æ‰§è¡Œçš„ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            jedis.zremrangeByScore(_KEY, lastSecond, nowSecond);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            Thread.sleep(&lt;span class=&quot;code-snippet__number&quot;&gt;1000&lt;/span&gt;); &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ¯ç§’è½®è¯¢ä¸€æ¬¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ5ã€é€šè¿‡é”®ç©ºé—´é€šçŸ¥&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/h4&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é»˜è®¤æƒ…å†µä¸‹ Redis æœåŠ¡å™¨ç«¯æ˜¯ä¸å¼€å¯é”®ç©ºé—´é€šçŸ¥çš„ï¼Œéœ€è¦æˆ‘ä»¬é€šè¿‡ config set notify-keyspace-events Ex çš„å‘½ä»¤æ‰‹åŠ¨å¼€å¯ï¼Œå¼€å¯é”®ç©ºé—´é€šçŸ¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°æ¯ä¸ªé”®å€¼è¿‡æœŸçš„äº‹ä»¶ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæœºåˆ¶å®ç°äº†ç»™æ¯ä¸ªäººå¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡çš„åŠŸèƒ½ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; redis.clients.jedis.Jedis;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; redis.clients.jedis.JedisPubSub;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; utils.JedisUtils;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; TaskExample {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; final &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; _TOPIC = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;__keyevent@0__:expired&quot;&lt;/span&gt;; &lt;span class=&quot;code-snippet__comment&quot;&gt;// è®¢é˜…é¢‘é“åç§°&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;void&lt;/span&gt; main(&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt;[] args) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Jedis jedis = JedisUtils.getJedis();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ‰§è¡Œå®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        doTask(jedis);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     * è®¢é˜…è¿‡æœŸæ¶ˆæ¯ï¼Œæ‰§è¡Œå®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     * @param jedis Redis å®¢æˆ·ç«¯&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;void&lt;/span&gt; doTask(Jedis jedis) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// è®¢é˜…è¿‡æœŸæ¶ˆæ¯&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        jedis.psubscribe(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; JedisPubSub() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;void&lt;/span&gt; onPMessage(&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; pattern, &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; channel, &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; message) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œæ‰§è¡Œå®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;&lt;/span&gt; + message);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }, _TOPIC);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ6ã€Netty å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;Netty æ˜¯ç”± JBOSS æä¾›çš„ä¸€ä¸ª Java å¼€æºæ¡†æ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäº NIO çš„å®¢æˆ·ã€æœåŠ¡å™¨ç«¯çš„ç¼–ç¨‹æ¡†æ¶ï¼Œä½¿ç”¨ Netty å¯ä»¥ç¡®ä¿ä½ å¿«é€Ÿå’Œç®€å•çš„å¼€å‘å‡ºä¸€ä¸ªç½‘ç»œåº”ç”¨ï¼Œä¾‹å¦‚å®ç°äº†æŸç§åè®®çš„å®¢æˆ·ã€æœåŠ¡ç«¯åº”ç”¨ã€‚Netty ç›¸å½“äºç®€åŒ–å’Œæµçº¿åŒ–äº†ç½‘ç»œåº”ç”¨çš„ç¼–ç¨‹å¼€å‘è¿‡ç¨‹ï¼Œä¾‹å¦‚ï¼šåŸºäº TCP å’Œ UDP çš„ socket æœåŠ¡å¼€å‘ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥ä½¿ç”¨ Netty æä¾›çš„å·¥å…·ç±» HashedWheelTimer æ¥å®ç°å»¶è¿Ÿä»»åŠ¡ï¼Œå®ç°ä»£ç å¦‚ä¸‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆåœ¨é¡¹ç›®ä¸­æ·»åŠ  Netty å¼•ç”¨ï¼Œé…ç½®å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;xml&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/io.netty/netty-common --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;&lt;span class=&quot;code-snippet__name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;&lt;span class=&quot;code-snippet__name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.netty&lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;/&lt;span class=&quot;code-snippet__name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;&lt;span class=&quot;code-snippet__name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;netty-common&lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;/&lt;span class=&quot;code-snippet__name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;&lt;span class=&quot;code-snippet__name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;4.1.48.Final&lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;/&lt;span class=&quot;code-snippet__name&quot;&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__tag&quot;&gt;&amp;lt;/&lt;span class=&quot;code-snippet__name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;Netty å®ç°çš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayTaskExample&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;String[] args&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        NettyTask();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     * åŸºäº Netty çš„å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;NettyTask&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// åˆ›å»ºå»¶è¿Ÿä»»åŠ¡å®ä¾‹&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelTimer timer = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashedWheelTimer(&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ—¶é—´é—´éš”&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                TimeUnit.SECONDS,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__number&quot;&gt;100&lt;/span&gt;); &lt;span class=&quot;code-snippet__comment&quot;&gt;// æ—¶é—´è½®ä¸­çš„æ§½æ•°&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// åˆ›å»ºä¸€ä¸ªä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        TimerTask task = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; TimerTask() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            @&lt;span class=&quot;code-snippet__function&quot;&gt;Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;Timeout timeout&lt;/span&gt;) throws Exception&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ‰§è¡Œä»»åŠ¡&quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        &lt;span class=&quot;code-snippet__string&quot;&gt;&quot; ï¼Œæ‰§è¡Œæ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        };&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// å°†ä»»åŠ¡æ·»åŠ åˆ°å»¶è¿Ÿé˜Ÿåˆ—ä¸­&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timer.newTimeout(task, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;, TimeUnit.SECONDS);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºæ‰§è¡Œçš„ç»“æœä¸ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ç¨‹åºå¯åŠ¨æ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T10&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:16&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:23.033&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ‰§è¡Œä»»åŠ¡ ï¼Œæ‰§è¡Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T10&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:16&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:26.118&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;HashedWheelTimer æ˜¯ä½¿ç”¨å®šæ—¶è½®å®ç°çš„ï¼Œå®šæ—¶è½®å…¶å®å°±æ˜¯ä¸€ç§ç¯å‹çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªæ—¶é’Ÿï¼Œåˆ†æˆäº†è®¸å¤šæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­ä»£è¡¨ä¸€å®šçš„æ—¶é—´ï¼Œåœ¨è¿™ä¸ªæ ¼å­ä¸Šç”¨ä¸€ä¸ªé“¾è¡¨æ¥ä¿å­˜è¦æ‰§è¡Œçš„è¶…æ—¶ä»»åŠ¡ï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªæŒ‡é’ˆä¸€æ ¼ä¸€æ ¼çš„èµ°ï¼Œèµ°åˆ°é‚£ä¸ªæ ¼å­æ—¶å°±æ‰§è¡Œæ ¼å­å¯¹åº”çš„å»¶è¿Ÿä»»åŠ¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5205811138014528&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/HrWw6ZuXCsjJ5ZkIvjsIlossH2WTNtSJA2D4ELea2Kias5Ie6SugsBuWrHkC8GokGnRibBqRvZFGeaIuEPTEgBeA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;413&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;(å›¾ç‰‡æ¥æºäºç½‘ç»œ)&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šçš„å›¾ç‰‡å¯ä»¥ç†è§£ä¸ºï¼Œæ—¶é—´è½®å¤§å°ä¸º 8ï¼ŒæŸä¸ªæ—¶é—´è½¬ä¸€æ ¼ï¼ˆä¾‹å¦‚ 1sï¼‰ï¼Œæ¯æ ¼æŒ‡å‘ä¸€ä¸ªé“¾è¡¨ï¼Œä¿å­˜ç€å¾…æ‰§è¡Œçš„ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ7ã€8 MQ å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å¦‚æœä¸“é—¨å¼€å¯ä¸€ä¸ª MQ ä¸­é—´ä»¶æ¥æ‰§è¡Œå»¶è¿Ÿä»»åŠ¡ï¼Œå°±æœ‰ç‚¹æ€é¸¡ç”¨å®°ç‰›åˆ€èˆ¬çš„å¥¢ä¾ˆäº†ï¼Œä¸è¿‡å·²ç»æœ‰äº† MQ ç¯å¢ƒçš„è¯ï¼Œç”¨å®ƒæ¥å®ç°å»¶è¿Ÿä»»åŠ¡çš„è¯ï¼Œè¿˜æ˜¯å¯å–çš„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å‡ ä¹æ‰€æœ‰çš„ MQ ä¸­é—´ä»¶éƒ½å¯ä»¥å®ç°å»¶è¿Ÿä»»åŠ¡ï¼Œåœ¨è¿™é‡Œæ›´å‡†ç¡®çš„å«æ³•åº”è¯¥å«å»¶é˜Ÿåˆ—ã€‚æœ¬æ–‡å°±ä½¿ç”¨ RabbitMQ ä¸ºä¾‹ï¼Œæ¥çœ‹å®ƒæ˜¯å¦‚ä½•å®ç°å»¶è¿Ÿä»»åŠ¡çš„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;RabbitMQ å®ç°å»¶è¿Ÿé˜Ÿåˆ—çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é€šè¿‡æ¶ˆæ¯è¿‡æœŸåè¿›å…¥æ­»ä¿¡äº¤æ¢å™¨ï¼Œå†ç”±äº¤æ¢å™¨è½¬å‘åˆ°å»¶è¿Ÿæ¶ˆè´¹é˜Ÿåˆ—ï¼Œå®ç°å»¶è¿ŸåŠŸèƒ½ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ä½¿ç”¨ rabbitmq-delayed-message-exchange æ’ä»¶å®ç°å»¶è¿ŸåŠŸèƒ½ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ³¨æ„ï¼šå»¶è¿Ÿæ’ä»¶ rabbitmq-delayed-message-exchange æ˜¯åœ¨ RabbitMQ 3.5.7 åŠä»¥ä¸Šçš„ç‰ˆæœ¬æ‰æ”¯æŒçš„ï¼Œä¾èµ– Erlang/OPT 18.0 åŠä»¥ä¸Šè¿è¡Œç¯å¢ƒã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç”±äºä½¿ç”¨æ­»ä¿¡äº¤æ¢å™¨æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨ç¬¬äºŒç§å®ç°æ–¹å¼ rabbitmq-delayed-message-exchange æ’ä»¶çš„æ–¹å¼å®ç°å»¶è¿Ÿé˜Ÿåˆ—çš„åŠŸèƒ½ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½å¹¶å®‰è£… rabbitmq-delayed-message-exchange æ’ä»¶ï¼Œä¸‹è½½åœ°å€ï¼šhttp://www.rabbitmq.com/community-plugins.html&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é€‰æ‹©ç›¸åº”çš„å¯¹åº”çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œç„¶åæ‹·è´åˆ° RabbitMQ æœåŠ¡å™¨ç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤ rabbitmq-plugins enable rabbitmq_delayed_message_exchange å¼€å¯æ’ä»¶ï¼Œåœ¨ä½¿ç”¨å‘½ä»¤ rabbitmq-plugins list æŸ¥è¯¢å®‰è£…çš„æ‰€æœ‰æ’ä»¶ï¼Œå®‰è£…æˆåŠŸå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.37130801687763715&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJ5ZkIvjsIlossH2WTNtSJbwicYpVV6eFDmuW6bicqlz8Hu5sgNHebX2Uy5toiavDf1sicqsYOtGgzeA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;474&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ€åé‡å¯ RabbitMQ æœåŠ¡ï¼Œä½¿æ’ä»¶ç”Ÿæ•ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè¦é…ç½®æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; com.example.rabbitmq.mq.DirectConfig;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.core.*;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.annotation.Bean;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.annotation.Configuration;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.HashMap;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Map;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayedConfig&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; String QUEUE_NAME = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;delayed.goods.order&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; String EXCHANGE_NAME = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;delayedec&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; Queue &lt;span class=&quot;code-snippet__title&quot;&gt;queue&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Queue(DelayedConfig.QUEUE_NAME);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__comment&quot;&gt;// é…ç½®é»˜è®¤çš„äº¤æ¢æœº&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;CustomExchange &lt;span class=&quot;code-snippet__title&quot;&gt;customExchange&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Map&amp;lt;String, Object&amp;gt; args = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        args.put(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;x-delayed-type&quot;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;direct&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;//å‚æ•°äºŒä¸ºç±»å‹ï¼šå¿…é¡»æ˜¯x-delayed-message&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; CustomExchange(DelayedConfig.EXCHANGE_NAME, &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;x-delayed-message&quot;&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;false&lt;/span&gt;, args);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__comment&quot;&gt;// ç»‘å®šé˜Ÿåˆ—åˆ°äº¤æ¢å™¨&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;Binding &lt;span class=&quot;code-snippet__title&quot;&gt;binding&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Queue queue, CustomExchange exchange)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; BindingBuilder.bind(queue).to(exchange).with(DelayedConfig.QUEUE_NAME).noargs();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ç„¶åæ·»åŠ å¢åŠ æ¶ˆæ¯çš„ä»£ç ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.AmqpException;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.core.AmqpTemplate;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.core.Message;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.core.MessagePostProcessor;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.beans.factory.annotation.Autowired;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.stereotype.Component;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.text.SimpleDateFormat;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Date;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Component&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayedSender&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; AmqpTemplate rabbitTemplate;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(String msg)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SimpleDateFormat sf = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;yyyy-MM-dd HH:mm:ss&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;å‘é€æ—¶é—´ï¼š&quot;&lt;/span&gt; + sf.format(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Date()));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        rabbitTemplate.convertAndSend(DelayedConfig.EXCHANGE_NAME, DelayedConfig.QUEUE_NAME, msg, &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; MessagePostProcessor() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; Message &lt;span class=&quot;code-snippet__title&quot;&gt;postProcessMessage&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Message message)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; AmqpException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                message.getMessageProperties().setHeader(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;x-delay&quot;&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot;&gt;3000&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; message;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        });&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;å†æ·»åŠ æ¶ˆè´¹æ¶ˆæ¯çš„ä»£ç ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.rabbit.&lt;span class=&quot;code-snippet__keyword&quot;&gt;annotation&lt;/span&gt;.RabbitHandler;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.amqp.rabbit.&lt;span class=&quot;code-snippet__keyword&quot;&gt;annotation&lt;/span&gt;.RabbitListener;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.stereotype.Component;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.text.SimpleDateFormat;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Date;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Component&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@RabbitListener(queues = &lt;span class=&quot;code-snippet__meta-string&quot;&gt;&quot;delayed.goods.order&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayedReceiver&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@RabbitHandler&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; void process(String msg) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SimpleDateFormat sdf = new SimpleDateFormat(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;yyyy-MM-dd HH:mm:ss&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ¥æ”¶æ—¶é—´:&quot;&lt;/span&gt; + sdf.format(new Date()));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.&lt;span class=&quot;code-snippet__keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;æ¶ˆæ¯å†…å®¹ï¼š&quot;&lt;/span&gt; + msg);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ä»£ç æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;swift&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; com.example.rabbitmq.RabbitmqApplication;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; com.example.rabbitmq.mq.delayed.DelayedSender;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.junit.Test;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.junit.runner.RunWith;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.beans.factory.annotation.Autowired;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.boot.test.context.SpringBootTest;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.test.context.junit4.SpringRunner;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.text.SimpleDateFormat;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.util.Date;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;@&lt;span class=&quot;code-snippet__type&quot;&gt;RunWith&lt;/span&gt;(&lt;span class=&quot;code-snippet__type&quot;&gt;SpringRunner&lt;/span&gt;.&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;@&lt;span class=&quot;code-snippet__type&quot;&gt;SpringBootTest&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;DelayedTest&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    @&lt;span class=&quot;code-snippet__type&quot;&gt;Autowired&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__type&quot;&gt;DelayedSender&lt;/span&gt; sender;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    @&lt;span class=&quot;code-snippet__type&quot;&gt;Test&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; void &lt;span class=&quot;code-snippet__type&quot;&gt;Test&lt;/span&gt;() &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;code-snippet__type&quot;&gt;InterruptedException&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__type&quot;&gt;SimpleDateFormat&lt;/span&gt; sf = new &lt;span class=&quot;code-snippet__type&quot;&gt;SimpleDateFormat&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;yyyy-MM-dd&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        sender.send(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Hi Admin.&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__type&quot;&gt;Thread&lt;/span&gt;.sleep(&lt;span class=&quot;code-snippet__number&quot;&gt;5&lt;/span&gt; * &lt;span class=&quot;code-snippet__number&quot;&gt;1000&lt;/span&gt;); &lt;span class=&quot;code-snippet__comment&quot;&gt;//ç­‰å¾…æ¥æ”¶ç¨‹åºæ‰§è¡Œä¹‹åï¼Œå†é€€å‡ºæµ‹è¯•&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;å‘é€æ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:47&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:51&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ¥æ”¶æ—¶é—´&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:2020-04-13&lt;/span&gt; 20&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:47&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:54&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;æ¶ˆæ¯å†…å®¹ï¼š&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Hi&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Admin&lt;/span&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œä»¥ä¸Šç¨‹åºæ‰§è¡Œç¬¦åˆå»¶è¿Ÿä»»åŠ¡çš„å®ç°é¢„æœŸã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ9ã€ä½¿ç”¨Â SpringÂ å®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Spring æˆ– SpringBoot çš„é¡¹ç›®çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨å€ŸåŠ© Scheduled æ¥å®ç°ï¼Œæœ¬æ–‡å°†ä½¿ç”¨ SpringBoot é¡¹ç›®æ¥æ¼”ç¤º Scheduled çš„å®ç°ï¼Œå®ç°æˆ‘ä»¬éœ€è¦å£°æ˜å¼€å¯ Scheduledï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@SpringBootApplication&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@EnableScheduling&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Application&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SpringApplication.run(Application.class, args);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Â Â Â Â }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ç„¶åæ·»åŠ å»¶è¿Ÿä»»åŠ¡ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Component&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;ScheduleJobs&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Scheduled&lt;/span&gt;(fixedDelay = &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt; * &lt;span class=&quot;code-snippet__number&quot;&gt;1000&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;fixedDelayJob&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; InterruptedException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;æ­¤æ—¶å½“æˆ‘ä»¬å¯åŠ¨é¡¹ç›®ä¹‹åå°±å¯ä»¥çœ‹åˆ°ä»»åŠ¡ä»¥å»¶è¿Ÿäº† 2s çš„å½¢å¼ä¸€ç›´å¾ªç¯æ‰§è¡Œï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T14&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:07&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:53.349&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T14&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:07&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:55.350&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T14&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:07&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:57.351&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Corn è¡¨è¾¾å¼æ¥å®šä¹‰ä»»åŠ¡æ‰§è¡Œçš„é¢‘ç‡ï¼Œä¾‹å¦‚ä½¿ç”¨Â @Scheduled(cron = &quot;0/4 * * * * ?&quot;)Â ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ–¹æ¡ˆ10ã€Quartz å®ç°å»¶è¿Ÿä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Quartz æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ä»»åŠ¡è°ƒåº¦å™¨ï¼Œå¯ä»¥å®ç°è¾ƒä¸ºå¤æ‚çš„è°ƒåº¦åŠŸèƒ½ï¼Œå®ƒè¿˜æ”¯æŒåˆ†å¸ƒå¼çš„ä»»åŠ¡è°ƒåº¦ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬ä½¿ç”¨ Quartz æ¥å®ç°ä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªæ‰§è¡Œä»»åŠ¡ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.quartz.JobExecutionContext;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.quartz.JobExecutionException;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.scheduling.quartz.QuartzJobBean;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; java.time.LocalDateTime;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;SampleJob&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;QuartzJobBean&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;executeInternal&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(JobExecutionContext jobExecutionContext)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; JobExecutionException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        System.out.println(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š&quot;&lt;/span&gt; + LocalDateTime.now());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;åœ¨å®šä¹‰ä¸€ä¸ª JobDetail å’Œ Trigger å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.quartz.*;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.&lt;span class=&quot;code-snippet__keyword&quot;&gt;annotation&lt;/span&gt;.Bean;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.&lt;span class=&quot;code-snippet__keyword&quot;&gt;annotation&lt;/span&gt;.Configuration;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;SampleScheduler&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; JobDetail sampleJobDetail() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; JobBuilder.newJob(SampleJob.&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt;).withIdentity(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;sampleJob&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                .storeDurably().build();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; Trigger sampleJobTrigger() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// 3s åæ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        SimpleScheduleBuilder scheduleBuilder =&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;).withRepeatCount(&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; TriggerBuilder.newTrigger().forJob(sampleJobDetail()).withIdentity(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;sampleTrigger&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                .withSchedule(scheduleBuilder).build();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;æœ€ååœ¨ SpringBoot é¡¹ç›®å¯åŠ¨ä¹‹åå¼€å¯å»¶è¿Ÿä»»åŠ¡ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.beans.factory.annotation.Autowired;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.boot.CommandLineRunner;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; org.springframework.scheduling.quartz.SchedulerFactoryBean;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt; * SpringBoot é¡¹ç›®å¯åŠ¨åæ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;MyStartupRunner&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;CommandLineRunner&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; SchedulerFactoryBean schedulerFactoryBean;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; SampleScheduler sampleScheduler;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(String... args)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__comment&quot;&gt;// å¯åŠ¨å®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        schedulerFactoryBean.getScheduler().scheduleJob(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                sampleScheduler.sampleJobTrigger());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13&lt;/span&gt; 19&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:02&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:12.331&lt;/span&gt;  &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;INFO&lt;/span&gt; 17768 &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;---&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-attr&quot;&gt;[  restartedMain]&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.example&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.demo&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.DemoApplication&lt;/span&gt;         : &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Started&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;DemoApplication&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;in&lt;/span&gt; 1&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.815&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;seconds&lt;/span&gt; (&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;JVM&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;running&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;for&lt;/span&gt; 3&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.088&lt;/span&gt;) &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;ä»»åŠ¡æ‰§è¡Œï¼Œæ—¶é—´ï¼š2020&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;-04-13T19&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:02&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-pseudo&quot;&gt;:15.019&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä»ç»“æœå¯ä»¥çœ‹å‡ºåœ¨é¡¹ç›®å¯åŠ¨ 3s ä¹‹åæ‰§è¡Œäº†å»¶è¿Ÿä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ¬æ–‡è®²äº†å»¶è¿Ÿä»»åŠ¡çš„ä½¿ç”¨åœºæ™¯ï¼Œä»¥åŠå»¶è¿Ÿä»»åŠ¡çš„ 10 ç§å®ç°æ–¹å¼ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ‰‹åŠ¨æ— é™å¾ªç¯ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ScheduledExecutorServiceï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;DelayQueueï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Redis zset æ•°æ®åˆ¤æ–­çš„æ–¹å¼ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Redis é”®ç©ºé—´é€šçŸ¥çš„æ–¹å¼ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Netty æä¾›çš„ HashedWheelTimer å·¥å…·ç±»ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;RabbitMQ æ­»ä¿¡é˜Ÿåˆ—ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;RabbitMQ å»¶è¿Ÿæ¶ˆæ¯æ’ä»¶ rabbitmq-delayed-message-exchangeï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Spring Scheduledï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Quartzã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;- EOF -&lt;/span&gt;&lt;/p&gt;&lt;section donone=&quot;shifuMouseDownCard(&#x27;shifu_c_030&#x27;)&quot; label=&quot;Copyright Reserved by PLAYHUDONG.&quot;&gt;&lt;section&gt;&lt;span&gt;æ¨èé˜…è¯»&lt;/span&gt;Â Â &lt;span&gt;ç‚¹å‡»æ ‡é¢˜å¯è·³è½¬&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;1ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651515017&amp;amp;idx=1&amp;amp;sn=a290eb47d904f571a52ed0538dabf8e1&amp;amp;chksm=bd2584f68a520de01e5df6932e8ef341108b9b733b43ce79c090c99a35ac15eb373594f3ec9b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å»¶æ—¶æ¶ˆæ¯å¸¸è§å®ç°æ–¹æ¡ˆ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å»¶æ—¶æ¶ˆæ¯å¸¸è§å®ç°æ–¹æ¡ˆ&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651479415&amp;amp;idx=1&amp;amp;sn=1676ed0dcad2863036d54888e07c528f&amp;amp;chksm=bd2531088a52b81e2e44bb1fd75f42f237dc855d59b63486da770115103c5160bca4c98c19f0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;SpringBoot å®šæ—¶ä»»åŠ¡è¸©å‘è®°å½•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;SpringBoot å®šæ—¶ä»»åŠ¡è¸©å‘è®°å½•&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651479415&amp;amp;idx=1&amp;amp;sn=1676ed0dcad2863036d54888e07c528f&amp;amp;chksm=bd2531088a52b81e2e44bb1fd75f42f237dc855d59b63486da770115103c5160bca4c98c19f0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;SpringBoot å®šæ—¶ä»»åŠ¡è¸©å‘è®°å½•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651513303&amp;amp;idx=1&amp;amp;sn=f24b13d9d2ca23c8296f657ead20c6b5&amp;amp;chksm=bd258da88a5204be37a07c0078e6137ec0999421ebcf528ae86fccc32fc79d36628e35f811e0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å‡ ç§ç®€å•å®ç”¨çš„åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å‡ ç§ç®€å•å®ç”¨çš„åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ï¼&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çœ‹å®Œæœ¬æ–‡æœ‰æ”¶è·ï¼Ÿè¯·è½¬å‘åˆ†äº«ç»™æ›´å¤šäºº&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…³æ³¨ã€ŒImportNewã€ï¼Œæå‡JavaæŠ€èƒ½&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.9166666666666666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;600&quot; class=&quot;rich_pages wxw-img&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç‚¹èµå’Œåœ¨çœ‹å°±æ˜¯æœ€å¤§çš„æ”¯æŒâ¤ï¸&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>