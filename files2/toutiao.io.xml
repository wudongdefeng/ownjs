<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>c83bc6c2f7df1f3de40a0da9b055c770</guid>
<title>GPT-4 开启 “软件工程 3.0” 全新时代</title>
<link>https://toutiao.io/k/oa5wfaq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content              autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;strong&gt;&lt;span&gt;希望这篇文章 成为 “&lt;/span&gt;&lt;span&gt;软件工程3.0&lt;/span&gt;&lt;span&gt;” 开创性的宣言&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;为了定义 “软件工程3.0”，让我们先定义 “软件工程1.0”、 “软件工程2.0” 。先简单说明一下，用软件版本号的方式 “1.0、2.0、3.0” 来分别定义第一代、第二代、第三代 软件工程，符合软件工程的习惯，而且简洁明了。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. 软件工程 1.0&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.492537313432836&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;335&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FdWUkibJ6UThYcPjFTNryaIy28BricwJcHo62BFuACo8AS4R3zrlUfNE9QuWCibMWcyGpl04aAibbEf0Q/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;“软件工程1.0” 即第一代软件工程，自然是受建筑工程、水利工程等影响的传统软件工程，它的诞生可以追溯到1968年。在上个世纪五、六十年代软件出现危机，大家还记得布鲁克斯（Frederick P. Brooks）在《人月神话》一书中所描述的场景：软件开发被喻为让众多史前巨兽痛苦挣扎，却无力摆脱的焦油坑。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;软件危机迫使人们去寻找产生危机的内在原因，进而找出消除危机的解决方案。面对”软件危机”，人们调查研究了软件开发的实际情况，逐步认识到采用工程化的方法从事软件系统的研发和维护的必要性。为了克服这一危机，大家走到一起，共同探讨以获得问题的解决途径，于是在1968年NATO的计算机科学家在联邦德国召开国际会议，讨论软件危机问题，正式提出了“软件工程”（software engineering）这一术语，从此一门新的工程学科诞生了，软件工程才得以不断发展，逐渐成熟起来。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;传统软件工程主要向土木工程、工业工程学习，吸收其百年实践积累下来的实践方法和经验、沉淀下来的思想。&lt;strong&gt;软件工程1.0体现了下列一些特征：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;产品化&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：交付符合质量标准的组件、构件和系统&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;section&gt;&lt;section&gt;过程决定结果：&lt;/section&gt;&lt;/section&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;section&gt;&lt;section&gt;流&lt;/section&gt;&lt;/section&gt;&lt;section&gt;程质量决定产品质量，&lt;/section&gt;一环扣一环，相信良好的过程产生良好的产品，关注过程胜过关注人，&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;也非常关注过程评估和过程改进，如CMM（过程成熟度模型）是其典型代表。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;阶段性明确&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，需求评审通过了，才能开始设计；设计评审通过了，才能开始实施（编程），编程结束了再进行测试等，如瀑布模型&lt;span&gt;是其典型代表&lt;/span&gt;。&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;责任明确&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：角色定义清楚，分工细致；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;文档化&lt;/strong&gt;：强调规范的文档，大量的文档模板；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;计划性强&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：完整的计划，严格控制变更；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;建筑工程的框架结构设计，在软件工程上表现为以架构设计为中心。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;现代制造业流水线的启发——软件工厂思想。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;注重项目管理：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;围绕项目开展管理工作，包括风险预防、里程碑控制和关键路径法等。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;以顾客为中心的全面质量管理。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;预防为主，检验为辅，即缺陷预防思想。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;2. 软件工程 2.0&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;0.5583333333333333&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sokYB3I9hWPiaYfTnPcfvbUtPBhL8Vp8ljtWWYC878QESaunJ5GHibv4WQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;在2008年，我写的《软件工程导论》中，相对传统软件工程，我定义了现代软件工程，那时，我没能预见到今天人工智能的巨大力量。15年后，&lt;strong&gt;我将受互联网、开源软件运动、敏捷/DevOps开发模式所影响并最终形成的、建立在SaaS（软件即服务）、Cloud之上的软件工程定义为 “软件工程2.0”。&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;没有互联网（Internet），就没有Cloud、没有SaaS，我们对软件就不能部署在软件研发公司自己的数据中心，持续交付（CD）就没有意义，因为无法做到将包装盒形式的软件产品持续交付到客户手中，敏捷、DevOps也就难以实施，虽然可以在内部实现持续集成（CI），其价值会降低不少。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;开源软件运动让我们认识到 “软件过程”、“软件管理”不是非常重要，至少不是第一要素，第一要素还是人，其次是软件架构（微服务、serverless等）和代码质量，使软件容易演化（如架构可扩展性、代码的可维护性）。&lt;/span&gt;&lt;span&gt;而且客户或用户始终希望我们能够按时交付高质量的产品，又认可软件的灵活性，希望软件能够具有随需应变的能力，及时进行必要的修改来满足业务的新需求。同时，软件又是一种知识型产品，需要创造性，并依赖每个研发人员的创造力和积极性。所有这些引导人们新的思考，引导人们不断认识软件工程，从而在2001年17位软件开发轻量型流派掌门人联合签署了敏捷宣言：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5277777777777778&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;900&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FdhQuyGgnBpPPzWqwQDdPKAerPlB1ZAPtyRtJNZhCs9FNNIqkfkRRuMczfuj5Hmic8iamYF5m13gVicg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;之后逐渐形成了敏捷/DevOps开发模式、精益软件开发模式等，即让软件工程进入2.0时代。&lt;/span&gt;&lt;strong&gt;软件工程2.0的特征可以简单概括为下列几点：&lt;/strong&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong/&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;SaaS&lt;/strong&gt;（软件即服务）：软件更多是以一种服务存在；&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;以人为本：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;个体与协作胜于流程和工具，充分发挥个人和团队的创造性和潜力；&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;拥抱变化&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：敏捷开发或轻量级过程，加速迭代，以不变应万变。&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;持续性&lt;/strong&gt;：&lt;span&gt;阶段性不明确，持续构建、持续集成、持续测试、持续交付，以时间换空间，消除市场风险；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;融合&lt;/strong&gt;：强调测试开发融合，开发与运维融合，推崇全栈工程师等。&lt;/span&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;真正把用户放在第一位&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;：&lt;/span&gt;用户、产品经理尽可能参与团队研发过程中，注重用户体验，千人千面；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;强调价值交付：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;只做对用户有价值的事情，加速价值流的流动；&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;知识管理&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，将软件工程纳入知识管理的范畴。&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;史诗般故事、用户故事、站立会议，让软件研发工作更有趣、更健康。&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;......&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;3. 软件工程 3.0&lt;/strong&gt; &lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;752&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soEV68m81FQrVMHiaeZuoZVAALLlLYxhAnYgNibycA9uFKX2BNichAmRZyg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;在技术突破和创新方法的推动下，软件工程的世界发展越来越快，而最近的突破就是GPT-4等人工智能（AI）语言大模型的出现。GPT-4出来了，大家都很震惊，&lt;strong&gt;尤其惊讶于从GPT-3到GPT-4的进化速度&lt;/strong&gt;。GPT-4是一种基于RLHF(人类反馈强化学习) 、多模态的语言大模型，它比其前身GPT-3.5有了显著的改进，GPT-4具有强大的识图能力、&lt;span&gt;文字输入限制提升至 2.5 万字、回答准确性显著提高。&lt;span&gt;因此GPT-4&lt;/span&gt;能够执行一系列复杂的任务，如代码生成、错误检测、软件设计等。&lt;/span&gt;正如文章&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5ODczMDc1Mw==&amp;amp;mid=2651856251&amp;amp;idx=1&amp;amp;sn=9297d218f8e47fa0a78a2cb4f85d4ea4&amp;amp;chksm=bd22f0158a5579034d4b82eeac643c911e5fab0242596befac0785a59d99de757937591e21bf&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;谷歌工程主管：程序员的职业生涯将在 3 年内被AIGC终结&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;谷歌工程主管：程序员的职业生涯将在 3 年内被AIGC终结&lt;/a&gt;&lt;span&gt; 中的观点： “ChatGPT和GitHub Copilot预示着编程终结的开始”、“这个领域将发生根本性的变化”、“当程序员开始被淘汰时，只有两个角色可以保留：产品经理和代码评审人员。”...... 这篇文章是在GPT-4发布前写的，而GPT-4要强大多，所以对软件研发的影响更为显著。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;考虑到它的发展速度，在不久的将来，&lt;strong&gt;甚至从今天开始，&lt;/strong&gt;&lt;strong&gt;AI就开始逐渐接手一些软件研发的工作&lt;/strong&gt;，我们通过将GPT-4+&lt;/span&gt;&lt;span&gt;（指GPT-4及其未来升级的版本）&lt;/span&gt;&lt;span&gt;融入到软件研发生命周期中，研发人员的使命发生变化，GPT-4+重新定义了开发人员构建、维护和改进软件应用程序的方式，之后的软件开发会依赖这种全新的语言交流方式（类似chatGPT那样），让这类工具理解研发人员交待的任务、自主完成软件开发，如理解需求、自动生成UI、自动生成产品代码、自动生成测试脚本等。此后，&lt;/span&gt;&lt;span&gt;研发团队的主要任务不是写代码、执行测试，而是训练模型、参数调优、围绕业务主题提问或给提示（prompt）&lt;/span&gt;&lt;span&gt;。因此，&lt;/span&gt;&lt;strong&gt;&lt;span&gt;我们说GPT-4将开启 “软件工程3.0” 新时代，今年是软件工程3.0元年。&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;先看看 GPT-4自己是如何说的，但经过我简单的实验，它能做的事比它自己说的要多。&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2916666666666667&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8souHPefaibPENy0n5pWWlQujgJSq9JJDnsRfyoW2APp9oLONYtwM846PQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;下面，一方面我会展示GPT-4目前在软件研发所能做到的一些事情&lt;/span&gt;&lt;span&gt;（这里要感谢海外朋友Huan、Christina的帮助）&lt;/span&gt;&lt;span&gt;，然后我们再顺着这条思路想象一下软件工程3.0是怎样的一番景象：之前一些大厂有好几万的研发人员，未来只有几千人，但可以借助其强大的私有云平台，软件研发效能真正实现10倍增长，降本增效将不再是公司的核心问题（&lt;/span&gt;&lt;span&gt;因为已经得到解决了）&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1）GPT-4在需求分析上无所不能&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8776223776223776&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8so7DyF8wx1HamG8whkxdhSwP7W8XPCOial5aT3DXmz8PEJCRSfRvWyU7w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.3&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soqZh4FjxbHiajcibComej3aHQVLGlnquU8JZjFwSThKUB2pkrddPm1lrg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;1.3898148148148148&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soLEgmeCJicIPyWOem9NMR8GhsnS7YBbe56DwbmBFnqOVubwW5Zbq59sg/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;你觉得它吹牛吗？不，它可以基于我们简单的描述，帮我们完成基本功能分析，也可以基于需求生成验收标准、生成测试脚本，根据需求验收标准生成BDD（行为驱动开发）标准的Gven-When-Then格式。这一切有下图为证。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0279394644935973&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;859&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sotibpNBWia3PibfDYuG3g8V6Db5P1IQjNDr1f4egHO9ibZHjepKswThSxibA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7821782178217822&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;909&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sogTcgxdIvHia5ogicTNBWCuwunOxOIKJOJF9x0Qtt9zmdgPTWADut8ktg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6464864864864864&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;925&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soOVdj4lWXVwpDibkrciabaEVTUYWqtRwT1e4zlnxMRAVkxAgRn2JUyzpw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;1.469820554649266&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;613&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soQVllfsVjfF7yy8SadnDDiczVJxz9t1o4pq7U90PxTUGdaOuXd6KwQsw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2）软件设计与体系结构&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;GPT-4的强大功能扩展到软件设计和架构，可以帮助开发人员做出明智的决策并制定健壮的解决方案。通过处理所需应用程序的高级描述，GPT-4可以提出合适的设计模式，推荐最佳实践，甚至建议最佳的体系结构选择。此级别的指导使开发人员能够创建可伸缩、可维护和高效的软件解决方案，以满足他们的特定需求。此外，GPT-4可以促进不同设计选项的评估和比较，确保开发人员选择最合适的演化路径。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.375925925925926&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sotXeJUNL8lialnIm9UVFjhXBjclx804ms3AJro749x7J9a1PI90uibQDw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.3324074074074075&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soibDq4YyhvgnxHrY9sm0LSmB0zR6COt2VHYAa8ibL0ia9BqlfnAI694Ticw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9397590361445783&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;664&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soSiczV0uojmA1LPZ7MnntpBZ1PwQLNBwjC0HM5IJNzj6OJP68W8472Ag/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;（这部分实验目前不好做，后续再补充）&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;3）代码生成&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;GPT-4能根据自然语言输入的需求及其上下文而生成代码，而且可以用不同的编程语言生成相应的代码。这一强大的特性减少了人工编码所花费的时间和精力，并支持快速原型化和概念验证开发。此外，GPT-4能够生成代码段、api，甚至整个软件模块，使开发人员能够轻松地创建复杂的应用程序，甚至可以帮助我们按敏捷开发模式推崇的TDD来完成代码的实现&lt;/span&gt;&lt;span&gt;（周五会有单独文章介绍，敬请关注）&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9537037037037037&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soRke6CglMrSqPTsCh6ibKbS9l9qMcRWTB2KWz3YiaWh6ajv4fFBXujlibg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;（来自：https://www.youtube.com/watch?v=lomBKUojSIU，这类例子很多）&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;4）测试代码生成&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;感谢SauceLabs已经帮我完成这部分实验（&lt;/span&gt;&lt;span&gt;见文章：https://saucelabs.com/resources/blog/chatgpt-automated-testing-conversation-to-code&lt;/span&gt;&lt;span&gt;），我们可以让GPT-4生成Google站点测试的脚本。虽然提示中没有明确说明要在网站上测试什么，但ChatGPT仍然生成了一个脚本来测试谷歌网站的主要功能 之一“搜索功能”，甚至正确地识别了谷歌搜索栏的名称“q”。进一步，我们可以指示ChatGPT为元素定位器使用页面对象模型和类变量，指示ChatGPT可以生成与某工具平台（如Sauce Labs）兼容的测试脚本。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;740&quot; data-backw=&quot;414&quot; data-ratio=&quot;1.787962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soRTJGra1f04xnvaKGAZERVqgqKibVKovicVb4rzClItdGd9kESqpT0sLA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;更进一步，消除测试脚本中的硬编码（如URL、用户名“username”和密码“password”），从场景中的特性文件中获取变量，使脚本更容易维护，这时可以让ChatGPT修复这类问题。&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2.593167701863354&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;966&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8soGfa1QCTiaO8KcMdbSiaib9ESR6TzPZ2jAiaVDZ06AIFcoUYshKgT9sw1cw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5）&lt;strong&gt;&lt;span&gt;错误检测和解决&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;GPT-4在代码分析和理解方面的能力使其成为检测和解决软件应用程序错误的、有价值的工具。通过仔细检查代码片段和理解上下文，GPT-4可以识别错误，建议最佳解决方案，甚至为现有问题生成补丁。这种功能极大地加快了调试过程，并确保软件产品更加可靠和安全。此外，GPT-4可以与持续集成和持续部署(CI/CD)流水线集成，以增强自动化测试并促进无缝地持续交付软件。&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5818181818181818&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;880&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sotHFhqA3r2FKaYVWCoiceecfgERBqZUIJK0cOD6Z1JDevVgqPSG8qHJQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;6）协作和知识共享&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;在当今快节奏和相互关联的开发环境中，协作和知识共享比以往任何时候都更加重要。GPT-4通过在团队讨论、头脑风暴会议和代码审查期间提供实时帮助，形成会议纪要、总结，甚至理清楚逻辑，发现问题，提供有价值的见解，建议替代方法，甚至从其庞大的知识库中提供相关示例。这种人工智能驱动的协作提高了团队生产力，培养了持续学习的文化，并为创新铺平了道路。这类例子，可以在 &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5ODczMDc1Mw==&amp;amp;mid=2651856317&amp;amp;idx=1&amp;amp;sn=6781f0cd4f10e695e328da667ceeb28e&amp;amp;chksm=bd22f0d38a5579c5ae2dc9b91bd48ec6b63637573f4344a5d3bb725fb4eb0c32c8a6731af80d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;GPT-4 震撼发布：能看图、能当律师、更安全、更有创意... 超过了其它大模型&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;GPT-4 震撼发布：能看图、能当律师、更安全、更有创意... 超过了其它大模型&lt;/a&gt; 一文中找到。&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;结语&lt;/strong&gt; &lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2777777777777778&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FfzIdEd7kQ2LIz3icUjlY8sodanOT7VZPUf5iaPFzPd4NPicq9ONBhia4icbAjK5Mo4Pwth0reHLibLpSOw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;总之，GPT-4+的引入，从而支持更智能、更高效和协作的开发方法，使软件工程领域发生革命性的变化。当我们进入软件工程3.0时，软件开发的范式将发生很大的变化，软件研发人员的工作方式发生变化，对软件人员的要求更多体现在对业务的深度理解、系统性思维、逻辑思维等方面。&lt;strong&gt;软件工程 3.0的&lt;strong&gt;体现了下列一些特征：&lt;/strong&gt;&lt;/strong&gt;&lt;strong/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;数字化：&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;软件研发平台开始能够理解需求、设计、代码等，软件研发从过去的信息化进入数字化时代；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;AIGC&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;：生成软件（software）的各种ware：&lt;/span&gt;验收标准、测试用例、&lt;span&gt;UI、代码、测试脚本等；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;极致的持续交付&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：虽然软件工程2.0开始面向CI/CD，但还存在许多障碍，而在软件工程3.0，得益于设计、代码、测试脚本等生成，可以真正实现持续交付，即及时响应客户需求，交付客户所需的功能特性；&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;人机交互智能：&lt;/strong&gt;软件研发过程就是人与计算机的交互过程；&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;以模型和数据为本&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：研发人员服务于大模型和大数据平台，包括模型创建、训练、调优、使用等；&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;......&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.41759259259259257&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/CMOUUEcN8FdhQuyGgnBpPPzWqwQDdPKAJVfLtWhdicpvkpkTJCqxzv0ic0oJqzDL6RufEGtc60iaCiaWS11rSP1cBA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;通过利用GPT-4+的力量，同时解决安全、法律、伦理等方面的问题和挑战，软件工程的未来将是光明和创新的。&lt;/span&gt;&lt;/section&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot;&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section class=&quot;js_underline_content&quot;&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;往期推荐：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p draggable=&quot;true&quot;&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;技术琐话 &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;以分布式设计、架构、体系思想为基础，兼论研发相关的点点滴滴，不限于代码、质量体系和研发管理。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;custom_select_card mp_profile_iframe&quot; data-id=&quot;MzIxMzEzMjM5NQ==&quot; data-pluginname=&quot;mpprofile&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/nhlGsolibOWF3auwD2unWLZHOt6TeCJ1iboL4Po7ickwKsibk7WgicbkOxG7wibMw8ZsSMQtDpR9D3OsF2RKibxKN00Xg/0?wx_fmt=png&quot; data-nickname=&quot;技术琐话&quot; data-alias=&quot;TheoryPractice&quot; data-signature=&quot;最干货的分布式技术公众号，范围包括大数据/运维/Java/人工智能，兼及研发管理。本号专家阵容：蚂蚁金服右军、NETSTARS CTO陈斌、江苏百瑞赢CTO李伟山、某互联网公司技术总监老G先生、前蚂蚁金服高级技术专家张翔等。&quot; data-from=&quot;2&quot; data-index=&quot;0&quot; data-origin_num=&quot;301&quot; data-isban=&quot;0&quot; data-weuitheme=&quot;light&quot; data-weui-theme=&quot;light&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>b10134f43ff7622f2654637e262d39d0</guid>
<title>提高工作效率，这 10 款 AI 工具不能错过！</title>
<link>https://toutiao.io/k/xubhu0u</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为一个职场打工人，我深知时间和效率的重要性。正是因为如此，我开始使用各种人工智能工具来帮助我提高工作效率。在这篇文章中，我将会分享 10 款必备的 AI 工具，这些工具可以让你的工作更加高效，从而为你节省更多的时间和精力。&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzA5MjU0NzQ3Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGmAqlVO4OuAP8MpyhiaLibAQCibVgAbSiaAfcDQMViaibjzMPYM2OWvEh0vbSe9xkLqbUqoFAam5M7Kdtbw/0?wx_fmt=png&quot; data-nickname=&quot;AI 工具派&quot; data-alias=&quot;AI-Tools-Master&quot; data-signature=&quot;探索最新AI工具，发现AI带来的无限可能性！&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1. ChatGPT&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 ChatGPT 是最近特别火爆的一款 AI 工具，它能够通过理解和学习人类的语言来进行对话，还能根据聊天的上下文进行互动，真正像人类一样来聊天交流，甚至能完成撰写邮件、视频脚本、文案、翻译、代码，写论文等任务。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其用途的边界仍然在广泛拓展中，特别是最近新出了 GPT-4、插件等等，完全值得我们期待、研究和使用。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://chat.openai.com/chat&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZLrUIcIBSv9ic1brbQXWY1aPzuHa2eRkHPZ68mZDTk0Ys5sltJeBlmkg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2. Midjourney&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 Midjourney 是一个由 Midjourney 研究实验室开发的人工智能程序，它可以根据你输入的文本智能生成图片，当然你也可以使用使用图片去生成与该图片类似的图片（图生图）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Midjourney 最近也是火 🔥 得一塌糊涂，特别是结合上 ChatGPT，可以说是非常强大，读者有兴趣的话以试一下让 ChatGPT 写一段 Midjourney 提示语，准确率非常高。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://www.midjourney.com/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4935185185185185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZod4AX4BfX3Dre2rFdicMDLU3DWNFXefSxFAnAMpOibR7bB1iakMcHsUBw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7851851851851852&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZaMBCA43mkY0XicA1Ycu9icfqvVwe0Iag4o2v6qxKhM1f8qTnG0YYVEpQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7222222222222222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZh0bxmoZibUHJSXsSj3xZ3JnSccAYD0ajC09r4xMFWr3vpWMR5QgQzfQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3. Writesonic&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 Writesonic 是一个人工智能作家，它可以以 10 倍的速度为您的博客、广告、电子邮件和网站创建 SEO 优化且无抄袭的内容。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://writesonic.com/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.38425925925925924&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZibJGlbz9YXayOlQYgmrgqB8K0n8oyRYDJcTGej9QqmNL9gNlt2vdbicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4703703703703704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZb2VrP4bb7YaAQZ27aE1kgweUa2icwSO2MlCbOOBqeibmgP26oN3eLR1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;4. remove.bg&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 使用 remove.bg 智能 AI 工具，您只需轻点一下，就可以在 5 秒钟内完全自动地去除背景。这将为您节省大量编辑时间，同时增加更多的乐趣。remove.bg 支持通过上传图片、拖拽图片和粘贴图片地址的方式选择图片进行处理。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://www.remove.bg/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4925925925925926&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZ9z21aiabVIUP6gibOdIvvrkeYE9R3Hnibl49vHpSQhPLM5a3412yicOJWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4675925925925926&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZjLH8rX2MHkbocsg7ooMdmuaIyRQ8nfKy20CewVibxLgpAWbZiaibFFCtQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4064814814814815&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZZmeOg9X3ZiaSug89DCfTW7YqemRhs9WTibTw9twJK3uVC2l1aQKHZGrA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;5. beauiful.ai&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 beautiful.ai 提供了大量智能 PPT 模版，您可以自由选择模版，轻松生成您的 PPT，让您可以在几分钟内创建专业 PPT，而不是几个小时。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;终于可以不再为 PPT 模版而烦恼了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://www.beautiful.ai/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4935185185185185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZWreTrYyd0L4nVL96H2KqLHoAf3mtIYgRcJTatJ351jfznH9jMcm89g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.40370370370370373&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZx8CpyC54ticjib9ukaq6hoEknRpicPRFzImqewKe5tmhl6ibicPibIibsmDSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;6. Galileo AI&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 Galileo AI 是一个生成式人工智能，它只需要您输入一个文本提示，即可生成令人惊叹、完全可编辑的 UI 设计，使您能够以超乎想象的速度进行设计。此外，它还提供许多由人工智能生成的插图和图像，供您添加到您的产品中。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://www.usegalileo.ai/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5296296296296297&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZc0EWfkkFhHfV2ZqwEaBavI0vJmkaY1ibgnan94AugtqNGia1f3PqfJ5Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5231481481481481&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZDYgzJSia8mfU1b17zRIgrLyicloFowhPtGtrcu6cEA4yicXibJQN965Ssg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5842592592592593&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZlGBACAqWU2ypQpfBm8f1rnHVibH9HEjlxnRpc3nHjDdYIibTH9aHNVHQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;7. Excel Formula Bot&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 Excel Formula Bot 借助 AI 能力，让您几秒钟内快速将文本指令转化为 Excel 公式，帮助您解决所有电子表格问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://excelformulabot.com/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3416666666666667&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZK0icdxHC78ug9W6N2PRAwdUfDVMm5s1lpcHiaIicic1iaaft9BWJ8X8HX5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4888888888888889&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZg7SvEH4iaW1kB3nxicX3oFzfRyNpL3lJmFKelEHnHXp1ibiaHEYZOvNDSQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4740740740740741&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZBKZRrOmGZhWVvHuQ40SBicXFdypibAFgGoBK2U4d2ibsVnA0815pphXicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;8. Auto Draw&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 AutoDraw 是一种来自谷歌创意实验室的完全免费的 AI 智能自动绘图工具。它将机器学习与天才艺术家的画作配对，帮助每个人快速创建任何视觉效果。并且它可以在任何地方使用：手机、平板电脑、笔记本电脑、台式机等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;AutoDraw 对于绘画手残党来说，简直是神器，只要您在 AutoDraw 上绘制好草图，AutoDraw 会自动猜测您绘制的内容，并提供几十种可能的结果，您只需要选择即可使用，效果非常不错。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://www.autodraw.com/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.45&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZiaicOeGpAO2okXPHbVYR2dwibWF699icqazu1iacNS6Y5QZzknGyUibwkCUQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.48703703703703705&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZd4a3Dag5yficJhwkzf31P4AP1uQWaSBnaicUziceNcOO32M9utwgEDH3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;9. TLDR-this&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 TLDR 可帮助您将任何一段文本总结为简洁、易于理解的内容。将自己从信息过载中解放出来。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有了 TLDR-this，再也不担心一大段文本理解起来费劲的问题了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://tldrthis.com/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5083333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZpFxjA3TLBLFoW2GV6XUfaAZPrKSxJ5POYRhupTp86BGgbMyhuicibwMA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5296296296296297&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZOuGKgUnjb1mEq6eF54eLf3BQ6dtOy6zhYtnjQUuicBe7bekFh4VMyicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6046296296296296&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZI7FPFNxZwbwGN5D8KlWj0icOibrmr7lPM1eWc9vRTcVGDgOIiaI8tfryQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;10. Fliki&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;📝 Fliki 可以将文本转换为带有 AI 语音短视频，您可以在 1 分钟内用人工智能的声音创建音频和视频内容。有了 Fliki，您就可以将您的博客文章或任何基于文本的内容转换成视频、播客或有声读物的配音。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;🔗 https://fliki.ai/&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5101851851851852&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZVb6QgRrHdYFOfAwXGkic4zUWrAqR026PfT89mUH4ibdm93YaYkIBU8tQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5296296296296297&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZ1iakgw6OiaqGcY0vyhBrXR1JuwibGljMJAmKxFQib1773feibn7s1ricSdCg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.49444444444444446&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGnaMhr6wwAvEibR0MJlA7yZZoTdVNPlyibLia2ibav5seqQ844Bmv4vd56ov35KUkYObib05pM2xo40dKA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为一位长期使用 AI 工具的用户，我强烈推荐您尝试这些工具。它们可以为您带来许多便利和效率，同时还能够帮助您更好地完成任务。总之，这些 AI 工具是任何一个职场人士必备的利器，如果你还没有开始使用它们，现在就是时候了。让我们一起提高工作效率，更好地迎接未来的挑战。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里是 AI 工具派，探索最新 AI 工具，发现 AI 带来的无限可能性！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果您觉得分享的内容不错，希望您能点击“&lt;strong&gt;分享&lt;/strong&gt;”、“&lt;strong&gt;收藏&lt;/strong&gt;”、“&lt;strong&gt;赞&lt;/strong&gt;”、“&lt;strong&gt;在看&lt;/strong&gt;”，让更多人能够用 AI 帮助自己。&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzA5MjU0NzQ3Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/4ONtZwRRHGmAqlVO4OuAP8MpyhiaLibAQCibVgAbSiaAfcDQMViaibjzMPYM2OWvEh0vbSe9xkLqbUqoFAam5M7Kdtbw/0?wx_fmt=png&quot; data-nickname=&quot;AI 工具派&quot; data-alias=&quot;AI-Tools-Master&quot; data-signature=&quot;探索最新AI工具，发现AI带来的无限可能性！&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>71e27e7ef17094d44345968cd4c2cea3</guid>
<title>开发一个新服务，然后用 prometheus 监控，居然如此简单</title>
<link>https://toutiao.io/k/2n2cu3x</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content              autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mp-common-profile&quot; data-from=&quot;0&quot; data-id=&quot;MzAwOTU4NzM5Ng==&quot; data-alias=&quot;yudadanwx&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugwID68icb2oFcuc8rPmySWAHaWnQsQD8ax6PxocJ6nruWaMfxoarXh1eicga9ENlQrUPFTh8LFeEX7w/0?wx_fmt=png&quot; data-nickname=&quot;虞大胆的叽叽喳喳&quot; data-signature=&quot;《深入浅出HTTPS：从原理到实战》作者。&quot; data-weuitheme=&quot;light&quot; data-weui-theme=&quot;light&quot;/&gt;&lt;/section&gt;&lt;p&gt;最近几天写了好几篇prometheus的文章，除了日志监控，也要对服务本身的运行状况进行观测和监控，实际上prometheus和grafana能轻松解决这些问题，这篇文章就聊下大概的操作步骤。&lt;/p&gt;&lt;p&gt;1：暴露指标端点，现在很多框架都已经集成了prometheus，所以添加非常简单，比如go-zero在yaml中配置：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Prometheus:&lt;br/&gt;  Host: 127.0.0.1&lt;br/&gt;  Port: 9091&lt;br/&gt;  Path: /metrics&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2：添加target&lt;/p&gt;&lt;p&gt;然后在prometheus添加target，用于pull端点数据：&lt;/p&gt;&lt;pre&gt;&lt;code&gt;- job_name: &#x27;example&#x27;&lt;br/&gt;  static_configs:&lt;br/&gt;  - targets: [&#x27;:9191&#x27;] &lt;br/&gt;    labels:&lt;br/&gt;      app: &quot;ai&quot;&lt;br/&gt;      job: &quot;api&quot; &lt;br/&gt;  - targets: [&#x27;:9192&#x27;]&lt;br/&gt;    labels:&lt;br/&gt;      app: &quot;ai&quot;&lt;br/&gt;      job: &quot;rpc&quot;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;可以为不同的指标设置不一样的label，用于筛选。&lt;/p&gt;&lt;p&gt;3：查看指标&lt;/p&gt;&lt;p&gt;可以在prometheus webUI查看对应服务指标，判断服务是否启动的指标就是up。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.93058568329718&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;461&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugylfB9IB2PkYoGuvYZjUiaz8dxPptecmeicWbXia300kiccCL62gmOCqLA0Wkoprnc7fCAl251vpiaoQiag/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;在UI界面也可以查看所有的targets（Status -&amp;gt; Targets）。&lt;/p&gt;&lt;p&gt;4：监控&lt;/p&gt;&lt;p&gt;接下去在grafana上设置一些看板，聚合监控指标，比如：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.49548387096774194&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;775&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugylfB9IB2PkYoGuvYZjUiaz8996ia8dhyBEZHGc47k2yFvcdM3xntBwJszQMUepwOiaeiaUicx48sAXO9g/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;根据service分组，查看某个服务一共启动了多少个（比如在3台服务器上启动服务，就应该是3），如果发现不是3就报警，配置如下：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.43317972350230416&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;868&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugylfB9IB2PkYoGuvYZjUiaz8e39ia3icwUIE41Lfc567eDS0dJP6SmlicK0dyraMf5oyiatfcWb7ap0qEw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;5：其他日志指标&lt;/p&gt;&lt;p&gt;端点中还包含了一些其他指标，也可以在grafana配置。&lt;/p&gt;&lt;p&gt;首先配置job（可以自定义），这样就可以在dashboard筛选，做法就是在dashboard seting选项配置，选择数据源，用到了label_values Query，比如下图：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6094182825484764&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;722&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugylfB9IB2PkYoGuvYZjUiaz84icWdexUyBGMIXibmgSAicx9u9g50BvffLmoExDFrBOTHCcR41AFBNoSQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;然后就可以设置自定义的query了，比如：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.2661795407098121&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;958&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5Wib5Wh04ugylfB9IB2PkYoGuvYZjUiaz83fibshQicrYtND3a8ibXpVqQ4HRwvbicxicOjGmVXVFPqRyxMB6oQ6gxRiaQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;根据请求的code、path分组，看看一分钟某个job一共有多少个请求。&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1391fcad105cc93be0e23dd9c6abb55b</guid>
<title>【云原生 • Docker】cAdvisor+Prometheus+Grafana 10 分钟搞定 Docker 容器监控平台</title>
<link>https://toutiao.io/k/2vk2vum</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;10分钟搞定Docker容器监控平台&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;cAdvisor(Container Advisor)&lt;/code&gt; 是 &lt;code&gt;Google&lt;/code&gt; 开源的一个容器监控工具，可用于对容器资源的使用情况和性能进行监控。用于收集、聚合、处理和导出正在运行容器的有关信息。具体来说，该组件对每个容器都会记录其资源隔离参数、历史资源使用情况、完整历史资源使用情况的直方图和网络统计信息。&lt;code&gt;cAdvisor&lt;/code&gt; 本身就对 &lt;code&gt;Docker&lt;/code&gt; 容器支持，并且还对其它类型的容器尽可能的提供支持，力求兼容与适配所有类型的容器。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;由以上介绍我们可以知道，&lt;code&gt;cAdvisor&lt;/code&gt; 是用于监控容器引擎的，由于其监控的实用性，&lt;code&gt;Kubernetes&lt;/code&gt; 已经默认将其与 &lt;code&gt;Kubelet&lt;/code&gt; 融合作为容器监控指标的默认工具，所以，对于云原生集群直接使用 &lt;code&gt;Kubelet&lt;/code&gt; 组件提供的指标采集地址即可。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;cAdvisor部署&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1、使用以下命令安装启动&lt;code&gt;cAdvisor组件&lt;/code&gt;：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;docker run \&lt;br/&gt;  --volume=/:/rootfs:ro \&lt;br/&gt;  --volume=/var/run:/var/run:ro \&lt;br/&gt;  --volume=/sys:/sys:ro \&lt;br/&gt;  --volume=/var/lib/docker/:/var/lib/docker:ro \&lt;br/&gt;  --volume=/dev/disk/:/dev/disk:ro \&lt;br/&gt;  --publish=8080:8080 \&lt;br/&gt;  --detach=&lt;span&gt;true&lt;/span&gt; \&lt;br/&gt;  --name=cadvisor \&lt;br/&gt;  --privileged \&lt;br/&gt;  --device=/dev/kmsg \&lt;br/&gt;  google/cadvisor:latest&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2、此时，&lt;code&gt;cAdvisor组件&lt;/code&gt;已经启动，我们可以使用浏览器访问 &lt;code&gt;http://自己IP地址:8080&lt;/code&gt; 访问到&lt;code&gt;cAdvisor组件&lt;/code&gt;的&lt;code&gt;Web UI&lt;/code&gt;：&lt;/p&gt;&lt;img data-ratio=&quot;0.8722222222222222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXE6NLN9rLXX3djVITGqniaZsm8smfLia4YJcnhn6NicyVGsrTP6rSNUeJSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img data-ratio=&quot;0.8555555555555555&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXES8icceKUsXZfFyR2p6dPicjh3zRNAXwo5HJNxcHQ4LT3iblyFm1owUrqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;img data-ratio=&quot;0.7583333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEYxSNOU7N7rZgmQCBMBywBCRWHvMykWDlp2iccYACDbpQOWPRCBS4E9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3、而在多主机的情况下，在所有节点上运行一个&lt;code&gt;cAdvisor&lt;/code&gt;再通过各自的&lt;code&gt;Web UI&lt;/code&gt;查看监控信息显然不太方便，同时&lt;code&gt;cAdvisor&lt;/code&gt;默认只保存2分钟的监控数据。好消息是&lt;code&gt;cAdvisor&lt;/code&gt;已经内置了对&lt;code&gt;Prometheus&lt;/code&gt;的支持。访问&lt;code&gt;http://自己的IP地址:8080/metrics&lt;/code&gt;即可获取到标准的&lt;code&gt;Prometheus&lt;/code&gt;监控样本输出:&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.6203703703703703&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEqd3uM16HK6YMC4KmYRtBKkYXx96EuvrbN7kD4JK6NlALhoKt97bCFA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;4、下面表格中列举了一些&lt;code&gt;cAdvisor&lt;/code&gt;中获取到的典型监控指标：&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;指标名称&lt;/th&gt;&lt;th&gt;类型&lt;/th&gt;&lt;th&gt;含义&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;container_cpu_load_average_10s&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;过去10秒容器CPU的平均负载&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_cpu_usage_seconds_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;容器在每个CPU内核上的累积占用时间 (单位：秒)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_cpu_system_seconds_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;System CPU累积占用时间（单位：秒）&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_cpu_user_seconds_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;User CPU累积占用时间（单位：秒）&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_fs_usage_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;容器中文件系统的使用量(单位：字节)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_fs_limit_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;容器可以使用的文件系统总量(单位：字节)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_fs_reads_bytes_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;容器累积读取数据的总量(单位：字节)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_fs_writes_bytes_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;容器累积写入数据的总量(单位：字节)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_memory_max_usage_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;容器的最大内存使用量（单位：字节）&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_memory_usage_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;容器当前的内存使用量（单位：字节&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_spec_memory_limit_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;容器的内存使用量限制&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;machine_memory_bytes&lt;/td&gt;&lt;td&gt;gauge&lt;/td&gt;&lt;td&gt;当前主机的内存总量&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_network_receive_bytes_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;容器网络累积接收数据总量（单位：字节）&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;container_network_transmit_bytes_total&lt;/td&gt;&lt;td&gt;counter&lt;/td&gt;&lt;td&gt;容器网络累积传输数据总量（单位：字节）&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Prometheus部署&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1、创建&lt;code&gt;prometheus&lt;/code&gt;存储数据外挂目录，避免容器重启丢失：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;mkdir -p /disk/docker-monitor/prometheus/data&lt;br/&gt;chmod 777 /disk/docker-monitor/prometheus/data&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2、prometheus配置文件外挂出来，方便修改，&lt;code&gt;vi /disk/docker-monitor/prometheus/prometheus.yml&lt;/code&gt;：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;global:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;scrape_interval:&lt;/span&gt; &lt;span&gt;15s&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;evaluation_interval:&lt;/span&gt; &lt;span&gt;15s&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;&lt;span&gt;alerting:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;alertmanagers:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;-&lt;/span&gt; &lt;span&gt;static_configs:&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;-&lt;/span&gt; &lt;span&gt;targets:&lt;/span&gt;&lt;br/&gt;          &lt;span&gt;# - alertmanager:9093&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;rule_files:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;-&lt;/span&gt; &lt;span&gt;rule/record/*.yml&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;scrape_configs:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;-&lt;/span&gt; &lt;span&gt;job_name:&lt;/span&gt; &lt;span&gt;&quot;prometheus&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;static_configs:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;targets:&lt;/span&gt; &lt;span&gt;[&quot;localhost:9090&quot;]&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;-&lt;/span&gt; &lt;span&gt;job_name:&lt;/span&gt; &lt;span&gt;&quot;cadvisor&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;static_configs:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;targets:&lt;/span&gt; &lt;span&gt;[&quot;124.222.45.207:8080&quot;]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;❝&lt;/span&gt;&lt;p&gt;job_name: &quot;prometheus&quot;配置抓取Prometheus自身相关指标；&lt;/p&gt;&lt;p&gt;job_name: &quot;cadvisor&quot;配置抓取之前配置的cAdvisor组件指标。&lt;/p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3、&lt;code&gt;Docker&lt;/code&gt;部署&lt;code&gt;Prometheus&lt;/code&gt;：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;docker run -d -p 9090:9090 --name prometheus \&lt;br/&gt;    -v /disk/docker-monitor/prometheus/conf:/opt/bitnami/prometheus/conf \&lt;br/&gt;    -v /disk/docker-monitor/prometheus/data:/opt/bitnami/prometheus/data \&lt;br/&gt;    bitnami/prometheus:2.42.0 \&lt;br/&gt;    --web.enable-lifecycle --web.enable-admin-api\&lt;br/&gt;    --config.file=/opt/bitnami/prometheus/conf/prometheus.yml\&lt;br/&gt;    --storage.tsdb.path=/opt/bitnami/prometheus/data&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;❝&lt;/span&gt;&lt;p&gt;--web.enable-lifecycle --web.enable-admin-api提供rest api接口方式管理prometheus，比如配置热加载：curl -XPOST http://localhost:9090/-/reload。&lt;/p&gt;&lt;p&gt;注意：这里将prometheus配置文件和存储目录外挂出来，避免容器重启后数据丢失。&lt;/p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;4、&lt;code&gt;Prometheus&lt;/code&gt;启动完成后，浏览器访问：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img data-ratio=&quot;0.22037037037037038&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEabn2piayRyQNhib3mECbZ4ibrFrvlKHFQgflKQibwgoXUeZvBEh5Mmn3Aw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;访问&lt;code&gt;Status -&amp;gt; Targets&lt;/code&gt;页面，发现配置的两个抓取&lt;code&gt;Job&lt;/code&gt;已经显示，并且&lt;code&gt;State&lt;/code&gt;是绿色&lt;code&gt;UP&lt;/code&gt;，则接入成功。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;5、当能够正常采集到&lt;code&gt;cAdvisor&lt;/code&gt;的样本数据后，可以通过以下表达式计算容器的&lt;code&gt;CPU使用率&lt;/code&gt;：&lt;code&gt;sum(irate(container_cpu_usage_seconds_total{image!=&quot;&quot;}[1m])) without (cpu)&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.32685185185185184&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEsLw9M6tRfUl7EBZhrFOz6QCVO90ibICTDIzsDCjD0xyykeXWeo21d8Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;Grafana部署&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;1、部署&lt;code&gt;Grafana&lt;/code&gt;：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;docker run -d --name=grafana -p 3000:3000 -v grafana:/var/lib/grafana grafana/grafana&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;❝&lt;/span&gt;&lt;p&gt;/var/lib/grafana路径外挂出来，该目录存储Grafana插件、数据信息，避免Docker容器重启数据丢失。&lt;/p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2、访问：&lt;code&gt;http://自己的IP:3000/login&lt;/code&gt;，输入账号&lt;code&gt;admin/admin&lt;/code&gt;：&lt;/p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9898148148148148&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXE7GrRLClenuyqQezrgdb2cj6mfpIDJhSTpkd1o9a6YEDmWaxP8BGvibw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;3、创建&lt;code&gt;Prometheus&lt;/code&gt;类型数据源，指向刚才搭建的&lt;code&gt;Prometheus&lt;/code&gt;：&lt;/p&gt;&lt;img data-ratio=&quot;1.2083333333333333&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEffNs9yniawHT5UkuBFMTTwP35MbSSVg00yq5qeYj4D2sxkloSheicj4g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;4、导入&lt;code&gt;Docker&lt;/code&gt;容器监控面板，这里使用&lt;code&gt;11277&lt;/code&gt;：&lt;/p&gt;&lt;img data-ratio=&quot;1.2896935933147633&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEtSia4HP3w4nJ9DzqVweKWw03UQibHXUSib8ibnP766EeC6EEayXWxpElTg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;359&quot;/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;5、监控面板就可以看到&lt;code&gt;Docker&lt;/code&gt;容器运行情况，如下图，当前运行中容器有4个，总占用内存&lt;code&gt;319MB&lt;/code&gt;，总&lt;code&gt;CPU使用率&lt;/code&gt;大概1.84%，并以曲线方式展示每个容器的&lt;code&gt;CPU使用率&lt;/code&gt;、内存使用率、网络IO和磁盘IO等。&lt;/p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.44814814814814813&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb12DctDb725KKbia06o7NyXEaXa7ChyicBXE99RNMPj7Z84wPhwz5LMDBqcAtkHgNIEs9puVtibSUAQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>84d5616052bac89292d8a5f8d758bd50</guid>
<title>为什么你的抓包工具抓不到 baidu 的数据包</title>
<link>https://toutiao.io/k/2okijkr</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content              autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;最近，有位读者问起一个奇怪的事情，他说他想抓一个&lt;code&gt;baidu.com&lt;/code&gt;的数据包，体验下看包的乐趣。&lt;/p&gt;&lt;p&gt;但却发现“&lt;strong&gt;抓不到&lt;/strong&gt;”，这就有些奇怪了。&lt;/p&gt;&lt;p&gt;我来还原下他的操作步骤。&lt;/p&gt;&lt;p&gt;首先，通过&lt;code&gt;ping&lt;/code&gt;命令，获得访问百度时会请求哪个IP。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; ping baidu.com&lt;br/&gt;PING baidu.com (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;) &lt;span&gt;56&lt;/span&gt;(&lt;span&gt;84&lt;/span&gt;) bytes of &lt;span&gt;data&lt;/span&gt;.&lt;br/&gt;&lt;span&gt;64&lt;/span&gt; bytes from &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt; (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;): icmp_seq=&lt;span&gt;1&lt;/span&gt; ttl=&lt;span&gt;49&lt;/span&gt; time=&lt;span&gt;30.6&lt;/span&gt; ms&lt;br/&gt;&lt;span&gt;64&lt;/span&gt; bytes from &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt; (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;): icmp_seq=&lt;span&gt;2&lt;/span&gt; ttl=&lt;span&gt;49&lt;/span&gt; time=&lt;span&gt;30.6&lt;/span&gt; ms&lt;br/&gt;&lt;span&gt;64&lt;/span&gt; bytes from &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt; (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;): icmp_seq=&lt;span&gt;3&lt;/span&gt; ttl=&lt;span&gt;49&lt;/span&gt; time=&lt;span&gt;30.6&lt;/span&gt; ms&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;从上面的结果可以知道请求&lt;code&gt;baidu.com&lt;/code&gt;时会去访问&lt;code&gt;39.156.66.10&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;于是用下面的&lt;code&gt;tcpdump&lt;/code&gt;命令进行抓包，大概的意思是抓&lt;code&gt;eth0&lt;/code&gt;网卡且&lt;code&gt;ip&lt;/code&gt;为&lt;code&gt;39.156.66.10&lt;/code&gt;的网络包，保存到&lt;code&gt;baidu.pcap&lt;/code&gt;文件中。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; tcpdump &lt;span&gt;-i&lt;/span&gt; eth0 host &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt; &lt;span&gt;-w&lt;/span&gt; baidu.pcap&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;此时在浏览器中打开&lt;code&gt;baidu.com&lt;/code&gt;网页。或者在另外一个命令行窗口，直接用&lt;code&gt;curl&lt;/code&gt;命令来模拟下。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; &lt;span&gt;curl&lt;/span&gt; &lt;span&gt;&#x27;https://baidu.com&#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;按理说，&lt;strong&gt;访问baidu.com的数据包肯定已经抓下来了&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;然后停止抓包。&lt;/p&gt;&lt;p&gt;再用&lt;code&gt;wireshark&lt;/code&gt;打开&lt;code&gt;baidu.pcap&lt;/code&gt;文件，在过滤那一栏里输入&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;此时发现，一无所获。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22037037037037038&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCr3fo1ukjOibqXStCMs21EqsCvzzH7kB9CoKDwgLZl5IK8XKhahxuibGg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;在wireshark中搜索baidu的包，发现一无所获&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;这是为啥？&lt;/p&gt;&lt;p&gt;到这里，有经验的小伙伴，其实已经知道问题出在哪里了。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;为什么没能抓到包&lt;/h2&gt;&lt;p&gt;这其实是因为他访问的是HTTPS协议的baidu.com。HTTP协议里的Host和实际发送的request body都会被加密。&lt;/p&gt;&lt;p&gt;正因为被加密了，所以没办法通过&lt;code&gt;http.host&lt;/code&gt;进行过滤。&lt;/p&gt;&lt;p&gt;但是。&lt;/p&gt;&lt;p&gt;虽然加密了，如果想筛选还是可以筛的。&lt;/p&gt;&lt;p&gt;HTTPS握手中的Client Hello阶段，里面有个扩展&lt;code&gt;server_name&lt;/code&gt;，会记录你想访问的是哪个网站，通过下面的筛选条件可以将它过滤出来。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;  tls.handshake.extensions_server_name == &lt;span&gt;&quot;baidu.com&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.9055555555555556&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCggGplcUjOW6NAIv3untzR7kM4T1U5ggxia4Qkh5WMj5Agd4xWd1CrHQ/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;通过tls的扩展server_name可以搜索到baidu的包&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;此时选中其中一个包，点击右键，选中&lt;code&gt;Follow-TCP Stream&lt;/code&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4398148148148148&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCnVkRwxOibusnLUe2DBZsyeqRIicoue0vPYyNuibVvQEEqsYNmZJZ5JR9w/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;右键找到tcp 流&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;这个TCP连接的其他相关报文全都能被展示出来。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6685185185185185&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCibXOKeaPF230PzQIfuJianK8JVJ9OwMY81zZicoicKOICz6nGZUo39Ra9g/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;HTTPS抓包&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;从截图可以看出，这里面完整经历了&lt;strong&gt;TCP握手&lt;/strong&gt;和&lt;strong&gt;TLS加密握手&lt;/strong&gt;流程，之后就是&lt;strong&gt;两段加密信息&lt;/strong&gt;和&lt;strong&gt;TCP挥手流程&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;可以看出18号和20号包，一个是从端口56028发到443，一个是443到56028的回包。&lt;/p&gt;&lt;p&gt;一般来说，像&lt;code&gt;56028&lt;/code&gt;这种比较大且没啥规律的数字，都是&lt;strong&gt;客户端随机生成的端口号&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;而&lt;code&gt;443&lt;/code&gt;，则是HTTPS的服务器端口号。&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;HTTP用的是80端口，如果此时对着80端口抓包，也会抓不到数据。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;粗略判断，18号和20号包分别是客户端请求&lt;code&gt;baidu.com&lt;/code&gt;的请求包和响应包。&lt;/p&gt;&lt;p&gt;点进去看会发现&lt;strong&gt;URL和body都被加密了&lt;/strong&gt;，一无所获。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;那么问题就来了。有没有办法解密里面的数据呢？&lt;/p&gt;&lt;p&gt;有办法。我们来看下怎么做。&lt;/p&gt;&lt;h2&gt;解密数据包&lt;/h2&gt;&lt;p&gt;还是先执行tcpdump抓包&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; tcpdump &lt;span&gt;-i&lt;/span&gt; eth0 host &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt; &lt;span&gt;-w&lt;/span&gt; baidu.pcap&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后在另外一个命令行窗口下执行下面的命令，&lt;strong&gt;目的是将加密的key导出，并给出对应的导出地址&lt;/strong&gt;是&lt;code&gt;/Users/xiaobaidebug/ssl.key&lt;/code&gt;。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; export SSLKEYLOGFILE=/Users/xiaobaidebug/ssl.key&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后在同一个命令行窗口下，继续执行curl命令或用命令行打开chrome浏览器。&lt;strong&gt;目的是为了让curl或chrome继承这个环境变量。&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt; &lt;span&gt;curl&lt;/span&gt; &lt;span&gt;&#x27;https://baidu.com&#x27;&lt;/span&gt;&lt;br/&gt;或者&lt;br/&gt;&lt;span&gt;$&lt;/span&gt; open &lt;span&gt;-a&lt;/span&gt; Google\ Chrome &lt;span&gt;#在mac里打开chrome浏览器&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;此时会看到在&lt;code&gt;/Users/xiaobaidebug/&lt;/code&gt;下会多了一个&lt;code&gt;ssl.key&lt;/code&gt;文件。&lt;/p&gt;&lt;p&gt;这时候跟着下面的操作修改&lt;code&gt;wireshark&lt;/code&gt;的配置项。&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.6606741573033708&quot; data-type=&quot;png&quot; data-w=&quot;890&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwC27aib4vvXUvPuLkkqSuRqzBEKjjU6ibbwqfibc0e1KD4atHhvdmFLicxvg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;打开wireshark的配置项&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;找到Protocols之后，使劲往下翻，找到&lt;code&gt;TLS&lt;/code&gt;那一项。&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.4777777777777778&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCY1AOFH9El2xntd1s7qfQsTlVASdJDwVHORL3nic04H68oiaD3pfQibsaw/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;在配置项中找到Protocols&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;将导出的&lt;code&gt;ssl.key&lt;/code&gt;文件路径输入到这里头。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5879629629629629&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCQhUsUMicGdmK4kQ6tz8GOgp7KdyGIdVxQg3QmhW0j3iaaH6w7Sz7Y2UQ/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;在Protocols中找到TLS那一栏&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;点击确定后，就能看到&lt;strong&gt;18号和20号数据包已经被解密&lt;/strong&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6546296296296297&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwClnA4gzqhPtiaVkMssKkCMvkEa1WVWJGbQhSpUK6AibyUly3WchXJOoRQ/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;解密后的数据包内容&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;此时再用&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;，就能过滤出数据了。&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.22962962962962963&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCUoQ8olJPPMWUEep0TpTFHLlND4xgCiaibDs9k1CmGqrzRick0UBOPYmgg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;解密后的数据包中可以过滤出baidu的数据包&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;到这里，其实&lt;strong&gt;看不了数据包的问题&lt;/strong&gt;就解决了。&lt;/p&gt;&lt;p&gt;但是，新的问题又来了。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ssl.key文件是个啥？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;这就要从HTTPS的加密原理说起了。&lt;/p&gt;&lt;h3&gt;HTTPS握手过程&lt;/h3&gt;&lt;p&gt;HTTPS的握手过程比较繁琐，我们来回顾下。&lt;/p&gt;&lt;p&gt;先是建立TCP连接，毕竟HTTP是基于TCP的应用层协议。&lt;/p&gt;&lt;p&gt;在TCP成功建立完协议后，就可以开始进入HTTPS阶段。&lt;/p&gt;&lt;p&gt;HTTPS可以用TLS或者SSL啥的进行加密，下面我们以&lt;code&gt;TLS1.2&lt;/code&gt;为例。&lt;/p&gt;&lt;p&gt;总的来说。整个加密流程其实分为&lt;strong&gt;两阶段&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第一阶段&lt;/strong&gt;是TLS四次握手，这一阶段主要是利用&lt;strong&gt;非对称加密&lt;/strong&gt;的特性各种交换信息，最后得到一个&quot;会话秘钥&quot;。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第二阶段&lt;/strong&gt;是则是在第一阶段的&quot;会话秘钥&quot;基础上，进行&lt;strong&gt;对称加密&lt;/strong&gt;通信。&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;1.1879629629629629&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCbaBD1Rgd5WGSPFKxwm3MjIGMCbXEiczk8cib8j7o0Jktl3kgWB2OwfjA/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;TLS四次握手&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;我们先来看下第一阶段的TLS四次握手是怎么样的。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第一次握手&lt;/strong&gt;：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第二次握手&lt;/strong&gt;：&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第三次握手&lt;/strong&gt;：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;• &lt;code&gt;Client Key Exchange&lt;/code&gt;: 此时客户端再生成&lt;strong&gt;一个随机数&lt;/strong&gt;，叫 &lt;code&gt;pre_master_key &lt;/code&gt;。从第二次握手的&lt;strong&gt;服务器证书&lt;/strong&gt;里取出服务器公钥，用公钥加密 &lt;code&gt;pre_master_key&lt;/code&gt;，发给服务器。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• &lt;code&gt;Change Cipher Spec&lt;/code&gt;: 客户端这边&lt;strong&gt;已经拥有三个随机数&lt;/strong&gt;：客户端随机数，服务器随机数和pre_master_key，用这三个随机数进行计算得到一个&quot;&lt;strong&gt;会话秘钥&lt;/strong&gt;&quot;。此时客户端通知服务端，后面会用这个会话秘钥进行对称机密通信。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• &lt;code&gt;Encrypted Handshake Message&lt;/code&gt;：客户端会把迄今为止的通信数据内容生成一个摘要，用&quot;&lt;strong&gt;会话秘钥&lt;/strong&gt;&quot;加密一下，发给服务器做校验，此时客户端这边的握手流程就结束了，因此也叫&lt;strong&gt;Finished报文&lt;/strong&gt;。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;第四次握手&lt;/strong&gt;：&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;• &lt;code&gt;Change Cipher Spec&lt;/code&gt;：服务端此时拿到客户端传来的 &lt;code&gt;pre_master_key&lt;/code&gt;（虽然被服务器公钥加密过，但服务器有私钥，能解密获得原文），集齐三个随机数，跟客户端一样，用这三个随机数通过同样的算法获得一个&quot;&lt;strong&gt;会话秘钥&lt;/strong&gt;&quot;。此时服务器告诉客户端，后面会用这个&quot;会话秘钥&quot;进行加密通信。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• &lt;code&gt;Encrypted Handshake Message&lt;/code&gt;：跟客户端的操作一样，将迄今为止的通信数据内容生成一个摘要，用&quot;&lt;strong&gt;会话秘钥&lt;/strong&gt;&quot;加密一下，发给客户端做校验，到这里，服务端的握手流程也结束了，因此这也叫&lt;strong&gt;Finished报文&lt;/strong&gt;。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;四次握手中，客户端和服务端最后都拥有&lt;strong&gt;三个随机数&lt;/strong&gt;，他们很关键，我特地加粗了表示。&lt;/p&gt;&lt;p&gt;第一次握手，产生的客户端随机数，叫&lt;code&gt;client random&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;第二次握手时，服务器也会产生一个服务器随机数，叫&lt;code&gt;server random&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;第三次握手时，客户端还会产生一个随机数，叫&lt;code&gt;pre_master_key&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;这三个随机数共同构成最终的&lt;strong&gt;对称加密秘钥&lt;/strong&gt;，也就是上面提到的&quot;&lt;strong&gt;会话秘钥&lt;/strong&gt;&quot;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2777777777777778&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCibY2A20oUu6XuKFnWvHYqcia7XKxb8iaNRzsE7Lb7uv2VJCX6p4d1PtSw/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;三个随机数生成对称秘钥&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;你可以简单的认为，&lt;strong&gt;只要知道这三个随机数，你就能破解HTTPS通信。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;而这三个随机数中，&lt;code&gt;client random&lt;/code&gt; 和 &lt;code&gt;server random&lt;/code&gt; 都是&lt;strong&gt;明文&lt;/strong&gt;的，谁都能知道。&lt;strong&gt;而&lt;code&gt;pre_master_key&lt;/code&gt;却不行，它被服务器的公钥加密过，只有客户端自己，和拥有对应服务器私钥的人能知道。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;所以问题就变成了，&lt;strong&gt;怎么才能得到这个&lt;code&gt;pre_master_key&lt;/code&gt;？&lt;/strong&gt;&lt;/p&gt;&lt;h2&gt;怎么得到pre_master_key&lt;/h2&gt;&lt;p&gt;服务器私钥不是谁都能拿到的，所以问题就变成了，&lt;strong&gt;有没有办法从客户端那拿到这个&lt;code&gt;pre_master_key&lt;/code&gt;。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;有的。&lt;/p&gt;&lt;p&gt;客户端在使用HTTPS与服务端进行数据传输时，是需要先基于TCP建立HTTP连接，然后再调用客户端侧的TLS库（OpenSSL、NSS）。触发TLS四次握手。&lt;/p&gt;&lt;p&gt;这时候如果加入环境变量SSLKEYLOGFILE就可以干预TLS库的行为，让它输出一份含有&lt;code&gt;pre_master_key&lt;/code&gt;的文件。这个文件就是我们上面提到的&lt;code&gt;/Users/xiaobaidebug/ssl.key&lt;/code&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5296296296296297&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwC48iahhIISwRmdLbZsMeoek4FHkZomIIdnozia5EMsVh2unjNpyEkM1Sg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;将环境变量注入到curl和chrome中&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;但是，虽然TLS库支持导出key文件。但前提也是，上层的应用程序在调用TLS库的时候，支持通过&lt;code&gt;SSLKEYLOGFILE&lt;/code&gt;环境触发TLS库导出文件。实际上，也&lt;strong&gt;并不是所有应用程序都支持将SSLKEYLOGFILE&lt;/strong&gt;。只是目前常见的curl和chrome浏览器都是支持的。&lt;/p&gt;&lt;h2&gt;SSLKEYLOGFILE文件内容&lt;/h2&gt;&lt;p&gt;再回过头来看&lt;code&gt;ssl.key&lt;/code&gt;文件里的内容。&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;# SSL/TLS secrets log file, generated by NSS&lt;/span&gt;&lt;br/&gt;CLIENT_RANDOM &lt;span&gt;5709&lt;/span&gt;aef8ba36a8eeac72bd6f970a74f7533172c52be41b200ca9b91354bd662b &lt;span&gt;09&lt;/span&gt;d156a5e6c0d246549f6265e73bda72f0d6ee81032eaaa0bac9bea362090800174e0effc93b93c2ffa50cd8a715b0f0&lt;br/&gt;CLIENT_RANDOM &lt;span&gt;57&lt;/span&gt;d269386549a4cec7f91158d85ca1376a060ef5a6c2ace04658fe88aec48776 &lt;span&gt;48&lt;/span&gt;c16429d362bea157719da5641e2f3f13b0b3fee2695ef2b7cdc71c61958d22414e599c676ca96bbdb30eca49eb488a&lt;br/&gt;CLIENT_RANDOM &lt;span&gt;5&lt;/span&gt;fca0f2835cbb5e248d7b3e75180b2b3aff000929e33e5bacf5f5a4bff63bbe5 &lt;span&gt;424&lt;/span&gt;e1fcfff35e76d5bf88f21d6c361ee7a9d32cb8f2c60649135fd9b66d569d8c4add6c9d521e148c63977b7a95e8fe8&lt;br/&gt;CLIENT_RANDOM be610cb1053e6f3a01aa3b88bc9e8c77a708ae4b0f953b2063ca5f925d673140 c26e3cf83513a830af3d3401241e1bc4fdda187f98ad5ef9e14cae71b0ddec85812a81d793d6ec934b9dcdefa84bdcf3&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这里有三列。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;第一列&lt;/strong&gt;是CLIENT_RANDOM，意思是接下来的&lt;strong&gt;第二列&lt;/strong&gt;就是&lt;strong&gt;客户端随机数&lt;/strong&gt;，再接下来的&lt;strong&gt;第三列&lt;/strong&gt;则是&lt;code&gt;pre_master_key&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;但是问题又来了。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;这么多行，wireshark怎么知道用哪行的pre_master_key呢？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;wireshark&lt;/code&gt;是可以获得数据报文上的&lt;code&gt;client random&lt;/code&gt;的。&lt;/p&gt;&lt;p&gt;比如下图这样。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6851851851851852&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCOYzB4M6qFotOibQGxsMOa6rQMRR90ic1hDvDmvkv1QuM4PwABMDsvG2Q/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;Client Hello 里的客户端随机数&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;注意上面的客户端随机数是以 &lt;code&gt;&quot;bff63bbe5&quot;&lt;/code&gt;结尾的。&lt;/p&gt;&lt;p&gt;同样，还能在数据报文里拿到&lt;strong&gt;server random&lt;/strong&gt;。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7638888888888888&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCTRrKwUrAlNcWd39GBKYMlc6mzkU61dUEnCsvSVvcY52ETWrsiaKFLIQ/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;找到server random&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;此时将&lt;code&gt;client random&lt;/code&gt;放到ssl.key的第二列里挨个去做匹配。&lt;/p&gt;&lt;p&gt;就能找到对应的那一行记录。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15833333333333333&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCS1Od4bgLkMv2XTotWCL6R0LiabBpvYSTF7tLVBO2KicOcoyX6rRBN2wg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;ssl.key里的数据&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;注意第二列的那串字符串，也是以 &lt;code&gt;&quot;bff63bbe5&quot;&lt;/code&gt;结尾的，它其实就是前面提到的&lt;code&gt;client random&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;再取出这一行的&lt;strong&gt;第三列&lt;/strong&gt;数据，就是我们想要的&lt;code&gt;pre_master_key&lt;/code&gt;。&lt;/p&gt;&lt;p&gt;那么这时候&lt;code&gt;wireshark&lt;/code&gt;就集齐了三个随机数，此时就可以计算得到&lt;strong&gt;会话秘钥&lt;/strong&gt;，通过它对数据进行解密了。&lt;/p&gt;&lt;p&gt;反过来，正因为需要客户端随机数，才能定位到&lt;code&gt;ssl.key&lt;/code&gt;文件里对应的&lt;code&gt;pre_master_key&lt;/code&gt;是哪一个。而只有TLS第一次握手（&lt;code&gt;client hello&lt;/code&gt;）的时候才会有这个随机数，所以如果你想用解密HTTPS包，就必须将TLS四次握手能抓齐，才能进行解密。如果连接早已经建立了，数据都来回传好半天了，这时候你再去抓包，是没办法解密的。&lt;/p&gt;&lt;h2&gt;总结&lt;/h2&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;• 文章开头通过抓包baidu的数据包，展示了用wireshark抓包的简单操作流程。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• HTTPS会对HTTP的URL和Request Body都进行加密，因此直接在&lt;code&gt;filter栏&lt;/code&gt;进行过滤&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;会一无所获。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• HTTPS握手的过程中会先通过非对称机密去交换各种信息，其中就包括3个随机数，再通过这三个随机数去生成对称机密的会话秘钥，后续使用这个会话秘钥去进行对称加密通信。如果能获得这三个随机数就能解密HTTPS的加密数据包。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• 三个随机数，分别是客户端随机数（client random），服务端随机数（server random）以及pre_master_key。前两个，是明文，第三个是被服务器公钥加密过的，在客户端侧需要通过SSLKEYLOGFILE去导出。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;• 通过设置SSLKEYLOGFILE环境变量，再让curl或chrome会请求HTTPS域名，会让它们在调用TLS库的同时导出对应的sslkey文件。这个文件里包含了三列，其中最重要的是第二列的client random信息以及第三列的pre_master_key。第二列client random用于定位，第三列pre_master_key用于解密。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;参考资料&lt;/h2&gt;&lt;p&gt;极客时间 -《网络排查案例课》&lt;/p&gt;&lt;h2&gt;最后&lt;/h2&gt;&lt;p&gt;&lt;span&gt;别说了，一起在知识的海洋里呛水吧&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weuitheme=&quot;light&quot; data-id=&quot;Mzg5NDY2MDk4Mw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIianpibeb1icaNfMQWI9DibKw3EcA2nvqMtwQ1GuX5bFuupzh6LaH1AkOZggtabj6t0mXvgIGibhwUYCz4w/0?wx_fmt=png&quot; data-nickname=&quot;小白debug&quot; data-alias=&quot;xiaobaidebug&quot; data-signature=&quot;答应我，关注之后，好好学技术，别只是收藏我的表情包。。&quot; data-from=&quot;0&quot; data-weui-theme=&quot;light&quot;/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;扫码关注公众号「网管叨bi叨」&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0188679245283019&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;318&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f4icJbGAQ8RjXUUVdUZsGADuMBVWePgn7tfrWjjHyc6b8kXTQ7Sdkp0QQFFK4mel5tniczqooMna1CA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;给网管个星标，第一时间吸我的知识 👆&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;网管整理了一本《Go 开发参考书》收集了70多条开发实践。去公众号回复【gocookbook】领取！还有一本《k8s 入门实践》讲解了常用软件在K8s上的部署过程，公众号回复【k8s&lt;/span&gt;&lt;span&gt;】即可领取！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;觉得有用就点个在看&lt;/span&gt;&lt;span&gt;  👇👇👇&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>