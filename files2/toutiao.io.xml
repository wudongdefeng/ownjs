<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>32e1debb9db748550ac2bc7edd1935b1</guid>
<title>OpenResty å®ç°é™æµ</title>
<link>https://toutiao.io/k/syxnrph</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰é™æµçš„è§£å†³æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œä»åˆ†å¸ƒå¼è§’åº¦æ¥çœ‹ï¼Œé™æµå¯åˆ†ä¸ºåˆ†å¸ƒå¼é™æµï¼ˆæ¯”å¦‚åŸºäºSentinelæˆ–è€… Redisçš„é›†ç¾¤é™æµï¼‰å’Œå•æœºé™æµã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ç®—æ³•å®ç°è§’åº¦æ¥çœ‹ï¼Œé™æµç®—æ³•å¯åˆ†ä¸ºè®¡æ•°å™¨ç®—æ³•ã€æ»‘åŠ¨æ—¶é—´çª—å£ç®—æ³•ã€æ¼æ¡¶ç®—æ³•ã€ä»¤ç‰Œæ¡¶ç®—æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•åœ¨Nginxä¸­å¢åŠ æµæ§åŠŸèƒ½ï¼ŒåŸå› æ˜¯è€ƒè™‘åˆ°nginxçš„å¹¿æ³›ä½¿ç”¨ä¸”åŸºäºæµé‡çš„å…¥å£ä½ç½®ï¼Œè¶Šæ—©æ‹¦æˆªå¯¹åé¢ç³»ç»Ÿçš„å‹åŠ›è¶Šå°ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹nginx&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„WebæœåŠ¡å™¨ã€åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”±äºå®ƒçš„å†…å­˜å ç”¨å°‘ï¼Œå¯åŠ¨æå¿«ï¼Œé«˜å¹¶å‘èƒ½åŠ›å¼ºï¼Œåœ¨äº’è”ç½‘é¡¹ç›®ä¸­å¹¿æ³›åº”ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Nginxå¯ä»¥åšçš„äº‹æƒ…å¾ˆå¤šï¼Œå½’çº³èµ·æ¥ä¸»è¦æœ‰å››å—ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€åå‘ä»£ç†&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æ¥æ”¶Internetä¸Šçš„è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™Internetä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€è´Ÿè½½å‡è¡¡&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å°†å¤§é‡çš„ç”¨æˆ·è¯·æ±‚æŒ‰ç…§ä¸€å®šçš„è´Ÿè½½ç­–ç•¥åˆ†æ‘Šè½¬å‘ç»™å†…éƒ¨çš„æœåŠ¡å™¨ã€‚è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰ï¼šè½®è¯¢ï¼ˆé»˜è®¤ï¼‰ã€weightã€ip_hashã€fairï¼ˆç¬¬ä¸‰æ–¹ï¼‰ã€url_hashï¼ˆç¬¬ä¸‰æ–¹ï¼‰&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€HTTPæœåŠ¡å™¨&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;Nginxæœ¬èº«æ˜¯ä¸€ä¸ªé™æ€èµ„æºçš„æœåŠ¡å™¨ï¼Œå¯¹é™æ€èµ„æºç¼“å­˜ï¼Œæå‡æ€§èƒ½ã€‚ä¹Ÿå¯ä»¥å®è¡ŒåŠ¨é™åˆ†ç¦»ï¼Œå°†åŠ¨æ€è¯·æ±‚è½¬å‘ç»™åå°æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€æ­£å‘ä»£ç†&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä¸ºäº†å®‰å…¨é™åˆ¶ï¼Œæœ‰äº›å†…éƒ¨æœåŠ¡å™¨ä¸å…è®¸ç›´æ¥è®¿é—®å¤–ç½‘ï¼Œéœ€è¦å°†è¯·æ±‚è½¬å‘åˆ°ä»£ç†æœºï¼Œå†ç”±ä»£ç†æœºè®¿é—®internetã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é‚£ä¹ˆï¼ŒNginx å¦‚ä½•åšåˆ°é«˜å¹¶å‘ä¸‹çš„é«˜æ•ˆå¤„ç†ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;ç°åœ¨çš„è½¯ä»¶ç³»ç»Ÿä¸€èˆ¬é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œè·¨æœåŠ¡å™¨è¯·æ±‚äº§ç”Ÿäº†å¤§é‡çš„ç½‘ç»œIOï¼Œè€ŒIOç­‰å¾…ä¸¥é‡å½±å“ç³»ç»Ÿååé‡&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Nginxé‡‡ç”¨å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ï¼ŒLinuxçš„epollæ¨¡å‹åŸºäºäº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œå®ƒå¯ä»¥ç›‘æ§å¤šä¸ªäº‹ä»¶æ˜¯å¦å‡†å¤‡å°±ç»ªï¼Œå¦‚æœOKï¼Œé‚£ä¹ˆæ”¾å…¥epollé˜Ÿåˆ—ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ã€‚workeråªéœ€è¦ä»epollé˜Ÿåˆ—å¾ªç¯å¤„ç†å³å¯ã€‚å®˜æ–¹æµ‹è¯•ç»“æœï¼Œå•å°èƒ½å¤Ÿæ”¯æŒäº”ä¸‡ä¸ªå¹¶è¡Œè¿æ¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Nginxé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ‰©å±•æ€§å¥½ï¼Œä½†ç”±äºé‡‡ç”¨Cè¯­è¨€ï¼Œæ¶‰åŠå¤§é‡çš„é€šä¿¡åè®®ï¼Œå¼€å‘ç¯å¢ƒå¤æ‚ï¼Œé—¨æ§›è¾ƒé«˜ã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ç®€å•çš„è„šæœ¬è¯­è¨€å°±å¯ä»¥å®ç°å„ç§å®šåˆ¶åŒ–åŠŸèƒ½ï¼Œå¹¶èƒ½æ–¹ä¾¿çš„é›†æˆåˆ° Nginxä¸­ï¼ŒOpenResty æ˜¯ä¸ªä¸é”™é€‰æ‹©ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸‹è¿™ä¸ªæ¡†æ¶&lt;/code&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ğŸŒ´ é¦–å…ˆï¼Œäº†è§£ä¸‹OpenResty&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenResty æ˜¯ä¸€ä¸ªåŸºäº Nginx ä¸ Lua çš„é«˜æ€§èƒ½ Web æœåŠ¡å™¨ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ã€‚æ–¹ä¾¿æ­å»ºæ”¯æŒé«˜å¹¶å‘ã€é«˜æ‰©å±•æ€§çš„åŠ¨æ€ Web æœåŠ¡å’Œç½‘å…³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒ…å« Nginxã€ngx_luaã€LuaJIT 2.0/2.1 (æˆ–è€…å¯é€‰çš„æ ‡å‡† Lua 5.1è§£é‡Šå™¨)ï¼Œè¿˜åŒ…å«å¾ˆå¤šå¼ºåŠ²ã€å¥½ç”¨çš„ Nginx æ¨¡å—ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;OpenResty ä½¿ç”¨ Lua ç¼–ç¨‹è¯­è¨€å¯¹ Nginx æ ¸å¿ƒä»¥åŠå„ç§ Nginx C æ¨¡å—è¿›è¡Œè„šæœ¬ç¼–ç¨‹ï¼Œå¯ä»¥å¤„ç†ä¸€ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚ã€‚é€‰æ‹©OpenRestyï¼Œæ—¢æ‹¥æœ‰è„šæœ¬è¯­è¨€çš„å¼€å‘æ•ˆç‡ï¼Œä»¥åŠ Nginx é«˜å¹¶å‘ä¼˜åŠ¿ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;OpenResty ç°åœ¨æ˜¯å…¨çƒæ’åç¬¬ä¸‰çš„ Web æœåŠ¡å™¨ï¼Œç”±äºå°†Nginxæ‰©å±•æˆåŠ¨æ€æœåŠ¡å™¨ï¼Œå‘å±•åŠ¿å¤´å¾ˆçŒ›ã€‚æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„ 12306 çš„ä½™ç¥¨æŸ¥è¯¢åŠŸèƒ½ï¼Œæˆ–è€…æ˜¯äº¬ä¸œçš„å•†å“è¯¦æƒ…é¡µï¼Œè¿™äº›é«˜æµé‡çš„èƒŒåï¼Œå…¶å®éƒ½æ˜¯ OpenResty åœ¨é»˜é»˜åœ°æä¾›æœåŠ¡ã€‚OpenResty æœ€æ“…é•¿çš„æ˜¯éƒ¨ç½²åœ¨æµé‡å…¥å£å¤„ï¼Œå¤„ç†å„ç§é«˜å¹¶å‘æµé‡ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.60234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3Ohm6WHibeXIQj9bpiaJmoOdJOVKx4alHffoG9icmVkwMXic4IH6StKNvibgcKYA80eNC2JficDORDLU8Qpmrict6tZtw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ğŸŒ´ åº”ç”¨åœºæ™¯&lt;/h3&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨è¯·æ±‚çœŸæ­£åˆ°è¾¾ä¸‹æ¸¸æœåŠ¡ä¹‹å‰ï¼ŒLua å¯ä»¥éšå¿ƒæ‰€æ¬²çš„åšå¤æ‚è®¿é—®æ§åˆ¶å’Œå®‰å…¨æ£€æµ‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä»å¤–éƒ¨å­˜å‚¨æœåŠ¡ï¼ˆæ¯”å¦‚ redis, memcached, mysql, postgresqlï¼‰ä¸­è·å–åç«¯ä¿¡æ¯ï¼Œå¹¶ç”¨è¿™äº›ä¿¡æ¯æ¥å®æ—¶é€‰æ‹©å“ªä¸€ä¸ªåç«¯æ¥å®Œæˆä¸šåŠ¡è®¿é—®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨å†…å®¹ handler ä¸­éšæ„ç¼–å†™å¤æ‚çš„ web åº”ç”¨ï¼Œä½¿ç”¨åŒæ­¥éé˜»å¡çš„æ–¹å¼ï¼Œè®¿é—®åç«¯æ•°æ®åº“å’Œå…¶ä»–å­˜å‚¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨ rewrite é˜¶æ®µï¼Œé€šè¿‡ Lua å®Œæˆéå¸¸å¤æ‚çš„ URL dispatch&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”¨ Lua å¯ä»¥ä¸º Nginx å­è¯·æ±‚å’Œä»»æ„ locationï¼Œå®ç°é«˜çº§ç¼“å­˜æœºåˆ¶&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;Nginxé‡‡ç”¨åŸç”ŸCè¯­è¨€å¼€å‘çš„ï¼Œé€šè¿‡&lt;code&gt;nginx-lua-module&lt;/code&gt; å€ŸåŠ©nginxå¼€æ”¾çš„apiï¼Œå®ç° Nginx çš„å„ç§åŠŸèƒ½è‡ªç”±æ‹¼æ¥ã€ä¸šåŠ¡å®šåˆ¶åŒ–ã€‚Luaè¯­è¨€ï¼Œå¤§å¤§é™ä½äº†å¼€å‘é—¨æ§›ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ğŸŒ´ å¦‚ä½•äºŒæ¬¡å¼€å‘&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ç¼–å†™çš„Luaè„šæœ¬ä»£ç å‡åŒ…å«åœ¨æŒ‡ä»¤å‡½æ•°ä¸­ï¼ŒæŒ‡ä»¤å‡½æ•°æœ‰ä¸¥æ ¼çš„æ‰§è¡Œé¡ºåºã€‚å½“æ¥æ”¶è¯·æ±‚æ—¶ï¼Œé€šè¿‡æŒ‡ä»¤å‡½æ•°å¯¹ &lt;code&gt;request&lt;/code&gt; ã€ &lt;code&gt;response&lt;/code&gt;åšäºŒæ¬¡å¹²é¢„å¤„ç†ï¼Œä»è€Œå®ç°ä¸ªæ€§åŒ–ä¸šåŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æŒ‡ä»¤å‡½æ•°çš„æ‰§è¡Œé¡ºåºï¼š&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.9054726368159204&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/3Ohm6WHibeXKuoBtErGT6Eic02xndts9Dxg3brotmFg00CpI3lMp9x5QDSuRISUI6gfqVrACXIHcJ5Yt6Oykxkng/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1005&quot;/&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡½æ•°åŠŸèƒ½è¯´æ˜ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;set_by_luaï¼Œç”¨äºè®¾ç½®å˜é‡&lt;br/&gt;rewrite_by_luaï¼Œç”¨äºè½¬å‘ã€é‡å®šå‘ç­‰&lt;br/&gt;access_by_luaï¼Œç”¨äºå‡†å…¥ã€æƒé™ç­‰&lt;br/&gt;content_by_luaï¼Œç”¨äºç”Ÿæˆè¿”å›å†…å®¹&lt;br/&gt;header_filter_by_luaï¼Œç”¨äºå“åº”å¤´è¿‡æ»¤å¤„ç†&lt;br/&gt;body_filter_by_luaï¼Œç”¨äºå“åº”ä½“è¿‡æ»¤å¤„ç†&lt;br/&gt;log_by_luaï¼Œç”¨äºæ—¥å¿—è®°å½•&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æ³¨æ„ï¼šOpenResty çš„ API æœ‰èŒƒå›´é™åˆ¶ï¼Œæ¯ä¸€ä¸ª API éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ä½¿ç”¨é˜¶æ®µåˆ—è¡¨ï¼Œå¦‚æœä½ è¶…èŒƒå›´ä½¿ç”¨å°±ä¼šæŠ¥é”™ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ğŸŒ´ é™æµå®æˆ˜&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenResty å®˜æ–¹æä¾›äº†å°è£…å¥½çš„ luaå‡½æ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€ç®±å³ç”¨ã€‚æ”¯æŒä¸€ä¸‹å‡ ä¸ªåœºæ™¯ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ ¹æ®ipé™åˆ¶å¹¶å‘è¿æ¥æ•°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é™åˆ¶æ—¶é—´çª—å£çš„è¯·æ±‚æ•°ï¼Œå¦‚ï¼šé™åˆ¶ ip æ¯åˆ†é’Ÿåªèƒ½è°ƒç”¨ 100 æ¬¡ /order æ¥å£ï¼Œï¼ˆå…è®¸åœ¨æ—¶é—´æ®µå¼€å§‹çš„æ—¶å€™ä¸€æ¬¡æ€§æ”¾è¿‡100ä¸ªè¯·æ±‚ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¹³æ»‘é™åˆ¶æ¥å£è¯·æ±‚æ•°ï¼Œå¦‚ï¼šé™åˆ¶ ip æ¯åˆ†é’Ÿåªèƒ½è°ƒç”¨ 120 æ¬¡ /order æ¥å£ï¼ˆå¹³æ»‘å¤„ç†è¯·æ±‚ï¼Œå³æ¯ç§’æ”¾è¿‡2ä¸ªè¯·æ±‚ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¼æ¡¶ç®—æ³•é™æµï¼Œå¦‚ï¼šé™åˆ¶ ip æ¯åˆ†é’Ÿåªèƒ½è°ƒç”¨ 120 æ¬¡ /order æ¥å£ï¼ˆå¹³æ»‘å¤„ç†è¯·æ±‚ï¼Œå³æ¯ç§’æ”¾è¿‡2ä¸ªè¯·æ±‚ï¼‰ï¼Œè¶…è¿‡çš„éƒ¨åˆ†è¿›å…¥æ¡¶ä¸­ç­‰å¾…ï¼Œï¼ˆæ¡¶å®¹é‡ä¸º60ï¼‰ï¼Œå¦‚æœæ¡¶ä¹Ÿæ»¡äº†ï¼Œåˆ™è¿›è¡Œé™æµ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Luaè„šæœ¬&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â serverÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â listenÂ Â Â Â Â Â Â 80;&lt;br/&gt;Â Â Â Â Â Â Â Â server_nameÂ Â localhost;&lt;br/&gt;Â Â Â Â Â Â Â Â charsetÂ utf-8;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#access_logÂ Â logs/host.access.logÂ Â main;&lt;/span&gt;&lt;br/&gt;Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;#Â é™æµç¤ºä¾‹&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â locationÂ /order/&lt;span&gt;limit&lt;/span&gt;Â {&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â default_typeÂ &lt;span&gt;&#x27;text/html&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â access_by_lua_blockÂ {&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â --Â å¯¼å…¥æ¨¡å—&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;Â limit_countÂ =Â requireÂ &lt;span&gt;&quot;resty.limit.count&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â --Â é™æµè§„åˆ™:Â æ¯åˆ†é’Ÿ3æ¬¡&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;Â lim,Â errÂ =Â limit_count.new(&lt;span&gt;&quot;my_limit_count_store&quot;&lt;/span&gt;,Â 3,Â 60)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â notÂ limÂ &lt;span&gt;then&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ngx.log(ngx.ERR,Â &lt;span&gt;&quot;failedÂ toÂ instantiateÂ aÂ resty.limit.countÂ object:Â &quot;&lt;/span&gt;,Â err)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â ngx.exit(500)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â end&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;Â keyÂ =Â ngx.var.binary_remote_addr&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;Â delay,Â errÂ =Â lim:incoming(key,Â &lt;span&gt;true&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â --Â å¦‚æœè¯·æ±‚æ•°åœ¨é™åˆ¶èŒƒå›´å†…ï¼Œåˆ™å½“å‰è¯·æ±‚è¢«å¤„ç†çš„å»¶è¿Ÿï¼ˆè¿™ç§åœºæ™¯ä¸‹å§‹ç»ˆä¸º0ï¼Œå› ä¸ºè¦ä¹ˆè¢«å¤„ç†è¦ä¹ˆè¢«æ‹’ç»ï¼‰å’Œå°†è¢«å¤„ç†çš„è¯·æ±‚çš„å‰©ä½™æ•°&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ngx.log(ngx.ERR,&lt;span&gt;&quot;delay:Â &quot;&lt;/span&gt;,delay,&lt;span&gt;&quot;Â err:Â &quot;&lt;/span&gt;,err)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â notÂ delayÂ &lt;span&gt;then&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ ==Â &lt;span&gt;&quot;rejected&quot;&lt;/span&gt;Â &lt;span&gt;then&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ngx.say(&lt;span&gt;&quot;è®¿é—®å¤ªé¢‘ç¹äº†..&quot;&lt;/span&gt;,&lt;span&gt;&quot;delay:Â &quot;&lt;/span&gt;,delay,&lt;span&gt;&quot;Â ,Â err:Â &quot;&lt;/span&gt;,err)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â --Â &lt;span&gt;return&lt;/span&gt;Â ngx.exit(503)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â end&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ngx.log(ngx.ERR,Â &lt;span&gt;&quot;è¢«é™æµå•¦......Â &quot;&lt;/span&gt;,Â err)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â ngx.exit(500)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â end&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ngx.say(&lt;span&gt;&quot;success&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åœºæ™¯æµ‹è¯•ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æµæ§è®¾ç½®è§„åˆ™ï¼Œæ¯åˆ†é’Ÿé™åˆ¶è®¿é—®3æ¬¡&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ­£å¸¸è¯·æ±‚ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.2956989247311828&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3Ohm6WHibeXKuoBtErGT6Eic02xndts9Dx67uMgr6tFbmXlKGo8mNicpZzd89CzDzBqJ7C5Fv4agHicOEIY2iaYvU0w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;372&quot;/&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¯·æ±‚è¿‡å¤šï¼Œè§¦å‘æµæ§ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.31453362255965295&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3Ohm6WHibeXKuoBtErGT6Eic02xndts9Dx9FlKTBOtP3xuxVgIdRicbtSPOMP3OpKxEqMuLHCY4dKfv8OBiaQcKvag/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;461&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯å¾®è§‚æŠ€æœ¯&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è®¡ç®—æœºä¸“ä¸šå‡ºèº«ï¼Œç ”ç©¶åƒ§ï¼Œæ ¡æ‹›è¿›å…¥é˜¿é‡Œï¼Œæ¶æ„å¸ˆ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å†™è¿‡ä¸“åˆ©ï¼Œç«èµ›æ‹¿è¿‡å¥–ï¼ŒCSDNåšå®¢ä¸“å®¶&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è´Ÿè´£è¿‡ç”µå•†äº¤æ˜“ã€ç¤¾åŒºã€è¥é”€ã€é‡‘èç­‰ä¸šåŠ¡&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¤šå¹´å›¢é˜Ÿç®¡ç†ç»éªŒï¼Œçˆ±æ€è€ƒ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;çƒ­è¡·æŠŠå·¥ä½œæ²‰æ·€å†™æˆæ–‡ç« &lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ„Ÿå…´è¶£çš„åŒå­¦è¯·å…³æ³¨ï¼Œä¹Ÿæ¬¢è¿åŠ å¾®ä¿¡å¥½å‹äº¤æµ&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3Ohm6WHibeXJxE2KOULCAe2BQfUfcd9Lf2kqibBfdJrGWFPBdoialWJAiaG8FPicR15jW3s75tfS1hKNK9TdqdYjicAg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot;/&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èé˜…è¯»&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5NDAwMzM0MA==&amp;amp;mid=2247485101&amp;amp;idx=1&amp;amp;sn=40ecbfba914173c99bba7acedba6478a&amp;amp;chksm=ec68314edb1fb8581b3389a8e47407cccf44b958f9411d1d2e7ca9610e6e2bba2ac0aebfe4b0&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ·˜å®åŒ11åƒäº¿äº¤æ˜“é¢çš„ç³»ç»Ÿæ¶æ„æ¼”å˜&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5NDAwMzM0MA==&amp;amp;mid=2247484438&amp;amp;idx=1&amp;amp;sn=686afd68b34579d0c38b7de67ce2b64b&amp;amp;chksm=ec6833f5db1fbae3897f2261e270e745182996f95b2fe7c3d4d57e2000607e6bf2c6ead2b446&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ·˜å®è®¢å•è‡ªåŠ¨ç¡®è®¤æ”¶è´§çš„Nç§å®ç°ï¼Œç§’æ€é¢è¯•å®˜&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5NDAwMzM0MA==&amp;amp;mid=2247484307&amp;amp;idx=1&amp;amp;sn=37351d4934ee92c05f6f1beb76462cf4&amp;amp;chksm=ec683470db1fbd6625e46acc6d1e6813b072c8358dc1d7a98cc6bedd7636a182c2b09d0e8ef8&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å¦‚ä½•è®¾è®¡ä¸€ä¸ªé«˜æ€§èƒ½çš„ç§’æ€ç³»ç»Ÿ&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç å­—ä¸æ˜“ï¼Œå¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è½¬å‘åˆ†äº«ï¼Œç‚¹ä¸ª â€œåœ¨çœ‹â€&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>15ae60d6663242cb7b0ca10b3746da29</guid>
<title>CAPï¼šåˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆ</title>
<link>https://toutiao.io/k/mbgrz85</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;CAP æ˜¯ä¸€ä¸ªåŸºäº .NET Standard çš„ C# åº“ï¼Œå®ƒæ˜¯ä¸€ç§å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒæ ·å…·æœ‰ EventBus çš„åŠŸèƒ½ï¼Œå®ƒå…·æœ‰è½»é‡çº§ã€æ˜“ä½¿ç”¨ã€é«˜æ€§èƒ½ç­‰ç‰¹ç‚¹ã€‚&lt;/p&gt;&lt;p&gt;https://github.com/dotnetcore/CAP&lt;/p&gt;&lt;p&gt;åœ¨æˆ‘ä»¬æ„å»º SOA æˆ–è€… å¾®æœåŠ¡ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä½¿ç”¨äº‹ä»¶æ¥å¯¹å„ä¸ªæœåŠ¡è¿›è¡Œé›†æˆï¼Œåœ¨è¿™è¿‡ç¨‹ä¸­ç®€å•çš„ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¹¶ä¸èƒ½ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œ CAP é‡‡ç”¨çš„æ˜¯å’Œå½“å‰æ•°æ®åº“é›†æˆçš„æœ¬åœ°æ¶ˆæ¯è¡¨çš„æ–¹æ¡ˆæ¥è§£å†³åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿäº’ç›¸è°ƒç”¨çš„å„ä¸ªç¯èŠ‚å¯èƒ½å‡ºç°çš„å¼‚å¸¸ï¼Œå®ƒèƒ½å¤Ÿä¿è¯ä»»ä½•æƒ…å†µä¸‹äº‹ä»¶æ¶ˆæ¯éƒ½æ˜¯ä¸ä¼šä¸¢å¤±çš„ã€‚&lt;/p&gt;&lt;p&gt;ä½ åŒæ ·å¯ä»¥æŠŠ CAP å½“åš EventBus æ¥ä½¿ç”¨ï¼ŒCAPæä¾›äº†ä¸€ç§æ›´åŠ ç®€å•çš„æ–¹å¼æ¥å®ç°äº‹ä»¶æ¶ˆæ¯çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œåœ¨è®¢é˜…ä»¥åŠå‘å¸ƒçš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¸éœ€è¦ç»§æ‰¿æˆ–å®ç°ä»»ä½•æ¥å£ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ˜¯CAPé›†åœ¨ASP.NET Core å¾®æœåŠ¡æ¶æ„ä¸­çš„ä¸€ä¸ªç¤ºæ„å›¾ï¼š&lt;/p&gt;&lt;h2&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;æ¶æ„é¢„è§ˆ&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.375717017208413&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ia9mEhlib6icjTSF4K98gpBlCz2b9C7M5suUliaZWZtwv8mJ9wmW7PyC5JtnoW9UlYGx7vvDZ0108OsohlwAt6fxcw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1046&quot;/&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;CAP å®ç°äº†Â eShop ç”µå­ä¹¦Â ä¸­æè¿°çš„å‘ä»¶ç®±æ¨¡å¼&lt;/p&gt;&lt;/blockquote&gt;&lt;h2&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;Getting Started&lt;/h2&gt;&lt;h3&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;NuGet&lt;/h3&gt;&lt;p&gt;ä½ å¯ä»¥è¿è¡Œä»¥ä¸‹ä¸‹å‘½ä»¤åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£… CAPã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;PM&amp;gt; Install-Package DotNetCore.CAP&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;CAP æ”¯æŒ Kafkaã€RabbitMQã€AzureServiceBus ç­‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä½ å¯ä»¥æŒ‰éœ€é€‰æ‹©ä¸‹é¢çš„åŒ…è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;PM&amp;gt; Install-Package DotNetCore.CAP.Kafka&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.RabbitMQ&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.AzureServiceBus&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;CAP æä¾›äº† Sql Server, MySql, PostgreSQLï¼ŒMongoDB çš„æ‰©å±•ä½œä¸ºæ•°æ®åº“å­˜å‚¨ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// æŒ‰éœ€é€‰æ‹©å®‰è£…ä½ æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.SqlServer&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.MySql&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.PostgreSql&lt;br/&gt;PM&amp;gt; Install-Package DotNetCore.CAP.MongoDB&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;Configuration&lt;/h3&gt;&lt;p&gt;é¦–å…ˆé…ç½®CAPåˆ° Startup.cs æ–‡ä»¶ä¸­ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;ConfigureServices&lt;/span&gt;(&lt;span&gt;IServiceCollection&lt;/span&gt; &lt;span&gt;services&lt;/span&gt;)&lt;br/&gt;{&lt;br/&gt;    ......&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddDbContext&lt;/span&gt;&amp;lt;&lt;span&gt;AppDbContext&lt;/span&gt;&amp;gt;();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddCap&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt; &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;&lt;span&gt;//&lt;/span&gt;å¦‚æœä½ ä½¿ç”¨çš„ EF è¿›è¡Œæ•°æ®æ“ä½œï¼Œä½ éœ€è¦æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseEntityFramework&lt;/span&gt;&amp;lt;&lt;span&gt;AppDbContext&lt;/span&gt;&amp;gt;();  &lt;span&gt;&lt;span&gt;//&lt;/span&gt;å¯é€‰é¡¹ï¼Œä½ ä¸éœ€è¦å†æ¬¡é…ç½® x.UseSqlServer äº†&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;&lt;span&gt;//&lt;/span&gt;å¦‚æœä½ ä½¿ç”¨çš„ADO.NETï¼Œæ ¹æ®æ•°æ®åº“é€‰æ‹©è¿›è¡Œé…ç½®ï¼š&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseSqlServer&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseMySql&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UsePostgreSql&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;&lt;span&gt;//&lt;/span&gt;å¦‚æœä½ ä½¿ç”¨çš„ MongoDBï¼Œä½ å¯ä»¥æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseMongoDB&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;ConnectionStrings&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);  &lt;span&gt;&lt;span&gt;//&lt;/span&gt;æ³¨æ„ï¼Œä»…æ”¯æŒMongoDB 4.0+é›†ç¾¤&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;&lt;span&gt;//&lt;/span&gt;CAPæ”¯æŒ RabbitMQã€Kafkaã€AzureServiceBus ç­‰ä½œä¸ºMQï¼Œæ ¹æ®ä½¿ç”¨é€‰æ‹©é…ç½®ï¼š&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseRabbitMQ&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;ConnectionStrings&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseKafka&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;ConnectionStrings&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;        &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseAzureServiceBus&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;ConnectionStrings&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;);&lt;br/&gt;    });&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;h3&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;å‘å¸ƒ&lt;/h3&gt;&lt;p&gt;åœ¨ Controller ä¸­æ³¨å…¥Â &lt;code&gt;ICapPublisher&lt;/code&gt;Â ç„¶åä½¿ç”¨Â &lt;code&gt;ICapPublisher&lt;/code&gt;Â è¿›è¡Œæ¶ˆæ¯å‘é€&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;PublishController&lt;/span&gt; : &lt;span&gt;Controller&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;readonly&lt;/span&gt; &lt;span&gt;ICapPublisher&lt;/span&gt; &lt;span&gt;_capBus&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;PublishController&lt;/span&gt;(&lt;span&gt;ICapPublisher&lt;/span&gt; &lt;span&gt;capPublisher&lt;/span&gt;)&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;_capBus&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;capPublisher&lt;/span&gt;;&lt;br/&gt;    }&lt;br/&gt;    &lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt;ä¸ä½¿ç”¨äº‹åŠ¡&lt;/span&gt;&lt;br/&gt;    [&lt;span&gt;Route&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;~/without/transaction&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;IActionResult&lt;/span&gt; &lt;span&gt;WithoutTransaction&lt;/span&gt;()&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;_capBus&lt;/span&gt;.&lt;span&gt;Publish&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span&gt;DateTime&lt;/span&gt;.&lt;span&gt;Now&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;Ok&lt;/span&gt;();&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt;Ado.Net ä¸­ä½¿ç”¨äº‹åŠ¡ï¼Œè‡ªåŠ¨æäº¤&lt;/span&gt;&lt;br/&gt;    [&lt;span&gt;Route&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;~/adonet/transaction&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;IActionResult&lt;/span&gt; &lt;span&gt;AdonetWithTransaction&lt;/span&gt;()&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;using&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; &lt;span&gt;connection&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;MySqlConnection&lt;/span&gt;(&lt;span&gt;ConnectionString&lt;/span&gt;))&lt;br/&gt;        {&lt;br/&gt;            &lt;span&gt;using&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; &lt;span&gt;transaction&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;connection&lt;/span&gt;.&lt;span&gt;BeginTransaction&lt;/span&gt;(&lt;span&gt;_capBus&lt;/span&gt;, &lt;span&gt;autoCommit&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;))&lt;br/&gt;            {&lt;br/&gt;                &lt;span&gt;&lt;span&gt;//&lt;/span&gt;ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;                &lt;span&gt;_capBus&lt;/span&gt;.&lt;span&gt;Publish&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span&gt;DateTime&lt;/span&gt;.&lt;span&gt;Now&lt;/span&gt;);&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;Ok&lt;/span&gt;();&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt;EntityFramework ä¸­ä½¿ç”¨äº‹åŠ¡ï¼Œè‡ªåŠ¨æäº¤&lt;/span&gt;&lt;br/&gt;    [&lt;span&gt;Route&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;~/ef/transaction&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;IActionResult&lt;/span&gt; &lt;span&gt;EntityFrameworkWithTransaction&lt;/span&gt;([&lt;span&gt;FromServices&lt;/span&gt;]&lt;span&gt;AppDbContext&lt;/span&gt; &lt;span&gt;dbContext&lt;/span&gt;)&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;using&lt;/span&gt; (&lt;span&gt;var&lt;/span&gt; &lt;span&gt;trans&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;dbContext&lt;/span&gt;.&lt;span&gt;Database&lt;/span&gt;.&lt;span&gt;BeginTransaction&lt;/span&gt;(&lt;span&gt;_capBus&lt;/span&gt;, &lt;span&gt;autoCommit&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;))&lt;br/&gt;        {&lt;br/&gt;            &lt;span&gt;&lt;span&gt;//&lt;/span&gt;ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;_capBus&lt;/span&gt;.&lt;span&gt;Publish&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span&gt;DateTime&lt;/span&gt;.&lt;span&gt;Now&lt;/span&gt;);&lt;br/&gt;        }&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;Ok&lt;/span&gt;();&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;h3&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;è®¢é˜…&lt;/h3&gt;&lt;p&gt;&lt;span&gt;Action Method&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨ Action ä¸Šæ·»åŠ  CapSubscribeAttribute æ¥è®¢é˜…ç›¸å…³æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;PublishController&lt;/span&gt; : &lt;span&gt;Controller&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    [&lt;span&gt;CapSubscribe&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;CheckReceivedMessage&lt;/span&gt;(&lt;span&gt;DateTime&lt;/span&gt; &lt;span&gt;datetime&lt;/span&gt;)&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;Console&lt;/span&gt;.&lt;span&gt;WriteLine&lt;/span&gt;(&lt;span&gt;datetime&lt;/span&gt;);&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;Service Method&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœä½ çš„è®¢é˜…æ–¹æ³•æ²¡æœ‰ä½äº Controller ä¸­ï¼Œåˆ™ä½ è®¢é˜…çš„ç±»éœ€è¦ç»§æ‰¿Â &lt;code&gt;ICapSubscribe&lt;/code&gt;ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;xxx&lt;/span&gt;.&lt;span&gt;Service&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; &lt;span&gt;ISubscriberService&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;void&lt;/span&gt; &lt;span&gt;CheckReceivedMessage&lt;/span&gt;(&lt;span&gt;DateTime&lt;/span&gt; &lt;span&gt;datetime&lt;/span&gt;);&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;SubscriberService&lt;/span&gt;: &lt;span&gt;ISubscriberService&lt;/span&gt;, &lt;span&gt;ICapSubscribe&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        [&lt;span&gt;CapSubscribe&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;        &lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;CheckReceivedMessage&lt;/span&gt;(&lt;span&gt;DateTime&lt;/span&gt; &lt;span&gt;datetime&lt;/span&gt;)&lt;br/&gt;        {&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååœ¨ Startup.cs ä¸­çš„Â &lt;code&gt;ConfigureServices()&lt;/code&gt;Â ä¸­æ³¨å…¥ä½ çš„Â &lt;code&gt;ISubscriberService&lt;/code&gt;Â ç±»&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;ConfigureServices&lt;/span&gt;(&lt;span&gt;IServiceCollection&lt;/span&gt; &lt;span&gt;services&lt;/span&gt;)&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt;æ³¨æ„: æ³¨å…¥çš„æœåŠ¡éœ€è¦åœ¨ `services.AddCap()` ä¹‹å‰&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddTransient&lt;/span&gt;&amp;lt;&lt;span&gt;ISubscriberService&lt;/span&gt;,&lt;span&gt;SubscriberService&lt;/span&gt;&amp;gt;();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddCap&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;{});&lt;br/&gt;}&lt;/pre&gt;&lt;h4&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;è®¢é˜…è€…ç»„&lt;/h4&gt;&lt;p&gt;è®¢é˜…è€…ç»„çš„æ¦‚å¿µç±»ä¼¼äº Kafka ä¸­çš„æ¶ˆè´¹è€…ç»„ï¼Œå®ƒå’Œæ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„å¹¿æ’­æ¨¡å¼ç›¸åŒï¼Œç”¨æ¥å¤„ç†ä¸åŒå¾®æœåŠ¡å®ä¾‹ä¹‹é—´åŒæ—¶æ¶ˆè´¹ç›¸åŒçš„æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;å½“CAPå¯åŠ¨çš„æ—¶å€™ï¼Œå¥¹å°†åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„æ¶ˆè´¹è€…ç»„ï¼Œå¦‚æœå¤šä¸ªç›¸åŒæ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹è€…æ¶ˆè´¹åŒä¸€ä¸ªTopicæ¶ˆæ¯çš„æ—¶å€™ï¼Œåªä¼šæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…è¢«æ‰§è¡Œã€‚ç›¸åï¼Œå¦‚æœæ¶ˆè´¹è€…éƒ½ä½äºä¸åŒçš„æ¶ˆè´¹è€…ç»„ï¼Œåˆ™æ‰€æœ‰çš„æ¶ˆè´¹è€…éƒ½ä¼šè¢«æ‰§è¡Œã€‚&lt;/p&gt;&lt;p&gt;ç›¸åŒçš„å®ä¾‹ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥æŒ‡å®šä»–ä»¬ä½äºä¸åŒçš„æ¶ˆè´¹è€…ç»„ã€‚&lt;/p&gt;&lt;pre&gt;[&lt;span&gt;CapSubscribe&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span&gt;Group&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;group1&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt; )]&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;ShowTime1&lt;/span&gt;(&lt;span&gt;DateTime&lt;/span&gt; &lt;span&gt;datetime&lt;/span&gt;)&lt;br/&gt;{&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;[&lt;span&gt;CapSubscribe&lt;/span&gt;(&lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;xxx.services.show.time&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;, &lt;span&gt;Group&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;group2&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;)]&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;ShowTime2&lt;/span&gt;(&lt;span&gt;DateTime&lt;/span&gt; &lt;span&gt;datetime&lt;/span&gt;)&lt;br/&gt;{&lt;br/&gt;}&lt;br/&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;ShowTime1&lt;/code&gt;Â å’ŒÂ &lt;code&gt;ShowTime2&lt;/code&gt;Â å¤„äºä¸åŒçš„ç»„ï¼Œä»–ä»¬å°†ä¼šè¢«åŒæ—¶è°ƒç”¨ã€‚&lt;/p&gt;&lt;p&gt;PSï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥æŒ‡å®šé»˜è®¤çš„æ¶ˆè´¹è€…ç»„åç§°ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddCap&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt; &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;DefaultGroup&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;default-group-name&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;;  &lt;br/&gt;});&lt;br/&gt;&lt;/pre&gt;&lt;h3&gt;&lt;svg viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;Dashboard&lt;/h3&gt;&lt;p&gt;CAP 2.1+ ä»¥ä¸Šç‰ˆæœ¬ä¸­æä¾›äº†ä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰åŠŸèƒ½ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸ¥çœ‹å‘å‡ºå’Œæ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥åœ¨ä»ªè¡¨ç›˜ä¸­å®æ—¶æŸ¥çœ‹å‘é€æˆ–è€…æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å®‰è£… Dashboardï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;PM&amp;gt; Install-Package DotNetCore.CAP.Dashboard&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œä»ªè¡¨ç›˜å†…ç½®é›†æˆäº† Consul ä½œä¸ºèŠ‚ç‚¹çš„æ³¨å†Œå‘ç°ï¼ŒåŒæ—¶å®ç°äº†ç½‘å…³ä»£ç†åŠŸèƒ½ï¼Œä½ åŒæ ·å¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹æœ¬èŠ‚ç‚¹æˆ–è€…å…¶ä»–èŠ‚ç‚¹çš„æ•°æ®ï¼Œå®ƒå°±åƒä½ è®¿é—®æœ¬åœ°èµ„æºä¸€æ ·ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span&gt;services&lt;/span&gt;.&lt;span&gt;AddCap&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt; &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;{&lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt;...&lt;/span&gt;&lt;br/&gt;    &lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt; æ³¨å†Œ Dashboard&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseDashboard&lt;/span&gt;();&lt;br/&gt;    &lt;br/&gt;    &lt;span&gt;&lt;span&gt;//&lt;/span&gt; æ³¨å†ŒèŠ‚ç‚¹åˆ° Consul&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;x&lt;/span&gt;.&lt;span&gt;UseDiscovery&lt;/span&gt;(&lt;span&gt;d&lt;/span&gt; &lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;br/&gt;    {&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;DiscoveryServerHostName&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;localhost&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;DiscoveryServerPort&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;8500&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;CurrentNodeHostName&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;localhost&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;CurrentNodePort&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;5800&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;NodeId&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;d&lt;/span&gt;.&lt;span&gt;NodeName&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;&lt;span&gt;&quot;&lt;/span&gt;CAP No.1 Node&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;    });&lt;br/&gt;});&lt;/pre&gt;&lt;p&gt;ä»ªè¡¨ç›˜é»˜è®¤çš„è®¿é—®åœ°å€æ˜¯ï¼šhttp://localhost:xxx/capï¼Œä½ å¯ä»¥åœ¨&lt;code&gt;d.MatchPath&lt;/code&gt;é…ç½®é¡¹ä¸­ä¿®æ”¹&lt;code&gt;cap&lt;/code&gt;è·¯å¾„åç¼€ä¸ºå…¶ä»–çš„åå­—ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5749235474006116&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ia9mEhlib6icjTSF4K98gpBlCz2b9C7M5suBEU38ZoAZkpX7VknlLrwZQpnW9L7Ue71Nf2rTBfL2EFCpFKXOaZsAw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;981&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>88579463d37b40ff87c4b55cf72cf8c7</guid>
<title>Nginx Buffer æœºåˆ¶å¼•å‘çš„ä¸‹è½½æ•…éšœ</title>
<link>https://toutiao.io/k/6ld5fxn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;&amp;#10;                col-lg-8 col-lg-offset-2&amp;#10;                col-md-10 col-md-offset-1&amp;#10;                post-container&quot;&gt;

                
                

&lt;p&gt;å‰å‡ å¤©ï¼Œæ¥åˆ°ç ”å‘åŒäº‹åé¦ˆï¼Œå†…ç½‘é€šè¿‡ Nginx ä»£ç†ä¸‹è½½ OSS çš„å¤§æ–‡ä»¶æ—¶ï¼Œè€æ˜¯ä¼šæ–­ï¼Œè€Œåœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½æ—¶å´å¾ˆæ­£å¸¸ï¼Œéå¸¸å¥‡æ€ªã€‚åŸæœ¬ä»¥ä¸ºå¯èƒ½å’Œ VPN æœ‰å…³ï¼Œç»ç¡®è®¤æ’é™¤å«Œç–‘ã€‚å½·å¾¨äº†è®¸ä¹…ï¼Œæœ€åå‘ç°æ˜¯ Nginx Buffer çš„é”…ã€‚ä¸‹é¢å°±æ¥èŠèŠè¿™ä¸ªé—®é¢˜æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;nginx-buffer-æœºåˆ¶&quot;&gt;Nginx Buffer æœºåˆ¶&lt;/h2&gt;

&lt;p&gt;åœ¨ Nginx ä»£ç†è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç§è¿æ¥ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;å®¢æˆ·ç«¯åˆ° Nginx çš„è¿æ¥&lt;/li&gt;
  &lt;li&gt;Nginx åˆ°åç«¯æœåŠ¡å™¨çš„è¿æ¥&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªè¿æ¥çš„é€Ÿåº¦ä¸ä¸€è‡´ï¼Œä¼šå¯¹å®¢æˆ·ç«¯çš„ä½“éªŒå¸¦æ¥ä¸è‰¯çš„å½±å“ã€‚Nginx æ­£æ˜¯é€šè¿‡ Buffer æœºåˆ¶æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;å½“å¯ç”¨ buffer æ—¶ï¼ŒNginx å°†ä¼šä¸´æ—¶å­˜å‚¨åç«¯å“åº”å†…å®¹åœ¨å†…å­˜æˆ–è€…ç£ç›˜ä¸Šï¼Œç„¶åæ…¢æ…¢æŠŠæ•°æ®æ¨é€ç»™å®¢æˆ·ç«¯ï¼›è‹¥å…³é—­ï¼Œåˆ™ä¼šæŒ‰ç…§å“åº”å†…å®¹çš„å¤šå°‘ç«‹åˆ»åŒæ­¥åˆ°å®¢æˆ·ç«¯ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾å®¢æˆ·ç«¯çš„é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥æŠŠ buffer å…³æ‰ï¼Œè®©æ•°æ®å°½å¯èƒ½å¿«é€Ÿåˆ°è¾¾ï¼›å¦‚æœå®¢æˆ·ç«¯å¾ˆæ…¢ï¼Œå°±åº”è¯¥ä¿æŒ buffer å¼€å¯ï¼Œè¿™æ ·æœ‰åˆ©äº Nginx å’Œåç«¯çš„è¿æ¥å¤ç”¨ï¼ˆæœ¬è´¨ä¸Šæ˜¯ HTTP é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¤§æ–‡ä»¶ä¸‹è½½é—®é¢˜&quot;&gt;å¤§æ–‡ä»¶ä¸‹è½½é—®é¢˜&lt;/h2&gt;

&lt;p&gt;Nginx Buffer æœºåˆ¶é»˜è®¤å¤„äºå¼€å¯çŠ¶æ€ï¼Œå…¶ä¼šæ ¹æ® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy_buffer_size&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy_buffers&lt;/code&gt; è¿™ä¸¤ä¸ªå‚æ•°æ§åˆ¶å†™å…¥å†…å­˜çš„å¤§å°ã€‚å¦‚æœå“åº”å¤§äºè¿™ä¸ª buffer å¤§å°ï¼ŒNginx ä¼šç»§ç»­é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy_max_temp_file_size&lt;/code&gt; å‚æ•°å°†å“åº”å…¶ä½™éƒ¨åˆ†å†™å…¥åˆ°ç£ç›˜ä¸´æ—¶æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœå“åº”è¿˜æ˜¯å¾ˆå¤§ï¼Œè¶…è¿‡äº†ä¸´æ—¶æ–‡ä»¶çš„é™é¢æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç­‰ï¼&lt;/strong&gt; &lt;u&gt;æ­¤æ—¶ï¼ŒNginx çš„ socket ç¼“å†²åŒºä¹Ÿæ˜¯å‡ºäºæ»¡è½½çŠ¶æ€ã€‚ç”±äºå®¢æˆ·ç«¯å¾ˆæ…¢ï¼ŒNginx å¹¶æ²¡æœ‰è§¦å‘ `read` åç«¯æ“ä½œã€‚è¿™é‡Œå¤§æ¦‚ç‡ä¼šè§¦å‘åç«¯æœåŠ¡å™¨çš„ `write` è¶…æ—¶ï¼Œè¿›è€Œç”±åç«¯å‘èµ· `close` æ“ä½œã€‚&lt;/u&gt;&lt;/p&gt;

&lt;p&gt;è¿™å°±æ˜¯æˆ‘é‡åˆ°çš„é—®é¢˜ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy_max_temp_file_size&lt;/code&gt; é»˜è®¤ä¸º 1Gï¼Œå½“å®¢æˆ·ç«¯çš„ç½‘ç»œæ¯”è¾ƒæ…¢æ—¶ï¼Œä¸´æ—¶æ–‡ä»¶å¾ˆå¿«å°±è¢«å†™æ»¡ã€‚è¿™æ—¶å€™åç«¯çš„å“åº”è¿˜ä¼šç»§ç»­è¢«æ¥æ”¶åˆ° socket ç¼“å†²åŒºï¼Œç›´åˆ°ç¼“å†²åŒºè¢«æ‰“æ»¡ã€‚æ­¤æ—¶ï¼ŒNginx æ‰€åœ¨æœåŠ¡å™¨é€šè¿‡æ»‘åŠ¨çª—å£ zero 0 å‘ŠçŸ¥åç«¯æœåŠ¡å™¨åœæ­¢å‘é€æ•°æ®ï¼Œç›´è‡³è§¦å‘äº†åç«¯çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write&lt;/code&gt; è¶…æ—¶ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/wget-partially-downloaded.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è€Œå½“å®¢æˆ·ç«¯çš„ç½‘ç»œæ¯”è¾ƒå¿«æ—¶ï¼Œä¸´æ—¶æ–‡ä»¶å¹¶ä¸ä¼šè¢«å†™æ»¡ï¼Œæˆ–è€…å³ä½¿å†™æ»¡äº†ä¹Ÿå¾ˆå¿«å°±ä¼šæ¶ˆè´¹æ‰ï¼Œä¸è‡³äºè®©åç«¯â€œé˜»å¡â€è¿‡é•¿æ—¶é—´è§¦å‘è¶…æ—¶ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¦‚ä½•è§£å†³&quot;&gt;å¦‚ä½•è§£å†³ï¼Ÿ&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;è°ƒæ•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;proxy_max_temp_file_size&lt;/code&gt; å¤§å°&lt;/p&gt;

    
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å…³é—­ Buffer&lt;/p&gt;

    &lt;p&gt;ä¸æ¨èï¼Œä¼šå½±å“ Nginx åˆ°åç«¯çš„è¿æ¥å¤ç”¨&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡ç« &quot;&gt;å‚è€ƒæ–‡ç« &lt;/h2&gt;




                &lt;hr/&gt;

                


                
                
                
                
                

                
            &lt;/div&gt;

    
        
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e06cdc962f88a91bcbed48079184b650</guid>
<title>ç”¨ Go struct ä¸èƒ½çŠ¯çš„ä¸€ä¸ªä½çº§é”™è¯¯</title>
<link>https://toutiao.io/k/5gpirgo</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç…é±¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰æ®µæ—¶é—´æˆ‘åˆ†äº«äº† ã€Š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUxMDI4MDc1NA==&amp;amp;mid=2247487631&amp;amp;idx=1&amp;amp;sn=0c6d3e548573197e8281f622d8d5b0d7&amp;amp;chksm=f90405d2ce738cc401029885459b1ef29095a429ac7d71667e94750966b3dae1044e09fbdc77&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ‰‹æ’• Go é¢è¯•å®˜ï¼šGo ç»“æ„ä½“æ˜¯å¦å¯ä»¥æ¯”è¾ƒï¼Œä¸ºä»€ä¹ˆï¼Ÿ&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ‰‹æ’• Go é¢è¯•å®˜ï¼šGo ç»“æ„ä½“æ˜¯å¦å¯ä»¥æ¯”è¾ƒï¼Œä¸ºä»€ä¹ˆï¼Ÿ&lt;/a&gt;ã€‹çš„æ–‡ç« ï¼ŒæŠŠåŸºæœ¬ Go struct çš„æ¯”è¾ƒä¾æ®ç ”ç©¶äº†ä¸€ç•ªã€‚è¿™ä¸ï¼Œæœ€è¿‘æœ‰ä¸€ä½è¯»è€…ï¼Œé‡åˆ°äº†ä¸€ä¸ªå…³äº struct çš„æ–°é—®é¢˜ï¼Œè¸©åˆ°äº†é›·åŒºã€‚ä¸å¾—è§£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶ä¸€èµ·æ¥çœ‹çœ‹ï¼Œå»ºè®®å¤§å®¶åœ¨çœ‹åˆ°ä»£ç ä¾‹å­åå…ˆæ€è€ƒä¸€ä¸‹ç­”æ¡ˆï¼Œå†å¾€ä¸‹çœ‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç‹¬ç«‹æ€è€ƒå¾ˆé‡è¦ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç–‘æƒ‘çš„ä¾‹å­&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ç»™å‡ºçš„ä¾‹å­ä¸€å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â PeopleÂ &lt;span&gt;struct&lt;/span&gt;Â {}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â aÂ :=Â &amp;amp;People{}&lt;br/&gt;Â bÂ :=Â &amp;amp;People{}&lt;br/&gt;Â fmt.Println(aÂ ==Â b)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ è®¤ä¸ºè¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¾“å‡ºç»“æœæ˜¯ï¼šfalseã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†ç¨åŠ æ”¹é€ ä¸€ä¸‹ï¼Œä¾‹å­äºŒå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â PeopleÂ &lt;span&gt;struct&lt;/span&gt;Â {}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â aÂ :=Â &amp;amp;People{}&lt;br/&gt;Â bÂ :=Â &amp;amp;People{}&lt;br/&gt;Â fmt.Printf(&lt;span&gt;&quot;%p\n&quot;&lt;/span&gt;,Â a)&lt;br/&gt;Â fmt.Printf(&lt;span&gt;&quot;%p\n&quot;&lt;/span&gt;,Â b)&lt;br/&gt;Â fmt.Println(aÂ ==Â b)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¾“å‡ºç»“æœæ˜¯ï¼štrueã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»–çš„é—®é¢˜æ˜¯ &quot;&lt;strong&gt;ä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªè¿”å› false ç¬¬äºŒä¸ªè¿”å› trueï¼Œæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„&lt;/strong&gt;ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç…é±¼è¿›ä¸€æ­¥çš„ç²¾ç®€è¿™ä¸ªä¾‹å­ï¼Œå¾—åˆ°æœ€å°ç¤ºä¾‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â aÂ :=Â &lt;span&gt;new&lt;/span&gt;(&lt;span&gt;struct&lt;/span&gt;{})&lt;br/&gt;Â bÂ :=Â &lt;span&gt;new&lt;/span&gt;(&lt;span&gt;struct&lt;/span&gt;{})&lt;br/&gt;Â &lt;span&gt;println&lt;/span&gt;(a,Â b,Â aÂ ==Â b)&lt;br/&gt;&lt;br/&gt;Â cÂ :=Â &lt;span&gt;new&lt;/span&gt;(&lt;span&gt;struct&lt;/span&gt;{})&lt;br/&gt;Â dÂ :=Â &lt;span&gt;new&lt;/span&gt;(&lt;span&gt;struct&lt;/span&gt;{})&lt;br/&gt;Â fmt.Println(c,Â d)&lt;br/&gt;Â &lt;span&gt;println&lt;/span&gt;(c,Â d,Â cÂ ==Â d)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â a,Â b;Â aÂ ==Â b&lt;br/&gt;0xc00005cf57Â 0xc00005cf57Â &lt;span&gt;false&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;//Â c,Â d&lt;br/&gt;&amp;amp;{}Â &amp;amp;{}&lt;br/&gt;//Â c,Â d,Â cÂ ==Â d&lt;br/&gt;0x118c370Â 0x118c370Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€æ®µä»£ç çš„ç»“æœæ˜¯ falseï¼Œç¬¬äºŒæ®µçš„ç»“æœæ˜¯ trueï¼Œä¸”å¯ä»¥çœ‹åˆ°å†…å­˜åœ°å€æŒ‡å‘çš„å®Œå…¨ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯æ’é™¤äº†è¾“å‡ºåå˜é‡å†…å­˜æŒ‡å‘æ”¹å˜å¯¼è‡´çš„åŸå› ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿›ä¸€æ­¥æ¥çœ‹ï¼Œä¼¼ä¹æ˜¯ &lt;code&gt;fmt.Print&lt;/code&gt; æ–¹æ³•å¯¼è‡´çš„ï¼Œä½†ä¸€ä¸ªæ ‡å‡†åº“é‡Œçš„è¾“å‡ºæ–¹æ³•ï¼Œä¼šå¯¼è‡´è¿™ç§å¥‡æ€ªçš„é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜å‰–æ&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¹‹å‰æœ‰è¢«è¿™ä¸ª â€œå‘â€ è¿‡ï¼Œæˆ–æœ‰çœ‹è¿‡æºç çš„åŒå­¦ã€‚å¯èƒ½èƒ½å¤Ÿå¿«é€Ÿçš„æ„è¯†åˆ°ï¼Œå¯¼è‡´è¿™ä¸ªè¾“å‡ºæ˜¯&lt;strong&gt;é€ƒé€¸åˆ†æ&lt;/strong&gt;æ‰€è‡´çš„ç»“æœã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯¹ä¾‹å­è¿›è¡Œé€ƒé€¸åˆ†æï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â æºä»£ç ç»“æ„&lt;br/&gt;$Â catÂ -nÂ main.go&lt;br/&gt;Â Â Â Â Â 5Â funcÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â 6Â Â aÂ :=Â new(struct{})&lt;br/&gt;Â Â Â Â Â 7Â Â bÂ :=Â new(struct{})&lt;br/&gt;Â Â Â Â Â 8Â Â println(a,Â b,Â aÂ ==Â b)&lt;br/&gt;Â Â Â Â Â 9Â &lt;br/&gt;Â Â Â Â 10Â Â cÂ :=Â new(struct{})&lt;br/&gt;Â Â Â Â 11Â Â dÂ :=Â new(struct{})&lt;br/&gt;Â Â Â Â 12Â Â fmt.Println(c,Â d)&lt;br/&gt;Â Â Â Â 13Â Â println(c,Â d,Â cÂ ==Â d)&lt;br/&gt;Â Â Â Â 14Â }&lt;br/&gt;&lt;br/&gt;//Â è¿›è¡Œé€ƒé€¸åˆ†æ&lt;br/&gt;$Â goÂ runÂ -gcflags=&lt;span&gt;&quot;-mÂ -l&quot;&lt;/span&gt;Â main.go&lt;br/&gt;&lt;span&gt;#Â command-line-arguments&lt;/span&gt;&lt;br/&gt;./main.go:6:10:Â aÂ doesÂ notÂ escape&lt;br/&gt;./main.go:7:10:Â bÂ doesÂ notÂ escape&lt;br/&gt;./main.go:10:10:Â cÂ escapesÂ toÂ heap&lt;br/&gt;./main.go:11:10:Â dÂ escapesÂ toÂ heap&lt;br/&gt;./main.go:12:13:Â ...Â argumentÂ doesÂ notÂ escape&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡åˆ†æå¯å¾—çŸ¥å˜é‡ a, b å‡æ˜¯åˆ†é…åœ¨æ ˆä¸­ï¼Œè€Œå˜é‡ c, d åˆ†é…åœ¨å †ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å…³é”®åŸå› æ˜¯å› ä¸ºè°ƒç”¨äº† &lt;code&gt;fmt.Println&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å†…éƒ¨æ˜¯æ¶‰åŠåˆ°å¤§é‡çš„åå°„ç›¸å…³æ–¹æ³•çš„è°ƒç”¨ï¼Œä¼šé€ æˆé€ƒé€¸è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯åˆ†é…åˆ°å †ä¸Šã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸ºä»€ä¹ˆé€ƒé€¸åç›¸ç­‰&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³æ³¨ç¬¬ä¸€ä¸ªç»†èŠ‚ï¼Œå°±æ˜¯ â€œä¸ºä»€ä¹ˆé€ƒé€¸åï¼Œä¸¤ä¸ªç©º struct ä¼šæ˜¯ç›¸ç­‰çš„ï¼Ÿâ€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸»è¦ä¸ Go runtime çš„ä¸€ä¸ªä¼˜åŒ–ç»†èŠ‚æœ‰å…³ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â runtime/malloc.go&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â zerobaseÂ &lt;span&gt;uintptr&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å˜é‡ &lt;code&gt;zerobase&lt;/code&gt; æ˜¯æ‰€æœ‰ 0 å­—èŠ‚åˆ†é…çš„åŸºç¡€åœ°å€ã€‚æ›´è¿›ä¸€æ­¥æ¥è®²ï¼Œå°±æ˜¯ç©ºï¼ˆ0å­—èŠ‚ï¼‰çš„åœ¨è¿›è¡Œäº†é€ƒé€¸åˆ†æåï¼Œå¾€å †åˆ†é…çš„éƒ½ä¼šæŒ‡å‘ &lt;code&gt;zerobase&lt;/code&gt; è¿™ä¸€ä¸ªåœ°å€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ç©º struct åœ¨é€ƒé€¸åæœ¬è´¨ä¸ŠæŒ‡å‘äº† &lt;code&gt;zerobase&lt;/code&gt;ï¼Œå…¶ä¸¤è€…æ¯”è¾ƒå°±æ˜¯ç›¸ç­‰çš„ï¼Œè¿”å›äº† trueã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸ºä»€ä¹ˆæ²¡é€ƒé€¸ä¸ç›¸ç­‰&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³æ³¨ç¬¬äºŒä¸ªç»†èŠ‚ï¼Œå°±æ˜¯ â€œä¸ºä»€ä¹ˆæ²¡é€ƒé€¸å‰ï¼Œä¸¤ä¸ªç©º struct æ¯”è¾ƒä¸ç›¸ç­‰ï¼Ÿâ€ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.15115207373271888&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/KVl0giak5ib4jWGSpibCpWMJiaqrfkKrkyAprxm6Z3Bzia8Z5ByhoIia2AgaWpocAdq8ZGic6OsmSfkXEyhW5NYY0wPMA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2170&quot;/&gt;&lt;figcaption&gt;Go spec&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä» Go spec æ¥çœ‹ï¼Œè¿™æ˜¯ Go å›¢é˜Ÿåˆ»æ„è€Œä¸ºä¹‹çš„è®¾è®¡ï¼Œä¸å¸Œæœ›å¤§å®¶ä¾èµ–è¿™ä¸€ä¸ªæ¥åšåˆ¤æ–­ä¾æ®ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;blockquote&gt;&lt;p&gt;This is an intentional language choice to give implementations flexibility in how they handle pointers to zero-sized objects. If every pointer to a zero-sized object were required to be different, then each allocation of a zero-sized object would have to allocate at least one byte. If every pointer to a zero-sized object were required to be the same, it would be different to handle taking the address of a zero-sized field within a larger struct.&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜è¯´äº†ä¸€å¥å¾ˆç»å…¸çš„ï¼Œç»†å“ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;blockquote&gt;&lt;p&gt;Pointers to distinct zero-size variables may or may not be equal.&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ç©º struct åœ¨å®é™…ä½¿ç”¨ä¸­çš„åœºæ™¯æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œå¸¸è§çš„æ˜¯ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è®¾ç½® contextï¼Œä¼ é€’æ—¶ä½œä¸º key æ—¶ç”¨åˆ°ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¾ç½®ç©º struct ä¸šåŠ¡åœºæ™¯ä¸­ä¸´æ—¶ç”¨åˆ°ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†ä¸šåŠ¡åœºæ™¯çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¤§å¤šæ•°ä¼šéšç€ä¸šåŠ¡å‘å±•è€Œä¸æ–­æ”¹å˜ï¼Œå‡è®¾æœ‰ä¸ªè¿œå¤æ—¶ä»£çš„ Go ä»£ç ï¼Œä¾èµ–äº†ç©º struct çš„ç›´æ¥åˆ¤æ–­ï¼Œå²‚ä¸æ˜¯äº‹æ•…ä¸Šèº«ï¼Ÿ&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸å¯ç›´æ¥ä¾èµ–&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤ Go å›¢é˜Ÿè¿™ç•ªæ“ä½œï¼Œä¸ Go map çš„éšæœºæ€§å¦‚å‡ºä¸€è¾™ï¼Œé¿å…å¤§å®¶å¯¹è¿™ç±»é€»è¾‘çš„ç›´æ¥ä¾èµ–ï¼Œæ˜¯å€¼å¾—æ€è€ƒçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œåœ¨æ²¡é€ƒé€¸çš„åœºæ™¯ä¸‹ï¼Œä¸¤ä¸ªç©º struct çš„æ¯”è¾ƒåŠ¨ä½œï¼Œä½ ä»¥ä¸ºæ˜¯çœŸçš„åœ¨æ¯”è¾ƒã€‚å®é™…ä¸Šå·²ç»åœ¨ä»£ç ä¼˜åŒ–é˜¶æ®µè¢«ç›´æ¥ä¼˜åŒ–æ‰ï¼Œè½¬ä¸ºäº† falseã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤ï¼Œè™½ç„¶åœ¨ä»£ç ä¸Šçœ‹ä¸Šå»æ˜¯ == åœ¨åšæ¯”è¾ƒï¼Œå®é™…ä¸Šç»“æœæ˜¯ a == b æ—¶å°±ç›´æ¥è½¬ä¸ºäº† falseï¼Œæ¯”éƒ½ä¸éœ€è¦æ¯”äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ è¯´å¦™ä¸ï¼Ÿ&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ²¡é€ƒé€¸è®©ä»–ç›¸ç­‰&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†ä»–æ˜¯åœ¨ä»£ç ä¼˜åŒ–é˜¶æ®µè¢«ä¼˜åŒ–çš„ï¼Œé‚£ä¹ˆç›¸å¯¹çš„ï¼ŒçŸ¥é“äº†åŸç†çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©åœ¨ go ç¼–è¯‘è¿è¡Œæ—¶çš„ gcflags æŒ‡ä»¤ï¼Œè®©ä»–ä¸ä¼˜åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿è¡Œå‰é¢çš„ä¾‹å­æ—¶ï¼Œæ‰§è¡Œ &lt;code&gt;-gcflags=&quot;-N -l&quot;&lt;/code&gt; æŒ‡ä»¤ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â goÂ runÂ -gcflags=&lt;span&gt;&quot;-NÂ -l&quot;&lt;/span&gt;Â main.goÂ &lt;br/&gt;0xc000092f06Â 0xc000092f06Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;&amp;amp;{}Â &amp;amp;{}&lt;br/&gt;0x118c370Â 0x118c370Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ çœ‹ï¼Œä¸¤ä¸ªæ¯”è¾ƒçš„ç»“æœéƒ½æ˜¯ true äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ€»ç»“&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä»Šå¤©è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é’ˆå¯¹ Go è¯­è¨€ä¸­çš„ç©ºç»“æ„ä½“ï¼ˆstructï¼‰çš„æ¯”è¾ƒåœºæ™¯è¿›è¡Œäº†è¿›ä¸€æ­¥çš„è¡¥å…¨ã€‚&lt;span&gt;ç»è¿‡è¿™ä¸¤ç¯‡æ–‡ç« çš„æ´—ç¤¼ï¼Œä½ ä¼šæ›´å¥½çš„ç†è§£ Go ç»“æ„ä½“ä¸ºä»€ä¹ˆå«æ—¢å¯æ¯”è¾ƒåˆä¸å¯æ¯”è¾ƒäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œç©ºç»“æ„æ¯”è¾ƒçš„å¥‡å¦™ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è‹¥é€ƒé€¸åˆ°å †ä¸Šï¼Œç©ºç»“æ„ä½“åˆ™é»˜è®¤åˆ†é…çš„æ˜¯ &lt;code&gt;runtime.zerobase&lt;/code&gt; å˜é‡ï¼Œæ˜¯ä¸“é—¨ç”¨äºåˆ†é…åˆ°å †ä¸Šçš„ 0 å­—èŠ‚åŸºç¡€åœ°å€ã€‚å› æ­¤ä¸¤ä¸ªç©ºç»“æ„ä½“ï¼Œéƒ½æ˜¯ &lt;code&gt;runtime.zerobase&lt;/code&gt;ï¼Œä¸€æ¯”è¾ƒå½“ç„¶å°±æ˜¯ true äº†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è‹¥æ²¡æœ‰å‘ç”Ÿé€ƒé€¸ï¼Œä¹Ÿå°±åˆ†é…åˆ°æ ˆä¸Šã€‚åœ¨ Go ç¼–è¯‘å™¨çš„ä»£ç ä¼˜åŒ–é˜¶æ®µï¼Œä¼šå¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œç›´æ¥è¿”å› falseã€‚å¹¶ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ï¼ŒçœŸçš„å»æ¯”è¾ƒäº†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ä¼šæœ‰äººæ‹¿æ¥å‡ºé¢è¯•é¢˜ï¼Œä¸ä¼šå§ï¼Œä¸ºä»€ä¹ˆ Go ç»“æ„ä½“è¯´å¯æ¯”è¾ƒåˆä¸å¯æ¯”è¾ƒï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæ„Ÿè°¢æ¬§ç¥çš„æŒ‡å¯¼å’Œæ›¹å¤§çš„æ–‡ç« ã€‚æˆ‘æ˜¯ç…é±¼ï¼Œå’±ä»¬ä¸‹ç¯‡æ–‡ç« è§ ï¼šï¼‰&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å‚è€ƒ&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ¬§ç¥çš„å¾®ä¿¡äº¤æµ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ›¹å¤§çš„ä¸€ä¸ªç©º struct çš„â€œå‘â€&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzUxMDI4MDc1NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/KVl0giak5ib4iac2xQZIq5icSiaTepuae8zLIUMiaxibbUM8ic735ewo6e89GRtjGbUBlgNYibwCjAicglQcvz6dCQ6yTKOw/0?wx_fmt=png&quot; data-nickname=&quot;è„‘å­è¿›ç…é±¼äº†&quot; data-alias=&quot;eddycjy&quot; data-signature=&quot;åˆ†äº«è®¡ç®—æœºåŸºç¡€ã€Go è¯­è¨€ã€å¾®æœåŠ¡æ¶æ„å’Œç³»ç»Ÿè®¾è®¡ï¼›è‘—æœ‰å›¾ä¹¦ã€ŠGo è¯­è¨€ç¼–ç¨‹ä¹‹æ—…ã€‹ã€‚&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å…³æ³¨ç…é±¼ï¼Œå¸å–ä»–çš„çŸ¥è¯†Â ğŸ‘†&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e80db142d7801d37e2a2d2b92e4100e5</guid>
<title>èµ„æ–™ | Go è¯­è¨€å®ç”¨æ•™ç¨‹</title>
<link>https://toutiao.io/k/9squgg8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;span&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å‘¨åˆŠèŒã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzA4Njk2NDAzMA==&amp;amp;mid=2660215266&amp;amp;idx=2&amp;amp;sn=54400f6300be9d601500e59d737997e2&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç‰›å¹´è¡Œç‰›è¿ï¼åŠ å…¥ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€ï¼Œä¸€èµ·ç‰›èµ·æ¥ï¼&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ç‰›å¹´è¡Œç‰›è¿ï¼åŠ å…¥ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€ï¼Œä¸€èµ·ç‰›èµ·æ¥ï¼&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»¥ä¸‹å†…å®¹é€‰è‡ªã€Œç å†œå‘¨åˆŠ VIP ä¼šå‘˜ã€åœˆå­ï¼Œæ¯æ—¥æ›´æ–°ï¼Œç²¾å½©ä¸æ–­&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;1270&quot; data-ratio=&quot;2.408&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AjN1jquNavibc322ykQ89YfEOSt9Z0b4Lbiau4AxXrzLo513GUXMfcB0EeWTydygvmKtqSa1U2SexhgTpmNsdJuw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;750&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç å†œå‘¨åˆŠæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ç å†œå‘¨åˆŠæ˜¯ä¸€ä»½ä¸“ä¸ºå¹¿å¤§ç¨‹åºå‘˜ã€ç¼–ç¨‹çˆ±å¥½è€…ä»¬æ‰“é€ çš„ IT æŠ€æœ¯å‘¨åˆŠã€‚æ¯å‘¨å‘é€ã€‚&lt;br/&gt;2013 å¹´ 9 æœˆ 12 æ—¥åˆ›åˆŠè‡³ä»Šï¼Œå·²å‘é€ 300 å¤šæœŸï¼Œè®¢é˜…ç”¨æˆ·è¶… 20 ä¸‡ã€‚&lt;br/&gt;&lt;/span&gt;&lt;span&gt;ä¸“ä¸šã€ç®€å•ã€æœ‰ç”¨&lt;/span&gt;&lt;span&gt;ï¼Œæ˜¯æˆ‘ä»¬ä¸€ç›´åšæŒçš„åŠåˆŠå®—æ—¨ã€‚ä¸€è·¯èµ°æ¥ï¼Œæˆ‘ä»¬è§è¯äº†ä¸å°‘è®¢é˜…ç”¨æˆ·ä»ç¼–ç¨‹æ–°æ‰‹è¿›é˜¶æˆäº†é«˜çº§ç¨‹åºå‘˜ã€æ¶æ„å¸ˆã€CTOâ€¦â€¦&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;2020 å¹´ 4 æœˆï¼Œä¸ºäº†ç»™ç”¨æˆ·æä¾›æ›´ä¼˜è´¨çš„æœåŠ¡ï¼Œæˆ‘ä»¬æ¨å‡ºäº†ã€Œ&lt;/span&gt;&lt;span&gt;ç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;/span&gt;&lt;span&gt;ã€æœåŠ¡ã€‚&lt;br/&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä½ ä¸ BAT æŠ€æœ¯å¤§ç‰›ï¼Œåªå·®ä¸€ä»½ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€çš„è·ç¦»ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;VIPä¼šå‘˜ç‰¹æƒ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. 52 æœŸç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;span&gt;ä¸“å±é‚®ä»¶å‘¨æŠ¥&lt;/span&gt;ï¼Œè®©ä½ åŠæ—¶æŒæ¡æŠ€æœ¯åŠ¨å‘ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. åªé™VIPä¼šå‘˜åŠ å…¥çš„&lt;span&gt;äº¤æµåœˆå­&lt;/span&gt;ï¼Œè®©ä½ ä¸æŠ€æœ¯å¤§ç‰›åˆ‡ç£‹å­¦ä¹ ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3. VIPä¼šå‘˜ç‹¬äº«çš„&lt;span&gt;å·¥ä½œæœºä¼š&lt;/span&gt;ï¼Œä¸ºä½ ä»‹ç»å¥½å…¬å¸çš„å¥½æœºä¼šï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4. æ›´å¤šä¼šå‘˜ç‰¹æƒï¼ŒæŒç»­æ›´æ–°â€¦â€¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¦‚ä½•åŠ å…¥ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1. å¾®ä¿¡æ‰«æä¸‹æ–¹äºŒç»´ç ï¼ŒåŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜çŸ¥è¯†æ˜Ÿçƒã€‚&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¿ƒé”€æœŸé—´ï¼Œä¸€å¹´ä»…éœ€ 108 å…ƒï¼å¹³å‡ä¸€å¤©èŠ±è´¹ä¸åˆ° 3 æ¯›ï¼&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;322&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;350&quot; data-ratio=&quot;1.318840579710145&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;690&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/AjN1jquNav8pVYfXHFZnJw6GmED4PucZvQd6m3AP8fUG1IKJyBgicmJ3P5ygQjO5r6Bib2x190MFOlb6PwExNQuA/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. åŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜çŸ¥è¯†æ˜Ÿçƒåï¼Œå®¢æœä¼šè”ç³»æ‚¨ï¼Œè¯·ç•™æ„çŸ¥è¯†æ˜Ÿçƒå†…çš„ç§ä¿¡ã€‚&lt;br/&gt;3. å®¢æœå‘æ‚¨å‘é€ç å†œå‘¨åˆŠVIPä¼šå‘˜æ¬¢è¿é‚®ä»¶ï¼Œå¼€å¯æ‚¨çš„ç å†œå‘¨åˆŠVIPä¼šå‘˜ä¹‹æ—…ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¿ƒåŠ¨ä¸å¦‚å¿ƒåŠ¨ï¼Œèµ¶å¿«è®¢é˜…å§ï¼&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>