<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>6d4e7fde7e38175ee1f35304d2906448</guid>
<title>æˆ‘æ˜¯å¦‚ä½•é˜…è¯» JDK æºç çš„ï¼Ÿ</title>
<link>https://toutiao.io/k/5kuu7cq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1. å‰è¨€&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰æ–­æ–­ç»­ç»­è¯»è¿‡ä¸€éƒ¨åˆ† JDK å¸¸ç”¨ç±»çš„æºç ï¼Œè¿™é‡Œæƒ³æŠŠè¿‡ç¨‹ä¸­çš„ä¸€äº›å¿ƒå¾—å’Œæ–¹æ³•è®°å½•ä¸‹æ¥ï¼Œå¦‚æœèƒ½å¸®åˆ°éœ€è¦çš„å°ä¼™ä¼´å°±å†å¥½ä¸è¿‡äº†ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä¸»è¦åˆ†äº«ä¸€ä¸‹æˆ‘çš„é˜…è¯»å·¥å…·å’Œé˜…è¯»é¡ºåºã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;PS: ç”±äºå½“å‰ä¸»æµä½¿ç”¨çš„ JDK ç‰ˆæœ¬ä»æ˜¯ 1.8ï¼Œå› æ­¤æºç é˜…è¯»ä¸»è¦æ˜¯ 1.8 ç‰ˆæœ¬ï¼Œæœ‰äº›åœ°æ–¹å¯ä»¥å‚è€ƒ 1.7ï¼ˆé¢è¯•å¯èƒ½é—®åˆ°ï¼‰ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2. å·¥å…·&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦çš„å·¥å…·ä¸å¤šï¼ŒIDE + Google ç¿»è¯‘è¶³å¤Ÿäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ IDE çš„ä¸»è¦ç›®çš„æ˜¯å¯ä»¥å†™ä¸€äº›æµ‹è¯•ä»£ç ä»¥ä¾¿è·Ÿè¸ªè°ƒè¯•ã€‚è¿™ä¸ªè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œè·Ÿè¿›ä»£ç çš„æ‰§è¡Œæµç¨‹æ›´å®¹æ˜“ç†è§£å®ƒçš„å®ç°åŸç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›´æ¥åœ¨ IDE æ‰“å¼€æºç æ–‡ä»¶ï¼Œæºç ä¸­çš„æ³¨é‡Šé€šå¸¸å¾ˆè¯¦ç»†ï¼Œé‡åˆ°ä¸æ‡‚çš„åœ°æ–¹ Google ç¿»è¯‘ä¸€ä¸‹ã€‚ä¹Ÿå¯ä»¥åŠ ä¸Šå®˜æ–¹æ–‡æ¡£ï¼Œå…¶å®æºç é‡Œé¢æ³¨é‡Šè·Ÿæ–‡æ¡£æ˜¯ä¸€æ ·çš„ï¼Œæœ‰äº›åœ°æ–¹å¯èƒ½æ›´è¯¦ç»†ï¼Œåªä¸è¿‡å®˜æ–¹æ–‡æ¡£æ’ç‰ˆæ›´æ¼‚äº®ä¸€äº›ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;JDK 1.8 å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼šhttps://docs.oracle.com/javase/8/docs/api/&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œé˜…è¯»çš„å…ˆåé¡ºåºä¹Ÿå¾ˆé‡è¦ï¼Œä¸‹é¢ä»‹ç»ä¸‹æˆ‘çš„é˜…è¯»é¡ºåºã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3. é˜…è¯»é¡ºåº&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.1 æ•´ä½“é¡ºåº&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;JDK ä¸­çš„ä»£ç éå¸¸å¤šï¼Œä¸å¯èƒ½ã€ä¹Ÿæ²¡å¿…è¦å…¨éƒ¨è¯»å®Œï¼Œå› æ­¤è¦æœ‰çš„æ”¾çŸ¢ã€‚ä»æ•´ä½“ä¸Šæ¥è®²ï¼Œé¡ºåºå¤§æ¦‚æ˜¯ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é›†åˆæ¡†æ¶ç±»&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸»è¦åŒ…æ‹¬ Collectionã€Mapã€Queue ç­‰ç»„æˆçš„ä¸€ç³»åˆ—å¸¸ç”¨ç±»å’Œæ¥å£ï¼ŒåŒ…æ‹¬ ArrayListã€LinkedListã€HashMap ç­‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¿™éƒ¨åˆ†å†…å®¹æ—¥å¸¸å¼€å‘ä½¿ç”¨è¾ƒå¤šï¼Œè€Œä¸”é¢è¯•é«˜é¢‘å‡ºç°ï¼Œå› æ­¤å¯ä»¥å…ˆä»è¿™é‡Œå…¥æ‰‹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;å¹¶å‘åŒ…&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å³ java.util.concurrent (J.U.C) åŒ…ä¸‹çš„å¸¸ç”¨ç±»ï¼ŒåŒ…æ‹¬ ReentrantLockã€ThreadPoolExecutorã€AQS ç­‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¯¥éƒ¨åˆ†æä¾›äº†å¹¶å‘ç¼–ç¨‹çš„å¸¸ç”¨å·¥å…·ç±»ï¼Œä¹Ÿæ˜¯é¢è¯•é«˜é¢‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;å…¶ä»–å¸¸ç”¨ç±»&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¾‹å¦‚ ThreadLocalã€Stringã€StringBuilderã€StringBuffer ç­‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•´ä½“æ¦‚è§ˆå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.1453125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/ophTb90oYCQsrOKbYh3h4jxRnE1J0oQdQoZF7ialbaic44U7TkrJddCHcPQjTdfBicvTuquRtE41SVORTVMb7kHiag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“åˆ°æŸä¸€ä¸ªç±»ï¼Œå¦‚ä½•å»é˜…è¯»å®ƒçš„æºç å®ç°å‘¢ï¼Ÿä¸‹é¢ç»§ç»­ä»‹ç»ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.2 å…·ä½“é¡ºåº&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.2.1 ç±»å’Œæ¥å£&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä½•é˜…è¯»ä¸€ä¸ªç±»çš„æºç å‘¢ï¼Ÿä¸»è¦æ­¥éª¤å¤§æ¦‚æ˜¯ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å…ˆè¯»æ¥å£ä»£ç ã€‚åŒ…æ‹¬æ¥å£è¯´æ˜æ–‡æ¡£ã€å„ä¸ªæ–¹æ³•çš„å®šä¹‰å’Œè¯´æ˜æ–‡æ¡£ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å†å»è¯»å®ç°ç±»çš„ä¸»è¦æ–¹æ³•å®ç°ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸¤æ¡ä¸»çº¿å…¥å£ï¼š&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ„é€ æ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¸¸ç”¨æ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ Java ä¸­ï¼Œæ¥å£é€šå¸¸æ„å‘³ç€æ˜¯ä¸€ç§â€œæ ‡å‡†â€ã€æˆ–è€…â€œåè®®â€ã€‚ä¸€ä¸ªæ¥å£å¯ä»¥æœ‰å¤šä¸ªå®ç°ç±»ï¼Œå®ƒä»¬éƒ½ä¼šæŒ‰ç…§æ¥å£çš„è¿™ç§æ ‡å‡†æ¥å®ç°æ¥å£çš„å„ä¸ªæ–¹æ³•ã€‚å› æ­¤ï¼Œç†è§£äº†ä¸€ä¸ªæ–¹æ³•çš„å®šä¹‰ï¼Œå†å»çœ‹å®ƒçš„å®ç°ä¼šæ›´å®¹æ˜“ç†è§£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢ä»¥å¸¸ç”¨çš„ ArrayList ä¸ºä¾‹ï¼Œåˆ†æå¦‚ä½•å»é˜…è¯»å®ƒçš„æºç ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.2.2 ArrayList æºç åˆ†æ&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆçœ‹ä¸‹ ArrayList çš„ç»§æ‰¿ç»“æ„ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.45610034207525657&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/ophTb90oYCQsrOKbYh3h4jxRnE1J0oQdvOcVj6Q7zO9UgLXKQ4wicW8B1vQjIXLl5icfFO6P1Ldib6PjQx3Aj5LWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1754&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°å®ƒå®ç°äº†å¾ˆå¤šæ¥å£ï¼Œå…¶ä¸­ä¸‰ä¸ªæ¥å£ Cloneableã€RandomAccessã€Serializable éƒ½æ˜¯ç©ºçš„ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥ã€‚ä¸»è¦å»çœ‹ Iterableã€Collection ä»¥åŠ List æ¥å£çš„æ–¹æ³•å®šä¹‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Iterable æ¥å£ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.44970414201183434&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/ophTb90oYCQsrOKbYh3h4jxRnE1J0oQd5cBIF0zQbsSsLMN2xKmIWs77SCQSmQEsia6KEe4QNqBIMahuibLkKKUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;676&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Collection æ¥å£ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.5351351351351352&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/ophTb90oYCQsrOKbYh3h4jxRnE1J0oQdrCXvZqAzI6JsI9DAR0YicRIgMrEZrGRle5H6fkQMreILFjpOGj4Zib6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;740&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;List æ¥å£ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;2.035532994923858&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/ophTb90oYCQsrOKbYh3h4jxRnE1J0oQd7DicyiacTZ4Bf98czbicZWibCD5KGgx9u8WTFvkNPCs2ROtyGZXLO8OvyQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;788&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹èµ·æ¥æ–¹æ³•æŒºå¤šï¼Œå…¶å®ä¸å°‘éƒ½æ˜¯æˆ‘ä»¬å¹³æ—¶ä¼šç”¨åˆ°çš„ï¼Œå¤§éƒ¨åˆ†ç†è§£èµ·æ¥å¹¶ä¸å›°éš¾ï¼Œè€Œä¸”æ–¹æ³•ä¹Ÿéƒ½æœ‰æ³¨é‡Šã€‚è¿™éƒ¨åˆ†éš¾åº¦ä¸å¤§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æ ¹æ®å‰é¢æåˆ°çš„ä¸¤æ¡ä¸»çº¿å…¥å£ï¼Œåˆ†æ ArrayList çš„æºç å¦‚ä½•é˜…è¯»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ†æä¸€ä¸ªç±»çš„æºç æ—¶ï¼Œæ„é€ å™¨é€šå¸¸æ˜¯ä¸€ä¸ªå¥½çš„åˆ‡å…¥ç‚¹ã€‚æ¯”å¦‚ ArrayList çš„ä¸‰ä¸ªæ„é€ å™¨å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;ArrayList&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.elementDataÂ =Â DEFAULTCAPACITY_EMPTY_ELEMENTDATA;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;ArrayList&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â initialCapacity)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (initialCapacityÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.elementDataÂ =Â &lt;span&gt;new&lt;/span&gt;Â Object[initialCapacity];&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (initialCapacityÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.elementDataÂ =Â EMPTY_ELEMENTDATA;&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â IllegalArgumentException(&lt;span&gt;&quot;IllegalÂ Capacity:Â &quot;&lt;/span&gt;+&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â initialCapacity);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;ArrayList&lt;/span&gt;&lt;span&gt;(Collection&amp;lt;?Â extendsÂ E&amp;gt;Â c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â elementDataÂ =Â c.toArray();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â ((sizeÂ =Â elementData.length)Â !=Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â c.toArrayÂ mightÂ (incorrectly)Â notÂ returnÂ Object[]Â (seeÂ 6260652)&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (elementData.getClass()Â !=Â Object[].class)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â elementDataÂ =Â Arrays.copyOf(elementData,Â size,Â Object[].class);&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â replaceÂ withÂ emptyÂ array.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.elementDataÂ =Â EMPTY_ELEMENTDATA;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„é€ å™¨ä¸­æœ‰ä¸å°‘æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚ elementDataã€EMPTY_ELEMENTDATAã€DEFAULTCAPACITY_EMPTY_ELEMENTDATA ç­‰ï¼Œç»§ç»­è·Ÿè¿›è¿™å‡ ä¸ªå˜é‡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â Object[]Â EMPTY_ELEMENTDATAÂ =Â {};&lt;br/&gt;&lt;br/&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â Object[]Â DEFAULTCAPACITY_EMPTY_ELEMENTDATAÂ =Â {};&lt;br/&gt;&lt;br/&gt;&lt;span&gt;transient&lt;/span&gt;Â Object[]Â elementData;Â &lt;span&gt;//Â non-privateÂ toÂ simplifyÂ nestedÂ classÂ access&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±æ­¤å¯ä»¥å¾—çŸ¥ï¼Œå½“æˆ‘ä»¬å†™äº† &lt;code&gt;new ArrayList()&lt;/code&gt; æ—¶ï¼Œå®ƒçš„å†…éƒ¨åˆ°åº•åšäº†äº›ä»€ä¹ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†æ„é€ å™¨ï¼Œå¸¸ç”¨æ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªä¸»è¦çš„å…¥å£ï¼Œæ¯”å¦‚ addã€remove ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;add æ–¹æ³•å®ç°ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(EÂ e)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ensureCapacityInternal(sizeÂ +Â &lt;span&gt;1&lt;/span&gt;);Â Â &lt;span&gt;//Â IncrementsÂ modCount!!&lt;/span&gt;&lt;br/&gt;Â Â Â Â elementData[size++]Â =Â e;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;ensureCapacityInternal&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â minCapacity)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ensureExplicitCapacity(calculateCapacity(elementData,Â minCapacity));&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥ä¸€è¡Œè¡Œè·Ÿè¿›ä»£ç ï¼ŒæŸ¥çœ‹ add æ–¹æ³•å†…éƒ¨åˆ°åº•åšäº†ä»€ä¹ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä»–æ–¹æ³•çš„å¥—è·¯ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œä¸å†ä¸€ä¸€è¯´æ˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‰ç…§è¿™æ ·ä¸€æ¡æ¡ä¸»çº¿èµ°ä¸‹æ¥ï¼Œå°±å¯ä»¥å¯¹ ArrayList çš„å®ç°åŸç†æœ‰ä¸ªæ•´ä½“çš„è®¤çŸ¥äº†ã€‚æ•´ä½“éƒ¨åˆ†ææ¸…æ¥šä¹‹åï¼Œæ¥ä¸‹æ¥è¿˜å¯ä»¥å»è¯»ä¸€äº›ä¸å¤ªå¸¸ç”¨çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å‰©ä½™çš„æ‰€æœ‰éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;PS: è¿™é‡Œåªæ˜¯ä»¥å¸¸ç”¨çš„ ArrayList ä¸ºä¾‹ï¼Œå…¶ä»–åŒ…ä¸‹çš„ç±»çš„é˜…è¯»æ­¥éª¤ä¹Ÿå¤§åŒå°å¼‚ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.3 åšç¬”è®°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œåšç¬”è®°ä¹Ÿå¾ˆé‡è¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥ç”¨æ€ç»´å¯¼å›¾æ¢³ç†æ•´ä½“è„‰ç»œï¼Œç”¨ç¬”è®°å·¥å…·è®°å½•ä¸€ä¸ªç±»çš„æ ¸å¿ƒéƒ¨åˆ†å®ç°åŸç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œå¦‚æœè‡ªå·±æ•´ç†å’Œå†™å‡ºæ¥ç¬”è®°æ›´å¥½ï¼Œè®¸å¤šæ—¶å€™æ€»è§‰å¾—è‡ªå·±çŸ¥é“äº†ï¼Œä½†æ˜¯åˆ«äººä¸€é—®å°±æ‡µäº†ï¼Œå¯èƒ½è¿˜æ˜¯æ²¡ç†è§£åˆ°ä½å§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰å¥è¯è¯´å¾—å¥½ï¼šâ€æ•™æ˜¯æœ€å¥½çš„å­¦â€œã€‚å½“ä½ èƒ½æŠŠæŸä¸ªçŸ¥è¯†ç‚¹é€šä¿—æ˜“æ‡‚çš„è®²ç»™ä¸€ä¸ªå¤–è¡Œäººï¼Œæ‰æ˜¯çœŸçš„æ‡‚äº†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.4 æ³¨æ„ç‚¹&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆšå¼€å§‹è¯»æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°æŸäº›åœ°æ–¹éš¾ä»¥ç†è§£ï¼Œå¯ä»¥å°è¯•å†™æµ‹è¯•ä»£ç æ–­ç‚¹è·Ÿè¸ªè°ƒè¯•ï¼Œæˆ–è€…å‚è€ƒåˆ«äººçš„åšå®¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœé‡åˆ°æŸä¸ªç‚¹å®åœ¨éš¾ä»¥ç†è§£ï¼Œä¹Ÿå¯ä»¥å…ˆè·³è¿‡ï¼Œè¿‡æ®µæ—¶é—´å†é‡æ–°æ€è€ƒä¹Ÿè®¸å°±è±ç„¶å¼€æœ—äº†ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;PS:&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä»¥ä¸Šå†…å®¹çº¯å±ä¸ªäººè§è§£ï¼Œä»…ä¾›å‚è€ƒã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ­¤å¤–ï¼Œæˆ‘æŠŠä¹‹å‰æ–‡ç« çš„ç¬”è®°æ•´ç†æˆäº†ç”µå­ä¹¦ï¼Œåå°å›å¤ã€ŒJDKæºç ã€å³å¯è·å–ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/blockquote&gt;&lt;section&gt;&lt;mp-qa class=&quot;js_uneditable custom_select_card qa_iframe&quot; data-pluginname=&quot;insertquestion&quot; data-id=&quot;1548110088865939457&quot; data-bizuin=&quot;MzU4NzYyMDE4MQ==&quot; data-title=&quot;å¤§å®¶æœ‰å¥½çš„æ–¹æ³•æˆ–åæ§½æ¬¢è¿æå‡ºæ¥è®¨è®ºï¼ˆæˆ‘ä¹Ÿä½“éªŒä¸‹è¿™ä¸ªåŠŸèƒ½ğŸ˜€ï¼‰&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5555555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/ophTb90oYCR6eOZrkKMnznEahtiajNrSAicJDk24paw3VDzbZRLXgyibXWEuZ4qhuSgXoeFaqj1gpV96gVpZCHc7g/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;639&quot;/&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>6041e47fb7388c0bad13cc3c6447177d</guid>
<title>é«˜æ€§èƒ½ç½‘å…³è®¾è®¡å®è·µ</title>
<link>https://toutiao.io/k/7579qvt</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰çš„&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI5MTU1MzM3MQ==&amp;amp;mid=2247483977&amp;amp;idx=1&amp;amp;sn=9f932e774b680d06d105f495b96bb933&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;é«˜æ€§èƒ½çŸ­é“¾è®¾è®¡&lt;/a&gt;ä¸€æ–‡é¢‡å—å¤§å®¶å¥½è¯„ï¼Œå…±è¢«è½¬è½½ &lt;strong&gt;ã€Œ47ã€&lt;/strong&gt; æ¬¡ï¼Œå—å® è‹¥æƒŠï¼Œåœ¨æ­¤æ„Ÿè°¢å¤§å®¶çš„è®¤å¯ï¼åœ¨æ–‡æœ«ç®€å•æäº†ä¸€ä¸‹ OpenRestyï¼Œä¸€äº›è¯»è€…æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œåˆšå¥½æˆ‘ä»¬æ¥å…¥å±‚ç½‘å…³ä¹Ÿæ˜¯ç”¨çš„ OpenRestyï¼Œæ‰€ä»¥å¸Œæœ›é€šè¿‡å¯¹ç½‘å…³è®¾è®¡çš„ä»‹ç»æ¥ç®€å•æ€»ç»“ä¸€ä¸‹ OpenResty çš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œäº‰å–è®©å¤§å®¶å¯¹ OpenResty è¿™ç§é«˜æ€§èƒ½ Web å¹³å°æœ‰ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„äº†è§£ã€‚æœ¬æ–‡ä¼šä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥è®²è§£ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ç½‘å…³çš„ä½œç”¨&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¥å…¥å±‚ç½‘å…³æ¶æ„è®¾è®¡ä¸å®ç°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æŠ€æœ¯é€‰å‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;OpenResty åŸç†å‰–æ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ç½‘å…³çš„ä½œç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³ä½œä¸ºæ‰€æœ‰è¯·æ±‚çš„æµé‡å…¥å£ï¼Œä¸»è¦æ‰¿æ‹…ç€å®‰å…¨ï¼Œé™æµï¼Œç†”æ–­é™çº§ï¼Œç›‘æ§ï¼Œæ—¥å¿—ï¼Œé£æ§ï¼Œé‰´æƒç­‰åŠŸèƒ½ï¼Œç½‘å…³ä¸»è¦æœ‰ä¸¤ç§ç±»å‹&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸€ç§æ˜¯æ¥å…¥å±‚ç½‘å…³ï¼ˆaccess gatewayï¼‰ï¼Œä¸»è¦è´Ÿè´£è·¯ç”±ï¼ŒWAFï¼ˆé˜²æ­¢SQL Injection, XSS, è·¯å¾„éå†, çªƒå–æ•æ„Ÿæ•°æ®,CCæ”»å‡»ç­‰ï¼‰ï¼Œé™æµï¼Œæ—¥å¿—ï¼Œç¼“å­˜ç­‰ï¼Œè¿™ä¸€å±‚çš„ç½‘å…³ä¸»è¦æ‰¿è½½ç€å°†è¯·æ±‚è·¯ç”±åˆ°å„ä¸ªåº”ç”¨å±‚ç½‘å…³çš„åŠŸèƒ½&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦ä¸€ç§æ˜¯åº”ç”¨å±‚ç½‘å…³ï¼Œæ¯”å¦‚ç°åœ¨æµè¡Œçš„å¾®æœåŠ¡ï¼Œå„ä¸ªæœåŠ¡å¯èƒ½æ˜¯ç”¨ä¸åŒçš„è¯­è¨€å†™çš„ï¼Œå¦‚ PHPï¼ŒJava ç­‰ï¼Œé‚£ä¹ˆæ¥å…¥å±‚å°±è¦å°†è¯·æ±‚è·¯ç”±åˆ°ç›¸åº”çš„åº”ç”¨å±‚é›†ç¾¤ï¼Œå†ç”±ç›¸åº”çš„åº”ç”¨å±‚ç½‘å…³è¿›è¡Œé‰´æƒç­‰å¤„ç†ï¼Œå¤„ç†å®Œä¹‹åå†è°ƒç”¨ç›¸åº”çš„å¾®æœåŠ¡è¿›è¡Œå¤„ç†ï¼Œåº”ç”¨å±‚ç½‘å…³ä¹Ÿèµ·ç€è·¯ç”±ï¼Œè¶…æ—¶ï¼Œé‡è¯•ï¼Œç†”æ–­ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„ç³»ç»Ÿæ¶æ„å¦‚ä¸‹&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3899905571293673&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYR6XbHeLXs3z9UAOfdicwIMEvyI9uiakDWraUSILW291G6cZjO9LW5RPFQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1059&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°æ¥å…¥å±‚ç½‘å…³æ‰¿è½½ç€å…¬å¸çš„æ‰€æœ‰æµé‡ï¼Œå¯¹æ€§èƒ½æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œå®ƒçš„è®¾è®¡å†³å®šç€æ•´ä¸ªç³»ç»Ÿçš„ä¸Šé™ã€‚æ‰€ä»¥æˆ‘ä»¬ä»Šå¤©ä¸»è¦è°ˆè°ˆæ¥å…¥å±‚ç½‘å…³çš„è®¾è®¡ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ¥å…¥å±‚ç½‘å…³æ¶æ„è®¾è®¡ä¸å®ç°&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæˆ‘ä»¬è¦æ˜ç™½æ¥å…¥å±‚ç½‘å…³çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š&lt;strong&gt;ã€Œæ ¹æ®è·¯ç”±è§„åˆ™å°†è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„åç«¯é›†ç¾¤ã€&lt;/strong&gt;ï¼Œæ‰€ä»¥è¦å®ç°å¦‚ä¸‹å‡ ä¸ªåŠŸèƒ½æ¨¡å‹ ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€ è·¯ç”±ï¼šæ ¹æ®è¯·æ±‚çš„ host, url ç­‰è§„åˆ™è½¬å‘åˆ°æŒ‡å®šçš„ä¸Šæ¸¸ï¼ˆç›¸åº”çš„åç«¯é›†ç¾¤ï¼‰
2ã€ è·¯ç”±ç­–ç•¥æ’ä»¶åŒ–ï¼šè¿™æ˜¯ç½‘å…³çš„&lt;strong&gt;ã€Œçµé­‚æ‰€åœ¨ã€&lt;/strong&gt;ï¼Œè·¯ç”±ä¸­ä¼šæœ‰èº«ä»½è®¤è¯ï¼Œé™æµé™é€Ÿï¼Œå®‰å…¨é˜²æŠ¤ï¼ˆå¦‚ IP é»‘åå•ï¼Œreferå¼‚å¸¸ï¼ŒUAå¼‚å¸¸ï¼Œéœ€ç¬¬ä¸€æ—¶é—´æ‹’ç»ï¼‰ç­‰è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ä»¥æ’ä»¶çš„å½¢å¼äº’ç›¸ç»„åˆèµ·æ¥ä»¥ä¾¿åªå¯¹æŸä¸€ç±»çš„è¯·æ±‚ç”Ÿæ•ˆï¼Œæ¯ä¸ªæ’ä»¶éƒ½å³æ’å³ç”¨ï¼Œäº’ä¸å½±å“ï¼Œè¿™äº›æ’ä»¶åº”è¯¥æ˜¯&lt;strong&gt;ã€ŒåŠ¨æ€å¯é…ç½®ã€&lt;/strong&gt;çš„ï¼ŒåŠ¨æ€ç”Ÿæ•ˆçš„ï¼ˆæ— é¡»é‡å¯æœåŠ¡ï¼‰ï¼Œä¸ºå•¥è¦å¯åŠ¨æ€å¯é…ç½®å‘¢ï¼Œå› ä¸ºæ¯ä¸ªè¯·æ±‚å¯¹åº”çš„è·¯ç”±é€»è¾‘ï¼Œé™æµè§„åˆ™ï¼Œæœ€ç»ˆè¯·æ±‚çš„åç«¯é›†ç¾¤ç­‰è§„åˆ™æ˜¯ä¸ä¸€æ ·çš„&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0770465489566614&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRlVRYaicH8DvefIeNYALbJYpiaaLTm6NBh5AicXaeozGHThVGh8P8PKBQg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;623&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚å›¾ç¤ºï¼Œä¸¤ä¸ªè¯·æ±‚å¯¹åº”çš„è·¯ç”±è§„åˆ™æ˜¯ä¸ä¸€æ ·çš„ï¼Œå®ƒä»¬å¯¹åº”çš„è·¯ç”±è§„åˆ™ï¼ˆé™æµï¼Œrewriteï¼‰ç­‰é€šè¿‡å„ä¸ªè§„åˆ™æ’ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå…‰ä¸¤ä¸ªè¯·æ±‚ url çš„è·¯ç”±è§„åˆ™å°±æœ‰æŒºå¤šçš„ï¼Œå¦‚æœä¸€ä¸ªç³»ç»Ÿå¤§åˆ°ä¸€å®šç¨‹åº¦ï¼Œurl ä¼šæœ‰ä¸å°‘ï¼Œå°±ä¼šæœ‰ä¸å°‘è§„åˆ™ï¼Œè¿™æ ·æ¯ä¸ªè¯·æ±‚çš„è§„åˆ™å°±å¿…é¡»&lt;strong&gt;ã€Œå¯é…ç½®åŒ–ã€&lt;/strong&gt;ï¼Œ&lt;strong&gt;ã€ŒåŠ¨æ€åŒ–ã€&lt;/strong&gt;ï¼Œæœ€å¥½èƒ½åœ¨ç®¡ç†ç«¯é›†ä¸­æ§åˆ¶ï¼Œç»Ÿä¸€ä¸‹å‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€åç«¯é›†ç¾¤çš„åŠ¨æ€å˜æ›´&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·¯ç”±è§„åˆ™çš„åº”ç”¨æ˜¯ä¸ºäº†ç¡®å®šæŸä¸€ç±»è¯·æ±‚ç»è¿‡è¿™äº›è§„åˆ™åæœ€ç»ˆåˆ°è¾¾å“ªä¸€ä¸ªé›†ç¾¤ï¼Œè€Œæˆ‘ä»¬çŸ¥é“è¯·æ±‚è‚¯å®šæ˜¯è¦æ‰“åˆ°æŸä¸€å°é›†ç¾¤çš„ ip ä¸Šçš„ï¼Œè€Œæœºå™¨çš„æ‰©ç¼©å®¹å…¶å®æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œæ‰€ä»¥å¿…é¡»æ”¯æŒåŠ¨æ€å˜æ›´ï¼Œæ€»ä¸èƒ½æˆ‘æ¯æ¬¡ä¸Šä¸‹çº¿æœºå™¨çš„æ—¶å€™éƒ½è¦é‡å¯ç³»ç»Ÿè®©å®ƒç”Ÿæ•ˆå§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€ç›‘æ§ç»Ÿè®¡ï¼Œè¯·æ±‚é‡ã€é”™è¯¯ç‡ç»Ÿè®¡ç­‰ç­‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œåœ¨æ¥å…¥å±‚ä½œæ‰€æœ‰æµé‡çš„è¯·æ±‚ï¼Œé”™è¯¯ç»Ÿè®¡ï¼Œä¾¿äºæ‰“ç‚¹ï¼Œå‘Šè­¦ï¼Œåˆ†æã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦å®ç°è¿™äº›éœ€æ±‚å°±å¿…é¡»å¯¹æˆ‘ä»¬é‡‡ç”¨çš„æŠ€æœ¯ï¼šOpenResty æœ‰æ¯”è¾ƒè¯¦ç»†çš„äº†è§£ï¼Œæ‰€ä»¥ä¸‹æ–‡ä¼šç®€å•ä»‹ç»ä¸€ä¸‹ OpenResty çš„çŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æŠ€æœ¯é€‰å‹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äººå¯èƒ½ç¬¬ä¸€çœ¼æƒ³åˆ°ç”¨ Nginx,æ²¡é”™ï¼Œç”±äº Nginx é‡‡ç”¨äº† epoll æ¨¡å‹ï¼ˆéé˜»å¡ IO æ¨¡å‹ï¼‰ï¼Œç¡®å®èƒ½æ»¡è¶³å¤§å¤šæ•°åœºæ™¯çš„éœ€æ±‚ï¼ˆç»è¿‡ä¼˜åŒ– 100 w + çš„å¹¶å‘æ•°ä¸æ˜¯é—®é¢˜ï¼‰ï¼Œä½†æ˜¯ Nginx æ›´é€‚åˆä½œä¸ºé™æ€çš„ Web æœåŠ¡å™¨ï¼Œå› ä¸ºå¯¹äº Nginx æ¥è¯´ï¼Œå¦‚æœå‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œéƒ½éœ€è¦ä¿®æ”¹ç£ç›˜ä¸Šçš„é…ç½®ï¼Œç„¶åé‡æ–°åŠ è½½æ‰èƒ½ç”Ÿæ•ˆï¼Œå®ƒå¹¶æ²¡æœ‰æä¾› API æ¥æ§åˆ¶è¿è¡Œæ—¶çš„è¡Œä¸ºï¼Œè€Œå¦‚ä¸Šæ–‡æ‰€è¿°ï¼ŒåŠ¨æ€åŒ–æ˜¯æ¥å…¥å±‚ç½‘å…³éå¸¸é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½ã€‚æ‰€ä»¥ç»è¿‡ä¸€ç•ªè°ƒç ”ï¼Œæˆ‘ä»¬é€‰æ‹©äº† OpenRestyï¼Œå•¥æ˜¯ OpenResty å‘¢ï¼Œæ¥çœ‹ä¸‹å®˜ç½‘çš„å®šä¹‰ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;OpenRestyÂ® æ˜¯ä¸€ä¸ªåŸºäº Nginx ä¸ Lua çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ç²¾è‰¯çš„ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ã€‚ç”¨äºæ–¹ä¾¿åœ°æ­å»ºèƒ½å¤Ÿå¤„ç†è¶…é«˜å¹¶å‘ã€æ‰©å±•æ€§æé«˜çš„åŠ¨æ€ Web åº”ç”¨ã€Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ã€‚OpenRestyÂ® çš„ç›®æ ‡æ˜¯è®©ä½ çš„WebæœåŠ¡ç›´æ¥è·‘åœ¨ Nginx æœåŠ¡å†…éƒ¨ï¼Œå……åˆ†åˆ©ç”¨ Nginx çš„éé˜»å¡ I/O æ¨¡å‹ï¼Œä¸ä»…ä»…å¯¹ HTTP å®¢æˆ·ç«¯è¯·æ±‚,ç”šè‡³äºå¯¹è¿œç¨‹åç«¯è¯¸å¦‚ MySQLã€PostgreSQLã€Memcached ä»¥åŠ Redis ç­‰éƒ½è¿›è¡Œä¸€è‡´çš„é«˜æ€§èƒ½å“åº”ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥ç®€å•ç†è§£ä¸ºï¼ŒOpenResty = Nginx + Lua, é€šè¿‡ Lua æ‰©å±• Nginx å®ç°çš„å¯ä¼¸ç¼©çš„ Web å¹³å°
ã€‚å®ƒåˆ©ç”¨äº† Nginx çš„é«˜æ€§èƒ½ï¼Œåˆåœ¨å…¶åŸºç¡€ä¸Šæ·»åŠ äº† Lua çš„è„šæœ¬è¯­è¨€æ¥è®© Nginx ä¹Ÿå…·æœ‰äº†åŠ¨æ€çš„ç‰¹æ€§ã€‚é€šè¿‡ OpenResty ä¸­ lua-Nginx-module æ¨¡å—ä¸­æä¾›çš„ Lua APIï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€åœ°æ§åˆ¶è·¯ç”±ã€ä¸Šæ¸¸ã€SSL è¯ä¹¦ã€è¯·æ±‚ã€å“åº”ç­‰ã€‚ç”šè‡³å¯ä»¥åœ¨ä¸é‡å¯ OpenResty çš„å‰æä¸‹ï¼Œä¿®æ”¹ä¸šåŠ¡çš„å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸å±€é™äº OpenResty æä¾›çš„ Lua APIã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºé™æ€å’ŒåŠ¨æ€æœ‰ä¸€ä¸ªå¾ˆåˆé€‚çš„ç±»æ¯”ï¼šå¦‚æœæŠŠ Web æœåŠ¡å™¨å½“åšæ˜¯ä¸€ä¸ªæ­£åœ¨é«˜é€Ÿå…¬è·¯ä¸Šé£é©°çš„æ±½è½¦ï¼ŒNginx éœ€è¦åœè½¦æ‰èƒ½æ›´æ¢è½®èƒï¼Œæ›´æ¢è½¦æ¼†é¢œè‰²ï¼Œè€Œ OpenResty ä¸­å¯ä»¥è¾¹è·‘è¾¹æ¢è½®èƒï¼Œæ›´æ¢è½¦æ¼†ï¼Œç”šè‡³æ›´æ¢å‘åŠ¨æœºï¼Œç›´æ¥è®©æ™®é€šçš„æ±½è½¦å˜æˆè¶…è·‘ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†ä»¥ä¸Šçš„åŠ¨æ€æ€§ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æ€§è®© OpenResty ç‹¬å‡ºä¸€æ ¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œ1.è¯¦å°½çš„æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹ã€&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºå¼€æºé¡¹ç›®ï¼Œæ–‡æ¡£å’Œæµ‹è¯•æ¯«æ— ç–‘é—®æ˜¯å…¶æ˜¯å¦é è°±çš„å…³é”®ï¼Œå®ƒçš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼Œä½œè€…æŠŠæ¯ä¸ªæ³¨æ„çš„ç‚¹éƒ½å†™åœ¨æ–‡æ¡£ä¸Šäº†ï¼Œå¤šæ•°æ—¶å€™åªè¦çœ‹æ–‡æ¡£å³å¯ï¼Œæ¯ä¸€ä¸ªæµ‹è¯•æ¡ˆä¾‹éƒ½åŒ…å«å®Œæ•´çš„ Nginx é…ç½®å’Œ lua ä»£ç ã€‚ä»¥åŠæµ‹è¯•çš„è¾“å…¥æ•°æ®å’Œé¢„æœŸçš„è¾“å‡ºæ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œ2.åŒæ­¥éé˜»å¡ã€&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenResty åœ¨è¯ç”Ÿä¹‹åˆå°±æ”¯æŒäº†åç¨‹ï¼Œå¹¶ä¸”åŸºäºæ­¤å®ç°äº†åŒæ­¥éé˜»å¡çš„ç¼–ç¨‹æ¨¡å‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œç”»å¤–éŸ³ï¼šåç¨‹ï¼ˆcoroutineï¼‰æˆ‘ä»¬å¯ä»¥å°†å®ƒçœ‹æˆä¸€ä¸ªç”¨æˆ·æ€çš„çº¿ç¨‹ï¼Œåªä¸è¿‡è¿™ä¸ªçº¿ç¨‹æ˜¯æˆ‘ä»¬è‡ªå·±è°ƒåº¦çš„ï¼Œè€Œä¸”ä¸åŒåç¨‹çš„åˆ‡æ¢ä¸éœ€è¦é™·å…¥å†…æ ¸æ€ï¼Œæ•ˆç‡æ¯”è¾ƒé«˜ã€‚ï¼ˆä¸€èˆ¬æˆ‘ä»¬è¯´çš„çº¿ç¨‹æ˜¯è¦æŒ‡å†…æ ¸æ€çº¿ç¨‹ï¼Œç”±å†…æ ¸è°ƒåº¦ï¼Œéœ€è¦ä»ç”¨æˆ·ç©ºé—´é™·å…¥å†…æ ¸ç©ºé—´ï¼Œç›¸æ¯”åç¨‹ï¼Œå¯¹æ€§èƒ½ä¼šæœ‰ä¸å°çš„å½±å“ï¼‰ã€&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•¥æ˜¯åŒæ­¥éé˜»å¡å‘¢ã€‚å‡è®¾æœ‰ä»¥ä¸‹ä¸¤ä¸ªä¸¤è¡Œä»£ç ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;local&lt;/span&gt;Â res,Â errÂ Â =Â query-mysql(sql)&lt;br/&gt;&lt;span&gt;local&lt;/span&gt;Â value,Â errÂ =Â query-redis(key)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€ŒåŒæ­¥ã€&lt;/strong&gt;ï¼šå¿…é¡»æ‰§è¡Œå®ŒæŸ¥è¯¢ mysqlï¼Œæ‰èƒ½æ‰§è¡Œä¸‹é¢çš„ redis æŸ¥è¯¢ï¼Œå¦‚æœä¸ç­‰ mysql æ‰§è¡Œå®Œæˆå°±èƒ½æ‰§è¡Œ redis åˆ™æ˜¯å¼‚æ­¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œé˜»å¡ã€&lt;/strong&gt;ï¼šå‡è®¾æ‰§è¡Œ sql è¯­å¥éœ€è¦ 1sï¼Œå¦‚æœåœ¨è¿™ 1s å†…ï¼ŒCPU åªèƒ½å¹²ç­‰ç€ä¸èƒ½åšå…¶å®ƒä»»ä½•äº‹ï¼Œé‚£å°±æ˜¯é˜»å¡ï¼Œå¦‚æœåœ¨ sql æ‰§è¡ŒæœŸé—´å¯ä»¥åšå…¶ä»–äº‹ï¼ˆæ³¨æ„ç”±äºæ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸èƒ½æ‰§è¡Œä»¥ä¸‹çš„ redis æŸ¥è¯¢ï¼‰ï¼Œåˆ™æ˜¯éé˜»å¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ­¥å…³æ³¨çš„æ˜¯è¯­å¥çš„å…ˆåæ‰§è¡Œé¡ºåºï¼Œå¦‚æœä¸Šä¸€ä¸ªè¯­å¥å¿…é¡»æ‰§è¡Œå®Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªè¯­å¥å°±æ˜¯åŒæ­¥ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±æ˜¯å¼‚æ­¥ï¼Œé˜»å¡å…³æ³¨çš„æ˜¯çº¿ç¨‹æ˜¯ CPU æ˜¯å¦éœ€è¦åœ¨ IO æœŸé—´å¹²ç­‰ç€ï¼Œå¦‚æœåœ¨ IOï¼ˆæˆ–å…¶ä»–è€—æ—¶æ“ä½œæœŸé—´ï¼‰æœŸé—´å¯ä»¥åšå…¶ä»–äº‹ï¼Œé‚£å°±æ˜¯éé˜»å¡ï¼Œä¸èƒ½åŠ¨ï¼Œåˆ™æ˜¯é˜»å¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆ OpenResty çš„å·¥ä½œåŸç†æ˜¯æ€æ ·çš„å‘¢ï¼Œåˆæ˜¯å¦‚ä½•å®ç°åŒæ­¥éé˜»å¡çš„å‘¢ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;OpenResty åŸç†å‰–æ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;å·¥ä½œåŸç†å‰–æ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äº OpenResty åŸºäº Nginx å®ç°çš„ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Nginx çš„å·¥ä½œåŸç†&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7869415807560137&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYR56Uv0OeVibs6qu7pMyrD2WwODOeU24WYfmckf3cdp01exEia15ygz1pw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1164&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Nginx å¯åŠ¨åï¼Œä¼šæœ‰ä¸€ä¸ª master è¿›ç¨‹å’Œå¤šä¸ª worker è¿›ç¨‹ ï¼Œ master è¿›ç¨‹æ¥å—ç®¡ç†å‘˜çš„ä¿¡å·é‡ï¼ˆå¦‚ Nginx -s reload, -s stopï¼‰æ¥ç®¡ç† worker è¿›ç¨‹ï¼Œmaster æœ¬èº«å¹¶ä¸æ¥æ”¶ client çš„è¯·æ±‚ï¼Œä¸»è¦ç”± worker è¿›ç¨‹æ¥æ¥æ”¶è¯·æ±‚ï¼Œä¸åŒäº apache çš„æ¯ä¸ªè¯·æ±‚ä¼šå ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸”æ˜¯åŒæ­¥IOï¼ŒNginx æ˜¯å¼‚æ­¥éé˜»å¡çš„ï¼Œæ¯ä¸ª worker å¯ä»¥åŒæ—¶å¤„ç†çš„è¯·æ±‚æ•°åªå—é™äºå†…å­˜å¤§å°ï¼Œè¿™é‡Œå°±è¦ç®€å•åœ°äº†è§£ä¸€ä¸‹ nginx é‡‡ç”¨çš„ epoll æ¨¡å‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;epoll é‡‡ç”¨å¤šè·¯å¤ç”¨æ¨¡å‹ï¼Œå³åŒä¸€æ—¶é—´è™½ç„¶å¯èƒ½ä¼šæœ‰å¤šä¸ªè¯·æ±‚è¿›æ¥ï¼Œ ä½†åªä¼šç”¨ä¸€ä¸ªçº¿ç¨‹å»ç›‘è§†ï¼Œç„¶åå“ªä¸ªè¯·æ±‚æ•°æ®å‡†å¤‡å¥½äº†ï¼Œå°±è°ƒç”¨ç›¸åº”çš„çº¿ç¨‹å»å¤„ç†ï¼Œå°±åƒå›¾ä¸­æ‰€ç¤ºï¼Œå¦‚åŒæ‹¨å¼€å…³ä¸€æ ·ï¼ŒåŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨å¤„ç†ï¼Œ Nginx åº•å±‚å°±æ˜¯ç”¨çš„ epoll ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œæ¯ä¸ªè¯·æ±‚è¿›æ¥æ³¨å†Œäº‹ä»¶å¹¶æ³¨å†Œ callback å›è°ƒå‡½æ•°ï¼Œç­‰æ•°æ®å‡†å…¥å¥½äº†ï¼Œå°±è°ƒç”¨å›è°ƒå‡½æ•°è¿›è¡Œå¤„ç†ï¼Œå®ƒæ˜¯å¼‚æ­¥éé˜»å¡çš„ï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆé«˜ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2975&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRYbNPicgOHBWWvhjicriaIDayYvicuVJAicicdsm0fXyZAnAt95cCnBlO7Rsw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;400&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰“ä¸ªç®€å•çš„æ¯”æ–¹ï¼Œæˆ‘ä»¬éƒ½æœ‰è®¢ç¥¨çš„ç»éªŒï¼Œå½“æˆ‘ä»¬å§”æ‰˜é…’åº—è®¢ç¥¨æ—¶ï¼Œæ¥å¾…å‘˜ä¼šå…ˆæŠŠæˆ‘ä»¬çš„ç”µè¯å·ç å’Œç›¸å…³ä¿¡æ¯ç­‰è®°ä¸‹æ¥ï¼ˆæ³¨å†Œäº‹ä»¶ï¼‰ï¼ŒæŒ‚æ–­ç”µè¯åæ¥å¾…å‘˜åœ¨æ“ä½œæœŸé—´æˆ‘ä»¬å°±å¯ä»¥å»åšå…¶ä»–äº‹äº†ï¼ˆéé˜»å¡ï¼‰ï¼Œå½“æ¥å¾…å‘˜æŠŠæ‰‹ç»­æå¥½åä¼šä¸»åŠ¨æ‰“ç”µè¯ç»™æˆ‘ä»¬é€šçŸ¥æˆ‘ä»¬ç¥¨è®¢å¥½äº†ï¼ˆå›è°ƒï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;worker è¿›ç¨‹æ˜¯ä» Â master fork Â å‡ºæ¥çš„ï¼Œè¿™æ„å‘³ç€ worker è¿›ç¨‹ä¹‹é—´æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œè¿™æ ·ä¸åŒ worker è¿›ç¨‹ä¹‹é—´å¤„ç†å¹¶å‘è¯·æ±‚å‡ ä¹æ²¡æœ‰åŒæ­¥é”çš„é™åˆ¶ï¼Œå¥½å¤„å°±æ˜¯ä¸€ä¸ª worker è¿›ç¨‹æŒ‚äº†ï¼Œä¸ä¼šå½±å“å…¶ä»–è¿›ç¨‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬æŠŠ worker æ•°é‡è®¾ç½®æˆå’Œ CPU çš„ä¸ªæ•°ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„ CPU åˆ‡æ¢ï¼Œæå‡æ€§èƒ½ï¼Œæ¯ä¸ª worker éƒ½æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ã€‚é‚£ä¹ˆ LuaJIT åœ¨ OpenResty æ¶æ„ä¸­çš„ä½ç½®æ˜¯æ€æ ·çš„å‘¢ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7406779661016949&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRWJM9Yicib5gTYnO2q3oiajc3bxIFQRaYtue0lLmC0aCq2iavlCPmyiccAwA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1180&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆå¯åŠ¨çš„ master è¿›ç¨‹å¸¦æœ‰ LuaJIT çš„æœºè™šæ‹Ÿï¼Œè€Œ worker è¿›ç¨‹æ˜¯ä» master è¿›ç¨‹ fork å‡ºæ¥çš„ï¼Œåœ¨ worker å†…è¿›ç¨‹çš„å·¥ä½œä¸»è¦ç”± Lua åç¨‹æ¥å®Œæˆï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨åŒä¸€ä¸ª worker å†…çš„æ‰€æœ‰åç¨‹ï¼Œéƒ½ä¼šå…±äº«è¿™ä¸ª LuaJIT è™šæ‹Ÿæœºï¼Œæ¯ä¸ª worker è¿›ç¨‹é‡Œ lua çš„æ‰§è¡Œä¹Ÿæ˜¯åœ¨è¿™ä¸ªè™šæ‹Ÿæœºä¸­å®Œæˆçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œworker è¿›ç¨‹åªèƒ½å¤„ç†ä¸€ä¸ªç”¨æˆ·è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰ä¸€ä¸ª lua åç¨‹åœ¨è¿è¡Œï¼Œé‚£ä¸ºå•¥ OpenResty èƒ½æ”¯æŒç™¾ä¸‡å¹¶å‘è¯·æ±‚å‘¢ï¼Œè¿™å°±éœ€è¦äº†è§£ Lua åç¨‹ä¸ Nginx äº‹ä»¶æœºåˆ¶æ˜¯å¦‚ä½•é…åˆçš„äº†ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.44212962962962965&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRf6iaxtA6nYxicoibbYDqvVJaXcMeBInzNSK1OnkHsmGX8xOxQAOrjp5oQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1728&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚å›¾ç¤ºï¼Œå½“ç”¨ Lua è°ƒç”¨æŸ¥è¯¢ MySQL æˆ– ç½‘ç»œ IO æ—¶ï¼Œè™šæ‹Ÿæœºä¼šè°ƒç”¨ Lua åç¨‹çš„ yield æŠŠè‡ªå·±æŒ‚èµ·ï¼Œåœ¨ Nginx ä¸­æ³¨å†Œå›è°ƒï¼Œæ­¤æ—¶ worker å°±å¯ä»¥å¤„ç†å¦å¤–çš„è¯·æ±‚äº†ï¼ˆéé˜»å¡ï¼‰ï¼Œç­‰åˆ° IO äº‹ä»¶å¤„ç†å®Œäº†ï¼Œ Nginx å°±ä¼šè°ƒç”¨ resume æ¥å”¤é†’ lua åç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹å®ä¸Šï¼Œç”± OpenResty æä¾›çš„æ‰€æœ‰ APIï¼Œéƒ½æ˜¯éé˜»å¡çš„ï¼Œä¸‹æ–‡æåˆ°çš„ä¸ MySQLï¼ŒRedis ç­‰äº¤äº’ï¼Œéƒ½æ˜¯éé˜»å¡çš„ï¼Œæ‰€ä»¥æ€§èƒ½å¾ˆé«˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;OpenResty è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Nginx çš„æ¯ä¸ªè¯·æ±‚æœ‰ 11 ä¸ªé˜¶æ®µï¼ŒOpenResty ä¹Ÿæœ‰11 ä¸ª *_by_lua çš„æŒ‡ä»¤ï¼Œå¦‚ä¸‹å›¾ç¤º:&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9054726368159204&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRhPmBh7drKKhs7EzBFo749o0vRKVtBmNvv7QSlGZic6qAFR6GGEGicOlw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1005&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å„ä¸ªé˜¶æ®µ *_by_lua çš„è§£é‡Šå¦‚ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;set_by_luaï¼šè®¾ç½®å˜é‡ï¼›&lt;br/&gt;rewrite_by_luaï¼šè½¬å‘ã€é‡å®šå‘ç­‰ï¼›&lt;br/&gt;access_by_luaï¼šå‡†å…¥ã€æƒé™ç­‰ï¼›&lt;br/&gt;content_by_luaï¼šç”Ÿæˆè¿”å›å†…å®¹ï¼›&lt;br/&gt;header_filter_by_luaï¼šåº”ç­”å¤´è¿‡æ»¤å¤„ç†ï¼›&lt;br/&gt;body_filter_by_luaï¼šåº”ç­”ä½“è¿‡æ»¤å¤„ç†ï¼›&lt;br/&gt;log_by_luaï¼šæ—¥å¿—è®°å½•ã€‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·åˆ†é˜¶æ®µæœ‰å•¥å¥½å¤„å‘¢ï¼Œå‡è®¾ä½ åŸæ¥çš„ API è¯·æ±‚éƒ½æ˜¯æ˜æ–‡çš„&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;br/&gt;# æ˜æ–‡åè®®ç‰ˆæœ¬&lt;br/&gt;location /request {&lt;br/&gt;    content_by_lua &#x27;...&#x27;;       # å¤„ç†è¯·æ±‚&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨éœ€è¦å¯¹å…¶åŠ ä¸ŠåŠ å¯†å’Œè§£å¯†çš„æœºåˆ¶ï¼Œåªéœ€è¦åœ¨ access é˜¶æ®µè§£å¯†ï¼Œ åœ¨ body filter é˜¶æ®µåŠ å¯†å³å¯ï¼ŒåŸæ¥ content çš„é€»è¾‘æ— éœ€åšä»»åŠ¡æ”¹åŠ¨ï¼Œæœ‰æ•ˆå®ç°äº†ä»£ç çš„è§£è—•ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;# åŠ å¯†åè®®ç‰ˆæœ¬&lt;br/&gt;location /request {&lt;br/&gt;    access_by_lua &#x27;...&#x27;;        # è¯·æ±‚ä½“è§£å¯†&lt;br/&gt;    content_by_lua &#x27;...&#x27;;       # å¤„ç†è¯·æ±‚ï¼Œä¸éœ€è¦å…³å¿ƒé€šä¿¡åè®®&lt;br/&gt;    body_filter_by_lua &#x27;...&#x27;;   # åº”ç­”ä½“åŠ å¯†&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¯”å¦‚æˆ‘ä»¬ä¸æ˜¯è¦è¦ä¸Šæ–‡æåˆ°ç½‘å…³çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ä¸æ˜¯è¦ç›‘æ§æ—¥å¿—å—ï¼Œå°±å¯ä»¥ç»Ÿä¸€åœ¨ log_by_lua ä¸ŠæŠ¥æ—¥å¿—ï¼Œä¸å½±å“å…¶ä»–é˜¶æ®µçš„é€»è¾‘ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;worker é—´å…±äº«æ•°æ®åˆ©å™¨: shared dict&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;worker æ—¢ç„¶æ˜¯äº’ç›¸ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œå°±éœ€è¦è€ƒè™‘å…¶å…±äº«æ•°æ®çš„é—®é¢˜ï¼Œ OpenResty æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„: shared dict ,å¯ä»¥å®ç°åœ¨ worker é—´å…±äº«æ•°æ®ï¼Œshared dict å¯¹å¤–æä¾›äº† 20 å¤šä¸ª Lua APIï¼Œéƒ½æ˜¯åŸå­æ“ä½œçš„ï¼Œé¿å…äº†é«˜å¹¶å‘ä¸‹çš„ç«äº‰é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è·¯ç”±ç­–ç•¥æ’ä»¶åŒ–å®ç°&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†ä»¥ä¸Š OpenResty ç‚¹çš„é“ºå«ï¼Œæ¥çœ‹çœ‹ä¸Šæ–‡æçš„ç½‘å…³æ ¸å¿ƒåŠŸèƒ½ ã€Œè·¯ç”±ç­–ç•¥æ’ä»¶åŒ–ã€,ã€Œåç«¯é›†ç¾¤çš„åŠ¨æ€å˜æ›´ã€å¦‚ä½•å®ç°&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆé’ˆå¯¹æŸä¸ªè¯·æ±‚çš„è·¯ç”±ç­–ç•¥å¤§æ¦‚æ˜¯è¿™æ ·çš„&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5445026178010471&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYR15ic2oCkicU4fQrG83TMVVbjG4GmbrHk0Z4iaias7fuXMvUvE9FyK7zzCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;764&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•´ä¸ªæ’ä»¶åŒ–çš„æ­¥éª¤å¤§è‡´å¦‚ä¸‹&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€æ¯æ¡ç­–ç•¥ç”± url ,action, cluster ç­‰ç»„æˆï¼Œä»£è¡¨è¯·æ±‚ url åœ¨æ‰“åˆ°åç«¯é›†ç¾¤è¿‡ç¨‹ä¸­æœ€ç»ˆç»å†äº†å“ªäº›è·¯ç”±è§„åˆ™ï¼Œè¿™äº›è§„åˆ™ç»Ÿä¸€åœ¨æˆ‘ä»¬çš„è·¯ç”±ç®¡ç†å¹³å°é…ç½®ï¼Œå­˜åœ¨ db é‡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€OpenResty å¯åŠ¨æ—¶ï¼Œåœ¨è¯·æ±‚çš„ init é˜¶æ®µ worker è¿›ç¨‹ä¼šå»æ‹‰å–è¿™äº›è§„åˆ™ï¼Œå°†è¿™äº›è§„åˆ™ç¼–è¯‘æˆä¸€ä¸ªä¸ªå¯æ‰§è¡Œçš„ lua å‡½æ•°ï¼Œè¿™ä¸€ä¸ªä¸ªå‡½æ•°å°±å¯¹åº”äº†ä¸€æ¡æ¡çš„è§„åˆ™ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2373134328358209&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRwSL7sMjA8Viaia5OtEKUgtHbwibJY1bEo9dOnpH4KGeW4NLR1pnIB5Drg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;670&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦æ³¨æ„çš„æ˜¯ä¸ºäº†é¿å…é‡å¤å» MySQL ä¸­æ‹‰å–æ•°æ®ï¼ŒæŸä¸ª worker ä» MySQL æ‹‰å–å®Œè§„åˆ™ï¼ˆæ­¤æ­¥éœ€è¦åŠ é”ï¼Œé¿å…æ‰€æœ‰ worker éƒ½å»æ‹‰å–ï¼‰æˆ–è€…åç«¯é›†ç¾¤ç­‰é…ç½®ä¿¡æ¯åè¦å°†å…¶ä¿å­˜åœ¨ shared dict ä¸­ï¼Œè¿™æ ·ä¹‹åæ‰€æœ‰çš„ worker è¯·æ±‚åªè¦ä» shared dict ä¸­è·å–è¿™äº›è§„åˆ™ï¼Œç„¶åå°†å…¶æ˜ å°„æˆå¯¹åº”æ¨¡å—çš„å‡½æ•°å³å¯ï¼Œå¦‚æœé…ç½®è§„åˆ™æœ‰å˜åŠ¨å‘¢ï¼Œé…ç½®åå°é€šè¿‡æ¥å£é€šçŸ¥ OpenResty é‡æ–°åŠ è½½ä¸€ä¸‹å³å¯&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7426160337552743&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRE1y6rRic4kf21nnBO6GaG3kRRic3aHDJaKQIZpLu1HdOWUk3L3AA3icCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;474&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡è·¯ç”±è§„åˆ™ç¡®å®šå¥½æ¯ä¸ªè¯·æ±‚å¯¹åº”è¦æ‰“çš„åç«¯é›†ç¾¤åï¼Œå°±éœ€è¦æ ¹æ® upstream æ¥ç¡®å®šæœ€ç»ˆæ‰“åˆ°å“ªä¸ªé›†ç¾¤çš„å“ªå°æœºå™¨ä¸Šï¼Œæˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åŠ¨æ€ç®¡ç†é›†ç¾¤ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;åç«¯é›†ç¾¤çš„åŠ¨æ€é…ç½®&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ Nginx ä¸­é…ç½® upstream çš„æ ¼å¼å¦‚ä¸‹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;upstreamÂ backendÂ {&lt;br/&gt;Â Â Â Â serverÂ backend1.example.comÂ weight=&lt;span&gt;5&lt;/span&gt;;&lt;br/&gt;Â Â Â Â serverÂ backend2.example.com;&lt;br/&gt;Â Â Â Â serverÂ &lt;span&gt;192.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;Â backup;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šè¿™ä¸ªç¤ºä¾‹æ˜¯æŒ‰ç…§æƒé‡ï¼ˆweightï¼‰æ¥åˆ’åˆ†çš„ï¼Œ6 ä¸ªè¯·æ±‚è¿›æ¥ï¼Œ5ä¸ªè¯·æ±‚æ‰“åˆ° backend1.example.com, 1 ä¸ªè¯·æ±‚æ‰“åˆ° backend2.example.com,å¦‚æœè¿™ä¸¤å°æœºå™¨éƒ½ä¸å¯ç”¨ï¼Œå°±æ‰“åˆ° 192.0.0.1ï¼Œè¿™ç§é™æ€é…ç½®çš„æ–¹å¼ upstream çš„æ–¹å¼ç¡®å®å¯è¡Œï¼Œä½†æˆ‘ä»¬çŸ¥é“æœºå™¨çš„æ‰©ç¼©å®¹æœ‰æ—¶å€™æ¯”è¾ƒé¢‘ç¹ï¼Œå¦‚æœæ¯æ¬¡æœºå™¨ä¸Šä¸‹çº¿éƒ½è¦æ‰‹åŠ¨å»æ”¹ï¼Œå¹¶ä¸”æ”¹å®Œä¹‹åè¿˜è¦é‡æ–°å» reload æ— ç–‘æ˜¯ä¸å¯è¡Œçš„ï¼Œå‡ºé”™çš„æ¦‚ç‡å¾ˆå¤§ï¼Œè€Œä¸”æ¯æ¬¡é…ç½®éƒ½è¦ reload å¯¹æ€§èƒ½çš„æŸè€—ä¹Ÿæ˜¯æŒºå¤§çš„ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒOpenResty æä¾›äº†ä¸€ä¸ª dyups çš„æ¨¡å—æ¥è§£å†³æ­¤é—®é¢˜ï¼Œ å®ƒæä¾›äº†ä¸€ä¸ª dyups api,å¯ä»¥åŠ¨æ€å¢ï¼Œåˆ ï¼Œåˆ›å»º upsteamï¼Œæ‰€ä»¥åœ¨ init é˜¶æ®µæˆ‘ä»¬ä¼šå…ˆå»æ‹‰å–é›†ç¾¤ä¿¡æ¯ï¼Œæ„å»º upstreamï¼Œä¹‹åå¦‚æœé›†ç¾¤ä¿¡æ¯æœ‰å˜åŠ¨ï¼Œä¼šé€šè¿‡å¦‚ä¸‹å½¢å¼è°ƒç”¨ dyups api æ¥æ›´æ–° upstream&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;br/&gt;&lt;span&gt;--Â åŠ¨æ€é…ç½®Â upstreamÂ æ¥å£ç«™ç‚¹&lt;/span&gt;&lt;br/&gt;serverÂ {&lt;br/&gt;Â Â Â Â Â listenÂ &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;:&lt;span&gt;81&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â locationÂ /Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â dyups_interface;&lt;br/&gt;Â Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;--Â å¢åŠ Â upstream:user_backend&lt;/span&gt;&lt;br/&gt;curlÂ -dÂ &lt;span&gt;&quot;serverÂ 10.53.10.191;&quot;&lt;/span&gt;Â &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;:&lt;span&gt;81&lt;/span&gt;/upstream/user_backend&lt;br/&gt;&lt;br/&gt;&lt;span&gt;--Â åˆ é™¤Â upstream:user_backend&lt;/span&gt;&lt;br/&gt;curlÂ -iÂ -XÂ DELETEÂ &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;:&lt;span&gt;81&lt;/span&gt;/upstream/user_backend&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ dyups å°±è§£å†³äº†åŠ¨æ€é…ç½® upstream çš„é—®é¢˜&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ç½‘å…³æœ€ç»ˆæ¶æ„è®¾è®¡å›¾&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5574412532637075&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRU7OUERPAjCUs66XkNwg1hIC18MIwUrn3VFkqRWl2RFFnzaSaEVO4CA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;766&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¿™æ ·çš„è®¾è®¡ï¼Œæœ€ç»ˆå®ç°äº†ç½‘å…³çš„é…ç½®åŒ–ï¼ŒåŠ¨æ€åŒ–ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³ä½œä¸ºæ‰¿è½½å…¬å¸æ‰€æœ‰æµé‡çš„å…¥å£ï¼Œå¯¹æ€§èƒ½æœ‰ç€æé«˜çš„è¦æ±‚ï¼Œæ‰€ä»¥æŠ€æœ¯é€‰å‹ä¸Šè¿˜æ˜¯è¦æ…é‡ï¼Œä¹‹æ‰€ä»¥é€‰æ‹© OpenRestyï¼Œä¸€æ˜¯å› ä¸ºå®ƒé«˜æ€§èƒ½ï¼ŒäºŒæ˜¯ç›®å‰ä¹Ÿæœ‰å°ç±³ï¼Œé˜¿é‡Œï¼Œè…¾è®¯ç­‰å¤§å…¬å¸åœ¨ç”¨ï¼Œæ˜¯ä¹…ç»è¿‡å¸‚åœºè€ƒéªŒçš„ï¼Œæœ¬æ–‡é€šè¿‡å¯¹ç½‘å…³çš„æ€»ç»“ç®€è¦ä»‹ç»äº† OpenResty çš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œç›¸ä¿¡å¤§å®¶å¯¹å…¶ä¸»è¦åŠŸèƒ½ç‚¹åº”è¯¥æœ‰æ‰€äº†è§£äº†ï¼Œä¸è¿‡ OpenResty çš„çŸ¥è¯†ç‚¹è¿œä¸æ­¢ä»¥ä¸Šè¿™äº›ï¼Œå¤§å®¶å¦‚æœ‰å…´è¶£ï¼Œå¯ä»¥å‚è€ƒæ–‡æœ«çš„å­¦ä¹ æ•™ç¨‹æ·±å…¥å­¦ä¹ ï¼Œç›¸ä¿¡å¤§å®¶ä¼šæœ‰ä¸å°‘å¯å‘çš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢˜å¤–è¯&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€Œç æµ·ã€å†å²ç²¾å“æ–‡ç« å·²ç»åšæˆç”µå­ä¹¦äº†ï¼Œå¦‚æœ‰éœ€è¦æ¬¢è¿æ·»åŠ æˆ‘çš„ä¸ªäººå¾®ä¿¡ï¼Œé™¤äº†å‘ä½ ç”µå­ä¹¦å¤–ï¼Œä¹Ÿå¯ä»¥åŠ å…¥æˆ‘çš„è¯»è€…ç¾¤ï¼Œä¸€èµ·æ¢è®¨é—®é¢˜ï¼Œå…±åŒè¿›æ­¥ï¼é‡Œé¢æœ‰ä¸å°‘æŠ€æœ¯æ€»ç›‘ç­‰å¤§å’–ï¼Œç›¸ä¿¡ä¸ç®¡æ˜¯èŒåœºè¿›é˜¶ä¹Ÿå¥½ï¼Œä¸ªäººå›°æƒ‘ä¹Ÿå¥½ï¼Œéƒ½èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©å“¦&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0225225225225225&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/OyweysCSeLUMiaGVniaicPvJeN6G8SXFPYRKknvTeoScgA19PpnyRFhoMFotpa4KBWp6471bvUH5F8aibmVRNQibaXw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;222&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·¨äººçš„è‚©è†€&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è°ˆè°ˆå¾®æœåŠ¡ä¸­çš„ API ç½‘å…³ https://www.cnblogs.com/savorboard/p/api-gateway.html&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;OpenrestyåŠ¨æ€æ›´æ–°(æ— reload)TCP Upstreamçš„åŸç†å’Œå®ç° https://developer.aliyun.com/article/745757&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;http://www.ttlsa.com/Nginx/Nginx-modules-ngx_http_dyups_module/&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æå®¢æ—¶é—´ OpenResty ä»å…¥é—¨åˆ°å®æˆ˜&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>456245b8fc628e2966d1bbcca4da5466</guid>
<title>é¢è¯•å®˜ï¼šç¥–ç›æ¸¸æˆç©è¿‡ä¹ˆï¼Ÿæˆ‘æ¥æ‹·æ‹·ä½ </title>
<link>https://toutiao.io/k/k7iseh7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢˜ç›®åœ°å€ï¼ˆ488. ç¥–ç›æ¸¸æˆï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;https://leetcode-cn.com/problems/zuma-game/&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢˜ç›®æè¿°&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;å›å¿†ä¸€ä¸‹ç¥–ç›æ¸¸æˆã€‚ç°åœ¨æ¡Œä¸Šæœ‰ä¸€ä¸²çƒï¼Œé¢œè‰²æœ‰çº¢è‰²(R)ï¼Œé»„è‰²(Y)ï¼Œè“è‰²(B)ï¼Œç»¿è‰²(G)ï¼Œè¿˜æœ‰ç™½è‰²(W)ã€‚Â ç°åœ¨ä½ æ‰‹é‡Œä¹Ÿæœ‰å‡ ä¸ªçƒã€‚&lt;br/&gt;&lt;br/&gt;æ¯ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä»æ‰‹é‡Œçš„çƒé€‰ä¸€ä¸ªï¼Œç„¶åæŠŠè¿™ä¸ªçƒæ’å…¥åˆ°ä¸€ä¸²çƒä¸­çš„æŸä¸ªä½ç½®ä¸Šï¼ˆåŒ…æ‹¬æœ€å·¦ç«¯ï¼Œæœ€å³ç«¯ï¼‰ã€‚æ¥ç€ï¼Œå¦‚æœæœ‰å‡ºç°ä¸‰ä¸ªæˆ–è€…ä¸‰ä¸ªä»¥ä¸Šé¢œè‰²ç›¸åŒçš„çƒç›¸è¿çš„è¯ï¼Œå°±æŠŠå®ƒä»¬ç§»é™¤æ‰ã€‚é‡å¤è¿™ä¸€æ­¥éª¤ç›´åˆ°æ¡Œä¸Šæ‰€æœ‰çš„çƒéƒ½è¢«ç§»é™¤ã€‚&lt;br/&gt;&lt;br/&gt;æ‰¾åˆ°æ’å…¥å¹¶å¯ä»¥ç§»é™¤æ‰æ¡Œä¸Šæ‰€æœ‰çƒæ‰€éœ€çš„æœ€å°‘çš„çƒæ•°ã€‚å¦‚æœä¸èƒ½ç§»é™¤æ¡Œä¸Šæ‰€æœ‰çš„çƒï¼Œè¾“å‡ºÂ -1 ã€‚&lt;br/&gt;&lt;br/&gt;ç¤ºä¾‹:&lt;br/&gt;è¾“å…¥:Â &lt;span&gt;&quot;WRRBBW&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;RB&quot;&lt;/span&gt;&lt;br/&gt;è¾“å‡º:Â -1&lt;br/&gt;è§£é‡Š: WRRBBW -&amp;gt; WRR[R]BBW -&amp;gt; WBBW -&amp;gt; WBB[B]W -&amp;gt; WW ï¼ˆç¿»è¯‘è€…æ ‡æ³¨ï¼šæ‰‹ä¸Šçƒå·²ç»ç”¨å®Œï¼Œæ¡Œä¸Šè¿˜å‰©ä¸¤ä¸ªçƒæ— æ³•æ¶ˆé™¤ï¼Œè¿”å›-1ï¼‰&lt;br/&gt;&lt;br/&gt;è¾“å…¥:Â &lt;span&gt;&quot;WWRRBBWW&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;WRBRW&quot;&lt;/span&gt;&lt;br/&gt;è¾“å‡º:Â 2&lt;br/&gt;è§£é‡Š:Â WWRRBBWWÂ -&amp;gt;Â WWRR[R]BBWWÂ -&amp;gt;Â WWBBWWÂ -&amp;gt;Â WWBB[B]WWÂ -&amp;gt;Â WWWWÂ -&amp;gt;Â empty&lt;br/&gt;&lt;br/&gt;è¾“å…¥:&lt;span&gt;&quot;G&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;GGGGG&quot;&lt;/span&gt;&lt;br/&gt;è¾“å‡º:Â 2&lt;br/&gt;è§£é‡Š:Â GÂ -&amp;gt;Â G[G]Â -&amp;gt;Â GG[G]Â -&amp;gt;Â empty&lt;br/&gt;&lt;br/&gt;è¾“å…¥:Â &lt;span&gt;&quot;RBYYBBRRB&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;YRBGB&quot;&lt;/span&gt;&lt;br/&gt;è¾“å‡º:Â 3&lt;br/&gt;è§£é‡Š:Â RBYYBBRRBÂ -&amp;gt;Â RBYY[Y]BBRRBÂ -&amp;gt;Â RBBBRRBÂ -&amp;gt;Â RRRBÂ -&amp;gt;Â BÂ -&amp;gt;Â B[B]Â -&amp;gt;Â BB[B]Â -&amp;gt;Â empty&lt;br/&gt;æ ‡æ³¨:&lt;br/&gt;&lt;br/&gt;ä½ å¯ä»¥å‡è®¾æ¡Œä¸Šä¸€å¼€å§‹çš„çƒä¸­ï¼Œä¸ä¼šæœ‰ä¸‰ä¸ªåŠä¸‰ä¸ªä»¥ä¸Šé¢œè‰²ç›¸åŒä¸”è¿ç€çš„çƒã€‚&lt;br/&gt;æ¡Œä¸Šçš„çƒä¸ä¼šè¶…è¿‡20ä¸ªï¼Œè¾“å…¥çš„æ•°æ®ä¸­ä»£è¡¨è¿™äº›çƒçš„å­—ç¬¦ä¸²çš„åå­—æ˜¯Â &lt;span&gt;&quot;board&quot;&lt;/span&gt;Â ã€‚&lt;br/&gt;ä½ æ‰‹ä¸­çš„çƒä¸ä¼šè¶…è¿‡5ä¸ªï¼Œè¾“å…¥çš„æ•°æ®ä¸­ä»£è¡¨è¿™äº›çƒçš„å­—ç¬¦ä¸²çš„åå­—æ˜¯Â &lt;span&gt;&quot;hand&quot;&lt;/span&gt;ã€‚&lt;br/&gt;è¾“å…¥çš„ä¸¤ä¸ªå­—ç¬¦ä¸²å‡ä¸ºéç©ºå­—ç¬¦ä¸²ï¼Œä¸”åªåŒ…å«å­—ç¬¦Â &lt;span&gt;&#x27;R&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;Y&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;B&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;G&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;W&#x27;&lt;/span&gt;ã€‚&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰ç½®çŸ¥è¯†&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å…¬å¸&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€è·¯&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¢è¯•é¢˜å›°éš¾éš¾åº¦çš„é¢˜ç›®å¸¸è§çš„é¢˜å‹æœ‰ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬é¢˜å°±æ˜¯æ¸¸æˆç±»é¢˜ç›®ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªå‰ç«¯ï¼Œ è¯´ä¸å®šè¿˜ä¼šè€ƒå¯Ÿä½ å¦‚ä½•å®ç°ä¸€ä¸ª zuma æ¸¸æˆã€‚è¿™ç§æ¸¸æˆç±»çš„é¢˜ç›®ï¼Œå¯ä»¥ç®€å•å¯ä»¥å›°éš¾ï¼Œ æ¯”å¦‚åŠ›æ‰£ç»å…¸çš„çŸ³å­æ¸¸æˆï¼Œå®çŸ³æ¸¸æˆç­‰ã€‚è¿™ç±»é¢˜ç›®æ²¡æœ‰å›ºå®šçš„è§£æ³•ã€‚æˆ‘åšè¿™ç§é¢˜ç›®çš„æ€è·¯å°±æ˜¯å…ˆæš´åŠ›æ¨¡æ‹Ÿï¼Œå†å°è¯•ä¼˜åŒ–ç®—æ³•ç“¶é¢ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨æ„ä¸‹æ•°æ®èŒƒå›´çƒçš„æ•°ç›® &amp;lt;= 5ï¼Œå› æ­¤æš´åŠ›æ³•å°±å˜å¾—å¯è¡Œã€‚åŸºæœ¬æ€è·¯æ˜¯æš´åŠ›æšä¸¾æ‰‹ä¸Šçš„çƒå¯ä»¥æ¶ˆé™¤çš„åœ°æ–¹ï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å›æº¯æ³•æ¥å®Œæˆæš´åŠ›æšä¸¾çš„è¿‡ç¨‹ï¼Œåœ¨å›æº¯è¿‡ç¨‹è®°å½•æœ€å°å€¼å³å¯ã€‚ç”±äºå›æº¯æ ‘çš„æ·±åº¦ä¸ä¼šè¶…è¿‡ 5ï¼Œå› æ­¤è¿™ç§è§£æ³•åº”è¯¥å¯ä»¥ ACã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢æåˆ°çš„&lt;code&gt;å¯ä»¥æ¶ˆé™¤çš„åœ°æ–¹&lt;/code&gt;ï¼ŒæŒ‡çš„æ˜¯&lt;strong&gt;ã€Œè¿ç»­ç›¸åŒé¢œè‰² + æ‰‹ä¸Šç›¸åŒé¢œè‰²çš„çƒå¤§äºç­‰äº 3ã€&lt;/strong&gt;ï¼Œè¿™ä¹Ÿæ˜¯é¢˜ç›®è¯´æ˜çš„æ¶ˆé™¤æ¡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤æˆ‘ä»¬åªéœ€è¦ä¸¤ä¸ªæŒ‡é’ˆè®°å½•è¿ç»­ç›¸åŒé¢œè‰²çƒçš„ä½ç½®ï¼Œå¦‚æœå¯ä»¥æ¶ˆé™¤ï¼Œæ¶ˆé™¤å³å¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.36055276381909546&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/liaT5dytkaTfmibwdYznHMvkiabPX3H3absiaBGBIXdRotPk0FBjMw7rediaVkWvrSePibZnUIetTBAgMCyNUCojBusw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1592&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚å›¾ï¼Œæˆ‘ä»¬è®°å½•äº†è¿ç»­çº¢çƒçš„ä½ç½®ï¼Œ å¦‚æœæ‰‹ä¸Šæœ‰çº¢çƒï¼Œ åˆ™å¯ä»¥å°è¯•å°†å…¶æ¸…é™¤ï¼Œè¿™ä¸€æ¬¡å†³ç­–å°±æ˜¯å›æº¯æ ‘ï¼ˆå†³ç­–æ ‘ï¼‰çš„ä¸€ä¸ªåˆ†æ”¯ã€‚ä¹‹åæˆ‘ä»¬ä¼šæ’¤å›åˆ°è¿™ä¸ªå†³ç­–åˆ†æ”¯ï¼Œ å°è¯•å…¶ä»–å¯è¡Œçš„å†³ç­–åˆ†æ”¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ board = RRBBRR ï¼Œ hand ä¸º RRBB ä¸ºä¾‹ï¼Œå…¶å†³ç­–æ ‘ä¸ºï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0777777777777777&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/liaT5dytkaTfmibwdYznHMvkiabPX3H3absVNZl4sSeOv1QUM8KbOTMpLwGG4TA1icQgH399OXOQQro5ibPib1fTJGQw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­è™šçº¿è¡¨ç¤ºæ— éœ€æ‰‹åŠ¨å¹²é¢„ï¼Œç³»ç»Ÿè‡ªåŠ¨æ¶ˆé™¤ã€‚å¶å­èŠ‚ç‚¹æœ«å°¾çš„é»„è‰²è¡¨ç¤ºå…¨éƒ¨æ¶ˆé™¤éœ€è¦çš„æ‰‹çƒä¸ªæ•°ã€‚è·¯å¾„ä¸Šçš„æ–‡å­—åé¢çš„æ•°å­—è¡¨ç¤ºæ­¤æ¬¡æ¶ˆé™¤éœ€è¦çš„æ‰‹çƒä¸ªæ•°&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;å¦‚æœä½ å¯¹å›æº¯ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å‚è€ƒä¸‹æˆ‘ä¹‹å‰å†™çš„å‡ ç¯‡é¢˜è§£ï¼šæ¯”å¦‚Â 46.permutations&lt;sup&gt;[1]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹å‡ºï¼Œ å¦‚æœé€‰æ‹©å…ˆæ¶ˆé™¤ä¸­é—´çš„è“è‰²ï¼Œåˆ™åªéœ€è¦ä¸€æ­¥å³å¯å®Œæˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºè®¡ç®—è¿ç»­çƒä½ç½®çš„æ ¸å¿ƒä»£ç (Python3):&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;iÂ =Â &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;while&lt;/span&gt;Â iÂ &amp;lt;Â len(board):&lt;br/&gt;Â Â Â Â jÂ =Â iÂ +Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â jÂ &amp;lt;Â len(board)Â &lt;span&gt;and&lt;/span&gt;Â board[i]Â ==Â board[j]:Â jÂ +=Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;#Â å…¶ä»–é€»è¾‘&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;#Â æ›´æ–°å·¦æŒ‡é’ˆ&lt;/span&gt;&lt;br/&gt;Â Â Â Â iÂ =Â j&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5412844036697247&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/liaT5dytkaTfmibwdYznHMvkiabPX3H3absAO5Mspl7z3GCZuljHWZo9uicNF0URZC83U8dtwzBR8bwXp76bZhcsXQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1526&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ç®—æ³•ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰‹ä¸Šçš„çƒçš„ç§ç±»å’Œä¸ªæ•°ï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†åé¢&lt;strong&gt;ã€Œå¿«é€Ÿåˆ¤æ–­è¿ç»­çš„çƒæ˜¯å¦å¯ä»¥è¢«æ¶ˆé™¤ã€&lt;/strong&gt;ã€‚ç”±äºé¢˜ç›®é™åˆ¶æ‰‹ä¸Šæ±‚ä¸ä¼šè¶…è¿‡ 5ï¼Œå› æ­¤å“ˆå¸Œè¡¨çš„æœ€å¤§å®¹é‡å°±æ˜¯ 5ï¼Œå¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå¸¸æ•°çš„ç©ºé—´ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å›æº¯ã€‚&lt;/p&gt;&lt;p&gt;2.1 ç¡®è®¤å¯ä»¥æ¶ˆé™¤çš„ä½ç½®ï¼Œç®—æ³•å‚è€ƒä¸Šé¢çš„ä»£ç ã€‚&lt;/p&gt;&lt;p&gt;2.2 åˆ¤æ–­æ‰‹ä¸Šæ˜¯å¦æœ‰è¶³å¤Ÿç›¸åŒé¢œè‰²çš„çƒå¯ä»¥æ¶ˆé™¤ã€‚&lt;/p&gt;&lt;p&gt;2.3 å›æº¯çš„è¿‡ç¨‹è®°å½•å…¨å±€æœ€å°å€¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä»£ç &lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç æ”¯æŒï¼šPython3&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Python3 Code:&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Solution&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;findMinStep&lt;/span&gt;&lt;span&gt;(self,Â board:Â str,Â hand:Â str)&lt;/span&gt;Â -&amp;gt;Â int:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;def&lt;/span&gt;Â &lt;span&gt;backtrack&lt;/span&gt;&lt;span&gt;(board)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;not&lt;/span&gt;Â board:Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â iÂ =Â &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â ansÂ =Â &lt;span&gt;6&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â iÂ &amp;lt;Â len(board):&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â jÂ =Â iÂ +Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â jÂ &amp;lt;Â len(board)Â &lt;span&gt;and&lt;/span&gt;Â board[i]Â ==Â board[j]:Â jÂ +=Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ballsÂ =Â &lt;span&gt;3&lt;/span&gt;Â -Â (jÂ -Â i)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â counter[board[i]]Â &amp;gt;=Â balls:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ballsÂ =Â max(&lt;span&gt;0&lt;/span&gt;,Â balls)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â counter[board[i]]Â -=Â balls&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ansÂ =Â min(ans,Â ballsÂ +Â backtrack(board[:i]Â +Â board[j:]))&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â counter[board[i]]Â +=Â balls&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â iÂ =Â j&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â ans&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â counterÂ =Â collections.Counter(hand)&lt;br/&gt;Â Â Â Â Â Â Â Â ansÂ =Â backtrack(board)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;-1&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â ansÂ &amp;gt;Â &lt;span&gt;5&lt;/span&gt;Â &lt;span&gt;else&lt;/span&gt;Â ans&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œå¤æ‚åº¦åˆ†æã€&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ—¶é—´å¤æ‚åº¦ï¼š&lt;span&gt;&lt;span role=&quot;presentation&quot; data-formula=&quot;O(2^(min(C, 5)))&quot; data-formula-type=&quot;inline-equation&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -893.3 7060.7 1143.3&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;4F&quot; d=&quot;M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(763, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;msup&quot; transform=&quot;translate(1152, 0)&quot;&gt;&lt;g data-mml-node=&quot;mn&quot;&gt;&lt;path data-c=&quot;32&quot; d=&quot;M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(500, 363) scale(0.707)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(1977.1, 0)&quot;&gt;&lt;path data-c=&quot;6D&quot; d=&quot;M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(2855.1, 0)&quot;&gt;&lt;path data-c=&quot;69&quot; d=&quot;M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(3200.1, 0)&quot;&gt;&lt;path data-c=&quot;6E&quot; d=&quot;M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(3800.1, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(4189.1, 0)&quot;&gt;&lt;path data-c=&quot;43&quot; d=&quot;M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(4949.1, 0)&quot;&gt;&lt;path data-c=&quot;2C&quot; d=&quot;M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mn&quot; transform=&quot;translate(5393.7, 0)&quot;&gt;&lt;path data-c=&quot;35&quot; d=&quot;M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(5893.7, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(6282.7, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(6671.7, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¶ä¸­ C ä¸ºè¿ç»­ç›¸åŒé¢œè‰²çƒçš„æ¬¡æ•°ï¼Œæ¯”å¦‚ WWRRRRï¼Œ C å°±æ˜¯ 2ï¼Œ WRBDDï¼Œ C å°±æ˜¯ 4ã€‚min(C, 5) æ˜¯å› ä¸ºé¢˜ç›®é™å®šäº†æ‰‹ä¸Šçƒçš„ä¸ªæ•°ä¸å¤§äº 5ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç©ºé—´å¤æ‚åº¦ï¼š&lt;span&gt;&lt;span role=&quot;presentation&quot; data-formula=&quot;O(min(C, 5) * Board)&quot; data-formula-type=&quot;inline-equation&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -750 9535.1 1000&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;4F&quot; d=&quot;M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(763, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(1152, 0)&quot;&gt;&lt;path data-c=&quot;6D&quot; d=&quot;M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(2030, 0)&quot;&gt;&lt;path data-c=&quot;69&quot; d=&quot;M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(2375, 0)&quot;&gt;&lt;path data-c=&quot;6E&quot; d=&quot;M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(2975, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(3364, 0)&quot;&gt;&lt;path data-c=&quot;43&quot; d=&quot;M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(4124, 0)&quot;&gt;&lt;path data-c=&quot;2C&quot; d=&quot;M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mn&quot; transform=&quot;translate(4568.7, 0)&quot;&gt;&lt;path data-c=&quot;35&quot; d=&quot;M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(5068.7, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(5679.9, 0)&quot;&gt;&lt;path data-c=&quot;2217&quot; d=&quot;M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(6402.1, 0)&quot;&gt;&lt;path data-c=&quot;42&quot; d=&quot;M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(7161.1, 0)&quot;&gt;&lt;path data-c=&quot;6F&quot; d=&quot;M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(7646.1, 0)&quot;&gt;&lt;path data-c=&quot;61&quot; d=&quot;M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(8175.1, 0)&quot;&gt;&lt;path data-c=&quot;72&quot; d=&quot;M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(8626.1, 0)&quot;&gt;&lt;path data-c=&quot;64&quot; d=&quot;M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(9146.1, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¶ä¸­ C ä¸ºè¿ç»­ç›¸åŒé¢œè‰²çƒçš„æ¬¡æ•°ï¼ŒBoard ä¸º Board çš„é•¿åº¦ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å…³é”®ç‚¹è§£æ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;section&gt;&lt;mp-qa class=&quot;js_uneditable custom_select_card qa_iframe&quot; data-pluginname=&quot;insertquestion&quot; data-id=&quot;1549597229076758529&quot; data-bizuin=&quot;MzI4MzUxNjI3OA==&quot; data-title=&quot;å¤§å®¶å¯¹æ­¤æœ‰ä½•çœ‹æ³•ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘æœ‰æ—¶é—´éƒ½ä¼šä¸€ä¸€æŸ¥çœ‹å›ç­”ã€‚&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ›´å¤šç®—æ³•å¥—è·¯å¯ä»¥è®¿é—®æˆ‘çš„ LeetCode é¢˜è§£ä»“åº“ï¼šhttps://github.com/azl397985856/leetcode ã€‚ç›®å‰å·²ç» 36K star å•¦ã€‚å¤§å®¶ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€ŠåŠ›æ‰£åŠ åŠ ã€‹å¸¦ä½ å•ƒä¸‹ç®—æ³•è¿™å—ç¡¬éª¨å¤´ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;Reference&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]Â &lt;/span&gt;&lt;p&gt;46.permutations:Â &lt;span&gt;https://github.com/azl397985856/leetcode/blob/master/problems/46.permutations.md&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ¨èé˜…è¯»&lt;/span&gt;&lt;/h3&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;1ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484695&amp;amp;idx=1&amp;amp;sn=d4781ed21edf9d8fd040bf313ba059ff&amp;amp;chksm=eb88c90edcff4018ee81f4de1c961dd99d9009b001955c258d119c1dc5dc2aeebf78abb79734&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;ç®—æ³•èŒæ–°å¦‚ä½•å­¦å¥½åŠ¨æ€è§„åˆ’ï¼ˆç¬¬ä¸€å¼¹ï¼‰&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;2ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484650&amp;amp;idx=1&amp;amp;sn=4ca30b668b8ffa8aede203b760028cc3&amp;amp;chksm=eb88c8f3dcff41e5e8a7bb11809ba95cc2ba7bdba0d7d84b22080087f88006361318da69531a&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;å­—èŠ‚è·³åŠ¨çš„ç®—æ³•é¢è¯•é¢˜æ˜¯ä»€ä¹ˆéš¾åº¦ï¼Ÿ&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;3ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484692&amp;amp;idx=1&amp;amp;sn=9d1d1169d682d842310155f16966a23e&amp;amp;chksm=eb88c90ddcff401b952892e136dd4a36bcfd0e961c1507d80085ee281d42865e137c65736b92&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;å­—èŠ‚è·³åŠ¨çš„ç®—æ³•é¢è¯•é¢˜æ˜¯ä»€ä¹ˆéš¾åº¦ï¼Ÿï¼ˆç¬¬äºŒå¼¹ï¼‰&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;4ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484805&amp;amp;idx=1&amp;amp;sn=76b934121cbb3630f9bad391fb9b1789&amp;amp;chksm=eb88c99cdcff408a262cd45c270e42a50628593d782a57a85f6a7247b6356fd4715f2b2fde54&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€è¥¿æ³•å¸¦ä½ å­¦ç®—æ³•ã€‘ä¸€æ¬¡æå®šå‰ç¼€å’Œ&lt;/a&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484738&amp;amp;idx=1&amp;amp;sn=7693c31667a3125b90f9e4bf6b4ccdef&amp;amp;chksm=eb88c95bdcff404d82289dcb8e076a30af7140b250e08c2f022c580e5f8a83e0e42bbf280495&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;5ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI4MzUxNjI3OA==&amp;amp;mid=2247484618&amp;amp;idx=1&amp;amp;sn=833079c3e342f66327280510f6bb3691&amp;amp;chksm=eb88c8d3dcff41c5b01b6a70284235983b727141c7fb78117c6c42045bd98f9db9d02cfc4a8d&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;ç”¨æœ€ä¼˜é›…çš„æ–¹å¼æ‰“å¼€ç»ˆç«¯&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.5555555555555556&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/liaT5dytkaTclibysFKoffSHbUSQUXUKVjhv3ZCYnE74nsVJFicxjV6F3qqT8IPg0YMjc0wHvlfIoCO7Z7jYTnL4g/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;å¦‚æœè§‰å¾—æ–‡ç« ä¸é”™ï¼Œå¸®å¿™ç‚¹ä¸ªåœ¨çœ‹å‘—&lt;/p&gt;&lt;p data-mid=&quot;&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot;&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;Long-press QR code to transfer me a reward&lt;/p&gt;
                                                                &lt;p class=&quot;reward_tips&quot;/&gt;
                                &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;/&gt;&lt;/span&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;As required by Apple&#x27;s new policy, the Reward feature has been disabled on Weixin for iOS. You can still reward an Official Account by transferring money via QR code.&lt;/p&gt;
                            &lt;/div&gt;
                                                                            
                              
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>6ca83e28d3d08682d94bc1412a39d573</guid>
<title>åœ¨ Vue Vite åº”ç”¨ç¨‹åºä¸­å®ç°æš—/äº®æ¨¡å¼</title>
<link>https://toutiao.io/k/7jeyx5j</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;æ–‡æœ«é¢†å–æ˜¨å¤©çš„çº¢åŒ…æŠ½å¥–æŠ½ä¸­çš„é‡‘é¢ï¼ˆæ²¡æƒ³åˆ°é‚£ä¸ªæŠ½å¥–æ˜¯å¹³å°å¥—è·¯ï¼ŒæŠ±æ­‰ï¼Œç¬¬ä¸€æ¬¡ç”¨ï¼‰ä»¥åŠæŸ¥çœ‹106æœŸä¸­å¥–ç”¨æˆ·&lt;/strong&gt;&lt;/span&gt;&lt;img data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;346&quot; data-ratio=&quot;0.8307142857142857&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/WYoaOn5t0AOtFNBRYb6gnSScRKaj7paNRHnmkicLm5CJQo2myvGjL08KScna2f8jrVuG0JMorq4AicWvt0FSYKew/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1400&quot;/&gt;&lt;/figure&gt;&lt;section&gt;&lt;span&gt;åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åœ¨ä¸ä½¿ç”¨ä»»ä½•åº“çš„æƒ…å†µä¸‹å°†dark\Lightæ¨¡å¼åŠŸèƒ½å®ç°åˆ°æˆ‘ä»¬çš„Vue Viteåº”ç”¨ç¨‹åºä¸­ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬å°†é¦–å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„Viteåº”ç”¨ç¨‹åºï¼Œç„¶åä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºè®¾ç½®ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚åœ¨åˆ›å»ºæˆ‘ä»¬çš„Vueåº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæˆ‘æƒ³æåˆ°WrapPixelæä¾›çš„ä¸€äº›å¾ˆæ£’çš„&lt;span&gt;å…è´¹Vueæ¨¡æ¿&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ï¼Œå®ƒä»¬å¯ä»¥å…è´¹ä¸‹è½½å¹¶ç”¨äºä¸ªäººå’Œå•†ä¸šç”¨é€”ã€‚ä»–ä»¬å¯ä»¥èŠ‚çœä½ çš„æ—¶é—´ï¼Œå› ä¸ºä½ å¯ä»¥ç›´æ¥åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨ä»–ä»¬ä»¤äººæƒŠå¹çš„ç”¨æˆ·ç•Œé¢ï¼Œè¿™å°†ç»™ä½ çš„åº”ç”¨ç¨‹åºå¸¦æ¥æƒŠäººçš„å¤–è§‚å’Œæ„Ÿè§‰ï¼Œæ‰€ä»¥ä¸€å®šè¦å»çœ‹çœ‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ›å»ºä¸€ä¸ªVuejs Viteåº”ç”¨ç¨‹åº&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¦è®¾ç½®Viteåº”ç”¨ç¨‹åºï¼Œè¯·æ‰“å¼€æ‚¨çš„ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;npm init vite-app themeswitcher&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¿™ä¸ªå‘½ä»¤å°†æ­å»ºä¸€ä¸ªæ–°çš„viteåº”ç”¨ç¨‹åºï¼Œç„¶åè¿›å…¥é¡¹ç›®ç›®å½•å®‰è£…é¡¹ç›®ä¾èµ–é¡¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;cd themeswitcher&lt;br/&gt;npm install&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å®‰è£…åï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;npm run dev&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‘½ä»¤è¿è¡Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;code . &amp;amp;&amp;amp; npm run dev&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;code .&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‘½ä»¤å°†ä»¥VS Codeæ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºç°åœ¨å°†åœ¨ç«¯å£3000ä¸Šè¿è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6204545454545455&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/WYoaOn5t0AOtFNBRYb6gnSScRKaj7paNWG7IptwTcBssL1EWIib5HRvFqiaG3JRRicSk0F8Wms5tibRf5eMzib1SNfg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;880&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;éšç€åº”ç”¨ç¨‹åºçš„å¯åŠ¨å’Œè¿è¡Œï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åˆ›å»ºCSSã€‚åœ¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ç›®å½•å†…åˆ›å»ºä¸€ä¸ª &lt;/span&gt;&lt;code&gt;&lt;span&gt;css/dark.css&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–‡ä»¶ï¼Œè¿™æ˜¯æˆ‘ä»¬å°†åœ¨é»‘æš—æ¨¡å¼ç¯å¢ƒä¸­å­˜å‚¨æ‰€æœ‰CSSä»£ç çš„åœ°æ–¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;åœ¨dark.cssæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;:root&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;--text&lt;/span&gt;: &lt;span&gt;#ffffff&lt;/span&gt;;&lt;br/&gt;  &lt;span&gt;--background&lt;/span&gt;: &lt;span&gt;#1d1d23&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;body&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;background-color&lt;/span&gt;: &lt;span&gt;var&lt;/span&gt;(--background) &lt;span&gt;!important&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;h1&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;h2&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;h3&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;h4&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;h5&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;h6&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;p&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;small&lt;/span&gt;,&lt;br/&gt;&lt;span&gt;a&lt;/span&gt; {&lt;br/&gt;  &lt;span&gt;color&lt;/span&gt;: &lt;span&gt;var&lt;/span&gt;(--text) &lt;span&gt;!important&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç°åœ¨å°†åœ¨headä¸­åˆ›å»ºä¸€ä¸ªlinkæ ‡ç­¾å°†å…¶è®¾ç½®ä¸ºæˆ‘ä»¬åˆ›å»ºçš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;dark.css&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–‡ä»¶ï¼Œä»¥ä¾¿å¯ä»¥åº”ç”¨åœ¨æ­¤å®šä¹‰çš„æ‰€æœ‰æ ·å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘ä»¬å°†ä½¿ç”¨Javascriptç±»æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œåœ¨srcç›®å½•ä¸­åˆ›å»º &lt;/span&gt;&lt;code&gt;&lt;span&gt;src/theme.js&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt; &lt;span&gt;default&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;themeChanger&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * &lt;span&gt;@constructor&lt;/span&gt;&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;constructor&lt;/span&gt;() {}&lt;br/&gt;    _addDarkTheme() {&lt;br/&gt;        &lt;span&gt;const&lt;/span&gt; darkThemeLinkEl = &lt;span&gt;document&lt;/span&gt;.createElement(&lt;span&gt;&#x27;link&#x27;&lt;/span&gt;)&lt;br/&gt;        darkThemeLinkEl.setAttribute(&lt;span&gt;&#x27;rel&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;stylesheet&#x27;&lt;/span&gt;)&lt;br/&gt;        darkThemeLinkEl.setAttribute(&lt;span&gt;&#x27;href&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;./css/dark.css&#x27;&lt;/span&gt;)&lt;br/&gt;        darkThemeLinkEl.setAttribute(&lt;span&gt;&#x27;id&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;dark-theme-style&#x27;&lt;/span&gt;)&lt;br/&gt;        &lt;span&gt;const&lt;/span&gt; docHead = &lt;span&gt;document&lt;/span&gt;.querySelector(&lt;span&gt;&#x27;head&#x27;&lt;/span&gt;)&lt;br/&gt;        docHead.append(darkThemeLinkEl)&lt;br/&gt;    }&lt;br/&gt;    _removeDarkTheme() {&lt;br/&gt;        &lt;span&gt;const&lt;/span&gt; darkThemeLinkEl = &lt;span&gt;document&lt;/span&gt;.querySelector(&lt;span&gt;&#x27;#dark-theme-style&#x27;&lt;/span&gt;)&lt;br/&gt;        &lt;span&gt;const&lt;/span&gt; parentNode = darkThemeLinkEl.parentNode&lt;br/&gt;        parentNode.removeChild(darkThemeLinkEl)&lt;br/&gt;    }&lt;br/&gt;    _darkThemeSwitch() {&lt;br/&gt;        &lt;span&gt;const&lt;/span&gt; darkThemeLinkEl = &lt;span&gt;document&lt;/span&gt;.querySelector(&lt;span&gt;&#x27;#dark-theme-style&#x27;&lt;/span&gt;)&lt;br/&gt;        &lt;span&gt;if&lt;/span&gt; (!darkThemeLinkEl) {&lt;br/&gt;            &lt;span&gt;this&lt;/span&gt;._addDarkTheme()&lt;br/&gt;        } &lt;span&gt;else&lt;/span&gt; {&lt;br/&gt;            &lt;span&gt;this&lt;/span&gt;._removeDarkTheme()&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘ä»¬åˆ›å»º3ç§æ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;&lt;span&gt;_addDarkTheme()&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼šè¿™ä¼šå°†linkæ ‡ç­¾æ·»åŠ åˆ°åº”ç”¨ç¨‹åºçš„HTML headä¸­ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;&lt;span&gt;_removeDarkTheme()&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼šè¿™å°†åˆ é™¤å·²æ·»åŠ åˆ°HTML headçš„linkæ ‡ç­¾ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;&lt;span&gt;_darkThemeSwitch()&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼šè¿™å°†åˆ‡æ¢æ·»åŠ å’Œåˆ é™¤æ–¹æ³•ï¼Œä»¥åœ¨æˆ‘ä»¬çš„HTML headä¸­æ·»åŠ å’Œåˆ é™¤linkæ ‡ç­¾ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘ä»¬å¯ä»¥ç»§ç»­åœ¨Vue.jsç»„ä»¶ä¸­ä½¿ç”¨æ­¤æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¼–è¾‘ &lt;/span&gt;&lt;code&gt;&lt;span&gt;components/HelloWorld.vue&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ä¸­çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&amp;lt;template&amp;gt;&lt;br/&gt;  &amp;lt;h3&amp;gt;Vite is the future of Frontend Developement.&amp;lt;/h3&amp;gt;&lt;br/&gt;  &amp;lt;small&amp;gt;Thanks to Evan You&amp;lt;/small&amp;gt;&lt;br/&gt;  &amp;lt;br /&amp;gt;&lt;br/&gt;  &amp;lt;button @click=&quot;darkThemeSwitch&quot;&amp;gt;switch&amp;lt;/button&amp;gt;&lt;br/&gt;&amp;lt;/template&amp;gt;&lt;br/&gt;&lt;br/&gt;&amp;lt;script&amp;gt;&lt;br/&gt;import themeChanger from &quot;../util/theme.js&quot;;&lt;br/&gt;export default {&lt;br/&gt;  name: &quot;HelloWorld&quot;,&lt;br/&gt;  props: {&lt;br/&gt;    msg: String,&lt;br/&gt;  },&lt;br/&gt;  data() {&lt;br/&gt;    return {&lt;br/&gt;      themeChanger: null,&lt;br/&gt;    };&lt;br/&gt;  },&lt;br/&gt;  methods: {&lt;br/&gt;    darkThemeSwitch() {&lt;br/&gt;      this.themeChanger._darkThemeSwitch();&lt;br/&gt;    },&lt;br/&gt;  },&lt;br/&gt;  created() {&lt;br/&gt;    this.themeChanger = new themeChanger();&lt;br/&gt;  },&lt;br/&gt;};&lt;br/&gt;&amp;lt;/script&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬å¼•å…¥ &lt;/span&gt;&lt;code&gt;&lt;span&gt;themeChanger&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ç±»çš„å®ä¾‹ï¼Œç„¶åå°†å…¶å­˜å‚¨åœ¨Vue.js dataå®ä¾‹ä¸­ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œè¯¥æŒ‰é’®å°†è°ƒç”¨æˆ‘ä»¬åœ¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;theme.js&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–‡ä»¶ä¸­åˆ›å»ºçš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;_darkThemeSwitch&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å®Œæˆæ­¤æ“ä½œåï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­åœ¨æ˜æš—æ¨¡å¼ä¹‹é—´åˆ‡æ¢ã€‚&lt;/span&gt;&lt;/section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6204545454545455&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/WYoaOn5t0AOtFNBRYb6gnSScRKaj7paNpA1eQVdLDIRkF2Libs5cu3R5iaic9wKWAPapu7RM8kOLwwEfHrhmrmibJw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;880&quot;/&gt;&lt;/figure&gt;&lt;hr/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç›¸å…³é˜…è¯»&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676494264&amp;amp;idx=1&amp;amp;sn=f5f0c9cdbbf068c28041f6eafd6bdc98&amp;amp;chksm=f362c45bc4154d4da7e79db93b9526f256e064b5b537834835df92f551677ae49a283279d201&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;å¬è¯´ä½ ç†Ÿç»ƒä½¿ç”¨Vue.jsï¼Œè¿™9ç§VueæŠ€æœ¯ä½ æŒæ¡äº†å—ï¼Ÿ&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676493889&amp;amp;idx=1&amp;amp;sn=bf85d210efffb7952d0753bd9cd4d6e8&amp;amp;chksm=f362c5a2c4154cb48f0c4ea6421c6a8f27fcc82809c8dff5464a9aa8ab36eab95f522581e9e9&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;VueæŠ€å·§ | åœ¨Vue3ä¸­ä½¿å…ƒç´ åœ¨æ»šåŠ¨è§†å›¾æ—¶æ·¡å…¥&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676492928&amp;amp;idx=1&amp;amp;sn=6614d02412872db83687f22c24550085&amp;amp;chksm=f362c163c41548758d6baef1823216bf1b516cf9f20a3237f5e0702fdb970430a053280ce8db&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Vue.jsä¸­ç¼–å†™æ›´å¥½çš„v-forå¾ªç¯çš„6ç§æŠ€å·§&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676492896&amp;amp;idx=1&amp;amp;sn=9f4133d0288d454eaaae836d5ef4eef3&amp;amp;chksm=f362c183c415489577b1b8d9d05b9503b1ed3f932d2037fc20a93c62ad2f8f2b6799d33228ff&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æˆ‘æ€»ç»“äº†12ä¸ªVue.jså¼€å‘æŠ€å·§å’Œçªé—¨&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676492460&amp;amp;idx=2&amp;amp;sn=f2a9017614371a8f742bb3adb4a2cc35&amp;amp;chksm=f362c34fc4154a59cc6f705c93a801a44a73f0e1f4d4a6e400f82a9ec5c555627fbb614fa0fe&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Vue.jsåµŒå¥—ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MDIwNTQ1Mg==&amp;amp;mid=2676492162&amp;amp;idx=1&amp;amp;sn=f9e18b23b1289064d194af9a13d49e14&amp;amp;chksm=f362cc61c4154577368715e797d404e9921a6f260c3934f182e2176c3de6752ae2b57906db5a&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Vue.jsä¸­ä¾¦å¬å™¨ï¼ˆwatchï¼‰çš„é«˜çº§ç”¨æ³•&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;hr/&gt;&lt;section&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å…è´¹Vueæ¨¡æ¿ï¼šhttps://www.wrappixel.com/templates/category/vuejs-templates/&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç²‰ä¸ç¦åˆ©&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;106æœŸä¸­å¥–å¹¸è¿å„¿ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å®å®å½“å½“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ï¼Œè®°å¾—æ‰¾æˆ‘å…‘å¥–å“¦ï¼ŒåŠ å¾®ä¿¡æ³¨æ˜å…‘å¥–ï¼&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸´èµ°å‰ç•™ä¸‹ï¼Œ&lt;strong&gt;&lt;span&gt;ä»Šå¤©çš„ç¦åˆ©&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ç¦åˆ©1ï¼š&lt;/span&gt;&lt;span&gt;è¯¾ç¨‹ã€Šç¨‹åºå‘˜æˆé•¿æ”»ç•¥ï¼ˆä»·å€¼1998ï¼‰ã€‹&lt;/span&gt;&lt;span&gt;è·å–åœ°å€å’Œå¯†ç è¯·åœ¨å…¬ä¼—å·ä¸­å›å¤å…³é”®å­—ï¼š&lt;/span&gt;&lt;span&gt;001&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¦åˆ©2ï¼š&lt;strong&gt;&lt;span&gt;åœ¨çœ‹+ç•™è¨€&lt;/span&gt;&lt;/strong&gt;ï¼Œå¼ å¼ ä¼šåœ¨ç•™è¨€åŒºéšæœºæŠ½å–ä¸€ä½è®¤çœŸç•™è¨€çš„å°ä¼™ä¼´ï¼Œç»™ä»–å‘ä¸€ä¸ªçº¢åŒ…å¥–åŠ±&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;a class=&quot;weapp_text_link js_weapp_entry&quot; data-miniprogram-appid=&quot;wxe43f931b4099b39c&quot; data-miniprogram-path=&quot;__plugin__/wx34345ae5855f892d/pages/productDetail/productDetail?productId=751654&quot; data-miniprogram-nickname=&quot;å¼ å¼ çš„å°é“º&quot; href=&quot;&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;10&quot;&gt;JavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µï¼Œå›¾çµå‡ºå“é«˜åˆ†å¥½è¯„ï¼Œ26å…ƒå‡ºå”®&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ˜¨æ™šçº¢åŒ…æŠ½å¥–æŠ½ä¸­åå•ï¼ŒæŠ½ä¸­çš„æ‰¾æˆ‘å…‘æ¢å¯¹åº”é‡‘é¢å¾®ä¿¡çº¢åŒ…ï¼ŒæŠ½å¥–ç¨‹åºå¹³å°å¥—è·¯ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ä¸€ä¸ªäººå¾—50å…ƒ&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/WYoaOn5t0AO3NavRIylw01GwFqObBo9BbcsFQqRogdjpFavKXHI7hCq2yNoNUFRshia8bCianksWknCsm85hMicibw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;20&quot;/&gt;ï¼Œè¿˜ä¸èƒ½æç°ï¼ŒTMD&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;3.373148148148148&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/WYoaOn5t0AO3NavRIylw01GwFqObBo9BicDJnHSKvvD3LSew6xfdpFMmBfPOpc5kQFG8micL4xvlKl5BuIys2FicQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;-Â END -&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;èµ°å¿ƒçš„åˆ†äº«æ›´å®¹æ˜“è¢«æŠ½ä¸­~&lt;br/&gt;å¼€å¥–æ—¶é—´ æ¬¡æ—¥æ–‡æœ«&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç‚¹èµ + åœ¨çœ‹ + ç•™è¨€&lt;br/&gt;ä¸‹ä¸€ä¸ªå¹¸è¿å„¿å°±æ˜¯ä½ &lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ğŸ‘‡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>cb8012b63e4b93215e8dc73285d2b586</guid>
<title>å¦‚ä½•è®©ä½ çš„ Express é£èµ·æ¥</title>
<link>https://toutiao.io/k/auvbrrv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿‘æœŸæ˜é‡‘ä¸Šæœ‰å°ä¼™ä¼´é—®é˜¿å®å“¥è£…é¥°å™¨çš„åº”ç”¨åœºæ™¯ï¼Œè¿™è®©é˜¿å®å“¥çªç„¶èŒç”Ÿäº†é€šè¿‡ä¼˜ç§€çš„ TS å¼€æºé¡¹ç›®ï¼Œæ¥å­¦ä¹  TS çš„æƒ³æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡é˜¿å®å“¥å°†ä»¥ Github ä¸Šçš„ &lt;strong&gt;OvernightJS&lt;/strong&gt; å¼€æºé¡¹ç›®ä¸ºä¾‹ï¼Œæ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ TypeScript è£…é¥°å™¨æ¥è£…é¥° Expressï¼Œä»è€Œè®©ä½ çš„ Express å¥½ç”¨å¾—é£èµ·æ¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æœ¬æ–‡çš„é‡å¿ƒå°†å›´ç»• &lt;strong&gt;è£…é¥°å™¨&lt;/strong&gt; çš„åº”ç”¨å±•å¼€ï¼Œä¸è¿‡åœ¨åˆ†æè£…é¥°å™¨åœ¨ OvernightJS çš„åº”ç”¨ä¹‹å‰ï¼Œé˜¿å®å“¥å…ˆæ¥ç®€å•ä»‹ç»ä¸€ä¸‹ OvernightJSã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸€ã€OvernightJS ç®€ä»‹&lt;span/&gt;&lt;/h3&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;TypeScript decorators for the ExpressJS Server.&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OvernightJS æ˜¯ä¸€ä¸ªç®€å•çš„åº“ï¼Œç”¨äºä¸ºè¦è°ƒç”¨ Express è·¯ç”±çš„æ–¹æ³•æ·»åŠ  TypeScript è£…é¥°å™¨ã€‚æ­¤å¤–ï¼Œè¯¥é¡¹ç›®è¿˜åŒ…å«äº†ç”¨äºç®¡ç† json-web-token å’Œæ‰“å°æ—¥å¿—çš„åŒ…ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4007884362680683&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNoGgibuyZqNeg8iaKvyyrfX3outBLPIovJa7pvmfKGjKkAyNDUbXGc2cw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;761&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.1 OvernightJS ç‰¹æ€§&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OvernightJS å¹¶ä¸æ˜¯ä¸ºäº†æ›¿ä»£ Expressï¼Œå¦‚æœä½ ä¹‹å‰å·²ç»æŒæ¡äº† Expressï¼Œé‚£ä½ å°±å¯ä»¥å¿«é€Ÿåœ°å­¦ä¼šå®ƒã€‚OvernightJS ä¸ºå¼€å‘è€…æä¾›äº†ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ &lt;code&gt;@Controller&lt;/code&gt; è£…é¥°å™¨å®šä¹‰åŸºç¡€è·¯ç”±ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›äº†æŠŠç±»æ–¹æ³•è½¬åŒ–ä¸º Express è·¯ç”±çš„è£…é¥°å™¨ï¼ˆ&lt;strong&gt;æ¯”å¦‚ @Getï¼Œ@Putï¼Œ@Postï¼Œ@Delete&lt;/strong&gt;ï¼‰ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›äº†ç”¨äºå¤„ç†ä¸­é—´ä»¶çš„ &lt;code&gt;@Middleware&lt;/code&gt; å’Œ &lt;code&gt;@ClassMiddleware&lt;/code&gt; è£…é¥°å™¨ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›äº†ç”¨äºå¤„ç†å¼‚å¸¸çš„ &lt;code&gt;@ErrorMiddleware&lt;/code&gt; è£…é¥°å™¨ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›äº† &lt;code&gt;@Wrapper&lt;/code&gt; å’Œ &lt;code&gt;@ClassWrapper&lt;/code&gt; è£…é¥°å™¨ç”¨äºåŒ…è£…å‡½æ•°ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é€šè¿‡ &lt;code&gt;@ChildControllers&lt;/code&gt; è£…é¥°å™¨æ”¯æŒå­æ§åˆ¶å™¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡ºäºç¯‡å¹…è€ƒè™‘ï¼Œé˜¿å®å“¥åªä»‹ç»äº† OvernightJS ä¸è£…é¥°å™¨ç›¸å…³çš„éƒ¨åˆ†ç‰¹æ€§ã€‚äº†è§£å®Œè¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬æ¥å¿«é€Ÿä½“éªŒä¸€ä¸‹ OvernightJSã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2 OvernightJS å…¥é—¨&lt;span/&gt;&lt;/h4&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.1 åˆå§‹åŒ–é¡¹ç›®&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæ–°å»ºä¸€ä¸ª &lt;code&gt;overnight-quickstart&lt;/code&gt; é¡¹ç›®ï¼Œç„¶åä½¿ç”¨ &lt;code&gt;npm init -y&lt;/code&gt; å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…é¡¹ç›®ä¾èµ–åŒ…ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt;Â npmÂ iÂ @overnightjs/coreÂ expressÂ -S&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ Express é¡¹ç›®ä¸­è¦é›†æˆ TypeScript å¾ˆç®€å•ï¼Œåªéœ€å®‰è£… &lt;code&gt;typescript&lt;/code&gt; è¿™ä¸ªåŒ…å°±å¯ä»¥äº†ã€‚ä½†ä¸ºäº†åœ¨å¼€å‘é˜¶æ®µèƒ½å¤Ÿåœ¨å‘½ä»¤è¡Œç›´æ¥è¿è¡Œä½¿ç”¨ TypeScript å¼€å‘çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£… &lt;code&gt;ts-node&lt;/code&gt; è¿™ä¸ªåŒ…ã€‚è¦å®‰è£…è¿™ä¸¤ä¸ªåŒ…ï¼Œæˆ‘ä»¬åªéœ€åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt;Â npmÂ iÂ typescriptÂ ts-nodeÂ -D&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.2 ä¸º Node.js å’Œ Express å®‰è£…å£°æ˜æ–‡ä»¶&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å£°æ˜æ–‡ä»¶æ˜¯é¢„å®šä¹‰çš„æ¨¡å—ï¼Œç”¨äºå‘Šè¯‰ TypeScript ç¼–è¯‘å™¨çš„ JavaScript å€¼çš„å½¢çŠ¶ã€‚ç±»å‹å£°æ˜é€šå¸¸åŒ…å«åœ¨æ‰©å±•åä¸º &lt;code&gt;.d.ts&lt;/code&gt; çš„æ–‡ä»¶ä¸­ã€‚è¿™äº›å£°æ˜æ–‡ä»¶å¯ç”¨äºæ‰€æœ‰æœ€åˆç”¨ JavaScript è€Œé TypeScript ç¼–å†™çš„åº“ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡å¤´å¼€å§‹ä¸º Node.js å’Œ Express å®šä¹‰å£°æ˜æ–‡ä»¶ï¼Œå› ä¸ºåœ¨ Github ä¸Šæœ‰ä¸€ä¸ªåä¸º DefinitelyTyped é¡¹ç›®å·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ç°æˆçš„å£°æ˜æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦å®‰è£… Node.js å’Œ Express å¯¹åº”çš„å£°æ˜æ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥äº†ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt;Â npmÂ iÂ @types/nodeÂ @types/expressÂ -D&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥å‘½ä»¤æˆåŠŸæ‰§è¡Œä¹‹åï¼Œ&lt;code&gt;package.json&lt;/code&gt; ä¸­çš„ &lt;code&gt;devDependencies&lt;/code&gt; å±æ€§å°±ä¼šæ–°å¢ Node.js å’Œ Express å¯¹åº”çš„ä¾èµ–åŒ…ç‰ˆæœ¬ä¿¡æ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;devDependencies&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&quot;@types/express&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^4.17.8&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&quot;@types/node&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^14.11.2&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&quot;ts-node&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^9.0.0&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&quot;typescript&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^4.0.3&quot;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.3 åˆå§‹åŒ– TypeScript é…ç½®æ–‡ä»¶&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†èƒ½å¤Ÿçµæ´»åœ°é…ç½® TypeScript é¡¹ç›®ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸ºæœ¬é¡¹ç›®ç”Ÿæˆ TypeScript é…ç½®æ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ &lt;code&gt;tsc --init&lt;/code&gt; ä¹‹åï¼Œé¡¹ç›®ä¸­å°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª &lt;code&gt;tsconfig.json&lt;/code&gt; çš„æ–‡ä»¶ã€‚å¯¹äºæœ¬é¡¹ç›®æ¥è¯´ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹é…ç½®é¡¹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;compilerOptions&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;target&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;es6&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;module&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;commonjs&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;rootDir&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;./src&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;outDir&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;./build&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;esModuleInterop&quot;&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;experimentalDecorators&quot;&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;strict&quot;&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.4 åˆ›å»ºç®€å•çš„ Web æœåŠ¡å™¨&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åˆ›å»ºç®€å•çš„ Web æœåŠ¡å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆå§‹åŒ–é¡¹ç›®çš„ç›®å½•ç»“æ„ã€‚é¦–å…ˆåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª &lt;code&gt;src&lt;/code&gt; ç›®å½•åŠ &lt;code&gt;controllers&lt;/code&gt; å­ç›®å½•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;â”œâ”€â”€Â src&lt;br/&gt;â”‚Â Â Â â”œâ”€â”€Â controllers&lt;br/&gt;â”‚Â Â Â â”‚Â Â Â â””â”€â”€Â UserController.ts&lt;br/&gt;â”‚Â Â Â â””â”€â”€Â index.ts&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€æ–°å»º &lt;code&gt;UserController.ts&lt;/code&gt; å’Œ &lt;code&gt;index.ts&lt;/code&gt; è¿™ä¸¤ä¸ªæ–‡ä»¶å¹¶åˆ†åˆ«è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;UserController.ts&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt;Â {Â Controller,Â GetÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&quot;@overnightjs/core&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â {Â Request,Â ResponseÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&quot;express&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;@Controller&lt;/span&gt;(&lt;span&gt;&quot;api/users&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â UserControllerÂ {&lt;br/&gt;Â Â &lt;span&gt;@Get&lt;/span&gt;(&lt;span&gt;&quot;&quot;&lt;/span&gt;)&lt;br/&gt;Â Â &lt;span&gt;private&lt;/span&gt;Â getAll(req:Â Request,Â res:Â Response)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â res.status(&lt;span&gt;200&lt;/span&gt;).json({&lt;br/&gt;Â Â Â Â Â Â message:Â &lt;span&gt;&quot;æˆåŠŸè·å–æ‰€æœ‰ç”¨æˆ·&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â });&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;index.ts&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt;Â {Â ServerÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&quot;@overnightjs/core&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â {Â UserControllerÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&quot;./controllers/UserController&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â PORTÂ =Â &lt;span&gt;3000&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â SampleServerÂ &lt;span&gt;extends&lt;/span&gt;Â ServerÂ {&lt;br/&gt;Â Â &lt;span&gt;constructor&lt;/span&gt;(&lt;span/&gt;)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;super&lt;/span&gt;(process.env.NODE_ENVÂ ===Â &lt;span&gt;&quot;development&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.setupControllers();&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;private&lt;/span&gt;Â setupControllers():Â &lt;span&gt;void&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â userControllerÂ =Â &lt;span&gt;new&lt;/span&gt;Â UserController();&lt;br/&gt;Â Â Â Â &lt;span&gt;super&lt;/span&gt;.addControllers([userController]);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â start(port:Â &lt;span&gt;number&lt;/span&gt;):Â &lt;span&gt;void&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.app.listen(port,Â &lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;`âš¡ï¸[server]:Â ServerÂ isÂ runningÂ atÂ http://localhost:&lt;span&gt;${PORT}&lt;/span&gt;`&lt;/span&gt;);&lt;br/&gt;Â Â Â Â });&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â sampleServerÂ =Â &lt;span&gt;new&lt;/span&gt;Â SampleServer();&lt;br/&gt;sampleServer.start(PORT);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®Œæˆä¸Šè¿°æ­¥éª¤ä¹‹åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ &lt;code&gt;package.json&lt;/code&gt; ä¸­æ·»åŠ ä¸€ä¸ª &lt;code&gt;start&lt;/code&gt; å‘½ä»¤æ¥å¯åŠ¨é¡¹ç›®ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;scripts&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;start&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;ts-nodeÂ ./src/index.ts&quot;&lt;/span&gt;&lt;br/&gt;Â Â },&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ·»åŠ å®Œ &lt;code&gt;start&lt;/code&gt; å‘½ä»¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ &lt;code&gt;npm start&lt;/code&gt; æ¥å¯åŠ¨ Web æœåŠ¡å™¨äº†ã€‚å½“æœåŠ¡å™¨æˆåŠŸå¯åŠ¨ä¹‹åï¼Œå‘½ä»¤è¡Œä¼šè¾“å‡ºä»¥ä¸‹æ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&amp;gt;Â ts-nodeÂ ./src/index.ts&lt;br/&gt;&lt;br/&gt;âš¡ï¸[server]:Â ServerÂ isÂ runningÂ atÂ http://localhost:3000&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000/api/users è¿™ä¸ªåœ°å€ï¼Œä½ å°±ä¼šçœ‹åˆ° &lt;code&gt;{&quot;message&quot;:&quot;æˆåŠŸè·å–æ‰€æœ‰ç”¨æˆ·&quot;}&lt;/code&gt; è¿™ä¸ªä¿¡æ¯ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2.5 å®‰è£… nodemon&lt;span/&gt;&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†æ–¹ä¾¿åç»­çš„å¼€å‘ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ… &lt;code&gt;nodemon&lt;/code&gt;ã€‚å¯¹äºå†™è¿‡ Node.js åº”ç”¨çš„å°ä¼™ä¼´æ¥è¯´ï¼Œå¯¹ &lt;code&gt;nodemon&lt;/code&gt; è¿™ä¸ªåŒ…åº”è¯¥ä¸ä¼šé™Œç”Ÿã€‚&lt;code&gt;nodemon&lt;/code&gt; è¿™ä¸ªåŒ…ä¼šè‡ªåŠ¨æ£€æµ‹ç›®å½•ä¸­æ–‡ä»¶çš„æ›´æ”¹ï¼Œå½“å‘ç°æ–‡ä»¶å¼‚åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨é‡å¯ Node.js åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·ï¼Œæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…å®ƒï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt;Â npmÂ iÂ nodemonÂ -D&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°ä¸€ä¸‹å‰é¢å·²ç»åˆ›å»ºçš„ &lt;code&gt;start&lt;/code&gt; å‘½ä»¤ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;scripts&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;start&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;nodemonÂ ./src/index.ts&quot;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½çš„ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨ OvernightJS æ¥å¼€å‘ä¸€ä¸ªç®€å•çš„ Web æœåŠ¡å™¨ã€‚æ¥ä¸‹æ¥ï¼Œé˜¿å®å“¥å°†å¸¦å¤§å®¶ä¸€èµ·æ¥åˆ†æ OvernightJS æ˜¯å¦‚ä½•ä½¿ç”¨ TypeScript è£…é¥°å™¨å®ç°ä¸Šè¿°çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;äºŒã€OvernightJS åŸç†åˆ†æ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åˆ†æå‰é¢ç¤ºä¾‹ä¸­ &lt;code&gt;@Controller&lt;/code&gt; å’Œ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨åŸç†å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç›´æ¥ä½¿ç”¨ Express å¦‚ä½•å®ç°åŒæ ·çš„åŠŸèƒ½ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt;Â express,Â {Â Router,Â Request,Â ResponseÂ }Â &lt;span&gt;from&lt;/span&gt;Â &lt;span&gt;&quot;express&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â appÂ =Â express();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â PORTÂ =Â &lt;span&gt;3000&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;class&lt;/span&gt;Â UserControllerÂ {&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â getAll(req:Â Request,Â res:Â Response)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â res.status(&lt;span&gt;200&lt;/span&gt;).json({&lt;br/&gt;Â Â Â Â Â Â message:Â &lt;span&gt;&quot;æˆåŠŸè·å–æ‰€æœ‰ç”¨æˆ·&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â });&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â userRouterÂ =Â Router();&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â userCtrlÂ =Â &lt;span&gt;new&lt;/span&gt;Â UserController();&lt;br/&gt;userRouter.get(&lt;span&gt;&quot;/&quot;&lt;/span&gt;,Â userCtrl.getAll);&lt;br/&gt;&lt;br/&gt;app.use(&lt;span&gt;&quot;/api/users&quot;&lt;/span&gt;,Â userRouter);&lt;br/&gt;&lt;br/&gt;app.listen(PORT,Â &lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;`âš¡ï¸[server]:Â ServerÂ isÂ runningÂ atÂ http://localhost:&lt;span&gt;${PORT}&lt;/span&gt;`&lt;/span&gt;);&lt;br/&gt;});&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡è°ƒç”¨ &lt;code&gt;Router&lt;/code&gt; æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ª &lt;code&gt;userRouter&lt;/code&gt; å¯¹è±¡ï¼Œç„¶åè¿›è¡Œç›¸å…³è·¯ç”±çš„é…ç½®ï¼Œæ¥ç€ä½¿ç”¨ &lt;code&gt;app.use&lt;/code&gt; æ–¹æ³•åº”ç”¨ &lt;code&gt;userRouter&lt;/code&gt; è·¯ç”±ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥ç›´è§‚æ„Ÿå—ä¸€ä¸‹ OvernightJS ä¸ Express åœ¨ä½¿ç”¨ä¸Šçš„å·®å¼‚ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3888888888888889&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNhuD9rZiadNY2W7BrCsEU2avtWdcU6mPG4eVKicz3trJnjEIZrh6daStA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä»¥ä¸Šå¯¹æ¯”å¯çŸ¥ï¼Œåˆ©ç”¨ OvernightJS æä¾›çš„è£…é¥°å™¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬å¼€å‘èµ·æ¥æ›´åŠ ä¾¿æ·ã€‚ä½†å¤§å®¶è¦è®°ä½ OvernightJS åº•å±‚è¿˜æ˜¯åŸºäº Expressï¼Œå…¶å†…éƒ¨æœ€ç»ˆè¿˜æ˜¯é€šè¿‡ Express æä¾›çš„ API æ¥å¤„ç†è·¯ç”±ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ¥ä¸‹æ¥ä¸ºäº†èƒ½æ›´å¥½ç†è§£åç»­çš„å†…å®¹ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•å›é¡¾ä¸€ä¸‹ TypeScript è£…é¥°å™¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.1 TypeScript è£…é¥°å™¨ç®€ä»‹&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è£…é¥°å™¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼æ‰§è¡Œåï¼Œä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚åœ¨ TypeScript ä¸­è£…é¥°å™¨å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ 4 ç±»ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5101851851851852&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNXteISwAruz4XGZfm7LdOATaVQtUZc2DnicjfI004kmduqfVziavDfVUw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥è¦å¯ç”¨å®éªŒæ€§çš„è£…é¥°å™¨ç‰¹æ€§ï¼Œä½ å¿…é¡»åœ¨å‘½ä»¤è¡Œæˆ– &lt;code&gt;tsconfig.json&lt;/code&gt; é‡Œå¯ç”¨ &lt;code&gt;experimentalDecorators&lt;/code&gt; ç¼–è¯‘å™¨é€‰é¡¹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å‘½ä»¤è¡Œ&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;tscÂ --targetÂ ES5Â --experimentalDecorators&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;tsconfig.json&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;compilerOptions&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&quot;experimentalDecorators&quot;&lt;/span&gt;:Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº†è§£å®Œ TypeScript è£…é¥°å™¨çš„åˆ†ç±»ï¼Œæˆ‘ä»¬æ¥å¼€å§‹åˆ†æ OvernightJS æ¡†æ¶ä¸­æä¾›çš„è£…é¥°å™¨ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.2 @Controller è£…é¥°å™¨&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å‰é¢åˆ›å»ºçš„ç®€å• Web æœåŠ¡å™¨ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥ä½¿ç”¨ &lt;code&gt;@Controller&lt;/code&gt; è£…é¥°å™¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Controller&lt;/span&gt;(&lt;span&gt;&quot;api/users&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â UserControllerÂ {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾ˆæ˜æ˜¾è¯¥è£…é¥°å™¨åº”ç”¨åœ¨ &lt;code&gt;UserController&lt;/code&gt; ç±»ä¸Šï¼Œå®ƒå±äºç±»è£…é¥°å™¨ã€‚OvernightJS çš„é¡¹ç›®ç»“æ„å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“æ‰¾åˆ° &lt;code&gt;@Controller&lt;/code&gt; è£…é¥°å™¨çš„å®šä¹‰ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/decorators/class.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Controller&lt;/span&gt;(&lt;span&gt;path:Â &lt;span&gt;string&lt;/span&gt;&lt;/span&gt;):Â &lt;span&gt;ClassDecorator&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;lt;TFunctionÂ &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;Function&lt;/span&gt;&amp;gt;(target:Â TFunction):Â &lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â addBasePathToClassMetadata(target.prototype,Â &lt;span&gt;&quot;/&quot;&lt;/span&gt;Â +Â path);&lt;br/&gt;Â Â };&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è§‚å¯Ÿä»¥ä¸Šä»£ç å¯çŸ¥ï¼ŒController å‡½æ•°æ˜¯ä¸€ä¸ªè£…é¥°å™¨å·¥å‚ï¼Œå³è°ƒç”¨è¯¥å·¥å‚æ–¹æ³•ä¹‹åä¼šè¿”å›ä¸€ä¸ª ClassDecorator å¯¹è±¡ã€‚åœ¨ ClassDecorator å†…éƒ¨ï¼Œä¼šç»§ç»­è°ƒç”¨ &lt;code&gt;addBasePathToClassMetadata&lt;/code&gt; æ–¹æ³•ï¼ŒæŠŠåŸºç¡€è·¯å¾„æ·»åŠ åˆ°ç±»çš„å…ƒæ•°æ®ä¸­ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/decorators/class.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;addBasePathToClassMetadata&lt;/span&gt;(&lt;span&gt;target:Â &lt;span&gt;Object&lt;/span&gt;,Â basePath:Â &lt;span&gt;string&lt;/span&gt;&lt;/span&gt;):Â &lt;span&gt;void&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;let&lt;/span&gt;Â metadata:Â IClassMetadataÂ |Â &lt;span&gt;undefined&lt;/span&gt;Â =Â Reflect.getOwnMetadata(classMetadataKey,Â target);&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (!metadata)Â {&lt;br/&gt;Â Â Â Â Â Â metadataÂ =Â {};&lt;br/&gt;Â Â }&lt;br/&gt;Â Â metadata.basePathÂ =Â basePath;&lt;br/&gt;Â Â Reflect.defineMetadata(classMetadataKey,Â metadata,Â target);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;addBasePathToClassMetadata&lt;/code&gt; å‡½æ•°çš„å®ç°å¾ˆç®€å•ï¼Œä¸»è¦æ˜¯åˆ©ç”¨ Reflect API å®ç°å…ƒæ•°æ®çš„å­˜å–æ“ä½œã€‚åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œä¼šå…ˆè·å– &lt;code&gt;target&lt;/code&gt; å¯¹è±¡ä¸Šå·²ä¿å­˜çš„ &lt;code&gt;metadata&lt;/code&gt; å¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ï¼Œç„¶åæŠŠå‚æ•° &lt;code&gt;basePath&lt;/code&gt; çš„å€¼æ·»åŠ è¯¥å¯¹è±¡çš„ &lt;code&gt;basePath&lt;/code&gt; å±æ€§ä¸­ï¼Œå…ƒæ•°æ®è®¾ç½®å®Œæˆåï¼Œåœ¨é€šè¿‡ &lt;code&gt;Reflect.defineMetadata&lt;/code&gt; æ–¹æ³•è¿›è¡Œå…ƒæ•°æ®çš„ä¿å­˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥è¯´æ˜ä¸€ä¸‹ &lt;code&gt;@Controller&lt;/code&gt; è£…é¥°å™¨çš„å¤„ç†æµç¨‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5898148148148148&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNvrsMPMY5qSFpSibXNDUoHusmg0mK2T5gbozFTeasv0viblowkhp8WL2g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ OvernightJS é¡¹ç›®ä¸­ï¼Œæ‰€ä½¿ç”¨çš„ Reflect API æ˜¯æ¥è‡ª reflect-metadata è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚è¯¥åº“æä¾›äº†å¾ˆå¤š API ç”¨äºæ“ä½œå…ƒæ•°æ®ï¼Œè¿™é‡Œæˆ‘ä»¬åªç®€å•ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„ APIï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â defineÂ metadataÂ onÂ anÂ objectÂ orÂ property&lt;/span&gt;&lt;br/&gt;Reflect.defineMetadata(metadataKey,Â metadataValue,Â target);&lt;br/&gt;Reflect.defineMetadata(metadataKey,Â metadataValue,Â target,Â propertyKey);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â checkÂ forÂ presenceÂ ofÂ aÂ metadataÂ keyÂ onÂ theÂ prototypeÂ chainÂ ofÂ anÂ objectÂ orÂ property&lt;/span&gt;&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.hasMetadata(metadataKey,Â target);&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.hasMetadata(metadataKey,Â target,Â propertyKey);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â getÂ metadataÂ valueÂ ofÂ anÂ ownÂ metadataÂ keyÂ ofÂ anÂ objectÂ orÂ property&lt;/span&gt;&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.getOwnMetadata(metadataKey,Â target);&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.getOwnMetadata(metadataKey,Â target,Â propertyKey);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â getÂ metadataÂ valueÂ ofÂ aÂ metadataÂ keyÂ onÂ theÂ prototypeÂ chainÂ ofÂ anÂ objectÂ orÂ property&lt;/span&gt;&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.getMetadata(metadataKey,Â target);&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.getMetadata(metadataKey,Â target,Â propertyKey);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â deleteÂ metadataÂ fromÂ anÂ objectÂ orÂ property&lt;/span&gt;&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.deleteMetadata(metadataKey,Â target);&lt;br/&gt;&lt;span&gt;let&lt;/span&gt;Â resultÂ =Â Reflect.deleteMetadata(metadataKey,Â target,Â propertyKey);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰ä¸€äº›å°ä¼™ä¼´ä¼šæœ‰ç–‘é—®ï¼Œé€šè¿‡ Reflect API ä¿å­˜çš„å…ƒæ•°æ®ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å…ˆè®°ä½è¿™ä¸ªé—®é¢˜ï¼Œåé¢æˆ‘ä»¬å†æ¥åˆ†æå®ƒï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å¼€å§‹åˆ†æ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.3 @Get è£…é¥°å™¨&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å‰é¢åˆ›å»ºçš„ç®€å• Web æœåŠ¡å™¨ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥ä½¿ç”¨ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨ï¼Œè¯¥è£…é¥°å™¨ç”¨äºé…ç½® Get è¯·æ±‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â UserControllerÂ {&lt;br/&gt;Â Â &lt;span&gt;@Get&lt;/span&gt;(&lt;span&gt;&quot;&quot;&lt;/span&gt;)&lt;br/&gt;Â Â &lt;span&gt;private&lt;/span&gt;Â getAll(req:Â Request,Â res:Â Response)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â res.status(&lt;span&gt;200&lt;/span&gt;).json({&lt;br/&gt;Â Â Â Â Â Â message:Â &lt;span&gt;&quot;æˆåŠŸè·å–æ‰€æœ‰ç”¨æˆ·&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â });&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨åº”ç”¨åœ¨ &lt;code&gt;UserController&lt;/code&gt; ç±»çš„ &lt;code&gt;getAll&lt;/code&gt; æ–¹æ³•ä¸Šï¼Œå®ƒå±äºæ–¹æ³•è£…é¥°å™¨ã€‚å®ƒçš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/decorators/method.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Get&lt;/span&gt;(&lt;span&gt;path?:Â &lt;span&gt;string&lt;/span&gt;Â |Â &lt;span&gt;RegExp&lt;/span&gt;&lt;/span&gt;):Â &lt;span&gt;MethodDecorator&lt;/span&gt;Â &amp;amp;Â &lt;span&gt;PropertyDecorator&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â helperForRoutes(HttpVerb.GET,Â path);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ &lt;code&gt;Controller&lt;/code&gt; å‡½æ•°ä¸€æ ·ï¼Œ&lt;code&gt;Get&lt;/code&gt; å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªè£…é¥°å™¨å·¥å‚ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¹‹åä¼šè¿”å› &lt;code&gt;MethodDecorator &amp;amp; PropertyDecorator&lt;/code&gt; çš„äº¤å‰ç±»å‹ã€‚é™¤äº† Get è¯·æ±‚æ–¹æ³•ä¹‹å¤–ï¼Œå¸¸è§çš„ HTTP è¯·æ±‚æ–¹æ³•è¿˜æœ‰ Postã€Deleteã€Putã€Patch å’Œ Head ç­‰ã€‚ä¸ºäº†ç»Ÿä¸€å¤„ç†è¿™äº›è¯·æ±‚æ–¹æ³•ï¼ŒOvernightJS å†…éƒ¨å°è£…äº†ä¸€ä¸ª &lt;code&gt;helperForRoutes&lt;/code&gt; å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/decorators/method.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;helperForRoutes&lt;/span&gt;(&lt;span&gt;httpVerb:Â HttpDecorator,Â path?:Â &lt;span&gt;string&lt;/span&gt;Â |Â &lt;span&gt;RegExp&lt;/span&gt;&lt;/span&gt;):Â &lt;span&gt;MethodDecorator&lt;/span&gt;Â &amp;amp;Â &lt;span&gt;PropertyDecorator&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â (target:Â &lt;span&gt;Object&lt;/span&gt;,Â propertyKey:Â &lt;span&gt;string&lt;/span&gt;Â |Â symbol):Â &lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â newPath:Â &lt;span&gt;string&lt;/span&gt;Â |Â &lt;span&gt;RegExp&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (pathÂ ===Â &lt;span&gt;undefined&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â newPathÂ =Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (pathÂ &lt;span&gt;instanceof&lt;/span&gt;Â &lt;span&gt;RegExp&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â newPathÂ =Â addForwardSlashToFrontOfRegex(path);&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {Â &lt;span&gt;//Â assertÂ (pathÂ instanceofÂ string)&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â newPathÂ =Â &lt;span&gt;&#x27;/&#x27;&lt;/span&gt;Â +Â path;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â addHttpVerbToMethodMetadata(target,Â propertyKey,Â httpVerb,Â newPath);&lt;br/&gt;Â Â Â Â };&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è§‚å¯Ÿä»¥ä¸Šä»£ç å¯çŸ¥ï¼Œåœ¨ &lt;code&gt;helperForRoutes&lt;/code&gt; æ–¹æ³•å†…éƒ¨ï¼Œä¼šç»§ç»­è°ƒç”¨ &lt;code&gt;addHttpVerbToMethodMetadata&lt;/code&gt; æ–¹æ³•æŠŠè¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚è·¯å¾„è¿™äº›å…ƒæ•°æ®ä¿å­˜èµ·æ¥ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/decorators/method.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;addHttpVerbToMethodMetadata&lt;/span&gt;(&lt;span&gt;target:Â &lt;span&gt;Object&lt;/span&gt;,Â metadataKey:Â &lt;span&gt;any&lt;/span&gt;,Â &lt;br/&gt;Â Â httpDecorator:Â HttpDecorator,Â path:Â &lt;span&gt;string&lt;/span&gt;Â |Â &lt;span&gt;RegExp&lt;/span&gt;&lt;/span&gt;):Â &lt;span&gt;void&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â metadata:Â IMethodMetadataÂ |Â &lt;span&gt;undefined&lt;/span&gt;Â =Â Reflect.getOwnMetadata(metadataKey,Â target);&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!metadata)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â metadataÂ =Â {};&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!metadata.httpRoutes)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â metadata.httpRoutesÂ =Â [];&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â newArr:Â IHttpRoute[]Â =Â [{&lt;br/&gt;Â Â Â Â Â Â httpDecorator,&lt;br/&gt;Â Â Â Â Â Â path,&lt;br/&gt;Â Â Â Â }];&lt;br/&gt;Â Â Â Â newArr.push(...metadata.httpRoutes);&lt;br/&gt;Â Â Â Â metadata.httpRoutesÂ =Â newArr;&lt;br/&gt;Â Â Â Â Reflect.defineMetadata(metadataKey,Â metadata,Â target);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ &lt;code&gt;addHttpVerbToMethodMetadata&lt;/code&gt; æ–¹æ³•ä¸­ï¼Œä¼šå…ˆè·å–å·²ä¿å­˜çš„å…ƒæ•°æ®ï¼Œå¦‚æœ &lt;code&gt;metadata&lt;/code&gt; å¯¹è±¡ä¸å­˜åœ¨åˆ™ä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ã€‚ç„¶åä¼šç»§ç»­åˆ¤æ–­è¯¥å¯¹è±¡ä¸Šæ˜¯å¦å«æœ‰ &lt;code&gt;httpRoutes&lt;/code&gt; å±æ€§ï¼Œæ²¡æœ‰çš„è¯ä¼šä½¿ç”¨ &lt;code&gt;[]&lt;/code&gt;Â å¯¹è±¡æ¥ä½œä¸ºè¯¥å±æ€§çš„å±æ€§å€¼ã€‚è€Œè¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚è·¯å¾„è¿™äº›å…ƒæ•°æ®ä¼šä»¥å¯¹è±¡çš„å½¢å¼ä¿å­˜åˆ°æ•°ç»„ä¸­ï¼Œæœ€ç»ˆåœ¨é€šè¿‡ &lt;code&gt;Reflect.defineMetadata&lt;/code&gt; æ–¹æ³•è¿›è¡Œå…ƒæ•°æ®çš„ä¿å­˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·ï¼Œæˆ‘ä»¬ç”¨ä¸€å¼ å›¾æ¥è¯´æ˜ä¸€ä¸‹ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨çš„å¤„ç†æµç¨‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6277777777777778&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNSibE6l3JGjmg6QaNzvdWbWFGtLtjZhFa5NyUKXaVarjD7bVUCCSCVJg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ†æå®Œ &lt;code&gt;@Controller&lt;/code&gt; å’Œ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“å…ƒæ•°æ®æ˜¯å¦‚ä½•è¿›è¡Œä¿å­˜çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å›ç­” â€œé€šè¿‡ Reflect API ä¿å­˜çš„å…ƒæ•°æ®ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å‘¢ï¼Ÿâ€ è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.4 å…ƒæ•°æ®çš„ä½¿ç”¨&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦ææ¸…æ¥šé€šè¿‡ Reflect API ä¿å­˜çš„å…ƒæ•°æ®ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¥å›é¡¾ä¸€ä¸‹å‰é¢å¼€å‘çš„ &lt;code&gt;SampleServer&lt;/code&gt; æœåŠ¡å™¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â SampleServerÂ &lt;span&gt;extends&lt;/span&gt;Â ServerÂ {&lt;br/&gt;Â Â &lt;span&gt;constructor&lt;/span&gt;(&lt;span/&gt;)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;super&lt;/span&gt;(process.env.NODE_ENVÂ ===Â &lt;span&gt;&quot;development&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.setupControllers();&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;private&lt;/span&gt;Â setupControllers():Â &lt;span&gt;void&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â userControllerÂ =Â &lt;span&gt;new&lt;/span&gt;Â UserController();&lt;br/&gt;Â Â Â Â &lt;span&gt;super&lt;/span&gt;.addControllers([userController]);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â start(port:Â &lt;span&gt;number&lt;/span&gt;):Â &lt;span&gt;void&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.app.listen(port,Â &lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;`âš¡ï¸[server]:Â ServerÂ isÂ runningÂ atÂ http://localhost:&lt;span&gt;${PORT}&lt;/span&gt;`&lt;/span&gt;);&lt;br/&gt;Â Â Â Â });&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â sampleServerÂ =Â &lt;span&gt;new&lt;/span&gt;Â SampleServer();&lt;br/&gt;sampleServer.start(PORT);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä»¥ä¸Šä»£ç ä¸­ &lt;code&gt;SampleServer&lt;/code&gt; ç±»ç»§æ‰¿äº OvernightJS å†…ç½®çš„ &lt;code&gt;Server&lt;/code&gt; ç±»ï¼Œå¯¹åº”çš„ UML ç±»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.42962962962962964&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNDrfxXYUZzIQkDgcJIQic9vBy86rNXtX5hXFzzd7FC98SG95IsGlib0Rg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œåœ¨ &lt;code&gt;SampleServer&lt;/code&gt; ç±»ä¸­æˆ‘ä»¬å®šä¹‰äº† &lt;code&gt;setupControllers&lt;/code&gt; å’Œ &lt;code&gt;start&lt;/code&gt; æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨äºåˆå§‹åŒ–æ§åˆ¶å™¨å’Œå¯åŠ¨æœåŠ¡å™¨ã€‚æˆ‘ä»¬åœ¨è‡ªå®šä¹‰çš„æ§åˆ¶å™¨ä¸Šä½¿ç”¨äº† &lt;code&gt;@Controller&lt;/code&gt; å’Œ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨ï¼Œå› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬çš„é‡ç‚¹å°±æ˜¯åˆ†æ &lt;code&gt;setupControllers&lt;/code&gt; æ–¹æ³•ã€‚è¯¥æ–¹æ³•çš„å†…éƒ¨å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯æ‰‹åŠ¨åˆ›å»ºæ§åˆ¶å™¨å®ä¾‹ï¼Œç„¶åè°ƒç”¨çˆ¶ç±»çš„ &lt;code&gt;addControllers&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æ &lt;code&gt;addControllers&lt;/code&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½äº &lt;code&gt;src/core/lib/Server.ts&lt;/code&gt; æ–‡ä»¶ä¸­ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/Server.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â ServerÂ {&lt;br/&gt;Â Â &lt;span&gt;public&lt;/span&gt;Â addControllers(&lt;br/&gt;Â Â Â Â controllers:Â ControllerÂ |Â Controller[],&lt;br/&gt;Â Â Â Â routerLib?:Â RouterLib,&lt;br/&gt;Â Â Â Â globalMiddleware?:Â RequestHandler,&lt;br/&gt;Â Â ):Â &lt;span&gt;void&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â controllersÂ =Â (controllersÂ &lt;span&gt;instanceof&lt;/span&gt;Â &lt;span&gt;Array&lt;/span&gt;)Â ?Â controllersÂ :Â [controllers];&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;//Â â‘ Â æ”¯æŒåŠ¨æ€è®¾ç½®è·¯ç”±åº“&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â routerLibrary:Â RouterLibÂ =Â routerLibÂ ||Â Router;Â &lt;br/&gt;Â Â Â Â Â Â Â controllers.forEach(&lt;span&gt;(&lt;span&gt;controller:Â Controller&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (controller)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘¡Â ä¸ºæ¯ä¸ªæ§åˆ¶å™¨åˆ›å»ºå¯¹åº”çš„è·¯ç”±å¯¹è±¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â routerAndPath:Â IRouterAndPathÂ |Â &lt;span&gt;null&lt;/span&gt;Â =Â &lt;span&gt;this&lt;/span&gt;.getRouter(routerLibrary,Â controller);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘¢Â æ³¨å†Œè·¯ç”±&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (routerAndPath)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (globalMiddleware)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.app.use(routerAndPath.basePath,Â globalMiddleware,Â routerAndPath.router);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.app.use(routerAndPath.basePath,Â routerAndPath.router);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;addControllers&lt;/code&gt; æ–¹æ³•çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°ï¼Œæœ€æ ¸å¿ƒçš„éƒ¨åˆ†å°±æ˜¯ &lt;code&gt;getRouter&lt;/code&gt; æ–¹æ³•ã€‚åœ¨è¯¥æ–¹æ³•å†…éƒ¨å°±ä¼šå¤„ç†é€šè¿‡è£…é¥°å™¨ä¿å­˜çš„å…ƒæ•°æ®ã€‚å…¶å® &lt;code&gt;getRouter&lt;/code&gt; æ–¹æ³•å†…éƒ¨è¿˜ä¼šå¤„ç†å…¶ä»–è£…é¥°å™¨ä¿å­˜çš„å…ƒæ•°æ®ï¼Œç®€å•èµ·è§æˆ‘ä»¬åªè€ƒè™‘ä¸ &lt;code&gt;@Controller&lt;/code&gt; å’Œ &lt;code&gt;@Get&lt;/code&gt; è£…é¥°å™¨ç›¸å…³çš„å¤„ç†é€»è¾‘ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â src/core/lib/Server.ts&lt;/span&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;class&lt;/span&gt;Â ServerÂ {&lt;br/&gt;Â &lt;span&gt;private&lt;/span&gt;Â getRouter(routerLibrary:Â RouterLib,Â controller:Â Controller):Â IRouterAndPathÂ |Â &lt;span&gt;null&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â prototype:Â &lt;span&gt;any&lt;/span&gt;Â =Â &lt;span&gt;Object&lt;/span&gt;.getPrototypeOf(controller);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â classMetadata:Â IClassMetadataÂ |Â &lt;span&gt;undefined&lt;/span&gt;Â =Â Reflect.getOwnMetadata(classMetadataKey,Â prototype);&lt;br/&gt;&lt;br/&gt;Â Â Â Â    Â &lt;span&gt;//Â çœç•¥éƒ¨åˆ†ä»£ç &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â {Â basePath,Â options,Â ...}:Â IClassMetadataÂ =Â classMetadata;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘ Â åŸºäºé…ç½®é¡¹åˆ›å»ºRouterå¯¹è±¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â router:Â IRouterÂ =Â routerLibrary(options);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â   &lt;span&gt;//Â â‘¡Â ä¸ºè·¯ç”±å¯¹è±¡æ·»åŠ è·¯å¾„å’Œè¯·æ±‚å¤„ç†å™¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â members:Â &lt;span&gt;any&lt;/span&gt;Â =Â &lt;span&gt;Object&lt;/span&gt;.getOwnPropertyNames(controller);&lt;br/&gt;Â Â Â Â Â Â Â Â membersÂ =Â members.concat(&lt;span&gt;Object&lt;/span&gt;.getOwnPropertyNames(prototype));&lt;br/&gt;Â Â Â Â Â Â Â Â members.forEach(&lt;span&gt;(&lt;span&gt;member:Â &lt;span&gt;any&lt;/span&gt;&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘¢Â è·å–æ–¹æ³•ä¸­ä¿å­˜çš„å…ƒæ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â methodMetadata:Â IMethodMetadataÂ |Â &lt;span&gt;undefined&lt;/span&gt;Â =Â Reflect.getOwnMetadata(member,Â prototype);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (methodMetadata)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â {Â httpRoutes,Â ...}:Â IMethodMetadataÂ =Â methodMetadata;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â callBack:Â &lt;span&gt;(&lt;span&gt;...args:Â &lt;span&gt;any&lt;/span&gt;[]&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â &lt;span&gt;any&lt;/span&gt;Â =Â (...args:Â &lt;span&gt;any&lt;/span&gt;[]):Â &lt;span&gt;&lt;span&gt;any&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â controller[member](...args);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â };&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â çœç•¥éƒ¨åˆ†ä»£ç &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (httpRoutes)Â {Â &lt;span&gt;//Â httpRoutesæ•°ç»„ä¸­åŒ…å«äº†è¯·æ±‚çš„æ–¹æ³•å’Œè·¯å¾„&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘£Â å¤„ç†æ§åˆ¶å™¨ç±»ä¸­é€šè¿‡@Getã€@Postã€@Putæˆ–@Deleteè£…é¥°å™¨ä¿å­˜çš„å…ƒæ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â httpRoutes.forEach(&lt;span&gt;(&lt;span&gt;route:Â IHttpRoute&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â {Â httpDecorator,Â pathÂ }:Â IHttpRouteÂ =Â route;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â â‘¤Â ä¸ºrouterå¯¹è±¡è®¾ç½®å¯¹åº”çš„è·¯ç”±ä¿¡æ¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (middlewares)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â router[httpDecorator](path,Â middlewares,Â callBack);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â router[httpDecorator](path,Â callBack);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â {Â basePath,Â router,Â };&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“ OvernightJS å†…éƒ¨å¦‚ä½•åˆ©ç”¨è£…é¥°å™¨æ¥ä¸ºæ§åˆ¶å™¨ç±»é…ç½®è·¯ç”±ä¿¡æ¯ï¼Œè¿™é‡Œé˜¿å®å“¥ç”¨ä¸€å¼ å›¾æ¥æ€»ç»“ OvernightJS çš„å·¥ä½œæµç¨‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3453703703703704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/jQmwTIFl1V11SaMRmbN6ny2P3ia02uYlNhnUUFypT1tKEfVibbeiaD1LupeNmY5iaHYOHcW7gw5jNCFcib3cPs9qVtA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ OvernightJS å†…éƒ¨é™¤äº† &lt;code&gt;@Controller&lt;/code&gt;ã€&lt;code&gt;@Get&lt;/code&gt;ã€&lt;code&gt;@Post&lt;/code&gt;ã€&lt;code&gt;@Delete&lt;/code&gt; ç­‰è£…é¥°å™¨ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ç”¨äºæ³¨å†Œä¸­é—´ä»¶çš„ &lt;code&gt;@Middleware&lt;/code&gt; è£…é¥°å™¨åŠç”¨äºè®¾ç½®å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶çš„ &lt;code&gt;@ErrorMiddleware&lt;/code&gt; è£…é¥°å™¨ã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒä¸€ä¸‹é˜¿å®å“¥çš„å­¦ä¹ æ€è·¯ï¼Œè‡ªè¡Œé˜…è¯» OvernightJS é¡¹ç›®çš„æºç ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸Œæœ›é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥è®©å°ä¼™ä¼´ä»¬å¯¹è£…é¥°å™¨çš„åº”ç”¨åœºæ™¯æœ‰ä¸€äº›æ›´æ·±åˆ»çš„ç†è§£ã€‚å¦‚æœä½ è¿˜æ„çŠ¹æœªå°½çš„è¯ï¼Œå¯ä»¥é˜…è¯»é˜¿å®å“¥ä¹‹å‰å†™çš„ &lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI2MjcxNTQ0Nw==&amp;amp;mid=2247485950&amp;amp;idx=1&amp;amp;sn=9bfed7fee2f2a02b5e9994480a66e1e9&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;äº†ä¸èµ·çš„ IoC ä¸ DI&lt;/a&gt; è¿™ç¯‡æ–‡ç« ï¼Œè¯¥æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ TypeScript è£…é¥°å™¨å’Œ reflect-metadata Â è¿™ä¸ªåº“æä¾›çš„ Reflect API å®ç°ä¸€ä¸ª IoC å®¹å™¨ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸‰ã€å‚è€ƒèµ„æº&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Github - overnight&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;expressjs.com&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>