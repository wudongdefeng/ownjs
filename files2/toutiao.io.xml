<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>42f7d51ebf1d7b9c50cfc0310496a7f1</guid>
<title>疫情之中，写给大家的34句话｜码农周刊VIP会员专属邮件周报 Vol.089</title>
<link>https://toutiao.io/k/4ov5ax8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;body class=&quot;logged-out env-production page-responsive page-blob global-focus-styles&quot; id=&quot;readabilityBody&quot;&gt;
    

    

  &lt;p id=&quot;start-of-content&quot; class=&quot;show-on-focus&quot;/&gt;







    


    

  &lt;include-fragment class=&quot;js-notification-shelf-include-fragment&quot; data-base-src=&quot;https://github.com/notifications/beta/shelf&quot;/&gt;





  &lt;div class=&quot;application-main &quot; data-commit-hovercards-enabled=&quot;&quot; data-discussion-hovercards-enabled=&quot;&quot; data-issue-and-pr-hovercards-enabled=&quot;&quot;&gt;
        &lt;div itemscope=&quot;&quot; itemtype=&quot;http://schema.org/SoftwareSourceCode&quot; class=&quot;&quot;&gt;
    &lt;main id=&quot;js-repo-pjax-container&quot; data-pjax-container=&quot;&quot;&gt;
      

    
    








  



&lt;div id=&quot;repo-content-pjax-container&quot; class=&quot;repository-content &quot;&gt;
  
  


  
      
  &lt;div class=&quot;clearfix container-xl px-3 px-md-4 px-lg-5 mt-4&quot;&gt;
    
    
&lt;div&gt;
  




    
&lt;a class=&quot;d-none js-permalink-shortcut&quot; data-hotkey=&quot;y&quot; href=&quot;/toutiaoio/weekly.manong.io/blob/68a741beb43611fb8e6f78f2e9644f4dfa87cc40/docs/vol.089.md?hmsr=toutiao.io&amp;amp;utm_campaign=toutiao.io&amp;amp;utm_medium=toutiao.io&amp;amp;utm_source=toutiao.io&quot;&gt;Permalink&lt;/a&gt;







    &lt;div id=&quot;spoof-warning&quot; class=&quot;mt-0 pb-3&quot; hidden=&quot;&quot; aria-hidden=&quot;&quot;&gt;
  &lt;div data-view-component=&quot;true&quot; class=&quot;flash flash-warn mt-0 clearfix&quot;&gt;
  
  
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-alert float-left mt-1&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z&quot;/&gt;
&lt;/svg&gt;

      &lt;p class=&quot;overflow-hidden&quot;&gt;This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.&lt;/p&gt;


  
&lt;/div&gt;&lt;/div&gt;

    &lt;include-fragment src=&quot;/toutiaoio/weekly.manong.io/spoofed_commit_check/68a741beb43611fb8e6f78f2e9644f4dfa87cc40&quot; data-test-selector=&quot;spoofed-commit-check&quot;/&gt;

    &lt;div class=&quot;Box d-flex flex-column flex-shrink-0 mb-3&quot;&gt;
  
  

  &lt;div class=&quot;Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap&quot;&gt;
    &lt;details class=&quot;details-reset details-overlay details-overlay-dark lh-default color-fg-default float-left mr-3&quot; id=&quot;blob_contributors_box&quot;&gt;
      &lt;summary class=&quot;Link--primary&quot;&gt;
        &lt;svg text=&quot;gray&quot; aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-people&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z&quot;/&gt;
&lt;/svg&gt;
        &lt;strong&gt;1&lt;/strong&gt;
        
        contributor
      &lt;/summary&gt;
      &lt;details-dialog class=&quot;Box Box--overlay d-flex flex-column anim-fade-in fast&quot; aria-label=&quot;Users who have contributed to this file&quot; src=&quot;/toutiaoio/weekly.manong.io/contributors-list/master/docs/vol.089.md&quot; preload=&quot;&quot;&gt;
        &lt;div class=&quot;Box-header&quot;&gt;
          &lt;button class=&quot;Box-btn-octicon btn-octicon float-right&quot; type=&quot;button&quot; aria-label=&quot;Close dialog&quot; data-close-dialog=&quot;&quot;&gt;
            &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-x&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z&quot;/&gt;
&lt;/svg&gt;
          &lt;/button&gt;
          &lt;h3 class=&quot;Box-title&quot;&gt;
            Users who have contributed to this file
          &lt;/h3&gt;
        &lt;/div&gt;
        &lt;include-fragment&gt;
          &lt;svg viewbox=&quot;0 0 16 16&quot; fill=&quot;none&quot; data-view-component=&quot;true&quot; class=&quot;my-3 mx-auto d-block anim-rotate&quot;&gt;
  &lt;circle cx=&quot;8&quot; cy=&quot;8&quot; r=&quot;7&quot; stroke=&quot;currentColor&quot; stroke-opacity=&quot;0.25&quot; stroke-width=&quot;2&quot; vector-effect=&quot;non-scaling-stroke&quot;/&gt;
  &lt;path d=&quot;M15 8a7.002 7.002 0 00-7-7&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot; stroke-linecap=&quot;round&quot; vector-effect=&quot;non-scaling-stroke&quot;/&gt;
&lt;/svg&gt;
        &lt;/include-fragment&gt;
      &lt;/details-dialog&gt;
    &lt;/details&gt;
  &lt;/div&gt;
&lt;/div&gt;







    &lt;readme-toc&gt;

    &lt;div data-target=&quot;readme-toc.content&quot; class=&quot;Box mt-3 position-relative&quot;&gt;
      
  &lt;div class=&quot;Box-header js-blob-header blob-header js-sticky js-position-sticky top-0 p-2 d-flex flex-shrink-0 flex-md-row flex-items-center&quot;&gt;

      &lt;details data-target=&quot;readme-toc.trigger&quot; data-menu-hydro-click=&quot;{&amp;quot;event_type&amp;quot;:&amp;quot;repository_toc_menu.click&amp;quot;,&amp;quot;payload&amp;quot;:{&amp;quot;target&amp;quot;:&amp;quot;trigger&amp;quot;,&amp;quot;repository_id&amp;quot;:193332705,&amp;quot;originating_url&amp;quot;:&amp;quot;https://github.com/toutiaoio/weekly.manong.io/blob/master/docs/vol.089.md?hmsr=toutiao.io&amp;amp;utm_campaign=toutiao.io&amp;amp;utm_medium=toutiao.io&amp;amp;utm_source=toutiao.io&amp;quot;,&amp;quot;user_id&amp;quot;:null}}&quot; data-menu-hydro-click-hmac=&quot;a0788c33467a463a41fa9b75b7ff7ba8e9bc19af33959e7b96e6da9f19f71e8e&quot; class=&quot;dropdown details-reset details-overlay&quot;&gt;
  &lt;summary class=&quot;btn btn-octicon m-0 mr-2 p-2&quot; aria-haspopup=&quot;true&quot; aria-label=&quot;Table of Contents&quot;&gt;
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-list-unordered&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z&quot;/&gt;
&lt;/svg&gt;
  &lt;/summary&gt;


  &lt;details-menu class=&quot;SelectMenu&quot; role=&quot;menu&quot;&gt;
    
  &lt;/details-menu&gt;
&lt;/details&gt;


  &lt;p class=&quot;text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1&quot;&gt;

      83 lines (53 sloc)
      &lt;span class=&quot;file-info-divider&quot;/&gt;
    4.04 KB
  &lt;/p&gt;

  

    
&lt;/div&gt;


        &lt;div id=&quot;readme&quot; class=&quot;Box-body readme blob js-code-block-container p-5 p-xl-6 gist-border-0&quot;&gt;
    &lt;article class=&quot;markdown-body entry-content container-lg&quot; itemprop=&quot;text&quot;&gt;&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-疫情之中写给大家的34句话码农周刊vip会员专属邮件周报-vol089&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#疫情之中写给大家的34句话码农周刊vip会员专属邮件周报-vol089&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;疫情之中，写给大家的34句话｜码农周刊VIP会员专属邮件周报 Vol.089&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p dir=&quot;auto&quot;&gt;本文内容节选自「码农周刊VIP会员专属邮件周报 Vol.088」，每周五发送，欢迎订阅！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p dir=&quot;auto&quot;&gt;&lt;a href=&quot;#%E7%AE%80%E4%BB%8B&quot;&gt;码农周刊简介&lt;/a&gt;｜&lt;a href=&quot;#VIP%E4%BC%9A%E5%91%98%E7%89%B9%E6%9D%83&quot;&gt;VIP会员特权&lt;/a&gt;｜&lt;a href=&quot;#%E6%88%90%E4%B8%BA%E7%A0%81%E5%86%9C%E5%91%A8%E5%88%8AVIP%E4%BC%9A%E5%91%98&quot;&gt;成为码农周刊VIP会员&lt;/a&gt;｜&lt;a href=&quot;#VIP%E4%BC%9A%E5%91%98%E4%B8%93%E5%B1%9E%E9%82%AE%E4%BB%B6%E5%91%A8%E6%8A%A5&quot;&gt;VIP会员专属邮件周报&lt;/a&gt;｜&lt;a href=&quot;#%E5%BE%80%E6%9C%9F%E5%AD%98%E6%A1%A3&quot;&gt;往期存档&lt;/a&gt;&lt;/p&gt;

&lt;ul dir=&quot;auto&quot;&gt;
&lt;li&gt;这个世界上，唯一不会改变的事实，就是我们经常不得不改变。&lt;/li&gt;
&lt;li&gt;平心而论，今天瘟疫爆发的情况和历史上相比，我们无疑是幸运者。&lt;/li&gt;
&lt;li&gt;隔离的时候，也尝试着回头想想：你自己有没有过分贪，过分霸道，过分要求？而忘记了别人，踩到了别人脚，伤到别人的心，辜负了别人好意？这都是我们往里走，安顿自己。&lt;/li&gt;
&lt;li&gt;每个国家或族群，在历史上都有过一定的阶段和经历。阶段不一样，类似的事情也不一定以同样的方式出现，也不一定以同样的方式处理。&lt;/li&gt;
&lt;li&gt;安顿自己更要紧的是：欲望达不到的时候，你必须要知道，人不可能所有欲望都达到的。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-内容节选&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#内容节选&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;内容节选&lt;/h2&gt;
&lt;p dir=&quot;auto&quot;&gt;1、&lt;a href=&quot;https://mp.weixin.qq.com/s/8z_ZRmO86SuSnDqHdX66yQ&quot; rel=&quot;nofollow&quot;&gt;周小川：关于数字货币的几点问题及回应&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;围绕“数字货币已讨论过的问题及回应”发表主旨演讲&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;2、&lt;a href=&quot;https://mp.weixin.qq.com/s/1VFik3tE6DW7pNOYFyZNTw&quot; rel=&quot;nofollow&quot;&gt;TED老板55问马斯克&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;金句不断&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;3、&lt;a href=&quot;https://toutiao.io/k/yx71pwe&quot; rel=&quot;nofollow&quot;&gt;B站取数服务演进之路&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;湖仓一体架构的引入，让数据处理变得更加高效。&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;4、&lt;a href=&quot;https://toutiao.io/k/59oz4qo&quot; rel=&quot;nofollow&quot;&gt;收钱吧多泳道环境的演进&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;主要介绍几代测试环境的发展与技术实现&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;5、&lt;a href=&quot;https://toutiao.io/k/fhe58uh&quot; rel=&quot;nofollow&quot;&gt;Spring源码的学习方法和知识地图&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;供参考&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;6、&lt;a href=&quot;https://toutiao.io/k/z6tigh0&quot; rel=&quot;nofollow&quot;&gt;关于Go内存架构，一个有趣的问题&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;深入研究&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;7、&lt;a href=&quot;https://toutiao.io/k/76ky4oe&quot; rel=&quot;nofollow&quot;&gt;从高级程序员的角度来看，Rust 基础知识&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;入门知识&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;8、&lt;a href=&quot;https://github.com/Warrenren/inside-rust-std-library&quot;&gt;《Rust标准库分析》&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;主要对Rust的标准库代码进行分析&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;9、&lt;a href=&quot;https://github.com/geekan/HowToLiveLonger&quot;&gt;程序员延寿指南&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;稳健地活得更久&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;10、&lt;a href=&quot;https://toutiao.io/k/zq8oiet&quot; rel=&quot;nofollow&quot;&gt;技术开发人员如何制定自己的OKR&lt;/a&gt;&lt;/p&gt;
&lt;p dir=&quot;auto&quot;&gt;实用&lt;/p&gt;
&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-简介&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#简介&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;简介&lt;/h2&gt;
&lt;ul dir=&quot;auto&quot;&gt;
&lt;li&gt;码农周刊是一份专为广大程序员、编程爱好者们打造的 IT 技术周刊。每周发送。&lt;/li&gt;
&lt;li&gt;2013 年 9 月 12 日创刊至今，已发送 300 多期，订阅用户超 20 万&lt;/li&gt;
&lt;li&gt;专业、简单、有用，是我们一直坚持的办刊宗旨。一路走来，我们见证了不少订阅用户从编程新手进阶成了高级程序员、架构师、CTO……&lt;/li&gt;
&lt;li&gt;2020 年 4 月，为了给用户提供更优质的服务，我们推出了「码农周刊VIP会员」服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-vip会员特权&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#vip会员特权&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;VIP会员特权&lt;/h2&gt;
&lt;ul dir=&quot;auto&quot;&gt;
&lt;li&gt;52 期码农周刊VIP会员专属邮件周报，让你及时掌握技术动向；&lt;/li&gt;
&lt;li&gt;只限VIP会员加入的交流圈子，让你与技术大牛切磋学习；&lt;/li&gt;
&lt;li&gt;VIP会员独享的工作机会，为你介绍好公司的好机会；&lt;/li&gt;
&lt;li&gt;更多会员特权，持续更新……&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-成为码农周刊vip会员&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#成为码农周刊vip会员&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;成为码农周刊VIP会员&lt;/h2&gt;
&lt;ol dir=&quot;auto&quot;&gt;
&lt;li&gt;微信扫描下方二维码，加入码农周刊VIP会员知识星球。促销期间，一年仅需 108 元！平均一天花费不到 3 毛！&lt;a target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; href=&quot;https://camo.githubusercontent.com/3bec7a23a8e3a8db753f5664ebe0979b29115a4dc348968d4acd1181bfdcff7a/68747470733a2f2f696d672e746f757469616f2e696f2f6164732f7669705f6769746875622e6a706567&quot;&gt;&lt;img src=&quot;https://camo.githubusercontent.com/3bec7a23a8e3a8db753f5664ebe0979b29115a4dc348968d4acd1181bfdcff7a/68747470733a2f2f696d672e746f757469616f2e696f2f6164732f7669705f6769746875622e6a706567&quot; data-canonical-src=&quot;https://img.toutiao.io/ads/vip_github.jpeg&quot;/&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;加入码农周刊VIP会员知识星球后，客服会联系您，请留意知识星球内的私信。&lt;/li&gt;
&lt;li&gt;客服向您发送码农周刊VIP会员欢迎邮件，开启您的码农周刊VIP会员之旅。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-vip会员专属邮件周报&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#vip会员专属邮件周报&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;VIP会员专属邮件周报&lt;/h2&gt;

&lt;h2 dir=&quot;auto&quot;&gt;&lt;a id=&quot;user-content-往期存档&quot; class=&quot;anchor&quot; aria-hidden=&quot;true&quot; href=&quot;#往期存档&quot;&gt;&lt;svg class=&quot;octicon octicon-link&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; aria-hidden=&quot;true&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;往期存档&lt;/h2&gt;

&lt;/article&gt;
  &lt;/div&gt;

    &lt;/div&gt;

  &lt;/readme-toc&gt;

  

  &lt;details class=&quot;details-reset details-overlay details-overlay-dark&quot; id=&quot;jumpto-line-details-dialog&quot;&gt;
    &lt;summary data-hotkey=&quot;l&quot; aria-label=&quot;Jump to line&quot;/&gt;
    &lt;details-dialog class=&quot;Box Box--overlay d-flex flex-column anim-fade-in fast linejump&quot; aria-label=&quot;Jump to line&quot;&gt;
          &lt;/details-dialog&gt;
  &lt;/details&gt;


&lt;/div&gt;

  &lt;/div&gt;


&lt;/div&gt;

    &lt;/main&gt;
  &lt;/div&gt;

  &lt;/div&gt;

          &lt;footer class=&quot;footer width-full container-xl p-responsive&quot; role=&quot;contentinfo&quot;&gt;


  
  &lt;p class=&quot;d-flex flex-justify-center pb-6&quot;&gt;
    &lt;span class=&quot;f6 color-fg-muted&quot;/&gt;
  &lt;/p&gt;
&lt;/footer&gt;




  &lt;div id=&quot;ajax-error-message&quot; class=&quot;ajax-error-message flash flash-error&quot; hidden=&quot;&quot;&gt;
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-alert&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z&quot;/&gt;
&lt;/svg&gt;
    &lt;button type=&quot;button&quot; class=&quot;flash-close js-ajax-error-dismiss&quot; aria-label=&quot;Dismiss error&quot;&gt;
      &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-x&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z&quot;/&gt;
&lt;/svg&gt;
    &lt;/button&gt;&lt;p&gt;
    You can’t perform that action at this time.
  &lt;/p&gt;&lt;/div&gt;

  &lt;div class=&quot;js-stale-session-flash flash flash-warn flash-banner&quot; hidden=&quot;&quot;&gt;
    &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-alert&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z&quot;/&gt;
&lt;/svg&gt;
    &lt;span class=&quot;js-stale-session-flash-signed-in&quot; hidden=&quot;&quot;&gt;You signed in with another tab or window. &lt;a href=&quot;&quot;&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
    &lt;span class=&quot;js-stale-session-flash-signed-out&quot; hidden=&quot;&quot;&gt;You signed out in another tab or window. &lt;a href=&quot;&quot;&gt;Reload&lt;/a&gt; to refresh your session.&lt;/span&gt;
  &lt;/div&gt;
    &lt;template id=&quot;site-details-dialog&quot;&gt;
  &lt;details class=&quot;details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm&quot; open=&quot;&quot;&gt;
    &lt;summary role=&quot;button&quot; aria-label=&quot;Close dialog&quot;/&gt;
    &lt;details-dialog class=&quot;Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal&quot;&gt;
      &lt;button class=&quot;Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0&quot; type=&quot;button&quot; aria-label=&quot;Close dialog&quot; data-close-dialog=&quot;&quot;&gt;
        &lt;svg aria-hidden=&quot;true&quot; viewbox=&quot;0 0 16 16&quot; version=&quot;1.1&quot; data-view-component=&quot;true&quot; class=&quot;octicon octicon-x&quot;&gt;
    &lt;path fill-rule=&quot;evenodd&quot; d=&quot;M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z&quot;/&gt;
&lt;/svg&gt;
      &lt;/button&gt;
      &lt;p class=&quot;octocat-spinner my-6 js-details-dialog-spinner&quot;/&gt;
    &lt;/details-dialog&gt;
  &lt;/details&gt;
&lt;/template&gt;

    

    &lt;template id=&quot;snippet-clipboard-copy-button&quot;&gt;
  
&lt;/template&gt;




  &lt;/body&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c66ddace724631475515cea317173a22</guid>
<title>强烈反对使用Spring封装的多线程类！</title>
<link>https://toutiao.io/k/kdmd1wy</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;174&quot; data-backw=&quot;365&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4767123287671233&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/cvQbJDZsKLp6wejHtKTRbqqQyt0wMk9K1wNtuwRqQTJAPOJ1KiaqSeSRbIJRTicVicKpDKRndBodY2DBNN20tvWwA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;365&quot;/&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;原创：小姐姐味道（微信公众号ID：xjjdog），欢迎分享，转载请保留出处。&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在很久很久之前，我有一段痛苦的记忆。那种被故障所驱使的感觉，在我脑海里久久无法驱散。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;原因无它，有小伙伴开启了线程池的暴力使用模式。没错，就是下面这篇文章。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzA4MTc4NTUxNQ==&amp;amp;mid=2650523924&amp;amp;idx=1&amp;amp;sn=b247bae74ccea19290cbbc7b3b43edbc&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;夺命故障 ! 炸出了投资人！&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我有必要简单的复述一下。其主要原因，就是开发人员，在每一次方法调用里，都创建了一个单独的线程池去处理。这样的话，如果请求量一增加，整个操作系统的压力就会耗尽，最终所有的业务都无法响应。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.40279937791601866&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/cvQbJDZsKLp3l4icTviccIDJmbBok865yExfVAynW14HBSmDFlaLN2IruZicQjxoicDAlt8tOqdkiae5pqZD3OnB2vg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;643&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我一直认为这是一个非常偶发的低级错误，发生频率非常的低。但随着这样的故障越来越多，xjjdog认识到这是一个普遍的现象。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;以异步性能优化为目的，反而带来的整体业务不可用的结果，是非常打脸的一种优化。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1.Spring的异步代码&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Spring作为Java届的杠把子框架，其过度封装的API深得开发人员的喜爱。根据语义化编程的逻辑，只要某些关键字在语言层面上过得去，我们就可以把它给加上去。比如&lt;code&gt;@Async&lt;/code&gt;注解。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我永远想不通是什么给了开发人员勇气，去加上这个&lt;code&gt;@Async&lt;/code&gt;注解，因为这种涉及到多线程的东西，即使是自己去创建线程，也是心怀敬畏，唯恐扰了操作系统的安宁。&lt;code&gt;@Async&lt;/code&gt;这样的黑盒，真的可以那么顺畅的使用么？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们不妨debug一下代码，让子弹飞一会儿。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先，生成一个小小的项目，然后在主类上加上必须的注解。嗯，别忘了这一环，否则你后面加的注解将没什么用处。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;@SpringBootApplication&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@EnableAsync&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DemoApplication&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;创造一个带@Async注解的方法。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;@Component&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;AsyncService&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;@Async&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;async&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;            Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;            System.out.println(Thread.currentThread());&lt;br/&gt;        }&lt;span&gt;catch&lt;/span&gt; (Exception ex){&lt;br/&gt;            ex.printStackTrace();&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;然后，做一个对应的test接口，访问时会调用这个async方法。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;@ResponseBody&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@GetMapping&lt;/span&gt;(&lt;span&gt;&quot;test&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;test&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;    service.async();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;访问时，直接打个断点，即可获取执行异步线程的线程池。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4763092269326683&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/cvQbJDZsKLp3l4icTviccIDJmbBok865yEMonVTIuJAGdC3QsD6kGl1KYabu2vObriaibjDbFvrmCDsW1Th5uv1sEQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以看到，异步任务使用了一个线程池，它的corePoolSize=8, 阻塞队列采用了无界队列LinkedBlockingQueue。一旦采用了这样的组合，最大线程数就会形同虚设，因为超出8个线程的任务，将全部会被放到无界队列里。使得下面的代码变成了摆设。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;throw new TaskRejectedException(&lt;span&gt;&quot;Executor [&quot;&lt;/span&gt; + executor + &lt;span&gt;&quot;] did not accept task: &quot;&lt;/span&gt; + task, var4);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你的访问量非常大，这些任务将全部堆积在LinkedBlockingQueue里。情况好一点的，这些任务的执行会变得延迟很大；情况坏一点的，任务太多将直接造成内存溢出OOM！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可能会说，我可以自己指定另外一个ThreadPoolExceute，然后使用@Async注解来声明啊。说这话的同学，一定是能力比较强，或者Review的代码比较少，没有经过猪队友的洗礼。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;2.是SpringBoot救了你&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;SpringBoot是个好东西。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在TaskExecutionAutoConfiguration中，通过生成ThreadPoolTaskExecutor的Bean，来提供默认的Executor。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;@ConditionalOnMissingBean&lt;/span&gt;({Executor&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;})&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;ThreadPoolTaskExecutor&lt;/span&gt; &lt;span&gt;applicationTaskExecutor&lt;/span&gt;(&lt;span&gt;TaskExecutorBuilder&lt;/span&gt; &lt;span&gt;builder&lt;/span&gt;) &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; builder.build();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;也就是我们上面所说的那个。如果没有SpringBoot的助力，Spring将默认使用SimpleAsyncTaskExecutor。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;参见org.springframework.aop.interceptor.AsyncExecutionInterceptor。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Nullable&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt; Executor &lt;span&gt;getDefaultExecutor&lt;/span&gt;&lt;span&gt;(@Nullable BeanFactory beanFactory)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt; Executor defaultExecutor = &lt;span&gt;super&lt;/span&gt;.getDefaultExecutor(beanFactory);&lt;br/&gt; &lt;span&gt;return&lt;/span&gt; (defaultExecutor != &lt;span&gt;null&lt;/span&gt; ? defaultExecutor : &lt;span&gt;new&lt;/span&gt; SimpleAsyncTaskExecutor());&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这就是Spring大仙所干的事。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;SimpleAsyncTaskExecutor类设计的非常操蛋，因为它每执行一次，都会创建一个单独的线程，根本没有共用线程池。比如你的TPS是1000，异步执行了任务，那么你每秒将会生成1000个线程！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这明显是想要累死操作系统的节奏。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;doExecute&lt;/span&gt;&lt;span&gt;(Runnable task)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt; Thread thread = (&lt;span&gt;this&lt;/span&gt;.threadFactory != &lt;span&gt;null&lt;/span&gt; ? &lt;span&gt;this&lt;/span&gt;.threadFactory.newThread(task) : createThread(task));&lt;br/&gt; thread.start();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3.End&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;明眼人一看，这种使用new线程的处理方式将会是非常可怕的。但就拿Spring本身来说，引用SimpleAsyncTaskExecutor这个类的地方还不少，包括比较流行的AsyncRestTemplate。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.494148244473342&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/cvQbJDZsKLp3l4icTviccIDJmbBok865yECsSMyGPK0U0kHcdIYfIuvUqgAaf5oGKdLKP7HptJTYia621CKzkEAPg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;769&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这暴露了很多风险，尤其是竟然在这些列表中看到了redis的身影。这个类的设计，使得任务的执行变的非常的不可控。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;看这个API，我感觉Spring是进入了设计的魔怔状态。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个东西的隐藏bug可能还会更深！比如org.springframework.context.event.EventListener注解，用于实现DDD那套所谓的事件驱动模式，有不少框架直接set了SimpleAsyncTaskExecutor，那么就等死吧。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;赶紧把SimpleAsyncTaskExecutor加入你的API黑名单，或者埋坑清单吧！&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;创建线程有那么难么？需要使用Spring创建的线程？有时候我实在是想不通，暴露出这样的接口目的是为了什么。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;就连原生的线程池我们还没搞明白呢，你还给包了一层，这是方便我们甩锅啊！&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;作者简介：小姐姐味道 (xjjdog)，一个不允许程序员走弯路的公众号。聚焦基础架构和Linux。十年架构，日百亿流量，与你探讨高并发世界，给你不一样的味道。我的个人微信xjjdog0，欢迎添加好友，进一步交流。&lt;/p&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>223f8a2abd6800f358caed3311a8bc5c</guid>
<title>RTC Dev Meetup丨语音处理在实时互动领域的技术实践和应用（第一场）</title>
<link>https://toutiao.io/k/9r2wc54</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;event-intro tab-content&quot; id=&quot;eventContentAreaMain&quot;&gt;&amp;#13;
                    &amp;#13;
&amp;#13;
                    &lt;div class=&quot;  &quot; id=&quot;event_desc_page&quot;&gt;&amp;#13;
                        &lt;p&gt;&lt;span&gt;实时互动作为下一代技术基础能力，正在渗透各行各业。尤其是受疫情的影响，人们越来越习惯在线、远程的工作、学习甚至生活。同时社交直播、游戏电竞、金融、保险、医疗等场景也被搬到了线上，实时互动正在支撑着这些人、物及空间之间创新的沟通和交互方式。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在实时互动场景中，语音处理是非常重要的一个部分，比如实时语音识别和实时语音翻译，可以将连续的音频流实时转换成文本，并进行实时翻译，应用在直播实时字幕、会议实时记录等场景，可以大大提高用户体验和沟通效率。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;本次，我们邀请了语音处理方面的技术专家，为大家分享语音处理在实时互动领域的最佳技术实践和业务应用。本次，我们邀请了来自&lt;/span&gt;&lt;span&gt;百度、讯飞、依图、微  软、声网、数美&lt;/span&gt;&lt;span&gt;等企业的语音处理方面的技术专家，分别在&lt;/span&gt;&lt;span&gt;4月28日、5月14日&lt;/span&gt;&lt;span&gt;为大家分享语音处理在实时互动领域的最佳技术实践和业务应用，欢迎大家报名参与～～&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;时间地点&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;活动时间：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;4 月 28 日（星期四） 14:00——16:30&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;活动地点：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;线上直播&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;    &lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;活动流程&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;  &lt;strong&gt;14:00-14:10   开场&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;  &lt;strong&gt;14:10-14:50  《百度文心大模型在语音文本审核中的应用》&lt;/strong&gt;&lt;strong&gt;黄硕，百度自然语言处理部主任研发架构师&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;  &lt;strong&gt;14:50-15:30 《语音识别技术研究进展和应用落地分享》&lt;/strong&gt;&lt;strong&gt;马志强，寰语科技语音识别研究主管                    &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;  &lt;strong&gt;15:30-16:10 《实时音视频中语音处理的挑战》&lt;/strong&gt;&lt;strong&gt;周元剑，依图AI SaaS技术负责人&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;  &lt;strong&gt;16:10-16:30   抽奖&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;USYv&quot; linespacing=&quot;200&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span ql-global=&quot;true&quot; class=&quot;ql-author-10306337&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;嘉宾一&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30104478861491497.jpg&quot; title=&quot;1.jpg&quot; alt=&quot;1.jpg&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;U4ok&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;黄硕 百度自然语言处理部 主任研发架构师&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;xXLn&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;分享主题&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;xXLn&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;ywq7&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;百度文心大模型在语音文本审核中的应用&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Sl5P&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;个人简介：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;0bbM&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt;百度自然语言处理部主任架构师。十余年搜索、推荐和人工智能技术研发经验，先后在百度、腾讯、Facebook等多家公司从事搜索、个性化推荐、自然语言处理技术研发工作，在人工智能技术应用方面有丰富的实战经验；曾主导百度搜索个性化技术研发并在十多个产品线应用投产，并深度参与百度深度学习框架在企业中的推广应用。目前在百度自然语言处理部负责NLP基础技术研发、AI技术产业化应用等方向。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;内容简介：&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;9uOm&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt;深度学习预训练大模型最近几年发展迅速，颠覆了很多以往使用传统机器学习技术解决的领域。得益于大模型技术在百度的发展，语音文本审核这项互联网传统业务在技术上也有了较大的发展。本次分享将在大模型相对传统模型的整体效果、通用性、个性化需求适配以及服务性能上进行介绍和展开，希望让听众了解大模型的优势，以及审核技术最新的一些发展趋势和业务应用效果。&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;GIuI&quot; linespacing=&quot;200&quot; ql-global=&quot;true&quot;&gt; &lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;嘉宾二&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30704478862431505.jpg&quot; title=&quot;2.jpg&quot; alt=&quot;2.jpg&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;M81Y&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;bRNU&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;马志强，寰语科技语音识别研究主管&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;M81Y&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;分享主题&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;M81Y&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;hvUE&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;语音识别技术研究进展和应用落地分享&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;2Shq&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;个人简介：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;tzef&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;马志强，寰语科技语音识别研究主管，主要负责语音识别核心技术研究和相关产品落地工作，具备语音识别、语音转写及语音翻译技术研发经验，熟练掌握ASR技术、NMT技术、深度学习技术等，在多语种、低资源、端到端语音识别方向有着丰富的实践经验，对AI语音识别技术的产业应用有着深入的理解，负责并推动了ASR技术在语音助手、语音交互、AI字幕等场景上线应用。&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;9JsU&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;内容简介：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;92I0&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt;语音识别技术研究进展和应用落地分享，第一部分简要介绍AI语音识别技术的发展态势和技术研究现状以及面临的挑战问题；第二部分重点介绍语音识别技术的发展历程及其技术原理，重点讲解ASR技术的最新研究进展和技术突破，特别是在语音助手、AI字幕场景的系统性创新工作；第三部分主要介绍ASR技术的应用落地情况，以及AI语音在各个领域场景所取得的应用成果。&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;92I0&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;strong&gt;&lt;span ql-global=&quot;true&quot; class=&quot;ql-author-10306337&quot;/&gt;&lt;/strong&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;嘉宾三&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30434478862561507.jpg&quot; title=&quot;3.jpg&quot; alt=&quot;3.jpg&quot;/&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;5mYi&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;KVKn&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;周元剑，依图AI SaaS技术负责人&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;5mYi&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;分享主题&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;ezi5&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;SPLm,qIvo&quot; class=&quot;ql-align-center ql-long-7400209&quot; linespacing=&quot;115&quot;&gt;&lt;strong&gt;&lt;strong class=&quot;ql-author-7400209&quot; ql-global=&quot;true&quot;&gt;实时音视频中语音处理的挑战&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;5mYi&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;strong ql-global=&quot;true&quot; class=&quot;ql-author-10306337&quot;&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;个人简介：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;zNyZ&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;从依图公司成立至今，一直在其任职，参与过多款AI产品研发和多个大型智能化项目建设落地。现担任依图AI SaaS技术负责人，目前主要聚焦在语音识别、内容审核方向。&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;Ji92&quot; class=&quot;ql-align-justify ql-long-10306337&quot; linespacing=&quot;200&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;内容简介：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;LCNh&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span&gt;依图ASR和NLP的能力表现；ASR场景有挑战的地方；依图在通用场景如何解决的这些问题；实时音视频领域遇到的典型问题；多语言模型的面临的挑战等。&lt;/span&gt;&lt;/p&gt;&lt;p ql-global-para=&quot;true&quot; line=&quot;LCNh&quot; linespacing=&quot;200&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span/&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;活动福利&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;报名直播参与活动，即有机会领取本次&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;精美声网周边&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;，心动不如行动，扫码报名本次活动吧！&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30304478885601752.jpeg&quot; title=&quot;wecom-temp-686a57a8055876a013a57e1255fc13fb.png&quot; alt=&quot;wecom-temp-686a57a8055876a013a57e1255fc13fb.png&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h4 data-foldable-wrapper=&quot;&quot; class=&quot;ql-long-10306337&quot;&gt;&lt;span/&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;活动社群&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30574498787907181.jpeg&quot; title=&quot;企业微信截图_469583b0-fdbb-4365-878a-a82aa147f87a.png&quot; alt=&quot;企业微信截图_469583b0-fdbb-4365-878a-a82aa147f87a.png&quot;/&gt;&lt;/p&gt;&lt;p&gt;扫码进入👆开发者交流群，会后可以获取PPT等会议资料&lt;/p&gt;&lt;p&gt;&lt;span&gt;提示：直播需要报名后才可以观看&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;活动主办&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22777777777777777&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/YO07vjlZVBES5OhpbXjmcoq0cBFbfbhFxdv7UQYViaAGjMuMHVIiamE4fyu3fFPNkVqUzdoGuOdSsddUFJHqm48Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; _width=&quot;192px&quot; src=&quot;/file/ue/crawl/20150907/11EC6A5AE18CC6F72FD13133F73B484844/114368638571009.jpeg&quot; wah-hotarea=&quot;click&quot; crossorigin=&quot;anonymous&quot; alt=&quot;图片&quot; data-fail=&quot;0&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;合作伙伴&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30544479568954781.png&quot; title=&quot;wecom-temp-1684f711238ac047e5e4417379d832be.png&quot; alt=&quot;wecom-temp-1684f711238ac047e5e4417379d832be.png&quot;/&gt; &lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30364478874981634.jpeg&quot; title=&quot;wecom-temp-4f0cd858dd5a848e0fc5189ce75a48d4.png&quot; alt=&quot;wecom-temp-4f0cd858dd5a848e0fc5189ce75a48d4.png&quot;/&gt;&lt;span&gt;   &lt;/span&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30184478886341767.png&quot; title=&quot;wecom-temp-4c2774be133bc17f63c61dfbee310f17.png&quot; alt=&quot;wecom-temp-4c2774be133bc17f63c61dfbee310f17.png&quot;/&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30964478886131763.jpeg&quot; title=&quot;wecom-temp-68cdec182a2044068a645124b40f4621.png&quot; alt=&quot;wecom-temp-68cdec182a2044068a645124b40f4621.png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30554478887151787.jpeg&quot; title=&quot;wecom-temp-1e0e951b2c340ee3f40df0a6be8d561a.png&quot; alt=&quot;wecom-temp-1e0e951b2c340ee3f40df0a6be8d561a.png&quot;/&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30334479568194755.png&quot; title=&quot;wecom-temp-8055340a0530dbd3587402524e8d1671.png&quot; alt=&quot;wecom-temp-8055340a0530dbd3587402524e8d1671.png&quot;/&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30644368687951862.png&quot; title=&quot;wecom-temp-d507c6768e64d9282affbee5fe58c905.png&quot; alt=&quot;wecom-temp-d507c6768e64d9282affbee5fe58c905.png&quot;/&gt;&lt;/p&gt;&lt;p&gt;​&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30334449699809239.png&quot; title=&quot;logo_huodongx_green.png&quot; alt=&quot;logo_huodongx_green.png&quot;/&gt;&lt;span&gt; &lt;/span&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30304478886631772.jpeg&quot; title=&quot;wecom-temp-980dcf7d3a440f66e12800403d975a20.png&quot; alt=&quot;wecom-temp-980dcf7d3a440f66e12800403d975a20.png&quot;/&gt;&lt;img src=&quot;http://cdn.huodongxing.com/file/ue/20150907/11EC6A5AE18CC6F72FD13133F73B484844/30194486627324083.png&quot; title=&quot;APICloud-logo.png&quot; alt=&quot;APICloud-logo.png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&amp;#13;
                    &lt;/div&gt;&amp;#13;
                    &lt;p class=&quot;clear&quot;&gt;&amp;#13;
                    &lt;/p&gt;&amp;#13;
                    &amp;#13;
                    &amp;#13;
                &lt;/div&gt;&amp;#13;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>68bb23c4bc7167eeb64fb7d9dc2d697d</guid>
<title>【实践】快手推荐系统精排模型实践.pdf（附下载链接）</title>
<link>https://toutiao.io/k/46j5r3t</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;p&gt;&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;pages/main/main?inviteUserId=-3&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;&lt;span&gt;省时查报告-专业、及时、全面的行研报告库&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx0500c6b3565aa175&quot; data-miniprogram-path=&quot;pages/main/main?inviteUserId=-3&quot; data-miniprogram-nickname=&quot;省时查方案&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;0&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;&lt;span&gt;省时查方案-专业、及时、全面的营销策划方案库&lt;/span&gt;&lt;span/&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0NjkxMDMyNQ==&amp;amp;mid=2247511072&amp;amp;idx=2&amp;amp;sn=445493c87716a2bf08cdce3ebdb6ff58&amp;amp;chksm=fb54953acc231c2c089c6a0ddf95dc22e266ce0cd18a1f70ec6401d1f61ab278eebc03cb31f8&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;2021-2022元宇宙报告.pdf&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;span/&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;今天&lt;/span&gt;&lt;span&gt;给大家带来快手社区科学部资深推荐算法工程师牛亚男所做的分享&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;0&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;《快手推荐系统精排模型实践.pdf》&lt;/a&gt;，关注快手推荐系统、排序架构、精排、推荐策略的伙伴别错过了，本次分享共包含如下七大部分&lt;span&gt;：&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;1、快手推荐系统；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;2、CTR模型-PPNet；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;3、多domain多任务学习框架；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;4、短期行为序列建模；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;5、长期行为序列建模；&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;6、千亿特征，万亿参数模型；&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;本PPT已收录到小程序&lt;/span&gt;&lt;span&gt;&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;0&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;省时查报告&lt;/a&gt;&lt;/span&gt;&lt;span&gt;中，大家可以到省时查报告小程序中查看并下载文档全文。&lt;span&gt;（到&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;0&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;省时查报告&lt;/a&gt;&lt;/span&gt;小程序中搜索“快手”、“推荐”、“算法”、“排序”、“深度学习”、“优化”、“中台”、“实践”、“画像”、“短视频”等关键词可以下载海量相关干货资料&lt;/span&gt;&lt;span&gt;）&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;a class=&quot;weapp_image_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;image&quot; data-miniprogram-servicetype=&quot;&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uZ9Jgof3U1cTzxA285ZbcYuHcIgV1M4M29ib9iaxx99uWcSVSZYWW87xg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uGhe57YJYhSaRlYY7ruQqHVrJb5jnZW9NfBkqGGgcmIJZB5XCLoLnZA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uZ81bXYGAXb2LfGXTiab7MObhZ4BX7NR2icCCR5aBL7uuHia4BibhP1jbicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uBIn2t027Vb0WfOkrbNaGiapmHE2YfaChBSqtZ2PZEibX8zK8NObMB5OQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uOicObJLc5NX8QicP1M0N1jgEicKFbYfgw5RUUIdrKia6NxngnBkhJw3HTQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uAn942Q2QIpq6F6p4sUnGOxicNCCVD4aC2EXMW4TiaZ5GaMEuXEUXBLLA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uYDPuBIQKXGWNIOkQUpFmDevfCMFicW9K9Y6yekibmrsNJ8RMC1ibcXiaOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uu9fEjRO9kibbKmWbBCBg9ULt41SrveqcKIk0WE50yLLyRV9HnEXaUXg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uq2cBiana6iakeJLniccxo33HzDiaNnPaWFN9tNEzBGJNjQWKXPyxrXrAsQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uWCu5UY0gXziaNrwPqHic4zH9LJJUxu8Vgg2DcPcK2VapfYc1RElU2rVg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uzmEkwhTTxux1Q5icxL8IyfgOooYEkc2SAXdfXibYuzq9Vyu3DfoD0Tzw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uzLhC3z53KRvnqq7mXm9Z3G4NiaAsSxlv4DLZRfMGBoDKTajDE9o6YjA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uft9RjEglDRyia7Qj3Mg4aE5qNN0ZsXQribKbBvKRBpu0Z5UQWXiaf794g/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uUbqPjkZaJ1PqPVK6G39U4NfEFias2iboacgJVdO8AqicVozvY3QsEG7SQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8ukP5libKHBvWGkBIlibPE0ln0xPibacRCkAQibLD0u5T3YPsUxKYfI3lPnw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uyXswTiaJiaaDTButCpp9j6JtTwKwXOacjY77s05SSKa2gzibsQHibNUynw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8ukHkicGpCibojV9FVpEDEticdIXtTjUUxjShTtZxnk0yAsVDVKzxzn959A/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uJRiaG511C4Bib7FTic7KqiaBdn98MSamXia29ZRpbhtRT4oREiaRRO6p7tJw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uBsw1n5DPnAibhuVlWuke4Y0PImjoXY6pgCwTqaIz7QcQ1sTS9gswicsA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uRrRFiaqMZ4vI58lNkl1GNksFmX4qVRbI1nP9VIEI2hdkh9DMJHsDc6g/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8ucRoI9Ke2cQJOE48XzJ799Jz0uN41zItbrPmGzSYtv0Bia32AFowY8HA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uPUyJB8YQzhEQovmuB9hlT0kiaLZIP4PTuOwgV7w7nHwwx5Cmvh07whQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8ukQnTJUPcFcPFu3Zj0hWOd6ebbT4mO99LAH4XWIvDxXArhaPd162sqQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uCOfdicUQY088M76VQAEpELADibh1yicUibk5UfAwBjT1rrlRdyNibGybfKQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uCOfdicUQY088M76VQAEpELADibh1yicUibk5UfAwBjT1rrlRdyNibGybfKQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU0NjkxMDMyNQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/xS26nhYNm65CMicQS9tYfO03d7Me0owe9kYcKpicpSeheqcpdhUnBAKIjib71A8icEic81Sbz67FV4JOxpMIPaC1QzA/0?wx_fmt=png&quot; data-nickname=&quot;智能推荐系统&quot; data-alias=&quot;&quot; data-signature=&quot;专注于智能推荐系统，这里有最新最全的个性化推荐相关算法和行业应用分享，欢迎关注，和你在推荐的海洋中一起遨游，共同探索未知新世界。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;更多细节和相关资料请到小程序&lt;/span&gt;&lt;a class=&quot;weapp_text_link&quot; data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-type=&quot;text&quot; data-miniprogram-servicetype=&quot;0&quot; wah-hotarea=&quot;click&quot; href=&quot;&quot;&gt;省时查报告&lt;/a&gt;&lt;span&gt;中查看全文并下载（可以搜索“推荐”获取更多推荐相关资料文档）。也欢迎大家把小程序分享给身边更多有需要的朋友们，分享一个好友可以获得2天的VIP，上不封顶哦。真爱粉也可以点击公众号下方的菜单“开通VIP”来开通会员～&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-miniprogram data-miniprogram-appid=&quot;wx9487826d5600db79&quot; data-miniprogram-path=&quot;/pages/detail/detail?uuid=e281f364be8443bf9db58780373c8058&amp;amp;inviteUserId=-3&amp;amp;clickFrom=share&quot; data-miniprogram-nickname=&quot;省时查报告&quot; data-miniprogram-avatar=&quot;http://mmbiz.qpic.cn/mmbiz_png/x14U1wNuWvXtNNEsceO0Zic3l2ms4Wia45knYv8iau8jGrvvRZrbg4m9fsiaicPtqXF5DqnPAlJKuYd9RS8tibuMtWnA/640?wx_fmt=png&amp;amp;wxfrom=200&quot; data-miniprogram-title=&quot;专业、及时、全面的行研报告库&quot; data-miniprogram-imageurl=&quot;http://mmbiz.qpic.cn/sz_mmbiz_jpg/xS26nhYNm65joWyiciawaa6iauRE1HeZB8uDKjbafl4TdxdiaC9F1RWLRZMNExlib7eHsoDd1BpmVLEJ2wQYnFKhMjg/0?wx_fmt=jpeg&quot; data-miniprogram-type=&quot;card&quot; data-miniprogram-servicetype=&quot;0&quot;/&gt;&lt;/p&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;&gt;&lt;p&gt;&lt;span&gt;「 更多干货，更多收获 」&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;__bg_gif rich_pages wxw-img&quot; data-fileid=&quot;100023560&quot; data-ratio=&quot;1.345&quot; data-type=&quot;gif&quot; data-w=&quot;200&quot; title=&quot;分割线  箭头 动态&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/EkgpOcjaJwhicib5d2Q8PMacqxIeEXRvpb71yzkzabDibbAmlFLvQ0qLia7RYNFoOtC7vD0HySjnPRlnHmtT8IOtcw/640?wx_fmt=gif&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0NjkxMDMyNQ==&amp;amp;mid=2247505766&amp;amp;idx=2&amp;amp;sn=0e52403d2c4f4776eda37d5cac9ea997&amp;amp;chksm=fb54ee7ccc23676ada5b816c2b9bb37eeb6cfba33e0a63186f05cc0c11880dae0e583ca86a4e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;【干货】2021社群运营策划方案.pptx&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;【干货】2021社群运营策划方案.pptx&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/pre&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;/&gt;&lt;pre ng-bind-html=&quot;message.MMActualContent&quot;/&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;blockquote&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;关注我们&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/pre&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td align=&quot;center&quot; valign=&quot;middle&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;智能推荐&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;个性化推荐技术与产品社区&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td align=&quot;center&quot; valign=&quot;middle&quot;&gt;&lt;p&gt;&lt;span&gt;长按并识别关注&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;174&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;174&quot; data-ratio=&quot;1&quot; data-type=&quot;jpeg&quot; data-w=&quot;430&quot; title=&quot;qrcode_for_gh_7ab7aff7c678_430.jpg&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xS26nhYNm65Y5MI8qWZH7qialBpagyD6oQgyoP5t1ezlVC7lz5eSqETJvUtAp196rC2eeIRXew9ibzFmPn9WKCSQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;一个「在看」，一段时光&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;👇&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>73c14ddca9a1c1d9e20631ccd4cb350c</guid>
<title>Spark SQL在雪球的实践</title>
<link>https://toutiao.io/k/vtgu8wa</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                                                     &quot; id=&quot;js_content&quot;&gt;
            &lt;h2&gt;&lt;span&gt;背景&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;因为业务需要，雪球数据团队基于HDP 3.1.5(Hadoop 3.1.1+Hive 3.1.0+Tez 0.9.1)搭建了一个新的集群，HDP 3.1.5默认使用Hive3 on Tez作为ETL计算引擎，但是在使用Hive3 on Tez中，我们遇到很多问题：&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;部分SQL执行失败，需要关闭掉容器复用或者向量化执行。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;部分SQL开启CBO优化之后的执行计划错误，导致结果出错，需要关闭CBO优化。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;还有一些时区不准、GroupBy with Limit不准确等已经在新版本fix的bug。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;极其个别复杂多级关联的SQL，计算结果不准确，很难发现，需要通过修改SQL来解决。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;这些问题对数仓开发来说非常致命。从业界来看，各公司生产上大部分还是使用Hive2，而Hive和Tez的社区活跃程度低，更新迭代慢(Hive3.x最新一次release已经将近3年了)，修复相关问题的代价比较大。&lt;/p&gt;&lt;p&gt;在分别比较了Hive3 on Tez、Hive3 on MR、Hive3 on Spark2 、Spark SQL等各种引擎之后，从准确性和稳定性以及计算效率各方面综合考虑，数据团队决定采用Spark SQL在作为数仓的ETL引擎。经过一段时间推广和使用，目前在交互查询和离线ETL很多场景和计算都已经支持了Spark SQL：&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;261&quot; data-ratio=&quot;0.45184518451845185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tPxxg870vIcSmd5cmMebXFQt5h9ONxiad2AohcP3dWYuG2l6icF38jOJy0zlNS0MGO6FnEKJh1jjhtkMyuhIfUeg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1111&quot;/&gt;&lt;/figure&gt;&lt;p&gt;本文主要分享了从Hive3 SQL切换成Spark3 SQL的实践。&lt;/p&gt;&lt;h2&gt;&lt;span&gt;切换过程&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;Facebook在从Hive切换到Spark SQL的时候，重写了Spark SQL的执行计划，增加了一个Shadow过程：基于Hive SQL的执行日志，执行一个Spark SQL，将数据双写到Shadow表中，然后再通过工具对比实际表和Shadow表的执行效率和正确性。&lt;/p&gt;&lt;p&gt;雪球数据团队也开发了类似的工具分别做了测试和对比。公司自研的调度系统本身自带执行时长和资源消耗工具（基于yarn的application资源使用统计），可以用来对比执行效率。同时特意开发了一个基于Trino的正确率对比工具来对比正确率。&lt;/p&gt;&lt;p&gt;测试分两个阶段：&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;对于复杂场景SQL，主要做了正确率的对比：Hive3 on Tez的正确率约为50%，Hive3 on MR的正确率约为70%，Hive3 on Spark2的正确率为100%(需要关闭CBO)，Spark SQL的正确率为100%。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;table data-ace-table-col-widths=&quot;77;100;100;100;80;85;58;&quot;&gt;&lt;colgroup&gt;&lt;col/&gt;&lt;col/&gt;&lt;col/&gt;&lt;col/&gt;&lt;col/&gt;&lt;col/&gt;&lt;col/&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td colspan=&quot;4&quot;&gt;&lt;p&gt;数据准确性&lt;/p&gt;&lt;/td&gt;&lt;td colspan=&quot;3&quot;&gt;&lt;p&gt;平均执行时间(秒)&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;Hive3 on MR&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Hive3 on&lt;/p&gt;&lt;p&gt;Tez&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Hive3 on Spark2(关闭优化)&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Spark SQL&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Hive on Spark2&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Spark SQL&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;降低&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;70%&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;50%&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;100%&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;100%&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;1957&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;423&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;88%&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;对线上实际运行的SQL，通过收集和重放了大量的线上实际SQL，用不同的引擎写入不同的目标表，然后用工具对比执行结果和执行效率。从执行时长来看，Spark SQL执行时长和Hive3 on Tez在一个数据量级，但Spark SQL资源消耗大概在Hive3 on Tez(限制了并行度)的1/3。而Hive3 on Spark2经常会出现数据倾斜。Spark SQL的表现最佳。&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;576&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;228&quot; data-ratio=&quot;0.39545454545454545&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tPxxg870vIcSmd5cmMebXFQt5h9ONxiadwqs4f9G8OLZxpghepdJ9czwaHx4Qia9PSsw26HMYrWPvs6wdhibQgPVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1100&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在谨慎评估正确率和执行效率后，大数据团队决定首先使用Hive3 on Spark2作为紧急替换Tez的计算引擎，随后选用 Spark 3.2.1 作为长期支持的计算引擎，逐步将Hive SQL切换成 Spark SQL。&lt;/p&gt;&lt;h2&gt;&lt;span&gt;遇到问题&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;得益于Spark3性能的提升和AQE机制，性能上很少遇到问题。不过，雪球数据团队在测试和切换过程中，遇到一些问题，其中大部分都是兼容性问题，下面进行逐一介绍：&lt;/p&gt;&lt;h3&gt;&lt;span&gt;1. Spark SQL无法递归子目录以及无法读写自己的问题&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;当Hive表数据存放在多级子目录时，Tez、MR、Spark默认均不能识别和读取到数据。针对这种情况，Apache Hive提供了两项项参数:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;set&lt;/span&gt; hive.mapred.supports.subdirectories=&lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;set&lt;/span&gt; mapreduce.input.fileinputformat.input.dir.recursive=&lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;但Spark SQL并不支持类似参数。Spark SQL在执行ORC和Parquet格式的文件解析时，默认使用Spark内置的解析器（Spark内置解析器效率更高），这些内置解析器不支持递归子目录的两项参数，并且也没有其它参数支持这一效果。可以通过设置 spark.sql.hive.convertMetastoreOrc=false 来指定Spark使用Hive的解析器，使递归子目录参数正确生效。Spark的内置解析器也将于未来版本中支持递归子目录。&lt;/p&gt;&lt;p&gt;此外，当用户在使用Spark读写同一张Hive表时，经常会遇到 &quot;Cannot overwrite a path that is also being read from &quot;的报错，而同样的语句在Hive中可以进行。这是由于Spark对数仓常用的数据类型做了自己的实现方式，在他自己的实现方式下，目标路径会先被清空，随后才执行写入，而Hive是先写入到临时目录，任务完成后再讲结果数据替换目标路径。使用Hive解析器也可以解决这个问题。&lt;/p&gt;&lt;h3&gt;&lt;span&gt;2. Hive ORC解析的一些问题&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;在1 问题的解决方案中，我们选择统一使用Hive的ORC解析器，这将带来以下问题:&lt;/p&gt;&lt;p&gt;Hive的ORC在读取某些Hive表时，会出现数组越界异常或空指针异常。&lt;/p&gt;&lt;p&gt;其原因是某些目录下存在空的ORC文件，可通过设置hive.exec.orc.split.strategy=BI 规避空指针问题，&lt;/p&gt;&lt;p&gt;设置hive.vectorized.execution.enabled=false 规避数组越界问题。此外使用Spark 3.x时，还需要设置 hive.metastore.dml.events=false 避免写入数据时报错。&lt;/p&gt;&lt;h3&gt;&lt;span&gt;3. Spark.sql.sources.schema问题&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;在Spark和Hive同时使用的情况下，某些操作可能会导致Hive表元数据里面有spark.sql.sources.schema.part属性的存在，后续如果修改表结构会导致表元数据和数据不一致的情况。例如：新增字段A后并执行新的写入语句后，查询A字段值为NULL。&lt;/p&gt;&lt;p&gt;这是因为Spark在读写存在该属性的Hive表时，会优先使用该属性提供的映射值来生成表结构。而Hive原生修改表结构的语句不会更新该值，最终导致新字段在读写时不被Spark识别。&lt;/p&gt;&lt;p&gt;解决方案是重新建表，或者删除该表属性。在两个引擎同时存在时期，可以约定只使用Hive来执行DDL数据。&lt;/p&gt;&lt;h3&gt;&lt;span&gt;4. Spark权限和审计&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;在Hive里面，我们继承了PasswdAuthenticationProvider实现了自定义的用户认证，通过集成Ranger实现了权限管控，而Spark开源版并没有完整的解决方案。官方的Spark Thrift Server在资源隔离和权限管控上有很大的不足，我们引入了Apache Kyuubi。Kyuubi也有类似PasswdAuthenticationProvider的接口，可以来实现用户认证。对于权限管控，一般的方案是使用Submarine。但是Submarine最新版本已经将这一模块去掉，而最近一个支持Ranger的0.6.0版本只支持Spark 3.0。Spark集成Ranger的要先解析SQL取得相关的表和字段，以判断当前用户是否有权限读写，而Spark 3.0到Spark 3.2.1的解析SQL做了很多修改，所以我们修改了相关的代码来适配Spark 3.2.1。同时基于Apache Kyuubi的Event体系，完成了Spark的审计功能。&lt;/p&gt;&lt;figure/&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;437&quot; data-ratio=&quot;0.6811023622047244&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tPxxg870vIcSmd5cmMebXFQt5h9ONxiadziaUDWv6qQ0z4TpqoFmL9kAUwa4f9c9sLibX41jibHIQ3Kwou1MjboWsg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;762&quot;/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;br/&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;5. Hive SQL 迁移 Spark SQL 的一些较隐蔽的坑&lt;/span&gt;&lt;/h3&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;日期类型比较，处理方式不同&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;低版本Hive会将Date类型转换为string，2.3.5以后的版本会将String转换为Date比较。&lt;/p&gt;&lt;p&gt;如: &#x27;2022-03-14 11:11:11&#x27; &amp;gt; date_sub(&#x27;2022-03-15&#x27;,1)&lt;/p&gt;&lt;p&gt;在低版本时，该不等式结果为true，高版本则为false。在 Spark SQL 3.2.1 中，结果同样为false。&lt;/p&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;类型严格程度不同&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Hive 默认支持隐式转换，Spark需要设置 spark.sql.storeAssignmentPolicy=LEGACY 才支持有限度的隐式转换，否则执行会报错。&lt;/p&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;对语义的精准度要求更高，例如&lt;/p&gt;&lt;/section&gt;&lt;section&gt;关联语法不同:&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;select a from t1 join t2 group by t1.a&lt;/p&gt;&lt;p&gt;在Spark SQL中需要写成 select t1.a from t1 join t2 group by t1.a&lt;/p&gt;&lt;section&gt;&lt;span&gt;    &lt;span&gt;grouping语法不同&lt;/span&gt;:&lt;/span&gt;&lt;/section&gt;&lt;p&gt;Select a,b from t1 group by a,b grouping sets (a,b)&lt;/p&gt;&lt;p&gt;在Hive中除了聚合汇总a和b维度外，还会汇总整体维度，但是在SparkSQL中要求写成&lt;/p&gt;&lt;p&gt;Select a,b from t1 group by a,b grouping sets ((),(a),(b))&lt;/p&gt;&lt;h3&gt;&lt;span&gt;6. 动态资源，多版本兼容&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;Spark动态资源可以节省很多资源，但是要依赖shuffle service。因为集群在切换过程中需要同时支持Spark2(Hive on Spark2)和Spark3，所以需要保证集群能够同时支持两个版本的shuffle service。YARN在2.9.0之后支持了Classloader隔离的aux service。而Spark 3.1引入了可配置的方式去启动不同端口不同classpath包的shuffle service。但是在实践中发现，Yarn的这种机制并不能加载xml配置文件，需要将xml打成jar包才能识别。&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;192&quot; data-ratio=&quot;0.332388377037562&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tPxxg870vIcSmd5cmMebXFQt5h9ONxiadsswnHPopCth0o25yJm3fs72KTMliaYerWyJF4ic7RRB3T0ZjfKaodiadw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1411&quot;/&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;7. 小文件问题&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;为了提升计算速度，大数据计算引擎在计算时候都会采取并行处理，而Spark SQL在写入数据的时候是并行写入，并没有一个合并的过程。小文件过多，会增大Namenode的压力，同时对查询性能也有很大影响。通常在Hive中可以引入 hive.spark.mergefiles=true 来为hive的执行计划增加一个合并Job，但Spark SQL不支持这个做法。&lt;/p&gt;&lt;p&gt;目前，我们开启AQE，通过设置目标大小和最大shuffle上限在一定程度上减少最后生成的文件数。例如:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;--conf spark.sql.adaptive.enabled=&lt;span&gt;true&lt;/span&gt; \&lt;br/&gt;&lt;br/&gt;--conf spark.sql.adaptive.advisoryPartitionSizeInBytes=262144000 \&lt;br/&gt;&lt;br/&gt;--conf spark.sql.adaptive.maxNumPostShufflePartitions=200 \&lt;br/&gt;&lt;br/&gt;--conf spark.sql.adaptive.forceApply=&lt;span&gt;true&lt;/span&gt; \&lt;br/&gt;&lt;br/&gt;--conf spark.sql.adaptive.coalescePartitions.parallelismFirst=&lt;span&gt;false&lt;/span&gt; \&lt;br/&gt;&lt;br/&gt;--conf spark.sql.adaptive.coalescePartitions.minPartitionSize =52428800 \&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;注意：advisoryPartitionSizeInBytes这个参数指定的不是最终生成的文件大小，而是在最终输出文件阶段，每个partition read的字节大小，此处的256M对应到ORC Snappy的输出文件大小约为55M。&lt;/p&gt;&lt;p&gt;经实验，生成的文件数最大为200个，大小平均55M。总大小小于50M时，只会有一个文件。&lt;/p&gt;&lt;h2&gt;&lt;span&gt;未来规划&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;目前每天300+任务是基于Spark SQL，已经稳定运行较长时间，之前遇到的问题都已经基本解决，后续会将所有的ETL引擎统一到Spark SQL，用来提高计算效率。使用Spark SQL的主要场景还是在数仓离线的ETL，后续会在更多的场景尝试引入Spark SQL，比如交互式分析，会结合公司目前的Trino引擎做一些互补。另外，目前业务上有很多实时的数据需求，后续会基于Spark技术栈引入Hudi等数据湖技术来满足业务的需求。&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>