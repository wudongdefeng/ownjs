<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>25595eeeb439f808ba717c5046bbe5e8</guid>
<title>ç²¾åæ¨è |ã€æ·±å…¥æµ…å‡ºSpringåŸç†åŠå®æˆ˜ã€‘ã€ŒåŸç†åˆ†æä¸“é¢˜ã€ä»æºç å’Œæ¶æ„è®¾è®¡è§’åº¦æ·±å…¥å‰–æBeanPostProcessorçš„åŸç†å’Œè¿ä½œæœºåˆ¶_æ´›ç¥ç¬æ®‡çš„åšå®¢-CSDNåšå®¢</title>
<link>https://toutiao.io/k/foquo0z</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h2&gt;&lt;a id=&quot;__0&quot;/&gt;ğŸƒ å‰ææ¦‚è¦&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;Springå…·æœ‰å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œä½†æ˜¯è¿™ä¸ªæ‰©å±•å®ƒçš„è¿™ä¸ªæ‰©å±•æ€§ä½“ç°åœ¨å“ªé‡Œå‘¢&lt;/strong&gt;ï¼Ÿè€Œæˆ‘ä»¬è¦è¯´çš„&lt;strong&gt;BeanPostProcessor&lt;/strong&gt;å°±æ˜¯å¯¹Springæ‰©å±•æ€§ä¼˜ç§€çš„è¡¨ç°ä¹‹ä¸€ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;&lt;a id=&quot;_BeanPostProcessor_4&quot;/&gt;ğŸƒ BeanPostProcessorçš„ä½œç”¨&lt;/h2&gt; 
 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;å…¶æ“ä½œå¯¹è±¡ä¸ºï¼šå·²ç»å®ä¾‹åŒ–ä¸”è¿›è¡Œäº†å±æ€§å¡«å……ï¼Œå¾…åˆå§‹åŒ–çš„Beanå®ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;&lt;a id=&quot;__12&quot;/&gt;ğŸƒ æºç åˆ†æ&lt;/h2&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessor&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  
   &lt;span class=&quot;token annotation punctuation&quot;&gt;@Nullable&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
   &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   
   &lt;span class=&quot;token annotation punctuation&quot;&gt;@Nullable&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
   &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
 
&lt;h2&gt;&lt;a id=&quot;__40&quot;/&gt;ğŸƒ å¦‚ä½•ä½¿ç”¨&lt;/h2&gt; 
&lt;p&gt;BeanPostProcessorDemoä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessorDemo&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;DefaultListableBeanFactory&lt;/span&gt; beanFactory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DefaultListableBeanFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt; reader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanFactory&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;spring-bean-post-processor.xml&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        beanFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addBeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserBeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt; user &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; beanFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;user&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Data&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; userName&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt; age&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beforeMessage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; afterMessage&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;åˆå§‹åŒ–:&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setUserName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;å°æ˜&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAge&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserBeanPostProcessor&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bean &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;åˆå§‹åŒ–å‰:&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setBeforeMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;åˆå§‹åŒ–å‰ä¿¡æ¯&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; 
&lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bean &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;åˆå§‹åŒ–å:&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAfterMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;åˆå§‹åŒ–åä¿¡æ¯&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å…¶ä»–çš„çœç•¥â€¦&lt;/p&gt; 
&lt;p&gt;è¿è¡Œä¹‹åæ‰“å°ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;åˆå§‹åŒ–å‰:User(userName=null, age=null, beforeMessage=null, afterMessage=null)
åˆå§‹åŒ–:User(userName=null, age=null, beforeMessage=åˆå§‹åŒ–å‰ä¿¡æ¯, afterMessage=null)
åˆå§‹åŒ–å:User(userName=å°æ˜, age=18, beforeMessage=åˆå§‹åŒ–å‰ä¿¡æ¯, afterMessage=null)
User(userName=å°æ˜, age=18, beforeMessage=åˆå§‹åŒ–å‰ä¿¡æ¯, afterMessage=åˆå§‹åŒ–åä¿¡æ¯)
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;ä¸Šé¢çš„ä»£ç å¾ˆç®€å•å°±æ˜¯åˆ›å»ºåŸºç¡€çš„å®¹å™¨ï¼Œå› ä¸ºæˆ‘è¿™ä¸ªé‡Œé¢ç”¨çš„æ˜¯BeanFactoryï¼ŒBeanFactoryä½œä¸ºåŸºç¡€å®¹å™¨æ˜¯è¿™é‡Œæˆ‘é‡‡ç”¨æ‰‹åŠ¨å°†BeanPostProcessoræ³¨å†Œåˆ°å®¹å™¨ä¸­å»çš„ã€‚&lt;br/&gt; åŒæ—¶ä¹Ÿå¯ä»¥é‡‡ç”¨æ‰«ææˆ–è€…å®šä¹‰çš„æ–¹å¼ç”Ÿæˆåˆ°å®¹å™¨ä¸­ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;ä¸‹é¢åˆ†ææ‰“å°ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt; 
&lt;ol&gt;&lt;li&gt; &lt;p&gt;åˆå§‹åŒ–å‰:User(userName=null, age=null, beforeMessage=null, afterMessage=null)&lt;br/&gt; è¯¥ç»“æœæ˜¯postProcessBeforeInitializationæ–¹æ³•ä¸­è¾“å‡ºçš„å†…å®¹ï¼Œè¿™ä¸ªæ—¶å€™Userå®ä¾‹è¿˜åªæ˜¯è¿›è¡Œäº†å®ä¾‹åŒ–ï¼Œè¿˜æœªè¿›è¡Œåˆ°åˆå§‹åŒ–æ­¥éª¤ï¼Œ&lt;strong&gt;æ‰€ä»¥æ‰€æœ‰çš„å±æ€§éƒ½ä¸ºnull,è¯´æ˜è¯¥æ–¹æ³•ç¡®å®æ˜¯åˆå§‹åŒ–æ‰§è¡Œçš„ã€‚&lt;/strong&gt;â€”â€”&lt;strong&gt;ï¼ˆæ­¤æ—¶çš„åˆå§‹åŒ–æŒ‡çš„æ˜¯beanå¯¹è±¡çš„initæ–¹æ³•ï¼‰&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;åˆå§‹åŒ–:User(userName=null, age=null, beforeMessage=åˆå§‹åŒ–å‰ä¿¡æ¯, afterMessage=null)&lt;br/&gt; &lt;strong&gt;è¯¥ç»“æœä¸ºè‡ªå®šä¹‰çš„åˆå§‹åŒ–æ–¹æ³•initMethodæ–¹æ³•ä¸­è¾“å‡ºçš„å†…å®¹ï¼Œè¿™ä¸ªæ—¶å€™Userå®ä¾‹çœŸæ­£åˆå§‹åŒ–ï¼Œè€ŒbeforeMessageä¸­ä¸­çš„å€¼æ­£æ˜¯æˆ‘ä»¬åœ¨postProcessBeforeInitializationè®¾ç½®çš„&lt;/strong&gt;ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;åˆå§‹åŒ–å:User(userName=å°æ˜, age=18, beforeMessage=åˆå§‹åŒ–å‰ä¿¡æ¯, afterMessage=null)&lt;br/&gt; &lt;strong&gt;è¯¥ç»“æœæ˜¯postProcessAfterInitializationä¸­è¾“å‡ºå†…å®¹ï¼Œä»æ‰“å°ç»“æœå¯ä»¥çœ‹å‡ºå®ƒçš„ç¡®æ˜¯åœ¨è‡ªå®šä¹‰initMethodåã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ol&gt; 
&lt;h2&gt;&lt;a id=&quot;__Spring_119&quot;/&gt;ğŸƒ Springçš„ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;Springä¸­Beanæ€»ä½“ä¸Šæ¥è¯´å¯ä»¥åˆ†ä¸ºå››ä¸ªå‘¨æœŸï¼š&lt;strong&gt;å®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼ã€åˆå§‹åŒ–ã€é”€æ¯&lt;/strong&gt;ã€‚è€ŒBeanPostProcessoråˆ™æ˜¯åœ¨åˆå§‹åŒ–é˜¶æ®µçš„å‰åæ‰§è¡Œã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt;&lt;li&gt;é¦–å…ˆçœ‹&lt;strong&gt;AbstractAutowireCapableBeanFactory&lt;/strong&gt;ä¸­&lt;strong&gt;doCreateBean&lt;/strong&gt;æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®é™…å°±æ˜¯&lt;strong&gt;åˆ›å»ºæŒ‡å®šBean&lt;/strong&gt;çš„æ–¹æ³•ã€‚ 
  &lt;ul&gt;&lt;li&gt;å…¶ä¸­ä¸‰ä¸ªé‡è¦çš„æ–¹æ³•è°ƒç”¨å¦‚ä¸‹ï¼š&lt;strong&gt;createBeanInstanceã€populateBeanã€initializeBean&lt;/strong&gt;ã€‚&lt;/li&gt;&lt;li&gt;è¿™ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«ä»£è¡¨äº†Spring Beanä¸­çš„å®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼å’Œåˆå§‹åŒ–ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸã€‚&lt;/li&gt;&lt;/ul&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;BeanPostProcessoræ˜¯åœ¨åˆå§‹åŒ–å‰åè°ƒç”¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ‰€ä»¥æˆ‘ä»¬æŸ¥çœ‹initializeBeanä¸­çš„æ–¹æ³•è¯¦æƒ…å³å¯&lt;/strong&gt;ã€‚è¯¥æ–¹æ³•è¯¦æƒ…å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initializeBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@Nullable&lt;/span&gt; 
&lt;span class=&quot;token class-name&quot;&gt;RootBeanDefinition&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSecurityManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token class-name&quot;&gt;AccessController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doPrivileged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PrivilegedAction&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token function&quot;&gt;invokeAwareMethods&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessControlContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;invokeAwareMethods&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   
   &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; wrappedBean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mbd &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isSynthetic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      
      wrappedBean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyBeanPostProcessorsBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wrappedBean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      
      &lt;span class=&quot;token function&quot;&gt;invokeInitMethods&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; wrappedBean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Throwable&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanCreationException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mbd &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getResourceDescription&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Invocation of init method failed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mbd &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isSynthetic&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      
      wrappedBean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyBeanPostProcessorsAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;wrappedBean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; 
   beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; wrappedBean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;ä»ä¸Šé¢çš„æºç å¯ä»¥çœ‹å‡ºé¦–å…ˆæ˜¯å¤„ç†éƒ¨åˆ†Awareç›¸å…³æ¥å£ï¼Œç„¶åæ¥ç€å°±æ˜¯å¤„ç†BeanPostProcessorä¸­çš„postProcessBeforeInitializationæ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¯¦æƒ…å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyBeanPostProcessorsBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; existingBean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; existingBean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   
   &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessor&lt;/span&gt; processor &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getBeanPostProcessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; processor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
   
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;è¯¥æ–¹æ³•å°±æ˜¯æ‰§è¡ŒpostProcessBeforeInitializationå›è°ƒçš„è¯¦æƒ…å†…å®¹ï¼Œä»è¯¥å®ç°å¯ä»¥çŸ¥é“ï¼ŒBeanPostProcessorå¯ä»¥æœ‰å¤šä¸ªï¼Œè€Œä¸”ä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡å¤„ç†ã€‚&lt;strong&gt;å¦‚æœåªè¦å…¶ä¸­çš„ä»»æ„ä¸€ä¸ªè¿”å›nullï¼Œåˆ™åç»­çš„BeanPostProcessorçš„postProcessBeforeInitializationå°†ä¸ä¼šå†å¤„ç†äº†ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;æ¥ç€å°±æ˜¯æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ï¼Œå³invokeInitMethodsæ–¹æ³•è¢«è°ƒç”¨ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;invokeInitMethods&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@Nullable&lt;/span&gt; 
&lt;span class=&quot;token class-name&quot;&gt;RootBeanDefinition&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Throwable&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; isInitializingBean &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bean &lt;span class=&quot;token keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isInitializingBean &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mbd &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; 
   &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isExternallyManagedInitMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;afterPropertiesSet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isTraceEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         logger&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;trace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Invoking afterPropertiesSet() on bean with name &#x27;&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; beanName &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; 
 &lt;span class=&quot;token string&quot;&gt;&quot;&#x27;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSecurityManager&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;AccessController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doPrivileged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PrivilegedExceptionAction&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
               &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAccessControlContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;PrivilegedActionException&lt;/span&gt; pae&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; pae&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InitializingBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mbd &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NullBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; initMethodName &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getInitMethodName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StringUtils&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasLength&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initMethodName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isInitializingBean &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;afterPropertiesSet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initMethodName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;mbd&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isExternallyManagedInitMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;initMethodName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token function&quot;&gt;invokeCustomInitMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mbd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyBeanPostProcessorsAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; existingBean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; existingBean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessor&lt;/span&gt; processor &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getBeanPostProcessors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; current &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; processor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postProcessAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;current &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; current&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;&lt;strong&gt;è¯¥æ–¹æ³•ä¸applyBeanPostProcessorsBeforeInitializationå‡ ä¹å°±æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„åœ¨äºå®ƒæ‰§è¡Œçš„æ˜¯postProcessAfterInitializationã€‚è‡³æ­¤Spring Beançš„åˆå§‹åŒ–ä¹Ÿå°±å®Œæˆäº†&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/f1142e12bf23bb05ab0f456649eef8a0.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;_PostConstruct_259&quot;/&gt;ğŸƒ @PostConstructçš„æ”¯æŒ&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;é€šè¿‡ä¸Šé¢äº†è§£äº†Spring Beanç”Ÿå‘½å‘¨æœŸä¸­åˆå§‹åŒ–çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å®é™…ä¸ŠSpringå¯¹äºJSR250ä¹Ÿæ”¯æŒï¼Œä¾‹å¦‚å¯¹@PostConstructæ³¨è§£çš„æ”¯æŒï¼Œä½†æ˜¯åœ¨ä¹‹å‰çš„æºç ä¸­å¹¶æ²¡æœ‰å‘ç°Spring Beançš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­æœ‰æ‰€ä½“ç°ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è¿™é‡Œé¢çš„ç§˜å¯†å°±æ˜¯æˆ‘ä»¬çš„BeanPostProcessoräº†ã€‚&lt;/p&gt; 
&lt;p&gt;åœ¨Springä¸­æœ‰ä¸€ä¸ª&lt;strong&gt;CommonAnnotationBeanPostProcessor&lt;/strong&gt;ç±»ï¼Œè¿™ä¸ªç±»çš„æ³¨é‡Šä¸­æœ‰è¯´åˆ°è¿™ä¸ªç±»å°±æ˜¯ç”¨æ¥å¯¹JSR250åŠå…¶ä»–ä¸€äº›è§„èŒƒçš„æ”¯æŒã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‹é¢æˆ‘å°±é€šè¿‡è¿™ä¸ªç±»çš„æºç æ¥è¯´æ˜Springæ˜¯å¦‚ä½•é€šè¿‡BeanPostProcessoræ¥å®ç°å¯¹@PostContructçš„æ”¯æŒã€‚&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/ccd42475897b4a5dbecb9ba4970e3b9c.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒCommonAnnotationBeanPostProcessorå¹¶æ²¡æœ‰ç›´æ¥å¯¹BeanPostProcessoræœ‰æ‰€å®ç°ï¼Œå®ƒç»§æ‰¿InitDestroyAnnotationBeanPostProcessorè¯¥ç±»ï¼Œè€Œå¯¹@PostConstructçš„å®ç°ä¸»è¦åœ¨è¯¥ç±»ä¸­ã€‚&lt;br/&gt; &lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/475f5e4562375196d8fe0b37112693ba.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;è€Œå¯¹BeanPostProcessorçš„å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   
   &lt;span class=&quot;token class-name&quot;&gt;LifecycleMetadata&lt;/span&gt; metadata &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findLifecycleMetadata&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bean&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      
      metadata&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;invokeInitMethods&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InvocationTargetException&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanCreationException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Invocation of init method failed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTargetException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Throwable&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanCreationException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;beanName&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Failed to invoke init method&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ex&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessAfterInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;å¯¹BeanPostProcessorçš„å®ç°ä¸»è¦åœ¨beforeæ–¹æ³•ä¸­ï¼Œè¯¥æ–¹æ³•ä¸»è¦å°±æ˜¯ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œç¬¬ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯ä¿¡æ¯å°è£…åˆ°LifecycleMetadataä¸­ï¼Œä¾¿äºåé¢ç¬¬äºŒæ­¥çš„æ‰§è¡Œç›¸å…³åˆå§‹åŒ–æ–¹æ³•ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;é€šè¿‡ä¸Šé¢çš„æ–¹æ³•å®ç°æˆ‘ä»¬çŸ¥é“äº†ï¼ŒSpringå¯¹JSR250çš„å®ç°å€ŸåŠ©äºBeanPostProcessoræ¥å®ç°çš„ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessorDemo2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;DefaultListableBeanFactory&lt;/span&gt; beanFactory &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DefaultListableBeanFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;AbstractBeanDefinition&lt;/span&gt; beanDefinition &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; 
&lt;span class=&quot;token class-name&quot;&gt;BeanDefinitionBuilder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;genericBeanDefinition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBeanDefinition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        beanFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerBeanDefinition&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;person&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;beanDefinition&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;CommonAnnotationBeanPostProcessor&lt;/span&gt; commonAnnotationBeanPostProcessor 
&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CommonAnnotationBeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        beanFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addBeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;commonAnnotationBeanPostProcessor&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        
        &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; person &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; beanFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;person&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@PostConstruct&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;annotationInitMethod&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;@PostConstruct&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;ä¸Šé¢çš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªPersonå¹¶ä½¿ç”¨@PostConstructæ ‡è®°å‡ºå®ƒçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œç„¶åæˆ‘ä»¬åˆ›å»ºBeanFactoryï¼Œå¹¶åˆ›å»ºPersonçš„BeanDefinitionå°†å…¶æ³¨å†Œåˆ°BeanFactoryï¼ˆä¸è¯»å–é…ç½®æ–‡ä»¶ä¸€æ ·ï¼‰ï¼Œç„¶åæˆ‘ä»¬åˆ›å»º&lt;strong&gt;CommonAnnotationBeanPostProcessor&lt;/strong&gt;å¹¶å°†å…¶æ·»åŠ åˆ°BeanFactoryä¸­ã€‚&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;æœ€åæ‰“å°ç»“æœæ‰“å°å‡º@PostConstructã€‚å¦‚æœæˆ‘ä»¬å°†ä¸‹é¢è¿™å¥ä»£ç æ³¨é‡Šã€‚&lt;/li&gt;&lt;li&gt;beanFactory.addBeanPostProcessor(commonAnnotationBeanPostProcessor);&lt;/li&gt;&lt;li&gt;å†æ¬¡æ‰§è¡Œå¯ä»¥å‘ç°ï¼Œ@PostConstructå°†ä¼šå¤±æ•ˆï¼Œä¸”æœ€åä¸ä¼šæ‰“å°å‡ºç»“æœã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;__340&quot;/&gt;ğŸƒ é¡ºåºæ€§&lt;/h3&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;BeanPostProcessoræ˜¯å¯ä»¥æ³¨å†Œå¤šä¸ªçš„ï¼Œåœ¨AbstractBeanFactoryå†…éƒ¨é€šè¿‡Listå˜é‡beanPostProcessorsæ¥å­˜å‚¨BeanPostProcessorã€‚è€Œåœ¨æ‰§è¡Œæ—¶æ˜¯æŒ‰ç…§Listä¸­BeanPostProcessorçš„é¡ºåºä¸€ä¸ªä¸ªæ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æƒ³å®¹å™¨ä¸­æ·»åŠ BeanPostProcessoræ—¶éœ€è¦æ³¨æ„é¡ºåºã€‚å¦‚æœæˆ‘ä»¬ä¸æ˜¯é€šè¿‡æ‰‹åŠ¨æ·»åŠ ï¼ˆå¤§å¤šæ•°æ—¶å€™ä¸æ˜¯ï¼‰æ—¶ï¼Œè€Œæ˜¯åœ¨ä»£ç æˆ–è€…é…ç½®æ–‡ä»¶ä¸­å®šä¹‰å¤šä¸ªBeanPostProcessoræ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Orderedæ¥å£æ¥æ§åˆ¶å®ƒçš„é¡ºåºã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;BeanPostProcessorä¾èµ–çš„Beanä¸ä¼šæ‰§è¡ŒBeanPostProcessor&lt;br/&gt; BeanPostProcessorä¾èµ–çš„Beanæ˜¯ä¸ä¼šæ‰§è¡ŒBeanPostProcessorçš„ï¼Œè¿™æ˜¯å› ä¸ºåœ¨åˆ›å»ºBeanPostProcessorä¹‹æ‰€ä¾èµ–çš„Beanå°±éœ€è¦å®Œæˆåˆå§‹åŒ–ï¼Œè€Œè¿™ä¸ªæ—¶å€™BeanPostProcessoréƒ½è¿˜æœªå®Œåˆå§‹åŒ–å®Œæˆã€‚&lt;/p&gt; 
&lt;hr/&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ­¤å¤–æˆ‘ä»¬éœ€è¦äº†è§£ç‚¹ï¼š@PostConstruct æ‰§è¡Œç‚¹(beforeInitialization) è¦æ—©äº afterProperitesSet(invokeInitMethod-1) æ—©äºå¯¹åº”çš„Beanå®šä¹‰çš„initMethodï¼ˆinvokeinitiMethod-2ï¼‰æ–¹æ³•çš„æ‰§è¡Œã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;App3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigApplicationContext&lt;/span&gt; context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; 
&lt;span class=&quot;token class-name&quot;&gt;AnnotationConfigApplicationContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;scan&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;com.buydeem.beanpostprocessor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;App3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;refresh&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassA&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyBeanPostProcessor&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeanPostProcessor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ClassA&lt;/span&gt; classA&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;postProcessBeforeInitialization&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; beanName&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; 
&lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BeansException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;MyBeanPostProcessor&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;bean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; bean&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;strong&gt;æœ€åClassAæ˜¯ä¸ä¼šæ‰“å°å‡ºæ¥çš„ï¼Œè€ŒClassBæ˜¯ä¼šè¢«æ‰“å°å‡ºæ¥ã€‚å› ä¸ºMyBeanPostProcessorä¾èµ–ClassAå®ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h2&gt;&lt;a id=&quot;__389&quot;/&gt;ğŸƒ æ€»ç»“&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;Springä¸­BeanPostProcessorçš„å­æ¥å£æˆ–å®ç°ç±»æœ‰å¾ˆå¤šç§ï¼Œä¾‹å¦‚ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;strong&gt;InstantiationAwareBeanPostProcessor&lt;/strong&gt;ã€&lt;strong&gt;MergedBeanDefinitionPostProcessor&lt;/strong&gt;ã€&lt;strong&gt;DestructionAwareBeanPostProcessorç­‰ç­‰&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;è¿™äº›æ¥å£åˆ†åˆ«å¤„åœ¨Spring Beanç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µï¼Œè€Œä»–ä»¬çš„åŠŸèƒ½ä¸BeanPostProcessoréƒ½ç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸ºäº†ç»™Spring Beanå„ä¸ªå£°æ˜å‘¨æœŸæä¾›æ‰©å±•ç‚¹ã€‚&lt;/p&gt; 
&lt;/blockquote&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>091b14855423c759387ce01cf25c1e4a</guid>
<title>ç›¸è¾ƒäºRocketMQçš„äº‹åŠ¡æ¶ˆæ¯ï¼Œæœ¬åœ°æ¶ˆæ¯è¡¨æ‰æ˜¯çœŸæ­£çš„ç‹è€…</title>
<link>https://toutiao.io/k/ccnbfle</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1. æ¦‚è§ˆ&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿé—´çš„é€šä¿¡é™¤äº†å¤§å®¶æ‰€ç†ŸçŸ¥çš„ RPC å¤–ï¼ŒåŸºäº MQ çš„å¼‚æ­¥é€šä¿¡ä¹Ÿè¶Šæ¥è¶Šæµè¡Œï¼Œå·²ç»æˆä¸ºåŸºç¡€è®¾æ–½çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è€Œ MQ çš„å¼•å…¥å¯¹ç³»ç»Ÿé—´çš„æ•°æ®ä¸€è‡´æ€§æå‡ºäº†æ–°çš„æŒ‘æˆ˜ï¼Œé€æ¸æˆä¸ºç³»ç»Ÿç¨³å®šæ€§çš„ä¸€å¤§éšæ‚£ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.1. èƒŒæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.1.1. ä¸šåŠ¡æŒ‘æˆ˜&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœªæ¥è§¦è¿‡åˆ†å¸ƒå¼çš„åŒå­¦å¯èƒ½å¯¹å…¶æ²¡æœ‰æ¦‚å¿µï¼Œå½“æˆ‘ä»¬å¼•å…¥ MQ åï¼ŒMQ ä¸æ•°æ®åº“æ“ä½œå­˜åœ¨ä¸€è‡´æ€§è¦æ±‚ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¾ä¸ªç®€å•ä¾‹å­ï¼Œä¸€ä¸ªä¸šåŠ¡æ“ä½œä¸­å­˜åœ¨ â€œæ›´æ–°DBâ€ å’Œ â€œå‘é€ MQâ€ ä¸¤ä¸ªåŠ¨ä½œï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2651162790697674&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPr4DPwJiah4V0JNo0Vu7nsRFianGq47sgRvTapdbBk7XH797uZIXjNpNrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;430&quot; title=&quot;biz_common.png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæµç¨‹æ­£å¸¸ç»“æŸï¼Œå˜æ›´ä¿å­˜åˆ° DBï¼ŒMessage æˆåŠŸå‘é€è‡³ MQï¼Œå°±ä¸å­˜åœ¨ä¸ä¸€è‡´çš„æƒ…å†µã€‚ä½†ï¼Œå¦‚æœä¸­é—´å‘ç”Ÿå¼‚å¸¸ï¼Œä¸€è‡´æ€§å°±æ²¡æœ‰äº†ä¿éšœã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚åœ¨å¦‚ä¸‹è¿™ä¸ªç¤ºä¾‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9565217391304348&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPrOrWS7UzL7TFYNqGsmEuHP9QVpeqrtHCg79gG7PfHoicYR6uFib0Q9QNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;644&quot; title=&quot;biz_error1.png&quot;/&gt;&lt;/figure&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ›´æ–° DB å’Œ å‘é€ MQ è¢«åŒ…åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœåœ¨äº‹åŠ¡æäº¤å‰ï¼Œå‘é€ MQ ä¹‹åå‡ºç°äº†å¼‚å¸¸ï¼Œå°†è§¦å‘æ•°æ®åº“äº‹åŠ¡å›æ»šï¼Œæ­¤æ—¶&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;ç»“æœä¾¿æ˜¯ Consumer æˆåŠŸè·å– Message å¹¶è¿›è¡Œä¸šåŠ¡å¤„ç†ï¼Œè€Œ DB å›æ»šä¸šåŠ¡æ“ä½œå·²ç»å¤±è´¥ï¼Œä¸‹æ¸¸å¤„ç†äº†ä¸€ä¸ªæœ¬ä¸å­˜åœ¨çš„å˜æ›´ã€‚&lt;/section&gt;&lt;/li&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£æˆ‘ä»¬æ¢ä¸ªæ€è·¯ï¼Œæ•°æ®åº“äº‹åŠ¡åªå¯¹ DB æ›´æ–°è¿›è¡Œä¿æŠ¤ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9869281045751634&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPrFJtyjibicWb0lstvkAkZgLbzvy5xttYgqjx0EDZZMWM75elggjaXwwDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;612&quot; title=&quot;biz_error2.png&quot;/&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä»…å°† æ•°æ®åº“å˜æ›´ åŒ…åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡é‡Œï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœåœ¨äº‹åŠ¡æäº¤åï¼Œå‘é€MQ å‰å‡ºç°äº†å¼‚å¸¸ï¼Œæ­¤æ—¶&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ•°æ®åº“å˜æ›´å·²ç»æˆåŠŸæŒä¹…åŒ–åˆ° DB&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è€ŒMQå‘é€å¤±è´¥ï¼Œä¸‹æ¸¸ä¸šåŠ¡æ— æ³•è·å–å˜æ›´æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;section&gt;æœ€ç»ˆå¯¼è‡´ä¸¢å¤±å˜æ›´ï¼ŒæœªæˆåŠŸè§¦å‘ä¸‹æ¸¸çš„æ­£å¸¸ä¸šåŠ¡ï¼›&lt;/section&gt;&lt;/li&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶è¿˜æœ‰æ›´å¤æ‚çš„åœºæ™¯ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9194444444444444&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPrlRZvFGIQtkPdvqydNgFBfibIOpHrOKdaXflZ0LgrCqjD5n7iaZHYEdFg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; title=&quot;biz_fz_2.png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®åº“å˜æ›´ å’Œ å‘é€MQ äº¤æ›¿å‡ºç°ï¼Œåˆè¯¥å¦‚ä½•ä¿éšœå…¶ä¸€è‡´æ€§å‘¢ï¼Ÿ&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.1.2. äº‹åŠ¡æ¶ˆæ¯&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼ŒRocketMQ æä¾›äº‹åŠ¡æ¶ˆæ¯æœºåˆ¶ï¼Œä»¥å®Œæˆä¸šåŠ¡æ“ä½œä¸æ¶ˆæ¯å‘é€çš„ä¸€è‡´æ€§ã€‚ä½†åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¤æ‚çš„ API å°†é€»è¾‘åˆ‡åˆ†çš„ç¨€ç¢ï¼Œå¢åŠ äº†ä¸šåŠ¡ç†è§£çš„éš¾åº¦ï¼Œåœ¨å®é™…å¼€å‘ä¸­å¾ˆå°‘ä½¿ç”¨ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹åŠ¡æ¶ˆæ¯æ•´ä½“æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.28005115089514065&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPrLWtpJlEaCnz8aQ8lvkMRyDA6lafu0T9B85uyOSaZkicCtiaGBUvsWagg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1564&quot; title=&quot;rocketmq.png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…å°†åŠäº‹åŠ¡æ¶ˆæ¯å‘é€è‡³ RocketMQ Brokerã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;RocketMQ Broker å°†æ¶ˆæ¯æŒä¹…åŒ–æˆåŠŸä¹‹åï¼Œå‘ç”Ÿäº§è€…è¿”å› Ack ç¡®è®¤æ¶ˆæ¯å·²ç»å‘é€æˆåŠŸï¼Œæ­¤æ—¶æ¶ˆæ¯æš‚ä¸èƒ½æŠ•é€’ï¼Œä¸ºåŠäº‹åŠ¡æ¶ˆæ¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…å¼€å§‹æ‰§è¡Œæœ¬åœ°äº‹åŠ¡é€»è¾‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…æ ¹æ®æœ¬åœ°äº‹åŠ¡æ‰§è¡Œç»“æœå‘æœåŠ¡ç«¯æäº¤äºŒæ¬¡ç¡®è®¤ç»“æœï¼ˆCommitæˆ–æ˜¯Rollbackï¼‰ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°ç¡®è®¤ç»“æœåå¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;äºŒæ¬¡ç¡®è®¤ç»“æœä¸ºCommitï¼šæœåŠ¡ç«¯å°†åŠäº‹åŠ¡æ¶ˆæ¯æ ‡è®°ä¸ºå¯æŠ•é€’ï¼Œå¹¶æŠ•é€’ç»™æ¶ˆè´¹è€…ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;äºŒæ¬¡ç¡®è®¤ç»“æœä¸ºRollbackï¼šæœåŠ¡ç«¯å°†å›æ»šäº‹åŠ¡ï¼Œä¸ä¼šå°†åŠäº‹åŠ¡æ¶ˆæ¯æŠ•é€’ç»™æ¶ˆè´¹è€…ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;section&gt;åœ¨æ–­ç½‘æˆ–è€…æ˜¯ç”Ÿäº§è€…åº”ç”¨é‡å¯çš„ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè‹¥æœåŠ¡ç«¯æœªæ”¶åˆ°å‘é€è€…æäº¤çš„äºŒæ¬¡ç¡®è®¤ç»“æœï¼Œæˆ–æœåŠ¡ç«¯æ”¶åˆ°çš„äºŒæ¬¡ç¡®è®¤ç»“æœä¸ºUnknownæœªçŸ¥çŠ¶æ€ï¼Œç»è¿‡å›ºå®šæ—¶é—´åï¼ŒæœåŠ¡ç«¯å°†å¯¹æ¶ˆæ¯ç”Ÿäº§è€…å³ç”Ÿäº§è€…é›†ç¾¤ä¸­ä»»ä¸€ç”Ÿäº§è€…å®ä¾‹å‘èµ·æ¶ˆæ¯å›æŸ¥ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…æ”¶åˆ°æ¶ˆæ¯å›æŸ¥åï¼Œéœ€è¦æ£€æŸ¥å¯¹åº”æ¶ˆæ¯çš„æœ¬åœ°äº‹åŠ¡æ‰§è¡Œçš„æœ€ç»ˆç»“æœã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…æ ¹æ®æ£€æŸ¥å¾—åˆ°çš„æœ¬åœ°äº‹åŠ¡çš„æœ€ç»ˆçŠ¶æ€å†æ¬¡æäº¤äºŒæ¬¡ç¡®è®¤ï¼ŒæœåŠ¡ç«¯ä»æŒ‰ç…§æ­¥éª¤4å¯¹åŠäº‹åŠ¡æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†ç¡®ä¿ä¸€è‡´æ€§ï¼Œæ•´ä¸ªæµç¨‹å˜å¾—å¥½å¤æ‚ï¼Œä¸ä»…ä»…æ˜¯æµç¨‹ï¼ŒAPI ä½¿ç”¨ä¹Ÿæ™¦æ¶©éš¾æ‡‚ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;TransactionProducer&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â MQClientException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â é€šè¿‡ç›‘å¬å™¨åœ¨æœ¬åœ°äº‹åŠ¡ä¸­å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œå¯¹å¼‚å¸¸å‘ç°è¿›è¡Œæ£€æµ‹å¹¶æ¢å¤çŠ¶æ€&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â TransactionListenerÂ transactionListenerÂ =Â &lt;span&gt;new&lt;/span&gt;Â TransactionListenerImpl();&lt;br/&gt;Â Â Â Â Â Â Â Â TransactionMQProducerÂ producerÂ =Â &lt;span&gt;new&lt;/span&gt;Â TransactionMQProducer(&lt;span&gt;&quot;please_rename_unique_group_name&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ä¸ºÂ ProducerÂ è®¾ç½®ç›‘å¬å™¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â producer.setTransactionListener(transactionListener);&lt;br/&gt;Â Â Â Â Â Â Â Â producer.start();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â String[]Â tagsÂ =Â &lt;span&gt;new&lt;/span&gt;Â String[]Â {&lt;span&gt;&quot;TagA&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;TagB&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;TagC&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;TagD&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;TagE&quot;&lt;/span&gt;};&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â &lt;span&gt;10&lt;/span&gt;;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â MessageÂ msgÂ =&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Message(&lt;span&gt;&quot;TopicTest&quot;&lt;/span&gt;,Â tags[iÂ %Â tags.length],Â &lt;span&gt;&quot;KEY&quot;&lt;/span&gt;Â +Â i,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (&lt;span&gt;&quot;HelloÂ RocketMQÂ &quot;&lt;/span&gt;Â +Â i).getBytes(RemotingHelper.DEFAULT_CHARSET));&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â å‘é€äº‹åŠ¡æ¶ˆæ¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â SendResultÂ sendResultÂ =Â producer.sendMessageInTransaction(msg,Â &lt;span&gt;null&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.printf(&lt;span&gt;&quot;%s%n&quot;&lt;/span&gt;,Â sendResult);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;10&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (MQClientExceptionÂ |Â UnsupportedEncodingExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â &lt;span&gt;100000&lt;/span&gt;;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â producer.shutdown();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;TransactionListenerImpl&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;TransactionListener&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â AtomicIntegerÂ transactionIndexÂ =Â &lt;span&gt;new&lt;/span&gt;Â AtomicInteger(&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â ConcurrentHashMap&amp;lt;String,Â Integer&amp;gt;Â localTransÂ =Â &lt;span&gt;new&lt;/span&gt;Â ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â åœ¨æœ¬åœ°äº‹åŠ¡ä¸­æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œæ ¹æ®è¿”å›ç»“æœå†³å®šäºŒæ¬¡ç¡®è®¤ç»“æœ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â LocalTransactionStateÂ &lt;span&gt;executeLocalTransaction&lt;/span&gt;&lt;span&gt;(MessageÂ msg,Â ObjectÂ arg)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â valueÂ =Â transactionIndex.getAndIncrement();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â statusÂ =Â valueÂ %Â &lt;span&gt;3&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â localTrans.put(msg.getTransactionId(),Â status);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.UNKNOW;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ç½‘ç»œå‡ºç°å¼‚å¸¸åï¼Œæœªæ”¶åˆ°äºŒæ¬¡ç¡®è®¤ï¼Œå¯¹ä¸šåŠ¡è¿›è¡Œfan&#x27;cha&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â LocalTransactionStateÂ &lt;span&gt;checkLocalTransaction&lt;/span&gt;&lt;span&gt;(MessageExtÂ msg)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â IntegerÂ statusÂ =Â localTrans.get(msg.getTransactionId());&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;null&lt;/span&gt;Â !=Â status)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;switch&lt;/span&gt;Â (status)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.UNKNOW;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.COMMIT_MESSAGE;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.ROLLBACK_MESSAGE;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;default&lt;/span&gt;:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.COMMIT_MESSAGE;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â LocalTransactionState.COMMIT_MESSAGE;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•çœ‹ä»£ç å¾ˆéš¾ç†è§£ï¼Œç®€å•ç”»äº†å¼ å›¾ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.947242206235012&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYPrTia3M9030e5UBToIyPCXhibvrKPXM9KOo8fN1ZkjCwg4RSiaLYaQBRxsQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;834&quot; title=&quot;code.png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶æ ¸å¿ƒéƒ¨åˆ†å°±æ˜¯ &lt;code&gt;TransactionListener&lt;/code&gt; å®ç°ï¼Œå…¶ä»–éƒ¨åˆ†ä¸æ­£å¸¸çš„æ¶ˆæ¯å‘é€åŸºæœ¬ä¸€è‡´ï¼Œ&lt;code&gt;TransactionListener&lt;/code&gt; ä¸»è¦å®Œæˆï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ‰§è¡Œæœ¬åœ°äº‹åŠ¡ï¼Œä¹Ÿå°±æ˜¯ä¸šåŠ¡æ“ä½œï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ‰§è¡Œç»“æœæ£€æµ‹ï¼Œé€šè¿‡åæŸ¥ä¸šåŠ¡æ•°æ®ï¼Œå†³å®šæ¶ˆæ¯çš„åç»­å¤„ç†ç­–ç•¥ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†ä½¿ç”¨äº‹åŠ¡æ¶ˆæ¯ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨&lt;code&gt;TransactionListener&lt;/code&gt;ä¸­ç¼–å†™è¿›è¡Œå¤§é‡çš„é€‚é…é€»è¾‘ï¼Œå¢åŠ ç ”å‘æˆæœ¬ï¼ŒåŒæ—¶ç”±äºé€»è¾‘è¢«æ‹†åˆ†åˆ°å¤šå¤„ï¼Œä¹Ÿå¢åŠ äº†ä»£ç çš„ç†è§£æˆæœ¬ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;RocketMQ çš„äº‹åŠ¡æ¶ˆæ¯é€šè¿‡å›æŸ¥æ–¹å¼å¯¹æ¶ˆæ¯è¿›è¡Œè¡¥å……ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„è®¾è®¡ç†å¿µã€‚ä½†ï¼Œå…¶ API è¿‡äºå¤æ‚ï¼Œåœ¨å®é™…å¼€å‘ä¸­å¾ˆå°‘ä½¿ç”¨ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.2. ç›®æ ‡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä¸è¦ RocketMQ çš„å¤æ‚æ€§ï¼Œè¿˜è¦ RocketMQ çš„ä¸€è‡´æ€§ï¼Œå¦ä¸€ä¸ªä¼˜ç§€çš„æ›¿ä»£æ–¹æ¡ˆä¾¿æ˜¯æœ¬åœ°æ¶ˆæ¯è¡¨ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¿éšœæ¶ˆæ¯å‘é€ä¸ä¸šåŠ¡æ“ä½œä¹‹é—´çš„å¼ºä¸€è‡´ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›ç®€å•é€šç”¨ APIï¼Œé™ä½ä½¿ç”¨é—¨æ§›ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›ç®€æ´é…ç½®æ–¹æ³•ï¼Œé™ä½æ¥å…¥æˆæœ¬ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›è¡¥å¿ç­–ç•¥ï¼Œä¿éšœè‡³å°‘ä¸€æ¬¡å‘é€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2. å¿«é€Ÿå…¥é—¨&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.1. ç¯å¢ƒå‡†å¤‡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼Œåœ¨ pom ä¸­å¼•å…¥ lego-starter&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.geekhalo.lego&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;lego-starter&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;0.1.12-reliable_message_sender-SNAPSHOT&lt;span&gt;&amp;lt;/&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åï¼Œåœ¨æ•°æ®åº“ä¸­æ–°å¢æœ¬åœ°æ¶ˆæ¯è¡¨ï¼Œå…·ä½“sqlå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;create&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â test_message&lt;br/&gt;(&lt;br/&gt;Â Â Â Â &lt;span&gt;id&lt;/span&gt;Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;bigint&lt;/span&gt;Â auto_incrementÂ primaryÂ &lt;span&gt;key&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â orderlyÂ Â Â Â Â Â &lt;span&gt;tinyint&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;æ˜¯å¦ä¸ºé¡ºåºæ¶ˆæ¯&#x27;&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â topicÂ Â Â Â Â Â Â Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;64&lt;/span&gt;)Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;MQÂ topic&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â sharding_keyÂ &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;ShardingKeyï¼Œç”¨äºé€‰æ‹©ä¸åŒçš„Â partition&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â tagÂ Â Â Â Â Â Â Â Â Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;MessageÂ TagÂ ä¿¡æ¯&#x27;&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â msg_idÂ Â Â Â Â Â Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;64&lt;/span&gt;)Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;MsgÂ IDÂ åªæœ‰å‘é€æˆåŠŸåæ‰æœ‰æ•°æ®&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â msg_keyÂ Â Â Â Â Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;64&lt;/span&gt;)Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;MSGÂ Keyï¼Œç”¨äºæŸ¥è¯¢æ•°æ®&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â msgÂ Â Â Â Â Â Â Â Â Â longtextÂ Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;è¦å‘é€çš„æ¶ˆæ¯&#x27;&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â retry_timeÂ Â Â &lt;span&gt;tinyint&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;é‡è¯•æ¬¡æ•°&#x27;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;status&lt;/span&gt;Â Â Â Â Â Â Â &lt;span&gt;tinyint&lt;/span&gt;Â Â Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;Â &lt;span&gt;comment&lt;/span&gt;Â &lt;span&gt;&#x27;å‘é€çŠ¶æ€:0-åˆå§‹åŒ–ï¼Œ1-å‘é€æˆåŠŸï¼Œ2-å‘é€å¤±è´¥&#x27;&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â create_timeÂ Â datetimeÂ Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â Â Â update_timeÂ Â datetimeÂ Â Â Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;index&lt;/span&gt;Â idx_update_time_status(update_time,Â &lt;span&gt;status&lt;/span&gt;)&lt;br/&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦ä¸€ä¸ªæ‰§è¡Œæ¶ˆæ¯å‘é€é€»è¾‘çš„ &lt;code&gt;MessageSender&lt;/code&gt;ï¼Œä¸ºäº†æµ‹è¯•æ–¹ä¾¿ï¼Œå…ˆè¿›è¡Œ Mockï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Component&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Getter&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;TestMessageSender&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;MessageSender&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â errorÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â Lists.newArrayList();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;send&lt;/span&gt;&lt;span&gt;(MessageÂ message)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;receiveÂ messageÂ {}&quot;&lt;/span&gt;,Â message);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;this&lt;/span&gt;.error){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â RuntimeException();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.messages.add(message);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â String.valueOf(RandomUtils.nextLong());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;clean&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.messages.clear();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;markError&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.errorÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;cleanError&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.errorÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæ–°å»º &lt;code&gt;LocalTableBasedReliableMessageConfiguration&lt;/code&gt; å¯¹æœ¬åœ°æ¶ˆæ¯è¡¨è¿›è¡Œé…ç½®ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LocalTableBasedReliableMessageConfiguration&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;LocalTableBasedReliableMessageConfigurationSupport&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â DataSourceÂ dataSource;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â MessageSenderÂ messageSender;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â DataSourceÂ &lt;span&gt;dataSource&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;this&lt;/span&gt;.dataSource;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â StringÂ &lt;span&gt;messageTable&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;test_message&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â MessageSenderÂ &lt;span&gt;createMessageSend&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;this&lt;/span&gt;.messageSender;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ï¼ŒåŒ…æ‹¬ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç»§æ‰¿è‡ª &lt;code&gt;LocalTableBasedReliableMessageConfigurationSupport&lt;/code&gt;ï¼Œç”±çˆ¶ç±»å®ŒæˆåŸºæœ¬é…ç½®ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®ç° &lt;code&gt;DataSource dataSource()&lt;/code&gt; æ–¹æ³•ï¼Œè¿”å›ä¸šåŠ¡æ•°æ®æºï¼ˆå¤‡æ³¨ï¼šå¿…é¡»ä¸ä¸šåŠ¡ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®æºï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®ç° &lt;code&gt;String messageTable()&lt;/code&gt; æ–¹æ³•ï¼Œé…ç½®æœ¬åœ°æ¶ˆæ¯è¡¨è¡¨åï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®ç° &lt;code&gt;MessageSender createMessageSend()&lt;/code&gt; æ–¹æ³•ï¼Œè¿”å› &lt;code&gt;MessageSender&lt;/code&gt; å®ä¾‹ï¼Œæ‰§è¡ŒçœŸæ­£çš„æ¶ˆè´¹å‘é€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡³æ­¤ï¼Œå®Œæˆäº†æ‰€æœ‰é…ç½®å·¥ä½œï¼Œå¯ä»¥ä½¿ç”¨ç›¸å…³APIè¿›è¡Œæ¶ˆæ¯å¤„ç†ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;ReliableMessageSender#send&lt;/code&gt; åœ¨ä¸šåŠ¡æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ‰§è¡Œå¯é æ¶ˆæ¯å‘é€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;ReliableMessageCompensator#compensate&lt;/code&gt; å‘¨æœŸæ€§è°ƒåº¦ï¼Œå¯¹æœªå‘é€æˆ–å‘é€å¤±è´¥çš„æ¶ˆæ¯è¿›è¡Œè¡¥å……ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.2. æ­£å¸¸å‘é€&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ &lt;code&gt;reliableMessageSender&lt;/code&gt; çš„ send æ–¹æ³•æ‰§è¡Œå¯é æ¶ˆæ¯å‘é€ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testSuccess&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â MessageÂ messageÂ =Â buildMessage();&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageSender.send(message);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;@Transactional&lt;/code&gt; æ³¨è§£ä¿éšœ ä¸šåŠ¡é€»è¾‘ å’Œ æ¶ˆè´¹å‘é€ åœ¨åŒä¸€ä¸ªäº‹ç‰©ä¸­è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Test&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testTestSuccess&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSenderService.testSuccess();&lt;br/&gt;&lt;br/&gt;Â Â Â Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.getMessages();&lt;br/&gt;Â Â Â Â Assertions.assertTrue(CollectionUtils.isNotEmpty(messages));&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ–¹æ³•æˆåŠŸæ‰§è¡Œåï¼Œ&lt;code&gt;TestMessageSender&lt;/code&gt; æ”¶åˆ°æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.3. å¼‚å¸¸å›æ»š&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸šåŠ¡æ‰§è¡Œå¤±è´¥ï¼Œäº‹åŠ¡è‡ªåŠ¨å‘ç”Ÿå›æ»šï¼Œä¸ä¼šè§¦å‘æ¶ˆæ¯å‘é€ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testError&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â MessageÂ messageÂ =Â buildMessage();&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageSender.send(message);&lt;br/&gt;Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â RuntimeException();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€»è¾‘å’Œ &lt;code&gt;testSuccess&lt;/code&gt; åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åœ¨æ‰§è¡Œæœ€åæŠ›å‡º &lt;code&gt;RuntimeException&lt;/code&gt;ï¼Œè§¦å‘äº‹åŠ¡å›æ»šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Test&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testTestError&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;boolean&lt;/span&gt;Â errorÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSenderService.testError();&lt;br/&gt;Â Â Â Â }&lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e){&lt;br/&gt;Â Â Â Â Â Â Â Â errorÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Assertions.assertTrue(error);&lt;br/&gt;&lt;br/&gt;Â Â Â Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.getMessages();&lt;br/&gt;Â Â Â Â Assertions.assertTrue(CollectionUtils.isEmpty(messages));&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹åŠ¡å›æ»šï¼Œ&lt;code&gt;TestMessageSender&lt;/code&gt; æœªæ”¶åˆ°æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.4. ç›´æ¥å‘é€ï¼ˆä¸å»ºè®®ï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœ &lt;code&gt;ReliableMessageSender#send &lt;/code&gt;æœªè¿è¡Œåœ¨äº‹åŠ¡å†…ï¼Œæ–¹æ³•è°ƒç”¨æ—¶ä¼šç›´æ¥å‘é€æ¶ˆæ¯ï¼Œä¸èƒ½åšåˆ°ä¸šåŠ¡æ“ä½œå’Œæ¶ˆæ¯å‘é€çš„å¼ºä¸€è‡´ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testNoTransaction&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â MessageÂ messageÂ =Â buildMessage();&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageSender.send(message);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testNoTransactionError&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â MessageÂ messageÂ =Â buildMessage();&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageSender.send(message);&lt;br/&gt;Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â RuntimeException();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ä¹‹å‰ä»£ç ç›¸æ¯”ï¼Œåªæ˜¯ç§»é™¤äº† &lt;code&gt;@Transaction&lt;/code&gt; æ³¨è§£ï¼Œå¯¼è‡´æ–¹æ³•æ— æ³•å—åˆ°äº‹åŠ¡çš„ä¿æŠ¤ã€‚
æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Test&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;testNoTransaction&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSenderService.testNoTransaction();&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.getMessages();&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertTrue(CollectionUtils.isNotEmpty(messages));&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.clean();&lt;br/&gt;Â Â Â Â &lt;span&gt;boolean&lt;/span&gt;Â errorÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSenderService.testNoTransactionError();&lt;br/&gt;Â Â Â Â }&lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e){&lt;br/&gt;Â Â Â Â Â Â Â Â errorÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Assertions.assertTrue(error);&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.getMessages();&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertTrue(CollectionUtils.isNotEmpty(messages));&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œ&lt;code&gt;TestMessageSender&lt;/code&gt; éƒ½æ”¶åˆ°äº†æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.5. æ¶ˆæ¯è¡¥å¿&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äº MQ æœåŠ¡å™¨ä¸å¯ç”¨å¯¼è‡´æ¶ˆæ¯å‘é€å¤±è´¥ï¼Œä¸åº”è¯¥å½±å“æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘ã€‚è€Œæ˜¯å‘¨æœŸæ€§å¯¹æœªå‘é€æˆ–å‘é€å¤±è´¥çš„æ¶ˆæ¯è¿›è¡Œè¡¥å……ï¼ŒåŠæ‰§è¡Œé‡æ–°å‘é€é€»è¾‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Test&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;loadAndSend&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â å¤„ç†æ¶ˆè´¹è¡¨ä¸­å¾…å‘é€æ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageCompensator.compensate(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;120&lt;/span&gt;),Â &lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è¿›è¡ŒÂ errorÂ æ ‡è®°ï¼ŒÂ MessageSenderÂ å‘é€è¯·æ±‚ç›´æ¥å¤±è´¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.markError();&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â i&amp;lt;&lt;span&gt;10&lt;/span&gt;;i++){&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œä¸šåŠ¡é€»è¾‘ä¸å—å½±å“&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSenderService.testSuccess();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â æ¸…ç†Â errorÂ æ ‡è®°ï¼ŒMessageSenderÂ æ­£å¸¸å‘é€&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.cleanError();&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ£€æµ‹æ¶ˆæ¯è¡¨ä¸­å­˜åœ¨å¾…å¤„ç†çš„ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;LocalMessage&amp;gt;Â localMessagesÂ =Â localMessageRepository.loadNotSuccessByUpdateGt(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;60&lt;/span&gt;),Â &lt;span&gt;100&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertEquals(&lt;span&gt;10&lt;/span&gt;,Â localMessages.size());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â å¯¹æ¶ˆæ¯è¿›è¡Œè¡¥å……å¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageCompensator.compensate(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;60&lt;/span&gt;),Â &lt;span&gt;5&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â Â ç”±äºæ—¶é—´é™åˆ¶ï¼Œæœªå¤„ç†æ¶ˆæ¯è¡¨çš„ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;LocalMessage&amp;gt;Â localMessagesÂ =Â localMessageRepository.loadNotSuccessByUpdateGt(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;60&lt;/span&gt;),Â &lt;span&gt;100&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertEquals(&lt;span&gt;10&lt;/span&gt;,Â localMessages.size());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ç­‰å¾…æ—¶é—´è¶…æ—¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â TimeUnit.SECONDS.sleep(&lt;span&gt;15&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.clean();&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â å¯¹æ¶ˆæ¯è¿›è¡Œè¡¥å……å¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.reliableMessageCompensator.compensate(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;60&lt;/span&gt;),Â &lt;span&gt;50&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â Â æˆåŠŸå¤„ç†æ¶ˆæ¯è¡¨çš„å¾…å¤„ç†ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;LocalMessage&amp;gt;Â localMessagesÂ =Â localMessageRepository.loadNotSuccessByUpdateGt(DateUtils.addSeconds(&lt;span&gt;new&lt;/span&gt;Â Date(),Â -&lt;span&gt;60&lt;/span&gt;),Â &lt;span&gt;100&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertEquals(&lt;span&gt;0&lt;/span&gt;,Â localMessages.size());&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;Message&amp;gt;Â messagesÂ =Â &lt;span&gt;this&lt;/span&gt;.testMessageSender.getMessages();&lt;br/&gt;Â Â Â Â Â Â Â Â Assertions.assertTrue(CollectionUtils.isNotEmpty(messages));&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»æµ‹è¯•ç”¨ä¾‹ä¸­å¯ä»¥å¾—å‡ºå‡ ä¸ªç»“è®ºï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ¶ˆæ¯å‘é€å¼‚å¸¸ä¸å½±å“æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æœªé¿å…åˆšæ’å…¥çš„æ¶ˆæ¯è¢«è¡¥å¿é€»è¾‘æ¶ˆè´¹ï¼Œè¿‘10ç§’å†…çš„æ¶ˆæ¯ä¸ä¼šè¿›è¡Œè‡ªåŠ¨è¡¥å……ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ¶ˆæ¯æˆåŠŸå‘é€åï¼Œæ¶ˆæ¯è¡¨çŠ¶æ€è¢«æ›´æ–°ï¼Œä»è€Œé¿å…é‡å¤å‘é€ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3. è®¾è®¡&amp;amp;æ‰©å±•&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.1. æ ¸å¿ƒè®¾è®¡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4878048780487805&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eQPyBffYbudGkFvTE2XzicbiaqN8ibSFYProdmGibSNS89LTWy8z6kwxQe3y2KUtA2wziaIzzfDKibVNibcSsBnw6uytg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1640&quot; title=&quot;overview.png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸šåŠ¡æ“ä½œæµç¨‹å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åº”ç”¨ç¨‹åºæ¥æ”¶å¤–éƒ¨ä¸šåŠ¡è¯·æ±‚ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¼€å¯æœ¬åœ°äº‹åŠ¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œå°†ä¸šåŠ¡å¯¹è±¡å˜æ›´ä¿å­˜çš„ä¸šåŠ¡è¡¨ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ„å»ºäº‹ä»¶å¯¹è±¡ï¼Œå°†äº‹ä»¶å¯¹è±¡æ’å…¥åˆ°æœ¬åœ°æ¶ˆæ¯è¡¨ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æäº¤æœ¬åœ°äº‹åŠ¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è§¦å‘å‘é€æµç¨‹ï¼Œè°ƒç”¨ MQ çš„å‘é€æ¥å£ï¼Œå‘é€æ¶ˆæ¯ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯æˆåŠŸå‘é€åï¼Œæ›´æ–°æ¶ˆæ¯è¡¨çš„çŠ¶æ€ï¼Œå¹¶è¡¥å†™ msgIdï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æœ€ç»ˆç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æœ¬åœ°äº‹åŠ¡æäº¤å¤±è´¥ï¼Œä¸šåŠ¡è¡¨å’Œæ¶ˆæ¯è¡¨çš„å˜æ›´è¢«å›æ»šï¼Œä¸ä¼šè§¦å‘å‘é€é€»è¾‘ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æœ¬åœ°äº‹åŠ¡æäº¤æˆåŠŸï¼Œæ¶ˆæ¯å‘é€å¤±è´¥ï¼Œåå°å®šæ—¶å™¨ä¼šè¿›è¡Œè‡ªåŠ¨è¡¥å¿ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¡¥å¿æµç¨‹å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;Timer å‘¨æœŸæ€§è§¦å‘è¡¥å¿é€»è¾‘ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä»æ¶ˆæ¯è¡¨ä¸­åŠ è½½æœªå‘é€æˆ–å‘é€å¤±è´¥çš„æ¶ˆæ¯ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è°ƒç”¨å‘é€æ¥å£ï¼Œå°†æ¶ˆæ¯å‘é€è‡³ MQï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç³»ç»Ÿå‘é€æˆåŠŸåï¼Œæ›´æ–°æ¶ˆæ¯è¡¨çš„çŠ¶æ€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.2. åˆç†ä½¿ç”¨ TransactionSynchronizationManager&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;TransactionSynchronizationManager&lt;/code&gt; æ˜¯ Spring æ¡†æ¶æä¾›çš„ä¸€ç§ äº‹åŠ¡åŒæ­¥æœºåˆ¶ï¼Œé€šè¿‡ &lt;code&gt;registerSynchronization&lt;/code&gt; æ–¹æ³•å¯ä»¥å‘ &lt;code&gt;TransactionSynchronizationManager&lt;/code&gt; æ³¨å†Œè‡ªå®šä¹‰é€»è¾‘ï¼Œåœ¨äº‹åŠ¡æ“ä½œçš„ä¸åŒé˜¶æ®µè°ƒç”¨ä¸åŒçš„å›è°ƒå‡½æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;lego å°±æ˜¯é€šè¿‡è¯¥æœºåˆ¶é‡å†™ &lt;code&gt;afterCommit&lt;/code&gt; æ–¹æ³•ï¼Œåœ¨äº‹åŠ¡æˆåŠŸæäº¤åï¼Œè§¦å‘æ¶ˆæ¯å‘é€é€»è¾‘ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;addCallbackOrRunTask&lt;/span&gt;&lt;span&gt;(SendMessageTaskÂ sendMessageTask)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (TransactionSynchronizationManager.isSynchronizationActive())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ·»åŠ ç›‘å¬å™¨ï¼Œåœ¨äº‹åŠ¡æäº¤åè§¦å‘åç»­ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â TransactionSynchronizationÂ transactionSynchronizationÂ =Â &lt;span&gt;new&lt;/span&gt;Â TransactionSynchronizationAdapter(){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;afterCommit&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sendMessageTask.run();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â };&lt;br/&gt;Â Â Â Â Â Â Â Â TransactionSynchronizationManager.registerSynchronization(transactionSynchronization);&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;successÂ toÂ registerÂ synchronizationÂ forÂ messageÂ {}&quot;&lt;/span&gt;,Â sendMessageTask.getLocalMessage());&lt;br/&gt;Â Â Â Â }&lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ²¡æœ‰å¯ä»¥äº‹åŠ¡ï¼Œç›´æ¥è§¦å‘åç»­ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;NoÂ TransactionÂ !!!Â beginÂ toÂ runÂ taskÂ forÂ messageÂ {}&quot;&lt;/span&gt;,Â sendMessageTask.getLocalMessage());&lt;br/&gt;Â Â Â Â Â Â Â Â sendMessageTask.run();&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;NoÂ TransactionÂ !!!Â successÂ toÂ runÂ taskÂ forÂ messageÂ {}&quot;&lt;/span&gt;,Â sendMessageTask.getLocalMessage());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4. é¡¹ç›®ä¿¡æ¯&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡¹ç›®ä»“åº“åœ°å€ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;https://gitee.com/litao851025/lego&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡¹ç›®æ–‡æ¡£åœ°å€ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;https://gitee.com/litao851025/lego/wikis/support/reliable-message&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>00a6e1d6986f7bdfa032794f016e738e</guid>
<title>bilibiliåˆ†å¸ƒå¼æ•°æ®åº“æ¼”è¿›ä¹‹é“</title>
<link>https://toutiao.io/k/w18rcuv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;ä¸€ã€ä¸šåŠ¡åœºæ™¯&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å¼€å§‹è®²è§£ä¹‹å‰ï¼Œæˆ‘å…ˆä¸ºå¤§å®¶ä»‹ç»ä¸€ä¸‹Bç«™çš„ä¸šåŠ¡åœºæ™¯ã€‚Bç«™çš„ä¸šåŠ¡å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€ç‚¹æ’­ç±»ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç‚¹æ’­ç±»ä¸šåŠ¡å°±æ˜¯å¤§å®¶ç»å¸¸çœ‹çš„è§†é¢‘ä»¥åŠç¨¿ä»¶ä¹‹ç±»ç›¸å…³çš„ä¸šåŠ¡ï¼Œè¿™ç±»æ•°æ®ä½¿ç”¨åœºæ™¯çš„ç‰¹ç‚¹æœ‰ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;2ã€ç›´æ’­ç±»ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›´æ’­ç±»ä¸šåŠ¡å¯¹åº”Bç«™çš„S12ã€è·¨æ™šã€æ‹œå¹´ç¥­ç­‰ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;çƒ­ç‚¹æ•°æ®ï¼Œå¦‚S12çš„ä¸»æ’­æˆ¿é—´&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¹³æ—¶æµé‡ä¸­ç­‰ï¼Œå¤§å‹ç›´æ’­æµé‡ä¼šå‘ˆç°çˆ†ç‚¸æ€§å¢é•¿&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯ç”¨æ€§è¦æ±‚é«˜&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;3ã€æ¸¸æˆç±»ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;4ã€ç”µå•†ç±»ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚Bç«™æœ¬èº«çš„ä¼šå‘˜è´­ï¼Œè¿™ç±»ä¸šåŠ¡çš„è¦æ±‚å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;çƒ­ç‚¹æ•°æ®ï¼Œé›†ä¸­åœ¨ç§’æ€åœºæ™¯åŠçƒ­é—¨ç•ªå‰§&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¹³æ—¶æµé‡ä¸­ç­‰ï¼Œçƒ­é—¨ç•ªå‰§åŠå•†å“ä¼šå‘ˆç°çˆ†ç‚¸æ€§å¢é•¿&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯ç”¨æ€§è¦æ±‚é«˜&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;5ã€æ”¯ä»˜ç±»ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;äºŒã€æ¶æ„æ¼”è¿›&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»‹ç»å®ŒBç«™çš„ä¸šåŠ¡åœºæ™¯ä¹‹åï¼Œæ¥ä¸‹æ¥æ˜¯Bç«™æ•´ä½“æ•°æ®åº“çš„æ¶æ„æ¼”è¿›å†å²ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€1.0é˜¶æ®µ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHbl8GOIS8RXdJXXdxTAro52tPEhwHa8Mwk8XuDlZjib1nEEdslDAoSQw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.0é˜¶æ®µå¯¹äºæ‰€æœ‰äº’è”ç½‘å…¬å¸è€Œè¨€ï¼Œå…¶å®éƒ½æœ‰ç±»ä¼¼çš„æ¶æ„â€”â€”ç®€å•çš„ä¸»ä»ï¼Œæ‰€æœ‰æµé‡é›†ä¸­åœ¨ä¸€ä¸ªä¸»åº“ä¸Šã€‚å¦å¤–ï¼Œä¸ä»¥å‰ä½¿ç”¨çš„å•†ä¸šæ•°æ®åº“ç±»ä¼¼åœºæ™¯â€”â€”å•å®ä¾‹å¤šåº“ã€‚è¿™ç§æ¶æ„åœ¨å…¬å¸åˆšèµ·æ­¥çš„æ—¶å€™æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œä¾¿äºä¸šåŠ¡çš„å¿«é€Ÿè¿­ä»£ï¼Œä½†æ˜¯éšç€æµé‡çš„å¢é•¿ï¼Œä¼šå‡ºç°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰å•æœºçš„æ€§èƒ½ç“¶é¢ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡å™¨çš„CPUã€å†…å­˜ã€å­˜å‚¨çš„é™åˆ¶æˆ‘ä»¬ä¸å¯èƒ½ä¸€ç›´å‚ç›´å‡çº§ï¼Œä»è€Œå‡ºç°äº†æˆ‘ä»¬ç¬¬ä¸€ä¸ªæ¶æ„æ¼”è¿›çš„å°ç‰ˆæœ¬â€”â€”è¯»å†™åˆ†ç¦»å’Œä¸€ä¸»å¤šä»ï¼Œæ­¤åœºæ™¯æœ‰ä¸¤ä¸ªæ ¸å¿ƒè¦æ±‚ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªè¦æ±‚çš„åœºæ™¯å¯ä»¥å¾ˆå¥½åœ°è§„é¿å› MySQLä¸»ä»å¤åˆ¶å­˜åœ¨çš„å»¶è¿Ÿæ‰€å¸¦æ¥çš„é—®é¢˜ï¼ŒåŒæ—¶åˆå¯ä»¥æ»¡è¶³ä¸šåŠ¡å¿«é€Ÿå¢é•¿å¸¦æ¥çš„æµé‡å‹åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰å„ä¸šåŠ¡äº’ç›¸å½±å“&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå„ä¸ªä¸šåŠ¡ä¹‹é—´çš„äº’ç›¸å½±å“æ¨åŠ¨äº†æˆ‘ä»¬æ¶æ„çš„ç¬¬äºŒä¸ªå°ç‰ˆæœ¬å‡ºç°â€”â€”æŒ‰ç…§ä¸šåŠ¡åº“è¿›è¡Œè¿ç§»æ‹†åˆ†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHRiaJhVjibYKeoFNaNiaWzjsKwWCvMxap6b7vVoV0edDPDb6ECgUOknVPQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŸºäºè¯»å†™åˆ†ç¦»å’Œä¸šåŠ¡åº“ç»´åº¦çš„æ‹†åˆ†è¿˜æ˜¯æ— æ³•é¿å…å„ä¸ªåŠŸèƒ½æ¨¡å—çš„äº’ç›¸å½±å“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶æ„1.0é˜¶æ®µçš„ç¬¬ä¸‰ä¸ªå°ç‰ˆæœ¬åº”è¿è€Œç”Ÿâ€”â€”åŸºäºä¸šåŠ¡çš„åŠŸèƒ½ç»´åº¦è¿›è¡Œæ‹†åˆ†ï¼Œå°†ä¸€ä¸ªXåº“æ‹†åˆ†ä¸ºnä¸ªåº“ï¼Œæ‹†åˆ†å®Œä¹‹ååˆ†å¸ƒåœ¨ä¸åŒçš„å®ä¾‹ã€‚åœ¨æ¯ä¸ªä¸åŒçš„å®ä¾‹ä¸‹ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸åŒæ•°é‡çš„ä»åº“æ”¯æ’‘ä¸šåŠ¡çš„æµé‡å¢é•¿ï¼Œä»¥æ»¡è¶³å¤§éƒ¨åˆ†åœºæ™¯çš„ä¸šåŠ¡éœ€æ±‚ã€‚ç°åœ¨Bç«™ä¹Ÿæœ‰å¾ˆå¤šä¸šåŠ¡é‡‡ç”¨ç±»ä¼¼çš„æ¶æ„ï¼Œé€šè¿‡è¿›è¡Œå‚ç›´ä¸šåŠ¡æ‹†åˆ†æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡å¢é•¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;2ã€2.0é˜¶æ®µ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHNpt8JibEwXqpbIrRHjY9Y1hmspQbRT6x6zQWTl2bz8NUhRtsmviaIKqA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¶æ„2.0é˜¶æ®µâ€”â€”æ°´å¹³æ‹†åˆ†ã€‚æˆç†Ÿã€ç¨³å®šã€å®šåˆ¶çš„Proxyæ˜¯æ°´å¹³æ‹†åˆ†çš„åˆ©å™¨ï¼Œè€Œä¸€ä¸ªç¬¦åˆè¦æ±‚çš„Proxyæ˜¯éœ€è¦æ—¶é—´è¿›è¡Œæ‰“ç£¨ã€‚ä¸ºæ»¡è¶³ä¸šåŠ¡çš„å¿«é€Ÿå‘å±•ï¼Œæˆ‘ä»¬é€‰æ‹©åœ¨ä¸šåŠ¡å±‚å®ç°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨ä»£ç å±‚å®ç°è·¯ç”±ï¼Œè™½ç„¶é…ç½®æ—¶ä¼šæ¯”è¾ƒç¹çï¼Œä½†èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ï¼Œå¾ˆå¤šäº’è”ç½‘å…¬å¸ä¹Ÿæœ‰ç±»ä¼¼çš„é˜¶æ®µã€‚åœ¨ä¸šåŠ¡ä¾§è¿›è¡Œæ°´å¹³æ‹†åˆ†ä¹‹åï¼Œæˆ‘ä»¬å…¶å®é¢ä¸´ç€ä¸€ä¸ªæ–°çš„é—®é¢˜â€”â€”&lt;strong&gt;è·¨å®ä¾‹æŸ¥è¯¢&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;3ã€3.0é˜¶æ®µ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰ç¬¬ä¸€ä¸ªé˜¶æ®µ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEH6TvuusCqHjnaajWYialHGkCYHETicF0oG94qJYhHZnc4sHSTGyff2Zug/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿›å…¥Bç«™æ¼”è¿›çš„3.0é˜¶æ®µï¼Œæˆ‘ä»¬å¼•å…¥äº†TiDBï¼Œå°†ä¹‹å‰ä¸šåŠ¡å±‚é¢çš„åˆ†ç‰‡æ•°æ®é€šè¿‡TiDBæœ¬èº«çš„DTSåŒæ­¥åˆ°TiDBé›†ç¾¤ï¼Œä»è€Œæ»¡è¶³äº†å¤§éƒ¨åˆ†ä¸šåŠ¡çš„æŸ¥è¯¢éœ€æ±‚ã€‚åŒæ—¶æˆ‘ä»¬åœ¨éƒ¨åˆ†åœºæ™¯çš„ä¸šåŠ¡ä¸‹ç›´æ¥å°è¯•ä½¿ç”¨TiDBã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¼•å…¥TiDBä¹‹åï¼ŒåŸºäºBç«™çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œäº†æœ¬åœ°åŒ–å®šåˆ¶ã€‚ç”±äºTiDB Serveræ˜¯æ— çŠ¶æ€çš„ï¼Œè€Œå®˜æ–¹å¯¹äºå¦‚ä½•è·¯ç”±åˆ°æ¯ä¸ªèŠ‚ç‚¹ä¹Ÿæ²¡æœ‰ä¸€ä¸ªé€šç”¨çš„è§£å†³æ–¹æ¡ˆã€‚å› æ­¤æˆ‘ä»¬ç»“åˆ Bç«™çš„åŸºç¡€å¹³å°èƒ½åŠ›ï¼Œå°†TiDB Serverå…¨éƒ¨åœ¨PaaSä¸Šè¿›è¡Œå®¹å™¨åŒ–ï¼ŒåŒæ—¶æŠŠæˆ‘ä»¬çš„æœåŠ¡å‘ç°èƒ½åŠ›å’ŒTiDB Serverè¿›è¡Œæ•´åˆï¼Œå¹¶å¯¹ç›¸åº”è¯­è¨€çš„SDKè¿›è¡Œæ”¹é€ ï¼Œä»è€Œå®ç°äº†TiDB Serverçš„è´Ÿè½½å‡è¡¡ï¼Œè§£å†³äº†TiDB Serveræœ¬èº«çš„ç“¶é¢ˆï¼Œå¦‚ï¼šæ•…éšœåˆ‡æ¢ã€ä¸šåŠ¡å¿«é€Ÿæ„ŸçŸ¥èŠ‚ç‚¹å˜åŒ–ã€è¿æ¥æ•°ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰ç¬¬äºŒä¸ªé˜¶æ®µ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHXw5BmeCbic6C2raibuI9agSe1ribFkHysUUpJgOAyzwibMjppQRKUjHibBA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ°äº†3.0çš„ç¬¬äºŒä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å·²ç»æŠŠProxyæ‰“ç£¨ä¸ºä¸€ä¸ªå¾ˆæˆç†Ÿçš„äº§å“ï¼ŒåŒæ—¶ä¸ºæ»¡è¶³æ”¯æ’‘äº†å¼‚åœ°å¤šæ´»çš„åœºæ™¯ï¼Œæˆ‘ä»¬è¿˜å®šåˆ¶äº†DTSï¼ŒæŠŠæˆ‘ä»¬æ•°æ®åº“çš„éƒ¨ç½²ä»åŒåŸå¤šæ´»ç›´æ¥åšåˆ°äº†å¼‚åœ°å¤šæ´»ï¼Œä¹Ÿå°±æ˜¯ä¸¤åœ°ä¸‰ä¸­å¿ƒçš„æ¶æ„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œåœ¨DTSæ–¹é¢ï¼Œæˆ‘ä»¬ä¹ŸåŸºäºBç«™æœ¬èº«æŠ€æœ¯æ ˆçš„ç‰¹ç‚¹åšäº†å¤§é‡çš„å®šåˆ¶ï¼Œä¸å…¶å®ƒå…¬å¸å¼€æºçš„ç»„ä»¶æœ‰éƒ¨åˆ†ä¸åŒã€‚ä¾‹å¦‚å†²çªæ£€æµ‹ï¼Œæˆ‘ä»¬æä¾›äº†å¤šç§å¯é€‰æ‹©çš„è§„åˆ™ï¼ŒåŒ…æ‹¬åŸºäºç‰¹å®šå­—æ®µçš„ä»¥åŠå…¨å­—æ®µåŒ¹é…çš„ï¼ŒåŒæ—¶å¯¹äºå†²çªå­—æ®µæ•°æ®çš„Ræ•°æ®å¤„ç†ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæœ‰ä¸¤ç§é€”å¾„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶æ¬¡ï¼Œåœ¨ä¸»ä»åˆ‡æ¢çš„æ—¶å€™ï¼Œç”±äºä¸¤åœ°ä¸‰ä¸­å¿ƒè¦ä¿è¯æ•°æ®å¯ä»¥è¿›è¡Œæ¥å›åˆ‡æ¢ï¼Œåˆ‡æ¢æœŸé—´è™½ç„¶æ˜¯å…¨å±€è¿›è¡Œï¼Œä½†æ˜¯ä¸€äº›è¾¹ç¼˜åœºæ™¯ä¸‹ä»ç„¶ä¼šå­˜åœ¨æ•°æ®å†²çªçš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬ä¹Ÿæä¾›äº†ä¸€ä¸ªåœ¨ä¸»ä»åˆ‡æ¢ä¸‹æ•°æ®å†²çªä»¥åŠç›¸å…³ä¿¡æ¯çš„æ‰“æé˜Ÿåˆ—ï¼Œå®ç°äºŒæ¬¡å¤„ç†çš„åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸­é—´ DTSæä¾›çš„ä¸€ä¸ªèƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;Proxyçš„èƒ½åŠ›ä¸å„å®¶ä¸»æµçš„åŠŸèƒ½æ˜¯ç±»ä¼¼çš„ï¼Œéƒ½èƒ½å¤Ÿæ”¯æŒè¯»å†™åˆ†ç¦»ã€åˆ†åº“åˆ†è¡¨ã€é™æµã€é»‘ç™½åå•ç­‰ã€‚å¯¹äºProxyçš„éƒ¨ç½²ï¼Œæˆ‘ä»¬é‡‡å–äº†ä¸¤ç§æ–¹æ¡ˆï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;ä¸‰ã€æ¶æ„è®¾è®¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥ä¸ºå¤§å®¶ä»‹ç»çš„æ˜¯Bç«™å¯¹äºä¸åŒæ•°æ®é‡çš„åœºæ™¯çš„æ¶æ„è®¾è®¡ç†å¿µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€å¤§å‹ç›´æ’­æ´»åŠ¨&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•´ä½“æ¦‚æ‹¬èµ·æ¥æœ‰ä»¥ä¸‹å››ç§ç±»å‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰é«˜å¹¶å‘å†™å…¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é«˜å¹¶å‘å†™å…¥è€ƒéªŒçš„æ˜¯ä¸»åº“çš„å†™å…¥èƒ½åŠ›å’Œä»åº“çš„å¤åˆ¶èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰é«˜å¹¶å‘æŸ¥è¯¢&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é«˜å¹¶å‘æŸ¥è¯¢ä¸€èˆ¬éƒ½ä¼šå¼•å…¥ç¼“å­˜çš„èƒ½åŠ›ï¼Œç¼“å­˜ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ç§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰å®æ—¶æ’åº&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®æ—¶æ’åºæœ€ç›´è§‚çš„åœºæ™¯å°±æ˜¯è§‚ä¼—åœ¨ç›´æ’­é—´åˆ·ç¤¼ç‰©çš„æ—¶å€™å±•ç¤ºå‡ºæ¥çš„åæ¬¡ï¼Œä¸ºä¿è¯æ—¶æ•ˆæ€§ä»¥åŠé¡ºåºï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé‡‡ç”¨Redisæœ‰åºé›†åˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰é¢„æœŸå¤–çªå‘æµé‡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¢„æœŸå¤–çªå‘æµé‡å¯¹äºæˆ‘ä»¬è€Œè¨€è€ƒéªŒçš„ä¸»è¦æ˜¯åº”ç”¨å±‚çš„å¿«é€Ÿæ‰©å®¹ä»¥åŠå¦‚ä½•å¯¹æµé‡è¿›è¡Œå‰Šå³°ï¼ŒåŒæ—¶ä¿è¯æ•°æ®åº“æ¯”è¾ƒå¹³ç¨³åœ°å†™å…¥ï¼Œä¹Ÿå°±æ˜¯å¼‚æ­¥å†™å…¥çš„åœºæ™¯ã€‚ä»Šå¹´æœ€æ˜æ˜¾çš„é¢„æœŸå¤–çªå‘æµé‡åœºæ™¯æ˜¯ä½©æ´›è¥¿äº‹ä»¶ï¼Œæ¯”æˆ‘ä»¬å¹³å¸¸çš„æµé‡å¤§äº†å°†è¿‘5å€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;2ã€ç”µå•†å¤§ä¿ƒ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•´ä½“ä¸Šå½’çº³ä¸‹æ¥æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰ç§’æ€åœºæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç§’æ€åœºæ™¯ä¸»è¦æ¶‰åŠåˆé€‚çš„é€‰å‹å’Œè¯·æ±‚æœ€ç®€åŒ–ã€‚åŸºäºå…¬å¸çš„åŸºå»ºè¿›è¡Œå®šåˆ¶ï¼Œæ‰å¯ä»¥å®ç°æœ€å¥½çš„æ€§èƒ½å’Œä½“éªŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰è®¢å•&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è®¢å•æœ‰å¾ˆæ˜æ˜¾çš„å†·çƒ­æ•°æ®ç‰¹å¾ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„è®¢å•ä¼šè¢«è¿›è¡Œä¸€å¹´å‰ã€ä¸¤å¹´å‰ä»¥åŠå®æ—¶è®¢å•çš„ä¸åŒæ‹†åˆ†ã€‚è¿™å—å¯¹äºæ•°æ®åº“è€Œè¨€è€ƒéªŒçš„æ˜¯æ•°æ®çš„å½’æ¡£åŠæŸ¥è¯¢èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰åº“å­˜&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åº“å­˜ä¸ç§’æ€åœºæ™¯å­˜åœ¨ä¸€å®šå…³è”ï¼Œä½†å¹¶ä¸æ˜¯å®Œå…¨ç›¸å…³ã€‚ç§’æ€åœºæ™¯ä¼šæ¶‰åŠåˆ°åº“å­˜ï¼Œä½†æ˜¯åº“å­˜åœ¨å¹³å¸¸ä¹Ÿä¼šä¸€ç›´ä½¿ç”¨ï¼Œå› æ­¤ä¸¤è€…ä¸èƒ½è¿›è¡Œå¼ºæŒ‚é’©ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åº“å­˜åœºæ™¯ä¸»è¦åœ¨äºä¿è¯å‡åº“å­˜çš„å‡†ç¡®æ€§ï¼Œä»¥åŠå‡å°‘ç”¨æˆ·ç«¯åœ¨è®¿é—®æ—¶å¯èƒ½å­˜åœ¨çš„å†²çªï¼Œå¦å¤–æ˜¯ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯åœ¨ç§’æ€å’Œå‡åº“å­˜æ—¶ä¸èƒ½å‡ºç°è¶…å–çš„æƒ…å†µï¼Œé¿å…å¯¹å•†å®¶é€ æˆäºæœ¬ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰æµé‡å‰Šå³°&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æµé‡å‰Šå³°ä¸å¤§å‹ç›´æ’­èµ›äº‹é‡åˆ°çš„çªå‘æµé‡æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºè¿™ä¸€éƒ¨åˆ†æµé‡æ˜¯æˆ‘ä»¬å·²çŸ¥çš„ï¼Œå·²ç»é¢„ä¼°å¥½ä¼šæœ‰å¤šå°‘æµé‡ï¼Œå› æ­¤æˆ‘ä»¬ä¸€èˆ¬ä¼šè¿›è¡Œé˜Ÿåˆ—å¤„ç†ä»¥åŠåšåˆ†å±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‰é¢ä»‹ç»äº†å¤§å‹ç›´æ’­èµ›äº‹å’Œç”µå•†å¤§ä¿ƒä¸¤ä¸ªå…¸å‹åœºæ™¯ï¼Œæˆ‘ä»¬åšäº†ä¸€éƒ¨åˆ†æ•°æ®åº“æ¶æ„è®¾è®¡ä»¥åŠä¸åº”ç”¨ç«¯çš„è”åŠ¨ã€‚ä¸‹é¢ä»‹ç»æˆ‘ä»¬çœŸæ­£è¿›è¡Œæ•°æ®åº“æ¶æ„è®¾è®¡æ—¶ï¼Œéœ€è¦è€ƒè™‘å“ªäº›å…³é”®ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;3ã€æ•°æ®&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆéœ€è¦è€ƒè™‘æ•°æ®ï¼ŒæŒ‰ç…§æˆ‘ä»¬æ•°æ®ç±»å‹çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰é…ç½®å‹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é…ç½®å‹ç±»ä¼¼äºæˆ‘ä»¬çš„æ•°æ®å­—å…¸ä»¥åŠä¸€äº›æƒé™é…ç½®ï¼Œç‰¹ç‚¹åŒ…æ‹¬ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœéœ€è¦å¯¹é…ç½®å‹æ•°æ®è¿›è¡Œé«˜å¹¶å‘è®¿é—®ï¼Œåªéœ€è¦åŠ ç¼“å­˜å³å¯ï¼Œä¸éœ€è¦åšè¿‡å¤šå¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰æ—¥å¿—å‹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—¥å¿—å‹æ•°æ®åŒ…æ‹¬äº¤æ˜“æµæ°´ã€è®¢å•çŠ¶æ€ç­‰ï¼Œæˆ‘è®¤ä¸ºæ—¥å¿—å‹æ•°æ®ä¹Ÿå¯ä»¥ç§°ä¸ºæµæ°´å‹æ•°æ®ï¼Œç‰¹ç‚¹åŒ…æ‹¬ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;é‡å¤§ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ— æ³•é¿å…ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦è®°å½•ä¸­é—´å„éƒ¨çŠ¶æ€ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ— äº‹åŠ¡ä¾èµ–ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æˆ‘ä»¬åç»­è¿›è¡Œçš„æ›´å¤šæ˜¯æŸ¥è¯¢è€Œå¾ˆå°‘æ›´æ”¹ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å†™å¤šè¯»å°‘ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¯»çš„æ¯”ä¾‹ä¸€èˆ¬æ˜¯å†™çš„å‡ ååˆ†ä¹‹ä¸€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰çŠ¶æ€å‹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®é‡ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸ä¸šåŠ¡æœ‰å…³ï¼ŒçŠ¶æ€å‹æ•°æ®å¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬çš„è®¢å•ï¼Œä»¥åŠç›´æ’­åœºæ™¯é‡Œåˆ·ç¤¼ç‰©çš„æ‰£å‡æƒ…å†µï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;äº‹åŠ¡å¼ºä¾èµ–ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¿…é¡»ä¿è¯ç”¨æˆ·ä¸‹å•æˆåŠŸä¹‹åçš„åº“å­˜æ‰£å‡ï¼Œä»¥åŠç”¨æˆ·ç»™ä¸»æ’­æ‰“èµä¹‹åå¹³å°çš„æ‰£å‡å’Œä¸»æ’­æ”¶åˆ°çš„ç¤¼ç‰©ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;è¯»å¤šå†™å¤šï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸ç”¨æˆ·çš„è¿›ç¨‹æŒ‚é’©ï¼Œå†™å’Œè¯»çš„åœºæ™¯éƒ½æ¯”è¾ƒå¤šã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»¼ä¸Šæ‰€è¿°ï¼Œå¯¹äºæ•°æ®ä¸€èˆ¬é€šè¿‡æ•°æ®é‡ã€äº‹åŠ¡å’Œè¯»å†™è¯·æ±‚ä¸‰ä¸ªç»´åº¦è¿›è¡Œåˆ¤æ–­ï¼Œä»è€Œå¯¹æ•°æ®è¿›è¡Œè§„æ•´å’Œæ¢³ç†ï¼Œå¯¹æ¯”ä¸Šè¿°æˆ‘åˆ—å‡ºçš„ä¸‰ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥å¾—å‡ºæ•°æ®çš„ç‰¹å®šç±»å‹ã€‚æœ‰äº†æ•°æ®ç±»å‹ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘è¿›è¡Œä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œå³ä¸šåŠ¡å¯¹æ•°æ®åº“çš„è¦æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;4ã€ä¸šåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸šåŠ¡å¯¹æ•°æ®åº“é€‰å‹çš„è¦æ±‚ç›¸å¯¹è€Œè¨€æ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬äº‹åŠ¡ã€æ€§èƒ½ã€æ‰©ç¼©å®¹ã€é«˜å¯ç”¨ã€è¿ç§»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰äº‹åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äº‹åŠ¡çš„è¦æ±‚éœ€è¦åŸºäºæ•°æ®ç±»å‹è¿›è¡Œåˆ¤æ–­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰æ€§èƒ½&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸€äº›ä¸šåŠ¡å¯¹è€—æ—¶æ¯”è¾ƒæ•æ„Ÿï¼Œä¹Ÿå°±æ˜¯æ€§èƒ½è¦æ±‚æ¯”è¾ƒé«˜ï¼Œè¦æ±‚å¿…é¡»åœ¨å¤šå°‘æ¯«ç§’ä»¥å†…å°†æ•°æ®ç»“æœåé¦ˆå›æ¥ã€‚é‚£ä¹ˆåœ¨è¿›è¡Œæ•°æ®åº“é€‰å‹æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘è¯¥æ•°æ®åº“èƒ½å¦æ‰¿è½½è¿™ä¹ˆé«˜çš„æ€§èƒ½ååº”ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰æ‰©ç¼©å®¹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¸šåŠ¡è¦ä¸Šä¸€ä¸ªæ–°ä¸šåŠ¡ï¼Œè¦è€ƒè™‘æ»¡è¶³ä¸€å¹´è‡³ä¸¤å¹´çš„å¢é•¿çš„éœ€æ±‚ï¼Œå› æ­¤æ•°æ®åº“çš„æ‰©ç¼©å®¹èƒ½åŠ›éå¸¸é‡è¦ã€‚å¦‚æœä¹‹å‰ç”³è¯·çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯ä¸šåŠ¡å‘å±•æ²¡æœ‰è¾¾åˆ°é¢„æœŸï¼Œé‚£ä¹ˆæ•°æ®åº“éœ€è¦ç¼©å®¹ï¼Œæ‰€ä»¥è¿™ä¸€æ–¹é¢å¯¹äºæ•°æ®åº“é€‰å‹ä¹Ÿæ˜¯æœ‰è¦æ±‚çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰é«˜å¯ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é«˜å¯ç”¨éœ€è¦è¿›è¡Œå–èˆï¼Œå¦‚æœè¦ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ï¼Œä»¥åŠæ€§èƒ½çš„ç¨³å®šæ€§ï¼Œå¿…é¡»èˆå¼ƒä¸€éƒ¨åˆ†ä¸œè¥¿ï¼Œå…·ä½“è¦ä¸ä¸šåŠ¡æ²Ÿé€šå’Œåè°ƒï¼Œä»è€Œä¿è¯å®é™…æ•ˆæœç¬¦åˆä¸šåŠ¡è¦æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;5ï¼‰è¿ç§»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿ç§»ä¸ä»…æ˜¯ä¸šåŠ¡ä»£ç çš„æ”¹é€ ï¼Œä»Aç±»æ•°æ®åº“è¿åˆ°Bç±»æ•°æ®åº“è¿˜éœ€è¦è€ƒè™‘æ•°æ®åº“çš„è¿ç§»æˆæœ¬ï¼Œä»¥åŠèƒ½å¦æ”¯æ’‘åŒæ„å’Œå¼‚æ„ã€‚å¯¹äºä¸šåŠ¡è€Œè¨€ï¼Œä¸šåŠ¡æ›´å¤šè€ƒè™‘çš„æ˜¯è¿ç§»å¸¦æ¥çš„ä¸šåŠ¡æ”¹é€ æˆæœ¬ï¼Œä¸€èˆ¬ä¸šåŠ¡ä¼šæ¯”è¾ƒå–œæ¬¢åè®®æ— å˜æ›´ã€åŸºç¡€æ“ä½œè¯­æ³•ä¸å˜çš„å¹³æ»‘è¿ç§»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;5ã€æ•°æ®åº“&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“æˆ‘ä»¬è¦è€ƒè™‘çš„å…³é”®ç‚¹æœ‰ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰äº‹åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä½ æƒ³è¦å¼ºäº‹åŠ¡ä¾èµ–ï¼Œå¯ä»¥ç”¨ä¼ ç»Ÿå‹æ•°æ®åº“ï¼Œä»¥åŠç°æœ‰çš„NewSQLï¼Œæ¯”å¦‚TiDBã€OceanBaseç­‰ã€‚å¦‚æœä¸è€ƒè™‘äº‹åŠ¡ï¼Œæ•°æ®åº“é€‰æ‹©ä¼šæ›´å¤šï¼Œæ¯”å¦‚Redisã€MongoDBï¼Œä¸»è¦å–å†³äºå…·ä½“çš„ä½¿ç”¨åœºæ™¯å’Œæ•°æ®åº“è¦æ‰¿æ‹…çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰æ€§èƒ½&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¯ä¸€ç§æ•°æ®åº“çš„æ€§èƒ½ä¸åŒï¼Œä»¥å…³ç³»å‹æ•°æ®åº“å’Œéå…³ç³»å‹æ•°æ®åº“ä¸ºä¾‹ï¼ŒMongoDBå’ŒMySQLä¸¤è€…çš„æ€§èƒ½å·®åˆ«æ˜¯å¾ˆå¤§çš„ï¼Œä¾ç„¶å–å†³äºæ•°æ®åº“è¦æ‰¿æ‹…çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰æ‰©ç¼©å®¹ã€é«˜å¯ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ‰©ç¼©å®¹å’Œé«˜å¯ç”¨ä¸éœ€è¦è¿›è¡Œè¿‡å¤šçš„è§£é‡Šï¼Œå› ä¸ºé«˜å¯ç”¨æ˜¯DBAé€‰æ‹©æ•°æ®åº“çš„ç¡¬æ€§è¦æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰è¿ç§»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ä¸€éƒ¨åˆ†çš„è¿ç§»ä¸ä¸šåŠ¡çš„è¿ç§»å­˜åœ¨å·®å¼‚ï¼Œä¸šåŠ¡çš„è¿ç§»ä¸»è¦è€ƒè™‘ä¸šåŠ¡æ”¹é€ æˆæœ¬ï¼Œæ•°æ®åº“çš„è¿ç§»éœ€è¦è€ƒè™‘ä»¥ä¸‹ä¸‰ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®æ˜¯å¦ä¸€è‡´&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®è¿ç§»æ—¶æ˜¯å¦æœ‰å¢é‡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®è¿ç§»ä¼šå¯¹ä¸šåŠ¡äº§ç”Ÿä»€ä¹ˆå½±å“&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¸šåŠ¡å…è®¸ç›´æ¥ä¸€åˆ€åˆ‡ï¼Œé‚£ä¹ˆæ–¹æ¡ˆåˆ™æ¯”è¾ƒç®€å•ï¼›å¦‚æœä¸šåŠ¡è¦æ±‚æ— æŸï¼Œé‚£ä¹ˆå¦‚ä½•è¯„ä¼°æ–¹æ¡ˆä¹Ÿæ˜¯éœ€è¦å¤§å®¶è¿›è¡Œè€ƒé‡çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;5ï¼‰å¤‡ä»½/è¿˜åŸ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœå¯èƒ½å‡ºç°æ•°æ®éœ€è¦æ¢å¤çš„åœºæ™¯ï¼Œåˆ™å¿…é¡»è€ƒè™‘å¤‡ä»½/è¿˜åŸçš„èƒ½åŠ›ã€‚æˆ‘ä»¬ä¸€èˆ¬ä¼šæ›´å€¾å‘äºåšç‰©ç†å¤‡ä»½ï¼Œå› ä¸ºç‰©ç†å¤‡ä»½è¿˜åŸæ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ä¸€äº›æ•°æ®åº“æ²¡æœ‰æä¾›ç‰©ç†å¤‡ä»½çš„èƒ½åŠ›ï¼Œå¦‚MongoDBã€‚Redisæˆ‘ä»¬ä¹Ÿä¸ä¼šåšæŒç»­åŒ–çš„å¤‡ä»½ï¼Œå› ä¸ºä¼šå¯¼è‡´æ€§èƒ½çš„ä¸¥é‡ä¸‹é™ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;6ï¼‰å®¹ç¾&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®¹ç¾æ˜¯ç¬¬ä¸€éƒ¨åˆ†Bç«™æ•°æ®åº“æ¶æ„æ¼”è¿›æˆ‘ä»¬æåˆ°çš„ä¸¤åœ°ä¸‰ä¸­å¿ƒå’ŒåŒåŸå¤šæ´»éœ€è¦å…·å¤‡çš„ä¸€ä¸ªèƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;7ï¼‰ç¨³å®šæ€§&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“çš„è¦æ±‚æ˜¯èƒ½å¤Ÿå¹³ç¨³åœ°å¯¹å¤–æä¾›æœåŠ¡ï¼Œå› æ­¤ç¨³å®šæ€§éå¸¸å…³é”®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;8ï¼‰æˆæœ¬&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬ä¸å¯èƒ½ä¸ºäº†ä¿è¯æ€§èƒ½æ— é™åœ°å¾€æ•°æ®åº“é‡ŒåŠ æœºå™¨ï¼Œå› ä¸ºæˆæœ¬ä¼šå¾ˆé«˜ã€‚åŒæ—¶éœ€è¦è€ƒè™‘å¼€æºæ•°æ®åº“å’Œå•†ä¸šæ•°æ®åº“çš„é€‰æ‹©ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå•†ä¸šæ•°æ®åº“çš„æ€§èƒ½æ¯”åŒç­‰è§„æ ¼çš„å¼€æºæ•°æ®åº“æ›´å¥½ï¼Œä½†æ˜¯éœ€è¦è€ƒè™‘ç»´æŠ¤æˆæœ¬å’ŒäºŒæ¬¡å®šåˆ¶åŒ–èƒ½åŠ›çš„æˆæœ¬ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;9ï¼‰å®šåˆ¶åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å•†ä¸šæ•°æ®åº“æœ‰æ—¶ä¸ä¼šè®©æˆ‘ä»¬åšæ›´å¤šçš„å®šåˆ¶åŒ–å¼€å‘ï¼Œä½†æ˜¯è¿™ä¼šç»™æˆ‘ä»¬çš„ä¸Šä¸‹æ¸¸ä¾èµ–å¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºå¤§éƒ¨åˆ†åœºæ™¯æˆ‘ä»¬ä¼šä¾èµ–äºç±»ä¼¼MySQLçš„binlogï¼Œä¸‹æ¸¸çš„åˆ·ç¼“å­˜èƒ½åŠ›ä»¥åŠå¤§æ•°æ®çš„å®æ—¶æ•°ä»“èƒ½åŠ›éƒ½éœ€è¦ä¾é binlogå»å¾€ä¸‹æ¸¸ï¼Œä¹Ÿå°±æ˜¯CDCèƒ½åŠ›ã€‚é‚£ä¹ˆè¿™ä¸€æ–¹é¢ä¹Ÿæ˜¯æ•°æ®åº“é€‰å‹éœ€è¦è¿›è¡Œè¯„ä¼°çš„é‡è¦èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;6ã€ç­–ç•¥&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰å¤šç»´åº¦ç»¼åˆè€ƒè™‘&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“æ¶æ„é€‰å‹å¹¶ä¸æ˜¯ä»ä¸€ä¸ªç»´åº¦è€ƒè™‘çš„ï¼Œæ¯ä¸ªæ•°æ®åº“æœ‰è‡ªèº«çš„ä½¿ç”¨åœºæ™¯å’Œç‰¹ç‚¹ï¼Œå› æ­¤æ•°æ®åº“æ¶æ„é€‰å‹éœ€è¦ä»å¤šä¸ªç»´åº¦ç»¼åˆè€ƒè™‘ï¼ŒåŒ…æ‹¬æ•°æ®çš„ç»´åº¦ã€ä¸šåŠ¡çš„çœŸå®è¯‰æ±‚ã€DBAå›¢é˜Ÿèƒ½æä¾›çš„æ•°æ®åº“èƒ½åŠ›ï¼Œä»¥åŠå…¬å¸å¯¹äºæ•°æ®åº“çš„æ”¯æ’‘èƒ½åŠ›ï¼Œä¸»è¦æ˜¯å…¬å¸å…¶ä»–å›¢é˜Ÿå¦‚å¼€å‘å’Œå¹³å°ç±»æ”¯æ’‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰æ»¡è¶³æœªæ¥ä¸‰åˆ°äº”å¹´éœ€æ±‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“æ¶æ„ä¾‹å¦‚æ‰©ç¼©å®¹èƒ½åŠ›ï¼Œå¿…é¡»æ»¡è¶³æœªæ¥3ï½5å¹´çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯é¢‘ç¹åœ°è¿­ä»£å’Œæ›´æ–°ï¼Œå¦åˆ™å¯¹ä¸šåŠ¡è€Œè¨€æ˜¯æœ‰æŸçš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰ç¨³å®šä¸ºä¸»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“éœ€è¦å¹³ç¨³è¿è¡Œï¼Œè€Œä¸æ˜¯å¤©å¤©å®•æœºï¼Œå› æ­¤æ•°æ®åº“æ¶æ„é€‰å‹éœ€è¦ä»¥ç¨³å®šä¸ºä¸»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHzXwvmn2ALVwE1V7Yn8DayaElGqUAXBnjFYOrpPp5EcQQo5mEGJMN3Q/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šå›¾çš„å³ä¾§æ˜¯ç›®å‰Bç«™çš„æ•°æ®åº“å›¢é˜Ÿä½¿ç”¨çš„æ•°æ®åº“å æ¯”ï¼Œå¯ä»¥çœ‹å‡ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ€»ä½“æ¥è¯´ï¼ŒBç«™çš„æ•°æ®åº“ç‰¹ç‚¹æ˜¯Rediså’ŒMySQLä¸ºä¸»ï¼Œå…¶å®ƒæ•°æ®åº“ä¸»è¦æ˜¯åŸºäºæˆ‘ä»¬çš„ä½¿ç”¨åœºæ™¯è¿›è¡Œé€‰æ‹©å’Œæä¾›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;å››ã€ç¨³å®šæ€§&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»Šå¤©ä¸»è¦æ˜¯æƒ³å‘å¤§å®¶ä»‹ç»Bç«™ä¸‡äº¿çº§æ•°æ®åº“é€‰å‹ä¸æ¶æ„è®¾è®¡å®è·µï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘æ•°æ®åº“å¦‚ä½•æä¾›ç¨³å®šæ€§èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€é«˜å¯ç”¨&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHDwSIoKP9fwCoEbcetv5Bk0eMpXicic2T6MgvOAxSfAkSwZN0f5C2CGpA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æä¾›ç¨³å®šæ€§æ–¹é¢ï¼Œä¸»è¦æ˜¯å¦‚ä½•ä¿è¯æ•°æ®åº“é«˜å¯ç”¨ã€‚BRMæ˜¯æˆ‘ä»¬åŸºäºBç«™çš„ä¸šåŠ¡ç‰¹ç‚¹è‡ªç ”çš„MySQLé«˜å¯ç”¨ç»„ä»¶ï¼Œåœ¨è¯¥æ¶æ„ä¸Šæˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªåŠŸèƒ½èŠ‚ç‚¹Leaderå’ŒFollowerï¼Œèƒ½å¤Ÿå¯¹é›†ç¾¤å†…çš„æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œç®¡ç†å’Œæ¢æ´»ã€‚ä¸ç®¡åœ¨å“ªä¸ªèŠ‚ç‚¹è¿›è¡Œæ³¨å†Œï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°†å…¶æ³¨å†Œåˆ°æ•´ä¸ªé›†ç¾¤ã€‚å› ä¸ºå†…éƒ¨æœ‰ä¸€ä¸ªç½‘å…³ä¼šæŠŠæ‰€æœ‰è¯·æ±‚è½¬å‘åˆ°ä¸»èŠ‚ç‚¹ï¼ŒåŒæ—¶å†åˆ†å‘åˆ°å‰©ä¸‹çš„FollowerèŠ‚ç‚¹ä¸Šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Leaderå’ŒFolloweréƒ½å‚ä¸æŠ•ç¥¨å†³ç­–ï¼Œç”¨ä»¥è§„é¿å› ç½‘ç»œæŠ–åŠ¨é—®é¢˜å¯¼è‡´BRMè¯¯åˆ¤æ•°æ®åº“ä¸å¯ç”¨ï¼Œç„¶åç”±LeaderèŠ‚ç‚¹æ ¹æ®æŠ•ç¥¨ç»“æœåˆ¤æ–­è¯¥èŠ‚ç‚¹åˆ°åº•æ˜¯å¦å®•æœºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•´ä½“æ¦‚æ‹¬èµ·æ¥ï¼Œæˆ‘ä»¬è‡ªç ”çš„BRMä¼šæœ‰ä»¥ä¸‹å…­ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;2ã€é¢„è­¦&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¿è¯ç³»ç»Ÿçš„å¹³ç¨³è¿è¡Œï¼Œä¹Ÿæ¶‰åŠåˆ°é¢„è­¦çš„èƒ½åŠ›ã€‚å¯¹äºæ•°æ®åº“çš„é¢„è­¦ï¼ŒçœŸæ­£æ¯”è¾ƒå…·æœ‰å¯é¢„æµ‹æ€§å’Œå¯è§‚å¯Ÿæ€§çš„æ˜¯æ…¢æŸ¥è¯¢ã€‚æ•°æ®åº“çš„CPUå’ŒIOä¹‹ç±»çš„ä¹Ÿå¯ä»¥ä½œä¸ºå‚è€ƒï¼Œä½†æ˜¯ä¼šå­˜åœ¨ä¸€å®šçš„è¯¯åˆ¤ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ–¹æ¡ˆæ˜¯é’ˆå¯¹æ…¢æŸ¥è¯¢ï¼Œå¹¶ä¸”åšäº†ä¸€å¥—æ…¢æŸ¥è¯¢é¢„è­¦ä½“ç³»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHna0b0v3cOwiaHffWyiaibJIAggxia0pp4uHRPw40h3FdeGINibDJDC3qLaw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆå¯¹äºDBå±‚çš„æ…¢æŸ¥è¯¢ï¼Œæˆ‘ä»¬åšäº†&lt;strong&gt;æµå¼çš„é‡‡é›†ä¸ŠæŠ¥å’Œå®æ—¶åˆ†æ&lt;/strong&gt;ã€‚åœ¨å®æ—¶åˆ†æä¹‹åï¼Œå¯èƒ½ä¼šå­˜åœ¨è¯¯æŠ¥çš„æƒ…å†µï¼Œå› ä¸ºå¦‚æœé›†ç¾¤åœ¨å¸¸æ€æƒ…å†µä¸‹ï¼Œæ¯å¤©å›ºå®šæŸä¸ªæ—¶åˆ»éƒ½ä¼šå‡ºç°æ¯”å¦‚100æ¡æ…¢æŸ¥è¯¢ï¼Œé‚£ä¹ˆæ­¤æ—¶æ˜¯å¦è¯¥æŠ¥ï¼Œå…¶å®è¿™æœ¬èº«æ˜¯ä¸€ä¸ªä¸šåŠ¡æŸä¸ªæ—¶é—´ç‚¹çš„ç‰¹å®šè¡Œä¸ºï¼Œä¸ä¼šå½±å“æ•´ä½“è¡Œä¸ºï¼Œæ‰€ä»¥éœ€è¦å°†å…¶å±è”½ã€‚é’ˆå¯¹è¿™ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¼•å…¥å¤šæ¬¡çº¿æ€§å›å½’ï¼Œé€šè¿‡å¤šæ¬¡çº¿æ€§å›å½’å®ç°äº†å¯¹å¶å‘æ€§çš„æŠ–åŠ¨çš„è¿‡æ»¤ï¼Œä¸åŒä¸šåŠ¡çº§åˆ«ç¯æ¯”å€æ•°ã€æŒç»­æ€§å¢é•¿ï¼ˆæœªåˆ°é˜ˆå€¼å€æ•°ï¼Œä½†æŒç»­å¢é•¿æˆ–å­˜åœ¨ï¼‰æ…¢æŸ¥è¯¢çš„é¢„è­¦ï¼Œå¹¶ä¸”åŸºäºè§„åˆ™å¼•æ“å®ç°è‡ªå®šä¹‰å¤„ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;3ã€Proxy&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHwaNkgzkOOcLyxWTpe28Mz9A4CCeicx4TCCPlRlLsOpX52FmBjNB1N9w/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡å¯¹Proxyçš„å¤§é‡ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°é’ˆå¯¹æŸä¸ªæ•°æ®åº“ã€æŸä¸ªæœåŠ¡ã€æŸç±»SQLæŒ‡çº¹è¿›è¡Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ‹¦æˆªã€é™æµã€ç†”æ–­&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œä»¥é˜»æ­¢æŸäº›å¼‚å¸¸æµé‡æ‰“å´©æ•°æ®çš„åœºæ™¯ï¼Œä¹Ÿå¯ä»¥åšæ¯”è¾ƒè½»æ¾çŠ¶æ€ä¸‹çš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;è¯»å†™åˆ†ç¦»&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥åš&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¤šæœºæˆ¿è·¯ç”±&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå°†æœºåŠ¨æ¶æ„ä¸‹çš„æ•°æ®æµé‡è½¬å‘åˆ°ä¸»åº“ï¼ŒåŒæ—¶èƒ½å¤ŸåŠ¨æ€å‘ç°æ‹“æ‰‘ç»“æ„çš„å˜åŒ–ï¼Œæ–°å¢æˆ–åˆ é™¤ä»åº“ä»¥åŠèŠ‚ç‚¹çš„å˜åŒ–éƒ½æ¯”è¾ƒæ˜“äºå‘ç°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŒæ—¶æˆ‘ä»¬å¯ä»¥å»åšæ›´ç²¾ç»†åŒ–çš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;Sidecaræ¨¡å¼&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œä»è€Œå‡å°‘ä¸šåŠ¡æŠ€æœ¯ä¸èƒ½åŠ›ï¼Œé€šè¿‡Sidecaræ¨¡å¼ä½¿ç”¨Proxyï¼Œå¯ä»¥æ»¡è¶³å¤§å®¶åœ¨å¤§é‡åœºæ™¯ä¸‹çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;4ã€å¤šæ´»&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHULwM9uqpQgOwOa5nCKmibHNExLHs5yIcdNHbq4HYNnzwbv6BRoyI1Og/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤šæ´»æ˜¯ä¸ºäº†ä¿è¯åœ¨ä¸€ä¸ªæœºæˆ¿æŒ‚æ‰ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æœ‰å¦å¤–çš„æœºæˆ¿æ”¯æ’‘è¿™ä¸€æ–¹é¢çš„èƒ½åŠ›ï¼Œæˆ‘å‰é¢è®²åˆ°çš„Proxyã€BRMä»¥åŠDTSç­‰éƒ½æ˜¯ç”¨äºæ»¡è¶³å¤šæ´»çš„è¯‰æ±‚ã€‚é€šè¿‡å¤šæ´»æˆ‘ä»¬å¯ä»¥ä¿è¯æœ€å¤§èƒ½åŠ›çš„å†—ç¾ï¼ŒåŒæ—¶å¯¹ç”¨æˆ·çš„å½±å“è¾¾åˆ°æœ€å°ï¼Œå½“ä¸€ä¸ªæœºæˆ¿æŒ‚æ‰ä¹‹åï¼Œå½±å“çš„ç”¨æˆ·å¯èƒ½åªæœ‰ä¸€éƒ¨åˆ†ï¼Œå¿«é€Ÿå°†ç”¨æˆ·å…¨éƒ¨å¯¼æµåˆ°å¦å¤–ä¸€ä¸ªæœºæˆ¿å¯ä»¥ä¸ºç”¨æˆ·æä¾›å¹³ç¨³çš„ä½¿ç”¨ä½“éªŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;äº”ã€æ•ˆç‡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åæ˜¯è‡ªåŠ¨åŒ–æ•ˆç‡çš„é—®é¢˜ï¼Œä¸ç®¡æ˜¯TiDBè¿™ç§åŸç”Ÿçš„åˆ†å¸ƒå¼æ•°æ®åº“è¿˜æ˜¯æˆ‘ä»¬åŸºäºProxyå’Œä¸šåŠ¡å±‚è‡ªç ”çš„åˆ†å¸ƒå¼æ•°æ®åº“èƒ½åŠ›ï¼ŒåŒæ—¶æ¯”å¦‚Redisè¿™ç§è¶…å¤§è§„æ¨¡é›†ç¾¤ï¼Œæˆ‘ä»¬ç°åœ¨ç»å¸¸ä¼šè¶…è¿‡Redisæœ¬èº«çš„ä¸Šé™ï¼Œå› gossipé€šä¿¡æœºåˆ¶ï¼Œå¦‚æœèŠ‚ç‚¹æ•°é‡è¿‡å¤§ä¼šå¯¼è‡´èŠ‚ç‚¹é—´çš„å¿ƒè·³è¯·æ±‚å°†å¸¦å®½å æ»¡ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–å¦‚ä½•æä¾›æ•ˆç‡ï¼Ÿä»¥ä¸‹æ˜¯è‡ªåŠ¨åŒ–è¿ç»´æ¼”è¿›çš„æ–¹å‘ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHP1Obhz9IicEhVQibZMURV0orVYUaWTrYAYVUZRuE1JCH7KckUJ6EcSBQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“å‰æˆ‘ä»¬ä»ç„¶å¤„äºè‡ªåŠ¨åŒ–è¿ç»´çš„é˜¶æ®µï¼Œè‡ªåŠ¨åŒ–å¹³å°èƒ½åŠ›çš„æ ¸å¿ƒæœ‰å››ä¸ªæ–¹é¢ï¼Œåˆ†åˆ«æ˜¯èµ„æºç®¡ç†ç ”å‘è‡ªåŠ©ã€è¿ç»´æ“ä½œå’Œé£é™©ç®¡ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;325&quot; data-ratio=&quot;0.7140522875816994&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1224&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8bBj4icaLlibyzic76AtnMOiaEHq0S1s9XG63etg5zwhYia8c2icib7CichR3MuRJqW4Oqvl6axJjUgxJ7mKQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è‡ªåŠ¨åŒ–è¿ç»´å¹³å°&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€èµ„æºç®¡ç†&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;èµ„æºç®¡ç†ç®€å•ç†è§£å°±æ˜¯èµ„æºå¦‚ä½•è¿›è¡Œåˆ†é…ï¼Œæœ‰å¤šä¸ªç»´åº¦ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;2ã€ç ”å‘è‡ªåŠ©&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—¥å¸¸æƒ…å†µä¸‹ï¼Œç ”å‘æœ‰å¾ˆå¤šäº‹æƒ…éœ€è¦åšï¼Œä¾‹å¦‚æŸ¥è¯¢ã€å¯¼å…¥ã€åŠ å­—æ®µä»¥åŠå¥åº·æ£€æŸ¥ç­‰ã€‚èµ„æºç”³è¯·æŒ‡çš„æ˜¯æˆ‘ä»¬åŠäº†ä¸€äº›æ¯”è¾ƒç®€å•çš„å¸¸è§„ä¸šåŠ¡ï¼Œä»–ä»¬å¯ä»¥åŸºäºæˆ‘ä»¬å‰é¢è®²åˆ°çš„ç­–ç•¥è¿›è¡ŒåŒ¹é…åé€‰æ‹©æ•°æ®åº“ã€‚åˆ°DBAå®¡æ ¸çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè¯„ä¼°ä»–ä»¬å†™å…¥çš„å†…å®¹æ˜¯å¦åˆç†ï¼Œä¿è¯ä¸ä¼šå‡ºç°ç”±äºæ¶æ„è®¾è®¡å¤±è´¥å¼•å‘é‡æ„çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;3ã€è¿ç»´æ“ä½œ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é›†ç¾¤ç®¡ç†ã€å®ä¾‹ç®¡ç†å’Œæ•°æ®ç®¡ç†æ˜¯ä¸€äº›æ¯”è¾ƒæ—¥å¸¸çš„è¿ç»´æ“ä½œï¼Œæ•´ä½“ä¸Šç”±å¹³å°åŒ–è¿›è¡Œæ”¯æ’‘ï¼Œå¤§éƒ¨åˆ†å¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–è§£å†³ï¼Œä¸éœ€è¦äººå·¥è¿›è¡Œç®¡ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;4ã€é£é™©ç®¡ç†&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot;&gt;&lt;section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;é£é™©ç®¡ç†åŒ…æ‹¬ç›‘æ§ä¸å‘Šè­¦ã€å¥åº·åº¦æŠ¥è¡¨ä»¥åŠæ¥å…¥ä¿¡æ¯è„±æ•å’Œå­˜å‚¨ä¿¡æ¯è„±æ•ã€‚Bç«™æ¶‰åŠåˆ°ç”µå•†å’Œæ”¯ä»˜æ–¹é¢ï¼Œéœ€è¦å¯¹ä¸€äº›æ•°æ®å’Œç”¨æˆ·ä¿¡æ¯è¿›è¡Œå¤§é‡çš„è„±æ•ï¼Œé€šè¿‡æ•°æ®æ‰«æä¿è¯æ•°æ®çš„åˆè§„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬è‡ªåŠ¨åŒ–å¹³å°çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;Q&amp;amp;A&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Q1ï¼šå¼‚åœ°å¤šæ´»æ¶æ„ä¸‹æ”¯æŒåŒæ—¶å¤šå†™å—ï¼Ÿæ€ä¹ˆè§£å†³å†™å…¥å†²çªçš„é—®é¢˜ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;A1ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç°åœ¨æˆ‘ä»¬åšçš„å¼‚åœ°å¤šæ´»æ¶æ„ä¼šæä¾›åŒæ—¶å¤šå†™çš„èƒ½åŠ›ï¼Œæœ‰ä¸¤ä¸ªç»´åº¦è¿›è¡Œåˆ¤æ–­ï¼Œä¸€ä¸ªç»´åº¦æ˜¯åŸºäºç‰¹å®šå­—æ®µï¼Œç‰¹å®šå­—æ®µå¯ä»¥åŸºäºå®è·µä¹Ÿå¯ä»¥åŸºäºä¸šåŠ¡ç»´åº¦ï¼Œå¦ä¸€ä¸ªç»´åº¦æ˜¯é€šè¿‡å…¨å­—æ®µåŒ¹é…åˆ¤æ–­æ•°æ®æ˜¯å¦å†²çªã€‚å¦‚æœå†²çªåˆ™éœ€è¦ä¸‹æ¸¸çš„å¤„ç†èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä¸šåŠ¡æ–¹åˆ¤æ–­ï¼Œæˆ‘ä»¬æ˜¯æŠŠæ•°æ®æ‰“åˆ°DataBusï¼Œç”±ä¸šåŠ¡åˆ¤æ–­è¿™ä¸€éƒ¨åˆ†æ•°æ®å¦‚ä½•å¤„ç†ã€‚å¦‚æœç¡®å®šå¥½ä¹‹åï¼Œæˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªæ¥å£ï¼Œè®©ä¸šåŠ¡æŒ‰ç…§DTSæ¨¡å¼å†™å…¥åˆ°å¯¹ç«¯æ•°æ®åº“ï¼Œä»è€Œä¿è¯æ•°æ®çš„å›ç¯å¤åˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>40d2eeb0e68704eb921deaccc3c8121e</guid>
<title>æ·±å…¥æµ…å‡ºSeataçš„ATæ¨¡å¼</title>
<link>https://toutiao.io/k/1dzs6cv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;blockquote&gt;&lt;p&gt;å•ä¸ªæ‰é˜Ÿï¼Œå¯¼è‡´é›†ä½“è¢«åŠ¨æ‘†çƒ‚ï¼›&lt;/p&gt;&lt;/blockquote&gt;&lt;h1&gt;&lt;span&gt;ä¸€ã€ä¸šåŠ¡èƒŒæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼Œäº‹åŠ¡ç®¡ç†æ˜¯ä¸ªæ— æ³•é¿å¼€çš„å¤æ‚é—®é¢˜ï¼Œè™½ç„¶æœ‰å¤šç§è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯éœ€è¦æ ¹æ®ä¸šåŠ¡å»é€‰æ‹©åˆé€‚çš„ï¼›&lt;/p&gt;&lt;p&gt;ä»ä¸ªäººæœ€è¿‘å‡ å¹´çš„å®è·µç»éªŒæ¥çœ‹ï¼ŒSeataç»„ä»¶çš„ATæ¨¡å¼æ¯”è¾ƒå¸¸ç”¨ï¼Œæœ¬æ–‡ä»å®é™…çš„æ¡ˆä¾‹å‡ºå‘ï¼Œæ¥æ·±å…¥åˆ†æè¯¥æ¨¡å¼çš„åŸç†ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.45493934142114384&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWMBqGNV4o5YGBHNyAbMKBYPQJ3q2OxPec4xfgU3Lvwckf3369MaktSgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1154&quot;/&gt;&lt;/p&gt;&lt;p&gt;é¦–å…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€äº‹åŠ¡ç®¡ç†çš„æ¥å£ï¼Œè¿™é‡Œæ˜¯åœ¨FacadeæœåŠ¡ä¸­å¼€å¯å…¨å±€äº‹åŠ¡ï¼›&lt;/p&gt;&lt;p&gt;è¯·æ±‚ç»è¿‡ä¸‰ä¸ªå¾®æœåŠ¡ï¼Œå¹¶ä¸”å„ä¸ªæœåŠ¡éƒ½è¿›è¡Œæ•°æ®æºçš„æ“ä½œï¼Œç„¶åæ¨¡æ‹Ÿé“¾è·¯æˆåŠŸå’Œå¼‚å¸¸çš„æƒ…å†µï¼Œæ¥åˆ†æä¸åŒçŠ¶æ€çš„é€»è¾‘å®ç°ï¼›&lt;/p&gt;&lt;h1&gt;&lt;span&gt;äºŒã€Seataæ¶æ„&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1ã€æ ¸å¿ƒç»„ä»¶&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.33203125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWM66E0n0xMjNA7RXCawFFqFFdUIotXJy60Rgibh4z50eSrZn9rF0lCL3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ä¸‰å¤§ç»„ä»¶&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å³Transaction Coordinatorï¼Œç»´æŠ¤å…¨å±€å’Œåˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œé©±åŠ¨å…¨å±€äº‹åŠ¡æäº¤æˆ–å›æ»šã€‚&lt;/p&gt;&lt;p&gt;å³Transaction Managerï¼Œå®šä¹‰å…¨å±€äº‹åŠ¡çš„èŒƒå›´ï¼Œå¼€å§‹äº‹åŠ¡ã€æäº¤äº‹åŠ¡ï¼Œå›æ»šäº‹åŠ¡ã€‚&lt;/p&gt;&lt;p&gt;å³Resource Managerï¼Œç®¡ç†åˆ†æ”¯äº‹åŠ¡å¤„ç†çš„èµ„æºï¼Œå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼ŒæŠ¥å‘Šåˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œé©±åŠ¨åˆ†æ”¯äº‹åŠ¡æäº¤æˆ–å›æ»šã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;åŸºç¡€äº¤äº’&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;TCæ˜¯éœ€è¦ç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡ï¼ŒTMå’ŒRMæ˜¯é›†æˆåœ¨æœåŠ¡ä¸­ï¼Œä¸‰å¤§ç»„ä»¶ç›¸äº’åä½œï¼Œå…±åŒå®Œæˆåˆ†å¸ƒäº‹åŠ¡çš„ç®¡ç†ï¼›&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2ã€ATæ¨¡å¼&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;äº‹åŠ¡æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ATæ˜¯Seataé»˜è®¤çš„æ¨¡å¼ï¼Œéœ€è¦åŸºäºæ”¯æŒæœ¬åœ°ACIDäº‹åŠ¡çš„å…³ç³»å‹æ•°æ®åº“ï¼›Javaåº”ç”¨ï¼Œé€šè¿‡JDBCè®¿é—®æ•°æ®åº“ï¼›åŸºäºæ¡ˆä¾‹æµç¨‹ï¼Œå…ˆåˆ†æATçš„äº‹åŠ¡æ¨¡å‹ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.9793322734499205&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWMOyPg8Wgl1lgyRt1AevIBaggpor6mjibJUJcyWRJZkYhVDWY1iblnLBUg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1258&quot;/&gt;&lt;/p&gt;&lt;p&gt;2.1 TMè´Ÿè´£å®šä¹‰å…¨å±€äº‹åŠ¡çš„è¾¹ç•Œï¼Œå‘TCç”³è¯·ï¼Œå¼€å¯ä¸€ä¸ªå…¨å±€äº‹åŠ¡ï¼›&lt;/p&gt;&lt;p&gt;2.2 å…¨å±€äº‹åŠ¡åˆ›å»ºæˆåŠŸåï¼Œç”Ÿæˆå…¨å±€å”¯ä¸€çš„XIDï¼›&lt;/p&gt;&lt;p&gt;2.3 XIDä¼šåœ¨å¾®æœåŠ¡è¯·æ±‚é“¾è·¯ä¸Šä¸‹æ–‡ä¸­ä¼ æ’­ï¼›&lt;/p&gt;&lt;p&gt;2.4 RMå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œå¹¶å½’å±åˆ°XIDå¯¹åº”çš„å…¨å±€äº‹åŠ¡è¿›è¡Œè°ƒåº¦ï¼›&lt;/p&gt;&lt;p&gt;2.5 TMå‘TCå‘èµ·ç›¸åº”XIDçš„å…¨å±€äº‹åŠ¡æäº¤æˆ–å›æ»šå†³è®®ï¼›&lt;/p&gt;&lt;p&gt;2.6 TCå®Œæˆå¯¹XIDç®¡ç†çš„å…¨éƒ¨åˆ†æ”¯äº‹åŠ¡æäº¤æˆ–å›æ»šçš„è°ƒåº¦ï¼›&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ¸å¿ƒæœºåˆ¶&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.4245901639344262&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWM4nfo91hkS5OWMuMMDmqZ7M2ynYFxibG7sQM7jAhmJdAcQclTwaRewpA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1220&quot;/&gt;&lt;/p&gt;&lt;p&gt;æ‰§è¡Œé˜¶æ®µï¼šæ¯ä¸ªå¾®æœåŠ¡çš„è¯·æ±‚å®Œæˆåï¼ŒåŸºäºæœ¬åœ°æ•°æ®åº“çš„äº‹åŠ¡èƒ½åŠ›ï¼Œä¿è¯ä¸šåŠ¡æ•°æ®å’Œå›æ»šæ—¥å¿—åœ¨åŒä¸€ä¸ªæœ¬åœ°äº‹åŠ¡ä¸­æäº¤ï¼Œå¿«é€Ÿé‡Šæ”¾è¿æ¥å’Œå¯¹èµ„æºçš„é”å®šï¼›&lt;/p&gt;&lt;p&gt;å®Œæˆé˜¶æ®µï¼šå…¨å±€æäº¤æ—¶åˆ†æ”¯äº‹åŠ¡å·²ç»å®Œæˆæäº¤ï¼Œä¼šæ¸…ç†å›æ»šæ—¥å¿—ï¼Œå¿«é€Ÿç»“æŸæµç¨‹ï¼›å…¨å±€å›æ»šåŸºäºXIDå’ŒBranchIDæŸ¥è¯¢å›æ»šæ—¥å¿—ï¼Œå®Œæˆæ•°æ®å›æ»šï¼›&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ•°æ®æºä»£ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.41640625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWMASy52bmStv6uAObR68q9JS03DPx5z4ff8Gic7bdPGwNqamxlS3Dia3gw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;åœ¨ATæ¨¡å¼ä¸­ï¼Œåº”ç”¨éœ€è¦ä½¿ç”¨Seataç»„ä»¶ä¸­çš„JDBCä»£ç†æ•°æ®æºDataSourceProxyï¼Œå®ç°å¯¹çœŸæ­£ç›®æ ‡æ•°æ®æºçš„ä»£ç†è®¿é—®ï¼›&lt;/p&gt;&lt;h1&gt;&lt;span&gt;ä¸‰ã€æ¡ˆä¾‹åˆ†æ&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;1ã€æµç¨‹åˆ†æ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;æ¡ˆä¾‹çš„ç®€å•æè¿°&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.317741935483871&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWM6nPQxXicS40bQBKqIHywz0TppsnUCspogIL01iatMj01H9iau9XTzIC8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1240&quot;/&gt;&lt;/p&gt;&lt;p&gt;åœ¨æ¡ˆä¾‹ä¸­æ¶‰åŠä¸‰ä¸ªæœåŠ¡ï¼ŒFacadeæœåŠ¡å¼€å¯å…¨å±€äº‹åŠ¡ï¼Œç„¶ååˆ†åˆ«è¯·æ±‚Accountå’ŒQuartzæœåŠ¡çš„æ›´æ–°æ¥å£ï¼Œé€šè¿‡Quartzæ¥å£æ˜¯å¦æŠ›å¼‚å¸¸æ¥è°ƒè¯•ATæ¨¡å¼çš„åŸç†ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.78671875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWM1MWjW2spdXicYPofw0fLiaOEGDOulAV5H0YR0J7Mtr6UoicTv7JWscic1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;ä»å®é™…çš„è¯·æ±‚æ‰§è¡Œæ¥è¯´ï¼Œç»å¤§å¤šæ•°çš„è¯·æ±‚éƒ½æ˜¯å¯ä»¥æ‰§è¡ŒæˆåŠŸçš„ï¼Œè€ŒATæ¨¡å¼çš„å¼‚æ­¥åŒ–æäº¤æå¤§é™åº¦çš„é¡¾åŠå…¨å±€äº‹åŠ¡çš„æ•ˆç‡é—®é¢˜ï¼Œå°‘æ•°å¤±è´¥çš„æƒ…å†µä¹Ÿå¯ä»¥é€šè¿‡å›æ»šæ—¥å¿—è¿›è¡Œåå‘è¡¥å¿ï¼›&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2ã€å†™éš”ç¦»&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;ä¸Šè¿°æµç¨‹åˆ†æATæ¨¡å¼çš„åŸå­æ€§ï¼Œå³å¤šä¸ªåˆ†æ”¯äº‹åŠ¡è¦ä¹ˆéƒ½æˆåŠŸè¦ä¹ˆéƒ½å¤±è´¥ï¼Œæ¥ä¸‹æ¥åˆ†æå¤šä¸ªäº‹åŠ¡ä¸­çš„å…¨å±€é”éš”ç¦»æœºåˆ¶ï¼Œå…ˆçœ‹å†™éš”ç¦»ï¼Œå‡è®¾TX1å…ˆå¼€å§‹ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.75546875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWML7UFqbrGuwKZURicSzicnHoHChuPYNXWQzaqrsYBZPQ70OMXSdsjJJ5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;TX1é€»è¾‘&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;TX1å¼€å§‹æœ¬åœ°äº‹åŠ¡ï¼Œæ‹¿åˆ°æœ¬åœ°é”ï¼Œç„¶åæ‰§è¡Œæ›´æ–°æ“ä½œï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX1æœ¬åœ°äº‹åŠ¡æäº¤å‰ï¼Œéœ€è¦å…ˆè·å–å…¨å±€é”ï¼Œå¦åˆ™æ— æ³•æäº¤ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX1è·å–å…¨å±€é”å¹¶æäº¤ï¼Œé‡Šæ”¾æœ¬åœ°é”ï¼Œä½†æœªé‡Šæ”¾å…¨å±€é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;TX2é€»è¾‘&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;TX2æ­¤æ—¶å¼€å§‹æœ¬åœ°äº‹åŠ¡ï¼Œæ‹¿åˆ°æœ¬åœ°é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX2æ‰§è¡Œæœ¬åœ°äº‹åŠ¡æäº¤å‰ï¼Œå°è¯•è·å–å…¨å±€é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”±äºå…¨å±€é”è¢«TX1æŒæœ‰ï¼ŒTX2ä¼šé‡è¯•ç­‰å¾…å…¨å±€é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;å‡è®¾TX1å…¨å±€æäº¤&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;TX1å¦‚æœå…¨å±€äº‹åŠ¡æäº¤ï¼Œä¼šé‡Šæ”¾å…¨å±€é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX2è·å–å…¨å±€é”æˆåŠŸï¼Œæ‰§è¡Œæœ¬åœ°äº‹åŠ¡æäº¤ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;å‡è®¾TX1å…¨å±€å›æ»š&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;TX1å¦‚æœå…¨å±€äº‹åŠ¡å›æ»šï¼Œè¦é‡æ–°è·å–æ•°æ®çš„æœ¬åœ°é”ï¼Œè¿›è¡Œå›æ»šçš„è¡¥å¿åŠ¨ä½œï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX2å¦‚æœä»åœ¨ç­‰å¾…å…¨å±€é”ï¼Œå¹¶ä¸”è¿˜æŒæœ‰æœ¬åœ°é”ï¼ŒTX1äº‹åŠ¡å›æ»šå¤±è´¥ï¼Œä¼šä¸æ–­çš„é‡è¯•ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å½“TX2ç­‰å¾…å…¨å±€é”è¶…æ—¶ï¼Œä¼šæ”¾å¼ƒå…¨å±€é”å¹¶å›æ»šæœ¬åœ°äº‹åŠ¡ï¼Œé‡Šæ”¾æœ¬åœ°é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;TX1æœ€ç»ˆè·å–æ•°æ®çš„æœ¬åœ°é”ï¼Œå®Œæˆå›æ»šåŠ¨ä½œï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;åœ¨è¯¥è¿‡ç¨‹ä¸­ï¼ŒTX1åœ¨ç»“æŸå‰ä¸€ç›´æŒæœ‰å…¨å±€é”ï¼ŒTX2è·å–ä¸åˆ°å…¨å±€é”æ— æ³•å¯¹ç›¸åŒçš„æ•°æ®æ‰§è¡Œæ›´æ–°åŠ¨ä½œï¼Œæ‰€ä»¥é¿å…äº†è„å†™çš„é—®é¢˜ï¼›&lt;/p&gt;&lt;h2&gt;&lt;span&gt;3ã€è¯»éš”ç¦»&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;åœ¨æ•°æ®åº“æœ¬åœ°éš”ç¦»çº§åˆ«ä¸ºè¯»å·²æäº¤æˆ–ä»¥ä¸Šçš„åŸºç¡€ä¸Šï¼ŒSeataçš„ATæ¨¡å¼é»˜è®¤å…¨å±€éš”ç¦»çº§åˆ«æ˜¯è¯»æœªæäº¤ï¼›å¦‚æœéœ€è¦å…¨å±€çš„è¯»å·²æäº¤ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;SELECT FOR UPDATE&lt;/code&gt;è¯­å¥çš„ä»£ç†ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.6125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWMMWVlk1f0NpiciaWqABiaKqp4woqe82Fscic05XML1Afx1DKhrjicBDUESjA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;è¯¥è¯­å¥çš„æ‰§è¡Œä¹Ÿéœ€è¦è·å–å…¨å±€é”ï¼Œå¦‚æœå…¨å±€é”è¢«TX1æŒæœ‰ï¼ŒTX2ä¼šé‡Šæ”¾æœ¬åœ°é”ï¼ŒæŸ¥è¯¢ä¼šè¢«é˜»å¡å¹¶è¿›è¡Œé‡è¯•ï¼Œæ‹¿åˆ°å…¨å±€é”è¯»å–æˆåŠŸåè¿”å›ï¼›&lt;/p&gt;&lt;h1&gt;&lt;span&gt;å››ã€å¯¹æ¯”XAæ¨¡å¼&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;XAæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡åˆ†æ®µæäº¤åè®®ï¼›äº‹åŠ¡ç®¡ç†å™¨å³TMï¼šä½œä¸ºå…¨å±€äº‹åŠ¡çš„è°ƒåº¦è€…ï¼Œè´Ÿè´£æ•´ä¸ªäº‹åŠ¡ä¸­æœ¬åœ°èµ„æºçš„æäº¤å’Œå›æ»šï¼›æœ¬åœ°èµ„æºç®¡ç†å™¨å³RMï¼šå¤§éƒ¨åˆ†å…³ç³»å‹æ•°æ®åº“éƒ½å®ç°äº†XAæ¥å£ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.3484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBqB28CU8NoeLRyXCymqmWMENtcic0P934NZHb0D9AdDA4wfVia4ecUa0hQHGgm3pbI4naraLvq9mag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;TMå…ˆå‘æ‰€æœ‰çš„å‚ä¸äº‹åŠ¡çš„RMå‘é€ç¡®è®¤è¯·æ±‚ï¼Œæ ¹æ®ç¡®è®¤çš„ç»“æœï¼Œåˆ¤æ–­æ˜¯è°ƒç”¨RMçš„commitæäº¤è¿˜æ˜¯rollbackå›æ»šï¼›&lt;/p&gt;&lt;p&gt;XAå…·æœ‰å¼ºä¸€è‡´æ€§ï¼Œåœ¨2æ®µæäº¤çš„è¿‡ç¨‹ä¸­ï¼Œä¼šæŒæœ‰èµ„æºçš„é”ï¼Œå¦‚æœæ˜¯åœ¨äº¤æ˜“ä¸‹å•ç­‰å¤æ‚é“¾è·¯ä¸­ï¼Œå¹¶ä¸”å¹¶å‘é‡å¾ˆé«˜ï¼Œä¼šå­˜åœ¨é•¿äº‹åŠ¡é£é™©ï¼ŒXAæ— æ³•æ»¡è¶³è¯¥ç±»é«˜å¹¶å‘çš„åœºæ™¯ï¼›&lt;/p&gt;&lt;p&gt;è€Œåœ¨Seataçš„ATæ¨¡å¼ä¸­ï¼Œåœ¨æœåŠ¡æ‰§è¡Œå®Œæˆåï¼Œç›´æ¥è¿›è¡ŒRMæäº¤å’Œèµ„æºé‡Šæ”¾ï¼Œæä¾›äº†å¯¹CAPç†è®ºç›¸å¯¹å¹³è¡¡çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”æ²¡æœ‰ä¾µå…¥ä¸šåŠ¡å·¥ç¨‹ï¼›&lt;/p&gt;&lt;h1&gt;&lt;span&gt;äº”ã€å‚è€ƒæºç &lt;/span&gt;&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;åº”ç”¨ä»“åº“ï¼š&lt;br/&gt;https://gitee.com/cicadasmile/butte-flyer-parent&lt;br/&gt;&lt;br/&gt;ç»„ä»¶å°è£…ï¼š&lt;br/&gt;https://gitee.com/cicadasmile/butte-frame-parent&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzU4Njg0MzYwNw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBj3abVSgCmvm7FIYw55ficInd2se9ia6KSic0ma25AUvrmUtXUwXibjhHmCc7DUawfXBI30QuHBjDnzw/0?wx_fmt=png&quot; data-nickname=&quot;çŸ¥äº†ä¸€ç¬‘&quot; data-alias=&quot;cicada_smile&quot; data-signature=&quot;ç§¯ç´¯ã€æ€»ç»“ã€ç”¨å¿ƒè®°å½•ã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3a37e2fc35872166a819eb6da62a1fff</guid>
<title>é¢è¯•å®˜ï¼šMySQL ä¸­ varchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸ºå¤šå°‘ï¼Ÿ</title>
<link>https://toutiao.io/k/xjo2olt</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;Mzg3NzU5NTIwNg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpxpY5pHeUUaicHSaqaylBb25Rbib0ocE4ZmXWdicS9tbGvFc9qvbiaNDibKKvuFYqlUdSW6VicXhoLNHfMQ/0?wx_fmt=png&quot; data-nickname=&quot;æ¡ç”°èºçš„å°ç”·å­©&quot; data-alias=&quot;&quot; data-signature=&quot;ä¸“æ³¨åç«¯æŠ€æœ¯æ ˆï¼Œçƒ­çˆ±åˆ†äº«ï¼Œçƒ­çˆ±äº¤æœ‹å‹ï¼Œçƒ­çˆ±å·¥ä½œæ€»ç»“ã€‚æ¯•ä¸šäºåå—ç†å·¥å¤§å­¦ï¼Œè½¯ä»¶å·¥ç¨‹ä¸“ä¸š~&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç”°èºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©&lt;span&gt;èŠèŠï¼šMySQL ä¸­ varchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸ºå¤šå°‘ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰ç½®çŸ¥è¯†&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæˆ‘ä»¬å¾—å…ˆçŸ¥é“ MySQL å­˜å‚¨ä¸€æ¡è®°å½•çš„æ ¼å¼é•¿ä»€ä¹ˆæ ·å­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ Â Compact è¡Œæ ¼å¼ä½œä¸ºä¾‹å­ï¼Œå®ƒé•¿è¿™æ ·ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2405821917808219&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVKQI5jp7Lsd7FTNLS9m3JpsRWegTXj6JxeBVwLRZonLIHQbXWwsgEjw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2336&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ¡å®Œæ•´çš„è®°å½•åˆ†ä¸ºã€Œè®°å½•çš„é¢å¤–ä¿¡æ¯ã€å’Œã€Œè®°å½•çš„çœŸå®æ•°æ®ã€ä¸¤ä¸ªéƒ¨åˆ†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œ&lt;strong&gt;é‡ç‚¹è®²è®²è®°å½•çš„é¢å¤–ä¿¡æ¯&lt;/strong&gt;ï¼Œå®ƒåŒ…å« 3 ä¸ªéƒ¨åˆ†ï¼šå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€NULL å€¼åˆ—è¡¨ã€è®°å½•å¤´ä¿¡æ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨äºå­˜å‚¨ä¸€è¡Œè®°å½•ä¸­æ¯ä¸ªå˜é•¿å­—æ®µçš„é•¿åº¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•° = æ‰€æœ‰ã€Œå˜é•¿å­—æ®µé•¿åº¦ã€å ç”¨çš„å­—èŠ‚æ•°ä¹‹å’Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æ•°æ®åº“è¡¨ä¸­æœ‰ 2 ä¸ª varchar(10) ç±»å‹çš„å­—æ®µï¼Œåˆ†åˆ«ä¸º a å’Œ bï¼Œä¸”æ•°æ®åº“è¡¨çš„å­—ç¬¦é›†ä¸º ascii å­—ç¬¦é›†ï¼ˆ1 ä¸ªå­—ç¬¦å ç”¨ 1 å­—èŠ‚ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆaå’Œbå­—æ®µçš„æ•°æ®å€¼çš„é•¿åº¦åˆ†åˆ«åªéœ€è¦ç”¨1å­—èŠ‚è¡¨ç¤ºå°±è¡Œäº†ï¼Œå› ä¸º1å­—èŠ‚èƒ½è¡¨ç¤ºæœ€å¤§çš„å­—èŠ‚æ•°æ˜¯ 255ï¼Œè€Œ varchar(10) ç±»å‹çš„å­—æ®µæœ€å¤§å…è®¸å­˜å‚¨çš„å­—èŠ‚æ•°æ˜¯ 10 å­—èŠ‚ï¼Œæ‰€ä»¥åªéœ€è¦ç”¨ 1 å­—èŠ‚è¡¨ç¤ºå˜é•¿å­—æ®µçš„é•¿åº¦å°±è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹çš„ ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•° = 1 å­—èŠ‚ + 1å­—èŠ‚ = 2 å­—èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœæ•°æ®åº“è¡¨æ²¡æœ‰å˜é•¿å­—æ®µï¼Œæ¯”å¦‚å­—æ®µç±»å‹éƒ½æ˜¯intï¼Œé‚£ä¹ˆè¡Œæ ¼å¼ä¸­å°±ä¸éœ€è¦&lt;span&gt;ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨äºæ ‡è®°ä¸€è¡Œè®°å½•ä¸­å­—æ®µå€¼ä¸º NULL çš„å­—æ®µï¼ŒäºŒè¿›åˆ¶ä½çš„å€¼ä¸º 1 æ—¶ï¼Œä»£è¡¨è¯¥å­—æ®µçš„å€¼ä¸ºNULLï¼ŒäºŒè¿›åˆ¶ä½çš„å€¼ä¸º 0 æ—¶ï¼Œä»£è¡¨è¯¥å­—æ®µçš„å€¼ä¸ä¸º NULLã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼ŒNULL å€¼åˆ—è¡¨å¿…é¡»ç”¨æ•´æ•°ä¸ªå­—èŠ‚çš„ä½è¡¨ç¤ºï¼ˆ1å­—èŠ‚8ä½ï¼‰ï¼Œå¦‚æœä½¿ç”¨çš„äºŒè¿›åˆ¶ä½ä¸ªæ•°ä¸è¶³æ•´æ•°ä¸ªå­—èŠ‚ï¼Œåˆ™åœ¨å­—èŠ‚çš„é«˜ä½è¡¥ &lt;code&gt;0&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè¡¨ä¸­å…è®¸ä¸º NULL å€¼çš„è®°å½•çš„ä¸ªæ•°å°äºç­‰äº 8 ä¸ªï¼Œé‚£ä¹ˆ NULL å€¼åˆ—è¡¨å°±ä¼šç”¨ 1 å­—èŠ‚è¡¨ç¤ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœå¦‚æœè¡¨ä¸­å…è®¸ä¸º NULL å€¼çš„è®°å½•çš„ä¸ªæ•°å¤§äº8 å¹¶ä¸”å°äºç­‰äº 16ï¼Œé‚£ä¹ˆ NULL å€¼åˆ—è¡¨å°±ä¼šç”¨ 2 å­—èŠ‚è¡¨ç¤ºï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤ï¼Œå¦‚æœè¡¨ä¸­æœ‰å­—æ®µå…è®¸ä¸ºÂ &lt;span&gt;NULLï¼Œé‚£ä¹ˆ&lt;span&gt;ã€Œ&lt;/span&gt;&lt;span&gt;NULL å€¼åˆ—è¡¨&lt;/span&gt;&lt;span&gt;ã€è‡³å°‘å ç”¨ 1 å­—èŠ‚ç©ºé—´ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ã€Œ&lt;span&gt;NULL å€¼åˆ—è¡¨&lt;/span&gt;ã€&lt;/span&gt;&lt;span&gt;ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœ&lt;/span&gt;&lt;span&gt;æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µéƒ½å®šä¹‰æˆÂ NOT NULLï¼Œé‚£ä¹ˆ&lt;span&gt;è¡Œæ ¼å¼ä¸­å°±&lt;/span&gt;&lt;span&gt;ä¸éœ€è¦&lt;/span&gt;&lt;span&gt;ã€Œ&lt;span&gt;NULL å€¼åˆ—è¡¨&lt;/span&gt;ã€ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è®°å½•å¤´ä¿¡æ¯ä¸­åŒ…å«çš„å†…å®¹å¾ˆå¤šï¼Œæ¯”å¦‚è®°å½•çš„åˆ é™¤æ ‡è®°ä½ï¼ŒæŒ‡å‘ä¸‹ä¸€æ¡è®°å½•çš„æŒ‡é’ˆç­‰ç­‰ï¼Œä¸æ˜¯æœ¬æ–‡é—®é¢˜çš„é‡ç‚¹ï¼Œæ‰€ä»¥æˆ‘å°±ä¸ç»†è®²äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;varchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸ºå¤šå°‘ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬è¦æ¸…æ¥šä¸€ç‚¹ï¼Œ&lt;strong&gt;MySQL è§„å®šé™¤äº† TEXTã€BLOBs è¿™ç§å¤§å¯¹è±¡ç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–æ‰€æœ‰çš„åˆ—ï¼ˆä¸åŒ…æ‹¬éšè—åˆ—å’Œè®°å½•å¤´ä¿¡æ¯ï¼‰å ç”¨çš„å­—èŠ‚é•¿åº¦åŠ èµ·æ¥ä¸èƒ½è¶…è¿‡ 65535 ä¸ªå­—èŠ‚&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€è¡Œè®°å½•é™¤äº† TEXTã€BLOBs ç±»å‹çš„åˆ—ï¼Œé™åˆ¶æœ€å¤§ä¸º 65535 å­—èŠ‚ï¼Œ&lt;strong&gt;æ³¨æ„æ˜¯ä¸€è¡Œçš„æ€»é•¿åº¦ï¼Œä¸æ˜¯ä¸€åˆ—&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çŸ¥é“äº†è¿™ä¸ªå‰æä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼šã€Œvarchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸ºå¤šå°‘ï¼Ÿã€&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;varchar(n) å­—æ®µç±»å‹çš„ n ä»£è¡¨çš„æ˜¯æœ€å¤šå­˜å‚¨çš„å­—ç¬¦æ•°é‡ï¼Œå¹¶ä¸æ˜¯å­—èŠ‚å¤§å°å“¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦ç®— varchar(n) æœ€å¤§èƒ½å…è®¸å­˜å‚¨çš„å­—èŠ‚æ•°ï¼Œè¿˜è¦çœ‹æ•°æ®åº“è¡¨çš„å­—ç¬¦é›†ï¼Œå› ä¸ºå­—ç¬¦é›†ä»£è¡¨ç€ï¼Œ1ä¸ªå­—ç¬¦è¦å ç”¨å¤šå°‘å­—èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚ ascii å­—ç¬¦é›†ï¼Œ 1 ä¸ªå­—ç¬¦å ç”¨ 1 å­—èŠ‚ï¼Œé‚£ä¹ˆ Â varchar(100) æ„å‘³ç€æœ€å¤§èƒ½å…è®¸å­˜å‚¨ 100 å­—èŠ‚çš„æ•°æ®ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å•å­—æ®µçš„æƒ…å†µ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢æˆ‘ä»¬çŸ¥é“äº†ï¼Œä¸€è¡Œè®°å½•æœ€å¤§åªèƒ½å­˜å‚¨ 65535 å­—èŠ‚çš„æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å‡è®¾æ•°æ®åº“è¡¨åªæœ‰ä¸€ä¸ª varchar(n) ç±»å‹çš„åˆ—ä¸”å­—ç¬¦é›†æ˜¯ asciiï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ varchar(n) ä¸­ n æœ€å¤§å–å€¼æ˜¯ 65535 å—ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ç€æ€¥è¯´ç»“è®ºï¼Œæˆ‘ä»¬å…ˆæ¥åšä¸ªå®éªŒéªŒè¯ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª varchar(65535) ç±»å‹çš„å­—æ®µï¼Œå­—ç¬¦é›†ä¸º ascii çš„æ•°æ®åº“è¡¨ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;CREATE&lt;/span&gt;Â &lt;span&gt;TABLE&lt;/span&gt;Â &lt;span&gt;test&lt;/span&gt;Â (Â &lt;br/&gt;&lt;span&gt;`name`&lt;/span&gt;Â &lt;span&gt;VARCHAR&lt;/span&gt;(&lt;span&gt;65535&lt;/span&gt;)Â Â &lt;span&gt;NULL&lt;/span&gt;&lt;br/&gt;)Â &lt;span&gt;ENGINE&lt;/span&gt;Â =Â &lt;span&gt;InnoDB&lt;/span&gt;Â &lt;span&gt;DEFAULT&lt;/span&gt;Â &lt;span&gt;CHARACTER&lt;/span&gt;Â &lt;span&gt;SET&lt;/span&gt;Â =Â &lt;span&gt;ascii&lt;/span&gt;Â ROW_FORMATÂ =Â &lt;span&gt;COMPACT&lt;/span&gt;;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹èƒ½ä¸èƒ½æˆåŠŸåˆ›å»ºä¸€å¼ è¡¨ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15930902111324377&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVq0ghMcczC6NUj5okaGnPus7YI43P9fwt5KE2vEdxiceSSbT9tzhUFDQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1042&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“æœæ˜¾ç¤ºï¼Œåˆ›å»ºå¤±è´¥äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»æŠ¥é”™ä¿¡æ¯å°±å¯ä»¥çŸ¥é“&lt;strong&gt;ä¸€è¡Œæ•°æ®çš„æœ€å¤§å­—èŠ‚æ•°æ˜¯ 65535ï¼ˆä¸åŒ…å« TEXTã€BLOBs è¿™ç§å¤§å¯¹è±¡ç±»å‹ï¼‰ï¼Œå…¶ä¸­åŒ…å«äº† storage overhead&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é—®é¢˜æ¥äº†ï¼Œè¿™ä¸ª storage overhead æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å°±æ˜¯ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€å’Œ ã€ŒNULL å€¼åˆ—è¡¨ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´&lt;strong&gt;ä¸€è¡Œæ•°æ®çš„æœ€å¤§å­—èŠ‚æ•° 65535ï¼Œå…¶å®æ˜¯åŒ…å«ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€å’Œ ã€ŒNULL å€¼åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•°çš„&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œ æˆ‘ä»¬åœ¨ç®— varchar(n) ä¸­ n æœ€å¤§å€¼æ—¶ï¼Œéœ€è¦å‡å» storage overhead Â å ç”¨çš„å­—èŠ‚æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å­˜å‚¨å­—æ®µç±»å‹ä¸º varchar(n) Â çš„æ•°æ®æ—¶ï¼Œå…¶å®åˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†æ¥å­˜å‚¨ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;çœŸå®æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;çœŸå®æ•°æ®å ç”¨çš„å­—èŠ‚æ•°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;NULL æ ‡è¯†ï¼Œå¦‚æœä¸å…è®¸ä¸ºNULLï¼Œè¿™éƒ¨åˆ†ä¸éœ€è¦&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœ¬æ¬¡æ¡ˆä¾‹ä¸­ï¼Œã€ŒNULL å€¼åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•°æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢æˆ‘åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå­—æ®µæ˜¯å…è®¸ä¸º NULL çš„ï¼Œæ‰€ä»¥&lt;strong&gt;ä¼šç”¨ 1 å­—èŠ‚æ¥è¡¨ç¤ºã€ŒNULL å€¼åˆ—è¡¨ã€&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœ¬æ¬¡æ¡ˆä¾‹ä¸­ï¼Œã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•°æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•° = æ‰€æœ‰ã€Œå˜é•¿å­—æ®µé•¿åº¦ã€å ç”¨çš„å­—èŠ‚æ•°ä¹‹å’Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å…ˆçŸ¥é“æ¯ä¸ªå˜é•¿å­—æ®µçš„ã€Œå˜é•¿å­—æ®µé•¿åº¦ã€éœ€è¦ç”¨å¤šå°‘å­—èŠ‚è¡¨ç¤ºï¼Ÿå…·ä½“æƒ…å†µåˆ†ä¸ºï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¡ä»¶ä¸€ï¼šå¦‚æœå˜é•¿å­—æ®µå…è®¸å­˜å‚¨çš„æœ€å¤§å­—èŠ‚æ•°å°äºç­‰äº 255 å­—èŠ‚ï¼Œå°±ä¼šç”¨ 1 å­—èŠ‚è¡¨ç¤ºã€Œå˜é•¿å­—æ®µé•¿åº¦ã€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ä»¶äºŒï¼šå¦‚æœå˜é•¿å­—æ®µå…è®¸å­˜å‚¨çš„æœ€å¤§å­—èŠ‚æ•°å¤§äº 255 å­—èŠ‚ï¼Œå°±ä¼šç”¨ 2 å­—èŠ‚è¡¨ç¤ºã€Œå˜é•¿å­—æ®µé•¿åº¦ã€ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬è¿™é‡Œå­—æ®µç±»å‹æ˜¯ varchar(65535) ï¼Œå­—ç¬¦é›†æ˜¯ asciiï¼Œæ‰€ä»¥ä»£è¡¨ç€å˜é•¿å­—æ®µå…è®¸å­˜å‚¨çš„æœ€å¤§å­—èŠ‚æ•°æ˜¯ 65535ï¼Œç¬¦åˆæ¡ä»¶äºŒï¼Œæ‰€ä»¥ä¼šç”¨ 2 å­—èŠ‚æ¥è¡¨ç¤ºã€Œå˜é•¿å­—æ®µé•¿åº¦ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å› ä¸ºæˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹æ˜¯åªæœ‰ 1 ä¸ªå˜é•¿å­—æ®µï¼Œæ‰€ä»¥ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€= 1 ä¸ªã€Œå˜é•¿å­—æ®µé•¿åº¦ã€å ç”¨çš„å­—èŠ‚æ•°ï¼Œä¹Ÿå°±æ˜¯ 2 å­—èŠ‚&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºæˆ‘ä»¬åœ¨ç®— varchar(n) ä¸­ n æœ€å¤§å€¼æ—¶ï¼Œéœ€è¦å‡å» ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€å’Œ ã€ŒNULL å€¼åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•°çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œ&lt;strong&gt;åœ¨æ•°æ®åº“è¡¨åªæœ‰ä¸€ä¸ª varchar(n) Â å­—æ®µä¸”å­—ç¬¦é›†æ˜¯ ascii çš„æƒ…å†µä¸‹ï¼Œvarchar(n) ä¸­ n æœ€å¤§å€¼ = Â 65535 - 2 - 1 = 65532&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å…ˆæ¥æµ‹è¯•çœ‹çœ‹ Â varchar(65533) Â æ˜¯å¦å¯è¡Œï¼Ÿ&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.11194029850746269&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVqDiaiaP0NjhajlhQjCicyAZS8SEWvp2QgK0oxJdJ7Sg6EIkIjuh43lA5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1876&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œæ¥ä¸‹æ¥çœ‹çœ‹ varchar(65532) Â æ˜¯å¦å¯è¡Œï¼Ÿ&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.08766233766233766&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVic5xLXpI1jYCF4ZvsewkYibRZ8jjFqK70B3E7eXz0IyrhKB71awTh0Rw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1848&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ï¼Œåˆ›å»ºæˆåŠŸäº†ã€‚è¯´æ˜æˆ‘ä»¬çš„æ¨è®ºæ˜¯æ­£ç¡®çš„ï¼Œåœ¨ç®— varchar(n) ä¸­ n æœ€å¤§å€¼æ—¶ï¼Œéœ€è¦å‡å» ã€Œå˜é•¿å­—æ®µé•¿åº¦åˆ—è¡¨ã€å’Œ ã€ŒNULL å€¼åˆ—è¡¨ã€æ‰€å ç”¨çš„å­—èŠ‚æ•°çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼Œæˆ‘ä¸Šé¢è¿™ä¸ªä¾‹å­æ˜¯é’ˆå¯¹å­—ç¬¦é›†ä¸º ascii æƒ…å†µï¼Œå¦‚æœé‡‡ç”¨çš„æ˜¯ UTF-8ï¼Œvarchar(n) Â æœ€å¤šèƒ½å­˜å‚¨çš„æ•°æ®è®¡ç®—æ–¹å¼å°±ä¸ä¸€æ ·äº†ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨ UTF-8 å­—ç¬¦é›†ä¸‹ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²æœ€å¤šéœ€è¦ä¸‰ä¸ªå­—èŠ‚ï¼Œvarchar(n) çš„ n æœ€å¤§å–å€¼å°±æ˜¯ 65532/3 = 21844ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢æ‰€è¯´çš„åªæ˜¯é’ˆå¯¹äºä¸€ä¸ªå­—æ®µçš„è®¡ç®—æ–¹å¼ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å¤šå­—æ®µçš„æƒ…å†µ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¦‚æœæœ‰å¤šä¸ªå­—æ®µçš„è¯ï¼Œè¦ä¿è¯æ‰€æœ‰å­—æ®µçš„é•¿åº¦ + å˜é•¿å­—æ®µå­—èŠ‚æ•°åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•° + NULLå€¼åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•° &amp;lt;= 65535&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸¾ä¸ªå¤šå­—æ®µçš„æƒ…å†µçš„ä¾‹å­ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.40830945558739257&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVKKEk1Z7Rl1plqKEb5e6UUdJnIzlM6I9IavHdtxowSefG9kzmnRY2Cw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1396&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å®éªŒç»“æœï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2980349344978166&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZdMgIq99PeF57DFRg6z7XJVWGYYSD7kVQXJha2EDlpbl1FQMz1wia3ibjHWibWVy797a8mwY8EkEfn1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1832&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;varchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸ºå¤šå°‘ï¼Ÿ&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€è¡Œè®°å½•æœ€å¤§èƒ½å­˜å‚¨ 65535 å­—èŠ‚çš„æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯åŒ…å«ã€Œå˜é•¿å­—æ®µå­—èŠ‚æ•°åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•°ã€å’Œã€ŒNULLå€¼åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•°ã€ã€‚æ‰€ä»¥ï¼Œ æˆ‘ä»¬åœ¨ç®— varchar(n) ä¸­ n æœ€å¤§å€¼æ—¶ï¼Œéœ€è¦å‡å»è¿™ä¸¤ä¸ªåˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¸€å¼ è¡¨åªæœ‰ä¸€ä¸ª varchar(n) Â å­—æ®µï¼Œä¸”å…è®¸ä¸º NULLï¼Œå­—ç¬¦é›†ä¸º asciiã€‚varchar(n) ä¸­ n æœ€å¤§å–å€¼ä¸º 65532ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è®¡ç®—å…¬å¼ï¼š65535 - å˜é•¿å­—æ®µå­—èŠ‚æ•°åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•°Â - NULLå€¼åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•° = 65535 - 2 - 1 = 65532ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæœ‰å¤šä¸ªå­—æ®µçš„è¯ï¼Œè¦ä¿è¯æ‰€æœ‰å­—æ®µçš„é•¿åº¦ + å˜é•¿å­—æ®µå­—èŠ‚æ•°åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•° + NULLå€¼åˆ—è¡¨æ‰€å ç”¨çš„å­—èŠ‚æ•° &amp;lt;= 65535ã€‚&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;Mzg3NzU5NTIwNg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/PoF8jo1PmpxpY5pHeUUaicHSaqaylBb25Rbib0ocE4ZmXWdicS9tbGvFc9qvbiaNDibKKvuFYqlUdSW6VicXhoLNHfMQ/0?wx_fmt=png&quot; data-nickname=&quot;æ¡ç”°èºçš„å°ç”·å­©&quot; data-alias=&quot;&quot; data-signature=&quot;ä¸“æ³¨åç«¯æŠ€æœ¯æ ˆï¼Œçƒ­çˆ±åˆ†äº«ï¼Œçƒ­çˆ±äº¤æœ‹å‹ï¼Œçƒ­çˆ±å·¥ä½œæ€»ç»“ã€‚æ¯•ä¸šäºåå—ç†å·¥å¤§å­¦ï¼Œè½¯ä»¶å·¥ç¨‹ä¸“ä¸š~&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;mpcps class=&quot;js_editor_new_cps&quot; data-templateid=&quot;list&quot; data-traceid=&quot;884ada36-d903-45c3-a4a6-fba5f85e5f93&quot; data-goodssouce=&quot;1&quot; data-pid=&quot;137_221282671900012207801683&quot; data-appuin=&quot;3875664301&quot; data-buffer=&quot;{&amp;quot;category_id&amp;quot;:8,&amp;quot;pid&amp;quot;:&amp;quot;137_221282671900012207801683&amp;quot;,&amp;quot;biz_uin&amp;quot;:&amp;quot;3875664301&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;884ada36-d903-45c3-a4a6-fba5f85e5f93&amp;quot;,&amp;quot;sku_id&amp;quot;:&amp;quot;137_221282671900012207801683&amp;quot;,&amp;quot;source_id&amp;quot;:37,&amp;quot;source_name&amp;quot;:&amp;quot;çˆ±é€›&amp;quot;,&amp;quot;audit_state&amp;quot;:1,&amp;quot;main_img&amp;quot;:&amp;quot;https://pcm-img.zhls.qq.com/productcenter-097cfe63--1013790-2196423008332235581/92540481612112022/38080945729fbdafd010ff19c6489328.jpg&amp;quot;,&amp;quot;product_name&amp;quot;:&amp;quot;å¿—é«˜ç”µåŠ¨å‰ƒé¡»åˆ€ç”·å£«å‰ƒèƒ¡åˆ®èƒ¡åˆ€æ™ºèƒ½å……ç”µå¼è¿·ä½ å¹²æ¹¿ä¸¤ç”¨ä¾¿æºèƒ¡æ°´æ´—&amp;quot;,&amp;quot;current_price&amp;quot;:10600,&amp;quot;first_category_id&amp;quot;:&amp;quot;8&amp;quot;,&amp;quot;product_label_name_list&amp;quot;:[],&amp;quot;select_tag_name_list&amp;quot;:[],&amp;quot;appuin&amp;quot;:&amp;quot;3875664301&amp;quot;,&amp;quot;isNewCpsKOL&amp;quot;:1,&amp;quot;templateId&amp;quot;:&amp;quot;list&amp;quot;}&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>