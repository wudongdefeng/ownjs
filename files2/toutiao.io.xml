<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>3f5be48e9f00e2e80e79e633cba6f740</guid>
<title>【JVM 札记】JVM 内存划分</title>
<link>https://toutiao.io/k/vazr8q6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content               autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzI0MzA2OTc4MQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/Bfv9smoHwth5nBzNr9kZshQ25yhLz08JicGiaeuWY5k8z6JHS4KYxQ2zp2lU9mjSC6PsvBlib658u3CnrSQsuCzAg/0?wx_fmt=png&quot; data-nickname=&quot;码农UP2U&quot; data-alias=&quot;&quot; data-signature=&quot;努力成为一个初级程序员！&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;早期文章&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Java 之所以能够跨平台，完全仰仗于 JVM，JVM 作为操作系统中的一个进程而存在。它主要用来将 .class 文件翻译成二进制的机器码并在 CPU 上进行执行。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;是否有必要学习 JVM&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;为什么要了解 JVM 的内存划分或者内存管理呢？其实本身我觉得是没有太多必要的，因为作为一个普通的程序员而言，去了解它是一种破坏黑盒子的行为。但是，JVM 提供了自动的内存管理机制，它的内存自动管理机制虽然有很多实现方式，但是在各种不同的场景下它不一定是最优的。在追求极致的状态下，就要通过人为的调控它来让它最优，因此又不得不去学习它，去了解它。这就好比，作为一个普通的司机，会开汽车就可以了，不用关心发动机的原理与实现；而对于一个赛车手可能就需要对发动机在不同环境下的性能等有深入的了解，从而让赛车发挥最大的优势。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;为什么进行内存划分&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;既然需要了解 JVM 的内存划分，那么就先说说 JVM 为什么要进行内存划分呢？这个其实比较好理解，因为这种划分区域的方式可以说随处可见。比如家里的房子会按照人的作用划分为客厅、卧室、卫生间等，基本上每个房间是按照其作用进行划分的，也方便进行管理，还有不同的权限，比如去别人家，在客厅坐坐就好，不要去人家的卧室。其实软件中也是这样。比如新买的硬盘会进行分区，会进行格式化操作。除此而外，&lt;/span&gt;&lt;span&gt;操作系统也会对内存进行划分，可执行程序被加载入内存后，也会有相应的不同属性的内存。我们知道程序大体分为两部分，一部分是指令，一部分是数据。&lt;/span&gt;&lt;span&gt;指令和数据在内存中通常也是分开的。比如，&lt;/span&gt;&lt;span&gt;代码是只读和可执行的，而不可写；数据有的是可读写的，有的是只读的；这样可以根据不同的内存属性来划分不同的内存区域。&lt;/span&gt;&lt;span&gt;事实上，操作系统也是这么做的。这种做法也符合分治思想。（你可能会说，万事没有绝对，代码所属的内存有时也是可以写的，比如加壳、脱壳，数据所属的内存也是可以被执行，比如缓冲区溢出、虚拟机等。当然了，虽然这是事实，但是也并不说明内存按属性划分的管理方式有问题）&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;JVM 内存大致划分&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JVM 作为虚拟机的存在可以被认为是一台独立的机器，.class 作为 JVM 上的可执行文件，因此，JVM 也会划分不同的内存区域来管理 .class 文件在执行时的状态。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JDK 8 的内存区域划分与之前 JDK 版本有所不同，大体是移除了持久代，而改用了元空间。JDK 8 的 JVM 内存区域划分大体如下：&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4218512898330804&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Bfv9smoHwtiaCmh4HkpCNUENLDQAiaIJqBjCnmogpcJxOmYZQDSKXibFMagAICG2dTwYPxSr1p6L9Lb4PskTI2L5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;659&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在图中，可以看到内存大体划分为：方法区、堆、虚拟机栈、本地方法栈、程序计数器和直接内存。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;这里大体来介绍一下这些内存区域的作用。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在上面的内存区域中，方法区与堆是各个线程共享的；而虚拟机栈、本地方法栈和程序计数器是线程相关的，也就是各个线程是独立的、隔离的。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;程序计数器&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;先来说一下程序计数器。程序计数器相当于 CPU 中的 IP 寄存器，即指令指针寄存器，32 位的 CPU 被称为 EIP，64 位的 CPU 称为 RIP。它的作用是保存了下一条要执行的指令的地址。JVM 中的程序计数器其实也是同样的道理。为什么程序计数器是线程相关的呢？比如一个方法可以被多个线程同时执行（毕竟一个方法的代码在内存中应该只有一份），而每个线程执行到当前方法的哪条指令就需要分别由各自线程的程序计数器来保存。也就是 A 线程有 A 线程自己的程序计数器，B 线程有 B 线程自己的程序计数器，它们互相独立，互不影响。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;栈结构&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;虚拟机栈是一个“栈”结构，栈中存放局部变量、参数、返回地址等。且它们也是线程相关的，也就是每个线程都有自己的栈。在栈中有多个栈帧，每进入一个方法，就会开辟相应的栈帧。什么是栈帧呢？可以理解为栈对应着线程，栈帧对应着方法。这种解释方法并不一定准确，但是我个人认为比较好理解。CPU 管理栈时，使用 BP 和 SP 两个寄存器来进行管理，分别管理着栈顶和栈底。当调用方法时，会将参数和返回地址入栈，然后保存 BP 寄存器，即栈底指针，然后通过按照局部变量的大小来改变 SP 寄存器分配新的栈顶，这样就相当于是一个新的栈帧。当方法执行完成后，会通过改变 SP 寄存器的值来回收栈空间，栈中保存的 BP 寄存器的值再送回 BP 寄存器，将返回地址送到 IP 寄存器。这样一顿操作下来，栈帧就恢复到了方法调用前的情况。当然了，JVM 虚拟机对栈的管理应该不是直接使用 BP 和 SP 寄存器，但是原理应该是类似的。毕竟栈这种数据结构，主要就是栈底和栈顶两个指针就可以管理了。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;本地方法栈是虚拟机使用到本地方法时会用到的栈。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;堆内存&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;堆是 JVM 中较大的一块内存，在方法中的基本数据类型会使用栈，而对象和数组则会在堆上进行分配。Java 是面向对象的程序设计语言，会有很多的对象要进行使用，也就是所有的对象会在堆中进行分配。当堆中的对象不再使用时，JVM 会在某个时间点回收这些内存空间。由于堆空间较大，而对于较大的内存进行回收时就是比较耗时的事情，因此 JVM 又把堆空间又被进行了各种细分，比如 Eden、Survivor 等。这块应该是学习的一个重点，毕竟垃圾回收就主要是针对堆内存进行的。对于 C 和 C++ 这样的语言，就是使用 malloc、free、new、delete 一类的函数来进行管理，当然了是程序员自己进行管理。&lt;/span&gt;&lt;span&gt;如果程序员管理不好自己分配的内存就会导致内存泄漏，最后可能明明有内存却申请不到内存而导致进程挂掉或其他的问题吧。JVM 就是来替程序员管理这部分内存的，管理的重点就是堆空间什么时候回收，怎么回收。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;方法区&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;方法区与 Java 的堆空间一样，也是被线程共享的，其中存放了类型信息、常量、静态变量等。比如这里可以放置 Java 代码对应的字节码，那么代码当然是所有线程共享的，我们不需要把同样的代码在内存中加载两次，让两个线程分别执行两份相同的代码，毕竟同一份代码的逻辑是相同的，不同的只是数据。因此，代码是共享的，不同的线程各自操作各自的数据即可。（当然了，共享的数据在多个线程下同时被操作时是有危险的，所以就搞出了线程的同步、互斥之类的）&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;其实这种知识我觉得还是不要迷信的好，能把代码真正的写好也不容易，去学习数据结构、设计模式可能更贴近工作。在相同的算法下，在经过调优当然会更好，但是代码写的很糟糕，就想着用这种方式调优，感觉有些离谱。当然了，如果了解了 JVM 以后，在写代码时能更亲和 JVM 的工作方式去写代码，那样也不错。但是还是那个前提，就是代码效率的本身已经不错了，再考虑这些。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;当然了，如果工作中真的能用到 JVM，或者也真的需要用到 JVM 那就另当别论了。（面试要问的话，也得准备！！）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.0712962962962963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Bfv9smoHwthBDooApBDUM9yqM6BWHMOaJyrXzMxqibI7B90xNgZswWSVSatF56vMAicAA56UmJkc2rQlDUARycYQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mpcps class=&quot;js_editor_new_cps&quot; data-templateid=&quot;list&quot; data-traceid=&quot;undefined&quot; data-goodssouce=&quot;1&quot; data-pid=&quot;101_10060770213143&quot; data-appuin=&quot;3243069781&quot; data-buffer=&quot;{&amp;quot;category_id&amp;quot;:0,&amp;quot;pid&amp;quot;:&amp;quot;101_10060770213143&amp;quot;,&amp;quot;biz_uin&amp;quot;:&amp;quot;3243069781&amp;quot;,&amp;quot;sku_id&amp;quot;:&amp;quot;101_10060770213143&amp;quot;,&amp;quot;source_id&amp;quot;:2,&amp;quot;source_name&amp;quot;:&amp;quot;京东&amp;quot;,&amp;quot;audit_state&amp;quot;:1,&amp;quot;main_img&amp;quot;:&amp;quot;https://pcm-img.zhls.qq.com/productcenter-6fa174af--1018824-7975090560325406147/23105240921122022/b7eff0a3125954d219c32e31f2511988.jpg&amp;quot;,&amp;quot;product_name&amp;quot;:&amp;quot;逆向分析实战冀云人民邮电出版社9787115590701 计算机与互联网书籍&amp;quot;,&amp;quot;current_price&amp;quot;:7390,&amp;quot;first_category_id&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;product_label_name_list&amp;quot;:[],&amp;quot;select_tag_name_list&amp;quot;:[],&amp;quot;templateId&amp;quot;:&amp;quot;card&amp;quot;,&amp;quot;appuin&amp;quot;:&amp;quot;3243069781&amp;quot;,&amp;quot;isNewCpsKOL&amp;quot;:1}&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;公众号内回复 【mongo】 下载 SpringBoot 整合操作 MongoDB 的文档。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;公众号内回复 【&lt;/strong&gt;&lt;strong&gt;cisp知识整理&lt;/strong&gt;&lt;strong&gt;】 下载 CISP 读书笔记。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;公众号内&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;回复【java开发手册】获取《Java开发手册》黄山版。&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.36484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Bfv9smoHwth5nBzNr9kZshQ25yhLz08JHWsQdz8yVn3MVh22hia7NFoPyNJz4ZI7XUnMa9xM50TJRqPkWf7BRibQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>6d5fe5bc9572abae21d479693d8d9a55</guid>
<title>当面试官问你 MySQL 优化时该怎么应对？</title>
<link>https://toutiao.io/k/d0rry8q</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;span class=&quot;RichText ztext CopyrightRichText-richText css-1g0fqss&quot; options=&quot;[object Object]&quot; itemprop=&quot;text&quot;&gt;&lt;p data-first-child=&quot;&quot;&gt;本篇回答从以下三个阶段详细的为你阐述如何准备数据分析师的面试，一应俱全，你需要的全都有。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第 1 阶段：面试开始，逃不掉的自我介绍&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第 2 阶段：考察能力的技术问题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;第 3 阶段：面试结束时的问题&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;最后，我们聊聊面试当天要注意什么，以及面试失败以后怎么办&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;一、逃不掉的自我介绍&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;首先，面试的开头就是&lt;strong&gt;自我介绍&lt;/strong&gt;。通常面试官也会根据你的自我介绍来展开问后面的问题。比如你在自我介绍种说了一个项目，那面试官就问这个项目的细节，比如你用了什么技术，如何实现某个功能的等等。通过项目的细节来考察你某个方面的能力，因此，自我介绍非常重要。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;如果你实在不知道如何准备自我介绍，可以按下面模板准备：&lt;/p&gt;
&lt;p&gt;1）我是谁：一句话说清楚你哪年在哪里获得什么学位。&lt;/p&gt;
&lt;p&gt;2）我做过什么：按时间顺序讲下你认为做过的最好的 1 个或者 2 个项目。&lt;/p&gt;
&lt;p&gt;简单说下用了什么技术，最后的成果是什么。最好能有些量化的指标，比如达到了怎样的效果等等。&lt;/p&gt;
&lt;p&gt;注意这里自我介绍不要展开了说项目，而是从总体上介绍项目，这样做的好处是，留有余地，让面试官后面能根据你的描述展开问你这些项目的细节。不然，如果你连细节都说了，后面面试官都不知道该问你啥了，这就叫做留有余地。&lt;/p&gt;
&lt;p&gt;3）我想做什么：在最后说下我希望能在贵公司继续发挥我的 xxx 能力。&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;二、考察对数据分析岗位的理解与职业规划&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt;数据分析师与&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B%E5%B8%88&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;数据工程师&lt;/a&gt;的区别在哪里？&lt;/li&gt;
&lt;li&gt;为什么转行， 为什么没在公司内部转岗？&lt;/li&gt;
&lt;li&gt;你理解的分析师的工作是怎样的？&lt;/li&gt;
&lt;li&gt;分析团队的价值是什么？&lt;/li&gt;
&lt;li&gt;你觉得数据分析最重要的是什么？&lt;/li&gt;
&lt;li&gt;你平时都是怎么做数据清洗的？&lt;/li&gt;
&lt;li&gt;数据分析都用哪些工具？&lt;/li&gt;
&lt;li&gt;你认为数据分析师应该具备哪些能力？&lt;/li&gt;
&lt;li&gt;你对数据分析这个职位有什么看法？&lt;/li&gt;
&lt;li&gt;你对自己的职业定位是怎样的？&lt;/li&gt;
&lt;li&gt;你的优点和缺点是什么？&lt;/li&gt;
&lt;li&gt;为什么要选择做数据分析？（如果是转行，一般面试官会必问这个问题，建议结合原工作回答，从原工作引申过来。）&lt;/li&gt;
&lt;li&gt;你觉得数据分析最难的地方在哪里？（这个最好结合面试公司的业务产品来说，容易引起共鸣）&lt;/li&gt;
&lt;li&gt;你觉得数据分析的工作最大的收获是什么？&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;strong&gt;三、考察技术能力的问题&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;虽然各个数据分析师要做的事情不同，但是数据分析师最重要的 3 个能力却是通用的。面试过程一般会根据这 3 个能力来提问：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1）数据分析工具&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2）理论知识&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3）业务逻辑&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这一部分是对业务能力的考察，可以说是整个面试中最重要的环节了，直接决定你能不能过。&lt;/p&gt;
&lt;p&gt;如果&lt;strong&gt;觉得自己在专业能力上还需要提升，或者基础薄弱但想做数据分析师，可以报名猴子老师在知乎上开设的「数据分析 3 天实战训练营」。&lt;/strong&gt;&lt;/p&gt;
&lt;a data-draft-node=&quot;block&quot; data-draft-type=&quot;edu-card&quot; data-edu-card-id=&quot;1572977657947566080&quot;/&gt;
&lt;p&gt;&lt;strong&gt;不仅会结合具体的工作场景，教你数据分析工具的使用方法，还会带你 get 面试官尤其看&lt;/strong&gt;&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E6%95%B0%E6%8D%AE%E6%80%9D%E7%BB%B4&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;重的数据&lt;/a&gt;&lt;strong&gt;思维&lt;/strong&gt;。既掌握了专业技能、又具备思路和逻辑，面试会顺利不少。&lt;/p&gt;
&lt;p&gt;下面分别谈下这 3 个能力要掌握哪些知识。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 工具&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;常用的数据分析工具有 Excel+SQL+Python/R，有的公司要求会一种就可以，有的要求都会，所以根据你应聘职位的不同自由选择学习就可以。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1）Excel&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;需要掌握的核心技能有：&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;数据透视表&lt;/a&gt;，vlookup，常用函数的使用，基础图表的制作&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;常见的面试题：之前工作里用过什么报表？&lt;/p&gt;
&lt;p&gt;面试官主要想通过这个题目看下之前工作的复杂性，可以针对类似的问题准备下，比如说自学做项目的时候遇到过什么类型的报表之类的。不过不要脱离现实瞎编，因为很容易被戳穿。&lt;/p&gt;
&lt;p&gt;建议面试前准备一个项目，面试当天把电脑带过去，当问到 excel 技能的时候，直接拿出来给面试官演示。面试官除了问 excel 技能，还会问做表的逻辑，所以要能够讲清楚做表的逻辑，对方就会比较认可。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2）SQL&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;公司的内部数据存储在数据库中，作为数据分析师要能够从数据库中获取数据并进行分析。&lt;/p&gt;
&lt;p&gt;需要掌握的核心技能有：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;会利用 SQL &lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E5%BC%80%E6%BA%90%E6%95%B0%E6%8D%AE%E5%BA%93&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;操作开源数&lt;/a&gt;据库 mysql 进行查询&lt;/li&gt;
&lt;li&gt;存储过程&lt;/li&gt;
&lt;li&gt;数据库的分组、聚合、排序&lt;br/&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最常见的考 SQL 的方法给你一个虚拟的数据库表结构，然后让你按给出的条件查询出数据，并用手写的形式写出在纸上。所以面试前把常用的语句记清楚就行了。&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;internal&quot; href=&quot;https://zhuanlan.zhihu.com/p/38354000&quot;&gt;常见的 SQL 笔试题和面试题：经典 50 题 4888 赞同 · 235&lt;/a&gt; 评论文&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3）编程语言 Python 或者 R&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;一般情况下，这两种语言会一种就够了。如果是学习 Python 的话，需要掌握的核心技能：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Python 基本语法&lt;/li&gt;
&lt;li&gt;Python 数据分析的包（numpy, pandas, matplotlib)&lt;/li&gt;
&lt;li&gt;能够用 python 操作结构化数据，进行数据清洗，数据抽取，数据可视化等&lt;/li&gt;
&lt;li&gt;使用 python 操作数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;一般不会在代码上问得太细，毕竟写工作的时候不会的就用搜索引擎搜呗，面试官重要的想知道你究竟有没有用过这个技能。 参考复习资料：&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/lives/903272047218692096&quot;&gt;零基础掌握人工智能(AI)核心语言：Python&lt;/a&gt;&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.理论知识&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1）统计概率&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这是数据分析必须要学的，不然很多统计指标看不懂，统计方法也不了解，怎么做数据分析呢？&lt;/p&gt;
&lt;p&gt;需要掌握的核心技能有：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;描述性统计（平均值，标准差，中位数）&lt;/li&gt;
&lt;li&gt;概率（独立事件，相关事件，期望，包括贝叶斯）&lt;/li&gt;
&lt;li&gt;概率分布（&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E7%A6%BB%E6%95%A3%E6%A6%82%E7%8E%87%E5%88%86%E5%B8%83&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;离散概率分布&lt;/a&gt;，连续概率分布）&lt;/li&gt;
&lt;li&gt;统计推断（抽样，置信区间，假设检验）&lt;br/&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如面试官可能会这样问：置信区间 （Confidence Interval） 是更怕 I 型错误还是 II 型错误？如果还不会，可以看这&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/lives/957267433334034432&quot;&gt;个复习：统计概率思维：误差思维和&lt;/a&gt;置信区间&lt;/p&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2）机器学习（加分项）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;机器学习这一块其实应该算是数据分析岗位的加分项，不一定是必须的，要看具体岗位。&lt;/p&gt;
&lt;p&gt;需要掌握的机器学习算法：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E5%88%86%E7%B1%BB%E7%AE%97%E6%B3%95&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;分类算法&lt;/a&gt;：逻辑回归，贝叶斯、决策树、随机森林&lt;/li&gt;
&lt;li&gt;回归算法：线性回归&lt;/li&gt;
&lt;li&gt;&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E8%81%9A%E7%B1%BB%E7%AE%97%E6%B3%95&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;聚类算法&lt;/a&gt;：K-means&lt;br/&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;需要掌握的核心技能：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;特征工程&lt;/li&gt;
&lt;li&gt;模型评价&lt;/li&gt;
&lt;li&gt;交叉检验（用已有的数据监测算法的预测力）&lt;br/&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;能够熟悉常见算法的基本原理、了解各类算法的优缺点和使用场景即可，如果是学到 Python，要会使用 Python 的机器学习 sklearn 包应用这些算法解决具体的问题。这方面多做几个 kaggle &lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/question/23987009/answer/285179721&quot;&gt;项目可以解决：Kagg&lt;/a&gt;le 如何入门？&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.业务知识&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;主要包括业务指标和数据分析报告 2 块内容的掌握。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1）业务指标&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;数据分析师每天要关注大量数据指标，而数据指标又与具体的领域业务相关，掌握常用的数据指标可以灵活应对面试中提出的业务问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需要掌握的核心技能：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;某一领域的业务知识&lt;/li&gt;
&lt;li&gt;数据分析思维：漏斗思维，&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E5%88%86%E7%B1%BB%E6%80%9D%E7%BB%B4&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;分类思维&lt;/a&gt;，平衡思维，A/B test，&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E9%87%91%E5%AD%97%E5%A1%94%E5%8E%9F%E7%90%86&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;金字塔原理&lt;/a&gt;等&lt;/li&gt;
&lt;li&gt;相关性和因果关系的区别， 通过案例可以分析出来&lt;/li&gt;
&lt;/ul&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;常见的面试题：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;分析一个你在工作中能体现&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/search?q=%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A566098609%7D&quot;&gt;分析思维&lt;/a&gt;的例子？&lt;/p&gt;
&lt;p&gt;各个指标如何衡量，比如 app 的转换率，是点击算转化还是注册了算转化还是购买产品后算转化？&lt;/p&gt;
&lt;p&gt;运营过程中，看某个指标有问题，你会怎么具体分析？&lt;/p&gt;
&lt;p&gt;跟我讲讲你之前公司业务运作模式或者情况？&lt;/p&gt;
&lt;p&gt;你做的事情对于业务有什么作用？&lt;/p&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;业务知识面试如何准备？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1）确定好要找哪个领域的数据分析师工作&lt;/p&gt;
&lt;p&gt;如果你说自己想进入「互联网行业&#x27;，那就说明你还没想清楚到底要干什么。因为互联网的存在是为了解决某个领域的问题，比如滴滴、高德地图解决的是出行交通领域的问题，小学英语在线平台 vipkid 解决的是教育行业的问题，蚂蚁金服解决的是金融行业的问题，饿了么解决的是餐饮行业的问题。&lt;/p&gt;
&lt;p&gt;而这些领域都需要数据分析师，每个领域的业务知识也不一样。所以以后你找的也是成为 XXX 行业的数据分析师。只有确定了行业，才能研究这个行业是什么，对症下药，这样成功转型的概率最大。&lt;/p&gt;
&lt;p&gt;选择领域建议优先选择与之前行业相关领域的数据分析师，因为有之前的行业经验作为你的业务知识，可以很快找到工作。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;2）找到某领域的招聘职位需求&lt;/p&gt;
&lt;p&gt;确定好领域以后，就可以在招聘网站查找这个领域的数据分析职位，看看具体要求哪些。然后对应的去准备。&lt;/p&gt;
&lt;p&gt;3）简历中的项目要有针对性，转行成功的社群会员小周说的很对：&lt;/p&gt;
&lt;blockquote&gt;「聚焦」某个领域的数据分析才能有用。比如我做的有两个项目都是关于金融的，所以我在投互联网金融公司的时候获取到的面试机会比较多。&lt;/blockquote&gt;
&lt;p&gt;2）&lt;strong&gt;如何做数据分析报告？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;数据分析的最终产出是一份份报告，可能是 PPT，也可能是 PDF 等，活在使用 python 的 notebo&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/lives/941368090206994432&quot;&gt;ok 来生成：如何用 Python 绘图和&lt;/a&gt;制作数据分析报告？。所以你还要会做数据分析报告。&lt;/p&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;上面每个技能的熟练程度划分为 5 个等级，依次分别是：&lt;/p&gt;
&lt;ol&gt;&lt;li&gt;了解基本概念&lt;/li&gt;
&lt;li&gt;了解基本概念/会简单操作&lt;/li&gt;
&lt;li&gt;熟悉基本概念/熟练操作&lt;/li&gt;
&lt;li&gt;精通逻辑论证/能改进优化&lt;br/&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;对于找数据分析师实习或者初级数据分析师的工作来说，上面这几个知识大多只需要掌握到第 2 个等级就可以了。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3）面试中遇到不会的问题怎么回答&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;可以参考这个里面的经验分享（来源：&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/question/47760443/answer/404494610&quot;&gt;柯本：从零开始学数据分析，什么程度可以找工作？&lt;/a&gt;）：&lt;/p&gt;
&lt;blockquote&gt;面试官的出身决定了他/她对哪个方面更看重。数学专业出身的会问更多的统计概率、分析思维，甚至模型方面的问题；&lt;br/&gt;
&lt;br/&gt;
计算机专业出身的会问更多的 SQL、python，甚至 Hive、spark 方面的问题，面对这种类型的面试官，就不要跟他们说 Excel，power BI 用的如何如何了，会直接拉低好感。&lt;br/&gt;
&lt;br/&gt;
不管哪种情况，都会有一个共同的可能性：被问到自己一窍不通的知识点。这时候不要慌张，我们都是转行的，有些工具没用过是正常的，我们可以真诚的表达出自己愿意按公司的需要快速学习提升的意愿。&lt;br/&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;4.考察项目&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;通常会这样问题：&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;请举例说明自己参与的一个数据分析项目&lt;/li&gt;
&lt;li&gt;在这个项目中你做了什么？&lt;/li&gt;
&lt;li&gt;遇到的困难是怎么解决的？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还会问：&lt;/p&gt;
&lt;p&gt;1）分析维度有哪些？&lt;/p&gt;
&lt;p&gt;2）用了哪些分析方法？&lt;/p&gt;
&lt;p&gt;3）分析得出哪些结论？&lt;/p&gt;
&lt;p&gt;4）提出了哪些有效的建议？&lt;/p&gt;
&lt;p&gt;5）达到了什么样的效果？&lt;/p&gt;
&lt;p&gt;介绍项目主要采用主要采用 STAR 法则，不懂的看这个：&lt;/p&gt;
&lt;p&gt;&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/question/60591411/answer/616955210&quot;&gt;面试时问到我的项目经历，是在问我什么呢？118 赞同 · 9 评论回答&lt;/a&gt;&lt;/p&gt;
&lt;figure&gt;&lt;noscript&gt;&lt;img alt=&quot;&quot; data-rawheight=&quot;608&quot; data-rawwidth=&quot;1080&quot; src=&quot;https://picx.zhimg.com/50/v2-0b16697b891ea1e571df8098b5230f34_720w.jpg?source=1940ef5c&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://picx.zhimg.com/v2-0b16697b891ea1e571df8098b5230f34_r.jpg?source=1940ef5c&quot;/&gt;&lt;/noscript&gt;&lt;img alt=&quot;&quot; data-rawheight=&quot;608&quot; data-rawwidth=&quot;1080&quot; src=&quot;&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://picx.zhimg.com/v2-0b16697b891ea1e571df8098b5230f34_r.jpg?source=1940ef5c&quot; data-actualsrc=&quot;https://picx.zhimg.com/50/v2-0b16697b891ea1e571df8098b5230f34_720w.jpg?source=1940ef5c&quot;/&gt;&lt;/figure&gt;
&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;
&lt;p&gt;面试官会根据你说的内容，看你是否真的做过这个项目，考察你的实际技术能力，和逻辑能力是否清晰。&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;四、面试结束时的问题&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;问完上面的技术问题，到了面试快结束的环节，面试官通常会问：&lt;strong&gt;你有什么问公司的？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这时候绝对不要问工资、五险一金和年假制度（这种是面试通过后，到了 HR 阶段有的是机会私下问 HR）。你可以提前准备这样几个问题，比如：&lt;/p&gt;
&lt;p&gt;我会和谁一起工作？&lt;/p&gt;
&lt;p&gt;如果我遇到问题，我可以通过哪些方式获得指导？&lt;/p&gt;
&lt;p&gt;公司希望我在三个月左右能达到什么水平？&lt;/p&gt;
&lt;p&gt;在我以前，公司里最优秀的新人是什么样的？&lt;/p&gt;
&lt;h2&gt;五、最后，和你谈谈心&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;1.找工作什么时机概率最大？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;秋招（每年的 10、11 月份）和春招（每年的 3、4 月份），是各大企业招聘的黄金时期，在这个时候会涌现出大量的岗位需求，包括数据分析师。并且，由于需求的突然涌现，一般都会带来一定程度的供不应求的状态，企业也会根据需求的紧急程度来适当调整入职门槛。大部分互联网公司都在这个阶段完成招聘。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.面试当天要注意什么？&lt;/strong&gt; 穿的正常就可以，不要太与众不同。手机不要调成振动，一定要调整到无声。坐下就拿出笔记本（能写字的那种笔记本哦）。对面试官不要叫「某总」，张嘴就叫「老师」。&lt;/p&gt;
&lt;p&gt;简历里不写错别字。面试时一直笑眯眯。&lt;/p&gt;
&lt;p&gt;进入面试环节后，不要被对方牵着鼻子走，要多说你会的，你熟悉的，不会的就说没做过。这是为什么呢？因为面试的时间相对固定，你说的多了。面试官问的就少了。你暴露的几率也就低了。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.如果面试失败怎么办？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1）第 1 种情况，简历制作太差&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果你是转行到数据分析，是没有项目经验的，但是如果简历里面也是一片空白，连面试的机会都没有，这方面可以具体看我详细写的：&lt;a class=&quot;internal&quot; href=&quot;https://www.zhihu.com/question/39722495/answer/489814492&quot;&gt;如何制作高水平简历？&lt;/a&gt;&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2）第 2 种情况，找错职位了&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;市面上的职位虽然名称都是「数据分析师」，但是要做的事情却是大大的不一样。面试失败，可能是你应聘的职位并不是适合你的那个「数据分析师」。&lt;/p&gt;
&lt;p&gt;比如之前有位社群会员是学到了入门阶段，但是去应聘一家数据分析师，要求精通机器学习，那么这种能力和职位不匹配，肯定是过不了面试的。这种情况你就要筛选出符合自己能力的职位，并看清楚职位的介绍，根据自己的能力来找到适合自己的工作。&lt;/p&gt;
&lt;p&gt;所以，如果面试被拒也不要气馁，有可能并不是你的原因，只是与岗位要求不匹配。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;现在已经转行成功的社群会员 insight 是这么分享他找工作中犯的一个错误的：&lt;/p&gt;
&lt;blockquote&gt;收到面试通知时，没有问 HR 在公司数据分析职位是做哪些工作或是用什么分析工具。我投递简历选择的是拉勾网和 BOSS 直聘，前两天很认真的投递了简历，也收到了三家金融公司的面试，但一了解是让做金融交易员的，瞬间心脆。&lt;br/&gt;
&lt;br/&gt;
三天过去还有合适的公司，就有点心慌了，于是看到职位描述上有 EXCEl 和 Mysql 相关技能的，我都投了一份简历。没有针对性，也是犯了效率不高的错，这个错误等下说，重要的是收到面试通知时，没有问清 HR 数据分析工作是用什么分析工具或者主要是做什么工作。 我去北京第一家公司面试的时候，就是奔着他们的职位描述去的，当时想就是自己要的工作，但去了之后，HR 说他们公司只用 EXCEL 做数据分析，公司慢慢的会有数据团队。&lt;br/&gt;
&lt;br/&gt;
还有另外一家做大数据的公司，面试的时候出的是这样的题目，问题 1:tensorflow 构建一个神经网络的步骤；问题 2：试用 scikit-learn 实现一个简单的线性回归模型(这个记不太清了)，全都是诸如此类的问题。 所以说，如果提早的询问下，就会减少不必要的麻烦，可以多面试几家相符的公司。&lt;br/&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;3）第 3 种情况，面试失败是中常态&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;记住，面试是个长期的过程，很可能你投递简历很长时间没有人联系你，突然有一天电话就来了。这时候考察的就是谁能坚持到最后，一边积极等待投简历，一边积极准备技术。&lt;/p&gt;
&lt;p&gt;失败的面试不代表你不行，而是你和公司不适合。这就好比谈恋爱，双方互相看对眼了才能双宿双飞。&lt;/p&gt;
&lt;p&gt;动感单车健身公司飞轮运动（Flywheel Sports）的 CEO 欧哈根，她曾在 30 岁之前两次被公司开除。所以几次失败，不要否定自己。学会拥抱失败。你经历的每件事情都会给你收获，所以在经历这些时不要压力太大。而且人生不止一次机会。如果面试失败就去看《当幸福来敲门》，学会鼓励自己。再不行，就多看看这些经过多次失败，但是最后转行成功的朋友。记住，你并不孤单。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4）第 4 情况，还没准备好&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;如果到最后经过 N 多次面试，并且排除了前面几种情况的可能，那么你已经总结好了面试中哪些能力是自己没有准备好的，那么你后面就可以多花些时间在这些欠缺的地方花更多时间去弥补上。等准备好了，再去应聘。有时候，人生比的不是谁跑的更快，而是谁能跑到终点。因为，有很多人没到终点，就放弃了。&lt;/p&gt;
&lt;p&gt;同时，如果是转行数据分析，因为没有工作经验被拒的话，也可以通过测试、运营、产品、等岗位曲线救国。&lt;/p&gt;
&lt;p&gt;因为互联网公司的测试岗位，空余时间多，你可以有更多的时间来同时学习数据分析方面的知识，还赚取了互联网工作的经验。而运营、产品工作中要经常跟数据打交道，不仅能熟悉公司的业务，还能接触到数据，后期合适的机会不管是进行内部转岗到数据分析部门，还是再找数据分析的工作会比较有优势。&lt;br/&gt;
&lt;/p&gt;
&lt;p&gt;最后，祝你成功。每个人生下来都是猴子，可有些人却最终可以逆袭为悟空。所以每个人心中其实住了个大圣。齐天大圣是不会死的，他只是睡着了。有一天，你要是够坚强，够勇敢，就能驾驭它。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;如果觉得自己在能力上还需要提升，欢迎体验「知乎数据分析 3 天实战训练营」，点击下面链接即可体验。&lt;/strong&gt;&lt;br/&gt;
&lt;/p&gt;
&lt;a data-draft-node=&quot;block&quot; data-draft-type=&quot;edu-card&quot; data-edu-card-id=&quot;1572977658060849152&quot;/&gt;
&lt;p&gt;本文作者：@猴子&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fd721c5db09d98a08a36f2baf9d7d9f3</guid>
<title>MySQL 与 Redis 缓存的同步方案</title>
<link>https://toutiao.io/k/eb0h1n0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content               autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;fieldset data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section data-brushtype=&quot;text&quot;&gt;架构师（JiaGouX）&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;我们都是架构师！&lt;br/&gt;架构未来，你来不来？&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/fieldset&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzAwNjQwNzU2NQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/sXiaukvjR0RCNb3RYsCgx02T4J55ia2SnemY7uJHsDChxq6jAibbATlIKDgzLxz0zekXWjblzCDcL86AjbMNp02Tg/0?wx_fmt=png&quot; data-nickname=&quot;架构师&quot; data-alias=&quot;JiaGouX&quot; data-signature=&quot;专业架构师，专注高质量架构干货分享。三高架构（高可用、高性能、高稳定）、大数据、机器学习、Java架构、系统架构、分布式架构、人工智能等的架构讨论交流，以及结合互联网技术的架构调整，大规模架构实战分享。欢迎有想法、乐于分享的架构师交流学习。&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;本文介绍MySQL与Redis缓存的同步的两种方案&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;方案1：通过MySQL自动同步刷新Redis，MySQL触发器+UDF函数实现&lt;/span&gt;&lt;/h4&gt;&lt;/li&gt;&lt;li&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;方案2：解析MySQL的binlog实现，将数据库中的数据同步到Redis&lt;/span&gt;&lt;/h4&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YK9e7vHy9IQATwibKVicOpXZibX8VOvBrnF39NdpXQMwdpyIgN0ibicEwRdge0mXthxjHagHgwpWhrsibvMZFibaQC6vQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;一、方案1（UDF）&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/orc2J6rib40bATuJM23UiaHQ0tsVpvjgyuhk7To5zFqb2fyL9pCr1U7hfeKJELCht0KxWnuias6TLibMdcRhM7QhyQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;场景分析：&lt;/strong&gt; &lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;        当我们对MySQL数据库进行数据操作时，同时将相应的数据同步到Redis中，同步到Redis之后，查询的操作就从Redis中查找&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;过程大致如下：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;在MySQL中对要操作的数据设置触发器Trigger，监听操作&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;客户端（NodeServer）向MySQL中写入数据时，触发器会被触发，触发之后调用MySQL的UDF函数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;UDF函数可以把数据写入到Redis中，从而达到同步的效果&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;方案分析：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;这种方案适合于读多写少，并且不存并发写的场景&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;因为MySQL触发器本身就会造成效率的降低，如果一个表经常被操作，这种方案显示是不合适的&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;h3&gt;演示案例&lt;/h3&gt;&lt;section&gt;下面是MySQL的表&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.41574074074074074&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxG3H2vhhfRIpbk61rSvytREibCfjsBp4bibgib7awPmZQAcpAP3CvuCV0g/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;下面是UDF的解析代码&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8075801749271136&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxTx8AWias2k8xjPdzJq5CA3L88GCumQwLAuoucGChMUEJqSaicBf2n2iaA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;686&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;定义对应的触发器&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5297619047619048&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxBfibDAFiabAIousW7K3bullxjLso9tvRABlD7IL6ichicjhibvy1VialRWJA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;840&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5264483627204031&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxOIIbbYia4Q8szWgw9iaL5dIvdjcjhoUdK2sDbbeRPIAtEf5CicRZlLlcA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;794&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.087527352297593&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicx3DO4gdQkh05t7EDAaW1qzJMCWg1zWGN83MUjfJxlc4Of3pNFSlo1jQ/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;914&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YK9e7vHy9IQATwibKVicOpXZibX8VOvBrnF39NdpXQMwdpyIgN0ibicEwRdge0mXthxjHagHgwpWhrsibvMZFibaQC6vQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;二、方案2（解析binlog）&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/orc2J6rib40bATuJM23UiaHQ0tsVpvjgyuhk7To5zFqb2fyL9pCr1U7hfeKJELCht0KxWnuias6TLibMdcRhM7QhyQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;在介绍方案2之前我们先来介绍一下MySQL复制的原理，如下图所示：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;主服务器操作数据，并将数据写入Bin log&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;从服务器调用I/O线程读取主服务器的Bin log，并且写入到自己的Relay log中，再调用SQL线程从Relay log中解析数据，从而同步到自己的数据库中&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5506555423122765&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxNBPIITve3offFjHBibAwZgjkCzRpUua9ibtA1mPhb5ichAQNso6cPBG5Q/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;839&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;方案2就是：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;上面MySQL的整个复制流程可以总结为一句话，那就是：&lt;/span&gt;&lt;span&gt;从服务器读取主服务器Bin log中的数据，从而同步到自己的数据库中&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;我们方案2也是如此，就是在概念上把主服务器改为MySQL，把从服务器改为Redis而已（如下图所示），当MySQL中有数据写入时，我们就解析MySQL的Bin log，然后将解析出来的数据写入到Redis中，从而达到同步的效果&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5552913198573127&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicx9uY4Jz0dO9dlIHVsLDWmy4UtKoaMHS4qlpic3nSjJtR3dWyACy90lKg/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;841&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;例如下面是一个云数据库实例分析：&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;云数据库与本地数据库是主从关系。&lt;/span&gt;&lt;span&gt;云数据库作为主数据库主要提供写，本地数据库作为从数据库从主数据库中读取数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;本地数据库读取到数据之后，解析Bin log，然后将数据写入写入同步到Redis中，然后客户端从Redis读数据&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5187032418952618&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxnAGE5VrICa5UyOFtXTLgoCPSf3oUEc51sgguo0iciayBmWriaKTTlmnoA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;802&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;这个技术方案的难点就在于：&lt;/strong&gt; 如何解析MySQL的Bin Log。但是这需要对binlog文件以及MySQL有非常深入的理解，同时由于binlog存在Statement/Row/Mixedlevel多种形式，&lt;strong&gt;分析binlog实现同步的工作量是非常大的&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;h3&gt;Canal开源技术&lt;/h3&gt;&lt;p&gt;&lt;span&gt;canal是阿里巴巴旗下的一款开源项目，纯Java开发。&lt;/span&gt;&lt;span&gt;基于数据库增量日志解析，提供增量数据订阅&amp;amp;消费，目前主要支持了MySQL（也支持mariaDB）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;开源参考地址有：&lt;/span&gt;&lt;/p&gt;&lt;section&gt;https://github.com/liukelin/canal_mysql_nosql_sync&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;工作原理（模仿MySQL复制）：&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;1、canal模拟mysql slave的交互协议，伪装自己为mysql slave，向mysql master发送dump协议&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;2、mysql master收到dump请求，开始推送binary log给slave（也就是canal）&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;3、canal解析binary lo&lt;/span&gt;&lt;span&gt;g对象（原始为byte流）&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.36015831134564646&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxKibO6YMxdgygBEkvzKdibiaFF1Y7Jk73c2NMjER2EYShaicaIOsz0LuSnw/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;758&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;架构：&lt;/strong&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;eventParser (数据源接入，模拟slave协议和master进行交互，协议解析)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;eventSink (Parser和Store链接器，进行数据过滤，加工，分发的工作)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;eventStore (数据存储)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;metaManager (增量订阅&amp;amp;消费信息管理器)&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;server代表一个canal运行实例，对应于一个jvm&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;instance对应于一个数据队列 （1个server对应1..n个instance)&lt;/strong&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;instance模块：&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3865546218487395&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxu3RJ7iba7TlowLRwkibmsyiapCz6hKAFbI5e7ebtTicQCgmhw9ExnoGXtw/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;833&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;大致的解析过程如下：&lt;/strong&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;parse解析MySQL的Bin log，然后将数据放入到sink中&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;sink对数据进行过滤，加工，分发&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;store从sink中读取解析好的数据存储起来&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;然后自己用设计代码将store中的数据同步写入Redis中就可以了&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;其中parse/sink是框架封装好的，我们做的是store的数据读取那一步&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15429917550058891&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxvglleGLvVYCiazsNBxmiczeJcK2GpNYauibtLjQ0WjuFibsnsKCPdMYw6Q/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;849&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5345572354211663&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxzm8fGTx1bED56ia6S7enjst5FsxCibW5yMvJseerXPQ0NkXX41BklY5A/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;926&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;MySQL表的同步，采用责任链模式，每张表对应一个Filter&lt;/strong&gt; 。例如zvsync中要用到的类设计如下：&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.35070140280561124&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxxn4lI0cp0amg0fxqp678Ew34gjI2G13AMJwjyNpbicaHUdjtDBpWjjA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;998&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;下面是具体化的zvsync中要用到的类&lt;/strong&gt; ，每当新增或者删除表时，直接进行增删就可以了&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.27314814814814814&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxEB6eUTJPS7R0ndnBRFcCADJpohAxOeGaN7WyxibwYKu48w5SpOssnyA/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;/&gt;&lt;h1 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/YK9e7vHy9IQATwibKVicOpXZibX8VOvBrnF39NdpXQMwdpyIgN0ibicEwRdge0mXthxjHagHgwpWhrsibvMZFibaQC6vQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot; mpa-is-content=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;三、附加&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.2857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/orc2J6rib40bATuJM23UiaHQ0tsVpvjgyuhk7To5zFqb2fyL9pCr1U7hfeKJELCht0KxWnuias6TLibMdcRhM7QhyQ/640?wx_fmt=png&quot; data-w=&quot;14&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;本文上面所介绍的都是从MySQL中同步到缓存中。&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;但是在实际开发中可能有人会用下面的方案：&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;客户端有数据来了之后，先将其保存到Redis中，然后再同步到MySQL中&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;这种方案本身也是不安全/不可靠的，因此如果Redis存在短暂的宕机或失效，那么会丢失数据&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.19674355495251017&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLaUk3SPAuKjG71mef7KZKicxWI3OWn3ic8LSU0PVk6qXfImAt1iatmLbJd50ZJQFiaVicAiazWyY4Ggvwag/640?wx_fmt=jpeg&amp;amp;tp=wxpic&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;737&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;如喜欢本文，请点击右上角，把文章分享到朋友圈&lt;/span&gt;&lt;br/&gt;&lt;span&gt;如有想了解学习的技术点，请留言给若飞安排分享&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;因公众号更改推送规则，请点“在看”并加“星标”&lt;span&gt;第一时间获取精彩技术分享&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;·END·&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;p&gt;&lt;strong&gt;相关阅读：&lt;/strong&gt;&lt;/p&gt;&lt;hr/&gt;&lt;/pre&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-tools-id=&quot;23409&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;作者：dongshao&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;来源：dongshao.blog.csdn.net/article/details/107190925&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;版权申明：内容来源网络，仅供学习研究，版权归原创者所有。如有侵权烦请告知，我们会立即删除并表示歉意。谢谢!&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;article ng-controller=&quot;EntryCtrl&quot; ui-lightbox=&quot;&quot;&gt;&lt;section ng-bind-html=&quot;postContentTrustedHtml&quot;&gt;&lt;section data-id=&quot;702&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;strong data-brushtype=&quot;text&quot;&gt;架构师&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;我们都是架构师！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img border=&quot;0&quot; class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/sXiaukvjR0RB58TtkIHwhn4lpsqLnZgian9d5tr1BibP7XpibGTFFib1nq9YuYq209XZUEfCOqMzepDOBbN9KD9wMSg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-width=&quot;200px&quot; height=&quot;&quot; opacity=&quot;&quot; title=&quot;&quot; vspace=&quot;0&quot;/&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;strong&gt;关注&lt;/strong&gt;架构师(JiaGouX)，添加“星标”&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;获取每天技术干货，一起成为牛逼架构师&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;技术群请&lt;/strong&gt;&lt;strong&gt;加若飞：&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;1321113940 &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;进架构师群&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;投稿、合作、版权等邮箱：&lt;strong&gt;&lt;span&gt;admin@137x.com&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/article&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>82a4c688a2977cebf368672d518f1dc8</guid>
<title>这 25 个 Pandas 高频实用技巧，不得不服！</title>
<link>https://toutiao.io/k/fgs48bk</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先我们需要先提前下载好&lt;code&gt;示例数据集&lt;/code&gt;：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;drinksbycountry.csv : http://bit.ly/drinksbycountry&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;imdbratings.csv : http://bit.ly/imdbratings&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;chiporders.csv : http://bit.ly/chiporders&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;smallstockers.csv : http://bit.ly/smallstocks&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;kaggletrain.csv : http://bit.ly/kaggletrain&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;uforeports.csv : http://bit.ly/uforeports&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;导入案例数据集&lt;/span&gt;&lt;/h2&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; pandas &lt;span&gt;as&lt;/span&gt; pd&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; numpy &lt;span&gt;as&lt;/span&gt; np&lt;br/&gt;&lt;br/&gt;drinks = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/drinksbycountry&#x27;&lt;/span&gt;)&lt;br/&gt;movies = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/imdbratings&#x27;&lt;/span&gt;)&lt;br/&gt;orders = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/chiporders&#x27;&lt;/span&gt;, sep=&lt;span&gt;&#x27;\t&#x27;&lt;/span&gt;)&lt;br/&gt;orders[&lt;span&gt;&#x27;item_price&#x27;&lt;/span&gt;] = orders.item_price.str.replace(&lt;span&gt;&#x27;$&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;&#x27;&lt;/span&gt;).astype(&lt;span&gt;&#x27;float&#x27;&lt;/span&gt;)&lt;br/&gt;stocks = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/smallstocks&#x27;&lt;/span&gt;, parse_dates=[&lt;span&gt;&#x27;Date&#x27;&lt;/span&gt;])&lt;br/&gt;titanic = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/kaggletrain&#x27;&lt;/span&gt;)&lt;br/&gt;ufo = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/uforeports&#x27;&lt;/span&gt;, parse_dates=[&lt;span&gt;&#x27;Time&#x27;&lt;/span&gt;])&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;1显示已安装的版本&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有时你需要知道正在使用的pandas版本，特别是在阅读pandas文档时。你可以通过输入以下命令来显示pandas版本:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.__version__&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&#x27;0.25.8&#x27;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你还想知道pandas所依赖的模块的版本，你可以使用&lt;code&gt;show_versions()&lt;/code&gt;函数:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.show_versions()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;INSTALLED VERSIONS&lt;br/&gt;------------------&lt;br/&gt;commit: None&lt;br/&gt;python: 3.7.3.final.0&lt;br/&gt;python-bits: 64&lt;br/&gt;OS: Darwin&lt;br/&gt;OS-release: 18.6.0&lt;br/&gt;machine: x86_64&lt;br/&gt;processor: i386&lt;br/&gt;byteorder: little&lt;br/&gt;LC_ALL: None&lt;br/&gt;LANG: en_US.UTF-8&lt;br/&gt;LOCALE: en_US.UTF-8&lt;br/&gt;&lt;br/&gt;pandas: 0.24.2&lt;br/&gt;pytest: None&lt;br/&gt;pip: 19.1.1&lt;br/&gt;setuptools: 41.0.1&lt;br/&gt;Cython: None&lt;br/&gt;numpy: 1.16.4&lt;br/&gt;scipy: None&lt;br/&gt;pyarrow: None&lt;br/&gt;xarray: None&lt;br/&gt;IPython: 7.5.0&lt;br/&gt;sphinx: None&lt;br/&gt;patsy: None&lt;br/&gt;dateutil: 2.8.0&lt;br/&gt;pytz: 2019.1&lt;br/&gt;blosc: None&lt;br/&gt;bottleneck: None&lt;br/&gt;tables: None&lt;br/&gt;numexpr: None&lt;br/&gt;feather: None&lt;br/&gt;matplotlib: 3.1.0&lt;br/&gt;openpyxl: None&lt;br/&gt;xlrd: None&lt;br/&gt;xlwt: None&lt;br/&gt;xlsxwriter: None&lt;br/&gt;lxml.etree: None&lt;br/&gt;bs4: None&lt;br/&gt;html5lib: None&lt;br/&gt;sqlalchemy: None&lt;br/&gt;pymysql: None&lt;br/&gt;psycopg2: None&lt;br/&gt;jinja2: 2.10.1&lt;br/&gt;s3fs: None&lt;br/&gt;fastparquet: None&lt;br/&gt;pandas_gbq: None&lt;br/&gt;pandas_datareader: None&lt;br/&gt;gcsfs: None&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以查看到Python，pandas, Numpy, matplotlib等的版本信息。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong&gt;2创建示例DataFrame&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你需要创建一个示例DataFrame。有很多种实现的途径，我最喜欢的方式是传一个字典给DataFrame constructor，其中字典中的keys为列名，values为列的取值。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.DataFrame({&lt;span&gt;&#x27;col one&#x27;&lt;/span&gt;:[&lt;span&gt;100&lt;/span&gt;, &lt;span&gt;200&lt;/span&gt;], &lt;span&gt;&#x27;col two&#x27;&lt;/span&gt;:[&lt;span&gt;300&lt;/span&gt;, &lt;span&gt;400&lt;/span&gt;]})&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29354838709677417&quot; data-type=&quot;png&quot; data-w=&quot;620&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6puYzfmf01mHiaBPnbjME0YyRdYcxqYaQREeib5M6ia15iasE5SX8Uh0vPhA/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你需要更大的DataFrame，上述方法将需要太多的输入。在这种情况下，你可以使用NumPy的 &lt;code&gt;random.rand()&lt;/code&gt;函数，定义好该函数的行数和列数，并将其传递给DataFrame构造器:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.DataFrame(np.random.rand(&lt;span&gt;4&lt;/span&gt;, &lt;span&gt;8&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.25&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1056&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pGnucyvZVhIcWFflics2ZMtL5RwkCzYT6JuicQlLcuic7hKib2pHtAT5jicw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这种方式很好，但如果你还想把列名变为非数值型的，你可以强制地将一串字符赋值给columns参数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.DataFrame(np.random.rand(&lt;span&gt;4&lt;/span&gt;, &lt;span&gt;8&lt;/span&gt;), columns=list(&lt;span&gt;&#x27;abcdefgh&#x27;&lt;/span&gt;))&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2708333333333333&quot; data-type=&quot;png&quot; data-w=&quot;1056&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pic63dryKJyaKTUFhP9Qic3P7s3ZXy5ibW71gPiby7dgjyTzJvGxfAeN3Fg/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以想到，你传递的字符串的长度必须与列数相同。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;3更改列名&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来看一下刚才我们创建的示例DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29354838709677417&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pWsNjIsH5uAPpX5RDIUQ27OBxNPrKun75ZnOsgkcChzZwAiao2FIIu3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;620&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我更喜欢在选取pandas列的时候使用点（.），但是这对那么列名中含有空格的列不会生效。让我们来修复这个问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;更改列名最灵活的方式是使用&lt;code&gt;rename()&lt;/code&gt;函数。你可以传递一个字典，其中keys为原列名，values为新列名，还可以指定axis:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = df.rename({&lt;span&gt;&#x27;col one&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;col_one&#x27;&lt;/span&gt;,&lt;br/&gt;                &lt;span&gt;&#x27;col two&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;col_two&#x27;&lt;/span&gt;},&lt;br/&gt;                axis=&lt;span&gt;&#x27;columns&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;使用这个函数最好的方式是你需要更改任意数量的列名，不管是一列或者全部的列。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你需要一次性重新命令所有的列名，更简单的方式就是重写DataFrame的&lt;code&gt;columns&lt;/code&gt;属性：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.columns = [&lt;span&gt;&#x27;col_one&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;col_two&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你需要做的仅仅是将空格换成下划线，那么更好的办法是用&lt;code&gt;str.replace()&lt;/code&gt;方法，这是因为你都不需要输入所有的列名：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.columns = df.columns.str.replace(&lt;span&gt;&#x27; &#x27;&lt;/span&gt;, &lt;span&gt;&#x27;_&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上述三个函数的结果都一样，可以更改列名使得列名中不含有空格：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3122923588039867&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6peVqbEyuSMFRMJxRsjQ1ovhYL89kSu0Ks5FjCyAFRbSO8YkDO5TxdBg/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，如果你需要在列名中添加前缀或者后缀，你可以使用&lt;code&gt;add_prefix()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.add_prefix(&lt;span&gt;&#x27;X_&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.27927927927927926&quot; data-type=&quot;png&quot; data-w=&quot;666&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pXibUgzaXuxfzL0rSq2miarrg5XosBOMzVJBHiacv2d72lNLVtgv1z5fBA/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;或者使用&lt;code&gt;add_suffix()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.add_suffix(&lt;span&gt;&#x27;_Y&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2786377708978328&quot; data-type=&quot;png&quot; data-w=&quot;646&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pvUAvj8wdvOrPribIN6AJf1f802lJ93HDkyWAqUs6zTsKXGd24E4ziaCw/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;4. 行序反转&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来看一下drinks这个DataFame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.266025641025641&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1248&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pUDC9kJtIXpwaEELOkye7d96Tc2PNC612iar8Aftb6icchwuJyG2xA1VA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;该数据集描述了每个国家的平均酒消费量。如果你想要将行序反转呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最直接的办法是使用&lt;code&gt;loc&lt;/code&gt;函数并传递&lt;code&gt;::-1&lt;/code&gt;，跟Python中列表反转时使用的切片符号一致：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.loc[::&lt;span&gt;-1&lt;/span&gt;].head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2550231839258114&quot; data-type=&quot;png&quot; data-w=&quot;1294&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p82tDHs5icyGRibGlVrF4VuNMJFHEkFUrpRxxbQ9iaenztGFibtHLRuEqYw/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你还想重置索引使得它从0开始呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以使用&lt;code&gt;reset_index()&lt;/code&gt;函数，告诉他去掉完全抛弃之前的索引：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.loc[::&lt;span&gt;-1&lt;/span&gt;].reset_index(drop=&lt;span&gt;True&lt;/span&gt;).head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2611111111111111&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pgKGlSW3zbrcBwiajicLOrVic6m0cU7J3nhGfVQXDXQCoKbqBiaHucfzqGQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以看到，行序已经反转，索引也被重置为默认的整数序号。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;5. 列序反转&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;跟之前的技巧一样，你也可以使用&lt;code&gt;loc&lt;/code&gt;函数将列从左至右反转&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.loc[:, ::&lt;span&gt;-1&lt;/span&gt;].head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.26136363636363635&quot; data-type=&quot;png&quot; data-w=&quot;1232&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p9RM9uCELJBRrvOXnrjnglVVUHhGhyjN12voFpdwUnCghkKfd61FJ0Q/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;逗号之前的冒号表示选择所有行，逗号之后的&lt;code&gt;::-1&lt;/code&gt;表示反转所有的列，这就是为什么country这一列现在在最右边。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;6. 通过数据类型选择列&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里有drinks这个DataFrame的数据类型：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.dtypes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;country                          object&lt;br/&gt;beer_servings                     int64&lt;br/&gt;spirit_servings                   int64&lt;br/&gt;wine_servings                     int64&lt;br/&gt;total_litres_of_pure_alcohol    float64&lt;br/&gt;continent                        object&lt;br/&gt;dtype: object&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你仅仅需要选取数值型的列，那么你可以使用&lt;code&gt;select_dtypes()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.select_dtypes(include=&lt;span&gt;&#x27;number&#x27;&lt;/span&gt;).head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3465553235908142&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pjYwJMr3BlIrgGqGqTs1SE11MF9xChMLBYxIIibB9XHgpCmw5XPeYlrA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;958&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这包含了int和float型的列。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你也可以使用这个函数来选取数据类型为object的列：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.select_dtypes(include=&lt;span&gt;&#x27;object&#x27;&lt;/span&gt;).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5014836795252225&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pHibu9q3qA1NHpovn3Fe05Xce39UIWSxkZYzFQd1oLClP5VjC33tXR3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;674&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你还可以选取多种数据类型，只需要传递一个列表即可：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.select_dtypes(include=[&lt;span&gt;&#x27;number&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;object&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;category&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;datetime&#x27;&lt;/span&gt;]).head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2601851851851852&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pq2CuicdG25EGuJzzNFmibrribgdvCRTGTZhQicupC947SgLQ5sBg5FrWnQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你还可以用来排除特定的数据类型：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.select_dtypes(exclude=&lt;span&gt;&#x27;number&#x27;&lt;/span&gt;).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5014836795252225&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pHibu9q3qA1NHpovn3Fe05Xce39UIWSxkZYzFQd1oLClP5VjC33tXR3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;674&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;7. 将字符型转换为数值型&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来创建另一个示例DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.DataFrame({&lt;span&gt;&#x27;col_one&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;1.1&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;2.2&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;3.3&#x27;&lt;/span&gt;],&lt;br/&gt;                   &lt;span&gt;&#x27;col_two&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;4.4&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;5.5&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;6.6&#x27;&lt;/span&gt;],&lt;br/&gt;                   &lt;span&gt;&#x27;col_three&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;7.7&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;8.8&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;-&#x27;&lt;/span&gt;]})&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.37&quot; data-type=&quot;png&quot; data-w=&quot;600&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pTk0R7zoU0mgC8VUibLwv9H8CQ8maKztfOYFaTleib78IBSTRyqibzUcEA/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这些数字实际上储存为字符型，导致其数据类型为object:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.dtypes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;col_one      object&lt;br/&gt;col_two      object&lt;br/&gt;col_three    object&lt;br/&gt;dtype: object&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为了对这些列进行数学运算，我们需要将数据类型转换成数值型。你可以对前两列使用&lt;code&gt;astype()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.astype({&lt;span&gt;&#x27;col_one&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;float&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;col_two&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;float&#x27;&lt;/span&gt;}).dtypes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;col_one      float64&lt;br/&gt;col_two      float64&lt;br/&gt;col_three     object&lt;br/&gt;dtype: object&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是，如果你对第三列也使用这个函数，将会引起错误，这是因为这一列包含了破折号（用来表示0）但是pandas并不知道如何处理它。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以对第三列使用&lt;code&gt;to_numeric()&lt;/code&gt;函数，告诉其将任何无效数据转换为&lt;code&gt;NaN&lt;/code&gt;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.to_numeric(df.col_three, errors=&lt;span&gt;&#x27;coerce&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;0    7.7&lt;br/&gt;1    8.8&lt;br/&gt;2    NaN&lt;br/&gt;Name: col_three, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你知道&lt;code&gt;NaN&lt;/code&gt;值代表0，那么你可以&lt;code&gt;fillna()&lt;/code&gt;函数将他们替换成0：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.to_numeric(df.col_three, errors=&lt;span&gt;&#x27;coerce&#x27;&lt;/span&gt;).fillna(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;0    7.7&lt;br/&gt;1    8.8&lt;br/&gt;2    0.0&lt;br/&gt;Name: col_three, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，你可以通过&lt;code&gt;apply()&lt;/code&gt;函数一次性对整个DataFrame使用这个函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = df.apply(pd.to_numeric, errors=&lt;span&gt;&#x27;coerce&#x27;&lt;/span&gt;).fillna(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3352601156069364&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pR2KegGAzSyyTjpcGJDtxdQV5EGjwoKzn3RdFLBAbGf3Scur7yjrkhw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;692&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;仅需一行代码就完成了我们的目标，因为现在所有的数据类型都转换成float:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.dtypes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;col_one      float64&lt;br/&gt;col_two      float64&lt;br/&gt;col_three    float64&lt;br/&gt;dtype: object&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;8. 减小DataFrame空间大小&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;pandas DataFrame被设计成可以适应内存，所以有些时候你可以减小DataFrame的空间大小，让它在你的系统上更好地运行起来。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这是drinks这个DataFrame所占用的空间大小：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drinks.info(memory_usage=&lt;span&gt;&#x27;deep&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&amp;lt;class &#x27;pandas.core.frame.DataFrame&#x27;&amp;gt;&lt;br/&gt;RangeIndex: 193 entries, 0 to 192&lt;br/&gt;Data columns (total 6 columns):&lt;br/&gt;country                         193 non-null object&lt;br/&gt;beer_servings                   193 non-null int64&lt;br/&gt;spirit_servings                 193 non-null int64&lt;br/&gt;wine_servings                   193 non-null int64&lt;br/&gt;total_litres_of_pure_alcohol    193 non-null float64&lt;br/&gt;continent                       193 non-null object&lt;br/&gt;dtypes: float64(1), int64(3), object(2)&lt;br/&gt;memory usage: 30.4 KB&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以看到它使用了304.KB。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你对你的DataFrame有操作方面的问题，或者你不能将它读进内存，那么在读取文件的过程中有两个步骤可以使用来减小DataFrame的空间大小。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;第一个步骤是只读取那些你实际上需要用到的列，可以调用&lt;code&gt;usecols&lt;/code&gt;参数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;cols = [&lt;span&gt;&#x27;beer_servings&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;continent&#x27;&lt;/span&gt;]&lt;br/&gt;small_drinks = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/drinksbycountry&#x27;&lt;/span&gt;, usecols=cols)&lt;br/&gt;small_drinks.info(memory_usage=&lt;span&gt;&#x27;deep&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&amp;lt;class &#x27;pandas.core.frame.DataFrame&#x27;&amp;gt;&lt;br/&gt;RangeIndex: 193 entries, 0 to 192&lt;br/&gt;Data columns (total 2 columns):&lt;br/&gt;beer_servings    193 non-null int64&lt;br/&gt;continent        193 non-null object&lt;br/&gt;dtypes: int64(1), object(1)&lt;br/&gt;memory usage: 13.6 KB&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;通过仅读取用到的两列，我们将DataFrame的空间大小缩小至13.6KB。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;第二步是将所有实际上为类别变量的object列转换成类别变量，可以调用&lt;code&gt;dtypes&lt;/code&gt;参数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;dtypes = {&lt;span&gt;&#x27;continent&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;category&#x27;&lt;/span&gt;}&lt;br/&gt;smaller_drinks = pd.read_csv(&lt;span&gt;&#x27;http://bit.ly/drinksbycountry&#x27;&lt;/span&gt;, usecols=cols, dtype=dtypes)&lt;br/&gt;smaller_drinks.info(memory_usage=&lt;span&gt;&#x27;deep&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&amp;lt;class &#x27;pandas.core.frame.DataFrame&#x27;&amp;gt;&lt;br/&gt;RangeIndex: 193 entries, 0 to 192&lt;br/&gt;Data columns (total 2 columns):&lt;br/&gt;beer_servings    193 non-null int64&lt;br/&gt;continent        193 non-null category&lt;br/&gt;dtypes: category(1), int64(1)&lt;br/&gt;memory usage: 2.3 KB&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;通过将continent列读取为category数据类型，我们进一步地把DataFrame的空间大小缩小至2.3KB。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;值得注意的是，如果跟行数相比，category数据类型的列数相对较小，那么catefory数据类型可以减小内存占用。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;9. 按行从多个文件中构建DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你的数据集分化为多个文件，但是你需要将这些数据集读到一个DataFrame中。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;举例来说，我有一些关于股票的小数聚集，每个数据集为单天的CSV文件。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.read_csv(&lt;span&gt;&#x27;data/stocks1.csv&#x27;&lt;/span&gt;)&lt;br/&gt;pd.read_csv(&lt;span&gt;&#x27;data/stocks2.csv&#x27;&lt;/span&gt;)&lt;br/&gt;pd.read_csv(&lt;span&gt;&#x27;data/stocks3.csv&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以将每个CSV文件读取成DataFrame，将它们结合起来，然后再删除原来的DataFrame，但是这样会多占用内存且需要许多代码。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;更好的方式为使用内置的&lt;code&gt;glob&lt;/code&gt;模块。你可以给&lt;code&gt;glob()&lt;/code&gt;函数传递某种模式，包括未知字符，这样它会返回符合该某事的文件列表。在这种方式下，glob会查找所有以stocks开头的CSV文件：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;from&lt;/span&gt; glob &lt;span&gt;import&lt;/span&gt; glob&lt;br/&gt;&lt;br/&gt;stock_files = sorted(glob(&lt;span&gt;&#x27;data/stocks*.csv&#x27;&lt;/span&gt;))&lt;br/&gt;stock_files&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;[&#x27;data/stocks1.csv&#x27;, &#x27;data/stocks2.csv&#x27;, &#x27;data/stocks3.csv&#x27;]&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;glob会返回任意排序的文件名，这就是我们为什么要用Python内置的&lt;code&gt;sorted()&lt;/code&gt;函数来对列表进行排序。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们以生成器表达式用&lt;code&gt;read_csv()&lt;/code&gt;函数来读取每个文件，并将结果传递给&lt;code&gt;concat()&lt;/code&gt;函数，这会将单个的DataFrame按行来组合：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.concat((pd.read_csv(file) &lt;span&gt;for&lt;/span&gt; file &lt;span&gt;in&lt;/span&gt; stock_files))&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6206088992974239&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pkBxYZubjbtR4AmhAwjDHpo7nUP9LeiaMicfRnJJsYLfLCI6Er1JQjwrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;854&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;不幸的是，索引值存在重复。为了避免这种情况，我们需要告诉&lt;code&gt;concat()&lt;/code&gt;函数来忽略索引，使用默认的整数索引：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.concat((pd.read_csv(file) &lt;span&gt;for&lt;/span&gt; file &lt;span&gt;in&lt;/span&gt; stock_files), ignore_index=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6136363636363636&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pDsqWzRUO9icibyEWYxLz5A6pXpkoYp2R6EvnCmmPMoqRRjoVUWYFg8vQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;880&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;10. 按列从多个文件中构建DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上一个技巧对于数据集中每个文件包含行记录很有用。但是如果数据集中的每个文件包含的列信息呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里有一个例子，dinks数据集被划分成两个CSV文件，每个文件包含三列：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.read_csv(&lt;span&gt;&#x27;data/drinks1.csv&#x27;&lt;/span&gt;).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.38073394495412843&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pQibXCojswL10RqEnehPREia9LDQXos2431egRMxSyOLOrThQ2mJM2X2g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;872&quot;/&gt;&lt;/figure&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.read_csv(&lt;span&gt;&#x27;data/drinks2.csv&#x27;&lt;/span&gt;).head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.42480211081794195&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pBd2tkpgc1bKj1wU8eZ1lsyzU6AwGAibibf7VVT7TbzLzic4gbLEzQrHoQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;758&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;同上一个技巧一样，我们以使用&lt;code&gt;glob()&lt;/code&gt;函数开始。这一次，我们需要告诉&lt;code&gt;concat()&lt;/code&gt;函数按列来组合：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;drink_files = sorted(glob(&lt;span&gt;&#x27;data/drinks*.csv&#x27;&lt;/span&gt;))&lt;br/&gt;pd.concat((pd.read_csv(file) &lt;span&gt;for&lt;/span&gt; file &lt;span&gt;in&lt;/span&gt; drink_files), axis=&lt;span&gt;&#x27;columns&#x27;&lt;/span&gt;).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.26366559485530544&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pMXYakjhxxlC5WzicOQyE4vyfqUvt7Jqr94U8at02Ip6NtdicCePaxQ5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1244&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;现在我们的DataFrame已经有六列了。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;11. 从剪贴板中创建DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你将一些数据储存在Excel或者Google Sheet中，你又想要尽快地将他们读取至DataFrame中。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你需要选择这些数据并复制至剪贴板。然后，你可以使用&lt;code&gt;read_clipboard()&lt;/code&gt;函数将他们读取至DataFrame中：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.read_clipboard()&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.34441087613293053&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6puEJCBAbdrpiapiaSAlyvU3AH0Pic0sSiafaciaMYrdYEAr9wW5vwZrNLsNQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;662&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;和&lt;code&gt;read_csv()&lt;/code&gt;类似，&lt;code&gt;read_clipboard()&lt;/code&gt;会自动检测每一列的正确的数据类型：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.dtypes&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Column A      int64&lt;br/&gt;Column B    float64&lt;br/&gt;Column C     object&lt;br/&gt;dtype: object&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们再复制另外一个数据至剪贴板：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.read_clipboard()&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3684210526315789&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pcwhAEob1Bzc33RBQcBMYaIvIpEllHOEneZhMZficrrsEAh2jH9rcOaA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;608&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;神奇的是，pandas已经将第一列作为索引了：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.index&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Index([&#x27;Alice&#x27;, &#x27;Bob&#x27;, &#x27;Charlie&#x27;], dtype=&#x27;object&#x27;)&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;需要注意的是，如果你想要你的工作在未来可复制，那么&lt;code&gt;read_clipboard()&lt;/code&gt;并不值得推荐。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;12. 将DataFrame划分为两个随机的子集&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你想要将一个DataFrame划分为两部分，随机地将75%的行给一个DataFrame，剩下的25%的行给另一个DataFrame。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;举例来说，我们的movie ratings这个DataFrame有979行：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;len(movies)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;979&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;12. 将DataFrame划分为两个随机的子集&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你想要将一个DataFrame划分为两部分，随机地将75%的行给一个DataFrame，剩下的25%的行给另一个DataFrame。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;举例来说，我们的movie ratings这个DataFrame有979行：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies_1 = movies.sample(frac=&lt;span&gt;0.75&lt;/span&gt;, random_state=&lt;span&gt;1234&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;接着我们使用&lt;code&gt;drop()&lt;/code&gt;函数来舍弃“moive_1”中出现过的行，将剩下的行赋值给&quot;movies_2&quot;DataFrame：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies_2 = movies.drop(movies_1.index)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以发现总的行数是正确的：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;len(movies_1) + len(movies_2)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;979&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你还可以检查每部电影的索引，或者&quot;moives_1&quot;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies_1.index.sort_values()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Int64Index([  0,   2,   5,   6,   7,   8,   9,  11,  13,  16,&lt;br/&gt;            ...&lt;br/&gt;            966, 967, 969, 971, 972, 974, 975, 976, 977, 978],&lt;br/&gt;           dtype=&#x27;int64&#x27;, length=734)&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;或者&quot;moives_2&quot;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies_2.index.sort_values()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Int64Index([  1,   3,   4,  10,  12,  14,  15,  18,  26,  30,&lt;br/&gt;            ...&lt;br/&gt;            931, 934, 937, 941, 950, 954, 960, 968, 970, 973],&lt;br/&gt;           dtype=&#x27;int64&#x27;, length=245)&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;需要注意的是，这个方法在索引值不唯一的情况下不起作用。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;读者注&lt;/code&gt;：该方法在机器学习或者深度学习中很有用，因为在模型训练前，我们往往需要将全部数据集按某个比例划分成训练集和测试集。该方法既简单又高效，值得学习和尝试。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;13. 通过多种类型对DataFrame进行过滤&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们先看一眼movies这个DataFrame：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies.head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.21481481481481482&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pIqawVJUNofYNKdJqMLq5vYOIU5QsGMsDFPEjKBSfEmIB3iaG0Bw5PuA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;其中有一列是genre（类型）:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies.genre.unique()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;array([&#x27;Crime&#x27;, &#x27;Action&#x27;, &#x27;Drama&#x27;, &#x27;Western&#x27;, &#x27;Adventure&#x27;, &#x27;Biography&#x27;,&lt;br/&gt;       &#x27;Comedy&#x27;, &#x27;Animation&#x27;, &#x27;Mystery&#x27;, &#x27;Horror&#x27;, &#x27;Film-Noir&#x27;, &#x27;Sci-Fi&#x27;,&lt;br/&gt;       &#x27;History&#x27;, &#x27;Thriller&#x27;, &#x27;Family&#x27;, &#x27;Fantasy&#x27;], dtype=object)&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比如我们想要对该DataFrame进行过滤，我们只想显示genre为Action或者Drama或者Western的电影，我们可以使用多个条件，以&quot;or&quot;符号分隔&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies[(movies.genre == &lt;span&gt;&#x27;Action&#x27;&lt;/span&gt;) |&lt;br/&gt;       (movies.genre == &lt;span&gt;&#x27;Drama&#x27;&lt;/span&gt;) |&lt;br/&gt;       (movies.genre == &lt;span&gt;&#x27;Western&#x27;&lt;/span&gt;)].head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2081736909323116&quot; data-type=&quot;png&quot; data-w=&quot;1566&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pL9Piajib1ebldxH8Q6Jt1DxmuJjxHXjYJOhFibh0UXia1GEl2uDQZ77d5w/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是，你实际上可以使用&lt;code&gt;isin()&lt;/code&gt;函数将代码写得更加清晰，将genres列表传递给该函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies[movies.genre.isin([&lt;span&gt;&#x27;Action&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Drama&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Western&#x27;&lt;/span&gt;])].head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2111111111111111&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pwA6fOMJS8c6ZJibDYgy7RnPw9MoWvB0DbhPrAFHPdh7sOg9XUCDmkNA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想要进行相反的过滤，也就是你将吧刚才的三种类型的电影排除掉，那么你可以在过滤条件前加上破浪号：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies[~movies.genre.isin([&lt;span&gt;&#x27;Action&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Drama&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Western&#x27;&lt;/span&gt;])].head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29411764705882354&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pGWF6pibZ0kHP03oqYJCBhiaV1D0fdic1HvBzt5fhXu2iciaKIY6iaiaVRFCdQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1598&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这种方法能够起作用是因为在Python中，波浪号表示“not”操作。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;14. 从DataFrame中筛选出数量最多的类别&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你想要对movies这个DataFrame通过genre进行过滤，但是只需要前3个数量最多的genre。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们对genre使用&lt;code&gt;value_counts()&lt;/code&gt;函数，并将它保存成counts（type为Series）:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;counts = movies.genre.value_counts()&lt;br/&gt;counts&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Drama        278&lt;br/&gt;Comedy       156&lt;br/&gt;Action       136&lt;br/&gt;Crime        124&lt;br/&gt;Biography     77&lt;br/&gt;Adventure     75&lt;br/&gt;Animation     62&lt;br/&gt;Horror        29&lt;br/&gt;Mystery       16&lt;br/&gt;Western        9&lt;br/&gt;Sci-Fi         5&lt;br/&gt;Thriller       5&lt;br/&gt;Film-Noir      3&lt;br/&gt;Family         2&lt;br/&gt;Fantasy        1&lt;br/&gt;History        1&lt;br/&gt;Name: genre, dtype: int64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;该Series的&lt;code&gt;nlargest()&lt;/code&gt;函数能够轻松地计算出Series中前3个最大值：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;counts.nlargest(&lt;span&gt;3&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Drama     278&lt;br/&gt;Comedy    156&lt;br/&gt;Action    136&lt;br/&gt;Name: genre, dtype: int64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;事实上我们在该Series中需要的是索引：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;counts.nlargest(&lt;span&gt;3&lt;/span&gt;).index&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Index([&#x27;Drama&#x27;, &#x27;Comedy&#x27;, &#x27;Action&#x27;], dtype=&#x27;object&#x27;)&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，我们将该索引传递给&lt;code&gt;isin()&lt;/code&gt;函数，该函数会把它当成genre列表：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;movies[movies.genre.isin(counts.nlargest(&lt;span&gt;3&lt;/span&gt;).index)].head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2953703703703704&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pMz4E9dOuUw1HrvNZKSF9EIv5ibXduicibhIYicKOrBoRDAicyGG9HEoEjMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;样，在DataFrame中只剩下Drame, Comdey, Action这三种类型的电影了。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;15. 处理缺失值&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来看一看UFO sightings这个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;ufo.head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.31273408239700373&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pHFUy5ibzRc7F7WGQ0M7hQl81XC8rfsAiaYROtc0kfgG60NFmBtxDCptA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1068&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你将会注意到有些值是缺失的。  为了找出每一列中有多少值是缺失的，你可以使用&lt;code&gt;isna()&lt;/code&gt;函数，然后再使用&lt;code&gt;sum()&lt;/code&gt;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;ufo.isna().sum()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;City                  25&lt;br/&gt;Colors Reported    15359&lt;br/&gt;Shape Reported      2644&lt;br/&gt;State                  0&lt;br/&gt;Time                   0&lt;br/&gt;dtype: int64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;isna()&lt;/code&gt;会产生一个由True和False组成的DataFrame，&lt;code&gt;sum()&lt;/code&gt;会将所有的True值转换为1，False转换为0并把它们加起来。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;类似地，你可以通过&lt;code&gt;mean()&lt;/code&gt;和&lt;code&gt;isna()&lt;/code&gt;函数找出每一列中缺失值的百分比。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;ufo.isna().mean()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;City               0.001371&lt;br/&gt;Colors Reported    0.842004&lt;br/&gt;Shape Reported     0.144948&lt;br/&gt;State              0.000000&lt;br/&gt;Time               0.000000&lt;br/&gt;dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想要舍弃那些包含了缺失值的列，你可以使用&lt;code&gt;dropna()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;ufo.dropna(axis=&lt;span&gt;&#x27;columns&#x27;&lt;/span&gt;).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4880952380952381&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pXTB8UFqBUBssia5AXLDNdpP408LrcYJJownibKsYibseQWpZamtG9km7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;672&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;或者你想要舍弃那么缺失值占比超过10%的列，你可以给&lt;code&gt;dropna()&lt;/code&gt;设置一个阈值：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;ufo.dropna(thresh=len(ufo)*&lt;span&gt;0.9&lt;/span&gt;, axis=&lt;span&gt;&#x27;columns&#x27;&lt;/span&gt;).head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4876543209876543&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p64ZicWIUf5PGzS1ENvEgQ05gBzeMwjnvibiaF1SjcO2CYOqW6DJ19ZWrQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;648&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;len(ufo)&lt;/code&gt;返回总行数，我们将它乘以0.9，以告诉pandas保留那些至少90%的值不是缺失值的列。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;16. 将一个字符串划分成多个列&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们先创建另一个新的示例DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.DataFrame({&lt;span&gt;&#x27;name&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;John Arthur Doe&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Jane Ann Smith&#x27;&lt;/span&gt;],&lt;br/&gt;                   &lt;span&gt;&#x27;location&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;Los Angeles, CA&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Washington, DC&#x27;&lt;/span&gt;]})&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.25210084033613445&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pPlDdQTyKiaJ8icICxMOCicvNXbhgQbX5VAkQa3UicILseW6awdOq2hm4uQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;714&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果我们需要将“name”这一列划分为三个独立的列，用来表示first, middle, last name呢？我们将会使用&lt;code&gt;str.split()&lt;/code&gt;函数，告诉它以空格进行分隔，并将结果扩展成一个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.name.str.split(&lt;span&gt;&#x27; &#x27;&lt;/span&gt;, expand=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2733118971061093&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pkULH6jKcyjZjMYNb2J8cuHYya33sf1XicZkjia3g1dE1LREOzK4Z6nvQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;622&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这三列实际上可以通过一行代码保存至原来的DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df[[&lt;span&gt;&#x27;first&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;middle&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;last&#x27;&lt;/span&gt;]] = df.name.str.split(&lt;span&gt;&#x27; &#x27;&lt;/span&gt;, expand=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;df&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2265193370165746&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p8CMYUBs1ibKib0cicsAR0cyXWOibasGnV3AApMvV0DxO82gZO1U2dHystQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;724&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果我们想要划分一个字符串，但是仅保留其中一个结果列呢？比如说，让我们以&quot;, &quot;来划分location这一列：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df.location.str.split(&lt;span&gt;&#x27;, &#x27;&lt;/span&gt;, expand=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29931972789115646&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pn6yvcwE5eGlnZdVXibQYaQpZEFLpibkiaiboZ1Z33tW5EkKonfOqEMC6rw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;588&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果我们只想保留第0列作为city name，我们仅需要选择那一列并保存至DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df[&lt;span&gt;&#x27;city&#x27;&lt;/span&gt;] = df.location.str.split(&lt;span&gt;&#x27;, &#x27;&lt;/span&gt;, expand=&lt;span&gt;True&lt;/span&gt;)[&lt;span&gt;0&lt;/span&gt;]&lt;br/&gt;df&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.19144144144144143&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6puNib1Lno9AjR8wQ2pPADTpcgEH9GODTIYib4TH98icZyF2VyZFswicRKXw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;888&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;17. 将一个由列表组成的Series扩展成DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们创建一个新的示例DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df = pd.DataFrame({&lt;span&gt;&#x27;col_one&#x27;&lt;/span&gt;:[&lt;span&gt;&#x27;a&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;b&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;c&#x27;&lt;/span&gt;], &lt;span&gt;&#x27;col_two&#x27;&lt;/span&gt;:[[&lt;span&gt;10&lt;/span&gt;, &lt;span&gt;40&lt;/span&gt;], [&lt;span&gt;20&lt;/span&gt;, &lt;span&gt;50&lt;/span&gt;], [&lt;span&gt;30&lt;/span&gt;, &lt;span&gt;60&lt;/span&gt;]]})&lt;br/&gt;df&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3848797250859107&quot; data-type=&quot;png&quot; data-w=&quot;582&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pibR2ib3DqBLHaNqoGlok8qF5NcUb4hLte6zGU2JVibKRaE1s5wdtHtexg/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里有两列，第二列包含了Python中的由整数元素组成的列表。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果我们想要将第二列扩展成DataFrame，我们可以对那一列使用&lt;code&gt;apply()&lt;/code&gt;函数并传递给Series constructor:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;df_new = df.col_two.apply(pd.Series)&lt;br/&gt;df_new&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.43568464730290457&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pcdziabpV3tKvtMtaibicWBjicic8Y0bgIwGz9R32dN6mmq5klIdQddA2znw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;482&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;通过使用&lt;code&gt;concat()&lt;/code&gt;函数，我们可以将原来的DataFrame和新的DataFrame组合起来：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.concat([df, df_new], axis=&lt;span&gt;&#x27;columns&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4246575342465753&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pnDqia2Ao5G5sDaPeEYgel4qTXVp6YUDCZzj4yAG5pdicFFWXlDib5Zia8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;584&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;18. 对多个函数进行聚合&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来看一眼从Chipotle restaurant chain得到的orders这个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders.head(&lt;span&gt;10&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4222222222222222&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pIh37qG0Tq82ia50PF1Hibhk43ZicZ0icuAmAZNEk7SR5XLxxTO2M7gicUFw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;每个订单（order）都有订单号（order_id），包含一行或者多行。为了找出每个订单的总价格，你可以将那个订单号的价格（item_price）加起来。比如，这里是订单号为1的总价格：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders[orders.order_id == &lt;span&gt;1&lt;/span&gt;].item_price.sum()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;11.56&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想要计算每个订单的总价格，你可以对order_id使用&lt;code&gt;groupby()&lt;/code&gt;，再对每个group的item_price进行求和。&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders.groupby(&lt;span&gt;&#x27;order_id&#x27;&lt;/span&gt;).item_price.sum().head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;order_id&lt;br/&gt;1    11.56&lt;br/&gt;2    16.98&lt;br/&gt;3    12.67&lt;br/&gt;4    21.00&lt;br/&gt;5    13.70&lt;br/&gt;Name: item_price, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是，事实上你不可能在聚合时仅使用一个函数，比如&lt;code&gt;sum()&lt;/code&gt;。为了对多个函数进行聚合，你可以使用&lt;code&gt;agg()&lt;/code&gt;函数，传给它一个函数列表，比如&lt;code&gt;sum()&lt;/code&gt;和&lt;code&gt;count()&lt;/code&gt;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders.groupby(&lt;span&gt;&#x27;order_id&#x27;&lt;/span&gt;).item_price.agg([&lt;span&gt;&#x27;sum&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;count&#x27;&lt;/span&gt;]).head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6586206896551724&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pJ02dCk3bVBvduYqRXMCK2MicMoFnjWzAfmV4nd0g9a2OAgYsA2SlKvQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;580&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这将告诉我们没定订单的总价格和数量。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;19. 将聚合结果与DataFrame进行组合&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们再看一眼orders这个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders.head(&lt;span&gt;10&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.412962962962963&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p051lTOTE0F1eDEciaDdcUAtv2wqD2RH6V1icjXO4Jwibe5apEFXynBVAA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果我们想要增加新的一列，用于展示每个订单的总价格呢？回忆一下，我们通过使用&lt;code&gt;sum()&lt;/code&gt;函数得到了总价格：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders.groupby(&lt;span&gt;&#x27;order_id&#x27;&lt;/span&gt;).item_price.sum().head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;order_id&lt;br/&gt;1    11.56&lt;br/&gt;2    16.98&lt;br/&gt;3    12.67&lt;br/&gt;4    21.00&lt;br/&gt;5    13.70&lt;br/&gt;Name: item_price, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;sum()&lt;/code&gt;是一个聚合函数，这表明它返回输入数据的精简版本（reduced version ）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;换句话说，&lt;code&gt;sum()&lt;/code&gt;函数的输出：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;len(orders.groupby(&lt;span&gt;&#x27;order_id&#x27;&lt;/span&gt;).item_price.sum())&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;1834&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;比这个函数的输入要小：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;len(orders.item_price)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;4622&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;解决的办法是使用&lt;code&gt;transform()&lt;/code&gt;函数，它会执行相同的操作但是返回与输入数据相同的形状：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;total_price = orders.groupby(&lt;span&gt;&#x27;order_id&#x27;&lt;/span&gt;).item_price.transform(&lt;span&gt;&#x27;sum&#x27;&lt;/span&gt;)&lt;br/&gt;len(total_price)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;4622&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们将这个结果存储至DataFrame中新的一列：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders[&lt;span&gt;&#x27;total_price&#x27;&lt;/span&gt;] = total_price&lt;br/&gt;orders.head(&lt;span&gt;10&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3758043758043758&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pEKiaXlm30qHWFf6q0biasfBZ1icbk2wI5FHuqjXfdOFgEib0K3UKxDfwBw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1554&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以看到，每个订单的总价格在每一行中显示出来了。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样我们就能方便地甲酸每个订单的价格占该订单的总价格的百分比：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;orders[&lt;span&gt;&#x27;percent_of_total&#x27;&lt;/span&gt;] = orders.item_price / orders.total_price&lt;br/&gt;orders.head(&lt;span&gt;10&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4981481481481482&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pRXibDPtYQ1ngpOjnJwZibFDL3DB4M4dqjjiba7TtABE4Df07I3ujcO7YQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;20. 选取行和列的切片&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们看一眼另一个数据集：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.head()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3130434782608696&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pJMefsvrp7Btpa6n9ibhpbdD3HmgH143O5IFdPibAMibN5Y5oxqeE0ooow/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1610&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这就是著名的Titanic数据集，它保存了Titanic上乘客的信息以及他们是否存活。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想要对这个数据集做一个数值方面的总结，你可以使用&lt;code&gt;describe()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.describe()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.412962962962963&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pPEppo96zI4VM6qFkRMvdibia9sbJQAhh37Klagp1IOJYDYyRib78CzTyw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;但是，这个DataFrame结果可能比你想要的信息显示得更多。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想对这个结果进行过滤，只想显示“五数概括法”（five-number summary）的信息，你可以使用&lt;code&gt;loc&lt;/code&gt;函数并传递&quot;min&quot;到&quot;max&quot;的切片:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.describe().loc[&lt;span&gt;&#x27;min&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;max&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.38666666666666666&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6puo6CZrdOy1fTDFSCSLy6lJNLPwkcRNQgcUwgZnon2OGt7RXw1hO1IQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你不是对所有列都感兴趣，你也可以传递列名的切片：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.describe().loc[&lt;span&gt;&#x27;min&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;max&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;Parch&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4772727272727273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pJFSsApKWyPa7j7LypGwqGibiazTvVliaFRicvV9xAPUBJAdxeZlmpfKI2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;704&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;21. 对MultiIndexed Series进行重塑&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Titanic数据集的Survived列由1和0组成，因此你可以对这一列计算总的存活率：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.Survived.mean()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;0.3838383838383838&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想对某个类别，比如“Sex”，计算存活率，你可以使用&lt;code&gt;groupby()&lt;/code&gt;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.groupby(&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;).Survived.mean()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Sex&lt;br/&gt;female    0.742038&lt;br/&gt;male      0.188908&lt;br/&gt;Name: Survived, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你想一次性对两个类别变量计算存活率，你可以对这些类别变量使用&lt;code&gt;groupby()&lt;/code&gt;：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.groupby([&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;]).Survived.mean()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;Sex     Pclass&lt;br/&gt;female  1         0.968085&lt;br/&gt;        2         0.921053&lt;br/&gt;        3         0.500000&lt;br/&gt;male    1         0.368852&lt;br/&gt;        2         0.157407&lt;br/&gt;        3         0.135447&lt;br/&gt;Name: Survived, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;该结果展示了由Sex和Passenger Class联合起来的存活率。它存储为一个MultiIndexed Series，也就是说它对实际数据有多个索引层级。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这使得该数据难以读取和交互，因此更为方便的是通过&lt;code&gt;unstack()&lt;/code&gt;函数将MultiIndexed Series重塑成一个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.groupby([&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;]).Survived.mean().unstack()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.31666666666666665&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6paj2CibZq4qvjAlUy9Qe63iatwnbQujbcbPt52afDYdI9Lia3CVNujDj0w/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;该DataFrame包含了与MultiIndexed Series一样的数据，不同的是，现在你可以用熟悉的DataFrame的函数对它进行操作。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;22. 创建数据透视表（pivot table）&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;如果你经常使用上述的方法创建DataFrames，你也许会发现用&lt;code&gt;pivot_table()&lt;/code&gt;函数更为便捷：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.pivot_table(index=&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;, columns=&lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;, values=&lt;span&gt;&#x27;Survived&#x27;&lt;/span&gt;, aggfunc=&lt;span&gt;&#x27;mean&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.33532934131736525&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pSibY7Dl7CXynwYiasbQgXFKgyZuJ15hwskOYyp7WjusEZWFMficL0PoAA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;668&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;想要使用数据透视表，你需要指定索引(index), 列名(columns), 值(values)和聚合函数(aggregation function)。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;数据透视表的另一个好处是，你可以通过设置&lt;code&gt;margins=True&lt;/code&gt;轻松地将行和列都加起来：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.pivot_table(index=&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;, columns=&lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;, values=&lt;span&gt;&#x27;Survived&#x27;&lt;/span&gt;, aggfunc=&lt;span&gt;&#x27;mean&#x27;&lt;/span&gt;,&lt;br/&gt;                    margins=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.35323383084577115&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6picI4jY4VOfPBao24MW8JOU2Z2HY2KWT4w7ZRUF3st5w1A1b0NEQxcNQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;804&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;T这个结果既显示了总的存活率，也显示了Sex和Passenger Class的存活率。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，你可以创建交叉表（cross-tabulation），只需要将聚合函数由&quot;mean&quot;改为&quot;count&quot;:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.pivot_table(index=&lt;span&gt;&#x27;Sex&#x27;&lt;/span&gt;, columns=&lt;span&gt;&#x27;Pclass&#x27;&lt;/span&gt;, values=&lt;span&gt;&#x27;Survived&#x27;&lt;/span&gt;, aggfunc=&lt;span&gt;&#x27;count&#x27;&lt;/span&gt;,&lt;br/&gt;                    margins=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.43202416918429004&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pGdKmjolel4Lwv9mAibicjYFiaKX9I9SpLvr1iaS5WmliawBu6UGnLSJv3Ew/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;662&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这个结果展示了每一对类别变量组合后的记录总数。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;23. 将连续数据转变成类别数据&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们来看一下Titanic数据集中的Age那一列：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.Age.head(&lt;span&gt;10&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;0    22.0&lt;br/&gt;1    38.0&lt;br/&gt;2    26.0&lt;br/&gt;3    35.0&lt;br/&gt;4    35.0&lt;br/&gt;5     NaN&lt;br/&gt;6    54.0&lt;br/&gt;7     2.0&lt;br/&gt;8    27.0&lt;br/&gt;9    14.0&lt;br/&gt;Name: Age, dtype: float64&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;它现在是连续性数据，但是如果我们想要将它转变成类别数据呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;一个解决办法是对年龄范围打标签，比如&quot;adult&quot;, &quot;young adult&quot;, &quot;child&quot;。实现该功能的最好方式是使用&lt;code&gt;cut()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.cut(titanic.Age, bins=[&lt;span&gt;0&lt;/span&gt;, &lt;span&gt;18&lt;/span&gt;, &lt;span&gt;25&lt;/span&gt;, &lt;span&gt;99&lt;/span&gt;], labels=[&lt;span&gt;&#x27;child&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;young adult&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;adult&#x27;&lt;/span&gt;]).head(&lt;span&gt;10&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;0    young adult&lt;br/&gt;1          adult&lt;br/&gt;2          adult&lt;br/&gt;3          adult&lt;br/&gt;4          adult&lt;br/&gt;5            NaN&lt;br/&gt;6          adult&lt;br/&gt;7          child&lt;br/&gt;8          adult&lt;br/&gt;9          child&lt;br/&gt;Name: Age, dtype: category&lt;br/&gt;Categories (3, object): [child &amp;lt; young adult &amp;lt; adult]&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这会对每个值打上标签。0到18岁的打上标签&quot;child&quot;，18-25岁的打上标签&quot;young adult&quot;，25到99岁的打上标签“adult”。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;注意到，该数据类型为类别变量，该类别变量自动排好序了（有序的类别变量）。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;24. 更改显示选项&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们再来看一眼Titanic 数据集：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;titanic.head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2962962962962963&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pjYic30YyvGDAUf8AOMwyvt1u0Dvl8Tib2icU771LZkPJia8QdXR2fLsiaYw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;注意到，Age列保留到小数点后1位，Fare列保留到小数点后4位。如果你想要标准化，将显示结果保留到小数点后2位呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你可以使用&lt;code&gt;set_option()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.set_option(&lt;span&gt;&#x27;display.float_format&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;{:.2f}&#x27;&lt;/span&gt;.format)&lt;br/&gt;&lt;br/&gt;titanic.head()&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.28055555555555556&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p7EBhBCU0r5FPgGuAibCfM2yia2ca8puYpkkkoAjUjt9L6mvia5ic0yy9Ag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;set_option()&lt;/code&gt;函数中第一个参数为选项的名称，第二个参数为Python格式化字符。可以看到，Age列和Fare列现在已经保留小数点后两位。注意，这并没有修改基础的数据类型，而只是修改了数据的显示结果。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;你也可以重置任何一个选项为其默认值：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;pd.reset_option(&lt;span&gt;&#x27;display.float_format&#x27;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;对于其它的选项也是类似的使用方法。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;25. Style a DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;上一个技巧在你想要修改整个jupyter notebook中的显示会很有用。但是，一个更灵活和有用的方法是定义特定DataFrame中的格式化（style）。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们回到stocks这个DataFrame:&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;stocks&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7431693989071039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pMHRSGQundSCHYPWuN3ydiaCeTKiaeXTFpMib4PUEibAxXe8X1bYxUKJstw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;732&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们可以创建一个格式化字符串的字典，用于对每一列进行格式化。然后将其传递给DataFrame的&lt;code&gt;style.format()&lt;/code&gt;函数：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;format_dict = {&lt;span&gt;&#x27;Date&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;{:%m/%d/%y}&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Close&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;${:.2f}&#x27;&lt;/span&gt;, &lt;span&gt;&#x27;Volume&#x27;&lt;/span&gt;:&lt;span&gt;&#x27;{:,}&#x27;&lt;/span&gt;}&lt;br/&gt;&lt;br/&gt;stocks.style.format(format_dict)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6944444444444444&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p2E885hzo2b93PCEMTVPuP4vBDx4qBx5BkpNdpJVJibwxTD36tE9jHBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;792&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;注意到，Date列是month-day-year的格式，Close列包含一个$符号，Volume列包含逗号。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们可以通过链式调用函数来应用更多的格式化：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;(stocks.style.format(format_dict)&lt;br/&gt; .hide_index()&lt;br/&gt; .highlight_min(&lt;span&gt;&#x27;Close&#x27;&lt;/span&gt;, color=&lt;span&gt;&#x27;red&#x27;&lt;/span&gt;)&lt;br/&gt; .highlight_max(&lt;span&gt;&#x27;Close&#x27;&lt;/span&gt;, color=&lt;span&gt;&#x27;lightgreen&#x27;&lt;/span&gt;)&lt;br/&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9722222222222222&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6plvibTHblh2ODflHRUia8V4sqvicB7r25IcSOyeXYZT4w7yFftfmKaQ27w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;576&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我们现在隐藏了索引，将Close列中的最小值高亮成红色，将Close列中的最大值高亮成浅绿色。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里有另一个DataFrame格式化的例子：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;(stocks.style.format(format_dict)&lt;br/&gt; .hide_index()&lt;br/&gt; .background_gradient(subset=&lt;span&gt;&#x27;Volume&#x27;&lt;/span&gt;, cmap=&lt;span&gt;&#x27;Blues&#x27;&lt;/span&gt;)&lt;br/&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8255451713395638&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p8yQEiaBmPSpnk8qbdcQLP2wYzQOsVibWEz6lEhX9DQIF7EIDDmWPAVSQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;642&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Volume列现在有一个渐变的背景色，你可以轻松地识别出大的和小的数值。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后一个例子：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;(stocks.style.format(format_dict)&lt;br/&gt; .hide_index()&lt;br/&gt; .bar(&lt;span&gt;&#x27;Volume&#x27;&lt;/span&gt;, color=&lt;span&gt;&#x27;lightblue&#x27;&lt;/span&gt;, align=&lt;span&gt;&#x27;zero&#x27;&lt;/span&gt;)&lt;br/&gt; .set_caption(&lt;span&gt;&#x27;Stock Prices from October 2016&#x27;&lt;/span&gt;)&lt;br/&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7824933687002652&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p5ibic946gv7kDv1VvJkfwzW7jwxFShmNIgIdqwQVllCqqPlL7MOOeK7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;754&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;现在，Volumn列上有一个条形图，DataFrame上有一个标题。请注意，还有许多其他的选项你可以用来格式化DataFrame。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;额外技巧：Profile a DataFrame&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;假设你拿到一个新的数据集，你不想要花费太多力气，只是想快速地探索下。那么你可以使用&lt;code&gt;pandas-profiling&lt;/code&gt;这个模块。在你的系统上安装好该模块，然后使用&lt;code&gt;ProfileReport()&lt;/code&gt;函数，传递的参数为任何一个DataFrame。它会返回一个互动的HTML报告：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;第一部分为该数据集的总览，以及该数据集可能出现的问题列表；&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;第二部分为每一列的总结。你可以点击&quot;toggle details&quot;获取更多信息；&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;第三部分显示列之间的关联热力图；&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;第四部分为缺失值情况报告；&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;第五部分显示该数据及的前几行。&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;使用示例如下（只显示第一部分的报告）：&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; pandas_profiling&lt;br/&gt;pandas_profiling.ProfileReport(titanic)&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5203703703703704&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pyNCtD8kF6ckLQKno6pAsTVNdw5rRw9vdZ47BicMyR8vfKn4Brc7rTCg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;2.2848297213622293&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6pWjicGJ5HrtmzxeGiar4Q8CSEn989icEA2j8Zos1Je41wRhc2ESwxInAsg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;646&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.6480331262939958&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hN1l83J6PhibibyviaTndatOurjRCHGfW6p5sgcwWoDRBhFJYibacOVib0xUicUBqMDECQTcp6JbWiaoibKS2vI6ga5IbA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;966&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;24&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;参考：https://nbviewer.org/&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;pre&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;229&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;248&quot; data-ratio=&quot;1.2974079126875853&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/njjfaJS7c9rPHUPw5yicNLqwPXxTAwibgJichjbRBgDLDA1OWRCs9Md9DzknKoqyZXZvniahsR6FnGKQaaCPgotqWg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;733&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot; data-darkmode-bgcolor-16545695970992=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16545695970992=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16545695970992=&quot;rgb(105, 105, 105)&quot; data-darkmode-original-color-16545695970992=&quot;#fff|rgb(105, 105, 105)&quot; data-style=&quot;margin: 0em 0px 0px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left; word-spacing: 1px; caret-color: rgb(0, 0, 0); color: rgb(105, 105, 105); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;p data-darkmode-bgcolor-16545695970992=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16545695970992=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16545695970992=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16545695970992=&quot;#fff|rgb(105, 105, 105)|rgb(34, 34, 34)&quot; data-style=&quot;margin-top: 0px; margin-right: 8px; margin-left: 8px; padding: 0px; outline: 0px; max-width: 100%; clear: both; min-height: 1em; color: rgb(34, 34, 34); font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei UI&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; letter-spacing: 0.544px; white-space: normal; line-height: 1.75em; visibility: visible; margin-bottom: 1.2em !important; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;span&gt;&lt;strong data-darkmode-bgcolor-16545695970992=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16545695970992=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16545695970992=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16545695970992=&quot;#fff|rgb(105, 105, 105)|rgb(34, 34, 34)|rgb(0, 0, 0)&quot; data-style=&quot;margin: 0px; padding: 0px; outline: 0px; max-width: 100%; word-spacing: 2px; widows: 1; caret-color: rgb(51, 51, 51); font-family: -apple-system, system-ui, BlinkMacSystemFont, &amp;quot;Helvetica Neue&amp;quot;, &amp;quot;PingFang SC&amp;quot;, &amp;quot;Hiragino Sans GB&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, Arial, sans-serif; color: rgb(0, 0, 0); letter-spacing: 0.5px; visibility: visible; box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;推荐阅读&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjYwMTc5Nw==&amp;amp;mid=2648972608&amp;amp;idx=2&amp;amp;sn=c35eee2e8d19835c6cb79b8688409a6f&amp;amp;chksm=87938f6ab0e4067c1631d1b988d0d1d64fea6e6a1fd221bbb0b02b0a959a8fca94f93fa7cfd3&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;【教程】Python数据可视化入门&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;【教程】Python数据可视化入门&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjYwMTc5Nw==&amp;amp;mid=2648973003&amp;amp;idx=2&amp;amp;sn=a7df0dd64d3f3eb37d6c35852916bc94&amp;amp;chksm=87938ce1b0e405f7e894c018186de28aabfdc4e861af927292ae6c3c541e8286026e82fb356f&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;【数据分析】统计学基础知识总结&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;【数据分析】统计学基础知识总结&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjYwMTc5Nw==&amp;amp;mid=2648973082&amp;amp;idx=2&amp;amp;sn=c187826dbb62dc6fdbb4898460b1b605&amp;amp;chksm=87938d30b0e404264f6b1a586752c21bceb990358ca80f1d28ba0f14032db526acb438fb0510&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;全网最全的速查表：Python Numpy Pandas Matplotlib 机器学习等&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;全网最全速查表：Python 机器学习&lt;/a&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot; data-darkmode-bgcolor-16545695970992=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16545695970992=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16545695970992=&quot;rgb(105, 105, 105)&quot; data-darkmode-original-color-16545695970992=&quot;#fff|rgb(105, 105, 105)&quot; data-style=&quot;margin: 0em 0px 0px; padding: 0px; outline: 0px; max-width: 100%; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.544px; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left; word-spacing: 1px; caret-color: rgb(0, 0, 0); color: rgb(105, 105, 105); box-sizing: border-box !important; overflow-wrap: break-word !important;&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjYwMTc5Nw==&amp;amp;mid=2648969778&amp;amp;idx=2&amp;amp;sn=838f0360048a7681d38b05e79011f6f3&amp;amp;chksm=87938018b0e4090ee61c848e02f718c74c3aa5e2a96469bd3e48a8748b3ea5875972d161c97e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《机器学习算法与Python实战》：搭建机器学习开发环境&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;搭建完美的Python 机器学习开发环境&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4MjYwMTc5Nw==&amp;amp;mid=2648973292&amp;amp;idx=2&amp;amp;sn=068805ff2eb33481bdf9203c86051d9c&amp;amp;chksm=87938dc6b0e404d072d52371d642baf55955faaec3611875d20ae39a566b7403806d07c64493&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;《机器学习算法与Python实战》：训练集，验证集，测试集，交叉验证&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;训练集，验证集，测试集，交叉验证&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>b4c9f21f2feafd1cdc456d9ef774c6c5</guid>
<title>多云时代下，难道“真的”不需要 DBA 了？</title>
<link>https://toutiao.io/k/zd2hyxm</link>
<content:encoded>&lt;div&gt;&lt;div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>