<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>c0e3dd38669749a0e8082278abfef99e</guid>
<title>ç½‘å…³ç³»ç»Ÿå°±è¯¥è¿™ä¹ˆè®¾è®¡ï¼ˆä¸‡èƒ½é€šç”¨ï¼‰ï¼Œç¨³çš„ä¸€æ‰¹</title>
<link>https://toutiao.io/k/f4lr8a4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot; mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.36484375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HmXWpTc2vib2ibq0p8cfjxRlTHl0reqRwBcTwYuTvbW8SL1VImm163MGgkBZiaojCCiazEnQz49QOTicbqXAdtvoywg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;span&gt;ğŸ‘†&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;&lt;span&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;é•¿æŒ‰Â &lt;/span&gt;&lt;span&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;å…³æ³¨&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;Â æ­¤å…¬ä¼—å·ï¼Œ&lt;span&gt;æŠ€æœ¯å¹²è´§ï¼ŒåŠæ—¶é€è¾¾&lt;/span&gt;&lt;/span&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;&lt;span&gt;&lt;span&gt;ï¼&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;&lt;span&gt;&lt;span/&gt;&lt;span&gt;ğŸ‘†&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;span/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡å‡†å¤‡å›´ç»•ä¸ƒä¸ªç‚¹æ¥è®²ç½‘å…³ï¼Œåˆ†åˆ«æ˜¯ç½‘å…³çš„åŸºæœ¬æ¦‚å¿µã€ç½‘å…³è®¾è®¡æ€è·¯ã€ç½‘å…³è®¾è®¡é‡ç‚¹ã€æµé‡ç½‘å…³ã€ä¸šåŠ¡ç½‘å…³ã€å¸¸è§ç½‘å…³å¯¹æ¯”ï¼Œå¯¹åŸºç¡€æ¦‚å¿µç†Ÿæ‚‰çš„æœ‹å‹å¯ä»¥æ ¹æ®ç›®å½•æŸ¥çœ‹è‡ªå·±æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯ç½‘å…³&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³ï¼Œå¾ˆå¤šåœ°æ–¹å°†ç½‘å…³æ¯”å¦‚æˆé—¨ï¼Œ æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œ ä½†æ˜¯éœ€è¦åŒºåˆ†ç½‘å…³ä¸ç½‘æ¡¥çš„åŒºåˆ«ï¼Œ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç½‘æ¡¥&lt;/strong&gt;Â å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œåœ¨ä¸åŒæˆ–ç›¸åŒç±»å‹çš„LANä¹‹é—´å­˜å‚¨å¹¶è½¬å‘æ•°æ®å¸§ï¼Œå¿…è¦æ—¶è¿›è¡Œé“¾è·¯å±‚ä¸Šçš„åè®®è½¬æ¢ã€‚å¯è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªç½‘ç»œï¼Œåœ¨å…¶ä¸­ä¼ é€ä¿¡æ¯åŒ…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç½‘å…³&lt;/strong&gt;Â æ˜¯ä¸€ä¸ªå¤§æ¦‚å¿µï¼Œä¸å…·ä½“ç‰¹æŒ‡ä¸€ç±»äº§å“ï¼Œåªè¦è¿æ¥ä¸¤ä¸ªä¸åŒçš„ç½‘ç»œéƒ½å¯ä»¥å«ç½‘å…³ï¼Œç½‘æ¡¥ä¸€èˆ¬åªè½¬å‘ä¿¡æ¯ï¼Œè€Œç½‘å…³å¯èƒ½è¿›è¡ŒåŒ…è£…ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç½‘å…³é€šä¿—ç†è§£&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹æ®ç½‘å…³çš„ç‰¹æ€§ï¼Œä¸¾ä¸ªä¾‹å­:&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡å¦‚ä½ è¦å»æ‰¾é›†å›¢è€æ¿(è¿™å„¿åªæ˜¯ä¸¾ä¸ªä¾‹å­)ï¼Œ å¤§å®¶éƒ½çŸ¥é“è€æ¿è‚¯å®šä¸æ˜¯è°æƒ³è§å°±èƒ½è§çš„ï¼Œ ä¹Ÿæ€•åäººå˜›ï¼Œ é‚£ä¹ˆä½ å»è€æ¿æ‰€åœ¨çš„åŠå…¬æ¥¼ï¼Œå‡å¦‚æ˜¯é›†å›¢æ€»éƒ¨ï¼Œ å¤§æ¥¼è¿™ä¸ªé—¨å°±å……å½“äº†ç½‘å…³çš„è§’è‰²ï¼Œ å¤§é—¨ä¸€èˆ¬éƒ½æœ‰çœ‹é—¨å‘˜ ï¼Œçœ‹é—¨å‘˜ä¼šåšå“ªäº›äº‹æƒ…å‘¢?&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæ‰€æœ‰æƒ³è§è€æ¿çš„äººè‚¯å®šéƒ½å¾—ä»è¿™ä¸ªé—¨è¿›(&lt;strong&gt;ç»Ÿä¸€å…¥å£&lt;/strong&gt;Â )ï¼Œ è¿™ä¸ªé—¨ç›¸å½“äºå°†åŠå…¬å®¤å’Œå¤–ç•Œéš”ç¦»äº†ï¼Œä¸»è¦ä¸ºäº†ä¿æŠ¤é‡Œé¢çš„å®‰å…¨ä»¥åŠæ­£å¸¸å·¥ä½œï¼Œ æ¥åˆ°è¿™ä¸ªé—¨ä¹‹åï¼Œ é—¨å«è‚¯å®šä¼šè®©ä½ å‡ºç¤ºç›¸å…³è¯ä»¶(&lt;strong&gt;é‰´æƒæ£€éªŒ&lt;/strong&gt;Â )ï¼Œ æ„æ€å°±æ˜¯åˆ¤æ–­ä½ è¦è§è€æ¿è¿™ä¸ªè¯·æ±‚æ˜¯å¦åˆç†ï¼Œ å¦‚æœä¸åˆç†ç›´æ¥å°±æ‹’ç»äº†ï¼Œ è®©ä½ å›å®¶ç­‰æ¶ˆæ¯ ï¼Œ å¦‚æœé‰´æƒä¹‹åï¼Œ å‘ç°ä½ æ‰¾è€æ¿å…¶å®åªæ˜¯ä¸ºäº†å’Œä»–è°ˆè°ˆä¸¤å…ƒåº—çš„ç”Ÿæ„ï¼Œ é—¨å«ä¼šè·Ÿä½ è¯´è¿™ä¸ªç”¨ä¸ç€æ‰¾è€æ¿ï¼Œ ä½ å»é›†å›¢æŠ•èµ„éƒ¨å°±è¡Œäº†(&lt;strong&gt;åŠ¨æ€è·¯ç”±&lt;/strong&gt;Â ï¼Œ å°†è¯·æ±‚è·¯ç”±åˆ°ä¸åŒçš„åç«¯é›†ç¾¤ä¸­)ï¼Œ æ­¤æ—¶ä¼šå¯¹ä½ è¿›è¡Œä¸€äº›&lt;strong&gt;åŒ…è£…&lt;/strong&gt;Â ï¼Œä¾‹å¦‚ç»™ä½ å‡ºå…·ä¸€ä¸ªè®¿é—®è¯ç±»ä¼¼çš„ï¼Œç„¶åå‘Šè¯‰ä½ è·¯è¯¥æ€ä¹ˆèµ°ï¼Œç­‰ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ çœ‹çœ‹ï¼Œç½‘å…³çš„ä½œç”¨æ˜¯ä¸æ˜¯å°±æ˜¯è¿™ä¸‰ä¸ªï¼Œ æœ€ç»ˆç›®çš„å°±æ˜¯å‡å°‘ä½ ä¸é›†å›¢çš„è€¦åˆï¼Œå…·ä½“åˆ°è®¡ç®—æœºä¸Šå°±æ˜¯å‡å°‘å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„è€¦åˆï¼Œå¦‚æœæ²¡æœ‰ç½‘å…³æ„å‘³ç€æ‰€æœ‰è¯·æ±‚éƒ½ä¼šç›´æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œè¿™æ ·è€¦åˆå¤ªå¼ºäº†ï¼ŒæœåŠ¡å™¨å‡ºäº†é—®é¢˜ï¼Œå®¢æˆ·ç«¯ä¼šç›´æ¥æŠ¥é”™ï¼Œ ä¾‹å¦‚è€æ¿æ¢å·¥ä½œçš„åœ°æ–¹äº†ï¼Œå¦‚æœæ²¡æœ‰ç½‘å…³ä½ ç›´æ¥å»åŸæ¥çš„åœ°æ–¹æ‰¾ï¼Œ è‚¯å®šä¼šè¢«å‘ŠçŸ¥è€æ¿ä¸åœ¨è¿™å„¿ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸ºä»€ä¹ˆéœ€è¦ç½‘å…³&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ä½¿ç”¨å•ä½“åº”ç”¨ç¨‹åºæ¶æ„æ—¶ï¼Œå®¢æˆ·ç«¯ï¼ˆWeb æˆ–ç§»åŠ¨ç«¯ï¼‰é€šè¿‡å‘åç«¯åº”ç”¨ç¨‹åºå‘èµ·ä¸€æ¬¡ REST è°ƒç”¨æ¥è·å–æ•°æ®ã€‚è´Ÿè½½å‡è¡¡å™¨å°†è¯·æ±‚è·¯ç”±ç»™ N ä¸ªç›¸åŒçš„åº”ç”¨ç¨‹åºå®ä¾‹ä¸­çš„ä¸€ä¸ªã€‚ç„¶ååº”ç”¨ç¨‹åºä¼šæŸ¥è¯¢å„ç§æ•°æ®åº“è¡¨ï¼Œå¹¶å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œå•ä½“åº”ç”¨è¢«åˆ‡å‰²æˆå¤šä¸ªå¾®æœåŠ¡ï¼Œå¦‚æœå°†æ‰€æœ‰çš„å¾®æœåŠ¡ç›´æ¥å¯¹å¤–æš´éœ²ï¼ŒåŠ¿å¿…ä¼šå‡ºç°å®‰å…¨æ–¹é¢çš„å„ç§é—®é¢˜ï¼Œå¦å¤–å†…å¤–è€¦åˆä¸¥é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥å‘æ¯ä¸ªå¾®æœåŠ¡å‘é€è¯·æ±‚ï¼Œå…¶é—®é¢˜ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å®¢æˆ·ç«¯éœ€æ±‚å’Œæ¯ä¸ªå¾®æœåŠ¡æš´éœ²çš„ç»†ç²’åº¦ API ä¸åŒ¹é…ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;éƒ¨åˆ†æœåŠ¡ä½¿ç”¨çš„åè®®ä¸æ˜¯Webå‹å¥½åè®®ã€‚å¯èƒ½ä½¿ç”¨ Thrift äºŒè¿›åˆ¶ RPCï¼Œä¹Ÿå¯èƒ½ä½¿ç”¨ AMQP æ¶ˆæ¯ä¼ é€’åè®®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¾®æœåŠ¡éš¾ä»¥é‡æ„ã€‚å¦‚æœåˆå¹¶ä¸¤ä¸ªæœåŠ¡ï¼Œæˆ–è€…å°†ä¸€ä¸ªæœåŠ¡æ‹†åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šæœåŠ¡ï¼Œè¿™ç±»é‡æ„å°±éå¸¸å›°éš¾äº†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœåŠ¡ç«¯çš„å„ä¸ªæœåŠ¡ç›´æ¥æš´éœ²ç»™å®¢æˆ·ç«¯è°ƒç”¨åŠ¿å¿…ä¼šå¼•èµ·å„ç§é—®é¢˜ã€‚åŒæ—¶ï¼ŒæœåŠ¡ç«¯çš„å„ä¸ªæœåŠ¡å¯æ‰©å±•å’Œä¼¸ç¼©æ€§å¾ˆå·®ã€‚API ç½‘å…³æ˜¯å¾®æœåŠ¡æ¶æ„ä¸­çš„åŸºç¡€ç»„ä»¶ï¼Œä½äºæ¥å…¥å±‚ä¹‹ä¸‹å’Œä¸šåŠ¡æœåŠ¡å±‚ä¹‹ä¸Šï¼Œå¦‚å‰æ‰€è¿°çš„è¿™äº›åŠŸèƒ½é€‚åˆåœ¨ API ç½‘å…³å®ç°ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç½‘å…³ä¸æœåŠ¡å™¨é›†ç¾¤&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›åˆ°æˆ‘ä»¬æœåŠ¡å™¨ä¸Šï¼Œä¸‹é¢å›¾ä»‹ç»äº†ç½‘å…³(Gateway)ä½œç”¨ï¼Œå¯çŸ¥ Gateway æ–¹å¼ä¸‹çš„æ¶æ„ï¼Œå¯ä»¥ç»†åˆ°ä¸ºæ¯ä¸€ä¸ªæœåŠ¡çš„å®ä¾‹é…ç½®ä¸€ä¸ªè‡ªå·±çš„ Gatewayï¼Œä¹Ÿå¯ä»¥ç²—åˆ°ä¸ºä¸€ç»„æœåŠ¡é…ç½®ä¸€ä¸ªï¼Œç”šè‡³å¯ä»¥ç²—åˆ°ä¸ºæ•´ä¸ªæ¶æ„é…ç½®ä¸€ä¸ªæ¥å…¥çš„ Gatewayã€‚äºæ˜¯ï¼Œæ•´ä¸ªç³»ç»Ÿæ¶æ„çš„å¤æ‚åº¦å°±ä¼šå˜å¾—ç®€å•å¯æ§èµ·æ¥ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5165929203539823&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJlfQq3XdzictlKNdx9en3NfxsRSVaqaiaEuuVIo9KwKEHOibzMOD5MHm8w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;904&quot;/&gt;&lt;/p&gt;&lt;section&gt;è¿™å¼ å›¾å±•ç¤ºäº†ä¸€ä¸ªå¤šå±‚ Gateway æ¶æ„ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ€»çš„ Gateway æ¥å…¥æ‰€æœ‰çš„æµé‡(&lt;strong&gt;æµé‡ç½‘å…³&lt;/strong&gt;Â )ï¼Œå¹¶åˆ†å‘ç»™ä¸åŒçš„å­ç³»ç»Ÿï¼Œè¿˜æœ‰ç¬¬äºŒçº§ Gateway ç”¨äºåšå„ä¸ªå­ç³»ç»Ÿçš„æ¥å…¥ Gateway(&lt;strong&gt;ä¸šåŠ¡ç½‘å…³&lt;/strong&gt;Â )ã€‚å¯ä»¥çœ‹åˆ°ï¼Œç½‘å…³æ‰€ç®¡ç†çš„æœåŠ¡ç²’åº¦å¯ç²—å¯ç»†ã€‚é€šè¿‡ç½‘å…³ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåˆ†å¸ƒå¼æ¶æ„ç»„ç»‡æˆä¸€ä¸ªæ˜Ÿå‹æ¶æ„ï¼Œç”±ç½‘ç»œå¯¹æœåŠ¡çš„è¯·æ±‚è¿›è¡Œè·¯ç”±å’Œåˆ†å‘ã€‚ä¸‹é¢æ¥èŠèŠå¥½çš„ç½‘å…³åº”è¯¥å…·å¤‡å“ªäº›åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç½‘å…³è®¾è®¡æ¨¡å¼ã€‚&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç½‘å…³è®¾è®¡æ€è·¯&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªç½‘å…³éœ€è¦æœ‰ä»¥ä¸‹çš„åŠŸèƒ½:&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1. è¯·æ±‚è·¯ç”±&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³ä¸€å®šè¦æœ‰è¯·æ±‚è·¯ç”±çš„åŠŸèƒ½ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¯¹äºè°ƒç”¨ç«¯æ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€ä»¶éå¸¸æ–¹ä¾¿çš„äº‹æƒ…ã€‚å› ä¸ºè°ƒç”¨ç«¯ä¸éœ€è¦çŸ¥é“è‡ªå·±éœ€è¦ç”¨åˆ°çš„å…¶å®ƒæœåŠ¡çš„åœ°å€ï¼Œå…¨éƒ¨ç»Ÿä¸€åœ°äº¤ç»™ Gateway æ¥å¤„ç†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2. æœåŠ¡æ³¨å†Œ&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†èƒ½å¤Ÿä»£ç†åé¢çš„æœåŠ¡ï¼Œå¹¶æŠŠè¯·æ±‚è·¯ç”±åˆ°æ­£ç¡®çš„ä½ç½®ä¸Šï¼Œç½‘å…³åº”è¯¥æœ‰æœåŠ¡æ³¨å†ŒåŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯åç«¯çš„æœåŠ¡å®ä¾‹å¯ä»¥æŠŠå…¶æä¾›æœåŠ¡çš„åœ°å€æ³¨å†Œã€å–æ¶ˆæ³¨å†Œã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ³¨å†Œä¹Ÿå°±æ˜¯æ³¨å†Œä¸€äº› API æ¥å£ã€‚æ¯”å¦‚ï¼ŒHTTP çš„ Restful è¯·æ±‚ï¼Œå¯ä»¥æ³¨å†Œç›¸åº” API çš„ URIã€æ–¹æ³•ã€HTTP å¤´ã€‚è¿™æ ·ï¼ŒGateway å°±å¯ä»¥æ ¹æ®æ¥æ”¶åˆ°çš„è¯·æ±‚ä¸­çš„ä¿¡æ¯æ¥å†³å®šè·¯ç”±åˆ°å“ªä¸€ä¸ªåç«¯çš„æœåŠ¡ä¸Šã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3. è´Ÿè½½å‡è¡¡&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºä¸€ä¸ªç½‘å…³å¯ä»¥æ¥æ”¶å¤šä¸ªæœåŠ¡å®ä¾‹ï¼Œæ‰€ä»¥ç½‘å…³è¿˜éœ€è¦åœ¨å„ä¸ªå¯¹ç­‰çš„æœåŠ¡å®ä¾‹ä¸Šåšè´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚ç®€å•ç‚¹å°±æ˜¯ç›´æ¥ Round-Robin è½®è¯¢ï¼Œå¤æ‚ç‚¹çš„å¯ä»¥è®¾ç½®ä¸Šæƒé‡è¿›è¡Œåˆ†å‘ï¼Œå†å¤æ‚ä¸€ç‚¹è¿˜å¯ä»¥åšåˆ° session ç²˜è¿ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4. å¼¹åŠ›è®¾è®¡&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³è¿˜å¯ä»¥æŠŠå¼¹åŠ›è®¾è®¡ä¸­çš„é‚£äº›å¼‚æ­¥ã€é‡è¯•ã€å¹‚ç­‰ã€æµæ§ã€ç†”æ–­ã€ç›‘è§†ç­‰éƒ½å¯ä»¥å®ç°è¿›å»ã€‚è¿™æ ·ï¼ŒåŒæ ·å¯ä»¥åƒ Service Mesh é‚£æ ·ï¼Œè®©åº”ç”¨æœåŠ¡åªå…³å¿ƒè‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæˆ–æ˜¯è¯´æ•°æ®é¢ä¸Šçš„äº‹ï¼‰è€Œä¸æ˜¯æ§åˆ¶é€»è¾‘ï¼ˆæ§åˆ¶é¢ï¼‰ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;5. å®‰å…¨æ–¹é¢&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SSL åŠ å¯†åŠè¯ä¹¦ç®¡ç†ã€Session éªŒè¯ã€æˆæƒã€æ•°æ®æ ¡éªŒï¼Œä»¥åŠå¯¹è¯·æ±‚æºè¿›è¡Œæ¶æ„æ”»å‡»çš„é˜²èŒƒã€‚é”™è¯¯å¤„ç†è¶Šé å‰çš„ä½ç½®å°±æ˜¯è¶Šå¥½ï¼Œæ‰€ä»¥ï¼Œç½‘å…³å¯ä»¥åšåˆ°ä¸€ä¸ªå…¨ç«™çš„æ¥å…¥ç»„ä»¶æ¥å¯¹åç«¯çš„æœåŠ¡è¿›è¡Œä¿æŠ¤ã€‚å½“ç„¶ï¼Œç½‘å…³è¿˜å¯ä»¥åšæ›´å¤šæ›´æœ‰è¶£çš„äº‹æƒ…ï¼Œæ¯”å¦‚ï¼šç°åº¦å‘å¸ƒã€APIèšåˆã€APIç¼–æ’ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç°åº¦å‘å¸ƒ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³å®Œå…¨å¯ä»¥åšåˆ°å¯¹ç›¸åŒæœåŠ¡ä¸åŒç‰ˆæœ¬çš„å®ä¾‹è¿›è¡Œå¯¼æµï¼Œè¿˜å¯ä»¥æ”¶é›†ç›¸å…³çš„æ•°æ®ã€‚è¿™æ ·å¯¹äºè½¯ä»¶è´¨é‡çš„æå‡ï¼Œç”šè‡³äº§å“è¯•é”™éƒ½æœ‰éå¸¸ç§¯æçš„æ„ä¹‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;API èšåˆ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ç½‘å…³å¯ä»¥å°†å¤šä¸ªå•ç‹¬è¯·æ±‚èšåˆæˆä¸€ä¸ªè¯·æ±‚ã€‚åœ¨å¾®æœåŠ¡ä½“ç³»çš„æ¶æ„ä¸­ï¼Œå› ä¸ºæœåŠ¡å˜å°äº†ï¼Œæ‰€ä»¥ä¸€ä¸ªæ˜æ˜¾çš„é—®é¢˜æ˜¯ï¼Œå®¢æˆ·ç«¯å¯èƒ½éœ€è¦å¤šæ¬¡è¯·æ±‚æ‰èƒ½å¾—åˆ°æ‰€æœ‰çš„æ•°æ®ã€‚è¿™æ ·ä¸€æ¥ï¼Œå®¢æˆ·ç«¯ä¸åç«¯ä¹‹é—´çš„é¢‘ç¹é€šä¿¡ä¼šå¯¹åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œè§„æ¨¡äº§ç”Ÿéå¸¸ä¸åˆ©çš„å½±å“ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è®©ç½‘å…³æ¥å¸®å®¢æˆ·ç«¯è¯·æ±‚å¤šä¸ªåç«¯çš„æœåŠ¡ï¼ˆæœ‰äº›åœºæ™¯ä¸‹å®Œå…¨å¯ä»¥å¹¶å‘è¯·æ±‚ï¼‰ï¼Œç„¶åæŠŠåç«¯æœåŠ¡çš„å“åº”ç»“æœæ‹¼è£…èµ·æ¥ï¼Œå›ä¼ ç»™å®¢æˆ·ç«¯ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥åšæˆå¼‚æ­¥çš„ï¼Œä½†è¿™éœ€è¦å®¢æˆ·ç«¯çš„é…åˆï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;API ç¼–æ’&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·åœ¨å¾®æœåŠ¡çš„æ¶æ„ä¸‹ï¼Œè¦èµ°å®Œä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡æµç¨‹ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨ä¸€ç³»åˆ— APIï¼Œå°±åƒä¸€ç§å·¥ä½œæµä¸€æ ·ï¼Œè¿™ä¸ªäº‹å®Œå…¨å¯ä»¥é€šè¿‡ç½‘é¡µæ¥ç¼–æ’è¿™ä¸ªä¸šåŠ¡æµç¨‹ã€‚æˆ‘ä»¬å¯èƒ½é€šè¿‡ä¸€ä¸ª DSL æ¥å®šä¹‰å’Œç¼–æ’ä¸åŒçš„ APIï¼Œä¹Ÿå¯ä»¥é€šè¿‡åƒ AWS Lambda æœåŠ¡é‚£æ ·çš„æ–¹å¼æ¥ä¸²è”ä¸åŒçš„ APIã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç½‘å…³è®¾è®¡é‡ç‚¹&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³è®¾è®¡é‡ç‚¹ä¸»è¦æ˜¯ä¸‰ä¸ªï¼Œ é«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€é«˜æ‰©å±•:&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1. é«˜æ€§èƒ½&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æŠ€æœ¯è®¾è®¡ä¸Šï¼Œç½‘å…³ä¸åº”è¯¥ä¹Ÿä¸èƒ½æˆä¸ºæ€§èƒ½çš„ç“¶é¢ˆã€‚å¯¹äºé«˜æ€§èƒ½ï¼Œæœ€å¥½ä½¿ç”¨é«˜æ€§èƒ½çš„ç¼–ç¨‹è¯­è¨€æ¥å®ç°ï¼Œå¦‚ Cã€C++ã€Go å’Œ Javaã€‚ç½‘å…³å¯¹åç«¯çš„è¯·æ±‚ï¼Œä»¥åŠå¯¹å‰ç«¯çš„è¯·æ±‚çš„æœåŠ¡ä¸€å®šè¦ä½¿ç”¨å¼‚æ­¥éé˜»å¡çš„ I/O æ¥ç¡®ä¿åç«¯å»¶è¿Ÿä¸ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºä¸­å‡ºç°æ€§èƒ½é—®é¢˜ã€‚C å’Œ C++ å¯ä»¥å‚çœ‹ Linux ä¸‹çš„ epoll å’Œ Windows çš„ I/O Completion Port çš„å¼‚æ­¥ IO æ¨¡å‹ï¼ŒJava ä¸‹å¦‚ Nettyã€Spring Reactor çš„ NIO æ¡†æ¶ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2. é«˜å¯ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºæ‰€æœ‰çš„æµé‡æˆ–è°ƒç”¨ç»è¿‡ç½‘å…³ï¼Œæ‰€ä»¥ç½‘å…³å¿…é¡»æˆä¸ºä¸€ä¸ªé«˜å¯ç”¨çš„æŠ€æœ¯ç»„ä»¶ï¼Œå®ƒçš„ç¨³å®šç›´æ¥å…³ç³»åˆ°äº†æ‰€æœ‰æœåŠ¡çš„ç¨³å®šã€‚ç½‘å…³å¦‚æœæ²¡æœ‰è®¾è®¡ï¼Œå°±ä¼šæˆå˜ä¸€ä¸ªå•ç‚¹æ•…éšœã€‚å› æ­¤ï¼Œä¸€ä¸ªå¥½çš„ç½‘å…³è‡³å°‘è¦åšåˆ°ä»¥ä¸‹å‡ ç‚¹ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;é›†ç¾¤åŒ–&lt;/strong&gt;Â ã€‚ç½‘å…³è¦æˆä¸ºä¸€ä¸ªé›†ç¾¤ï¼Œå…¶æœ€å¥½å¯ä»¥è‡ªå·±ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼Œå¹¶å¯ä»¥è‡ªå·±åŒæ­¥é›†ç¾¤æ•°æ®ï¼Œè€Œä¸éœ€è¦ä¾èµ–äºä¸€ä¸ªç¬¬ä¸‰æ–¹ç³»ç»Ÿæ¥åŒæ­¥æ•°æ®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æœåŠ¡åŒ–&lt;/strong&gt;Â ã€‚ç½‘å…³è¿˜éœ€è¦åšåˆ°åœ¨ä¸é—´æ–­çš„æƒ…å†µä¸‹ä¿®æ”¹é…ç½®ï¼Œä¸€ç§æ˜¯åƒ Nginx reload é…ç½®é‚£æ ·ï¼Œå¯ä»¥åšåˆ°ä¸åœæœåŠ¡ï¼Œå¦ä¸€ç§æ˜¯æœ€å¥½åšåˆ°æœåŠ¡åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¾—è¦æœ‰è‡ªå·±çš„ Admin API æ¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹è‡ªå·±çš„é…ç½®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æŒç»­åŒ–&lt;/strong&gt;Â ã€‚æ¯”å¦‚é‡å¯ï¼Œå°±æ˜¯åƒ Nginx é‚£æ ·ä¼˜é›…åœ°é‡å¯ã€‚æœ‰ä¸€ä¸ªä¸»ç®¡è¯·æ±‚åˆ†å‘çš„ä¸»è¿›ç¨‹ã€‚å½“æˆ‘ä»¬éœ€è¦é‡å¯æ—¶ï¼Œæ–°çš„è¯·æ±‚è¢«åˆ†é…åˆ°æ–°çš„è¿›ç¨‹ä¸­ï¼Œè€Œè€çš„è¿›ç¨‹å¤„ç†å®Œæ­£åœ¨å¤„ç†çš„è¯·æ±‚åå°±é€€å‡ºã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3. é«˜æ‰©å±•&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºç½‘å…³éœ€è¦æ‰¿æ¥æ‰€æœ‰çš„ä¸šåŠ¡æµé‡å’Œè¯·æ±‚ï¼Œæ‰€ä»¥ä¸€å®šä¼šæœ‰æˆ–å¤šæˆ–å°‘çš„ä¸šåŠ¡é€»è¾‘ã€‚è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œä¸šåŠ¡é€»è¾‘æ˜¯å¤šå˜å’Œä¸ç¡®å®šçš„ã€‚æ¯”å¦‚ï¼Œéœ€è¦åœ¨ç½‘å…³ä¸ŠåŠ å…¥ä¸€äº›å’Œä¸šåŠ¡ç›¸å…³çš„ä¸œè¥¿ã€‚å› æ­¤ï¼Œä¸€ä¸ªå¥½çš„ Gateway è¿˜éœ€è¦æ˜¯å¯ä»¥æ‰©å±•çš„ï¼Œå¹¶èƒ½è¿›è¡ŒäºŒæ¬¡å¼€å‘çš„ã€‚å½“ç„¶ï¼Œåƒ Nginx é‚£æ ·é€šè¿‡ Module è¿›è¡ŒäºŒæ¬¡å¼€å‘çš„å›ºç„¶å¯ä»¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼Œåœ¨&lt;strong&gt;è¿ç»´æ–¹é¢&lt;/strong&gt;Â ï¼Œç½‘å…³åº”è¯¥æœ‰ä»¥ä¸‹å‡ ä¸ªè®¾è®¡åŸåˆ™ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¸šåŠ¡æ¾è€¦åˆï¼Œåè®®ç´§è€¦åˆ&lt;/strong&gt;Â ã€‚åœ¨ä¸šåŠ¡è®¾è®¡ä¸Šï¼Œç½‘å…³ä¸åº”ä¸åé¢çš„æœåŠ¡ä¹‹é—´å½¢æˆæœåŠ¡è€¦åˆï¼Œä¹Ÿä¸åº”è¯¥æœ‰ä¸šåŠ¡é€»è¾‘ã€‚ç½‘å…³åº”è¯¥æ˜¯åœ¨ç½‘ç»œåº”ç”¨å±‚ä¸Šçš„ç»„ä»¶ï¼Œä¸åº”è¯¥å¤„ç†é€šè®¯åè®®ä½“ï¼Œåªåº”è¯¥è§£æå’Œå¤„ç†é€šè®¯åè®®å¤´ã€‚å¦å¤–ï¼Œé™¤äº†æœåŠ¡å‘ç°å¤–ï¼Œç½‘å…³ä¸åº”è¯¥æœ‰ç¬¬ä¸‰æ–¹æœåŠ¡çš„ä¾èµ–ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åº”ç”¨ç›‘è§†ï¼Œæä¾›åˆ†ææ•°æ®&lt;/strong&gt;Â ã€‚ç½‘å…³ä¸Šéœ€è¦è€ƒè™‘åº”ç”¨æ€§èƒ½çš„ç›‘æ§ï¼Œé™¤äº†æœ‰ç›¸åº”åç«¯æœåŠ¡çš„é«˜å¯ç”¨çš„ç»Ÿè®¡ä¹‹å¤–ï¼Œè¿˜éœ€è¦ä½¿ç”¨ Tracing ID å®æ–½åˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ªï¼Œå¹¶ç»Ÿè®¡å¥½ä¸€å®šæ—¶é—´å†…æ¯ä¸ª API çš„ååé‡ã€å“åº”æ—¶é—´å’Œè¿”å›ç ï¼Œä»¥ä¾¿å¯åŠ¨å¼¹åŠ›è®¾è®¡ä¸­çš„ç›¸åº”ç­–ç•¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç”¨å¼¹åŠ›è®¾è®¡ä¿æŠ¤åç«¯æœåŠ¡&lt;/strong&gt;Â ã€‚ç½‘å…³ä¸Šä¸€å®šè¦å®ç°ç†”æ–­ã€é™æµã€é‡è¯•å’Œè¶…æ—¶ç­‰å¼¹åŠ›è®¾è®¡ã€‚å¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡è°ƒç”¨èŠ±è´¹çš„æ—¶é—´è¿‡é•¿ï¼Œé‚£ä¹ˆå¯æ¥å—è¶…æ—¶å¹¶è¿”å›ä¸€éƒ¨åˆ†æ•°æ®ï¼Œæˆ–æ˜¯è¿”å›ä¸€ä¸ªç½‘å…³é‡Œçš„ç¼“å­˜çš„ä¸Šä¸€æ¬¡æˆåŠŸè¯·æ±‚çš„æ•°æ®ã€‚ä½ å¯ä»¥è€ƒè™‘ä¸€ä¸‹è¿™æ ·çš„è®¾è®¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;DevOps&lt;/strong&gt;Â ã€‚å› ä¸ºç½‘å…³è¿™ä¸ªç»„ä»¶å¤ªå…³é”®äº†ï¼Œæ‰€ä»¥éœ€è¦ DevOps è¿™æ ·çš„ä¸œè¥¿ï¼Œå°†å…¶å‘ç”Ÿæ•…éšœçš„æ¦‚ç‡é™åˆ°æœ€ä½ã€‚è¿™ä¸ªè½¯ä»¶éœ€è¦ç»è¿‡ç²¾è‰¯çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬åŠŸèƒ½å’Œæ€§èƒ½çš„æµ‹è¯•ï¼Œè¿˜æœ‰æµ¸æ³¡æµ‹è¯•ã€‚è¿˜éœ€è¦æœ‰ä¸€ç³»åˆ—è‡ªåŠ¨åŒ–è¿ç»´çš„ç®¡æ§å·¥å…·ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç½‘å…³è®¾è®¡æ³¨æ„äº‹é¡¹&lt;/span&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸è¦åœ¨ç½‘å…³ä¸­çš„ä»£ç é‡Œå†…ç½®èšåˆåç«¯æœåŠ¡çš„åŠŸèƒ½ï¼Œè€Œåº”è€ƒè™‘å°†èšåˆæœåŠ¡æ”¾åœ¨ç½‘å…³æ ¸å¿ƒä»£ç ä¹‹å¤–ã€‚å¯ä»¥ä½¿ç”¨ Plugin çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨ç½‘å…³åé¢å½¢æˆä¸€ä¸ª Serverless æœåŠ¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç½‘å…³åº”è¯¥é è¿‘åç«¯æœåŠ¡ï¼Œå¹¶å’Œåç«¯æœåŠ¡ä½¿ç”¨åŒä¸€ä¸ªå†…ç½‘ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç½‘å…³å’Œåç«¯æœåŠ¡è°ƒç”¨çš„ä½å»¶è¿Ÿï¼Œå¹¶å¯ä»¥å‡å°‘å¾ˆå¤šç½‘ç»œä¸Šçš„é—®é¢˜ã€‚è¿™é‡Œå¤šè¯´ä¸€å¥ï¼Œç½‘å…³å¤„ç†çš„é™æ€å†…å®¹åº”è¯¥é è¿‘ç”¨æˆ·ï¼ˆåº”è¯¥æ”¾åˆ° CDN ä¸Šï¼‰ï¼Œè€Œç½‘å…³å’Œæ­¤æ—¶çš„åŠ¨æ€æœåŠ¡åº”è¯¥é è¿‘åç«¯æœåŠ¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç½‘å…³ä¹Ÿéœ€è¦åšå®¹é‡æ‰©å±•ï¼Œæ‰€ä»¥éœ€è¦æˆä¸ºä¸€ä¸ªé›†ç¾¤æ¥åˆ†æ‹…å‰ç«¯å¸¦æ¥çš„æµé‡ã€‚è¿™ä¸€ç‚¹ï¼Œè¦ä¹ˆé€šè¿‡ DNS è½®è¯¢çš„æ–¹å¼å®ç°ï¼Œè¦ä¹ˆé€šè¿‡ CDN æ¥åšæµé‡è°ƒåº¦ï¼Œæˆ–è€…é€šè¿‡æ›´ä¸ºåº•å±‚çš„æ€§èƒ½æ›´é«˜çš„è´Ÿè½½å‡è¡¡è®¾å¤‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹äºæœåŠ¡å‘ç°ï¼Œå¯ä»¥åšä¸€ä¸ªæ—¶é—´ä¸é•¿çš„ç¼“å­˜ï¼Œè¿™æ ·ä¸éœ€è¦æ¯æ¬¡è¯·æ±‚éƒ½å»æŸ¥ä¸€ä¸‹ç›¸å…³çš„æœåŠ¡æ‰€åœ¨çš„åœ°æ–¹ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿä¸å¤æ‚ï¼Œå¯ä»¥è€ƒè™‘æŠŠæœåŠ¡å‘ç°çš„åŠŸèƒ½ç›´æ¥é›†æˆè¿›ç½‘å…³ä¸­ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸ºç½‘å…³è€ƒè™‘ bulkhead è®¾è®¡æ–¹å¼ã€‚ç”¨ä¸åŒçš„ç½‘å…³æœåŠ¡ä¸åŒçš„åç«¯æœåŠ¡ï¼Œæˆ–æ˜¯ç”¨ä¸åŒçš„ç½‘å…³æœåŠ¡å‰ç«¯ä¸åŒçš„å®¢æˆ·ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼Œå› ä¸ºç½‘å…³æ˜¯ä¸ºç”¨æˆ·è¯·æ±‚å’Œåç«¯æœåŠ¡çš„æ¡¥æ¥è£…ç½®ï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘ä¸€äº›å®‰å…¨æ–¹é¢çš„äº‹å®œã€‚å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;åŠ å¯†æ•°æ®&lt;/strong&gt;Â ã€‚å¯ä»¥æŠŠ SSL ç›¸å…³çš„è¯ä¹¦æ”¾åˆ°ç½‘å…³ä¸Šï¼Œç”±ç½‘å…³åšç»Ÿä¸€çš„ SSL ä¼ è¾“ç®¡ç†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æ ¡éªŒç”¨æˆ·çš„è¯·æ±‚&lt;/strong&gt;Â ã€‚ä¸€äº›åŸºæœ¬çš„ç”¨æˆ·éªŒè¯å¯ä»¥æ”¾åœ¨ç½‘å…³ä¸Šæ¥åšï¼Œæ¯”å¦‚ç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼Œç”¨æˆ·è¯·æ±‚ä¸­çš„ token æ˜¯å¦åˆæ³•ç­‰ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æƒè¡¡ä¸€ä¸‹ï¼Œç½‘å…³æ˜¯å¦éœ€è¦æ ¡éªŒç”¨æˆ·çš„è¾“å…¥ã€‚å› ä¸ºè¿™æ ·ä¸€æ¥ï¼Œç½‘å…³å°±éœ€è¦ä»åªå…³å¿ƒåè®®å¤´ï¼Œåˆ°éœ€è¦å…³å¿ƒåè®®ä½“ã€‚è€Œåè®®ä½“ä¸­çš„ä¸œè¥¿ä¸€æ–¹é¢ä¸åƒåè®®å¤´æ˜¯æ ‡å‡†çš„ï¼Œå¦ä¸€æ–¹é¢è§£æåè®®ä½“è¿˜è¦è€—è´¹å¤§é‡çš„è¿è¡Œæ—¶é—´ï¼Œä»è€Œé™ä½ç½‘å…³çš„æ€§èƒ½ã€‚å¯¹æ­¤ï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œçœ‹å…·ä½“éœ€æ±‚ï¼Œä¸€æ–¹é¢å¦‚æœåè®®ä½“æ˜¯æ ‡å‡†çš„ï¼Œé‚£ä¹ˆå¯ä»¥å¹²ï¼›å¦ä¸€æ–¹é¢ï¼Œå¯¹äºè§£æåè®®æ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œéœ€è¦åšç›¸åº”çš„éš”ç¦»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æ£€æµ‹å¼‚å¸¸è®¿é—®&lt;/strong&gt;Â ã€‚ç½‘å…³éœ€è¦æ£€æµ‹ä¸€äº›å¼‚å¸¸è®¿é—®ï¼Œæ¯”å¦‚ï¼Œåœ¨ä¸€æ®µæ¯”è¾ƒçŸ­çš„æ—¶é—´å†…è¯·æ±‚æ¬¡æ•°è¶…è¿‡ä¸€å®šæ•°å€¼ï¼›è¿˜æ¯”å¦‚ï¼ŒåŒä¸€å®¢æˆ·ç«¯çš„ 4xx è¯·æ±‚å‡ºé”™ç‡å¤ªé«˜â€¦â€¦å¯¹äºè¿™æ ·çš„ä¸€äº›è¯·æ±‚è®¿é—®ï¼Œç½‘å…³ä¸€æ–¹é¢è¦æŠŠè¿™æ ·çš„è¯·æ±‚å±è”½æ‰ï¼Œå¦ä¸€æ–¹é¢éœ€è¦å‘å‡ºè­¦å‘Šï¼Œæœ‰å¯èƒ½ä¼šæ˜¯ä¸€äº›æ¯”è¾ƒé‡å¤§çš„å®‰å…¨é—®é¢˜ï¼Œå¦‚è¢«é»‘å®¢æ”»å‡»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æµé‡ç½‘å…³&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµé‡ç½‘å…³ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æ§åˆ¶æµé‡è¿›å…¥é›†ç¾¤çš„ç½‘å…³ï¼Œæœ‰å¾ˆå¤šå·¥ä½œéœ€è¦åœ¨è¿™ä¸€æ­¥åšï¼Œå¯¹äºä¸€ä¸ªæœåŠ¡é›†ç¾¤ï¼ŒåŠ¿å¿…æœ‰å¾ˆå¤šéæ³•çš„è¯·æ±‚æˆ–è€…æ— æ•ˆçš„è¯·æ±‚ï¼Œè¿™æ—¶å€™è¦å°†è¯·æ±‚æ‹’ä¹‹é—¨å¤–ï¼Œé™ä½é›†ç¾¤çš„æµé‡å‹åŠ›ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7321212121212122&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJZhdzS5ERKDI4Jw9dMt1vS8ulcv1IgXbJquDOqdaVKxWkURZbXlI7uQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;825&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®šä¹‰å…¨å±€æ€§çš„ã€è·Ÿå…·ä½“çš„åç«¯ä¸šåŠ¡åº”ç”¨å’ŒæœåŠ¡å®Œå…¨æ— å…³çš„ç­–ç•¥ç½‘å…³å°±æ˜¯ä¸Šå›¾æ‰€ç¤ºçš„æ¶æ„æ¨¡å‹â€”â€”æµé‡ç½‘å…³ã€‚æµé‡ç½‘å…³é€šå¸¸åªä¸“æ³¨äºå…¨å±€çš„Apiç®¡ç†ç­–ç•¥ï¼Œæ¯”å¦‚å…¨å±€æµé‡ç›‘æ§ã€æ—¥å¿—è®°å½•ã€å…¨å±€é™æµã€é»‘ç™½åå•æ§åˆ¶ã€æ¥å…¥è¯·æ±‚åˆ°ä¸šåŠ¡ç³»ç»Ÿçš„è´Ÿè½½å‡è¡¡ç­‰ï¼Œæœ‰ç‚¹ç±»ä¼¼é˜²ç«å¢™ã€‚&lt;strong&gt;Kong å°±æ˜¯å…¸å‹çš„æµé‡ç½‘å…³ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æ˜¯kongçš„æ¶æ„å›¾ï¼Œæ¥è‡ªå®˜ç½‘ï¼šhttps://konghq.com&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8998144712430427&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJmQySr4jUIlmiaI81JPYvibgOcicT7OicBuCpOMO0BwuBcoNsA7lctE9KmA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;539&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œéœ€è¦è¡¥å……ä¸€ç‚¹çš„æ˜¯ï¼Œä¸šåŠ¡ç½‘å…³ä¸€èˆ¬éƒ¨ç½²åœ¨æµé‡ç½‘å…³ä¹‹åã€ä¸šåŠ¡ç³»ç»Ÿä¹‹å‰ï¼Œæ¯”æµé‡ç½‘å…³æ›´é è¿‘ä¸šåŠ¡ç³»ç»Ÿã€‚é€šå¸¸APIç½‘æŒ‡çš„æ˜¯ä¸šåŠ¡ç½‘å…³ã€‚æœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿä¼šæ¨¡ç³Šæµé‡ç½‘å…³å’Œä¸šåŠ¡ç½‘å…³ï¼Œè®©ä¸€ä¸ªç½‘å…³æ‰¿æ‹…æ‰€æœ‰çš„å·¥ä½œï¼Œæ‰€ä»¥è¿™ä¸¤è€…ä¹‹é—´å¹¶æ²¡æœ‰ä¸¥æ ¼çš„ç•Œçº¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸šåŠ¡ç½‘å…³&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ä¸€ä¸ªå•ä½“åº”ç”¨è¢«æ‹†åˆ†æˆè®¸è®¸å¤šå¤šçš„å¾®æœåŠ¡åº”ç”¨åï¼Œä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚ä¸€äº›ä¸ä¸šåŠ¡éå¼ºç›¸å…³çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æƒé™æ§åˆ¶ã€æ—¥å¿—è¾“å‡ºã€æ•°æ®åŠ å¯†ã€ç†”æ–­é™æµç­‰ï¼Œæ¯ä¸ªå¾®æœåŠ¡åº”ç”¨éƒ½éœ€è¦ï¼Œå› æ­¤å­˜åœ¨ç€å¤§é‡é‡å¤çš„ä»£ç å®ç°ã€‚è€Œä¸”ç”±äºç³»ç»Ÿçš„è¿­ä»£ã€äººå‘˜çš„æ›´æ›¿ï¼Œå„ä¸ªå¾®æœåŠ¡ä¸­è¿™äº›åŠŸèƒ½çš„å®ç°ç»†èŠ‚å‡ºç°äº†è¾ƒå¤§çš„å·®å¼‚ï¼Œå¯¼è‡´ç»´æŠ¤æˆæœ¬å˜é«˜ã€‚å¦ä¸€æ–¹é¢ï¼ŒåŸå…ˆå•ä½“åº”ç”¨ä¸‹éå¸¸å®¹æ˜“åšçš„æ¥å£ç®¡ç†ï¼Œåœ¨æœåŠ¡æ‹†åˆ†åæ²¡æœ‰äº†ä¸€ä¸ªé›†ä¸­ç®¡ç†çš„åœ°æ–¹ï¼Œæ— æ³•ç»Ÿè®¡å·²å­˜åœ¨å“ªäº›æ¥å£ã€æ¥å£å®šä¹‰æ˜¯ä»€ä¹ˆã€è¿è¡ŒçŠ¶æ€å¦‚ä½•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ä½œä¸ºå¾®æœåŠ¡ä½“ç³»ä¸­çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼Œä¸€èˆ¬éœ€è¦å…·å¤‡æ¥å£ç®¡ç†ã€åè®®é€‚é…ã€ç†”æ–­é™æµã€å®‰å…¨é˜²æŠ¤ç­‰åŠŸèƒ½ï¼Œå„ç§å¼€æºçš„ç½‘å…³äº§å“ï¼ˆæ¯”å¦‚ zuulï¼‰éƒ½æä¾›äº†ä¼˜ç§€é«˜å¯æ‰©å±•æ€§çš„æ¶æ„ã€å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°æˆ‘ä»¬éœ€è¦çš„ä¸€äº›åŠŸèƒ½ã€æ¯”å¦‚é‰´æƒã€æ—¥å¿—ç›‘æ§ã€ç†”æ–­é™æµç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸æµé‡ç½‘å…³ç›¸å¯¹åº”çš„å°±æ˜¯ä¸šåŠ¡ç½‘å…³ï¼Œä¸šåŠ¡ç½‘å…³æ›´é è¿‘æˆ‘ä»¬çš„ä¸šåŠ¡ï¼Œä¹Ÿå°±æ˜¯ä¸æœåŠ¡å™¨åº”ç”¨å±‚æ‰“äº¤é“ï¼Œé‚£ä¹ˆæœ‰å¾ˆå¤šåº”ç”¨å±‚éœ€è¦è€ƒè™‘çš„äº‹æƒ…å°±å¯ä»¥ä¾æ‰˜ä¸šåŠ¡ç½‘å…³ï¼Œä¾‹å¦‚åœ¨çº¿ç¨‹æ¨¡å‹ã€åè®®é€‚é…ã€ç†”æ–­é™æµï¼ŒæœåŠ¡ç¼–æ’ç­‰ã€‚ä¸‹é¢çœ‹çœ‹ä¸šåŠ¡ç½‘å…³ä½“ç³»ç»“æ„:&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5492341356673961&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJ2xCIWhttyX0icicngj2UjzPJBmEB11Nhc3QeUZgkL6Wf3eDUGgNp6oZw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;914&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»è¿™ä¸ªé€”ä¸­å¯ä»¥çœ‹å‡ºä¸šåŠ¡ç½‘å…³ä¸»è¦èŒè´£ä»¥åŠæ‰€åšçš„äº‹æƒ…ï¼Œ ç›®å‰ä¸šåŠ¡ç½‘å…³æ¯”è¾ƒæˆç†Ÿçš„ API ç½‘å…³æ¡†æ¶äº§å“æœ‰ä¸‰ä¸ª åˆ†åˆ«æ˜¯:Zuul1ã€Zuul2 å’Œ SpringCloud Gatewayï¼Œ åé¢å†è¿›è¡Œå¯¹æ¯”ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å¸¸è§ç½‘å…³å¯¹æ¯”&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç„¶å¯¹æ¯”ï¼Œå°±å…ˆå®è§‚ä¸Šå¯¹å„ç§ç½‘å…³æœ‰ä¸€ä¸ªäº†è§£ï¼Œåé¢å†æŒ‘ä¸€äº›å¸¸ç”¨çš„æˆ–è€…è¯´åº”ç”¨å¹¿æ³›çš„è¯¦ç»†äº†è§£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰å¸¸è§çš„å¼€æºç½‘å…³å¤§è‡´ä¸ŠæŒ‰ç…§è¯­è¨€åˆ†ç±»æœ‰å¦‚ä¸‹å‡ ç±»ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Nginx+lua&lt;/strong&gt;Â ï¼šOpenRestyã€Kongã€Orangeã€Abtesting gateway ç­‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Java&lt;/strong&gt;Â ï¼šZuul/Zuul2ã€Spring Cloud Gatewayã€Kaazing KWGã€graviteeã€Dromara soul ç­‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Go&lt;/strong&gt;Â ï¼šJanusã€fagongziã€Grpc-gateway&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Dotnet&lt;/strong&gt;Â ï¼šOcelot&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;NodeJS&lt;/strong&gt;Â ï¼šExpress Gatewayã€Micro Gateway&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‰ç…§ä½¿ç”¨æ•°é‡ã€æˆç†Ÿåº¦ç­‰æ¥åˆ’åˆ†ï¼Œä¸»æµçš„æœ‰ 5ä¸ªï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;OpenResty&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Kong&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Zuulã€Zuul2&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Spring Cloud Gateway&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1. OpenResty&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenRestyæ˜¯ä¸€ä¸ªæµé‡ç½‘å…³ï¼Œæ ¹æ®å‰é¢å¯¹æµé‡ç½‘å…³çš„ä»‹ç»å°±å¯ä»¥çŸ¥é“æµé‡ç½‘å…³çš„æŒ‡è´£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenRestyåŸºäº Nginxä¸ Lua çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œå…¶å†…éƒ¨é›†æˆäº†å¤§é‡ç²¾è‰¯çš„ Lua åº“ã€ç¬¬ä¸‰æ–¹æ¨¡å—ä»¥åŠå¤§å¤šæ•°çš„ä¾èµ–é¡¹ã€‚ç”¨äºæ–¹ä¾¿åœ°æ­å»ºèƒ½å¤Ÿå¤„ç†è¶…é«˜å¹¶å‘ã€æ‰©å±•æ€§æé«˜çš„åŠ¨æ€ Web åº”ç”¨ã€Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡æ‰å’Œä¼—å¤šè®¾è®¡è‰¯å¥½çš„ Nginx æ¨¡å—ï¼ŒOpenResty æœ‰æ•ˆåœ°æŠŠ Nginx æœåŠ¡å™¨è½¬å˜ä¸ºä¸€ä¸ªå¼ºå¤§çš„ Web åº”ç”¨æœåŠ¡å™¨ï¼ŒåŸºäºå®ƒå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ Lua ç¼–ç¨‹è¯­è¨€å¯¹ Nginx æ ¸å¿ƒä»¥åŠç°æœ‰çš„å„ç§ Nginx C æ¨¡å—è¿›è¡Œè„šæœ¬ç¼–ç¨‹ï¼Œæ„å»ºå‡ºå¯ä»¥å¤„ç†ä¸€ä¸‡ä»¥ä¸Šå¹¶å‘è¯·æ±‚çš„æç«¯é«˜æ€§èƒ½çš„ Web åº”ç”¨&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OpenResty æœ€æ—©æ˜¯é¡ºåº” OpenAPI çš„æ½®æµåšçš„ï¼Œæ‰€ä»¥ Open å–è‡ªâ€œå¼€æ”¾â€ä¹‹æ„ï¼Œè€ŒRestyä¾¿æ˜¯ REST é£æ ¼çš„æ„æ€ã€‚è™½ç„¶åæ¥ä¹Ÿå¯ä»¥åŸºäº ngx_openresty å®ç°ä»»ä½•å½¢å¼çš„ web service æˆ–è€…ä¼ ç»Ÿçš„ web åº”ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ Nginx ä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„é™æ€ç½‘é¡µæœåŠ¡å™¨ï¼Œä¹Ÿä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„åå‘ä»£ç†äº†ã€‚ç¬¬äºŒä»£çš„ openresty è‡´åŠ›äºé€šè¿‡ä¸€ç³»åˆ— nginx æ¨¡å—ï¼ŒæŠŠnginxæ‰©å±•ä¸ºå…¨åŠŸèƒ½çš„ web åº”ç”¨æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ngx_openresty æ˜¯ç”¨æˆ·é©±åŠ¨çš„é¡¹ç›®ï¼Œåæ¥ä¹Ÿæœ‰ä¸å°‘å›½å†…ç”¨æˆ·çš„å‚ä¸ï¼Œä» openresty.org çš„ç‚¹å‡»é‡åˆ†å¸ƒä¸Šçœ‹ï¼Œå›½å†…å’Œå›½å¤–çš„ç‚¹å‡»é‡åŸºæœ¬æŒå¹³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ngx_openresty ç›®å‰æœ‰ä¸¤å¤§åº”ç”¨ç›®æ ‡ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;é€šç”¨ç›®çš„çš„ web åº”ç”¨æœåŠ¡å™¨ã€‚åœ¨è¿™ä¸ªç›®æ ‡ä¸‹ï¼Œç°æœ‰çš„ web åº”ç”¨æŠ€æœ¯éƒ½å¯ä»¥ç®—æ˜¯å’Œ OpenResty æˆ–å¤šæˆ–å°‘æœ‰äº›ç±»ä¼¼ï¼Œæ¯”å¦‚ Nodejsï¼Œ PHP ç­‰ç­‰ã€‚ngx_openresty çš„æ€§èƒ½ï¼ˆåŒ…æ‹¬å†…å­˜ä½¿ç”¨å’Œ CPU æ•ˆç‡ï¼‰ç®—æ˜¯æœ€å¤§çš„å–ç‚¹ä¹‹ä¸€ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Nginx çš„è„šæœ¬æ‰©å±•ç¼–ç¨‹ï¼Œç”¨äºæ„å»ºçµæ´»çš„ Web åº”ç”¨ç½‘å…³å’Œ Web åº”ç”¨é˜²ç«å¢™ã€‚æœ‰äº›ç±»ä¼¼çš„æ˜¯ NetScalerã€‚å…¶ä¼˜åŠ¿åœ¨äº Lua ç¼–ç¨‹å¸¦æ¥çš„å·¨å¤§çµæ´»æ€§ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2. Kong&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;KongåŸºäºOpenRestyå¼€å‘ï¼Œä¹Ÿæ˜¯æµé‡å±‚ç½‘å…³ï¼Œ æ˜¯ä¸€ä¸ªäº‘åŸç”Ÿã€å¿«é€Ÿã€å¯æ‰©å±•ã€åˆ†å¸ƒå¼çš„Api ç½‘å…³ã€‚ç»§æ‰¿äº†OpenRestyçš„é«˜æ€§èƒ½ã€æ˜“æ‰©å±•æ€§ç­‰ç‰¹ç‚¹ã€‚Kongé€šè¿‡ç®€å•çš„å¢åŠ æœºå™¨èŠ‚ç‚¹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„æ°´å¹³æ‰©å±•ã€‚åŒæ—¶åŠŸèƒ½æ’ä»¶åŒ–ï¼Œå¯é€šè¿‡æ’ä»¶æ¥æ‰©å±•å…¶èƒ½åŠ›ã€‚è€Œä¸”åœ¨ä»»ä½•åŸºç¡€æ¶æ„ä¸Šéƒ½å¯ä»¥è¿è¡Œã€‚å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æä¾›äº†å¤šæ ·åŒ–çš„è®¤è¯å±‚æ¥ä¿æŠ¤Apiã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯å¯¹å‡ºå…¥æµé‡è¿›è¡Œç®¡åˆ¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›äº†å¯è§†åŒ–çš„æµé‡æ£€æŸ¥ã€ç›‘è§†åˆ†æApiã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;èƒ½å¤ŸåŠæ—¶çš„è½¬æ¢è¯·æ±‚å’Œç›¸åº”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æä¾›logè§£å†³æ–¹æ¡ˆ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯é€šè¿‡apiè°ƒç”¨Serverless å‡½æ•°ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Kongè§£å†³äº†ä»€ä¹ˆé—®é¢˜&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æˆ‘ä»¬å†³å®šå¯¹åº”ç”¨è¿›è¡Œå¾®æœåŠ¡æ”¹é€ æ—¶ï¼Œåº”ç”¨å®¢æˆ·ç«¯å¦‚ä½•ä¸å¾®æœåŠ¡äº¤äº’çš„é—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥ï¼Œæ¯•ç«ŸæœåŠ¡æ•°é‡çš„å¢åŠ ä¼šç›´æ¥å¯¼è‡´éƒ¨ç½²æˆæƒã€è´Ÿè½½å‡è¡¡ã€é€šä¿¡ç®¡ç†ã€åˆ†æå’Œæ”¹å˜çš„éš¾åº¦å¢åŠ ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¢å¯¹ä»¥ä¸Šé—®é¢˜ï¼ŒAPI GATEWAYæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶æ‰€æä¾›çš„è®¿é—®é™åˆ¶ã€å®‰å…¨ã€æµé‡æ§åˆ¶ã€åˆ†æç›‘æ§ã€æ—¥å¿—ã€è¯·æ±‚è½¬å‘ã€åˆæˆå’Œåè®®è½¬æ¢åŠŸèƒ½ï¼Œå¯ä»¥è§£æ”¾å¼€å‘è€…å»æŠŠç²¾åŠ›é›†ä¸­åœ¨å…·ä½“é€»è¾‘çš„ä»£ç ï¼Œè€Œä¸æ˜¯æŠŠæ—¶é—´èŠ±è´¹åœ¨è€ƒè™‘å¦‚ä½•è§£å†³åº”ç”¨å’Œå…¶ä»–å¾®æœåŠ¡é“¾æ¥çš„é—®é¢˜ä¸Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›¾ç‰‡æ¥è‡ªKongå®˜ç½‘:&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5492341356673961&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJ2xCIWhttyX0icicngj2UjzPJBmEB11Nhc3QeUZgkL6Wf3eDUGgNp6oZw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;914&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°Kongè§£å†³çš„é—®é¢˜ã€‚ä¸“æ³¨äºå…¨å±€çš„Apiç®¡ç†ç­–ç•¥ï¼Œå…¨å±€æµé‡ç›‘æ§ã€æ—¥å¿—è®°å½•ã€å…¨å±€é™æµã€é»‘ç™½åå•æ§åˆ¶ã€æ¥å…¥è¯·æ±‚åˆ°ä¸šåŠ¡ç³»ç»Ÿçš„è´Ÿè½½å‡è¡¡ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Kongçš„ä¼˜ç‚¹ä»¥åŠæ€§èƒ½&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¼—å¤š API GATEWAY æ¡†æ¶ä¸­ï¼ŒMashape å¼€æºçš„é«˜æ€§èƒ½é«˜å¯ç”¨APIç½‘å…³å’ŒAPIæœåŠ¡ç®¡ç†å±‚â€”â€”KONGï¼ˆåŸºäº NGINX+Luaï¼‰ç‰¹ç‚¹å°¤ä¸ºçªå‡ºï¼Œå®ƒå¯ä»¥é€šè¿‡æ’ä»¶æ‰©å±•å·²æœ‰åŠŸèƒ½ï¼Œè¿™äº›æ’ä»¶ï¼ˆä½¿ç”¨ lua ç¼–å†™ï¼‰åœ¨APIè¯·æ±‚å“åº”å¾ªç¯çš„ç”Ÿå‘½å‘¨æœŸä¸­è¢«æ‰§è¡Œã€‚äºæ­¤åŒæ—¶ï¼ŒKONGæœ¬èº«æä¾›åŒ…æ‹¬ HTTP åŸºæœ¬è®¤è¯ã€å¯†é’¥è®¤è¯ã€CORSã€TCPã€UDPã€æ–‡ä»¶æ—¥å¿—ã€APIè¯·æ±‚é™æµã€è¯·æ±‚è½¬å‘åŠ NGINX ç›‘æ§ç­‰åŸºæœ¬åŠŸèƒ½ã€‚ç›®å‰ï¼ŒKong åœ¨ Mashape ç®¡ç†äº†è¶…è¿‡ 15ï¼Œ000 ä¸ª APIï¼Œä¸º 200ï¼Œ000 å¼€å‘è€…æä¾›äº†æ¯æœˆæ•°åäº¿çš„è¯·æ±‚æ”¯æŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Kongæ¶æ„&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Kongæä¾›ä¸€äº›åˆ—çš„æœåŠ¡ï¼Œè¿™å°±ä¸å¾—ä¸è°ˆè°ˆå†…éƒ¨çš„æ¶æ„:&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.257602862254025&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJohqagKrM55X1SFV65kicYYSbPSL4DfoYPFK7kBwb1wnxGEFyGzgMWfA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;559&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæœ€åº•å±‚æ˜¯åŸºäºNginxï¼Œ Nginxæ˜¯é«˜æ€§èƒ½çš„åŸºç¡€å±‚ï¼Œ ä¸€ä¸ªè‰¯å¥½çš„è´Ÿè½½å‡è¡¡ã€åå‘ä»£ç†å™¨ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ Luaè„šæœ¬åº“ï¼Œå½¢æˆäº†OpenRestyï¼Œæ‹¦æˆªè¯·æ±‚ï¼Œ å“åº”ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥é€šè¿‡Luaç¼–å†™è„šæœ¬ï¼Œæ‰€ä»¥æ’ä»¶æ¯”è¾ƒä¸°å¯Œã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;å…³äºKongçš„ä¸€äº›æ’ä»¶åº“ä»¥åŠå¦‚ä½•é…ç½®ï¼Œå¯ä»¥å‚è€ƒç®€ä¹¦:å¼€æºAPIç½‘å…³ç³»ç»Ÿï¼ˆKongæ•™ç¨‹ï¼‰å…¥é—¨åˆ°ç²¾é€šï¼šhttps://www.jianshu.com/p/a68e45bcadb6&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3. Zuul1.0&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zuulæ˜¯æ‰€æœ‰ä»è®¾å¤‡å’Œwebç«™ç‚¹åˆ°Netflixæµåª’ä½“åº”ç”¨ç¨‹åºåç«¯è¯·æ±‚çš„å‰é—¨ã€‚ä½œä¸ºä¸€ä¸ªè¾¹ç¼˜æœåŠ¡åº”ç”¨ç¨‹åºï¼ŒZuulè¢«æ„å»ºæ¥æ”¯æŒåŠ¨æ€è·¯ç”±ã€ç›‘è§†ã€å¼¹æ€§å’Œå®‰å…¨æ€§ã€‚å®ƒè¿˜å¯ä»¥æ ¹æ®éœ€è¦å°†è¯·æ±‚è·¯ç”±åˆ°å¤šä¸ªAmazonè‡ªåŠ¨ä¼¸ç¼©ç»„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zuulä½¿ç”¨äº†ä¸€ç³»åˆ—ä¸åŒç±»å‹çš„è¿‡æ»¤å™¨ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿçµæ´»åœ°å°†åŠŸèƒ½åº”ç”¨åˆ°æœåŠ¡ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¿‡æ»¤å™¨&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿‡æ»¤å™¨æ˜¯Zuulçš„æ ¸å¿ƒåŠŸèƒ½ã€‚å®ƒä»¬è´Ÿè´£åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥æ‰§è¡Œå„ç§ä»»åŠ¡ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Type&lt;/strong&gt;Â ï¼šé€šå¸¸å®šä¹‰è¿‡æ»¤å™¨åº”ç”¨åœ¨å“ªä¸ªé˜¶æ®µ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Async&lt;/strong&gt;Â ï¼šå®šä¹‰è¿‡æ»¤å™¨æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Execution Order&lt;/strong&gt;Â ï¼šæ‰§è¡Œé¡ºåº&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Criteria&lt;/strong&gt;Â ï¼šè¿‡æ»¤å™¨æ‰§è¡Œçš„æ¡ä»¶&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Action&lt;/strong&gt;Â ï¼šå¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œè¿‡æ»¤å™¨æ‰§è¡Œçš„åŠ¨ä½œ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zuulæä¾›äº†ä¸€ä¸ªåŠ¨æ€è¯»å–ã€ç¼–è¯‘å’Œè¿è¡Œè¿™äº›è¿‡æ»¤å™¨çš„æ¡†æ¶ã€‚è¿‡æ»¤å™¨ä¹‹é—´ä¸ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡æ¯ä¸ªè¯·æ±‚ç‰¹æœ‰çš„RequestContextå…±äº«çŠ¶æ€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æ˜¯Zuulçš„ä¸€äº›è¿‡æ»¤å™¨:&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Incoming&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Incomingè¿‡æ»¤å™¨åœ¨è¯·æ±‚è¢«ä»£ç†åˆ°Originä¹‹å‰æ‰§è¡Œã€‚è¿™é€šå¸¸æ˜¯æ‰§è¡Œå¤§éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘çš„åœ°æ–¹ã€‚ä¾‹å¦‚:è®¤è¯ã€åŠ¨æ€è·¯ç”±ã€é€Ÿç‡é™åˆ¶ã€DDoSä¿æŠ¤ã€æŒ‡æ ‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Endpoint&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Endpointè¿‡æ»¤å™¨è´Ÿè´£åŸºäºincomingè¿‡æ»¤å™¨çš„æ‰§è¡Œæ¥å¤„ç†è¯·æ±‚ã€‚Zuulæœ‰ä¸€ä¸ªå†…ç½®çš„è¿‡æ»¤å™¨ï¼ˆProxyEndpointï¼‰ï¼Œç”¨äºå°†è¯·æ±‚ä»£ç†åˆ°åç«¯æœåŠ¡å™¨ï¼Œå› æ­¤è¿™äº›è¿‡æ»¤å™¨çš„å…¸å‹ç”¨é€”æ˜¯ç”¨äºé™æ€ç«¯ç‚¹ã€‚ä¾‹å¦‚:å¥åº·æ£€æŸ¥å“åº”ï¼Œé™æ€é”™è¯¯å“åº”ï¼Œ404å“åº”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Outgoing&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Outgoingè¿‡æ»¤å™¨åœ¨ä»åç«¯æ¥æ”¶åˆ°å“åº”ä»¥åæ‰§è¡Œå¤„ç†æ“ä½œã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ›´å¤šåœ°ç”¨äºå½¢æˆå“åº”å’Œæ·»åŠ æŒ‡æ ‡ï¼Œè€Œä¸æ˜¯ç”¨äºä»»ä½•ç¹é‡çš„å·¥ä½œã€‚ä¾‹å¦‚:å­˜å‚¨ç»Ÿè®¡ä¿¡æ¯ã€æ·»åŠ /å‰¥ç¦»æ ‡å‡†æ ‡é¢˜ã€å‘å®æ—¶æµå‘é€äº‹ä»¶ã€gzipingå“åº”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¿‡æ»¤å™¨ç±»å‹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æ˜¯ä¸ä¸€ä¸ªè¯·æ±‚å…¸å‹çš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”çš„æ ‡å‡†çš„è¿‡æ»¤å™¨ç±»å‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;PRE&lt;/strong&gt;Â ï¼šè·¯ç”±åˆ°Originä¹‹å‰æ‰§è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ROUTING&lt;/strong&gt;Â ï¼šè·¯ç”±åˆ°OriginæœŸé—´æ‰§è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;POST&lt;/strong&gt;Â ï¼šè¯·æ±‚è¢«è·¯ç”±åˆ°Originä¹‹åæ‰§è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ERROR&lt;/strong&gt;Â ï¼šå‘ç”Ÿé”™è¯¯çš„æ—¶å€™æ‰§è¡Œ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™äº›è¿‡æ»¤å™¨å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;èº«ä»½éªŒè¯å’Œå®‰å…¨æ€§&lt;/strong&gt;Â ï¼šè¯†åˆ«æ¯ä¸ªèµ„æºçš„èº«ä»½éªŒè¯éœ€æ±‚ï¼Œå¹¶æ‹’ç»ä¸æ»¡è¶³å®ƒä»¬çš„è¯·æ±‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ç›‘æ§&lt;/strong&gt;Â ï¼šåœ¨è¾¹ç¼˜è·Ÿè¸ªæœ‰æ„ä¹‰çš„æ•°æ®å’Œç»Ÿè®¡æ•°æ®ï¼Œä»¥ä¾¿ç»™æˆ‘ä»¬ä¸€ä¸ªå‡†ç¡®çš„ç”Ÿäº§è§†å›¾&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;åŠ¨æ€è·¯ç”±&lt;/strong&gt;Â ï¼šåŠ¨æ€è·¯ç”±è¯·æ±‚åˆ°ä¸åŒçš„åç«¯é›†ç¾¤&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;å‹åŠ›æµ‹è¯•&lt;/strong&gt;Â ï¼šé€æ¸å¢åŠ é›†ç¾¤çš„æµé‡ï¼Œä»¥è¯„ä¼°æ€§èƒ½&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;é™æµ&lt;/strong&gt;Â ï¼šä¸ºæ¯ç§è¯·æ±‚ç±»å‹åˆ†é…å®¹é‡ï¼Œå¹¶ä¸¢å¼ƒè¶…è¿‡é™åˆ¶çš„è¯·æ±‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;é™æ€å“åº”å¤„ç†&lt;/strong&gt;Â ï¼šç›´æ¥åœ¨è¾¹ç¼˜æ„å»ºä¸€äº›å“åº”ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬è½¬å‘åˆ°å†…éƒ¨é›†ç¾¤&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Zuul 1.0 è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6525229357798165&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJFpicACYiao6mkImoDcCv5ibGqicppjNeNvvmI2U3eU33SpKV0kbvg7baJQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;872&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Netflixå®£å¸ƒäº†é€šç”¨APIç½‘å…³Zuulçš„æ¶æ„è½¬å‹ã€‚ZuulåŸæœ¬é‡‡ç”¨åŒæ­¥é˜»å¡æ¶æ„ï¼Œè½¬å‹åå«ä½œZuul2ï¼Œé‡‡ç”¨å¼‚æ­¥éé˜»å¡æ¶æ„ã€‚Zuul2å’ŒZuul1åœ¨æ¶æ„æ–¹é¢çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒZuul2è¿è¡Œåœ¨å¼‚æ­¥éé˜»å¡çš„æ¡†æ¶ä¸Šï¼Œæ¯”å¦‚Nettyã€‚Zuul1ä¾èµ–å¤šçº¿ç¨‹æ¥æ”¯æŒååé‡çš„å¢é•¿ï¼Œè€ŒZuul 2ä½¿ç”¨çš„Nettyæ¡†æ¶ä¾èµ–äº‹ä»¶å¾ªç¯å’Œå›è°ƒå‡½æ•°ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4. Zuul2.0&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zuul 2.0 æ¶æ„å›¾&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8235294117647058&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJeicJ4aaZIeX5QiaF74iauBOdGMAgfGvDMDcPwwe5S8PicwT6jCubBoxI0Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;850&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä¸Šå›¾æ˜¯Zuul2çš„æ¶æ„ï¼Œå’ŒZuul1æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä¸¤ç‚¹å˜åŒ–ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å‰ç«¯ç”¨Netty Serverä»£æ›¿Servletï¼Œç›®çš„æ˜¯æ”¯æŒå‰ç«¯å¼‚æ­¥ã€‚åç«¯ç”¨Netty Clientä»£æ›¿Http Clientï¼Œç›®çš„æ˜¯æ”¯æŒåç«¯å¼‚æ­¥ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è¿‡æ»¤å™¨æ¢äº†ä¸€ä¸‹åå­—ï¼Œç”¨Inbound Filtersä»£æ›¿Pre-routing Filtersï¼Œç”¨Endpoint Filterä»£æ›¿Routing Filterï¼Œç”¨Outbound Filtersä»£æ›¿Post-routing Filtersã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Inbound Filters&lt;/strong&gt;Â ï¼šè·¯ç”±åˆ° Origin ä¹‹å‰æ‰§è¡Œï¼Œå¯ä»¥ç”¨äºèº«ä»½éªŒè¯ã€è·¯ç”±å’Œè£…é¥°è¯·æ±‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Endpoint Filters&lt;/strong&gt;Â ï¼šå¯ç”¨äºè¿”å›é™æ€å“åº”ï¼Œå¦åˆ™å†…ç½®çš„ProxyEndpointè¿‡æ»¤å™¨å°†è¯·æ±‚è·¯ç”±åˆ°Origin&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Outbound Filters&lt;/strong&gt;Â ï¼šä»Originé‚£é‡Œè·å–å“åº”åæ‰§è¡Œï¼Œå¯ä»¥ç”¨äºåº¦é‡ã€è£…é¥°ç”¨æˆ·çš„å“åº”æˆ–æ·»åŠ è‡ªå®šä¹‰header&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ‰ä¸¤ç§ç±»å‹çš„è¿‡æ»¤å™¨ï¼šsync å’Œ asyncã€‚å› ä¸ºZuulæ˜¯è¿è¡Œåœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¹‹ä¸Šçš„ï¼Œå› æ­¤ä»æ¥ä¸è¦åœ¨è¿‡æ»¤ä¸­é˜»å¡ã€‚å¦‚æœä½ éè¦é˜»å¡ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå¼‚æ­¥è¿‡æ»¤å™¨ä¸­è¿™æ ·åšï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹æ± ä¸Šè¿è¡Œï¼Œå¦åˆ™å¯ä»¥ä½¿ç”¨åŒæ­¥è¿‡æ»¤å™¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šæ–‡æåˆ°è¿‡&lt;strong&gt;Zuul2å¼€å§‹é‡‡ç”¨äº†å¼‚æ­¥æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;Â æ˜¯å¼‚æ­¥éé˜»å¡æ¨¡å¼å¯åŠ¨çš„çº¿ç¨‹å¾ˆå°‘ï¼ŒåŸºæœ¬ä¸Šä¸€ä¸ªCPU coreä¸Šåªéœ€å¯ä¸€ä¸ªäº‹ä»¶ç¯å¤„ç†çº¿ç¨‹ï¼Œå®ƒä½¿ç”¨çš„çº¿ç¨‹èµ„æºå°±å¾ˆå°‘ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢(Context Switch)å¼€é”€ä¹Ÿå°‘ã€‚éé˜»å¡æ¨¡å¼å¯ä»¥æ¥å—çš„è¿æ¥æ•°å¤§å¤§å¢åŠ ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºè¯·æ±‚æ¥äº†åªéœ€è¦è¿›é˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—çš„å®¹é‡å¯ä»¥è®¾å¾—å¾ˆå¤§ï¼Œåªè¦ä¸è¶…æ—¶ï¼Œé˜Ÿåˆ—ä¸­çš„è¯·æ±‚éƒ½ä¼šè¢«ä¾æ¬¡å¤„ç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;ä¸è¶³&lt;/strong&gt;Â ï¼Œå¼‚æ­¥æ¨¡å¼è®©ç¼–ç¨‹æ¨¡å‹å˜å¾—å¤æ‚ã€‚ä¸€æ–¹é¢Zuul2æœ¬èº«çš„ä»£ç è¦æ¯”Zuul1å¤æ‚å¾ˆå¤šï¼ŒZuul1çš„ä»£ç æ¯”è¾ƒå®¹æ˜“çœ‹æ‡‚ï¼ŒZuul2çš„ä»£ç çœ‹èµ·æ¥å°±æ¯”è¾ƒè´¹åŠ²ã€‚å¦ä¸€æ–¹é¢å¼‚æ­¥æ¨¡å‹æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®æ¸…æ™°çš„è¯·æ±‚-&amp;gt;å¤„ç†-&amp;gt;å“åº”æ‰§è¡Œæµç¨‹(call flow)ï¼Œå®ƒçš„æµç¨‹æ˜¯é€šè¿‡äº‹ä»¶è§¦å‘çš„ï¼Œè¯·æ±‚å¤„ç†çš„æµç¨‹éšæ—¶å¯èƒ½è¢«åˆ‡æ¢æ–­å¼€ï¼Œå†…éƒ¨å®ç°è¦é€šè¿‡ä¸€äº›å…³è”idæœºåˆ¶æ‰èƒ½æŠŠæ•´ä¸ªæ‰§è¡Œæµå†ä¸²è”èµ·æ¥ï¼Œè¿™å°±ç»™å¼€å‘è°ƒè¯•è¿ç»´å¼•å…¥äº†å¾ˆå¤šå¤æ‚æ€§ï¼Œæ¯”å¦‚ä½ åœ¨IDEé‡Œå¤´è°ƒè¯•å¼‚æ­¥è¯·æ±‚æµå°±éå¸¸å›°éš¾ã€‚å¦å¤–ThreadLocalæœºåˆ¶åœ¨è¿™ç§å¼‚æ­¥æ¨¡å¼ä¸‹å°±ä¸èƒ½ç®€å•å·¥ä½œï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªäº‹ä»¶ç¯çº¿ç¨‹ï¼Œä¸æ˜¯æ¯ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ²¡æœ‰çº¿ç¨‹å±€éƒ¨çš„æ¦‚å¿µï¼Œæ‰€ä»¥å¯¹äºCATè¿™ç§ä¾èµ–äº&lt;/span&gt;ThreadLocalæ‰èƒ½å·¥ä½œçš„ç›‘æ§å·¥å…·ï¼Œè°ƒç”¨é“¾åŸ‹ç‚¹å°±ä¸å¥½æ(å®é™…å¯ä»¥å·¥ä½œä½†éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†)ã€‚&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ä½“ä¸Šï¼Œå¼‚æ­¥éé˜»å¡æ¨¡å¼æ¯”è¾ƒé€‚ç”¨äºIOå¯†é›†å‹(IO bound)åœºæ™¯ï¼Œè¿™ç§åœºæ™¯ä¸‹ç³»ç»Ÿå¤§éƒ¨åˆ†æ—¶é—´åœ¨å¤„ç†IOï¼ŒCPUè®¡ç®—æ¯”è¾ƒè½»ï¼Œå°‘é‡äº‹ä»¶ç¯çº¿ç¨‹å°±èƒ½å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Zuul ä¸ Zuul 2 æ€§èƒ½å¯¹æ¯”&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_png/JdLkEI9sZfcJQQoZtiaCzX7AI5iazZjC02PKgwcoEiczzSz04MTibV8pUQJAba0DnOnkVpyibLlZ4o2cmYVGjribJricQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;648&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;336.6406570841889&quot; data-ratio=&quot;0.5185185185185185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJDZgWI0OUiaCPLKdkxDO5twPv46ALpic7fXCmLTp3Swd3SJFNiacs799PQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;648&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Netflixç»™å‡ºäº†ä¸€ä¸ªæ¯”è¾ƒæ¨¡ç³Šçš„æ•°æ®ï¼Œ&lt;strong&gt;å¤§è‡´Zuul2çš„æ€§èƒ½æ¯”Zuul1å¥½20%å·¦å³&lt;/strong&gt;Â ï¼Œè¿™é‡Œçš„æ€§èƒ½ä¸»è¦æŒ‡æ¯èŠ‚ç‚¹æ¯ç§’å¤„ç†çš„è¯·æ±‚æ•°ã€‚ä¸ºä»€ä¹ˆè¯´æ¨¡ç³Šå‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªæ•°æ®å—å®é™…æµ‹è¯•ç¯å¢ƒï¼Œæµé‡åœºæ™¯æ¨¡å¼ç­‰ä¼—å¤šå› ç´ å½±å“ï¼Œä½ å¾ˆéš¾å¤ç°è¿™ä¸ªæµ‹è¯•æ•°æ®ã€‚å³ä¾¿è¿™ä¸ª20%çš„æ€§èƒ½æå‡æ˜¯ç¡®å®çš„ï¼Œå…¶å®è¿™ä¸ªæ€§èƒ½æå‡ä¹Ÿå¹¶ä¸å¤§ï¼Œå’Œå¼‚æ­¥å¼•å…¥çš„å¤æ‚æ€§ç›¸æ¯”ï¼Œè¿™20%çš„æå‡æ˜¯å¦å€¼å¾—æ˜¯ä¸ªé—®é¢˜ã€‚Netflixæœ¬èº«åœ¨å…¶åšæ–‡22å’Œppt11ä¸­ä¹Ÿæ˜¯æœ‰ç‚¹å«ç³Šå…¶è¯ï¼Œç”šè‡³è‡ªèº«éƒ½æœ‰ä¸€äº›ç–‘é—®çš„ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;5. Spring Cloud Gateway&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SpringCloud Gateway æ˜¯ Spring Cloud çš„ä¸€ä¸ªå…¨æ–°é¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯åŸºäº Spring 5.0ï¼ŒSpring Boot 2.0 å’Œ Project Reactor ç­‰æŠ€æœ¯å¼€å‘çš„ç½‘å…³ï¼Œå®ƒæ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•æœ‰æ•ˆçš„ç»Ÿä¸€çš„ API è·¯ç”±ç®¡ç†æ–¹å¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SpringCloud Gateway ä½œä¸º Spring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­çš„ç½‘å…³ï¼Œç›®æ ‡æ˜¯æ›¿ä»£ Zuulï¼Œåœ¨Spring Cloud 2.0ä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œæ²¡æœ‰å¯¹æ–°ç‰ˆæœ¬çš„Zuul 2.0ä»¥ä¸Šæœ€æ–°é«˜æ€§èƒ½ç‰ˆæœ¬è¿›è¡Œé›†æˆï¼Œä»ç„¶è¿˜æ˜¯ä½¿ç”¨çš„Zuul 2.0ä¹‹å‰çš„éReactoræ¨¡å¼çš„è€ç‰ˆæœ¬ã€‚è€Œä¸ºäº†æå‡ç½‘å…³çš„æ€§èƒ½ï¼ŒSpringCloud Gatewayæ˜¯åŸºäºWebFluxæ¡†æ¶å®ç°çš„ï¼Œè€ŒWebFluxæ¡†æ¶åº•å±‚åˆ™ä½¿ç”¨äº†é«˜æ€§èƒ½çš„Reactoræ¨¡å¼é€šä¿¡æ¡†æ¶Nettyã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Spring Cloud Gateway çš„ç›®æ ‡ï¼Œä¸ä»…æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ï¼Œå¹¶ä¸”åŸºäº Filter é“¾çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå®‰å…¨ï¼Œç›‘æ§/æŒ‡æ ‡ï¼Œå’Œé™æµã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Spring Cloud Gateway åº•å±‚ä½¿ç”¨äº†é«˜æ€§èƒ½çš„é€šä¿¡æ¡†æ¶Netty&lt;/strong&gt;Â ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;SpringCloud Gateway ç‰¹å¾&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SpringCloudå®˜æ–¹ï¼Œå¯¹SpringCloud Gateway ç‰¹å¾ä»‹ç»å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ï¼ˆ1ï¼‰åŸºäº Spring Framework 5ï¼ŒProject Reactor å’Œ Spring Boot 2.0&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ï¼ˆ2ï¼‰é›†æˆ Hystrix æ–­è·¯å™¨&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ï¼ˆ3ï¼‰é›†æˆ Spring Cloud DiscoveryClient&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ï¼ˆ4ï¼‰Predicates å’Œ Filters ä½œç”¨äºç‰¹å®šè·¯ç”±ï¼Œæ˜“äºç¼–å†™çš„ Predicates å’Œ Filters&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ï¼ˆ5ï¼‰å…·å¤‡ä¸€äº›ç½‘å…³çš„é«˜çº§åŠŸèƒ½ï¼šåŠ¨æ€è·¯ç”±ã€é™æµã€è·¯å¾„é‡å†™&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä»¥ä¸Šçš„ç‰¹å¾æ¥è¯´ï¼Œå’ŒZuulçš„ç‰¹å¾å·®åˆ«ä¸å¤§ã€‚SpringCloud Gatewayå’ŒZuulä¸»è¦çš„åŒºåˆ«ï¼Œè¿˜æ˜¯åœ¨åº•å±‚çš„é€šä¿¡æ¡†æ¶ä¸Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•è¯´æ˜ä¸€ä¸‹ä¸Šæ–‡ä¸­çš„ä¸‰ä¸ªæœ¯è¯­ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Filter&lt;/strong&gt;Â ï¼ˆè¿‡æ»¤å™¨ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å’ŒZuulçš„è¿‡æ»¤å™¨åœ¨æ¦‚å¿µä¸Šç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ‹¦æˆªå’Œä¿®æ”¹è¯·æ±‚ï¼Œå¹¶ä¸”å¯¹ä¸Šæ¸¸çš„å“åº”ï¼Œè¿›è¡ŒäºŒæ¬¡å¤„ç†ã€‚è¿‡æ»¤å™¨ä¸ºorg.springframework.cloud.gateway.filter.GatewayFilterç±»çš„å®ä¾‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Route&lt;/strong&gt;Â ï¼ˆè·¯ç”±ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç½‘å…³é…ç½®çš„åŸºæœ¬ç»„æˆæ¨¡å—ï¼Œå’ŒZuulçš„è·¯ç”±é…ç½®æ¨¡å—ç±»ä¼¼ã€‚ä¸€ä¸ª&lt;strong&gt;Routeæ¨¡å—&lt;/strong&gt;Â ç”±ä¸€ä¸ª IDï¼Œä¸€ä¸ªç›®æ ‡ URIï¼Œä¸€ç»„æ–­è¨€å’Œä¸€ç»„è¿‡æ»¤å™¨å®šä¹‰ã€‚å¦‚æœæ–­è¨€ä¸ºçœŸï¼Œåˆ™è·¯ç”±åŒ¹é…ï¼Œç›®æ ‡URIä¼šè¢«è®¿é—®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Predicate&lt;/strong&gt;Â ï¼ˆæ–­è¨€ï¼‰ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯ä¸€ä¸ª Java 8 çš„ Predicateï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥åŒ¹é…æ¥è‡ª HTTP è¯·æ±‚çš„ä»»ä½•å†…å®¹ï¼Œä¾‹å¦‚ headers æˆ–å‚æ•°ã€‚&lt;strong&gt;æ–­è¨€çš„&lt;/strong&gt;Â è¾“å…¥ç±»å‹æ˜¯ä¸€ä¸ª ServerWebExchangeã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‡ ç§ç½‘å…³çš„å¯¹æ¯”&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5711135611907387&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRJmVRuAibP2T9cNS3ia5gl4pJeN3szRv8IKdaaM81vVAlClUZBfGDVZREpKTmAibQFuoArQlLrd0ibbRw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;907&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19&quot;&gt;æ¥æºï¼š&lt;/span&gt;&lt;span&gt;developer.aliyun.com/article/889271&lt;/span&gt;&lt;/blockquote&gt;&lt;blockquote mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;span&gt;ç‰ˆæƒå£°æ˜ï¼šæ­¤å†…å®¹æ¥æºç½‘ç»œï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰ã€‚æˆ‘ä»¬è½¬è½½çš„å†…å®¹ï¼Œéƒ½ä¼šæ³¨æ˜æ¥æºï¼Œé™¤éæ— æ³•ç¡®è®¤ã€‚è‹¥æœ‰ä¾µæƒï¼Œçƒ¦è¯·å‘ŠçŸ¥ï¼Œæˆ‘ä»¬ä¼šç«‹å³åˆ é™¤å¹¶è¡¨ç¤ºæ­‰æ„ã€‚è°¢è°¢ï¼&lt;/span&gt;&lt;/blockquote&gt;&lt;section mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19&quot;&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19&quot;&gt;&lt;span&gt;PSï¼šæ–‡ç« è‹¥å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·å¸®åŠ© &lt;strong&gt;ç‚¹èµã€åœ¨çœ‹ã€è½¬å‘&lt;/strong&gt; å§ï¼&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19&quot;&gt;&lt;span&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-tools=&quot;å…¬ä¼—å·ï¼šJavaç²¾é€‰&quot; data-id=&quot;91842&quot; mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;section data-brushtype=&quot;text&quot; mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;section data-brushtype=&quot;text&quot; mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22&quot;&gt;ç‚¹å‡»å¡ç‰‡å…³æ³¨æˆ‘ä»¬ï¼Œæ›´å¤šæŠ€æœ¯å¹²è´§ï¼ŒåŠæ—¶ä¸ºæ‚¨é€è¾¾ï¼&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-id=&quot;MzU0ODk2MzE3MA==&quot; data-pluginname=&quot;mpprofile&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/HmXWpTc2vib178LnVu9br0VUuI4OKYwvXKpZnaGseFG3vyFJShp2VFcwVodS88CkUsNYcLDrglYLHPFoic6MJD4A/0?wx_fmt=png&quot; data-nickname=&quot;é€»é­”ä»£ç &quot; data-alias=&quot;lomagicode&quot; data-signature=&quot;é€»é­”ä»£ç ï¼Œåˆ†äº«æ¶æ„æŠ€æœ¯å¹²è´§ï¼Œæ‰“é€ æœ‰ä»·å€¼çš„ç»éªŒåˆ†äº«ç¤¾ç¾¤ï¼Œå¸®åŠ©åç»§è€…ä»¥å‰äººçš„è‚©è†€ä¸ºåŸºï¼Œå»ºé€ æ›´ç²¾å¦™çš„æŠ€æœ¯æ®¿å ‚ï¼&quot; data-from=&quot;2&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;20&quot;&gt;&lt;p mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;20&quot;&gt;å¾€æœŸæ¨è&lt;/p&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;br mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0ODk2MzE3MA==&amp;amp;mid=2247485572&amp;amp;idx=1&amp;amp;sn=34d9fd123bff27d7c1ecc035261da358&amp;amp;chksm=fbb65e89ccc1d79f7726a47c29596d68de1bbad16e43b9547463360351c6fbd54faf4caee4e7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¢«è£å‘˜ï¼ä»æ— èµ”å¿æ‹¿åˆ°N+1çš„æ•…äº‹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;è¢«è£å‘˜ï¼ä»æ— èµ”å¿æ‹¿åˆ°N+1çš„æ•…äº‹&lt;/a&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0ODk2MzE3MA==&amp;amp;mid=2247485546&amp;amp;idx=1&amp;amp;sn=2f12cb634ec7898585ca6aad8624876c&amp;amp;chksm=fbb65e67ccc1d77101736e547d4454141a530b9f12d26f9b0bf5bd307769424adb3339e2a3e0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä» Java 8 å‡çº§åˆ° Java 17 è¸©å‘å…¨è¿‡ç¨‹ï¼Œå»ºè®®æ”¶è—ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ä» Java 8 å‡çº§åˆ° Java 17 è¸©å‘å…¨è¿‡ç¨‹ï¼Œå»ºè®®æ”¶è—ï¼&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0ODk2MzE3MA==&amp;amp;mid=2247485467&amp;amp;idx=1&amp;amp;sn=af235ce4464f9adb2fd2038727cb3435&amp;amp;chksm=fbb65e16ccc1d70031c297626d26de452d3c294fd3ed9ac3d39b9b646a1eb1d5cc94f41a0e88&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ‹’ç»æš´åŠ› kill -9 ï¼æˆ‘é€‰æ‹©è¿™æ ·ä¼˜é›…åœæ­¢ SpringBoot æœåŠ¡&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ‹’ç»æš´åŠ› kill -9 ï¼æˆ‘é€‰æ‹©è¿™æ ·ä¼˜é›…åœæ­¢ SpringBoot æœåŠ¡&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU0ODk2MzE3MA==&amp;amp;mid=2247485370&amp;amp;idx=1&amp;amp;sn=a5dc9c8df141cf83655c2ea0f235b09a&amp;amp;chksm=fbb651b7ccc1d8a121e32d113045a4cdfcfc550c314e4956386d899dd9c7ba649b83a31d9c7c&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ULIDè§„èŒƒè§£è¯»ä¸å®ç°åŸç†&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ULIDè§„èŒƒè§£è¯»ä¸å®ç°åŸç†&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>31d7661ceffeb2cd5918c40b07a16bef</guid>
<title>è¿˜ä¸ä¼šæ—¥å¿—å¼‚å¸¸æ£€æµ‹ï¼Ÿçœ‹å®Œè¿™ç¯‡æ–‡ç« å°±å¤Ÿäº†</title>
<link>https://toutiao.io/k/ee2apjn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;preview&quot;&gt;&lt;p&gt;æœ¬ç¯‡æ–‡ç« å°†ä»æ—¥å¿—å¼‚å¸¸æ£€æµ‹é¢ä¸´çš„æŒ‘æˆ˜ã€æ—¥å¿—å¼‚å¸¸æ£€æµ‹ä¸­çš„æ·±åº¦å­¦ä¹ ã€ä»¥åŠæ—¥å¿—å¼‚å¸¸æ£€æµ‹ç®—æ³•è¯„ä¼°å’Œæœ€åå¯¹æ—¥å¿—å¼‚å¸¸æ£€æµ‹çš„æ•´ä½“æ€»ç»“å››ä¸ªæ–¹é¢å»è®¨è®ºæ—¥å¿—å¼‚å¸¸æ£€æµ‹ç›¸å…³å†…å®¹ã€‚&lt;/p&gt;

&lt;h2&gt;æ—¥å¿—å¼‚å¸¸æ£€æµ‹çš„æŒ‘æˆ˜&lt;/h2&gt;

&lt;p&gt;å½“å‰ï¼Œæ—¥å¿—å¼‚å¸¸æ£€æµ‹é¢ä¸´çš„æŒ‘æˆ˜ä¸»è¦æœ‰ä»¥ä¸‹å…«ç‚¹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®è¡¨ç¤ºï¼šæ·±åº¦å­¦ä¹ æ¨¡å‹æ¥å—ç»“æ„åŒ–çš„æ•°å­—å½¢å¼çš„è¾“å…¥ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®ä¸ç¨³å®šï¼šéšç€åº”ç”¨ç¨‹åºçš„å‘å±•ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸åœ¨è®­ç»ƒæ•°æ®ä¸­çš„æ–°æ—¥å¿—äº‹ä»¶ç±»å‹ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®ä¸å¹³è¡¡ï¼šå¼‚å¸¸æ•°æ®çš„æ•°é‡è¿œå°‘äºæ­£å¸¸æ•°æ®ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¼‚å¸¸å¤šæ ·æ€§ï¼šå¼‚å¸¸æ—¥å¿—çš„è¡¨ç°å†…å®¹æ˜¯å¤šæ ·çš„ï¼ŒåŒ…æ‹¬åºåˆ—æ¨¡å¼ã€é¢‘ç‡ã€ç›¸å…³æ€§ã€åˆ°è¾¾æ—¶é—´ç­‰ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ ‡ç­¾å¯ç”¨æ€§ï¼šå¸¦æ ‡æ³¨çš„æ—¥å¿—æ˜¯ç¨€ç¼ºçš„ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æµå¤„ç†ï¼šæ—¥å¿—æ˜¯æ•°æ®æµï¼Œå®æ—¶æ£€æµ‹æ¯”äº‹ååˆ†ææ›´ç¬¦åˆå®é™…éœ€æ±‚ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ•°æ®é‡å¤§ï¼šæ—¥å¿—æ•°æ®çš„ç”Ÿæˆé‡å¾ˆå¤§ï¼Œä¸€äº›ç³»ç»Ÿæ¯å¤©äº§ç”Ÿæ•°ç™¾ä¸‡ç”šè‡³æ•°åäº¿çš„äº‹ä»¶ï¼Œè¿™å¯¹ç®—æ³•çš„æ•ˆç‡æœ‰è¦æ±‚ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ¨¡å‹å¯è§£é‡Šæ€§ï¼šåŸºäºç¥ç»ç½‘ç»œçš„æ–¹æ³•é€šå¸¸æ¯”ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•å…·æœ‰æ›´ä½çš„å¯è§£é‡Šæ€§ã€‚å½“æ¶‰åŠåˆ°é’ˆå¯¹å…³é”®ç³»ç»Ÿè¡Œä¸ºæˆ–å®‰å…¨äº‹ä»¶åšå‡ºåˆç†å†³ç­–æ—¶ï¼Œç†è§£æ­£ç¡®å’Œé”™è¯¯åˆ†ç±»èƒŒåçš„åŸå› å°¤å…¶å›°éš¾ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;æ—¥å¿—å¼‚å¸¸æ£€æµ‹ä¸­çš„æ·±åº¦å­¦ä¹ &lt;/h2&gt;

&lt;h3&gt;é¢„å¤„ç†å’Œç‰¹å¾è¡¨ç¤º&lt;/h3&gt;

&lt;p&gt;å¸¸ç”¨çš„å¯¹æ— ç»“æ„çš„æ—¥å¿—åšé¢„å¤„ç†æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ã€‚ç¬¬ä¸€ç§æ–¹æ³•æ˜¯æœ€å¸¸è§çš„æ–¹æ³•ï¼Œåˆ©ç”¨è§£æå™¨å¯¹æ¯æ¡æ—¥å¿—æå–å”¯ä¸€çš„äº‹ä»¶æ ‡è¯†ç¬¦ä»¥åŠäº‹ä»¶å‚æ•°å€¼ï¼Œæå–æ–¹å¼æœ‰ä½¿ç”¨å·²çŸ¥æ•°æ®é›†çš„ç°æœ‰æ¨¡å¼ä»¥åŠä½¿ç”¨è§£æç®—æ³•ç”Ÿæˆæ¨¡å¼å¦‚Drainæˆ–Spellä¸¤ç§æ–¹å¼ã€‚ç¬¬äºŒç§æ–¹å¼æ˜¯åŸºäºtokenï¼Œå°†æ—¥å¿—æ‹†åˆ†ä¸ºå•è¯åˆ—è¡¨ï¼Œå¦‚é€šè¿‡ç©ºæ ¼æ‹†åˆ†ã€‚å†åˆ é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æ•°å­—ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;éœ€äº†è§£ï¼Œæ·±åº¦å­¦ä¹ æœ€å¸¸ç”¨äºæ­ç¤ºå¤šä¸ªæ—¥å¿—äº‹ä»¶çš„å¼‚å¸¸æ¨¡å¼ï¼Œä¾‹å¦‚äº‹ä»¶åºåˆ—çš„å˜åŒ–æˆ–æ—¶é—´æ—¥å¿—ç›¸å…³æ€§ã€‚å› æ­¤æœ‰å¿…è¦åœ¨é€»è¾‘ä¸Šå°†äº‹ä»¶ç»„ç»‡æˆç»„ï¼Œç„¶åå•ç‹¬æˆ–ç›¸äº’å…³è”åœ°è¿›è¡Œåˆ†æã€‚å¸¸è§åˆ†ç»„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ»‘åŠ¨æ—¶é—´çª—å£ï¼Œå³ä¸€æ¡æ—¥å¿—ä¼šå‡ºç°åœ¨å¤šä¸ªçª—å£ä¸­ï¼›å¦ä¸€ç§æ˜¯å›ºå®šæ—¶é—´çª—å£ï¼Œå³ä¸€æ¡æ—¥å¿—åªå¯èƒ½å‡ºç°åœ¨ä¸€ä¸ªç»„ã€‚åè€…ç²’åº¦æ›´ç²—ï¼Œä½†ä¾¿äºè®¡ç®—ã€‚&lt;/p&gt;

&lt;p&gt;é¢„å¤„ç†ä¹‹åï¼Œåˆ™éœ€è¦è¿›è¡Œç‰¹å¾è¡¨ç¤ºã€‚ç‰¹å¾è¡¨ç¤ºä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;



&lt;p&gt;è¯­ä¹‰å‘é‡ï¼šåœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œé€šå¸¸çš„åšæ³•æ˜¯å°†å¥å­ä¸­çš„å•è¯è½¬æ¢ä¸ºè¯­ä¹‰å‘é‡ï¼Œè¿™äº›è¯­ä¹‰å‘é‡å¯¹åŸºäºä¸Šä¸‹æ–‡çš„è¯­ä¹‰ï¼ˆä¾‹å¦‚Word2Vecã€BERTï¼‰æˆ–è¯­è¨€ç»Ÿè®¡ï¼ˆä¾‹å¦‚TF-IDFï¼‰è¿›è¡Œç¼–ç ã€‚è¯­ä¹‰ç¼–ç é€šå¸¸é€šè¿‡åœ¨ç‰¹å®šæ—¥å¿—æ–‡ä»¶ä¸Šè®­ç»ƒæ·±åº¦ç¥ç»ç½‘ç»œæˆ–é€šè¿‡é¢„è®­ç»ƒæ¨¡å‹æ¥å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;ä½ç½®ç¼–ç ï¼šè¯­ä¹‰å‘é‡æœ‰æ—¶ä¸ä½ç½®åµŒå…¥ç»“åˆä½¿ç”¨åŸºäºå®ƒä»¬åœ¨åºåˆ—ä¸­çš„ç›¸å¯¹ä½ç½®è¿›è¡Œç¼–ç ã€‚ä¸ºäº†å°†ä½ç½®ä¿¡æ¯æ·»åŠ åˆ°ç¼–ç çš„æ—¥å¿—æ¶ˆæ¯ä¸­ï¼Œé€šå¸¸åˆ†åˆ«ä¸ºå¶æ•°å’Œå¥‡æ•°ä»¤ç‰Œç´¢å¼•ä½¿ç”¨æ­£å¼¦å’Œä½™å¼¦å‡½æ•°ã€‚&lt;/p&gt;



&lt;p&gt;ç‹¬çƒ­ç¼–ç æ˜¯å¤„ç†åˆ†ç±»æ•°æ®çš„æœ€å¸¸ç”¨æŠ€æœ¯ä¹‹ä¸€ï¼Œç»å¸¸åº”ç”¨äºæ—¥å¿—æ¨¡å¼ç±»å‹æˆ–ä»¤ç‰Œå€¼çš„ç¼–ç ã€‚å½¢å¼ä¸Šï¼Œæœ‰åºåˆ—è¡¨dä¸­çš„å€¼içš„ä¸€ä¸ªçƒ­ç¼–ç æ˜¯é•¿åº¦ä¸ºdçš„å‘é‡ï¼Œå…¶ä¸­ç¬¬iä¸ªå…ƒç´ ä¸º1ï¼Œæ‰€æœ‰å…¶ä»–å…ƒç´ ä¸º0ã€‚è™½ç„¶å¤§å¤šæ—¶å€™å°†ä¸€ä¸ªçƒ­ç¼–ç æ•°æ®ç›´æ¥ç”¨ä½œç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œä½†ä¹Ÿå¯ä»¥å°†å…¶ä¸å…¶ä»–ç‰¹å¾ï¼ˆå¦‚è®¡æ•°å‘é‡ï¼‰ç»„åˆï¼Œä»¥ä¾¿åº”ç”¨çš„ç¥ç»ç½‘ç»œèƒ½å¤Ÿè¯†åˆ«è¾“å…¥å¹¶å­¦ä¹ ä¸åŒæ—¥å¿—é”®çš„å•ç‹¬æ¨¡å‹ã€‚&lt;/p&gt;



&lt;p&gt;åµŒå…¥å±‚/çŸ©é˜µï¼šé€šå¸¸ç”¨äºè§£å†³é«˜ç»´è¾“å…¥æ•°æ®ç¨€ç–æ€§é—®é¢˜ã€‚å®ƒä»¬é€šå¸¸æ˜¯éšæœºåˆå§‹åŒ–çš„å‚æ•°ï¼Œä¸åˆ†ç±»æ¨¡å‹ä¸€èµ·è®­ç»ƒï¼Œä»¥åˆ›å»ºæ—¥å¿—æ¶ˆæ¯çš„æœ€ä½³å‘é‡ç¼–ç ã€‚å‘é‡ç¼–ç é€šå¸¸æ’åˆ—åœ¨çŸ©é˜µä¸­ï¼Œä½¿å¾—é€šè¿‡å°†çŸ©é˜µä¸ä¸€ä¸ªçƒ­ç¼–ç çš„æ—¥å¿—å‘é‡ç›¸ä¹˜æ¥è·å¾—ç‰¹å®šæ—¥å¿—å¯†é’¥çš„ç›¸åº”å‘é‡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¯­ä¹‰å‘é‡çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒåµŒå…¥å±‚/çŸ©é˜µé€šå¸¸ä¸é’ˆå¯¹NLPç›®æ ‡è¿›è¡Œè®­ç»ƒï¼Œå³å®ƒä»¬ä¸æ—¨åœ¨å­¦ä¹ åƒWord2Vecè¿™æ ·çš„è¯çš„è¯­ä¹‰ï¼›ç›¸åï¼Œä»…è®­ç»ƒåµŒå…¥å±‚/çŸ©é˜µä»¥æœ€å°åŒ–åˆ†ç±»ç½‘ç»œçš„æŸå¤±å‡½æ•°ã€‚è¿˜ä½¿ç”¨åŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªå®šä¹‰åµŒå…¥æ¨¡å‹ï¼›æˆ‘ä»¬å°†å…¶è¾“å‡ºç§°ä¸ºæ·±åº¦ç¼–ç åµŒå…¥ï¼ˆDEï¼‰ã€‚è¿™åŒ…æ‹¬åŸºäºå­—ç¬¦ã€äº‹ä»¶å’Œåºåˆ—çš„åµŒå…¥[42]ã€ä½¿ç”¨MLPå’ŒCNNçš„æ³¨æ„æœºåˆ¶[45]ä»¥åŠå°†æ ‡ç­¾ä¿¡æ¯è¾“å…¥VAE[1]çš„ä»¤ç‰Œè®¡æ•°ã€‚&lt;/p&gt;



&lt;p&gt;åŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªå®šä¹‰åµŒå…¥æ¨¡å‹åŒ…æ‹¬åŸºäºå­—ç¬¦ã€äº‹ä»¶å’Œåºåˆ—çš„åµŒå…¥ã€ä½¿ç”¨MLPå’ŒCNNçš„æ³¨æ„æœºåˆ¶ç­‰ã€‚&lt;/p&gt;

&lt;h3&gt;æ·±åº¦å­¦ä¹ æ¨¡å‹&lt;/h3&gt;

&lt;p&gt;è®¾è®¡æ¨¡å‹å‰åˆ™éœ€è€ƒè™‘å…¶æ“ä½œæ¨¡å¼ï¼Œæ“ä½œæ¨¡å¼ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š&lt;/p&gt;



&lt;p&gt;å¸¸è§çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­æœ‰ MLPã€CNNï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯ RNNã€LSTMã€Bi-LSTMï¼›Autoencoders è‡ªç¼–ç å™¨é€‚åˆæ— ç›‘ç£åœºæ™¯ï¼Œé‡æ„è¯¯å·®æ›´é«˜çš„æ˜¯å¼‚å¸¸ï¼›GAN åˆ™å¯ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œã€‚&lt;/p&gt;

&lt;p&gt;å¸¸è§å®ç”¨çš„æŸå¤±å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Cross-Entropy (CE)ï¼šäº¤å‰ç†µï¼Œç”¨äºå¤šåˆ†ç±»é—®é¢˜ï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hyper-Sphere Objective Function (HS)ï¼šè¶…çƒç›®æ ‡å‡½æ•°ï¼Œåˆ°è¶…çƒä¸­å¿ƒçš„è·ç¦»å³å¼‚å¸¸åˆ†æ•°ï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mean Squared Error (MSE)ï¼šå‡æ–¹è¯¯å·®ï¼Œç”¨äºå›å½’ï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kullback-Leibler Divergence (KL)ï¼šKLæ•£åº¦ï¼Œç”¨äºè¡¡é‡æ¦‚ç‡åˆ†å¸ƒçš„æŸå¤±ã€‚Marginal Likelihood (ML)ï¼šè¾¹ç¼˜ä¼¼ç„¶ï¼Œç”¨å¤„åŒKLï¼›&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Custom Loss Functions (CF)ï¼šè‡ªå®šä¹‰çš„æŸå¤±å‡½æ•°ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;å¼‚å¸¸æ£€æµ‹&lt;/h3&gt;

&lt;h4&gt;å¼‚å¸¸ç±»å‹&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç¦»ç¾¤å€¼ï¼šç¦»ç¾¤å€¼æ˜¯æŒ‡ä¸æ•´ä½“æ—¥å¿—å†…å®¹ä¸ç¬¦çš„å•æ¡æ—¥å¿—ã€‚å¸¸è§çš„å¼‚å¸¸åŸå› æ˜¯ï¼šå‚æ•°å¼‚å¸¸ã€æ—¶é—´å¼‚å¸¸ã€tokenåºåˆ—å¼‚å¸¸ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é¡ºåºå¼‚å¸¸ï¼šå½“æ‰§è¡Œè·¯å¾„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šæ£€æµ‹åˆ°é¡ºåºå¼‚å¸¸ï¼Œå³ç”Ÿæˆæ—¥å¿—çš„åº”ç”¨ç¨‹åºæ‰§è¡Œäº‹ä»¶çš„æ–¹å¼ä¸ä»¥å‰ä¸åŒã€‚è¿™å¯èƒ½æ¶‰åŠä»¥å‰æœªçœ‹åˆ°çš„äº‹ä»¶ç±»å‹çš„å…¨æ–°åºåˆ—ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é¢‘ç‡å¼‚å¸¸ï¼šé¢‘ç‡å¼‚å¸¸ä»…è€ƒè™‘äº‹ä»¶å‘ç”Ÿçš„æ•°é‡ã€‚ä¾‹å¦‚ï¼šæè¿°æ–‡ä»¶æ‰“å¼€å’Œå…³é—­çš„æ—¥å¿—æ•°é‡åº”è¯¥ä¸€æ ·ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç»Ÿè®¡å¼‚å¸¸ï¼šåŸºäºè¶…å‡ºäº‹ä»¶è®¡æ•°çš„å¤šä¸ªå¯¹æ•°äº‹ä»¶çš„æŸäº›å®šé‡è¡¨è¾¾ç‰¹æ€§çš„å¼‚å¸¸ã€‚å¦‚å®ƒä»¬çš„åˆ°è¾¾æ—¶é—´é—´éš”æˆ–å­£èŠ‚æ€§å‘ç”Ÿæ¨¡å¼ã€‚ç§°å…¶ä¸ºç»Ÿè®¡å¼‚å¸¸ï¼Œå› ä¸ºå®ƒä»¬çš„æ£€æµ‹é€šå¸¸å‡è®¾äº‹ä»¶å‘ç”Ÿéšæ—¶é—´éµå¾ªç‰¹å®šçš„ç¨³å®šåˆ†å¸ƒã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4&gt;æ·±åº¦ç¥ç»ç½‘ç»œè¾“å‡ºä¸‹çš„å¼‚å¸¸æ£€æµ‹&lt;/h4&gt;

&lt;p&gt;é€šå¸¸æ·±åº¦ç¥ç»ç½‘ç»œçš„è¾“å‡ºç”¨äºå¼‚å¸¸æ£€æµ‹æ—¶ï¼Œç¥ç»ç½‘ç»œçš„è¾“å‡ºç”±å…¶æœ€åä¸€å±‚ä¸­çš„å•ä¸ªèŠ‚ç‚¹æˆ–å¤šä¸ªèŠ‚ç‚¹ç»„æˆã€‚å› æ­¤ï¼Œä»ç½‘ç»œä¸­æå–çš„ç»“æœå€¼æ˜¯æ•°å€¼çš„æ ‡é‡æˆ–çŸ¢é‡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€ç§å¯èƒ½çš„æ–¹æ¡ˆæ˜¯å°†è¿™äº›ç»“æœè§†ä¸ºå¼‚å¸¸åˆ†æ•°ï¼Œè¯¥åˆ†æ•°è¡¨ç¤ºå‘ˆç°ç»™ç½‘ç»œçš„æ—¥å¿—äº‹ä»¶åœ¨å¤šå¤§ç¨‹åº¦ä¸Šè¡¨ç¤ºå¼‚å¸¸ã€‚ç”±äºè¿™äº›åˆ†æ•°é€šå¸¸éš¾ä»¥å•ç‹¬è§£é‡Šï¼Œå› æ­¤é€šå¸¸æœ‰å¿…è¦å°†å…¶ä¸æŸä¸ªé˜ˆå€¼è¿›è¡Œæ¯”è¾ƒã€‚åœ¨äºŒåˆ†ç±»ï¼ˆBINï¼‰ä¸­ï¼Œè¿™ç§æ€æƒ³ç”¨äºä¼°è®¡ç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯æ­£å¸¸çš„è¿˜æ˜¯å¼‚å¸¸çš„ã€‚å¯¹äºç›‘ç£æ–¹æ³•ï¼Œæ•°å€¼è¾“å‡ºå¯ä»¥è§£é‡Šä¸ºè¾“å…¥å¯¹åº”äºä»»ä¸€ç±»çš„æ¦‚ç‡ã€‚å¯¹äºåŠç›‘ç£æˆ–æ— ç›‘ç£çš„æ–¹æ³•ï¼Œç”±äºç”Ÿæˆçš„å¼‚å¸¸åˆ†æ•°é€šå¸¸ä¸å½’ä¸€åŒ–ï¼Œå› æ­¤éœ€è¦ä¸ç»éªŒç¡®å®šçš„é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒã€‚&lt;/p&gt;

&lt;p&gt;å¦ä¸€ç§ç›¸å…³æ–¹æ³•æ˜¯åˆ©ç”¨è‡ªåŠ¨ç¼–ç å™¨çš„é‡å»ºè¯¯å·®ï¼Œè‡ªåŠ¨ç¼–ç å™¨é¦–å…ˆåœ¨ä½ç»´ç©ºé—´ä¸­å¯¹è¾“å…¥æ•°æ®è¿›è¡Œç¼–ç ï¼Œç„¶åå°è¯•å°†å…¶é‡å»ºä¸ºåŸå§‹å½¢å¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¾“å…¥æ ·æœ¬éš¾ä»¥é‡å»ºï¼Œå³äº§ç”Ÿå¤§çš„é‡å»ºè¯¯å·®ï¼Œåˆ™è®¤ä¸ºè¾“å…¥æ ·æœ¬å¼‚å¸¸ï¼Œå› ä¸ºå®ƒä»¬ä¸å¯¹åº”äºè®­ç»ƒç½‘ç»œçš„æ­£å¸¸æ•°æ®ã€‚&lt;/p&gt;

&lt;h4&gt;å¼‚å¸¸ä¸æ­£å¸¸æ•°æ®åŒºåˆ†&lt;/h4&gt;

&lt;p&gt;å¼‚å¸¸æ£€æµ‹ä¸­åŒºåˆ†å¼‚å¸¸ä¸æ­£å¸¸æ•°æ®ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;



&lt;h2&gt;æ—¥å¿—å¼‚å¸¸æ£€æµ‹ç®—æ³•è¯„ä¼°&lt;/h2&gt;

&lt;p&gt;ä¸‹å›¾ä¸ºæ˜¯æ—¥å¿—å¼‚å¸¸æ£€æµ‹ç®—æ³•å®éªŒå¸¸ç”¨åˆ°çš„æ•°æ®é›†ã€‚å…¶ä¸­æœ€å¸¸ä½¿ç”¨çš„æ˜¯ HDFSã€BGLã€Thunderbird å’ŒOpenstackã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49139c2b445e48c8ac3994f2db8357b6%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å¼‚å¸¸æ£€æµ‹æ–¹æ³•çš„å®šé‡è¯„ä¼°é€šå¸¸å›´ç»•ç€å°†æ­£ç¡®æ£€æµ‹åˆ°çš„å¼‚å¸¸æ ·æœ¬æ•°è®¡æ•°ä¸ºçœŸé˜³æ€§ï¼ˆTPï¼‰ã€å°†é”™è¯¯æ£€æµ‹åˆ°çš„éå¼‚å¸¸æ ·æœ¬æ•°è®¡ç®—ä¸ºå‡é˜³æ€§ï¼ˆFPï¼‰ã€å°†é”™è¯¯æœªæ£€æµ‹åˆ°çš„åå¸¸æ ·æœ¬æ•°è®¡ä¸ºå‡é˜´æ€§ï¼ˆFNï¼‰ã€å°†æœªæ­£ç¡®æ£€æµ‹åˆ°å¼‚å¸¸æ ·æœ¬æ•°ç»Ÿè®¡ä¸ºå‡é˜´æ€§æ•°ï¼ˆFNï¼‰ä»¥åŠæ­£ç¡®æœªæ£€æµ‹åˆ°çš„éå¼‚å¸¸æ ·æœ¬ä½œä¸ºçœŸè´Ÿï¼ˆTNï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å…¶ä¸­è¯„ä»·æŒ‡æ ‡åŒ…æ‹¬ç²¾ç¡®æ€§ï¼ˆprecisionï¼‰ã€å¬å›ç‡ï¼ˆrecallï¼‰ã€F1 å€¼ä»¥åŠæ­£ç¡®ç‡ï¼ˆaccuracyï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/377d2ca0aa774b1a8228acd3a7c9a32d%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾æ˜¯å¸¸ç”¨çš„ Benchmark çš„ç»Ÿè®¡ï¼ŒDeeplog æ˜¯æœ€å¸¸ç”¨çš„åŸºå‡†ã€‚Deeplog ä¾èµ–äº LSTM RNN æŒ‰é¡ºåºé¢„æµ‹å³å°†å‘ç”Ÿçš„æ—¥å¿—äº‹ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœè§‚æµ‹åˆ°çš„äº‹ä»¶é¢„è®¡ä»¥ä½æ¦‚ç‡å‘ç”Ÿï¼Œåˆ™è®¤ä¸ºæ˜¯å¼‚å¸¸ã€‚Deeplog æ˜¯ç¬¬ä¸€ä¸ªä½¿ç”¨æ·±åº¦å­¦ä¹ æ£€æµ‹æ—¥å¿—æ•°æ®ä¸­çš„é¡ºåºå¼‚å¸¸ä¸”æ˜¯å¼€æºçš„ï¼Œå› æ­¤è¢«ç»å¸¸ä½œä¸º Benchmarkã€‚&lt;/p&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;



&lt;p&gt;æ•°æ®ä¸ç¨³å®šæ€§æ˜¯æ—¥å¿—å¼‚å¸¸æ£€æµ‹é¢ä¸´çš„ä¸»è¦ï¼Œå³æœªçŸ¥æ—¥å¿—çš„å‡ºç°æ˜¯ç®—æ³•è¦è§£å†³çš„ä¸»è¦é—®é¢˜ä¹‹ä¸€ã€‚è§£å†³è¿™ä¸€é—®é¢˜çš„å…³é”®æ€æƒ³æ˜¯å°†æ—¥å¿—è¡¨ç¤ºä¸ºè¯­ä¹‰å‘é‡ï¼Œå°†å…¶ä¸å·²çŸ¥æ—¥å¿—è¿›è¡Œæ¯”è¾ƒã€‚è½¬ç§»å­¦ä¹ æä¾›äº†ä¸€ç§è§£å†³åªæœ‰å°‘é‡æ ‡è®°æ•°æ®å¯ç”¨çš„æŒ‘æˆ˜çš„æ–¹æ³•ï¼Œå…¶ä¸­æ¨¡å‹åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šè®­ç»ƒï¼Œå¹¶åœ¨å¦ä¸€ä¸ªç³»ç»Ÿä¸­æµ‹è¯•ã€‚å…¶ä¸»è¦æ€æƒ³æ˜¯ï¼Œç”±ç¥ç»ç½‘ç»œå­¦ä¹ çš„æ—¥å¿—äº‹ä»¶æ¨¡å¼åœ¨ä¸åŒé¢†åŸŸæ˜¯ç›¸ä¼¼çš„ã€‚&lt;/p&gt;



&lt;p&gt;RNN æ˜¯åº”ç”¨æœ€å¹¿æ³›çš„æ¨¡å‹ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ•è·æ—¥å¿—æ•°æ®ä¸­é¡ºåºæ¨¡å¼çš„è‡ªç„¶é€‰æ‹©ã€‚æ‰€æœ‰å¸¸ç”¨çš„æ—¥å¿—æ•°æ®é›†é‡Œçš„å¼‚å¸¸ç»å¸¸è¡¨ç°ä¸ºé¡ºåºå‘ç”Ÿçš„äº‹ä»¶ï¼Œè¿™ä¸€äº‹å®è§£é‡Šäº† RNN çš„è¶‹åŠ¿ã€‚CNN ä¸º RNN çš„æœ‰æ•ˆæ›¿ä»£æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒä»¬è¿˜èƒ½å¤Ÿæå–äº‹ä»¶ç›¸å…³æ€§ã€‚ç”±äºè¦æ”¯æŒæ— ç›‘ç£å­¦ä¹ ï¼Œå› æ­¤ä¹Ÿç»å¸¸ä½¿ç”¨è‡ªåŠ¨ç¼–ç å™¨ã€‚&lt;/p&gt;



&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç›´æ¥æ ‡è®°æ—¥å¿—æ¶ˆæ¯ï¼Œä¸éœ€è¦ä»»ä½•è§£æå™¨ï¼Œæ­¤æ–¹æ³•ç®€å•ï¼Œä½†ç¼ºä¹å¯¹æ ‡è®°çš„è¯­ä¹‰è§£é‡Šã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€šè¿‡è§£ææ¶ˆæ¯å¹¶ä»æ—¥å¿—äº‹ä»¶é›†åˆï¼ˆå¦‚åºåˆ—ã€è®¡æ•°æˆ–ç»Ÿè®¡ï¼‰ä¸­æå–ä¿¡æ¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä»è§£æçš„æ—¥å¿—äº‹ä»¶ä¸­æå–åŒ…æ‹¬æ—¶é—´æˆ³åœ¨å†…çš„å‚æ•°ã€‚æœ‰å¤šç§æ–¹æ³•å¯ä»¥å°†è¿™äº›ç‰¹å¾è¡¨ç¤ºä¸ºæ·±åº¦å­¦ä¹ æ¨¡å‹æ‰€æ¥æ”¶çš„æ•°å­—å‘é‡ã€‚ç»„æˆæ—¥å¿—æ¶ˆæ¯çš„ token è¢«è¡¨ç¤ºä¸ºæ•°å­—å‘é‡ï¼Œå¹¶åœ¨å…¶äº‹ä»¶å‘ç”Ÿåºåˆ—çš„ä¸Šä¸‹æ–‡ä¸­è€ƒè™‘ã€‚å¤§å¤šæ•°æ–¹æ³•ä½¿ç”¨è¿™äº›é¡ºåºç‰¹å¾ï¼Œè€Œé¢‘ç‡ã€çƒ­ç¼–ç æ•°æ®å’ŒåµŒå…¥å±‚ä½¿ç”¨è¾ƒå°‘æˆ–ä»…ä½œä¸ºä¸€ä¸ªè´¡çŒ®ç‰¹å¾ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;å¤§éƒ¨åˆ†æ–¹æ³•éƒ½ä¾§é‡äºåœ¨äº‹ä»¶åºåˆ—ã€äº‹ä»¶ä¸­çš„ä»¤ç‰Œåºåˆ—æˆ–ä¸¤è€…çš„ç»„åˆä¸­å‡ºç°çš„é¡ºåºå¼‚å¸¸ã€‚åªæœ‰å°‘æ•°æ–¹æ³•ä½¿ç”¨äº‹ä»¶è®¡æ•°æˆ–å°†å•ä¸ªæ—¥å¿—è¡Œæ£€æµ‹ä¸ºå¼‚å¸¸å€¼ï¼Œè€Œä¸è€ƒè™‘å…¶å‘ç”Ÿçš„ä¸Šä¸‹æ–‡ã€‚å¼‚å¸¸çš„åˆ¤å®šé€šå¸¸æ¥æºäºç¥ç»ç½‘ç»œçš„è¾“å‡ºã€‚äºŒåˆ†ç±»æˆ–å¤šç±»åˆ†ç±»çš„è¾“å‡ºç›´æ¥ç”¨äºæŠ¥å‘Šå¼‚å¸¸ã€‚æ— ç›‘ç£/åŠç›‘ç£æ–¹æ³•å°†æ‰€æœ‰æ•°å€¼è¾“å‡ºï¼ˆå¦‚å¼‚å¸¸åˆ†æ•°æˆ–é‡å»ºè¯¯å·®ï¼‰ä¸é¢„å®šä¹‰é˜ˆå€¼è¿›è¡Œæ¯”è¾ƒï¼Œæˆ–è€…ä½¿ç”¨æ—¥å¿—äº‹ä»¶çš„æ¦‚ç‡åˆ†å¸ƒæ¥åˆ¤å®šã€‚å¯¹äºç‰¹å®šçš„æ—¥å¿—æ–‡ä»¶ï¼Œé€šå¸¸æ ¹æ®ç»éªŒç¡®å®šè¿™äº›é˜ˆå€¼ã€‚&lt;/p&gt;



&lt;p&gt;å¤§å¤šæ•°æ–¹æ³•åªä½¿ç”¨å››ä¸ªæ•°æ®é›†ï¼šHDFSã€BGLã€Thunderbird å’Œ OpenStackã€‚è¯„ä¼°é€šå¸¸åŸºäºå¼‚å¸¸åºåˆ—è¿›è¡Œï¼Œå³æ•´ä¸ªæ—¥å¿—åºåˆ—è¢«è§†ä¸ºæ­£å¸¸æˆ–å¼‚å¸¸ï¼Œè€Œä¸æ˜¯å•æ¡æ—¥å¿—ã€‚ç„¶è€Œï¼Œé•¿åºåˆ—çš„ä¸€éƒ¨åˆ†å®é™…ä¸Šå¯èƒ½ä»£è¡¨æ­£å¸¸çš„ç³»ç»Ÿè¡Œä¸ºï¼Œè€Œåªæœ‰å°‘æ•°å…ƒç´ åº”è§†ä¸ºå¼‚å¸¸ã€‚è¯„ä¼°æ£€æµ‹æ–¹æ³•æ˜¯å¦èƒ½å¤Ÿå‡†ç¡®åœ°ç¡®å®šåºåˆ—çš„å“ªäº›éƒ¨åˆ†æ˜¯å¼‚å¸¸çš„ï¼Œè¿™å¯¹äºç³»ç»Ÿæ“ä½œå‘˜æ‰‹åŠ¨è°ƒæŸ¥æŠ¥å‘Šçš„å¼‚å¸¸ä¹Ÿå¾ˆå®ç”¨ã€‚æ˜¾ç„¶ï¼Œè¿™éœ€è¦æ ¹æ®å•ä¸ªäº‹ä»¶çš„ç²’åº¦è€Œä¸æ˜¯ä»¥ç»„æ¥æ ‡è®°æ•°æ®é›†ã€‚æ­¤å¤–ï¼Œå‡ ä¹æ‰€æœ‰è¯„ä¼°éƒ½ä¾èµ–äº F1 ç­‰åº¦é‡ï¼Œè¿™äº›åº¦é‡åœ¨æ•°æ®é›†é«˜åº¦ä¸å¹³è¡¡æ—¶æ— æ³•å‡†ç¡®æè¿°åˆ†ç±»æˆ–æ£€æµ‹æ€§èƒ½ã€‚ä¸ºäº†é¿å…å¯¹è¯„ä¼°ç»“æœçš„è¯¯è§£ï¼Œå¯è®¡ç®—å¯¹ç±»åˆ«ä¸å¹³è¡¡æ›´ä¸ºç¨³å¥çš„æŒ‡æ ‡ï¼Œå¦‚çœŸé˜´æ€§ç‡ã€‚&lt;/p&gt;

&lt;h2&gt;å¼€æºé¡¹ç›®æ¨è&lt;/h2&gt;

&lt;p&gt;äº‘æ™ºæ…§å·²å¼€æºæ•°æ®å¯è§†åŒ–ç¼–æ’å¹³å° FlyFish ã€‚é€šè¿‡é…ç½®æ•°æ®æ¨¡å‹ä¸ºç”¨æˆ·æä¾›ä¸Šç™¾ç§å¯è§†åŒ–å›¾å½¢ç»„ä»¶ï¼Œé›¶ç¼–ç å³å¯å®ç°ç¬¦åˆè‡ªå·±ä¸šåŠ¡éœ€æ±‚çš„ç‚«é…·å¯è§†åŒ–å¤§å±ã€‚ åŒæ—¶ï¼Œé£é±¼ä¹Ÿæä¾›äº†çµæ´»çš„æ‹“å±•èƒ½åŠ›ï¼Œæ”¯æŒç»„ä»¶å¼€å‘ã€è‡ªå®šä¹‰å‡½æ•°ä¸å…¨å±€äº‹ä»¶ç­‰é…ç½®ï¼Œ é¢å‘å¤æ‚éœ€æ±‚åœºæ™¯èƒ½å¤Ÿä¿è¯é«˜æ•ˆå¼€å‘ä¸äº¤ä»˜ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœå–œæ¬¢æˆ‘ä»¬çš„é¡¹ç›®ï¼Œè¯·ä¸è¦å¿˜è®°ç‚¹å‡»ä¸‹æ–¹ä»£ç ä»“åº“åœ°å€ï¼Œåœ¨ &lt;strong&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FCloudWise-OpenSource%2FFlyFish&quot;&gt;GitHub&lt;/a&gt;&lt;/strong&gt; &lt;strong&gt;/&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;https://gitee.com/CloudWise/fly-fish&quot;&gt;Gitee&lt;/a&gt;&lt;/strong&gt; ä»“åº“ä¸Šç‚¹ä¸ª Starï¼Œæˆ‘ä»¬éœ€è¦æ‚¨çš„é¼“åŠ±ä¸æ”¯æŒã€‚æ­¤å¤–ï¼Œå³åˆ»å‚ä¸ FlyFish é¡¹ç›®è´¡çŒ®æˆä¸º FlyFish Contributor çš„åŒæ—¶æ›´æœ‰ä¸‡å…ƒç°é‡‘ç­‰ä½ æ¥æ‹¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;GitHub åœ°å€ï¼š&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2FCloudWise-OpenSource%2FFlyFish&quot;&gt;https://github.com/CloudWise-OpenSource/FlyFish&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Gitee åœ°å€ï¼š&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;https://gitee.com/CloudWise/fly-fish&quot;&gt;https://gitee.com/CloudWise/fly-fish&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å¾®ä¿¡æ‰«æè¯†åˆ«ä¸‹æ–¹äºŒç»´ç ï¼Œå¤‡æ³¨ã€é£é±¼ã€‘åŠ å…¥ AIOps ç¤¾åŒºé£é±¼å¼€å‘è€…äº¤æµç¾¤ï¼Œä¸ FlyFish é¡¹ç›® PMC é¢å¯¹é¢äº¤æµï½&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cefb57ead65b4ad28a9684332a69a970%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
&lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>de817787163e4bf3bce47e03405dd589</guid>
<title>ã€Œäº‘åŸç”Ÿæ—¶ä»£çš„ Java è™šæ‹Ÿæœºã€é’ˆå¯¹äº GraalVM çš„æŠ€æœ¯çŸ¥è¯†è„‰ç»œçš„é‡å¡‘å’Œæ¢ç©¶</title>
<link>https://toutiao.io/k/asjh7gh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-atom-one-dark&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h3&gt;&lt;a id=&quot;GraalVM__0&quot;/&gt;GraalVM èƒŒæ™¯&lt;/h3&gt; 
&lt;p&gt;æ–°ã€æ—§ç¼–ç¨‹è¯­è¨€çš„å…´èµ·èºåŠ¨ï¼Œè¯´æ˜å¿…ç„¶æœ‰å…¶éœ€æ±‚åŠ¨åŠ›æ‰€åœ¨ï¼Œè­¬å¦‚äº’è”ç½‘ä¹‹äºJavaScriptã€äººå·¥æ™ºèƒ½ä¹‹äºPythonï¼Œå¾®æœåŠ¡é£æ½®ä¹‹äºGolangç­‰ç­‰ã€‚å¤§å®¶éƒ½æ¸…æ¥šä¸å¤ªå¯èƒ½æœ‰å“ªé—¨è¯­è¨€èƒ½åœ¨æ¯ä¸€ä¸ªé¢†åŸŸéƒ½å°½å ä¼˜åŠ¿ï¼ŒJavaå·²æ˜¯è·ç¦»è¿™ä¸ªç›®æ ‡æœ€æ¥è¿‘çš„é€‰é¡¹ï¼Œä½†è‹¥â€œå¤©ä¸‹ç¬¬ä¸€â€è¿˜è¦ç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥çš„è¯ï¼Œä¼¼ä¹å°±åªèƒ½å¿˜æ‰Javaè¯­è¨€æœ¬èº«ï¼Œè¸å…¥æ— æ‹›èƒœæœ‰æ‹›çš„å¢ƒç•Œã€‚&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;æ›´è¿›ä¸€æ­¥æå‡JVMä¸Šè¿è¡Œçš„ç¨‹åºçš„æ€§èƒ½&lt;/li&gt;&lt;li&gt;é€šè¿‡é¢„ç¼–è¯‘ï¼ˆahead-of-timeï¼‰ç¼–è¯‘Javaç¨‹åºä¸ºåŸç”Ÿå¯æ‰§è¡Œç¨‹åº&lt;/li&gt;&lt;li&gt;å¤šç§ç¼–ç¨‹è¯­è¨€æ··ç¼–åœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼ˆpolyglotï¼‰&lt;/li&gt;&lt;li&gt;ç±»ä¼¼äºLLVMï¼ŒGraalVMä¹Ÿæä¾›äº†æ–¹ä¾¿çš„æœºåˆ¶æ–¹ä¾¿å¼€å‘æ–°çš„ç¼–ç¨‹è¯­è¨€&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;å®˜æ–¹ç½‘ç«™åœ¨ï¼š https://www.graalvm.org/&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;_11&quot;/&gt;å½“å‰ç—›ç‚¹&lt;/h3&gt; 
&lt;p&gt;åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼ŒJavaç¨‹åºæ˜¯æœ‰å¾ˆå¤§çš„åŠ£åŠ¿çš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿä¸€èˆ¬çš„Javaåº”ç”¨ç¨‹åºéƒ½è¦å‡ åå…†çš„å†…å­˜ï¼Œå¯åŠ¨ä¹Ÿä¸ä¸å¿«ã€‚&lt;/p&gt; 
&lt;p&gt;æœ€æµè¡Œçš„SpringBoot/SpringCloudå¾®æœåŠ¡æ¡†æ¶ä¸ºä¾‹ï¼Œå¯åŠ¨ä¸€ä¸ªå·²ç»ä¼˜åŒ–å¥½ï¼Œå¾ˆå¤šbeanéœ€è¦lazy loadçš„applicationè‡³å°‘éœ€è¦3-4ç§’æ—¶é—´ï¼Œå†…å­˜éœ€è¦å‡ ç™¾å…†ï¼Œä¸šåŠ¡é€»è¾‘ç¨å¾®å¤æ‚ä¸€ç‚¹ç‚¹ï¼Œæ²¡æœ‰1Gä»¥ä¸Šçš„å†…å­˜æ˜¯å¾ˆéš¾æ»¡è¶³ä¸šåŠ¡çš„éœ€è¦å‘¢ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;é‚£ä¹ˆåœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼Œä¸€ä¸ªå……æ»¡é»‘ç§‘æŠ€çš„JVMä»‹ç»ç»™å¤§å®¶ï¼Œå®ƒèƒ½å¸®åŠ©æˆ‘ä»¬è®©Javaç¨‹åºçš„å¯åŠ¨é€Ÿåº¦åŠ å¿«100å€ï¼Œå†…å­˜åªéœ€è¦åŸæ¥çš„äº”åˆ†ä¹‹ä¸€ï¼Œç”šè‡³æ›´å°‘ã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;Graalvm_19&quot;/&gt;Graalvmçš„ä»‹ç»&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;GraalVMæ˜¯2018å¹´Oracleå¼€å‘çš„ä¸‹ä¸€ä»£JVMå®ç°ï¼Œè¢«å®˜æ–¹ç§°ä¸ºâ€œUniversal VMâ€å’Œâ€œPolyglot VMâ€ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨HotSpotè™šæ‹ŸæœºåŸºç¡€ä¸Šå¢å¼ºè€Œæˆçš„è·¨è¯­è¨€å…¨æ ˆè™šæ‹Ÿæœºï¼Œå¯ä»¥ä½œä¸ºâ€œä»»ä½•è¯­è¨€â€çš„è¿è¡Œå¹³å°ä½¿ç”¨ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;è¿™é‡Œâ€œä»»ä½•è¯­è¨€â€åŒ…æ‹¬äº†Javaã€Scalaã€Groovyã€Kotlinç­‰åŸºäºJavaè™šæ‹Ÿæœºä¹‹ä¸Šçš„è¯­è¨€ï¼Œè¿˜åŒ…æ‹¬äº†Cã€C++ã€Rustç­‰åŸºäºLLVMçš„è¯­è¨€ï¼ŒåŒæ—¶æ”¯æŒå…¶ä»–åƒJavaScriptã€Rubyã€Pythonå’ŒRè¯­è¨€ç­‰ç­‰ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/5f89505b7321c88bccdc1e3283f56cd6.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;GraalVMå¯ä»¥æ— é¢å¤–å¼€é”€åœ°æ··åˆä½¿ç”¨è¿™äº›ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒä¸åŒè¯­è¨€ä¸­æ··ç”¨å¯¹æ–¹çš„æ¥å£å’Œå¯¹&lt;br/&gt; è±¡ï¼Œä¹Ÿèƒ½å¤Ÿæ”¯æŒè¿™äº›è¯­è¨€ä½¿ç”¨å·²ç»ç¼–å†™å¥½çš„æœ¬åœ°åº“æ–‡ä»¶ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;å®ƒçš„å£å·â€œRun Programs Faster Anywhereâ€å°±èƒ½æ„Ÿè§‰åˆ°ä¸€é¢—è“¬å‹ƒçš„é‡å¿ƒ&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;Graalvm_32&quot;/&gt;Graalvmæ€§èƒ½çš„å¯¹æ¯”&lt;/h4&gt; 
&lt;p&gt;GraalVMçš„æ€§èƒ½çœŸçš„ä¸é”™ã€‚ä»¥JDK 8ä¸ºä¾‹&lt;/p&gt; 
 
&lt;p&gt;å…¶ä¸­OpenJDKæ˜¯é€šè¿‡â€œGPL v2 with CEâ€åè®®å¼€æºçš„ï¼Œå¯ä»¥å…è´¹å•†ç”¨çš„ã€‚&lt;/p&gt; 
&lt;p&gt;ä¹‹å‰åœ¨ç”¨Apache Sparkæµ‹è¯•æ€§èƒ½æ—¶ï¼Œ å¯¹æ¯”ä¸€ä¸‹ä¸¤è€…æ€§èƒ½ï¼Œ ç¨å¾®æ•°æ®é‡å¤§ç‚¹çš„æŸ¥è¯¢ï¼Œä¼šå‘ç°Oracle JDKä¸€èˆ¬éƒ½ä¼šæ¯”OpenJDKå¿«30%ä»¥ä¸Šã€‚&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;è€ŒGraalVMåˆ†ä¸ºç¤¾åŒºç‰ˆå’Œå•†ä¸šç‰ˆï¼Œå…¶ä¸­GraalVMçš„ç¤¾åŒºç‰ˆä¹Ÿæ˜¯é‡‡ç”¨äº†å’ŒOpenJDKä¸€æ ·çš„â€œGPL v2 with CEâ€åè®®å¼€æºçš„ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;å¯¹äºGraalVMçš„ç¤¾åŒºç‰ˆï¼Œéå¸¸æƒŠå–œçš„å‘ç°å…¶æ¯”Oracle JDKä¹Ÿä¼šå¿«10%ä»¥ä¸Šã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;æ²¡æœ‰è¯•è¿‡GraalVMçš„å•†ä¸šç‰ˆï¼Œ å®˜æ–¹æŠ¥é“ï¼Œå…¶å•†ä¸šç‰ˆæ¯”ç¤¾åŒºç‰ˆæå‡çš„æ€§èƒ½æ›´å¤š&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;Graalvm_49&quot;/&gt;Graalvmä¸»è¦ç‰¹æ€§&lt;/h4&gt; 
&lt;ul&gt;&lt;li&gt;é«˜æ€§èƒ½çš„ç°ä»£Java&lt;/li&gt;&lt;li&gt;å ç”¨èµ„æºå°‘ï¼Œå¯åŠ¨é€Ÿåº¦å¿«&lt;/li&gt;&lt;li&gt;JavaScript,Java, Rubyä»¥åŠRæ··åˆç¼–ç¨‹&lt;/li&gt;&lt;li&gt;åœ¨JVMä¸Šè¿è¡ŒåŸç”Ÿè¯­è¨€&lt;/li&gt;&lt;li&gt;è·¨è¯­è¨€å·¥å…·&lt;/li&gt;&lt;li&gt;JVMåº”ç”¨æ‰©å±•&lt;/li&gt;&lt;li&gt;åŸç”Ÿåº”ç”¨æ‰©å±•&lt;/li&gt;&lt;li&gt;æœ¬åœ°Javaåº“&lt;/li&gt;&lt;li&gt;æ•°æ®åº“æ”¯æŒå¤šè¯­è¨€&lt;/li&gt;&lt;li&gt;åˆ›å»ºè‡ªå·±çš„è¯­è¨€&lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;Graalvm_62&quot;/&gt;Graalvmå·¥ä½œåŸç†&lt;/h4&gt; 
&lt;p&gt;GraalVMçš„åŸºæœ¬å·¥ä½œåŸç†æ˜¯å°†è¿™äº›è¯­è¨€çš„æºä»£ç ï¼ˆä¾‹å¦‚ï¼ŒJavaScriptï¼‰æˆ–æºä»£ç ç¼–è¯‘åçš„ä¸­é—´æ ¼å¼ï¼ˆä¾‹å¦‚ï¼ŒLLVMå­—èŠ‚ç ã€Classå­—èŠ‚ç ï¼‰é€šè¿‡è§£é‡Šå™¨è½¬æ¢ä¸ºèƒ½è¢«GraalVMæ¥å—çš„ä¸­é—´è¡¨ç¤ºï¼ˆIntermediate Representationï¼ŒIRï¼‰ï¼Œè­¬å¦‚è®¾è®¡ä¸€ä¸ªè§£é‡Šå™¨ä¸“é—¨å¯¹&lt;strong&gt;LLVM&lt;/strong&gt;è¾“å‡ºçš„å­—èŠ‚ç è¿›è¡Œè½¬æ¢æ¥æ”¯æŒCå’ŒC++è¯­è¨€ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œç¨‹åºç‰¹åŒ–â€ï¼ˆSpecializedï¼Œä¹Ÿå¸¸ç§°ä¸ºPartial Evaluationï¼‰ã€‚&lt;/p&gt; 
&lt;p&gt;GraalVMæä¾›äº†&lt;strong&gt;Truffle&lt;/strong&gt;å·¥å…·é›†æ¥å¿«é€Ÿæ„å»ºé¢å‘ä¸€ç§æ–°è¯­è¨€çš„è§£é‡Šå™¨ï¼Œå¹¶ç”¨å®ƒæ„å»ºäº†ä¸€ä¸ªç§°ä¸º&lt;strong&gt;Sulong&lt;/strong&gt;çš„é«˜æ€§èƒ½LLVMå­—èŠ‚ç è§£é‡Šå™¨ã€‚&lt;/p&gt; 
&lt;p&gt;ä»æŸä¸ªè§’åº¦æ¥çœ‹ï¼ŒGraalVMæ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šä¸ç‰©ç†è®¡ç®—æœºç›¸å¯¹åº”çš„é«˜çº§è¯­è¨€è™šæ‹Ÿæœºï¼Œå› ä¸ºå®ƒä¸ç‰©ç†ç¡¬ä»¶çš„æŒ‡ä»¤é›†ä¸€æ ·ï¼Œåšåˆ°äº†åªä¸æœºå™¨ç‰¹æ€§ç›¸å…³è€Œä¸ä¸æŸç§é«˜çº§è¯­è¨€ç‰¹æ€§ç›¸å…³ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;Graalvm_70&quot;/&gt;Graalvmçš„é«˜ç­‰ä¼˜åŒ–èƒ½åŠ›&lt;/h4&gt; 
&lt;p&gt;Oracle Labsçš„ç ”ç©¶æ€»ç›‘Thomas Wuerthingeråœ¨æ¥å—é‡‡è®¿æ—¶è°ˆåˆ°ï¼šâ€œ&lt;strong&gt;éšç€GraalVM1.0çš„å‘å¸ƒï¼Œå·²ç»è¯æ˜äº†æ‹¥æœ‰é«˜æ€§èƒ½çš„å¤šè¯­è¨€è™šæ‹Ÿæœºæ˜¯å¯èƒ½çš„ï¼Œå¹¶ä¸”å®ç°è¿™ä¸ªç›®æ ‡çš„æœ€ä½³æ–¹å¼ä¸æ˜¯é€šè¿‡ç±»ä¼¼Javaè™šæ‹Ÿæœºå’Œå¾®è½¯CLRé‚£æ ·å¸¦æœ‰è¯­è¨€ç‰¹æ€§çš„å­—èŠ‚ç &lt;/strong&gt;â€ã€‚&lt;/p&gt; 
&lt;p&gt;æœ¬æ¥å°±ä¸ä»¥é€Ÿåº¦è§é•¿çš„è¯­è¨€è¿è¡Œç¯å¢ƒï¼Œç”±äºGraalVMæœ¬èº«èƒ½å¤Ÿå¯¹è¾“å…¥çš„ä¸­é—´è¡¨ç¤ºè¿›è¡Œè‡ªåŠ¨ä¼˜åŒ–ï¼Œåœ¨è¿è¡Œæ—¶è¿˜èƒ½è¿›è¡Œå³æ—¶ç¼–è¯‘ä¼˜åŒ–ï¼Œå¾€å¾€ä½¿ç”¨GraalVMå®ç°èƒ½å¤Ÿè·å¾—æ¯”åŸç”Ÿç¼–è¯‘å™¨æ›´ä¼˜ç§€çš„æ‰§è¡Œæ•ˆç‡ï¼Œè­¬å¦‚Graal.jsè¦ä¼˜äºNode.jsã€Graal.Pythonè¦ä¼˜äºCPtyhonï¼ŒTruffleRubyè¦ä¼˜äºRuby MRIï¼ŒFastRè¦ä¼˜äºRè¯­è¨€ç­‰ç­‰ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;GraalvmHotspot_76&quot;/&gt;Graalvmä¸Hotspotçš„å¯¹æ¯”&lt;/h4&gt; 
&lt;p&gt;GraalVMæœ¬æ¥å°±æ˜¯åœ¨HotSpotåŸºç¡€ä¸Šè¯ç”Ÿçš„ï¼Œå¤©ç”Ÿå°±å¯ä½œä¸ºä¸€å¥—å®Œæ•´çš„ç¬¦åˆJava SE8æ ‡å‡†Javaè™šæ‹Ÿæœºæ¥ä½¿ç”¨ã€‚&lt;/p&gt; 
&lt;p&gt;å®ƒå’Œæ ‡å‡†çš„HotSpotå·®å¼‚ä¸»è¦åœ¨å³æ—¶ç¼–è¯‘å™¨ä¸Šï¼Œå…¶æ‰§è¡Œæ•ˆç‡ã€ç¼–è¯‘è´¨é‡ç›®å‰ä¸æ ‡å‡†ç‰ˆçš„HotSpotç›¸æ¯”ä¹Ÿæ˜¯äº’æœ‰èƒœè´Ÿã€‚&lt;/p&gt; 
&lt;p&gt;Oracle Labså’Œç¾å›½å¤§å­¦é‡Œé¢çš„ç ”ç©¶é™¢æ‰€åšçš„æœ€æ–°å³æ—¶ç¼–è¯‘æŠ€æœ¯çš„ç ”ç©¶å…¨éƒ¨éƒ½è¿ç§»è‡³åŸºäºGraalVMä¹‹ä¸Šè¿›è¡Œäº†ï¼Œå…¶å‘å±•æ½œåŠ›ä»¤äººæœŸå¾…ã€‚&lt;/p&gt; 
&lt;p&gt;å¦‚æœJavaè¯­è¨€æˆ–è€…HotSpotè™šæ‹ŸæœºçœŸçš„æœ‰è¢«å–ä»£çš„ä¸€å¤©ï¼Œé‚£ä»ç°åœ¨çœ‹æ¥GraalVMæ˜¯å¸Œæœ›æœ€å¤§çš„ä¸€ä¸ªå€™é€‰é¡¹ï¼Œè¿™åœºé©å‘½å¾ˆå¯èƒ½ä¼šåœ¨Javaä½¿ç”¨è€…æ²¡æœ‰æ˜æ˜¾æ„Ÿè§‰çš„æƒ…å†µä¸‹æ‚„ç„¶è€Œæ¥ï¼ŒJavaä¸–ç•Œæ‰€æœ‰çš„è½¯ä»¶ç”Ÿæ€éƒ½æ²¡æœ‰å‘ç”Ÿä¸æ¯«å˜åŒ–ï¼Œä½†å¤©ä¸‹ç¬¬ä¸€çš„ä½ç½®å·²ç»æ‚„ç„¶æ›´è¿­ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;Graalvm_86&quot;/&gt;Graalvmå³æ—¶ç¼–è¯‘å™¨&lt;/h4&gt; 
&lt;p&gt;è‡ªJDK 10èµ·ï¼ŒHotSpotä¸­åˆåŠ å…¥äº†ä¸€ä¸ªå…¨æ–°çš„å³æ—¶ç¼–è¯‘å™¨ï¼šGraalç¼–è¯‘å™¨ï¼Œçœ‹åå­—å°±å¯ä»¥è”æƒ³åˆ°å®ƒæ˜¯æ¥è‡ªäºGraal VMã€‚&lt;/p&gt; 
&lt;h5&gt;&lt;a id=&quot;C1C2_90&quot;/&gt;C1/C2å³æ—¶ç¼–è¯‘å™¨&lt;/h5&gt; 
&lt;p&gt;å¯¹éœ€è¦é•¿æ—¶é—´è¿è¡Œçš„åº”ç”¨æ¥è¯´ï¼Œç”±äºç»è¿‡å……åˆ†é¢„çƒ­ï¼Œçƒ­ç‚¹ä»£ç ä¼šè¢«HotSpotçš„æ¢æµ‹æœºåˆ¶å‡†ç¡®å®šä½æ•è·ï¼Œå¹¶å°†å…¶ç¼–è¯‘ä¸ºç‰©ç†ç¡¬ä»¶å¯ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç ï¼Œåœ¨è¿™ç±»åº”ç”¨ä¸­Javaçš„è¿è¡Œæ•ˆç‡å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å–å†³äºå³æ—¶ç¼–è¯‘å™¨æ‰€è¾“å‡ºçš„ä»£ç è´¨é‡ã€‚&lt;/p&gt; 
&lt;p&gt;HotSpotè™šæ‹Ÿæœºä¸­åŒ…å«æœ‰ä¸¤ä¸ªå³æ—¶ç¼–è¯‘å™¨ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;ç¼–è¯‘æ—¶é—´è¾ƒçŸ­ä½†è¾“å‡ºä»£ç ä¼˜åŒ–ç¨‹åº¦è¾ƒä½çš„å®¢æˆ·ç«¯ç¼–è¯‘å™¨ï¼ˆç®€ç§°ä¸ºC1ï¼‰&lt;/li&gt;&lt;li&gt;ç¼–è¯‘è€—æ—¶é•¿ä½†è¾“å‡ºä»£ç ä¼˜åŒ–è´¨é‡ä¹Ÿæ›´é«˜çš„æœåŠ¡ç«¯ç¼–è¯‘å™¨ï¼ˆç®€ç§°ä¸ºC2ï¼‰&lt;/li&gt;&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;é€šå¸¸å®ƒä»¬ä¼šåœ¨åˆ†å±‚ç¼–è¯‘æœºåˆ¶ä¸‹ä¸è§£é‡Šå™¨äº’ç›¸é…åˆæ¥å…±åŒæ„æˆHotSpotè™šæ‹Ÿæœºçš„æ‰§è¡Œå­ç³»ç»Ÿçš„ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;C2_101&quot;/&gt;C2å³æ—¶ç¼–è¯‘å™¨&lt;/h4&gt; 
&lt;p&gt;Graalç¼–è¯‘å™¨æ˜¯ä½œä¸ºC2ç¼–è¯‘å™¨æ›¿ä»£è€…çš„è§’è‰²ç™»åœºçš„ã€‚C2çš„å†å²å·²ç»éå¸¸é•¿äº†ï¼Œå¯ä»¥è¿½æº¯åˆ°Cliff Clickå¤§ç¥è¯»åšå£«æœŸé—´çš„ä½œå“ï¼Œè¿™ä¸ªç”±C++å†™æˆçš„ç¼–è¯‘å™¨å°½ç®¡ç›®å‰ä¾ç„¶æ•ˆæœæ‹”ç¾¤ï¼Œä½†å·²ç»å¤æ‚åˆ°è¿Cliff Clickæœ¬äººéƒ½ä¸æ„¿æ„ç»§ç»­ç»´æŠ¤çš„ç¨‹åº¦ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;Graal_105&quot;/&gt;Graalç¼–è¯‘å™¨&lt;/h4&gt; 
&lt;p&gt;è€ŒGraalç¼–è¯‘å™¨æœ¬èº«å°±æ˜¯ç”±Javaè¯­è¨€å†™æˆï¼Œå®ç°æ—¶åˆåˆ»æ„ä¸C2é‡‡ç”¨äº†åŒä¸€ç§åä¸ºâ€œSea-of-Nodesâ€çš„é«˜çº§ä¸­é—´è¡¨ç¤ºï¼ˆHigh IRï¼‰å½¢å¼ï¼Œä½¿å…¶èƒ½å¤Ÿæ›´å®¹æ˜“å€Ÿé‰´C2çš„ä¼˜ç‚¹ã€‚&lt;/p&gt; 
&lt;p&gt;Graalç¼–è¯‘å™¨æ¯”C2ç¼–è¯‘å™¨æ™šäº†è¶³è¶³äºŒåå¹´é¢ä¸–ï¼Œæœ‰ç€æå…¶å……æ²›çš„åå‘ä¼˜åŠ¿ï¼Œåœ¨ä¿æŒèƒ½è¾“å‡ºç›¸è¿‘è´¨é‡çš„ç¼–è¯‘ä»£ç çš„åŒæ—¶ï¼Œå¼€å‘æ•ˆç‡å’Œæ‰©å±•æ€§ä¸Šéƒ½è¦æ˜¾è‘—ä¼˜äºC2ç¼–è¯‘å™¨ï¼Œè¿™å†³å®šäº†C2ç¼–è¯‘å™¨ä¸­ä¼˜ç§€çš„ä»£ç ä¼˜åŒ–æŠ€æœ¯å¯ä»¥è½»æ˜“åœ°ç§»æ¤åˆ°Graalç¼–è¯‘å™¨ä¸Šï¼Œä½†æ˜¯åè¿‡æ¥Graalç¼–è¯‘å™¨ä¸­è¡Œä¹‹æœ‰æ•ˆçš„ä¼˜åŒ–åœ¨C2ç¼–è¯‘å™¨é‡Œå®ç°èµ·æ¥åˆ™å¼‚å¸¸è‰°éš¾ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;è¿™ç§æƒ…å†µä¸‹ï¼ŒGraalçš„ç¼–è¯‘æ•ˆæœçŸ­çŸ­å‡ å¹´é—´è¿…é€Ÿè¿½å¹³äº†C2ï¼Œç”šè‡³æŸäº›æµ‹è¯•é¡¹ä¸­å¼€å§‹é€æ¸åè¶…C2ç¼–è¯‘å™¨ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;Graalèƒ½å¤Ÿåšæ¯”C2æ›´åŠ å¤æ‚çš„ä¼˜åŒ–ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;â€œéƒ¨åˆ†é€ƒé€¸åˆ†æâ€ï¼ˆPartial Escape Analysisï¼‰&lt;/li&gt;&lt;li&gt;æ¯”C2æ›´å®¹æ˜“ä½¿ç”¨â€œæ¿€è¿›é¢„æµ‹æ€§ä¼˜åŒ–â€ï¼ˆAggressive Speculative Optimizationï¼‰çš„ç­–ç•¥&lt;/li&gt;&lt;li&gt;æ”¯æŒè‡ªå®šä¹‰çš„é¢„æµ‹æ€§å‡è®¾&lt;/li&gt;&lt;/ul&gt; 
&lt;h5&gt;&lt;a id=&quot;_119&quot;/&gt;æœªæ¥å¯æœŸ&lt;/h5&gt; 
&lt;p&gt;Graalç¼–è¯‘å™¨å°šä¸”å¹´å¹¼ï¼Œè¿˜æœªç»è¿‡è¶³å¤Ÿå¤šçš„å®è·µéªŒè¯ï¼Œæ‰€ä»¥ä»ç„¶å¸¦ç€â€œå®éªŒçŠ¶æ€â€çš„æ ‡ç­¾ï¼Œéœ€è¦ç”¨å¼€å…³å‚æ•°å»æ¿€æ´»ï¼Œè¿™è®©ç¬”è€…ä¸ç¦è”æƒ³èµ·JDK 1.3æ—¶ä»£ï¼ŒHotSpotè™šæ‹Ÿæœºåˆšåˆšæ¨ªç©ºå‡ºä¸–æ—¶çš„åœºæ™¯ï¼ŒåŒæ ·ä¹Ÿæ˜¯éœ€è¦ç”¨å¼€å…³æ¿€æ´»ï¼Œä¹Ÿæ˜¯ä½œä¸ºClassicè™šæ‹Ÿæœºçš„æ›¿ä»£å“çš„ä¸€æ®µå†å²ã€‚&lt;/p&gt; 
&lt;p&gt;Graalç¼–è¯‘å™¨æœªæ¥çš„å‰é€”å¯æœŸï¼Œä½œä¸ºJavaè™šæ‹Ÿæœºæ‰§è¡Œä»£ç çš„æœ€æ–°å¼•æ“ï¼Œå®ƒçš„æŒç»­æ”¹è¿›ï¼Œä¼šåŒæ—¶ä¸ºHotSpotä¸Graal VMæ³¨å…¥æ›´å¿«æ›´å¼ºçš„é©±åŠ¨åŠ›ã€‚&lt;/p&gt; 
&lt;h5&gt;&lt;a id=&quot;_125&quot;/&gt;ç¼–è¯‘ä¸ºåŸç”Ÿæ‰§è¡Œç¨‹åº&lt;/h5&gt; 
&lt;p&gt;ç¼–è¯‘ä¸ºåŸç”Ÿç¨‹åºæœ‰ä¸€å®šçš„å‡è®¾æ¡ä»¶ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;å°½é‡å°‘çš„JNIè°ƒç”¨&lt;/li&gt;&lt;li&gt;å°½é‡å°‘çš„ä½¿ç”¨åå°„&lt;/li&gt;&lt;li&gt;å°½é‡å°‘çš„class loaderéš”ç¦»ç­‰&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;å½“æ²¡æœ‰ç”¨è¿™äº›å¤æ‚åŠŸèƒ½çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å¯ä»¥ä½¿ç”¨GraalVMæä¾›çš„ native image ç¼–è¯‘Jarä¸ºå¯æ‰§è¡Œç¨‹åºã€‚&lt;/p&gt; 
&lt;p&gt;å½“ç„¶å³ä½¿å½“ç¨‹åºä½¿ç”¨äº† JNIã€åå°„æ—¶ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›é…ç½®æ–‡ä»¶å‘Šè¯‰GraalVMå•ç‹¬å¤„ç†è¿™äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;é€šè¿‡å‚æ•° -H:JNIConfigurationFiles å‘Šè¯‰JNIç›¸å…³é…ç½®JSONæ–‡ä»¶&lt;/li&gt;&lt;li&gt;é€šè¿‡å‚æ•° -H:ReflectionConfigurationFiles å‘Šè¯‰åå°„ç›¸å…³é…ç½®JSONæ–‡ä»¶&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;ç¨å¾®ä¼šå¤æ‚ä¸€äº›ï¼Œä½†æ˜¯åªè¦æœ‰è¶³å¤Ÿçš„è€å¿ƒï¼Œç†è®ºä¸Šä¹Ÿæ˜¯å¯ä»¥ç¼–è¯‘æˆåŠŸçš„ï¼&lt;/p&gt; 
&lt;p&gt;ä¸è¿‡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›åŸç”Ÿæ”¯æŒGraalVM native imageçš„æ¡†æ¶ï¼Œ æ¯”å¦‚ï¼šQuarkusã€‚&lt;/p&gt; 
&lt;h5&gt;&lt;a id=&quot;GraalVM_Serverless_144&quot;/&gt;GraalVMçš„åŸç”Ÿç¼–è¯‘éå¸¸é€‚åˆå¾®æœåŠ¡å’Œ Serverless&lt;/h5&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;å½“å¯ä»¥æŠŠJavaç¨‹åºä¹Ÿç¼–è¯‘ä¸ºåŸç”Ÿçš„å¯æ‰§è¡Œç¨‹åºå ï¼ˆç›®å‰GraalVMå·²ç»æ”¯æŒç¼–è¯‘ä¸ºWindowsï¼Œ MacOSï¼Œ Linuxä¸Šçš„åŸç”Ÿç¨‹åºï¼‰ï¼Œæœ€ä¸»è¦çš„ä¸¤ä¸ªå˜åŒ–ï¼š&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;å¯åŠ¨æ—¶é—´å˜çŸ­äº†ï¼Œä¹‹å‰å¯åŠ¨ä¸€ä¸ªæœ‰â€œä¾èµ–æ³¨å…¥â€çš„Javaç¨‹åºï¼Œå¯èƒ½å¯åŠ¨æ—¶é—´è¦2ç§’ä»¥ä¸Šã€‚å¦‚æœJavaç¨‹åºæ˜¯è¦é•¿æœŸè¿è¡Œçš„ï¼Œé‚£å¯åŠ¨æ—¶é—´ç¨æ…¢ä¸€ç‚¹æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å¯¹äº Serverless åº”ç”¨ï¼Œè¿™å°±å˜ä¸ºå†·å¯åŠ¨ï¼ˆcold startï¼‰äº†ï¼Œå½±å“æ¯”è¾ƒå¤§ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;ç¨‹åºè¿è¡Œçš„å†…å­˜éœ€æ±‚å˜å°äº†ï¼Œä¹‹å‰å¯åŠ¨ä¸€ä¸ªJavaç¨‹åºï¼Œæ§åˆ¶çš„å¥½çš„è¯ï¼ˆheapè®¾ç½®çš„æ¯”è¾ƒå°ï¼‰ï¼Œä¹Ÿè¦100Mä»¥ä¸Šçš„å†…å­˜ï¼Œä½†æ˜¯ç¼–è¯‘ä¸ºåŸç”Ÿç¨‹åºåï¼Œåªéœ€è¦4Må†…å­˜å°±å¯ä»¥äº†ã€‚ è¿™æ ·åŒæ ·çš„ä¸€å°æœºå™¨å°±å¯ä»¥å¯åŠ¨éå¸¸å¤šçš„è¿›ç¨‹ï¼Œé€‚åˆç®€å•çš„å¾®æœåŠ¡ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;_152&quot;/&gt;å‚è€ƒèµ„æ–™&lt;/h4&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;https://it.deepinmind.com/jvm/2019/08/27/graalvm-ten-things.html&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;https://www.zhihu.com/question/274042223&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;https://www.jianshu.com/p/9e578398b108&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>670f43dc3751cb9eac8f886181973562</guid>
<title>è®°ä¸€æ¬¡è·¨åŸŸé…ç½®å¼•å‘çš„æ€è€ƒ</title>
<link>https://toutiao.io/k/91gckgl</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;ä½œè€…ç®€ä»‹&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;Floraï¼Œæºç¨‹é«˜çº§ç ”å‘ç»ç†ï¼Œå…³æ³¨Node.jsç›¸å…³é¢†åŸŸã€‚&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æœ¬æ–‡ä¸»è¦è®°å½•ä¸€æ¬¡é™æ€èµ„æºæœåŠ¡æºç«™æ›´æ–°äº†è·¨åŸŸç­–ç•¥åï¼Œå¼•å‘çš„å®¢æˆ·ç«¯è·¨åŸŸè¯·æ±‚å¤±è´¥çš„æ¡ˆä¾‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœå¯¹è·¨åŸŸä¸å¤ªç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥é˜…è¯»ä¸€ä¸‹&lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS&quot; textvalue=&quot;MDN HTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰è¿™ç¯‡æ–‡ç« &quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;MDN HTTPè®¿é—®æ§åˆ¶ï¼ˆCORSï¼‰è¿™ç¯‡æ–‡ç« &lt;/a&gt;ã€‚ç›¸å…³æ¦‚å¿µåœ¨æœ¬æ–‡ä¸­å°±ä¸å†åšèµ˜è¿°ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä¸€ã€èƒŒæ™¯å›é¡¾&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸€ä¸ªå‘¨äº”çš„ä¸‹åˆï¼Œæˆ‘ä»¬æ”¶åˆ°äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦è°ƒæ•´ä¸€ä¸‹å“åº”å¤´ä¸­çš„Access-Control-Allow-Originå­—æ®µã€‚è¿™ä¸ªéœ€æ±‚çš„èµ·å› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å…ˆçœ‹ä¸€ä¸‹ç›®å‰çš„æƒ…å†µã€‚é’ˆå¯¹webresourceç«™ç‚¹ï¼ˆåç»­çš†ä»¥è¿™ä¸ªç«™ç‚¹ä½œä¸ºèµ„æºç«™ç‚¹çš„ä»£å·ï¼‰ï¼Œæ— è®ºæ˜¯å¦æ˜¯è·¨åŸŸè¯·æ±‚ï¼Œéƒ½ä¼šè¿”å›è¿™æ ·çš„å¤´éƒ¨ã€‚è§å›¾1ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.955&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fy7D4fzsyOzyggqQppdPRV3S2l8Dv7h6x3Vh92RatKNkcNGBpjlurZIA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;400&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾1 è¯·æ±‚webresourceç«™ç‚¹çš„å“åº”å¤´æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.1 Screenshot of response headers for requesting a webresource site&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;è¿™ä¸ªå“åº”çœ‹ä¸Šå»ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä½†æ˜¯è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šå¦‚æœç”¨æˆ·éœ€è¦åŸºäºHTTP cookieså’ŒHTTPè®¤è¯ä¿¡æ¯å‘é€èº«ä»½å‡­è¯ï¼Œé‚£ä¹ˆå°±éœ€è¦å†å®¢æˆ·ç«¯è®¾ç½®ä¸€ä¸ªç‰¹æ®Šçš„credentialsæ ‡å¿—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨äº†fetchï¼Œé‚£ä¹ˆå°±éœ€è¦æ–°å¢fetchçš„é…ç½®ï¼Œå¦‚å›¾2æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.0924051&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fyt7uA63vljgufnj4g6xU9Zia9q3gdKlcMRCfaygXxIE0tUYKhg6NIQxw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;790&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å›¾2 fetchæ–¹æ³•æ–°å¢credentialsé…ç½®&lt;/p&gt;&lt;p&gt;Fig.2 fetch method adds credentials configuration&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å†å®¢æˆ·ç«¯è°ƒæ•´æˆå¦‚ä¸Šé…ç½®åï¼Œå†æ¬¡è¿è¡Œä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œè§å›¾3ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;â€œAccess to fetch at&lt;/p&gt;&lt;p&gt;&#x27;https://webresource.c-ctrip.com/ResUnionOnline/R1/common/marinRedirect.js?v=20220903&#x27;&lt;/p&gt;&lt;p&gt;from origin &#x27;https://www.ctrip.com&#x27; has been blocked by CORS policy: The value of the &#x27;Access-Control-Allow-Origin&#x27; header in the response must not be the wildcard &#x27;*&#x27; when the request&#x27;s credentials mode is &#x27;include&#x27;.â€&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1247059&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fy5xzOfKh8sTtzCzaqicP93o4al0FQYlvVaBFKdtXKOESc9L1ChiaDSicHw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;850&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾3 è¯·æ±‚å‡ºé”™æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.3 Screenshot of request error&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;é€šè¿‡ç¿»é˜…è¿™ç¯‡æ–‡ç« (&lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS&quot; textvalue=&quot;Reason: Credential is not supported if the CORS header â€˜Access-Control-Allow-Originâ€™ is â€˜*&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;Reason: Credential is not supported if the CORS header â€˜Access-Control-Allow-Originâ€™ is â€˜*&lt;/a&gt;â€™)ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è§£ç­”ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;â€œ&lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS&quot; textvalue=&quot;CORS&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;CORS&lt;/a&gt;Â è¯·æ±‚å‘å‡ºæ—¶ï¼Œå·²ç»è®¾å®šäº† credentialsï¼Œä½†æœåŠ¡ç«¯é…ç½®äº† http å“åº”é¦–éƒ¨Â &lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS&quot; textvalue=&quot;Access-Control-Allow-OriginÂ &quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;Access-Control-Allow-OriginÂ &lt;/a&gt;çš„å€¼ä¸ºé€šé…ç¬¦ (&quot;*&quot;) ï¼Œè€Œè¿™ä¸ä½¿ç”¨ credentials ç›¸æ‚–ã€‚â€&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ï¼Œè¿™æ‰å›åˆ°äº†æœ¬èŠ‚ä¸€å¼€å§‹æˆ‘ä»¬éœ€è¦åšçš„ä¸€ä¸ªè°ƒæ•´ï¼Œå°†åŸå…ˆçš„Access-Control-Allow-Originè®¾ç½®ä¸ºå…·ä½“çš„originå€¼ï¼Œè€Œé * æ˜Ÿå·ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å†æ¬¡è°ƒæ•´ä¹‹åï¼ŒæœåŠ¡çš„å“åº”å¤´æ›´æ–°ä¸ºå›¾4æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8585859&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3FyZ2NA3c9S8aTHawx7jwPiauBsRTxj4TEA8P0zPuLGGpiaSfQ5jFmyAwhw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;396&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾4 è¯·æ±‚webresourceç«™ç‚¹çš„å“åº”å¤´æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.4 Screenshot of response headers for requesting a webresource site&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;äºŒã€æ•…éšœç°åœº&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‘¨äº”ä»£ç è°ƒæ•´å¥½ï¼Œèµ„æºæºç«™æœåŠ¡çš„å•å…ƒæµ‹è¯•è·‘é€šï¼Œå‘&lt;/span&gt;&lt;span&gt;å¸ƒåˆ°é‡‘ä¸é›€æµ‹è¯•ï¼Œ&lt;/span&gt;&lt;span&gt;ç”¨æˆ·ä¹Ÿåé¦ˆä¸æŠ¥é”™äº†ï¼Œå˜æ›´æ­£å¼å‘å¸ƒã€‚ç›‘æ§çœ‹æ¿ä¸€åˆ‡æ­£å¸¸ï¼Œå°±æ„‰å¿«çš„å›å®¶è¿‡å‘¨æœ«äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‘¨å…­ä¸Šåˆçªç„¶æœ‰å¼€å‘åŒå­¦æˆªäº†ä¸€å¼ å›¾ç»™æˆ‘ï¼Œè¯´ä»–ä»¬çš„åº”ç”¨æŠ¥é”™äº†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.4671875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1eqznWPRyN5VaUjgkUVt1cgX7BIKF5poaxniaiahOxXe6opY7fHTwngrTWMH5dwO5Apmic1F9MJPKC9Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å›¾5 åœ¨çº¿æ•…éšœæˆªå›¾&lt;/p&gt;&lt;p&gt;Fig.5 Screenshot of online fault&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç”¨æˆ·åœ¨&lt;a target=&quot;_blank&quot; href=&quot;https://ebooking.ctrip.com/login/index?targetPath=%2Febkovsassembly%2Fdefault.html&quot; textvalue=&quot;https://ebooking.ctrip.com&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;https://ebooking.ctrip.com&lt;/a&gt;Â è®¿é—®äº†ä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯è¿™ä¸ªèµ„æºå“åº”çš„Access-Control-Allow-Originçš„å¤´æ˜¯Â &lt;a target=&quot;_blank&quot; href=&quot;https://flights.ctrip.com/online/channel/domestic&quot; textvalue=&quot; https://flights.ctrip.com&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;https://flights.ctrip.com&lt;/a&gt;Â ã€‚æˆ‘å»è®¿é—®äº†è¿™ä¸ªé¡µé¢ï¼Œå¹¶æœªå‘ç°æ­¤ç±»æŠ¥æŠ¥é”™ã€‚å›è®¿äº†ä¸€äº›ç”¨æˆ·ï¼Œä¹Ÿè®©åŒäº‹ä¸€èµ·å°è¯•è®¿é—®ï¼Œå¾—åˆ°çš„åé¦ˆæ˜¯ä¸€éƒ¨åˆ†å®¢æˆ·ç«¯æŠ¥é”™ï¼Œä¸€éƒ¨åˆ†å®¢æˆ·ç«¯æ­£å¸¸ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä¸‰ã€åŸå› åˆ†æ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å½“æ—¶æˆ‘ä»¬çš„ç¬¬ä¸€ååº”å°±æ˜¯å†æ¬¡æ£€æŸ¥æºç«™çš„é€»è¾‘æ›´æ”¹ï¼Œå‘ç°æºç«™çš„Access-Control-Allow-Originçš„é…ç½®ä»£ç æ— å¼‚å¸¸ï¼Œç»å¯¹ä¸ä¼šå°†Access-Control-Allow-Originçš„å€¼ originè®¾ç½®é”™è¯¯ã€‚å†æ¬¡ç»“åˆåé¦ˆçš„æƒ…å†µï¼Œæ˜¯éƒ¨åˆ†ç”¨æˆ·ä¼šæŠ¥é”™ï¼Œå¼€å§‹å°†æ’éšœæ–¹å‘è½¬å‘CDN(Content Delivery Network)ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœå¯¹CDNä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥é˜…è¯»&lt;a target=&quot;_blank&quot; href=&quot;https://en.wikipedia.org/wiki/Content_delivery_network&quot; textvalue=&quot;wikipedia CDN&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;wikipedia CDN&lt;/a&gt;æˆ–è€…&lt;a target=&quot;_blank&quot; href=&quot;https://www.akamai.com/our-thinking/cdn/what-is-a-cdn&quot; textvalue=&quot;What is a CDN (Content Delivery Network)?&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;What is a CDN (Content Delivery Network)?&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;é¦–å…ˆçœ‹è¿™å¼ ç®€åŒ–çš„CDNç»“æ„å›¾ï¼ˆå›¾6ï¼‰ã€‚ç›®å‰é’ˆå¯¹webresourceç«™ç‚¹æœ‰ä¸‰å®¶CDNä¾›åº”å•†ï¼Œæˆ‘ä»¬å°†ä»–ä»¬ç§°ä¸ºï¼šBä¾›åº”å•†ã€Wä¾›åº”å•†å’ŒAä¾›åº”å•†ã€‚å…¶ä¸­Bå’ŒWä¾›åº”å•†ä¸ºå›½å†…ç”¨æˆ·æä¾›æœåŠ¡ï¼Œä»–ä»¬çš„æµé‡é…æ¯”åˆ†åˆ«æ˜¯50%å’Œ50%ï¼›Aä¾›åº”å•†ä¸ºæµ·å¤–ç”¨æˆ·æä¾›æœåŠ¡ï¼Œä»–çš„æµé‡é…æ¯”æ˜¯100%ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å½“ä¸€ä¸ªå›½å†…ç”¨æˆ·è¯·æ±‚æŸä¸ªwebresourceç«™ç‚¹çš„èµ„æºæ—¶ï¼Œä»–æœ‰å¯èƒ½ä¼šè¢«åˆ†é…åˆ°Bã€æœ‰å¯èƒ½åˆ†é…åˆ°Wã€‚Bæˆ–è€…Wéƒ½ä¼šæœ‰æ¦‚ç‡ï¼ˆå¦‚æœCDNèŠ‚ç‚¹å‘½ä¸­å¤±è´¥çš„è¯ï¼‰ï¼Œå°±ä¼šè¯·æ±‚åˆ°èµ„æºæºç«™æœåŠ¡ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7763975&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3FyFagNKIDZBj3BGvtk9PRUAmCf4eUH90xtcXxMvFGabY33vWhEiaRhvFg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;966&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾6 ç®€åŒ–çš„CDNç»“æ„å›¾&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.6 Simplified CDN Structure Diagram&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç”±äºå®¢æˆ·ç«¯çš„åé¦ˆæ˜¯éƒ¨åˆ†æ­£ç¡®éƒ¨åˆ†å¼‚å¸¸ï¼Œæ‰€ä»¥æ¨æµ‹æ˜¯CDNä¾›åº”å•†å¯èƒ½æŸä¸€å®¶æœ‰å¼‚å¸¸æˆ–è€…æŸä¸ªèŠ‚ç‚¹æœ‰å¼‚å¸¸ã€‚äºæ˜¯å†æ¬¡ç»‘å®šBä¾›åº”å•†å’ŒWä¾›åº”å•†çš„æœåŠ¡å™¨èŠ‚ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œå‡è®¾ç½®è¯·æ±‚å¤´ä¸­çš„Originä¸º&lt;a target=&quot;_blank&quot; href=&quot;https://ebooking.ctrip.com/login/index?targetPath=%2Febkovsassembly%2Fdefault.html&quot; textvalue=&quot;https://ebooking.ctrip.com&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;https://ebooking.ctrip.com&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¾—åˆ°äº†å¦‚ä¸‹çš„ç»“æœï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;1ï¼‰Bä¾›åº”å•†å“åº”çš„å†…å®¹å’Œæºç«™å“åº”çš„å†…å®¹ä¿æŒä¸€è‡´ï¼Œå¦‚å›¾7æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8318182&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3FyGuRRZ3XLsbxC4pnj17LOCZBlAKeicbhuicCkox1gH7u0tVQZ6d9lHzew/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;440&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾7 Bä¾›åº”å•†çš„å“åº”ä½“æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.7 Screenshot of response body for B supplier&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2ï¼‰Wä¾›åº”å•†å“åº”çš„å†…å®¹ä¸æºç«™æœ‰2ä¸ªå“åº”å¤´ä¸ä¸€è‡´ï¼Œå¦‚å›¾8æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7181373&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fyic6yvt7zicVoFiagib7W0QB4E7iaHzNUf9I7CiaR3f6a1UIcficfFeyN188gA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;408&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾8 Wä¾›åº”å•†çš„å“åº”ä½“æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.8 Screenshot of response body for W supplier&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªä¸ä¸€è‡´æ˜¯Access-Control-Allow-Originä¸æ˜¯æºç«™ï¼Œç¬¬äºŒä¸ªä¸ä¸€è‡´æ˜¯ç¼ºå°‘äº†Varyçš„å¤´éƒ¨ã€‚ç»†å¿ƒçš„åŒå­¦é€šè¿‡â€œå›¾4 è¯·æ±‚webresourceç«™ç‚¹çš„å“åº”å¤´æˆªå›¾â€ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæºç«™æ˜¯æœ‰è®¾ç½®Varyå¤´éƒ¨ä¸ºâ€œOrigin, Accept-Encodingâ€ï¼Œè§å›¾9ã€‚è¦çŸ¥é“ï¼Œä¸€æ—¦ç¼ºå°‘äº†è¿™ä¸ªå¤´éƒ¨ï¼Œå°±æ— æ³•æ ‡è¯†è¦åŸºäºOriginåšåå•†ç¼“å­˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¯¹Varyä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥å‚çœ‹&lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Vary&quot; textvalue=&quot;HTTP Vary&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;HTTP Vary&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;â€œVary æ˜¯ä¸€ä¸ª HTTP å“åº”å¤´éƒ¨ä¿¡æ¯ï¼Œå®ƒå†³å®šäº†å¯¹äºæœªæ¥çš„ä¸€ä¸ªè¯·æ±‚å¤´ï¼Œåº”è¯¥ç”¨ä¸€ä¸ªç¼“å­˜çš„å›å¤ (response) è¿˜æ˜¯å‘æºæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªæ–°çš„å›å¤ã€‚å®ƒè¢«æœåŠ¡å™¨ç”¨æ¥è¡¨æ˜åœ¨Â &lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Content_negotiation&quot; textvalue=&quot;content negotiation&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;content negotiation&lt;/a&gt;Â algorithmï¼ˆå†…å®¹åå•†ç®—æ³•ï¼‰ä¸­é€‰æ‹©ä¸€ä¸ªèµ„æºä»£è¡¨çš„æ—¶å€™åº”è¯¥ä½¿ç”¨å“ªäº›å¤´éƒ¨ä¿¡æ¯ï¼ˆheadersï¼‰.â€&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœVaryå­—æ®µä¸­æœ‰Originï¼Œé‚£ä¹ˆç®€å•ç†è§£å¯ä»¥æ˜¯åŸºäºOrigin+URLåšç¼“å­˜ã€‚å½“Originä¸ä¸€æ ·çš„æ—¶å€™ï¼Œå°±éœ€è¦åšå¤´éƒ¨ä¿¡æ¯çš„æ›´æ–°ã€‚åŒç†ï¼Œæ¯”å¦‚ä¸€äº›ç‰¹æ®Šæ–‡ä»¶polyfillï¼Œæ˜¯éœ€è¦åŸºäºæµè§ˆå™¨åšä¸€äº›å¤„ç†çš„ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¾ç½®å°†User-Agentè®¾ç½®åˆ°Varyä¸­ï¼Œè¿™æ ·å°±ä¼šé’ˆå¯¹åŒä¸€ä¸ªæ–‡ä»¶ï¼ŒåŸºäºUser-Agentåšç¼“å­˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9370629&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3FyDTGRZvLOSYWFWHzQFPaee20yldh3icOEUYzSa8rARPtJmw0PyKSylJg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;429&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾9 è¯·æ±‚webresourceç«™ç‚¹çš„å“åº”å¤´æˆªå›¾&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.9 Screenshot of response headers for requesting a webresource site&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;è‡³æ­¤é—®é¢˜åŸºæœ¬å®šä½åˆ°ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å½“ä¸¤ä¸ªä¸åŒçš„Originï¼ˆä¸»ç«™ç‚¹ï¼‰è·¨åŸŸè¯·æ±‚åŒä¸€ä¸ªèµ„æºçš„æ—¶å€™ï¼Œç”±äºWä¾›åº”å•†å¹¶æ²¡æœ‰æ ¹æ®èµ„æºæœåŠ¡è¿”å›çš„å“åº”ï¼Œæ­£ç¡®é…ç½®CDNç¼“å­˜å¤´éƒ¨ï¼Œè¿™æ ·ä¼šå¯¼è‡´è¿”å›çš„Access-Control-Allow-Originå€¼é”™ä¹±ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å››ã€æ•…éšœè§£å†³&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è§£å†³åœ¨çº¿æ•…éšœç¬¬ä¸€è¦ç´ æ˜¯å¿«é€Ÿå“åº”ã€‚æ‰€ä»¥æˆ‘ä»¬å°†å›½å†…CDNé…æ¯”ä»åŸå…ˆçš„å„50%ï¼Œæ›´æ”¹æˆBä¾›åº”å•†100%ï¼Œä¿è¯å®¢æˆ·ç«¯çš„å“åº”æ­£å¸¸ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æ¥ç€è”ç³»Wä¾›åº”å•†ï¼Œå½“æˆ‘ä»¬è®¤ä¸ºæ˜¯ä¾›åº”å•†çš„ä¸€ä¸ªä¸¥é‡çš„bugæ—¶ï¼Œä¾›åº”å•†çš„ç­”å¤æ˜¯ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;â‘ è¯·æ±‚Origin: http://ebooking.ctrip.com ç¼“å­˜ä¸‹æ¥åï¼ˆå…¶å¯¹åº”çš„Etagä¸ºW/&quot;D96CF9DBB3B578CC1721941E799BE22D&quot;ï¼‰ï¼Œç”±äºæºç«™å“åº”äº†Vary: origin, accept-encodingï¼Œèµ°å…¥åˆ°äº†Varyç¼“å­˜çš„é€»è¾‘ä¸­ï¼›&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;â‘¡å†è¯·æ±‚Origin: http://a.ctrip.comï¼Œç”±äºèµ°å…¥åˆ°Varyç¼“å­˜çš„é€»è¾‘ï¼Œä¸”VaryDataæ²¡æœ‰åŒ¹é…åˆ°http://a.ctrip.comï¼Œåˆ™èµ°å…¥åˆ°Vary missçš„é€»è¾‘ä¸­ï¼Œmisså›ä¸Šå±‚çš„æ—¶å€™å¸¦äº†If-None-Match: W/&quot;D96CF9DBB3B578CC1721941E799BE22D&quot;ï¼Œæ­¤æ¬¡å›ä¸Šå±‚å¸¦çš„Originæ˜¯http://a.ctrip.comï¼Œä½†ç”±äºå¸¦äº†If-None-Matchï¼Œä¸”æºç«™ä¸åŒOriginçš„Etagå€¼æ˜¯ç›¸åŒçš„ã€‚æ‰€ä»¥å“åº”äº†304ï¼Œè¿™æ—¶å€™å°±ä¼šç›´æ¥å¤ç”¨Origin: http://ebooking.ctrip.comçš„å“åº”äº†ï¼Œä¹Ÿå°±ä¼šç”¨åˆ°Origin: http://ebooking.ctrip.comå“åº”çš„Access-Control-Allow-Originå¤´éƒ¨äº†â€&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿™é‡ŒWä¾›åº”å•†è¿™é‡Œæœ‰ä¸€ä¸ªè‡´å‘½çš„é€»è¾‘é”™è¯¯ï¼šå½“ç”¨If-None-Matchè¯·æ±‚æºç«™æ—¶ï¼Œæºç«™è¿”å›äº†304ã€‚è¿™ä»£è¡¨bodyæ²¡æœ‰æ”¹å˜ï¼Œä½†åŒæ—¶æºç«™è¿”å›äº†æ­£ç¡®çš„Access-Control-Allow-Originçš„å¤´ç»™åˆ°CDNã€‚ç„¶è€ŒCDNå¹¶æ²¡æœ‰æ›¿æ¢æºç«™ç»™åˆ°çš„å¤´ï¼Œè€Œæ˜¯ç›´æ¥è¯»å–ä¸€ä¸ªç¼“å­˜ä¸­é”™è¯¯çš„å¤´ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è™½ç„¶æˆ‘ä»¬æºç«™éµå¾ªäº†HTTPçš„æ ‡å‡†ï¼Œä½†æ˜¯CDNæ²¡æœ‰éµå¾ªï¼Œå¯¼è‡´è¿”å›ç»™ç”¨æˆ·çš„å“åº”å¤´å‡ºé”™äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.258794&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fy2VgnibqztiaiaWlgvPGsibXGGp4JCK9L8trTpxOMiaqxxKgJ3nwUGjqOgmg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;796&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å›¾10 304è¯·æ±‚ä¹Ÿéœ€è¦å“åº”Varyå¤´&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Fig.10 304 requests also need to respond to the Vary header&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p powered-by=&quot;xiumi.us&quot;&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç»è¿‡ä¸€ç•ªæ²Ÿé€šï¼ŒWä¾›åº”å•†ç­”åº”å¯ä»¥å°†è¿™ä¸ªé€»è¾‘åšä¸€ä¸ªé…ç½®ï¼Œè§„é¿å‡ºé”™çš„é—®é¢˜ã€‚ä½†æ˜¯éœ€è¦æŒ‰ç…§èµ„æºåŸŸåé€ä¸€é…ç½®ï¼Œä¹Ÿå°±æ˜¯é…ç½®ç™½åå•çš„æ–¹å¼ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æ‰€ä»¥æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯ç»™åˆ°Wä¾›åº”å•†ä¸€æ‰¹èµ„æºåŸŸååˆ—è¡¨ï¼Œè®©ä¾›åº”å•†åšæ‰‹åŠ¨é…ç½®ã€‚ä¸”éœ€è¦è®°ä½æ¯ä¸€æ¬¡æ–°å¢ä¸€ä¸ªèµ„æºåŸŸåéƒ½è¦åŒæ­¥åˆ°Wä¾›åº”å•†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;äº”ã€ç»éªŒæ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ç»è¿‡è¿™æ¬¡çš„æ•…éšœï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹æ€»ç»“ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1ï¼‰æµ‹è¯•å®Œæ•´æ€§&lt;/strong&gt;ï¼šèµ„æºæºç«™ç«™ç‚¹çš„æ¯æ¬¡æ›´æ–°å‘å¸ƒï¼Œé™¤äº†éœ€è¦éªŒè¯è‡ªèº«åº”ç”¨çš„æ­£ç¡®æ€§ï¼Œä¹Ÿéœ€è¦å°†æ¯ä¸ª&lt;strong&gt;CDN&lt;/strong&gt;ä¾›åº”å•†è¿›è¡Œé€ä¸€çš„é›†æˆæµ‹è¯•ã€‚å› ä¸ºä¸çŸ¥é“å“ªä¸€ä¸ªç¯èŠ‚æˆ–è€…å“ªä¸ªé…ç½®å¯èƒ½ä¼šè¸©åˆ°å‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2ï¼‰å¼€å‘æ ‡å‡†æ€§ï¼š&lt;/strong&gt;æ— è®ºæˆ‘ä»¬çš„ä¸Šæ¸¸æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Œèµ„æºæºç«™æœåŠ¡çš„å¼€å‘ä¸€å®šè¦éµå¾ª&lt;strong&gt;HTTP&lt;/strong&gt;æ ‡å‡†ã€‚åªæœ‰å‚ç…§æ ‡å‡†ï¼Œæ‰èƒ½è¿›è¡Œæœ‰ç§©åºçš„æ²»ç†ã€‚&lt;a target=&quot;_blank&quot; href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP&quot; textvalue=&quot;HTTP&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;HTTP&lt;/a&gt;æ˜¯ä¸€ä»½éœ€è¦ç»å¸¸æ‹¿æ¥é˜…è¯»çš„æ–‡æ¡£ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3ï¼‰èµ„æºçš„å”¯ä¸€æ€§ï¼š&lt;/strong&gt;åœ¨å¼•ç”¨é™æ€èµ„æºæ—¶ï¼Œå°½é‡ä¿è¯èµ„æºURLçš„å”¯ä¸€æ€§ï¼Œä¾‹å¦‚å¯ä»¥ç”¨md5æ¥æ ‡è¯†æ–‡ä»¶ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œå½“è¿™ä¸ªèµ„æºå‡ºç°ä¸€äº›ä¸å¯é¢„æœŸçš„æ•…éšœæ—¶ï¼Œå¯ä»¥åŠæ—¶å‡çº§æ–‡ä»¶æ¥è¾¾åˆ°å¿«é€Ÿåˆ·æ–°å®¢æˆ·ç«¯è¯·æ±‚å†…å®¹çš„æ•ˆæœï¼Œè€Œä¸æ˜¯ä¾é ç¼“å­˜æ¸…ç†å·¥å…·ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸€æ–¹é¢æ˜¯å› ä¸ºæ¯ä¸ªCDNä¾›åº”å•†purgeï¼ˆæ¸…ç†ç¼“å­˜ï¼‰çš„æœºåˆ¶ä¸ä¸€æ ·ï¼Œè€Œä¸”æ²¡æœ‰ä¸€ä¸ªæ²»ç†å·¥å…·å¯ä»¥è·æ‚‰æ˜¯å¦æ¯ä¸ªCDNèŠ‚ç‚¹çš„ç¼“å­˜æ­£ç¡®purgeäº†ã€‚æˆ‘æƒ³ä¹Ÿè®¸â€œç¼“å­˜æ¸…ç†æˆåŠŸç‡â€è¿™ä¸ªæŒ‡æ ‡å¹¶æœªå†™åˆ°CDNä¾›åº”å•†çš„äº¤ä»˜æŒ‡æ ‡ä¸­ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¦ä¸€ä¸ªæ–¹é¢æ˜¯è¿˜æœ‰ä¸€äº›æœªå¯çŸ¥çš„ç¼“å­˜èŠ‚ç‚¹ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯çš„ç¼“å­˜ï¼Œåˆä¾‹å¦‚åœ¨æŸä¸ªé…’åº—å†…éƒ¨ä½¿ç”¨çš„ç³»ç»Ÿï¼Œæœ‰å¯èƒ½é…’åº—å†…éƒ¨ç½‘ç»œå­˜åœ¨ç¼“å­˜ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬æ›¾ç»å‘ç”Ÿè¿‡æ— è®ºå¦‚ä½•æ‰§è¡ŒCDNä¾§çš„ç¼“å­˜æ¸…ç†è„šæœ¬ï¼Œå®¢æˆ·ç«¯éƒ½æ— æ³•æ‹¿åˆ°æ–°çš„èµ„æºã€‚ä¸CDNä¾›åº”å•†æ’æŸ¥äº†è®¸ä¹…æœªæœï¼Œæœ€ç»ˆè¿«ä¸å¾—å·²è¿˜æ˜¯ä¿®æ”¹äº†å¼•ç”¨çš„URLåœ°å€ï¼ˆä¾‹å¦‚åŠ ä¸€ä¸ªqueryå­—æ®µï¼Œè™½ç„¶ä¸ä¼˜é›…ï¼Œä½†è‡³å°‘èƒ½æš‚æ—¶è§£å†³é—®é¢˜ï¼‰ã€‚æ‰€ä»¥ä¿è¯èµ„æºçš„å”¯ä¸€æ€§è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åè¿˜æƒ³è¯´ä¸€å¥ï¼Œå¦‚æœå¯ä»¥å®ç°ç»Ÿä¸€å„CDNä¾›åº”å•†çš„æ ‡å‡†ï¼Œé‚£è¯¥æ˜¯ä»¶å¤šä¹ˆç¾å¥½çš„äº‹æƒ…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å†ç»è¿‡ä¸€ç•ªæ·±å…¥äº†è§£åçŸ¥æ‚‰ï¼ŒæŸäº›CDNä¾›åº”å•†çš„è®¾è®¡åˆè¡·æ˜¯ç›´æ¥å¯¹æ¥å­˜å‚¨ï¼Œè€Œéä¸€ä¸ªé™æ€æºç«™æœåŠ¡ã€‚è€Œä¸€äº›å¤´éƒ¨çš„é…ç½®æ˜¯ç›´æ¥æ”¾åœ¨CDNä¾›åº”å•†çš„æ§åˆ¶é¢æ¿ä¸­åšé…ç½®ã€‚ä¾‹å¦‚é»˜è®¤ä¸ä¼šå¼€å¯Varyè¿™äº›çš„é…ç½®ï¼Œæ˜¯ä¸ºäº†æå‡ç¼“å­˜æ•ˆç‡ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ã€æ¨èé˜…è¯»ã€‘&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/kEeDgfCVf1dCMcvI6oZNTERLqrFDw3Fyv9EKQWk0MWMdBibj8E0BgakPSnD3icB5swqqyOLypD82PDjvBRWvCEHQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â â€œæºç¨‹æŠ€æœ¯â€å…¬ä¼—å·&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Â  åˆ†äº«ï¼Œäº¤æµï¼Œæˆé•¿&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c6c318a230c276d2393bfa200ee4dd6f</guid>
<title>èŠä¸€èŠè´£ä»»é“¾æ¨¡å¼</title>
<link>https://toutiao.io/k/zqs36e9</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;blockquote&gt;&lt;p&gt;å°†ä¸€å †â€œäº‹æƒ…â€ä¸²è”åœ¨ä¸€èµ·ï¼Œæœ‰åºæ‰§è¡Œï¼Œå°±å«è´£ä»»é“¾&lt;/p&gt;&lt;/blockquote&gt;&lt;h1&gt;&lt;span&gt;ä¸€ã€æ¦‚è¿°&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯å°†é“¾ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çœ‹ä½œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¤„ç†çš„è¯·æ±‚å‡ä¸åŒï¼Œä¸”å†…éƒ¨è‡ªåŠ¨ç»´æŠ¤ä¸€ä¸ªä¸‹ä¸€èŠ‚ç‚¹å¯¹è±¡ã€‚å½“ä¸€ä¸ªè¯·æ±‚ä»é“¾å¼çš„é¦–ç«¯å‘å‡ºæ—¶ï¼Œä¼šæ²¿ç€é“¾çš„è·¯å¾„ä¾æ¬¡ä¼ é€’ç»™æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯¹è±¡ï¼Œç›´è‡³æœ‰å¯¹è±¡å¤„ç†è¿™ä¸ªè¯·æ±‚ä¸ºæ­¢ï¼Œå±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚ä¸‹é¢æ”¾ä¸€å¼ è¶³çƒæ¯”èµ›çš„å›¾ï¼Œé€šè¿‡å±‚å±‚ä¼ é€’ï¼Œæœ€ç»ˆå°„é—¨ã€‚é€šè¿‡è¿™å¼ å›¾ï¼Œå¯ä»¥æ›´å¥½çš„ç†è§£è´£ä»»é“¾æ¨¡å¼ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.7519788918205804&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvBlr3yRHvpklXExpKib024nDVremG3w8A3Ot7CQHG7dwP0Dy0fsALyEoYiaZjJmCom2NG0PtKQXErBQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1137&quot;/&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;äºŒã€å…¥é—¨æ¡ˆä¾‹&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;2.1 ç±»å›¾&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.57265625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvBlr3yRHvpklXExpKib024nDN1o3icuB50pTQ9Q3EP4PTkFlg3qZuS3RKSZtzdXjxFa5cYicl5839bKg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;2.2 åŸºç¡€ç±»ä»‹ç»&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æŠ½è±¡æ¥å£RequestHandler&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 13:41&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;interface&lt;/span&gt;Â &lt;span&gt;RequestHandler&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doHandler&lt;/span&gt;&lt;span&gt;(StringÂ req)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;æŠ½è±¡ç±»BaseRequestHandler&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 13:45&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;abstract&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;BaseRequestHandler&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;RequestHandler&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;protected&lt;/span&gt;Â RequestHandlerÂ next;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;next&lt;/span&gt;&lt;span&gt;(RequestHandlerÂ next)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.nextÂ =Â next;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;å…·ä½“å¤„ç†ç±»AHandler&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 14:00&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;AHandler&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;BaseRequestHandler&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doHandler&lt;/span&gt;&lt;span&gt;(StringÂ req)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â å¤„ç†è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;Aä¸­å¤„ç†è‡ªå·±çš„é€»è¾‘&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ä¼ é€’ç»™ä¸‹ä¸ªç±»ï¼ˆè‹¥é“¾è·¯ä¸­è¿˜æœ‰ä¸‹ä¸ªå¤„ç†ç±»ï¼‰&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (nextÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â next.doHandler(req);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;em&gt;å½“ç„¶è¿˜æœ‰å…·ä½“çš„å¤„ç†ç±»Bã€Cç­‰ç­‰ï¼Œè¿™é‡Œä¸å±•å¼€èµ˜è¿°ã€‚&lt;/em&gt;Â &lt;strong&gt;ä½¿ç”¨ç±»Client&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 14:06&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Client&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â BaseRequestHandlerÂ aÂ =Â &lt;span&gt;new&lt;/span&gt;Â AHandler();&lt;br/&gt;Â Â Â Â Â Â Â Â BaseRequestHandlerÂ bÂ =Â &lt;span&gt;new&lt;/span&gt;Â BHandler();&lt;br/&gt;Â Â Â Â Â Â Â Â BaseRequestHandlerÂ cÂ =Â &lt;span&gt;new&lt;/span&gt;Â CHandler();&lt;br/&gt;Â Â Â Â Â Â Â Â a.next(b);&lt;br/&gt;Â Â Â Â Â Â Â Â b.next(c);&lt;br/&gt;Â Â Â Â Â Â Â Â a.doHandler(&lt;span&gt;&quot;é“¾è·¯å¾…å¤„ç†çš„æ•°æ®&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;span&gt;2.3 å¤„ç†æµç¨‹å›¾&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.32592592592592595&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvBlr3yRHvpklXExpKib024nDbBUibjYzr3gI6MrANG1QGBg9tD9zdzB3o5UqRd1tD8701t51XEjq4fA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;ä¸‰ã€åº”ç”¨åœºæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;3.1 åœºæ™¯ä¸¾ä¾‹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;åœºæ™¯ä¸€&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;å‰ä¸¤å¹´ï¼Œåœ¨ä¸€å®¶é‡‘èå…¬å¸å¾…è¿‡ä¸€æ®µæ—¶é—´ï¼Œå…¶ä¸­å°±æœ‰ä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼šä¸€ç¬”è®¢å•è¿›æ¥ï¼Œä¼šå…ˆåœ¨åå°é€šè¿‡åˆå®¡äººå‘˜è¿›è¡Œå®¡æ‰¹ï¼Œåˆå®¡ä¸é€šè¿‡ï¼Œè®¢å•æµç¨‹ç»“æŸã€‚åˆå®¡é€šè¿‡ä»¥åï¼Œä¼šè½¬ç»™ç»ˆå®¡äººå‘˜è¿›è¡Œå®¡æ‰¹ï¼Œä¸é€šè¿‡ï¼Œæµç¨‹ç»“æŸï¼›é€šè¿‡ï¼Œæµè½¬åˆ°ä¸‹ä¸ªä¸šåŠ¡åœºæ™¯ã€‚å¯¹äºè¿™å—ä¸šåŠ¡ä»£ç ï¼Œä¹‹å‰ä¸€ä»£ç›®æ˜¯ä¸€ä¸ªå«çŸ¥äº†çš„åŒäº‹ï¼Œä»–æ’¸èµ·è¢–å­å°±æ˜¯å¹²ï¼Œä¸€å¥—if-elseå¹²åˆ°åº•ã€‚åæ¥ï¼ŒæŠ€æœ¯è€å¤§CodeReviewï¼Œç‚¹åè¦æ±‚æ”¹æ‰è¿™å—ã€‚äºæ˜¯ä¹ï¼Œæƒ³åˆ°ç”¨ç”¨è®¾è®¡æ¨¡å¼å§ï¼Œç„¶åå°±å™¼é‡Œå•ªå•¦ä¸€é¡¿æ”¹ã€‚ï¼ˆå½“ç„¶ï¼Œæ¯”è¾ƒå¤æ‚çš„æƒ…å†µï¼Œè¿˜æ˜¯å¯ä»¥ç”¨å·¥ä½œæµæ¥å¤„ç†è¿™ä¸ªåœºæ™¯ï¼Œå½“æ—¶ç¢äºæ—¶é—´æˆæœ¬ï¼Œä¹Ÿå°±æ”¾å¼ƒäº†ï¼‰ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;åœºæ™¯äºŒ&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;ä¸Šå®¶å…¬å¸å¯¹æ¥ç”²æ–¹çˆ¸çˆ¸çš„æ—¶å€™ï¼Œå¯¹æ–¹ä¼šè°ƒç”¨æˆ‘ä»¬æ¥å£ï¼Œå°†æ•°æ®åŒæ­¥è¿‡æ¥ã€‚åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦å°†å¤„ç†å¥½çš„æ•°æ®ï¼Œä¼ ç»™ä»–ä»¬ã€‚ç”±äºåŒæ–¹ä¼ è¾“æ•°æ®éƒ½æ˜¯åŠ å¯†ä¼ è¾“ï¼Œæ‰€ä»¥åœ¨æ¥å—ä»–ä»¬æ•°æ®ä¹‹å‰ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œè§£å¯†ï¼ŒéªŒç­¾ï¼Œå‚æ•°æ ¡éªŒç­‰æ“ä½œã€‚åŒæ ·ï¼Œæˆ‘ä»¬ç»™ä»–ä»¬ä¼ æ•°æ®ä¹Ÿéœ€è¦è¿›è¡ŒåŠ ç­¾ï¼ŒåŠ å¯†æ“ä½œã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;å…·ä½“æ¡ˆä¾‹&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;è¯ä¸å¤šè¯´ï¼Œå¯¹äºåœºæ™¯äºŒï¼Œæˆ‘æ¥æ”¾ä¸€äº›ä¼ªä»£ç ï¼Œè·Ÿå¤§å®¶ä¸€èµ·æ¢è®¨ä¸‹ã€‚1ã€ä¸€åˆ‡ä»æ³¨è§£å¼€å§‹ï¼Œæˆ‘è¿™é‡Œè‡ªå®šä¹‰äº†ä¸€ä¸ªæ³¨è§£&lt;code&gt;@Duty&lt;/code&gt;,è¿™ä¸ªæ³¨è§£æœ‰springçš„&lt;code&gt;@Component&lt;/code&gt;æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯æ ‡è®°äº†è¿™ä¸ªè‡ªå®šä¹‰æ³¨è§£çš„ç±»ï¼Œéƒ½æ˜¯äº¤ç»™springçš„beanå®¹å™¨å»ç®¡ç†ã€‚æ³¨è§£ä¸­ï¼Œæœ‰ä¸¤ä¸ªå±æ€§ï¼š1.typeï¼Œå®šä¹‰ç›¸åŒçš„typeç±»å‹çš„beanï¼Œä¼šè¢«æ”¾åˆ°ä¸€ä¸ªè´£ä»»é“¾é›†åˆä¸­ã€‚2.orderï¼ŒåŒä¸€ä¸ªè´£ä»»é“¾é›†åˆä¸­ï¼Œbeançš„æ’åºï¼Œæ•°å€¼è¶Šå°ï¼Œä¼šæ”¾åˆ°é“¾è·¯æœ€å…ˆçš„ä½ç½®ï¼Œä¼˜å…ˆå¤„ç†ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 16:11&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Target&lt;/span&gt;({ElementType.TYPE})&lt;br/&gt;&lt;span&gt;@Retention&lt;/span&gt;(RetentionPolicy.RUNTIME)&lt;br/&gt;&lt;span&gt;@Documented&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Inherited&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;@interface&lt;/span&gt;Â DutyÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ ‡è®°å…·ä½“ä¸šåŠ¡åœºæ™¯&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@return&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;StringÂ &lt;span&gt;type&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &quot;&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ’åºï¼šæ•°å€¼è¶Šå°ï¼Œæ’åºè¶Šå‰&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@return&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;order&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â 0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2ã€å®šä¹‰ä¸€ä¸ªé¡¶å±‚çš„æŠ½è±¡æ¥å£&lt;code&gt;IHandler&lt;/code&gt;ï¼Œä¼ å…¥2ä¸ªæ³›å‹å‚æ•°ï¼Œä¾›åç»­è‡ªå®šä¹‰ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 15:31&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;Â è´£ä»»é“¾é¡¶å±‚æŠ½è±¡ç±»&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;interface&lt;/span&gt;Â &lt;span&gt;IHandler&lt;/span&gt;&amp;lt;&lt;span&gt;T&lt;/span&gt;,Â &lt;span&gt;R&lt;/span&gt;&amp;gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æŠ½è±¡å¤„ç†ç±»&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â t&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@return&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;RÂ &lt;span&gt;handle&lt;/span&gt;&lt;span&gt;(TÂ t)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3ã€å®šä¹‰ä¸€ä¸ªè´£ä»»é“¾beançš„ç®¡ç†ç±»&lt;code&gt;HandleChainManager&lt;/code&gt;ï¼Œç”¨æ¥å­˜æ”¾ä¸åŒä¸šåŠ¡ä¸‹çš„è´£ä»»é“¾è·¯é›†åˆã€‚åœ¨è¯¥ç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªMapå’Œä¸¤ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;handleMapï¼šè¿™ä¸ªmapä¼šå­˜æ”¾è´£ä»»é“¾è·¯ä¸­ï¼Œå…·ä½“çš„æ‰§è¡Œç±»ï¼Œkeyæ˜¯æ³¨è§£&lt;code&gt;@Duty&lt;/code&gt;ä¸­å®šä¹‰çš„typeå€¼ï¼Œvalueæ˜¯æ ‡è®°äº†&lt;code&gt;@Duty&lt;/code&gt;æ³¨è§£çš„beané›†åˆï¼Œä¹Ÿå°±æ˜¯å…·ä½“çš„æ‰§è¡Œç±»é›†åˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;setHandleMapï¼šä¼ å…¥å…·ä½“æ‰§è¡Œbeançš„é›†åˆï¼Œå­˜æ”¾åœ¨mapä¸­ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;executeHandleï¼šä»mapä¸­æ‰¾åˆ°å…·ä½“çš„æ‰§è¡Œbeané›†åˆï¼Œå¹¶ä¾æ¬¡æ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 16:00&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;Â è´£ä»»é“¾ç®¡ç†ç±»&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;HandleChainManager&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å­˜æ”¾è´£ä»»é“¾è·¯ä¸Šçš„å…·ä½“å¤„ç†ç±»&lt;br/&gt;Â Â Â Â Â *Â k-å…·ä½“ä¸šåŠ¡åœºæ™¯åç§°&lt;br/&gt;Â Â Â Â Â *Â v-å…·ä½“ä¸šåŠ¡åœºæ™¯ä¸‹çš„è´£ä»»é“¾è·¯é›†åˆ&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â Map&amp;lt;String,Â List&amp;lt;IHandler&amp;gt;&amp;gt;Â handleMap;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å­˜æ”¾ç³»ç»Ÿä¸­è´£ä»»é“¾å…·ä½“å¤„ç†ç±»&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â handlerList&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;setHandleMap&lt;/span&gt;&lt;span&gt;(List&amp;lt;IHandler&amp;gt;Â handlerList)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â handleMapÂ =Â handlerList&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .stream()&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .sorted(Comparator.comparingInt(hÂ -&amp;gt;Â AnnotationUtils.findAnnotation(h.getClass(),Â Duty&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;).&lt;span&gt;order&lt;/span&gt;()))&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .&lt;span&gt;collect&lt;/span&gt;(&lt;span&gt;Collectors&lt;/span&gt;.&lt;span&gt;groupingBy&lt;/span&gt;(&lt;span&gt;handler&lt;/span&gt;Â -&amp;gt;Â &lt;span&gt;AnnotationUtils&lt;/span&gt;.&lt;span&gt;findAnnotation&lt;/span&gt;(&lt;span&gt;handler&lt;/span&gt;.&lt;span&gt;getClass&lt;/span&gt;(),Â &lt;span&gt;Duty&lt;/span&gt;.&lt;span&gt;class&lt;/span&gt;).&lt;span&gt;type&lt;/span&gt;()))&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ‰§è¡Œå…·ä½“ä¸šåŠ¡åœºæ™¯ä¸­çš„è´£ä»»é“¾é›†åˆ&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â typeÂ å¯¹åº”&lt;span&gt;@Duty&lt;/span&gt;æ³¨è§£ä¸­çš„typeï¼Œå¯ä»¥å®šä¹‰ä¸ºå…·ä½“ä¸šåŠ¡åœºæ™¯&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â tÂ è¢«æ‰§è¡Œçš„å‚æ•°&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &amp;lt;T,Â R&amp;gt;Â &lt;span&gt;RÂ &lt;span&gt;executeHandle&lt;/span&gt;&lt;span&gt;(StringÂ type,Â TÂ t)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â List&amp;lt;IHandler&amp;gt;Â handlersÂ =Â handleMap.get(type);&lt;br/&gt;Â Â Â Â Â Â Â Â RÂ rÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (CollectionUtil.isNotEmpty(handlers))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (IHandler&amp;lt;T,Â R&amp;gt;Â handlerÂ :Â handlers)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rÂ =Â handler.handle(t);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â r;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;4ã€å®šä¹‰ä¸€ä¸ªé…ç½®ç±»&lt;code&gt;PatternConfiguration&lt;/code&gt;ï¼Œç”¨äºè£…é…ä¸Šé¢çš„è´£ä»»é“¾ç®¡ç†å™¨&lt;code&gt;HandleChainManager&lt;/code&gt;ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 15:35&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;Â è®¾è®¡æ¨¡å¼é…ç½®ç±»&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;PatternConfiguration&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Bean&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â HandleChainManagerÂ &lt;span&gt;handlerChainExecute&lt;/span&gt;&lt;span&gt;(List&amp;lt;IHandler&amp;gt;Â handlers)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â HandleChainManagerÂ handleChainManagerÂ =Â &lt;span&gt;new&lt;/span&gt;Â HandleChainManager();&lt;br/&gt;Â Â Â Â Â Â Â Â handleChainManager.setHandleMap(handlers);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â handleChainManager;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;5ã€å…·ä½“çš„å¤„ç†ç±»ï¼š&lt;code&gt;SignChainHandler&lt;/code&gt;ã€&lt;code&gt;EncryptionChainHandler&lt;/code&gt;ã€&lt;code&gt;RequestChainHandler&lt;/code&gt;ï¼Œè¿™é‡Œæˆ‘ä»¥&lt;code&gt;SignChainHandler&lt;/code&gt;ä¸ºä¾‹ã€‚åœ¨å…·ä½“å¤„ç†ç±»ä¸Šæ ‡è®°è‡ªå®šä¹‰æ³¨è§£&lt;code&gt;@Duty&lt;/code&gt;ï¼Œè¯¥ç±»ä¼šè¢«æ³¨å…¥åˆ°beanå®¹å™¨ä¸­ï¼Œå®ç°&lt;code&gt;IHandler&lt;/code&gt;æ¥å£ï¼Œåªéœ€å…³å¿ƒè‡ªå·±çš„handleæ–¹æ³•ï¼Œå¤„ç†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/10/25Â 15:31&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;Â åŠ ç­¾ç±»&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Duty&lt;/span&gt;(typeÂ =Â BusinessConstants.REQUEST,Â orderÂ =Â &lt;span&gt;1&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SignChainHandler&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;IHandler&lt;/span&gt;&amp;lt;&lt;span&gt;String&lt;/span&gt;,Â &lt;span&gt;String&lt;/span&gt;&amp;gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å¤„ç†åŠ ç­¾é€»è¾‘&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â s&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@return&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;handle&lt;/span&gt;&lt;span&gt;(StringÂ s)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â åŠ ç­¾é€»è¾‘&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;ç”²æ–¹çˆ¸çˆ¸è¦æ±‚åŠ ç­¾&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;åŠ ç­¾&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;6ã€å…·ä½“æ€ä¹ˆè°ƒç”¨ï¼Ÿè¿™é‡Œæˆ‘å†™äº†ä¸ªæµ‹è¯•controllerç›´æ¥è°ƒç”¨ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@author&lt;/span&gt;Â å¾€äº‹å¦‚é£&lt;br/&gt;Â *Â &lt;span&gt;@version&lt;/span&gt;Â 1.0&lt;br/&gt;Â *Â &lt;span&gt;@date&lt;/span&gt;Â 2022/9/6Â 17:32&lt;br/&gt;Â *Â &lt;span&gt;@description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;TestController&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Resource&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â HandleChainManagerÂ handleChainManager;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@PostMapping&lt;/span&gt;(&lt;span&gt;&quot;/send&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;duty&lt;/span&gt;&lt;span&gt;(@RequestBodyÂ StringÂ requestBody)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â StringÂ responseÂ =Â handleChainManager.executeHandle(BusinessConstants.REQUEST,Â requestBody);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â response;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;7ã€æ‰§è¡Œç»“æœï¼Œä¼šæŒ‰ç…§æ³¨è§£ä¸­æ ‡è®°çš„orderä¾æ¬¡æ‰§è¡Œã€‚Â &lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.31796875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvBlr3yRHvpklXExpKib024nDaFLeVMib9ne1ZNOMVXx9MLLMFLfQFMia8HdGu47z6puRQkQ7Nw2VaR7Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;è‡³æ­¤ï¼Œå®Œå·¥ã€‚åˆå¯ä»¥å¼€å¿ƒçš„æ’¸ä»£ç äº†ï¼Œç„¶ååœ¨å…·ä½“çš„æ‰§è¡Œç±»ä¸­ï¼Œåˆæ˜¯ä¸€é¡¿if-elseã€‚ã€‚ã€‚&lt;/p&gt;&lt;h1&gt;&lt;span&gt;å››ã€æºç ä¸­è¿ç”¨&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;4.1Mybatisæºç ä¸­çš„è¿ç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;Mybatisä¸­çš„ç¼“å­˜æ¥å£&lt;code&gt;Cache&lt;/code&gt;ï¼Œcacheä½œä¸ºä¸€ä¸ªç¼“å­˜æ¥å£ï¼Œæœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯æ·»åŠ å’Œè·å–ç¼“å­˜çš„åŠŸèƒ½ï¼Œä½œä¸ºæ¥å£å®ƒæœ‰11ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œä¸‹é¢æ˜¯æ¥å£æºç å’Œå®ç°ç±»ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;package&lt;/span&gt;Â org.apache.ibatis.cache;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â java.util.concurrent.locks.ReadWriteLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;interface&lt;/span&gt;Â &lt;span&gt;Cache&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;StringÂ &lt;span&gt;getId&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;putObject&lt;/span&gt;&lt;span&gt;(ObjectÂ var1,Â ObjectÂ var2)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;ObjectÂ &lt;span&gt;getObject&lt;/span&gt;&lt;span&gt;(ObjectÂ var1)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;ObjectÂ &lt;span&gt;removeObject&lt;/span&gt;&lt;span&gt;(ObjectÂ var1)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;clear&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;getSize&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;default&lt;/span&gt;Â ReadWriteLockÂ &lt;span&gt;getReadWriteLock&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.47421875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvBlr3yRHvpklXExpKib024nDx9wlByQIibHtGvFKibCVQ85delvdUD63HyU1Op841z3yxz6bQKkZx1wA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å…¶ä¸­ä¸€ä¸ªå­ç±»&lt;code&gt;LoggingCache&lt;/code&gt;çš„æºç ã€‚ä¸»è¦çœ‹ä»–çš„putObjectæ–¹æ³•å’ŒgetObjectæ–¹æ³•ï¼Œå®ƒåœ¨æ–¹æ³•ä¸­ç›´æ¥ä¼ ç»™ä¸‹ä¸€ä¸ªå®ç°å»æ‰§è¡Œã€‚è¿™ä¸ªå®ç°ç±»å…¶å®æ˜¯ä¸ºäº†åœ¨è·å–ç¼“å­˜çš„æ—¶å€™æ‰“å°ç¼“å­˜çš„å‘½ä¸­ç‡çš„ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LoggingCache&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Cache&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â LogÂ log;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â CacheÂ delegate;&lt;br/&gt;Â Â Â Â &lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â requestsÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â hitsÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;LoggingCache&lt;/span&gt;&lt;span&gt;(CacheÂ delegate)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.delegateÂ =Â delegate;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.logÂ =Â LogFactory.getLog(&lt;span&gt;this&lt;/span&gt;.getId());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ...&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;putObject&lt;/span&gt;&lt;span&gt;(ObjectÂ key,Â ObjectÂ object)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.delegate.putObject(key,Â object);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â ObjectÂ &lt;span&gt;getObject&lt;/span&gt;&lt;span&gt;(ObjectÂ key)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â ++&lt;span&gt;this&lt;/span&gt;.requests;&lt;br/&gt;Â Â Â Â Â Â Â Â ObjectÂ valueÂ =Â &lt;span&gt;this&lt;/span&gt;.delegate.getObject(key);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (valueÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â ++&lt;span&gt;this&lt;/span&gt;.hits;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;this&lt;/span&gt;.log.isDebugEnabled())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.log.debug(&lt;span&gt;&quot;CacheÂ HitÂ RatioÂ [&quot;&lt;/span&gt;Â +Â &lt;span&gt;this&lt;/span&gt;.getId()Â +Â &lt;span&gt;&quot;]:Â &quot;&lt;/span&gt;Â +Â &lt;span&gt;this&lt;/span&gt;.getHitRatio());&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â value;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ...&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åï¼Œç»è¿‡&lt;code&gt;Cache&lt;/code&gt;æ¥å£å„ç§å®ç°ç±»çš„å¤„ç†ï¼Œæœ€ç»ˆä¼šåˆ°è¾¾&lt;code&gt;PerpetualCache&lt;/code&gt;è¿™ä¸ªå®ç°ç±»ã€‚ä¸ä¹‹å‰çš„å¤„ç†ç±»ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªmapï¼Œåœ¨mapä¸­åšå­˜å–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€ç»ˆç¼“å­˜è¿˜æ˜¯ä¼šä¿å­˜åœ¨mapä¸­çš„ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;PerpetualCache&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Cache&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â StringÂ id;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â Map&amp;lt;Object,Â Object&amp;gt;Â cacheÂ =Â &lt;span&gt;new&lt;/span&gt;Â HashMap();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;PerpetualCache&lt;/span&gt;&lt;span&gt;(StringÂ id)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.idÂ =Â id;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//Â ...&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;putObject&lt;/span&gt;&lt;span&gt;(ObjectÂ key,Â ObjectÂ value)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.cache.put(key,Â value);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â ObjectÂ &lt;span&gt;getObject&lt;/span&gt;&lt;span&gt;(ObjectÂ key)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;this&lt;/span&gt;.cache.get(key);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â &lt;span&gt;//Â ...&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;span&gt;4.2springæºç ä¸­çš„è¿ç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;4.2.1DispatcherServletç±»&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;DispatcherServlet æ ¸å¿ƒæ–¹æ³• doDispatchã€‚HandlerExecutionChainåªæ˜¯ç»´æŠ¤HandlerInterceptorçš„é›†åˆï¼Œå¯ä»¥å‘å…¶ä¸­æ³¨å†Œç›¸åº”çš„æ‹¦æˆªå™¨ï¼Œæœ¬èº«ä¸ç›´æ¥å¤„ç†è¯·æ±‚ï¼Œå°†è¯·æ±‚åˆ†é…ç»™è´£ä»»é“¾ä¸Šæ³¨å†Œå¤„ç†å™¨æ‰§è¡Œï¼Œé™ä½èŒè´£é“¾æœ¬èº«ä¸å¤„ç†é€»è¾‘ä¹‹é—´çš„è€¦åˆç¨‹åº¦ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doDispatch&lt;/span&gt;&lt;span&gt;(HttpServletRequestÂ request,Â HttpServletResponseÂ response)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â HttpServletRequestÂ processedRequestÂ =Â request;&lt;br/&gt;Â Â HandlerExecutionChainÂ mappedHandlerÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â &lt;span&gt;boolean&lt;/span&gt;Â multipartRequestParsedÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â WebAsyncManagerÂ asyncManagerÂ =Â WebAsyncUtils.getAsyncManager(request);&lt;br/&gt;Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â ModelAndViewÂ mvÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â ExceptionÂ dispatchExceptionÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â processedRequestÂ =Â checkMultipart(request);&lt;br/&gt;Â Â Â Â multipartRequestParsedÂ =Â (processedRequestÂ !=Â request);&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â DetermineÂ handlerÂ forÂ theÂ currentÂ request.&lt;/span&gt;&lt;br/&gt;Â Â Â Â mappedHandlerÂ =Â getHandler(processedRequest);&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (mappedHandlerÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â noHandlerFound(processedRequest,Â response);&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â DetermineÂ handlerÂ adapterÂ forÂ theÂ currentÂ request.&lt;/span&gt;&lt;br/&gt;Â Â Â Â HandlerAdapterÂ haÂ =Â getHandlerAdapter(mappedHandler.getHandler());&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ProcessÂ last-modifiedÂ header,Â ifÂ supportedÂ byÂ theÂ handler.&lt;/span&gt;&lt;br/&gt;Â Â Â Â StringÂ methodÂ =Â request.getMethod();&lt;br/&gt;Â Â Â Â &lt;span&gt;boolean&lt;/span&gt;Â isGetÂ =Â &lt;span&gt;&quot;GET&quot;&lt;/span&gt;.equals(method);&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (isGetÂ ||Â &lt;span&gt;&quot;HEAD&quot;&lt;/span&gt;.equals(method))Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;long&lt;/span&gt;Â lastModifiedÂ =Â ha.getLastModified(request,Â mappedHandler.getHandler());&lt;br/&gt;Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;new&lt;/span&gt;Â ServletWebRequest(request,Â response).checkNotModified(lastModified)Â &amp;amp;&amp;amp;Â isGet)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!mappedHandler.applyPreHandle(processedRequest,Â response))Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ActuallyÂ invokeÂ theÂ handler.&lt;/span&gt;&lt;br/&gt;Â Â Â Â mvÂ =Â ha.handle(processedRequest,Â response,Â mappedHandler.getHandler());&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (asyncManager.isConcurrentHandlingStarted())Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â applyDefaultViewName(processedRequest,Â mv);&lt;br/&gt;Â Â Â Â mappedHandler.applyPostHandle(processedRequest,Â response,Â mv);&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ ex)Â {&lt;br/&gt;Â Â Â Â dispatchExceptionÂ =Â ex;&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;catch&lt;/span&gt;Â (ThrowableÂ err)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â AsÂ ofÂ 4.3,Â we&#x27;reÂ processingÂ ErrorsÂ thrownÂ fromÂ handlerÂ methodsÂ asÂ well,&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â makingÂ themÂ availableÂ forÂ @ExceptionHandlerÂ methodsÂ andÂ otherÂ scenarios.&lt;/span&gt;&lt;br/&gt;Â Â Â Â dispatchExceptionÂ =Â &lt;span&gt;new&lt;/span&gt;Â NestedServletException(&lt;span&gt;&quot;HandlerÂ dispatchÂ failed&quot;&lt;/span&gt;,Â err);&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â processDispatchResult(processedRequest,Â response,Â mappedHandler,Â mv,Â dispatchException);&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ ex)Â {&lt;br/&gt;Â Â Â triggerAfterCompletion(processedRequest,Â response,Â mappedHandler,Â ex);&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;catch&lt;/span&gt;Â (ThrowableÂ err)Â {&lt;br/&gt;Â Â Â triggerAfterCompletion(processedRequest,Â response,Â mappedHandler,&lt;br/&gt;Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â NestedServletException(&lt;span&gt;&quot;HandlerÂ processingÂ failed&quot;&lt;/span&gt;,Â err));&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;finally&lt;/span&gt;Â {&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â (asyncManager.isConcurrentHandlingStarted())Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â InsteadÂ ofÂ postHandleÂ andÂ afterCompletion&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (mappedHandlerÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest,Â response);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â CleanÂ upÂ anyÂ resourcesÂ usedÂ byÂ aÂ multipartÂ request.&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (multipartRequestParsed)Â {&lt;br/&gt;Â Â Â Â Â cleanupMultipart(processedRequest);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;span&gt;4.2.2HandlerExecutionChainç±»&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;è¿™é‡Œåˆ†æçš„å‡ ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯ä»DispatcherServletç±»çš„doDispatchæ–¹æ³•ä¸­è¯·æ±‚çš„ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;applyPreHandle&lt;/span&gt;&lt;span&gt;(HttpServletRequestÂ request,Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â HandlerInterceptor[]Â interceptorsÂ =Â &lt;span&gt;this&lt;/span&gt;.getInterceptors();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!ObjectUtils.isEmpty(interceptors))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â interceptors.length;Â &lt;span&gt;this&lt;/span&gt;.interceptorIndexÂ =Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â HandlerInterceptorÂ interceptorÂ =Â interceptors[i];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!interceptor.preHandle(request,Â response,Â &lt;span&gt;this&lt;/span&gt;.handler))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.triggerAfterCompletion(request,Â response,Â (Exception)&lt;span&gt;null&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨applyPreHandleæ–¹æ³•ä¸­ï¼Œæ‰§è¡ŒtriggerAfterCompletionæ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;triggerAfterCompletion&lt;/span&gt;&lt;span&gt;(HttpServletRequestÂ request,Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â ExceptionÂ ex)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â HandlerInterceptor[]Â interceptorsÂ =Â &lt;span&gt;this&lt;/span&gt;.getInterceptors();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!ObjectUtils.isEmpty(interceptors))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;this&lt;/span&gt;.interceptorIndex;Â iÂ &amp;gt;=Â &lt;span&gt;0&lt;/span&gt;;Â --i)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â HandlerInterceptorÂ interceptorÂ =Â interceptors[i];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â interceptor.afterCompletion(request,Â response,Â &lt;span&gt;this&lt;/span&gt;.handler,Â ex);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ThrowableÂ var8)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.error(&lt;span&gt;&quot;HandlerInterceptor.afterCompletionÂ threwÂ exception&quot;&lt;/span&gt;,Â var8);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;è·å–æ‹¦æˆªå™¨ï¼Œæ‰§è¡ŒapplyPostHandleæ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;applyPostHandle&lt;/span&gt;&lt;span&gt;(HttpServletRequestÂ request,Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â ModelAndViewÂ mv)&lt;/span&gt;Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â HandlerInterceptor[]Â interceptorsÂ =Â &lt;span&gt;this&lt;/span&gt;.getInterceptors();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!ObjectUtils.isEmpty(interceptors))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;int&lt;/span&gt;Â iÂ =Â interceptors.lengthÂ -Â &lt;span&gt;1&lt;/span&gt;;Â iÂ &amp;gt;=Â &lt;span&gt;0&lt;/span&gt;;Â --i)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â HandlerInterceptorÂ interceptorÂ =Â interceptors[i];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â interceptor.postHandle(request,Â response,Â &lt;span&gt;this&lt;/span&gt;.handler,Â mv);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1&gt;&lt;span&gt;äº”ã€æ€»ç»“&lt;/span&gt;&lt;/h1&gt;&lt;h2&gt;&lt;span&gt;5.1 ä¼˜ç‚¹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å°†è¯·æ±‚ä¸å¤„ç†è§£è€¦ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¯·æ±‚å¤„ç†è€…ï¼ˆèŠ‚ç‚¹å¯¹è±¡ï¼‰åªéœ€è¦å…³æ³¨è‡ªå·±æ„Ÿå…´è¶£çš„è¯·æ±‚è¿›è¡Œå¤„ç†å³å¯ï¼Œå¯¹äºä¸æ„Ÿå…´è¶£çš„è¯·æ±‚ï¼Œè½¬å‘ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å…·å¤‡é“¾å¼ä¼ é€’å¤„ç†è¯·æ±‚åŠŸèƒ½ï¼Œè¯·æ±‚å‘é€è€…æ— éœ€çŸ¥æ™“é“¾è·¯ç»“æ„ï¼Œåªéœ€ç­‰å¾…è¯·æ±‚å¤„ç†ç»“æœã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é“¾è·¯ç»“æ„çµæ´»ï¼Œå¯ä»¥é€šè¿‡æ”¹å˜é“¾è·¯çš„ç»“æ„åŠ¨æ€çš„æ–°å¢æˆ–åˆ å‡è´£ä»»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ˜“äºæ‰©å±•æ–°çš„è¯·æ±‚å¤„ç†ç±»ï¼ˆèŠ‚ç‚¹ï¼‰ï¼Œç¬¦åˆ&lt;strong&gt;å¼€é—­åŸåˆ™&lt;/strong&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;&lt;span&gt;5.2 ç¼ºç‚¹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;è´£ä»»é“¾å¤ªé•¿æˆ–è€…å¤„ç†æ—¶é—´è¿‡é•¿ï¼Œä¼šå½±å“æ•´ä½“æ€§èƒ½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœèŠ‚ç‚¹å¯¹è±¡å­˜åœ¨å¾ªç¯å¼•ç”¨æ—¶ï¼Œä¼šé€ æˆæ­»å¾ªç¯ï¼Œå¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1&gt;&lt;span&gt;å…­ã€å‚è€ƒæºç &lt;/span&gt;&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;ç¼–ç¨‹æ–‡æ¡£ï¼š&lt;br/&gt;https://gitee.com/cicadasmile/butte-java-note&lt;br/&gt;&lt;br/&gt;&lt;span&gt;åº”ç”¨ä»“åº“ï¼š&lt;/span&gt;&lt;br/&gt;&lt;span&gt;https://gitee.com/cicadasmile/butte-flyer-parent&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>