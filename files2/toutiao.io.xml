<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>28fc40cd943751e32065612b2ebcd81a</guid>
<title>ä¼˜è´¨ç½‘ç«™åŒå¥½è€…å‘¨åˆŠï¼ˆç¬¬ 094 æœŸï¼‰</title>
<link>https://toutiao.io/k/0g3qhhh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;content&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;å€¾åŸä¹‹é“¾&lt;/a&gt;ä½œä¸ºä¸€ä¸ªå¼€æ”¾å¹³å°ï¼Œæ—¨åœ¨äº‘é›†å…¨çƒ&lt;strong&gt;ä¼˜ç§€ç½‘ç«™&lt;/strong&gt;ï¼Œæ¢ç´¢äº’è”ç½‘ä¸­æ›´å¹¿é˜”çš„ä¸–ç•Œã€‚æ­¤å‘¨åˆŠï¼Œå°†æ±‡èšè¿‡å»ä¸€å‘¨&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;å€¾åŸ&lt;/a&gt;æ‰€æ”¶å½•çš„å†…å®¹ï¼Œä»¥é£¨åŒå¥½ï¼›æ¬¢è¿æ¨èæˆ–è‡ªèï¼ˆä»…é™æœ‰ç‹¬ç«‹åŸŸåçš„ç½‘ç«™ï¼Œå¯ä»¥æ˜¯äºŒçº§åŸŸåï¼‰ã€‚æ‚¨å¦‚æœè¦äº†è§£æ”¶å½•è¦æ±‚ï¼Œè¯·å‚è§&lt;a href=&quot;https://nicelinks.site/about?utm_source=weekly&quot;&gt;å…³äºå€¾åŸ&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å¤‡æ³¨&lt;/strong&gt;ï¼šæœ¬å‘¨åˆŠ&lt;strong&gt;æ¯å‘¨äº”&lt;/strong&gt;ç”Ÿæˆï¼Œé¦–å‘äºä¸ªäººå¾®ä¿¡å…¬ä¼—å·&lt;a href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI5MDIwMzM2Mg==&amp;amp;action=getalbum&amp;amp;album_id=1530765143352082433&amp;amp;scene=173&amp;amp;from_msgid=2650641087&amp;amp;from_itemidx=1&amp;amp;count=3#wechat_redirect&quot;&gt;æ™šæ™´å¹½è‰è½©&lt;/a&gt;ã€åšå®¢&lt;a href=&quot;https://www.jeffjade.com&quot;&gt;æ™šæ™´å¹½è‰è½©&lt;/a&gt;ï¼Œä»¥åŠ&lt;a href=&quot;https://forum.lovejade.cn/&quot;&gt;æ‚ ç„¶å®œæƒ³äº­&lt;/a&gt;ç¤¾åŒºï¼›æ­¤ä¸€é”®ç”Ÿæˆè„šæœ¬åŸºäº &lt;a href=&quot;https://nicelinks.site/post/602d30aad099ff5688618591&quot;&gt;Deno&lt;/a&gt; ç¼–å†™ï¼Œå¹¶åœ¨ Github å¼€æºï¼š&lt;a href=&quot;https://github.com/nicejade/nicelinks-weekly&quot;&gt;nicejade/nicelinks-weekly&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/AI&quot;&gt;&lt;code&gt;AI&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E8%A7%86%E9%A2%91&quot;&gt;&lt;code&gt;è§†é¢‘&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E8%BD%AC%E5%8C%96&quot;&gt;&lt;code&gt;è½¬åŒ–&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;A state-of-the-art AI system generates high-quality videos from text prompts&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/makeavideo.studio.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - Make A Video&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/redirect?url=https://makeavideo.studio/&quot;&gt;Make-A-Video&lt;/a&gt; ï¼Œæ˜¯ä¸€ä¸ªæœ€å…ˆè¿›çš„äººå·¥æ™ºèƒ½ï¼ˆ&lt;a href=&quot;https://nicelinks.site/tags/AI&quot;&gt;AI&lt;/a&gt;ï¼‰ç³»ç»Ÿï¼Œå¯ä»¥ä»æ–‡æœ¬ç”Ÿæˆé«˜è´¨é‡è§†é¢‘ï¼ˆMeta å…¬å¸å‡ºå“ï¼‰ã€‚Make A Video ç ”ç©¶å»ºç«‹åœ¨æ–‡æœ¬åˆ°å›¾åƒç”ŸæˆæŠ€æœ¯çš„æœ€æ–°è¿›å±•ä¹‹ä¸Šï¼Œè¯¥æŠ€æœ¯æ—¨åœ¨å®ç°&lt;strong&gt;æ–‡æœ¬åˆ°è§†é¢‘çš„ç”Ÿæˆ&lt;/strong&gt;ï¼Œè®©ä½ çš„æƒ³è±¡åŠ›å‘æŒ¥å‡ºæ¥ï¼Œåªéœ€å‡ ä¸ªå­—æˆ–å‡ è¡Œæ–‡å­—ï¼ˆè¶…ç°å®ä¸»ä¹‰ã€ç°å®ã€é£æ ¼åŒ–ï¼‰ã€‚è¯¥ç³»ç»Ÿä½¿ç”¨å¸¦æœ‰æè¿°çš„å›¾åƒï¼Œæ¥äº†è§£ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·å­ä»¥åŠé€šå¸¸æ˜¯å¦‚ä½•æè¿°çš„ã€‚å®ƒè¿˜ä½¿ç”¨æœªæ ‡è®°çš„è§†é¢‘æ¥äº†è§£ä¸–ç•Œå¦‚ä½•ç§»åŠ¨ã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/6388b6d16584a1758339bf0d&quot;&gt;å€¾åŸä¹‹é“¾ - Make A Video&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/%E5%9C%A8%E7%BA%BF&quot;&gt;&lt;code&gt;åœ¨çº¿&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E7%BC%96%E8%BE%91%E5%99%A8&quot;&gt;&lt;code&gt;ç¼–è¾‘å™¨&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E8%A7%86%E9%A2%91&quot;&gt;&lt;code&gt;è§†é¢‘&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Grape is an online code editor for auto-generating interactive coding videos.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/www.grape.codes.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - Grape | A story-telling platform for programming&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;:https://nicelinks.site/redirect?url=https://www.grape.codes/&quot;&gt;Grape&lt;/a&gt; æ˜¯ä¸€ä¸ªåœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼Œç”¨äºä¸€é”®è‡ªåŠ¨&lt;strong&gt;ç”Ÿæˆäº’åŠ¨ç¼–ç è§†é¢‘&lt;/strong&gt;ã€‚ç”¨äºè®©ç”¨æˆ·æ¼”ç¤ºä»£ç æ“ä½œã€‚å®ƒå¯ä»¥æŠŠæ“ä½œè¿‡ç¨‹å½•åˆ¶ä¸‹æ¥ï¼Œåƒè§†é¢‘ä¸€æ ·æ’­æ”¾ï¼Œä½†å®é™…æ˜¯ä¸€ä¸ªå°ä½“ç§¯çš„è„šæœ¬ï¼Œä¾¿äºåˆ†äº«å’Œä¼ æ’­ã€‚&lt;code&gt;grape&lt;/code&gt; ä¸»è¦é¢å‘ç”¨æˆ·æ˜¯ï¼š&lt;strong&gt;åˆ›ä½œè€…&lt;/strong&gt;å’Œ&lt;strong&gt;å­¦ä¹ è€…&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h3 id=&quot;åˆ›ä½œè€…&quot;&gt;&lt;a href=&quot;#%E5%88%9B%E4%BD%9C%E8%80%85&quot; aria-label=&quot;åˆ›ä½œè€… permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;åˆ›ä½œè€…&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;å‘Šåˆ«åœ¨å±å¹•å½•åˆ¶ä¸­ç¿»é˜…æ ‡ç­¾ï¼Œæˆ–èŠ±è´¹æ•°å¤©æ—¶é—´ç¼–è¾‘è§†é¢‘ã€‚&lt;/li&gt;&lt;li&gt;åˆ›å»ºæ•™ç¨‹ã€æ–‡æ¡£ã€è¯´æ˜ç­‰ - æ— éœ€è§†é¢‘ç¼–è¾‘æˆ–ç¹ççš„é€æ­¥è§£é‡Šçš„éº»çƒ¦ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;å­¦ä¹ è€…&quot;&gt;&lt;a href=&quot;#%E5%AD%A6%E4%B9%A0%E8%80%85&quot; aria-label=&quot;å­¦ä¹ è€… permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;å­¦ä¹ è€…&lt;/h3&gt;&lt;ul&gt;&lt;li&gt;ä»¥æ˜“äºç†è§£å’Œäº¤äº’çš„å½¢å¼ä½“éªŒæ•´ä¸ªå¼€å‘è¿‡ç¨‹ã€‚&lt;/li&gt;&lt;li&gt;ä¸¤å…¨å…¶ç¾ï¼šè§†é¢‘ä¸ IDE çš„åŠŸèƒ½ç›¸ç»“åˆã€‚&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æ‚¨å¦‚æœå¯¹ Grape æ„Ÿå…´è¶£ï¼Œå¯å‰å¾€ä»¥&lt;a href=&quot;https://www.grape.codes/explore&quot;&gt;æ¢ç´¢ Grape æ•ˆæœ&lt;/a&gt;ï¼Œæˆ–è€…&lt;a href=&quot;https://www.grape.codes/create&quot;&gt;åˆ›ä½œ&lt;/a&gt;æ¥è‡ªäºä½ çš„ä»£ç åˆ†äº«ï¼ˆç®€å•è¯•ç”¨ï¼Œä½“éªŒè¿˜è¡Œï¼‰ã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/638897f06584a1758339b9ad&quot;&gt;å€¾åŸä¹‹é“¾ - Grape | A story-telling platform for programming&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/%E6%90%9C%E7%B4%A2&quot;&gt;&lt;code&gt;æœç´¢&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E5%8F%91%E7%8E%B0&quot;&gt;&lt;code&gt;å‘ç°&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E5%9B%BE%E7%89%87&quot;&gt;&lt;code&gt;å›¾ç‰‡&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;The Stable Diffusion search engine.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/lexica.art.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - Lexica - The Stable Diffusion search engine&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/redirect?url=https://lexica.art/&quot;&gt;Lexica&lt;/a&gt; Stable Diffusion æ¨¡å‹çš„æœç´¢å¼•æ“ï¼Œå¯ä»¥æœç´¢è¿™ä¸ª &lt;a href=&quot;https://nicelinks.site/tags/AI&quot;&gt;AI&lt;/a&gt; ä½œå›¾æ¨¡å‹æ‰€ç”Ÿæˆçš„å„ç§å›¾ç‰‡ã€‚å¹¶ä¸”ï¼Œæ”¯æŒä¸Šä¼ å›¾åƒä»¥è¿›è¡Œåå‘æœç´¢ã€‚æ­¤å¤–ï¼Œæè¿°ä½ å¸Œæœ›çœ‹åˆ°çš„å›¾åƒï¼Œä¹Ÿå¯ä»¥&lt;strong&gt;ç”Ÿæˆå›¾ç‰‡&lt;/strong&gt;ï¼ˆéœ€è¦ç™»å½•ï¼‰ã€‚å½“ä¸‹ï¼ˆæ—¶å€¼ 2022 å¹´æœ«ï¼‰ï¼ŒåŸºäºã€Œæ–‡å­—æè¿°ã€æ¥ç”Ÿæˆå›¾ç‰‡åŠè§†é¢‘ï¼Œç›¸å…³äº§å“ã€AI æ¨¡å‹ï¼ˆStable Diffusionï¼Œç›¸å½“çƒ­é—¨çš„ AI ä½œå›¾æ¨¡å‹ï¼‰ã€åˆ›ä¸šéƒ½éå¸¸ç«çˆ†ï¼›å¦‚æœæ‚¨å¯¹è¿™æ–¹é¢æ„Ÿå…´è¶£ï¼Œä¸å¦¨ä½“éªŒä¸‹ï¼Œä»¥æ±²å–çµæ„Ÿã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/638892f56584a1758339b95b&quot;&gt;å€¾åŸä¹‹é“¾ - Lexica - The Stable Diffusion search engine&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91%E5%99%A8&quot;&gt;&lt;code&gt;å›¾ç‰‡ç¼–è¾‘å™¨&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E5%9C%A8%E7%BA%BF&quot;&gt;&lt;code&gt;åœ¨çº¿&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9&quot;&gt;&lt;code&gt;å›¾ç‰‡å‹ç¼©&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…³é”®å­—&lt;/strong&gt;ï¼šä¿®æ”¹å›¾ç‰‡å¤§å°, ç…§ç‰‡å¤„ç†å·¥å…·, å›¾ç‰‡åœ¨çº¿ç¼–è¾‘&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;ä¸‡èƒ½å›¾ç‰‡åœ¨çº¿ç¼–è¾‘å™¨ï¼›AI, EPS, PSD, SVG å…¨æ ¼å¼æ”¯æŒã€‚ä¸€é”®ä¿®æ”¹ç…§ç‰‡é¢œè‰²å¤§å°å°ºå¯¸ï¼Œè‡ªå®šä¹‰å°ºå¯¸å›¾ç‰‡è£å‰ªï¼Œæ™ºèƒ½æŠ å›¾æ·»åŠ æ°´å°æ–‡å­—...&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/img.logosc.cn.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - åœ¨çº¿ä¿®æ”¹å›¾ç‰‡å¤§å°å°ºå¯¸ï¼›å…è´¹æŠ å›¾ç…§ç‰‡å¤„ç†å·¥å…· - æ”¹å›¾ç¥å™¨&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/redirect?url=https://img.logosc.cn/&quot;&gt;æ”¹å›¾ç¥å™¨&lt;/a&gt; ï¼Œä¸€æ¬¾åœ¨çº¿ &lt;a href=&quot;https://nicelinks.site/tags/%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91%E5%99%A8&quot;&gt;å›¾ç‰‡ç¼–è¾‘å™¨&lt;/a&gt; ç½‘ç«™ï¼ˆåŸºäº Vueã€Reactã€Next.jsã€Nginx ç­‰æ­å»ºï¼‰ï¼›å®ƒæ”¯æŒåœ¨çº¿ä¿®æ”¹å›¾ç‰‡é¢œè‰²ã€å°ºå¯¸ï¼Œå›¾ç‰‡æ‰¹é‡å‹ç¼©ï¼Œæ™ºèƒ½æŠ å›¾å»æ°´å°ï¼ŒGIF åˆ¶ä½œï¼ŒåŸºäº AI å»æ°´å°ï¼Œ æ ¼å¼è½¬æ¢ï¼Œæ·»åŠ æ°´å°ï¼Œè¯ä»¶ç…§ï¼Œæ¼«ç”»å¤´åƒï¼Œé€æ˜ LOGOï¼Œæ”¾å¤§å˜æ¸…æ™°ï¼Œè½¬çŸ¢é‡å›¾ï¼Œè§†é¢‘è½¬ GIFï¼Œç…§ç‰‡ç¾åŒ–ï¼Œç…§ç‰‡å˜æ´»ç­‰åŠŸèƒ½ã€‚æœ‰ä½“éªŒå…¶ã€Œæ¼«ç”»å¤´åƒã€åŠŸèƒ½ï¼Œæ•ˆæœè¿˜å¯ä»¥ï¼ˆæ¯å¤©å…è´¹ä½¿ç”¨ 2 æ¬¡ï¼‰ï¼›ä½†äº¦æœ‰ä¸è¶³ï¼Œè­¬å¦‚è„¸éƒ¨æœ‰å¤´å‘ç­‰é®æŒ¡ç‰©ç­‰æƒ…å½¢ï¼Œæ‰€ç”Ÿæˆå›¾ç‰‡é¢‡ä¸å¿ç¹ï¼ŒäºŸå¾…æ”¹è¿›æå‡ã€‚å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¯¥å…¬å¸æ——ä¸‹è¿˜æœ‰ &lt;a href=&quot;https://nicelinks.site/post/626e6b287d02b74eba0f09c2&quot;&gt;LOGO è®¾è®¡ç¥å™¨&lt;/a&gt; ã€ &lt;a href=&quot;https://nicelinks.site/redirect?url=https://hao.logosc.cn/&quot;&gt;ç¥å™¨é›†&lt;/a&gt; ç­‰äº§å“ã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/6387730b6584a1758339af81&quot;&gt;å€¾åŸä¹‹é“¾ - åœ¨çº¿ä¿®æ”¹å›¾ç‰‡å¤§å°å°ºå¯¸ï¼›å…è´¹æŠ å›¾ç…§ç‰‡å¤„ç†å·¥å…· - æ”¹å›¾ç¥å™¨&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/%E5%8F%91%E7%8E%B0&quot;&gt;&lt;code&gt;å‘ç°&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E4%BA%A7%E5%93%81&quot;&gt;&lt;code&gt;äº§å“&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E7%A4%BE%E5%8C%BA&quot;&gt;&lt;code&gt;ç¤¾åŒº&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…³é”®å­—&lt;/strong&gt;ï¼šäº’è”ç½‘å·¥å…·, æ™ºèƒ½ç¥å™¨, é«˜æ•ˆå·¥å…·, ç¥å™¨å¯¼èˆª&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;è¿™é‡Œæ”¶é›†äº†æœ€æ–°æœ€é…·çš„äº’è”ç½‘äº§å“å’Œåˆ›æ„å·¥å…·ç½‘ç«™ã€‚ä¸€é”®æäº¤ç½‘å€å’Œå¤§å®¶åˆ†äº«è®¨è®ºä½ çš„å‘ç°çš„è®¾è®¡ï¼Œå¼€å‘ï¼Œè¿è¥ï¼Œæ™ºèƒ½ç¥å™¨å§ï¼&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/hao.logosc.cn.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - å‘ç°æœ€é…·çš„äº’è”ç½‘äº§å“å·¥å…·å’Œæ™ºèƒ½ç¥å™¨ï¼ - ç¥å™¨é›†&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/redirect?url=https://hao.logosc.cn/&quot;&gt;ç¥å™¨é›†&lt;/a&gt; æ˜¯ä¸€ä¸ªå‘ç° &amp;amp; åˆ†äº«&lt;strong&gt;æœ‰è¶£åœ¨çº¿å·¥å…·&lt;/strong&gt;çš„ç½‘ç«™ã€‚åˆ†äº«äº§å“éå¸¸ç®€å•ï¼Œåªéœ€æäº¤ä¸€ä¸ªäº§å“é“¾æ¥å¹¶å®Œå–„ç›¸å…³å†…å®¹ï¼Œå®¡æ ¸é€šè¿‡åæˆ‘ä»¬å°†å¾®ä¿¡è‡ªåŠ¨é€šçŸ¥ä½ ã€‚å…¶åŒç±»å‹äº§å“ï¼Œæœ‰ &lt;a href=&quot;https://nicelinks.site&quot;&gt;å€¾åŸä¹‹é“¾&lt;/a&gt; ã€ &lt;a href=&quot;https://nicelinks.site/post/604a16ec5f9af714fe21dcc8&quot;&gt;æ–°è¶£é›†&lt;/a&gt; ã€ &lt;a href=&quot;https://nicelinks.site/post/5db1d4aba7d64d01501bc72a&quot;&gt;åˆ›é€ è€…æ—¥æŠ¥&lt;/a&gt; ã€ &lt;a href=&quot;https://nicelinks.site/post/631ebcae6d57c401f21d6713&quot;&gt;çº¿åœˆ&lt;/a&gt; ç­‰ã€‚å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¯¥å…¬å¸æ——ä¸‹è¿˜æœ‰ &lt;a href=&quot;https://nicelinks.site/post/626e6b287d02b74eba0f09c2&quot;&gt;LOGO è®¾è®¡ç¥å™¨&lt;/a&gt;ã€&lt;a href=&quot;https://nicelinks.site/post/6387730b6584a1758339af81&quot;&gt;æ”¹å›¾ç¥å™¨&lt;/a&gt; ç­‰äº§å“ã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/63876dc76584a1758339ae7f&quot;&gt;å€¾åŸä¹‹é“¾ - å‘ç°æœ€é…·çš„äº’è”ç½‘äº§å“å·¥å…·å’Œæ™ºèƒ½ç¥å™¨ï¼ - ç¥å™¨é›†&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2&quot;&gt;&lt;code&gt;ä¸ªäººåšå®¢&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E5%BC%80%E5%8F%91%E8%80%85&quot;&gt;&lt;code&gt;å¼€å‘è€…&lt;/code&gt;&lt;/a&gt; Â· &lt;a href=&quot;https://nicelinks.site/tags/%E6%95%B0%E6%8D%AE%E5%BA%93&quot;&gt;&lt;code&gt;æ•°æ®åº“&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;ç¼–ç¨‹å°æ¢¦ï¼Œä¸“æ³¨æ•°æ®åº“é¢†åŸŸçš„æŠ€æœ¯åšå®¢ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://oss.nicelinks.site/blog.bcmeng.com.png?x-oss-process=style/png2jpg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - ç¼–ç¨‹å°æ¢¦|åº·å‡¯æ£®çš„æŠ€æœ¯åšå®¢&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¨èè¯­&lt;/strong&gt;ï¼š&lt;a href=&quot;https://nicelinks.site/redirect?url=https://blog.bcmeng.com/&quot;&gt;ç¼–ç¨‹å°æ¢¦&lt;/a&gt; ï¼Œåº·å‡¯æ£®çš„ä¸ªäººæŠ€æœ¯åšå®¢ï¼ŒåŸºäº &lt;a href=&quot;https://nicelinks.site/post/5b1a221c0526c920d6dfaada&quot;&gt;Vue&lt;/a&gt; ã€ &lt;a href=&quot;https://nicelinks.site/post/6339a6aa35a9c117dacf2363&quot;&gt;Nginx&lt;/a&gt; ã€Bootstrap ç­‰æ­å»ºï¼Œä¸“æ³¨&lt;a href=&quot;https://nicelinks.site/tags/%E6%95%B0%E6%8D%AE%E5%BA%93&quot;&gt;æ•°æ®åº“&lt;/a&gt;é¢†åŸŸã€‚é™¤äº†ä¸ªäººåšå®¢ï¼Œä½œè€…è¿˜ä¼šåœ¨ã€ŒçŸ¥è¯†æ˜Ÿçƒã€ï¼Œåˆ†äº«æ•°æ®åº“çŸ¥è¯†ã€ç¨‹åºå‘˜é€šç”¨æŠ€èƒ½ã€ç¨‹åºå‘˜æˆé•¿ã€é¢è¯•ç»éªŒã€åˆ›ä¸šå¿ƒå¾—ã€æŠ•èµ„å¿ƒå¾—ç­‰å†…å®¹ã€‚&lt;/p&gt;&lt;p&gt;â”€â”€ å‡ºè‡ª&lt;a href=&quot;https://nicelinks.site/post/6386e3416584a1758339a79f&quot;&gt;å€¾åŸä¹‹é“¾ - ç¼–ç¨‹å°æ¢¦|åº·å‡¯æ£®çš„æŠ€æœ¯åšå®¢&lt;/a&gt;&lt;/p&gt;&lt;p&gt;å¯¹å€¾åŸä¹‹é“¾æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå¯é€šè¿‡ Webï¼Œå°ç¨‹åºï¼Œå¿«åº”ç”¨ç­‰æ¸ é“è¿›è¡Œè®¿é—®(åç»­å°†æ”¯æŒæ›´å¤šï¼Œå¦‚ VsCode æ’ä»¶ï¼ŒChrome æ‰©å±•ç­‰)ã€‚æ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶å‘æˆ‘ä»¬åé¦ˆï¼ˆæ‚¨å¯ä»¥é€šè¿‡å®˜ç½‘åé¦ˆæ¸ é“ï¼Œæˆ–æ·»åŠ å¦‚ä¸‹å®¢æœå¾®ä¿¡ï¼‰ï¼ŒğŸ¤² ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://image.nicelinks.site/%E5%80%BE%E5%9F%8E%E4%B9%8B%E9%93%BE-%E5%BE%AE%E4%BF%A1-mini.jpeg&quot; alt=&quot;å€¾åŸä¹‹é“¾ - å®¢æœå¾®ä¿¡&quot;/&gt;&lt;/p&gt;&lt;h2 id=&quot;æœ¬æœŸæ–‡æœ«å¯„è¯­&quot;&gt;&lt;a href=&quot;#%E6%9C%AC%E6%9C%9F%E6%96%87%E6%9C%AB%E5%AF%84%E8%AF%AD&quot; aria-label=&quot;æœ¬æœŸæ–‡æœ«å¯„è¯­ permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;æœ¬æœŸæ–‡æœ«å¯„è¯­&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å±±ä¸åœ¨é«˜ï¼Œæœ‰ä»™åˆ™åã€‚æ°´ä¸åœ¨æ·±ï¼Œæœ‰é¾™åˆ™çµã€‚æ–¯æ˜¯é™‹å®¤ï¼ŒæƒŸå¾å¾·é¦¨&lt;/strong&gt;ã€‚è‹”ç—•ä¸Šé˜¶ç»¿ï¼Œè‰è‰²å…¥å¸˜é’ã€‚è°ˆç¬‘æœ‰é¸¿å„’ï¼Œå¾€æ¥æ— ç™½ä¸ã€‚å¯ä»¥è°ƒç´ ç´ï¼Œé˜…é‡‘ç»ã€‚æ— ä¸ç«¹ä¹‹ä¹±è€³ï¼Œæ— æ¡ˆç‰ä¹‹åŠ³å½¢ã€‚å—é˜³è¯¸è‘›åºï¼Œè¥¿èœ€å­äº‘äº­ã€‚å­”å­äº‘ï¼šä½•é™‹ä¹‹æœ‰ï¼Ÿâ”€â”€ å” Â· åˆ˜ç¦¹é”¡ã€Šé™‹å®¤é“­ã€‹&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://nicelinks.site/?utm_source=weekly&quot;&gt;å€¾åŸä¹‹é“¾&lt;/a&gt;ä½œä¸ºä¸€ä¸ªå¼€æ”¾å¹³å°ï¼Œæ—¨åœ¨äº‘é›†å…¨çƒ&lt;strong&gt;ä¼˜ç§€ç½‘ç«™&lt;/strong&gt;ï¼Œæ¢ç´¢äº’è”ç½‘ä¸­æ›´å¹¿é˜”çš„ä¸–ç•Œï¼›åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥è½»æ¾å‘ç°ã€å­¦ä¹ ã€åˆ†äº«æ›´å¤šæœ‰ç”¨æˆ–æœ‰è¶£çš„äº‹ç‰©ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img src=&quot;https://image.nicelinks.site/nicelinks-miniprogram-code.jpeg?imageView2/1/w/250/h/250/interlace/1/ignore-error/1&quot; alt=&quot;å°ç¨‹åºç  - å€¾åŸä¹‹é“¾&quot;/&gt;&lt;/p&gt;&lt;h2 id=&quot;æ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„æ–‡ç« &quot;&gt;&lt;a href=&quot;#%E6%82%A8%E5%8F%AF%E8%83%BD%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E6%96%87%E7%AB%A0&quot; aria-label=&quot;æ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„æ–‡ç«  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; version=&quot;1.1&quot; viewbox=&quot;0 0 16 16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;æ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„æ–‡ç« &lt;/h2&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>2c75096120eb55ecf052564098960a0b</guid>
<title>å¾®æœåŠ¡æ³¨å†Œä¸­å¿ƒè®¾è®¡åŸç†ä¸Golangå®ç°</title>
<link>https://toutiao.io/k/5iegt7s</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾®æœåŠ¡ä¸ºä»€ä¹ˆè¦ç”¨æ³¨å†Œä¸­å¿ƒææ³¨å†Œå‘ç°ï¼Ÿç›´æ¥ç”¨åŸŸåä¸é¦™å—ï¼Ÿä¸å¥½æ„æ€ï¼Œè¿˜çœŸä¸å¤ªé¦™ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹ï¼Œä¸ºå•¥å¾®æœåŠ¡æ¶æ„é‡Œè¦å¼•å…¥æ³¨å†Œä¸­å¿ƒï¼Œä»¥åŠæœåŠ¡æ³¨å†Œå’Œå‘ç°å¤§è‡´çš„åŸç†æ˜¯ä»€ä¹ˆã€‚&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzUzNTY5MzU2MA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f4pGhLz2xEbRFHnAQon2QLYgbBibCJo1ibJHesLWshPJeRibateRtAqkaf6BgjlbhYiaxHLq6Zu07CRPw/0?wx_fmt=png&quot; data-nickname=&quot;ç½‘ç®¡å¨biå¨&quot; data-alias=&quot;kevin_tech&quot; data-signature=&quot;åˆ†äº«è½¯ä»¶å¼€å‘å’Œç³»ç»Ÿæ¶æ„è®¾è®¡åŸºç¡€ã€Go è¯­è¨€å’ŒKubernetesã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å†…å®¹æè¦&lt;/span&gt;&lt;/h2&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡æœ¬æ–‡æ‚¨å°† get å¦‚ä¸‹çŸ¥è¯†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¾®æœåŠ¡ä¸ºä»€ä¹ˆå¼•å…¥æœåŠ¡æ³¨å†Œå‘ç°&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒè®¾è®¡åŸç†&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Golang ä»£ç å®ç°æœåŠ¡æ³¨å†Œä¸­å¿ƒ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸ºä»€ä¹ˆå¼•å…¥æœåŠ¡æ³¨å†Œå‘ç°&lt;/span&gt;&lt;/h2&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»å•ä½“æ¶æ„è½¬å‘å¾®æœåŠ¡æ¶æ„è¿‡ç¨‹ä¸­ï¼Œå½“æœåŠ¡è°ƒç”¨å…¶ä»–æœåŠ¡æ—¶ï¼Œå¦‚ä½•æ‰¾åˆ°æ­£ç¡®çš„æœåŠ¡åœ°å€æ˜¯æœ€åŸºç¡€é—®é¢˜ã€‚æœåŠ¡æ‹†åˆ†çš„æ—©æœŸï¼Œå°†æœåŠ¡è°ƒç”¨åŸŸåå†™æ­»åˆ°ä»£ç æˆ–é…ç½®æ–‡ä»¶ä¸­ï¼Œç„¶åé€šè¿‡ Host é…ç½®æˆ– DNS åŸŸåè§£æè¿›è¡Œè·¯ç”±å¯»å€ï¼ŒæœåŠ¡æœ‰å¤šä¸ªå®ä¾‹ï¼Œè¿˜ä¼šåŠ å…¥è´Ÿè½½å‡è¡¡ ï¼ˆNginxã€F5ï¼‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5939849624060151&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0PsYlyHY9F1LsMAoJ7BEhX25PhoQSdBK0fR9A8LkuWfrS2r5cxOiaAVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;532&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ï¼ˆæœåŠ¡åŸŸåé…ç½®æ¨¡å¼ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä½†äººå·¥ç»´æŠ¤æ…¢æ…¢ä¼šå‡ºç°ç“¶é¢ˆå’Œé—®é¢˜ï¼šæ–°å¢æœåŠ¡æˆ–æœåŠ¡æ‰©å®¹ï¼Œæ‰€æœ‰ä¾èµ–éœ€è¦æ–°å¢ä¿®æ”¹é…ç½®ï¼›æŸå°æœåŠ¡å™¨æŒ‚äº†è¿˜è¦æ‰‹åŠ¨æ‘˜æµé‡ï¼›æœåŠ¡ä¸Šä¸‹çº¿å˜æ›´æ—¶æ•ˆæ…¢ï¼›äººå·¥é…ç½®é”™è¯¯æˆ–æ¼é…ï¼›RPC ç±»å‹æœåŠ¡ä¸èƒ½æ»¡è¶³ ... è¿™æ—¶ä½ ä¼šæƒ³å¦‚æœèƒ½è®©æœåŠ¡è‡ªåŠ¨åŒ–å®Œæˆé…ç½®ï¼ˆ&lt;/span&gt;&lt;span&gt;æ³¨å†Œ&lt;/span&gt;&lt;span&gt;ï¼‰å’ŒæŸ¥æ‰¾ï¼ˆ&lt;/span&gt;&lt;span&gt;å‘ç°&lt;/span&gt;&lt;span&gt;ï¼‰å°±å¥½äº†ï¼Œäºæ˜¯ä¹æœåŠ¡æ³¨å†Œå‘ç°å°±åº”è¿è€Œç”Ÿã€‚&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6371681415929203&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu06zFA7txzpbUcebOEYr5f0B8A6IxU8U5Ydll6Lu8iaaZzgHqrKdgW9eg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;565&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ï¼ˆæœåŠ¡æ³¨å†Œå‘ç°æ¨¡å¼ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰æœåŠ¡æä¾›è€…åœ¨ä¸Šä¸‹çº¿æ—¶éƒ½ä¼šå‘ŠçŸ¥æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æ¶ˆè´¹è€…è¦æŸ¥æ‰¾æœåŠ¡ç›´æ¥ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–ã€‚ä¸€åˆ‡éƒ½å˜å¾—æ›´åŠ ç¾å¥½ï¼Œé‚£ä¹ˆæœåŠ¡æ³¨å†Œä¸­å¿ƒè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿç®€å•ï¼ä¼˜ç§€çš„å¼€æºé¡¹ç›®å·²æœ‰ä¸€å¤§æŠŠï¼Œå¤§åé¼é¼çš„ &lt;/span&gt;&lt;span&gt;Zookeeperã€Eureka&lt;/span&gt;&lt;span&gt;ï¼Œè¿˜æœ‰åæœŸä¹‹ç§€ &lt;/span&gt;&lt;span&gt;Consulã€Nacosã€Etcd&lt;/span&gt;&lt;span&gt;ï¼Œå½“ç„¶æœ‰äº›ç®—æ˜¯åˆ†å¸ƒå¼ KV å­˜å‚¨ï¼Œè¦å®ç°æœåŠ¡æ³¨å†Œå‘ç°ä»éœ€äº›é¢å¤–å·¥ä½œã€‚å¦‚ä½•æŠ€æœ¯é€‰å‹ï¼Œæ˜¯ AP æ¨¡å¼æ›´å¥½è¿˜æ˜¯ CP æ¨¡å¼æ›´å¥½ï¼Ÿ&lt;/span&gt;&lt;span&gt;ä»Šå¤©å…ˆæŠ›å¼€è¿™äº›å¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬äº²è‡ªåŠ¨æ‰‹&lt;span&gt;æ¥&lt;/span&gt;å®ç°ä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œæ·±å…¥ç†è§£å…¶è®¾è®¡åŸç†ï¼Œé€è¡Œä»£ç åˆ†æä¸å®è·µã€‚PSï¼šæœ¬æ–‡é¡¹ç›®ä»£ç å‚è€ƒ &lt;/span&gt;&lt;span&gt;bilibili discoverÂ &lt;/span&gt;&lt;span&gt;å¼€æºé¡¹ç›®è¿›è¡Œæ”¹é€ ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ³¨å†Œä¸­å¿ƒå®ç°åŸç†&lt;/span&gt;&lt;/h2&gt;&lt;/section&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;è®¾è®¡æ€æƒ³&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆè¿›è¡ŒåŠŸèƒ½éœ€æ±‚åˆ†æï¼Œä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œè¦å®ç°å¦‚ä¸‹åŸºæœ¬åŠŸèƒ½ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æœåŠ¡æ³¨å†Œï¼šæ¥å—æ¥è‡ªæœåŠ¡æäº¤çš„æ³¨å†Œä¿¡æ¯ï¼Œå¹¶ä¿å­˜èµ·æ¥&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡ä¸‹çº¿ï¼šæ¥å—æœåŠ¡çš„ä¸»åŠ¨ä¸‹çº¿è¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡ä»æ³¨å†Œä¿¡æ¯è¡¨ä¸­åˆ é™¤&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡è·å–ï¼šè°ƒç”¨æ–¹ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–æœåŠ¡ä¿¡æ¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡ç»­çº¦ï¼šæœåŠ¡å¥åº·æ£€æŸ¥ï¼ŒæœåŠ¡é€šè¿‡å¿ƒè·³ä¿æŒï¼ˆä¸»åŠ¨ç»­çº¦ï¼‰å‘ŠçŸ¥æ³¨å†Œä¸­å¿ƒæœåŠ¡å¯ç”¨&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡å‰”é™¤ï¼šæ³¨å†Œä¸­å¿ƒå°†é•¿æ—¶é—´ä¸ç»­çº¦çš„æœåŠ¡å®ä¾‹ä»æ³¨å†Œä¿¡æ¯è¡¨ä¸­åˆ é™¤&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;5&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ„é€ æ³¨å†Œè¡¨&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;section&gt;&lt;span&gt;æœåŠ¡ä¸­å¿ƒé¦–å…ˆè¦ç»´æŠ¤ä¸€ä¸ªæœåŠ¡åœ°å€æ³¨å†Œä¿¡æ¯åˆ—è¡¨ï¼ˆç®€ç§°&lt;/span&gt;&lt;span&gt;æ³¨å†Œè¡¨&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚é€šä¿—ç†è§£æ³¨å†Œè¡¨å°±åƒæ‰‹æœº&lt;/span&gt;&lt;span&gt;é€šè®¯å½•&lt;/span&gt;&lt;span&gt;ï¼Œè®°å½•äº†æ‰€æœ‰è”ç³»äººï¼ˆ&lt;/span&gt;&lt;span&gt;æœåŠ¡&lt;/span&gt;&lt;span&gt;ï¼‰çš„ç”µè¯ï¼ˆ&lt;/span&gt;&lt;span&gt;æœåŠ¡åœ°å€&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œé€šè¿‡è”ç³»äººå§“åï¼ˆ&lt;/span&gt;&lt;span&gt;æœåŠ¡åç§°&lt;/span&gt;&lt;span&gt;ï¼‰å³å¯æ‰¾åˆ°ã€‚&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é‚£ä¹ˆå¦‚ä½•å­˜å‚¨æ³¨å†Œè¡¨å‘¢ï¼Ÿæœ€æ™®éè®¤çŸ¥æƒ³åˆ°å­˜æ•°æ®åº“ï¼ˆRedis è¿™ç§å†…å­˜æ•°æ®åº“ï¼‰ï¼ŒZookeeperã€Etcd æœ¬èº«ä½œä¸ºåˆ†å¸ƒå¼ KV å­˜å‚¨å¤©ç„¶å…·æœ‰æˆä¸ºæ³¨å†Œä¸­å¿ƒçš„ä¼˜åŠ¿ï¼Œä½†è¿™äº›éƒ½ä¼šå¼•å…¥æ–°ç»„ä»¶ï¼Œè¦è€ƒè™‘å…¶ç¨³å®šæ€§åŠæ€§èƒ½ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ³¨å†Œä¿¡æ¯å­˜åˆ°&lt;/span&gt;&lt;span&gt;å†…å­˜&lt;/span&gt;&lt;span&gt;ä¸­ï¼Œè¿™æ—¶å€™ä½ ä¼šæƒ³å¦‚æœæœåŠ¡æŒ‚äº†å†…å­˜æ•°æ®ä¸¢äº†æ€ä¹ˆåŠï¼Ÿè¿™ä¸ªé—®é¢˜åé¢æˆ‘ä»¬ä¼šæƒ³åŠæ³•è§£å†³ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆæ„å»ºä¸€ä¸ª&lt;/span&gt;&lt;span&gt;&lt;strong&gt;æ³¨å†Œè¡¨ Registry æ•°æ®ç»“æ„&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â RegistryÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â appsÂ &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]*Application&lt;br/&gt;Â Â Â Â lockÂ sync.RWMutex&lt;br/&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;appsÂ  è®°å½•&lt;span&gt;åº”ç”¨æœåŠ¡ Application çš„ä¿¡æ¯&lt;/span&gt;ï¼Œä½¿ç”¨ map ç»“æ„ï¼Œkey ä¸ºåº”ç”¨æœåŠ¡çš„å”¯ä¸€æ ‡è¯†ï¼Œå€¼ä¸ºåº”ç”¨æœåŠ¡ç»“æ„ç±»å‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;lockÂ  è¯»å†™é”ï¼Œä¿éšœå¹¶å‘è¯»å†™å®‰å…¨&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;åº”ç”¨æœåŠ¡ Application&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ç»“æ„å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â ApplicationÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â appidÂ Â Â Â Â Â Â Â Â Â Â &lt;span&gt;string&lt;/span&gt;&lt;br/&gt;Â Â Â Â instancesÂ Â Â Â Â Â Â &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]*Instance&lt;br/&gt;Â Â Â Â latestTimestampÂ &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â lockÂ Â Â Â Â Â Â Â Â Â Â Â sync.RWMutex&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡å®ä¾‹ Instance&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; çš„ç»“æ„å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â InstanceÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â EnvÂ Â Â Â Â Â &lt;span&gt;string&lt;/span&gt;Â Â Â &lt;span&gt;`json:&quot;env&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â AppIdÂ Â Â Â &lt;span&gt;string&lt;/span&gt;Â Â Â &lt;span&gt;`json:&quot;appid&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â HostnameÂ &lt;span&gt;string&lt;/span&gt;Â Â Â &lt;span&gt;`json:&quot;hostname&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â AddrsÂ Â Â Â []&lt;span&gt;string&lt;/span&gt;Â &lt;span&gt;`json:&quot;addrs&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â VersionÂ Â &lt;span&gt;string&lt;/span&gt;Â Â Â &lt;span&gt;`json:&quot;version&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â StatusÂ Â Â &lt;span&gt;uint32&lt;/span&gt;Â Â Â &lt;span&gt;`json:&quot;status&quot;`&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â RegTimestampÂ Â Â Â &lt;span&gt;int64&lt;/span&gt;Â &lt;span&gt;`json:&quot;reg_timestamp&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â UpTimestampÂ Â Â Â Â &lt;span&gt;int64&lt;/span&gt;Â &lt;span&gt;`json:&quot;up_timestamp&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â RenewTimestampÂ Â &lt;span&gt;int64&lt;/span&gt;Â &lt;span&gt;`json:&quot;renew_timestamp&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â DirtyTimestampÂ Â &lt;span&gt;int64&lt;/span&gt;Â &lt;span&gt;`json:&quot;dirty_timestamp&quot;`&lt;/span&gt;&lt;br/&gt;Â Â Â Â LatestTimestampÂ &lt;span&gt;int64&lt;/span&gt;Â &lt;span&gt;`json:&quot;latest_timestamp&quot;`&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ³¨å†Œè¡¨åŠç›¸å…³ä¾èµ–çš„ç»“æ„ä½“æ„å»ºå®Œæˆäº†ï¼Œæ¢³ç†ä¸€ä¸‹æ‰€æœ‰æ¦‚å¿µå’Œå…³ç³»ã€‚æ³¨å†Œè¡¨ Registry ä¸­å­˜æ”¾å¤šä¸ªåº”ç”¨æœåŠ¡ Applicationï¼Œæ¯ä¸ªåº”ç”¨æœåŠ¡åˆä¼šæœ‰å¤šä¸ªæœåŠ¡å®ä¾‹ Instanceï¼ŒæœåŠ¡å®ä¾‹ä¸­å­˜å‚¨æœåŠ¡çš„å…·ä½“åœ°å€å’Œå…¶ä»–ä¿¡æ¯ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5333333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0TXiaBPBlibEpmEcUC8iaSGyK3lFE4zBZKibcN4McD1jHfmt1KcWjh9lVlA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;480&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;5&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡æ³¨å†Œ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;æ¥å—æ¥è‡ªæœåŠ¡æäº¤çš„æ³¨å†Œä¿¡æ¯ï¼Œå¹¶ä¿å­˜åˆ°æ³¨å†Œè¡¨ä¸­ã€‚å…ˆ&lt;/span&gt;åˆå§‹åŒ–æ³¨å†Œè¡¨ NewRegistry() ï¼Œæ ¹æ®æäº¤ä¿¡æ¯æ„å»ºå®ä¾‹ NewInstance()ï¼Œç„¶åè¿›è¡Œæ³¨å†Œå†™å…¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;NewRegistry&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â *&lt;span&gt;Registry&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â registryÂ :=Â &amp;amp;Registry{&lt;br/&gt;Â Â Â Â Â Â Â Â apps:Â &lt;span&gt;make&lt;/span&gt;(&lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]*Application),&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â registry&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;NewInstance&lt;/span&gt;&lt;span&gt;(reqÂ *RequestRegister)&lt;/span&gt;Â *&lt;span&gt;Instance&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â nowÂ :=Â time.Now().UnixNano()&lt;br/&gt;Â Â Â Â instanceÂ :=Â &amp;amp;Instance{&lt;br/&gt;Â Â Â Â Â Â Â Â Env:Â Â Â Â Â Â Â Â Â Â Â Â Â req.Env,&lt;br/&gt;Â Â Â Â Â Â Â Â AppId:Â Â Â Â Â Â Â Â Â Â Â req.AppId,&lt;br/&gt;Â Â Â Â Â Â Â Â Hostname:Â Â Â Â Â Â Â Â req.Hostname,&lt;br/&gt;Â Â Â Â Â Â Â Â Addrs:Â Â Â Â Â Â Â Â Â Â Â req.Addrs,&lt;br/&gt;Â Â Â Â Â Â Â Â Version:Â Â Â Â Â Â Â Â Â req.Version,&lt;br/&gt;Â Â Â Â Â Â Â Â Status:Â Â Â Â Â Â Â Â Â Â req.Status,&lt;br/&gt;Â Â Â Â Â Â Â Â RegTimestamp:Â Â Â Â now,&lt;br/&gt;Â Â Â Â Â Â Â Â UpTimestamp:Â Â Â Â Â now,&lt;br/&gt;Â Â Â Â Â Â Â Â RenewTimestamp:Â Â now,&lt;br/&gt;Â Â Â Â Â Â Â Â DirtyTimestamp:Â Â now,&lt;br/&gt;Â Â Â Â Â Â Â Â LatestTimestamp:Â now,&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â instance&lt;br/&gt;}&lt;br/&gt;rÂ :=Â NewRegistry()&lt;br/&gt;instanceÂ :=Â NewInstance(&amp;amp;req)&lt;br/&gt;r.Register(instance,Â req.LatestTimestamp)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ³¨å†Œæ—¶ï¼Œå…ˆä» apps ä¸­æŸ¥æ‰¾æ˜¯å¦å·²æ³¨å†Œè¿‡ï¼Œæ ¹æ®å”¯ä¸€æ ‡è¯† key = appid + env Â ç¡®å®šã€‚å¦‚æœæ²¡æœ‰æ³¨å†Œè¿‡ï¼Œå…ˆæ–°å»ºåº”ç”¨ appï¼Œç„¶åå°† instance åŠ å…¥åˆ° app ä¸­ï¼Œæœ€å app æ”¾å…¥æ³¨å†Œè¡¨ä¸­ã€‚è¿™é‡Œåˆ†åˆ«ä½¿ç”¨äº†è¯»é”å’Œå†™é”ï¼Œä¿éšœæ•°æ®å®‰å…¨åŒæ—¶ï¼Œå°½é‡å‡å°‘é”æ—¶é—´å’Œé”æŠ¢å å½±å“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;Register&lt;/span&gt;&lt;span&gt;(instanceÂ *Instance,Â latestTimestampÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Application,Â *errcode.Error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â keyÂ :=Â getKey(instance.AppId,Â instance.Env)&lt;br/&gt;Â Â Â Â r.lock.RLock()&lt;br/&gt;Â Â Â Â app,Â okÂ :=Â r.apps[key]&lt;br/&gt;Â Â Â Â r.lock.RUnlock()&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {Â &lt;span&gt;//newÂ app&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â appÂ =Â NewApplication(instance.AppId)&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//addÂ instance&lt;/span&gt;&lt;br/&gt;Â Â Â Â _,Â isNewÂ :=Â app.AddInstance(instance,Â latestTimestamp)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â isNewÂ {Â &lt;span&gt;//todoÂ }&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//addÂ intoÂ registryÂ apps&lt;/span&gt;&lt;br/&gt;Â Â Â Â r.lock.Lock()&lt;br/&gt;Â Â Â Â r.apps[key]Â =Â app&lt;br/&gt;Â Â Â Â r.lock.Unlock()&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â app,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ–°å»ºåº”ç”¨æœåŠ¡ appï¼Œåˆå§‹åŒ– instancesÂ &lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;NewApplication&lt;/span&gt;&lt;span&gt;(appidÂ &lt;span&gt;string&lt;/span&gt;)&lt;/span&gt;Â *&lt;span&gt;Application&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;Application{&lt;br/&gt;Â Â Â Â Â Â Â Â appid:Â Â Â Â Â appid,&lt;br/&gt;Â Â Â Â Â Â Â Â instances:Â &lt;span&gt;make&lt;/span&gt;(&lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]*Instance),&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}Â Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å°†æœåŠ¡ä¸»æœºå®ä¾‹ instance åŠ å…¥åº”ç”¨ app ä¸­ï¼Œæ³¨æ„åˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨ï¼Œå­˜åœ¨æ ¹æ®è„æ—¶é—´æˆ³Â  DirtyTimestamp æ¯”å¯¹ï¼Œæ˜¯å¦è¿›è¡Œæ›¿æ¢ï¼Œæ·»åŠ å®ä¾‹ä¿¡æ¯ï¼Œæ›´æ–°æœ€æ–°æ—¶é—´ latestTimestamp ï¼Œå¹¶è¿”å›å®ä¾‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(appÂ *Application)&lt;/span&gt;Â &lt;span&gt;AddInstance&lt;/span&gt;&lt;span&gt;(inÂ *Instance,Â latestTimestampÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Instance,Â &lt;span&gt;bool&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â app.lock.Lock()Â &lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â app.lock.Unlock()&lt;br/&gt;Â Â Â Â appIns,Â okÂ :=Â app.instances[in.Hostname]&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â okÂ {Â &lt;span&gt;//exist&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â in.UpTimestampÂ =Â appIns.UpTimestamp&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//dirtytimestamp&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â in.DirtyTimestampÂ &amp;lt;Â appIns.DirtyTimestampÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.Println(&lt;span&gt;&quot;registerÂ existÂ dirtyÂ timestamp&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â inÂ =Â appIns&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//addÂ orÂ updateÂ instances&lt;/span&gt;&lt;br/&gt;Â Â Â Â app.instances[in.Hostname]Â =Â in&lt;br/&gt;Â Â Â Â app.upLatestTimestamp(latestTimestamp)&lt;br/&gt;Â Â Â Â returnInsÂ :=Â &lt;span&gt;new&lt;/span&gt;(Instance)&lt;br/&gt;Â Â Â Â *returnInsÂ =Â *in&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â returnIns,Â !ok&lt;br/&gt;}Â Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;è¿”å› !ok ï¼ˆisNewï¼‰è¡¨æ˜ï¼Œæœ¬æ¬¡æœåŠ¡æ³¨å†Œæ—¶ï¼Œå®ä¾‹ä¸ºæ–°å¢è¿˜æ˜¯æ›¿æ¢ï¼Œç”¨æ¥ç»´æŠ¤æœåŠ¡å¥åº·ä¿¡æ¯ï¼ˆåé¢ä¼šå†æ¬¡æåˆ°ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æœåŠ¡æ³¨å†Œ&lt;span&gt;å®Œæˆäº†&lt;/span&gt;ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹çœ‹ä¸‹æ•ˆæœã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;var&lt;/span&gt;Â reqÂ =Â &amp;amp;model.RequestRegister{AppId:Â &lt;span&gt;&quot;com.xx.testapp&quot;&lt;/span&gt;,Â Hostname:Â &lt;span&gt;&quot;myhost&quot;&lt;/span&gt;,Â Addrs:Â []&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;http://testapp.xx.com/myhost&quot;&lt;/span&gt;},Â Status:Â &lt;span&gt;1&lt;/span&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;TestRegister&lt;/span&gt;&lt;span&gt;(tÂ *testing.T)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â rÂ :=Â model.NewRegistry()&lt;br/&gt;Â Â Â Â instanceÂ :=Â model.NewInstance(req)&lt;br/&gt;Â Â Â Â app,Â _Â :=Â r.Register(instance,Â req.LatestTimestamp)&lt;br/&gt;Â Â Â Â t.Log(app)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.08342133051742344&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0ib3ic8lYLBc7pFrllZZyx3fXLQWM63GLxb1ibuuib7uszeOeUlxGG6kscw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;947&quot;/&gt;&lt;/section&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡å‘ç°&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;æŸ¥æ‰¾å·²æ³¨å†Œçš„æœåŠ¡è·å–ä¿¡æ¯ï¼Œå¯ä»¥æŒ‡å®šæ¡ä»¶æŸ¥æ‰¾ï¼Œä¹Ÿå¯ä»¥å…¨é‡æŸ¥æ‰¾ã€‚è¿™é‡Œä»¥&lt;/span&gt;æŒ‡å®šè¿‡æ»¤æ¡ä»¶ appid ã€env å’Œ status ä¸ºä¾‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;rÂ :=Â model.NewRegistry()&lt;br/&gt;fetchData,Â errÂ :=Â r.Fetch(req.Env,Â req.AppId,Â req.Status,Â &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ ¹æ® appid å’Œ env ç»„åˆæˆ keyï¼Œç„¶åä»æ³¨å†Œè¡¨çš„ apps ä¸­è·å–åº”ç”¨Â appï¼Œç„¶åé€šè¿‡ app è·å–æœåŠ¡å®ä¾‹Â GetInstance()&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;Fetch&lt;/span&gt;&lt;span&gt;(env,Â appidÂ &lt;span&gt;string&lt;/span&gt;,Â statusÂ &lt;span&gt;uint32&lt;/span&gt;,Â latestTimeÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*FetchData,Â *errcode.Error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â app,Â okÂ :=Â r.getApplication(appid,Â env)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â app.GetInstance(status,Â latestTime)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;getApplication&lt;/span&gt;&lt;span&gt;(appid,Â envÂ &lt;span&gt;string&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Application,Â &lt;span&gt;bool&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â keyÂ :=Â getKey(appid,Â env)&lt;br/&gt;Â Â Â Â r.lock.RLock()Â &lt;br/&gt;Â Â Â Â app,Â okÂ :=Â r.apps[key]&lt;br/&gt;Â Â Â Â r.lock.RUnlock()&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â app,Â ok&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ ¹æ® app è·å–æ‰€æœ‰åº”ç”¨å®ä¾‹ï¼Œå¹¶ç”¨ status è¿‡æ»¤ï¼Œè¿™é‡Œå¯¹è¿”å›ç»“æœ instances ä¸­çš„ Addr è¿›è¡Œäº†æ‹·è´è¿”å›ä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(appÂ *Application)&lt;/span&gt;Â &lt;span&gt;GetInstance&lt;/span&gt;&lt;span&gt;(statusÂ &lt;span&gt;uint32&lt;/span&gt;,Â latestTimeÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*FetchData,Â *errcode.Error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â app.lock.RLock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â app.lock.RUnlock()&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â latestTimeÂ &amp;gt;=Â app.latestTimestampÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotModified&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â fetchDataÂ :=Â FetchData{&lt;br/&gt;Â Â Â Â Â Â Â Â Instances:Â Â Â Â Â Â Â &lt;span&gt;make&lt;/span&gt;([]*Instance,Â &lt;span&gt;0&lt;/span&gt;),&lt;br/&gt;Â Â Â Â Â Â Â Â LatestTimestamp:Â app.latestTimestamp,&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â existsÂ &lt;span&gt;bool&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â _,Â instanceÂ :=Â &lt;span&gt;range&lt;/span&gt;Â app.instancesÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â status&amp;amp;instance.StatusÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â existsÂ =Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â newInstanceÂ :=Â copyInstance(instance)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â fetchData.InstancesÂ =Â &lt;span&gt;append&lt;/span&gt;(fetchData.Instances,Â newInstance)&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !existsÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;fetchData,Â &lt;span&gt;nil&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//deepÂ copy&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;copyInstance&lt;/span&gt;&lt;span&gt;(srcÂ *Instance)&lt;/span&gt;Â *&lt;span&gt;Instance&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â dstÂ :=Â &lt;span&gt;new&lt;/span&gt;(Instance)&lt;br/&gt;Â Â Â Â *dstÂ =Â *src&lt;br/&gt;Â Â Â Â &lt;span&gt;//copyÂ addrs&lt;/span&gt;&lt;br/&gt;Â Â Â Â dst.AddrsÂ =Â &lt;span&gt;make&lt;/span&gt;([]&lt;span&gt;string&lt;/span&gt;,Â &lt;span&gt;len&lt;/span&gt;(src.Addrs))&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â i,Â addrÂ :=Â &lt;span&gt;range&lt;/span&gt;Â src.AddrsÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â dst.Addrs[i]Â =Â addr&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â dst&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œå…ˆæ³¨å†Œå†è·å–ï¼Œçœ‹åˆ°å¯ä»¥æ­£å¸¸è·å–åˆ°ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.09017132551848513&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0gIG3jbJkEpibDIoC05MuXKc4k2Evh0LZe10vYYpleokkhPAIUMBXA3w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1109&quot;/&gt;&lt;/section&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡ä¸‹çº¿&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;æ¥å—æœåŠ¡çš„ä¸‹çº¿è¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡ä»æ³¨å†Œä¿¡æ¯åˆ—è¡¨ä¸­åˆ é™¤&lt;/span&gt;ã€‚é€šè¿‡ä¼ å…¥ env, appid, hostname ä¸‰è¦ç´ ä¿¡æ¯è¿›è¡Œå¯¹åº”æœåŠ¡å®ä¾‹çš„å–æ¶ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;rÂ :=Â model.NewRegistry()&lt;br/&gt;r.Cancel(req.Env, req.AppId, req.Hostname, 0)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ ¹æ® appid å’Œ env æ‰¾åˆ°å¯¹è±¡çš„ appï¼Œç„¶ååˆ é™¤ app ä¸­å¯¹åº”çš„ hostnameã€‚å¦‚æœ hostname å app.instances ä¸ºç©ºï¼Œé‚£ä¹ˆå°† app ä»æ³¨å†Œè¡¨ä¸­æ¸…é™¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;Cancel&lt;/span&gt;&lt;span&gt;(env,Â appid,Â hostnameÂ &lt;span&gt;string&lt;/span&gt;,Â latestTimestampÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Instance,Â *errcode.Error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â log.Println(&lt;span&gt;&quot;actionÂ cancel...&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;//findÂ app&lt;/span&gt;&lt;br/&gt;Â Â Â Â app,Â okÂ :=Â r.getApplication(appid,Â env)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }Â Â Â &lt;br/&gt;Â Â Â Â instance,Â ok,Â insLenÂ :=Â app.Cancel(hostname,Â latestTimestamp)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//ifÂ instancesÂ isÂ empty,Â deleteÂ appÂ fromÂ apps&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â insLenÂ ==Â &lt;span&gt;0&lt;/span&gt;Â {Â &lt;br/&gt;Â Â Â Â Â Â Â Â r.lock.Lock()&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;delete&lt;/span&gt;(r.apps,Â getKey(appid,Â env))&lt;br/&gt;Â Â Â Â Â Â Â Â r.lock.Unlock()&lt;br/&gt;Â Â Â Â }Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â instance,Â &lt;span&gt;nil&lt;/span&gt;Â &lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(appÂ *Application)&lt;/span&gt;Â &lt;span&gt;Cancel&lt;/span&gt;&lt;span&gt;(hostnameÂ &lt;span&gt;string&lt;/span&gt;,Â latestTimestampÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Instance,Â &lt;span&gt;bool&lt;/span&gt;,Â &lt;span&gt;int&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â newInstanceÂ :=Â &lt;span&gt;new&lt;/span&gt;(Instance)&lt;br/&gt;Â Â Â Â app.lock.Lock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â app.lock.Unlock()&lt;br/&gt;Â Â Â Â appIn,Â okÂ :=Â app.instances[hostname]&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â ok,Â &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;Â Â Â Â }Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//deleteÂ hostname&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;delete&lt;/span&gt;(app.instances,Â hostname)&lt;br/&gt;Â Â Â Â appIn.LatestTimestampÂ =Â latestTimestamp&lt;br/&gt;Â Â Â Â app.upLatestTimestamp(latestTimestamp)&lt;br/&gt;Â Â Â Â *newInstanceÂ =Â *appIn&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newInstance,Â &lt;span&gt;true&lt;/span&gt;,Â &lt;span&gt;len&lt;/span&gt;(app.instances)&lt;br/&gt;}Â Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ç¼–å†™æµ‹è¯•ç”¨ä¾‹å…ˆæ³¨å†Œï¼Œå†å–æ¶ˆï¼Œç„¶åè·å–ä¿¡æ¯ï¼Œå‘ç° 404 not foundã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.22015503875968992&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0MBlGS0ZTSE206fZEgxGzL5H7zUmsEP6FRTeqWh9v3sgFQDEGY8I9ZQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;645&quot;/&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;5&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡ç»­çº¦&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;å®ç°&lt;/span&gt;æœåŠ¡çš„å¥åº·æ£€æŸ¥æœºåˆ¶ï¼ŒæœåŠ¡æ³¨å†Œåï¼Œå¦‚æœæ²¡æœ‰å–æ¶ˆï¼Œé‚£ä¹ˆå°±åº”è¯¥åœ¨æ³¨å†Œè¡¨ä¸­ï¼Œå¯ä»¥éšæ—¶æŸ¥åˆ°ï¼Œå¦‚æœæŸä¸ªæœåŠ¡å®ä¾‹æŒ‚äº†ï¼Œèƒ½å¦è‡ªåŠ¨çš„ä»æ³¨å†Œè¡¨ä¸­åˆ é™¤ï¼Œä¿éšœæ³¨å†Œè¡¨ä¸­çš„æœåŠ¡å®ä¾‹éƒ½æ˜¯æ­£å¸¸çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼åšæ³•ï¼š&lt;/span&gt;&lt;span&gt;æ³¨å†Œä¸­å¿ƒï¼ˆæœåŠ¡ç«¯ï¼‰ä¸»åŠ¨æ¢æ´»&lt;/span&gt;&lt;span&gt;ï¼Œé€šè¿‡è¯·æ±‚æŒ‡å®šæ¥å£å¾—åˆ°æ­£å¸¸å“åº”æ¥ç¡®è®¤ï¼›&lt;/span&gt;&lt;span&gt;æœåŠ¡å®ä¾‹ï¼ˆå®¢æˆ·ç«¯ï¼‰ä¸»åŠ¨ä¸ŠæŠ¥&lt;/span&gt;&lt;span&gt;ï¼Œè°ƒç”¨ç»­çº¦æ¥å£è¿›è¡Œç»­çº¦ï¼Œç»­çº¦è®¾æœ‰æ—¶æ•ˆ &lt;/span&gt;&lt;span&gt;TTL ï¼ˆtime to liveï¼‰&lt;/span&gt;&lt;span&gt;ã€‚ä¸¤ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼Œä¸åŒçš„æ³¨å†Œä¸­å¿ƒä¹Ÿé‡‡ç”¨äº†ä¸åŒçš„æ–¹å¼ï¼Œè¿™é‡Œé€‰å‹ç¬¬äºŒç§æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;rÂ :=Â model.NewRegistry()&lt;br/&gt;r.Renew(req.Env, req.AppId, req.Hostname)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ ¹æ® appid å’Œ env æ‰¾åˆ°å¯¹è±¡çš„ appï¼Œå†æ ¹æ® hostname æ‰¾åˆ°å¯¹åº”ä¸»æœºå®ä¾‹ï¼Œæ›´æ–°å…¶ RenewTimestamp ä¸ºå½“å‰æ—¶é—´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;Renew&lt;/span&gt;&lt;span&gt;(env,Â appid,Â hostnameÂ &lt;span&gt;string&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Instance,Â *errcode.Error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â app,Â okÂ :=Â r.getApplication(appid,Â env)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â in,Â okÂ :=Â app.Renew(hostname)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â errcode.NotFound&lt;br/&gt;Â Â Â Â }Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â in,Â &lt;span&gt;nil&lt;/span&gt;&lt;br/&gt;}Â Â &lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(appÂ *Application)&lt;/span&gt;Â &lt;span&gt;Renew&lt;/span&gt;&lt;span&gt;(hostnameÂ &lt;span&gt;string&lt;/span&gt;)&lt;/span&gt;Â &lt;span&gt;(*Instance,Â &lt;span&gt;bool&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â app.lock.Lock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â app.lock.Unlock()&lt;br/&gt;Â Â Â Â appIn,Â okÂ :=Â app.instances[hostname]&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â !okÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;nil&lt;/span&gt;,Â ok&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â appIn.RenewTimestampÂ =Â time.Now().UnixNano()&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â copyInstance(appIn),Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;}Â &lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœåŠ¡å‰”é™¤&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span/&gt;æ—¢ç„¶æœ‰æœåŠ¡å®šæœŸç»­çº¦ï¼Œé‚£ä¹ˆå¯¹åº”çš„å¦‚æœæœåŠ¡æ²¡æœ‰ç»­çº¦å‘¢ï¼ŸæœåŠ¡å¦‚æœä¸‹çº¿å¯ä»¥ä½¿ç”¨ Cancel è¿›è¡Œå–æ¶ˆï¼Œä½†å¦‚æœæœåŠ¡å› ä¸ºç½‘ç»œæ•…éšœæˆ–æŒ‚äº†å¯¼è‡´ä¸èƒ½æä¾›æœåŠ¡ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ£€æŸ¥å®ƒæ˜¯å¦æŒ‰æ—¶ç»­çº¦æ¥åˆ¤æ–­ï¼ŒæŠŠ TTL è¾¾åˆ°é˜ˆå€¼çš„æœåŠ¡å®ä¾‹å‰”é™¤ï¼ˆCancelï¼‰ï¼Œå®ç°æœåŠ¡çš„è¢«åŠ¨ä¸‹çº¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆåœ¨æ–°å»ºæ³¨å†Œè¡¨æ—¶å¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ–°å¯ä¸€ä¸ª goroutine æ¥å®ç°ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;funcÂ NewRegistry()Â *RegistryÂ {&lt;br/&gt;&lt;span&gt;++Â goÂ r.evictTask()&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é…ç½®å®šæ—¶æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤ 60 ç§’ï¼Œé€šè¿‡ Tick å®šæ—¶å™¨å¼€å¯ evictã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;evictTask&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â tickerÂ :=Â time.Tick(configs.CheckEvictInterval)&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;select&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &amp;lt;-ticker:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â r.evict()&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;éå†æ³¨å†Œè¡¨çš„æ‰€æœ‰ appsï¼Œç„¶åå†éå†å…¶ä¸­çš„ instancesï¼Œå¦‚æœå½“å‰æ—¶é—´å‡å»å®ä¾‹ä¸Šä¸€æ¬¡ç»­çº¦æ—¶é—´ instance.RenewTimestamp è¾¾åˆ°é˜ˆå€¼ï¼ˆé»˜è®¤ 90 ç§’ï¼‰ï¼Œé‚£ä¹ˆå°†å…¶åŠ å…¥è¿‡æœŸé˜Ÿåˆ—ä¸­ã€‚è¿™é‡Œå¹¶æ²¡æœ‰ç›´æ¥å°†è¿‡æœŸé˜Ÿåˆ—æ‰€æœ‰å®ä¾‹éƒ½å–æ¶ˆï¼Œè€ƒè™‘ &lt;span&gt;GC&lt;/span&gt; ä»¥åŠ&lt;span&gt; æœ¬åœ°æ—¶é—´æ¼‚ç§»&lt;/span&gt;çš„å› ç´ ï¼Œè®¾å®šäº†ä¸€ä¸ªå‰”é™¤çš„ä¸Šé™ evictionLimitï¼Œéšæœºå‰”é™¤ä¸€äº›è¿‡æœŸå®ä¾‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;evict&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â nowÂ :=Â time.Now().UnixNano()&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â expiredInstancesÂ []*Instance&lt;br/&gt;Â Â Â Â appsÂ :=Â r.getAllApplications()&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â registryLenÂ &lt;span&gt;int&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â _,Â appÂ :=Â &lt;span&gt;range&lt;/span&gt;Â appsÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â registryLenÂ +=Â app.GetInstanceLen()&lt;br/&gt;Â Â Â Â Â Â Â Â allInstancesÂ :=Â app.GetAllInstances()&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â _,Â instanceÂ :=Â &lt;span&gt;range&lt;/span&gt;Â allInstancesÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â now-instance.RenewTimestampÂ &amp;gt;Â &lt;span&gt;int64&lt;/span&gt;(configs.InstanceExpireDuration)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â expiredInstancesÂ =Â &lt;span&gt;append&lt;/span&gt;(expiredInstances,Â instance)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â evictionLimitÂ :=Â registryLenÂ -Â &lt;span&gt;int&lt;/span&gt;(&lt;span&gt;float64&lt;/span&gt;(registryLen)*configs.SelfProtectThreshold)&lt;br/&gt;Â Â Â Â expiredLenÂ :=Â &lt;span&gt;len&lt;/span&gt;(expiredInstances)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â expiredLenÂ &amp;gt;Â evictionLimitÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â expiredLenÂ =Â evictionLimit&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â expiredLenÂ ==Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â iÂ :=Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â expiredLen;Â i++Â {&lt;br/&gt;Â Â Â Â Â Â Â Â jÂ :=Â iÂ +Â rand.Intn(&lt;span&gt;len&lt;/span&gt;(expiredInstances)-i)&lt;br/&gt;Â Â Â Â Â Â Â Â expiredInstances[i],Â expiredInstances[j]Â =Â expiredInstances[j],Â expiredInstances[i]&lt;br/&gt;Â Â Â Â Â Â Â Â expiredInstanceÂ :=Â expiredInstances[i]&lt;br/&gt;Â Â Â Â Â Â Â Â r.Cancel(expiredInstance.Env,Â expiredInstance.AppId,Â expiredInstance.Hostname,Â now)&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å‰”é™¤ä¸Šé™æ•°é‡ï¼Œæ˜¯é€šè¿‡&lt;/span&gt;&lt;span&gt;å½“å‰æ³¨å†Œè¡¨å¤§å°&lt;/span&gt;&lt;span&gt;ï¼ˆæ³¨å†Œè¡¨æ‰€æœ‰ instances å®ä¾‹æ•°ï¼‰&lt;/span&gt;&lt;span&gt;å‡å»Â &lt;/span&gt;&lt;span&gt;è§¦å‘è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶çš„é˜ˆå€¼&lt;/span&gt;&lt;span&gt;ï¼ˆå½“å‰æ³¨å†Œè¡¨å¤§å° * ä¿æŠ¤è‡ªæˆ‘æœºåˆ¶æ¯”ä¾‹å€¼ï¼‰ï¼Œä¿æŠ¤æœºåˆ¶ç¨åä¼šå…·ä½“è§£é‡Šã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å‰”é™¤è¿‡æœŸæ—¶ï¼Œé‡‡ç”¨äº†Â &lt;span&gt;Knuth-Shuffle ç®—æ³•&lt;/span&gt;ï¼Œä¹Ÿå«&lt;span&gt;å…¬å¹³æ´—ç‰Œç®—æ³•&lt;/span&gt;æ¥å®ç°éšæœºå‰”é™¤ã€‚å½“ç„¶å¦‚æœ expiredLen &amp;lt;= evictionLimitï¼Œéšæœºå‰”é™¤çš„æ„ä¹‰ä¸å¤§ï¼Œå¦‚æœå‰è€…å¤§äºåè€…ï¼Œéšæœºå‰”é™¤èƒ½æœ€å¤§ç¨‹åº¦ä¿éšœï¼Œå‰”é™¤çš„å®ä¾‹å‡åŒ€åˆ†æ•£åˆ°æ‰€æœ‰åº”ç”¨å®ä¾‹ä¸­ï¼Œé™ä½æŸæœåŠ¡è¢«å…¨éƒ¨æ¸…ç©ºçš„é£é™©ã€‚å…¬å¹³æ´—ç‰Œç®—æ³•å®ç°ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¾ªç¯éå†è¿‡æœŸåˆ—è¡¨ï¼Œå°†å½“å‰æ•°ä¸ç‰¹å®šéšæœºæ•°äº¤æ¢ï¼Œå’Œæˆ‘ä»¬æ‰“ç‰Œæ—¶ä¸¤ä¸¤äº¤æ¢æ´—ç‰Œè¿‡ç¨‹ç±»ä¼¼ï¼Œå®ƒå®ç°äº† O(n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œç”±Â &lt;span&gt;Knuth å‘æ˜ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;è‡ªæˆ‘ä¿æŠ¤&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;åŠŸèƒ½ç›®æ ‡ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span/&gt;æ—¢ç„¶æœåŠ¡ä¼šå®šæœŸå‰”é™¤è¶…æ—¶æœªç»­çº¦çš„æœåŠ¡ï¼Œé‚£ä¹ˆå‡è®¾ä¸€ç§æƒ…å†µï¼Œç½‘ç»œä¸€æ®µæ—¶é—´å‘ç”Ÿäº†å¼‚å¸¸ï¼Œæ‰€æœ‰æœåŠ¡éƒ½æ²¡æˆåŠŸç»­çº¦ï¼Œè¿™æ—¶æ³¨å†Œä¸­å¿ƒæ˜¯å¦å°†æ‰€æœ‰æœåŠ¡&lt;/span&gt;&lt;span&gt;å…¨éƒ¨å‰”é™¤&lt;/span&gt;&lt;span&gt;ï¼Ÿå½“ç„¶ä¸è¡Œï¼æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª&lt;/span&gt;&lt;span&gt;è‡ªæˆ‘ä¿æŠ¤&lt;/span&gt;&lt;span&gt;çš„æœºåˆ¶é˜²æ­¢æ­¤ç±»äº‹æƒ…çš„å‘ç”Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æ€ä¹ˆè®¾è®¡è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶å‘¢ï¼ŸæŒ‰çŸ­æ—¶é—´å†…å¤±è´¥çš„æ¯”ä¾‹è¾¾åˆ°æŸç‰¹å®šé˜ˆå€¼å°±å¼€å¯ä¿æŠ¤ï¼Œ&lt;/span&gt;&lt;span&gt;ä¿æŠ¤æ¨¡å¼ä¸‹ä¸è¿›è¡ŒæœåŠ¡å‰”é™¤&lt;/span&gt;&lt;span&gt;ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ª&lt;/span&gt;&lt;span&gt;ç»Ÿè®¡æ¨¡å—&lt;/span&gt;&lt;span&gt;ï¼Œç»­çº¦æˆåŠŸ +1ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å‰”é™¤æ¯ 60 ç§’æ‰§è¡Œä¸€æ¬¡ï¼ŒæœåŠ¡ç»­çº¦æ¯ 30 ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œé‚£ä¹ˆä¸€ä¸ªæœåŠ¡å®ä¾‹åœ¨æ£€æŸ¥æ—¶åº”è¯¥æœ‰ 2 æ¬¡ç»­çº¦ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â GuardÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â renewCountÂ Â Â Â Â &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â lastRenewCountÂ &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â needRenewCountÂ &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â thresholdÂ Â Â Â Â Â &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â lockÂ Â Â Â Â Â Â Â Â Â Â sync.RWMutex&lt;br/&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;incrNeed&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â gd.lock.Lock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â gd.lock.Unlock()&lt;br/&gt;Â Â Â Â gd.needRenewCountÂ +=Â &lt;span&gt;int64&lt;/span&gt;(configs.CheckEvictIntervalÂ /Â configs.RenewInterval)&lt;br/&gt;Â Â Â Â gd.thresholdÂ =Â &lt;span&gt;int64&lt;/span&gt;(&lt;span&gt;float64&lt;/span&gt;(gd.needRenewCount)Â *Â configs.SelfProtectThreshold)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;decrNeed&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â gd.lock.Lock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â gd.lock.Unlock()&lt;br/&gt;Â Â Â Â gd.needRenewCountÂ -=Â &lt;span&gt;int64&lt;/span&gt;(configs.CheckEvictIntervalÂ /Â configs.RenewInterval)&lt;br/&gt;Â Â Â Â gd.thresholdÂ =Â &lt;span&gt;int64&lt;/span&gt;(&lt;span&gt;float64&lt;/span&gt;(gd.needRenewCount)Â *Â configs.SelfProtectThreshold)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;setNeed&lt;/span&gt;&lt;span&gt;(countÂ &lt;span&gt;int64&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â gd.lock.Lock()&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â gd.lock.Unlock()&lt;br/&gt;Â Â Â Â gd.needRenewCountÂ =Â countÂ *Â &lt;span&gt;int64&lt;/span&gt;(configs.CheckEvictInterval/configs.RenewInterval)&lt;br/&gt;Â Â Â Â gd.thresholdÂ =Â &lt;span&gt;int64&lt;/span&gt;(&lt;span&gt;float64&lt;/span&gt;(gd.needRenewCount)Â *Â configs.SelfProtectThreshold)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;incrCount&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â atomic.AddInt64(&amp;amp;gd.renewCount,Â &lt;span&gt;1&lt;/span&gt;)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åœ¨æ³¨å†Œè¡¨ä¸­å¢åŠ &lt;/span&gt;&lt;span&gt; Guard æ¨¡å—&lt;/span&gt;&lt;span&gt;å¹¶åˆå§‹åŒ–ï¼Œåœ¨æœåŠ¡æ³¨å†ŒæˆåŠŸï¼ŒæœåŠ¡å–æ¶ˆï¼ŒæœåŠ¡ç»­çº¦æ—¶æ“ä½œç»Ÿè®¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;typeÂ RegistryÂ structÂ {&lt;br/&gt;&lt;span&gt;++Â Â Â Â gdÂ Â Â *Guard&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;funcÂ NewRegistry()Â *RegistryÂ {&lt;br/&gt;Â Â Â Â rÂ :=Â &amp;amp;Registry{&lt;br/&gt;&lt;span&gt;++Â Â Â Â Â Â gd:Â Â Â new(Guard),&lt;/span&gt;&lt;br/&gt;Â Â Â Â }Â &lt;br/&gt;}&lt;br/&gt;funcÂ (rÂ *Registry)Â Register(...)Â {&lt;br/&gt;Â Â Â Â ifÂ isNewÂ {&lt;br/&gt;&lt;span&gt;++Â Â Â Â Â Â r.gd.incrNeed()&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;funcÂ (rÂ *Registry)Â Cancel(...)Â {&lt;br/&gt;&lt;span&gt;++Â Â Â r.gd.decrNeed()&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;funcÂ (rÂ *Registry)Â Renew(...)Â {&lt;br/&gt;&lt;span&gt;++Â Â Â r.gd.incrCount()&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨æœåŠ¡å‰”é™¤å‰è¿›è¡Œä¸Šä¸€å‘¨æœŸè®¡æ•°ç»Ÿè®¡ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦è¾¾åˆ°è‡ªæˆ‘ä¿æŠ¤å¼€å¯çŠ¶æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;storeLastCount&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â atomic.StoreInt64(&amp;amp;gd.lastRenewCount,Â atomic.SwapInt64(&amp;amp;gd.needRenewCount,Â &lt;span&gt;0&lt;/span&gt;))&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(gdÂ *Guard)&lt;/span&gt;Â &lt;span&gt;selfProtectStatus&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;bool&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â atomic.LoadInt64(&amp;amp;gd.lastRenewCount)Â &amp;lt;Â atomic.LoadInt64(&amp;amp;gd.threshold)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœå¼€å¯è‡ªæˆ‘ä¿æŠ¤ï¼Œé‚£ä¹ˆç»­çº¦æ—¶é—´è¶…è¿‡é˜ˆå€¼ï¼ˆé»˜è®¤90 ç§’ï¼‰å¿½ç•¥ä¸ä¼šå‰”é™¤ã€‚ä½†å¦‚æœç»­çº¦æ—¶é—´è¶…è¿‡æœ€å¤§é˜ˆå€¼ï¼ˆé»˜è®¤3600 ç§’ï¼‰ï¼Œ&lt;/span&gt;&lt;span&gt;é‚£ä¹ˆä¸ç®¡æ˜¯å¦å¼€å¯ä¿æŠ¤éƒ½è¦å‰”é™¤ã€‚å› ä¸ºè‡ªæˆ‘ä¿æŠ¤åªæ˜¯ä¿æŠ¤çŸ­æ—¶é—´ç”±äºç½‘ç»œåŸå› æœªç»­çº¦çš„æœåŠ¡ï¼Œé•¿æ—¶é—´æœªç»­çº¦å¤§æ¦‚ç‡å·²ç»æœ‰é—®é¢˜äº†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;funcÂ (rÂ *Registry)Â evictTask()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â caseÂ &amp;lt;-ticker:&lt;br/&gt;&lt;span&gt;++Â Â Â Â Â Â Â Â Â Â r.gd.storeLastCount()&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â r.evict()&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;funcÂ (rÂ *Registry)Â evict()Â {&lt;br/&gt;Â Â Â deltaÂ :=Â nowÂ -Â instance.RenewTimestamp&lt;br/&gt;&lt;span&gt;++Â ifÂ !protectStatusÂ &amp;amp;&amp;amp;Â deltaÂ &amp;gt;Â int64(configs.InstanceExpireDuration)Â ||&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â deltaÂ &amp;gt;Â int64(configs.InstanceMaxExpireDuration)Â {&lt;br/&gt;Â Â Â Â Â Â expiredInstancesÂ =Â append(expiredInstances,Â instance)&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ€è€ƒä¸‹ï¼ŒæœåŠ¡ç»­çº¦æ¯”ä¾‹æœªè¾¾åˆ° 85% å°±ä¼šè§¦å‘è‡ªæˆ‘ä¿æŠ¤ï¼Œè¿˜è®°ä¸è®°å¾—åœ¨æœåŠ¡å‰”é™¤é‚£å—æœ‰ä¸€ä¸ªå‰”é™¤æ•°é‡ä¸Šé™ä¸èƒ½è¶…è¿‡ 15%ï¼Œè¿™é‡Œå°± match äº†ï¼Œå¦åˆ™&lt;/span&gt;&lt;span&gt;è¿˜æ²¡æ¥å¾—åŠè¿›å…¥è‡ªæˆ‘ä¿æŠ¤ç¨‹åºå°±æŠŠæœåŠ¡éƒ½å‰”é™¤&lt;/span&gt;&lt;span&gt;äº†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ€åå¢åŠ ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå¦‚æœè¶…è¿‡ä¸€å®šæ—¶é—´ï¼ˆ15 åˆ†é’Ÿï¼‰ï¼Œé‡æ–°è®¡ç®—ä¸‹å½“å‰å®ä¾‹æ•°ï¼Œé‡ç½®ä¿æŠ¤é˜ˆå€¼ï¼Œé™ä½è„æ•°æ®é£é™©ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(rÂ *Registry)&lt;/span&gt;Â &lt;span&gt;evictTask&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â resetTickerÂ :=Â time.Tick(configs.ResetGuardNeedCountInterval)&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;select&lt;/span&gt;Â {Â &lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &amp;lt;-resetTicker:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â countÂ &lt;span&gt;int64&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â _,Â appÂ :=Â &lt;span&gt;range&lt;/span&gt;Â r.getAllApplications()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â countÂ +=Â &lt;span&gt;int64&lt;/span&gt;(app.GetInstanceLen())&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â r.gd.setNeed(count)&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}Â Â Â &lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;10&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ³¨å†Œä¸­å¿ƒå¯¹å¤–æä¾›æœåŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;ç›®å‰æ³¨å†Œä¸­å¿ƒåŸºæœ¬åŠŸèƒ½å·²å®ç°ï¼Œéœ€è¦å¯¹å¤–æä¾›æœåŠ¡äº†ï¼Œæˆ‘ä»¬é‡‡ç”¨ &lt;/span&gt;&lt;span&gt;gin &lt;/span&gt;&lt;span&gt;æ¥å®ç°ä¸€ä¸ª web æœåŠ¡ï¼Œæ¥å— http è¯·æ±‚è¿›è¡ŒæœåŠ¡çš„æ³¨å†Œã€æŸ¥æ‰¾ã€ç»­çº¦ã€ä¸‹çº¿æ“ä½œï¼Œè¿™æ ·ä¿éšœæ³¨å†Œä¸­å¿ƒå¯ä»¥æ–¹ä¾¿çš„æ¥å—æ¥è‡ªä»»ä½•è¯­è¨€å®¢æˆ·ç«¯è¯·æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//initÂ config&lt;/span&gt;&lt;br/&gt;Â Â Â Â cÂ :=Â flag.String(&lt;span&gt;&quot;c&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;configÂ fileÂ path&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â flag.Parse()&lt;br/&gt;Â Â Â Â config,Â errÂ :=Â configs.LoadConfig(*c)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â log.Println(&lt;span&gt;&quot;loadÂ configÂ error:&quot;&lt;/span&gt;,Â err)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//globalÂ discovery&lt;/span&gt;&lt;br/&gt;Â Â Â Â global.DiscoveryÂ =Â model.NewDiscovery(config)&lt;br/&gt;Â Â Â Â &lt;span&gt;//initÂ routerÂ andÂ startÂ server&lt;/span&gt;&lt;br/&gt;Â Â Â Â routerÂ :=Â api.InitRouter()&lt;br/&gt;Â Â Â Â srvÂ :=Â &amp;amp;http.Server{&lt;br/&gt;Â Â Â Â Â Â Â Â Addr:Â Â Â Â config.HttpServer,&lt;br/&gt;Â Â Â Â Â Â Â Â Handler:Â router,&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;go&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ :=Â srv.ListenAndServe();Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â &amp;amp;&amp;amp;Â errÂ !=Â http.ErrServerClosedÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.Fatalf(&lt;span&gt;&quot;listen:%s\n&quot;&lt;/span&gt;,Â err)&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }()&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å¢åŠ ä¸€ä¸ª discovery ç»“æ„ï¼Œå¹¶å¼€å¯ä¸€ä¸ªå…¨å±€å˜é‡Â  global.Discovery ï¼Œè¯¥ç»“æ„ä¸­ç»´æŠ¤æ³¨å†Œè¡¨ Registryï¼Œç„¶åå°±å¯ä»¥æ ¹æ®æ³¨å†Œè¡¨å®ç°å„ç§æ“ä½œäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â DiscoveryÂ &lt;span&gt;struct&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â configÂ Â Â Â *configs.GlobalConfig&lt;br/&gt;Â Â Â Â protectedÂ &lt;span&gt;bool&lt;/span&gt;&lt;br/&gt;Â Â Â Â RegistryÂ Â *Registry&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;NewDiscovery&lt;/span&gt;&lt;span&gt;(configÂ *configs.GlobalConfig)&lt;/span&gt;Â *&lt;span&gt;Discovery&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â disÂ :=Â &amp;amp;Discovery{&lt;br/&gt;Â Â Â Â Â Â Â Â protected:Â &lt;span&gt;false&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â config:Â Â Â Â config,&lt;br/&gt;Â Â Â Â Â Â Â Â Registry:Â Â NewRegistry(),Â &lt;span&gt;//initÂ registry&lt;/span&gt;&lt;br/&gt;Â Â Â Â }Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â disÂ &lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//initÂ discovery&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â DiscoveryÂ *model.Discovery&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;api.InitRouter() ç»‘å®š url è·¯ç”±å’Œ Handlerï¼Œä»¥æ³¨å†Œä¸ºä¾‹ï¼Œæ¥å—è¯·æ±‚å…¥å‚ï¼Œè°ƒç”¨ global.Discovery.Registry.Register()Â è¿›è¡Œæ³¨å†Œï¼ŒæˆåŠŸè¿”å›ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;router.POST(&lt;span&gt;&quot;api/register&quot;&lt;/span&gt;,Â handler.RegisterHandler)&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;RegisterHandler&lt;/span&gt;&lt;span&gt;(cÂ *gin.Context)&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â reqÂ model.RequestRegister&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â eÂ :=Â c.ShouldBindJSON(&amp;amp;req);Â eÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â errÂ :=Â errcode.ParamError&lt;br/&gt;Â Â Â Â Â Â Â Â c.JSON(http.StatusOK,Â gin.H{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;code&quot;&lt;/span&gt;:Â Â Â Â err.Code(),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;message&quot;&lt;/span&gt;:Â err.Error(),&lt;br/&gt;Â Â Â Â Â Â Â Â })&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//bindÂ instance&lt;/span&gt;&lt;br/&gt;Â Â Â Â instanceÂ :=Â model.NewInstance(&amp;amp;req)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â instance.StatusÂ ==Â &lt;span&gt;0&lt;/span&gt;Â ||Â instance.StatusÂ &amp;gt;Â &lt;span&gt;2&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â errÂ :=Â errcode.ParamError&lt;br/&gt;Â Â Â Â Â Â Â Â c.JSON(http.StatusOK,Â gin.H{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;code&quot;&lt;/span&gt;:Â Â Â Â err.Code(),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;message&quot;&lt;/span&gt;:Â err.Error(),&lt;br/&gt;Â Â Â Â Â Â Â Â })&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//dirtytime&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â req.DirtyTimestampÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â instance.DirtyTimestampÂ =Â req.DirtyTimestamp&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â global.Discovery.Registry.Register(instance,Â req.LatestTimestamp)&lt;br/&gt;Â Â Â Â c.JSON(http.StatusOK,Â gin.H{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&quot;code&quot;&lt;/span&gt;:Â Â Â Â &lt;span&gt;200&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&quot;message&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&quot;data&quot;&lt;/span&gt;:Â Â Â Â &lt;span&gt;&quot;&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â })&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ¥ç€è¦å®ç°å¹³æ»‘é‡å¯ï¼Œåœ¨ main å¯åŠ¨æ—¶å¢åŠ æ¥æ”¶ä¿¡å·åå…³é—­æœåŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;//...&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//gracefulÂ restart&lt;/span&gt;&lt;br/&gt;Â Â Â Â quitÂ :=Â &lt;span&gt;make&lt;/span&gt;(&lt;span&gt;chan&lt;/span&gt;Â os.Signal)&lt;br/&gt;Â Â Â Â signal.Notify(quit,Â syscall.SIGINT,Â syscall.SIGTERM,Â syscall.SIGHUP,Â syscall.SIGQUIT)&lt;br/&gt;Â Â Â Â &amp;lt;-quit&lt;br/&gt;Â Â Â Â log.Println(&lt;span&gt;&quot;shutdownÂ discoveryÂ server...&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â ctx,Â cancelÂ :=Â context.WithTimeout(context.Background(),Â &lt;span&gt;5&lt;/span&gt;*time.Second)&lt;br/&gt;Â Â Â Â &lt;span&gt;defer&lt;/span&gt;Â cancel()&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ :=Â srv.Shutdown(ctx);Â errÂ !=Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â log.Fatal(&lt;span&gt;&quot;serverÂ shutdownÂ error:&quot;&lt;/span&gt;,Â err)&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;select&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &amp;lt;-ctx.Done():&lt;br/&gt;Â Â Â Â Â Â Â Â log.Println(&lt;span&gt;&quot;timeoutÂ ofÂ 5Â seconds&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â log.Println(&lt;span&gt;&quot;serverÂ exiting&quot;&lt;/span&gt;)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å®ç°æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.28614008941877794&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd8pryNTRgvzFHpUlsPw9Tu0yDIqNPdyia44Y2hDWMAM47Ft3HzPTfpyIia6Keq48zhOmUt6S9a4pBNQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1342&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;4&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å·¥ç¨‹å®è·µ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.775&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd9BAt5ypL3rJjMuWHAcQn59EIGLD9okgYEGTn7EshtJBRRjb1Y3j2icjBzws68icC3eqKbicRdMQtZoA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;160&quot;/&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ€»ç»“ä¸é—®é¢˜&lt;/span&gt;&lt;/h2&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.661319073083779&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zZCzuY9fbd9BAt5ypL3rJjMuWHAcQn59kYWXxxugTXdia5kiccNfywp1YFjOKrFIOaEQt5ibD0qpG0MP3ETYsyPJQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;561&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨å†Œä¸­å¿ƒåŠŸèƒ½å®ç°&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è‡³æ­¤ï¼Œä¸€ä¸ª&lt;/span&gt;&lt;span&gt;å•æœºç‰ˆ&lt;/span&gt;&lt;span&gt;çš„æ³¨å†Œä¸­å¿ƒå°±å¯ä»¥å·¥ä½œäº†ï¼Œä½†ç”Ÿäº§ç¯å¢ƒå•ç‚¹è‚¯å®šæ˜¯ä¸èƒ½å®¹å¿çš„ï¼Œå› æ­¤æœ‰å¿…è¦å®ç°ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒé›†ç¾¤ã€‚é‚£ä¹ˆæ˜¯å¦éƒ¨ç½²å¤šä¸ªæ³¨å†Œä¸­å¿ƒå®ä¾‹å°±å¯ä»¥äº†ï¼Œå½“ç„¶ .... ä¸è¡Œï¼è¿™åªèƒ½ä¿éšœæœ‰å¤šä¸ªæ³¨å†Œä¸­å¿ƒèŠ‚ç‚¹ï¼Œè€Œæ¯ä¸ªèŠ‚ç‚¹ä¸­ç»´æŠ¤è‡ªå·±çš„æ³¨å†Œè¡¨ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿›è¡Œæ³¨å†Œè¡¨æ•°æ®åŒæ­¥ã€‚å¤šèŠ‚ç‚¹æ•°æ®åŒæ­¥åˆä¼šæ¶‰åŠè‘—åçš„ä¸€è‡´æ€§é—®é¢˜ï¼Œè¿™æ—¶ &lt;/span&gt;&lt;span&gt;Paxosã€Raftã€ZABã€Gossip&lt;/span&gt;&lt;span&gt; ç­‰ç®—æ³•åè¯æ¶Œç°ï¼Œè€Œæˆ‘ä»¬å°†ä½¿ç”¨ &lt;/span&gt;&lt;span&gt;P2Pï¼ˆPeer to Peerï¼‰&lt;/span&gt;&lt;span&gt;å¯¹ç­‰ç½‘ç»œåè®®æ¥å®ç°ã€‚å…³äºé›†ç¾¤è®¾è®¡ä¸å®ç°æˆ‘ä»¬å°†åœ¨åç»­æ–‡ç« ä¸­å±•å¼€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzUzNTY5MzU2MA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f4pGhLz2xEbRFHnAQon2QLYgbBibCJo1ibJHesLWshPJeRibateRtAqkaf6BgjlbhYiaxHLq6Zu07CRPw/0?wx_fmt=png&quot; data-nickname=&quot;ç½‘ç®¡å¨biå¨&quot; data-alias=&quot;kevin_tech&quot; data-signature=&quot;åˆ†äº«è½¯ä»¶å¼€å‘å’Œç³»ç»Ÿæ¶æ„è®¾è®¡åŸºç¡€ã€Go è¯­è¨€å’ŒKubernetesã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æ‰«ç å…³æ³¨å…¬ä¼—å·ã€Œç½‘ç®¡å¨biå¨ã€&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0188679245283019&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/z4pQ0O5h0f4icJbGAQ8RjXUUVdUZsGADuMBVWePgn7tfrWjjHyc6b8kXTQ7Sdkp0QQFFK4mel5tniczqooMna1CA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;318&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»™ç½‘ç®¡ä¸ªæ˜Ÿæ ‡ï¼Œç¬¬ä¸€æ—¶é—´å¸æˆ‘çš„çŸ¥è¯†Â ğŸ‘†&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç½‘ç®¡æ•´ç†äº†ä¸€æœ¬ã€ŠGo å¼€å‘å‚è€ƒä¹¦ã€‹æ”¶é›†äº†70å¤šæ¡å¼€å‘å®è·µã€‚å»å…¬ä¼—å·å›å¤ã€gocookbookã€‘é¢†å–ï¼è¿˜æœ‰ä¸€æœ¬ã€Šk8s å…¥é—¨å®è·µã€‹è®²è§£äº†å¸¸ç”¨è½¯ä»¶åœ¨K8sä¸Šçš„éƒ¨ç½²è¿‡ç¨‹ï¼Œå…¬ä¼—å·å›å¤ã€k8s&lt;/span&gt;&lt;span&gt;ã€‘å³å¯é¢†å–ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è§‰å¾—æœ‰ç”¨å°±ç‚¹ä¸ªåœ¨çœ‹&lt;/span&gt;&lt;span&gt;Â  ğŸ‘‡ğŸ‘‡ğŸ‘‡&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>23342544bb3f8d52c0d6ca5ee865ad3e</guid>
<title>æ·±å…¥åˆ†æå’Œç ”ç©¶ MappedByteBuffer çš„å®ç°åŸç†å’Œå¼€å‘æŒ‡å—</title>
<link>https://toutiao.io/k/ckbqdt4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h2&gt;&lt;a id=&quot;_0&quot;/&gt;å‰è¨€ä»‹ç»&lt;/h2&gt; 
&lt;p&gt;åœ¨Javaç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ“ä½œæ–‡ä»¶IOçš„æ—¶å€™ï¼Œé€šå¸¸é‡‡ç”¨BufferedReaderï¼ŒBufferedInputStreamç­‰å¸¦ç¼“å†²çš„IOç±»å¤„ç†å¤§æ–‡ä»¶ï¼Œä¸è¿‡java nioä¸­å¼•å…¥äº†ä¸€ç§åŸºäºMappedByteBufferæ“ä½œå¤§æ–‡ä»¶çš„æ–¹å¼ï¼Œå…¶è¯»å†™æ€§èƒ½æé«˜ï¼Œæ¯”èµ·bioçš„æ¨¡å‹å¤„ç†æ–¹å¼ï¼Œå®ƒå¤§å¤§çš„åŠ å¤§äº†æ”¯æŒè§£æè¯»å–æ–‡ä»¶çš„æ•°é‡å’Œç©ºé—´ã€‚&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;OS_4&quot;/&gt;OSçš„å†…å­˜ç®¡ç†&lt;/h2&gt; 
&lt;h3&gt;&lt;a id=&quot;_6&quot;/&gt;å†…å­˜å±‚é¢çš„æŠ€æœ¯åè¯æ¦‚å¿µ&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;MMUï¼šCPUçš„å†…å­˜ç®¡ç†å•å…ƒã€‚&lt;/li&gt;&lt;li&gt;ç‰©ç†å†…å­˜ï¼šå³å†…å­˜æ¡çš„å†…å­˜ç©ºé—´ã€‚&lt;/li&gt;&lt;li&gt;è™šæ‹Ÿå†…å­˜ï¼šè®¡ç®—æœºç³»ç»Ÿå†…å­˜ç®¡ç†çš„ä¸€ç§æŠ€æœ¯ã€‚å®ƒä½¿å¾—åº”ç”¨ç¨‹åºè®¤ä¸ºå®ƒæ‹¥æœ‰è¿ç»­çš„å¯ç”¨çš„å†…å­˜ï¼ˆä¸€ä¸ªè¿ç»­å®Œæ•´çš„åœ°å€ç©ºé—´ï¼‰ï¼Œè€Œå®é™…ä¸Šï¼Œå®ƒé€šå¸¸æ˜¯è¢«åˆ†éš”æˆå¤šä¸ªç‰©ç†å†…å­˜ç¢ç‰‡ï¼Œè¿˜æœ‰éƒ¨åˆ†æš‚æ—¶å­˜å‚¨åœ¨å¤–éƒ¨ç£ç›˜å­˜å‚¨å™¨ä¸Šï¼Œåœ¨éœ€è¦æ—¶è¿›è¡Œæ•°æ®äº¤æ¢ã€‚&lt;/li&gt;&lt;li&gt;é¡µé¢æ–‡ä»¶ï¼šæ“ä½œç³»ç»Ÿåæ˜ æ„å»ºå¹¶ä½¿ç”¨è™šæ‹Ÿå†…å­˜çš„ç¡¬ç›˜ç©ºé—´å¤§å°è€Œåˆ›å»ºçš„æ–‡ä»¶ï¼Œåœ¨windowsä¸‹ï¼Œå³pagefile.sysæ–‡ä»¶ï¼Œå…¶å­˜åœ¨æ„å‘³ç€ç‰©ç†å†…å­˜è¢«å æ»¡åï¼Œå°†æš‚æ—¶ä¸ç”¨çš„æ•°æ®ç§»åŠ¨åˆ°ç¡¬ç›˜ä¸Šã€‚&lt;/li&gt;&lt;li&gt;ç¼ºé¡µä¸­æ–­ï¼šå½“ç¨‹åºè¯•å›¾è®¿é—®å·²æ˜ å°„åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ä½†æœªè¢«åŠ è½½è‡³ç‰©ç†å†…å­˜çš„ä¸€ä¸ªåˆ†é¡µæ—¶ï¼Œç”±MMCå‘å‡ºçš„ä¸­æ–­ã€‚å¦‚æœæ“ä½œç³»ç»Ÿåˆ¤æ–­æ­¤æ¬¡è®¿é—®æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ™å°è¯•å°†ç›¸å…³çš„é¡µä»è™šæ‹Ÿå†…å­˜æ–‡ä»¶ä¸­è½½å…¥ç‰©ç†å†…å­˜ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;_14&quot;/&gt;è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜&lt;/h3&gt; 
&lt;p&gt;æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒæ‰€éœ€çš„å†…å­˜æ˜¯æœ‰å¯èƒ½å¤§äºå†…å­˜æ¡å®¹é‡ä¹‹å’Œçš„ï¼Œå¦‚å†…å­˜æ¡æ˜¯256Mï¼Œç¨‹åºå´è¦åˆ›å»ºä¸€ä¸ª2Gçš„æ•°æ®åŒºï¼Œé‚£ä¹ˆæ‰€æœ‰æ•°æ®ä¸å¯èƒ½éƒ½åŠ è½½åˆ°å†…å­˜ï¼ˆç‰©ç†å†…å­˜ï¼‰ï¼Œå¿…ç„¶æœ‰æ•°æ®è¦æ”¾åˆ°å…¶ä»–ä»‹è´¨ä¸­ï¼ˆæ¯”å¦‚ç¡¬ç›˜ï¼‰ï¼Œå¾…è¿›ç¨‹éœ€è¦è®¿é—®é‚£éƒ¨åˆ†æ•°æ®æ—¶ï¼Œå†è°ƒåº¦è¿›å…¥ç‰©ç†å†…å­˜ï¼Œè€Œè¿™ç§åœºæ™¯ä¸‹ï¼Œè¢«è°ƒåº¦åˆ°ç¡¬ç›˜çš„èµ„æºç©ºé—´æ‰€å ç”¨çš„å­˜å‚¨ï¼Œæˆ‘ä»¬ä¾¿å°†ä»–ç†è§£ä¸ºè™šæ‹Ÿå†…å­˜ã€‚&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;MappedByteBuffer_18&quot;/&gt;MappedByteBuffer&lt;/h2&gt; 
&lt;p&gt;ä»å¤§ä½“ä¸Šè®²ä¸€ä¸‹MappedByteBuffer ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚ä»ç»§æ‰¿ç»“æ„ä¸Šæ¥è®²ï¼ŒMappedByteBuffer ç»§æ‰¿è‡ª ByteBufferï¼Œæ‰€ä»¥ï¼ŒByteBuffer æœ‰çš„èƒ½åŠ›å®ƒå…¨æœ‰ï¼›åƒå˜åŠ¨ position å’Œ limit æŒ‡é’ˆå•¦ã€åŒ…è£…ä¸€ä¸ªå…¶ä»–ç§ç±»Bufferçš„è§†å›¾å•¦ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªé€»è¾‘åœ°å€addressã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;MappedByteBuffer__22&quot;/&gt;â€œMappedByteBufferâ€ ä¼šæå‡é€Ÿåº¦ï¼Œå˜å¿«&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;ä¸ºä»€ä¹ˆå¿«ï¼Ÿå› ä¸ºå®ƒä½¿ç”¨ direct buffer çš„æ–¹å¼è¯»å†™æ–‡ä»¶å†…å®¹ï¼Œè¿™ç§æ–¹å¼çš„å­¦åå«åšå†…å­˜æ˜ å°„ã€‚è¿™ç§æ–¹å¼ç›´æ¥è°ƒç”¨ç³»ç»Ÿåº•å±‚çš„ç¼“å­˜ï¼Œæ²¡æœ‰ JVM å’Œç³»ç»Ÿä¹‹é—´çš„å¤åˆ¶æ“ä½œï¼Œæ‰€ä»¥æ•ˆç‡å¤§å¤§çš„æé«˜äº†ã€‚è€Œä¸”ç”±äºå®ƒè¿™ä¹ˆå¿«ï¼Œè¿˜å¯ä»¥ç”¨å®ƒæ¥åœ¨è¿›ç¨‹ï¼ˆæˆ–çº¿ç¨‹ï¼‰é—´ä¼ é€’æ¶ˆæ¯ï¼ŒåŸºæœ¬ä¸Šèƒ½è¾¾åˆ°å’Œ â€œå…±äº«å†…å­˜é¡µâ€ ç›¸åŒçš„ä½œç”¨ï¼Œåªä¸è¿‡å®ƒæ˜¯ä¾æ‰˜å®ä½“æ–‡ä»¶æ¥è¿è¡Œçš„ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;è¿˜æœ‰å°±æ˜¯å®ƒå¯ä»¥è®©è¯»å†™é‚£äº›å¤ªå¤§è€Œä¸èƒ½æ”¾è¿›å†…å­˜ä¸­çš„æ–‡ä»¶ã€‚å®ç°å‡å®šæ•´ä¸ªæ–‡ä»¶éƒ½æ”¾åœ¨å†…å­˜ä¸­ï¼ˆå®é™…ä¸Šï¼Œå¤§æ–‡ä»¶æ”¾åœ¨å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ä¸­ï¼‰ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥å°†å®ƒå½“ä½œä¸€ä¸ªç‰¹åˆ«å¤§çš„æ•°ç»„æ¥è®¿é—®ï¼Œè¿™æ ·æå¤§çš„ç®€åŒ–äº†å¯¹äºå¤§æ–‡ä»¶çš„ä¿®æ”¹ç­‰æ“ä½œã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;MappedByteBuffer_28&quot;/&gt;MappedByteBufferçš„æ¡ˆä¾‹ç”¨æ³•&lt;/h3&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;FileChannel æä¾›äº† map æ–¹æ³•æ¥æŠŠæ–‡ä»¶æ˜ å°„ä¸º MappedByteBufferï¼š MappedByteBuffer map(int mode,long position,long size); å¯ä»¥æŠŠæ–‡ä»¶çš„ä» position å¼€å§‹çš„ size å¤§å°çš„åŒºåŸŸæ˜ å°„ä¸º MappedByteBufferï¼Œmode æŒ‡å‡ºäº†å¯è®¿é—®è¯¥å†…å­˜æ˜ åƒæ–‡ä»¶çš„æ–¹å¼ï¼Œå…±æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«ä¸ºï¼š&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt;&lt;li&gt;MapMode.READ_ONLYï¼ˆåªè¯»ï¼‰ï¼š è¯•å›¾ä¿®æ”¹å¾—åˆ°çš„ç¼“å†²åŒºå°†å¯¼è‡´æŠ›å‡º ReadOnlyBufferExceptionã€‚&lt;/li&gt;&lt;li&gt;MapMode.READ_WRITEï¼ˆè¯» / å†™ï¼‰ï¼š å¯¹å¾—åˆ°çš„ç¼“å†²åŒºçš„æ›´æ”¹æœ€ç»ˆå°†å†™å…¥æ–‡ä»¶ï¼›ä½†è¯¥æ›´æ”¹å¯¹æ˜ å°„åˆ°åŒä¸€æ–‡ä»¶çš„å…¶ä»–ç¨‹åºä¸ä¸€å®šæ˜¯å¯è§çš„ï¼ˆæ— å¤„ä¸åœ¨çš„ â€œä¸€è‡´æ€§é—®é¢˜â€ åˆå‡ºç°äº†ï¼‰ã€‚&lt;/li&gt;&lt;li&gt;MapMode.PRIVATEï¼ˆä¸“ç”¨ï¼‰ï¼š å¯è¯»å¯å†™, ä½†æ˜¯ä¿®æ”¹çš„å†…å®¹ä¸ä¼šå†™å…¥æ–‡ä»¶, åªæ˜¯ buffer è‡ªèº«çš„æ”¹å˜ï¼Œè¿™ç§èƒ½åŠ›ç§°ä¹‹ä¸ºâ€copy on writeâ€&lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;MappedByteBufferByteBuffer_36&quot;/&gt;MappedByteBufferè¾ƒä¹‹ByteBufferæ–°å¢çš„ä¸‰ä¸ªæ–¹æ³•&lt;/h4&gt; 
&lt;ul&gt;&lt;li&gt;fore() ç¼“å†²åŒºæ˜¯ READ_WRITE æ¨¡å¼ä¸‹ï¼Œæ­¤æ–¹æ³•å¯¹ç¼“å†²åŒºå†…å®¹çš„ä¿®æ”¹å¼ºè¡Œå†™å…¥æ–‡ä»¶&lt;/li&gt;&lt;li&gt;load() å°†ç¼“å†²åŒºçš„å†…å®¹è½½å…¥å†…å­˜ï¼Œå¹¶è¿”å›è¯¥ç¼“å†²åŒºçš„å¼•ç”¨&lt;/li&gt;&lt;li&gt;isLoaded() å¦‚æœç¼“å†²åŒºçš„å†…å®¹åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œåˆ™è¿”å›çœŸï¼Œå¦åˆ™è¿”å›å‡&lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;FileChannelMappedByteBuffer_42&quot;/&gt;é‡‡ç”¨FileChannelæ„å»ºç›¸å…³çš„MappedByteBuffer&lt;/h4&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;
&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x8FFFFFF&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt; channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/c.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;WRITE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; mapBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MapMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ_WRITE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; length&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;length&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   
   &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_60&quot;/&gt;å®ç°ç›¸å…³çš„è¯»å†™æ–‡ä»¶çš„å¯¹æ¯”å¤„ç†&lt;/h5&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DataInputStream&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;DataOutputStream&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileInputStream&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Paths&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token import&quot;&gt;&lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;nio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TestMappedByteBuffer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; length &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0x2FFFFFFF&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;runTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;: &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;start&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; ms&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; testers &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Stream RW&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileInputStream&lt;/span&gt; fis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;src/a.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;DataInputStream&lt;/span&gt; dis &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DataInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fis&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt; fos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;token string&quot;&gt;&quot;src/a.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;DataOutputStream&lt;/span&gt; dos &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;DataOutputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fos&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
dos&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
dos&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flush&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dis&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mapped RW&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt; channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/b.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;WRITE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; mapBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MapMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ_WRITE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasRemaining&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Mapped PRIVATE&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt; channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Paths&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/c.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StandardOpenOption&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;WRITE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; mapBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MapMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PRIVATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flip&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasRemaining&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
mapBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;printStackTrace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Tester&lt;/span&gt; tester&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;testers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
tester&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;runTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h5&gt;&lt;a id=&quot;_152&quot;/&gt;æµ‹è¯•ç»“æœ&lt;/h5&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;Stream RW-&amp;gt;ç”¨ä¼ ç»Ÿæµçš„æ–¹å¼ï¼Œæœ€æ…¢ï¼Œåº”è¯¥æ˜¯ç”±äºç”¨çš„æ•°æ®é‡æ˜¯ 1Gï¼Œæ— æ³•å…¨éƒ¨è¯»å…¥å†…å­˜ï¼Œæ‰€ä»¥å®ƒæ ¹æœ¬æ— æ³•å®Œæˆæµ‹è¯•ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;MapMode.READ_WRITEï¼Œå®ƒçš„é€Ÿåº¦æ¯æ¬¡å·®åˆ«è¾ƒå¤§ï¼Œåœ¨ 0.6s å’Œ 8s ä¹‹é—´æ³¢åŠ¨ï¼Œè€Œä¸”å¾ˆä¸ç¨³å®šã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;MapMode.PRIVATEå°±ç¨³å¾—å‡ºå¥‡ï¼Œä¸€ç›´æ˜¯ 1.1s åˆ° 1.2s ä¹‹é—´ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ— è®ºæ˜¯å“ªä¸ªé€Ÿåº¦éƒ½æ˜¯ååˆ†æƒŠäººçš„ï¼Œä½†æ˜¯ MappedByteBuffer ä¹Ÿæœ‰ä¸è¶³ï¼Œå°±æ˜¯åœ¨æ•°æ®é‡å¾ˆå°çš„æ—¶å€™ï¼Œè¡¨ç°æ¯”è¾ƒç³Ÿç³•ï¼Œé‚£æ˜¯å› ä¸º direct buffer çš„åˆå§‹åŒ–æ—¶é—´è¾ƒé•¿ï¼Œæ‰€ä»¥å»ºè®®å¤§å®¶åªæœ‰åœ¨æ•°æ®é‡è¾ƒå¤§çš„æ—¶å€™ï¼Œåœ¨ç”¨ MappedByteBufferã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;&lt;a id=&quot;map_163&quot;/&gt;mapè¿‡ç¨‹&lt;/h4&gt; 
&lt;p&gt;FileChannelæä¾›äº†mapæ–¹æ³•æŠŠæ–‡ä»¶æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜ï¼Œé€šå¸¸æƒ…å†µå¯ä»¥æ˜ å°„æ•´ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œå¯ä»¥è¿›è¡Œåˆ†æ®µæ˜ å°„ã€‚&lt;/p&gt; 
&lt;p&gt;FileChannelä¸­çš„å‡ ä¸ªå˜é‡ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;MapMode modeï¼šå†…å­˜æ˜ åƒæ–‡ä»¶è®¿é—®çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„ä¸‰ç§æ–¹å¼ã€‚&lt;/li&gt;&lt;li&gt;positionï¼šæ–‡ä»¶æ˜ å°„æ—¶çš„èµ·å§‹ä½ç½®ã€‚&lt;/li&gt;&lt;li&gt;allocationGranularityï¼šMemory allocation size for mapping buffersï¼Œé€šè¿‡nativeå‡½æ•°initIDsåˆå§‹åŒ–ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;æ¥ä¸‹å»é€šè¿‡åˆ†ææºç ï¼Œäº†è§£ä¸€ä¸‹mapè¿‡ç¨‹çš„å†…éƒ¨å®ç°ã€‚é€šè¿‡RandomAccessFileè·å–FileChannelã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;synchronized&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileChannelImpl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rw&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; channel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;ä¸Šè¿°å®ç°å¯ä»¥çœ‹å‡ºï¼Œç”±äºsynchronized ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¤Ÿåˆå§‹åŒ–FileChannelã€‚é€šè¿‡FileChannel.mapæ–¹æ³•ï¼ŒæŠŠæ–‡ä»¶æ˜ å°„åˆ°è™šæ‹Ÿå†…å­˜ï¼Œå¹¶è¿”å›é€»è¾‘åœ°å€addressï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MapMode&lt;/span&gt; mode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; position&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; pagePosition &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;position &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt; allocationGranularity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; mapPosition &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; position &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; pagePosition&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; mapSize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; size &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; pagePosition&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            addr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;map0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapPosition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapSize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OutOfMemoryError&lt;/span&gt; x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;gc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token class-name&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InterruptedException&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token class-name&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;currentThread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;interrupt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                addr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;map0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imode&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapPosition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapSize&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OutOfMemoryError&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                
                &lt;span class=&quot;token keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Map failed&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; isize &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Unmapper&lt;/span&gt; um &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Unmapper&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mapSize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; isize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; mfd&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;writable&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;imode &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;MAP_RO&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;newMappedByteBufferR&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                             addr &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; pagePosition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                             mfd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                             um&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;newMappedByteBuffer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isize&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                            addr &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; pagePosition&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                            mfd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                            um&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡ºï¼Œæœ€ç»ˆmapé€šè¿‡nativeå‡½æ•°map0å®Œæˆæ–‡ä»¶çš„æ˜ å°„å·¥ä½œã€‚&lt;/p&gt; 
&lt;ol&gt;&lt;li&gt;å¦‚æœç¬¬ä¸€æ¬¡æ–‡ä»¶æ˜ å°„å¯¼è‡´OOMï¼Œåˆ™æ‰‹åŠ¨è§¦å‘åƒåœ¾å›æ”¶ï¼Œä¼‘çœ 100msåå†æ¬¡å°è¯•æ˜ å°„ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;&lt;li&gt;é€šè¿‡newMappedByteBufferæ–¹æ³•åˆå§‹åŒ–MappedByteBufferå®ä¾‹ï¼Œä¸è¿‡å…¶æœ€ç»ˆè¿”å›çš„æ˜¯DirectByteBufferçš„å®ä¾‹ï¼Œå®ç°å¦‚ä¸‹ï¼š&lt;/li&gt;&lt;/ol&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;newMappedByteBuffer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; size&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; addr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FileDescriptor&lt;/span&gt; fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Runnable&lt;/span&gt; unmapper&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; dbb&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;directByteBufferConstructor &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;initDBBConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    dbb &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;directByteBufferConstructor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;newInstance&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
          &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                         &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;addr&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                         fd&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                         unmapper &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; dbb&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;initDBBConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;AccessController&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;doPrivileged&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PrivilegedAction&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; cl &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;java.nio.DirectByteBuffer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                &lt;span class=&quot;token class-name&quot;&gt;Constructor&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt; ctor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; cl&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDeclaredConstructor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;token class-name&quot;&gt;FileDescriptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                                     &lt;span class=&quot;token class-name&quot;&gt;Runnable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                ctor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setAccessible&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                directByteBufferConstructor &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ctor&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;ç”±äºFileChannelImplå’ŒDirectByteBufferä¸åœ¨åŒä¸€ä¸ªåŒ…ä¸­ï¼Œæ‰€ä»¥æœ‰æƒé™è®¿é—®é—®é¢˜ï¼Œé€šè¿‡AccessControllerç±»è·å–DirectByteBufferçš„æ„é€ å™¨è¿›è¡Œå®ä¾‹åŒ–ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;DirectByteBufferæ˜¯MappedByteBufferçš„ä¸€ä¸ªå­ç±»ï¼Œå…¶å®ç°äº†å¯¹å†…å­˜çš„ç›´æ¥æ“ä½œã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;get_261&quot;/&gt;getè¿‡ç¨‹&lt;/h4&gt; 
&lt;p&gt;MappedByteBufferçš„getæ–¹æ³•æœ€ç»ˆé€šè¿‡DirectByteBuffer.getæ–¹æ³•å®ç°çš„ã€‚&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;unsafe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;nextGetIndex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;unsafe&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getByte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;ix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;checkIndex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;ix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; address &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;map0()å‡½æ•°è¿”å›ä¸€ä¸ªåœ°å€addressï¼Œè¿™æ ·å°±æ— éœ€è°ƒç”¨readæˆ–writeæ–¹æ³•å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™ï¼Œé€šè¿‡addresså°±èƒ½å¤Ÿæ“ä½œæ–‡ä»¶ã€‚åº•å±‚é‡‡ç”¨unsafe.getByteæ–¹æ³•ï¼Œé€šè¿‡ï¼ˆaddress + åç§»é‡ï¼‰è·å–æŒ‡å®šå†…å­˜çš„æ•°æ®ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;ç¬¬ä¸€æ¬¡è®¿é—®addressæ‰€æŒ‡å‘çš„å†…å­˜åŒºåŸŸï¼Œå¯¼è‡´ç¼ºé¡µä¸­æ–­ï¼Œä¸­æ–­å“åº”å‡½æ•°ä¼šåœ¨äº¤æ¢åŒºä¸­æŸ¥æ‰¾ç›¸å¯¹åº”çš„é¡µé¢ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼ˆä¹Ÿå°±æ˜¯è¯¥æ–‡ä»¶ä»æ¥æ²¡æœ‰è¢«è¯»å…¥å†…å­˜çš„æƒ…å†µï¼‰ï¼Œåˆ™ä»ç¡¬ç›˜ä¸Šå°†æ–‡ä»¶æŒ‡å®šé¡µè¯»å–åˆ°ç‰©ç†å†…å­˜ä¸­ï¼ˆéjvmå †å†…å­˜ï¼‰ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;å¦‚æœåœ¨æ‹·è´æ•°æ®æ—¶ï¼Œå‘ç°ç‰©ç†å†…å­˜ä¸å¤Ÿç”¨ï¼Œåˆ™ä¼šé€šè¿‡è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼ˆswapï¼‰å°†æš‚æ—¶ä¸ç”¨çš„ç‰©ç†é¡µé¢äº¤æ¢åˆ°ç¡¬ç›˜çš„è™šæ‹Ÿå†…å­˜ä¸­ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;_283&quot;/&gt;æ€§èƒ½åˆ†æ&lt;/h3&gt; 
&lt;p&gt;ä»ä»£ç å±‚é¢ä¸Šçœ‹ï¼Œä»ç¡¬ç›˜ä¸Šå°†æ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œéƒ½è¦ç»è¿‡æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ•°æ®æ‹·è´ï¼Œå¹¶ä¸”æ•°æ®æ‹·è´æ“ä½œæ˜¯ç”±æ–‡ä»¶ç³»ç»Ÿå’Œç¡¬ä»¶é©±åŠ¨å®ç°çš„ï¼Œç†è®ºä¸Šæ¥è¯´ï¼Œæ‹·è´æ•°æ®çš„æ•ˆç‡æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;readwrite_287&quot;/&gt;é€šè¿‡å†…å­˜æ˜ å°„çš„æ–¹æ³•è®¿é—®ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œæ•ˆç‡è¦æ¯”readå’Œwriteç³»ç»Ÿè°ƒç”¨é«˜&lt;/h4&gt; 
&lt;ul&gt;&lt;li&gt;read()æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œé¦–å…ˆå°†æ–‡ä»¶ä»ç¡¬ç›˜æ‹·è´åˆ°å†…æ ¸ç©ºé—´çš„ä¸€ä¸ªç¼“å†²åŒºï¼Œå†å°†è¿™äº›æ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå®é™…ä¸Šè¿›è¡Œäº†ä¸¤æ¬¡æ•°æ®æ‹·è´ï¼›&lt;/li&gt;&lt;li&gt;map()ä¹Ÿæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œä½†æ²¡æœ‰è¿›è¡Œæ•°æ®æ‹·è´ï¼Œå½“ç¼ºé¡µä¸­æ–­å‘ç”Ÿæ—¶ï¼Œç›´æ¥å°†æ–‡ä»¶ä»ç¡¬ç›˜æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œåªè¿›è¡Œäº†ä¸€æ¬¡æ•°æ®æ‹·è´ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;é‡‡ç”¨å†…å­˜æ˜ å°„çš„è¯»å†™æ•ˆç‡è¦æ¯”ä¼ ç»Ÿçš„read/writeæ€§èƒ½é«˜ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;RandomAccessFileMappedByteBuffer_294&quot;/&gt;é‡‡ç”¨RandomAccessFileæ„å»ºç›¸å…³çš„MappedByteBuffer&lt;/h4&gt; 
&lt;p&gt;é€šè¿‡MappedByteBufferè¯»å–æ–‡ä»¶&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MappedByteBufferTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;File&lt;/span&gt; file &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;D://data.txt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;long&lt;/span&gt; len &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; ds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;MappedByteBuffer&lt;/span&gt; mappedByteBuffer &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RandomAccessFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;r&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FileChannel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;MapMode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;READ_ONLY&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; offset &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; offset &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; len&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; offset&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;byte&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; mappedByteBuffer&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                ds&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;offset&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token class-name&quot;&gt;Scanner&lt;/span&gt; scan &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Scanner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ByteArrayInputStream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ds&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;useDelimiter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scan&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasNext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;scan&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_320&quot;/&gt;æ€»ç»“&lt;/h3&gt; 
&lt;p&gt;MappedByteBufferä½¿ç”¨è™šæ‹Ÿå†…å­˜ï¼Œå› æ­¤åˆ†é…(map)çš„å†…å­˜å¤§å°ä¸å—JVMçš„-Xmxå‚æ•°é™åˆ¶ï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰å¤§å°é™åˆ¶çš„ã€‚&lt;br/&gt; å¦‚æœå½“æ–‡ä»¶è¶…å‡º1.5Gé™åˆ¶æ—¶ï¼Œå¯ä»¥é€šè¿‡positionå‚æ•°é‡æ–°mapæ–‡ä»¶åé¢çš„å†…å®¹ã€‚&lt;br/&gt; MappedByteBufferåœ¨å¤„ç†å¤§æ–‡ä»¶æ—¶çš„ç¡®æ€§èƒ½å¾ˆé«˜ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¦‚å†…å­˜å ç”¨ã€æ–‡ä»¶å…³é—­ä¸ç¡®å®šï¼Œè¢«å…¶æ‰“å¼€çš„æ–‡ä»¶åªæœ‰åœ¨åƒåœ¾å›æ”¶çš„æ‰ä¼šè¢«å…³é—­ï¼Œè€Œä¸”è¿™ä¸ªæ—¶é—´ç‚¹æ˜¯ä¸ç¡®å®šçš„ã€‚&lt;/p&gt; 
&lt;p&gt;javadocä¸­ä¹Ÿæåˆ°ï¼šA mapped byte buffer and the file mapping that it represents remain valid until the buffer itself is garbage-collected.*&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;_329&quot;/&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt; 
&lt;p&gt;https://blog.csdn.net/qq_41969879/article/details/81629469&lt;/p&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>0048991b6334114dddde320226e8ca10</guid>
<title>æŠŠ Redis å½“ä½œé˜Ÿåˆ—æ¥ç”¨ï¼ŒçœŸçš„åˆé€‚å—ï¼Ÿ</title>
<link>https://toutiao.io/k/3m8lom8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ç»å¸¸å¬åˆ°å¾ˆå¤šäººè®¨è®ºï¼Œå…³äºã€ŒæŠŠ Redis å½“ä½œé˜Ÿåˆ—æ¥ç”¨æ˜¯å¦åˆé€‚ã€çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº›äººè¡¨ç¤ºèµæˆï¼Œä»–ä»¬è®¤ä¸º Redis å¾ˆè½»é‡ï¼Œç”¨ä½œé˜Ÿåˆ—å¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿäº›äººåˆ™åå¯¹ï¼Œè®¤ä¸º Redis ä¼šã€Œä¸¢ã€æ•°æ®ï¼Œæœ€å¥½è¿˜æ˜¯ç”¨ã€Œä¸“ä¸šã€çš„é˜Ÿåˆ—ä¸­é—´ä»¶æ›´ç¨³å¦¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç©¶ç«Ÿå“ªç§æ–¹æ¡ˆæ›´å¥½å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°±å’Œä½ èŠä¸€èŠæŠŠ Redis å½“ä½œé˜Ÿåˆ—ï¼Œç©¶ç«Ÿæ˜¯å¦åˆé€‚è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä¼šä»ç®€å•åˆ°å¤æ‚ï¼Œä¸€æ­¥æ­¥å¸¦ä½ æ¢³ç†å…¶ä¸­çš„ç»†èŠ‚ï¼ŒæŠŠè¿™ä¸ªé—®é¢˜çœŸæ­£åœ°è®²æ¸…æ¥šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹å®Œè¿™ç¯‡æ–‡ç« åï¼Œæˆ‘å¸Œæœ›ä½ å¯¹è¿™ä¸ªé—®é¢˜ä½ ä¼šæœ‰å…¨æ–°çš„è®¤è¯†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;åœ¨æ–‡ç« çš„æœ€åï¼Œæˆ‘è¿˜ä¼šå‘Šè¯‰ä½ å…³äºã€ŒæŠ€æœ¯é€‰å‹ã€çš„æ€è·¯ï¼Œæ–‡ç« æœ‰ç‚¹é•¿ï¼Œå¸Œæœ›ä½ å¯ä»¥è€å¿ƒè¯»å®Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4188861985472155&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWmGodwpNsE4KsZ4XLRU2u9AmStUn9AIv3bHiarGSI8JtS2He3Irj5pZg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;826&quot;/&gt;&lt;/figure&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;ä»æœ€ç®€å•çš„å¼€å§‹ï¼šList é˜Ÿåˆ—&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„åœºæ™¯å¼€å§‹è®²èµ·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çš„ä¸šåŠ¡éœ€æ±‚è¶³å¤Ÿç®€å•ï¼Œæƒ³æŠŠ Redis å½“ä½œé˜Ÿåˆ—æ¥ä½¿ç”¨ï¼Œè‚¯å®šæœ€å…ˆæƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨ List è¿™ä¸ªæ•°æ®ç±»å‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸º List åº•å±‚çš„å®ç°å°±æ˜¯ä¸€ä¸ªã€Œé“¾è¡¨ã€ï¼Œåœ¨å¤´éƒ¨å’Œå°¾éƒ¨æ“ä½œå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ï¼Œè¿™æ„å‘³ç€å®ƒéå¸¸ç¬¦åˆæ¶ˆæ¯é˜Ÿåˆ—çš„æ¨¡å‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæŠŠ List å½“ä½œé˜Ÿåˆ—ï¼Œä½ å¯ä»¥è¿™ä¹ˆæ¥ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”Ÿäº§è€…ä½¿ç”¨ LPUSH å‘å¸ƒæ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â LPUSHÂ queueÂ msg1&lt;br/&gt;(integer)Â 1&lt;br/&gt;127.0.0.1:6379&amp;gt;Â LPUSHÂ queueÂ msg2&lt;br/&gt;(integer)Â 2&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¶ˆè´¹è€…è¿™ä¸€ä¾§ï¼Œä½¿ç”¨ RPOP æ‹‰å–æ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â RPOPÂ queue&lt;br/&gt;&quot;msg1&quot;&lt;br/&gt;127.0.0.1:6379&amp;gt;Â RPOPÂ queue&lt;br/&gt;&quot;msg2&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ¨¡å‹éå¸¸ç®€å•ï¼Œä¹Ÿå¾ˆå®¹æ˜“ç†è§£ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.29515418502202645&quot; data-type=&quot;jpeg&quot; data-w=&quot;681&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWu8QC6wleS3iaKtD1iaHBCicxiapia7DfYWH1qzum9iaiaaf2MAxoE3dR4xicSA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†è¿™é‡Œæœ‰ä¸ªå°é—®é¢˜ï¼Œå½“é˜Ÿåˆ—ä¸­å·²ç»æ²¡æœ‰æ¶ˆæ¯äº†ï¼Œæ¶ˆè´¹è€…åœ¨æ‰§è¡Œ RPOP æ—¶ï¼Œä¼šè¿”å› NULLã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â RPOPÂ queue&lt;br/&gt;(nil)Â Â Â //Â æ²¡æ¶ˆæ¯äº†&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œæˆ‘ä»¬åœ¨ç¼–å†™æ¶ˆè´¹è€…é€»è¾‘æ—¶ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªã€Œæ­»å¾ªç¯ã€ï¼Œè¿™ä¸ªé€»è¾‘éœ€è¦ä¸æ–­åœ°ä»é˜Ÿåˆ—ä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡Œå¤„ç†ï¼Œä¼ªä»£ç ä¸€èˆ¬ä¼šè¿™ä¹ˆå†™ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;while&lt;/span&gt;Â true:&lt;br/&gt;Â Â Â Â msgÂ =Â redis.rpop(&lt;span&gt;&quot;queue&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â //Â æ²¡æœ‰æ¶ˆæ¯ï¼Œç»§ç»­å¾ªç¯&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â msgÂ ==Â null:&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;&lt;br/&gt;Â Â Â Â //Â å¤„ç†æ¶ˆæ¯&lt;br/&gt;Â Â Â Â handle(msg)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ­¤æ—¶é˜Ÿåˆ—ä¸ºç©ºï¼Œé‚£æ¶ˆè´¹è€…ä¾æ—§ä¼šé¢‘ç¹æ‹‰å–æ¶ˆæ¯ï¼Œè¿™ä¼šé€ æˆã€ŒCPU ç©ºè½¬ã€ï¼Œä¸ä»…æµªè´¹ CPU èµ„æºï¼Œè¿˜ä¼šå¯¹ Redis é€ æˆå‹åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå¾ˆç®€å•ï¼Œå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ã€Œä¼‘çœ ã€ä¸€ä¼šï¼Œå†å»å°è¯•æ‹‰å–æ¶ˆæ¯ã€‚ä»£ç å¯ä»¥ä¿®æ”¹æˆè¿™æ ·ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;while&lt;/span&gt;Â true:&lt;br/&gt;Â Â Â Â msgÂ =Â redis.rpop(&lt;span&gt;&quot;queue&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â //Â æ²¡æœ‰æ¶ˆæ¯ï¼Œä¼‘çœ &lt;span&gt;2&lt;/span&gt;s&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â msgÂ ==Â null:&lt;br/&gt;Â Â Â Â Â Â Â Â sleep(&lt;span&gt;2&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;&lt;br/&gt;Â Â Â Â //Â å¤„ç†æ¶ˆæ¯Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â handle(msg)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å°±è§£å†³äº† CPU ç©ºè½¬é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé—®é¢˜è™½ç„¶è§£å†³äº†ï¼Œä½†åˆå¸¦æ¥å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šå½“æ¶ˆè´¹è€…åœ¨ä¼‘çœ ç­‰å¾…æ—¶ï¼Œæœ‰æ–°æ¶ˆæ¯æ¥äº†ï¼Œé‚£æ¶ˆè´¹è€…å¤„ç†æ–°æ¶ˆæ¯å°±ä¼šå­˜åœ¨ã€Œå»¶è¿Ÿã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡è®¾è®¾ç½®çš„ä¼‘çœ æ—¶é—´æ˜¯ 2sï¼Œé‚£æ–°æ¶ˆæ¯æœ€å¤šå­˜åœ¨ 2s çš„å»¶è¿Ÿã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦æƒ³ç¼©çŸ­è¿™ä¸ªå»¶è¿Ÿï¼Œåªèƒ½å‡å°ä¼‘çœ çš„æ—¶é—´ã€‚ä½†ä¼‘çœ æ—¶é—´è¶Šå°ï¼Œåˆæœ‰å¯èƒ½å¼•å‘ CPU ç©ºè½¬é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å¦‚ä½•åšï¼Œæ—¢èƒ½åŠæ—¶å¤„ç†æ–°æ¶ˆæ¯ï¼Œè¿˜èƒ½é¿å… CPU ç©ºè½¬å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Redis æ˜¯å¦å­˜åœ¨è¿™æ ·ä¸€ç§æœºåˆ¶ï¼šå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œæ¶ˆè´¹è€…åœ¨æ‹‰å–æ¶ˆæ¯æ—¶å°±ã€Œé˜»å¡ç­‰å¾…ã€ï¼Œä¸€æ—¦æœ‰æ–°æ¶ˆæ¯è¿‡æ¥ï¼Œå°±é€šçŸ¥æˆ‘çš„æ¶ˆè´¹è€…ç«‹å³å¤„ç†æ–°æ¶ˆæ¯å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¸è¿çš„æ˜¯ï¼ŒRedis ç¡®å®æä¾›äº†ã€Œé˜»å¡å¼ã€æ‹‰å–æ¶ˆæ¯çš„å‘½ä»¤ï¼šBRPOP / BLPOPï¼Œè¿™é‡Œçš„ B æŒ‡çš„æ˜¯é˜»å¡ï¼ˆBlockï¼‰ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.23641703377386197&quot; data-type=&quot;jpeg&quot; data-w=&quot;681&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWptBP43IUaOX9WHSibbIDMj4IIntO47FnUOCz94RQl6icCiaXlEaicxq7DQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨ï¼Œä½ å¯ä»¥è¿™æ ·æ¥æ‹‰å–æ¶ˆæ¯äº†ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;while&lt;/span&gt;Â true:&lt;br/&gt;Â Â Â Â //Â æ²¡æ¶ˆæ¯é˜»å¡ç­‰å¾…ï¼Œ&lt;span&gt;0&lt;/span&gt;è¡¨ç¤ºä¸è®¾ç½®è¶…æ—¶æ—¶é—´&lt;br/&gt;Â Â Â Â msgÂ =Â redis.brpop(&lt;span&gt;&quot;queue&quot;&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â msgÂ ==Â null:&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;&lt;br/&gt;Â Â Â Â //Â å¤„ç†æ¶ˆæ¯&lt;br/&gt;Â Â Â Â handle(msg)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ BRPOP è¿™ç§é˜»å¡å¼æ–¹å¼æ‹‰å–æ¶ˆæ¯æ—¶ï¼Œè¿˜æ”¯æŒä¼ å…¥ä¸€ä¸ªã€Œè¶…æ—¶æ—¶é—´ã€ï¼Œå¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™è¡¨ç¤ºä¸è®¾ç½®è¶…æ—¶ï¼Œç›´åˆ°æœ‰æ–°æ¶ˆæ¯æ‰è¿”å›ï¼Œå¦åˆ™ä¼šåœ¨æŒ‡å®šçš„è¶…æ—¶æ—¶é—´åè¿”å› NULLã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ–¹æ¡ˆä¸é”™ï¼Œæ—¢å…¼é¡¾äº†æ•ˆç‡ï¼Œè¿˜é¿å…äº† CPU ç©ºè½¬é—®é¢˜ï¼Œä¸€ä¸¾ä¸¤å¾—ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æ³¨æ„ï¼šå¦‚æœè®¾ç½®çš„è¶…æ—¶æ—¶é—´å¤ªé•¿ï¼Œè¿™ä¸ªè¿æ¥å¤ªä¹…æ²¡æœ‰æ´»è·ƒè¿‡ï¼Œå¯èƒ½ä¼šè¢« Redis Server åˆ¤å®šä¸ºæ— æ•ˆè¿æ¥ï¼Œä¹‹å Redis Server ä¼šå¼ºåˆ¶æŠŠè¿™ä¸ªå®¢æˆ·ç«¯è¸¢ä¸‹çº¿ã€‚æ‰€ä»¥ï¼Œé‡‡ç”¨è¿™ç§æ–¹æ¡ˆï¼Œå®¢æˆ·ç«¯è¦æœ‰é‡è¿æœºåˆ¶ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è§£å†³äº†æ¶ˆæ¯å¤„ç†ä¸åŠæ—¶çš„é—®é¢˜ï¼Œä½ å¯ä»¥å†æ€è€ƒä¸€ä¸‹ï¼Œè¿™ç§é˜Ÿåˆ—æ¨¡å‹ï¼Œæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä¸€èµ·æ¥åˆ†æä¸€ä¸‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ä¸æ”¯æŒé‡å¤æ¶ˆè´¹&lt;/strong&gt;ï¼šæ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯åï¼Œè¿™æ¡æ¶ˆæ¯å°±ä» List ä¸­åˆ é™¤äº†ï¼Œæ— æ³•è¢«å…¶å®ƒæ¶ˆè´¹è€…å†æ¬¡æ¶ˆè´¹ï¼Œå³ä¸æ”¯æŒå¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹åŒä¸€æ‰¹æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æ¶ˆæ¯ä¸¢å¤±&lt;/strong&gt;ï¼šæ¶ˆè´¹è€…æ‹‰å–åˆ°æ¶ˆæ¯åï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸å®•æœºï¼Œé‚£è¿™æ¡æ¶ˆæ¯å°±ä¸¢å¤±äº†&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯åŠŸèƒ½ä¸Šçš„ï¼Œä½¿ç”¨ List åšæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ƒä»…ä»…æ”¯æŒæœ€ç®€å•çš„ï¼Œä¸€ç»„ç”Ÿäº§è€…å¯¹åº”ä¸€ç»„æ¶ˆè´¹è€…ï¼Œä¸èƒ½æ»¡è¶³å¤šç»„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬äºŒä¸ªé—®é¢˜å°±æ¯”è¾ƒæ£˜æ‰‹äº†ï¼Œå› ä¸ºä» List ä¸­ POP ä¸€æ¡æ¶ˆæ¯å‡ºæ¥åï¼Œè¿™æ¡æ¶ˆæ¯å°±ä¼šç«‹å³ä»é“¾è¡¨ä¸­åˆ é™¤äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºæ¶ˆè´¹è€…æ˜¯å¦å¤„ç†æˆåŠŸï¼Œè¿™æ¡æ¶ˆæ¯éƒ½æ²¡åŠæ³•å†æ¬¡æ¶ˆè´¹äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœæ¶ˆè´¹è€…åœ¨å¤„ç†æ¶ˆæ¯æ—¶å¼‚å¸¸å®•æœºï¼Œé‚£è¿™æ¡æ¶ˆæ¯å°±ç›¸å½“äºä¸¢å¤±äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é’ˆå¯¹è¿™ 2 ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Ÿæˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥çœ‹ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;å‘å¸ƒ/è®¢é˜…æ¨¡å‹ï¼šPub/Sub&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»åå­—å°±èƒ½çœ‹å‡ºæ¥ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯ Redis ä¸“é—¨æ˜¯é’ˆå¯¹ã€Œå‘å¸ƒ/è®¢é˜…ã€è¿™ç§é˜Ÿåˆ—æ¨¡å‹è®¾è®¡çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒæ­£å¥½å¯ä»¥è§£å†³å‰é¢æåˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šé‡å¤æ¶ˆè´¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å³å¤šç»„ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ¥çœ‹å®ƒæ˜¯å¦‚ä½•åšçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Redis æä¾›äº† PUBLISH / SUBSCRIBE å‘½ä»¤ï¼Œæ¥å®Œæˆå‘å¸ƒã€è®¢é˜…çš„æ“ä½œã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.40360610263522884&quot; data-type=&quot;jpeg&quot; data-w=&quot;721&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWcVxxQr6pxO6UfDwAFgwicPNMFXicEOvBokFAsGbEMXUibzZNUAedQSnow/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡è®¾ä½ æƒ³å¼€å¯ 2 ä¸ªæ¶ˆè´¹è€…ï¼ŒåŒæ—¶æ¶ˆè´¹åŒä¸€æ‰¹æ•°æ®ï¼Œå°±å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ¥å®ç°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼Œä½¿ç”¨ SUBSCRIBE å‘½ä»¤ï¼Œå¯åŠ¨ 2 ä¸ªæ¶ˆè´¹è€…ï¼Œå¹¶ã€Œè®¢é˜…ã€åŒä¸€ä¸ªé˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;// 2ä¸ªæ¶ˆè´¹è€…Â éƒ½è®¢é˜…ä¸€ä¸ªé˜Ÿåˆ—&lt;br/&gt;127.0.0.1:6379&amp;gt;Â SUBSCRIBEÂ queue&lt;br/&gt;ReadingÂ messages...Â (pressÂ Ctrl-CÂ toÂ quit)&lt;br/&gt;1)Â &quot;subscribe&quot;&lt;br/&gt;2)Â &quot;queue&quot;&lt;br/&gt;3)Â (integer)Â 1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ—¶ï¼Œ2 ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šè¢«é˜»å¡ä½ï¼Œç­‰å¾…æ–°æ¶ˆæ¯çš„åˆ°æ¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹åï¼Œå†å¯åŠ¨ä¸€ä¸ªç”Ÿäº§è€…ï¼Œå‘å¸ƒä¸€æ¡æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â PUBLISHÂ queueÂ msg1&lt;br/&gt;(integer)Â 1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶ï¼Œ2 ä¸ªæ¶ˆè´¹è€…å°±ä¼šè§£é™¤é˜»å¡ï¼Œæ”¶åˆ°ç”Ÿäº§è€…å‘æ¥çš„æ–°æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â SUBSCRIBEÂ queue&lt;br/&gt;//Â æ”¶åˆ°æ–°æ¶ˆæ¯&lt;br/&gt;1)Â &quot;message&quot;&lt;br/&gt;2)Â &quot;queue&quot;&lt;br/&gt;3)Â &quot;msg1&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹åˆ°äº†ä¹ˆï¼Œä½¿ç”¨ Pub/Sub è¿™ç§æ–¹æ¡ˆï¼Œæ—¢æ”¯æŒé˜»å¡å¼æ‹‰å–æ¶ˆæ¯ï¼Œè¿˜å¾ˆå¥½åœ°æ»¡è¶³äº†å¤šç»„æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹åŒä¸€æ‰¹æ•°æ®çš„ä¸šåŠ¡éœ€æ±‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤æ­¤ä¹‹å¤–ï¼ŒPub/Sub è¿˜æä¾›äº†ã€ŒåŒ¹é…è®¢é˜…ã€æ¨¡å¼ï¼Œå…è®¸æ¶ˆè´¹è€…æ ¹æ®ä¸€å®šè§„åˆ™ï¼Œè®¢é˜…ã€Œå¤šä¸ªã€è‡ªå·±æ„Ÿå…´è¶£çš„é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â è®¢é˜…ç¬¦åˆè§„åˆ™çš„é˜Ÿåˆ—&lt;br/&gt;127.0.0.1:6379&amp;gt;Â PSUBSCRIBEÂ queue.*&lt;br/&gt;ReadingÂ messages...Â (pressÂ Ctrl-CÂ toÂ quit)&lt;br/&gt;1)Â &quot;psubscribe&quot;&lt;br/&gt;2)Â &quot;queue.*&quot;&lt;br/&gt;3)Â (integer)Â 1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œçš„æ¶ˆè´¹è€…ï¼Œè®¢é˜…äº† queue.* ç›¸å…³çš„é˜Ÿåˆ—æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹åï¼Œç”Ÿäº§è€…åˆ†åˆ«å‘ queue.p1 å’Œ queue.p2 å‘å¸ƒæ¶ˆæ¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â PUBLISHÂ queue.p1Â msg1&lt;br/&gt;(integer)Â 1&lt;br/&gt;127.0.0.1:6379&amp;gt;Â PUBLISHÂ queue.p2Â msg2&lt;br/&gt;(integer)Â 1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶å†çœ‹æ¶ˆè´¹è€…ï¼Œå®ƒå°±å¯ä»¥æ¥æ”¶åˆ°è¿™ 2 ä¸ªç”Ÿäº§è€…çš„æ¶ˆæ¯äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â PSUBSCRIBEÂ queue.*&lt;br/&gt;ReadingÂ messages...Â (pressÂ Ctrl-CÂ toÂ quit)&lt;br/&gt;...&lt;br/&gt;//Â æ¥è‡ªqueue.p1çš„æ¶ˆæ¯&lt;br/&gt;1)Â &quot;pmessage&quot;&lt;br/&gt;2)Â &quot;queue.*&quot;&lt;br/&gt;3)Â &quot;queue.p1&quot;&lt;br/&gt;4)Â &quot;msg1&quot;&lt;br/&gt;&lt;br/&gt;//Â æ¥è‡ªqueue.p2çš„æ¶ˆæ¯&lt;br/&gt;1)Â &quot;pmessage&quot;&lt;br/&gt;2)Â &quot;queue.*&quot;&lt;br/&gt;3)Â &quot;queue.p2&quot;&lt;br/&gt;4)Â &quot;msg2&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3792172739541161&quot; data-type=&quot;jpeg&quot; data-w=&quot;741&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWEgHBBbv2VxurLPcgDd9CJnzueRPuqLS6hugowGMlKvdzsvoYIDd0ibQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒPub/Sub æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯ï¼Œæ”¯æŒå¤šç»„ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è®²å®Œäº†å®ƒçš„ä¼˜ç‚¹ï¼Œé‚£å®ƒæœ‰ä»€ä¹ˆç¼ºç‚¹å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼ŒPub/Sub æœ€å¤§é—®é¢˜æ˜¯ï¼š&lt;strong&gt;ä¸¢æ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœå‘ç”Ÿä»¥ä¸‹åœºæ™¯ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¶ˆè´¹è€…ä¸‹çº¿&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Redis å®•æœº&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯å †ç§¯&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å…¶å®ä¸ Pub/Sub çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤§å…³ç³»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Pub/Sub åœ¨å®ç°æ—¶éå¸¸ç®€å•ï¼Œå®ƒæ²¡æœ‰åŸºäºä»»ä½•æ•°æ®ç±»å‹ï¼Œä¹Ÿæ²¡æœ‰åšä»»ä½•çš„æ•°æ®å­˜å‚¨ï¼Œå®ƒåªæ˜¯å•çº¯åœ°ä¸ºç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å»ºç«‹ã€Œæ•°æ®è½¬å‘é€šé“ã€ï¼ŒæŠŠç¬¦åˆè§„åˆ™çš„æ•°æ®ï¼Œä»ä¸€ç«¯è½¬å‘åˆ°å¦ä¸€ç«¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªå®Œæ•´çš„å‘å¸ƒã€è®¢é˜…æ¶ˆæ¯å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¶ˆè´¹è€…è®¢é˜…æŒ‡å®šé˜Ÿåˆ—ï¼ŒRedis å°±ä¼šè®°å½•ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼šé˜Ÿåˆ—-&amp;gt;æ¶ˆè´¹è€…&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…å‘è¿™ä¸ªé˜Ÿåˆ—å‘å¸ƒæ¶ˆæ¯ï¼Œé‚£ Redis å°±ä»æ˜ å°„å…³ç³»ä¸­æ‰¾å‡ºå¯¹åº”çš„æ¶ˆè´¹è€…ï¼ŒæŠŠæ¶ˆæ¯è½¬å‘ç»™å®ƒ&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.34876989869753977&quot; data-type=&quot;jpeg&quot; data-w=&quot;691&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWmvU2w2M5re8p6Dq5uPtHa0Ws9RJ6cGZd6oRhibia9cveicrrqcu5A36LA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹åˆ°äº†ä¹ˆï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰ä»»ä½•çš„æ•°æ®å­˜å‚¨ï¼Œä¸€åˆ‡éƒ½æ˜¯å®æ—¶è½¬å‘çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§è®¾è®¡æ–¹æ¡ˆï¼Œå°±å¯¼è‡´äº†ä¸Šé¢æåˆ°çš„é‚£äº›é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…å¼‚å¸¸æŒ‚æ‰äº†ï¼Œå®ƒå†é‡æ–°ä¸Šçº¿åï¼Œåªèƒ½æ¥æ”¶æ–°çš„æ¶ˆæ¯ï¼Œåœ¨ä¸‹çº¿æœŸé—´ç”Ÿäº§è€…å‘å¸ƒçš„æ¶ˆæ¯ï¼Œå› ä¸ºæ‰¾ä¸åˆ°æ¶ˆè´¹è€…ï¼Œéƒ½ä¼šè¢«ä¸¢å¼ƒæ‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ‰€æœ‰æ¶ˆè´¹è€…éƒ½ä¸‹çº¿äº†ï¼Œé‚£ç”Ÿäº§è€…å‘å¸ƒçš„æ¶ˆæ¯ï¼Œå› ä¸ºæ‰¾ä¸åˆ°ä»»ä½•ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œä¹Ÿä¼šå…¨éƒ¨ã€Œä¸¢å¼ƒã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œå½“ä½ åœ¨ä½¿ç”¨ Pub/Sub æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ï¼š&lt;strong&gt;æ¶ˆè´¹è€…å¿…é¡»å…ˆè®¢é˜…é˜Ÿåˆ—ï¼Œç”Ÿäº§è€…æ‰èƒ½å‘å¸ƒæ¶ˆæ¯ï¼Œå¦åˆ™æ¶ˆæ¯ä¼šä¸¢å¤±ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹Ÿæ˜¯å‰é¢è®²ä¾‹å­æ—¶ï¼Œæˆ‘ä»¬è®©æ¶ˆè´¹è€…å…ˆè®¢é˜…é˜Ÿåˆ—ï¼Œä¹‹åæ‰è®©ç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯çš„åŸå› ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼Œå› ä¸º Pub/Sub æ²¡æœ‰åŸºäºä»»ä½•æ•°æ®ç±»å‹å®ç°ï¼Œæ‰€ä»¥å®ƒä¹Ÿä¸å…·å¤‡ã€Œæ•°æ®æŒä¹…åŒ–ã€çš„èƒ½åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ï¼ŒPub/Sub çš„ç›¸å…³æ“ä½œï¼Œä¸ä¼šå†™å…¥åˆ° RDB å’Œ AOF ä¸­ï¼Œå½“ Redis å®•æœºé‡å¯ï¼ŒPub/Sub çš„æ•°æ®ä¹Ÿä¼šå…¨éƒ¨ä¸¢å¤±ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹ Pub/Sub åœ¨å¤„ç†ã€Œæ¶ˆæ¯ç§¯å‹ã€æ—¶ï¼Œä¸ºä»€ä¹ˆä¹Ÿä¼šä¸¢æ•°æ®ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æ¶ˆè´¹è€…çš„é€Ÿåº¦ï¼Œè·Ÿä¸ä¸Šç”Ÿäº§è€…æ—¶ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ç§¯å‹çš„æƒ…å†µå‘ç”Ÿã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœé‡‡ç”¨ List å½“ä½œé˜Ÿåˆ—ï¼Œæ¶ˆæ¯ç§¯å‹æ—¶ï¼Œä¼šå¯¼è‡´è¿™ä¸ªé“¾è¡¨å¾ˆé•¿ï¼Œæœ€ç›´æ¥çš„å½±å“å°±æ˜¯ï¼ŒRedis å†…å­˜ä¼šæŒç»­å¢é•¿ï¼Œç›´åˆ°æ¶ˆè´¹è€…æŠŠæ‰€æœ‰æ•°æ®éƒ½ä»é“¾è¡¨ä¸­å–å‡ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½† Pub/Sub çš„å¤„ç†æ–¹å¼å´ä¸ä¸€æ ·ï¼Œå½“æ¶ˆæ¯ç§¯å‹æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´&lt;strong&gt;æ¶ˆè´¹å¤±è´¥å’Œæ¶ˆæ¯ä¸¢å¤±&lt;/strong&gt;ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜æ˜¯å›åˆ° Pub/Sub çš„å®ç°ç»†èŠ‚ä¸Šæ¥è¯´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯ä¸ªæ¶ˆè´¹è€…è®¢é˜…ä¸€ä¸ªé˜Ÿåˆ—æ—¶ï¼ŒRedis éƒ½ä¼šåœ¨ Server ä¸Šç»™è¿™ä¸ªæ¶ˆè´¹è€…åœ¨åˆ†é…ä¸€ä¸ªã€Œç¼“å†²åŒºã€ï¼Œè¿™ä¸ªç¼“å†²åŒºå…¶å®å°±æ˜¯ä¸€å—å†…å­˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç”Ÿäº§è€…å‘å¸ƒæ¶ˆæ¯æ—¶ï¼ŒRedis å…ˆæŠŠæ¶ˆæ¯å†™åˆ°å¯¹åº”æ¶ˆè´¹è€…çš„ç¼“å†²åŒºä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹åï¼Œæ¶ˆè´¹è€…ä¸æ–­åœ°ä»ç¼“å†²åŒºè¯»å–æ¶ˆæ¯ï¼Œå¤„ç†æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.34876989869753977&quot; data-type=&quot;jpeg&quot; data-w=&quot;691&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFW6z62WCJjDASE4WaQ2Th4CkMnZlshf59DiakB84vTnHDkG24xmPGsPuw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™ä¸ªç¼“å†²åŒºä¸Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºè¿™ä¸ªç¼“å†²åŒºå…¶å®æ˜¯æœ‰ã€Œä¸Šé™ã€çš„ï¼ˆå¯é…ç½®ï¼‰ï¼Œå¦‚æœæ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯å¾ˆæ…¢ï¼Œå°±ä¼šé€ æˆç”Ÿäº§è€…å‘å¸ƒåˆ°ç¼“å†²åŒºçš„æ¶ˆæ¯å¼€å§‹ç§¯å‹ï¼Œç¼“å†²åŒºå†…å­˜æŒç»­å¢é•¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè¶…è¿‡äº†ç¼“å†²åŒºé…ç½®çš„ä¸Šé™ï¼Œæ­¤æ—¶ï¼ŒRedis å°±ä¼šã€Œå¼ºåˆ¶ã€æŠŠè¿™ä¸ªæ¶ˆè´¹è€…è¸¢ä¸‹çº¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶æ¶ˆè´¹è€…å°±ä¼šæ¶ˆè´¹å¤±è´¥ï¼Œä¹Ÿä¼šä¸¢å¤±æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ æœ‰çœ‹è¿‡ Redis çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªç¼“å†²åŒºçš„é»˜è®¤é…ç½®ï¼šclient-output-buffer-limit pubsub 32mb 8mb 60ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒçš„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;32mbï¼šç¼“å†²åŒºä¸€æ—¦è¶…è¿‡ 32MBï¼ŒRedis ç›´æ¥å¼ºåˆ¶æŠŠæ¶ˆè´¹è€…è¸¢ä¸‹çº¿&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;8mb + 60ï¼šç¼“å†²åŒºè¶…è¿‡ 8MBï¼Œå¹¶ä¸”æŒç»­ 60 ç§’ï¼ŒRedis ä¹Ÿä¼šæŠŠæ¶ˆè´¹è€…è¸¢ä¸‹çº¿&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Pub/Sub çš„è¿™ä¸€ç‚¹ç‰¹ç‚¹ï¼Œæ˜¯ä¸ List ä½œé˜Ÿåˆ—å·®å¼‚æ¯”è¾ƒå¤§çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»è¿™é‡Œä½ åº”è¯¥å¯ä»¥çœ‹å‡ºï¼Œ&lt;strong&gt;List å…¶å®æ˜¯å±äºã€Œæ‹‰ã€æ¨¡å‹ï¼Œè€Œ Pub/Sub å…¶å®å±äºã€Œæ¨ã€æ¨¡å‹&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;List ä¸­çš„æ•°æ®å¯ä»¥ä¸€ç›´ç§¯å‹åœ¨å†…å­˜ä¸­ï¼Œæ¶ˆè´¹è€…ä»€ä¹ˆæ—¶å€™æ¥ã€Œæ‹‰ã€éƒ½å¯ä»¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½† Pub/Sub æ˜¯æŠŠæ¶ˆæ¯å…ˆã€Œæ¨ã€åˆ°æ¶ˆè´¹è€…åœ¨ Redis Server ä¸Šçš„ç¼“å†²åŒºä¸­ï¼Œç„¶åç­‰æ¶ˆè´¹è€…å†æ¥å–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç”Ÿäº§ã€æ¶ˆè´¹é€Ÿåº¦ä¸åŒ¹é…æ—¶ï¼Œå°±ä¼šå¯¼è‡´ç¼“å†²åŒºçš„å†…å­˜å¼€å§‹è†¨èƒ€ï¼ŒRedis ä¸ºäº†æ§åˆ¶ç¼“å†²åŒºçš„ä¸Šé™ï¼Œæ‰€ä»¥å°±æœ‰äº†ä¸Šé¢è®²åˆ°çš„ï¼Œå¼ºåˆ¶æŠŠæ¶ˆè´¹è€…è¸¢ä¸‹çº¿çš„æœºåˆ¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ Pub/Sub çš„ä¼˜ç¼ºç‚¹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ”¯æŒå‘å¸ƒ / è®¢é˜…ï¼Œæ”¯æŒå¤šç»„ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆè´¹è€…ä¸‹çº¿ï¼Œæ•°æ®ä¼šä¸¢å¤±&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼ŒRedis å®•æœºï¼Œæ•°æ®ä¹Ÿä¼šä¸¢å¤±&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯å †ç§¯ï¼Œç¼“å†²åŒºæº¢å‡ºï¼Œæ¶ˆè´¹è€…ä¼šè¢«å¼ºåˆ¶è¸¢ä¸‹çº¿ï¼Œæ•°æ®ä¹Ÿä¼šä¸¢å¤±&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰æ²¡æœ‰å‘ç°ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªæ˜¯ä¼˜ç‚¹ä¹‹å¤–ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ç¼ºç‚¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œå¾ˆå¤šäººçœ‹åˆ° Pub/Sub çš„ç‰¹ç‚¹åï¼Œè§‰å¾—è¿™ä¸ªåŠŸèƒ½å¾ˆã€Œé¸¡è‚‹ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿæ­£æ˜¯ä»¥ä¸ŠåŸå› ï¼ŒPub/Sub åœ¨å®é™…çš„åº”ç”¨åœºæ™¯ä¸­ç”¨å¾—å¹¶ä¸å¤šã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç›®å‰åªæœ‰å“¨å…µé›†ç¾¤å’Œ Redis å®ä¾‹é€šä¿¡æ—¶ï¼Œé‡‡ç”¨äº† Pub/Sub çš„æ–¹æ¡ˆï¼Œå› ä¸ºå“¨å…µæ­£å¥½ç¬¦åˆå³æ—¶é€šè®¯çš„ä¸šåŠ¡åœºæ™¯ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ï¼ŒPub/Sub æœ‰æ²¡æœ‰è§£å†³ï¼Œæ¶ˆæ¯å¤„ç†æ—¶å¼‚å¸¸å®•æœºï¼Œæ— æ³•å†æ¬¡æ¶ˆè´¹çš„é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ä¹Ÿä¸è¡Œï¼ŒPub/Sub ä»ç¼“å†²åŒºå–èµ°æ•°æ®ä¹‹åï¼Œæ•°æ®å°±ä» Redis ç¼“å†²åŒºåˆ é™¤äº†ï¼Œæ¶ˆè´¹è€…å‘ç”Ÿå¼‚å¸¸ï¼Œè‡ªç„¶ä¹Ÿæ— æ³•å†æ¬¡é‡æ–°æ¶ˆè´¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½ï¼Œç°åœ¨æˆ‘ä»¬é‡æ–°æ¢³ç†ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ—¶çš„éœ€æ±‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œå¸Œæœ›å®ƒçš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ”¯æŒé˜»å¡ç­‰å¾…æ‹‰å–æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ”¯æŒå‘å¸ƒ / è®¢é˜…æ¨¡å¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆè´¹å¤±è´¥ï¼Œå¯é‡æ–°æ¶ˆè´¹ï¼Œæ¶ˆæ¯ä¸ä¸¢å¤±&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®ä¾‹å®•æœºï¼Œæ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œæ•°æ®å¯æŒä¹…åŒ–&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯å¯å †ç§¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Redis é™¤äº† List å’Œ Pub/Sub ä¹‹å¤–ï¼Œè¿˜æœ‰ç¬¦åˆè¿™äº›è¦æ±‚çš„æ•°æ®ç±»å‹å—ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼ŒRedis çš„ä½œè€…ä¹Ÿçœ‹åˆ°äº†ä»¥ä¸Šè¿™äº›é—®é¢˜ï¼Œä¹Ÿä¸€ç›´åœ¨æœç€è¿™äº›æ–¹å‘åŠªåŠ›ç€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Redis ä½œè€…åœ¨å¼€å‘ Redis æœŸé—´ï¼Œè¿˜å¦å¤–å¼€å‘äº†ä¸€ä¸ªå¼€æºé¡¹ç›® disqueã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé¡¹ç›®çš„å®šä½ï¼Œå°±æ˜¯ä¸€ä¸ªåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†ç”±äºç§ç§åŸå› ï¼Œè¿™ä¸ªé¡¹ç›®ä¸€ç›´ä¸æ¸©ä¸ç«ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»ˆäºï¼Œåœ¨ Redis 5.0 ç‰ˆæœ¬ï¼Œä½œè€…æŠŠ disque åŠŸèƒ½ç§»æ¤åˆ°äº† Redis ä¸­ï¼Œå¹¶ç»™å®ƒå®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼š&lt;strong&gt;Stream&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œå®ƒèƒ½ç¬¦åˆä¸Šé¢æåˆ°çš„è¿™äº›è¦æ±‚å—ï¼Ÿ&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;è¶‹äºæˆç†Ÿçš„é˜Ÿåˆ—ï¼šStream&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ Stream æ˜¯å¦‚ä½•è§£å†³ä¸Šé¢è¿™äº›é—®é¢˜çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä¾æ—§ä»ç®€å•åˆ°å¤æ‚ï¼Œä¾æ¬¡æ¥çœ‹ Stream åœ¨åšæ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œæ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼ŒStream é€šè¿‡ XADD å’Œ XREAD å®Œæˆæœ€ç®€å•çš„ç”Ÿäº§ã€æ¶ˆè´¹æ¨¡å‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”Ÿäº§è€…å‘å¸ƒ 2 æ¡æ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â *è¡¨ç¤ºè®©Redisè‡ªåŠ¨ç”Ÿæˆæ¶ˆæ¯ID&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XADDÂ queueÂ *Â nameÂ zhangsan&lt;br/&gt;&quot;1618469123380-0&quot;&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XADDÂ queueÂ *Â nameÂ lisi&lt;br/&gt;&quot;1618469127777-0&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ XADD å‘½ä»¤å‘å¸ƒæ¶ˆæ¯ï¼Œå…¶ä¸­çš„ã€Œ*ã€è¡¨ç¤ºè®© Redis è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„æ¶ˆæ¯ IDã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ¶ˆæ¯ ID çš„æ ¼å¼æ˜¯ã€Œæ—¶é—´æˆ³-è‡ªå¢åºå·ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â ä»å¼€å¤´è¯»å–5æ¡æ¶ˆæ¯ï¼Œ0-0è¡¨ç¤ºä»å¼€å¤´è¯»å–&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XREADÂ COUNTÂ 5Â STREAMSÂ queueÂ 0-0&lt;br/&gt;1)Â 1)Â &quot;queue&quot;&lt;br/&gt;Â Â Â 2)Â 1)Â 1)Â &quot;1618469123380-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;zhangsan&quot;&lt;br/&gt;Â Â Â Â Â Â 2)Â 1)Â &quot;1618469127777-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;lisi&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæƒ³ç»§ç»­æ‹‰å–æ¶ˆæ¯ï¼Œéœ€è¦ä¼ å…¥ä¸Šä¸€æ¡æ¶ˆæ¯çš„ IDï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â XREADÂ COUNTÂ 5Â STREAMSÂ queueÂ 1618469127777-0&lt;br/&gt;(nil)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ²¡æœ‰æ¶ˆæ¯ï¼ŒRedis ä¼šè¿”å› NULLã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.23641703377386197&quot; data-type=&quot;jpeg&quot; data-w=&quot;681&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWTGjnYoFly2IbkMAqaicicVhtgFsPlBW9kibBzmbFJDHVzDRWFbmgSTd7A/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå°±æ˜¯ Stream æœ€ç®€å•çš„ç”Ÿäº§ã€æ¶ˆè´¹ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;è¿™é‡Œä¸å†é‡ç‚¹ä»‹ç» Stream å‘½ä»¤çš„å„ç§å‚æ•°ï¼Œæˆ‘åœ¨ä¾‹å­ä¸­æ¼”ç¤ºæ—¶ï¼Œå‡¡æ˜¯å¤§å†™çš„å•è¯éƒ½æ˜¯ã€Œå›ºå®šã€å‚æ•°ï¼Œå‡¡æ˜¯å°å†™çš„å•è¯ï¼Œéƒ½æ˜¯å¯ä»¥è‡ªå·±å®šä¹‰çš„ï¼Œä¾‹å¦‚é˜Ÿåˆ—åã€æ¶ˆæ¯é•¿åº¦ç­‰ç­‰ï¼Œä¸‹é¢çš„ä¾‹å­è§„åˆ™ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¸ºäº†æ–¹ä¾¿ä½ ç†è§£ï¼Œè¿™é‡Œæœ‰å¿…è¦æé†’ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ï¼Œé’ˆå¯¹å‰é¢æåˆ°çš„æ¶ˆæ¯é˜Ÿåˆ—è¦æ±‚ï¼ŒStream éƒ½æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1) Stream æ˜¯å¦æ”¯æŒã€Œé˜»å¡å¼ã€æ‹‰å–æ¶ˆæ¯ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çš„ï¼Œåœ¨è¯»å–æ¶ˆæ¯æ—¶ï¼Œåªéœ€è¦å¢åŠ  BLOCK å‚æ•°å³å¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â BLOCKÂ 0Â è¡¨ç¤ºé˜»å¡ç­‰å¾…ï¼Œä¸è®¾ç½®è¶…æ—¶æ—¶é—´&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XREADÂ COUNTÂ 5Â BLOCKÂ 0Â STREAMSÂ queueÂ 1618469127777-0&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶ï¼Œæ¶ˆè´¹è€…å°±ä¼šé˜»å¡ç­‰å¾…ï¼Œç›´åˆ°ç”Ÿäº§è€…å‘å¸ƒæ–°çš„æ¶ˆæ¯æ‰ä¼šè¿”å›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;2) Stream æ˜¯å¦æ”¯æŒå‘å¸ƒ / è®¢é˜…æ¨¡å¼ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿæ²¡é—®é¢˜ï¼ŒStream é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®Œæˆå‘å¸ƒè®¢é˜…ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;XGROUPï¼šåˆ›å»ºæ¶ˆè´¹è€…ç»„&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;XREADGROUPï¼šåœ¨æŒ‡å®šæ¶ˆè´¹ç»„ä¸‹ï¼Œå¼€å¯æ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“å¦‚ä½•åšï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼Œç”Ÿäº§è€…ä¾æ—§å‘å¸ƒ 2 æ¡æ¶ˆæ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;127.0.0.1:6379&amp;gt;Â XADDÂ queueÂ *Â nameÂ zhangsan&lt;br/&gt;&quot;1618470740565-0&quot;&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XADDÂ queueÂ *Â nameÂ lisi&lt;br/&gt;&quot;1618470743793-0&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹åï¼Œæˆ‘ä»¬æƒ³è¦å¼€å¯ 2 ç»„æ¶ˆè´¹è€…å¤„ç†åŒä¸€æ‰¹æ•°æ®ï¼Œå°±éœ€è¦åˆ›å»º 2 ä¸ªæ¶ˆè´¹è€…ç»„ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â åˆ›å»ºæ¶ˆè´¹è€…ç»„1ï¼Œ0-0è¡¨ç¤ºä»å¤´æ‹‰å–æ¶ˆæ¯&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XGROUPÂ CREATEÂ queueÂ group1Â 0-0&lt;br/&gt;OK&lt;br/&gt;//Â åˆ›å»ºæ¶ˆè´¹è€…ç»„2ï¼Œ0-0è¡¨ç¤ºä»å¤´æ‹‰å–æ¶ˆæ¯&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XGROUPÂ CREATEÂ queueÂ group2Â 0-0&lt;br/&gt;OK&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¶ˆè´¹è€…ç»„åˆ›å»ºå¥½ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªã€Œæ¶ˆè´¹è€…ç»„ã€ä¸‹é¢æŒ‚ä¸€ä¸ªã€Œæ¶ˆè´¹è€…ã€ï¼Œè®©å®ƒä»¬åˆ†åˆ«å¤„ç†åŒä¸€æ‰¹æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ä¸ªæ¶ˆè´¹ç»„å¼€å§‹æ¶ˆè´¹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â group1çš„consumerå¼€å§‹æ¶ˆè´¹ï¼Œ&amp;gt;è¡¨ç¤ºæ‹‰å–æœ€æ–°æ•°æ®&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XREADGROUPÂ GROUPÂ group1Â consumerÂ COUNTÂ 5Â STREAMSÂ queueÂ &amp;gt;&lt;br/&gt;1)Â 1)Â &quot;queue&quot;&lt;br/&gt;Â Â Â 2)Â 1)Â 1)Â &quot;1618470740565-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;zhangsan&quot;&lt;br/&gt;Â Â Â Â Â Â 2)Â 1)Â &quot;1618470743793-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;lisi&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·åœ°ï¼Œç¬¬äºŒä¸ªæ¶ˆè´¹ç»„å¼€å§‹æ¶ˆè´¹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â group2çš„consumerå¼€å§‹æ¶ˆè´¹ï¼Œ&amp;gt;è¡¨ç¤ºæ‹‰å–æœ€æ–°æ•°æ®&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XREADGROUPÂ GROUPÂ group2Â consumerÂ COUNTÂ 5Â STREAMSÂ queueÂ &amp;gt;&lt;br/&gt;1)Â 1)Â &quot;queue&quot;&lt;br/&gt;Â Â Â 2)Â 1)Â 1)Â &quot;1618470740565-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;zhangsan&quot;&lt;br/&gt;Â Â Â Â Â Â 2)Â 1)Â &quot;1618470743793-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;lisi&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ 2 ç»„æ¶ˆè´¹è€…ï¼Œéƒ½å¯ä»¥è·å–åŒä¸€æ‰¹æ•°æ®è¿›è¡Œå¤„ç†äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ä¸€æ¥ï¼Œå°±è¾¾åˆ°äº†å¤šç»„æ¶ˆè´¹è€…ã€Œè®¢é˜…ã€æ¶ˆè´¹çš„ç›®çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4008559201141227&quot; data-type=&quot;jpeg&quot; data-w=&quot;701&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWeoaD3ZnP3xHV4tazwd7AZvom0Cyjf5ZoibEBhnjlpKETib9ypLrhoyIg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;3) æ¶ˆæ¯å¤„ç†æ—¶å¼‚å¸¸ï¼ŒStream èƒ½å¦ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œé‡æ–°æ¶ˆè´¹ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†ä¸Šé¢æ‹‰å–æ¶ˆæ¯æ—¶ç”¨åˆ°äº†æ¶ˆæ¯ IDï¼Œè¿™é‡Œä¸ºäº†ä¿è¯é‡æ–°æ¶ˆè´¹ï¼Œä¹Ÿè¦ç”¨åˆ°è¿™ä¸ªæ¶ˆæ¯ IDã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ä¸€ç»„æ¶ˆè´¹è€…å¤„ç†å®Œæ¶ˆæ¯åï¼Œéœ€è¦æ‰§è¡Œ XACK å‘½ä»¤å‘ŠçŸ¥ Redisï¼Œè¿™æ—¶ Redis å°±ä¼šæŠŠè¿™æ¡æ¶ˆæ¯æ ‡è®°ä¸ºã€Œå¤„ç†å®Œæˆã€ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â group1ä¸‹çš„Â 1618472043089-0Â æ¶ˆæ¯å·²å¤„ç†å®Œæˆ&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XACKÂ queueÂ group1Â 1618472043089-0&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42368045649072755&quot; data-type=&quot;jpeg&quot; data-w=&quot;701&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWnqicNAVrYEghyoiaZqwtSlphRJ5FX3lhPGYr6XANByxxk1PwfuW2k3jQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ¶ˆè´¹è€…å¼‚å¸¸å®•æœºï¼Œè‚¯å®šä¸ä¼šå‘é€ XACKï¼Œé‚£ä¹ˆ Redis å°±ä¼šä¾æ—§ä¿ç•™è¿™æ¡æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾…è¿™ç»„æ¶ˆè´¹è€…é‡æ–°ä¸Šçº¿åï¼ŒRedis å°±ä¼šæŠŠä¹‹å‰æ²¡æœ‰å¤„ç†æˆåŠŸçš„æ•°æ®ï¼Œé‡æ–°å‘ç»™è¿™ä¸ªæ¶ˆè´¹è€…ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿æ¶ˆè´¹è€…å¼‚å¸¸ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±æ•°æ®äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â æ¶ˆè´¹è€…é‡æ–°ä¸Šçº¿ï¼Œ0-0è¡¨ç¤ºé‡æ–°æ‹‰å–æœªACKçš„æ¶ˆæ¯&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XREADGROUPÂ GROUPÂ group1Â consumer1Â COUNTÂ 5Â STREAMSÂ queueÂ 0-0&lt;br/&gt;//Â ä¹‹å‰æ²¡æ¶ˆè´¹æˆåŠŸçš„æ•°æ®ï¼Œä¾æ—§å¯ä»¥é‡æ–°æ¶ˆè´¹&lt;br/&gt;1)Â 1)Â &quot;queue&quot;&lt;br/&gt;Â Â Â 2)Â 1)Â 1)Â &quot;1618472043089-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;zhangsan&quot;&lt;br/&gt;Â Â Â Â Â Â 2)Â 1)Â &quot;1618472045158-0&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â 2)Â 1)Â &quot;name&quot;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â 2)Â &quot;lisi&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;4) Stream æ•°æ®ä¼šå†™å…¥åˆ° RDB å’Œ AOF åšæŒä¹…åŒ–å—ï¼Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Stream æ˜¯æ–°å¢åŠ çš„æ•°æ®ç±»å‹ï¼Œå®ƒä¸å…¶å®ƒæ•°æ®ç±»å‹ä¸€æ ·ï¼Œæ¯ä¸ªå†™æ“ä½œï¼Œä¹Ÿéƒ½ä¼šå†™å…¥åˆ° RDB å’Œ AOF ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬åªéœ€è¦é…ç½®å¥½æŒä¹…åŒ–ç­–ç•¥ï¼Œè¿™æ ·çš„è¯ï¼Œå°±ç®— Redis å®•æœºé‡å¯ï¼ŒStream ä¸­çš„æ•°æ®ä¹Ÿå¯ä»¥ä» RDB æˆ– AOF ä¸­æ¢å¤å›æ¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;5) æ¶ˆæ¯å †ç§¯æ—¶ï¼ŒStream æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œå½“æ¶ˆæ¯é˜Ÿåˆ—å‘ç”Ÿæ¶ˆæ¯å †ç§¯æ—¶ï¼Œä¸€èˆ¬åªæœ‰ 2 ä¸ªè§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…é™æµï¼šé¿å…æ¶ˆè´¹è€…å¤„ç†ä¸åŠæ—¶ï¼Œå¯¼è‡´æŒç»­ç§¯å‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸¢å¼ƒæ¶ˆæ¯ï¼šä¸­é—´ä»¶ä¸¢å¼ƒæ—§æ¶ˆæ¯ï¼Œåªä¿ç•™å›ºå®šé•¿åº¦çš„æ–°æ¶ˆæ¯&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œ Redis åœ¨å®ç° Stream æ—¶ï¼Œé‡‡ç”¨äº†ç¬¬ 2 ä¸ªæ–¹æ¡ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å‘å¸ƒæ¶ˆæ¯æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šé˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ï¼Œé˜²æ­¢é˜Ÿåˆ—ç§¯å‹å¯¼è‡´å†…å­˜çˆ†ç‚¸ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â é˜Ÿåˆ—é•¿åº¦æœ€å¤§10000&lt;br/&gt;127.0.0.1:6379&amp;gt;Â XADDÂ queueÂ MAXLENÂ 10000Â *Â nameÂ zhangsan&lt;br/&gt;&quot;1618473015018-0&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“é˜Ÿåˆ—é•¿åº¦è¶…è¿‡ä¸Šé™åï¼Œæ—§æ¶ˆæ¯ä¼šè¢«åˆ é™¤ï¼Œåªä¿ç•™å›ºå®šé•¿åº¦çš„æ–°æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¹ˆæ¥çœ‹ï¼ŒStream åœ¨æ¶ˆæ¯ç§¯å‹æ—¶ï¼Œå¦‚æœæŒ‡å®šäº†æœ€å¤§é•¿åº¦ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¸¢å¤±æ¶ˆæ¯çš„ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;é™¤äº†ä»¥ä¸Šä»‹ç»åˆ°çš„å‘½ä»¤ï¼ŒStream è¿˜æ”¯æŒæŸ¥çœ‹æ¶ˆæ¯é•¿åº¦ï¼ˆXLENï¼‰ã€æŸ¥çœ‹æ¶ˆè´¹è€…çŠ¶æ€ï¼ˆXINFOï¼‰ç­‰å‘½ä»¤ï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½ å¯ä»¥æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£äº†è§£ä¸€ä¸‹ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½äº†ï¼Œé€šè¿‡ä»¥ä¸Šä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒRedis çš„ Stream å‡ ä¹è¦†ç›–åˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—çš„å„ç§åœºæ™¯ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—å¾ˆå®Œç¾ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ—¢ç„¶å®ƒçš„åŠŸèƒ½è¿™ä¹ˆå¼ºå¤§ï¼Œè¿™æ˜¯ä¸æ˜¯æ„å‘³ç€ï¼ŒRedis çœŸçš„å¯ä»¥ä½œä¸ºä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶æ¥ä½¿ç”¨å‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯è¿˜ã€Œå·®ä¸€ç‚¹ã€ï¼Œå°±ç®— Redis èƒ½åšåˆ°ä»¥ä¸Šè¿™äº›ï¼Œä¹Ÿåªæ˜¯ã€Œè¶‹è¿‘äºã€ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸå› åœ¨äº Redis æœ¬èº«çš„ä¸€äº›é—®é¢˜ï¼Œå¦‚æœæŠŠå…¶å®šä½æˆæ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿˜æ˜¯æœ‰äº›æ¬ ç¼ºçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ°è¿™é‡Œï¼Œå°±ä¸å¾—ä¸æŠŠ Redis ä¸ä¸“ä¸šçš„é˜Ÿåˆ—ä¸­é—´ä»¶åšå¯¹æ¯”äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹ï¼ŒRedis åœ¨ä½œé˜Ÿåˆ—æ—¶ï¼Œåˆ°åº•è¿˜æœ‰å“ªäº›æ¬ ç¼ºï¼Ÿ&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;ä¸ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œä¸€ä¸ªä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¿…é¡»è¦åšåˆ°ä¸¤å¤§å—ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯ä¸ä¸¢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯å¯å †ç§¯&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢æˆ‘ä»¬è®¨è®ºçš„é‡ç‚¹ï¼Œå¾ˆå¤§ç¯‡å¹…å›´ç»•çš„æ˜¯ç¬¬ä¸€ç‚¹å±•å¼€çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæˆ‘ä»¬æ¢ä¸ªè§’åº¦ï¼Œä»ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„ã€Œä½¿ç”¨æ¨¡å‹ã€æ¥åˆ†æä¸€ä¸‹ï¼Œæ€ä¹ˆåšï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¸¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå…¶å®å°±åˆ†ä¸ºä¸‰å¤§å—ï¼š&lt;strong&gt;ç”Ÿäº§è€…ã€é˜Ÿåˆ—ä¸­é—´ä»¶ã€æ¶ˆè´¹è€…&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.26265389876880985&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWcMh2Wso6LtJIzqfk87O0LwLsyOgGvBwJKiamJjrwALKUE47dqhBicdKw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;731&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¶ˆæ¯æ˜¯å¦ä¼šå‘ç”Ÿä¸¢å¤±ï¼Œå…¶é‡ç‚¹ä¹Ÿå°±åœ¨äºä»¥ä¸‹ 3 ä¸ªç¯èŠ‚ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç”Ÿäº§è€…ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¶ˆè´¹è€…ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é˜Ÿåˆ—ä¸­é—´ä»¶ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1) ç”Ÿäº§è€…ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç”Ÿäº§è€…åœ¨å‘å¸ƒæ¶ˆæ¯æ—¶ï¼Œå¯èƒ½å‘ç”Ÿä»¥ä¸‹å¼‚å¸¸æƒ…å†µï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ¶ˆæ¯æ²¡å‘å‡ºå»ï¼šç½‘ç»œæ•…éšœæˆ–å…¶å®ƒé—®é¢˜å¯¼è‡´å‘å¸ƒå¤±è´¥ï¼Œä¸­é—´ä»¶ç›´æ¥è¿”å›å¤±è´¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸ç¡®å®šæ˜¯å¦å‘å¸ƒæˆåŠŸï¼šç½‘ç»œé—®é¢˜å¯¼è‡´å‘å¸ƒè¶…æ—¶ï¼Œå¯èƒ½æ•°æ®å·²å‘é€æˆåŠŸï¼Œä½†è¯»å–å“åº”ç»“æœè¶…æ—¶äº†&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ˜¯æƒ…å†µ 1ï¼Œæ¶ˆæ¯æ ¹æœ¬æ²¡å‘å‡ºå»ï¼Œé‚£ä¹ˆé‡æ–°å‘ä¸€æ¬¡å°±å¥½äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ˜¯æƒ…å†µ 2ï¼Œç”Ÿäº§è€…æ²¡åŠæ³•çŸ¥é“æ¶ˆæ¯åˆ°åº•æœ‰æ²¡æœ‰å‘æˆåŠŸï¼Ÿæ‰€ä»¥ï¼Œä¸ºäº†é¿å…æ¶ˆæ¯ä¸¢å¤±ï¼Œå®ƒä¹Ÿåªèƒ½ç»§ç»­é‡è¯•ï¼Œç›´åˆ°å‘å¸ƒæˆåŠŸä¸ºæ­¢ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ç”Ÿäº§è€…ä¸€èˆ¬ä¼šè®¾å®šä¸€ä¸ªæœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè¶…è¿‡ä¸Šé™ä¾æ—§å¤±è´¥ï¼Œéœ€è¦è®°å½•æ—¥å¿—æŠ¥è­¦å¤„ç†ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œç”Ÿäº§è€…ä¸ºäº†é¿å…æ¶ˆæ¯ä¸¢å¤±ï¼Œåªèƒ½é‡‡ç”¨å¤±è´¥é‡è¯•çš„æ–¹å¼æ¥å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å‘ç°æ²¡æœ‰ï¼Ÿè¿™ä¹Ÿæ„å‘³ç€æ¶ˆæ¯å¯èƒ½ä¼šé‡å¤å‘é€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¯çš„ï¼Œåœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œè¦ä¿è¯æ¶ˆæ¯ä¸ä¸¢ï¼Œå®å¯é‡å‘ï¼Œä¹Ÿä¸èƒ½ä¸¢å¼ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£æ¶ˆè´¹è€…è¿™è¾¹ï¼Œå°±éœ€è¦å¤šåšä¸€äº›é€»è¾‘äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºæ•æ„Ÿä¸šåŠ¡ï¼Œå½“æ¶ˆè´¹è€…æ”¶åˆ°é‡å¤æ•°æ®æ•°æ®æ—¶ï¼Œè¦è®¾è®¡å¹‚ç­‰é€»è¾‘ï¼Œä¿è¯ä¸šåŠ¡çš„æ­£ç¡®æ€§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œç”Ÿäº§è€…ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Œå–å†³äºç”Ÿäº§è€…å¯¹äºå¼‚å¸¸æƒ…å†µçš„å¤„ç†æ˜¯å¦åˆç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ Redis è¿˜æ˜¯ä¸“ä¸šçš„é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œç”Ÿäº§è€…åœ¨è¿™ä¸€ç‚¹ä¸Šéƒ½æ˜¯å¯ä»¥ä¿è¯æ¶ˆæ¯ä¸ä¸¢çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;2) æ¶ˆè´¹è€…ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§æƒ…å†µå°±æ˜¯æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œæ¶ˆè´¹è€…æ‹¿åˆ°æ¶ˆæ¯åï¼Œè¿˜æ²¡å¤„ç†å®Œæˆï¼Œå°±å¼‚å¸¸å®•æœºäº†ï¼Œé‚£æ¶ˆè´¹è€…è¿˜èƒ½å¦é‡æ–°æ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ¶ˆè´¹è€…åœ¨å¤„ç†å®Œæ¶ˆæ¯åï¼Œå¿…é¡»ã€Œå‘ŠçŸ¥ã€é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œé˜Ÿåˆ—ä¸­é—´ä»¶æ‰ä¼šæŠŠæ ‡è®°å·²å¤„ç†ï¼Œå¦åˆ™ä»æ—§æŠŠè¿™äº›æ•°æ®å‘ç»™æ¶ˆè´¹è€…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§æ–¹æ¡ˆéœ€è¦æ¶ˆè´¹è€…å’Œä¸­é—´ä»¶äº’ç›¸é…åˆï¼Œæ‰èƒ½ä¿è¯æ¶ˆè´¹è€…è¿™ä¸€ä¾§çš„æ¶ˆæ¯ä¸ä¸¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ— è®ºæ˜¯ Redis çš„ Streamï¼Œè¿˜æ˜¯ä¸“ä¸šçš„é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œä¾‹å¦‚ RabbitMQã€Kafkaï¼Œå…¶å®éƒ½æ˜¯è¿™ä¹ˆåšçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼ŒRedis ä¹Ÿæ˜¯åˆæ ¼çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;3) é˜Ÿåˆ—ä¸­é—´ä»¶ä¼šä¸ä¼šä¸¢æ¶ˆæ¯ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢ 2 ä¸ªé—®é¢˜éƒ½æ¯”è¾ƒå¥½å¤„ç†ï¼Œåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é…åˆå¥½ï¼Œå°±èƒ½ä¿è¯ç”Ÿäº§ç«¯ã€æ¶ˆè´¹ç«¯éƒ½ä¸ä¸¢æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­é—´ä»¶æœ¬èº«å°±ä¸å¯é å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯•ç«Ÿç”Ÿäº§è€…å’Œæ¶ˆè´¹è¿™éƒ½ä¾èµ–å®ƒï¼Œå¦‚æœå®ƒä¸å¯é ï¼Œé‚£ä¹ˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ— è®ºæ€ä¹ˆåšï¼Œéƒ½æ— æ³•ä¿è¯æ•°æ®ä¸ä¸¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿™ä¸ªæ–¹é¢ï¼ŒRedis å…¶å®æ²¡æœ‰è¾¾åˆ°è¦æ±‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Redis åœ¨ä»¥ä¸‹ 2 ä¸ªåœºæ™¯ä¸‹ï¼Œéƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;AOF æŒä¹…åŒ–é…ç½®ä¸ºæ¯ç§’å†™ç›˜ï¼Œä½†è¿™ä¸ªå†™ç›˜è¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼ŒRedis å®•æœºæ—¶ä¼šå­˜åœ¨æ•°æ®ä¸¢å¤±çš„å¯èƒ½&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸»ä»å¤åˆ¶ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œä¸»ä»åˆ‡æ¢æ—¶ï¼Œä¹Ÿå­˜åœ¨ä¸¢å¤±æ•°æ®çš„å¯èƒ½ï¼ˆä»åº“è¿˜æœªåŒæ­¥å®Œæˆä¸»åº“å‘æ¥çš„æ•°æ®ï¼Œå°±è¢«ææˆä¸»åº“ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºäºä»¥ä¸ŠåŸå› æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ&lt;strong&gt;Redis æœ¬èº«çš„æ— æ³•ä¿è¯ä¸¥æ ¼çš„æ•°æ®å®Œæ•´æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œå¦‚æœæŠŠ Redis å½“ä½œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œåœ¨è¿™æ–¹é¢æ˜¯æœ‰å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¥çœ‹é‚£äº›ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶æ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åƒ RabbitMQ æˆ– Kafka è¿™ç±»ä¸“ä¸šçš„é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œåœ¨ä½¿ç”¨æ—¶ï¼Œä¸€èˆ¬æ˜¯éƒ¨ç½²ä¸€ä¸ªé›†ç¾¤ï¼Œç”Ÿäº§è€…åœ¨å‘å¸ƒæ¶ˆæ¯æ—¶ï¼Œé˜Ÿåˆ—ä¸­é—´ä»¶é€šå¸¸ä¼šå†™ã€Œå¤šä¸ªèŠ‚ç‚¹ã€ï¼Œä»¥æ­¤ä¿è¯æ¶ˆæ¯çš„å®Œæ•´æ€§ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä¾¿å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œä¹Ÿèƒ½ä¿è¯é›†ç¾¤çš„æ•°æ®ä¸ä¸¢å¤±ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼ŒRabbitMQã€Kafkaåœ¨è®¾è®¡æ—¶ä¹Ÿæ›´å¤æ‚ã€‚æ¯•ç«Ÿï¼Œå®ƒä»¬æ˜¯ä¸“é—¨é’ˆå¯¹é˜Ÿåˆ—åœºæ™¯è®¾è®¡çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½† Redis çš„å®šä½åˆ™ä¸åŒï¼Œå®ƒçš„å®šä½æ›´å¤šæ˜¯å½“ä½œç¼“å­˜æ¥ç”¨ï¼Œå®ƒä»¬ä¸¤è€…åœ¨è¿™ä¸ªæ–¹é¢è‚¯å®šæ˜¯å­˜åœ¨å·®å¼‚çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæˆ‘ä»¬æ¥çœ‹æ¶ˆæ¯ç§¯å‹æ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;4) æ¶ˆæ¯ç§¯å‹æ€ä¹ˆåŠï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸º Redis çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™å°±æ„å‘³ç€ä¸€æ—¦å‘ç”Ÿæ¶ˆæ¯ç§¯å‹ï¼Œåˆ™ä¼šå¯¼è‡´ Redis çš„å†…å­˜æŒç»­å¢é•¿ï¼Œå¦‚æœè¶…è¿‡æœºå™¨å†…å­˜ä¸Šé™ï¼Œå°±ä¼šé¢ä¸´è¢« OOM çš„é£é™©ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼ŒRedis çš„ Stream æä¾›äº†å¯ä»¥æŒ‡å®šé˜Ÿåˆ—æœ€å¤§é•¿åº¦çš„åŠŸèƒ½ï¼Œå°±æ˜¯ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½† Kafkaã€RabbitMQ è¿™ç±»æ¶ˆæ¯é˜Ÿåˆ—å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒä»¬çš„æ•°æ®éƒ½ä¼šå­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç£ç›˜çš„æˆæœ¬è¦æ¯”å†…å­˜å°å¾—å¤šï¼Œå½“æ¶ˆæ¯ç§¯å‹æ—¶ï¼Œæ— éå°±æ˜¯å¤šå ç”¨ä¸€äº›ç£ç›˜ç©ºé—´ï¼Œç›¸æ¯”äºå†…å­˜ï¼Œåœ¨é¢å¯¹ç§¯å‹æ—¶ä¹Ÿä¼šæ›´åŠ ã€Œå¦ç„¶ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒæŠŠ Redis å½“ä½œé˜Ÿåˆ—æ¥ä½¿ç”¨æ—¶ï¼Œå§‹ç»ˆé¢ä¸´çš„ 2 ä¸ªé—®é¢˜ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;Redis æœ¬èº«å¯èƒ½ä¼šä¸¢æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é¢å¯¹æ¶ˆæ¯ç§¯å‹ï¼ŒRedis å†…å­˜èµ„æºç´§å¼ &lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ°è¿™é‡Œï¼ŒRedis æ˜¯å¦å¯ä»¥ç”¨ä½œé˜Ÿåˆ—ï¼Œæˆ‘æƒ³è¿™ä¸ªç­”æ¡ˆä½ åº”è¯¥ä¼šæ¯”è¾ƒæ¸…æ™°äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çš„ä¸šåŠ¡åœºæ™¯è¶³å¤Ÿç®€å•ï¼Œå¯¹äºæ•°æ®ä¸¢å¤±ä¸æ•æ„Ÿï¼Œè€Œä¸”æ¶ˆæ¯ç§¯å‹æ¦‚ç‡æ¯”è¾ƒå°çš„æƒ…å†µä¸‹ï¼ŒæŠŠ Redis å½“ä½œé˜Ÿåˆ—æ˜¯å®Œå…¨å¯ä»¥çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œä¸”ï¼ŒRedis ç›¸æ¯”äº Kafkaã€RabbitMQï¼Œéƒ¨ç½²å’Œè¿ç»´ä¹Ÿæ›´åŠ è½»é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çš„ä¸šåŠ¡åœºæ™¯å¯¹äºæ•°æ®ä¸¢å¤±éå¸¸æ•æ„Ÿï¼Œè€Œä¸”å†™å…¥é‡éå¸¸å¤§ï¼Œæ¶ˆæ¯ç§¯å‹æ—¶ä¼šå ç”¨å¾ˆå¤šçš„æœºå™¨èµ„æºï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ ä½¿ç”¨ä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½äº†ï¼Œæ€»ç»“ä¸€ä¸‹ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä»ã€ŒRedis èƒ½å¦ç”¨ä½œé˜Ÿåˆ—ã€è¿™ä¸ªè§’åº¦å‡ºå‘ï¼Œä»‹ç»äº† Listã€Pub/Subã€Stream åœ¨åšé˜Ÿåˆ—çš„ä½¿ç”¨æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬å„è‡ªçš„ä¼˜åŠ£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹ååˆæŠŠ Redis å’Œä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶åšå¯¹æ¯”ï¼Œå‘ç° Redis çš„ä¸è¶³ä¹‹å¤„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæˆ‘ä»¬å¾—å‡º Redis åšé˜Ÿåˆ—çš„åˆé€‚åœºæ™¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæˆ‘ä¹Ÿåˆ—äº†ä¸€ä¸ªè¡¨æ ¼ï¼Œæ€»ç»“äº†å®ƒä»¬å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.48043184885290147&quot; data-type=&quot;jpeg&quot; data-w=&quot;741&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/gB9Yvac5K3PnYugKyFT6iaYiaXnHG02HFWjjanXypYOraDsDSBTYkXHXLD2gribiamm2GYvPmciaia3ziaN8ZeU0cEdibA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/figure&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/h1&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;blockquote mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span mpa-is-content=&quot;t&quot;&gt;åè®°&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œæˆ‘æƒ³å’Œä½ å†èŠä¸€èŠå…³äºã€Œ&lt;strong&gt;æŠ€æœ¯æ–¹æ¡ˆé€‰å‹&lt;/strong&gt;ã€çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ åº”è¯¥ä¹Ÿçœ‹åˆ°äº†ï¼Œè¿™ç¯‡æ–‡ç« è™½ç„¶å§‹äº Redisï¼Œä½†å¹¶ä¸æ­¢äº Redisã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬åœ¨åˆ†æ Redis ç»†èŠ‚æ—¶ï¼Œä¸€ç›´åœ¨æå‡ºé—®é¢˜ï¼Œç„¶åå¯»æ‰¾æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåœ¨æ–‡ç« æœ€åï¼ŒåˆèŠåˆ°ä¸€ä¸ªä¸“ä¸šçš„æ¶ˆæ¯é˜Ÿåˆ—åº”è¯¥æ€ä¹ˆåšã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œæˆ‘ä»¬åœ¨è®¨è®ºæŠ€æœ¯é€‰å‹æ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªå…³äºå¦‚ä½•å–èˆçš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œè¿™é‡Œæˆ‘æƒ³ä¼ è¾¾ç»™ä½ çš„ä¿¡æ¯æ˜¯ï¼Œ&lt;strong&gt;åœ¨é¢å¯¹æŠ€æœ¯é€‰å‹æ—¶ï¼Œä¸è¦ä¸ç»è¿‡æ€è€ƒå°±è§‰å¾—å“ªä¸ªæ–¹æ¡ˆå¥½ï¼Œå“ªä¸ªæ–¹æ¡ˆä¸å¥½&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ éœ€è¦æ ¹æ®å…·ä½“åœºæ™¯å…·ä½“åˆ†æï¼Œè¿™é‡Œæˆ‘æŠŠè¿™ä¸ªåˆ†æè¿‡ç¨‹åˆ†ä¸º 2 ä¸ªå±‚é¢ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä¸šåŠ¡åŠŸèƒ½è§’åº¦&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æŠ€æœ¯èµ„æºè§’åº¦&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç¯‡æ–‡ç« æ‰€è®²åˆ°çš„å†…å®¹ï¼Œéƒ½æ˜¯ä»¥ä¸šåŠ¡åŠŸèƒ½è§’åº¦å‡ºå‘åšå†³ç­–çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†è¿™é‡Œçš„ç¬¬äºŒç‚¹ï¼Œä»æŠ€æœ¯èµ„æºè§’åº¦å‡ºå‘ï¼Œå…¶å®ä¹Ÿå¾ˆé‡è¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŠ€æœ¯èµ„æºçš„è§’åº¦æ˜¯è¯´ï¼Œ&lt;strong&gt;ä½ æ‰€å¤„çš„å…¬å¸ç¯å¢ƒã€æŠ€æœ¯èµ„æºèƒ½å¦åŒ¹é…è¿™äº›æŠ€æœ¯æ–¹æ¡ˆ&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ€ä¹ˆè§£é‡Šå‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•æ¥è®²ï¼Œå°±æ˜¯ä½ æ‰€åœ¨çš„å…¬å¸ã€å›¢é˜Ÿï¼Œæ˜¯å¦æœ‰åŒ¹é…çš„èµ„æºèƒ½ hold ä½è¿™äº›æŠ€æœ¯æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éƒ½çŸ¥é“ Kafkaã€RabbitMQ æ˜¯éå¸¸ä¸“ä¸šçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä½†å®ƒä»¬çš„éƒ¨ç½²å’Œè¿ç»´ï¼Œç›¸æ¯”äº Redis æ¥è¯´ï¼Œä¹Ÿä¼šæ›´å¤æ‚ä¸€äº›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ åœ¨ä¸€ä¸ªå¤§å…¬å¸ï¼Œå…¬å¸æœ¬èº«å°±æœ‰ä¼˜ç§€çš„è¿ç»´å›¢é˜Ÿï¼Œé‚£ä¹ˆä½¿ç”¨è¿™äº›ä¸­é—´ä»¶è‚¯å®šæ²¡é—®é¢˜ï¼Œå› ä¸ºæœ‰è¶³å¤Ÿä¼˜ç§€çš„äººèƒ½ hold ä½è¿™äº›ä¸­é—´ä»¶ï¼Œå…¬å¸ä¹Ÿä¼šæŠ•å…¥äººåŠ›å’Œæ—¶é—´åœ¨è¿™ä¸ªæ–¹å‘ä¸Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ æ˜¯åœ¨ä¸€ä¸ªåˆåˆ›å…¬å¸ï¼Œä¸šåŠ¡æ­£å¤„åœ¨å¿«é€Ÿå‘å±•æœŸï¼Œæš‚æ—¶æ²¡æœ‰èƒ½ hold ä½è¿™äº›ä¸­é—´ä»¶çš„å›¢é˜Ÿå’Œäººï¼Œå¦‚æœè´¸ç„¶ä½¿ç”¨è¿™äº›ç»„ä»¶ï¼Œå½“å‘ç”Ÿæ•…éšœæ—¶ï¼Œæ’æŸ¥é—®é¢˜ä¹Ÿä¼šå˜å¾—å¾ˆå›°éš¾ï¼Œç”šè‡³ä¼šé˜»ç¢ä¸šåŠ¡çš„å‘å±•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œè¿™ç§æƒ…å½¢ä¸‹ï¼Œå¦‚æœå…¬å¸çš„æŠ€æœ¯äººå‘˜å¯¹äº Redis éƒ½å¾ˆç†Ÿï¼Œç»¼åˆè¯„ä¼°æ¥çœ‹ï¼ŒRedis ä¹ŸåŸºæœ¬å¯ä»¥æ»¡è¶³ä¸šåŠ¡ 90% çš„éœ€æ±‚ï¼Œé‚£å½“ä¸‹é€‰æ‹© Redis æœªå¿…ä¸æ˜¯ä¸€ä¸ªå¥½çš„å†³ç­–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œ&lt;strong&gt;åšæŠ€æœ¯é€‰å‹ä¸åªæ˜¯æŠ€æœ¯é—®é¢˜ï¼Œè¿˜ä¸äººã€å›¢é˜Ÿã€ç®¡ç†ã€ç»„ç»‡ç»“æ„æœ‰å…³&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™äº›åŸå› ï¼Œå½“ä½ åœ¨å’Œåˆ«äººè®¨è®ºæŠ€æœ¯é€‰å‹é—®é¢˜æ—¶ï¼Œä½ ä¼šå‘ç°æ¯ä¸ªå…¬å¸çš„åšæ³•éƒ½ä¸ç›¸åŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯•ç«Ÿæ¯ä¸ªå…¬å¸æ‰€å¤„çš„ç¯å¢ƒå’Œæ–‡åŒ–ä¸ä¸€æ ·ï¼Œåšå‡ºçš„å†³ç­–å½“ç„¶å°±ä¼šå„æœ‰å·®å¼‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä¸äº†è§£è¿™å…¶ä¸­çš„é€»è¾‘ï¼Œé‚£åœ¨åšæŠ€æœ¯é€‰å‹æ—¶ï¼Œåªä¼šè¶‹äºè¡¨é¢ç°è±¡ï¼Œæ— æ³•æ·±å…¥åˆ°é—®é¢˜æ ¹æºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œä¸€æ—¦ä½ ç†è§£äº†è¿™ä¸ªé€»è¾‘ï¼Œé‚£ä¹ˆä½ åœ¨çœ‹å¾…è¿™ä¸ªé—®é¢˜æ—¶ï¼Œä¸ä»…å¯¹äºæŠ€æœ¯ä¼šæœ‰æ›´åŠ æ·±åˆ»è®¤è¯†ï¼Œå¯¹æŠ€æœ¯èµ„æºå’Œäººçš„æŠŠæ¡ï¼Œä¹Ÿä¼šæ›´åŠ æ¸…æ™°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸Œæœ›ä½ ä»¥ååœ¨åšæŠ€æœ¯é€‰å‹æ—¶ï¼Œèƒ½å¤ŸæŠŠè¿™äº›å› ç´ ä¹Ÿè€ƒè™‘åœ¨å†…ï¼Œè¿™å¯¹ä½ çš„æŠ€æœ¯æˆé•¿ä¹‹è·¯ä¹Ÿæ˜¯éå¸¸æœ‰å¸®åŠ©çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;- EOF -&lt;/span&gt;&lt;/p&gt;&lt;section donone=&quot;shifuMouseDownCard(&#x27;shifu_c_030&#x27;)&quot; label=&quot;Copyright Reserved by PLAYHUDONG.&quot;&gt;&lt;section&gt;&lt;span&gt;æ¨èé˜…è¯»&lt;/span&gt;Â Â &lt;span&gt;ç‚¹å‡»æ ‡é¢˜å¯è·³è½¬&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651519607&amp;amp;idx=1&amp;amp;sn=9a6e498c86b2d966f1f80fbd364f6c4d&amp;amp;chksm=bd2596088a521f1e3a6b70915917ad333f1e505dabcc8e8688475e3c50ada0bec573bee95752&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ˜åœ°ä¸‰å°ºæå®š Redis ä¸ MySQL æ•°æ®ä¸€è‡´æ€§é—®é¢˜&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ˜åœ°ä¸‰å°ºæå®š Redis ä¸ MySQL æ•°æ®ä¸€è‡´æ€§é—®é¢˜&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651519012&amp;amp;idx=1&amp;amp;sn=b52c4e802bb8eac7445fbad361845be6&amp;amp;chksm=bd25945b8a521d4dca9dcefb90f0c5c08c00b606592e6cb3ce89f0a11ee64bcd76beba2ef7ab&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Redis è¦è¢«æ›¿ä»£äº†ï¼Ÿ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Redis è¦è¢«æ›¿ä»£äº†ï¼Ÿ&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çœ‹å®Œæœ¬æ–‡æœ‰æ”¶è·ï¼Ÿè¯·è½¬å‘åˆ†äº«ç»™æ›´å¤šäºº&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…³æ³¨ã€ŒImportNewã€ï¼Œæå‡JavaæŠ€èƒ½&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9166666666666666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;600&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;ç‚¹èµå’Œåœ¨çœ‹å°±æ˜¯æœ€å¤§çš„æ”¯æŒ&lt;/span&gt;&lt;span&gt;â¤ï¸&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8efa72142b046d555522c5591974b54a</guid>
<title>æµ…è°ˆæ•°æ®è¡€ç¼˜çš„å®ç°åŸç†</title>
<link>https://toutiao.io/k/2crw7k0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;1&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å‰è¨€&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¤§æ•°æ®æ—¶ä»£ï¼Œæ•°æ®çš„æ¥æºæå…¶å¹¿æ³›ï¼Œå„ç§ç±»å‹çš„æ•°æ®åœ¨å¿«é€Ÿäº§ç”Ÿï¼Œæ•°æ®ä¹Ÿæ˜¯çˆ†å‘æ€§å¢é•¿ã€‚ä»æ•°æ®çš„äº§ç”Ÿï¼Œé€šè¿‡åŠ å·¥èåˆæµè½¬äº§ç”Ÿæ–°çš„æ•°æ®ï¼Œåˆ°æœ€ç»ˆæ¶ˆäº¡ï¼Œæ•°æ®ä¹‹é—´çš„å…³è”å…³ç³»å¯ä»¥ç§°ä¹‹ä¸ºæ•°æ®è¡€ç¼˜å…³ç³»ã€‚åœ¨æ•°æ®ä¸­å°çš„å¤§èƒŒæ™¯ä¸‹ï¼Œæ•°ä»“çš„å¼€å‘è€…ç»å¸¸éœ€è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å…¶å®ï¼Œä»¥ä¸Šçš„è¿™äº›é—®é¢˜éƒ½å¯ä»¥ç»Ÿä¸€å½’ç±»ä¸ºæ•°æ®å‘ç°é—®é¢˜ã€‚å¤§éƒ¨åˆ†ä¼ä¸šä¼šé’ˆå¯¹ç¦»çº¿æ•°ä»“ä»»åŠ¡è¿›è¡ŒSQLåˆ†æï¼Œæ„å»ºè¡¨å’Œå­—æ®µçš„è¡€ç¼˜å…³ç³»ï¼Œæ•°æ®å‘ç°åŒ…æ‹¬ä½†ä¸é™äº: æ•°æ® è¡¨/åˆ—çš„ä¸šåŠ¡åˆ†ç±»åˆ†çº§å’Œæœºå¯†å­—æ®µè¯†åˆ«ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®è¡€ç¼˜çš„åŸºæœ¬æ¦‚å¿µ&lt;/strong&gt;&lt;/span&gt;&lt;/h1&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ•°æ®è¡€ç¼˜(Data Lineage)ï¼ŒæŒ‡çš„æ˜¯æ•°æ®ä»äº§ç”Ÿã€ETLå¤„ç†ã€åŠ å·¥ã€èåˆã€æµè½¬åˆ°æœ€ç»ˆæ¶ˆäº¡ï¼Œæ•°æ®ä¹‹é—´è‡ªç„¶å½¢æˆä¸€ç§å…³ç³»ã€‚è¿™äº›å…³ç³»å°±æ˜¯æè¿°æ•°æ®çš„æ•°æ®ï¼ˆå…ƒæ•°æ®ï¼‰ã€‚æŒæ¡äº†è¿™ä¸ªå…ƒæ•°æ®ï¼Œå°±èƒ½æœ€å¤§ç¨‹åº¦çš„åšå¥½æ•°æ®çš„åº”ç”¨å’Œç®¡ç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;blockquote&gt;tipsï¼šæœ‰ç«¥é‹å¯¹å…ƒæ•°æ®æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« https://zhuanlan.zhihu.com/p/336504407&lt;/blockquote&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;h1&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®è¡€ç¼˜çš„å¸¸è§ç”¨é€”&lt;/span&gt;&lt;/strong&gt;&lt;/h1&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h2&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä¸šåŠ¡åŸŸçš„åˆ’åˆ†&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h2&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h2&gt;&lt;section&gt;&lt;span&gt;é’ˆå¯¹ä»»åŠ¡çš„è¡¨å’Œå­—æ®µï¼Œé€šè¿‡è¡€ç¼˜å…³ç³»å¯ä»¥ç¡®å®šè¡¨çš„ä¸Šä¸‹æ¸¸ï¼Œä»¥åŠå¯¹åº”è¿™ä¸ªè¡¨æ‰€æ¶µç›–çš„ä¸šåŠ¡èŒƒå›´åŒ…æ‹¬å“ªäº›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/h2&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;h2&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æå‡è°ƒåº¦æ€§èƒ½&lt;br/&gt;&lt;br/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h2&gt;&lt;section&gt;&lt;span&gt;é€šè¿‡æ”¶é›†è°ƒåº¦ä»»åŠ¡çš„å¼€å§‹ç»“æŸæ—¶é—´ï¼Œäº†è§£ä»»åŠ¡ETLé“¾è·¯çš„æ—¶é—´ç“¶é¢ˆï¼Œåœ¨æ ¹æ®JOBçš„æ‰§è¡Œæƒ…å†µå®šä½æ€§èƒ½ç“¶é¢ˆï¼Œé€šè¿‡è°ƒæ•´ä»»åŠ¡çš„åŸºçº¿ã€ä¿è¯ä»»åŠ¡çš„èµ„æºæä¾›ï¼Œæå‡æ•´æ¡ETLé“¾è·¯çš„æ‰§è¡Œæ•ˆç‡ã€‚&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;/li&gt;&lt;li&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®å¼‚å¸¸å®šä½&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è‹¥åœ¨æŸå¤©çš„è°ƒåº¦ä¸­ï¼Œå‘ç°æ•°æ®å¼‚å¸¸ï¼Œæƒ³ç¡®è®¤æ˜¯ä»€ä¹ˆé€ æˆï¼Œå¯æ ¹æ®DQCå’Œè¡€ç¼˜å…³ç³»äº†è§£åº•å±‚æ•°æ®æ³¢åŠ¨æƒ…å†µï¼Œå¿«é€Ÿå®šä½åŸå› ã€‚&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;/li&gt;&lt;li&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;æ•°ä»“é“¾è·¯ä¼˜åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;br/&gt;&lt;br/&gt;é€šè¿‡å¯¹è¡¨å’Œå­—æ®µçš„ä¸‹æ¸¸ä½¿ç”¨é¢‘æ¬¡ï¼Œæ‰¾åˆ°ä½¿ç”¨è¾ƒå¤šçš„ï¼Œåˆ†æå…¶æ˜¯å¦æœ‰é‡å¤è®¡ç®—ã€æµªè´¹èµ„æºçš„æƒ…å†µã€‚å†åˆ¤æ–­æ˜¯å¦å¯ä»¥å› æ­¤å»ºè®¾äº‹å®æˆ–ç»´åº¦è¡¨ã€æˆ–è€…æŠŠè®¡ç®—çš„æŒ‡æ ‡æˆ–ç»´åº¦æ²‰æ·€ã€‚&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;/li&gt;&lt;li&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;è°ƒåº¦ä¾èµ–çš„å‡†ç¡®æ€§åˆ¤æ–­&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h2&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¯èƒ½ä¿®æ”¹è¿‡SQLï¼Œä½†æ˜¯å¿˜è®°åœ¨è°ƒåº¦å¹³å°ä¸Šé…ç½®ç›¸å¯¹åº”çš„ä¾èµ–ï¼Œè¿™æ ·å¾ˆå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå…¶å®é€šè¿‡è°ƒåº¦å¹³å°çš„è°ƒåº¦å…³ç³»çš„å…ƒæ•°æ®ï¼Œå’Œæ”¶é›†åˆ°çš„è¡€ç¼˜å…³ç³»è¿›è¡Œå¯¹æ¯”ï¼Œå¯å®šæ—¶æ€§çš„åˆ¤æ–­è°ƒåº¦ä»»åŠ¡ä¾èµ–æ˜¯å¦å‡†ç¡®ã€‚&lt;/span&gt;&lt;/section&gt;&lt;br/&gt;&lt;/h2&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;h1&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®è¡€ç¼˜çš„å®ç°åŸç†ï¼ˆè¡¨çº§åˆ«ï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;/h1&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æœ¬æ–‡åªé˜è¿°æœ€åŸºæœ¬çš„è¡¨çº§åˆ«çš„è¡€ç¼˜å…³ç³»çš„å®ç°æ€è·¯ï¼ŒçœŸå®çš„è¡€ç¼˜å®ç°ï¼Œè¿œæ¯”æ–‡ç« ä¸­çš„åœºæ™¯å¤æ‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åœ¨æœ€å¼€å§‹æ—¶ï¼Œåˆšæ¯•ä¸šçš„å°ç™½ï¼Œå¦‚æœè®©ä½ åšå¥½æ•°ä»“çš„è¡€ç¼˜å…ƒæ•°æ®æ—¶ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åœ¨åˆæœŸçš„å°ç™½æ ¹æœ¬å°±ä¸æ‡‚ç¼–è¯‘å™¨ã€è¯­æ³•åˆ†æã€è¯æ³•åˆ†æä»¥åŠASTè¿™äº›æ¦‚å¿µæ—¶ï¼Œæƒ³åˆ°çš„å”¯ä¸€åŠæ³•å°±æ˜¯é€šè¿‡æ­£åˆ™è¿™ä¸ªæœ´ç´ çš„æ‰‹æ®µå»è§£æSQLäº†ï¼Œæƒ³æ³•ä¹Ÿéå¸¸ç›´æ¥ï¼ŒFROMæˆ–è€…JOINåé¢å°±æ˜¯æºè¡¨ï¼ŒINSERT INTO/INSERT OVERWRITE TABLEåé¢å°±æ˜¯ç›®æ ‡è¡¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;python&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;source_table_regex = re.compile(&lt;span class=&quot;code-snippet__string&quot;&gt;r&quot;(?:from|join)\s+(\S*)(?:\s+|;)&quot;&lt;/span&gt;, re.IGNORECASE)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;target_table_regex = re.compile(&lt;span class=&quot;code-snippet__string&quot;&gt;r&quot;insert\s+(?:into|overwrite)\s+table\s+(\S*)\s+&quot;&lt;/span&gt;, re.IGNORECASE)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸è¿‡ï¼Œè‹¥æ˜¯æˆ‘ä»¬çš„SQLæ˜¯è¿™æ ·çš„å‘¢ï¼Ÿ&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; * &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; tableB;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æˆ–è€…æ˜¯è¿™æ ·çš„ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; tableA&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;where&lt;/span&gt; description = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;from Excel&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½ ä¼šå‘ç°ï¼Œè¿™ä¸ªæ€è·¯æœ‰å¾ˆå¤šæ¼æ´ã€‚äº‹å®ä¸Šå¦‚æœåŠ ä¸Šä¸€äº›if-elseçš„åˆ¤æ–­ï¼Œè¿™ä¸ªæ–¹æ¡ˆå…¶å®ä¹Ÿæ»¡è¶³äº†å¤§éƒ¨åˆ†åœºæ™¯ã€‚ä½†æ˜¯ï¼ï¼ï¼ï¼&lt;/span&gt;&lt;strong&gt;èº«ä¸ºå¼€å‘äººå‘˜ä¸€å®šè¦æ˜ç™½ä¸€ä¸ªç†å¿µï¼Œå½“ä½ åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åªè¦æœ‰ä¸€ä¸ªåœºæ™¯æ²¡æœ‰æ»¡è¶³ï¼Œé‚£å°±æ˜¯bugã€‚&lt;/strong&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¦–å…ˆé’ˆå¯¹æ€è·¯äºŒï¼Œå¤§å®¶å¯ä»¥æå‰äº†è§£ASTçš„æ¦‚å¿µï¼Œå‚è€ƒ&lt;/span&gt;&lt;span&gt;https://blog.csdn.net/u013212754/article/details/106981084&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å…¶æ¬¡åœ¨äº†è§£æ€è·¯äºŒå‰æä¸‹ï¼Œéœ€è¦çŸ¥é“Hive SQLçš„æ‰§è¡Œè¿‡ç¨‹ï¼ˆæ¯•ç«Ÿè¿˜æ˜¯çœ‹çš„HQLçš„è¯­æ³•æ ‘ï¼‰ä»¥åŠä¸€äº›åè¯è§£é‡Šã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Hiveæ ¹æ®Antlrå®šä¹‰çš„è¯æ³•ã€è¯­æ³•è§„åˆ™å®Œæˆè¯æ³•ã€è¯­æ³•åˆ†æå°†HQLè§£æä¸ºAST Treeï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éå†AST Treeï¼ŒæŠ½è±¡å‡ºæŸ¥è¯¢çš„åŸºæœ¬ç»„æˆå•å…ƒQuery Blockï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éå†Query Blockè§£æä¸ºæ“ä½œæ ‘Operator Tree(å³ï¼Œé€»è¾‘æ‰§è¡Œè®¡åˆ’)ï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é€»è¾‘ä¼˜åŒ–å™¨è¿›è¡Œæ“ä½œæ ‘å˜æ¢ï¼Œåˆå¹¶å¤šä½™çš„ReduceSinkOperatorï¼Œå‡å°‘shuffleï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éå†Operator Treeï¼Œå°†æ“ä½œæ ‘ç¿»è¯‘ä¸ºå¯¹åº”çš„MapReduceä»»åŠ¡ï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç‰©ç†ä¼˜åŒ–å™¨è¿›è¡ŒMapReduceä»»åŠ¡å˜æ¢ï¼Œç”Ÿæˆæœ€ç»ˆçš„æ‰§è¡Œè®¡åˆ’ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;/ol&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.44351851851851853&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AAQtmjCc74CPXicbLx5QiaKC935YPAxq5uIulXmNibGXmKQOfmNVvK2sZb8fXia7javMnfhchibnz81FqzzPwiaBVTrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;å…·ä½“æ­¥éª¤ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¯¹Hive SQLè¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æï¼Œè·å–å¯¹åº”çš„AST åŸå§‹çš„æŠ½è±¡è¯­æ³•æ ‘&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ASTè¯­æ³•æ ‘å‰ªæä¼˜åŒ–ï¼Œå‡å°‘éå†æ¬¡æ•°ï¼Œæé«˜è¯­ä¹‰è§£æçš„æ•ˆç‡ï¼Œå…·ä½“ä¸»è¦åšä¸¤æ–¹é¢çš„ä¼˜åŒ–ï¼š&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é’ˆå¯¹tokenä¸­æ¶‰åŠåˆ°çš„æ— æ•ˆè§£æèŠ‚ç‚¹è¿›è¡Œåˆ é™¤,å¦‚order byï¼Œdistributedby,cluster by,sort byä»¥åŠlimitï¼›&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é’ˆå¯¹tokenä¸­where/havingçš„å­æŸ¥è¯¢ï¼Œåœ¨ä¿è¯SQLè¯­æ³•æ­£ç¡®æ€§ä»¥åŠè¯­ä¹‰å®Œæ•´æ€§çš„å‰æä¸‹ï¼Œé‡‡ç”¨1=1 ç­‰ä»·ç­–ç•¥è¿›è¡Œç­‰ä»·æ›¿æ¢ï¼Œé™ä½äº†è¡€ç¼˜å…³ç³»è§£æçš„å¤æ‚æ€§ï¼›&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é€šè¿‡ä»¥ä¸Šä¸¤ç§å‰ªææ“ä½œï¼Œæ—¢å¯ä»¥å‡å°‘SQLè¯­å¥çš„å¤æ‚æ€§ï¼Œåˆå¯ä»¥é™ä½ASTè¯­æ³•æ ‘çš„å±‚çº§ï¼Œè¿›ä¸€æ­¥å‡å°‘äº†éå†ASTæ ‘é€’å½’æ¬¡æ•°ï¼Œé™ä½è¡€ç¼˜åˆ†æçš„å¤æ‚æ€§ï¼Œæé«˜äº†è¯­å¥è§£ææ•ˆç‡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;éå†ASTè·å–ä¸Šæ¸¸è¡¨åå’Œä¸‹æ¸¸è¡¨åï¼Œåœ¨SQLè¯­å¥ä¸­å­˜åœ¨å¤§éƒ¨åˆ†SQLè¯­å¥ç‰‡æ®µå³CTEã€‚ç”±äºå…¶åœ¨è¡€ç¼˜å…³ç³»è§£æä¸­ä¸èµ·å…³é”®ä½œç”¨ï¼Œä¸”å¯¹SQLè§£æå¸¦æ¥å¾ˆå¤§å›°æ‰°ï¼Œå› æ­¤è¡€ç¼˜å…³ç³»è§£æéœ€å¯¹CTEç±»å‹è¿›è¡Œè¯†åˆ«ï¼Œå¹¶è¿›è¡Œæ›¿æ¢ä¸åˆ é™¤ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;5&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;å¸‚é¢ä¸Šå…¶å®é’ˆå¯¹æ•°æ®è¡€ç¼˜çš„äº§å“æœ‰å¾ˆå¤šï¼Œåƒé˜¿é‡ŒDataWorksçš„æ•°æ®åœ°å›¾ã€å­—èŠ‚çš„DataLeapä»¥åŠéå¸¸ç«çš„å¼€æºäº§å“Apache Atlaséƒ½æ˜¯éå¸¸å¥½ç”¨å·¥å…·äº§å“ã€‚ä½†æ˜¯æœ¬è´¨ä¸Šæ˜¯æƒ³é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œè®©å°ä¼™ä¼´ä»¬åœ¨ä½¿ç”¨è¿™äº›äº§å“çš„æ—¶å€™å¤šå»æ€è€ƒè¿™äº›äº§å“èƒŒåçš„å®ç°åŸç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;strong mp-original-font-size=&quot;11&quot; mp-original-line-height=&quot;17.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19.200000762939453&quot;&gt;*æ–‡&lt;/span&gt;&lt;/strong&gt;&lt;strong mp-original-font-size=&quot;11&quot; mp-original-line-height=&quot;17.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;12&quot; mp-original-line-height=&quot;19.200000762939453&quot;&gt;/Weki&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;&lt;section mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;&lt;section mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;&lt;section mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å…³æ³¨å¾—ç‰©æŠ€æœ¯ï¼Œæ¯å‘¨ä¸€ä¸‰äº”æ™š18:30æ›´æ–°æŠ€æœ¯å¹²è´§&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¦æ˜¯è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿è¯„è®ºè½¬å‘ç‚¹èµï½&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzkxNTE3ODU0NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/AAQtmjCc74AlsHDtoVyU8hqzNTGS26fV9PmHAcZ8uib1GWNJibIuBiavPdAXw9IOzjlEAYRJUNjOEme5geMNPoZ1Q/0?wx_fmt=png&quot; data-nickname=&quot;å¾—ç‰©æŠ€æœ¯&quot; data-alias=&quot;&quot; data-signature=&quot;æŠ€æœ¯çŸ¥è¯†åˆ†äº«äº¤æµå¹³å°ï¼Œä¸ä½ ä¸€åŒèµ°å‘æŠ€æœ¯çš„äº‘ç«¯ã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;strong mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;æ´»åŠ¨æ¨è&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;strong&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;ä¸»é¢˜ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;å¾—ç‰©æ— çº¿æŠ€æœ¯æ²™é¾™ï¼ˆç¬¬ä¸‰æœŸï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;strong&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;æ—¶é—´ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;12æœˆ4æ—¥ 14:00 - 18:00&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;strong&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;æŠ¥åæ–¹å¼ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;æ›´å¤šè¯¦æƒ…ï¼Œè¯·ç‚¹å‡»&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzkxNTE3ODU0NA==&amp;amp;mid=2247490804&amp;amp;idx=2&amp;amp;sn=58079490afee7b01e5c69eb7b8a8c146&amp;amp;chksm=c16249abf615c0bd9735b6c1c063efe7f0a162d1f66067696c5bf1a5ba7a71f5482eff10ab25&amp;amp;token=1524677151&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€Œæ²™é¾™è¯¦æƒ…ã€&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€Œæ²™é¾™è¯¦æƒ…ã€&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;/p&gt;&lt;section class=&quot;channels_iframe_wrp&quot;&gt;&lt;mpvideosnap class=&quot;js_uneditable custom_select_card channels_live_iframe&quot; data-pluginname=&quot;videosnap&quot; data-headimgurl=&quot;https://wx.qlogo.cn/finderhead/Q3auHgzwzM6A15Sbkl3fcb3MH3giciciaiaypmMpAKzLbz2rnKDXs4ia2bg/0&quot; data-username=&quot;v2_060000231003b20faec8cae28b1dc7d5cf02ea3db07785f6268ca44f543d593c9d5004c1e666@finder&quot; data-nickname=&quot;å¾—ç‰©Tech&quot; data-desc=&quot;å°†åœ¨12æœˆ04æ—¥ 14:00 ç›´æ’­&quot; data-intro=&quot;å¾—ç‰©æŠ€æœ¯æ²™é¾™æ´»åŠ¨-æ— çº¿æŠ€æœ¯ä¸»é¢˜ä¸“åœºï¼ˆç¬¬ä¸‰æœŸï¼‰ï¼Œæœ¬æ¬¡æ²™é¾™é‚€è¯·æ¥è‡ªç¾å›¢ã€å¿«æ‰‹åŠå¾—ç‰©Appçš„å››ä½æŠ€æœ¯ä¸“å®¶å’Œå¤§å®¶ä¸€èµ·åˆ†äº«äº¤æµã€‚&quot; data-noticeid=&quot;finderlivenotice-v2_060000231003b20faec8cae28b1dc7d5cf02ea3db07785f6268ca44f543d593c9d5004c1e666@finder-1668581345241493-384301884&quot; data-type=&quot;live&quot;/&gt;&lt;span/&gt;&lt;/section&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>