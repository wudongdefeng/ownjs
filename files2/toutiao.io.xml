<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>bd7bfc4376ce573bae7556acd0db21c1</guid>
<title>Gopher å­¦ä¹  Linuxï¼Œè¿™æ‰æ˜¯æœ€æ­£ç¡®çš„å§¿åŠ¿</title>
<link>https://toutiao.io/k/acev52r</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4255555555555556&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/oiccOczwQpFicFjP48rDgEmVAE0uIgJr7aM2jlZNkbPu3QHFCcdESeA4btj9eMHJxibG5DuyuOpeLcSSRU0lVfDxQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯èƒ½æåˆ°è¿ç»´ä½¿ç”¨çš„å¼€å‘è¯­è¨€ï¼Œå¤§å®¶ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„åº”è¯¥å°±æ˜¯ Pythonã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºå®ƒçš„åº“å¤šï¼Œç”¨èµ·æ¥ä¹‹æ»‘æºœã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å® Go ç”¨äºè¿ç»´æ–¹é¢çš„åº“ä¹Ÿä¸å°‘ï¼Œä»Šå¤©å°±ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªåº“ï¼Œåˆ†åˆ†é’ŸæŠŠæœåŠ¡å™¨çš„èµ„æºä¿¡æ¯ï¼Œæ¯”å¦‚ CPUå‘€ï¼Œå†…å­˜å‘€çš„ä½¿ç”¨æƒ…å†µï¼Œæ‰’å¾—ä¸€æ¸…äºŒæ¥šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.38745019920318724&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/oiccOczwQpFicFjP48rDgEmVAE0uIgJr7aBLplHgicic39pgK3YCJQOIkcmPd6uHy4rmOiawYNvrUia6CqvZR8ZsVcBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1004&quot;/&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAxMDM4OTE4Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/oiccOczwQpFibibo18fyFiayicVL4FZV4ic7vibkR4NkVichWgwlZ3uURnJTGBrHNFpGafadfoQic1XOPPtgawW3kQuvNNA/0?wx_fmt=png&quot; data-nickname=&quot;GoLangå…¨æ ˆ&quot; data-alias=&quot;GolangStackDev&quot; data-signature=&quot;æˆ‘ä»¬ä¸“æ³¨äºä»¥goè¯­è¨€ä¸ºæ ¸å¿ƒï¼Œgoååº“ï¼Œgoæ¡†æ¶ï¼Œgo+ï¼Œgo ORMï¼ŒGRPCåº”ç”¨ï¼Œè®¾è®¡æ¨¡å¼ï¼Œæ•°æ®ç»“æ„ä¸ç®—æ³•ï¼ŒK8Sï¼ŒDockerï¼Œå¾®æœåŠ¡çš„ç³»åˆ—æ–‡ç« åˆ†äº«ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;br/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æˆ‘ä»¬ç”¨åˆ°çš„åº“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®˜æ–¹çš„ Github åœ°å€ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;https://github.com/shirou/gopsutil&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹äº†ä¸‹ï¼Œåœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å·²ç»æœ‰ 6.9k çš„ start äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.0913580246913581&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/oiccOczwQpFicFjP48rDgEmVAE0uIgJr7adBjAIczeNW8HR6c13mWpgXic4kOjSCTzlcd6o7CEIqemmiaHV3VBusaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;810&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯ä»–å½“å‰ç‰ˆæœ¬æ”¯æŒé‡‡é›†çš„ä¿¡æ¯ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸Šä»£ç &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œåœ¨å·¥ç¨‹é‡Œé¢åˆå§‹åŒ– go mod ä¹‹åï¼Œç›´æ¥ go get å°±èƒ½å®‰è£…å®Œæ¯•ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;goÂ getÂ github.com/shirou/gopsutil/v3&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;CPUä½¿ç”¨æƒ…å†µ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆåˆ©ç”¨åº“æ¥æ˜¾ç¤ºä¸‹å½“å‰ç”µè„‘çš„ CPU ä½¿ç”¨æƒ…å†µï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;package&lt;/span&gt;Â main&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br/&gt;Â &lt;span&gt;&quot;fmt&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/shirou/gopsutil/v3/cpu&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;time&quot;&lt;/span&gt;&lt;br/&gt;)&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â Â {&lt;br/&gt;Â &lt;span&gt;//Â ç»Ÿè®¡é—´éš”ï¼Œæ˜¯å¦å–å•ä¸ªè¿˜æ˜¯æ€»çš„&lt;/span&gt;&lt;br/&gt;Â p,_Â :=Â cpu.Percent(time.Second,Â &lt;span&gt;false&lt;/span&gt;)&lt;br/&gt;Â fmt.Println(p)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæˆ‘å°±æ²¡å¤„ç†é‡‡é›†é”™è¯¯çš„æƒ…å†µäº†ï¼Œç›´æ¥ä¸‹åˆ’çº¿å¿½ç•¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç»Ÿè®¡é—´éš”ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„æƒ…å†µä¼ å…¥ï¼Œç§’ï¼Œåˆ†ï¼Œæ—¶éƒ½è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ˜¯å¦è·å–å…¨éƒ¨çš„æ€»çš„ç»Ÿè®¡ï¼Œå› ä¸ºç°åœ¨çš„ç”µè„‘åŸºæœ¬éƒ½æ˜¯å¤šæ ¸äº†å§ï¼Œä½ å¯ä»¥ä¼  true è¿”å›çš„å°±æ˜¯æ¯ä¸ª CPU çš„ä½¿ç”¨æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ®µä»£ç æ”¾åˆ° main æ–¹æ³•é‡Œé¢ç›´æ¥æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â goÂ runÂ main.goÂ &lt;br/&gt;[41.54228855767001]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘è¿™é‡Œç”µè„‘çš„ CPU å½“å‰ä½¿ç”¨æƒ…å†µä¸º 41.54%&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;CPUä½¿ç”¨æƒ…å†µ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†…å­˜ä¿¡æ¯ï¼Œå…¨éƒ¨åœ¨ mem è¿™ä¸ªæ¨¡å—é‡Œé¢&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;package&lt;/span&gt;Â main&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br/&gt;Â &lt;span&gt;&quot;fmt&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/shirou/gopsutil/v3/mem&quot;&lt;/span&gt;&lt;br/&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â Â {&lt;br/&gt;&lt;br/&gt;Â m,_Â :=Â mem.VirtualMemory()&lt;br/&gt;Â fmt.Println(m)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›´æ¥æ‰§è¡Œå°±èƒ½å¾—åˆ°ä¸‹é¢ä¸€å †ä¿¡æ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;span&gt;&quot;total&quot;&lt;/span&gt;:8589934592,&lt;span&gt;&quot;available&quot;&lt;/span&gt;:2171953152,&lt;span&gt;&quot;used&quot;&lt;/span&gt;:6417981440,&lt;span&gt;&quot;usedPercent&quot;&lt;/span&gt;:74.71513748168945,&lt;span&gt;&quot;free&quot;&lt;/span&gt;:95838208,&lt;span&gt;&quot;active&quot;&lt;/span&gt;:2128056320,&lt;span&gt;&quot;inactive&quot;&lt;/span&gt;:2076114944,&lt;span&gt;&quot;wired&quot;&lt;/span&gt;:2473566208,&lt;span&gt;&quot;laundry&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;buffers&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;cached&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;writeBack&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;dirty&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;writeBackTmp&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;shared&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;slab&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;sreclaimable&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;sunreclaim&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;pageTables&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;swapCached&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;commitLimit&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;committedAS&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;highTotal&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;highFree&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;lowTotal&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;lowFree&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;swapTotal&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;swapFree&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;mapped&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;vmallocTotal&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;vmallocUsed&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;vmallocChunk&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;hugePagesTotal&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;hugePagesFree&quot;&lt;/span&gt;:0,&lt;span&gt;&quot;hugePageSize&quot;&lt;/span&gt;:0}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ç¾è§‚å‡çº§&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœç›´æ¥è¿™æ ·è¾“å‡ºæ˜¯ä¸æ˜¯å¤ªä¸ç¾è§‚äº†ï¼Œå’±ä»¬ç¨‹åºå‘˜ä¹Ÿæ˜¯è¿½æ±‚ç¾è§‚çš„å¥½ä¸å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥æˆ‘å†æ¨èä¸€ä¸ªåº“ï¼Œç”¨æ¥æ ¼å¼åŒ–è¾“å‡ºåˆ°æˆ‘ä»¬æ§åˆ¶å°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®˜æ–¹ Github åº“åœ°å€ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;github.com/olekukonko/tablewriter&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹ä¸‹ä»–çš„æ•ˆæœï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6314677930306231&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/oiccOczwQpFicFjP48rDgEmVAE0uIgJr7aiatZZ267cKHhAgYDfCpMicDlfAWLOOlr4uulUnBd3eWhf7xamgQQFfxw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;947&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¯ä¸æ˜¯ä¸€ä¸‹å°±é«˜å¤§ä¸Šäº†è®¸å¤šã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å®‰è£…ä½¿ç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨é¡¹ç›®ä¸‹é¢ç›´æ¥æ‰§è¡Œ go get ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;goÂ getÂ github.com/olekukonko/tablewriter&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨æ€è·¯å¾ˆç®€å•ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªäºŒç»´çš„æ•°ç»„ï¼Œç„¶åç›´æ¥ä¸¢ç»™è¿™ä¸ªåº“æ¸²æŸ“å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯æˆ‘ä»¬æŠŠä¸Šé¢çš„ä¿¡æ¯ä¸€æ•´åˆå°±å¾—åˆ°äº†ä¸‹é¢çš„è¿™æ®µä»£ç ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;package&lt;/span&gt;Â main&lt;br/&gt;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br/&gt;Â &lt;span&gt;&quot;fmt&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/olekukonko/tablewriter&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/shirou/gopsutil/v3/cpu&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;github.com/shirou/gopsutil/v3/mem&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;os&quot;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&quot;time&quot;&lt;/span&gt;&lt;br/&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;Â Â {&lt;br/&gt;Â &lt;br/&gt;Â tableÂ :=Â tablewriter.NewWriter(os.Stdout)&lt;br/&gt;Â table.SetHeader([]&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;é¡¹ç›®&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;æ•°é‡&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;ç™¾åˆ†æ¯”&quot;&lt;/span&gt;})&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//Â é—´éš”ï¼Œæ˜¯å¦å–å•ä¸ªè¿˜æ˜¯æ€»çš„&lt;/span&gt;&lt;br/&gt;Â p,_Â :=Â cpu.Percent(time.Second,Â &lt;span&gt;false&lt;/span&gt;)&lt;br/&gt;Â cpuCount,_Â :=Â cpu.Counts(&lt;span&gt;true&lt;/span&gt;)&lt;br/&gt;Â table.Append([]&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;CPU&quot;&lt;/span&gt;,&lt;br/&gt;Â Â fmt.Sprintf(&lt;span&gt;&quot;%dæ ¸&quot;&lt;/span&gt;,cpuCount),&lt;br/&gt;Â Â fmt.Sprintf(&lt;span&gt;&quot;%1.f%%&quot;&lt;/span&gt;,p[&lt;span&gt;0&lt;/span&gt;])})&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;//Â å†…å­˜ä¿¡æ¯&lt;/span&gt;&lt;br/&gt;Â m,_Â :=Â mem.VirtualMemory()&lt;br/&gt;&lt;br/&gt;Â table.Append([]&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;å†…å­˜&quot;&lt;/span&gt;,&lt;br/&gt;Â Â fmt.Sprintf(&lt;span&gt;&quot;%dG&quot;&lt;/span&gt;,m.Total/&lt;span&gt;1024&lt;/span&gt;/&lt;span&gt;1024&lt;/span&gt;/&lt;span&gt;1024&lt;/span&gt;),&lt;br/&gt;Â Â fmt.Sprintf(&lt;span&gt;&quot;%1.f%%&quot;&lt;/span&gt;,m.UsedPercent)})&lt;br/&gt;&lt;br/&gt;Â table.Render()&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›´æ¥è¿è¡Œèµ·æ¥ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„å›¾ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.3145833333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/oiccOczwQpFicFjP48rDgEmVAE0uIgJr7aGHEPtSyM89hAibYt0lNJ4xe3B5SfqPsBiadMXdSWWQNXGgafWAGlqQmg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;960&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>55756621413fc82a39b50f055cd9c84d</guid>
<title>çˆ±å¥‡è‰ºåŸºç¡€æ•°æ®å¹³å°æ¼”è¿›</title>
<link>https://toutiao.io/k/dvuzaji</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;çˆ±å¥‡è‰ºåŸºç¡€æ•°æ®å¹³å°ä¸»è¦æ˜¯ä¸ºäº†ç»Ÿä¸€å…¬å¸å†…éƒ¨çš„åŸºç¡€æ•°æ®äº¤æ¢è§„èŒƒï¼Œè§£å†³ä¸åŒå›¢é˜Ÿä¹‹é—´IDä¸ç»Ÿä¸€é—®é¢˜ï¼ˆå„å›¢é˜Ÿéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„IDï¼‰ã€æ•°æ®å®šä¹‰ä¸ç»Ÿä¸€ã€æ•°æ®æ›´æ–°ä¸åŠæ—¶ç­‰é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.41271676300578036&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAm1lTdUtet7XTzCHQJY5d5IeXJcF9sEQm5BsC7ibPDy0iaLU5Z65qlYkQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;865&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€å…¬å¸ä¸šåŠ¡å‘å±•ï¼Œé™¤äº†è§†é¢‘åŸºç¡€æ•°æ®ï¼Œè¿˜é€æ­¥å¯¹æ¥äº† UGC è§†é¢‘ã€å…¨ç½‘å½±è§†èµ„æ–™ã€èµ„æºä½ã€ç›´æ’­ã€æ¸¸æˆã€æ–‡å­¦ã€ç”µå•†ç­‰å…¬å¸å¤§éƒ¨åˆ†ä¸šåŠ¡æ–¹çš„åŸºç¡€æ•°æ®ï¼Œæ”¯æŒæµ·é‡ä¸šåŠ¡æ•°æ®çš„å­˜å‚¨ã€åˆ†å‘ã€åœ¨çº¿æŸ¥è¯¢ã€ç¦»çº¿åˆ†æç­‰æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰å·²æœ‰è¿‘ç™¾å¼ æ•°æ®è¡¨ï¼Œæ€»æ•°æ®é‡æ•°åäº¿ï¼Œæ•°æ®æ—¥å¢é•¿ç™¾ä¸‡çº§ï¼Œæ—¥æ¶ˆæ¯é‡åƒä¸‡çº§ï¼Œè¦†ç›–å…¬å¸å‡ åä¸ªä¸šåŠ¡å›¢é˜Ÿã€‚&lt;br clear=&quot;all&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ¬æ–‡å°†ä»çˆ±å¥‡è‰ºæ•°æ®å¹³å°åœ¨å®é™…ä¸šåŠ¡ä¸­è§£å†³HBaseé«˜å¯ç”¨ã€æ¶ˆæ¯æœåŠ¡é«˜å¯ç”¨ä»¥åŠå¹³å°æ•´ä½“æœåŠ¡æ°´å¹³æ‰©å±•èƒ½åŠ›ç­‰æ–¹é¢ï¼Œå™è¿°çˆ±å¥‡è‰ºçš„æ¢ç´¢å’Œå®è·µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;01&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;æœåŠ¡èƒ½åŠ›&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çˆ±å¥‡è‰ºåŸºç¡€æ•°æ®å¹³å°ä¸»è¦æä¾›ä»¥ä¸‹èƒ½åŠ›ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4393063583815029&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAjSgaVaNcZ1NuW9goviaz7ibfyh97QvPueBJLdfms0JcF7j2QialMSfoEw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;865&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;02&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;æ•´ä½“æ¶æ„&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5676300578034682&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAibjJ2Afeeg5hzSQoRLkia1b2wiagyNibGMjRnNM8AHicl670NAw0LnmbGDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;865&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ¥å…¥å±‚ï¼šæä¾›HTTPã€RPCåè®®è®¿é—®ï¼Œæä¾›ç»Ÿä¸€çš„æ¶ˆæ¯ç›‘å¬å’Œç¦»çº¿æ‰«æSDK&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç»Ÿä¸€ç®¡ç†å¹³å°ï¼šä¸ºå¯¹æ¥ä¸šåŠ¡æä¾›ä¾¿æ·çš„å¼€å‘å·¥å…·ï¼Œè¡¨å®šä¹‰æŸ¥çœ‹ã€æ•°æ®é‡ã€æ¶ˆæ¯é‡ã€ä¿®æ”¹è®°å½•ï¼Œå®æ—¶æŸ¥è¯¢ç­‰åŠŸèƒ½ï¼›åŒæ—¶ä¹ŸåŒ…å«ä¸€ç«™å¼çš„å­—æ®µå®šä¹‰ç®¡ç†ç³»ç»Ÿï¼Œå¯é«˜æ•ˆä¾¿æ·åœ°å¯¹ä¸šåŠ¡è¡¨å­—æ®µè¿›è¡Œè°ƒæ•´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡æ²»ç†ï¼šå¯¹äºæ•°æ®çš„è®¿é—®éƒ½æœ‰ç²¾ç»†åŒ–çš„æƒé™æ§åˆ¶ã€æµé‡æ§åˆ¶ç­‰åŠŸèƒ½&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;03&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;æœåŠ¡æµç¨‹&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8737727910238429&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAStzhg3hoL155ZFWFXpicg5jBqUX0v0AsXpNsPfAWfib3IN2M99nwp0VQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;713&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆéœ€è¦é€šè¿‡ç»Ÿä¸€ç®¡ç†å¹³å°ï¼Œå®šä¹‰å¥½è¡¨åŠå…¶çš„å­—æ®µç±»å‹ç»“æ„ï¼Œéšåä¼šå‘å¸ƒåŸºäºProtobufçš„æ•°æ®å®šä¹‰åŒ…ï¼Œé€šè¿‡è¿™ä¸ªåŒ…æ¥ä½¿ç”¨åˆ†å‘å¹³å°ä¸­å­˜å‚¨çš„æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”Ÿäº§ä¸šåŠ¡é€šè¿‡IDæœåŠ¡ã€å†™å…¥æœåŠ¡å°†æ•°æ®å†™å…¥å¹³å°ï¼Œå¹³å°ä¼šå…ˆå°†æ•°æ®å…¥åº“HBaseï¼Œåä¼šå‘é€ä¸€ä¸ªæ›´æ–°é€šçŸ¥æ¶ˆæ¯ï¼Œä¸‹æ¸¸ä¸šåŠ¡é€šè¿‡è®¢é˜…æ¶ˆæ¯è·å–åˆ°å…·ä½“å˜æ›´çš„IDåŠå­—æ®µä¿¡æ¯ï¼Œå†é€šè¿‡è¯»å–æœåŠ¡è·å–è¯¥IDçš„æœ€æ–°æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¹³å°å†…éƒ¨ä¹ŸåŸºäºæ¶ˆæ¯å°†æœ¬æ¬¡å˜åŠ¨çš„å†…å®¹è®°å½•äºHBaseï¼Œæ–¹ä¾¿ä¸šåŠ¡æ’æŸ¥å®šä½é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ•°æ®ç»“æœä¸å¯¹æ—¶ï¼Œä¸šåŠ¡å¯ä»¥å¾ˆå¿«é€šè¿‡è¿™ä¸ªå˜æ›´è®°å½•æŸ¥è¯¢åˆ°æ˜¯å“ªä¸ªä¸šåŠ¡åœ¨ä»€ä¹ˆæ—¶é—´å…·ä½“IPåœ°å€æ”¹åŠ¨çš„æ•°æ®ï¼Œåœ¨å®é™…å·¥ä½œåœºæ™¯ä¸­ä½¿ç”¨é¢‘ç‡è¾ƒé«˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºæ¶ˆæ¯åˆå¹¶æœåŠ¡ä¸»è¦æ˜¯å¯¹å†™å…¥è§¦å‘çš„æ¶ˆæ¯è¿›è¡Œç›¸åŒIDå†™å…¥çš„åˆå¹¶ï¼Œå‡å°‘å‘å‡ºçš„æ¶ˆæ¯é‡ï¼Œé™ä½ä¸‹æ¸¸è®¢é˜…ä¸šåŠ¡çš„å¤„ç†å‹åŠ›ã€‚æˆ‘ä»¬é’ˆå¯¹æ¶ˆæ¯åŒºåˆ†äº†ä¼˜å…ˆçº§ï¼Œä¸åŒçš„ä¼˜å…ˆçº§æœ‰ä¸åŒçš„åˆå¹¶çª—å£æ—¶é—´ï¼Œä¾‹å¦‚ï¼šç›´æ’­ç­‰ä¸šåŠ¡å¯¹æ—¶æ•ˆæ€§ç›¸å¯¹æ•æ„Ÿï¼Œæ¶ˆæ¯åˆå¹¶åˆ™çª—å£æœŸæ›´çŸ­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;04&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;Â æœåŠ¡æ–¹æ¡ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;4.1 IDæœåŠ¡çš„é«˜å¯ç”¨&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8546637744034707&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAicdEIWf6ZaRMafC1ndPmXrY0Fvuib5BS6Ap2WOiaIibicicHAHg2iaY6CyQbg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;461&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;IDæœåŠ¡ä½¿ç”¨2ä¸ªMySQLé›†ç¾¤ï¼Œå…¶ä¸­ä¸€ä¸ªMySQLç¤ºä¾‹åªç”Ÿæˆå•æ•°IDï¼Œå¦å¤–ä¸€ä¸ªMySQLç”ŸæˆåŒæ•°IDï¼Œè¿™æ ·å¯ä»¥åšåˆ°å…¶ä¸­ä¸€ä¸ªMySQLä¸å¯ç”¨æ—¶ï¼Œå¦å¤–ä¸€ä¸ªMySQLå¯ä»¥æ­£å¸¸æä¾›æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.2Â  æ¶ˆæ¯åˆ†å‘&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¹³å°æœ¬èº«å­˜å‚¨äº†å¾ˆå¤šä¸åŒä¸šåŠ¡çš„æ•°æ®è¡¨ï¼ˆä¾‹å¦‚ï¼šè§†é¢‘ã€ç›´æ’­ã€å›¾ä¹¦ç­‰ï¼‰ï¼Œä¸šåŠ¡å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€è¦å¯ä»¥è®¢é˜…å•ä¸ªæˆ–å¤šä¸ªä¸åŒçš„ä¸šåŠ¡è¡¨æ¶ˆæ¯å¹¶åšä¸€å®šè§„åˆ™çš„è¿‡æ»¤ï¼Œè€Œè¿™ç§åœºæ™¯å±äºæ¯”è¾ƒæ™®éçš„ï¼Œæ‰€ä»¥ç”±å¹³å°æœ¬èº«å®ç°æ¯”è¾ƒåˆç†ï¼Œä¸ç”¨æ¯ä¸ªä¸šåŠ¡éƒ½åšä¸€éã€‚åŸºäºè¿™ç§èƒŒæ™¯ä¸‹æˆ‘ä»¬æœ€åˆä½¿ç”¨äº†ActiveMQçš„VirtualTopicåšäº†å¤§ç±»çš„åŒºåˆ†ï¼Œä½†ä¸€æ®µæ—¶é—´åæˆ‘ä»¬å‘ç°è¿™ç§æ–¹å¼å¹¶ä¸å¤Ÿçµæ´»ï¼Œæ— æ³•æ§åˆ¶çš„æ›´ç²¾ç»†ã€‚ä¸ºæ­¤æˆ‘ä»¬è‡ªç ”äº†ä¸€ä¸ªActiveMQæ’ä»¶æ¥æ»¡è¶³ç›¸å¯¹ç²¾ç»†çš„æ¶ˆæ¯åˆ†å‘æ§åˆ¶ï¼Œæ•´ä½“ç»“æ„å¦‚ä¸‹å›¾ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.1305555555555555&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAWCkeuIr8iaqgFTrJm3HFP7JON53ogGh5VlbnnKZ9qze3z3vm7tlzNKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;720&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡ç®¡ç†å¹³å°æˆ‘ä»¬å°†è§„åˆ™é€šè¿‡ä¸€ä¸ªç‰¹æ®Šçš„Topicæ¨é€åˆ°æ’ä»¶ï¼Œæ’ä»¶æœ¬èº«ä¼šç›‘å¬è¿™ä¸ªTopicæ¶ˆæ¯ï¼Œå°†è§„åˆ™ä¿å­˜åœ¨å†…å­˜ä¸­å¹¶æŒä¹…åŒ–ï¼Œæ’ä»¶ä¼šåœ¨æ¯ä¸€æ¡æ¶ˆæ¯å‘é€ä¹‹å‰å¯¹æ¶ˆæ¯è¿›è¡Œä¸€ä¸ªè·¯ç”±ï¼Œæ ¹æ®è®¢é˜…è§„åˆ™åŒ¹é…å‘é€åˆ°1ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ä¸­ï¼ŒåŸç†ç±»ä¼¼AOPæœºåˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;05&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;Â é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;h2&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;5.1Â  HBaseè¯»å–æ€§èƒ½å·®çš„é—®é¢˜&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºæœ¬èº«å¹³å°ä¸šåŠ¡åœºæ™¯å†³å®šï¼Œä¸€æ¬¡å†™å…¥å¯¹åº”Næ¬¡è¯»å–ï¼Œæ‰€ä»¥åœ¨æç«¯åœºæ™¯ä¸‹ï¼Œçº¿ä¸Šå¶å°”å‘ç”Ÿè¿‡HBaseæŸä¸ªRegionServerå®•æœºçš„æƒ…å†µï¼Œè¿›è€Œé€ æˆå¤§é‡çš„è¶…æ—¶æƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰æˆ‘ä»¬çš„ä¸»è¦è§£å†³çš„æ€è·¯å°±æ˜¯åŠ ç¼“å­˜ï¼Œè¯»å¤šå†™å°‘å°±æ˜¯ç¼“å­˜çš„ä¸»è¦åœºæ™¯ã€‚åœ¨æ•°æ®åº“é€‰å‹ä¸Šï¼Œæˆ‘ä»¬åœ¨Redisã€CouchBaseã€MongoDBä¸Šè¿›è¡Œäº†è°ƒç ”ï¼Œæœ€ç»ˆé€‰æ‹©äº†MongoDBï¼Œä¸»è¦çš„åŸå› æ˜¯Rediså’ŒCouchBaseåœ¨å®¹é‡ä¸Šä¸æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ã€‚åœ¨æˆ‘ä»¬å¯¹MongoDBçš„å‹æµ‹ä¸­ï¼Œæ€§èƒ½æ–¹é¢ä¹Ÿåœ¨å¯æ¥å—èŒƒå›´å†…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¼“å­˜æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.530635838150289&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAjMAjI8EymDfgGcF2Fmhato6bWcL6DzbQicDoZrY4CSEBl9TSNibaXzMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;865&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†™å…¥æœåŠ¡æ¯æ¬¡è¯·æ±‚éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„SessionIDï¼Œæˆ‘ä»¬å°†è¿™ä¸ªIDä½œä¸ºæ•°æ®çš„ç‰ˆæœ¬å·ï¼Œç¼“å­˜æ˜¯å¦å¤±æ•ˆä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬å·æ¥åˆ¤æ–­ã€‚æ¯æ¬¡å†™å…¥æ—¶æ›´æ–°ç¼“å­˜ä»¥åŠè¯»å–æ—¶ç¼“å­˜å¤±æ•ˆæ—¶æ›´æ–°ç¼“å­˜éƒ½ä¸ºå¼‚æ­¥ï¼Œä¸»è¦æ˜¯ä¸ºäº†é™ä½å»¶æ—¶ï¼Œä»¥åŠé¿å…ç¼“å­˜æ›´æ–°å¤±è´¥å¯¼è‡´å†™å…¥å¤±è´¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†ä¿è¯ç¼“å­˜å’ŒHBaseçš„ä¸€è‡´æ€§ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è¦è¯»å–HBaseä¸­å­˜å‚¨çš„ç‰ˆæœ¬å·ï¼Œè¿™ä¹Ÿå¯¹HBaseé€ æˆäº†è¾ƒå¤§çš„å‹åŠ›ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†HBaseä¸­SessionIdè®¾ä¸ºå•ç‹¬åˆ—æ—ï¼Œå¹¶è®¾ç½®IN_MEMORY =&amp;gt; â€˜trueâ€™æ¥ä¼˜åŒ–ã€‚&lt;/span&gt;&lt;span&gt;Â  Â  Â Â &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5.2Â  HBaseå¯ç”¨æ€§&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºå…¨éƒ¨æ•°æ®éƒ½å­˜å‚¨åœ¨HBaseï¼Œæ‰€ä»¥æå‡HBaseæœ¬èº«çš„å¯ç”¨æ€§å°±å°¤ä¸ºé‡è¦ï¼Œç›®å‰å•é›†ç¾¤å†…çš„å•èŠ‚ç‚¹æ•…éšœï¼ŒHBaseæœ¬èº«çš„æœºåˆ¶æ˜¯å¯ä»¥ä¿è¯çš„ã€‚ä½†æ˜¯å¦‚æœæ•´ä¸ªé›†ç¾¤æ•…éšœæˆ–è€…é›†ç¾¤æ‰€åœ¨æœºæˆ¿å‡ºç°äº†æ•…éšœï¼Œå¦‚ä½•èƒ½ä¿è¯æœåŠ¡å¯ç”¨ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»è¿‡è°ƒç ”ç›®å‰å¼€æºç‰ˆæœ¬HBaseè¿˜æ²¡æœ‰ç›¸å¯¹å®Œå–„çš„è·¨æœºæˆ¿éƒ¨ç½²æ–¹æ¡ˆï¼Œä¾‹å¦‚å•ä¸ªæœºæˆ¿æ•…éšœæƒ…å†µä¸‹ä¸å½±å“æœåŠ¡æ­£å¸¸ä½¿ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬åœ¨ç»“åˆæœåŠ¡ç‰¹æ€§çš„æƒ…å†µä¸‹è®¾è®¡çš„HBaseåŒåŸä¸»å¤‡é«˜å¯ç”¨æ–¹æ¡ˆï¼Œå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.002808988764045&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAOegBiaANIibk248F61o0bkZfqnjvmPfqTiaKe72dnYgLk1dhfzngKuUUA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;712&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Mongoä½œä¸ºå†™å…¥ç¼“å­˜ï¼Œä¿å­˜WALï¼ˆWriteAhead Logï¼‰Mongoä¸‰æœºæˆ¿éƒ¨ç½²ï¼Œé«˜å¯ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;SynchronizeræœåŠ¡å°†WALå†™å…¥ä¸»HBaseï¼Œå¼‚æ­¥æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸»HBaseä¸å¤‡ç”¨HBaseå»ºç«‹æ•°æ®åŒæ­¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†™å…¥æµç¨‹ï¼šWriteæœåŠ¡åªå†™å…¥Mongoï¼Œç”±SynchronizeråŒæ­¥æœåŠ¡å°†æ•°æ®åŒæ­¥åˆ°ä¸»HBaseã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯»å–æµç¨‹ï¼šåŒæ—¶è¯»å–Mongoå’ŒHBaseï¼Œå°†WALæœ€æ–°æ•°æ®ä¸HBaseæ•°æ®åˆå¹¶å¾—åˆ°æœ€æ–°æ•°æ®è¿”å›ï¼Œè¯»å–æœåŠ¡ä½¿ç”¨Hystrixè¿›è¡Œç†”æ–­ï¼Œå¦‚æœä¸»HBaseå®•äº†ï¼ŒMongoä¸­æ•°æ®ä¸å¤‡ç”¨HBaseé›†ç¾¤ä»ç„¶å¯ä»¥åˆå¹¶å‡ºæœ€æ–°æ•°æ®è¿”å›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Mongoä¸­WALè®¾ç½®TTLï¼Œæ—¶é—´å¤§äºä¸»åº“åˆ°ä»åº“çš„åŒæ­¥å»¶è¿Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç›®å‰è¯¥æ–¹æ¡ˆå·²ç»åœ¨ç”Ÿäº§ç¯å¢ƒç»å†äº†2æ¬¡æ•…éšœï¼Œå¹¶ä¸”æ•…éšœå¯¹è¯»å†™æ— å½±å“ï¼Œä¸Šä¸‹æ¸¸ä¸šåŠ¡æ— æ„ŸçŸ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5.3Â  ActiveMQç¢°åˆ°çš„é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘ä»¬çš„å¤„ç†è¿™ç§é—®é¢˜çš„æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ç²—æš´ï¼Œé€šè¿‡ä¹‹å‰å¼€å‘çš„æ’ä»¶å¯¹æ¯ä¸€ä¸ªé˜Ÿåˆ—è¿›è¡Œé˜ˆå€¼æ§åˆ¶ï¼Œè¶…è¿‡ä¸€å®šé˜ˆå€¼åˆ™ä¸å†ç»§ç»­å‘é€æ¶ˆæ¯å¹¶é€šçŸ¥ä¸šåŠ¡åŠæ—¶æ¶ˆè´¹æ¶ˆæ¯ï¼Œè¿™å¯¹ä¸šåŠ¡æœ¬èº«æ˜¯æœ‰ä¸€å®šå½±å“çš„ï¼Œå¯¹ä¸šåŠ¡ä¸å‹å¥½ï¼Œæ²»æ ‡ä¸æ²»æœ¬ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ç»å†äº†è¾ƒå¤šæ¬¡çº¿ä¸Šé—®é¢˜åï¼Œæˆ‘ä»¬å†³å®šè€ƒè™‘å…¶ä»–æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œåœ¨è°ƒç ”äº†å¸‚é¢ä¸Šä¸»æµçš„æ¶ˆæ¯ä¸­é—´ä»¶åæˆ‘ä»¬å°†Kafkaå’ŒRocketMQä½œä¸ºå¤‡é€‰ï¼Œåœ¨é€‰å‹çš„æ—¶å€™æˆ‘ä»¬ä¸»è¦è€ƒè™‘å‡ ä¸ªå› ç´ ï¼Œå¯ç”¨æ€§ã€å¯é æ€§ã€æ°´å¹³æ‰©å±•èƒ½åŠ›ï¼Œåœ¨è¿™3é¡¹ä¸­ä¸¤ä¸ªä¸­é—´ä»¶éƒ½æ»¡è¶³éœ€æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿˜æœ‰ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„å› ç´ å°±æ˜¯æ¶ˆæ¯è¿‡æ»¤æˆ–åˆ†å‘ï¼Œå› ä¸ºå­˜é‡é˜Ÿåˆ—éƒ½æœ‰è®¢é˜…è§„åˆ™ï¼Œè€ƒè™‘ä¸šåŠ¡è¿ç§»æˆæœ¬é—®é¢˜ï¼Œè¿™ä¸ªè®¢é˜…è§„åˆ™å®ç°è¿˜æ˜¯ç”±å¹³å°å®ç°ï¼Œå¯¹æ¯”å‘ç°RocketMQæ”¯æŒåœ¨æœåŠ¡å™¨ç«¯è¿‡æ»¤ï¼Œè¿™ä¸ªç‰¹ç‚¹å¸å¼•äº†æˆ‘ä»¬ï¼Œåœ¨ç»è¿‡åŠŸèƒ½éªŒè¯åï¼Œè¯¥åŠŸèƒ½æ»¡è¶³éœ€æ±‚ï¼Œæœ€ç»ˆé€‰å‹RocketMQã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éƒ¨ç½²æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.641399416909621&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAhYn9COl2giakqyJbSu0LZzzglaQmHEoEuNug2MkOWeSaEHATnQMgaFg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;686&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å•é›†ç¾¤åŒåŸ3æœºæˆ¿éƒ¨ç½²ï¼Œä¸»ä»éƒ¨ç½²åœ¨ä¸åŒæœºæˆ¿ï¼Œä¿è¯å•èŠ‚ç‚¹å®•æœºã€å•æœºæˆ¿ä¸å¯ç”¨æ¶ˆæ¯å‘é€å’Œæ¶ˆæ¯æ¶ˆè´¹ä¸å—å½±å“ï¼Œå¹¶ä¸”æ¶ˆæ¯æ¶ˆè´¹çš„æ—¶æ•ˆæ€§ä¹Ÿä¸å—å½±å“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5431547619047619&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFAIP3KPZqEqxoNlTmaAlYMRULz5VyJoicQqibt6Q6gtJZ0Mt8V0ogqeewg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;672&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬è¿˜å¼€å‘äº†åŸºäºRocketMQå®¢æˆ·ç«¯çš„SDKï¼Œè¿‡æ»¤è§„åˆ™éƒ½å­˜å‚¨åœ¨é…ç½®æœåŠ¡ï¼Œç”±SDKè´Ÿè´£å°†è®¢é˜…è§„åˆ™æ¨é€åˆ°FilterServerï¼Œä¸šåŠ¡å¯ä»¥æ›´ç®€å•çš„è¿ç§»åˆ°RocketMQï¼Œæ¶ˆæ¯è¿‡æ»¤åœ¨é›†ç¾¤ç«¯ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„æ¶ˆæ¯æŠ•é€’åˆ°å®¢æˆ·ç«¯ã€‚ä¸Šçº¿åï¼Œå½»åº•è§£å†³äº†ä¹‹å‰ActiveMQçš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5.4Â  æ‰©å±•è¯»èƒ½åŠ›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œå¯¹æ¥çš„ä¸šåŠ¡ä¼šè¶Šæ¥è¶Šå¤šï¼Œç°æœ‰è¯»å†™é€»è¾‘ç›¸å¯¹å¤æ‚ï¼Œè¯»å–èƒ½åŠ›å¹¶ä¸èƒ½å®Œå…¨è¾¾åˆ°æ°´å¹³æ‰©å±•çš„èƒ½åŠ›ã€‚ä¸ºäº†å¯ä»¥æ›´å¥½æ”¯æ’‘æœªæ¥çš„ä¸šåŠ¡å‘å±•ï¼Œéœ€è¦è¿›ä¸€æ­¥æå‡è¯»å–èƒ½åŠ›ï¼Œä½¿æœåŠ¡è¯»å–èƒ½åŠ›å®Œå…¨åšåˆ°æ°´å¹³æ‰©å±•ã€‚åœ¨æ•°æ®åº“å±‚é¢ï¼Œé€šå¸¸æœ‰è¯»å†™åˆ†ç¦»ï¼Œä¹Ÿå°±æ˜¯æ­£å¸¸çš„è¯»è¯·æ±‚æ“ä½œä¸»åº“ï¼Œå…¶ä½™çº¯è¯»å–çš„è¯·æ±‚ä½¿ç”¨ä»åº“æ¥è§£å†³è¿™ç§é—®é¢˜ï¼Œä½†æ˜¯ç”±äºä¸šåŠ¡åœºæ™¯é™åˆ¶ï¼Œå¾ˆå¤šä¸šåŠ¡éƒ½æ˜¯é€šè¿‡è®¢é˜…ä»¥åŠè·å–æœ€æ–°æ•°æ®çš„æ–¹å¼æ¥åŒæ­¥å¹³å°æ•°æ®ç»è¿‡ä¸€å®šçš„ä¸šåŠ¡å¤„ç†ã€æŠ½å–ã€åŠ å·¥æˆæœ€ç»ˆä¸šåŠ¡æƒ³è¦çš„æ•°æ®ï¼Œæ‰€ä»¥å•çº¯å°†æ‰€æœ‰ç”¨æˆ·çš„è¯»å–è¯·æ±‚éƒ½è½¬ä¸ºè¯»ä»åº“æ˜¾ç„¶å¹¶ä¸åˆé€‚ï¼Œè€Œä¸”è¿™äº›è¯·æ±‚ä¸­è¿˜æœ‰ä¸€éƒ¨åˆ†è¯»è¯·æ±‚æ˜¯å†™å…¥ä¸šåŠ¡çš„å…ˆè¯»åå†™ï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆä¹Ÿç»™äº†æˆ‘ä»¬å¯å‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºå¹³å°ä¸šåŠ¡è¾ƒå¤æ‚ï¼Œæ— æ³•å•çº¯åœ¨æ•°æ®åº“å±‚é¢åšè¯»å†™åˆ†ç¦»ï¼Œæ‰€ä»¥å°±æ–°å¢ä¸€ä¸ªä¸šåŠ¡å±‚é¢çš„ä»åº“ï¼Œé€šè¿‡ä¸šåŠ¡æœåŠ¡åŒæ­¥ä¸»åº“æ•°æ®ï¼Œè¿™æ ·ä¸‹æ¸¸ä¸šåŠ¡å¯ä»¥é€šè¿‡ä»åº“åŒæ­¥æˆ–è€…å•çº¯è¯»å–æ•°æ®ï¼Œè€Œä¸”ä»åº“å¯ä»¥å¢åŠ å¤šä¸ªã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7820895522388059&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/unymlvueOvuibb2I9gbEsarsp7lCY9vFACOjIOmb5q9xy60SUZfBwgshJ1es73YdcWj5ibZvX8Swict8QOicThZ7MA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;670&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ–°æœåŠ¡SlaveReadï¼ˆä»åº“ï¼‰å¯é€šè¿‡æ¶ˆæ¯+è¯»å–çš„æ–¹å¼ä»ä¸»åº“åŒæ­¥æœ€æ–°æ•°æ®ï¼Œæ›´æ–°åå‘å‡ºæ¶ˆæ¯ï¼Œæä¾›ç»™ä¸‹æ¸¸æœåŠ¡ä½¿ç”¨ï¼Œä¸šåŠ¡å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼åœ¨ä»åº“åŒæ­¥æ•°æ®æˆ–è€…å•çº¯çš„è¯»å–è¯·æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»åº“ä¸ä»åº“ä¹‹é—´å¯ä»¥å»ºç«‹åŒæ­¥å…³ç³»ï¼Œè¿™æ ·æ•´ä½“åŒæ­¥çš„å‹åŠ›å°±ä¸ä¼šå‹åœ¨ä¸»åº“ä¸Šï¼Œé¿å…ä»åº“å¤šè¿›è€Œå¢åŠ ä¸»åº“å‹åŠ›ï¼Œæœ€ç»ˆå®ç°äº†å¹³å°èƒ½åŠ›å¯æ°´å¹³æ‰©å±•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;06&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;Â  Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;h2&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ€»ä½“æ¥è¯´çˆ±å¥‡è‰ºåŸºç¡€æ•°æ®å¹³å°é€šè¿‡åœ¨æŠ€æœ¯å’ŒæœåŠ¡æ–¹æ¡ˆä¸Šçš„ä¸æ–­æ”¹è¿›è§£å†³ä¸šåŠ¡å®é™…ç¢°åˆ°çš„é—®é¢˜ï¼Œåœ¨RocketMQã€HBaseä¸Šä¹Ÿç§¯ç´¯äº†ä¸€äº›å®æˆ˜ç»éªŒã€‚æœªæ¥å°†ç»§ç»­æ¢ç´¢æé«˜å¹³å°æ•´ä½“æœåŠ¡èƒ½åŠ›ã€æœåŠ¡ç¨³å®šæ€§ã€æ€§èƒ½ç­‰æ–¹é¢çš„æŠ€æœ¯åŠæ–¹æ¡ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-fileid=&quot;100011924&quot; data-ratio=&quot;0.1787037037037037&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/unymlvueOvueerUPUVMYMza5vavcoBFAwibibF9VfD46qrxQDAwKBxWBZwwfCmot67PMKBEQUSSI2Rm0XXUgnIBw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;çœ‹å®Œå¿ƒåŠ¨äº†å—ï¼Ÿ&lt;br/&gt;&lt;/section&gt;&lt;section&gt;æˆ³ğŸ‘‡â€œ&lt;span&gt;&lt;strong&gt;é˜…è¯»åŸæ–‡&lt;/strong&gt;&lt;/span&gt;â€ç›´è¾¾æ‹›è˜é¡µé¢&lt;/section&gt;&lt;section&gt;&lt;span&gt;å³åˆ»åŠ å…¥çˆ±å¥‡è‰ºï¼&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä¹Ÿè®¸ä½ è¿˜æƒ³çœ‹&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MjczMjM2NA==&amp;amp;mid=2247494796&amp;amp;idx=1&amp;amp;sn=f3aed56cc37686351a53e1fe842383b8&amp;amp;chksm=e97570afde02f9b9da2e5ba71ed3d87b11b73c79ce9c1f6b2c2fe2d54d5376c4f545b9cb377e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;çˆ±å¥‡è‰ºæ•°æ®è´¨é‡ç›‘æ§çš„æ¢ç´¢å’Œå®è·µ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;çˆ±å¥‡è‰ºæ•°æ®è´¨é‡ç›‘æ§çš„æ¢ç´¢å’Œå®è·µ&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MjczMjM2NA==&amp;amp;mid=2247493125&amp;amp;idx=2&amp;amp;sn=37d159b5550dcf9a25f37624f17af340&amp;amp;chksm=e9757a26de02f330938798c6502a228c6a2e543604cbc009aff655b31f5c32b85d122fd68aea&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;OCRæŠ€æœ¯åœ¨çˆ±å¥‡è‰ºçš„åº”ç”¨å®è·µåŠæ¼”è¿›&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;OCRæŠ€æœ¯åœ¨çˆ±å¥‡è‰ºçš„åº”ç”¨å®è·µåŠæ¼”è¿›&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MjczMjM2NA==&amp;amp;mid=2247494796&amp;amp;idx=2&amp;amp;sn=2a6701f7861db159b38ce374191fbe47&amp;amp;chksm=e97570afde02f9b91460c43b0aa0a667dea0a0f17c6571d0506c611ed57d1a97eede42c4fe7b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åHadoopæ—¶ä»£ï¼Œçˆ±å¥‡è‰ºå¦‚ä½•æœ‰æ•ˆæ•´åˆå¤§æ•°æ®å’ŒAIå¹³å°ï¼Ÿ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;åHadoopæ—¶ä»£ï¼Œçˆ±å¥‡è‰ºå¦‚ä½•æœ‰æ•ˆæ•´åˆå¤§æ•°æ®å’ŒAIå¹³å°ï¼Ÿ&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;&lt;img class=&quot;rich_pages __bg_gif wxw-img&quot; data-fileid=&quot;100011926&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/unymlvueOvuxdEeTYeJjvpHdMng1mqJfcnlzibBzbAcDdsvYiauaiabzjxJhzYFWOqJ7jn85w3lic3AFC7RgRIO7kQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;300&quot;/&gt;&lt;span&gt;Â å…³æ³¨æˆ‘ä»¬ï¼Œæ›´å¤šç²¾å½©å†…å®¹é™ªä¼´ä½ ï¼&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI0MjczMjM2NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/unymlvueOvv6PGRNuUZ19FlffMW6Dvd1Q25ibG31IIuWw5LWqIIM9B5gpfPXibWOvjs1Nku3sr0zvsWrRX94ETUQ/0?wx_fmt=png&quot; data-nickname=&quot;çˆ±å¥‡è‰ºæŠ€æœ¯äº§å“å›¢é˜Ÿ&quot; data-alias=&quot;iQIYI-TP&quot; data-signature=&quot;çˆ±å¥‡è‰ºçš„æŠ€æœ¯äº§å“å›¢é˜Ÿ&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9471dff97a601b2cded77b467119680d</guid>
<title>Grafana-Variable é…ç½®å°æŠ€å·§</title>
<link>https://toutiao.io/k/0ypsbmu</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;entry-content e-content&quot; itemprop=&quot;description articleBody&quot;&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;ç‰ˆæƒå£°æ˜ æœ¬ç«™åŸåˆ›æ–‡ç«  ç”± èŒå” å‘è¡¨
è½¬è½½è¯·æ³¨æ˜ èŒå” | http://vearne.cc
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;Dashboardæ˜¯Grafanaä¸­éå¸¸é‡è¦çš„æ¦‚å¿µï¼Œæ¯ä¸ªDashboardéƒ½æ˜¯ä¸€ä¸ªå·¨å¤§çš„çœ‹æ¿ï¼Œåœ¨Dashboardä¸Šå¯ä»¥é…ç½®Panel(å›¾è¡¨)ã€‚åœ¨Dashboardä¸­æœ‰ä¸ªç‰¹åˆ«çš„é…ç½®â€“Variablesï¼ŒVariablesæä¾›äº†ç”¨æˆ·å’Œé¢æ¿äº¤äº’ï¼Œå¯ä»¥åŠ¨æ€åˆ·æ–°é¢æ¿ã€‚&lt;br/&gt;
æœ‰äº›ç‰¹æ®Šçš„åœºæ™¯ï¼Œéœ€è¦æœ‰äº›å°æŠ€å·§ï¼Œå¦åˆ™Variablesä»ç„¶æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚&lt;/p&gt;
&lt;h2&gt;1. Case 1&lt;/h2&gt;
&lt;p&gt;æˆ‘è¦æŸ¥çœ‹ä¸åŒè‚¡ç¥¨çš„æ—¥çº¿å›¾&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/99435512-4920-11ec-8f17-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;3841541434&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;1.1 Query&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;SELECT
  trade_date AS &quot;time&quot;,
  close
FROM daily_data where ts_code = &quot;$ts_code&quot; order by trade_date
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ts_codeæ˜¯è‚¡ç¥¨çš„ä»£ç ï¼Œæ˜¾ç„¶å¦‚æœåªçœ‹è‚¡ç¥¨ä»£ç ï¼Œå¾ˆéš¾æƒ³èµ·è¿™ä¸ªä»£ç ç©¶ç«Ÿå¯¹åº”çš„æ˜¯å“ªä¸€åªè‚¡ç¥¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¥½çš„æ–¹å¼æ˜¯å¦‚ä¸‹å›¾è¿™æ ·ï¼Œåœ¨å˜é‡çš„ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œæ˜¾ç¤ºè‚¡ç¥¨åç§°ï¼Œä½†æ˜¯åœ¨å®é™…çš„Queryä¸­ä½¿ç”¨è‚¡ç¥¨ä»£ç æŸ¥è¯¢ã€‚&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/816ec39e-4921-11ec-bd19-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;132483617&quot;/&gt;&lt;br/&gt;
grafanæ”¯æŒè¿™ç§ç©æ³•ï¼Œç§°ä¸ºtextå’Œvalue&lt;/p&gt;
&lt;h3&gt;1.2 å˜é‡é…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„éœ€è¦Grafanaçš„ç‰ˆæœ¬åœ¨7.4.5 æˆ–ä»¥ä¸Š&lt;/strong&gt;&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/c53a3814-4922-11ec-853d-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;3315176618&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;1.2.1 é…ç½®Query&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;select concat(name, &quot;#&quot;, ts_code) from target;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸€æ­¥ä¼šæŸ¥å‡ºå½¢å¦‚ä¸‹é¢çš„ç»“æœ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;ä¸­å›½å¹³å®‰#601318.SH
ä¸‰ä¸€é‡å·¥#600031.SH
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;1.2.2 åˆ†ç¦»å‡ºtextå’Œvalue&lt;/h3&gt;
&lt;p&gt;é…ç½®Regex&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;/(?&amp;lt;text&amp;gt;.*)#(?&amp;lt;value&amp;gt;.*)/
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;2. Case 2&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æœ‰ä¸€ç»„MySQLå®ä¾‹éœ€è¦ç›‘æ§ï¼ŒMySQLçš„æ•°é‡å¤šè¾¾å‡ åä¸ªã€‚&lt;br/&gt;
ä½†æ˜¯å®é™…ä¸Šå¤§å®¶éƒ½çŸ¥é“ï¼ŒMySQLæ˜¯ä¸»ä»çš„ï¼Œ1ä¸ªä¸»å’Œå¤šä¸ªä»æ„æˆäº†1ä¸ªé›†ç¾¤ã€‚æ¯ä¸ªé›†ç¾¤å•ç‹¬ä¸º1ä¸ªä¸šåŠ¡æä¾›æœåŠ¡ã€‚&lt;br/&gt;
MySQLå®ä¾‹å¦‚æœè¿™æ ·åˆ—å‡ºæ¥ï¼ŒèŒå”æ ¹æœ¬ä¸å¯èƒ½çŸ¥é“ï¼Œè¿™ä¸ªå®ä¾‹å±äºå“ªä¸ªé›†ç¾¤ï¼Œæ”¯æ’‘é‚£ä¸ªä¸šåŠ¡ã€‚&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/8b66f58a-4924-11ec-b65b-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;289382613&quot;/&gt;&lt;br/&gt;
æˆ‘ä»¬å¸Œæœ›çš„æ•ˆæœï¼Œæ˜¯å…ˆé€‰æ‹©partner(ä¸šåŠ¡æ–¹)ï¼Œç„¶åå†é€‰æ‹©å†ä»è¿™ä¸ªé›†ç¾¤ä¸­é€‰å‡ºå…³å¿ƒçš„å®ä¾‹&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/a1009db2-491d-11ec-a2c2-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;3408354864&quot;/&gt;&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/47a99634-4926-11ec-beb2-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;2451163454&quot;/&gt;&lt;/p&gt;
&lt;h3&gt;2.1 Query&lt;/h3&gt;
&lt;p&gt;äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ„å»º2ä¸ªVariablesæ¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211119/2e63a83a-4927-11ec-801a-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;45826944&quot;/&gt;&lt;/p&gt;
&lt;h4&gt;2.1.1 Query1&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;label_values(mysql_up, partner)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¾—åˆ°å˜é‡partner&lt;/p&gt;
&lt;h4&gt;2.1.2 Query2&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;label_values(mysql_up{partner=&quot;$partner&quot;}, instance)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Query2å¼•ç”¨Query1çš„ç»“æœ&lt;/p&gt;
&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://grafana.com/docs/grafana/latest/variables/filter-variables-with-regex/&quot;&gt;Filter variables with regex&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://grafana.com/docs/grafana/latest/variables/variable-examples/&quot;&gt;variables/variable-examples&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr/&gt;
&lt;h4&gt;æ‰“èµæˆ‘&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://st.vearne.cc/2ob&quot; alt=&quot;å¾®ä¿¡æ”¯ä»˜ç &quot; data-pagespeed-url-hash=&quot;552127054&quot;/&gt;&lt;/p&gt;

&lt;p class=&quot;clear&quot;/&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f68eb03789761bfe2dd92bb0c1fe303a</guid>
<title>[è¯‘] Go å¹¶ä¸éœ€è¦ Java é£æ ¼çš„ GC</title>
<link>https://toutiao.io/k/ksd0hqy</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;content&quot;&gt;&lt;p&gt;åƒGoã€Juliaå’ŒRustè¿™æ ·çš„ç°ä»£è¯­è¨€ä¸éœ€è¦åƒJava c#æ‰€ä½¿ç”¨çš„é‚£æ ·å¤æ‚çš„åƒåœ¾æ”¶é›†å™¨ã€‚ä½†è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?&lt;/p&gt;
&lt;span id=&quot;more&quot;/&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆè¦äº†è§£åƒåœ¾æ”¶é›†å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠå„ç§è¯­è¨€åˆ†é…å†…å­˜çš„æ–¹å¼æœ‰ä»€ä¹ˆä¸åŒã€‚é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆJavaéœ€è¦å¦‚æ­¤å¤æ‚çš„åƒåœ¾æ”¶é›†å™¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†æ¶µç›–è®¸å¤šä¸åŒçš„åƒåœ¾æ”¶é›†å™¨è¯é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆJavaä¾èµ–å¿«é€ŸGCï¼Ÿæˆ‘å°†ä»‹ç»Javaè¯­è¨€æœ¬èº«ä¸­çš„ä¸€äº›è®¾è®¡é€‰æ‹©ï¼Œå®ƒä»¬ä¼šç»™GCå¸¦æ¥å¾ˆå¤§å‹åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;å†…å­˜ç¢ç‰‡åŠå…¶å¯¹GCè®¾è®¡çš„å½±å“ã€‚ä¸ºä»€ä¹ˆè¿™å¯¹Javaå¾ˆé‡è¦ï¼Œä½†å¯¹Goå°±ä¸é‚£ä¹ˆé‡è¦ã€‚&lt;/li&gt;
&lt;li&gt;å€¼ç±»å‹ä»¥åŠå®ƒä»¬å¦‚ä½•æ”¹å˜GCã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ä»£åƒåœ¾æ”¶é›†å™¨ï¼Œä»¥åŠGoä¸ºä»€ä¹ˆä¸éœ€è¦å®ƒã€‚&lt;/li&gt;
&lt;li&gt;é€ƒé€¸åˆ†æ â€”â€” Goç”¨æ¥å‡å°‘GCå‹åŠ›çš„ä¸€ä¸ªæŠ€å·§ã€‚&lt;/li&gt;
&lt;li&gt;å‹ç¼©åƒåœ¾æ”¶é›†å™¨ â€”â€” è¿™åœ¨Javaä¸­å¾ˆé‡è¦ï¼Œä½†æ˜¯Goå´ä¸éœ€è¦å®ƒã€‚ä¸ºä»€ä¹ˆ?&lt;/li&gt;
&lt;li&gt;å¹¶å‘åƒåœ¾æ”¶é›† â€”â€” Goé€šè¿‡ä½¿ç”¨å¤šçº¿ç¨‹è¿è¡Œå¹¶å‘åƒåœ¾æ”¶é›†å™¨æ¥è§£å†³è®¸å¤šGCæŒ‘æˆ˜ã€‚ä¸ºä»€ä¹ˆç”¨Javaæ›´éš¾åšåˆ°è¿™ä¸€ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹Go GCçš„å¸¸è§æ‰¹è¯„ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¿™ç§æ‰¹è¯„èƒŒåçš„è®¸å¤šå‡è®¾å¾€å¾€æ˜¯æœ‰ç¼ºé™·çš„æˆ–å®Œå…¨é”™è¯¯çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;ä¸ºä»€ä¹ˆJavaæ¯”å…¶ä»–è¯­è¨€æ›´éœ€è¦å¿«é€Ÿçš„GC&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆJavaæ¯”å…¶ä»–è¯­è¨€æ›´éœ€è¦å¿«é€Ÿçš„GC&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆJavaæ¯”å…¶ä»–è¯­è¨€æ›´éœ€è¦å¿«é€Ÿçš„GC&quot;/&gt;ä¸ºä»€ä¹ˆJavaæ¯”å…¶ä»–è¯­è¨€æ›´éœ€è¦å¿«é€Ÿçš„GC&lt;/h1&gt;&lt;p&gt;åŸºæœ¬ä¸Šï¼ŒJavaå°†å†…å­˜ç®¡ç†å®Œå…¨å¤–åŒ…ç»™å®ƒçš„åƒåœ¾æ”¶é›†å™¨ã€‚äº‹å®è¯æ˜ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„é”™è¯¯ã€‚ç„¶è€Œï¼Œä¸ºäº†èƒ½å¤Ÿè§£é‡Šè¿™ä¸€ç‚¹ï¼Œæˆ‘éœ€è¦ä»‹ç»æ›´å¤šçš„ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä»å¤´è¯´èµ·ã€‚ç°åœ¨æ˜¯1991å¹´ï¼ŒJavaçš„å·¥ä½œå·²ç»å¼€å§‹ã€‚åƒåœ¾æ”¶é›†å™¨ç°åœ¨å¾ˆæµè¡Œã€‚ç›¸å…³çš„ç ”ç©¶çœ‹èµ·æ¥å¾ˆæœ‰å‰é€”ï¼ŒJavaçš„è®¾è®¡è€…ä»¬æŠŠèµŒæ³¨æŠ¼åœ¨é«˜çº§åƒåœ¾æ”¶é›†å™¨ä¸Šï¼Œå®ƒèƒ½å¤Ÿè§£å†³å†…å­˜ç®¡ç†ä¸­çš„æ‰€æœ‰æŒ‘æˆ˜ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºè¿™ä¸ªåŸå› ï¼ŒJavaä¸­çš„æ‰€æœ‰å¯¹è±¡â€”â€”é™¤äº†æ•´æ•°å’Œæµ®ç‚¹å€¼ç­‰åŸºæœ¬ç±»å‹â€”â€”éƒ½è¢«è®¾è®¡ä¸ºåœ¨å †ä¸Šåˆ†é…ã€‚åœ¨è®¨è®ºå†…å­˜åˆ†é…æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåŒºåˆ†æ‰€è°“çš„å †å’Œæ ˆã€‚&lt;/p&gt;
&lt;p&gt;æ ˆä½¿ç”¨èµ·æ¥éå¸¸å¿«ï¼Œä½†ç©ºé—´æœ‰é™ï¼Œåªèƒ½ç”¨äºé‚£äº›åœ¨å‡½æ•°è°ƒç”¨çš„ç”Ÿå‘½å‘¨æœŸä¹‹å†…çš„å¯¹è±¡ã€‚æ ˆåªé€‚ç”¨äºå±€éƒ¨å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;å †å¯ç”¨äºæ‰€æœ‰å¯¹è±¡ã€‚JavaåŸºæœ¬ä¸Šå¿½ç•¥äº†æ ˆï¼Œé€‰æ‹©åœ¨å †ä¸Šåˆ†é…æ‰€æœ‰ä¸œè¥¿ï¼Œé™¤äº†æ•´æ•°å’Œæµ®ç‚¹ç­‰åŸºæœ¬ç±»å‹ã€‚æ— è®ºä½•æ—¶ï¼Œåœ¨Javaä¸­å†™ä¸‹ &lt;code&gt;new Something()&lt;/code&gt;æ¶ˆè€—çš„éƒ½æ˜¯å †ä¸Šçš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå°±å†…å­˜ä½¿ç”¨è€Œè¨€ï¼Œè¿™ç§å†…å­˜ç®¡ç†å®é™…ä¸Šç›¸å½“æ˜‚è´µã€‚ä½ å¯èƒ½è®¤ä¸ºåˆ›å»ºä¸€ä¸ª32ä½æ•´æ•°çš„å¯¹è±¡åªéœ€è¦4å­—èŠ‚çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Knight&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; health;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç„¶è€Œï¼Œä¸ºäº†è®©åƒåœ¾æ”¶é›†å™¨èƒ½å¤Ÿå·¥ä½œï¼ŒJavaå­˜å‚¨äº†ä¸€ä¸ªå¤´éƒ¨ä¿¡æ¯ï¼ŒåŒ…å«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»å‹/Type â€” æ ‡è¯†å¯¹è±¡å±äºçš„ç±»æˆ–å®ƒçš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;é”/Lock â€” ç”¨äºåŒæ­¥è¯­å¥ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡è®°/Mark â€” æ ‡è®°å’Œæ¸…é™¤ï¼ˆmark and sweepï¼‰åƒåœ¾æ”¶é›†å™¨ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›æ•°æ®é€šå¸¸ä¸º16å­—èŠ‚ã€‚å› æ­¤ï¼Œå¤´éƒ¨ä¿¡æ¯ä¸å®é™…æ•°æ®çš„æ¯”ä¾‹æ˜¯4:1ã€‚Javaå¯¹è±¡çš„c++æºä»£ç å®šä¹‰ä¸ºï¼š&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;http://hg.openjdk.java.net/jdk8/jdk8/hotspot/file/87ee5ee27509/src/share/vm/oops/oop.hpp#l59&quot;&gt;OpenJDKåŸºç±»&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;oopDesc&lt;/span&gt; {&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;volatile&lt;/span&gt; markOop  _mark;   &lt;span class=&quot;comment&quot;&gt;// for mark and sweep&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    Klass*           _klass;   &lt;span class=&quot;comment&quot;&gt;// the type&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;å†…å­˜ç¢ç‰‡&quot;&gt;&lt;a href=&quot;#å†…å­˜ç¢ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜ç¢ç‰‡&quot;/&gt;å†…å­˜ç¢ç‰‡&lt;/h2&gt;&lt;p&gt;æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å†…å­˜ç¢ç‰‡ã€‚å½“Javaåˆ†é…ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ—¶ï¼Œå®ƒå®é™…ä¸Šæ˜¯åˆ›å»ºä¸€ä¸ªå¼•ç”¨æ•°ç»„ï¼Œè¿™äº›å¼•ç”¨æŒ‡å‘å†…å­˜ä¸­çš„å…¶ä»–å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡æœ€ç»ˆå¯èƒ½åˆ†æ•£åœ¨å †å†…å­˜ä¸­ã€‚è¿™å¯¹æ€§èƒ½éå¸¸ä¸åˆ©ï¼Œå› ä¸ºç°ä»£å¾®å¤„ç†å™¨ä¸è¯»å–å•ä¸ªå­—èŠ‚çš„æ•°æ®ã€‚å› ä¸ºå¼€å§‹ä¼ è¾“å†…å­˜æ•°æ®æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œæ¯æ¬¡CPUå°è¯•è®¿é—®ä¸€ä¸ªå†…å­˜åœ°å€æ—¶ï¼ŒCPUä¼šè¯»å–ä¸€å—è¿ç»­çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/./go-does-not-need-a-java-style-gc/fragmentd-vs-contiguous-memory.png&quot;/&gt;&lt;/p&gt;
&lt;p&gt;è¿™å—è¿ç»­çš„å†…å­˜å—è¢«ç§°ä¸ºcache line ã€‚CPUæœ‰è‡ªå·±çš„ç¼“å­˜ï¼Œå®ƒçš„å¤§å°æ¯”å†…å­˜å°å¾—å¤šã€‚CPUç¼“å­˜ç”¨äºå­˜å‚¨æœ€è¿‘è®¿é—®çš„å¯¹è±¡ï¼Œå› ä¸ºè¿™äº›å¯¹è±¡å¾ˆå¯èƒ½å†æ¬¡è¢«è®¿é—®ã€‚å¦‚æœå†…å­˜æ˜¯ç¢ç‰‡åŒ–çš„ï¼Œè¿™æ„å‘³ç€cache lineä¹Ÿä¼šè¢«ç¢ç‰‡åŒ–ï¼ŒCPUç¼“å­˜å°†è¢«å¤§é‡æ— ç”¨çš„æ•°æ®å¡«æ»¡ã€‚CPUç¼“å­˜çš„å‘½ä¸­ç‡å°±ä¼šé™ä½ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Javaå¦‚ä½•å…‹æœå†…å­˜ç¢ç‰‡&quot;&gt;&lt;a href=&quot;#Javaå¦‚ä½•å…‹æœå†…å­˜ç¢ç‰‡&quot; class=&quot;headerlink&quot; title=&quot;Javaå¦‚ä½•å…‹æœå†…å­˜ç¢ç‰‡&quot;/&gt;Javaå¦‚ä½•å…‹æœå†…å­˜ç¢ç‰‡&lt;/h2&gt;&lt;p&gt;ä¸ºäº†è§£å†³è¿™äº›ä¸»è¦çš„ç¼ºç‚¹ï¼ŒJavaç»´æŠ¤è€…åœ¨é«˜çº§åƒåœ¾æ”¶é›†å™¨ä¸ŠæŠ•å…¥äº†å¤§é‡çš„èµ„æºã€‚ä»–ä»¬æå‡ºäº†å‹ç¼©ï¼ˆcompactï¼‰çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠå¯¹è±¡ç§»åŠ¨åˆ°å†…å­˜ä¸­ç›¸é‚»çš„å—ä¸­ã€‚è¿™ä¸ªæ“ä½œéå¸¸æ˜‚è´µï¼Œå°†å†…å­˜æ•°æ®ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®ä¼šæ¶ˆè€—CPUå‘¨æœŸï¼Œæ›´æ–°æŒ‡å‘è¿™äº›å¯¹è±¡çš„å¼•ç”¨ä¹Ÿä¼šæ¶ˆè€—CPUå‘¨æœŸã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å¼•ç”¨è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œåƒåœ¾æ”¶é›†å™¨æ²¡æ³•æ›´æ–°å®ƒä»¬ã€‚æ‰€ä»¥æ›´æ–°è¿™äº›å¼•ç”¨éœ€è¦æš‚åœæ‰€æœ‰çš„çº¿ç¨‹ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´Javaç¨‹åºåœ¨ç§»åŠ¨å¯¹è±¡ã€æ›´æ–°å¼•ç”¨å’Œå›æ”¶æœªä½¿ç”¨å†…å­˜çš„è¿‡ç¨‹ä¸­å‡ºç°æ•°ç™¾æ¯«ç§’çš„å®Œå…¨æš‚åœã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¢åŠ å¤æ‚æ€§&quot;&gt;&lt;a href=&quot;#å¢åŠ å¤æ‚æ€§&quot; class=&quot;headerlink&quot; title=&quot;å¢åŠ å¤æ‚æ€§&quot;/&gt;å¢åŠ å¤æ‚æ€§&lt;/h2&gt;&lt;p&gt;ä¸ºäº†å‡å°‘è¿™äº›é•¿æ—¶é—´çš„æš‚åœï¼ŒJavaä½¿ç”¨äº†æ‰€è°“çš„åˆ†ä»£åƒåœ¾æ”¶é›†å™¨ï¼ˆgenerational garbage collectorï¼‰ã€‚è¿™äº›éƒ½æ˜¯åŸºäºä»¥ä¸‹å‰æï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ç¨‹åºä¸­åˆ†é…çš„å¤§å¤šæ•°å¯¹è±¡å¾ˆå¿«å°±ä¼šè¢«é‡Šæ”¾ã€‚å› æ­¤ï¼Œå¦‚æœGCèŠ±æ›´å¤šæ—¶é—´æ¥å¤„ç†æœ€è¿‘åˆ†é…çš„å¯¹è±¡ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šå‡å°‘GCçš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆJavaå°†å®ƒä»¬åˆ†é…çš„å¯¹è±¡åˆ†æˆä¸¤ç»„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è€å¹´å¯¹è±¡â€”â€”åœ¨GCçš„å¤šæ¬¡æ ‡è®°å’Œæ¸…é™¤æ“ä½œä¸­å¹¸å­˜ä¸‹æ¥çš„å¯¹è±¡ã€‚æ¯æ¬¡æ ‡è®°å’Œæ‰«ææ“ä½œæ—¶ï¼Œä¼šæ›´æ–°ä¸€ä¸ªåˆ†ä»£è®¡æ•°å™¨ï¼Œä»¥è·Ÿè¸ªå¯¹è±¡çš„â€œå¹´é¾„â€ã€‚&lt;/li&gt;
&lt;li&gt;å¹´è½»å¯¹è±¡â€”â€”è¿™äº›å¯¹è±¡çš„â€œå¹´é¾„â€è¾ƒå°ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–ä»¬æ˜¯æœ€è¿‘æ‰åˆ†é…å‡ºæ¥çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Javaæ›´ç§¯æåœ°å¤„ç†ã€æ‰«ææœ€è¿‘åˆ†é…çš„å¯¹è±¡ï¼Œå¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦åº”è¯¥è¢«å›æ”¶æˆ–ç§»åŠ¨ã€‚éšç€å¯¹è±¡â€œå¹´é¾„â€çš„å¢é•¿ï¼Œå®ƒä»¬ä¼šè¢«ç§»å‡ºå¹´è½»ä»£åŒºåŸŸã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰è¿™äº›ä¼˜åŒ–ä¼šå¸¦æ¥æ›´å¤šçš„å¤æ‚åº¦ï¼Œå®ƒéœ€è¦æ›´å¤šçš„å¼€å‘å·¥ä½œé‡ã€‚å®ƒéœ€è¦æ”¯ä»˜æ›´å¤šçš„é’±æ¥é›‡ä½£æ›´ä¼˜ç§€çš„å¼€å‘è€…ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ç°ä»£è¯­è¨€å¦‚ä½•é¿å…ä¸Javaç›¸åŒçš„ç¼ºé™·&quot;&gt;&lt;a href=&quot;#ç°ä»£è¯­è¨€å¦‚ä½•é¿å…ä¸Javaç›¸åŒçš„ç¼ºé™·&quot; class=&quot;headerlink&quot; title=&quot;ç°ä»£è¯­è¨€å¦‚ä½•é¿å…ä¸Javaç›¸åŒçš„ç¼ºé™·&quot;/&gt;ç°ä»£è¯­è¨€å¦‚ä½•é¿å…ä¸Javaç›¸åŒçš„ç¼ºé™·&lt;/h1&gt;&lt;p&gt;ç°ä»£è¯­è¨€ä¸éœ€è¦åƒJavaå’Œc#é‚£æ ·å¤æ‚çš„åƒåœ¾æ”¶é›†å™¨ã€‚è¿™æ˜¯åœ¨è®¾è®¡è¿™äº›è¯­è¨€æ—¶ï¼Œå¹¶æ²¡æœ‰åƒJavaä¸€æ ·ä¾èµ–åƒåœ¾å›æ”¶å™¨ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Goè¯­è¨€ï¼šåˆ›å»ºä¸€ä¸ªåŒ…å«15000ä¸ªPointå¯¹è±¡çš„æ•°ç»„&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; Point &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    X, Y &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; points [&lt;span class=&quot;number&quot;&gt;15000&lt;/span&gt;]Point&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨ä¸Šé¢çš„Goä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ†é…äº†15000ä¸ªPointå¯¹è±¡ã€‚è¿™ä»…ä»…åˆ†é…äº†ä¸€æ¬¡å†…å­˜ï¼Œäº§ç”Ÿäº†ä¸€ä¸ªæŒ‡é’ˆã€‚åœ¨Javaä¸­ï¼Œè¿™éœ€è¦15000æ¬¡å†…å­˜åˆ†é…ï¼Œæ¯æ¬¡åˆ†é…äº§ç”Ÿä¸€ä¸ªå¼•ç”¨ï¼Œè¿™äº›åº”ç”¨ä¹Ÿè¦å•ç‹¬ç®¡ç†èµ·æ¥ã€‚æ¯ä¸ª&lt;code&gt;Point&lt;/code&gt;å¯¹è±¡éƒ½ä¼šæœ‰å‰é¢æåˆ°çš„16å­—èŠ‚å¤´éƒ¨ä¿¡æ¯å¼€é”€ã€‚è€Œä¸ç®¡æ˜¯åœ¨Goè¯­è¨€ã€Juliaè¿˜æ˜¯Rustä¸­ï¼Œä½ éƒ½ä¸ä¼šçœ‹åˆ°å¤´éƒ¨ä¿¡æ¯ï¼Œå¯¹è±¡é€šå¸¸æ˜¯æ²¡æœ‰è¿™äº›å¤´éƒ¨ä¿¡æ¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaä¸­ï¼ŒGCè¿½è¸ªå’Œç®¡ç†15000ç‹¬ç«‹çš„å¯¹è±¡ã€‚Goåªéœ€è¦è¿½è¸ªä¸€ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å€¼ç±»å‹&quot;&gt;&lt;a href=&quot;#å€¼ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;å€¼ç±»å‹&quot;/&gt;å€¼ç±»å‹&lt;/h2&gt;&lt;p&gt;åœ¨é™¤Javaå¤–çš„å…¶ä»–è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šéƒ½æ”¯æŒå€¼ç±»å‹ã€‚ä¸‹é¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªçŸ©å½¢ï¼Œç”¨ä¸€ä¸ªMinå’ŒMaxç‚¹æ¥å®šä¹‰å®ƒçš„èŒƒå›´ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; Rect &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   Min, Max Point&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™å°±å˜æˆäº†ä¸€ä¸ªè¿ç»­çš„å†…å­˜å—ã€‚åœ¨Javaä¸­ï¼Œè¿™å°†å˜æˆä¸€ä¸ª&lt;code&gt;Rect&lt;/code&gt;å¯¹è±¡ï¼Œå®ƒå¼•ç”¨äº†ä¸¤ä¸ªå•ç‹¬çš„å¯¹è±¡ï¼Œ&lt;code&gt;Min&lt;/code&gt;å’Œ&lt;code&gt;Max&lt;/code&gt;å¯¹è±¡ã€‚å› æ­¤åœ¨Javaä¸­ï¼Œä¸€ä¸ª&lt;code&gt;Rect&lt;/code&gt;å®ä¾‹éœ€è¦3æ¬¡å†…å­˜åˆ†é…ï¼Œä½†åœ¨Goã€Rustã€C/c++å’ŒJuliaä¸­åªéœ€è¦1æ¬¡å†…å­˜åˆ†é…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/./go-does-not-need-a-java-style-gc/java-memory-frag-vs-contiguous-blocks.png&quot; alt=&quot;å·¦è¾¹æ˜¯Javaé£æ ¼çš„å†…å­˜ç¢ç‰‡ã€‚åœ¨Go, C/C++ï¼Œ Juliaç­‰ç¨‹åºä¸­ï¼Œåœ¨å³è¾¹çš„è¿ç»­å†…å­˜å—ä¸Šã€‚&quot;/&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å°†Gitç§»æ¤åˆ°Javaæ—¶ï¼Œç¼ºå°‘å€¼ç±»å‹é€ æˆäº†ä¸¥é‡çš„é—®é¢˜ã€‚å¦‚æœæ²¡æœ‰å€¼ç±»å‹ï¼Œå°±å¾ˆéš¾è·å¾—è‰¯å¥½çš„æ€§èƒ½ã€‚æ­£å¦‚Shawn O. Pearce&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://marc.info/?l=git&amp;amp;m=124111702609723&quot;&gt;åœ¨JGitå¼€å‘è€…é‚®ä»¶åˆ—è¡¨ä¸Šæ‰€è¯´&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;JGitä¸€ç›´çº ç»“äºæ²¡æœ‰ä¸€ç§æœ‰æ•ˆçš„æ–¹å¼æ¥è¡¨ç¤ºSHA-1ã€‚Cåªéœ€è¦è¾“å…¥&lt;code&gt;unsigned char[20]&lt;/code&gt;å¹¶å°†å…¶å†…è”åˆ°å®¹å™¨çš„å†…å­˜åˆ†é…ä¸­ã€‚Javaä¸­çš„&lt;code&gt;byte[20]&lt;/code&gt;å°†é¢å¤–æ¶ˆè€—16ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œè€Œä¸”è®¿é—®é€Ÿåº¦è¾ƒæ…¢ï¼Œå› ä¸ºè¿™10ä¸ªå­—èŠ‚å’Œå®¹å™¨å¯¹è±¡ä½äºä¸ç›¸é‚»çš„å†…å­˜åŒºåŸŸã€‚æˆ‘ä»¬è¯•å›¾é€šè¿‡å°†ä¸€ä¸ª&lt;code&gt;byte[20]&lt;/code&gt;è½¬æ¢ä¸º5ä¸ªintæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿™éœ€è¦è€—è´¹é¢å¤–çš„CPUæŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨è¯´ä»€ä¹ˆ?åœ¨Goè¯­è¨€ä¸­ï¼Œæˆ‘å¯ä»¥åšå’ŒC/C++ä¸€æ ·çš„äº‹æƒ…ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªåƒè¿™æ ·çš„ç»“æ„:&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; Sha1 &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   data [&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™äº›å­—èŠ‚å°†ä½äºä¸€ä¸ªå®Œæ•´çš„å†…å­˜å—ä¸­ã€‚è€ŒJavaå°†åˆ›å»ºä¸€ä¸ªæŒ‡å‘å…¶ä»–åœ°æ–¹çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;p&gt;Javaå¼€å‘äººå‘˜æ„è¯†åˆ°ä»–ä»¬æç ¸äº†ï¼Œå¼€å‘è€…ç¡®å®éœ€è¦å€¼ç±»å‹æ¥è·å¾—è‰¯å¥½çš„æ€§èƒ½ã€‚ä½ å¯ä»¥è¯´è¿™ç§è¯´æ³•æ¯”è¾ƒå¤¸å¼ ï¼Œä½†ä½ éœ€è¦è§£é‡Šä¸€ä¸‹&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://en.wikipedia.org/wiki/Project_Valhalla_(Java_language)&quot;&gt;Valhallaé¡¹ç›®&lt;/a&gt;ã€‚è¿™æ˜¯Oracleä¸ºJavaå€¼ç±»å‹æ‰€åšçš„åŠªåŠ›ï¼Œè¿™æ ·åšçš„åŸå› æ­£æ˜¯æˆ‘åœ¨è¿™é‡Œæ‰€è°ˆè®ºçš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å€¼ç±»å‹æ˜¯ä¸å¤Ÿçš„&quot;&gt;&lt;a href=&quot;#å€¼ç±»å‹æ˜¯ä¸å¤Ÿçš„&quot; class=&quot;headerlink&quot; title=&quot;å€¼ç±»å‹æ˜¯ä¸å¤Ÿçš„&quot;/&gt;å€¼ç±»å‹æ˜¯ä¸å¤Ÿçš„&lt;/h2&gt;&lt;p&gt;é‚£ä¹ˆValhallaé¡¹ç›®èƒ½è§£å†³Javaçš„é—®é¢˜å—?ä¸æ˜¯çš„ã€‚å®ƒä»…ä»…æ˜¯å°†Javaå¸¦åˆ°äº†ä¸c#åŒç­‰çš„é«˜åº¦ä¸Šã€‚c#æ¯”Javaæ™šå‡ å¹´å‡ºç°ï¼Œå¹¶ä¸”æ„è¯†åˆ°åƒåœ¾æ”¶é›†å™¨å¹¶ä¸åƒå¤§å®¶æƒ³è±¡çš„é‚£ä¹ˆç¥å¥‡ã€‚å› æ­¤ï¼Œä»–ä»¬å¢åŠ äº†å€¼ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œåœ¨å†…å­˜ç®¡ç†çµæ´»æ€§æ–¹é¢ï¼Œè¿™å¹¶æ²¡æœ‰ä½¿c#/Javaä¸Goã€C/C++ç­‰è¯­è¨€å¤„äºåŒç­‰åœ°ä½ã€‚Javaä¸æ”¯æŒçœŸæ­£çš„æŒ‡é’ˆã€‚åœ¨Goä¸­ï¼Œæˆ‘å¯ä»¥è¿™æ ·å†™ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Goè¯­è¨€æŒ‡é’ˆç”¨æ³•&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ptr *Point = &amp;amp;rect.Min &lt;span class=&quot;comment&quot;&gt;// æŠŠæŒ‡å‘ Min çš„æŒ‡é’ˆå­˜å‚¨åˆ° ptr ä¸­&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;*ptr = Point(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)         &lt;span class=&quot;comment&quot;&gt;// æ›¿æ¢ rect.Min å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å°±åƒåœ¨C/C++ä¸­ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨Goä¸­è·å–å¯¹è±¡çš„åœ°å€æˆ–å¯¹è±¡çš„å­—æ®µï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªæŒ‡é’ˆä¸­ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä¼ é€’è¿™ä¸ªæŒ‡é’ˆï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ä¿®æ”¹æ‰€æŒ‡å‘çš„å­—æ®µã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨Goä¸­åˆ›å»ºå¤§çš„å€¼å¯¹è±¡ï¼Œå¹¶å°†å…¶ä½œä¸ºå‡½æ•°æŒ‡é’ˆä¼ é€’ï¼Œæ¥ä¼˜åŒ–æ€§èƒ½ã€‚åœ¨c#ä¸­æƒ…å†µè¦å¥½ä¸€äº›ï¼Œå› ä¸ºå®ƒå¯¹æŒ‡é’ˆçš„æ”¯æŒ&lt;em&gt;æœ‰é™&lt;/em&gt;ã€‚å‰é¢çš„Goä¾‹å­å¯ä»¥ç”¨c#å†™æˆï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;figcaption&gt;&lt;span&gt;C#æŒ‡é’ˆç”¨æ³•&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;unsafe void foo() {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   ref var ptr = ref rect.Min;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   ptr = new Point(2, 4);&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç„¶è€Œc#çš„æŒ‡é’ˆæ”¯æŒä¼´éšç€ä¸€äº›ä¸é€‚ç”¨äºGoçš„è­¦å‘Š:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æŒ‡é’ˆçš„ä»£ç å¿…é¡»æ ‡è®°ä¸º&lt;strong&gt;unsafe&lt;/strong&gt;ã€‚è¿™ä¼šäº§ç”Ÿå®‰å…¨æ€§è¾ƒä½ä¸”æ›´å®¹æ˜“å´©æºƒçš„ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;å¿…é¡»æ˜¯åœ¨å †æ ˆä¸Šåˆ†é…çš„çº¯å€¼ç±»å‹(æ‰€æœ‰ç»“æ„å­—æ®µä¹Ÿå¿…é¡»æ˜¯å€¼ç±»å‹)ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;fixed&lt;/strong&gt;çš„èŒƒå›´å†…ï¼Œfixedå…³é”®å­—å…³é—­äº†åƒåœ¾æ”¶é›†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œåœ¨c#ä¸­ä½¿ç”¨å€¼ç±»å‹çš„æ­£å¸¸å’Œå®‰å…¨çš„æ–¹æ³•æ˜¯å¤åˆ¶å®ƒä»¬ï¼Œå› ä¸ºè¿™ä¸éœ€è¦å®šä¹‰unsafeæˆ–fixedçš„ä»£ç åŸŸã€‚ä½†å¯¹äºè¾ƒå¤§çš„å€¼ç±»å‹ï¼Œè¿™å¯èƒ½ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜ã€‚Goå°±æ²¡æœ‰è¿™äº›é—®é¢˜äº†ã€‚æ‚¨å¯ä»¥åœ¨Goä¸­åˆ›å»ºæŒ‡å‘ç”±åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚Goè¯­è¨€ä¸­ï¼Œä¸éœ€è¦åƒåœ¨c#ä¸­é‚£æ ·ï¼Œå°†ä½¿ç”¨æŒ‡é’ˆçš„ä»£ç å•ç‹¬æ ‡è®°å‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è‡ªå®šä¹‰äºŒæ¬¡åˆ†é…å™¨&quot;&gt;&lt;a href=&quot;#è‡ªå®šä¹‰äºŒæ¬¡åˆ†é…å™¨&quot; class=&quot;headerlink&quot; title=&quot;è‡ªå®šä¹‰äºŒæ¬¡åˆ†é…å™¨&quot;/&gt;è‡ªå®šä¹‰äºŒæ¬¡åˆ†é…å™¨&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨æ­£ç¡®çš„æŒ‡é’ˆï¼Œä½ å¯ä»¥åšå¾ˆå¤šå€¼ç±»å‹åšä¸åˆ°çš„äº‹æƒ…ã€‚ä¸€ä¸ªä¾‹å­å°±æ˜¯åˆ›å»ºäºŒçº§åˆ†é…å™¨ã€‚Chandra Sekar Sç»™å‡ºäº†ä¸€ä¸ªä¾‹å­ï¼š&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://blog.cskr.dev/posts/arena-allocation-in-go/&quot;&gt;Goä¸­çš„ Arena åˆ†é…&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; Arena []Node&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;(arena *Arena)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Alloc&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; *&lt;span class=&quot;title&quot;&gt;Node&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(*arena) == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        *arena = &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]Node, &lt;span class=&quot;number&quot;&gt;10000&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    n := &amp;amp;(*arena)[&lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(*arena)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    *arena = (*arena)[:&lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(*arena)&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;]&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆè¿™äº›æœ‰ç”¨ï¼Ÿå¦‚æœä½ æŸ¥çœ‹ä¸€äº›å¾®åŸºå‡†æµ‹è¯•ï¼Œæ¯”å¦‚æ„é€ äºŒå‰æ ‘çš„ç®—æ³•ï¼Œé€šå¸¸ä¼šå‘ç°Javaæ¯”Goæœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚è¿™æ˜¯å› ä¸ºæ„é€ äºŒå‰æ ‘ç®—æ³•é€šå¸¸ç”¨äºæµ‹è¯•åƒåœ¾æ”¶é›†å™¨åœ¨åˆ†é…å¯¹è±¡æ—¶çš„é€Ÿåº¦ã€‚Javaåœ¨è¿™æ–¹é¢éå¸¸å¿«ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†æˆ‘ä»¬æ‰€è¯´çš„bumpæŒ‡é’ˆã€‚å®ƒåªæ˜¯å¢åŠ ä¸€ä¸ªæŒ‡é’ˆå€¼ï¼Œè€ŒGoå°†åœ¨å†…å­˜ä¸­å¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„ä½ç½®æ¥åˆ†é…å¯¹è±¡ã€‚ç„¶è€Œï¼Œä½¿ç”¨Arenaåˆ†é…å™¨ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨Goä¸­å¿«é€Ÿæ„å»ºäºŒå‰æ ‘ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;buildTree&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(item, depth &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;, arena *Arena)&lt;/span&gt; *&lt;span class=&quot;title&quot;&gt;Node&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    n := arena.Alloc()&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; depth &amp;lt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        *n = Node{item, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    } &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        *n = Node{&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;              item,&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;              buildTree(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;*item&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;, depth&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;, arena),&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;              buildTree(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;*item, depth&lt;span class=&quot;number&quot;&gt;-1&lt;/span&gt;, arena),&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆçœŸæ­£çš„æŒ‡é’ˆä¼šæœ‰å¥½å¤„ã€‚ä½ ä¸èƒ½åœ¨ä¸€ä¸ªè¿ç»­çš„å†…å­˜å—ä¸­åˆ›å»ºä¸€ä¸ªæŒ‡å‘å…ƒç´ çš„æŒ‡é’ˆï¼Œå¦‚ä¸‹æ‰€ç¤º:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;n := &amp;amp;(*arena)[len(*arena)-1]&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;Java-Bumpåˆ†é…å™¨çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#Java-Bumpåˆ†é…å™¨çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;Java Bumpåˆ†é…å™¨çš„é—®é¢˜&quot;/&gt;Java Bumpåˆ†é…å™¨çš„é—®é¢˜&lt;/h1&gt;&lt;p&gt;Java GCä½¿ç”¨çš„bumpåˆ†é…å™¨ä¸Arenaåˆ†é…å™¨ç±»ä¼¼ï¼Œæ‚¨åªéœ€ç§»åŠ¨ä¸€ä¸ªæŒ‡é’ˆå°±èƒ½è·å–ä¸‹ä¸€ä¸ªå€¼ã€‚ä½†å¼€å‘è€…ä¸éœ€è¦æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨Bumpåˆ†é…å™¨ã€‚è¿™å¯èƒ½çœ‹èµ·æ¥æ›´æ™ºèƒ½ã€‚ä½†å®ƒä¼šå¯¼è‡´ä¸€äº›åœ¨Goè¯­è¨€ä¸­æ²¡æœ‰çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ–æ—©æˆ–æ™šï¼Œå†…å­˜éƒ½éœ€è¦è¿›è¡Œå‹ç¼©ï¼ˆcompactï¼‰ï¼Œè¿™æ¶‰åŠåˆ°ç§»åŠ¨æ•°æ®å’Œä¿®å¤æŒ‡é’ˆã€‚Arenaåˆ†é…å™¨ä¸éœ€è¦è¿™æ ·åšã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œbumpåˆ†é…å™¨éœ€è¦é”(é™¤éä½ ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å­˜å‚¨)ã€‚è¿™æŠ¹æ€äº†å®ƒä»¬çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œè¦ä¹ˆæ˜¯å› ä¸ºé”é™ä½äº†æ€§èƒ½ï¼Œè¦ä¹ˆæ˜¯å› ä¸ºçº¿ç¨‹æœ¬åœ°å­˜å‚¨å°†å¯¼è‡´ç¢ç‰‡åŒ–ï¼Œè¿™éœ€è¦ç¨åè¿›è¡Œå‹ç¼©ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ian Lance Tayloræ˜¯Goçš„åˆ›å»ºè€…ä¹‹ä¸€ï¼Œä»–&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://groups.google.com/g/golang-nuts/c/KJiyv2mV2pU&quot;&gt;è§£é‡Šäº†bumpåˆ†é…å™¨çš„é—®é¢˜&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ä¸€ç»„æ¯ä¸ªçº¿ç¨‹ç¼“å­˜æ¥åˆ†é…å†…å­˜å¯èƒ½ä¼šæ›´æœ‰æ•ˆç‡ï¼Œè€Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä½ å·²ç»å¤±å»äº†bumpåˆ†é…å™¨çš„ä¼˜åŠ¿ã€‚å› æ­¤ï¼Œæˆ‘è¦æ–­è¨€ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå°½ç®¡æœ‰è®¸å¤šè­¦å‘Šï¼Œä½†å¯¹å¤šçº¿ç¨‹ç¨‹åºä½¿ç”¨å‹ç¼©å†…å­˜åˆ†é…å™¨å¹¶æ²¡æœ‰çœŸæ­£çš„ä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;åˆ†ä»£GCå’Œé€ƒé€¸åˆ†æ&quot;&gt;&lt;a href=&quot;#åˆ†ä»£GCå’Œé€ƒé€¸åˆ†æ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†ä»£GCå’Œé€ƒé€¸åˆ†æ&quot;/&gt;åˆ†ä»£GCå’Œé€ƒé€¸åˆ†æ&lt;/h1&gt;&lt;p&gt;Javaåƒåœ¾æ”¶é›†å™¨æœ‰æ›´å¤šçš„å·¥ä½œè¦åšï¼Œå› ä¸ºå®ƒåˆ†é…äº†æ›´å¤šçš„å¯¹è±¡ã€‚ä¸ºä»€ä¹ˆï¼Ÿæˆ‘ä»¬åˆšåˆšè®²è¿‡äº†ã€‚å¦‚æœæ²¡æœ‰å€¼å¯¹è±¡å’ŒçœŸæ­£çš„æŒ‡é’ˆï¼Œåœ¨åˆ†é…å¤§å‹æ•°ç»„æˆ–å¤æ‚çš„æ•°æ®ç»“æ„æ—¶ï¼Œå®ƒå°†æ€»æ˜¯ä»¥å¤§é‡çš„å¯¹è±¡å‘Šç»ˆã€‚å› æ­¤ï¼Œå®ƒéœ€è¦åˆ†ä»£GCã€‚&lt;/p&gt;
&lt;p&gt;åˆ†é…æ›´å°‘å¯¹è±¡çš„éœ€æ±‚å¯¹Goè¯­è¨€æœ‰åˆ©ã€‚ä½†Goè¯­è¨€è¿˜æœ‰å¦ä¸€ä¸ªæŠ€å·§ã€‚Goå’ŒJavaåœ¨ç¼–è¯‘å‡½æ•°æ—¶éƒ½è¿›è¡Œäº†é€ƒé€¸åˆ†æã€‚&lt;/p&gt;
&lt;p&gt;é€ƒé€¸åˆ†æåŒ…æ‹¬æŸ¥çœ‹åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºçš„æŒ‡é’ˆï¼Œå¹¶ç¡®å®šè¯¥æŒ‡é’ˆæ˜¯å¦é€ƒé€¸å‡ºäº†å‡½æ•°èŒƒå›´ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;escapingPtr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; []&lt;span class=&quot;title&quot;&gt;int&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   values := []&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;{&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; values&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;fun nonEscapingPtr() &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    values = []&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;{&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; total &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; = addUp(values)&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; total&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œ&lt;code&gt;values&lt;/code&gt;æŒ‡å‘ä¸€ä¸ªåˆ‡ç‰‡ï¼Œè¿™åœ¨æœ¬è´¨ä¸Šä¸æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆç›¸åŒã€‚å®ƒé€ƒé€¸äº†æ˜¯å› ä¸ºå®ƒè¢«è¿”å›äº†ã€‚è¿™æ„å‘³ç€å¿…é¡»åœ¨å †ä¸Šåˆ†é…&lt;code&gt;values&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œåœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼ŒæŒ‡å‘&lt;code&gt;values&lt;/code&gt;çš„æŒ‡é’ˆå¹¶ä¸ä¼šç¦»å¼€&lt;code&gt;nonEscapingPtr&lt;/code&gt;å‡½æ•°ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨æ ˆä¸Šåˆ†é…&lt;code&gt;values&lt;/code&gt;ï¼Œè¿™ä¸ªåŠ¨ä½œéå¸¸å¿«é€Ÿï¼Œå¹¶ä¸”ä»£ä»·ä¹Ÿå¾ˆå°ã€‚é€ƒé€¸åˆ†ææœ¬èº«åªåˆ†ææŒ‡é’ˆæ˜¯å¦é€ƒé€¸ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Javaé€ƒé€¸åˆ†æçš„é™åˆ¶&quot;&gt;&lt;a href=&quot;#Javaé€ƒé€¸åˆ†æçš„é™åˆ¶&quot; class=&quot;headerlink&quot; title=&quot;Javaé€ƒé€¸åˆ†æçš„é™åˆ¶&quot;/&gt;Javaé€ƒé€¸åˆ†æçš„é™åˆ¶&lt;/h2&gt;&lt;p&gt;Javaä¹Ÿåšè½¬ä¹‰åˆ†æï¼Œä½†åœ¨ä½¿ç”¨ä¸Šæœ‰æ›´å¤šçš„é™åˆ¶ã€‚ä»Java SE 16 Oracleæ–‡æ¡£è¦†ç›–çƒ­ç‚¹è™šæ‹Ÿæœºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºä¸è¿›è¡Œå…¨å±€è½¬ä¹‰çš„å¯¹è±¡ï¼Œå®ƒä¸ä¼šå°†å †åˆ†é…æ›¿æ¢ä¸ºå †æ ˆåˆ†é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç„¶è€Œï¼ŒJavaä½¿ç”¨äº†å¦ä¸€ç§ç§°ä¸º&lt;em&gt;æ ‡é‡æ›¿æ¢&lt;/em&gt;çš„æŠ€å·§ï¼Œå®ƒé¿å…äº†å°†å¯¹è±¡æ”¾åœ¨æ ˆä¸Šçš„éœ€è¦ã€‚æœ¬è´¨ä¸Šï¼Œå®ƒåˆ†è§£å¯¹è±¡ï¼Œå¹¶å°†å…¶åŸºæœ¬æˆå‘˜æ”¾åœ¨æ ˆä¸Šã€‚è¯·è®°ä½ï¼ŒJavaå·²ç»å¯ä»¥åœ¨æ ˆä¸Šæ”¾ç½®è¯¸å¦‚&lt;code&gt;int&lt;/code&gt;å’Œ&lt;code&gt;float&lt;/code&gt;ç­‰åŸºæœ¬å€¼ã€‚ç„¶è€Œï¼Œæ­£å¦‚&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://pkolaczk.github.io/overhead-of-optional/&quot;&gt;Piotr KoÅ‚aczkowski&lt;/a&gt;åœ¨2021å¹´å‘ç°çš„é‚£æ ·ï¼Œåœ¨å®è·µä¸­ï¼Œæ ‡é‡æ›¿æ¢å³ä½¿åœ¨éå¸¸å¾®ä¸è¶³é“çš„æƒ…å†µä¸‹ä¹Ÿä¸èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åï¼Œæ ‡é‡æ›¿æ¢çš„ä¸»è¦çš„ä¼˜ç‚¹æ˜¯é¿å…äº†é”ã€‚å¦‚æœä½ çŸ¥é“ä¸€ä¸ªæŒ‡é’ˆä¸ä¼šåœ¨å‡½æ•°ä¹‹å¤–ä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥ç¡®å®šå®ƒä¸éœ€è¦é”ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Goè¯­è¨€é€ƒé€¸åˆ†æçš„ä¼˜åŠ¿&quot;&gt;&lt;a href=&quot;#Goè¯­è¨€é€ƒé€¸åˆ†æçš„ä¼˜åŠ¿&quot; class=&quot;headerlink&quot; title=&quot;Goè¯­è¨€é€ƒé€¸åˆ†æçš„ä¼˜åŠ¿&quot;/&gt;Goè¯­è¨€é€ƒé€¸åˆ†æçš„ä¼˜åŠ¿&lt;/h2&gt;&lt;p&gt;ä½†æ˜¯ï¼ŒGoä½¿ç”¨é€ƒé€¸åˆ†ææ¥ç¡®å®šå“ªäº›å¯¹è±¡å¯ä»¥åœ¨å †æ ˆä¸Šåˆ†é…ã€‚è¿™å¤§å¤§å‡å°‘äº†å¯¿å‘½çŸ­çš„å¯¹è±¡çš„æ•°é‡ï¼Œè¿™äº›å¯¹è±¡æœ¬æ¥å¯ä»¥ä»åˆ†ä»£GCä¸­å—ç›Šã€‚ä½†æ˜¯è¦è®°ä½ï¼Œåˆ†ä»£GCçš„å…¨éƒ¨æ„ä¹‰åœ¨äºåˆ©ç”¨æœ€è¿‘åˆ†é…çš„å¯¹è±¡ç”Ÿå­˜æ—¶é—´å¾ˆçŸ­è¿™ä¸€äº‹å®ã€‚ç„¶è€Œï¼ŒGoè¯­è¨€ä¸­çš„å¤§å¤šæ•°å¯¹è±¡å¯èƒ½ä¼šæ´»å¾—å¾ˆé•¿ï¼Œå› ä¸ºç”Ÿå­˜æ—¶é—´çŸ­çš„å¯¹è±¡å¾ˆå¯èƒ½ä¼šè¢«é€ƒé€¸åˆ†ææ•è·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Javaä¸åŒï¼Œåœ¨Goè¯­è¨€ä¸­ï¼Œé€ƒé€¸åˆ†æä¹Ÿé€‚ç”¨äºå¤æ‚å¯¹è±¡ã€‚Javaé€šå¸¸åªèƒ½æˆåŠŸåœ°å¯¹å­—èŠ‚æ•°ç»„ç­‰ç®€å•å¯¹è±¡è¿›è¡Œé€ƒé€¸åˆ†æã€‚å³ä½¿æ˜¯å†…ç½®çš„ByteBufferä¹Ÿä¸èƒ½ä½¿ç”¨æ ‡é‡æ›¿æ¢åœ¨å †æ ˆä¸Šè¿›è¡Œåˆ†é…ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ç°ä»£è¯­è¨€ä¸éœ€è¦å‹ç¼©GC&quot;&gt;&lt;a href=&quot;#ç°ä»£è¯­è¨€ä¸éœ€è¦å‹ç¼©GC&quot; class=&quot;headerlink&quot; title=&quot;ç°ä»£è¯­è¨€ä¸éœ€è¦å‹ç¼©GC&quot;/&gt;ç°ä»£è¯­è¨€ä¸éœ€è¦å‹ç¼©GC&lt;/h1&gt;&lt;p&gt;æ‚¨å¯ä»¥è¯»åˆ°è®¸å¤šåƒåœ¾æ”¶é›†å™¨æ–¹é¢çš„ä¸“å®¶å£°ç§°ï¼Œç”±äºå†…å­˜ç¢ç‰‡ï¼ŒGoæ¯”Javaæ›´æœ‰å¯èƒ½è€—å°½å†…å­˜ã€‚è¿™ä¸ªè®ºç‚¹æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºGoæ²¡æœ‰å‹ç¼©åƒåœ¾æ”¶é›†å™¨ï¼Œå†…å­˜ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œç¢ç‰‡åŒ–ã€‚å½“å†…å­˜è¢«åˆ†å‰²æ—¶ï¼Œä½ å°†åˆ°è¾¾ä¸€ä¸ªç‚¹ï¼Œå°†ä¸€ä¸ªæ–°å¯¹è±¡è£…å…¥å†…å­˜å°†å˜å¾—å›°éš¾ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œç”±äºä¸¤ä¸ªåŸå› ï¼Œè¿™ä¸ªé—®é¢˜å¤§å¤§å‡å°‘äº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Goä¸åƒJavaé‚£æ ·åˆ†é…é‚£ä¹ˆå¤šçš„å°å¯¹è±¡ã€‚å®ƒå¯ä»¥å°†å¤§å‹å¯¹è±¡æ•°ç»„ä½œä¸ºå•ä¸ªå†…å­˜å—åˆ†é…ã€‚&lt;/li&gt;
&lt;li&gt;ç°ä»£çš„å†…å­˜åˆ†é…å™¨ï¼Œå¦‚è°·æ­Œçš„ TCMalloc æˆ–è‹±ç‰¹å°”çš„ Scalable Malloc ä¸ä¼šå¯¹å†…å­˜è¿›è¡Œåˆ†æ®µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨è®¾è®¡Javaçš„æ—¶å€™ï¼Œå†…å­˜ç¢ç‰‡æ˜¯å†…å­˜åˆ†é…å™¨çš„ä¸€ä¸ªå¤§é—®é¢˜ã€‚äººä»¬ä¸è®¤ä¸ºè¿™ä¸ªé—®é¢˜å¯ä»¥è§£å†³ã€‚ä½†å³ä½¿å›åˆ°1998å¹´ï¼Œåœ¨Javaé—®ä¸–åä¸ä¹…ï¼Œç ”ç©¶äººå‘˜å°±å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸‹é¢æ˜¯&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://dl.acm.org/doi/10.1145/286860.286864&quot;&gt;Mark S. Johnstoneå’ŒPaul R. Wilsonçš„ä¸€ç¯‡è®ºæ–‡&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™å®è´¨ä¸ŠåŠ å¼ºäº†æˆ‘ä»¬ä¹‹å‰çš„ç»“æœï¼Œè¿™äº›ç»“æœè¡¨æ˜ï¼Œå†…å­˜ç¢ç‰‡é—®é¢˜é€šå¸¸è¢«è¯¯è§£äº†ï¼Œå¥½çš„åˆ†é…å™¨ç­–ç•¥å¯ä»¥ä¸ºå¤§å¤šæ•°ç¨‹åºæä¾›è‰¯å¥½çš„å†…å­˜ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› æ­¤ï¼Œè®¾è®¡Javaå†…å­˜åˆ†é…ç­–ç•¥æ—¶çš„è®¸å¤šå‡è®¾éƒ½ä¸å†æ­£ç¡®ã€‚&lt;/p&gt;
&lt;h1 id=&quot;åˆ†ä»£GC-vs-å¹¶å‘GCçš„æš‚åœ&quot;&gt;&lt;a href=&quot;#åˆ†ä»£GC-vs-å¹¶å‘GCçš„æš‚åœ&quot; class=&quot;headerlink&quot; title=&quot;åˆ†ä»£GC vs å¹¶å‘GCçš„æš‚åœ&quot;/&gt;åˆ†ä»£GC vs å¹¶å‘GCçš„æš‚åœ&lt;/h1&gt;&lt;p&gt;ä½¿ç”¨åˆ†ä»£GCçš„Javaç­–ç•¥æ—¨åœ¨ä½¿åƒåœ¾æ”¶é›†å‘¨æœŸæ›´çŸ­ã€‚è¦çŸ¥é“ï¼Œä¸ºäº†ç§»åŠ¨æ•°æ®å’Œä¿®å¤æŒ‡é’ˆï¼ŒJavaå¿…é¡»åœæ­¢æ‰€æœ‰æ“ä½œã€‚å¦‚æœåœé¡¿å¤ªä¹…ï¼Œå°†ä¼šé™ä½ç¨‹åºçš„æ€§èƒ½å’Œå“åº”èƒ½åŠ›ã€‚ä½¿ç”¨åˆ†ä»£GCï¼Œæ¯æ¬¡æ£€æŸ¥çš„æ•°æ®æ›´å°‘ï¼Œä»è€Œå‡å°‘äº†æ£€æŸ¥æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼ŒGoç”¨ä¸€äº›æ›¿ä»£ç­–ç•¥è§£å†³äº†åŒæ ·çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å› ä¸ºä¸éœ€è¦ç§»åŠ¨å†…å­˜ï¼Œä¹Ÿä¸éœ€è¦å›ºå®šæŒ‡é’ˆï¼Œæ‰€ä»¥åœ¨GCè¿è¡ŒæœŸé—´è¦åšçš„å·¥ä½œä¼šæ›´å°‘ã€‚Go GCåªåšä¸€ä¸ªæ ‡è®°å’Œæ¸…ç†ï¼šå®ƒåœ¨å¯¹è±¡å›¾ä¸­æŸ¥æ‰¾åº”è¯¥è¢«é‡Šæ”¾çš„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒå¹¶å‘è¿è¡Œã€‚å› æ­¤ï¼Œå•ç‹¬çš„GCçº¿ç¨‹å¯ä»¥åœ¨ä¸åœæ­¢å…¶ä»–çº¿ç¨‹çš„æƒ…å†µä¸‹å¯»æ‰¾è¦é‡Šæ”¾çš„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆGoå¯ä»¥å¹¶å‘è¿è¡ŒGCè€ŒJavaå´ä¸è¡Œï¼Ÿå› ä¸ºGoä¸ä¼šä¿®å¤ä»»ä½•æŒ‡é’ˆæˆ–ç§»åŠ¨å†…å­˜ä¸­çš„ä»»ä½•å¯¹è±¡ã€‚å› æ­¤ï¼Œä¸å­˜åœ¨å°è¯•è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œè¿™ä¸ªå¯¹è±¡åˆšåˆšè¢«ç§»åŠ¨ï¼Œä½†æŒ‡é’ˆè¿˜æ²¡æœ‰æ›´æ–°è¿™ç§é£é™©ã€‚ä¸å†æœ‰ä»»ä½•å¼•ç”¨çš„å¯¹è±¡ä¸ä¼šå› ä¸ºæŸä¸ªå¹¶å‘çº¿ç¨‹çš„è¿è¡Œè€Œçªç„¶è·å¾—å¼•ç”¨ã€‚å› æ­¤ï¼Œå¹³è¡Œç§»åŠ¨â€œå·²ç»æ­»äº¡â€çš„å¯¹è±¡æ²¡æœ‰ä»»ä½•å±é™©ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå‡è®¾ä½ æœ‰4ä¸ªçº¿ç¨‹åœ¨ä¸€ä¸ªGoç¨‹åºä¸­å·¥ä½œã€‚å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹åœ¨ä»»æ„æ—¶é—´&lt;code&gt;T&lt;/code&gt;ç§’å†…æ‰§è¡Œä¸´æ—¶GCå·¥ä½œï¼Œæ—¶é—´æ€»è®¡ä¸º4ç§’ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªJavaç¨‹åºçš„GCåªåšäº†2ç§’çš„GCå·¥ä½œã€‚å“ªä¸ªç¨‹åºæŒ¤å‡ºäº†æœ€å¤šçš„æ€§èƒ½?è°åœ¨&lt;code&gt;T&lt;/code&gt;ç§’å†…å®Œæˆæœ€å¤š?å¬èµ·æ¥åƒJavaç¨‹åºï¼Œå¯¹å§?é”™äº†ï¼&lt;/p&gt;
&lt;p&gt;Javaç¨‹åºä¸­çš„4ä¸ªå·¥ä½œçº¿ç¨‹å°†åœæ­¢æ‰€æœ‰çº¿ç¨‹2ç§’ã€‚è¿™æ„å‘³ç€ 2Ã—4 = 8ç§’çš„å·¥ä½œåœ¨&lt;code&gt;T&lt;/code&gt;ç§’ä¸­ä¸¢å¤±ã€‚å› æ­¤ï¼Œè™½ç„¶Goçš„åœæ­¢æ—¶é—´æ›´é•¿ï¼Œä½†æ¯æ¬¡åœæ­¢å¯¹ç¨‹åºå·¥ä½œçš„å½±å“æ›´å°ï¼Œå› ä¸ºæ‰€æœ‰çº¿ç¨‹éƒ½æ²¡æœ‰åœæ­¢ã€‚å› æ­¤ï¼Œç¼“æ…¢çš„å¹¶å‘GCçš„æ€§èƒ½å¯èƒ½ä¼˜äºä¾èµ–äºåœæ­¢æ‰€æœ‰çº¿ç¨‹æ¥æ‰§è¡Œå…¶å·¥ä½œçš„è¾ƒå¿«GCã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦‚æœåƒåœ¾äº§ç”Ÿçš„é€Ÿåº¦æ¯”æ¸…ç†å®ƒçš„é€Ÿåº¦è¿˜å¿«æ€ä¹ˆåŠï¼Ÿ&quot;&gt;&lt;a href=&quot;#å¦‚æœåƒåœ¾äº§ç”Ÿçš„é€Ÿåº¦æ¯”æ¸…ç†å®ƒçš„é€Ÿåº¦è¿˜å¿«æ€ä¹ˆåŠï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;å¦‚æœåƒåœ¾äº§ç”Ÿçš„é€Ÿåº¦æ¯”æ¸…ç†å®ƒçš„é€Ÿåº¦è¿˜å¿«æ€ä¹ˆåŠï¼Ÿ&quot;/&gt;å¦‚æœåƒåœ¾äº§ç”Ÿçš„é€Ÿåº¦æ¯”æ¸…ç†å®ƒçš„é€Ÿåº¦è¿˜å¿«æ€ä¹ˆåŠï¼Ÿ&lt;/h2&gt;&lt;p&gt;åå¯¹å½“å‰åƒåœ¾æ”¶é›†å™¨çš„ä¸€ä¸ªæµè¡Œè§‚ç‚¹æ˜¯ï¼Œæ´»åŠ¨å·¥ä½œçº¿ç¨‹äº§ç”Ÿåƒåœ¾çš„é€Ÿåº¦å¯èƒ½æ¯”åƒåœ¾æ”¶é›†å™¨çº¿ç¨‹æ”¶é›†åƒåœ¾çš„é€Ÿåº¦å¿«ã€‚åœ¨Javaä¸–ç•Œä¸­ï¼Œè¿™è¢«ç§°ä¸ºâ€œå¹¶å‘æ¨¡å¼å¤±è´¥â€ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿è¡Œæ—¶åˆ«æ— é€‰æ‹©ï¼Œåªèƒ½å®Œå…¨åœæ­¢ç¨‹åºå¹¶ç­‰å¾…GCå‘¨æœŸå®Œæˆã€‚å› æ­¤ï¼Œå½“Goå£°ç§°GCæš‚åœæ—¶é—´éå¸¸ä½æ—¶ï¼Œè¿™ç§è¯´æ³•åªé€‚ç”¨äºGCæœ‰è¶³å¤Ÿçš„CPUæ—¶é—´å’Œç©ºé—´è¶…è¿‡ä¸»ç¨‹åºçš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯Goè¯­è¨€æœ‰ä¸€ä¸ªèªæ˜çš„æŠ€å·§æ¥ç»•è¿‡&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://blog.golang.org/ismmkeynote&quot;&gt;Go GCå¤§å¸ˆRick Hudsonæ‰€æè¿°çš„è¿™ä¸ªé—®é¢˜&lt;/a&gt;ã€‚Goä½¿ç”¨çš„æ˜¯æ‰€è°“çš„â€œPacerâ€ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœéœ€è¦çš„è¯ï¼ŒPacerä¼šåœ¨åŠ é€Ÿæ ‡è®°çš„åŒæ—¶é™ä½åˆ†é…é€Ÿåº¦ã€‚åœ¨ä¸€ä¸ªè¾ƒé«˜çš„æ°´å¹³ï¼ŒPaceråœæ­¢äº†Goroutineï¼Œå®ƒåšäº†å¤§é‡çš„åˆ†é…ï¼Œå¹¶è®©å®ƒåšæ ‡è®°ã€‚å·¥ä½œé‡ä¸Goroutineçš„åˆ†é…æˆæ¯”ä¾‹ã€‚è¿™åŠ å¿«äº†åƒåœ¾æ”¶é›†å™¨çš„é€Ÿåº¦ï¼ŒåŒæ—¶å‡æ…¢äº†mutatorçš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Goroutinesæœ‰ç‚¹åƒåœ¨çº¿ç¨‹æ± ä¸Šå¤ç”¨çš„ç»¿è‰²çº¿ç¨‹ã€‚åŸºæœ¬ä¸Šï¼ŒGoæ¥ç®¡æ­£åœ¨è¿è¡Œäº§ç”Ÿå¤§é‡åƒåœ¾çš„å·¥ä½œè´Ÿè½½çš„çº¿ç¨‹ï¼Œå¹¶è®©å®ƒä»¬å¸®åŠ©GCæ¸…ç†è¿™äº›åƒåœ¾ã€‚å®ƒä¼šä¸€ç›´æ¥ç®¡çº¿ç¨‹ï¼Œç›´åˆ°GCçš„è¿è¡Œé€Ÿåº¦è¶…è¿‡äº§ç”Ÿåƒåœ¾çš„åç¨‹ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ç®€è€Œè¨€ä¹‹&quot;&gt;&lt;a href=&quot;#ç®€è€Œè¨€ä¹‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€è€Œè¨€ä¹‹&quot;/&gt;ç®€è€Œè¨€ä¹‹&lt;/h1&gt;&lt;p&gt;è™½ç„¶é«˜çº§åƒåœ¾æ”¶é›†å™¨è§£å†³äº†Javaä¸­çš„å®é™…é—®é¢˜ï¼Œä½†ç°ä»£è¯­è¨€ï¼Œå¦‚Goå’ŒJuliaï¼Œä»ä¸€å¼€å§‹å°±é¿å…äº†è¿™äº›é—®é¢˜ï¼Œå› æ­¤ä¸éœ€è¦ä½¿ç”¨Rolls Royceåƒåœ¾æ”¶é›†å™¨ã€‚å½“æ‚¨æœ‰äº†å€¼ç±»å‹ã€è½¬ä¹‰åˆ†æã€æŒ‡é’ˆã€å¤šæ ¸å¤„ç†å™¨å’Œç°ä»£åˆ†é…å™¨æ—¶ï¼ŒJavaè®¾è®¡èƒŒåçš„è®¸å¤šå‡è®¾éƒ½è¢«æŠ›åˆ°äº†è„‘åã€‚å®ƒä»¬ä¸å†é€‚ç”¨ã€‚&lt;/p&gt;
&lt;h1 id=&quot;GCçš„Tradeoffä¸å†é€‚ç”¨&quot;&gt;&lt;a href=&quot;#GCçš„Tradeoffä¸å†é€‚ç”¨&quot; class=&quot;headerlink&quot; title=&quot;GCçš„Tradeoffä¸å†é€‚ç”¨&quot;/&gt;GCçš„Tradeoffä¸å†é€‚ç”¨&lt;/h1&gt;&lt;p&gt;Mike Hearnåœ¨Mediumä¸Šæœ‰ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„æ•…äº‹ï¼Œä»–æ‰¹è¯„äº†Go GCçš„è¯´æ³•ï¼š&lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://blog.plan99.net/modern-garbage-collection-911ef4f8bd8e&quot;&gt;ç°ä»£åƒåœ¾æ”¶é›†&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Hearnçš„å…³é”®ä¿¡æ¯æ˜¯GCè®¾è®¡ä¸­æ€»æ˜¯å­˜åœ¨æƒè¡¡ã€‚ä»–çš„è§‚ç‚¹æ˜¯ï¼Œå› ä¸ºGoçš„ç›®æ ‡æ˜¯ä½å»¶è¿Ÿæ”¶é›†ï¼Œä»–ä»¬å°†åœ¨è®¸å¤šå…¶ä»–æŒ‡æ ‡ä¸Šå—åˆ°å½±å“ã€‚è¿™æ˜¯ä¸€æœ¬æœ‰è¶£çš„è¯»ç‰©ï¼Œå› ä¸ºå®ƒæ¶µç›–äº†å¾ˆå¤šå…³äºGCè®¾è®¡ä¸­çš„æƒè¡¡çš„ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œä½å»¶è¿Ÿæ˜¯ä»€ä¹ˆæ„æ€?Go GCå¹³å‡åªæš‚åœ0.5æ¯«ç§’ï¼Œè€Œå„ç§Javaæ”¶é›†å™¨å¯èƒ½è¦èŠ±è´¹æ•°ç™¾æ¯«ç§’ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºMike Hearnçš„è®ºç‚¹çš„é—®é¢˜åœ¨äºï¼Œå®ƒä»¬åŸºäºä¸€ä¸ªæœ‰ç¼ºé™·çš„å‰æï¼Œå³æ‰€æœ‰è¯­è¨€çš„å†…å­˜è®¿é—®æ¨¡å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚æ­£å¦‚æˆ‘åœ¨æœ¬æ–‡ä¸­æ‰€æåˆ°çš„ï¼Œæ ¹æœ¬ä¸æ˜¯è¿™æ ·çš„ã€‚Goç”Ÿæˆçš„éœ€è¦GCç®¡ç†çš„å¯¹è±¡ä¼šå°‘å¾—å¤šï¼Œå¹¶ä¸”å®ƒä¼šä½¿ç”¨é€ƒé€¸åˆ†ææå‰æ¸…ç†æ‰å¾ˆå¤šå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è€æŠ€æœ¯æœ¬èº«å°±æ˜¯åçš„&quot;&gt;&lt;a href=&quot;#è€æŠ€æœ¯æœ¬èº«å°±æ˜¯åçš„&quot; class=&quot;headerlink&quot; title=&quot;è€æŠ€æœ¯æœ¬èº«å°±æ˜¯åçš„?&quot;/&gt;è€æŠ€æœ¯æœ¬èº«å°±æ˜¯åçš„?&lt;/h2&gt;&lt;p&gt;Hearnçš„è®ºç‚¹å£°æ˜ï¼Œç®€å•çš„æ”¶é›†åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ä¸å¥½çš„ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stop-the-world (STW)æ ‡è®°/æ¸…é™¤æ˜¯æœ¬ç§‘ç”Ÿè®¡ç®—æœºç§‘å­¦è¯¾ç¨‹ä¸­æœ€å¸¸ç”¨çš„GCç®—æ³•ã€‚åœ¨åšå·¥ä½œé¢è¯•æ—¶ï¼Œæˆ‘æœ‰æ—¶ä¼šè®©åº”è˜è€…è°ˆè®ºä¸€äº›å…³äºGCçš„å†…å®¹ï¼Œä½†å‡ ä¹æ€»æ˜¯ï¼Œä»–ä»¬è¦ä¹ˆå°†GCè§†ä¸ºä¸€ä¸ªé»‘ç›’å­ï¼Œå¯¹å®ƒä¸€æ— æ‰€çŸ¥ï¼Œè¦ä¹ˆè®¤ä¸ºå®ƒè‡³ä»Šä»åœ¨ä½¿ç”¨è¿™ç§éå¸¸å¤è€çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ˜¯çš„ï¼Œå®ƒå¯èƒ½æ˜¯æ—§çš„ï¼Œä½†æ˜¯è¿™ç§æŠ€æœ¯å…è®¸å¹¶å‘åœ°è¿è¡ŒGCï¼Œè¿™æ˜¯â€œç°ä»£â€çš„æŠ€æœ¯ä¸å…è®¸çš„ã€‚åœ¨æˆ‘ä»¬æ‹¥æœ‰å¤šæ ¸çš„ç°ä»£ç¡¬ä»¶ä¸–ç•Œä¸­ï¼Œè¿™ä¸€ç‚¹æ›´é‡è¦ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Go-ä¸æ˜¯-C&quot;&gt;&lt;a href=&quot;#Go-ä¸æ˜¯-C&quot; class=&quot;headerlink&quot; title=&quot;Go ä¸æ˜¯ C#&quot;/&gt;Go ä¸æ˜¯ C#&lt;/h2&gt;&lt;p&gt;å¦ä¸€ä¸ªè¯´æ³•:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºGoæ˜¯ä¸€ç§å…·æœ‰å€¼ç±»å‹çš„ç›¸å¯¹æ™®é€šçš„å‘½ä»¤å¼è¯­è¨€ï¼Œå®ƒçš„å†…å­˜è®¿é—®æ¨¡å¼å¯èƒ½å¯ä»¥ä¸C#ç›¸æ¯”è¾ƒï¼Œåè€…çš„åˆ†ä»£å‡è®¾å½“ç„¶æˆç«‹ï¼Œå› æ­¤.NETä½¿ç”¨åˆ†ä»£æ”¶é›†å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;äº‹å®å¹¶éå¦‚æ­¤ã€‚C#å¼€å‘äººå‘˜ä¼šå°½é‡å‡å°‘å¤§å€¼å¯¹è±¡çš„ä½¿ç”¨ï¼Œå› ä¸ºä¸èƒ½å®‰å…¨åœ°ä½¿ç”¨ä¸æŒ‡é’ˆç›¸å…³çš„ä»£ç ã€‚æˆ‘ä»¬å¿…é¡»å‡è®¾c#å¼€å‘äººå‘˜æ›´å–œæ¬¢å¤åˆ¶å€¼ç±»å‹è€Œä¸æ˜¯ä½¿ç”¨æŒ‡é’ˆï¼Œå› ä¸ºè¿™å¯ä»¥åœ¨CLRä¸­å®‰å…¨åœ°å®Œæˆã€‚è¿™è‡ªç„¶ä¼šå¸¦æ¥æ›´é«˜çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;æ®æˆ‘æ‰€çŸ¥ï¼ŒC#ä¹Ÿæ²¡æœ‰åˆ©ç”¨é€ƒé€¸åˆ†ææ¥å‡å°‘å †ä¸Šçš„çŸ­ç”Ÿå‘½å‘¨æœŸå¯¹è±¡çš„äº§ç”Ÿã€‚å…¶æ¬¡ï¼ŒC#å¹¶ä¸æ“…é•¿åŒæ—¶è¿è¡Œå¤§é‡ä»»åŠ¡ã€‚Goå¯ä»¥åˆ©ç”¨å®ƒä»¬çš„åç¨‹æ¥åŒæ—¶åŠ é€Ÿæ”¶é›†ï¼Œå°±åƒPaceræåˆ°çš„é‚£æ ·ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å†…å­˜å‹ç¼©æ•´ç†&quot;&gt;&lt;a href=&quot;#å†…å­˜å‹ç¼©æ•´ç†&quot; class=&quot;headerlink&quot; title=&quot;å†…å­˜å‹ç¼©æ•´ç†&quot;/&gt;å†…å­˜å‹ç¼©æ•´ç†&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;å‹ç¼©ï¼šå› ä¸ºæ²¡æœ‰å‹ç¼©ï¼Œä½ çš„ç¨‹åºæœ€ç»ˆä¼šæŠŠå †ç¢ç‰‡åŒ–ã€‚æˆ‘å°†åœ¨ä¸‹é¢è¿›ä¸€æ­¥è®¨è®ºå †ç¢ç‰‡ã€‚åœ¨ç¼“å­˜ä¸­æ•´é½åœ°æ”¾ç½®ä¸œè¥¿ä¹Ÿä¸ä¼šç»™æ‚¨å¸¦æ¥å¥½å¤„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨è¿™é‡Œï¼ŒMike Hearnå¯¹åˆ†é…å™¨çš„æè¿°å¹¶ä¸æ˜¯æœ€æ–°çš„ã€‚TCMallocç­‰ç°ä»£åˆ†é…å™¨åŸºæœ¬ä¸Šæ¶ˆé™¤äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¨‹åºååé‡:ç”±äºGCå¿…é¡»ä¸ºæ¯ä¸ªå‘¨æœŸåšå¤§é‡å·¥ä½œï¼Œè¿™ä»ç¨‹åºæœ¬èº«çªƒå–CPUæ—¶é—´ï¼Œé™ä½äº†å®ƒçš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“æ‚¨æœ‰ä¸€ä¸ªå¹¶å‘GCæ—¶ï¼Œè¿™å¹¶ä¸é€‚ç”¨ã€‚æ‰€æœ‰å…¶ä»–çº¿ç¨‹éƒ½å¯ä»¥åœ¨GCå·¥ä½œæ—¶ç»§ç»­è¿è¡Œâ€”â€”ä¸åƒJavaï¼Œå®ƒå¿…é¡»åœæ­¢æ•´ä¸ªä¸–ç•Œã€‚&lt;/p&gt;
&lt;h2 id=&quot;å †çš„å¼€é”€&quot;&gt;&lt;a href=&quot;#å †çš„å¼€é”€&quot; class=&quot;headerlink&quot; title=&quot;å †çš„å¼€é”€&quot;/&gt;å †çš„å¼€é”€&lt;/h2&gt;&lt;p&gt;Hearnæå‡ºäº†â€œå¹¶å‘æ¨¡å¼å¤±è´¥â€çš„é—®é¢˜ï¼Œå‡è®¾Go GCä¼šæœ‰è·Ÿä¸ä¸Šåƒåœ¾ç”Ÿæˆå™¨çš„é€Ÿåº¦çš„é£é™©ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å †å¼€é”€:å› ä¸ºé€šè¿‡æ ‡è®°/æ¸…é™¤æ”¶é›†å †æ˜¯éå¸¸æ…¢çš„ï¼Œä½ éœ€è¦å¤§é‡çš„ç©ºé—²ç©ºé—´æ¥ç¡®ä¿ä½ ä¸ä¼šé­é‡â€œå¹¶å‘æ¨¡å¼å¤±è´¥â€ã€‚é»˜è®¤çš„å †å¼€é”€æ˜¯100%ï¼Œå®ƒä¼šä½¿ä½ çš„ç¨‹åºéœ€è¦çš„å†…å­˜ç¿»å€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘å¯¹è¿™ç§è¯´æ³•æŒæ€€ç–‘æ€åº¦ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°çš„è®¸å¤šç°å®ä¸–ç•Œçš„ä¾‹å­ä¼¼ä¹éƒ½å»ºè®®å›´æ£‹ç¨‹åºä½¿ç”¨æ›´å°‘çš„å†…å­˜ã€‚æ›´ä¸ç”¨è¯´ï¼Œè¿™å¿½ç•¥äº†Pacerçš„å­˜åœ¨ï¼Œå®ƒä¼šæŠ“ä½Goroutinesï¼Œäº§ç”Ÿå¤§é‡åƒåœ¾ï¼Œè®©ä»–ä»¬æ¸…ç†ã€‚&lt;/p&gt;
&lt;h1 id=&quot;ä¸ºä»€ä¹ˆä½å»¶è¿Ÿå¯¹Javaä¹Ÿå¾ˆé‡è¦&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆä½å»¶è¿Ÿå¯¹Javaä¹Ÿå¾ˆé‡è¦&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆä½å»¶è¿Ÿå¯¹Javaä¹Ÿå¾ˆé‡è¦&quot;/&gt;ä¸ºä»€ä¹ˆä½å»¶è¿Ÿå¯¹Javaä¹Ÿå¾ˆé‡è¦&lt;/h1&gt;&lt;p&gt;æˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªDockerå’Œå¾®æœåŠ¡çš„ä¸–ç•Œã€‚è¿™æ„å‘³ç€è®¸å¤šè¾ƒå°çš„ç¨‹åºç›¸äº’é€šä¿¡å’Œå·¥ä½œã€‚æƒ³è±¡ä¸€ä¸ªè¯·æ±‚è¦ç»è¿‡å¥½å‡ ä¸ªæœåŠ¡ã€‚åœ¨ä¸€ä¸ªé“¾æ¡ï¼Œè¿™äº›æœåŠ¡ä¸­å¦‚æœæœ‰ä¸€ä¸ªå‡ºç°é‡å¤§åœé¡¿ï¼Œå°±ä¼šäº§ç”Ÿè¿é”ååº”ã€‚å®ƒä¼šå¯¼è‡´æ‰€æœ‰å…¶ä»–è¿›ç¨‹åœæ­¢å·¥ä½œã€‚å¦‚æœç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªæœåŠ¡æ­£åœ¨ç­‰å¾…STWçš„åƒåœ¾æ”¶é›†ï¼Œé‚£ä¹ˆå®ƒå°†æ— æ³•å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œå»¶è¿Ÿ/ååé‡çš„æƒè¡¡ä¸å†æ˜¯GCè®¾è®¡ä¸­çš„æƒè¡¡ã€‚å½“å¤šä¸ªæœåŠ¡ä¸€èµ·å·¥ä½œæ—¶ï¼Œé«˜å»¶è¿Ÿå°†å¯¼è‡´ååé‡ä¸‹é™ã€‚Javaå¯¹é«˜ååé‡å’Œé«˜å»¶è¿ŸGCçš„åå¥½é€‚ç”¨äºå•å—ä¸–ç•Œã€‚å®ƒä¸å†é€‚ç”¨äºå¾®æœåŠ¡ä¸–ç•Œã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯Mike Hearnè§‚ç‚¹çš„ä¸€ä¸ªæ ¹æœ¬é—®é¢˜ï¼Œä»–è®¤ä¸ºæ²¡æœ‰çµä¸¹å¦™è¯ï¼Œåªæœ‰æƒè¡¡å–èˆã€‚å®ƒè¯•å›¾ç»™äººè¿™æ ·ä¸€ç§å°è±¡ï¼šJavaçš„æƒè¡¡æ˜¯åŒæ ·æœ‰æ•ˆçš„ã€‚ä½†æƒè¡¡å¿…é¡»æ ¹æ®æˆ‘ä»¬æ‰€ç”Ÿæ´»çš„ä¸–ç•Œè¿›è¡Œè°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘è®¤ä¸ºGoè¯­è¨€å·²ç»åšå‡ºäº†è®¸å¤šèªæ˜çš„ä¸¾åŠ¨å’Œæˆ˜ç•¥é€‰æ‹©ã€‚å¦‚æœè¿™åªæ˜¯ä»»ä½•äººéƒ½å¯ä»¥åšçš„trade-offï¼Œé‚£ä¹ˆçœå»å®ƒæ˜¯ä¸å¯å–çš„ã€‚&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;æœ¬æ–‡ç¿»è¯‘è‡ª &lt;a target=&quot;_blank&quot; rel=&quot;noopener&quot; href=&quot;https://itnext.io/go-does-not-need-a-java-style-gc-ac99b8d26c60&quot;&gt;https://itnext.io/go-does-not-need-a-java-style-gc-ac99b8d26c60&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>db6e8f09b18aef646e6de3eb3b628137</guid>
<title>LinkedIn ç›´æ’­ç³»ç»Ÿæ˜¯å¦‚ä½•å®ç°æ¯ç§’ç™¾ä¸‡ç‚¹èµçš„</title>
<link>https://toutiao.io/k/u3prgdi</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;entry-inner&quot;&gt;
                                                    
&lt;p&gt;ç°å¦‚ä»Šç›´æ’­é¢†åŸŸéå¸¸ç«çˆ†ï¼Œè€Œä¸€ä¸ªå¤§Vçš„ç›´æ’­å¾ˆå®¹æ˜“å°±ä¼šå¸å¼•ä¸Šç™¾ä¸‡çš„ç”¨æˆ·åŒæ—¶åœ¨çº¿ã€‚LinkedInçš„ç›´æ’­é¢†åŸŸä¸“å®¶Akhilesh Guptaåœ¨QCon London 2020ä¸Šä»‹ç»äº†LinkedInæ˜¯å¦‚ä½•å®ç°ç™¾ä¸‡ç‚¹èµçš„æ¶æ„ï¼Œæœ¬æ–‡å°±æ ¹æ®Akhileshåœ¨ä¼šè®®ä¸Šçš„ä»‹ç»æ€»ç»“äº†ç›¸å…³çš„å®ç°æ–¹æ³•ä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p&gt;



&lt;h1&gt;åœºæ™¯åˆ†æ&lt;/h1&gt;



&lt;p&gt;è¿™ä¸ªé—®é¢˜çš„ä½¿ç”¨åœºæ™¯å¾ˆç®€å•ï¼Œå°±æ˜¯æˆ‘ä»¬æœ‰ä¸€ä¸ªç›´æ’­è§†é¢‘ï¼Œç„¶åæœ‰å¾ˆå¤šä¸åŒçš„ç”¨æˆ·åœ¨åŒæ—¶è§‚çœ‹ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥å¯¹è§†é¢‘è¿›è¡Œç‚¹èµï¼Œç³»ç»Ÿéœ€è¦æŠŠè¿™ä¸ªç‚¹èµçš„ä¿¡æ¯å‘é€åˆ°æ¯ä¸ªæ­£åœ¨è§‚çœ‹è§†é¢‘çš„ç”¨æˆ·ç«¯ï¼Œç„¶ååœ¨ä»–ä»¬å¯¹åº”çš„UIä¸Šæ˜¾ç¤ºç‚¹èµçš„å›¾æ ‡ã€‚è¿™é‡Œæœ€å¤§çš„æŒ‘æˆ˜å°±æ˜¯å‡å¦‚æœ‰å¤§é‡çš„ç”¨æˆ·åœ¨åŒæ—¶è§‚çœ‹å¹¶ç‚¹èµï¼Œå¦‚ä½•åŠæ—¶æœ‰æ•ˆåœ°æŠŠç›¸å…³ç‚¹èµçš„ä¿¡æ¯å‘é€åˆ°è§‚çœ‹çš„ç”¨æˆ·ç«¯ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-21.png&quot; alt=&quot;&quot; class=&quot;wp-image-1148&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-21.png 233w, https://donggeitnote.com/wp-content/uploads/2021/11/image-21-192x300.png 192w&quot; sizes=&quot;(max-width: 233px) 100vw, 233px&quot;/&gt;&lt;/figure&gt;



&lt;h1&gt;æœåŠ¡ç«¯å¦‚ä½•æŠŠç‚¹èµä¿¡æ¯å‘é€åˆ°å®¢æˆ·ç«¯&lt;/h1&gt;



&lt;p&gt;æˆ‘ä»¬ä»æœ€ç®€å•çš„æ¶æ„å¼€å§‹ï¼Œç”¨æˆ·Sç‚¹äº†ä¸€ä¸ªèµï¼Œå‘é€äº†ä¸€ä¸ªHTTPçš„requeståˆ°äº†åç«¯ï¼Œä¸€æ–¹é¢è¿™ä¸ªç‚¹èµçš„æ¶ˆæ¯ä¼šè¢«ä¿å­˜åˆ°åç«¯æ•°æ®åº“ï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªæ–¹æ³•æ¥æŠŠè¿™ä¸ªç‚¹èµçš„æ¶ˆæ¯å‘é€åˆ°åˆ«çš„ç”¨æˆ·ç«¯ï¼ˆç”¨æˆ·Aï¼‰ã€‚Linkedé‡‡ç”¨çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ç”¨æˆ·Aæ‰“å¼€è§†é¢‘çš„æ—¶å€™ï¼Œå’ŒæœåŠ¡ç«¯å»ºç«‹ä¸€ä¸ªHTTPé•¿pollé“¾æ¥ï¼Œè¿™ä¸ªé“¾æ¥ä¸ä¼šdisconnectï¼Œæ‰€ä»¥å½“serverç«¯æœ‰éœ€è¦å‘é€çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚ç‚¹èµæ¶ˆæ¯ï¼‰ï¼Œå®ƒå°±ä¼šç›´æ¥é€šè¿‡è¿™ä¸ªé“¾æ¥å‘é€åˆ°ç”¨æˆ·ç«¯ã€‚ç”¨æˆ·ç«¯åªè¦æ ¹æ®serverçš„URLæ¥åˆ›å»ºä¸€ä¸ªEventSourceçš„objectï¼Œç„¶åæ ¹æ®æ”¶åˆ°çš„å†…å®¹æ¥ç‹¬ç«‹å¤„ç†å°±å¯ä»¥äº†ã€‚&lt;/p&gt;



&lt;p&gt;ç®€å•æ¶æ„å¦‚ä¸‹æ‰€ç¤ºï¼ŒSå‘é€ç‚¹èµçš„ä¿¡æ¯åˆ°åç«¯ï¼Œåç«¯ä¼šæŠŠè¿™ä¸ªä¿¡æ¯publishå‡ºå»ï¼Œç„¶åå®æ—¶çš„deliveryçš„ç³»ç»Ÿä¼šæŠŠç›¸åº”çš„ä¿¡æ¯å‘é€åˆ°å·²ç»å»ºç«‹é•¿é“¾æ¥çš„clientç«¯ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-22.png&quot; alt=&quot;&quot; class=&quot;wp-image-1149&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-22.png 421w, https://donggeitnote.com/wp-content/uploads/2021/11/image-22-300x186.png 300w&quot; sizes=&quot;(max-width: 421px) 100vw, 421px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;ç”¨æˆ·ç«¯æ”¶åˆ°çš„ä¿¡æ¯å¯èƒ½å°±æ˜¯å¦‚ä¸‹æ‰€ç¤ºï¼Œå®ƒç„¶åå°±å¯ä»¥è§£æè¿›è¡Œå¤„ç†äº†ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-23.png&quot; alt=&quot;&quot; class=&quot;wp-image-1150&quot;/&gt;&lt;/figure&gt;



&lt;h1&gt;æœåŠ¡ç«¯é“¾æ¥ç®¡ç†&lt;/h1&gt;



&lt;p&gt;æœ‰äº†ä¸Šé¢ç®€å•çš„æ¶æ„ä¹‹åï¼Œæˆ‘ä»¬çŸ¥é“ä¿¡æ¯çš„ä¼ é€’ä¸»è¦æ˜¯é è¿™ä¸ªé•¿é“¾æ¥ï¼Œé‚£ä¹ˆå½“æœ‰å¾ˆå¤šç”¨æˆ·çš„æ—¶å€™ï¼Œserverç«¯å¦‚ä½•æ¥ç®¡ç†è¿™äº›é“¾æ¥å‘¢ï¼ŸLinkedInä½¿ç”¨çš„Akkaæ¥è¿›è¡Œç®¡ç†çš„ï¼ŒAkkaæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½é«˜å®¹é”™çš„åˆ†å¸ƒå¼å¹¶è¡Œæ¡†æ¶ã€‚å®ƒæœ‰å®ç°ä¸€ä¸ªå¾ˆç»å…¸çš„Actoræ¨¡å‹ï¼ŒAkka Actoræ‹¥æœ‰è‡ªå·±çš„çŠ¶æ€å’Œè¡Œä¸ºï¼Œè¡Œä¸ºä¼šå®šä¹‰è¯´æˆ‘æ”¶åˆ°æŸä¸€ä¸ªä¿¡æ¯ä¹‹åå¦‚ä½•ä¿®æ”¹çŠ¶æ€ï¼Œæ¯ä¸ªActoréƒ½æœ‰ä¸€ä¸ªmailboxï¼Œæ‰€æœ‰å…¶å®ƒActorå‘é€è¿‡æ¥çš„æ¶ˆæ¯éƒ½ä¼šè¿›å…¥è¯¥é‚®ç®±ã€‚Actorå¾ˆè½»é‡ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å°±èƒ½å¤Ÿæ”¯æŒåˆ°ç™¾ä¸‡çº§åˆ«çš„Actorï¼ˆ1Gå†…å­˜å¯æ”¯æŒçº¦300ä¸‡ä¸ªActorï¼‰ã€‚&lt;/p&gt;



&lt;p&gt;è¿™æ ·ä¸€æ¥åœ¨LinkedInçš„ç›´æ’­ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªActorçš„çŠ¶æ€å°±æ˜¯ä¸€ä¸ªconnectionï¼Œè¡Œä¸ºå°±æ˜¯ä¸€ä¸ªpublish eventï¼Œå®ƒå¯ä»¥å®šä¹‰æˆ‘ä»¬å¦‚ä½•æŠŠevent publishåˆ°é•¿é“¾æ¥çš„å¦å¤–ä¸€ç«¯ï¼ˆç”¨æˆ·ç«¯ï¼‰&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-24.png&quot; alt=&quot;&quot; class=&quot;wp-image-1151&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-24.png 450w, https://donggeitnote.com/wp-content/uploads/2021/11/image-24-300x183.png 300w&quot; sizes=&quot;(max-width: 450px) 100vw, 450px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;è¿™æ ·ä¸€æ¥ä¸€ä¸ªserverå°±å¯ä»¥ç®¡ç†å¾ˆå¤šconnectionï¼Œå½“æœ‰ä¸€ä¸ªç‚¹èµçš„ä¿¡æ¯åˆ°æ¥çš„æ—¶å€™ï¼Œå°±ä¼šå‘é€åˆ°ä¸€ä¸ªsupervisor actorï¼Œç„¶åå®ƒä¼šæŠŠè¿™ä¸ªä¿¡æ¯åˆ†å‘åˆ°ä¸åŒçš„actorä¸­ï¼Œè¿™äº›actorå…¶å®æ¯ä¸€ä¸ªå°±å¯¹åº”ä¸€ä¸ªå’Œç”¨æˆ·ç«¯çš„é“¾æ¥ï¼Œä»è€ŒæŠŠç›¸åº”çš„ç‚¹èµä¿¡æ¯å‘é€ç»™ç”¨æˆ·ç«¯ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-25.png&quot; alt=&quot;&quot; class=&quot;wp-image-1152&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-25.png 539w, https://donggeitnote.com/wp-content/uploads/2021/11/image-25-300x159.png 300w&quot; sizes=&quot;(max-width: 539px) 100vw, 539px&quot;/&gt;&lt;/figure&gt;



&lt;h1&gt;ä¸åŒç”¨æˆ·ç«¯çš„åŒºåˆ†&lt;/h1&gt;



&lt;p&gt;ä¸Šé¢çš„æ¶æ„è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æ˜¯ç°å®è‚¯å®šä¸ä¼šè¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬ä¸Šé¢çš„æ¶æ„ä¸­æœ‰ä¸€ä¸ªç‚¹èµçš„ä¿¡æ¯å°±ç›´æ¥å‘é€ç»™äº†æ‰€æœ‰çš„ç”¨æˆ·ç«¯ï¼Œäº‹å®ä¸Šæˆ‘ä»¬ä¸åŒçš„ç”¨æˆ·å¯èƒ½åœ¨åŒæ—¶è§‚çœ‹ä¸åŒçš„ç›´æ’­ï¼Œæ˜¾ç„¶æˆ‘ä»¬ä¸åº”è¯¥æŠŠä¸åŒçš„ç›´æ’­ç‚¹èµæ··æ·†ï¼Œå› æ­¤æˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥åŒºåˆ†ä¸åŒçš„ç›´æ’­ã€‚&lt;/p&gt;



&lt;p&gt;æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å½“ç”¨æˆ·ç«¯å»ºç«‹è¿æ¥çš„æ—¶å€™ï¼Œå‘Šè¯‰ä¸€ä¸‹serverä½ æ­£åœ¨çœ‹çš„ç›´æ’­å†…å®¹ï¼Œè¿™æ ·æœ‰äº†ä¸€ä¸ªmappingçš„å…³ç³»ï¼Œåœ¨æˆ‘ä»¬å‘é€ç‚¹èµä¿¡æ¯çš„æ—¶å€™å°±å¯ä»¥æ ¹æ®è¿™ä¸ªmappingçš„å€¼æ‰¾åˆ°åº”è¯¥å‘é€çš„ç”¨æˆ·ç«¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-27.png&quot; alt=&quot;&quot; class=&quot;wp-image-1154&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-27.png 589w, https://donggeitnote.com/wp-content/uploads/2021/11/image-27-300x163.png 300w&quot; sizes=&quot;(max-width: 589px) 100vw, 589px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;è¿™é‡Œå½“cid3çœ‹çº¢è‰²ç›´æ’­çš„æ—¶å€™ä¼šåšä¸€ä¸ªsubscribeï¼Œç„¶ååœ¨serverç«¯æŠŠè¿™ä¸ªä¿¡æ¯ä¿å­˜åˆ°ä¸€ä¸ªmappingçš„è¡¨ä¸­ï¼Œå®ƒä¼šè®°å½•cid3åœ¨çœ‹çº¢è‰²ç›´æ’­ã€‚åŒæ ·çš„ä¹Ÿä¼šè®°å½•ç»¿è‰²ç›´æ’­æ˜¯cid5åœ¨çœ‹ã€‚è¿™æ ·ä¸€æ¥éšç€æ—¶é—´çš„æ¨ç§»ç³»ç»Ÿå°±ä¼šå¦‚ä¸‹æ‰€ç¤ºï¼Œå½“æœ‰ä¸€ä¸ªç‚¹èµçš„æ¶ˆæ¯è¿‡æ¥äº†ï¼Œæˆ‘ä»¬å‡è®¾æ˜¯ä¸€ä¸ªç»¿è‰²ç›´æ’­çš„ç‚¹èµï¼Œåœ¨supervisorè¿™è¾¹å°±å¯ä»¥æŸ¥è¯¢mappingçš„è¡¨æ ¼ï¼Œä»è€ŒçŸ¥é“éœ€è¦æŠŠè¿™ä¸ªç‚¹èµçš„å†…å®¹å‘é€åˆ°cid1ï¼Œcid2å’Œcid5ã€‚è¿™æ ·å°±è§£å†³äº†ä¸åŒç”¨æˆ·ç«¯çš„åŒºåˆ†é—®é¢˜ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-26.png&quot; alt=&quot;&quot; class=&quot;wp-image-1153&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-26.png 495w, https://donggeitnote.com/wp-content/uploads/2021/11/image-26-300x168.png 300w&quot; sizes=&quot;(max-width: 495px) 100vw, 495px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;åœ¨ç»“æŸè¿™ä¸€æ®µä¹‹å‰ï¼Œä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜å°±æ˜¯æˆ‘ä»¬è¿™ä¸ªmappingçš„è¡¨æ˜¯å¦éœ€è¦persistedï¼Œè¿˜æ˜¯è¯´æ”¾åœ¨in-memoryä¸­å°±å¯ä»¥äº†ï¼Œç­”æ¡ˆæ˜¯in-memoryå°±å¯ä»¥äº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿpersistedçš„ä¸€ä¸ªé‡è¦çš„ç›®çš„å°±æ˜¯è¯´å½“server crashçš„æ—¶å€™æˆ‘ä»¬è¿˜èƒ½å¤Ÿæ¢å¤ï¼Œè€Œè¿™é‡Œå‡å¦‚æˆ‘ä»¬çš„server crashäº†ï¼Œå…¶å®å®ƒå’Œç”¨æˆ·ç«¯ç«¯çš„è¿æ¥ä¹Ÿå°±æ–­äº†ï¼Œä½ å³ä½¿æ¢å¤äº†è¿™ä¸ªmappingçš„è¡¨ä¹Ÿæ²¡æœ‰ç”¨ï¼Œä¹Ÿè¿˜æ˜¯æ²¡æ³•å‘é€æ¶ˆæ¯ç»™ç›¸åº”çš„ç”¨æˆ·ç«¯ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨in-memoryçš„mappingçš„åŸå› ã€‚&lt;/p&gt;



&lt;h1&gt;å¤šå®¢æˆ·ç«¯çš„å¤„ç†&lt;/h1&gt;



&lt;p&gt;æœ‰äº†ä¸Šé¢çš„æ¶æ„ä¹‹åï¼ŒåŸºæœ¬çš„åŠŸèƒ½å°±å®ç°äº†ï¼Œä½†æ˜¯é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå‡å¦‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æœ‰å¾ˆå¤šçš„å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚è¯´ä¸€ä¸‡ä¸ªç”¨æˆ·æˆ–è€…å‡ åå‡ ç™¾ä¸‡ä¸ªç”¨æˆ·åŒæ—¶è¿æ¥serverï¼Œæ˜¾ç„¶å•ä¸ªserveræ˜¯æ²¡æœ‰åŠæ³•handleè¿™ä¹ˆå¤šé“¾æ¥çš„ã€‚è¿™ä¸ªæ—¶å€™æ€ä¹ˆè¿›è¡Œå¤„ç†å‘¢ï¼Ÿæ€æƒ³å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨æ›´å¤šçš„serveræ¥æ”¯æŒæ›´å¤šçš„å®¢æˆ·ç«¯è¿æ¥ï¼Œæˆ‘ä»¬è¿™é‡Œå…ˆæŠŠè¿™ä¸ªserverç§°ä¹‹ä¸ºfrontendçš„serverã€‚æˆ‘ä»¬æŠŠåŸæœ¬çš„dispatchæ”¾åˆ°å¦å¤–çš„serverä¸­ï¼Œè¿™æ ·æ•´ä¸ªæ¶æ„å°±åˆ†æˆäº†ä¸‹é¢è¿™æ ·çš„å±‚çº§æ¶æ„ï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-28.png&quot; alt=&quot;&quot; class=&quot;wp-image-1155&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-28.png 443w, https://donggeitnote.com/wp-content/uploads/2021/11/image-28-300x186.png 300w&quot; sizes=&quot;(max-width: 443px) 100vw, 443px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;æ¯ä¸ªFrontendçš„serveræœåŠ¡äºä¸€å®šæ•°é‡çš„å®¢æˆ·ç«¯ï¼Œç„¶ådispatcheråªè¦è´Ÿè´£å‘frontendå‘é€ç›¸å…³çš„æ¶ˆæ¯ï¼ˆç‚¹èµä¿¡æ¯ï¼‰å³å¯ï¼Œåœ¨frontendæ”¶åˆ°å¯¹åº”çš„æ¶ˆæ¯ä¹‹åï¼Œå®ƒä¼šæ ¹æ®in-memoryçš„mapping tableæ¥å†³å®šéœ€è¦æŠŠæ¶ˆæ¯å‘é€ç»™å“ªä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œä»è€Œå®Œæˆæœ€ç»ˆçš„æ¶ˆæ¯ä¼ é€’ã€‚è¿™ä¸ªæ¶æ„å¯ä»¥å¾ˆå¥½çš„æœåŠ¡å‡ ç™¾ä¸‡çº§åˆ«çš„ç”¨æˆ·ç«¯ã€‚&lt;/p&gt;



&lt;p&gt;ç°åœ¨è¿˜æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼Œå°±æ˜¯dispatcheræ˜¯å¦‚ä½•çŸ¥é“è¯¥æŠŠæ¶ˆæ¯å‘é€ç»™å“ªä¸ªfrontendï¼Œè€Œä¸æ˜¯è¯´æ‰€æœ‰çš„frontendéƒ½å‘é€å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ³•å’Œä¸Šé¢çš„ä¸åŒç”¨æˆ·ç«¯æ˜¯ç±»ä¼¼çš„ï¼Œå‡å¦‚æˆ‘ä»¬èƒ½å¤Ÿè®©frontendä¹Ÿå‘dispatcher subscribeä¸€ä¸‹å®ƒæ„Ÿå…´è¶£çš„ç›´æ’­è§†é¢‘ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åªæŠŠç›¸å…³çš„æ¶ˆæ¯å‘é€ç»™ä»–å°±å¯ä»¥äº†ã€‚æ‰€ä»¥éœ€è¦åœ¨dispatcherç«¯ç»´æŠ¤ä¸€ä¸ªç±»ä¼¼çš„mappingè¡¨ï¼Œåªæ˜¯è¿™æ¬¡å€¼ä¸æ˜¯clientç«¯idè€Œæ˜¯frontendçš„idè€Œå·²ã€‚&lt;/p&gt;



&lt;p&gt;å¦‚ä¸‹æ‰€ç¤ºï¼Œå’Œä¹‹å‰çš„clientç«¯åˆ°frontendçš„subscribeç±»ä¼¼ï¼Œåœ¨dispatcherä¸­ä¹Ÿç»´æŠ¤äº†ä¸€ä¸ªè¡¨æ ¼ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-29.png&quot; alt=&quot;&quot; class=&quot;wp-image-1156&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-29.png 580w, https://donggeitnote.com/wp-content/uploads/2021/11/image-29-300x161.png 300w&quot; sizes=&quot;(max-width: 580px) 100vw, 580px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;æ‰€ä»¥å½“ç‚¹èµçš„æ¶ˆæ¯åˆ°äº†dispatcherä¹‹åï¼Œå®ƒå°±å¯ä»¥æŠŠè¿™ä¸ªæ¶ˆæ¯æ ¹æ®mappingè¡¨æ ¼çš„å†…å®¹å‘é€åˆ°å¯¹åº”çš„frontendç«¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-30.png&quot; alt=&quot;&quot; class=&quot;wp-image-1157&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-30.png 524w, https://donggeitnote.com/wp-content/uploads/2021/11/image-30-300x161.png 300w&quot; sizes=&quot;(max-width: 524px) 100vw, 524px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;ç„¶åå„ä¸ªfrontendå†æ ¹æ®in-memoryçš„tableæŠŠæ¶ˆæ¯å‘é€æœ€ç»ˆçš„å®¢æˆ·ç«¯ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-31.png&quot; alt=&quot;&quot; class=&quot;wp-image-1158&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-31.png 537w, https://donggeitnote.com/wp-content/uploads/2021/11/image-31-300x215.png 300w&quot; sizes=&quot;(max-width: 537px) 100vw, 537px&quot;/&gt;&lt;/figure&gt;



&lt;h1&gt;å¤šç‚¹èµçš„å¤„ç†&lt;/h1&gt;



&lt;p&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è§£å†³äº†å¾ˆå¤šå®¢æˆ·ç«¯çš„é—®é¢˜ï¼Œä½†æ˜¯å‡å¦‚æˆ‘ä»¬åŒæ—¶æœ‰å¾ˆå¤šäººåœ¨ç‚¹èµï¼Œæ¯”å¦‚æ¯ç§’æœ‰ä¸€ä¸‡ä¸ªäººæ¥ç‚¹èµï¼Œä¸Šé¢æåˆ°çš„æ¶æ„è¿˜éœ€è¦æ”¹è¿›å—ï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªæ—¶å€™ä¸€ä¸ªdispatcherå¯èƒ½ä¼šæ’‘ä¸ä½ï¼Œè§£å†³çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å¢åŠ dispatcherçš„æœºå™¨ï¼Œè¿™æ ·æˆ‘ä»¬çš„æ¶æ„å°±å¯ä»¥å˜æˆä¸‹é¢è¿™æ ·äº†ï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-32.png&quot; alt=&quot;&quot; class=&quot;wp-image-1159&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-32.png 372w, https://donggeitnote.com/wp-content/uploads/2021/11/image-32-300x297.png 300w, https://donggeitnote.com/wp-content/uploads/2021/11/image-32-80x80.png 80w&quot; sizes=&quot;(max-width: 372px) 100vw, 372px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;å¤šä¸ªdispatcherå¯ä»¥åˆ†åˆ«å¤„ç†ä¸åŒçš„ç‚¹èµæ¶ˆæ¯ä»è€Œè¾¾åˆ°scaleçš„ç›®çš„ã€‚&lt;/p&gt;



&lt;p&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†å›å¤´æ¥çœ‹çœ‹æˆ‘ä»¬dispatcherä¸­çš„mappingçš„è¡¨æ ¼æ˜¯å¦éœ€è¦persistè¿˜æ˜¯è¯´ä¹Ÿåƒfrontendé‚£æ ·æ”¾åˆ°in-memoryä¸­å°±å¯ä»¥äº†ã€‚è¿™é‡Œæ˜¾ç„¶è¿˜æ˜¯å­˜åˆ°ä¸€ä¸ªkey valueçš„è¡¨ä¸­ä¼šæ¯”è¾ƒå¥½ã€‚åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œå‡å¦‚è¿™é‡Œä¸€ä¸ªdispatcherå‡ºé—®é¢˜äº†ï¼Œæˆ‘ä»¬ä»ç„¶å¸Œæœ›åˆ«çš„dispatcherèƒ½å¤Ÿtakeå®ƒçš„èŒè´£ï¼Œè€Œä¸æ˜¯å°±å¿½ç•¥å®ƒæ‰€å¯¹åº”çš„é‚£äº›frontend serverï¼ˆå’Œfrontendé‚£è¾¹ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œä¸æ˜¯é•¿è¿æ¥ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ç”¨ä¸åŒçš„dispatcheræ¥å¤„ç†å’Œfrontendä¹‹é—´çš„é€šä¿¡ï¼‰ã€‚è¿™æ ·ä¸€æ¥æ•´ä¸ªæ¶æ„å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-33.png&quot; alt=&quot;&quot; class=&quot;wp-image-1160&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-33.png 533w, https://donggeitnote.com/wp-content/uploads/2021/11/image-33-300x153.png 300w&quot; sizes=&quot;(max-width: 533px) 100vw, 533px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;æ‰€ä»¥è¿™ä¸ªæ—¶å€™æ•´ä¸ªæµç¨‹å°±å˜æˆäº†ï¼Œç‚¹èµä¿¡æ¯å‘é€åˆ°æŸä¸ªdispatcherï¼Œç„¶ådispatcherä¼šåˆ°key-value storeå»çœ‹å“ªäº›frontendå¯¹è¿™ä¸ªç›´æ’­æ„Ÿå…´è¶£ï¼Œä»è€ŒæŠŠç›¸å…³çš„ç‚¹èµä¿¡æ¯å‘é€åˆ°ç›¸å…³çš„frontendï¼Œfrontendæ”¶åˆ°å¯¹åº”ä¿¡æ¯ä¹‹åï¼Œå†æ ¹æ®å®ƒçš„in-memoryçš„è¡¨æ ¼å†³å®šæœ€ç»ˆå‘é€åˆ°å“ªä¸€ä¸ªç”¨æˆ·ç«¯ã€‚ä»è€Œå®Œæˆè¿™ä¸ªå‘é€çš„æµç¨‹ã€‚&lt;/p&gt;



&lt;h1&gt;å¤šæ•°æ®ä¸­å¿ƒ&lt;/h1&gt;



&lt;p&gt;ç›®å‰æ¥çœ‹æ•´ä¸ªæ¶æ„è¿è¡Œå¾—éƒ½å¾ˆå¥½ï¼Œç„¶åLinkedInå‘ç°äº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå°±æ˜¯å¦‚ä½•è¿›è¡Œè·¨æ•°æ®ä¸­å¿ƒçš„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´å‡å¦‚ä¸€ä¸ªç‚¹èµçš„æ¶ˆæ¯å‘ç”Ÿåœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œå¦‚ä½•æŠŠè¿™ä¸ªæ¶ˆæ¯dispatchåˆ°ä¸åŒçš„æ•°æ®ä¸­å¿ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-34.png&quot; alt=&quot;&quot; class=&quot;wp-image-1161&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-34.png 542w, https://donggeitnote.com/wp-content/uploads/2021/11/image-34-300x193.png 300w&quot; sizes=&quot;(max-width: 542px) 100vw, 542px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;å‡è®¾æœ‰ä¸‰ä¸ªæ•°æ®ä¸­ï¼Œç„¶ååœ¨DC1æœ‰äººå¯¹çº¢è‰²ç›´æ’­è¿›è¡Œäº†ç‚¹èµï¼Œæˆ‘ä»¬å¦‚ä½•æŠŠè¿™ä¸ªç‚¹èµæ¶ˆæ¯å‘é€çš„åˆ«çš„æ•°æ®ä¸­å¿ƒã€‚è¿™é‡Œå…¶å®æœ‰ä¸¤ç§å¤„ç†çš„æ–¹æ³•ï¼š&lt;/p&gt;



&lt;ol type=&quot;1&quot;&gt;&lt;li&gt;ç¬¬ä¸€ç§å°±æ˜¯subscribeçš„æ—¶å€™è·¨æ•°æ®ä¸­å¿ƒï¼Œè¿™æ ·æ¯ä¸ªæ•°æ®ä¸­å¿ƒçš„key-value storeä¸­éƒ½æœ‰åˆ«çš„æ•°æ®ä¸­å¿ƒçš„frontendçš„ä¿¡æ¯ã€‚&lt;/li&gt;&lt;li&gt;ç¬¬äºŒç§å°±æ˜¯subscribeè¿˜æ˜¯å•æ•°æ®ä¸­å¿ƒï¼Œä½†æ˜¯dispatcheråˆ™è¿›è¡Œè·¨æ•°æ®ä¸­å¿ƒçš„åˆ†å‘ï¼Œç„¶åè®©æ¯ä¸ªæ•°æ®ä¸­å¿ƒè‡ªå·±æ ¹æ®å®ƒæœ¬èº«çš„key-value storeæ¥å†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œåˆ†å‘ã€‚&lt;/li&gt;&lt;/ol&gt;



&lt;p&gt;LinkedIné€‰ç”¨äº†ç¬¬äºŒç§æ–¹æ³•æ¥è¿›è¡Œå¤„ç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-35.png&quot; alt=&quot;&quot; class=&quot;wp-image-1162&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-35.png 566w, https://donggeitnote.com/wp-content/uploads/2021/11/image-35-300x185.png 300w&quot; sizes=&quot;(max-width: 566px) 100vw, 566px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;å½“ç¬¬ä¸€ä¸ªdispatcheræ”¶åˆ°ä¿¡æ¯çš„æ—¶å€™ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªæ¶ˆæ¯åˆ†å‘ç»™æ‰€æœ‰çš„ä¸åŒçš„æ•°æ®ä¸­çš„dispatcherï¼Œç„¶åå„ä¸ªdispatcherå°±å¯ä»¥æŒ‰ç…§ä¹‹å‰çš„åšæ³•æ¥åšäº†ã€‚&lt;/p&gt;



&lt;h1&gt;æ€§èƒ½æ•°æ®&lt;/h1&gt;



&lt;p&gt;åœ¨æœ‰äº†ä¸Šé¢çš„æ¶æ„ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™æ ·çš„æ¶æ„å¯ä»¥æ”¯æ’‘ä»€ä¹ˆæ ·QPSçš„åœºæ™¯ï¼Œæˆ–è€…å‡†ç¡®åœ°è¯´è¿™æ ·ä¸€å¥—æ¶æ„æ”¯æ’‘ä¸€ä¸ª1000ä¸‡çš„åŒæ—¶åœ¨çº¿çš„ç”¨æˆ·ï¼Œå¹¶ä¸”æ¯ç§’æœ‰5ä¸‡ç”¨æˆ·ç‚¹èµéœ€è¦å¤šå°‘å°æœºå™¨ã€‚&lt;/p&gt;



&lt;p&gt;é¦–å…ˆæˆ‘ä»¬çœ‹ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œå°±æ˜¯æ¯ä¸ªfrontendçš„serveræ¥åŒæ—¶æ”¯æŒå¤šå°‘å®¢æˆ·ç«¯ï¼ŒLinkedInæµ‹è¯•çš„ç»“æœæ˜¯å¯ä»¥æ”¯æŒ&amp;gt;100,000å®¢æˆ·ç«¯ã€‚ä¹Ÿå°±æ˜¯å‡å¦‚åŒæ—¶æœ‰1000ä¸‡ç”¨æˆ·åŒæ—¶åœ¨çº¿ï¼Œéœ€è¦100å°frontendçš„æœºå™¨å°±å¯ä»¥äº†ã€‚&lt;/p&gt;



&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ç¬¬äºŒä¸ªéƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªdispatcheræ¯ç§’èƒ½æ¥æ”¶å¤šå°‘eventsï¼Œè¿™ä¸ªä¼šå†³å®šæˆ‘ä»¬å‡å¦‚æˆ‘ä»¬æœ‰å¾ˆå¤šäººåŒæ—¶ç‚¹èµï¼Œéœ€è¦å¤šå°‘dispatcherçš„æœºå™¨æ‰èƒ½å¤Ÿæ’‘ä½ï¼ŒLinkedInæµ‹è¯•çš„ç»“æœæ˜¯5Kï¼Œä¹Ÿå°±æ˜¯è¯´å‡å¦‚æ¯ç§’æœ‰5ä¸‡ç”¨æˆ·ç‚¹èµï¼Œæˆ‘ä»¬åªéœ€è¦10å°dispatcherçš„æœºå™¨å°±å¯ä»¥æ’‘ä½äº†ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-36.png&quot; alt=&quot;&quot; class=&quot;wp-image-1163&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-36.png 462w, https://donggeitnote.com/wp-content/uploads/2021/11/image-36-300x168.png 300w&quot; sizes=&quot;(max-width: 462px) 100vw, 462px&quot;/&gt;&lt;/figure&gt;



&lt;p&gt;æœ€åæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œç‚¹èµåˆ°æœ€ç»ˆå‘é€åˆ°ç”¨æˆ·ç«¯çš„å»¶æ—¶æ˜¯æ€æ ·çš„å‘¢ï¼Ÿè¿™é‡Œæµ‹è¯•çš„æ•°æ®æ—¶é—´ç‚¹t1æ˜¯åç«¯å‘dispatcherå‘é€ç‚¹èµçš„æ—¶é—´ç‚¹ï¼Œt2æ˜¯frontendå¼€å§‹å‘å®¢æˆ·ç«¯å‘é€çš„æ—¶é—´ç‚¹ã€‚è¿™ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„å»¶æ—¶P90æ˜¯75msï¼Œè¿˜æ˜¯å¾ˆå¿«çš„ï¼Œå½“ç„¶å¦å¤–ä¸¤ç«¯å’Œå®¢æˆ·ç«¯çš„äº¤äº’å°±æ”¶åˆ°å¾ˆå¤šä¸ç¡®å®šçš„å› ç´ å½±å“äº†ï¼Œä¸è®¡å…¥è€ƒè™‘ä¹Ÿæ˜¯å¯ä»¥ç†è§£çš„ã€‚&lt;/p&gt;



&lt;figure class=&quot;wp-block-image size-large&quot;&gt;&lt;img src=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-37.png&quot; alt=&quot;&quot; class=&quot;wp-image-1164&quot; srcset=&quot;https://donggeitnote.com/wp-content/uploads/2021/11/image-37.png 544w, https://donggeitnote.com/wp-content/uploads/2021/11/image-37-300x137.png 300w&quot; sizes=&quot;(max-width: 544px) 100vw, 544px&quot;/&gt;&lt;/figure&gt;



&lt;h1&gt;æ€»ç»“&lt;/h1&gt;



&lt;p&gt;è‡³æ­¤æˆ‘ä»¬å°±æŠŠLinkedInçš„è¿™å¥—ç‚¹èµç³»ç»Ÿæ€»ç»“å®Œæ¯•äº†ï¼Œå®ƒå…¶å®ä¹Ÿå¯ä»¥åº”ç”¨ä»»ä½•ç›´æ’­ä¸­çš„æ•°æ®äº¤äº’ç³»ç»Ÿï¼Œæ¯”å¦‚ç•™è¨€ç­‰ç­‰ã€‚å¤§å®¶æ„Ÿå…´è¶£ä¹Ÿå¯ä»¥å‚è€ƒåŸä¼šè®®çš„è§†é¢‘ï¼š &lt;a href=&quot;https://www.infoq.com/presentations/linkedin-play-akka-distributed-systems/&quot;&gt;https://www.infoq.com/presentations/linkedin-play-akka-distributed-systems/&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p class=&quot;post-views post-1146 entry-meta&quot;&gt;&amp;#13;
&lt;span class=&quot;post-views-icon dashicons dashicons-chart-bar&quot;/&gt;&amp;#13;
&lt;span class=&quot;post-views-label&quot;&gt;Post Views:&lt;/span&gt;&amp;#13;
&lt;span class=&quot;post-views-count&quot;&gt;167&lt;/span&gt;&amp;#13;
&lt;/p&gt;          &lt;nav class=&quot;pagination group&quot;&gt;
                      &lt;/nav&gt;
        &lt;/div&gt;

        
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>