<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>2dcba8279be74b5ef5a14ac703e1b3c9</guid>
<title>å¦‚ä½•å¿«é€Ÿå®ç°ä¸€ä¸ªèŠå¤©å®¤ï¼Ÿ</title>
<link>https://toutiao.io/k/6xcz0t9</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¦‚ä½•å¿«é€Ÿå®ç°ä¸€ä¸ªèŠå¤©å®¤ï¼Ÿ&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5384615384615384&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/JJRW7FxQREz58QHz9k1ZDfgvLLIGqToR9cEK0XfhaNezuiaib8NlZjwqBEBaW8EK9QHVaNWibfiauic2LfJwnLAHQNQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;936&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;èŠå¤©å®¤&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰äº›å¤©åšäº†ä¸€ä¸ªç½‘ç«™ï¼šhttps://modubox.cn å…¶ä¸­æœ‰ä¸ªç¾¤èŠæ’ä»¶ï¼Œè®¸å¤šäººé—®å¦‚ä½•å®ç°çš„ã€‚è¿™é‡Œç®€å•è¯´ä¸‹ï¼Œä¸ºäº†å¿«é€Ÿå®Œæˆç¾¤èŠåŠŸèƒ½ï¼Œæˆ‘é€‰æ‹©ä»æœ€ç®€å•çš„ WebSocket å¼€å§‹ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯WebSocket ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç„¶è¦ä½¿ç”¨å®ƒï¼Œå°±éœ€è¦äº†è§£ä¸€ä¸‹å®ƒå§ã€‚WebSocketå…¶å®ä¹Ÿæ˜¯ä¸€ç§åŸºäºTCPçš„ç½‘ç»œåè®®ï¼Œå®ƒä¸HTTPåè®®æœ€å¤§çš„ä¸åŒæ˜¯ï¼šæ˜¯ä¸€ç§åŒå‘é€šä¿¡åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥åï¼ŒWebSocketæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯éƒ½èƒ½ä¸»åŠ¨å‘å¯¹æ–¹å‘é€æˆ–æ¥æ”¶æ•°æ®ï¼Œè€ŒHTTPåè®®åªèƒ½å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·é€šä¿¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥WebSocketèƒ½å¤Ÿç”¨äºèŠå¤©ï¼Œå½“ç„¶å…¶ä»–åœ°æ–¹ä¹Ÿèƒ½åº”ç”¨ï¼Œå¦‚æœåšå®¢æœç³»ç»Ÿæˆ–æ¨é€æ¶ˆæ¯éƒ½å¯ä»¥ä»è¿™é‡Œå¼€å§‹ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å¦‚ä½•å®ç°å•èŠ/ç¾¤èŠï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¾¤èŠï¼šæ‰€æœ‰å®¢æˆ·ç«¯çš„æ¶ˆæ¯å‘é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯å°†æ¶ˆæ¯å‘é€ç»™æ‰€æœ‰å®¢æˆ·ç«¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å•èŠï¼šWebSocketå®¢æˆ·ç«¯ä¹‹é—´æ˜¯æ— æ³•ç›´æ¥é€šä¿¡çš„ï¼Œæƒ³è¦é€šä¿¡ï¼Œå¿…é¡»ç”±æœåŠ¡ç«¯è½¬å‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.555&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/JJRW7FxQREz58QHz9k1ZDfgvLLIGqToRqr9iaZM2vdviaOWVibylkiaJhsdArOIO5r3D8WMSrSzicTW7bgCWpSB17sA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;800&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;ç¾¤èŠå•èŠ&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å®ç°&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1. å¼•å…¥WebSocketçš„æ”¯æŒ&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä½¿ç”¨å½“å‰æœ€æµè¡Œçš„Spring Bootæ¡†æ¶æ„å»ºé¡¹ç›®ï¼Œç„¶åå¼•å…¥Spring Boot å¯¹ WebSocket çš„æ”¯æŒï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-websocket&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2. å¼€å¯WebSocket&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;WebSocketConfig&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Bean&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â ServerEndpointExporterÂ &lt;span&gt;serverEndpointExporter&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â ServerEndpointExporter();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3. æœåŠ¡ç«¯&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å£°æ˜æœåŠ¡ç«¯ç‚¹è·¯å¾„&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å­˜å‚¨æ‰€æœ‰è¿æ¥ç”¨æˆ·ï¼Œç­‰å¾…åŒ¹é…ç”¨æˆ·&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¿æ¥ onOpenï¼Œæ¶ˆæ¯OnMessageï¼Œå…³é—­onCloseï¼Œé”™è¯¯onError æ–¹æ³•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å‘é€æ¶ˆæ¯ç»™ç‰¹å®šè¿æ¥è€…&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;@ServerEndpoint&lt;/span&gt;(valueÂ =Â &lt;span&gt;&quot;/websocket/random/&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;@Component&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ChatRandomServer&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ‰€æœ‰è¿æ¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â ConcurrentHashMap&amp;lt;String,Â ChatRandomServer&amp;gt;Â webSocketSetÂ =Â &lt;span&gt;new&lt;/span&gt;Â ConcurrentHashMap&amp;lt;&amp;gt;();&lt;br/&gt;Â Â Â Â &lt;span&gt;//ä¸æŸä¸ªå®¢æˆ·ç«¯çš„è¿æ¥ä¼šè¯ï¼Œéœ€è¦é€šè¿‡å®ƒæ¥ç»™å®¢æˆ·ç«¯å‘é€æ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â SessionÂ session;&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ‰€æœ‰åœ¨é…å¯¹çš„ID&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â List&amp;lt;String&amp;gt;Â webSocketLiveListÂ =Â &lt;span&gt;new&lt;/span&gt;Â CopyOnWriteArrayList();&lt;br/&gt;Â Â Â Â &lt;span&gt;//è‡ªå·±çš„idæ ‡è¯†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â StringÂ idÂ =Â &lt;span&gt;&quot;&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;//è¿æ¥å¯¹è±¡çš„idæ ‡è¯†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â StringÂ toUserÂ =Â &lt;span&gt;&quot;&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â è¿æ¥å»ºç«‹æˆåŠŸè°ƒç”¨çš„æ–¹æ³•&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@OnOpen&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;onOpen&lt;/span&gt;&lt;span&gt;(SessionÂ session)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â session.setMaxIdleTimeout(&lt;span&gt;3600000&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.sessionÂ =Â session;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è·å–ç”¨æˆ·ip&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â StringÂ ipÂ =Â IpUtil.getRemoteAddress(session);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.idÂ =Â ip;&lt;br/&gt;Â Â Â Â Â Â Â Â ChatRandomServerÂ putÂ =Â webSocketSet.put(&lt;span&gt;this&lt;/span&gt;.id,Â &lt;span&gt;this&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å¦‚æœå·²ç»åœ¨é˜Ÿé‡Œï¼Œå°±ä¸å»æ‰¾å¯¹è±¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (putÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (pair())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sendMessage(&lt;span&gt;&quot;åŒ¹é…æˆåŠŸ&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sendMessage(&lt;span&gt;&quot;åŒ¹é…å¤±è´¥&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â webSocketSet.remove(&lt;span&gt;this&lt;/span&gt;.id);Â &lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â session.close();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;ç”¨æˆ·{}åŠ å…¥ï¼å½“å‰åœ¨çº¿äººæ•°ä¸º:Â {}&quot;&lt;/span&gt;,Â &lt;span&gt;this&lt;/span&gt;.id,Â webSocketSet.size());&lt;br/&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â è¿æ¥å…³é—­è°ƒç”¨çš„æ–¹æ³•&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@OnClose&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;onClose&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â ChatRandomServerÂ UserIdÂ =Â webSocketSet.get(toUser);&lt;br/&gt;Â Â Â Â Â Â Â Â webSocketLiveList.remove(&lt;span&gt;this&lt;/span&gt;.id);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (UserIdÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sendToUser(session,Â &lt;span&gt;&quot;å¯¹æ–¹å·²ç¦»å¼€&quot;&lt;/span&gt;,Â toUser);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â webSocketSet.remove(&lt;span&gt;this&lt;/span&gt;.id);&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;{}è¿æ¥å…³é—­ï¼å½“å‰åœ¨çº¿äººæ•°:{}, å½“å‰åœ¨åŒ¹é…çš„äººæ•°:{}&quot;&lt;/span&gt;Â ,&lt;span&gt;this&lt;/span&gt;.id,webSocketSet.size(),Â webSocketLiveList.size());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯åè°ƒç”¨çš„æ–¹æ³•&lt;br/&gt;Â Â Â Â Â *&lt;br/&gt;Â Â Â Â Â *Â &lt;span&gt;@param&lt;/span&gt;Â messageÂ å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@OnMessage&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;onMessage&lt;/span&gt;&lt;span&gt;(StringÂ message,Â SessionÂ session)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â log.info(&lt;span&gt;&quot;æ¥è‡ªÂ {}Â çš„æ¶ˆæ¯:Â {}&quot;&lt;/span&gt;,Â &lt;span&gt;this&lt;/span&gt;.id,Â message);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â ChatRandomServer.sendToUser(session,Â message,Â toUser,Â &lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@OnError&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;onError&lt;/span&gt;&lt;span&gt;(SessionÂ session,Â ThrowableÂ error)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â log.error(&lt;span&gt;&quot;å‘ç”Ÿé”™è¯¯&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â error.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â SendSelf(session,&lt;span&gt;&quot;æœåŠ¡å™¨å‡ºç°é”™è¯¯&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å‘é€æ¶ˆæ¯ç»™è‡ªå·±&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;sendMessage&lt;/span&gt;&lt;span&gt;(StringÂ message)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â IOExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â SendSelf(&lt;span&gt;this&lt;/span&gt;.session,Â message);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;SendSelf&lt;/span&gt;&lt;span&gt;(SessionÂ session,Â StringÂ message)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â IOExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â session.getBasicRemote().sendText(message);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å‘é€ä¿¡æ¯ç»™æŒ‡å®šIDç”¨æˆ·&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;sendToUser&lt;/span&gt;&lt;span&gt;(SessionÂ session,Â StringÂ message,Â StringÂ sendUserId)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â IOExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â ChatRandomServerÂ UserIdÂ =Â webSocketSet.get(sendUserId);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (UserIdÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â UserId.sendMessage(message);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â SendSelf(session,Â &lt;span&gt;&quot;å‘é€å¤±è´¥&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â é€šçŸ¥é™¤äº†è‡ªå·±ä¹‹å¤–çš„æ‰€æœ‰äºº&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;sendOnlineCount&lt;/span&gt;&lt;span&gt;(StringÂ message)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (StringÂ keyÂ :Â webSocketSet.keySet())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (key.equals(id))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â webSocketSet.get(key).sendMessage(message);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â å‘é€ä¿¡æ¯ç»™æ‰€æœ‰äºº&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;sendToAll&lt;/span&gt;&lt;span&gt;(StringÂ message)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â IOExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (StringÂ keyÂ :Â webSocketSet.keySet())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â webSocketSet.get(key).sendMessage(message);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;synchronized&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;pair&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â IOExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æ˜¯å¦å­˜åœ¨ç­‰å¾…åŒ¹é…çš„ç”¨æˆ·&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (webSocketLiveList.size()Â &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//éšæœºåŒ¹é…ä¸€ä¸ª&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â RandomÂ raÂ =Â &lt;span&gt;new&lt;/span&gt;Â Random();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â nextIntÂ =Â ra.nextInt(webSocketLiveList.size());&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â toUserÂ =Â webSocketLiveList.get(nextInt);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ChatRandomServerÂ UserIdÂ =Â webSocketSet.get(toUser);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â UserId.setToUser(id);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sendToUser(session,Â &lt;span&gt;&quot;é…å¯¹æˆåŠŸ&quot;&lt;/span&gt;,Â toUser);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IOExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â webSocketLiveList.remove(nextInt);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æ²¡æœ‰åŒ¹é…çš„ï¼Œåˆ™å°†è‡ªå·±åŠ å…¥ç­‰å¾…åŒ¹é…é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â webSocketLiveList.add(id);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;4. å‰ç«¯æ”¯æŒ&lt;span/&gt;&lt;/h4&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Â start:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;typeof&lt;/span&gt;Â (WebSocket)Â ===Â &lt;span&gt;&quot;undefined&quot;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â alert(&lt;span&gt;&quot;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒsocket&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â å®ä¾‹åŒ–socket&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socketÂ =Â &lt;span&gt;new&lt;/span&gt;Â WebSocket(&lt;span&gt;`ws://localhost:8082/websocket/room`&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â ç›‘å¬socketè¿æ¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socket.onopenÂ =Â &lt;span&gt;this&lt;/span&gt;.open&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â ç›‘å¬socketé”™è¯¯ä¿¡æ¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socket.onerrorÂ =Â &lt;span&gt;this&lt;/span&gt;.error&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â ç›‘å¬socketæ¶ˆæ¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socket.onmessageÂ =Â &lt;span&gt;this&lt;/span&gt;.getMessage&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socket.oncloseÂ =Â &lt;span&gt;this&lt;/span&gt;.close&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;open&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;error&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;getMessage&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span&gt;obj&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æ¥æ”¶ä¿¡æ¯åæ ¹æ®ä¸åŒæƒ…å†µä¸åŒå¤„ç†æ–¹å¼&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â dataÂ =Â &lt;span&gt;JSON&lt;/span&gt;.parse(obj.data);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (data.codeÂ ===Â &lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (data.codeÂ ===Â &lt;span&gt;2&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;close&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span&gt;e&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;doSend&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (that.sendDataÂ ===Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.socket.send(that.sendData);&lt;br/&gt;Â Â Â Â Â Â Â Â that.sendDataÂ =Â &lt;span&gt;&#x27;&#x27;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â },&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä»£ç ä¸å®Œæ•´ï¼Œå¦‚æœéœ€è¦çœ‹ä¸‹å®Œæ•´ä»£ç ï¼Œè”ç³»æˆ‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-backh=&quot;500&quot; data-backw=&quot;500&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;256&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;257&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/JJRW7FxQRExGEvHCSlBlBDLibfHJXldiaZ96rd67AIDF213cJzwICFLdUOFuib9cCibV1G8WVsG983iaRQZ1v1LRkUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;300&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>bb068cb0972846af7fcf865202ce60ec</guid>
<title>æ·±å…¥æ¢ç©¶ 6 ä¸ª React è¯¡å¼‚ç°è±¡</title>
<link>https://toutiao.io/k/ukuaetz</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰è¨€&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©æˆ‘ä»¬æ¥ä¸€æœŸä¸åŒå¯»å¸¸çš„Reactè¿›é˜¶æ–‡ç« ï¼Œæœ¬æ–‡æˆ‘ä»¬é€šè¿‡ä¸€äº›&lt;strong&gt;ä¸åŒå¯»å¸¸çš„&lt;/strong&gt;ç°è±¡ï¼Œä»¥æ¢æ¡ˆçš„æµç¨‹åˆ†æåŸå› ï¼Œæ‰¾åˆ°ç»“æœï¼Œä»è€Œè®¤è¯†Reactï¼Œèµ°è¿›Reactçš„ä¸–ç•Œï¼Œæ­å¼€Reactçš„é¢çº±ï¼Œæˆ‘æ·±ä¿¡ï¼Œ&lt;strong&gt;æ›´æ·±çš„ç†è§£ï¼Œæ–¹å¯æ›´å¥½çš„ä½¿ç”¨ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æ‰¿è®¤èµ·è¿™ä¸ªåå­—å¯èƒ½æœ‰ç‚¹æ ‡é¢˜å…šäº†ï¼Œçµæ„Ÿæ¥æºäºå°æ—¶å€™å¤®è§†æœ‰ä¸€ä¸ªå«åšã€Šèµ°è¿›ç§‘å­¦ã€‹çš„æ ç›®ï¼Œå¤©å¤©ä»‹ç»å„ç§è¶…è‡ªç„¶çš„çµå¼‚ç°è±¡ï¼Œæçš„ç¥ä¹å…¶ç¥ï¼Œæœ€åæ­ç§˜çš„æ—¶å€™åŸæ¥æ˜¯å„ç§å°å„¿ç§‘çš„é—®é¢˜ï¼Œç°åœ¨æƒ³æƒ³éƒ½è§‰å¾—æç¬‘ğŸ˜‚ğŸ˜‚ã€‚ä½†æ˜¯æˆ‘ä»Šå¤©ä»‹ç»çš„è¿™äº›React &#x27;çµå¼‚&#x27;ç°è±¡æœ¬è´¨å¯ä¸æ˜¯å°å„¿ç§‘ï¼Œæ¯ä¸€ä¸ªç°è±¡åéƒ½é€éœ²å‡º &lt;strong&gt;React è¿è¡Œæœºåˆ¶&lt;/strong&gt;å’Œ&lt;strong&gt;è®¾è®¡åŸç†&lt;/strong&gt;ã€‚ï¼ˆæˆ‘ä»¬è®²çš„reactç‰ˆæœ¬æ˜¯&lt;code&gt;16.13.1&lt;/code&gt;ï¼‰&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5625&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuibDCUSNWiaOefbnEDlWuQ7yKRoQ418WHKMiadIZBpoMlnCboVvRQqIkzQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot;/&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½çš„ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œæˆ‘çš„å¤§ä¾¦æ¢ä»¬ï¼Œare you ready ? è®©æˆ‘ä»¬å¼€å¯ä»Šå¤©çš„æ­ç§˜ä¹‹æ—…æŠŠã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶ä¸€ï¼šç»„ä»¶è«åå…¶å¦™é‡å¤æŒ‚è½½&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¥åˆ°æŠ¥æ¡ˆ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰çš„ä¸€ä½åŒå­¦é‡åˆ°ä¸€ä¸ªè¯¡å¼‚æƒ…å†µï¼Œä»–å¸Œæœ›åœ¨ç»„ä»¶æ›´æ–°ï¼Œ&lt;code&gt;componentDidUpdate&lt;/code&gt;æ‰§è¡Œååšä¸€äº›æƒ³è¦åšçš„äº‹ï¼Œç»„ä»¶æ›´æ–°æºæ¥æºäºçˆ¶ç»„ä»¶ä¼ é€’ &lt;code&gt;props&lt;/code&gt; çš„æ”¹å˜ã€‚ä½†æ˜¯çˆ¶ç»„ä»¶æ”¹å˜ &lt;code&gt;props&lt;/code&gt;å‘ç°è§†å›¾æ¸²æŸ“ï¼Œä½†æ˜¯&lt;code&gt;componentDidUpdate&lt;/code&gt;æ²¡æœ‰æ‰§è¡Œï¼Œæ›´æ€ªå¼‚çš„æ˜¯&lt;code&gt;componentDidMount&lt;/code&gt;æ‰§è¡Œã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â &lt;span&gt;TODO:&lt;/span&gt;Â é‡å¤æŒ‚è½½&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â componentDidMount(){&lt;br/&gt;Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;ç»„ä»¶åˆå§‹åŒ–æŒ‚è½½&#x27;&lt;/span&gt;)&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â componentDidUpdate(){&lt;br/&gt;Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;ç»„ä»¶æ›´æ–°&#x27;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â &lt;span&gt;/*Â æƒ³è¦åšä¸€äº›äº‹æƒ…Â */&lt;/span&gt;&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â render(){&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;ã€ŠReactè¿›é˜¶å®è·µæŒ‡å—ã€‹Â Â ğŸ‘Â {Â this.props.numberÂ }Â +Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•ˆæœå¦‚ä¸‹&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3477801268498943&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLutEAib8ibWgFFaNLiaDZ2iaZdaEWT4ag3vNbnZTibSibv9U9xlYdeBUSENTSQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1892&quot;/&gt;&lt;figcaption&gt;didupdate.gif&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;componentDidUpdate&lt;/code&gt;æ²¡æœ‰æ‰§è¡Œï¼Œ&lt;code&gt;componentDidMount&lt;/code&gt;æ‰§è¡Œï¼Œè¯´æ˜ç»„ä»¶æ ¹æœ¬&lt;strong&gt;æ²¡æœ‰èµ°æ›´æ–°é€»è¾‘&lt;/strong&gt;ï¼Œè€Œæ˜¯&lt;strong&gt;èµ°äº†é‡å¤æŒ‚è½½&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é€ä¸€æ’æŸ¥&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å­ç»„ä»¶ä¸€å¤´é›¾æ°´ï¼Œæ ¹æœ¬ä¸æ‰¾åŸå› ï¼Œæˆ‘ä»¬åªå¥½ä»çˆ¶ç»„ä»¶å…¥æ‰‹ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹çˆ¶ç»„ä»¶å¦‚ä½•å†™çš„ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â BoxStyleÂ =Â &lt;span&gt;(&lt;span&gt;{Â childrenÂ }&lt;/span&gt;)=&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&#x27;card&#x27;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;{Â childrenÂ }&lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Home&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â [Â numberÂ ,Â setNumberÂ ]Â =Â useState(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â NewIndexÂ =Â &lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;BoxStyle&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;number&lt;/span&gt;=&lt;span&gt;{number}&lt;/span&gt;Â Â /&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;BoxStyle&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;NewIndex&lt;/span&gt;Â Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()=&amp;gt;&lt;/span&gt;setNumber(number+1)Â }Â &amp;gt;ç‚¹èµ&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»çˆ¶ç»„ä»¶ä¸­æ‰¾åˆ°äº†ä¸€äº›ç«¯å€ªã€‚åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé¦–å…ˆé€šè¿‡&lt;code&gt;BoxStyle&lt;/code&gt;åšä¸ºä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œæ·»åŠ æ ·å¼ï¼Œæ¸²æŸ“æˆ‘ä»¬çš„å­ç»„ä»¶&lt;code&gt;Index&lt;/code&gt;ï¼Œä½†æ˜¯æ¯ä¸€æ¬¡é€šè¿‡ç»„åˆå®¹å™¨ç»„ä»¶å½¢æˆä¸€ä¸ªæ–°çš„ç»„ä»¶&lt;code&gt;NewIndex&lt;/code&gt;ï¼ŒçœŸæ­£æŒ‚è½½çš„æ˜¯&lt;code&gt;NewIndex&lt;/code&gt;ï¼ŒçœŸç›¸å¤§ç™½ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ³¨æ„äº‹é¡¹&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€ æˆè¿™ç§æƒ…å†µçš„æœ¬è´¨ï¼Œæ˜¯æ¯ä¸€æ¬¡ &lt;code&gt;render&lt;/code&gt; è¿‡ç¨‹ä¸­ï¼Œéƒ½å½¢æˆä¸€ä¸ªæ–°ç»„ä»¶ï¼Œå¯¹äºæ–°ç»„ä»¶ï¼ŒReact å¤„ç†é€»è¾‘æ˜¯ç›´æ¥å¸è½½è€ç»„ä»¶ï¼Œé‡æ–°æŒ‚è½½æ–°ç»„ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„ä¸€ä¸ªé—®é¢˜é‚£å°±æ˜¯ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å¯¹äºå‡½æ•°ç»„ä»¶ï¼Œä¸è¦åœ¨å…¶å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å£°æ˜æ–°ç»„ä»¶å¹¶æ¸²æŸ“ï¼Œè¿™æ ·æ¯æ¬¡å‡½æ•°æ›´æ–°ä¼šä¿ƒä½¿ç»„ä»¶é‡å¤æŒ‚è½½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹äºç±»ç»„ä»¶ï¼Œä¸è¦åœ¨ &lt;code&gt;render&lt;/code&gt; å‡½æ•°ä¸­ï¼Œåšå¦‚ä¸ŠåŒæ ·çš„æ“ä½œï¼Œå¦åˆ™ä¹Ÿä¼šä½¿å­ç»„ä»¶é‡å¤æŒ‚è½½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶äºŒï¼šäº‹ä»¶æºe.targetç¦»å¥‡å¤±è¸ª&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;çªå‘æ¡ˆä»¶&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒ–åï¼ˆå°æ˜ï¼‰åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„å¤œæ™šï¼Œçªå‘å¥‡æƒ³å†™ä¸€ä¸ªå—æ§ç»„ä»¶ã€‚å†™çš„ä»€ä¹ˆå†…å®¹å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;EventDemo&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;constructor&lt;/span&gt;(props){&lt;br/&gt;Â Â Â Â &lt;span&gt;super&lt;/span&gt;(props)&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.state={&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;value&lt;/span&gt;:&lt;span&gt;&#x27;&#x27;&lt;/span&gt;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;Â Â handerChange(e){&lt;br/&gt;Â Â Â Â setTimeout(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;=&amp;gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.setState({&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;span&gt;value&lt;/span&gt;:e.target.value&lt;br/&gt;Â Â Â Â Â Â Â })&lt;br/&gt;Â Â Â Â },&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â }&lt;br/&gt;Â Â render(){&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;input&lt;/span&gt;Â &lt;span&gt;placeholder&lt;/span&gt;=&lt;span&gt;&quot;è¯·è¾“å…¥ç”¨æˆ·åï¼Ÿ&quot;&lt;/span&gt;Â &lt;span&gt;onChange&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â &lt;span&gt;this.handerChange.bind&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt;)Â }Â Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;input&lt;/code&gt;çš„å€¼å—åˆ° &lt;code&gt;state&lt;/code&gt;ä¸­&lt;code&gt;value&lt;/code&gt;å±æ€§æ§åˆ¶ï¼Œå°æ˜æƒ³è¦é€šè¿‡&lt;code&gt;handerChange&lt;/code&gt;æ”¹å˜&lt;code&gt;value&lt;/code&gt;å€¼ï¼Œä½†æ˜¯ä»–æœŸæœ›åœ¨&lt;code&gt;setTimeout&lt;/code&gt;ä¸­å®Œæˆæ›´æ–°ã€‚å¯ä»¥å½“ä»–æƒ³è¦æ”¹å˜inputå€¼æ—¶å€™ï¼Œæ„æƒ³ä¸åˆ°çš„äº‹æƒ…å‘ç”Ÿäº†ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.504950495049505&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuB588Qqmibd0wgzkLfLEUfF2icsETNl73I1YMCCobbDjflAdf7XvAONiaQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;808&quot;/&gt;&lt;figcaption&gt;event.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ§åˆ¶å°æŠ¥é”™å¦‚ä¸Šæ‰€ç¤ºã€‚&lt;code&gt;Cannot read property &#x27;value&#x27; of null&lt;/code&gt; ä¹Ÿå°±æ˜¯è¯´æ˜&lt;code&gt;e.target&lt;/code&gt;ä¸º&lt;code&gt;null&lt;/code&gt;ã€‚äº‹ä»¶æº &lt;code&gt;target&lt;/code&gt;æ€ä¹ˆè¯´æ²¡å°±æ²¡å‘¢ï¼Ÿ&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;çº¿ç´¢è¿½è¸ª&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥åˆ°è¿™ä¸ªæ¡ˆä»¶ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆæ’æŸ¥é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆåœ¨&lt;code&gt;handerChange&lt;/code&gt;ç›´æ¥æ‰“å°&lt;code&gt;e.target&lt;/code&gt;ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.11838006230529595&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuzclYib5K51ribeUcibm1L4oVsicO9TfXgiagicbDGKO9Lau6EFypalOaaQPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;642&quot;/&gt;&lt;figcaption&gt;event1.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹æ¥é¦–å…ˆæ’æŸ¥ä¸æ˜¯ &lt;code&gt;handerChange&lt;/code&gt; çš„åŸå› ï¼Œç„¶åæˆ‘ä»¬æ¥ç€åœ¨&lt;code&gt;setTimeout&lt;/code&gt;ä¸­æ‰“å°å‘ç°ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.07336956521739131&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuC0KkX0WUOs4bdFqvTmrvibvzoJNbbCG22OR6GDmhfMddaHxR6PNO1vA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;736&quot;/&gt;&lt;figcaption&gt;event2.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœç„¶æ˜¯&lt;code&gt;setTimeout&lt;/code&gt;çš„åŸå› ï¼Œä¸ºä»€ä¹ˆ&lt;code&gt;setTimeout&lt;/code&gt;ä¸­çš„äº‹ä»¶æº e.target å°±è«åçš„å¤±è¸ªäº†å‘¢ï¼Ÿé¦–å…ˆï¼Œäº‹ä»¶æºè‚¯å®šä¸æ˜¯è«åçš„å¤±è¸ªäº†ï¼Œè‚¯å®š React åº•å±‚å¯¹äº‹ä»¶æºåšäº†ä¸€äº›é¢å¤–çš„å¤„ç†ï¼Œé¦–å…ˆæˆ‘ä»¬çŸ¥é“Reacté‡‡ç”¨çš„æ˜¯&lt;strong&gt;äº‹ä»¶åˆæˆ&lt;/strong&gt;æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯ç»‘å®šçš„ &lt;code&gt;onChange&lt;/code&gt;ä¸æ˜¯çœŸå®ç»‘å®šçš„ &lt;code&gt;change&lt;/code&gt;äº‹ä»¶ï¼Œå°æ˜ç»‘å®šçš„ &lt;code&gt;handerChange&lt;/code&gt;ä¹Ÿä¸æ˜¯çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´Reactåº•å±‚å¸®æˆ‘ä»¬å¤„ç†äº†äº‹ä»¶æºã€‚è¿™ä¸€åˆ‡å¯èƒ½åªæœ‰æˆ‘ä»¬ä» React æºç ä¸­æ‰¾åˆ°çº¿ç´¢ã€‚ç»è¿‡å¯¹æºç çš„æ’æŸ¥ï¼Œæˆ‘å‘ç°æœ‰ä¸€å¤„çº¿ç´¢ååˆ†å¯ç–‘ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-dom/src/events/DOMLegacyEventPluginSystem.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;dispatchEventForLegacyPluginEventSystem&lt;/span&gt;(&lt;span&gt;topLevelType,eventSystemFlags,nativeEvent,targetInst&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â bookKeepingÂ =Â getTopLevelCallbackBookKeeping(topLevelType,nativeEvent,targetInst,eventSystemFlags);&lt;br/&gt;Â Â Â Â batchedEventUpdates(handleTopLevel,Â bookKeeping);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;dispatchEventForLegacyPluginEventSystem&lt;/code&gt;æ˜¯&lt;code&gt;legacy&lt;/code&gt;æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½å¿…å®šç»è¿‡çš„ä¸»è¦å‡½æ•°ï¼Œ&lt;code&gt;batchedEventUpdates&lt;/code&gt;æ˜¯å¤„ç†æ‰¹é‡æ›´æ–°çš„é€»è¾‘ï¼Œé‡Œé¢ä¼šæ‰§è¡Œæˆ‘ä»¬çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæˆ‘ä»¬åœ¨äº‹ä»¶åŸç†ç¯‡ç« è®²è¿‡ &lt;code&gt;nativeEvent&lt;/code&gt; å°±æ˜¯&lt;strong&gt;çœŸæ­£åŸç”Ÿçš„äº‹ä»¶å¯¹è±¡ &lt;code&gt;event&lt;/code&gt;&lt;/strong&gt;ã€‚&lt;code&gt;targetInst&lt;/code&gt; å°±æ˜¯&lt;code&gt;e.target&lt;/code&gt;å¯¹åº”çš„&lt;code&gt;fiber&lt;/code&gt;å¯¹è±¡ã€‚æˆ‘ä»¬åœ¨&lt;code&gt;handerChange&lt;/code&gt;é‡Œé¢è·å–çš„äº‹ä»¶æºæ˜¯Reactåˆæˆçš„äº‹ä»¶æºï¼Œé‚£ä¹ˆäº†è§£äº‹ä»¶æºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œæ€ä¹ˆæ ·è¢«åˆæˆçš„ï¼Ÿè¿™å¯¹äºç ´æ¡ˆå¯èƒ½ä¼šæœ‰å¸®åŠ©ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹ä»¶åŸç†ç¯‡æˆ‘ä»¬å°†ä»‹ç»Reacté‡‡ç”¨äº‹ä»¶æ’ä»¶æœºåˆ¶ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„onClickäº‹ä»¶å¯¹åº”çš„æ˜¯ &lt;code&gt;SimpleEventPlugin&lt;/code&gt;ï¼Œé‚£ä¹ˆå°æ˜å†™&lt;code&gt;onChange&lt;/code&gt;ä¹Ÿæœ‰ä¸“é—¨ &lt;code&gt;ChangeEventPlugin&lt;/code&gt;äº‹ä»¶æ’ä»¶ï¼Œè¿™äº›æ’ä»¶æœ‰ä¸€ä¸ªè‡³å…³é‡è¦çš„ä½œç”¨å°±æ˜¯ç”¨æ¥åˆæˆæˆ‘ä»¬äº‹ä»¶æºå¯¹è±¡eï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹&lt;code&gt;ChangeEventPlugin&lt;/code&gt;ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-dom/src/events/ChangeEventPlugin.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â ChangeEventPluginÂ ={&lt;br/&gt;Â Â Â &lt;span&gt;eventTypes&lt;/span&gt;:Â eventTypes,&lt;br/&gt;Â Â Â &lt;span&gt;extractEvents&lt;/span&gt;:&lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â eventÂ =Â SyntheticEvent.getPooled(&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â eventTypes.change,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â inst,Â &lt;span&gt;//Â ç»„ä»¶å®ä¾‹&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â nativeEvent,Â &lt;span&gt;//Â åŸç”Ÿçš„äº‹ä»¶æºÂ e&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â target,Â Â Â Â Â Â &lt;span&gt;//Â åŸç”Ÿçš„e.target&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â );&lt;br/&gt;Â Â Â Â Â accumulateTwoPhaseListeners(event);Â &lt;span&gt;//Â è¿™ä¸ªå‡½æ•°æŒ‰ç…§å†’æ³¡æ•è·é€»è¾‘å¤„ç†çœŸæ­£çš„äº‹ä»¶å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯Â Â handerChangeÂ äº‹ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â event;Â &lt;span&gt;//Â &lt;/span&gt;&lt;br/&gt;Â Â Â }Â Â Â &lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çœ‹åˆ°åˆæˆäº‹ä»¶çš„äº‹ä»¶æº&lt;code&gt;handerChange&lt;/code&gt;ä¸­çš„ eï¼Œå°±æ˜¯&lt;code&gt;SyntheticEvent.getPooled&lt;/code&gt;åˆ›å»ºå‡ºæ¥çš„ã€‚é‚£ä¹ˆè¿™ä¸ªæ˜¯ç ´æ¡ˆçš„å…³é”®æ‰€åœ¨ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;legacy-events/SyntheticEvent.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;SyntheticEvent.getPooledÂ =Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â EventConstructorÂ =Â &lt;span&gt;this&lt;/span&gt;;Â &lt;span&gt;//Â Â SyntheticEvent&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (EventConstructor.eventPool.length)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â instanceÂ =Â EventConstructor.eventPool.pop();&lt;br/&gt;Â Â Â Â EventConstructor.call(instance,dispatchConfig,targetInst,nativeEvent,nativeInst,);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â instance;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â EventConstructor(dispatchConfig,targetInst,nativeEvent,nativeInst,);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç•ªå¤–ï¼šåœ¨äº‹ä»¶ç³»ç»Ÿç¯‡ç« ï¼Œæ–‡ç« çš„äº‹ä»¶æ± æ¦‚å¿µï¼Œè®²çš„æ¯”è¾ƒä»“ä¿ƒï¼Œç¬¼ç»Ÿï¼Œè¿™ç¯‡è¿™ä¸ªéƒ¨åˆ†å°†è¯¦ç»†è¡¥å……äº‹ä»¶æ± &lt;span&gt;æ¦‚å¿µ&lt;/span&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;getPooled&lt;/code&gt;å¼•å‡ºäº†äº‹ä»¶æ± çš„çœŸæ­£çš„æ¦‚å¿µï¼Œå®ƒä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ¤æ–­äº‹ä»¶æ± ä¸­æœ‰æ²¡æœ‰ç©ºä½™çš„äº‹ä»¶æºï¼Œå¦‚æœæœ‰å–å‡ºäº‹ä»¶æºå¤ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœæ²¡æœ‰ï¼Œé€šè¿‡ &lt;code&gt;new SyntheticEvent&lt;/code&gt; çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶æºå¯¹è±¡ã€‚é‚£ä¹ˆ &lt;code&gt;SyntheticEvent&lt;/code&gt;å°±æ˜¯åˆ›å»ºäº‹ä»¶æºå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä¸€èµ·ç ”ç©¶ä¸€ä¸‹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â EventInterfaceÂ =Â {&lt;br/&gt;Â Â &lt;span&gt;type&lt;/span&gt;:Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;target&lt;/span&gt;:Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;currentTarget&lt;/span&gt;:Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â },&lt;br/&gt;Â Â &lt;span&gt;eventPhase&lt;/span&gt;:Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â ...&lt;br/&gt;};&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;SyntheticEvent&lt;/span&gt;(&lt;span&gt;Â dispatchConfig,targetInst,nativeEvent,nativeEventTarget&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;this&lt;/span&gt;.dispatchConfigÂ =Â dispatchConfig;Â &lt;br/&gt;Â Â &lt;span&gt;this&lt;/span&gt;._targetInstÂ =Â targetInst;Â Â Â Â &lt;span&gt;//Â ç»„ä»¶å¯¹åº”fiberã€‚&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;this&lt;/span&gt;.nativeEventÂ =Â nativeEvent;Â Â Â &lt;span&gt;//Â åŸç”Ÿäº‹ä»¶æºã€‚&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;this&lt;/span&gt;._dispatchListenersÂ =Â &lt;span&gt;null&lt;/span&gt;;Â Â Â &lt;span&gt;//Â å­˜æ”¾æ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨å‡½æ•°ã€‚&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;const&lt;/span&gt;Â propNameÂ &lt;span&gt;in&lt;/span&gt;Â Interface)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (propNameÂ ===Â &lt;span&gt;&#x27;target&#x27;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.targetÂ =Â nativeEventTarget;Â &lt;span&gt;//Â æˆ‘ä»¬çœŸæ­£æ‰“å°çš„Â targetÂ æ˜¯åœ¨è¿™é‡Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;[propName]Â =Â nativeEvent[propName];&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;SyntheticEvent.prototype.preventDefaultÂ =Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)&lt;/span&gt;{Â &lt;span&gt;/*Â ....Â */&lt;/span&gt;Â }Â Â Â Â Â &lt;span&gt;/*Â ç»„ä»¶æµè§ˆå™¨é»˜è®¤è¡Œä¸ºÂ */&lt;/span&gt;&lt;br/&gt;SyntheticEvent.prototype.stopPropagationÂ =Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{Â &lt;span&gt;/*Â ....Â */&lt;/span&gt;Â Â }Â Â &lt;span&gt;/*Â é˜»æ­¢äº‹ä»¶å†’æ³¡Â */&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;SyntheticEvent.prototype.destructorÂ =Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)&lt;/span&gt;{Â &lt;span&gt;/*Â æƒ…å†µäº‹ä»¶æºå¯¹è±¡*/&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;const&lt;/span&gt;Â propNameÂ &lt;span&gt;in&lt;/span&gt;Â Interface)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;[propName]Â =Â &lt;span&gt;null&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.dispatchConfigÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;._targetInstÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;this&lt;/span&gt;.nativeEventÂ =Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â EVENT_POOL_SIZEÂ =Â &lt;span&gt;10&lt;/span&gt;;Â &lt;span&gt;/*Â æœ€å¤§äº‹ä»¶æ± æ•°é‡Â */&lt;/span&gt;&lt;br/&gt;SyntheticEvent.eventPoolÂ =Â []Â &lt;span&gt;/*Â ç»‘å®šäº‹ä»¶æ± Â */&lt;/span&gt;&lt;br/&gt;SyntheticEvent.release=&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)&lt;/span&gt;{Â &lt;span&gt;/*Â æ¸…ç©ºäº‹ä»¶æºå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰è¶…è¿‡äº‹ä»¶æ± ä¸Šé™ï¼Œé‚£ä¹ˆæ”¾å›äº‹ä»¶æ± Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â EventConstructorÂ =Â &lt;span&gt;this&lt;/span&gt;;Â &lt;br/&gt;Â Â Â Â event.destructor();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (EventConstructor.eventPool.lengthÂ &amp;lt;Â EVENT_POOL_SIZE)Â {&lt;br/&gt;Â Â Â Â Â Â Â EventConstructor.eventPool.push(event);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æŠŠè¿™ä¸€æ®µä»£ç ç²¾ç‚¼ä¹‹åï¼ŒçœŸç›¸ä¹Ÿå°±æ¸æ¸æµ®å‡ºæ°´é¢äº†ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ &lt;code&gt;SyntheticEvent&lt;/code&gt; åšäº†ä»€ä¹ˆï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é¦–å…ˆèµ‹äºˆä¸€äº›åˆå§‹åŒ–çš„å˜é‡&lt;code&gt;nativeEvent&lt;/code&gt;ç­‰ã€‚ç„¶åæŒ‰ç…§ &lt;code&gt;EventInterface&lt;/code&gt; è§„åˆ™æŠŠ&lt;strong&gt;åŸç”Ÿçš„äº‹ä»¶æº&lt;/strong&gt;ä¸Šçš„å±æ€§ï¼Œå¤åˆ¶ä¸€ä»½ç»™&lt;strong&gt;React äº‹ä»¶æºã€‚ç„¶åä¸€ä¸ªé‡è¦çš„å°±æ˜¯æˆ‘ä»¬æ‰“å°çš„e.targetå°±æ˜¯this.targetï¼Œåœ¨äº‹ä»¶æºåˆå§‹åŒ–çš„æ—¶å€™ç»‘å®šäº†çœŸæ­£çš„&lt;code&gt;e.target-&amp;gt;nativeEventTarget&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç„¶åReactäº‹ä»¶æºï¼Œç»‘å®šäº†è‡ªå·±çš„é˜»æ­¢é»˜è®¤è¡Œä¸º&lt;code&gt;preventDefault&lt;/code&gt;ï¼Œé˜»æ­¢å†’æ³¡&lt;code&gt;stopPropagation&lt;/code&gt;ç­‰æ–¹æ³•ã€‚ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªé‡ç‚¹æ–¹æ³•å°±&lt;code&gt;destructor&lt;/code&gt;,&lt;strong&gt;è¿™ä¸ªå‡½æ•°ç½®ç©ºäº†Reactè‡ªå·±çš„äº‹ä»¶æºå¯¹è±¡ã€‚é‚£ä¹ˆæˆ‘ä»¬ç»ˆäºæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œæˆ‘ä»¬çš„äº‹ä»¶æºe.targetæ¶ˆå¤±å¤§æ¦‚ç‡å°±æ˜¯å› ä¸ºè¿™ä¸ª&lt;code&gt;destructor&lt;/code&gt;ï¼Œ&lt;code&gt;destructor&lt;/code&gt;åœ¨&lt;code&gt;release&lt;/code&gt;ä¸­è¢«è§¦å‘ï¼Œç„¶åå°†äº‹ä»¶æºæ”¾è¿›äº‹ä»¶æ± ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡å¤ç”¨ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨æ‰€æœ‰çš„çŸ›å¤´éƒ½æŒ‡å‘äº†&lt;code&gt;release&lt;/code&gt;ï¼Œé‚£ä¹ˆ&lt;code&gt;release&lt;/code&gt;æ˜¯ä»€ä¹ˆæ—¶å€™è§¦å‘çš„å‘¢ï¼Ÿ&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;legacy-events/SyntheticEvent.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;executeDispatchesAndRelease&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â event.constructor.release(event);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ React äº‹ä»¶ç³»ç»Ÿæ‰§è¡Œå®Œæ‰€æœ‰çš„ &lt;code&gt;_dispatchListeners&lt;/code&gt;ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³• &lt;code&gt;executeDispatchesAndRelease&lt;/code&gt;é‡Šæ”¾å½“å‰çš„äº‹ä»¶æºã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;çœŸç›¸å¤§ç™½&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›åˆ°å°æ˜é‡åˆ°çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸Šé¢è®²åˆ°ï¼ŒReactæœ€åä¼šåŒæ­¥çš„ç½®ç©ºäº‹ä»¶æºï¼Œç„¶åæ”¾å…¥äº‹ä»¶æ± ï¼Œå› ä¸º&lt;code&gt;setTimeout&lt;/code&gt;æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œæ‰§è¡Œæ—¶å€™äº‹ä»¶æºå¯¹è±¡å·²ç»è¢«é‡ç½®å¹¶é‡Šæ”¾ä¼šäº‹ä»¶æ± ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å° &lt;code&gt;e.target = null&lt;/code&gt;ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œæ¡ˆä»¶çœŸç›¸å¤§ç™½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¿™ä¸ªæ¡ˆä»¶æˆ‘ä»¬æ˜ç™½äº† React äº‹ä»¶æ± çš„ä¸€äº›æ¦‚å¿µï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;React äº‹ä»¶ç³»ç»Ÿæœ‰ç‹¬ç‰¹åˆæˆäº‹ä»¶ï¼Œä¹Ÿæœ‰è‡ªå·±çš„äº‹ä»¶æºï¼Œè€Œä¸”è¿˜æœ‰å¯¹ä¸€äº›ç‰¹æ®Šæƒ…å†µçš„å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚å†’æ³¡é€»è¾‘ç­‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;React ä¸ºäº†é˜²æ­¢æ¯æ¬¡äº‹ä»¶éƒ½åˆ›å»ºäº‹ä»¶æºå¯¹è±¡ï¼Œæµªè´¹æ€§èƒ½ï¼Œæ‰€ä»¥å¼•å…¥äº†&lt;strong&gt;äº‹ä»¶æ± æ¦‚å¿µ&lt;/strong&gt;ï¼Œæ¯ä¸€æ¬¡ç”¨æˆ·äº‹ä»¶éƒ½ä¼šä»äº‹ä»¶æ± ä¸­å–å‡ºä¸€ä¸ªeï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±åˆ›å»ºä¸€ä¸ªï¼Œç„¶åèµ‹å€¼äº‹ä»¶æºï¼Œç­‰åˆ°äº‹ä»¶æ‰§è¡Œä¹‹åï¼Œé‡ç½®äº‹ä»¶æºï¼Œæ”¾å›äº‹ä»¶æ± ï¼Œå€Ÿæ­¤åšåˆ°å¤ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç”¨ä¸€å¹…æµç¨‹å›¾è¡¨ç¤ºï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5853080568720379&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLurF9TtXG1M4yqDiaP61uxNVaMDEKIFYu47bRjNsxcR1JTNa7OQKZNfTg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1688&quot;/&gt;&lt;figcaption&gt;eventloop.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶ä¸‰ï¼šçœŸå‡React&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆå‘ç°åœº&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ˜¯å‘ç”Ÿåœ¨ç¬”è€…èº«ä¸Šçš„äº‹å„¿ï¼Œä¹‹å‰åœ¨å¼€å‘ React é¡¹ç›®æ—¶å€™ï¼Œä¸ºäº†é€»è¾‘å¤ç”¨ï¼Œæˆ‘æŠŠä¸€äº›å°è£…å¥½çš„è‡ªå®šä¹‰ Hooks ä¸Šä¼ åˆ°å…¬å¸ç§æœ‰çš„ package ç®¡ç†å¹³å°ä¸Šï¼Œåœ¨å¼€å‘å¦å¤–ä¸€ä¸ª React é¡¹ç›®çš„æ—¶å€™ï¼ŒæŠŠå…¬å¸çš„åŒ…ä¸‹è½½ä¸‹æ¥ï¼Œåœ¨ç»„ä»¶å†…éƒ¨ç”¨èµ·æ¥ã€‚ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Index&lt;/span&gt;(&lt;span&gt;{classes,Â onSubmit,Â isUpgrade}&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;/*Â useFormQueryChangeÂ æ˜¯ç¬”è€…å†™å¥½çš„è‡ªå®šä¹‰hooksï¼Œå¹¶ä¸Šä¼ åˆ°ç§æœ‰åº“ï¼Œä¸»è¦æ˜¯ç”¨äºå¯¹è¡¨å•æ§ä»¶çš„ç»Ÿä¸€ç®¡ç†Â Â */&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â {setFormItem,Â reset,Â formData}Â =Â useFormQueryChange()&lt;br/&gt;Â Â React.useEffect(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (isUpgrade)Â Â reset()&lt;br/&gt;Â Â },Â [Â isUpgradeÂ ])&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;form&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;{classes.bootstrapRoot}&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;autoComplete&lt;/span&gt;=&lt;span&gt;&#x27;off&#x27;&lt;/span&gt;&lt;br/&gt;Â Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&#x27;btnbox&#x27;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â {Â /*Â è¿™é‡Œæ˜¯ä¸šåŠ¡é€»è¾‘ï¼Œå·²ç»çœç•¥Â */Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;useFormQueryChange&lt;/code&gt; æ˜¯ç¬”è€…å†™å¥½çš„è‡ªå®šä¹‰ &lt;code&gt;hooks&lt;/code&gt; ï¼Œå¹¶ä¸Šä¼ åˆ°ç§æœ‰åº“ï¼Œä¸»è¦æ˜¯ç”¨äºå¯¹è¡¨å•æ§ä»¶çš„ç»Ÿä¸€ç®¡ç†ï¼Œæ²¡æƒ³åˆ°å¼•å…¥å°±ç›´æ¥çˆ†çº¢äº†ã€‚é”™è¯¯å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5975308641975309&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuJ5srj4sgKf3qXYaEtBuoj4YVCESChvpq3anTfvlDCgUXmvkRbb50iaw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;810&quot;/&gt;&lt;figcaption&gt;hooks.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é€ä¸€æ’æŸ¥&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æŒ‰ç…§ React æŠ¥é”™çš„å†…å®¹ï¼Œé€ä¸€æ’æŸ¥é—®é¢˜æ‰€åœ¨ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå¯èƒ½æŠ¥é”™åŸå›  &lt;code&gt;You might have mismatching versions of React and the renderer (such as React DOM)&lt;/code&gt;ï¼Œæ„æ€æ˜¯ &lt;code&gt;React&lt;/code&gt;å’Œ &lt;code&gt;React Dom&lt;/code&gt;ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œé€ æˆè¿™ç§æƒ…å†µï¼Œä½†æ˜¯æˆ‘ä»¬é¡¹ç›®ä¸­çš„ &lt;code&gt;React&lt;/code&gt; å’Œ &lt;code&gt;React Dom&lt;/code&gt; éƒ½æ˜¯ &lt;code&gt;v16.13.1&lt;/code&gt;ï¼Œæ‰€ä»¥æ’é™¤è¿™ä¸ªçš„å«Œç–‘ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç¬¬äºŒä¸ªå¯èƒ½æŠ¥é”™åŸå›  &lt;code&gt;You might be breaking the Rules of Hooks&lt;/code&gt; æ„æ€æ˜¯ä½ æ‰“ç ´äº†Hooks è§„åˆ™ï¼Œè¿™ç§æƒ…å†µä¹Ÿæ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºç¬”è€…ä»£ç é‡Œæ²¡æœ‰ç ´å&lt;code&gt;hoos&lt;/code&gt;è§„åˆ™çš„è¡Œä¸ºã€‚æ‰€ä»¥ä¹Ÿæ’é™¤å«Œç–‘ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç¬¬ä¸‰ä¸ªå¯èƒ½æŠ¥é”™åŸå› &lt;code&gt;You might have more than one copy of React in the same app&lt;/code&gt; æ„æ€æ˜¯åœ¨åŒä¸€ä¸ªåº”ç”¨é‡Œé¢ï¼Œå¯èƒ½æœ‰å¤šä¸ª Reactã€‚ç›®å‰æ¥çœ‹æ‰€æœ‰çš„å«Œç–‘éƒ½æŒ‡å‘ç¬¬ä¸‰ä¸ªï¼Œé¦–å…ˆæˆ‘ä»¬å¼•ç”¨çš„è‡ªå®šä¹‰ hooksï¼Œä¼šä¸ä¼šå†…éƒ¨åˆå­˜åœ¨ä¸€ä¸ªReact å‘¢ï¼Ÿ&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‰ç…§ä¸Šé¢çš„æç¤ºæˆ‘æ’æŸ¥åˆ°è‡ªå®šä¹‰hookså¯¹åº”çš„&lt;code&gt;node_modules&lt;/code&gt;ä¸­æœç„¶å­˜åœ¨å¦å¤–ä¸€ä¸ªReactï¼Œæ˜¯è¿™ä¸ª&lt;code&gt;å‡React&lt;/code&gt;ï¼ˆæˆ‘ä»¬å§‘ä¸”ç§°ä¹‹ä¸ºå‡Reactï¼‰æçš„é¬¼ã€‚æˆ‘ä»¬åœ¨HooksåŸç† æ–‡ç« ä¸­è®²è¿‡ï¼Œ&lt;code&gt;React Hooks&lt;/code&gt;ç”¨&lt;code&gt;ReactCurrentDispatcher.current&lt;/code&gt; åœ¨ç»„ä»¶åˆå§‹åŒ–ï¼Œç»„ä»¶æ›´æ–°é˜¶æ®µèµ‹äºˆä¸åŒçš„hookså¯¹è±¡ï¼Œæ›´æ–°å®Œæ¯•åèµ‹äºˆ&lt;code&gt;ContextOnlyDispatcher&lt;/code&gt;ï¼Œå¦‚æœè°ƒç”¨è¿™ä¸ªå¯¹è±¡ä¸‹é¢çš„hooksï¼Œå°±ä¼šæŠ¥å¦‚ä¸Šé”™è¯¯ï¼Œé‚£ä¹ˆè¯´æ˜äº†&lt;strong&gt;è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡å¼•å…¥çš„Reactæ˜¯é¡¹ç›®æœ¬èº«çš„React,ä½†æ˜¯è‡ªå®šä¹‰Hookså¼•ç”¨çš„æ˜¯å‡React Hooksä¸­çš„&lt;code&gt;ContextOnlyDispatcher&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘çœ‹åˆ°ç»„ä»¶åº“ä¸­çš„&lt;code&gt;package.json&lt;/code&gt;ä¸­,&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&quot;dependencies&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â &lt;span&gt;&quot;react&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^16.13.1&quot;&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;&quot;react-dom&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;^16.13.1&quot;&lt;/span&gt;&lt;br/&gt;},&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸæ¥æ˜¯Reactä½œä¸º &lt;code&gt;dependencies&lt;/code&gt;æ‰€ä»¥åœ¨ä¸‹è½½è‡ªå®šä¹‰&lt;code&gt;Hooks&lt;/code&gt;çš„æ—¶å€™ï¼ŒæŠŠ&lt;code&gt;React&lt;/code&gt;åˆä¸‹è½½äº†ä¸€éã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ã€‚å¯¹äºå°è£…Reactç»„ä»¶åº“ï¼Œhooksåº“ï¼Œä¸èƒ½ç”¨ &lt;code&gt;dependencies&lt;/code&gt;ï¼Œå› ä¸ºå®ƒä¼šä»¥å½“å‰çš„&lt;code&gt;dependencies&lt;/code&gt;ä¸ºä¾èµ–ä¸‹è½½åˆ°è‡ªå®šä¹‰hooksåº“ä¸‹é¢çš„&lt;code&gt;node_modules&lt;/code&gt;ä¸­ã€‚å–è€Œä»£ä¹‹çš„åº”è¯¥ç”¨&lt;code&gt;peerDependencies&lt;/code&gt;ï¼Œä½¿ç”¨&lt;code&gt;peerDependencies&lt;/code&gt;ï¼Œè‡ªå®šä¹‰&lt;code&gt;hooks&lt;/code&gt;å†æ‰¾ç›¸å…³ä¾èµ–å°±ä¼šå»æˆ‘ä»¬çš„é¡¹ç›®çš„&lt;code&gt;node_modules&lt;/code&gt;ä¸­æ‰¾ï¼Œå°±èƒ½æ ¹æœ¬ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬è¿™ä¹ˆæ”¹&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&quot;peerDependencies&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;react&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;&amp;gt;=16.8&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;react-dom&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;&amp;gt;=16.8&quot;&lt;/span&gt;,&lt;br/&gt;},&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°±å®Œç¾çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ‹¨å¼€è¿·é›¾&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé—®é¢˜è®©æˆ‘ä»¬æ˜ç™½äº†å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¯¹äºä¸€äº›hooksåº“ï¼Œç»„ä»¶åº“ï¼Œæœ¬èº«çš„ä¾èµ–ï¼Œå·²ç»åœ¨é¡¹ç›®ä¸­å­˜åœ¨äº†ï¼Œæ‰€ä»¥ç”¨&lt;code&gt;peerDependencies&lt;/code&gt;å£°æ˜ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¯èƒ½ç”¨åˆ°ä¸åŒç‰ˆæœ¬çš„åŒä¸€ä¾èµ–ï¼Œæ¯”å¦‚è¯´é¡¹ç›®å¼•å…¥äº† A ç‰ˆæœ¬çš„ä¾èµ–ï¼Œç»„ä»¶åº“å¼•å…¥äº† B ç‰ˆæœ¬çš„ä¾èµ–ã€‚é‚£ä¹ˆè¿™ç§æƒ…å†µå¦‚ä½•å¤„ç†å‘¢ã€‚åœ¨ &lt;code&gt;package.json&lt;/code&gt; æ–‡æ¡£ä¸­æä¾›äº†ä¸€ä¸ªresolutionsé…ç½®é¡¹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ &lt;code&gt;resolutions&lt;/code&gt; ä¸­é”å®šåŒä¸€çš„å¼•å…¥ç‰ˆæœ¬ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆå¦‚ä¸Šå­˜åœ¨å¤šä¸ªç‰ˆæœ¬çš„é¡¹ç›®ä¾èµ–è€Œå¼•å‘çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡¹ç›®&lt;code&gt;package.json&lt;/code&gt;è¿™ä¹ˆå†™&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;resolutions&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;react&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;16.13.1&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;react-dom&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;16.13.1&quot;&lt;/span&gt;&lt;br/&gt;Â Â },&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·æ— è®ºé¡¹ç›®ä¸­çš„ä¾èµ–ï¼Œè¿˜æ˜¯å…¶ä»–åº“ä¸­ä¾èµ–ï¼Œéƒ½ä¼šä½¿ç”¨ç»Ÿä¸€çš„ç‰ˆæœ¬ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†å¤šä¸ªç‰ˆæœ¬çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶å››ï¼šPureComponet/memoåŠŸèƒ½å¤±æ•ˆé—®é¢˜&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆæƒ…æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ React å¼€å‘çš„æ—¶å€™ï¼Œä½†æˆ‘ä»¬æƒ³è¦ç”¨ &lt;code&gt;PureComponent&lt;/code&gt; åšæ€§èƒ½ä¼˜åŒ–ï¼Œè°ƒèŠ‚ç»„ä»¶æ¸²æŸ“ï¼Œä½†æ˜¯å†™äº†ä¸€æ®µä»£ç ä¹‹åï¼Œå‘ç° &lt;code&gt;PureComponent&lt;/code&gt; åŠŸèƒ½ç«Ÿç„¶å¤±æ•ˆäº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;PureComponent&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â render(){&lt;br/&gt;Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;ç»„ä»¶æ¸²æŸ“&#x27;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â {Â nameÂ ,Â typeÂ }Â =Â &lt;span&gt;this&lt;/span&gt;.props&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â helloÂ ,Â myÂ nameÂ isÂ {Â nameÂ }&lt;br/&gt;Â Â Â Â Â Â Â letÂ usÂ learnÂ {Â typeÂ }&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Home&lt;/span&gt;Â (&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â [Â numberÂ ,Â setNumberÂ Â ]Â =Â React.useState(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â [Â typeÂ ,Â setTypeÂ ]Â =Â React.useState(&lt;span&gt;&#x27;react&#x27;&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â changeNameÂ =Â &lt;span&gt;(&lt;span&gt;name&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â setType(name)&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;{Â numberÂ }&lt;span&gt;&amp;lt;/&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()=&amp;gt;&lt;/span&gt;Â setNumber(numberÂ +Â 1)Â }Â &amp;gt;changeÂ number&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;{type}&lt;/span&gt;Â Â &lt;span&gt;changeType&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â &lt;span&gt;changeName&lt;/span&gt;Â }Â &lt;span&gt;name&lt;/span&gt;=&lt;span&gt;&quot;alien&quot;&lt;/span&gt;Â Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æœ¬æ¥æœŸæœ›ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å¯¹äº Index ç»„ä»¶ï¼Œåªæœ‰&lt;code&gt;props&lt;/code&gt;ä¸­ &lt;code&gt;name&lt;/code&gt;å’Œ&lt;code&gt;type&lt;/code&gt;æ”¹å˜ï¼Œæ‰ä¿ƒä½¿ç»„ä»¶æ¸²æŸ“ã€‚ä½†æ˜¯å®é™…æƒ…å†µå´æ˜¯è¿™æ ·ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç‚¹å‡»æŒ‰é’®æ•ˆæœï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3838748495788207&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLukRKEJGfNckibmyPwjw2IiacjztZrP6IVDtplD1jnKKAUR0u3TalsG5hQ/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1662&quot;/&gt;&lt;figcaption&gt;purecomponent.gif&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ°´è½çŸ³å‡º&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿæˆ‘ä»¬å†æ’æŸ¥ä¸€ä¸‹&lt;code&gt;Index&lt;/code&gt;ç»„ä»¶ï¼Œå‘ç° &lt;code&gt;Index&lt;/code&gt; ç»„ä»¶ä¸Šæœ‰ä¸€ä¸ª &lt;code&gt;changeType&lt;/code&gt;ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯è¿™ä¸ªçš„åŸå› å‘¢ï¼Ÿæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼Œé¦–å…ˆçŠ¶æ€æ›´æ–°æ˜¯åœ¨çˆ¶ç»„ä»¶ &lt;code&gt;Home&lt;/code&gt;ä¸Šï¼Œ&lt;code&gt;Home&lt;/code&gt;ç»„ä»¶æ›´æ–°æ¯æ¬¡ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„&lt;code&gt;changeName&lt;/code&gt;ï¼Œæ‰€ä»¥&lt;code&gt;Index&lt;/code&gt;çš„&lt;code&gt;PureComponent&lt;/code&gt;æ¯æ¬¡ä¼š&lt;strong&gt;æµ…æ¯”è¾ƒ&lt;/strong&gt;ï¼Œå‘ç°&lt;code&gt;props&lt;/code&gt;ä¸­çš„&lt;code&gt;changeName&lt;/code&gt;æ¯æ¬¡éƒ½ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥å°±æ›´æ–°äº†ï¼Œç»™æˆ‘ä»¬ç›´è§‚çš„æ„Ÿè§‰æ˜¯å¤±æ•ˆäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ&lt;code&gt;React hooks&lt;/code&gt; ä¸­æä¾›äº† &lt;code&gt;useCallback&lt;/code&gt;ï¼Œå¯ä»¥å¯¹&lt;code&gt;props&lt;/code&gt;ä¼ å…¥çš„å›è°ƒå‡½æ•°è¿›è¡Œç¼“å­˜ï¼Œæˆ‘ä»¬æ¥æ”¹ä¸€ä¸‹&lt;code&gt;Home&lt;/code&gt;ä»£ç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â changeNameÂ =Â React.useCallback(&lt;span&gt;(&lt;span&gt;name&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â setType(name)&lt;br/&gt;},[])&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•ˆæœï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3838748495788207&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLu06eA618znceOibrTvv59FSibgnOB95q0CumsmicESexL6anicy7NTIiczmg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1662&quot;/&gt;&lt;figcaption&gt;pureComponent1.gif&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·å°±æ ¹æœ¬è§£å†³äº†é—®é¢˜ï¼Œç”¨ &lt;code&gt;useCallback&lt;/code&gt;å¯¹&lt;code&gt;changeName&lt;/code&gt;å‡½æ•°è¿›è¡Œç¼“å­˜ï¼Œåœ¨æ¯ä¸€æ¬¡ &lt;code&gt;Home&lt;/code&gt; ç»„ä»¶æ‰§è¡Œï¼Œåªè¦&lt;code&gt;useCallback&lt;/code&gt;ä¸­&lt;code&gt;deps&lt;/code&gt;æ²¡æœ‰å˜ï¼Œ&lt;code&gt;changeName&lt;/code&gt;å†…å­˜ç©ºé—´è¿˜æŒ‡å‘åŸæ¥çš„å‡½æ•°ï¼Œè¿™æ ·&lt;code&gt;PureComponent&lt;/code&gt;æµ…æ¯”è¾ƒå°±ä¼šå‘ç°æ˜¯ç›¸åŒ&lt;code&gt;changeName&lt;/code&gt;ï¼Œä»è€Œä¸æ¸²æŸ“ç»„ä»¶ï¼Œè‡³æ­¤æ¡ˆä»¶å·²ç ´ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç»§ç»­æ·±å…¥&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶ç”¨å‡½æ•°ç»„ä»¶+ç±»ç»„ä»¶å¼€å‘çš„æ—¶å€™ï¼Œå¦‚æœç”¨åˆ°&lt;code&gt;React.memo React.PureComponent&lt;/code&gt;ç­‰apiï¼Œè¦æ³¨æ„ç»™è¿™äº›ç»„ä»¶ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼Œå¦‚æœæ˜¯å‡½æ•°ç»„ä»¶ï¼Œé‚£ä¹ˆæƒ³è¦æŒç»­ä¿æŒ&lt;strong&gt;çº¯ç»„ä»¶çš„æ¸²æŸ“æ§åˆ¶çš„ç‰¹æ€§&lt;/strong&gt;çš„è¯ï¼Œé‚£ä¹ˆè¯·ç”¨ &lt;code&gt;useCallback&lt;/code&gt;,&lt;code&gt;useMemo&lt;/code&gt;ç­‰apiå¤„ç†ï¼Œå¦‚æœæ˜¯ç±»ç»„ä»¶ï¼Œè¯·ä¸è¦ç”¨ç®­å¤´å‡½æ•°ç»‘å®šäº‹ä»¶ï¼Œç®­å¤´å‡½æ•°åŒæ ·ä¼šé€ æˆå¤±æ•ˆçš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šè¿°ä¸­æåˆ°äº†ä¸€ä¸ªæµ…æ¯”è¾ƒ&lt;code&gt;shallowEqual&lt;/code&gt;ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹åˆ†æä¸€ä¸‹ &lt;code&gt;PureComponent&lt;/code&gt;æ˜¯å¦‚ä½•&lt;code&gt;shallowEqual&lt;/code&gt;ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åœ¨æ·±å…¥ç ”ç©¶ä¸€ä¸‹&lt;code&gt;shallowEqual&lt;/code&gt;çš„å¥¥ç§˜ã€‚é‚£ä¹ˆå°±æœ‰ä»ç±»ç§Ÿä»·çš„æ›´æ–°å¼€å§‹ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-reconciler/src/ReactFiberClassComponent.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;updateClassInstance&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â shouldUpdateÂ =&lt;br/&gt;Â Â Â Â checkHasForceUpdateAfterProcessing()Â ||&lt;br/&gt;Â Â Â Â checkShouldComponentUpdate(&lt;br/&gt;Â Â Â Â Â Â workInProgress,&lt;br/&gt;Â Â Â Â Â Â ctor,&lt;br/&gt;Â Â Â Â Â Â oldProps,&lt;br/&gt;Â Â Â Â Â Â newProps,&lt;br/&gt;Â Â Â Â Â Â oldState,&lt;br/&gt;Â Â Â Â Â Â newState,&lt;br/&gt;Â Â Â Â Â Â nextContext,&lt;br/&gt;Â Â Â Â );&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â shouldUpdate&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘è¿™é‡Œç®€åŒ–&lt;code&gt;updateClassInstance&lt;/code&gt;ï¼Œåªä¿ç•™äº†æ¶‰åŠåˆ°&lt;code&gt;PureComponent&lt;/code&gt;çš„éƒ¨åˆ†ã€‚&lt;code&gt;updateClassInstance&lt;/code&gt;è¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯ç”¨æ¥ï¼Œæ‰§è¡Œç”Ÿå‘½å‘¨æœŸï¼Œæ›´æ–°stateï¼Œåˆ¤æ–­ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼Œè¿”å›çš„ &lt;code&gt;shouldUpdate&lt;/code&gt;ç”¨æ¥å†³å®šå½“å‰ç±»ç»„ä»¶æ˜¯å¦æ¸²æŸ“ã€‚&lt;code&gt;checkHasForceUpdateAfterProcessing&lt;/code&gt;æ£€æŸ¥æ›´æ–°æ¥æºæ˜¯å¦æ¥æºä¸ forceUpdate ï¼Œ å¦‚æœæ˜¯&lt;code&gt;forceUpdate&lt;/code&gt;ç»„ä»¶æ˜¯ä¸€å®šä¼šæ›´æ–°çš„ï¼Œ&lt;code&gt;checkShouldComponentUpdate&lt;/code&gt;æ£€æŸ¥ç»„ä»¶æ˜¯å¦æ¸²æŸ“ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„é€»è¾‘ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;checkShouldComponentUpdate&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;/*Â è¿™é‡Œä¼šæ‰§è¡Œç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸÂ shouldComponentUpdateÂ */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â shouldUpdateÂ =Â instance.shouldComponentUpdate(&lt;br/&gt;Â Â Â Â Â Â newProps,&lt;br/&gt;Â Â Â Â Â Â newState,&lt;br/&gt;Â Â Â Â Â Â nextContext,&lt;br/&gt;Â Â Â Â );&lt;br/&gt;Â Â Â Â &lt;span&gt;/*Â è¿™é‡Œåˆ¤æ–­ç»„ä»¶æ˜¯å¦æ˜¯Â PureComponentÂ çº¯ç»„ä»¶ï¼Œå¦‚æœæ˜¯çº¯ç»„ä»¶é‚£ä¹ˆä¼šè°ƒç”¨Â shallowEqualÂ æµ…æ¯”è¾ƒÂ Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (ctor.prototypeÂ &amp;amp;&amp;amp;Â ctor.prototype.isPureReactComponent)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â Â Â !shallowEqual(oldProps,Â newProps)Â ||Â !shallowEqual(oldState,Â newState)&lt;br/&gt;Â Â Â Â Â Â Â Â );&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;checkShouldComponentUpdate&lt;/code&gt;æœ‰ä¸¤ä¸ªè‡³å…³é‡è¦çš„ä½œç”¨ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ç¬¬ä¸€ä¸ªå°±æ˜¯å¦‚æœç±»ç»„ä»¶æœ‰ç”Ÿå‘½å‘¨æœŸ&lt;code&gt;shouldComponentUpdate&lt;/code&gt;ï¼Œä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸ&lt;code&gt;shouldComponentUpdate&lt;/code&gt;ï¼Œåˆ¤æ–­ç»„ä»¶æ˜¯å¦æ¸²æŸ“ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœå‘ç°æ˜¯çº¯ç»„ä»¶&lt;code&gt;PureComponent&lt;/code&gt;ï¼Œä¼šæµ…æ¯”è¾ƒæ–°è€&lt;code&gt;props&lt;/code&gt;å’Œ&lt;code&gt;state&lt;/code&gt;æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™ä¸æ›´æ–°ç»„ä»¶ã€‚&lt;code&gt;isPureReactComponent&lt;/code&gt;å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨&lt;code&gt;PureComponent&lt;/code&gt;çš„æ ‡è¯†ï¼Œè¯æ˜æ˜¯çº¯ç»„ä»¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥å°±æ˜¯é‡ç‚¹&lt;code&gt;shallowEqual&lt;/code&gt;ï¼Œä»¥&lt;code&gt;props&lt;/code&gt;ä¸ºä¾‹å­ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;shared/shallowEqual&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;shallowEqual&lt;/span&gt;(&lt;span&gt;objA:Â mixed,Â objB:Â mixed&lt;/span&gt;):Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (is(objA,Â objB))Â {Â &lt;span&gt;//Â iså¯ä»¥Â ç†è§£æˆÂ Â objAÂ ===Â objBÂ é‚£ä¹ˆè¿”å›ç›¸ç­‰&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â &lt;span&gt;typeof&lt;/span&gt;Â objAÂ !==Â &lt;span&gt;&#x27;object&#x27;&lt;/span&gt;Â ||&lt;br/&gt;Â Â Â Â objAÂ ===Â &lt;span&gt;null&lt;/span&gt;Â ||&lt;br/&gt;Â Â Â Â &lt;span&gt;typeof&lt;/span&gt;Â objBÂ !==Â &lt;span&gt;&#x27;object&#x27;&lt;/span&gt;Â ||&lt;br/&gt;Â Â Â Â objBÂ ===Â &lt;span&gt;null&lt;/span&gt;&lt;br/&gt;Â Â )Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;Â Â &lt;br/&gt;Â Â }Â &lt;span&gt;//Â å¦‚æœæ–°è€propsæœ‰ä¸€ä¸ªä¸ä¸ºå¯¹è±¡ï¼Œæˆ–è€…ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›false&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â keysAÂ =Â &lt;span&gt;Object&lt;/span&gt;.keys(objA);Â &lt;span&gt;//Â è€propsÂ /Â è€stateÂ keyç»„æˆçš„æ•°ç»„&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â keysBÂ =Â &lt;span&gt;Object&lt;/span&gt;.keys(objB);Â &lt;span&gt;//Â æ–°propsÂ /Â æ–°stateÂ keyç»„æˆçš„æ•°ç»„&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (keysA.lengthÂ !==Â keysB.length)Â {Â &lt;span&gt;//Â è¯´æ˜propså¢åŠ æˆ–è€…å‡å°‘ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ä¸æƒ³ç­‰&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;let&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â keysA.length;Â i++)Â {Â &lt;span&gt;//Â éå†è€çš„props ,å‘ç°æ–°çš„propsæ²¡æœ‰ï¼Œæˆ–è€…æ–°è€propsä¸åŒç­‰,é‚£ä¹ˆè¿”å›ä¸æ›´æ–°ç»„ä»¶ã€‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;br/&gt;Â Â Â Â Â Â !hasOwnProperty.call(objB,Â keysA[i])Â ||&lt;br/&gt;Â Â Â Â Â Â !is(objA[keysA[i]],Â objB[keysA[i]])&lt;br/&gt;Â Â Â Â )Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;Â &lt;span&gt;//é»˜è®¤è¿”å›ç›¸ç­‰&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;shallowEqual&lt;/code&gt;æµç¨‹æ˜¯è¿™æ ·çš„ï¼Œ&lt;code&gt;shallowEqual&lt;/code&gt; è¿”å› &lt;code&gt;true&lt;/code&gt; åˆ™è¯æ˜ç›¸ç­‰ï¼Œé‚£ä¹ˆä¸æ›´æ–°ç»„ä»¶ï¼›å¦‚æœè¿”å›&lt;code&gt;false&lt;/code&gt; è¯æ˜ä¸æƒ³ç­‰ï¼Œé‚£ä¹ˆæ›´æ–°ç»„ä»¶ã€‚&lt;code&gt;is&lt;/code&gt; æˆ‘ä»¬æš‚ä¸”å¯ä»¥ç†è§£æˆ ===&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ç¬¬ä¸€æ­¥ï¼Œç›´æ¥é€šè¿‡ === åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œé‚£ä¹ˆè¿”å›&lt;code&gt;true&lt;/code&gt;ã€‚æ­£å¸¸æƒ…å†µåªè¦è°ƒç”¨ &lt;code&gt;React.createElement&lt;/code&gt; ä¼šé‡æ–°åˆ›å»º&lt;code&gt;props&lt;/code&gt;ï¼Œ&lt;code&gt;props&lt;/code&gt;éƒ½æ˜¯ä¸ç›¸ç­‰çš„ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¬¬äºŒæ­¥ï¼Œå¦‚æœæ–°è€&lt;code&gt;props&lt;/code&gt;æœ‰ä¸€ä¸ªä¸ä¸ºå¯¹è±¡ï¼Œæˆ–è€…ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›&lt;code&gt;false&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¬¬ä¸‰æ­¥ï¼Œåˆ¤æ–­æ–°è€&lt;code&gt;props&lt;/code&gt;ï¼Œ&lt;code&gt;key&lt;/code&gt;ç»„æˆçš„æ•°ç»„æ•°é‡ç­‰ä¸æƒ³ç­‰ï¼Œè¯´æ˜&lt;code&gt;props&lt;/code&gt;æœ‰å¢åŠ æˆ–è€…å‡å°‘ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›&lt;code&gt;false&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¬¬å››æ­¥ï¼Œéå†è€çš„&lt;code&gt;props&lt;/code&gt; ,å‘ç°æ–°çš„&lt;code&gt;props&lt;/code&gt;æ²¡æœ‰ä¸ä¹‹å¯¹åº”ï¼Œæˆ–è€…æ–°è€&lt;code&gt;props&lt;/code&gt;ä¸åŒç­‰,é‚£ä¹ˆè¿”å›&lt;code&gt;false&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é»˜è®¤è¿”å›&lt;code&gt;true&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å°±æ˜¯&lt;code&gt;shallowEqual&lt;/code&gt;é€»è¾‘ï¼Œä»£ç è¿˜æ˜¯éå¸¸ç®€å•çš„ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ä¸€çœ‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶äº”: useStateæ›´æ–°ç›¸åŒçš„State,å‡½æ•°ç»„ä»¶æ‰§è¡Œ2æ¬¡&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¥åˆ°æŠ¥æ¡ˆ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé—®é¢˜å®é™…å¾ˆæ‚¬ï¼Œå¤§å®¶å¯èƒ½å¹³æ—¶æ²¡æœ‰æ³¨æ„åˆ°ï¼Œå¼•èµ·æˆ‘çš„æ³¨æ„çš„æ˜¯æ˜é‡‘çš„ä¸€ä¸ªæ˜å‹é—®æˆ‘çš„ä¸€ä¸ªé—®é¢˜ï¼Œé—®é¢˜å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6960950764006791&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuOicuia9pLJvmFra68ticgVZyosT2ueYWydicm89muTdWX0kRwcvCbqBBPQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1178&quot;/&gt;é¦–å…ˆéå¸¸æ„Ÿè°¢è¿™ä½ç»†å¿ƒçš„æ˜å‹çš„æŠ¥æ¡ˆï¼Œæˆ‘åœ¨ React-hooks åŸç† ä¸­è®²åˆ°è¿‡ï¼Œå¯¹äºæ›´æ–°ç»„ä»¶çš„æ–¹æ³•å‡½æ•°ç»„ä»¶ &lt;code&gt;useState&lt;/code&gt; å’Œç±»ç»„ä»¶çš„&lt;code&gt;setState&lt;/code&gt;æœ‰ä¸€å®šåŒºåˆ«ï¼Œ&lt;code&gt;useState&lt;/code&gt;æºç ä¸­å¦‚æœé‡åˆ°ä¸¤æ¬¡ç›¸åŒçš„&lt;code&gt;state&lt;/code&gt;ï¼Œä¼šé»˜è®¤é˜»æ­¢ç»„ä»¶å†æ›´æ–°ï¼Œä½†æ˜¯ç±»ç»„ä»¶ä¸­&lt;code&gt;setState&lt;/code&gt;å¦‚æœæ²¡æœ‰è®¾ç½® &lt;code&gt;PureComponent&lt;/code&gt;ï¼Œä¸¤æ¬¡ç›¸åŒçš„&lt;code&gt;state&lt;/code&gt; ä¹Ÿä¼šæ›´æ–°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ &lt;code&gt;hooks&lt;/code&gt; ä¸­æ˜¯æ€ä¹ˆæ ·é˜»æ­¢ç»„ä»¶æ›´æ–°çš„ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-reconciler/src/ReactFiberHooks.js -&amp;gt; dispatchAction&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;if&lt;/span&gt;Â (is(eagerState,Â currentState))Â {Â &lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;scheduleUpdateOnFiber(fiber,Â expirationTime);Â &lt;span&gt;//Â è°ƒåº¦æ›´æ–°&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåˆ¤æ–­ä¸Šä¸€æ¬¡çš„&lt;code&gt;state&lt;/code&gt; -&amp;gt; &lt;code&gt;currentState&lt;/code&gt; ï¼Œå’Œè¿™ä¸€æ¬¡çš„&lt;code&gt;state&lt;/code&gt; -&amp;gt; &lt;code&gt;eagerState&lt;/code&gt; ç›¸ç­‰ï¼Œé‚£ä¹ˆå°†ç›´æ¥ &lt;code&gt;return&lt;/code&gt;é˜»æ­¢ç»„ä»¶è¿›è¡Œ&lt;code&gt;scheduleUpdate&lt;/code&gt;è°ƒåº¦æ›´æ–°ã€‚&lt;strong&gt;æ‰€ä»¥æˆ‘ä»¬æƒ³å¦‚æœä¸¤æ¬¡ &lt;code&gt;useState&lt;/code&gt;è§¦å‘åŒæ ·çš„stateï¼Œé‚£ä¹ˆç»„ä»¶åªèƒ½æ›´æ–°ä¸€æ¬¡æ‰å¯¹ï¼Œä½†æ˜¯äº‹å®çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿã€‚&lt;/strong&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç«‹æ¡ˆè°ƒæŸ¥&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡ºç€è¿™ä½æ˜å‹æä¾›çš„çº¿ç´¢ï¼Œæˆ‘ä»¬å¼€å§‹å†™ &lt;code&gt;demo&lt;/code&gt;è¿›è¡ŒéªŒè¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â IndexÂ =Â &lt;span&gt;&lt;span&gt;()&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â [Â numberÂ ,Â setNumberÂ Â ]Â =Â useState(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;&#x27;ç»„ä»¶æ¸²æŸ“&#x27;&lt;/span&gt;,number)&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;page&quot;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;content&quot;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;{Â numberÂ }&lt;span&gt;&amp;lt;/&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()Â =&amp;gt;&lt;/span&gt;Â setNumber(1)Â }Â &amp;gt;å°†numberè®¾ç½®æˆ1&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()Â =&amp;gt;&lt;/span&gt;Â setNumber(2)Â }Â &amp;gt;å°†numberè®¾ç½®æˆ2&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()Â =&amp;gt;&lt;/span&gt;Â setNumber(3)Â }Â &amp;gt;å°†numberè®¾ç½®æˆ3&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Home&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â render(){&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;Index&lt;/span&gt;Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šdemoï¼Œä¸‰ä¸ªæŒ‰é’®ï¼Œæˆ‘ä»¬æœŸæœ›è¿ç»­ç‚¹å‡»æ¯ä¸€ä¸ªæŒ‰é’®ï¼Œç»„ä»¶éƒ½ä¼šä»…æ­¤æ¸²æŸ“ä¸€æ¬¡ï¼Œäºæ˜¯æˆ‘ä»¬å¼€å§‹å®éªŒï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•ˆæœï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3535714285714286&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuMgn6OYOibIADwG0iaeaC1riaianubllIvQGS7WxPj3gy9nr6K5V84s3eaA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1120&quot;/&gt;&lt;figcaption&gt;demo1.gif&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœç„¶ï¼Œæˆ‘ä»¬é€šè¿‡ &lt;code&gt;setNumber&lt;/code&gt; æ”¹å˜ &lt;code&gt;number&lt;/code&gt;ï¼Œæ¯æ¬¡è¿ç»­ç‚¹å‡»æŒ‰é’®ï¼Œç»„ä»¶éƒ½ä¼šæ›´æ–°2æ¬¡ï¼ŒæŒ‰ç…§æˆ‘ä»¬æ­£å¸¸çš„ç†è§£ï¼Œæ¯æ¬¡èµ‹äºˆ &lt;code&gt;number&lt;/code&gt; ç›¸åŒçš„å€¼ï¼Œåªä¼šæ¸²æŸ“ä¸€æ¬¡æ‰å¯¹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæ‰§è¡Œäº†2æ¬¡å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯èƒ½åˆšå¼€å§‹ä¼šé™·å…¥å›°å¢ƒï¼Œä¸çŸ¥é“æ€ä¹ˆç ´æ¡ˆï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æƒ³ &lt;code&gt;hooks&lt;/code&gt;åŸç†ä¸­è®²è¿‡ï¼Œæ¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ç”¨å¯¹åº”çš„å‡½æ•°ç»„ä»¶çš„ &lt;code&gt;fiber&lt;/code&gt; å¯¹è±¡å»ä¿å­˜ &lt;code&gt;hooks&lt;/code&gt; ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬åªèƒ½ä» &lt;code&gt;fiber&lt;/code&gt;æ‰¾åˆ°çº¿ç´¢ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é¡ºè—¤æ‘¸ç“œ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°å‡½æ•°ç»„ä»¶å¯¹åº”çš„fiberå¯¹è±¡å‘¢ï¼Œè¿™å°±é¡ºç€å‡½æ•°ç»„ä»¶çš„çˆ¶çº§ &lt;code&gt;Home&lt;/code&gt; å…¥æ‰‹äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ä»ç±»ç»„ä»¶&lt;code&gt;Home&lt;/code&gt;ä¸­æ‰¾åˆ°å¯¹åº”çš„fiberå¯¹è±¡ï¼Œç„¶åæ ¹æ® &lt;code&gt;child&lt;/code&gt; æŒ‡é’ˆæ‰¾åˆ°å‡½æ•°ç»„ä»¶ &lt;code&gt;Index&lt;/code&gt;å¯¹åº”çš„ &lt;code&gt;fiber&lt;/code&gt;ã€‚è¯´å¹²å°±å¹²ï¼Œæˆ‘ä»¬å°†ä¸Šè¿°ä»£ç æ”¹é€ æˆå¦‚ä¸‹çš„æ ·å­ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â IndexÂ =Â &lt;span&gt;(&lt;span&gt;{Â consoleFiberÂ }&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â &lt;span&gt;const&lt;/span&gt;Â [Â numberÂ ,Â setNumberÂ Â ]Â =Â useState(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;Â Â useEffect(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;=&amp;gt;&lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(number)&lt;br/&gt;Â Â Â Â Â Â consoleFiber()Â &lt;span&gt;//Â æ¯æ¬¡fiberæ›´æ–°åï¼Œæ‰“å°Â fiberÂ æ£€æµ‹Â fiberå˜åŒ–&lt;/span&gt;&lt;br/&gt;Â Â })&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;page&quot;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&quot;content&quot;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;{Â numberÂ }&lt;span&gt;&amp;lt;/&lt;span&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()Â =&amp;gt;&lt;/span&gt;Â setNumber(1)Â }Â &amp;gt;å°†numberè®¾ç½®æˆ1&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Home&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;React&lt;/span&gt;.&lt;span&gt;Component&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â consoleChildrenFiber(){&lt;br/&gt;Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(&lt;span&gt;this&lt;/span&gt;._reactInternalFiber.child)Â &lt;span&gt;/*Â ç”¨æ¥æ‰“å°å‡½æ•°ç»„ä»¶Â IndexÂ å¯¹åº”çš„fiberÂ */&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â render(){&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&amp;lt;&lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;consoleFiber&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â &lt;span&gt;this.consoleChildrenFiber.bind&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt;)Â }Â Â /&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘ä»¬é‡ç‚¹å…³å¿ƒfiberä¸Šè¿™å‡ ä¸ªå±æ€§ï¼Œè¿™å¯¹ç ´æ¡ˆå¾ˆæœ‰å¸®åŠ©&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index fiber&lt;/code&gt;ä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt; å±æ€§ï¼Œ&lt;code&gt;react hooks&lt;/code&gt; åŸç†æ–‡ç« ä¸­è®²è¿‡ï¼Œå‡½æ•°ç»„ä»¶ç”¨ &lt;code&gt;memoizedState&lt;/code&gt; ä¿å­˜æ‰€æœ‰çš„ &lt;code&gt;hooks&lt;/code&gt; ä¿¡æ¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index fiber&lt;/code&gt;ä¸Šçš„ &lt;code&gt;alternate&lt;/code&gt; å±æ€§&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index fiber&lt;/code&gt;ä¸Šçš„ &lt;code&gt;alternate&lt;/code&gt; å±æ€§ä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt;å±æ€§ã€‚æ˜¯ä¸æ˜¯å¾ˆç»•ğŸ˜‚ï¼Œé©¬ä¸Šä¼šæ­æ™“æ˜¯ä»€ä¹ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index&lt;/code&gt;ç»„ä»¶ä¸Šçš„ &lt;code&gt;useState&lt;/code&gt;ä¸­çš„&lt;code&gt;number&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæˆ‘ä»¬è®²ä¸€ä¸‹ &lt;code&gt;alternate&lt;/code&gt; æŒ‡é’ˆæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´åˆ°&lt;code&gt;alternate&lt;/code&gt; å°±è¦ä»&lt;code&gt;fiber&lt;/code&gt;æ¶æ„è®¾è®¡è¯´èµ·ï¼Œæ¯ä¸ª&lt;code&gt;React&lt;/code&gt;å…ƒç´ èŠ‚ç‚¹ï¼Œç”¨ä¸¤é¢—fiberæ ‘ä¿å­˜çŠ¶æ€ï¼Œä¸€é¢—æ ‘ä¿å­˜å½“å‰çŠ¶æ€ï¼Œä¸€ä¸ªæ ‘ä¿å­˜ä¸Šä¸€æ¬¡çš„çŠ¶æ€ï¼Œä¸¤æ£µ &lt;code&gt;fiber&lt;/code&gt; æ ‘ç”¨ &lt;code&gt;alternate&lt;/code&gt; ç›¸äº’æŒ‡å‘ã€‚å°±æ˜¯æˆ‘ä»¬è€³ç†Ÿèƒ½è¯¦çš„&lt;strong&gt;åŒç¼“å†²&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åˆå§‹åŒ–æ‰“å°&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•ˆæœå›¾ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.914438502673797&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuwCyPnfYnff1q0TYPVScKtUzj0D6Rgqu5zfRTb4OicSyR6GTIJPFnTPw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;748&quot;/&gt;&lt;figcaption&gt;fiber1.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åˆå§‹åŒ–å®Œæˆç¬¬ä¸€æ¬¡renderåï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹fiberæ ‘ä¸Šçš„è¿™å‡ ä¸ªçŠ¶æ€&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€æ¬¡æ‰“å°ç»“æœå¦‚ä¸‹ï¼Œ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;fiber&lt;/code&gt;ä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt; ä¸­ &lt;strong&gt;&lt;code&gt;baseState = 0&lt;/code&gt;&lt;/strong&gt; å³æ˜¯åˆå§‹åŒ– &lt;code&gt;useState&lt;/code&gt; çš„å€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;fiber&lt;/code&gt;ä¸Šçš„ &lt;code&gt;alternate&lt;/code&gt; ä¸º &lt;code&gt;null&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index&lt;/code&gt;ç»„ä»¶ä¸Šçš„ &lt;code&gt;number&lt;/code&gt; ä¸º 0ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆå§‹åŒ–æµç¨‹ï¼šé¦–å…ˆå¯¹äºç»„ä»¶ç¬¬ä¸€æ¬¡åˆå§‹åŒ–ï¼Œä¼šè°ƒå’Œæ¸²æŸ“å½¢æˆä¸€ä¸ªfiberæ ‘ï¼ˆæˆ‘ä»¬&lt;strong&gt;ç®€ç§°ä¸ºæ ‘A&lt;/strong&gt;ï¼‰ã€‚æ ‘Açš„&lt;code&gt;alternate&lt;/code&gt;å±æ€§ä¸º &lt;code&gt;null&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ä¸€æ¬¡ç‚¹å‡» setNumber(1)&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘ä»¬ç¬¬ä¸€æ¬¡ç‚¹å‡»å‘ç°ç»„ä»¶æ¸²æŸ“äº†ï¼Œç„¶åæˆ‘ä»¬æ‰“å°ç»“æœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.6129807692307692&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuvqSVY78asGLUniaWskmNVLDal1xb13Js9Ixmm0DJjuLZ6ejj5agLbrw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;832&quot;/&gt;&lt;figcaption&gt;fiber2.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ ‘Aä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt; ä¸­ **&lt;code&gt;baseState = 0&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ ‘Aä¸Šçš„ &lt;code&gt;alternate&lt;/code&gt; æŒ‡å‘ å¦å¤–ä¸€ä¸ª&lt;code&gt;fiber&lt;/code&gt;(æˆ‘ä»¬è¿™é‡Œç§°ä¹‹ä¸ºæ ‘B)ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Index&lt;/code&gt;ç»„ä»¶ä¸Šçš„ &lt;code&gt;number&lt;/code&gt; ä¸º 1ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬æ‰“å°æ ‘Bä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.7283653846153846&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLu7D17fdJqullwDv5FS634xdicVB020ogDkwHKKSicnuT4y1aws46keB3A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;832&quot;/&gt;&lt;figcaption&gt;fiber3.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“æœæˆ‘ä»¬å‘ç°æ ‘Bä¸Š &lt;code&gt;memoizedState&lt;/code&gt;ä¸Šçš„ &lt;code&gt;baseState = 1&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾—å‡ºç»“è®ºï¼šæ›´æ–°çš„çŠ¶æ€éƒ½åœ¨æ ‘Bä¸Šï¼Œè€Œæ ‘Aä¸Šçš„ baseStateè¿˜æ˜¯ä¹‹å‰çš„0ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¤§èƒ†çŒœæµ‹ä¸€ä¸‹æ›´æ–°æµç¨‹ï¼šåœ¨ç¬¬ä¸€æ¬¡æ›´æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œç”±äºæ ‘Aä¸­ï¼Œä¸å­˜åœ¨&lt;code&gt;alternate&lt;/code&gt;ï¼Œæ‰€ä»¥ç›´æ¥å¤åˆ¶ä¸€ä»½æ ‘Aä½œä¸º &lt;code&gt;workInProgress&lt;/code&gt;ï¼ˆæˆ‘ä»¬è¿™é‡Œç§°ä¹‹ä¸º&lt;strong&gt;æ ‘B&lt;/strong&gt;ï¼‰æ‰€æœ‰çš„æ›´æ–°éƒ½åœ¨å½“å‰æ ‘Bä¸­è¿›è¡Œï¼Œæ‰€ä»¥ baseState ä¼šè¢«æ›´æ–°æˆ 1,ç„¶åç”¨å½“å‰çš„&lt;strong&gt;æ ‘B&lt;/strong&gt;è¿›è¡Œæ¸²æŸ“ã€‚ç»“æŸåæ ‘Aå’Œæ ‘Bé€šè¿‡&lt;code&gt;alternate&lt;/code&gt;ç›¸äº’æŒ‡å‘ã€‚æ ‘Bä½œä¸ºä¸‹ä¸€æ¬¡æ“ä½œçš„&lt;code&gt;current&lt;/code&gt;æ ‘ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬äºŒæ¬¡ç‚¹å‡» setNumber(1)&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¬¬äºŒæ¬¡æ‰“å°ï¼Œç»„ä»¶åŒæ ·æ¸²æŸ“äº†ï¼Œç„¶åæˆ‘ä»¬æ‰“å°fiberå¯¹è±¡ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.5049261083743843&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuwG4lSg2DXrKzFNOKvjy5MguekxjwU5kMzcepyFCzvvK8VndOic2jujw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;812&quot;/&gt;&lt;figcaption&gt;fiber4.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;fiberå¯¹è±¡ä¸Šçš„ &lt;code&gt;memoizedState&lt;/code&gt; ä¸­ &lt;code&gt;baseState&lt;/code&gt;æ›´æ–°æˆäº† 1ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæˆ‘ä»¬æ‰“å°ä¸€ä¸‹ &lt;code&gt;alternate&lt;/code&gt; ä¸­ &lt;code&gt;baseState&lt;/code&gt;ä¹Ÿæ›´æ–°æˆäº† 1ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.484240687679083&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLu2ysUaQPSGCGicVFfFFDxLUIxIZ8KMNTQ6fjk3GlUyUTDOL8YMePvLJg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;698&quot;/&gt;&lt;figcaption&gt;fiber5.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬äºŒæ¬¡ç‚¹å‡»ä¹‹å ï¼Œæ ‘Aå’Œæ ‘Béƒ½æ›´æ–°åˆ°æœ€æ–°çš„ baseState = 1&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆæˆ‘ä»¬åˆ†æä¸€ä¸‹æµç¨‹ï¼šå½“æˆ‘ä»¬ç¬¬äºŒæ¬¡ç‚¹å‡»æ—¶å€™ï¼Œæ˜¯é€šè¿‡ä¸Šä¸€æ¬¡æ ‘Aä¸­çš„ &lt;code&gt;baseState = 0&lt;/code&gt; å’Œ &lt;code&gt;setNumber(1)&lt;/code&gt; ä¼ å…¥çš„ 1åšçš„æ¯”è¾ƒã€‚æ‰€ä»¥å‘ç° &lt;code&gt;eagerState !== currentState&lt;/code&gt; ï¼Œç»„ä»¶åˆæ›´æ–°äº†ä¸€æ¬¡ã€‚æ¥ä¸‹æ¥ä¼šä»¥currentæ ‘ï¼ˆæ ‘Bï¼‰çš„ &lt;code&gt;alternate&lt;/code&gt;æŒ‡å‘çš„æ ‘Aä½œä¸ºæ–°çš„&lt;code&gt;workInProgress&lt;/code&gt;è¿›è¡Œæ›´æ–°ï¼Œæ­¤æ—¶çš„æ ‘Aä¸Šçš„ baseState ç»ˆäºæ›´æ–°æˆäº† 1 ï¼Œè¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆä¸Šè¿°ä¸¤ä¸ª baseState éƒ½ç­‰äº 1ã€‚æ¥ä¸‹æ¥ç»„ä»¶æ¸²æŸ“å®Œæˆã€‚æ ‘Aä½œä¸ºäº†æ–°çš„ current æ ‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æˆ‘ä»¬ç¬¬äºŒæ¬¡æ‰“å°ï¼Œæ‰“å°å‡ºæ¥çš„å®é™…æ˜¯äº¤æ›¿åæ ‘Bï¼Œæ ‘Aå’Œæ ‘Bå°±è¿™æ ·äº¤æ›¿ç€ä½œä¸ºæœ€æ–°çŠ¶æ€ç”¨äºæ¸²æŸ“çš„&lt;code&gt;workInProgress&lt;/code&gt;æ ‘å’Œç¼“å­˜ä¸Šä¸€æ¬¡çŠ¶æ€ç”¨äºä¸‹ä¸€æ¬¡æ¸²æŸ“çš„&lt;code&gt;current&lt;/code&gt;æ ‘ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ä¸‰æ¬¡ç‚¹å‡»ï¼ˆä¸‰è€…è¨€å…¶å¤šä¹Ÿï¼‰&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆç¬¬ä¸‰æ¬¡ç‚¹å‡»ç»„ä»¶æ²¡æœ‰æ¸²æŸ“ï¼Œå°±å¾ˆå¥½è§£é‡Šäº†ï¼Œç¬¬ä¸‰æ¬¡ç‚¹å‡»ä¸Šä¸€æ¬¡æ ‘Bä¸­çš„ &lt;code&gt;baseState = 1&lt;/code&gt; å’Œ &lt;code&gt;setNumber(1)&lt;/code&gt;ç›¸ç­‰ï¼Œä¹Ÿå°±ç›´æ¥èµ°äº†returné€»è¾‘ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ­å¼€è°œåº•ï¼ˆæˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆï¼‰&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åŒç¼“å†²æ ‘ï¼šReact ç”¨ &lt;code&gt;workInProgress&lt;/code&gt;æ ‘(å†…å­˜ä¸­æ„å»ºçš„æ ‘) å’Œ &lt;code&gt;current&lt;/code&gt;(æ¸²æŸ“æ ‘) æ¥å®ç°æ›´æ–°é€»è¾‘ã€‚æˆ‘ä»¬console.logæ‰“å°çš„fiberéƒ½æ˜¯åœ¨å†…å­˜ä¸­å³å°† &lt;code&gt;workInProgress&lt;/code&gt;çš„fiberæ ‘ã€‚åŒç¼“å­˜ä¸€ä¸ªåœ¨å†…å­˜ä¸­æ„å»ºï¼Œåœ¨ä¸‹ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œç›´æ¥ç”¨ç¼“å­˜æ ‘åšä¸ºä¸‹ä¸€æ¬¡æ¸²æŸ“æ ‘ï¼Œä¸Šä¸€æ¬¡çš„æ¸²æŸ“æ ‘åˆä½œä¸ºç¼“å­˜æ ‘ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢åªç”¨ä¸€é¢—æ ‘æ›´æ–°çŠ¶æ€çš„ä¸¢å¤±çš„æƒ…å†µï¼ŒåˆåŠ å¿«äº†&lt;code&gt;dom&lt;/code&gt;èŠ‚ç‚¹çš„æ›¿æ¢ä¸æ›´æ–°ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ›´æ–°æœºåˆ¶ï¼šåœ¨ä¸€æ¬¡æ›´æ–°ä¸­ï¼Œé¦–å…ˆä¼šè·å–currentæ ‘çš„ &lt;code&gt;alternate&lt;/code&gt;ä½œä¸ºå½“å‰çš„ &lt;code&gt;workInProgress&lt;/code&gt;ï¼Œæ¸²æŸ“å®Œæ¯•åï¼Œ&lt;code&gt;workInProgress&lt;/code&gt; æ ‘å˜ä¸º &lt;code&gt;current&lt;/code&gt; æ ‘ã€‚æˆ‘ä»¬ç”¨å¦‚ä¸Šçš„æ ‘Aå’Œæ ‘Bå’Œå·²ç»ä¿å­˜çš„baseStateæ¨¡å‹ï¼Œæ¥æ›´å½¢è±¡çš„è§£é‡Šäº†æ›´æ–°æœºåˆ¶ ã€‚hooksä¸­çš„useStateè¿›è¡Œstateå¯¹æ¯”ï¼Œç”¨çš„æ˜¯ç¼“å­˜æ ‘ä¸Šçš„stateå’Œå½“å‰æœ€æ–°çš„stateã€‚æ‰€æœ‰å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæ›´æ–°ç›¸åŒçš„stateï¼Œå‡½æ•°ç»„ä»¶æ‰§è¡Œ2æ¬¡äº†ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æˆ‘ä»¬ç”¨ä¸€å¹…æµç¨‹å›¾æ¥æè¿°æ•´ä¸ªæµç¨‹ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.32773851590106007&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLuJhO33zlCfV6aBKDdJEamF8ctlWdOoQw4JrNaybcRPGkQCspGl1c5Zg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;2264&quot;/&gt;&lt;figcaption&gt;FFB125E7-6A34-4F44-BB6E-A11D598D0A01.jpg&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ¡ˆå·²ç ´ï¼Œé€šè¿‡è¿™ä¸ªå®¹æ˜“å¿½ç•¥çš„æ¡ˆä»¶ï¼Œæˆ‘ä»¬å­¦ä¹ äº†åŒç¼“å†²å’Œæ›´æ–°æœºåˆ¶ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¡ˆä»¶å…­ï¼šuseEffectä¿®æ”¹DOMå…ƒç´ å¯¼è‡´æ€ªå¼‚é—ªç°&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é¬¼ä½¿ç¥å·®&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°æ˜ï¼ˆåŒ–åï¼‰åœ¨åŠ¨æ€æŒ‚è½½ç»„ä»¶çš„æ—¶å€™ï¼Œé‡åˆ°äº†çµå¼‚çš„Domé—ªç°ç°è±¡ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ç°è±¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é—ªç°ç°è±¡ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4196078431372549&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/2KticQlBJtdzm7OUwKfErKxVXuAcJSvLunEeQFe5JjC6q0AfLSKFGKIpCbk0dW5OxUF45ncnwylDRyBTb0VhG4A/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1530&quot;/&gt;&lt;figcaption&gt;effect.gif&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Index&lt;/span&gt;(&lt;span&gt;{Â offsetÂ }&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â cardÂ Â =Â React.useRef(&lt;span&gt;null&lt;/span&gt;)&lt;br/&gt;Â Â Â Â React.useEffect(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;=&amp;gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â card.current.style.leftÂ =Â offset&lt;br/&gt;Â Â Â Â },[])&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&#x27;box&#x27;&lt;/span&gt;Â &amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;Â &lt;span&gt;className&lt;/span&gt;=&lt;span&gt;&#x27;cardÂ custom&#x27;&lt;/span&gt;Â &lt;span&gt;ref&lt;/span&gt;=&lt;span&gt;{card}&lt;/span&gt;Â Â Â &amp;gt;&lt;/span&gt;ã€ŠÂ Reactè¿›é˜¶å®è·µæŒ‡å—Â ã€‹&lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â &lt;span&gt;default&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;Home&lt;/span&gt;(&lt;span&gt;{Â offsetÂ =Â &lt;span&gt;&#x27;300px&#x27;&lt;/span&gt;Â }&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;const&lt;/span&gt;Â [Â isRenderÂ ,Â setRenderÂ ]Â =Â React.useState(&lt;span&gt;false&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;&amp;lt;&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â {Â isRenderÂ &amp;amp;&amp;amp;Â &lt;span&gt;&amp;lt;&lt;span&gt;Index&lt;/span&gt;Â &lt;span&gt;offset&lt;/span&gt;=&lt;span&gt;{offset}&lt;/span&gt;Â Â /&amp;gt;&lt;/span&gt;Â }&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;button&lt;/span&gt;Â &lt;span&gt;onClick&lt;/span&gt;=&lt;span&gt;{&lt;/span&gt;Â ()=&amp;gt;&lt;/span&gt;setRender(true)Â }Â &amp;gt;Â æŒ‚è½½&lt;span&gt;&amp;lt;/&lt;span&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨çˆ¶ç»„ä»¶ç”¨ &lt;code&gt;isRender&lt;/code&gt; åŠ¨æ€åŠ è½½ &lt;code&gt;Index&lt;/code&gt;ï¼Œç‚¹å‡»æŒ‰é’®æ§åˆ¶ &lt;code&gt;Index&lt;/code&gt;æ¸²æŸ“ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨ &lt;code&gt;Index&lt;/code&gt;çš„æ¥å—åŠ¨æ€çš„åç§»é‡&lt;code&gt;offset&lt;/code&gt;ã€‚å¹¶é€šè¿‡æ“çºµç”¨&lt;code&gt;useRef&lt;/code&gt;è·å–çš„åŸç”Ÿ&lt;code&gt;dom&lt;/code&gt;ç›´æ¥æ”¹å˜åç§»é‡ï¼Œä½¿å¾—åˆ’å—æ»‘åŠ¨ã€‚ä½†æ˜¯å‡ºç°äº†å¦‚ä¸Šå›¾çš„é—ªç°ç°è±¡ï¼Œå¾ˆä¸å‹å¥½ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šé€ æˆè¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ·±å…¥äº†è§£&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆæ­¥åˆ¤æ–­äº§ç”Ÿè¿™ä¸ªé—ªç°çš„é—®é¢˜åº”è¯¥æ˜¯ &lt;code&gt;useEffect&lt;/code&gt;é€ æˆçš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œå› ä¸ºç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ &lt;code&gt;componentDidMount&lt;/code&gt;å†™åŒæ ·çš„é€»è¾‘ï¼Œç„¶è€Œå¹¶ä¸ä¼šå‡ºç°è¿™ç§ç°è±¡ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆ&lt;code&gt;useEffect&lt;/code&gt;ä¼šé€ æˆè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åªèƒ½é¡ºè—¤æ‘¸ç“œæ‰¾åˆ° &lt;code&gt;useEffect&lt;/code&gt; çš„ &lt;code&gt;callback&lt;/code&gt;æ‰§è¡Œæ—¶æœºè¯´èµ·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;useEffect&lt;/code&gt; &lt;code&gt;ï¼ŒuseLayoutEffect&lt;/code&gt; , &lt;code&gt;componentDidMount&lt;/code&gt;æ‰§è¡Œæ—¶æœºéƒ½æ˜¯åœ¨ &lt;code&gt;commit&lt;/code&gt;é˜¶æ®µæ‰§è¡Œã€‚æˆ‘ä»¬çŸ¥é“ React æœ‰ä¸€ä¸ª &lt;code&gt;effectList&lt;/code&gt;å­˜æ”¾ä¸åŒ&lt;code&gt;effect&lt;/code&gt;ã€‚å› ä¸º &lt;code&gt;React&lt;/code&gt; å¯¹ä¸åŒçš„ &lt;code&gt;effect&lt;/code&gt; æ‰§è¡Œé€»è¾‘å’Œæ—¶æœºä¸åŒã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹&lt;code&gt;useEffect&lt;/code&gt;è¢«å®šä¹‰çš„æ—¶å€™ï¼Œå®šä¹‰æˆäº†ä»€ä¹ˆæ ·ç±»å‹çš„ &lt;code&gt;effect&lt;/code&gt;ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-reconciler/src/ReactFiberHooks.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;mountEffect&lt;/span&gt;(&lt;span&gt;create,Â deps&lt;/span&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â mountEffectImpl(&lt;br/&gt;Â Â Â Â UpdateEffectÂ |Â PassiveEffect,Â &lt;span&gt;//Â PassiveEffectÂ &lt;/span&gt;&lt;br/&gt;Â Â Â Â HookPassive,&lt;br/&gt;Â Â Â Â create,&lt;br/&gt;Â Â Â Â deps,&lt;br/&gt;Â Â );&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªå‡½æ•°çš„ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;useEffect&lt;/code&gt; è¢«èµ‹äºˆ &lt;code&gt;PassiveEffect&lt;/code&gt;ç±»å‹çš„ &lt;code&gt;effect&lt;/code&gt; ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å°æ˜æ”¹åŸç”Ÿdomä½ç½®çš„å‡½æ•°ï¼Œå°±æ˜¯ &lt;code&gt;create&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆ &lt;code&gt;create&lt;/code&gt;å‡½æ•°ä»€ä¹ˆæ—¶å€™æ‰§è¡Œçš„ï¼ŒReactåˆæ˜¯æ€ä¹ˆå¤„ç†&lt;code&gt;PassiveEffect&lt;/code&gt;çš„å‘¢ï¼Œè¿™æ˜¯ç ´æ¡ˆçš„å…³é”®ã€‚è®°ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ ä¸‹React æ€ä¹ˆå¤„ç†&lt;code&gt;PassiveEffect&lt;/code&gt;ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;react-reconciler/src/ReactFiberCommitWork.js&lt;/p&gt;&lt;/blockquote&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;commitBeforeMutationEffects&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;while&lt;/span&gt;Â (nextEffectÂ !==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â ((effectTagÂ &amp;amp;Â Passive)Â !==Â NoEffect)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!rootDoesHavePassiveEffects)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â rootDoesHavePassiveEffectsÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;/*Â Â å¼‚æ­¥è°ƒåº¦Â -Â PassiveEffectÂ */&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â scheduleCallback(NormalPriority,Â ()Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â flushPassiveEffects();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â });&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â nextEffectÂ =Â nextEffect.nextEffect;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨&lt;code&gt;commitBeforeMutationEffects&lt;/code&gt; å‡½æ•°ä¸­ï¼Œä¼šå¼‚æ­¥è°ƒåº¦ &lt;code&gt;flushPassiveEffects&lt;/code&gt;æ–¹æ³•ï¼Œ&lt;code&gt;flushPassiveEffects&lt;/code&gt;æ–¹æ³•ä¸­ï¼Œå¯¹äºReact hooks ä¼šæ‰§è¡Œ &lt;code&gt;commitPassiveHookEffects&lt;/code&gt;ï¼Œç„¶åä¼šæ‰§è¡Œ &lt;code&gt;commitHookEffectListMount&lt;/code&gt; ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;commitHookEffectListMount&lt;/span&gt;(&lt;span/&gt;)&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (lastEffectÂ !==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â effect.destroyÂ =Â create();Â &lt;span&gt;/*Â æ‰§è¡ŒuseEffectä¸­é¥¿Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ &lt;code&gt;commitHookEffectListMount&lt;/code&gt;ä¸­ï¼Œ&lt;code&gt;create&lt;/code&gt;å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚æˆ‘ä»¬ç»™&lt;code&gt;dom&lt;/code&gt;å…ƒç´ åŠ çš„ä½ç½®å°±ä¼šç”Ÿæ•ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¼‚æ­¥è°ƒåº¦åšäº†äº›ä»€ä¹ˆå‘¢ï¼ŸReactçš„å¼‚æ­¥è°ƒåº¦ï¼Œä¸ºäº†é˜²æ­¢ä¸€äº›ä»»åŠ¡æ‰§è¡Œè€½è¯¯äº†æµè§ˆå™¨ç»˜åˆ¶ï¼Œè€Œé€ æˆå¡å¸§ç°è±¡ï¼Œreact å¯¹äºä¸€äº›ä¼˜å…ˆçº§ä¸é«˜çš„ä»»åŠ¡ï¼Œé‡‡ç”¨å¼‚æ­¥è°ƒåº¦æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯è®©æµè§ˆå™¨æ‰ç©ºé—²çš„æ—¶é—´æ¥æ‰§è¡Œè¿™äº›å¼‚æ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œåœ¨ä¸åŒå¹³å°ï¼Œä¸åŒæµè§ˆå™¨ä¸Šå®ç°æ–¹å¼ä¸åŒï¼Œè¿™é‡Œå…ˆå§‘ä¸”è®¤ä¸ºæ•ˆæœå’Œ&lt;code&gt;setTimeout&lt;/code&gt;ä¸€æ ·ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é›¨è¿‡å¤©æ™´&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šè¿°æˆ‘ä»¬å‘ç° &lt;code&gt;useEffect&lt;/code&gt; çš„ç¬¬ä¸€ä¸ªå‚æ•° &lt;code&gt;create&lt;/code&gt;ï¼Œé‡‡ç”¨çš„å¼‚æ­¥è°ƒç”¨çš„æ–¹å¼ï¼Œé‚£ä¹ˆé—ªç°å°±å¾ˆå¥½ç†è§£äº†ï¼Œ&lt;strong&gt;åœ¨ç‚¹å‡»æŒ‰é’®ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œå‡½æ•°ç»„ä»¶&lt;code&gt;render&lt;/code&gt;ï¼Œç„¶å&lt;code&gt;commit&lt;/code&gt;æ›¿æ¢çœŸå®domèŠ‚ç‚¹,ç„¶åæµè§ˆå™¨ç»˜åˆ¶å®Œæ¯•ã€‚æ­¤æ—¶æµè§ˆå™¨å·²ç»ç»˜åˆ¶äº†ä¸€æ¬¡ï¼Œç„¶åæµè§ˆå™¨æœ‰ç©ºä½™æ—¶é—´æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œæ‰€ä»¥æ‰§è¡Œäº†&lt;code&gt;create&lt;/code&gt;ï¼Œä¿®æ”¹äº†å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼Œå› ä¸ºä¸Šä¸€æ¬¡å…ƒç´ å·²ç»ç»˜åˆ¶ï¼Œæ­¤æ—¶åˆä¿®æ”¹äº†ä¸€ä¸ªä½ç½®ï¼Œæ‰€ä»¥æ„Ÿåˆ°é—ªç°çš„æ•ˆæœï¼Œæ­¤æ¡ˆå·²ç ´ã€‚&lt;/strong&gt;ï¼Œ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ ·è§£å†³é—ªç°çš„ç°è±¡å‘¢ï¼Œé‚£å°±æ˜¯ &lt;code&gt;React.useLayoutEffect&lt;/code&gt; ï¼Œ&lt;code&gt;useLayoutEffect&lt;/code&gt;çš„ &lt;code&gt;create&lt;/code&gt;æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨ç»˜åˆ¶ä¸€æ¬¡ï¼Œç›´æ¥æ›´æ–°äº†æœ€æ–°çš„ä½ç½®ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â React.useLayoutEffect(&lt;span&gt;&lt;span&gt;()&lt;/span&gt;=&amp;gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â card.current.style.leftÂ =Â offset&lt;br/&gt;Â Â },[])&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ€»ç»“Â Â &lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ¬èŠ‚å¯æˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä»¥ç ´æ¡ˆçš„è§’åº¦ï¼Œä»åŸç†è§’åº¦è®²è§£äº† &lt;code&gt;React&lt;/code&gt; ä¸€äº›æ„æƒ³ä¸åˆ°çš„ç°è±¡ï¼Œé€è¿‡è¿™äº›ç°è±¡ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸€äº› React å†…åœ¨çš„ä¸œè¥¿ï¼Œæˆ‘å¯¹å¦‚ä¸Šæ¡ˆä¾‹æ€»ç»“ï¼Œ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶ä¸€-å¯¹ä¸€äº›ç»„ä»¶æ¸²æŸ“å’Œç»„ä»¶é”™è¯¯æ—¶æœºå£°æ˜çš„ç†è§£&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶äºŒ-å®é™…äº‹ä»¶æ± æ¦‚å¿µçš„è¡¥å……ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶ä¸‰-æ˜¯å¯¹ä¸€äº›ç»„ä»¶åº“å¼•å…¥å¤šä¸ªç‰ˆæœ¬ &lt;code&gt;React&lt;/code&gt; çš„æ€è€ƒå’Œè§£å†³æ–¹æ¡ˆã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶å››-è¦æ³¨æ„ç»™ &lt;code&gt;memo&lt;/code&gt; / &lt;code&gt;PureComponent&lt;/code&gt; ç»‘å®šäº‹ä»¶ï¼Œä»¥åŠå¦‚ä½•å¤„ç† &lt;code&gt;PureComponent&lt;/code&gt; é€»è¾‘ï¼Œ&lt;code&gt;shallowEqual&lt;/code&gt;çš„åŸç†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶äº”-å®é™…æ˜¯å¯¹&lt;code&gt;fiber&lt;/code&gt;åŒç¼“å­˜æ ‘çš„è®²è§£ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ¡ˆä»¶å…­-æ˜¯å¯¹ &lt;code&gt;useEffect create&lt;/code&gt; æ‰§è¡Œæ—¶æœºçš„è®²è§£ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>febcd97027d114eeb4dfd3fd0edb9aee</guid>
<title>Go sync.Pool æµ…æ</title>
<link>https://toutiao.io/k/pwz9rfd</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;hi, å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ haohongfanã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;sync.Pool åº”è¯¥æ˜¯ Go é‡Œé¢æ˜æ˜Ÿçº§åˆ«çš„æ•°æ®ç»“æ„ï¼Œæœ‰å¾ˆå¤šä¼˜ç§€çš„æ–‡ç« éƒ½åœ¨ä»‹ç»è¿™ä¸ªç»“æ„ï¼Œæœ¬ç¯‡æ–‡ç« ç®€å•å‰–æä¸‹ sync.Poolã€‚ä¸è¿‡è¯´å®è¯ sync.Pool å¹¶ä¸æ˜¯æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡å¾ˆé«˜çš„çš„å¹¶å‘åŸè¯­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°½ç®¡ç”¨çš„é¢‘ç‡å¾ˆä½ï¼Œä½†æ˜¯ä¸å¯å¦è®¤çš„æ˜¯ sync.Pool ç¡®å®æ˜¯ Go çš„æ€æ‰‹é”ï¼Œåˆç†ä½¿ç”¨ sync.Pool ä¼šè®©æˆ‘ä»¬çš„ç¨‹åºæ€§èƒ½é£™å‡ã€‚æœ¬ç¯‡æ–‡ç« ä¼šä»ä½¿ç”¨æ–¹å¼ï¼Œæºç å‰–æï¼Œè¿ç”¨åœºæ™¯ç­‰æ–¹é¢ï¼Œè®©ä½ å¯¹ sync.Pool æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤çŸ¥ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä½¿ç”¨æ–¹å¼&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;sync.Pool ä½¿ç”¨å¾ˆç®€å•ï¼Œä½†æ˜¯æƒ³ç”¨å¯¹å´å¾ˆéº»çƒ¦ï¼Œå› ä¸ºä½ æœ‰å¯èƒ½çœ‹åˆ°ç½‘ä¸Šä¸€å †é”™è¯¯çš„ç¤ºä¾‹ï¼Œå„ä½åŒå­¦åœ¨æœç´¢ sync.Pool çš„ä½¿ç”¨ä¾‹å­æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;sync.Pool æ˜¯ä¸€ä¸ªå†…å­˜æ± ã€‚é€šå¸¸å†…å­˜æ± æ˜¯ç”¨æ¥é˜²æ­¢å†…å­˜æ³„éœ²çš„ï¼ˆä¾‹å¦‚C/C++)ã€‚sync.Pool è¿™ä¸ªå†…å­˜æ± å´ä¸æ˜¯å¹²è¿™ä¸ªçš„ï¼Œå¸¦ GC åŠŸèƒ½çš„è¯­è¨€éƒ½å­˜åœ¨åƒåœ¾å›æ”¶ STW é—®é¢˜ï¼Œéœ€è¦å›æ”¶çš„å†…å­˜å—è¶Šå¤šï¼ŒSTW æŒç»­æ—¶é—´å°±è¶Šé•¿ã€‚å¦‚æœèƒ½è®© new å‡ºæ¥çš„å˜é‡ï¼Œä¸€ç›´ä¸è¢«å›æ”¶ï¼Œå¾—åˆ°é‡å¤åˆ©ç”¨ï¼Œæ˜¯ä¸æ˜¯å°±å‡è½»äº† GC çš„å‹åŠ›ã€‚&lt;/p&gt;&lt;p&gt;æ­£ç¡®çš„ä½¿ç”¨ç¤ºä¾‹ï¼ˆä¸‹é¢çš„demoé€‰è‡ªginï¼‰&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;funcÂ (engineÂ *Engine)Â ServeHTTP(wÂ http.ResponseWriter,Â reqÂ *http.Request)&lt;/span&gt;Â {&lt;br/&gt;&lt;span&gt;Â Â Â Â cÂ :=Â engine.pool.Get().(*Context)&lt;br/&gt;Â Â Â Â c.writermem.reset(w)&lt;br/&gt;Â Â Â Â c.RequestÂ =Â req&lt;br/&gt;Â Â Â Â c.reset()&lt;br/&gt;&lt;br/&gt;Â Â Â Â engine.handleHTTPRequest(c)&lt;br/&gt;&lt;br/&gt;Â Â Â Â engine.pool.Put(c)&lt;br/&gt;&lt;/span&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€å®šè¦æ³¨æ„çš„æ˜¯ï¼šæ˜¯å…ˆ Get è·å–å†…å­˜ç©ºé—´ï¼ŒåŸºäºè¿™ä¸ªå†…å­˜åšç›¸å…³çš„å¤„ç†ï¼Œç„¶åå†å°†è¿™ä¸ªå†…å­˜è¿˜å›ï¼ˆPutï¼‰åˆ° sync.Poolã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;Pool ç»“æ„&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9594813614262561&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2Yw2tia1ibmh3uncc8BNUjUMwibcibPIB6aiadD6qNnicgp2XmdZxaaQ8Mo2a2w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1234&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;sync.Pool å…¨æ™¯å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æºç å›¾è§£&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9374262101534829&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2YwZlMxIYhfR6LJjfA46S2B3fScFvGZB5icpulDpPr8iaicSjibKIxwiaib4Dlg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1694&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Pool.Get&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7169811320754716&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2YwibarZj8RGvpqCv3Ayx5vuu2JssAyPUSXJQibNicpkVjS3tLkbqvbUiaWXQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1696&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Pool.Put&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç®€å•ç‚¹å¯ä»¥æ€»ç»“æˆä¸‹é¢çš„æµç¨‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3131768953068592&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2Yw6BXv3BOjcfSBLysfCdtBO9r6K0MGgS7sHXVMdfur1TbfiauvsgZ4sibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2216&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Pool.Get æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4831804281345566&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2Ywz8NQU7nn3wZxBAibsJRwMQ1b4waLqOaBliaf7GtVqIn2nJPyrR9zvJpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1308&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Pool.Putæµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.23261117445838084&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlobSg2E3icVLJRibPFrYD9ib2YwNPHyvpGjSyKFiar4mibibU3XrOm3VZC8nW2lfpujnEnaNUuqQiaibec42uw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1754&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Pool GC æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;Sync.Pool æ¢³ç†&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;Pool çš„å†…å®¹ä¼šæ¸…ç†ï¼Ÿæ¸…ç†ä¼šé€ æˆæ•°æ®ä¸¢å¤±å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Go ä¼šåœ¨æ¯ä¸ª GC å‘¨æœŸå†…å®šæœŸæ¸…ç† sync.Pool å†…çš„æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦åˆ†å‡ ä¸ªæ–¹é¢æ¥è¯´è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å·²ç»ä» sync.Pool Get çš„å€¼ï¼Œåœ¨ poolClean æ—¶è™½è¯´å°† pool.local ç½®æˆäº†nilï¼ŒGet åˆ°çš„å€¼ä¾ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œæ˜¯è¢« GC æ ‡è®°ä¸ºé»‘è‰²çš„ï¼Œä¸ä¼šè¢« GCå›æ”¶ï¼Œå½“ Put ååˆé‡æ–°åŠ å…¥åˆ° sync.Pool ä¸­&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨ç¬¬ä¸€ä¸ª GC å‘¨æœŸå†… Put åˆ° sync.Pool çš„æ•°å€¼ï¼Œåœ¨ç¬¬äºŒä¸ª GC å‘¨æœŸæ²¡æœ‰è¢« Get ä½¿ç”¨ï¼Œå°±ä¼šè¢«æ”¾åœ¨ local.victim ä¸­ã€‚å¦‚æœåœ¨ ç¬¬ä¸‰ä¸ª GC å‘¨æœŸä»ç„¶æ²¡æœ‰è¢«ä½¿ç”¨å°±ä¼šè¢« GC å›æ”¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;runtime.GOMAXPROCS ä¸ pool ä¹‹é—´çš„å…³ç³»ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;sÂ :=Â p.localSize&lt;br/&gt;lÂ :=Â p.local&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;uintptr&lt;/span&gt;(pid)Â &amp;lt;Â sÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â indexLocal(l,Â pid),Â pid&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â p.localÂ ==Â &lt;span&gt;nil&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â allPoolsÂ =Â &lt;span&gt;append&lt;/span&gt;(allPools,Â p)&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;//Â IfÂ GOMAXPROCSÂ changesÂ betweenÂ GCs,Â weÂ re-allocateÂ theÂ arrayÂ andÂ loseÂ theÂ oldÂ one.&lt;/span&gt;&lt;br/&gt;sizeÂ :=Â runtime.GOMAXPROCS(&lt;span&gt;0&lt;/span&gt;)&lt;br/&gt;localÂ :=Â &lt;span&gt;make&lt;/span&gt;([]poolLocal,Â size)&lt;br/&gt;atomic.StorePointer(&amp;amp;p.local,Â unsafe.Pointer(&amp;amp;local[&lt;span&gt;0&lt;/span&gt;]))Â &lt;span&gt;//Â store-release&lt;/span&gt;&lt;br/&gt;runtime_StoreReluintptr(&amp;amp;p.localSize,Â &lt;span&gt;uintptr&lt;/span&gt;(size))Â Â Â Â Â &lt;span&gt;//Â store-release&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;runtime.GOMAXPROCS(0) æ˜¯è·å–å½“å‰æœ€å¤§çš„ p çš„æ•°é‡ã€‚sync.Pool çš„ poolLocal æ•°é‡å— p çš„æ•°é‡å½±å“ï¼Œä¼šå¼€è¾Ÿ runtime.GOMAXPROCS(0) ä¸ª poolLocalã€‚æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬ä¼šä½¿ç”¨ runtime.GOMAXPROCSï¼ˆN) æ¥æ”¹å˜ p çš„æ•°é‡ï¼Œä¼šä½¿ sync.Pool çš„ pool.poolLocal é‡Šæ”¾é‡æ–°å¼€è¾Ÿæ–°çš„ç©ºé—´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆè¦å¼€è¾Ÿ runtime.GOMAXPROCS ä¸ª localï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;pool.local æ˜¯ä¸ª poolLocal ç»“æ„ï¼Œè¿™ä¸ªç»“æ„ä½“æ˜¯ private + sharedé“¾è¡¨ç»„æˆï¼Œåœ¨å¤š goroutine çš„ Get/Put ä¸‹æ˜¯æœ‰æ•°æ®ç«äº‰çš„ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ª local å°±éœ€è¦åŠ é”æ¥æ“ä½œã€‚æ¯ä¸ª p çš„ local å°±èƒ½å‡å°‘åŠ é”é€ æˆçš„æ•°æ®ç«äº‰é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;New() çš„ä½œç”¨ï¼Ÿå‡å¦‚æ²¡æœ‰ New ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„ pool.Get æµç¨‹å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œä» sync.Pool è·å–ä¸€ä¸ªå†…å­˜ä¼šå°è¯•ä»å½“å‰ privateï¼Œsharedï¼Œå…¶ä»–çš„ p çš„ shared è·å–æˆ–è€… victim è·å–ï¼Œå¦‚æœå®åœ¨è·å–ä¸åˆ°æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ New å‡½æ•°æ¥è·å–ã€‚ä¹Ÿå°±æ˜¯ New() å‡½æ•°æ‰æ˜¯çœŸæ­£å¼€è¾Ÿå†…å­˜ç©ºé—´çš„ã€‚New() å¼€è¾Ÿå‡ºæ¥çš„çš„å†…å­˜ç©ºé—´ä½¿ç”¨å®Œæ¯•åï¼Œè°ƒç”¨ pool.Put å‡½æ•°æ”¾å…¥åˆ° sync.Pool ä¸­è¢«é‡å¤åˆ©ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœ New å‡½æ•°æ²¡æœ‰è¢«åˆå§‹åŒ–ä¼šæ€æ ·å‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œsync.Pool å°±åºŸæ‰äº†ï¼Œå› ä¸ºæ²¡æœ‰äº†åˆå§‹åŒ–å†…å­˜çš„åœ°æ–¹äº†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;å…ˆ Putï¼Œå† Get ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œä¸€å®šè¦æ³¨æ„ï¼Œä¸‹é¢è¿™ä¸ªä¾‹å­çš„ç”¨æ³•æ˜¯é”™è¯¯çš„ã€&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â pool:=Â sync.Pool{&lt;br/&gt;Â Â Â Â Â Â Â Â New:Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;interface&lt;/span&gt;&lt;/span&gt;{}Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â item{}&lt;br/&gt;Â Â Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â pool.Put(item{value:&lt;span&gt;1&lt;/span&gt;})&lt;br/&gt;Â Â Â Â dataÂ :=Â pool.Get()&lt;br/&gt;Â Â Â Â fmt.Println(data)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ç›´æ¥è·‘è¿™ä¸ªä¾‹å­ï¼Œèƒ½å¾—åˆ°ä½ æƒ³åƒçš„ç»“æœï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹å°±ä¸æ˜¯è¿™ä¸ªç»“æœäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ Pool.Get æ³¨é‡Šé‡Œé¢æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œCallers should not assume any relation between values passed to Put and the values returned by Get.â€ï¼Œå‘Šè¯‰æˆ‘ä»¬ä¸èƒ½æŠŠå€¼ Pool.Put åˆ° sync.Pool ä¸­ï¼Œå†ä½¿ç”¨ Pool.Get å–å‡ºæ¥ï¼Œå› ä¸º sync.Pool ä¸æ˜¯ map æˆ–è€… sliceï¼Œæ”¾å…¥çš„å€¼æ˜¯æœ‰å¯èƒ½æ‹¿ä¸åˆ°çš„ï¼Œsync.Pool çš„æ•°æ®ç»“æ„å°±ä¸æ”¯æŒåšè¿™ä¸ªäº‹æƒ…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢è¯´ä½¿ç”¨ sync.Pool å®¹æ˜“è¢«é”™è¯¯ç¤ºä¾‹è¯¯å¯¼ï¼Œå°±æ˜¯ä¸Šé¢è¿™ä¸ªå†™æ³•ã€‚ä¸ºä»€ä¹ˆ Put çš„å€¼ å† Get ä¼šå‡ºç°é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æƒ…å†µ1ï¼šsync.Pool çš„ poolCleanup å‡½æ•°åœ¨ç³»ç»Ÿ GC æ—¶ä¼šè¢«è°ƒç”¨ï¼ŒPut åˆ° sync.Pool çš„å€¼ï¼Œç”±äºæœ‰å¯èƒ½ä¸€ç›´å¾—ä¸åˆ°åˆ©ç”¨ï¼Œè¢«åœ¨æŸä¸ª GC å‘¨æœŸå†…å°±æœ‰å¯èƒ½è¢«é‡Šæ”¾æ‰äº†ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æƒ…å†µ2ï¼šä¸åŒçš„ goroutine ç»‘å®šçš„ p æœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå½“å‰ p å¯¹åº”çš„ goroutine æ”¾å…¥åˆ° sync.Pool çš„å€¼æœ‰å¯èƒ½è¢«å…¶ä»–çš„ p å¯¹åº”çš„ goroutine å–åˆ°ï¼Œå¯¼è‡´å½“å‰ goroutine å†ä¹Ÿå–ä¸åˆ°è¿™ä¸ªå€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æƒ…å†µ3ï¼šä½¿ç”¨ runtime.GOMAXPROCSï¼ˆN) æ¥æ”¹å˜ p çš„æ•°é‡ï¼Œä¼šä½¿ sync.Pool çš„ pool.poolLocal é‡Šæ”¾é‡æ–°å¼€è¾Ÿæ–°çš„ç©ºé—´ï¼Œå¯¼è‡´ sync.Pool è¢«é‡Šæ”¾æ‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æƒ…å†µ4ï¼šè¿˜æœ‰å¾ˆå¤šæƒ…å†µ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;åª Get ä¸ Put ä¼šå†…å­˜æ³„éœ²å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨å…¶ä»–çš„æ± ï¼Œå¦‚è¿æ¥æ± ï¼Œå¦‚æœå–è¿æ¥ä½¿ç”¨åä¸æ”¾å›è¿æ¥æ± ï¼Œå°±ä¼šå‡ºç°è¿æ¥æ± æ³„éœ²ï¼Œ&lt;strong&gt;ã€Œæ˜¯ä¸æ˜¯ sync.Pool ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿã€&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šé¢çš„æµç¨‹å›¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ Pool.Get çš„æ—¶å€™ä¼šå°è¯•ä»å½“å‰ privateï¼Œsharedï¼Œå…¶ä»–çš„ p çš„ shared è·å–æˆ–è€… victim è·å–ï¼Œå¦‚æœå®åœ¨è·å–ä¸åˆ°æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ New å‡½æ•°æ¥è·å–ï¼ŒNew å‡ºæ¥çš„å†…å®¹æœ¬èº«è¿˜æ˜¯å—ç³»ç»Ÿ GC æ¥æ§åˆ¶çš„ã€‚æ‰€ä»¥å¦‚æœæˆ‘ä»¬æä¾›çš„ New å®ç°ä¸å­˜åœ¨å†…å­˜æ³„éœ²çš„è¯ï¼Œé‚£ä¹ˆ sync.Pool æ˜¯ä¸ä¼šå†…å­˜æ³„éœ²çš„ã€‚å½“ New å‡ºæ¥çš„å˜é‡å¦‚æœä¸å†è¢«ä½¿ç”¨ï¼Œå°±ä¼šè¢«ç³»ç»Ÿ GC ç»™å›æ”¶æ‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¸ Put å› sync.Poolï¼Œä¼šé€ æˆ Get çš„æ—¶å€™æ¯æ¬¡éƒ½è°ƒç”¨çš„ New æ¥ä»å †æ ˆç”³è¯·ç©ºé—´ï¼Œè¾¾ä¸åˆ°å‡è½» GC å‹åŠ›ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä½¿ç”¨åœºæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢è¯´åˆ° sync.Pool ä¸šåŠ¡å¼€å‘ä¸­ä¸æ˜¯ä¸€ä¸ªå¸¸ç”¨ç»“æ„ï¼Œæˆ‘ä»¬ä¸šåŠ¡å¼€å‘ä¸­æ²¡å¿…è¦å‡æƒ³æŸå—ä»£ç ä¼šæœ‰å¼ºçƒˆçš„æ€§èƒ½é—®é¢˜ï¼Œä¸€ä¸Šæ¥å°±ç”¨ sync.Pool ç¡¬æ€¼ã€‚sync.Pool ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ Go GC å‹åŠ›è¿‡å¤§é—®é¢˜çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“çº¿ä¸Šé«˜å¹¶å‘ä¸šåŠ¡å‡ºç° GC é—®é¢˜éœ€è¦è¢«ä¼˜åŒ–æ—¶ï¼Œæ‰éœ€è¦ç”¨ sync.Pool å‡ºåœºã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä½¿ç”¨æ³¨æ„ç‚¹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;sync.Pool åŒæ ·ä¸èƒ½è¢«å¤åˆ¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¥½çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œä» pool.Get å‡ºæ¥çš„å€¼è¿›è¡Œæ•°æ®çš„æ¸…ç©ºï¼ˆresetï¼‰ï¼Œé˜²æ­¢åƒåœ¾æ•°æ®æ±¡æŸ“ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;æœ¬æ–‡åŸºäºçš„ Go æºç ç‰ˆæœ¬ï¼š1.16.2&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‚è€ƒé“¾æ¥&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ·±åº¦è§£å¯† Go è¯­è¨€ä¹‹ sync.Pool https://www.cnblogs.com/qcrao-2018/p/12736031.html&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¯·é—®sync.Poolæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzIyMTY3NDI3Ng==&amp;amp;mid=2247483691&amp;amp;idx=1&amp;amp;sn=92aa7a03d8229f64eee183ad118a3336&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;https://mp.weixin.qq.com/s/2ZC1BWTylIZMmuQ3HwrnUg&lt;/a&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Go 1.13ä¸­ sync.Pool æ˜¯å¦‚ä½•ä¼˜åŒ–çš„? https://colobu.com/2019/10/08/how-is-sync-Pool-improved-in-Go-1-13/&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;sync.Pool çš„å‰–æåˆ°è¿™é‡ŒåŸºæœ¬å°±å†™å®Œäº†ï¼Œæƒ³è·Ÿæˆ‘äº¤æµçš„å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚&lt;/p&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;sync.Pool å®Œæ•´æµç¨‹å›¾è·å–é“¾æ¥ï¼šé“¾æ¥: https://pan.baidu.com/s/1T5e8qCzp8JcTgARZFjGQoQ Â å¯†ç : ngea å…¶ä»–æ¨¡å—æµç¨‹å›¾ï¼Œè¯·å…³æ³¨å…¬ä¼—å·å›å¤1è·å–ã€‚å­¦ä¹ èµ„æ–™åˆ†äº«ï¼Œå…³æ³¨å…¬ä¼—å·å›å¤æŒ‡ä»¤ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å›å¤ 0ï¼Œè·å– ã€ŠGo é¢ç»ã€‹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å›å¤ 1ï¼Œè·å– ã€ŠGo æºç æµç¨‹å›¾ã€‹&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAwMDY4ODg5MA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/picLDrXZzlob0NQenCHM7wrDdQicgdcYyDWDr78gNib4SBlxN6QnF644ytlDHx8EMq4DzbLWYqsajAXWQGDRZQ00g/0?wx_fmt=png&quot; data-nickname=&quot;HHFCodeRv&quot; data-alias=&quot;hhfcodearts&quot; data-signature=&quot;èµ„æ·± Go å¼€å‘, Dubbogo commiter, åˆ†äº«ä¸€äº›å¼€å‘æ—¥å¸¸&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>47d99f5cdb5f673de709cd170253acf5</guid>
<title>æ—©æœŸé˜¶æ®µçš„ ToB SaaS å¦‚ä½•åš â€œæ•°æ®æ”¶é›†â€</title>
<link>https://toutiao.io/k/oweu0c5</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰è¨€&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—©æœŸé˜¶æ®µçš„ToB SaaSï¼Œä»æ•°æ®è§„æ¨¡æ¥è®²ï¼Œç›¸å¯¹è¾ƒå°ï¼Œæ‰€ä»¥ä»ç ”å‘æˆæœ¬ã€æœåŠ¡å™¨æˆæœ¬ä¸Šï¼Œä¸€åˆ‡ä»ç®€ï¼Œé‡‡ç”¨ã€Œç®€å•ã€çš„æ•°æ®æ”¶é›†æ–¹æ¡ˆï¼Œè¿›è¡Œç”¨æˆ·è¡Œä¸ºæ•°æ®çš„æ”¶é›†å·¥ä½œï¼Œä»è€ŒæŒ‡å¯¼ä¸šåŠ¡å’Œäº§å“ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§æ•°æ®è®¡ç®—ä¸€èˆ¬çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;img data-backh=&quot;113&quot; data-backw=&quot;558&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;113&quot; data-ratio=&quot;0.20316301703163017&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Jq6sJhMhoXX5aPIH6NyExGowtPGibpzqPMAK7lGxjSodctufWHY6WQI45qfNBibGIlPavLwoXO7epHrfDObOziaiaQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;822&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ã€Œæ•°æ®æ”¶é›†ã€åŒ…å«äº†ã€Œæ•°æ®é‡‡é›†ã€ã€Œæ•°æ®åŠ å·¥ã€ã€Œæ•°æ®å­˜å‚¨ã€ä¸‰ä¸ªæ­¥éª¤ï¼Œé€šè¿‡è¿™äº›æ­¥éª¤å°†ç”¨æˆ·çš„è¡Œä¸ºå’Œç¯å¢ƒä¿¡æ¯è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®ï¼Œä»è€Œæ²‰æ·€ä¸ºæ•°æ®èµ„äº§ï¼Œä¸ºäº§å“è®¾è®¡ã€è¿è¥åˆ†æã€ä¸šåŠ¡å†³ç­–æä¾›é‡è¦çš„æ•°æ®æ”¯æŒã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹ä»¶æ¨¡å‹&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è®°å½•ç”¨æˆ·è¡Œä¸ºï¼Œé¦–å…ˆè¦è€ƒè™‘çš„å°±æ˜¯å¦‚ä½•ç»“æ„åŒ–ï¼Œå³äº‹ä»¶æ¨¡å‹&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;WHOï¼šç”¨æˆ·IDã€è®¾å¤‡æŒ‡çº¹ã€å­¦æ ¡ID ......&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WHENï¼šäº‹ä»¶å‘ç”Ÿæ—¶é—´ã€æ—¶é—´ä¸ŠæŠ¥æ—¶é—´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WHEREï¼šè®¾å¤‡ä¿¡æ¯ã€ç½‘ç»œç¯å¢ƒã€ä¸šåŠ¡ç¯å¢ƒ ......&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WHATï¼šäº‹ä»¶æ ‡è¯†ã€åœºæ™¯æ ‡è¯†ã€äº‹ä»¶å‚æ•°&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-backh=&quot;270&quot; data-backw=&quot;558&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;270&quot; data-ratio=&quot;0.4830508474576271&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Jq6sJhMhoXX5aPIH6NyExGowtPGibpzqPLDAdCoCAwwj0hJH2djRyNy7t2bzEkOFT3OiatmG1ZytEibqAG9BEyzwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;708&quot;/&gt;&lt;/figure&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸ‹ç‚¹SDK&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†ç®€åŒ–ä¸šåŠ¡åŒå­¦å¼€å‘åŸ‹ç‚¹æ—¶çš„å·¥ä½œé‡ï¼Œå¹¶å¯¹åŸ‹ç‚¹æ—¥å¿—è¿›è¡Œä¸€äº›å¿…è¦çš„é™åˆ¶ï¼Œéœ€è¦ç»Ÿä¸€çš„åŸ‹ç‚¹SDKï¼Œç›®å‰éœ€è¦2ä¸ªç«¯çš„SDKï¼šå¾®ä¿¡å°ç¨‹åºSDKã€JS SDK&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SDKåŒ…å«çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ç”¨æˆ·æ ‡è¯†ç®¡ç†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¾å¤‡ä¿¡æ¯ã€ç½‘ç»œç¯å¢ƒã€ä¸šåŠ¡ç¯å¢ƒè‡ªåŠ¨æ”¶é›†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;äº‹ä»¶ä¸ŠæŠ¥ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆä¸ŠæŠ¥æœºåˆ¶ï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å…¼å®¹æ€§å¤„ç†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;......&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®å­˜å‚¨&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¥å¿—ç»è¿‡ã€Œæ•°æ®é‡‡é›†ã€ã€Œæ•°æ®åŠ å·¥ã€ã€Œæ•°æ®å­˜å‚¨ã€è¿™ä¸‰ä¸ªé˜¶æ®µï¼Œåœ¨æ¯ä¸ªé˜¶æ®µåï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œä»ç±»åˆ«ã€å­˜å‚¨ä»‹è´¨ã€ä¿å­˜æ—¶é—´ä¸Šæ˜¯æœ‰åŒºåˆ«çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-backh=&quot;222&quot; data-backw=&quot;558&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;222&quot; data-ratio=&quot;0.3978102189781022&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Jq6sJhMhoXX5aPIH6NyExGowtPGibpzqP0uCG6eyoZxUyGhZhypiblD8qfWNT9VwWETOxLqoiajB2aiaxQ0Tn8IaDw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;822&quot;/&gt;&lt;/figure&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®æ”¶é›†æ¶æ„è®¾è®¡&lt;/h1&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-backh=&quot;272&quot; data-backw=&quot;558&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;272&quot; data-ratio=&quot;0.48834853090172237&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Jq6sJhMhoXX5aPIH6NyExGowtPGibpzqPOlOoJwaBSCB2icE03SI4Xel4k2taM7fjNuu4LXYiaWtJYGbp8IAK2suA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;987&quot;/&gt;&lt;/figure&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å„ç§ç«¯çš„SDKç›‘æ§ç”¨æˆ·è¡Œä¸ºï¼Œé€šè¿‡Httpè¯·æ±‚ä¸ŠæŠ¥ç»™æ—¥å¿—æ”¶é›†æœåŠ¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ—¥å¿—æ”¶é›†æœåŠ¡ï¼ŒæŠŠåŸå§‹æ•°æ®å†™åˆ°ç¡¬ç›˜ï¼Œå¹¶è¿›è¡Œå½’æ¡£æ“ä½œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é€šè¿‡Filebeat + Logstashè½¬å‘åˆ°Kafkaå†…ï¼ˆä¸»è¦æ˜¯ä¸ºäº†åœ¨é«˜å¹¶å‘ä¸‹ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ¨¡å¼é™ä½IOï¼‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ—¥å¿—ETLæœåŠ¡ï¼Œé’ˆå¯¹åŸå§‹æ•°æ®è¿›è¡Œåˆ†æå’Œç›¸å…³æ•°æ®è¡¥å…¨ï¼Œå­˜å‚¨åˆ°MySQLï¼Œå½¢æˆä¸­é—´å±‚æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ—¥å¿—åˆ†ææœåŠ¡ï¼Œé’ˆå¯¹ä¸šåŠ¡ï¼Œè¿›è¡Œæ•°æ®åˆ†æï¼Œå½¢æˆåˆ†æç»“æœæ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WEB UIé’ˆå¯¹åˆ†æç»“æœæ•°æ®è¿›è¡Œç›¸åº”çš„æŠ¥è¡¨å±•ç°&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœªæ¥é˜¶æ®µ&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®é‡&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºç›®å‰SaaSå¹³å°çš„æ•°æ®é‡ä¸å¤§ï¼Œæ•°æ®çš„ETLã€å­˜å‚¨ç­‰ç­‰ï¼Œé‡‡å–äº†ç»æµã€ç®€å•æ–¹æ¡ˆï¼Œåœ¨åé¢æ•°æ®é‡å‡çº§åï¼ŒETLå¯ä»¥é‡‡ç”¨Hiveã€Sparkã€Flinkç­‰ç­‰å¤§æ•°æ®è§£å†³æ–¹æ¡ˆï¼Œå­˜å‚¨å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼å¤§æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼ŒHDFSç­‰ç­‰ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§æ•°æ®æµ‹è¯•&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“åŸ‹ç‚¹è¾ƒå¤šã€ç«¯ç±»å‹æ¯”è¾ƒå¤šæ—¶ï¼Œä¸ºäº†ä¾¿äºQAè¿›è¡ŒåŸ‹ç‚¹æµ‹è¯•ï¼Œéœ€è¦é’ˆå¯¹QAçš„æµ‹è¯•æ–¹æ¡ˆï¼Œè¿›è¡Œè‡ªåŠ¨åŒ–å¤§æ•°æ®æµ‹è¯•æµç¨‹çš„è®¾è®¡å’Œå®ç°ï¼Œä¿è¯åŸ‹ç‚¹æ•°æ®çš„å‡†ç¡®ã€‚&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ea3f268948959a63439b5f2007fb1dbb</guid>
<title>[æ¨è] 36 å¼ å›¾è¯¦è§£ç½‘ç»œåŸºç¡€çŸ¥è¯†</title>
<link>https://toutiao.io/k/bjis3t4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;figure&gt;&lt;figcaption&gt;å‰è¨€&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;ç½‘ç»œåè®®&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h3&gt;&lt;p&gt;æˆ‘ä»¬ç”¨æ‰‹æœºè¿æ¥ä¸Šç½‘çš„æ—¶å€™ï¼Œä¼šç”¨åˆ°è®¸å¤šç½‘ç»œåè®®ã€‚ä»æ‰‹æœºè¿æ¥ WiFi å¼€å§‹ï¼Œä½¿ç”¨çš„æ˜¯ &lt;strong&gt;802.11&lt;/strong&gt; ï¼ˆå³ WLAN ï¼‰åè®®ï¼Œé€šè¿‡ WLAN æ¥å…¥ç½‘ç»œï¼›æ‰‹æœºè‡ªåŠ¨è·å–ç½‘ç»œé…ç½®ï¼Œä½¿ç”¨çš„æ˜¯ &lt;strong&gt;DHCP&lt;/strong&gt; åè®®ï¼Œè·å–é…ç½®åæ‰‹æœºæ‰èƒ½æ­£å¸¸é€šä¿¡ã€‚è¿™æ—¶æ‰‹æœºå·²ç»è¿å…¥&lt;strong&gt;å±€åŸŸç½‘&lt;/strong&gt;ï¼Œå¯ä»¥è®¿é—®å±€åŸŸç½‘å†…çš„è®¾å¤‡å’Œèµ„æºï¼Œä½†è¿˜ä¸èƒ½ä½¿ç”¨äº’è”ç½‘åº”ç”¨ï¼Œä¾‹å¦‚ï¼šå¾®ä¿¡ã€æŠ–éŸ³ç­‰ã€‚æƒ³è¦è®¿é—®&lt;strong&gt;äº’è”ç½‘&lt;/strong&gt;ï¼Œè¿˜éœ€è¦åœ¨æ‰‹æœºçš„ä¸Šè”ç½‘ç»œè®¾å¤‡ä¸Šå®ç°ç›¸å…³åè®®ï¼Œå³åœ¨æ— çº¿è·¯ç”±å™¨ä¸Šé…ç½® &lt;strong&gt;NAT&lt;/strong&gt;ã€ &lt;strong&gt;PPPOE&lt;/strong&gt; ç­‰åŠŸèƒ½ï¼Œå†é€šè¿‡è¿è¥å•†æä¾›çš„äº’è”ç½‘çº¿è·¯æŠŠå±€åŸŸç½‘æ¥å…¥åˆ°äº’è”ç½‘ä¸­ï¼Œæ‰‹æœºå°±å¯ä»¥ä¸Šç½‘ç©å¾®ä¿¡ã€åˆ·æŠ–éŸ³äº†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.26864244741873805&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhAibTZMiajUGdG2HCNXoBJPMz4eJ0vkpPLBr0AkBco5tRpQRyuQRiad7Wg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1046&quot; title=&quot;ç½‘ç»œåè®®ç¤ºæ„å›¾&quot;/&gt;&lt;figcaption&gt;ç½‘ç»œåè®®ç¤ºæ„å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;å±€åŸŸç½‘&lt;/strong&gt; ï¼šå°èŒƒå›´å†…çš„ç§æœ‰ç½‘ç»œï¼Œä¸€ä¸ªå®¶åº­å†…çš„ç½‘ç»œã€ä¸€ä¸ªå…¬å¸å†…çš„ç½‘ç»œã€ä¸€ä¸ªæ ¡å›­å†…çš„ç½‘ç»œéƒ½å±äºå±€åŸŸç½‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å¹¿åŸŸç½‘&lt;/strong&gt;ï¼šæŠŠä¸åŒåœ°åŸŸçš„å±€åŸŸç½‘äº’ç›¸è¿æ¥èµ·æ¥çš„ç½‘ç»œã€‚è¿è¥å•†æ­å»ºå¹¿åŸŸç½‘å®ç°è·¨åŒºåŸŸçš„ç½‘ç»œäº’è¿ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;äº’è”ç½‘&lt;/strong&gt;ï¼šäº’è”å…¨ä¸–ç•Œçš„ç½‘ç»œã€‚äº’è”ç½‘æ˜¯ä¸€ä¸ªå¼€æ”¾ã€äº’è”çš„ç½‘ç»œï¼Œä¸å±äºä»»ä½•ä¸ªäººå’Œä»»ä½•æœºæ„ï¼Œæ¥å…¥äº’è”ç½‘åå¯ä»¥å’Œäº’è”ç½‘çš„ä»»ä½•ä¸€å°ä¸»æœºè¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ‰‹æœºã€æ— çº¿è·¯ç”±å™¨ç­‰è®¾å¤‡é€šè¿‡å¤šç§&lt;strong&gt;ç½‘ç»œåè®®&lt;/strong&gt;å®ç°é€šä¿¡ã€‚ç½‘ç»œåè®®å°±æ˜¯ä¸ºäº†é€šä¿¡å„æ–¹èƒ½å¤Ÿäº’ç›¸äº¤æµè€Œå®šä¹‰çš„æ ‡å‡†æˆ–è§„åˆ™ï¼Œè®¾å¤‡åªè¦éµå¾ªç›¸åŒçš„ç½‘ç»œåè®®å°±èƒ½å¤Ÿå®ç°é€šä¿¡ã€‚é‚£ç½‘ç»œåè®®åˆæ˜¯è°è§„å®šçš„å‘¢ï¼ŸISO åˆ¶å®šäº†ä¸€ä¸ªå›½é™…æ ‡å‡† &lt;strong&gt;OSI&lt;/strong&gt; ï¼Œ å…¶ä¸­çš„ &lt;strong&gt;OSI å‚è€ƒæ¨¡å‹&lt;/strong&gt;å¸¸è¢«ç”¨äºç½‘ç»œåè®®çš„åˆ¶å®šã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;2.3259668508287294&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh6uQJNdNmR86rKBMFTbTXWhE2TZgktqBJo5zPKad8UuWR7QRnRxQw4g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;181&quot; title=&quot;OSI å‚è€ƒæ¨¡å‹å›¾&quot;/&gt;&lt;figcaption&gt;OSI å‚è€ƒæ¨¡å‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;OSI å‚è€ƒæ¨¡å‹&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h3&gt;&lt;p&gt;OSI å‚è€ƒæ¨¡å‹å°†ç½‘ç»œåè®®æä¾›çš„æœåŠ¡åˆ†æˆ &lt;strong&gt;7&lt;/strong&gt; å±‚ï¼Œå¹¶å®šä¹‰æ¯ä¸€å±‚çš„&lt;strong&gt;æœåŠ¡&lt;/strong&gt;å†…å®¹ï¼Œå®ç°æ¯ä¸€å±‚æœåŠ¡çš„æ˜¯&lt;strong&gt;åè®®&lt;/strong&gt;ï¼Œåè®®çš„å…·ä½“å†…å®¹æ˜¯&lt;strong&gt;è§„åˆ™&lt;/strong&gt;ã€‚ä¸Šä¸‹å±‚ä¹‹é—´é€šè¿‡&lt;strong&gt;æ¥å£&lt;/strong&gt;è¿›è¡Œäº¤äº’ï¼ŒåŒä¸€å±‚ä¹‹é—´é€šè¿‡&lt;strong&gt;åè®®&lt;/strong&gt;è¿›è¡Œäº¤äº’ã€‚OSI å‚è€ƒæ¨¡å‹åªå¯¹å„å±‚çš„æœåŠ¡åšäº†ç²—ç•¥çš„ç•Œå®šï¼Œå¹¶æ²¡æœ‰å¯¹åè®®è¿›è¡Œè¯¦ç»†çš„å®šä¹‰ï¼Œä½†æ˜¯è®¸å¤šåè®®éƒ½å¯¹åº”äº† 7 ä¸ªåˆ†å±‚çš„æŸä¸€å±‚ã€‚æ‰€ä»¥è¦äº†è§£ç½‘ç»œï¼Œé¦–å…ˆè¦äº†è§£ OSI å‚è€ƒæ¨¡å‹ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;1.2626970227670753&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh4CH4VEic76p0gs0OxOvdqHF2XhTvC47ic65TnEFnqHicFZeP10HjJoZpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;571&quot; title=&quot;OSI å‚è€ƒæ¨¡å‹åˆ†å±‚åŠŸèƒ½&quot;/&gt;&lt;figcaption&gt;OSI å‚è€ƒæ¨¡å‹åˆ†å±‚åŠŸèƒ½&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;åº”ç”¨å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;7&lt;/strong&gt; å±‚ï¼ˆæœ€é«˜å±‚ï¼‰ã€‚åº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„æ¥å£ï¼Œç›´æ¥å‘ç”¨æˆ·æä¾›æœåŠ¡ã€‚åº”ç”¨å±‚åè®®æœ‰ç”µå­é‚®ä»¶ã€è¿œç¨‹ç™»å½•ç­‰åè®®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.8047808764940239&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhBHM0ID4PHB6gmciaiajNh6NKpj18AvyA0UpiaqzAibMOCo4Oic14QbTiavkQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;502&quot; title=&quot;åº”ç”¨å±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;åº”ç”¨å±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;è¡¨ç¤ºå±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;6&lt;/strong&gt; å±‚ã€‚è´Ÿè´£æ•°æ®æ ¼å¼çš„äº’ç›¸è½¬æ¢ï¼Œå¦‚ç¼–ç ã€æ•°æ®æ ¼å¼è½¬æ¢å’ŒåŠ å¯†è§£å¯†ç­‰ã€‚ä¿è¯ä¸€ä¸ªç³»ç»Ÿåº”ç”¨å±‚å‘å‡ºçš„ä¿¡æ¯å¯è¢«å¦ä¸€ç³»ç»Ÿçš„åº”ç”¨å±‚è¯»å‡ºã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3237518910741301&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhbjeLdvrTPSibKXHcvPYNQ7vIxPm4xa6gXTT30UPibGOmsveBl0Ow9k1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;661&quot; title=&quot;è¡¨ç¤ºå±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;è¡¨ç¤ºå±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;ä¼šè¯å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;5&lt;/strong&gt; å±‚ã€‚ä¸»è¦æ˜¯ç®¡ç†å’Œåè°ƒä¸åŒä¸»æœºä¸Šå„ç§è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼ˆå¯¹è¯ï¼‰ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¼šè¯ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.1760797342192691&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhU62dNRZzibVgXiaUyJeWUNp9tQRQlKtIuGdCPhCaEUsIRtR8fAJv6ZicA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; title=&quot;ä¼šè¯å±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;ä¼šè¯å±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;ä¼ è¾“å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;4&lt;/strong&gt; å±‚ã€‚ä¸ºä¸Šå±‚åè®®æä¾›é€šä¿¡ä¸»æœºé—´çš„å¯é å’Œé€æ˜çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼ŒåŒ…æ‹¬å¤„ç†å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶ç­‰é—®é¢˜ã€‚åªåœ¨é€šä¿¡ä¸»æœºä¸Šå¤„ç†ï¼Œä¸éœ€è¦åœ¨è·¯ç”±å™¨ä¸Šå¤„ç†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.2591362126245847&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhtPmon7ib0qicetLnGetZUBicwASfTuwDMrfhwulx8U1P3rwdicP8BAAmWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; title=&quot;ä¼ è¾“å±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;ä¼ è¾“å±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;ç½‘ç»œå±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;3&lt;/strong&gt; å±‚ã€‚åœ¨ç½‘ç»œä¸Šå°†æ•°æ®ä¼ è¾“åˆ°ç›®çš„åœ°å€ï¼Œä¸»è¦è´Ÿè´£å¯»å€å’Œè·¯ç”±é€‰æ‹©ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3687707641196013&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhMpuqNicFkyCSoRZplxmDWYQdkWDOqKUFzZx7y7tcDuJCzAoib3FFljpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; title=&quot;ç½‘ç»œå±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;ç½‘ç»œå±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;æ•°æ®é“¾è·¯å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ 2 å±‚ã€‚è´Ÿè´£ç‰©ç†å±‚é¢ä¸Šä¸¤ä¸ªäº’è¿ä¸»æœºé—´çš„é€šä¿¡ä¼ è¾“ï¼Œå°†ç”± 0 ã€ 1 ç»„æˆçš„æ¯”ç‰¹æµåˆ’åˆ†æˆæ•°æ®å¸§ä¼ è¾“ç»™å¯¹ç«¯ï¼Œå³æ•°æ®å¸§çš„ç”Ÿæˆä¸æ¥æ”¶ã€‚é€šä¿¡ä¼ è¾“å®é™…ä¸Šæ˜¯é€šè¿‡ç‰©ç†çš„ä¼ è¾“ä»‹è´¨å®ç°çš„ã€‚æ•°æ®é“¾è·¯å±‚çš„ä½œç”¨å°±æ˜¯åœ¨è¿™äº›é€šè¿‡ä¼ è¾“ä»‹è´¨äº’è¿çš„è®¾å¤‡ä¹‹é—´è¿›è¡Œæ•°æ®å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;ç½‘ç»œå±‚ä¸æ•°æ®é“¾è·¯å±‚éƒ½æ˜¯åŸºäºç›®æ ‡åœ°å€å°†æ•°æ®å‘é€ç»™æ¥æ”¶ç«¯çš„ï¼Œä½†æ˜¯ç½‘ç»œå±‚è´Ÿè´£å°†æ•´ä¸ªæ•°æ®å‘é€ç»™æœ€ç»ˆç›®æ ‡åœ°å€ï¼Œ è€Œæ•°æ®é“¾è·¯å±‚åˆ™åªè´Ÿè´£å‘é€ä¸€ä¸ªåˆ†æ®µå†…çš„æ•°æ®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.18635607321131448&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh0FPR0aiaAtEK7jwHpiaCe2BWYbiaKBs1HibaCQRYSMicW9CqhxMBfxhcDMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;601&quot; title=&quot;æ•°æ®é“¾è·¯å±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;æ•°æ®é“¾è·¯å±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;ç‰©ç†å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;OSIå‚è€ƒæ¨¡å‹çš„ç¬¬ &lt;strong&gt;1&lt;/strong&gt; å±‚ï¼ˆæœ€åº•å±‚ï¼‰ã€‚è´Ÿè´£é€»è¾‘ä¿¡å·ï¼ˆæ¯”ç‰¹æµï¼‰ä¸ç‰©ç†ä¿¡å·ï¼ˆç”µä¿¡å·ã€å…‰ä¿¡å·ï¼‰ä¹‹é—´çš„äº’ç›¸è½¬æ¢ï¼Œé€šè¿‡ä¼ è¾“ä»‹è´¨ä¸ºæ•°æ®é“¾è·¯å±‚æä¾›ç‰©ç†è¿æ¥ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.23688663282571912&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhReb6DfDyDYXURlSpp35nqeVm1sPv3L15Vk1DGaqvna08QsoVqRIEPA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;591&quot; title=&quot;ç‰©ç†å±‚ç¤ºä¾‹å›¾&quot;/&gt;&lt;figcaption&gt;ç‰©ç†å±‚ç¤ºä¾‹å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;TCP/IP å‚è€ƒæ¨¡å‹&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h3&gt;&lt;p&gt;ç”±äº OSI å‚è€ƒæ¨¡å‹æŠŠæœåŠ¡åˆ’å¾—è¿‡äºçç¢ï¼Œå…ˆå®šä¹‰å‚è€ƒæ¨¡å‹å†å®šä¹‰åè®®ï¼Œæœ‰ç‚¹ç†æƒ³åŒ–ã€‚TCP/IP æ¨¡å‹åˆ™æ­£å¥½ç›¸åï¼Œé€šè¿‡å·²æœ‰çš„åè®®å½’çº³æ€»ç»“å‡ºæ¥çš„æ¨¡å‹ï¼Œæˆä¸ºä¸šç•Œçš„å®é™…ç½‘ç»œåè®®æ ‡å‡†ã€‚&lt;/p&gt;&lt;p&gt;TCP/IP æ˜¯æœ‰ç”± IETF å»ºè®®ã€æ¨è¿›å…¶æ ‡å‡†åŒ–çš„ä¸€ç§åè®®ï¼Œæ˜¯ IP ã€ TCP ã€ HTTP ç­‰åè®®çš„é›†åˆã€‚TCP/IP æ˜¯ä¸ºä½¿ç”¨äº’è”ç½‘è€Œå¼€å‘åˆ¶å®šçš„åè®®æ—ï¼Œæ‰€ä»¥äº’è”ç½‘çš„åè®®å°±æ˜¯ TCP/IP ã€‚&lt;/p&gt;&lt;p&gt;å…ˆä»‹ç»ä¸‹ TCP/IP ä¸ OSI åˆ†å±‚ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠ TCP/IP æ¯å±‚çš„ä¸»è¦åè®®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.554006968641115&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhCdAvJnMQiaiahhib7JLKzJNfiafoTy8ia11vgseBQ5led0hicgic7iauq7w71w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;861&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;ç½‘ç»œæ¥å…¥å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;TCP/IP æ˜¯ä»¥ OSI å‚è€ƒæ¨¡å‹çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚çš„åŠŸèƒ½æ˜¯é€æ˜çš„ä¸ºå‰æåˆ¶å®šçš„ï¼Œå¹¶æœªå¯¹è¿™ä¸¤å±‚è¿›è¡Œå®šä¹‰ï¼Œæ‰€ä»¥å¯ä»¥æŠŠç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚åˆå¹¶ç§°ä¸º&lt;strong&gt;ç½‘ç»œæ¥å…¥å±‚&lt;/strong&gt;ã€‚ç½‘ç»œæ¥å…¥å±‚æ˜¯å¯¹ç½‘ç»œä»‹è´¨çš„ç®¡ç†ï¼Œå®šä¹‰å¦‚ä½•ä½¿ç”¨ç½‘ç»œæ¥ä¼ é€æ•°æ®ã€‚ä½†æ˜¯åœ¨é€šä¿¡è¿‡ç¨‹ä¸­è¿™ä¸¤å±‚èµ·åˆ°çš„ä½œç”¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¹Ÿæœ‰æŠŠç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚åˆ†åˆ«ç§°ä¸º&lt;strong&gt;ç¡¬ä»¶&lt;/strong&gt;ã€&lt;strong&gt;ç½‘ç»œæ¥å£å±‚&lt;/strong&gt;ã€‚TCP/IP åˆ†ä¸ºå››å±‚æˆ–è€…äº”å±‚éƒ½å¯ä»¥ï¼Œåªè¦èƒ½ç†è§£å…¶ä¸­çš„åŸç†å³å¯ã€‚&lt;/p&gt;&lt;p&gt;è®¾å¤‡ä¹‹é—´é€šè¿‡ç‰©ç†çš„ä¼ è¾“ä»‹è´¨äº’è¿ï¼Œ è€Œäº’è¿çš„è®¾å¤‡ä¹‹é—´ä½¿ç”¨ &lt;strong&gt;MAC åœ°å€&lt;/strong&gt;å®ç°æ•°æ®ä¼ è¾“ã€‚é‡‡ç”¨ MAC åœ°å€ï¼Œç›®çš„æ˜¯ä¸ºäº†è¯†åˆ«è¿æ¥åˆ°åŒä¸€ä¸ªä¼ è¾“ä»‹è´¨ä¸Šçš„è®¾å¤‡ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;ç½‘ç»œå±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ç›¸å½“äº OSI æ¨¡å‹ä¸­çš„ç¬¬ 3 å±‚ç½‘ç»œå±‚ï¼Œä½¿ç”¨ &lt;strong&gt;IP åè®®&lt;/strong&gt;ã€‚IP åè®®åŸºäº &lt;strong&gt;IP åœ°å€&lt;/strong&gt;è½¬å‘åˆ†åŒ…æ•°æ®ï¼Œä½œç”¨æ˜¯å°†æ•°æ®åŒ…ä»æºåœ°å€å‘é€åˆ°ç›®çš„åœ°å€ã€‚&lt;/p&gt;&lt;p&gt;TCP/IP åˆ†å±‚ä¸­çš„ç½‘ç»œå±‚ä¸ä¼ è¾“å±‚çš„åŠŸèƒ½é€šå¸¸ç”±&lt;strong&gt;æ“ä½œç³»ç»Ÿ&lt;/strong&gt;æä¾›ã€‚Â è·¯ç”±å™¨å°±æ˜¯é€šè¿‡ç½‘ç»œå±‚å®ç°&lt;strong&gt;è½¬å‘æ•°æ®åŒ…&lt;/strong&gt;çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.31893687707641194&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhgmia5jI0BhocAEYoZp4Yy0fkguHEsFOAUcJRiaw0wjtfq6z3r17tXyxQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; title=&quot;ç½‘ç»œå±‚&quot;/&gt;&lt;figcaption&gt;ç½‘ç»œå±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ç½‘ç»œä¼ è¾“ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¼šæ ¹æ®æ•°æ®çš„åœ°å€ä¿¡æ¯ï¼Œæ¥åˆ¤æ–­è¯¥æŠ¥æ–‡åº”è¯¥ç”±å“ªä¸ªç½‘å¡å‘é€å‡ºå»ã€‚å„ä¸ªåœ°å€ä¼šå‚è€ƒä¸€ä¸ªå‘å‡ºæ¥å£åˆ—è¡¨ï¼Œ MAC å¯»å€ä¸­æ‰€å‚è€ƒçš„è¿™å¼ è¡¨å«åš &lt;strong&gt;MAC åœ°å€è½¬å‘è¡¨&lt;/strong&gt;ï¼Œè€Œ IP å¯»å€ä¸­æ‰€å‚è€ƒçš„å«åš&lt;strong&gt;è·¯ç”±æ§åˆ¶è¡¨&lt;/strong&gt;ã€‚MAC åœ°å€è½¬å‘è¡¨æ ¹æ®è‡ªå­¦è‡ªåŠ¨ç”Ÿæˆã€‚è·¯ç”±æ§åˆ¶è¡¨åˆ™æ ¹æ®è·¯ç”±åè®®è‡ªåŠ¨ç”Ÿæˆã€‚MAC åœ°å€è½¬å‘è¡¨ä¸­æ‰€è®°å½•çš„æ˜¯å®é™…çš„ MAC åœ°å€æœ¬èº«ï¼Œè€Œè·¯ç”±è¡¨ä¸­è®°å½•çš„ IP åœ°å€åˆ™æ˜¯é›†ä¸­äº†ä¹‹åçš„ç½‘ç»œå·ï¼ˆå³ç½‘ç»œå·ä¸å­ç½‘æ©ç ï¼‰ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;IP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;IP æ˜¯è·¨è¶Šç½‘ç»œä¼ é€æ•°æ®åŒ…ï¼Œä½¿ç”¨ IP åœ°å€ä½œä¸ºä¸»æœºçš„æ ‡è¯†ï¼Œä½¿æ•´ä¸ªäº’è”ç½‘éƒ½èƒ½æ”¶åˆ°æ•°æ®çš„åè®®ã€‚IP åè®®ç‹¬ç«‹äºåº•å±‚ä»‹è´¨ï¼Œå®ç°ä»æºåˆ°ç›®çš„çš„æ•°æ®è½¬å‘ã€‚IP åè®®ä¸å…·æœ‰é‡å‘æœºåˆ¶ï¼Œå±äºéå¯é æ€§ä¼ è¾“åè®®ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ICMP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ç”¨äºåœ¨ IP ä¸»æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶æ¶ˆæ¯ï¼Œç”¨æ¥è¯Šæ–­ç½‘ç»œçš„å¥åº·çŠ¶å†µã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ARP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ä»æ•°æ®åŒ…çš„ IP åœ°å€ä¸­è§£æå‡º MAC åœ°å€çš„ä¸€ç§åè®®ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;&lt;span&gt;ä¼ è¾“å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ç›¸å½“äº OSI æ¨¡å‹ä¸­çš„ç¬¬ 4 å±‚ä¼ è¾“å±‚ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯è®©åº”ç”¨ç¨‹åºä¹‹é—´äº’ç›¸é€šä¿¡ï¼Œé€šè¿‡&lt;strong&gt;ç«¯å£å·&lt;/strong&gt;è¯†åˆ«åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨çš„åè®®æœ‰é¢å‘è¿æ¥çš„ &lt;strong&gt;TCP&lt;/strong&gt; åè®®å’Œé¢å‘æ— è¿æ¥çš„ &lt;strong&gt;UDP&lt;/strong&gt; åè®®ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;é¢å‘è¿æ¥&lt;/strong&gt;æ˜¯åœ¨å‘é€æ•°æ®ä¹‹å‰ï¼Œ åœ¨æ”¶å‘ä¸»æœºä¹‹é—´è¿æ¥ä¸€æ¡é€»è¾‘é€šä¿¡é“¾è·¯ã€‚å¥½æ¯”å¹³å¸¸æ‰“ç”µè¯ï¼Œè¾“å…¥å®Œå¯¹æ–¹ç”µè¯å·ç æ‹¨å‡ºä¹‹åï¼Œåªæœ‰å¯¹æ–¹æ¥é€šç”µè¯æ‰èƒ½çœŸæ­£é€šè¯ï¼Œé€šè¯ç»“æŸåå°†ç”µè¯æœºæ‰£ä¸Šå°±å¦‚åŒåˆ‡æ–­ç”µæºã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;é¢å‘æ— è¿æ¥&lt;/strong&gt;ä¸è¦æ±‚å»ºç«‹å’Œæ–­å¼€è¿æ¥ã€‚å‘é€ç«¯å¯äºä»»ä½•æ—¶å€™è‡ªç”±å‘é€æ•°æ®ã€‚å¦‚åŒå»å¯„ä¿¡ï¼Œä¸éœ€è¦ç¡®è®¤æ”¶ä»¶äººä¿¡æ¯æ˜¯å¦çœŸå®å­˜åœ¨ï¼Œä¹Ÿä¸éœ€è¦ç¡®è®¤æ”¶ä»¶äººæ˜¯å¦èƒ½æ”¶åˆ°ä¿¡ä»¶ï¼Œåªè¦æœ‰ä¸ªå¯„ä»¶åœ°å€å°±å¯ä»¥å¯„ä¿¡äº†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3768472906403941&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh1FDAMrFcLpUrjPv5QwO1NIxdTdsaSxMYQRVd6SGx37kmLAjwlN8uTg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;812&quot; title=&quot;ä¼ è¾“å±‚&quot;/&gt;&lt;figcaption&gt;ä¼ è¾“å±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;åº”ç”¨å±‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ç›¸å½“äº OSI æ¨¡å‹ä¸­çš„ç¬¬ 5 - 7 å±‚çš„é›†åˆï¼Œä¸ä»…è¦å®ç° OSI æ¨¡å‹åº”ç”¨å±‚çš„åŠŸèƒ½ï¼Œè¿˜è¦å®ç°ä¼šè¯å±‚å’Œè¡¨ç¤ºå±‚çš„åŠŸèƒ½ã€‚HTTP ã€ POP3 ã€ TELNET ã€ SSH ã€ FTP ã€ SNMPéƒ½æ˜¯åº”ç”¨å±‚åè®®ã€‚&lt;/p&gt;&lt;p&gt;TCP/IP åº”ç”¨çš„æ¶æ„ç»å¤§å¤šæ•°å±äº&lt;strong&gt;å®¢æˆ·ç«¯/æœåŠ¡ç«¯&lt;/strong&gt;æ¨¡å‹ã€‚æä¾›æœåŠ¡çš„ç¨‹åºå«æœåŠ¡ç«¯ï¼Œ æ¥å—æœåŠ¡çš„ç¨‹åºå«å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¯ä»¥éšæ—¶å‘é€è¯·æ±‚ç»™æœåŠ¡ç«¯ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3768472906403941&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhyKGe6YR44yJCG4CDH00V7a4gPZtxy7gPVpKAFEOFBQCDPiaRJstBTwA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;812&quot; title=&quot;åº”ç”¨å±‚&quot;/&gt;&lt;figcaption&gt;åº”ç”¨å±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;HTTP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æ˜¯ WWW æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åº”ç”¨å±‚é€šä¿¡åè®®ï¼Œæ‰€ä¼ è¾“æ•°æ®çš„ä¸»è¦æ ¼å¼æ˜¯ HTML ã€‚HTTP å®šä¹‰é«˜çº§å‘½ä»¤æˆ–è€…æ–¹æ³•ä¾›æµè§ˆå™¨ç”¨æ¥ä¸WebæœåŠ¡å™¨é€šä¿¡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;POP3&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼Œé‚®ä»¶å®¢æˆ·ç«¯å’Œé‚®ä»¶æœåŠ¡å™¨ä½¿ç”¨ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;TELNET å’Œ SSH&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;è¿œç¨‹ç»ˆç«¯åè®®ï¼Œç”¨äºè¿œç¨‹ç®¡ç†ç½‘ç»œè®¾å¤‡ã€‚TELNET æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œ SSH æ˜¯åŠ å¯†ä¼ è¾“ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;SNMP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ç®€å•ç½‘ç»œç®¡ç†åè®®ï¼Œç”¨äºç½‘ç®¡è½¯ä»¶è¿›è¡Œç½‘ç»œè®¾å¤‡çš„ç›‘æ§å’Œç®¡ç†ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;&lt;span&gt;å°è£…ä¸è§£å°è£…&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;é€šå¸¸ï¼Œä¸ºåè®®æä¾›çš„ä¿¡æ¯ä¸ºåŒ…&lt;strong&gt;å¤´éƒ¨&lt;/strong&gt;ï¼Œæ‰€è¦å‘é€çš„å†…å®¹ä¸º&lt;strong&gt;æ•°æ®&lt;/strong&gt;ã€‚æ¯ä¸ªåˆ†å±‚ä¸­ï¼Œéƒ½ä¼šå¯¹æ‰€å‘é€çš„æ•°æ®é™„åŠ ä¸€ä¸ªå¤´éƒ¨ï¼Œåœ¨è¿™ä¸ªå¤´éƒ¨ä¸­åŒ…å«äº†è¯¥å±‚å¿…è¦çš„ä¿¡æ¯ï¼Œ å¦‚å‘é€çš„ç›®æ ‡åœ°å€ä»¥åŠåè®®ç›¸å…³ä¿¡æ¯ã€‚åœ¨ä¸‹ä¸€å±‚çš„è§’åº¦çœ‹ï¼Œä»ä¸Šä¸€åˆ†å±‚æ”¶åˆ°çš„åŒ…å…¨éƒ¨éƒ½è¢«è®¤ä¸ºæ˜¯æœ¬å±‚çš„æ•°æ®ã€‚&lt;/p&gt;&lt;p&gt;æ•°æ®å‘é€å‰ï¼ŒæŒ‰ç…§å‚è€ƒæ¨¡å‹ä»ä¸Šåˆ°ä¸‹ï¼Œåœ¨æ•°æ®ç»è¿‡æ¯ä¸€å±‚æ—¶ï¼Œæ·»åŠ åè®®æŠ¥æ–‡å¤´éƒ¨ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å«&lt;strong&gt;å°è£…&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.2861378799110452&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhXtASosjXf7a0LethmCGpQMX5nriaOPCWyIvHMYiaHPECaUpAmaLicnggg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1349&quot; title=&quot;å°è£…&quot;/&gt;&lt;figcaption&gt;å°è£…&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ•°æ®æ¥æ”¶åï¼ŒæŒ‰ç…§å‚è€ƒæ¨¡å‹ä»ä¸‹åˆ°ä¸Šï¼Œåœ¨æ•°æ®ç»è¿‡æ¯ä¸€å±‚æ—¶ï¼Œå»æ‰åè®®å¤´éƒ¨ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹å«&lt;strong&gt;è§£å°è£…&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.2861378799110452&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhkVS7NZXRM4IYDAYFPvM2rKT9sNLfcg7Q9PLGvibevEjL5raXNibUicLPA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1349&quot; title=&quot;è§£å°è£…&quot;/&gt;&lt;figcaption&gt;è§£å°è£…&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ç»è¿‡ä¼ è¾“å±‚åè®®å°è£…åçš„æ•°æ®ç§°ä¸º&lt;strong&gt;æ®µ&lt;/strong&gt;ï¼Œç»è¿‡ç½‘ç»œå±‚åè®®å°è£…åçš„æ•°æ®ç§°ä¸º&lt;strong&gt;åŒ…&lt;/strong&gt;ï¼Œç»è¿‡æ•°æ®é“¾è·¯å±‚åè®®å°è£…åçš„æ•°æ®ç§°ä¸º&lt;strong&gt;å¸§&lt;/strong&gt;ï¼Œç‰©ç†å±‚ä¼ è¾“çš„æ•°æ®ä¸º&lt;strong&gt;æ¯”ç‰¹&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;TCP/IP é€šä¿¡ä¸­ä½¿ç”¨ MAC åœ°å€ã€ IP åœ°å€ã€ç«¯å£å·ç­‰ä¿¡æ¯ä½œä¸º&lt;strong&gt;åœ°å€æ ‡è¯†&lt;/strong&gt;ã€‚ç”šè‡³åœ¨åº”ç”¨å±‚ä¸­ï¼Œå¯ä»¥å°†ç”µå­é‚®ä»¶åœ°å€ä½œä¸ºç½‘ç»œé€šä¿¡çš„åœ°å€ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;å®é™…æ•°æ®ä¼ è¾“ä¸¾ä¾‹&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;å®é™…ç”Ÿæ´»ä¸­ï¼Œäº’è”ç½‘æ˜¯ä½¿ç”¨çš„ TCP/IP åè®®è¿›è¡Œç½‘ç»œè¿æ¥çš„ã€‚æˆ‘ä»¬ä»¥&lt;strong&gt;è®¿é—®ç½‘ç«™&lt;/strong&gt;ä¸ºä¾‹ï¼Œçœ‹çœ‹ç½‘ç»œæ˜¯å¦‚ä½•è¿›è¡Œé€šä¿¡çš„ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.4305750350631136&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh4ortuHsDtNOO0wck96WUJX55pIDLJPhZAcFtbKprtVawgklvThCkcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1426&quot; title=&quot;æ•°æ®ä¼ è¾“ä¸¾ä¾‹&quot;/&gt;&lt;figcaption&gt;æ•°æ®ä¼ è¾“ä¸¾ä¾‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;h5&gt;&lt;span&gt;å‘é€æ•°æ®åŒ…&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;è®¿é—® HTTP ç½‘ç«™é¡µé¢æ—¶ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ç½‘å€ï¼Œæ•²ä¸‹å›è½¦é”®å°±å¼€å§‹è¿›è¡Œ TCP/IP é€šä¿¡äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;åº”ç”¨ç¨‹åºå¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.7429305912596401&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhLwc6n2P5M6fwW9obU0DWdXeoich6EHxLtohob84qjj4LE0NBxCMBLOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;778&quot; title=&quot;åº”ç”¨å±‚&quot;/&gt;&lt;figcaption&gt;åº”ç”¨å±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;é¦–å…ˆï¼Œåº”ç”¨ç¨‹åºä¸­ä¼šè¿›è¡Œ HTML æ ¼å¼&lt;strong&gt;ç¼–ç &lt;/strong&gt;å¤„ç†ï¼Œç›¸å½“äº OSI çš„è¡¨ç¤ºå±‚åŠŸèƒ½ã€‚ç¼–ç è½¬åŒ–åï¼Œä¸ä¸€å®šä¼šé©¬ä¸Šå‘é€å‡ºå»ï¼Œç›¸å½“äºä¼šè¯å±‚çš„åŠŸèƒ½ã€‚åœ¨è¯·æ±‚å‘é€çš„é‚£ä¸€åˆ»ï¼Œå»ºç«‹ TCP è¿æ¥ï¼Œç„¶ååœ¨ TCP è¿æ¥ä¸Šå‘é€æ•°æ®ã€‚æ¥ä¸‹æ¥å°±æ˜¯å°†æ•°æ®å‘é€ç»™ä¸‹ä¸€å±‚çš„ TCP è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;TCP æ¨¡å—å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.7429305912596401&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhOTXiaE6HEHCITq3X6icFDsdwUAv9UTrUichKVibSEBUtzt1IseM7GKlQww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;778&quot; title=&quot;ä¼ è¾“å±‚&quot;/&gt;&lt;figcaption&gt;ä¼ è¾“å±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;TCP ä¼šå°†åº”ç”¨å±‚å‘æ¥çš„æ•°æ®é¡ºåˆ©çš„å‘é€è‡³ç›®çš„åœ°ã€‚å®ç°å¯é ä¼ è¾“çš„åŠŸèƒ½ï¼Œéœ€è¦ç»™æ•°æ®å°è£… TCP å¤´éƒ¨ä¿¡æ¯ã€‚TCP å¤´éƒ¨ä¿¡æ¯åŒ…æ‹¬æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼ˆè¯†åˆ«ä¸»æœºä¸Šåº”ç”¨ï¼‰ã€åºå·ï¼ˆç¡®è®¤å“ªéƒ¨åˆ†æ˜¯æ•°æ®ï¼‰ä»¥åŠæ ¡éªŒå’Œï¼ˆåˆ¤æ–­æ•°æ®æ˜¯å¦è¢«æŸåï¼‰ã€‚éšå&lt;strong&gt;å°è£…&lt;/strong&gt;äº† TCP å¤´éƒ¨ä¿¡æ¯çš„æ®µå†å‘é€ç»™ IP ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;IP Â æ¨¡å—å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.7429305912596401&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhKsAaleKcoqDgOHVfmQrPNmG0JypanWX6L4T9fUT1GrxxtCA2GRu95w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;778&quot; title=&quot;ç½‘ç»œå±‚&quot;/&gt;&lt;figcaption&gt;ç½‘ç»œå±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;IP å°† TCP ä¼ è¿‡æ¥çš„æ•°æ®æ®µå½“åšè‡ªå·±çš„æ•°æ®ï¼Œå¹¶å°è£… IP å¤´éƒ¨ä¿¡æ¯ã€‚IP å¤´éƒ¨ä¿¡æ¯ä¸­åŒ…å«ç›®çš„ IP åœ°å€å’Œæº IP åœ°å€ï¼Œä»¥åŠä¸Šå±‚åè®®ç±»å‹ä¿¡æ¯ã€‚&lt;/p&gt;&lt;p&gt;IP åŒ…ç”Ÿæˆåï¼Œæ ¹æ®ä¸»æœº&lt;strong&gt;è·¯ç”±è¡¨&lt;/strong&gt;è¿›è¡Œæ•°æ®å‘é€ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç½‘ç»œæ¥å£å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.7419768934531451&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh7fzBhQp6RyUz6tOPy9xomnB1jd4aThwQ5HS4N3hWn7jI3ic4TKXYYfQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;779&quot; title=&quot;ç‰©ç†å±‚&quot;/&gt;&lt;figcaption&gt;ç‰©ç†å±‚&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ç½‘ç»œæ¥å£å¯¹ä¼ è¿‡æ¥çš„ IP åŒ…å°è£…ä¸Šä»¥å¤ªç½‘å¤´éƒ¨ä¿¡æ¯å¹¶è¿›è¡Œå‘é€å¤„ç†ã€‚ä»¥å¤ªç½‘å¤´éƒ¨ä¿¡æ¯åŒ…å«ç›®çš„ MAC åœ°å€ã€æº MAC åœ°å€ï¼Œä»¥åŠä¸Šå±‚åè®®ç±»å‹ä¿¡æ¯ã€‚ç„¶åå°†ä»¥å¤ªç½‘æ•°æ®&lt;strong&gt;å¸§&lt;/strong&gt;é€šè¿‡ç‰©ç†å±‚ä¼ è¾“ç»™æ¥æ”¶ç«¯ã€‚å‘é€å¤„ç†ä¸­çš„ FCS ç”±ç¡¬ä»¶è®¡ç®—ï¼Œ æ·»åŠ åˆ°åŒ…çš„æœ€åã€‚è®¾ç½® FCS çš„ç›®çš„æ˜¯ä¸ºäº†åˆ¤æ–­æ•°æ®åŒ…æ˜¯å¦ç”±äºå™ªå£°è€Œè¢«ç ´åã€‚&lt;/p&gt;&lt;h5&gt;&lt;span&gt;æ¥æ”¶æ•°æ®åŒ…&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;åŒ…çš„æ¥æ”¶æµç¨‹æ˜¯å‘é€æµç¨‹çš„&lt;strong&gt;åå‘&lt;/strong&gt;è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç½‘ç»œæ¥å£å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æ”¶åˆ°ä»¥å¤ªç½‘åŒ…åï¼Œé¦–å…ˆæŸ¥çœ‹å¤´éƒ¨ä¿¡æ¯çš„ç›®çš„ MAC åœ°å€æ˜¯å¦æ˜¯å‘ç»™è‡ªå·±çš„åŒ…ã€‚å¦‚æœä¸æ˜¯å‘é€ç»™è‡ªå·±çš„åŒ…å°±ä¸¢å¼ƒã€‚å¦‚æœæ˜¯å‘é€ç»™è‡ªå·±çš„åŒ…ï¼ŒæŸ¥çœ‹ä¸Šå±‚åè®®ç±»å‹æ˜¯ IP åŒ…ï¼Œä»¥å¤ªç½‘å¸§&lt;strong&gt;è§£å°è£…&lt;/strong&gt;æˆ IP åŒ…ï¼Œä¼ ç»™ IP æ¨¡å—è¿›è¡Œå¤„ç†ã€‚å¦‚æœæ˜¯æ— æ³•è¯†åˆ«çš„åè®®ç±»å‹ï¼Œåˆ™ä¸¢å¼ƒæ•°æ®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.6457326892109501&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhZwvGQn8dLX5tvDwm5IevaicQJ93IkUnmMr2UFtEaBNxDRoPuib9dol6Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;621&quot; title=&quot;ç½‘å£å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;ç½‘å£å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;IP Â æ¨¡å—å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æ”¶åˆ° IP åŒ…åï¼Œè¿›è¡Œç±»ä¼¼å¤„ç†ã€‚æ ¹æ®å¤´éƒ¨ä¿¡æ¯çš„ç›®çš„ IP åœ°å€åˆ¤æ–­æ˜¯å¦æ˜¯å‘é€ç»™è‡ªå·±åŒ…ï¼Œå¦‚æœæ˜¯å‘é€ç»™è‡ªå·±çš„åŒ…ï¼Œåˆ™æŸ¥çœ‹ä¸Šä¸€å±‚çš„åè®®ç±»å‹ã€‚ä¸Šä¸€å±‚åè®®æ˜¯ TCP ï¼Œå°±æŠŠ IP åŒ…è§£å°è£…å‘é€ç»™ TCP åè®®å¤„ç†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.6457326892109501&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhQcwR7udwGoJ6pUWwGZ4nDcwMzkesJgpz6XC7l5R5FEsdqMrdpcf69Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;621&quot; title=&quot;IPæ¨¡å—å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;IPæ¨¡å—å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å‡å¦‚æœ‰è·¯ç”±å™¨ï¼Œä¸”æ¥æ”¶ç«¯ä¸æ˜¯è‡ªå·±çš„åœ°å€ï¼Œé‚£ä¹ˆæ ¹æ®è·¯ç”±æ§åˆ¶è¡¨è½¬å‘æ•°æ®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3843594009983361&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhsBdTzwAicib1BGuUPk7DyKfWKeWIo1b5zdPibjkjZ55xWYg9iblkyfSjaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;601&quot; title=&quot;è·¯ç”±å™¨å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;è·¯ç”±å™¨å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;TCP æ¨¡å—å¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æ”¶åˆ° TCP æ®µåï¼Œé¦–å…ˆæŸ¥çœ‹æ ¡éªŒå’Œï¼Œåˆ¤æ–­æ•°æ®æ˜¯å¦è¢«ç ´åã€‚ç„¶åæ£€æŸ¥æ˜¯å¦æŒ‰ç…§åºå·æ¥æ”¶æ•°æ®ã€‚æœ€åæ£€æŸ¥ç«¯å£å·ï¼Œç¡®å®šå…·ä½“çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.16542473919523099&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhUqvcpibJSeLPS8nqFxDAHwKibMlVvcRfKHhqnNSd7x8ZSHGQbZIiaH0vQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;671&quot; title=&quot;TCPæ¨¡å—å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;TCPæ¨¡å—å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ•°æ®æ¥æ”¶å®Œæ¯•åï¼Œå‘é€ä¸€ä¸ª â€œ &lt;strong&gt;ç¡®è®¤å›æ‰§&lt;/strong&gt; â€ ç»™å‘é€ç«¯ã€‚å¦‚æœè¿™ä¸ªå›æ‰§ä¿¡æ¯æœªèƒ½è¾¾åˆ°å‘é€ç«¯ï¼Œé‚£ä¹ˆå‘é€ç«¯ä¼šè®¤ä¸ºæ¥æ”¶ç«¯æ²¡æœ‰æ¥æ”¶åˆ°æ•°æ®è€Œä¸€ç›´åå¤å‘é€ã€‚&lt;/p&gt;&lt;p&gt;æ•°æ®è¢«å®Œæ•´æ¥æ”¶åï¼Œä¼šæŠŠ TCP æ®µè§£å°è£…å‘é€ç»™ç”±ç«¯å£å·è¯†åˆ«çš„åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;åº”ç”¨ç¨‹åºå¤„ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åº”ç”¨ç¨‹åºæ”¶åˆ°æ•°æ®åï¼Œé€šè¿‡è§£ææ•°æ®å†…å®¹è·çŸ¥å‘é€ç«¯è¯·æ±‚çš„ç½‘é¡µå†…å®¹ï¼Œç„¶åæŒ‰ç…§ HTTP åè®®è¿›è¡Œåç»­æ•°æ®äº¤äº’ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ç½‘ç»œæ„æˆ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h3&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.7861507128309573&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhn9MmOLTT0pav1aX6MZ4UzlR1K7wNlgjPemvau0UbHprOViaxketCqyg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;982&quot; title=&quot;ç½‘ç»œæ„æˆè¦ç´ &quot;/&gt;&lt;figcaption&gt;ç½‘ç»œæ„æˆè¦ç´ &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ­å»ºä¸€å¥—ç½‘ç»œæ¶‰åŠå„ç§çº¿ç¼†å’Œç½‘ç»œè®¾å¤‡ã€‚ä¸‹é¢ä»‹ç»ä¸€äº›å¸¸è§çš„&lt;strong&gt;ç¡¬ä»¶è®¾å¤‡&lt;/strong&gt;ã€‚ç¡¬ä»¶è®¾å¤‡æ‰€è¯´çš„å±‚æ•°æ˜¯å‚ç…§çš„ OSI å‚è€ƒæ¨¡å‹ï¼Œè€Œä¸æ˜¯ TCP/IP æ¨¡å‹ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.446693657219973&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhypAKLNMIx5dndIiaIQokN7MbxEialnmh19eqSyQMv6n5x9xmy5r0CY1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;741&quot; title=&quot;ä¸»è¦è®¾å¤‡åŠä½œç”¨è¡¨&quot;/&gt;&lt;figcaption&gt;ä¸»è¦è®¾å¤‡åŠä½œç”¨è¡¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;é€šä¿¡ä»‹è´¨ä¸æ•°æ®é“¾è·¯&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;è®¾å¤‡ä¹‹é—´é€šè¿‡çº¿ç¼†è¿›è¡Œè¿æ¥ã€‚æœ‰çº¿çº¿ç¼†æœ‰åŒç»çº¿ã€å…‰çº¤ã€ä¸²å£çº¿ç­‰ã€‚æ ¹æ®æ•°æ®é“¾è·¯ä¸åŒé€‰æ‹©å¯¹åº”çš„çº¿ç¼†ã€‚ä¼ è¾“ä»‹è´¨è¿˜å¯ä»¥è¢«åˆ†ä¸ºç”µæ³¢ã€å¾®æ³¢ç­‰ä¸åŒç±»å‹çš„ç”µç£æ³¢ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ä¼ è¾“é€Ÿç‡&lt;/strong&gt;ï¼šå•ä½ä¸º &lt;code&gt;bps&lt;/code&gt; ï¼Œæ˜¯æŒ‡å•ä½æ—¶é—´å†…ä¼ è¾“çš„æ•°æ®é‡æœ‰å¤šå°‘ã€‚åˆç§°ä½œå¸¦å®½ï¼Œå¸¦å®½è¶Šå¤§ç½‘ç»œä¼ è¾“èƒ½åŠ›å°±è¶Šå¼ºã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ååé‡&lt;/strong&gt;ï¼šå•ä½ä¸º &lt;code&gt;bps&lt;/code&gt; ï¼Œä¸»æœºä¹‹é—´å®é™…çš„ä¼ è¾“é€Ÿç‡ã€‚ååé‡è¿™ä¸ªè¯ä¸ä»…è¡¡é‡å¸¦å®½ï¼Œ åŒæ—¶ä¹Ÿè¡¡é‡ä¸»æœºçš„ CPU å¤„ç†èƒ½åŠ›ã€ ç½‘ç»œçš„æ‹¥å µç¨‹åº¦ã€ æŠ¥æ–‡ä¸­æ•°æ®å­—æ®µçš„å æœ‰ä»½é¢ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;ç½‘å¡&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ä»»ä¸€ä¸»æœºè¿æ¥ç½‘ç»œæ—¶ï¼Œå¿…é¡»è¦ä½¿ç”¨ç½‘å¡ã€‚å¯ä»¥æ˜¯æœ‰çº¿ç½‘å¡ï¼Œç”¨æ¥è¿æ¥æœ‰çº¿ç½‘ç»œï¼Œä¹Ÿå¯ä»¥æ˜¯æ— çº¿ç½‘å¡è¿æ¥ WiFi ç½‘ç»œã€‚æ¯å—ç½‘å¡éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ &lt;strong&gt;MAC åœ°å€&lt;/strong&gt;ï¼Œä¹Ÿå«åšç¡¬ä»¶åœ°å€æˆ–ç‰©ç†åœ°å€ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.14342629482071714&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhsKiajcpoicn0WnkaLnktxBeUb0wLJeqvzwWicElHX0MTomfIrFV2EaXGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;502&quot; title=&quot;ç½‘å¡&quot;/&gt;&lt;figcaption&gt;ç½‘å¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;äºŒå±‚äº¤æ¢æœº&lt;/span&gt;&lt;/h4&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.4560530679933665&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhGY3ImSAnriaBViaXTicFJmUrxOdGmZFnIFDtVpX5dYZkud9vXvgSaUAlg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;603&quot; title=&quot;äºŒå±‚äº¤æ¢æœº&quot;/&gt;&lt;figcaption&gt;äºŒå±‚äº¤æ¢æœº&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;äºŒå±‚äº¤æ¢æœºä½äº OSI æ¨¡å‹çš„ç¬¬ 2 å±‚ï¼ˆæ•°æ®é“¾è·¯å±‚ï¼‰ã€‚å®ƒèƒ½å¤Ÿè¯†åˆ«æ•°æ®é“¾è·¯å±‚ä¸­çš„æ•°æ®å¸§ï¼Œå¹¶å°†å¸§è½¬å‘ç»™ç›¸è¿çš„å¦ä¸€ä¸ªæ•°æ®é“¾è·¯ã€‚&lt;/p&gt;&lt;p&gt;æ•°æ®å¸§ä¸­æœ‰ä¸€ä¸ªæ•°æ®ä½å«åš &lt;strong&gt;FCS&lt;/strong&gt; ï¼Œç”¨ä»¥æ ¡éªŒæ•°æ®æ˜¯å¦æ­£ç¡®é€è¾¾ç›®çš„åœ°ã€‚äºŒå±‚äº¤æ¢æœºé€šè¿‡æ£€æŸ¥è¿™ä¸ªå€¼ï¼Œå°†æŸåçš„æ•°æ®ä¸¢å¼ƒã€‚&lt;/p&gt;&lt;p&gt;äºŒå±‚äº¤æ¢æœºæ ¹æ® MAC åœ°å€&lt;strong&gt;è‡ªå­¦æœºåˆ¶&lt;/strong&gt;åˆ¤æ–­æ˜¯å¦éœ€è¦è½¬å‘æ•°æ®å¸§ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;è·¯ç”±å™¨ / ä¸‰å±‚äº¤æ¢æœº&lt;/span&gt;&lt;/h4&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.2341897233201581&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhOsmuMplIHm41ne78tjlVT5Vk5rNuxacibkiazzZiazMBbySy4Wa6Hd4Xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1012&quot; title=&quot;è·¯ç”±å™¨&quot;/&gt;&lt;figcaption&gt;è·¯ç”±å™¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è·¯ç”±å™¨æ˜¯åœ¨ OSI æ¨¡å‹çš„ç¬¬ 3 å±‚ï¼ˆç½‘ç»œå±‚ï¼‰ä¸Šè¿æ¥ä¸¤ä¸ªç½‘ç»œã€å¹¶å¯¹æŠ¥æ–‡è¿›è¡Œè½¬å‘çš„è®¾å¤‡ã€‚äºŒå±‚äº¤æ¢æœºæ˜¯æ ¹æ® MAC åœ°å€è¿›è¡Œå¤„ç†ï¼Œè€Œè·¯ç”±å™¨ / ä¸‰å±‚äº¤æ¢æœºåˆ™æ˜¯æ ¹æ® &lt;strong&gt;IP åœ°å€&lt;/strong&gt;è¿›è¡Œå¤„ç†çš„ã€‚å› æ­¤ TCP/IP ä¸­ç½‘ç»œå±‚çš„åœ°å€å°±æˆä¸ºäº† IP åœ°å€ã€‚&lt;/p&gt;&lt;p&gt;è·¯ç”±å™¨å¯ä»¥è¿æ¥ä¸åŒçš„æ•°æ®é“¾è·¯ã€‚æ¯”å¦‚è¿æ¥ä¸¤ä¸ªä»¥å¤ªç½‘ï¼Œæˆ–è€…è¿æ¥ä¸€ä¸ªä»¥å¤ªç½‘ä¸ä¸€ä¸ªæ— çº¿ç½‘ã€‚å®¶åº­é‡Œé¢å¸¸è§çš„æ— çº¿è·¯ç”±å™¨ä¹Ÿæ˜¯è·¯ç”±å™¨çš„ä¸€ç§ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;å››è‡³ä¸ƒå±‚äº¤æ¢æœº&lt;/span&gt;&lt;/h4&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.36585365853658536&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibheJZpf1ccQlLUFiavVb4eT7L7lyeduEHgkKTcF5kic5ia77dzcJjR3jTibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;902&quot; title=&quot;è´Ÿè½½å‡è¡¡è®¾å¤‡&quot;/&gt;&lt;figcaption&gt;è´Ÿè½½å‡è¡¡è®¾å¤‡&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å››è‡³ä¸ƒå±‚äº¤æ¢æœºè´Ÿè´£å¤„ç† OSI æ¨¡å‹ä¸­ä»ä¼ è¾“å±‚è‡³åº”ç”¨å±‚çš„æ•°æ®ã€‚ä»¥ TCP ç­‰åè®®çš„ä¼ è¾“å±‚åŠå…¶ä¸Šé¢çš„åº”ç”¨å±‚ä¸ºåŸºç¡€ï¼Œåˆ†ææ”¶å‘æ•°æ®ï¼Œå¹¶å¯¹å…¶è¿›è¡Œç‰¹å®šçš„å¤„ç†ã€‚ä¾‹å¦‚ï¼Œè§†é¢‘ç½‘ç«™çš„ä¸€å°æœåŠ¡å™¨ä¸èƒ½æ»¡è¶³è®¿é—®éœ€æ±‚ï¼Œé€šè¿‡&lt;strong&gt;è´Ÿè½½å‡è¡¡è®¾å¤‡&lt;/strong&gt;å°†è®¿é—®åˆ†å‘åˆ°åå°å¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œå°±æ˜¯å››è‡³ä¸ƒå±‚äº¤æ¢æœºçš„ä¸€ç§ã€‚è¿˜æœ‰å¸¦å®½æ§åˆ¶ã€å¹¿åŸŸç½‘åŠ é€Ÿå™¨ã€é˜²ç«å¢™ç­‰åº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h3&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.4147398843930636&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh5tkzzM4hGNboia7uWSOpSOvG85R9xwlZSwg4f7mSHL0L0FuOh0w3DzA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1384&quot; title=&quot;æ€»ç»“&quot;/&gt;&lt;figcaption&gt;æ€»ç»“&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;åº”ç”¨å±‚è®¾å¤‡æœ‰ç”µè„‘ã€æ‰‹æœºã€æœåŠ¡å™¨ç­‰ã€‚åº”ç”¨å±‚è®¾å¤‡&lt;strong&gt;ä¸è½¬å‘æ•°æ®&lt;/strong&gt;ï¼Œå®ƒä»¬æ˜¯&lt;strong&gt;æ•°æ®çš„æºæˆ–ç›®çš„&lt;/strong&gt;ï¼Œæ‹¥æœ‰åº”ç”¨å±‚ä»¥ä¸‹çš„å„å±‚åŠŸèƒ½ã€‚å‘é€æ•°æ®æ—¶ï¼Œä»ä¸Šè€Œä¸‹çš„é¡ºåºï¼Œé€å±‚å¯¹æ•°æ®è¿›è¡Œå°è£…ï¼Œå†é€šè¿‡ä»¥å¤ªç½‘å°†æ•°æ®å‘é€å‡ºå»ã€‚æ¥æ”¶æ•°æ®æ—¶ï¼Œä»ä¸‹è€Œä¸Šçš„é¡ºåºï¼Œé€å±‚å¯¹æ•°æ®è¿›è¡Œè§£å°è£…ï¼Œæœ€ç»ˆæ¢å¤æˆåŸå§‹æ•°æ®ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.9534883720930233&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhmPxTe3pbnXCo721tiaJVibU5ltqM173MoeanBtszdUibwDxlBBLq7xibuw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;602&quot; title=&quot;åº”ç”¨å±‚å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;åº”ç”¨å±‚å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ•°æ®é“¾è·¯å±‚è®¾å¤‡æœ‰äºŒå±‚äº¤æ¢æœºã€ç½‘æ¡¥ç­‰ã€‚äºŒå±‚ç½‘ç»œè®¾å¤‡&lt;strong&gt;åªè½¬å‘æ•°æ®&lt;/strong&gt;ï¼Œé€šè¿‡è¯†åˆ«æ•°æ®çš„ &lt;strong&gt;MAC åœ°å€&lt;/strong&gt;è¿›è¡Œè½¬å‘ã€‚äºŒå±‚äº¤æ¢æœºæ¥æ”¶æ•°æ®åï¼Œå¯¹æ•°æ®æœ€å¤–å±‚å°è£…çš„ä»¥å¤ªç½‘å¤´éƒ¨ä¿¡æ¯è¿›è¡ŒæŸ¥çœ‹ï¼Œçœ‹åˆ°æ•°æ®çš„ç›®çš„ MAC åœ°å€åï¼ŒæŠŠæ•°æ®å¸§ä»å¯¹åº”ç«¯å£å‘é€å‡ºå»ã€‚äº¤æ¢æœºå¹¶ä¸ä¼šå¯¹æ•°æ®å¸§è¿›è¡Œè§£å°è£…ï¼Œåªè¦çŸ¥é“ MAC åœ°å€ä¿¡æ¯å°±å¯ä»¥æ­£ç¡®åœ°å°†æ•°æ®è½¬å‘å‡ºå»ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3681592039800995&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibh25KFSbickc9wFSqMDO5auBdJRaK5DWCwzQRgvOv3YG0CkjKqebgNZCg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;603&quot; title=&quot;æ•°æ®é“¾è·¯å±‚å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;æ•°æ®é“¾è·¯å±‚å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ç½‘ç»œå±‚è®¾å¤‡æœ‰è·¯ç”±å™¨ã€ä¸‰å±‚äº¤æ¢æœºç­‰ã€‚ä¸‰å±‚ç½‘ç»œè®¾å¤‡&lt;strong&gt;åªè½¬å‘æ•°æ®&lt;/strong&gt;ï¼Œé€šè¿‡è¯†åˆ«æ•°æ®çš„ &lt;strong&gt;IP åœ°å€&lt;/strong&gt;è¿›è¡Œè½¬å‘ã€‚è·¯ç”±å™¨æ¥æ”¶æ•°æ®åï¼Œé¦–å…ˆæŸ¥çœ‹æœ€å¤–å±‚å°è£…çš„ä»¥å¤ªç½‘å¤´éƒ¨ä¿¡æ¯ï¼Œå½“ç›®çš„ MAC åœ°å€æ˜¯è‡ªå·±æ—¶ï¼Œå°±ä¼šå°†ä»¥å¤ªç½‘å¤´éƒ¨è§£å°è£…ï¼ŒæŸ¥çœ‹æ•°æ®çš„ IP åœ°å€ã€‚æ ¹æ® IP è·¯ç”±è¡¨åšå‡ºè½¬å‘å†³å®šæ—¶ï¼Œè·¯ç”±å™¨ä¼šæŠŠä¸‹ä¸€è·³è®¾å¤‡çš„ MAC åœ°å€ä½œä¸ºä»¥å¤ªç½‘å¤´éƒ¨çš„ç›®çš„ MAC åœ°å€ï¼Œé‡æ–°å°è£…ä»¥å¤ªç½‘å¤´éƒ¨å¹¶å°†æ•°æ®è½¬å‘å‡ºå»ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.5008291873963516&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhaiaoicM05qyZSlvlZfb2ibgdhyHibiaR3ZDLia13UibAzkJlLia1CzfbFhudicA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;603&quot; title=&quot;ç½‘ç»œå±‚å¤„ç†æµç¨‹&quot;/&gt;&lt;figcaption&gt;ç½‘ç»œå±‚å¤„ç†æµç¨‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è½¬å‘æ•°æ®çš„ç½‘ç»œè®¾å¤‡å’Œåº”ç”¨å±‚çš„æ•°æ®ï¼Œå°±åƒ&lt;strong&gt;å¿«é€’å‘˜&lt;/strong&gt;å’Œ&lt;strong&gt;åŒ…è£¹&lt;/strong&gt;ä¸€æ ·ã€‚å¿«é€’å‘˜æ ¹æ®ç›®çš„åœ°å€è¿é€åŒ…è£¹ï¼Œä¸å¿…äº†è§£åŒ…è£¹é‡Œçš„å…·ä½“å†…å®¹ã€‚&lt;/p&gt;&lt;p&gt;é€šè¿‡åˆ†å±‚åŠŸèƒ½æ¥åŒºåˆ†ç½‘ç»œè®¾å¤‡å·²ç»ä¸å†é€‚ç”¨ï¼Œäº¤æ¢æœºé›†æˆä¸‰å±‚è·¯ç”±åŠŸèƒ½å°±æ˜¯ä¸‰å±‚äº¤æ¢æœºï¼Œæ— çº¿APé›†æˆè·¯ç”±å™¨åŠŸèƒ½å°±æ˜¯æ— çº¿è·¯ç”±å™¨ã€‚ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿è¯´æ˜ï¼Œé€šå¸¸æ˜¯ä»‹ç»å•ä¸ªè®¾å¤‡çš„åŠŸèƒ½å’ŒåŸç†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.21212121212121213&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/NQOMbFoOWXdW6ezTsImVhB557bjdapibhmT3nzrMKm4ao3lvcr0do8j1VmDP3rC9ic757aboyF9GJ5qTNJpFnXow/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;462&quot; title=&quot;æ— çº¿è·¯ç”±å™¨&quot;/&gt;&lt;figcaption&gt;æ— çº¿è·¯ç”±å™¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å›¾è§£TCP/IP - ç«¹ä¸‹éš†å²&lt;/p&gt;&lt;p&gt;ç½‘ç»œåŸºç¡€ - ç”°æœ&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>