<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>b93b512443ed8f91b10007c6fa41f47e</guid>
<title>ç§‹å¤©çš„ç¬¬ä¸€ä»½ IT æŠ€æœ¯å‘¨åˆŠ | ç å†œå‘¨åˆŠç¬¬ 320 æœŸ</title>
<link>https://toutiao.io/k/9ew44gv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;body class=&quot;issue&quot; id=&quot;readabilityBody&quot;&gt;
        &lt;h1&gt;ç§‹å¤©çš„ç¬¬ä¸€ä»½ IT æŠ€æœ¯å‘¨åˆŠ | ç å†œå‘¨åˆŠç¬¬ 320 æœŸ&lt;/h1&gt;
        &lt;h2&gt;ç å†œå‘¨åˆŠç¬¬320æœŸï¼ˆ2020-09-29ï¼‰&lt;/h2&gt;
        &lt;p&gt;â˜Â &lt;a href=&quot;https://weekly.manong.io/bounce?nid=320&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3200&quot; target=&quot;_blank&quot;&gt;ç§‹å¤©çš„ç¬¬ä¸€ä»½ IT æŠ€æœ¯å‘¨åˆŠï¼Œè¯·æŸ¥æ”¶ï¼&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;a href=&quot;https://weekly.manong.io/bounce?nid=320&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3200&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_320.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;small&gt;&lt;a href=&quot;https://weekly.manong.io/bounce?nid=320&amp;amp;aid=19185&amp;amp;url=https%3A%2F%2Fjinshuju.net%2Ff%2FV7DxN9&quot; target=&quot;_blank&quot;&gt;å•†åŠ¡åˆä½œ&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
        
        &lt;h3 id=&quot;ç¨‹åºè®¾è®¡&quot;&gt;ç¨‹åºè®¾è®¡&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ã€Œç å†œå‘¨åˆŠ VIP ä¼šå‘˜ä¸“å±é‚®ä»¶å‘¨æŠ¥ã€æ¯å‘¨äº”å‘é€ï¼Œè‡ªè®¢è´­ä¹‹æ—¥ç®—èµ·ï¼Œå…¨å¹´ 52 æœŸã€‚&lt;/p&gt;
        
        &lt;p&gt;ä¸šç•Œå®æˆ˜&lt;/p&gt;
        
        &lt;p&gt;æ€è€ƒå’Œå®è·µ&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;VIPä¼šå‘˜ä¸“åŒº&quot;&gt;VIPä¼šå‘˜ä¸“åŒº&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;å·¥ä½œåœ°ç‚¹ï¼šæˆéƒ½ | è–ªèµ„ï¼š15-30K | ç®€å†æŠ•é€’é‚®ç®±ï¼šxiexiaofang@huobi.com&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;ç”± JavaScript ä¹‹çˆ¶ Brendan Eich ä¸ ES6 è§„èŒƒé¦–å¸­ä½œè€… Allen Wirfs-Brock è”åˆç¼–å†™ï¼Œè¯¦ç»†è®°è½½å’Œè§£è¯»äº†è‡ª 1995 å¹´è¯­è¨€è¯ç”Ÿåˆ° 2015 å¹´ ES6 è§„èŒƒåˆ¶å®šä¸ºæ­¢ï¼Œå…±è®¡ 20 å¹´çš„ JavaScript è¯­è¨€æ¼”åŒ–ç»å†ã€‚&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;æ”¯æŒ mp4, flv, m3u8 åŠ rtmp åè®®çš„ç›´æ’­ï¼Œæ”¯æŒç§»åŠ¨ç«¯ï¼ŒPC ç«¯ã€‚&lt;/p&gt;
        &lt;h3 id=&quot;å·¥å…·èµ„æ–™&quot;&gt;å·¥å…·èµ„æ–™&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ã€Œç å†œå‘¨åˆŠ VIP ä¼šå‘˜ä¸“å±é‚®ä»¶å‘¨æŠ¥ã€æ¯å‘¨äº”å‘é€ï¼Œè‡ªè®¢è´­ä¹‹æ—¥ç®—èµ·ï¼Œå…¨å¹´ 52 æœŸã€‚&lt;/p&gt;
        
        &lt;p&gt;åˆ©å™¨&lt;/p&gt;
        
        &lt;p&gt;å®æ‰“å®çš„å¹²è´§&lt;/p&gt;
        
        &lt;p&gt;è¯¦ç»†ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;å®¹æ˜“è¸©çš„å‘&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;
        
        &lt;p&gt;å›¾æ–‡å¹¶èŒ‚&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;è¯¦ç»†ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;ç»†è‡´åˆ†æ&lt;/p&gt;
        
        &lt;p&gt;æ–¹æ¡ˆå’Œæ€è·¯&lt;/p&gt;
        
        &lt;p&gt;ä¸€äº›å®è·µå’Œå·¥å…·&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;ç¼–ç¨‹è¯­è¨€&quot;&gt;ç¼–ç¨‹è¯­è¨€&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ã€Œç å†œå‘¨åˆŠ VIP ä¼šå‘˜ä¸“å±é‚®ä»¶å‘¨æŠ¥ã€æ¯å‘¨äº”å‘é€ï¼Œè‡ªè®¢è´­ä¹‹æ—¥ç®—èµ·ï¼Œå…¨å¹´ 52 æœŸã€‚&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;æŠ¥å‘Šè¯¦æƒ…&lt;/p&gt;
        
        &lt;p&gt;ç³»åˆ—æ–‡ç« &lt;/p&gt;
        
        &lt;p&gt;è¯¦è§£&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;
        
        &lt;p&gt;æ·±å…¥æ¢è®¨&lt;/p&gt;
        
        &lt;p&gt;è¯¦è§£&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;ç»“åˆä»£ç &lt;/p&gt;
        &lt;h3 id=&quot;æ¯å‘¨ç‹¬å®¶å·æ¨è&quot;&gt;æ¯å‘¨ç‹¬å®¶å·æ¨è&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;javaç›¸å…³æŠ€æœ¯åˆ†äº«&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 444692 å³å¯&lt;/p&gt;
        
        &lt;p&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 444414 å³å¯&lt;/p&gt;
        
        &lt;p&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 435415 å³å¯&lt;/p&gt;
        
        &lt;p&gt;ä¸å®šæœŸæ›´æ–°ä¸€äº›æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œæ–¹ä¾¿å¤§å®¶æµè§ˆï¼Œç„¶åä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 104739 å³å¯&lt;/p&gt;
        
        &lt;p&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 99181 å³å¯&lt;/p&gt;
        &lt;h3 id=&quot;æ¯å‘¨ä¸€ä¹¦&quot;&gt;æ¯å‘¨ä¸€ä¹¦&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;æœ¬ä¹¦æ·±å…¥åœ°è®²è§£äº† Go è¯­è¨€å¸¸è§ç‰¹æ€§çš„å†…éƒ¨æœºåˆ¶å’Œå®ç°æ–¹å¼ï¼Œå¤§éƒ¨åˆ†å†…å®¹æºè‡ªå¯¹ Go è¯­è¨€æºç çš„åˆ†æï¼Œå¹¶ä»ä¸­æç‚¼å‡ºå®ç°åŸç†ã€‚æ¬¢è¿åˆ°&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;å…‘æ¢é˜…è¯»ã€‚&lt;/p&gt;
        &lt;h3 id=&quot;ç¼–ç¨‹ä¹‹å¤–&quot;&gt;ç¼–ç¨‹ä¹‹å¤–&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;å€¼å¾—æ¨è&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;æ— ä»£ç å¼€å‘å¹³å°&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;p&gt;
        &lt;/p&gt;
        
        
        
        
        &lt;div class=&quot;qrcode&quot;&gt;
  &lt;img src=&quot;https://img.toutiao.io/ads/vip_qrcode.png&quot; alt=&quot;Qrcode 258&quot;/&gt;&lt;span&gt;åŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;/span&gt;
&lt;/div&gt;
    &lt;/body&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9a51b23943f1541b26afe2af4ec916f2</guid>
<title>å¿«é€Ÿæ­å»º HTTP é™æ€æœåŠ¡çš„ 10 ç§æ–¹æ³•</title>
<link>https://toutiao.io/k/re4fx9c</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;pos-relative js-post-content&quot;&gt;
                
                &lt;p&gt;ä½œä¸ºç¨‹åºå‘˜ï¼Œéœ€è¦ç»å¸¸èµ·ä¸€ä¸ª&lt;strong&gt;é™æ€æœåŠ¡å™¨&lt;/strong&gt;ï¼ˆhttp static serverï¼Œåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ª http æœåŠ¡å™¨ï¼Œå³å¯é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼‰ï¼Œæ¥å®Œæˆä¸€äº›ä»»åŠ¡ï¼Œå¦‚å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…æµ‹è¯•ç½‘é¡µç­‰ï¼›æœ¬æ–‡ä¸»æ—¨å³åˆ†äº«ï¼Œå¦‚ä½•å¿«é€Ÿæ­å»º HTTP é™æ€æœåŠ¡çš„ 10 ç§æ–¹æ³•ï¼Œå¯¹äºéç¨‹åºå‘˜äººä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/content/images/2020/09/http-static-server.jpg&quot; alt=&quot;å¿«é€Ÿæ­å»º HTTP é™æ€æœåŠ¡çš„ 10 ç§æ–¹æ³•&quot;/&gt;&lt;/p&gt;
&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;
&lt;h3 id=&quot;python2x&quot;&gt;åŸºäº Python 2.x&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;python -m SimpleHTTPServer 8000
# Serving HTTP on 0.0.0.0 port 8000 ...
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;python3x&quot;&gt;åŸºäº Python 3.x&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;python -m http.server 8000
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;livereload&quot;&gt;åŸºäº Livereload åº“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;pip install livereload
#serves current dir with port 35729 which livereload extensions use
livereload
# æŒ‡å®šç«¯å£å’Œè·¯å¾„      
livereload ~/testing -p 8000
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;nodejs&quot;&gt;Node.js&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£…ä¾èµ–
npm i arya-jarvis -g

# é»˜è®¤ 8080 ç«¯å£ï¼Œå¦‚è¢«å ç”¨ï¼Œè‡ªå¢é•¿
arya server
# ğŸ‘ Or Use Alias
arya s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–è€…ç›´æ¥ä½¿ç”¨ npx æ¥å®Œæˆâœ…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£… + ä½¿ç”¨
npx arya-jarvis server
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;httpserver&quot;&gt;åŸºäº http-server&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£…ä¾èµ–
npm install -g http-server
http-server -p 8000

# æˆ–è€…åŸºäº npx 
npx http-server
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£…ä¾èµ–
npm install -g anywhere

anywhere
# è‡ªå®šä¹‰ç«¯å£
anywhere -p 8000

# æˆ–è€…åŸºäº npx 
npx anywhere -p 8000
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;nodestatic&quot;&gt;åŸºäº node-static&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-shell&quot;&gt;# å®‰è£…ä¾èµ–
npm install -g node-static 
static -p 8000

# æˆ–è€…åŸºäº npx 
npx node-static -p 8000
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;go&quot;&gt;Go&lt;/h2&gt;
&lt;h3 id=&quot;spark&quot;&gt;åŸºäº spark&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;go get github.com/rif/spark
spark -port 8000 .
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;php&quot;&gt;PHP&lt;/h2&gt;
&lt;h3 id=&quot;php54&quot;&gt;åŸºäº PHP (&amp;gt;= 5.4)&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;php -S 127.0.0.1:8000
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;ruby&quot;&gt;Ruby&lt;/h2&gt;
&lt;h3 id=&quot;ruby192&quot;&gt;åŸºäº Ruby 1.9.2+&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;ruby -run -ehttpd . -p8000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ‚¨ä½¿ç”¨ Mac æˆ– Linux æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥åœ¨ &lt;code&gt;.zshrc&lt;/code&gt; é…ç½®ä¸­æ·»åŠ å¦‚ä¸‹è¿™å¥ï¼Œå³å¯åœ¨ç»ˆç«¯ï¼Œä½¿ç”¨ &lt;code&gt;server&lt;/code&gt; å‘½ä»¤å¼€å¯é™æ€æœåŠ¡ï¼ˆå½“ç„¶ï¼Œæ‚¨å°†æ–¹å¼æ›¿æ¢æˆå¦‚ä¸Šæåˆ°çš„æ–¹æ³•ä¹Ÿå¯ä»¥ï¼‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;alias server=&quot;ruby -run -ehttpd . -p 8080&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;serve&quot;&gt;åŸºäº serve åº“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£…å·¥å…·åº“
gem install serve
serve
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;golang&quot;&gt;Golang&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;# å®‰è£…å·¥å…·åº“
go get github.com/vwochnik/gost
gost
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;curl&quot;&gt;åŸºäº curl&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;curl lama.sh | sh
&lt;/code&gt;&lt;/pre&gt;

              &lt;/div&gt;
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a76ff4473d3b1220a4998dfdc9366608</guid>
<title>ç¼“å­˜å‡»ç©¿å¯¼è‡´ Golang ç»„ä»¶æ­»é”çš„é—®é¢˜åˆ†äº«</title>
<link>https://toutiao.io/k/f2baq90</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Â Â &lt;span mpa-is-content=&quot;t&quot;&gt;å¤§çº²&lt;/span&gt;Â Â &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ€è·¯æ’æŸ¥&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Dump å †æ ˆå¾ˆé‡è¦&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å…³é”®æ€è·¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç»ˆäºæ‰¾åˆ°ä½ &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ€è·¯æ•´ç†&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å‘ç°è››ä¸é©¬è¿¹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å®Œæ•´çš„æ¨ç†æµç¨‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ€è€ƒæ€»ç»“&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;åˆ†äº«ä¸€ä¸ªçº¿ä¸Šé‡åˆ°çš„æ­»é”é—®é¢˜ï¼Œä»€ä¹ˆï¼Œ golang ä¹Ÿä¼šæœ‰æ­»é”ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Â Â &lt;span mpa-is-content=&quot;t&quot;&gt;æ€è·¯æ’æŸ¥&lt;/span&gt;Â Â &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;Dump å †æ ˆå¾ˆé‡è¦&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;çº¿ä¸ŠæŸä¸ªç¯å¢ƒå‘ç° S3 ä¸Šä¼ è¯·æ±‚å¡ä½ï¼Œè¯·æ±‚ä¸è¿”å›ï¼Œå¡äº†30åˆ†é’Ÿï¼Œé•¿æ—¶é—´æ²¡æœ‰å‘ç°æœ‰æ•ˆæ—¥å¿—ã€‚ä¸€èˆ¬æ¥è®²ï¼Œæ­»é”é—®é¢˜è¿˜æ˜¯å¥½æ’æŸ¥çš„ï¼Œå› ä¸ºç°åœºä¸€èˆ¬éƒ½åœ¨ã€‚ç±»ä¼¼äº c ç¨‹åºï¼Œé‡åˆ°æ­»é”é—®é¢˜éƒ½ä¼šç”¨ pstack çœ‹ä¸€æŠŠã€‚golang æ­»é”æ’æŸ¥æ€è·¯ä¹Ÿç±»ä¼¼ï¼ˆgolang ä¸é€‚åˆä½¿ç”¨ pstackï¼Œå› ä¸º golang è°ƒåº¦çš„æ˜¯åç¨‹ï¼Œpstack åªèƒ½çœ‹åˆ°çº¿ç¨‹æ ˆï¼‰ï¼Œæˆ‘ä»¬å…¶å®æ˜¯éœ€è¦çŸ¥é“ S3 ç¨‹åºé‡Œ goroutine çš„æ ˆçŠ¶æ€ã€‚golang é‡åˆ°è¿™ä¸ªé—®é¢˜æˆ‘ä»¬æœ‰ä¸¤ä¸ªåŠæ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ–¹æ³•ä¸€ï¼šæ¡ä»¶å…è®¸çš„è¯ï¼Œgcore å‡ºä¸€ä¸ªå †æ ˆï¼Œè¿™ä¸ªæ˜¯æœ€æœ‰æ•ˆçš„æ–¹æ³•ï¼Œå› ä¸ºæ˜¯æŠŠæ•´ä¸ª golang ç¨‹åºçš„å†…å­˜é•œåƒ dump å‡ºæ¥ï¼Œç„¶åç”¨ dlv åˆ†æï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ–¹æ³•äºŒï¼šå¦‚æœä½ æå‰å¼€å¯ net/pprof åº“çš„å¼•ç”¨ï¼Œå¼€å¯äº† debug æ¥å£ï¼Œé‚£ä¹ˆå°±å¯ä»¥è°ƒç”¨ curl æ¥å£ï¼Œé€šè¿‡ http æ¥å£è·å–è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;éœ€è¦æ³¨æ„åˆ°ï¼Œgolang ç¨‹åºå’Œ c ç¨‹åºè¿˜æ˜¯æœ‰ç‚¹åŒºåˆ«ï¼Œgoroutine éå¸¸å¤šï¼Œæˆç™¾ä¸Šåƒä¸ª goroutine æ˜¯å¸¸æ€ï¼Œç”šè‡³ä¸Šä¸‡ä¸ªä¹Ÿä¸ç¨€å¥‡ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬æ— æ³•åœ¨ç»ˆç«¯ä¸Šç›´æ¥çœ‹å®Œæ‰€æœ‰çš„æ ˆï¼Œä¸€èˆ¬éƒ½æ˜¯æŠŠæ‰€æœ‰çš„ goroutine æ ˆ dump åˆ°æ–‡ä»¶ï¼Œç„¶ç”¨ vi æ‰“å¼€æ…¢æ…¢åˆ†æã€‚&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è°ƒè¯•è¿™ä¸ª core æ–‡ä»¶ï¼Œæ„å›¾ä»å †æ ˆé‡Œæ‰¾åˆ°äº›ä¸œè¥¿ï¼Œç”±äºå †æ ˆå¤ªå¤šäº†ï¼Œæ‰€ä»¥å°±ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;gorouties -t -u&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â è¿™ä¸ªå‘½ä»¤ï¼Œå¹¶ä¸”æŠŠè¾“å‡º dump åˆ°æ–‡ä»¶ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;&lt;span&gt;curl xxx/debug/pprof/goroutine&lt;/span&gt;&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;å…³é”®æ€è·¯&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆåƒä¸Šä¸‡ä¸ª goroutine ï¼Œç›´æ¥æ˜¾ç¤ºåˆ°ç»ˆç«¯æ˜¯ä¸åˆé€‚çš„ï¼Œæˆ‘ä»¬ dump åˆ°æ–‡ä»¶ test.txtï¼Œç„¶ååˆ†æ test.txt è¿™ä¸ªæ–‡ä»¶ã€‚&lt;strong&gt;å»æŸ¥æ‰¾å‘ç°äº†ä¸€äº›å¯ç–‘å †æ ˆï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å¯ç–‘å †æ ˆï¼Ÿé‡ç‚¹å…³æ³¨åŠ é”ç­‰å¾…çš„å †æ ˆï¼Œå…³é”®å­—æ˜¯ &lt;/strong&gt;&lt;strong&gt;&lt;code&gt;runtime_notifyListWait&lt;/code&gt; ã€&lt;code&gt;semaphore&lt;/code&gt; ã€&lt;code&gt;sync.(*Cond).Wait&lt;/code&gt; ã€&lt;code&gt;Acquire&lt;/code&gt; Â è¿™äº›é˜»å¡åœºæ™¯æ‰ä¼šç”¨åˆ°çš„ï¼Œå¦‚æœä¸šåŠ¡å †æ ˆä¸Šå‡ºç°è¿™ä¸ªåŠ é”è°ƒç”¨ï¼Œå°±éå¸¸å¯ç–‘ã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;åˆ’é‡ç‚¹&lt;/strong&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ç•™æ„é˜»å¡å…³é”®å­— &lt;/span&gt;&lt;code&gt;&lt;span&gt;runtime_notifyListWait&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ã€&lt;/span&gt;&lt;code&gt;&lt;span&gt;semaphore&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ã€&lt;/span&gt;&lt;code&gt;&lt;span&gt;sync.(*Cond).Wait&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ã€&lt;/span&gt;&lt;code&gt;&lt;span&gt;Acquire&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ä¸šåŠ¡å †æ ˆï¼ˆé runtime çš„ä¸€äº›å†…éƒ¨å †æ ˆï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.2344944774851317&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VICDXkv9ChPvYG5CqzKLibTDPC61D7Z7mRMAJiaxsZkialT2VhJyvKeuQSyz8QCxC9jt9Lrw4Zc5L7ibFYXJXklr0A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1177&quot;/&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç»Ÿè®¡åˆ†æå‘ç°ï¼Œæœ‰ 11 ä¸ªè¿™ä¸ªå †æ ˆéƒ½åœ¨è¿™åŒä¸€ä¸ªåœ°æ–¹ï¼Œéƒ½æ˜¯åœ¨ç­‰åŒä¸€æŠŠé” &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit.lock&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼Œæ‰€ä»¥åŸºæœ¬ç¡®è®¤äº†é˜»å¡çš„ä½ç½®ï¼Œå°±æ˜¯è¿™ä¸ªåœ°æ–¹é˜»å¡åˆ°äº†æ‰€æœ‰çš„è¯·æ±‚ï¼Œä½†æ˜¯è¿™æŠŠé”æˆ‘ä»¬ä½¿ç”¨ defer é‡Šæ”¾çš„ï¼Œä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;lock.Acquire(key)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;defer&lt;/span&gt; lock.Release(key)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;blockingKeyCountLimit æ˜¯æˆ‘ä»¬å°è£…é’ˆå¯¹ key æ“ä½œæµæ§çš„ç»„ä»¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœ limit == 1ï¼Œkeyä¸º &quot;test&quot; åœ¨ g1 ä¸Š Acquire æˆåŠŸï¼Œg2 acquire(&quot;test&quot;) å°±ä¼šç­‰å¾…ï¼Œè¿™ä¸ªå¯ä»¥ç®—æ˜¯æˆ‘ä»¬ä¼˜åŒ–çš„ä¸€ä¸ªé€»è¾‘ã€‚å¦‚æœ limit == 2ï¼Œé‚£ä¹ˆå°±å…è®¸ä¸¤ä¸ªäººåŠ é”åˆ°ï¼Œåé¢çš„äººéƒ½ç­‰å¾…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä»ä»£ç æ¥çœ‹ï¼Œå‡½æ•°é€€å‡ºä¸€å®šä¼šé‡Šæ”¾çš„ï¼Œä½†æ˜¯ååç°åœ¨é”å°±å¡åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ‰€ä»¥å°±éå¸¸å¥‡æ€ªã€‚æˆ‘ä»¬å…ˆæ‰¾å“ªä¸ª goroutine å ç€è¿™æŠŠé”ä¸é‡Šæ”¾ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ææ¸…æ¥šæ€æ ·å¯¼è‡´è¿™é‡ŒæŠ¢ä¸åˆ°é”çš„åŸå› ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;é€šè¿‡å®¡æŸ¥ä¸šåŠ¡ä»£ç åˆ†æï¼Œå‘ç°å¯èƒ½çš„æºå¤´å‡½æ•°ï¼ˆè¿™ä¸ªå‡½æ•°æ˜¯å‘åç«¯è¯·æ±‚çš„å‡½æ•°ï¼‰ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sh&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;api.(*Client).getBytesNolc&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¡®è®¤æ˜¯ &lt;/span&gt;&lt;code&gt;&lt;span&gt;getBytesNolc&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â è¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ“ä½œï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡å°±æ˜¯å¡åœ¨è¿™ä¸ªåœ°æ–¹äº†ã€‚ç”¨è¿™ä¸ª &lt;/span&gt;&lt;code&gt;&lt;span&gt;getBytesNolc&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å­—ç¬¦ä¸²æœç´¢å †æ ˆï¼Œæ‰¾ä¸‹æ˜¯å“ªä¸ªå †æ ˆ ï¼Ÿæœç´¢åˆ°è¿™ä¸ªå †æ ˆ &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.28203125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VICDXkv9ChPvYG5CqzKLibTDPC61D7Z7mGuDUCia2SWjhfXJznNKLy4oAx3txjUhibUyjOiczU8fVMHbDsa9TRvamA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å¤§æ¦‚ç‡å°±æ˜¯ç¬¬ 1 ä¸ªå †æ ˆäº†ï¼Œä¹Ÿå°±æ˜¯å…¶ä»–çš„ 11 ä¸ª goroutine éƒ½åœ¨ç­‰è¿™ &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â æ¥æ”¾é”ï¼Œä»”ç»†çœ‹è¿™ä¸ªå †æ ˆã€‚é‚£ä¹ˆä¸ºå•¥è¿™ä¸ªå †æ ˆä¸æ”¾é”å‘¢ï¼Ÿè¿™é‡Œæœ‰ä¸ªç»†èŠ‚è¦æ³¨æ„ä¸‹ï¼Œè¿™é‡Œæ˜¯å¡åˆ° &lt;/span&gt;&lt;code&gt;&lt;span&gt;gihub.com/golang/groupcache/singleflight/singleflight.go:48&lt;/span&gt;&lt;/code&gt;&lt;span&gt; è¿™ä¸€è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.5752508361204013&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VICDXkv9ChPvYG5CqzKLibTDPC61D7Z7mLtg6p9VePicLmbNNbjgJTKHibQkAvweT9afp9DcWUkWfxcBJX4ntK4Xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;897&quot;/&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;ç»ˆäºæ‰¾åˆ°ä½ &lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¿™æ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œsingleflight å®ç°äº†ç¼“å­˜é˜²å‡»ç©¿çš„åŠŸèƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;ç®€å•å‡å°‘ä¸‹ singleflight çš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ•ˆçš„å·¥å…·ã€‚åœ¨ç¼“å­˜å¤§é‡å¤±æ•ˆçš„åœºæ™¯ï¼Œå¦‚æœé’ˆå¯¹åŒä¸€ä¸ª key ï¼Œå…¶å®åªéœ€è¦æœ‰ä¸€ä¸ªäººç©¿é€åˆ°åç«¯è¯·æ±‚æ•°æ®ï¼Œå…¶ä»–äººç­‰å¾…ä»–å®Œæˆï¼Œç„¶åå–ç¼“å­˜ç»“æœå³å¯ã€‚è¿™ä¸ªå°±æ˜¯ singleflight å®ç°çš„åŠŸèƒ½ã€‚å…·ä½“å®ç°å°±æ˜¯ï¼šæ¥äº†è¯·æ±‚ä¹‹åï¼ŒæŠŠ key æ’å…¥åˆ° map é‡Œï¼Œåé¢çš„è¯·æ±‚å¦‚æœå‘ç°åŒå key åœ¨ map é‡Œé¢ï¼Œé‚£ä¹ˆå°±ç­‰å¾…å®ƒå®Œæˆå°±å¥½ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆªå±æ˜¾ç¤ºå¡åˆ° &lt;/span&gt;&lt;code&gt;&lt;span&gt;c.wg.Wait()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â è¿™ä¸€è¡Œï¼Œé‚£ä¹ˆè¯´æ˜ map é‡Œé¢è‚¯å®šæœ‰å·²ç»å­˜åœ¨çš„ keyï¼Œè¯´æ˜ &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â ä¸æ˜¯ç¬¬ä¸€ä¸ªäººï¼Ÿä½†æ˜¯å¤–é¢è¿˜æœ‰ä¸€ä¸ª &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„äº’æ–¥å‘¢ï¼ŒæŒ‰é“ç†å…¶ä»–çš„äººä¹Ÿè¿›ä¸æ¥ï¼ˆå› ä¸º limit == 1ï¼‰ï¼Œè¿™é‡Œè¿™ä¹ˆè®²æ¥è‚¯å®šè¦æ˜¯æºå¤´æ‰å¯¹ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;æ€è·¯æ•´ç†&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;ä¼ªä»£ç æ˜¾ç¤ºå¦‚ä¸‹&lt;/strong&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;xxx&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    limitLocker.Acquire( key )&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;defer&lt;/span&gt; limitLocker.Release( key )&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    getBytesNolc( key , ...)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;getBytesNolc&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ret, err = x.Group.Do(id, &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt;{}, error)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    })&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;å›¾ç¤ºæ˜¾ç¤ºå½“å‰çš„ç°çŠ¶&lt;/strong&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.65234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VICDXkv9ChPvYG5CqzKLibTDPC61D7Z7mQrribV3oQPtonTYjfpIcIJSLwrMgEIf1SWMcZgviaFAh4TsiaU7Te8AQg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;figcaption&gt;&lt;span/&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç°çŠ¶å°ç»“ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¤§é‡çš„åç¨‹éƒ½åœ¨ç­‰ &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; è¿™æŠŠé”é‡Šæ”¾ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;åç¨‹ &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æŒæœ‰ &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; è¿™æŠŠé”ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;åç¨‹ &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â å´åœ¨ç­‰ä¸€ä¸ªç›¸åŒ key åå­—çš„ä»»åŠ¡çš„å®Œæˆï¼ˆ singleflight ä¸€ä¸ªé˜²å‡»ç©¿çš„åº“ï¼ŒåŒä¸€æ—¶é—´ç›¸åŒ key åªå…è®¸æ”¾åˆ°ä¸€ä¸ªåç«¯å»æ‰§è¡Œï¼‰ï¼Œå´æ°¸è¿œæ²¡ç­‰åˆ°ï¼Œåç¨‹å› æ­¤å‘ˆç°æ­»é”ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å½“å‰çš„ç–‘é—®å°±æ˜¯ç¬¬ä¸€ä¸ª key çš„ä»»åŠ¡ä¸ºå•¥æ°¸è¿œå®Œä¸æˆï¼Œå †æ ˆä¹Ÿæ‰¾ä¸åˆ°äº†ï¼Œå»å“ªé‡Œäº†ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;å‘ç°è››ä¸é©¬è¿¹&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘ä»¬å†ä»”ç»†å®¡ä¸€ä¸‹ singleflight çš„ä»£ç ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(g *Group)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Do&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(key &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;, fn &lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt;{}, error)&lt;/span&gt;) &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt;{}, error)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    g.mu.Lock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; g.m == &lt;span class=&quot;code-snippet__literal&quot;&gt;nil&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        g.m = &lt;span class=&quot;code-snippet__built_in&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;map&lt;/span&gt;[&lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;]*call)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; c, ok := g.m[key]; ok {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        g.mu.Unlock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        c.wg.Wait()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; c.val, c.err&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    c := &lt;span class=&quot;code-snippet__built_in&quot;&gt;new&lt;/span&gt;(call)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    c.wg.Add(&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    g.m[key] = c&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    g.mu.Unlock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    c.val, c.err = fn()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    c.wg.Done()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    g.mu.Lock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;delete&lt;/span&gt;(g.m, key)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    g.mu.Unlock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; c.val, c.err&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‘ç°æœ‰ä¸ªçº¿ç´¢ï¼Œæˆ‘ä»¬çš„ S3 æœåŠ¡ç¨‹åºä¸€ä¸ª http è¯·æ±‚å¯¹åº”ä¸€ä¸ªåç¨‹å¤„ç†ï¼Œä¸ºäº†æé«˜æœåŠ¡ç«¯è¿›ç¨‹çš„å¯ç”¨æ€§ï¼Œåœ¨æ¡†æ¶é‡Œä¼šæ•æ‰ panicï¼Œè¿™æ ·ç¡®ä¿å•ä¸ªåç¨‹å¤„ç†ä¸ä¼šå½±å“åˆ°å…¶ä»–çš„è¯·æ±‚ã€‚åŸºäºè¿™ä¸ªå‰æï¼Œæˆ‘ä»¬å‡è®¾ï¼šå¦‚æœ &lt;/span&gt;&lt;code&gt;&lt;span&gt;fn()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ‰§è¡Œå¼‚å¸¸ï¼Œpanic æ‰äº†ï¼Œé‚£ä¹ˆå°±ä¸ä¼šèµ° &lt;/span&gt;&lt;code&gt;&lt;span&gt;delete(g.m, key)&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„ä»£ç ï¼Œé‚£ä¹ˆ key å°±æ°¸è¿œéƒ½æ®‹ç•™åœ¨ map é‡Œé¢ï¼Œè€Œè¿›ç¨‹å´åˆè¿˜æ´»ç€ã€‚æç„¶å¤§æ‚Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;h2/&gt;&lt;p mpa-is-content=&quot;t&quot;&gt;å®Œæ•´çš„æ¨ç†æµç¨‹&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ç¬¬ä¸€ä¸ªåç¨‹ g1 æ¥äº†ï¼ŒåŠ äº† &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â é”ï¼Œç„¶åå‡†å¤‡ç©¿é€åˆ°åç«¯ï¼Œè°ƒç”¨å‡½æ•° &lt;/span&gt;&lt;code&gt;&lt;span&gt;getBytesNolc&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â è·å–æ•°æ®ï¼Œå¹¶èµ°è¿›äº† &lt;/span&gt;&lt;code&gt;&lt;span&gt;singlelight&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ï¼Œæ·»åŠ äº†ä¸€ä¸ª keyï¼šxï¼Œ å‡†å¤‡å¹²æ´»ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¹²æ´»å‘ç”Ÿäº†ä¸€äº›ä¸å¯é¢„æœŸçš„å¼‚å¸¸ï¼ˆåé¢å‘ç°æ˜¯é…ç½®çš„å¼‚å¸¸ï¼‰ï¼Œnil æŒ‡é’ˆå¼•ç”¨ä¹‹ç±»çš„ï¼Œ panic å †æ ˆäº†ï¼Œpanic å¯¼è‡´åé¢ delete key æ“ä½œæ²¡æœ‰æ‰§è¡Œï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è™½ç„¶ g1 ç°åœ¨ panic äº†ï¼Œä½†æ˜¯ç”±äºåœ¨å‡½æ•° func xxx é‡Œé¢ &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ˜¯ defer æ‰§è¡Œçš„ï¼Œæ‰€ä»¥è¿™æŠŠé”è¿˜æ˜¯ï¼Œä½†æ˜¯ &lt;/span&gt;&lt;code&gt;&lt;span&gt;singlelight&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„ key è¿˜å­˜åœ¨ï¼Œäºæ˜¯æ®‹ç•™åœ¨ map é‡Œé¢ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ä½†æ˜¯ç”±äºæˆ‘ä»¬æœåŠ¡ç¨‹åºä¸ºäº†é«˜å¯ç”¨æ˜¯ recover äº† panic çš„ï¼Œå•ä¸ªè¯·æ±‚çš„å¤±è´¥ä¸ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹æŒ‚æ‰ï¼Œæ‰€ä»¥è¿›ç¨‹è¿˜æ˜¯å¥½å¥½çš„ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ç¬¬äºŒä¸ª &lt;/span&gt;&lt;code&gt;&lt;span&gt;goroutine 19458&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â åç¨‹æ¥äº†ï¼Œ&lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â åŠ é”ï¼Œç„¶åèµ°åˆ° &lt;/span&gt;&lt;code&gt;&lt;span&gt;singlelight&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â çš„æ—¶å€™ï¼Œå‘ç°æœ‰ key: x äº†ï¼Œäºæ˜¯å°±ç­‰å¾…ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¹¶ä¸”ç­‰å¾…çš„æ˜¯ä¸€ä¸ªæ°¸è¿œå¾—ä¸åˆ°çš„é”ï¼Œå› ä¸º g1 æ—©å°±æ²¡äº†ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;åç»­çš„ 11 ä¸ª åç¨‹æ¥äº†ï¼Œäºæ˜¯è¢« &lt;/span&gt;&lt;code&gt;&lt;span&gt;blockingKeyCountLimit&lt;/span&gt;&lt;/code&gt;&lt;span&gt; Â é˜»å¡ä½ï¼Œå¹¶ä¸”æ°¸è¿œä¸èƒ½é‡Šæ”¾ï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å®é”¤ï¼šåç»­åŸºäºè¿™ä¸ªçŒœæƒ³ï¼Œå†å»æœç´¢ä¸€éæ—¥å¿—ï¼Œå‘ç°ç¡®å®æ˜¯æœ‰ä¸€æ¡ panic ç›¸å…³çš„æ—¥å¿—ã€‚è¿™ä¸ªæ—¶é—´ç‚¹åé¢çš„è¯·æ±‚å…¨éƒ¨è¢«å¡ä½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Â Â &lt;span mpa-is-content=&quot;t&quot;&gt;æ€è€ƒæ€»ç»“&lt;/span&gt;Â Â &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸€èˆ¬æ¥è®² c è¯­è¨€å†™ç¨‹åºå®¹æ˜“å‡ºç°æ­»é”é—®é¢˜ï¼Œå› ä¸ºå„ç§å¼‚å¸¸é€»è¾‘å¯èƒ½ä¼šå¯¼è‡´å¿˜è®°æ”¾é”ï¼Œä»è€Œå¯¼è‡´æŠ¢ä¸€ä¸ªæ°¸è¿œéƒ½ä¸å¯èƒ½å¾—åˆ°çš„é”ã€‚&lt;strong&gt;golang ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯ç”¨ defer æœºåˆ¶æ¥å®ç°&lt;/strong&gt;ï¼Œä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    mtx.Lock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;defer&lt;/span&gt; mtx.Unlock()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;golang çš„ defer æœºåˆ¶æ˜¯ä¸€ä¸ªç»è¿‡ç»éªŒæ²‰æ·€ä¸‹æ¥çš„æœ‰æ•ˆåŠŸèƒ½ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æˆ‘ä»¬å¿…é¡»è¦åˆç†ä½¿ç”¨ã€‚defer å®ç°åŸç†æ˜¯å’Œæ‰€åœ¨å‡½æ•°ç»‘å®šï¼Œä¿è¯å‡½æ•° return çš„æ—¶å€™ä¸€å®šèƒ½è°ƒç”¨åˆ°ï¼ˆ panic é€€å‡ºä¹Ÿèƒ½ï¼‰ï¼Œæ‰€ä»¥ golang åŠ é”æ”¾é”çš„æœ‰æ•ˆå®è·µæ˜¯å†™åœ¨ç›¸é‚»çš„ä¸¤è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å…¶å®æ€è€ƒä¸‹ï¼Œ&lt;strong&gt;singleflight ä½œä¸ºä¸€ä¸ªé€šç”¨å¼€æºåº“ï¼Œå…¶å®å¯ä»¥æŠŠ delete map key æ”¾åˆ° defer é‡Œï¼Œè¿™æ ·å°±èƒ½ä¿è¯ map é‡Œé¢çš„ key ä¸€å®šæ˜¯å¯ä»¥è¢«æ¸…ç†çš„&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¿˜æœ‰ä¸€ç‚¹ï¼Œ&lt;strong&gt;å…¶å® golang æ˜¯ä¸æå€¡å¼‚å¸¸-æ•æ‰è¿™æ ·çš„æ–¹å¼ç¼–ç¨‹&lt;/strong&gt;ï¼Œpanic ä¸€èˆ¬ä¸è®©éšä¾¿ç”¨ï¼Œå¦‚æœçœŸæ˜¯ä¸¥é‡çš„é—®é¢˜ï¼ŒæŒ‚æ‰å°±æŒ‚æ‰ï¼Œè¿™ä¸ªä¼°è®¡è¿˜å¥½ä¸€äº›ã€‚å½“ç„¶è¿™æ˜¯è¦çœ‹åœºæ™¯çš„ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›ç‰¹æ®Šåœºæ™¯çš„ï¼Œæ¯•ç«Ÿ golang éƒ½å·²ç»æä¾›äº† panic-recover è¿™æ ·çš„ä¸€ä¸ªæ‰‹æ®µï¼Œå°±è¯´æ˜è¿˜æ˜¯æœ‰éœ€æ±‚ã€‚è¿™ä¸ªå°±è·Ÿ unsafe åº“ä¸€æ ·ï¼Œä½ åªæœ‰æ˜ç¡®çŸ¥é“è‡ªå·±çš„è¡Œä¸ºå½±å“ï¼Œæ‰å»ä½¿ç”¨è¿™ä¸ªå·¥å…·ï¼Œå¦åˆ™åˆ«ç”¨ã€‚&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç²¾å½©æ¨è&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247484698&amp;amp;idx=1&amp;amp;sn=22c169cb21335cdf783ba257da31aec8&amp;amp;chksm=eb310495dc468d83a3791ddca2ae98112af324e4d4f3a29d39f083ff784216b530b780638c40&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Docker é•œåƒåˆ†æåˆ©å™¨ dive&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247484598&amp;amp;idx=1&amp;amp;sn=ea91646ad078518e9ffbc39994abe424&amp;amp;chksm=eb310539dc468c2f81bc79f2ff55e3e8e314506137746ed6bb785420d9ee49f1a289a67897d6&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Goè¯­è¨€ | åŸºäºchannelå®ç°çš„å¹¶å‘å®‰å…¨çš„å­—èŠ‚æ± &lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247484563&amp;amp;idx=1&amp;amp;sn=eb82f5596c2938fd9e94b030e3a9e436&amp;amp;chksm=eb31051cdc468c0a88ed0066eef48d77fe40b89b94651a29ae2071af02e261f0bb1d0f4bfc8d&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Goè¯­è¨€ | ä»å¹¶å‘æ¨¡å¼çœ‹channelä½¿ç”¨æŠ€å·§&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247483773&amp;amp;idx=1&amp;amp;sn=e893cfca13b7edc0b1eeda0e343a82b5&amp;amp;chksm=eb3100f2dc4689e4dea21d7e3143acc52f775e2603efe2eb2f45371d6104242c4912b24dcbe0&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€ŠGoè¯­è¨€å®æˆ˜ã€‹ç¬”è®°(åå…­) | Goå¹¶å‘ç¤ºä¾‹-Pool&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247483771&amp;amp;idx=1&amp;amp;sn=52d0d44ecad893f0c3d7f59b15d62a62&amp;amp;chksm=eb3100f4dc4689e2681300b0830977193f3a35ca20e6c9ab758085c7e7679e764a367f3b2c22&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€ŠGoè¯­è¨€å®æˆ˜ã€‹ç¬”è®°(åäº”) | Goå¹¶å‘ç¤ºä¾‹-Runner&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI3MjU4Njk3Ng==&amp;amp;mid=2247483767&amp;amp;idx=1&amp;amp;sn=abb360ced1c969aed2aaa7fcc31ce275&amp;amp;chksm=eb3100f8dc4689eeccb7cf9b3cd2274be938fc3f65a40c9b445eb51e646a8da553f8cee2b371&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€ŠGoè¯­è¨€å®æˆ˜ã€‹ç¬”è®°(åä¸‰) | Go å¹¶å‘èµ„æºç«äº‰&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3649122807017544&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/yGKTjJdYkkvuj8z0lDLzibibzK119ljw0Aq61ZDMUp0U6LG9Fhqo9c3rlrGUDGqfosib1ptkqYBDV4uYlOUEktQAQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1710&quot;/&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>db296051e3d4bd75fb9ce3089fce4847</guid>
<title>[è¯‘] ä½¿ç”¨ Paging 3 å®ç°åˆ†é¡µåŠ è½½</title>
<link>https://toutiao.io/k/xbgx43m</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot;&gt;&lt;p&gt;&lt;i&gt;ä½œè€… / Florina Muntenescu&lt;/i&gt;&lt;/p&gt;&lt;p&gt;Paging åº“å¯ä»¥å¸®åŠ©æ‚¨ä¼˜é›…åœ°æ¸è¿›åŠ è½½å¤§å‹æ•°æ®é›†åˆï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘ç½‘ç»œçš„ä½¿ç”¨å’Œç³»ç»Ÿèµ„æºçš„æ¶ˆè€—ã€‚åŸºäºæ‚¨çš„åé¦ˆæˆ‘ä»¬å¾—çŸ¥ï¼ŒPaging 2.0 API è¿˜ä¸èƒ½æ»¡è¶³å¼€å‘è€…ä»¬çš„éœ€æ±‚â€”â€”å¼€å‘è€…ä»¬å¸Œæœ›ä»¥æ›´ç®€ä¾¿çš„æ–¹å¼å¤„ç†é”™è¯¯ï¼›ä»¥æ›´çµæ´»çš„æ–¹å¼å®ç°åˆ—è¡¨æ•°æ®çš„è½¬æ¢æ“ä½œï¼Œä¾‹å¦‚ map å’Œ filterï¼›ä»¥åŠæ”¯æŒåˆ†å‰²ç¬¦ã€é¡µçœ‰å’Œé¡µè„šã€‚åŸºäºä»¥ä¸Šåé¦ˆï¼Œæˆ‘ä»¬æ¨å‡ºäº† Paging 3.0ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ä½¿ç”¨ Kotlin åç¨‹é‡å†™çš„åº“ (ä¾ç„¶æ”¯æŒ Java ç”¨æˆ·)ï¼Œå®ƒå°†ä¸ºæ‚¨æä¾›æ‚¨æ‰€è¦æ±‚çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;h2&gt;&lt;b&gt;Paging 3 äº®ç‚¹&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;Paging 3 çš„ API å¯¹åˆ†é¡µåŠ è½½æ—¶å¯èƒ½éœ€è¦å®ç°çš„å¸¸è§åŠŸèƒ½æä¾›äº†æ”¯æŒ:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;è·Ÿè¸ªè·å–å‰ä¸€é¡µæˆ–åä¸€é¡µæ‰€éœ€è¦çš„å‚æ•°ï¼›&lt;/li&gt;&lt;li&gt;å½“ç”¨æˆ·æ»šåŠ¨åˆ°ç°æœ‰æ•°æ®çš„æœ«å°¾æ—¶ï¼Œè‡ªåŠ¨è¯·æ±‚æ­£ç¡®çš„ä¸‹ä¸€é¡µï¼›&lt;/li&gt;&lt;li&gt;ç¡®ä¿ä¸ä¼šåŒæ—¶è§¦å‘å¤šä¸ªè¯·æ±‚ï¼›&lt;/li&gt;&lt;li&gt;è·Ÿè¸ªåŠ è½½çŠ¶æ€ï¼Œå¹¶æ”¯æŒæ‚¨åœ¨ RecyclerView çš„åˆ—è¡¨é¡¹æˆ–è€…ç•Œé¢ä¸­çš„å…¶ä»–åœ°æ–¹å±•ç¤ºå®ƒã€‚ä¸ºå¤±è´¥çš„åŠ è½½æä¾›ç®€ä¾¿çš„é‡è¯•åŠŸèƒ½ï¼›&lt;/li&gt;&lt;li&gt;æ— è®ºæ‚¨æ˜¯å¦ä½¿ç”¨ Flowã€LiveDataã€RxJava Flowable æˆ– Observableï¼Œéƒ½å¯ä»¥å¯¹éœ€è¦å±•ç¤ºçš„åˆ—è¡¨ä½¿ç”¨ map æˆ– filter è¿™ç±»å¸¸è§çš„æ“ä½œï¼›&lt;/li&gt;&lt;li&gt;æä¾›å®ç°åˆ—è¡¨åˆ†éš”ç¬¦çš„ç®€ä¾¿æ–¹æ³•ï¼›&lt;/li&gt;&lt;li&gt;ç®€åŒ–äº†æ•°æ®ç¼“å­˜ï¼Œç¡®ä¿ä¸ä¼šè®©æ‚¨åœ¨æ¯æ¬¡é…ç½®æ›´æ”¹æ—¶éƒ½æ‰§è¡Œæ•°æ®è½¬æ¢ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æˆ‘ä»¬è¿˜è®© Paging 3 çš„ä¸€äº›ç»„ä»¶å‘åå…¼å®¹ Paging 2.0ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨å·²ç»åœ¨åº”ç”¨ä¸­ä½¿ç”¨äº† Pagingï¼Œåˆ™å¯ä»¥é€æ­¥ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/topic/libraries/architecture/paging/v3-migration&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;è¿ç§»è‡³ Paging 3&lt;/a&gt;&lt;/b&gt;ã€‚&lt;/p&gt;&lt;h2&gt;&lt;b&gt;åœ¨æ‚¨çš„åº”ç”¨ä¸­ä½¿ç”¨ Paging 3&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æ­£åœ¨å®ç°ä¸€ä¸ªå±•ç¤ºæ‰€æœ‰ç‹—ç‹—çš„åº”ç”¨ã€‚ç‹—ç‹—çš„æ•°æ®ä» GoodDoggos API è·å¾—ï¼Œè¯¥ API æ”¯æŒåŸºäºç´¢å¼•çš„åˆ†é¡µã€‚è®©æˆ‘ä»¬ç ”ç©¶ä¸‹éœ€è¦å®ç°çš„ Paging ç»„ä»¶ï¼Œä»¥åŠå¦‚ä½•å°† Paging é›†æˆåˆ°ç°æœ‰çš„åº”ç”¨æ¶æ„ã€‚æ¥ä¸‹æ¥çš„ä¾‹å­å°†ä½¿ç”¨ Kotlin åŠå…¶åç¨‹åŠŸèƒ½ç¼–å†™ï¼Œå¦‚æœæ‚¨éœ€è¦ä½¿ç”¨ LiveData/RxJava å®ç°çš„ Java ç¼–ç¨‹è¯­è¨€ç¤ºä¾‹ï¼Œè¯·å‚é˜… &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/topic/libraries/architecture/paging/v3-overview&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Android å¼€å‘è€…æ–‡æ¡£ | Paging 3 åº“æ¦‚è¿°&lt;/a&gt;&lt;/b&gt;ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹å›¾ä¸ºæ‚¨åº”ç”¨çš„å„ä¸ªå±‚çº§ä¸­æ¨èç›´æ¥æ¥å…¥ Paging çš„ Android åº”ç”¨æ¶æ„:&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-9bd724bce134d49281f92753e59f0804_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1600&quot; data-rawheight=&quot;445&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-9bd724bce134d49281f92753e59f0804_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1600&quot; data-rawheight=&quot;445&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-9bd724bce134d49281f92753e59f0804_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-9bd724bce134d49281f92753e59f0804_b.jpg&quot;/&gt;&lt;figcaption&gt;Paging ç»„ä»¶åŠå…¶åœ¨åº”ç”¨æ¶æ„çš„é›†æˆ&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3&gt;&lt;b&gt;å®šä¹‰æ•°æ®æº&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;æ•°æ®æºçš„å®šä¹‰å–å†³äºæ‚¨ä»å“ªé‡ŒåŠ è½½æ•°æ®ã€‚æ‚¨ä»…éœ€å®ç° &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingSource&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingSource&lt;/a&gt;&lt;/b&gt; æˆ–è€… PagingSource ä¸ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/RemoteMediator&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;RemoteMediator&lt;/a&gt;&lt;/b&gt; çš„ç»„åˆ:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;å¦‚æœæ‚¨ä» &lt;b&gt;å•ä¸ªæº&lt;/b&gt; åŠ è½½æ•°æ®ï¼Œä¾‹å¦‚ç½‘ç»œã€æœ¬åœ°æ•°æ®ã€æ–‡ä»¶ç­‰ï¼Œå®ç° PagingSource å³å¯ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº† &lt;b&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/111267510&quot; class=&quot;internal&quot;&gt;Room&lt;/a&gt;&lt;/b&gt;ï¼Œä» 2.3.0-alpha å¼€å§‹ï¼Œå®ƒå°†é»˜è®¤ä¸ºæ‚¨å®ç° Paging Sourceï¼Œè¯·å‚è§:&lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/training/data-storage/room/accessing-data%23paging-integration&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt; Android å¼€å‘æ–‡æ¡£ï½œä½¿ç”¨ Room DAO è®¿é—®æ•°æ®&lt;/a&gt;&lt;/b&gt;ï¼›&lt;/li&gt;&lt;li&gt;å¦‚æœæ‚¨ä»ä¸€ä¸ª &lt;b&gt;å¤šå±‚çº§æ•°æ®æº&lt;/b&gt; åŠ è½½æ•°æ®ï¼Œå°±åƒå¸¦æœ‰æœ¬åœ°æ•°æ®åº“ç¼“å­˜çš„ç½‘ç»œæ•°æ®æºé‚£æ ·ã€‚é‚£ä¹ˆæ‚¨éœ€è¦å®ç° RemoteMediator æ¥åˆå¹¶ä¸¤ä¸ªæ•°æ®æºåˆ°ä¸€ä¸ªæœ¬åœ°æ•°æ®åº“ç¼“å­˜çš„ PagingSource ä¸­ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;&lt;b&gt;PagingSource&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;&lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingSource&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingSource&lt;/a&gt;&lt;/b&gt; å¯ä»¥å®šä¹‰ä¸€ä¸ªåˆ†é¡µæ•°æ®çš„æ•°æ®æºï¼Œä»¥åŠä»è¯¥æ•°æ®æºè·å–æ•°æ®çš„æ–¹å¼ã€‚PagingSource åº”å½“ä¸ºèµ„æºåº“å±‚çš„ä¸€éƒ¨åˆ†ã€‚æ‚¨å¯ä»¥å®ç° &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingSource%23load&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;load()&lt;/a&gt;&lt;/b&gt; å‡½æ•°æ¥ä»æ•°æ®æºè·å–åˆ†é¡µæ•°æ®ï¼Œå¹¶è¿”å›åŠ è½½å¥½çš„æ•°æ®å’ŒåŠ è½½å‰åé¡µçš„å‚æ•°ä¿¡æ¯ã€‚load() æ˜¯ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨å…¶ä»–çš„ &lt;b&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/145001592&quot; class=&quot;internal&quot;&gt;æŒ‚èµ·å‡½æ•°&lt;/a&gt;&lt;/b&gt;ï¼Œä¾‹å¦‚ç½‘ç»œè¯·æ±‚:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;class DoggosRemotePagingSource(
    val backend: GoodDoggosService
) : PagingSource&amp;lt;Int, Dog&amp;gt;() {
  override suspend fun load(
    params: LoadParams&amp;lt;Int&amp;gt;
  ): LoadResult&amp;lt;Int, Dog&amp;gt; {
    try {
      // æœªå®šä¹‰æ—¶åŠ è½½ç¬¬ 1 é¡µ
      val nextPageNumber = params.key ?: 1
      val response = backend.getDoggos(nextPageNumber)
      return LoadResult.Page(
        data = response.doggos,
        prevKey = null, // ä»…å‘åç¿»é¡µ
        nextKey = response.nextPageNumber + 1
      )
    } catch (e: Exception) {
        // åœ¨æ­¤å—ä¸­å¤„ç†é”™è¯¯
        return LoadResult.Error(exception)
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;&lt;b&gt;PagingData ä¸ Pager&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;åˆ†é¡µæ•°æ®çš„å®¹å™¨è¢«ç§°ä¸º &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingData&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingData&lt;/a&gt;&lt;/b&gt;ï¼Œæ¯æ¬¡åˆ·æ–°æ•°æ®æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ª PagingData çš„å®ä¾‹ã€‚å¦‚æœè¦åˆ›å»º PagingData æ•°æ®æµï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ª Pager å®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ª &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingConfig&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingConfig&lt;/a&gt;&lt;/b&gt; é…ç½®å¯¹è±¡å’Œä¸€ä¸ªå¯ä»¥å‘Šè¯‰ Pager å¦‚ä½•è·å–æ‚¨å®ç°çš„ PagerSource çš„å®ä¾‹çš„å‡½æ•°ï¼Œä»¥ä¾› Pager ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p&gt;æ‚¨è¦åœ¨ ViewModel ä¸­æ„é€  Pager å¯¹è±¡å¹¶å‘ UI æš´éœ²ä¸€ä¸ª Flowã€‚Flow æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/package-summary%23cachedin&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;cachedIn()&lt;/a&gt;&lt;/b&gt; æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä½¿å¾—æ•°æ®æµå¯ä»¥è¢«å…±äº«ï¼Œä¹Ÿè®©æ‚¨å¯ä»¥åœ¨ CoroutineScope ä¸­ç¼“å­˜ Flow çš„å†…å®¹ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœæ‚¨åœ¨æ•°æ®æµä¸­å®ç°äº†ä»»ä½•è½¬æ¢æ“ä½œï¼Œå½“ Activity è¢«é‡å»ºå¹¶ä½¿å¾—æ‚¨ä» flow ä¸­è·å–æ•°æ®æ—¶ï¼Œä¸ä¼šå†æ¬¡è§¦å‘è¿™äº›æ“ä½œã€‚ç”±äºæˆ‘ä»¬å¸Œæœ›æ•°æ®åœ¨é…ç½®äº§ç”Ÿå˜åŒ–åä»ç„¶å­˜åœ¨ï¼Œç¼“å­˜åº”å½“å°½å¯èƒ½é è¿‘ UI å±‚ï¼Œä½†åˆä¸èƒ½åœ¨ UI å±‚ä¸­ï¼Œé‚£ä¹ˆæœ€å¥½çš„ä½ç½®ä¾¿æ˜¯åœ¨ &lt;b&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/143346337&quot; class=&quot;internal&quot;&gt;ViewModel&lt;/a&gt;&lt;/b&gt; ä¸­ï¼Œå¹¶ä½¿ç”¨ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/lifecycle/package-summary%23viewmodelscope&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;viewModelScope&lt;/a&gt;&lt;/b&gt;:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;val doggosPagingFlow = Pager(PagingConfig(pageSize = 10)) {
  DogRemotePagingSource(goodDoggosService)
}.flow.cachedIn(viewModelScope)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;&lt;b&gt;PagingDataAdapter&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;ä¸ºäº†å°† RecyclerView ä¸ PagingData è”ç³»èµ·æ¥ï¼Œæ‚¨éœ€è¦å®ç°ä¸€ä¸ª &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingDataAdapter&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingDataAdapter&lt;/a&gt;&lt;/b&gt;:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;class DogAdapter(diffCallback: DiffUtil.ItemCallback&amp;lt;Dog&amp;gt;) :
  PagingDataAdapter&amp;lt;Dog, DogViewHolder&amp;gt;(diffCallback) {
  override fun onCreateViewHolder(
    parent: ViewGroup,
    viewType: Int
  ): DogViewHolder {
    return DogViewHolder(parent)
  }

  override fun onBindViewHolder(holder: DogViewHolder, position: Int) {
    val item = getItem(position)
    if(item == null) {
      holder.bindPlaceholder()
    } else {
      holder.bind(item)
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œåœ¨æ‚¨çš„ &lt;code&gt;Activity/Fragment&lt;/code&gt; ä¸­ï¼Œæ‚¨éœ€è¦æ”¶é›† &lt;code&gt;Flow&amp;lt;PagingData&amp;gt;&lt;/code&gt; å¹¶å°†å…¶æäº¤ç»™ &lt;code&gt;PagingDataAdapter&lt;/code&gt;ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨ &lt;code&gt;Activity&lt;/code&gt; çš„ &lt;code&gt;onCreate()&lt;/code&gt; å‡½æ•°ä¸­å®ç°è¯¥æ“ä½œçš„ç¤ºä¾‹:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;val viewModel by viewModels&amp;lt;DoggosViewModel&amp;gt;()

val pagingAdapter = DogAdapter(DogComparator)
val recyclerView = findViewById&amp;lt;RecyclerView&amp;gt;(R.id.recycler_view)
recyclerView.adapter = pagingAdapter

lifecycleScope.launch {
  viewModel.doggosPagingFlow.collectLatest { pagingData -&amp;gt;
    pagingAdapter.submitData(pagingData)
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;&lt;b&gt;åˆ†é¡µæ•°æ®è½¬æ¢&lt;/b&gt;&lt;/h3&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-94292e2cec2fc62945baabca0f8019e6_b.jpg&quot; data-size=&quot;small&quot; data-rawwidth=&quot;668&quot; data-rawheight=&quot;1314&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-94292e2cec2fc62945baabca0f8019e6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;668&quot; data-rawheight=&quot;1314&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-94292e2cec2fc62945baabca0f8019e6_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-94292e2cec2fc62945baabca0f8019e6_b.jpg&quot;/&gt;&lt;figcaption&gt;å±•ç¤ºä¸€ä¸ªè¿‡æ»¤åçš„åˆ—è¡¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è½¬æ¢ PagingData æµä¸æ‚¨åœ¨å…¶ä»–æ•°æ®æµä¸­æ‰€åšçš„åŒç±»æ“ä½œç›¸ä¼¼ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬åªæƒ³è¦å±•ç¤º Flow&amp;lt;PagingData&amp;gt; ä¸­é‚£äº›è°ƒçš®çš„ç‹—ç‹—ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ˜ å°„ Flow å¯¹è±¡å¹¶è¿‡æ»¤ PagingData:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;doggosPagingFlow.map { pagingData -&amp;gt;
        pagingData.filter { dog -&amp;gt; dog.isPlayful }
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ee9eac1129aed9f3955ddae7004ce397_b.jpg&quot; data-size=&quot;small&quot; data-rawwidth=&quot;668&quot; data-rawheight=&quot;1318&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-ee9eac1129aed9f3955ddae7004ce397_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;668&quot; data-rawheight=&quot;1318&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-ee9eac1129aed9f3955ddae7004ce397_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-ee9eac1129aed9f3955ddae7004ce397_b.jpg&quot;/&gt;&lt;figcaption&gt;æœ‰åˆ†éš”ç¬¦çš„åˆ—è¡¨&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å‘åˆ—è¡¨ä¸­æ·»åŠ  &lt;b&gt;åˆ†éš”ç¬¦&lt;/b&gt; åŒæ ·æ˜¯åˆ†é¡µæ•°æ®è½¬æ¢ï¼Œè¿™é‡Œæˆ‘ä»¬é€šè¿‡è½¬æ¢ PagingData å‘åˆ—è¡¨ä¸­æ’å…¥åˆ†éš”å¯¹è±¡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºç‹—ç‹—çš„åå­—æ’å…¥å­—æ¯åˆ†éš”ç¬¦ã€‚å½“ä½¿ç”¨åˆ†éš”ç¬¦æ—¶ï¼Œæ‚¨éœ€è¦è‡ªå·±å®ç° UI æ¨¡å‹ç±»ä»¥æ”¯æŒæ–°çš„åˆ†éš”é¡¹ã€‚å½“æ‚¨ä¿®æ”¹ PagingData å¹¶æ’å…¥åˆ†éš”ç¬¦æ—¶ï¼Œæ‚¨ä¼šç”¨åˆ° &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingData%23insertseparators&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;insertSeparators&lt;/a&gt;&lt;/b&gt; è½¬æ¢:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;pager.flow.map { pagingData: PagingData&amp;lt;Dog&amp;gt; -&amp;gt;
  pagingData.map { doggo -&amp;gt;
    // å°†æ•°æ®æµä¸­çš„é¡¹ç›®è½¬æ¢ä¸º UiModel.DogModelã€‚
    UiModel.DogModel(doggo)
  }
  .insertSeparators&amp;lt;UiModel.DogModel, UiModel&amp;gt; { before: Dog, after: Dog -&amp;gt;
      return if(after == null) {
       // æˆ‘ä»¬åˆ°äº†åˆ—è¡¨çš„æœ«å°¾
          null
      } else if (before == null || before.breed != after.breed) {
          // ä¸Šä¸‹å“ç§ä¸åŒï¼Œæ˜¾ç¤ºåˆ†éš”ç¬¦
          UiModel.SeparatorItem(after.breed)
      } else {
          // æ— åˆ†éš”ç¬¦
          null
      }
    }
  }
}.cachedIn(viewModelScope)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±åƒå‰é¢ä¸€æ ·ï¼Œæˆ‘ä»¬ä¼šåœ¨æ•°æ®åˆ°è¾¾ UI å±‚ä¹‹å‰ä½¿ç”¨ cachedInï¼Œè¿™æ ·ä¾¿å¯ä»¥ç¼“å­˜æ‰€æœ‰å·²ç»åŠ è½½çš„æ•°æ®ä»¥åŠæ•°æ®è½¬æ¢çš„ç»“æœã€‚å½“é…ç½®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¿™äº›ç¼“å­˜å°±ä¼šè¢«å¤ç”¨ã€‚&lt;/p&gt;&lt;h3&gt;&lt;b&gt;ä½¿ç”¨ RemoteMediator è¿›è¡Œé«˜çº§åˆ†é¡µæ“ä½œ&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;å½“æ‚¨ä»ä¸€ä¸ª &lt;b&gt;å¤šå±‚çº§æ•°æ®æº&lt;/b&gt; åŠ è½½æ•°æ®æ—¶ï¼Œåº”å½“å®ç°ä¸€ä¸ª &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/RemoteMediator&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;RemoteMediator&lt;/a&gt;&lt;/b&gt;ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œåœ¨æ­¤ç±»çš„å®ç°ä¸­ï¼Œæ‚¨åº”å½“ä»ç½‘ç»œè¯·æ±‚æ•°æ®å¹¶å­˜å…¥æ•°æ®åº“ã€‚æ¯å½“æ•°æ®åº“ä¸­æ²¡æœ‰æ•°æ®å¯ä»¥è¢«å±•ç¤ºæ—¶ï¼Œå°±ä¼šè§¦å‘ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/RemoteMediator%23load&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;load()&lt;/a&gt;&lt;/b&gt; æ–¹æ³•ã€‚åŸºäº &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/PagingState&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;PagingState&lt;/a&gt;&lt;/b&gt; å’Œ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/reference/kotlin/androidx/paging/LoadType&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;LoadType&lt;/a&gt;&lt;/b&gt;ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸‹ä¸€é¡µçš„æ•°æ®è¯·æ±‚ã€‚&lt;/p&gt;&lt;p&gt;ç”±äº Paging åº“å¹¶ä¸çŸ¥é“æ‚¨çš„ API æ˜¯æ€æ ·çš„ï¼Œæ‰€ä»¥å®šä¹‰å¦‚ä½•æ„é€ å’Œè·å–å‰ä¸€é¡µå’Œä¸‹ä¸€é¡µçš„è¿œç¨‹æ•°æ®çš„å·¥ä½œä¾¿éœ€è¦ç”±æ‚¨è‡ªå·±æ¥å®Œæˆã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæ‚¨å¯ä»¥å°†æ‚¨ä»ç½‘ç»œæ¥æ”¶åˆ°çš„æ¯ä¸ªé¡¹ç›®ä¸è¿œç¨‹å…³é”®å­—å…³è”èµ·æ¥å¹¶å­˜å…¥æ•°æ®åº“ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;override suspend fun load(loadType: LoadType, state: PagingState&amp;lt;Int, Dog&amp;gt;): MediatorResult {

   val page = ...  // åŸºäº loadType å’Œ state è¿›è¡Œè®¡ç®—

   try {
       val doggos = backend.getDoggos(page)
       doggosDatabase.doggosDao().insertAll(doggos)

       val endOfPaginationReached = emails.isEmpty()
       return MediatorResult.Success(endOfPaginationReached = endOfPaginationReached)
   } catch (exception: Exception) {
       return MediatorResult.Error(exception)
   } 
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ‚¨ä»ç½‘ç»œè¯·æ±‚æ•°æ®å¹¶å­˜å…¥æ•°æ®åº“ï¼Œé‚£ä¹ˆæ•°æ®åº“æ‰æ˜¯å±å¹•ä¸Šæ‰€å±•ç¤ºæ•°æ®çš„çœŸæ­£æ•°æ®æºâ€”â€”è¿™æ„å‘³ç€ UI ä¼šå±•ç¤ºä»æ•°æ®åº“è·å–çš„æ•°æ®ï¼Œæ‰€ä»¥æ‚¨éœ€è¦ä¸ºæ‚¨çš„æ•°æ®åº“å®ç° PagingSourceã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ Roomï¼Œé‚£ä¹ˆæ‚¨åªéœ€è¦å‘æ‚¨çš„ DAO æ·»åŠ ä¸€ä¸ªè¿”å› PagingSource çš„æŸ¥è¯¢:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;@Query(&quot;SELECT * FROM doggos&quot;)
fun getDoggos(): PagingSource&amp;lt;Int, Dog&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ Pager çš„å®ç°ç•¥æœ‰ä¸åŒï¼Œæ‚¨è¿˜éœ€è¦ä¼ å…¥ RemoteMediator å®ä¾‹:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;val pagingSourceFactory = { database.doggosDao().getDoggos() }

return Pager(
     config = PagingConfig(pageSize = NETWORK_PAGE_SIZE),
     remoteMediator = DoggosRemoteMediator(service, database),
     pagingSourceFactory = pagingSourceFactory
).flow
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‚¨å¯ä»¥å‚é˜…æ–‡æ¡£äº†è§£ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//developer.android.google.cn/topic/libraries/architecture/paging/v3-network-db&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;ä½¿ç”¨ RemoteMediator&lt;/a&gt;&lt;/b&gt; çš„è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœæ‚¨éœ€è¦ RemoteMediator åœ¨åº”ç”¨ä¸­çš„å®Œæ•´å®ç°ï¼Œå¯ä»¥å‚é˜… &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//codelabs.developers.google.com/codelabs/android-paging/%2314&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Paging codelab&lt;/a&gt;&lt;/b&gt; å’Œ &lt;b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/googlecodelabs/android-paging/blob/step13-19_network_and_database/app/src/main/java/com/example/android/codelabs/paging/data/GithubRemoteMediator.kt&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Paging ç›¸å…³ä»£ç &lt;/a&gt;&lt;/b&gt;ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å°† Paging 3 è®¾è®¡ä¸ºä¸€ä¸ªå¸®æ‚¨æ¶µç›–ç®€å•å’Œå¤æ‚æƒ…å½¢ä¸‹çš„åˆ†é¡µåŠ è½½çš„åº“ã€‚å®ƒå¯ä»¥è®©æ‚¨æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤§è§„æ¨¡æ•°æ®é›†åˆï¼Œæ— è®ºæ•°æ®æ¥è‡ªç½‘ç»œã€æ•°æ®åº“ã€å†…å­˜ç¼“å­˜è¿˜æ˜¯ä¸Šè¿°å‡ ç§æƒ…å†µçš„ç»„åˆã€‚Paging åº“åŸºäº &lt;b&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/140314207&quot; class=&quot;internal&quot;&gt;åç¨‹å’Œ Flow&lt;/a&gt;&lt;/b&gt; å®ç°ï¼Œä½¿å¾—å®ƒå¯ä»¥å¾ˆç®€å•åœ°è°ƒç”¨æŒ‚èµ·å‡½æ•°å¹¶ä¸”å¤„ç†æ•°æ®æµã€‚&lt;/p&gt;&lt;p&gt;Paging 3 ä»ç„¶å¤„äº alpha ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦æ‚¨å¸®åŠ©æˆ‘ä»¬è¿›ä¸€æ­¥ä¼˜åŒ–ï¼è¯·å‚é˜…ä»¥ä¸‹èµ„æºå¼€å§‹ä½¿ç”¨ Paging:&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>0153a26151e991a68e1eacb277ed22bf</guid>
<title>å¦‚ä½•ä» 0 åˆ° 1 æ­å»ºç”¨æˆ·æ ‡ç­¾ä½“ç³»</title>
<link>https://toutiao.io/k/78gg94x</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;|0x00 å‰è¨€&lt;/span&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;ç”¨æˆ·æ ‡ç­¾ï¼Œå…¶å®å‘å±•åˆ°ç°åœ¨å·²ç»ä¸æ˜¯æ–°é²œæ¦‚å¿µäº†ã€‚&lt;/p&gt;&lt;p&gt;å„å¤§å…¬å¸åœ¨æ¨è¿›ç²¾ç»†åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯æŠ€æœ¯æ–¹è¿˜æ˜¯ä¸šåŠ¡æ–¹ï¼Œéƒ½å·²ç»ä»è¿‡å»ç²—æ”¾çš„â€œæµé‡è¿è¥â€æ€ç»´ï¼Œè½¬å˜ä¸ºå¦‚ä»Šäººäººéƒ½åœ¨è°ˆè®ºçš„â€œç”¨æˆ·è¿è¥â€æ€ç»´ã€‚è¿™æ—¶ï¼Œç”¨æˆ·ä¸å†æ˜¯ä¸€ä¸ªä¸ªæ•´é½åˆ’ä¸€çš„æµé‡ï¼Œè€Œæ˜¯æœ‰è¡€æœ‰è‚‰çš„ä¸ªä½“ã€‚&lt;/p&gt;&lt;p&gt;ä½†å—é™äº†äºå®¢è§‚æ¡ä»¶ï¼Œæˆ‘ä»¬æ— æ³•ä¸€ä¸€å»æ¥è§¦æˆ‘ä»¬ç”¨æˆ·ï¼Œäº†è§£ä»–ä»¬çš„ä¹ æƒ¯å–œæ¬¢ï¼Œåªèƒ½ä»ä»–ä»¬äº§ç”Ÿçš„è¡Œä¸ºå’Œæ•°æ®ï¼Œå»æŠ½è±¡ã€æ€»ç»“å‡ºç‰¹å¾è§„å¾‹ï¼Œè¿™å°±å¼•å…¥äº†â€œç”¨æˆ·æ ‡ç­¾â€è¿™ä¸ªæ¦‚å¿µã€‚å½“ç”¨æˆ·è¢«æ‰“ä¸Šçš„æ ‡ç­¾è¶Šæ¥è¶Šä¸°å¯Œã€è¶Šæ¥è¶Šç²¾å‡†ï¼Œä¹Ÿå°±è¶Šè´´åˆäººæœ¬èº«ï¼Œå‹¾å‹’å‡ºä¸€ä¸ªä¸ªç«‹ä½“çš„å½¢è±¡äº†ã€‚&lt;/p&gt;&lt;p&gt;é‰´äºå¸‚é¢ä¸Šå·²æœ‰è®¸å¤šç†è®ºçŸ¥è¯†ï¼Œä¸°å¯Œçš„å®æˆ˜åˆ†äº«ï¼Œæˆ‘ä¹Ÿå°±ä¸ç­é—¨å¼„æ–§äº†ã€‚æœ¬æ–‡åªè®²è®²é‚£äº›åœ¨æ‰§è¡Œä¸­ï¼Œæ–°æ‰‹å®¹æ˜“é‡åˆ°çš„è¸©å‘ç‚¹ï¼Œå¸®åŠ©å¤§å®¶æ’é›·ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;|0x01 åˆ‡å‹¿â€œå¤§è€Œå…¨â€æ ‡ç­¾&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;åˆšæ¥åˆ°è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œæˆ‘å·²å¼€å§‹æŠ‘åˆ¶ä¸ä½å†…å¿ƒçš„æ¿€åŠ¨äº†ã€‚ä»æ¯•ä¸šå¼€å§‹åšç”¨æˆ·ç ”ç©¶ï¼Œè„‘ä¸­å·²ç»æ„å»ºèµ·äº†ä¸€ä¸ªæ¡†æ¶ï¼Œå¸Œæœ›é€šè¿‡è¿™æ¬¡ä»0åˆ°1çš„æœºä¼šï¼Œå°†ç¾å¥½è“å›¾å®æ–½è½åœ°ã€‚äºæ˜¯æˆ‘æ´‹æ´‹æ´’æ´’å†™ä¸‹ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è„‘å›¾ï¼Œå¤´è„‘é£æš´å‡ºç”¨æˆ·çš„æ‰€æœ‰ç‰¹æ€§ï¼Œç›®æ ‡æ˜¯æ„å»ºä¸€å¥—æˆç†Ÿçš„æ ‡ç­¾ä½“ç³»å’Œç”»åƒåå°ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ ·çš„ç»“å±€è‡ªç„¶æ˜¯å½“å¤´æ£’å–ï¼Œç¬¬ä¸€æ¬¡éœ€æ±‚è¯„å®¡å°±é‡åˆ°äº†å¾ˆå¤§é˜»åŠ›ï¼Œç°åœ¨æƒ³æ¥ï¼Œæœ‰ä¸¤ä¸ªé—®é¢˜æ˜¯éœ€è¦æå‰æƒ³é€å½»çš„ï¼šâ‘ è™½è¯´æ ‡ç­¾éœ€è¦åšå¾—ç²¾ç»†ï¼Œä½†å§‹ç»ˆæ˜¯æœ‰ä¸»æ¬¡çš„ï¼Œå½“å‰ä¸ºä»€ä¹ˆä¼šç”¨åˆ°æ ‡ç­¾ï¼Œå…·ä½“ç”¨æ¥åšä»€ä¹ˆï¼Ÿâ‘¡åœ¨éœ€æ±‚è°ƒç ”é˜¶æ®µï¼Œä»€ä¹ˆæ ·çš„è°ƒç ”æ˜¯æ„ä¹‰çš„ï¼Ÿä½ ä¼šå‘ç°æœ‰è®¸å¤šåšå¾—ä¸é”™çš„ç¬¬ä¸‰æ–¹å¹³å°ï¼Œæ ‡ç­¾ä½“ç³»éå¸¸æˆç†Ÿå…¨é¢ï¼Œä½†åƒç¬¬ä¸‰æ–¹å¹³å°è¿™æ ·çš„to Bå…¬å¸ï¼Œä¸ºäº†é€‚ç”¨äºæ‰€æœ‰çš„å…¬å¸ä¸šåŠ¡ï¼Œæ‰€ä»¥å°½å–„å°½ç¾ã€‚è€Œä»¥æˆ‘ä»¬å½“å‰çš„ä¸šåŠ¡é‡æ¥è¯´ï¼Œæ˜¯å¦éœ€è¦åšåˆ°å¦‚æ­¤å…¨é¢ï¼Ÿä»¥å½“å‰çš„èµ„æºæ¥è¯´ï¼Œæ˜¯å¦æœ‰èƒ½åŠ›è¿›è¡Œå¼€å‘å’Œç»´æŠ¤ï¼Ÿ&lt;/p&gt;&lt;p&gt;å®é™…ä¸Šï¼Œæˆ‘ä»¬ç°é˜¶æ®µæ˜¯ä»0åˆ°1ï¼Œè¦æƒ³ä¸€æ­¥åˆ°ä½æ˜¯ä¸ç°å®çš„ï¼Œåº”è¯¥æŒ‰ç…§ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå–èˆã€‚æ‰€ä»¥ï¼ŒçœŸæ­£æœ‰æ•ˆçš„æ–¹æ³•ä¸æ˜¯ç©·ä¸¾æ³•ï¼Œè€Œæ˜¯ç”±ä¸šåŠ¡åœºæ™¯è¿›è¡Œå€’æ¨ï¼šæˆ‘ä»¬å‘ç°ï¼Œå½“å‰æ ‡ç­¾é¦–å…ˆä¼šè¿ç”¨åœ¨æ¶ˆæ¯æ¨é€ä¸Šï¼Œå…¶ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªåœºæ™¯æ˜¯ï¼Œåœˆé€‰é¢„æµå¤±ç”¨æˆ·ï¼Œé€šè¿‡app pushã€çŸ­ä¿¡ç­‰æ–¹å¼è¿›è¡Œå¬å›ã€‚&lt;/p&gt;&lt;p&gt;ç›®çš„ä¸åœºæ™¯æ˜ç¡®äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æµå¤±æ ‡ç­¾çš„å®šä¹‰äº†ã€‚ä½œä¸ºPMï¼Œæˆ‘ç«‹é©¬ä¸è¿è¥è¿›è¡Œäº†æ²Ÿé€šï¼Œäº†è§£ä¸€çº¿ä¸šåŠ¡äººå‘˜å¯¹äºæµå¤±çš„ç†è§£ã€‚è¿™æ—¶ï¼Œå¾ˆå®¹æ˜“åˆè¸©åˆ°äº†ç¬¬äºŒä¸ªå‘ï¼šè¯¢é—®æŠ€å·§ã€‚&lt;/p&gt;&lt;p&gt;é”™è¯¯æ–¹å¼ï¼šæˆ‘ï¼šå’±ä»¬ç°åœ¨è¦å¯¹ç”¨æˆ·æ‰“æ ‡ç­¾ç”¨äºå¬å›äº†ï¼Œä½ è§‰å¾—â€œæµå¤±1å¤©ä»¥ä¸Šâ€å’Œâ€œæµå¤±30å¤©ä»¥ä¸Šâ€ï¼Œå“ªä¸ªæ›´åˆé€‚ï¼Ÿè¿è¥ï¼šæˆ‘è§‰å¾—éƒ½æ˜¯éœ€è¦çš„ï¼Œä¸åŒçš„æµå¤±ç¨‹åº¦æˆ‘éƒ½ä¼šå…³å¿ƒã€‚æˆ‘ï¼šå¥½å§.....é‚£é’ˆå¯¹æ´»è·ƒæ ‡ç­¾ï¼Œä½ è§‰å¾—â€œæœ€è¿‘7å¤©ç™»å½•â€â€œæœ€è¿‘14å¤©ç™»å½•â€â€œæœ€è¿‘30å¤©ç™»å½•â€ï¼Œå“ªä¸ªæœ€åˆé€‚ï¼Ÿè¿è¥ï¼šé‚£è‚¯å®šéƒ½è¦å•Šï¼Œè¿™éƒ½æ˜¯æˆ‘ä»¬å¹³æ—¶ä¼šå…³æ³¨çš„æŒ‡æ ‡ã€‚emmmmå¤©æ•°èƒ½ä¸èƒ½ä¸è¦å›ºå®šï¼Ÿæˆ‘ä»¬èƒ½è‡ªå®šä¹‰æ˜¯æœ€å¥½çš„ã€‚&lt;/p&gt;&lt;p&gt;ä¸ä¸šåŠ¡æ–¹æ²Ÿé€šä¼šå‘ç°ï¼Œåœ¨å¯¹æ–¹å¯¹æ ‡ç­¾ä¸ç”šç†Ÿæ‚‰çš„æƒ…å†µä¸‹ï¼Œä¼šè¯¯å°†æ ‡ç­¾ä¸ä¸šåŠ¡æŒ‡æ ‡ç›¸æ··æ·†ï¼Œä»è€Œæ˜¾å¾—â€œè´ªå¿ƒâ€èµ·æ¥â€”â€”ä»€ä¹ˆæ ‡ç­¾éƒ½æƒ³è¦ã€‚è¿™æ—¶ï¼Œä½ éœ€è¦è½¬æ¢ä¸€ç§æé—®æ–¹å¼ï¼Œå¾—åˆ°æœ€æœ‰ä»·å€¼çš„ç­”æ¡ˆ&lt;/p&gt;&lt;p&gt;æ­£ç¡®æ–¹å¼ï¼šæˆ‘ï¼šå’±ä»¬ç°åœ¨è¦å¯¹ç”¨æˆ·æ‰“æ ‡ç­¾ç”¨äºå¬å›äº†ï¼Œå¹³æ—¶ä½ æƒ³å¯¹å“ªäº›ç”¨æˆ·è¿›è¡Œå¬å›å‘€ï¼Ÿè¿è¥ï¼šæˆ‘æƒ³æƒ³.....æˆ‘å¹³æ—¶çœ‹æ•°æ®ï¼Œå¤§å¤šç”¨æˆ·ä¼šåœ¨å‰æœŸæµå¤±ï¼Œ3æ—¥ç•™å­˜ç‡å°±åªæœ‰xxå•¦ï¼æ˜¯æˆ‘çš„è¯ï¼Œæˆ‘ä¼šåœ¨3æ—¥è¿™ä¸ªèŠ‚ç‚¹å»å¬å›ã€‚æˆ‘ï¼šsogaï¼Œé‚£æˆ‘ä»¬å¯ä»¥æä¾›â€œæµå¤±3å¤©â€è¿™ä¸ªæ ‡ç­¾ï¼Œæ–¹ä¾¿ä½ è¿›è¡Œå¬å›æ“ä½œã€‚ç²¾ç®€æ ‡ç­¾ä¹‹åï¼Œç•™ä¸‹æœ€é‡è¦ã€æœ€è¿«åˆ‡çš„ä¸€äº›æ ‡ç­¾ï¼Œä½œä¸ºç¬¬ä¸€æœŸçš„å®ç°å†…å®¹ã€‚ä¹‹åä½ ä¼šå‘ç°ï¼Œä¸€äº›åŸºç¡€æ ‡ç­¾ï¼Œå·²ç»èƒ½æ»¡è¶³ç™¾åˆ†ä¹‹å…­ä¸ƒåçš„éœ€æ±‚å•¦ï¼Œè¿™æ ·æ—¢ä¸ä¼šé€ æˆå¼€å‘èµ„æºçš„æµªè´¹ï¼Œä¹Ÿé¿å…ä¸šåŠ¡äººå‘˜åœ¨ä½¿ç”¨æ—¶ï¼Œé¢å¯¹ç€æµ·é‡æ ‡ç­¾çŠ¹è±«ä¸å†³ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;|0x02 ç”¨æˆ·æ ‡ç­¾çš„åˆ†ç±»&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;å¦‚æœçœ‹è¿‡å¾ˆå¤šæ–‡ç« ä¼šå‘ç°ï¼Œå¤§å®¶å¯¹äºæ ‡ç­¾æœ‰éå¸¸å¤šçš„ä¸åŒæè¿°ï¼Œä¹Ÿå°‘æœ‰æ–‡ç« æœ‰å»è®¤çœŸè®²è§£è¿™ä¸ªè®¤çŸ¥å‰æã€‚è¿™ä¹Ÿå¯¼è‡´åˆæœŸå®¹æ˜“å¯¹æ ‡ç­¾çš„ç†è§£äº§ç”Ÿæ··æ·†ï¼Œå› ä¸ºä»ä¸åŒçš„ç»´åº¦å»è®¤è¯†ï¼Œæ ‡ç­¾æœ‰ç€ä¸åŒçš„åˆ†ç±»ã€‚&lt;/p&gt;&lt;p&gt;ç»è¿‡ä¸€äº›æ•´åˆåï¼Œæˆ‘è®¤ä¸ºå¤§è‡´å¯ä»¥ä»äº”ä¸ªè§’åº¦å»ç†è§£æ ‡ç­¾ï¼š&lt;/p&gt;&lt;p&gt;1ã€ä»æ›´æ–°é¢‘ç‡æ¥åˆ†ï¼šé™æ€æ ‡ç­¾ã€åŠ¨æ€æ ‡ç­¾ ä¾‹å¦‚â€œæ€§åˆ«â€è¿™ä¸ªæ ‡ç­¾ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸ä¼šéšç€æ—¶é—´å˜åŠ¨çš„ï¼Œæ‰€ä»¥å®ƒå±äºé™æ€æ ‡ç­¾ï¼›è€Œâ€œæœ€è¿‘ä¸€æ¬¡è®¿é—®æ—¶é—´â€ä¼šéšç€æ¯æ¬¡ç”¨æˆ·ç™»å½•è€Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€æ ‡ç­¾ã€‚&lt;/p&gt;&lt;p&gt;2ã€ä»ä¸»é¢˜ä¸Šåˆ†ï¼šå±æ€§æ ‡ç­¾ã€è¡Œä¸ºæ ‡ç­¾ç­‰ éšç€ä¸šåŠ¡çš„è¿›è¡Œï¼Œæ ‡ç­¾å¾€å¾€ä¼šè¶Šæ¥è¶Šå¤šï¼Œè€Œâ€œä¸»é¢˜â€å¸®åŠ©æˆ‘ä»¬ä»ä¸šåŠ¡è§’åº¦å¯¹æ ‡ç­¾è¿›è¡Œå½’ç±»ï¼Œæ–¹ä¾¿åç»­æœ‰ç§©åºåœ°è¡¥å……æ–°çš„æ ‡ç­¾ã€‚ä¾‹å¦‚æˆ‘å¯ä»¥åˆ†ä¸ºâ€œå±æ€§æ ‡ç­¾â€å’Œâ€œè¡Œä¸ºæ ‡ç­¾â€ï¼Œå°†â€œæ€§åˆ«â€â€œå¹´é¾„â€è¿™æ ·æè¿°ç”¨æˆ·çš„è‡ªç„¶å±æ€§çš„æ ‡ç­¾å½’äºâ€œå±æ€§æ ‡ç­¾â€ï¼Œè€Œå°†â€œè¿‘30æ—¥ä¸‹å•æ¬¡æ•°â€è¿™æ ·çš„æ¶‰åŠåˆ°ç”¨æˆ·ä¸‹å•è¡Œä¸ºçš„æ ‡ç­¾å½’å±åˆ°â€œè¡Œä¸ºæ ‡ç­¾â€ã€‚ä¸»é¢˜çš„åˆ’åˆ†å¹¶æ²¡æœ‰è§„å®šï¼Œä¸åŒçš„å…¬å¸å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå½’ç±»æ•´åˆï¼Œé¿å…æ ‡ç­¾ä½“ç³»æ‚ä¹±ã€‚&lt;/p&gt;&lt;p&gt;3ã€ä»å±‚çº§ä¸Šåˆ†ï¼šä¸€çº§æ ‡ç­¾ã€äºŒçº§æ ‡ç­¾ç­‰ åŒæ ·ï¼Œå±‚çº§ä¹Ÿæ˜¯ä¸ºäº†ä¸šåŠ¡ç†è§£æ›´åŠ æœ‰åºæ‰äº§ç”Ÿçš„ï¼Œä¾‹å¦‚ä¸Šè¿°çš„â€œè¿‘30æ—¥ä¸‹å•æ¬¡æ•°â€å¯ä»¥ä½œä¸ºâ€œäºŒçº§æ ‡ç­¾â€ï¼Œå½’å±äºâ€œè¿‘30æ—¥è¡Œä¸ºâ€è¿™ä¸ªä¸€çº§æ ‡ç­¾ï¼Œé‚£ä¹ˆä¸‹æ¬¡æ·»åŠ â€œè¿‘30æ—¥ç™»é™†æ¬¡æ•°â€è¿™ä¸ªæ ‡ç­¾æ—¶ï¼Œå°±å¯ä»¥åŒæ ·å½’äºâ€œè¿‘30æ—¥è¡Œä¸ºâ€è¿™ä¸ªä¸€çº§æ ‡ç­¾ä¹‹ä¸‹ã€‚å½“ç„¶ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œå¯èƒ½è¿˜ä¼šæœ‰ä¸‰çº§æ ‡ç­¾ã€‚&lt;/p&gt;&lt;p&gt;4ã€ä»å¼€å‘æ–¹å¼åˆ†ï¼šç»Ÿè®¡ç±»æ ‡ç­¾ã€è§„åˆ™ç±»æ ‡ç­¾ã€ç®—æ³•ç±»æ ‡ç­¾ï¼ˆåˆç§°ï¼šäº‹å®æ ‡ç­¾ã€æ¨¡å‹æ ‡ç­¾ã€é¢„æµ‹æ ‡ç­¾ï¼‰ è¿™ä¸€ç§åˆ†ç±»æ–¹å¼æ˜¯ä»æŠ€æœ¯å¼€å‘è§’åº¦äº§ç”Ÿçš„ã€‚â€œç»Ÿè®¡ç±»æ ‡ç­¾â€ï¼ˆæœ‰äº›åˆç§°ä¸ºâ€œäº‹å®æ ‡ç­¾â€ï¼‰æ˜¯ä»åº•å±‚æ•°æ®è¡¨ä¸­å–å‡ºåŸå§‹æ•°æ®ï¼Œè¿›è¡Œç®€å•çš„åŠ å‡ä¹˜é™¤è¿ç®—å¾—åˆ°çš„æ ‡ç­¾ï¼Œä¾‹å¦‚â€œæœ€è¿‘ä¸€æ¬¡ç™»å½•è·ä»Šå¤©æ•°â€è¿™ä¸ªæ ‡ç­¾ï¼Œå°±æ˜¯å°†ç”¨æˆ·çš„æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´ä¸ä»Šå¤©åšå‡æ³•ï¼Œå¾—åˆ°è·ä»Šå¤©æ•°ï¼Œå®ƒåæ˜ åŸºæœ¬äº‹å®ã€‚è€Œâ€œè§„åˆ™ç±»æ ‡ç­¾â€ï¼ˆæœ‰äº›åˆç§°â€œæ¨¡å‹æ ‡ç­¾â€ï¼‰åˆ™æ˜¯è¿›è¡Œäº†ä¸šåŠ¡å®šä¹‰åçš„æ ‡ç­¾ï¼Œä¾‹å¦‚â€œæµå¤±ç”¨æˆ·â€è¿™ä¸ªæ ‡ç­¾ï¼ŒåŸºäºæˆ‘ä»¬çš„ä¸šåŠ¡è®¤çŸ¥ï¼Œå°†â€œæœ€è¿‘ä¸€æ¬¡ç™»å½•è·ä»Šå¤©æ•°â€å¤§äº30å¤©çš„ç”¨æˆ·å®šä¹‰ä¸ºæµå¤±ç”¨æˆ·ï¼Œä¸åŒå…¬å¸ä¼šæœ‰è‡ªå·±çš„å®šä¹‰æ–¹å¼ï¼Œä¾‹å¦‚â€œæŠ–éŸ³â€è¿™æ ·é«˜é¢‘çš„ç¤¾äº¤äº§å“ï¼Œä»–çš„æµå¤±çš„å®šä¹‰ä¸€å®šä¼šä¸¥æ ¼äºâ€œæºç¨‹â€è¿™æ ·ä½é¢‘çš„å‡ºè¡Œäº§å“ã€‚â€œç®—æ³•ç±»æ ‡ç­¾â€ï¼ˆåˆç§°â€œé¢„æµ‹æ ‡ç­¾â€ï¼‰é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯éœ€è¦åˆ©ç”¨ç®—æ³•æ‰èƒ½å¾—åˆ°çš„æ ‡ç­¾äº†ï¼Œä¾‹å¦‚ç”µå•†äº§å“å¸¸é€šè¿‡ç”¨æˆ·çš„ä¸‹å•è¡Œä¸ºï¼Œå»çŒœæµ‹ç”¨æˆ·çš„æ€§åˆ«ã€‚é€šå¸¸ç®—æ³•ç±»æ ‡ç­¾æ¶‰åŠå¤æ‚çš„é€»è¾‘ä¸æƒé‡ï¼Œå¼€å‘éš¾åº¦å¤§ï¼Œåœ¨æ‰€æœ‰æ ‡ç­¾ä¸­å æ¯”ä¸é«˜ã€‚&lt;/p&gt;&lt;p&gt;5ã€ä»ç”Ÿæˆè§„åˆ™åˆ†ï¼šå•ä¸€æ ‡ç­¾ã€å¤åˆæ ‡ç­¾ ä¸€èˆ¬æ¥è¯´ï¼Œä¸Šè¿°çš„ç»Ÿè®¡ç±»æ ‡ç­¾å¯ä»¥è¯´æ˜¯å•ä¸€æ ‡ç­¾ï¼Œè€Œè§„åˆ™ç±»å’Œç®—æ³•ç±»æ ‡ç­¾å°±æ˜¯éœ€è¦å¤šä¸ªå•ä¸€æ ‡ç­¾ç»„åˆè€Œæˆçš„å¤åˆæ ‡ç­¾ã€‚&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.9517544&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jWg3EibnYW98aFiaUUhWznOkrlss6JfCtUs4gtEuncWa1rjibAj9EodxvDnXcTboAfEp9fxsOSe6cS0NOhFpAzg7Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;684&quot;/&gt;&lt;/p&gt;&lt;p&gt;ææ¸…æ¥šæ ‡ç­¾çš„åˆ†ç±»ä¹‹åï¼Œå¤§å®¶åœ¨æ­å»ºè¿‡ç¨‹ä¸­å¯¹é½å£å¾„ï¼Œå†å»åˆ¶å®šç›¸åº”çš„æ ‡ç­¾å€¼å°±å®¹æ˜“æ¨è¿›äº†ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;|0xFF ç”¨æˆ·æ ‡ç­¾ä¸ç”»åƒçš„å…³ç³»&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;èµ·åˆåœ¨å¼€å§‹åšæ ‡ç­¾çš„æ—¶å€™ï¼Œæˆ‘ä¸€åº¦æ··æ·†æ ‡ç­¾ä¸ç”»åƒçš„æ¦‚å¿µã€‚å¹³æ—¶ï¼Œæˆ‘ä»¬å¸¸æŠŠä¸¤ä¸ªè¯æ†ç»‘åœ¨ä¸€èµ·è¯´ï¼Œä½†æ˜¯æ ‡ç­¾=ç”»åƒå—ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ç™¾åº¦ç™¾ç§‘çš„è§£é‡Šã€‚&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.2635585&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jWg3EibnYW98aFiaUUhWznOkrlss6JfCtUWCZMGun9MuobHfj01ugYsOuSXMMzO6PRicDsq6Es9aWg4pV9kZrkvvg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1051&quot;/&gt;&lt;/p&gt;&lt;p&gt;åº¦å¨˜çš„è§£é‡Šæ˜¯ï¼Œç”»åƒéœ€è¦â€œåˆ©ç”¨æ ‡ç­¾å°†ç”¨æˆ·å½¢è±¡å…·ä½“åŒ–â€ï¼Œæ„å‘³ç€ï¼Œç”»åƒéœ€è¦å»ºç«‹åœ¨æ ‡ç­¾çš„åŸºç¡€ä¹‹ä¸Šï¼Œå­˜åœ¨ä¾èµ–å…³ç³»ï¼Œä½†åˆä¸å°½ç›¸åŒã€‚&lt;/p&gt;&lt;p&gt;æ ‡ç­¾æ˜¯å¯¹äºç”¨æˆ·ï¼Œæ›´ååº•å±‚çš„ä¸€ç§æè¿°ï¼Œå½“æˆ‘ä»¬ç»™ç”¨æˆ·æ‰“æ ‡ç­¾æ—¶ï¼Œæ­¤ç”¨æˆ·çš„æ•°æ®è¡¨ä¸­å¡«å……äº†â€œ26å²â€â€œå¥³æ€§â€â€œåŒ—äº¬â€â€œç™½é¢†â€ç­‰æ ‡ç­¾å€¼ã€‚å¯¹ä¸ªä½“ç”¨æˆ·è€Œè¨€ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸å°†å…¶æ ‡ç­¾æè¿°ä¸ºç”»åƒï¼Œè€Œå«åšâ€œå…¸å‹ç”¨æˆ·â€ï¼Œç”¨äºç›´è§‚é˜è¿°æˆ‘ä»¬çš„ç›®æ ‡ç¾¤ä½“æ˜¯è°ï¼Œæˆ–è€…ç”¨äºå®¢æœå›è®¿æ—¶ï¼Œå¿«é€Ÿäº†è§£ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ã€‚&lt;/p&gt;&lt;p&gt;è€Œæˆ‘ä»¬å¸¸è¯´çš„ç”¨æˆ·ç”»åƒç³»ç»Ÿï¼Œä¸€èˆ¬é’ˆå¯¹çš„æ˜¯ä¸€ä¸ªç¾¤ä½“ã€‚å½“æ¯ä¸ªä¸ªäººéƒ½è¢«æ‰“ä¸Šæ ‡ç­¾ä¹‹åï¼Œé€šè¿‡ç»Ÿè®¡çš„æ–¹å¼å°†ä¸€ä¸ªç¾¤ä½“çš„ç‰¹å¾è¿›è¡Œæ±‡æ€»ï¼Œæ‰æ˜¯æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ç”»åƒâ€”â€”å½“å‰æˆ‘ä»¬çš„æ´»è·ƒç”¨æˆ·ä¸»è¦æ¥è‡ªå“ªäº›æ¸ é“ï¼Ÿä¸»è¦ä½äºå“ªä¸ªå¹´é¾„å±‚ï¼Ÿä»è€Œåå‘æ¨å¯¼å‡ºå“ªäº›æ˜¯æœ€é€‚åˆæˆ‘ä»¬äº§å“çš„ç”¨æˆ·ï¼Œè°ƒæ•´å¹¿å‘ŠæŠ•æ”¾ç­–ç•¥ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœè¯´æ ‡ç­¾æ˜¯åº•å±‚æ•°æ®çš„æ ‡è¯†ï¼Œé‚£ä¹ˆç”»åƒå¯ä»¥è¯´æ˜¯ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼ŒåŒæ ·ï¼Œæ ‡ç­¾è¿˜æœ‰å¦ä¸€ä¸ªé‡è¦çš„åº”ç”¨åœºæ™¯â€”â€”åˆ†ç¾¤ã€‚ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå½“æˆ‘ä»¬è¦è¿›è¡Œä¸€æ¬¡app pushæ—¶ï¼Œä¸šåŠ¡äººå‘˜éœ€è¦åˆ©ç”¨æ ‡ç­¾ï¼Œé€‰æ‹©ç²¾å‡†çš„ç›®æ ‡ç”¨æˆ·è¿›è¡Œæ¨é€ï¼Œä»è€Œè¾¾åˆ°æœ€é«˜çš„ROIã€‚ä¾‹å¦‚ç”µå•†å¸¸è§çš„ï¼Œé’ˆå¯¹â€œåå¥½çŸ­è£™â€å’Œâ€œåå¥½ç¾å¦†â€çš„å¥³æ€§ç”¨æˆ·ï¼Œç¼–è¾‘ä¸åŒçš„æ–‡æ¡ˆå’ŒæŠ˜æ‰£ä¿¡æ¯ï¼Œå¸å¼•ç‚¹å‡»è½¬åŒ–ã€‚&lt;/p&gt;&lt;p&gt;ç»¼ä¸Šæ‰€è¿°ï¼Œæ ‡ç­¾ä¸ç”»åƒæœ‰ä¸€å®šçš„è”ç³»ï¼Œä½†åˆä¸å®Œå…¨ä¸€è‡´ï¼Œåˆ‡å‹¿æ··ä¸ºä¸€è°ˆã€‚æ ‡ç­¾çš„ä½¿ç”¨åœºæ™¯ï¼Œè¿˜éœ€è¦æˆ‘ä»¬åœ¨æ·±å…¥ä¸šåŠ¡çš„åŒæ—¶ï¼Œä¸æ–­å»æŒ–æ˜ï¼Œè®©å…¶ä»·å€¼æœ€å¤§åŒ–ï¼Œæ‰æ˜¯æˆ‘ä»¬æ‰€è¯´çš„çœŸæ­£çš„â€œç²¾ç»†åŒ–è¿è¥â€ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>