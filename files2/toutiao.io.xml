<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>4ac48de0b9c9963a279123cf15380dbe</guid>
<title>æˆ‘æŠŠè¿™ä¸ªè½¯ä»¶ï¼Œæ¨èç»™äº†æ€»ç›‘</title>
<link>https://toutiao.io/k/9yex08q</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯ yesã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©è¦æ¥å®‰åˆ©ä¸€æ¬¾ç¥å™¨ï¼ã€Œ&lt;span&gt;uTools&lt;/span&gt;ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºæˆ‘ä¸ªäººè€Œè¨€ï¼Œå®ƒçš„ç”¨å¤„åœ¨äºï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å¿«é€Ÿç¿»è¯‘&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¤‡å¿˜å½•å¿«è´´&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¿«é€ŸæŸ¥æ‰¾å’Œæ‰“å¼€æ–‡ä»¶&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Json è§£æ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ—¶é—´æˆ³è½¬æ¢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;todoè®°å½•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç­‰ç­‰ç­‰ç­‰ï¼Œè¿˜æœ‰å¤ªå¤šå¤ªå¤šäº†ï¼Œå®ƒæœ‰ 100 å¤šä¸ªæ’ä»¶ï¼&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œè¿™äº›åŠŸèƒ½åˆ«çš„è½¯ä»¶æˆ–è€…ç½‘ç«™ä¹Ÿèƒ½æä¾›ï¼Œä½†æ˜¯å®ƒä¸€ä¸ªå°±å…¨æœ‰äº†ï¼è€Œä¸”å®ƒç®€å•ã€é«˜æ•ˆã€è·¨å¹³å°ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.26713947990543735&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUoicIRQYBUQib245Ocmv2PX6VVbup3TAibNFmwnSnguYJK7CTibFa0LOScA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;846&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®‰è£…äº†ä¹‹åï¼Œé€šè¿‡ ã€Œ&lt;span&gt;alt+ç©ºæ ¼&lt;/span&gt;ã€å°±å¯ä»¥å”¤å‡ºå®ƒï¼Œç„¶åå¯ä»¥å¾€è¾“å…¥æ¡†å†…ç²˜è´´æ–‡æœ¬ã€å›¾ç‰‡ã€æˆªå›¾ã€æ–‡ä»¶ã€æ–‡ä»¶å¤¹ç­‰ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚æˆ‘æƒ³æ‰“å¼€ Chromeï¼Œç›´æ¥alt+ç©ºæ ¼å”¤å‡ºï¼Œå†è¾“å…¥ chrome å³å¯ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.13216957605985039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUFBZriavxPJwxJOYOq8TdXuRbc0mdhO4icLnUf6UiaCiciaZqx54RoqBug7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæƒ³å¬æ­Œï¼Œé‚£å°±ç½‘æ˜“äº‘~&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.13216957605985039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUZEKmfEfOpicPlu0qHKu4bHpupH4iaGorIqk9nuUhGMDVQe9FFoSnzO2g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚æˆ‘ç°åœ¨æˆªäº†ä¸ªå›¾ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶è¾“å…¥ï¼Œç„¶åå¯ä»¥æŸ¥çœ‹ base64ç¼–ç ã€å¦å­˜ä¸ºå›¾ç‰‡ã€ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªå›¾è®°å½•ä¸‹æ¥ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2518703241895262&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUfsRiaMSAYT0c13RiaOJNSzf84AqxBwcQfMGP1OTo4FaPFQiboc7ruhLew/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡è®¾ä»Šå¤©çœ‹äº† yes çš„æŠ€æœ¯æ–‡ç« ï¼Œé‡Œé¢æœ‰ä¸€æ®µè¯è¯´çš„å¾ˆå¥½ï¼Œæˆ‘å°±æˆªå›¾ï¼Œç„¶åç‚¹å‡»æ·»åŠ åˆ°ã€Œå¤‡å¿˜å¿«è´´ã€ï¼Œå›¾ç‰‡è¿˜èƒ½å¤‡æ³¨ï¼ˆå›¾ä¸­çš„yes6666å°±æ˜¯å¤‡æ³¨ï¼‰ï¼Œè¿™æ ·å°±ä¸´æ—¶è®°å½•ä¸‹æ¥äº†ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUCzGUoCibM97IibzUOMIQhPxgWXjShMLzr7HseQRWYWlGYb1aA66O2ZibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åç­‰æ™šä¸Šå›å»å†æ•´ç†æˆç¬”è®°å°± OK äº†ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¯”å¦‚æˆ‘ç°åœ¨çœ‹è‹±æ–‡ pdfï¼Œæˆ‘æƒ³ç¿»è¯‘ä¸€ä¸‹ï¼Œé‚£éå¸¸ç®€å•ï¼Œæˆ‘&lt;span&gt;åˆ’è¯é•¿æŒ‰é¼ æ ‡å³é”®&lt;/span&gt;(é»˜è®¤æ˜¯é¼ æ ‡ä¸­é”®)å°±å¥½äº†ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7343234323432343&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUDiamEwOFZPPxLtBzZMLN7HnoHViaMh1C6Fl60aZxeswoYLhJduBemYyg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;606&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜å¯ä»¥ç‚¹å‡ºä¸Šå›¾çš„&lt;span&gt;ç¿»è¯‘&lt;/span&gt;ï¼Œè¿™æ ·å¯ä»¥çœ‹å¤šä¸ªç½‘ç«™çš„ç¿»è¯‘ç»“æœï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5859375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUkpoSuxgAtJm6GXTorVJShic0633DJTrgNfqsgSf3y3CkfDJq0PFz7XA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1024&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ªæ–¹ä¾¿äº†ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè¦è®°å½• todo çš„äº‹æƒ…ï¼Œä¹Ÿå¾ˆç®€å•ï¼ç›´æ¥ &lt;code&gt;alt+ç©ºæ ¼&lt;/code&gt; å”¤å‡ºå†è¾“å…¥ &lt;code&gt;todo&lt;/code&gt; æ•²ä¸ªå›è½¦å³å¯ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaURPvXKBabibPUq0mOukOMgO9Y6WILU42vPnTvkW4ZrDa7nnRDVib7GpXA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¯”å¦‚ç°åœ¨è¦å¯¹æ¥ä¸€ä¸ªæ¥å£ï¼Œæ¥å£è¿”å›äº†ä¸€ä¸ª Json å­—ç¬¦ä¸²ï¼Œé‚£ç›´æ¥å¤åˆ¶ç„¶å &lt;code&gt;alt+ç©ºæ ¼&lt;/code&gt; å”¤å‡ºï¼Œæ­¤æ—¶çš„ç•Œé¢å°±æ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3117206982543641&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUxUUQmHCLk9oxCxMcsAecgShJ6gFyDQQHWPUz8MkBqdOiaH8tKUaNNibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åæ•²ä¸ªå›è½¦ï¼Œå°±æå®šå•¦ï¼å°±æ˜¯è¿™ä¹ˆ easyï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUT3zqMbjj3gPasHc9p8gCnLx8iaGYYTt4ic31HhNibypnYCbSCickyFeFjw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¯”å¦‚ç°åœ¨ä»æ•°æ®åº“æ‹¿åˆ°äº†ä¸ªæ—¶é—´æˆ³ï¼Œæƒ³çœ‹çœ‹åˆ°åº•æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œé‚£ä¹ˆç›´æ¥å¤åˆ¶ç„¶å &lt;code&gt;alt+ç©ºæ ¼&lt;/code&gt; å”¤å‡ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.371571072319202&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUviaKGydrEVgfKa7WyeXmWIfdUqCJzSNMibGy4M0FoKNIDXAeL7oh7bFg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ•²ä¸ªå›è½¦ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUVyfmCa5IGajqXguJp3LwBuWBPlFnCn1hRSCia758pg4efN7DmBeh6KA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæƒ³ä»ç°åœ¨ä¸€ä¸ªæ—¶é—´å€’æ¨ä¸€ä¸‹æ—¶é—´æˆ³ï¼Œé‚£ä¹Ÿç®€å•ï¼Œ&lt;span&gt;ç›´æ¥è¾“å…¥æ—¶é—´&lt;/span&gt;å°±è¡Œï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaU7lZrsBzIwdBgibNBkN4SeXe1dBXvdIMNPgpF1jUL8q0zxYPM6zskrvw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åå®ƒæœ‰å¾ˆå¤šæ’ä»¶ï¼Œå¯ä»¥ç›´æ¥è¾“å…¥æ’ä»¶(æ‹¼éŸ³ä¹Ÿok)æ¥æœï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.19201995012468828&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUR5xpztrYCbB8UFw6HNQdiaTKtRkI5850gjMLPycPENCOkUZkZBibxbHQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUVTzRjtGObtMfJPibwnztz8iaTvWqsXMWNghibWEWRydddHLuISKUpWJ8A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜æœ‰ä¸€äº›æ–‡æ¡£æ’ä»¶ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3929712460063898&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUhFtkRUcJBhWibmAWu7M3O4IcWCuQ6IVoCdDrA0OtqOrZakLh0zVTTXA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;626&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚æˆ‘è¦æŸ¥ Linux çš„ ps å‘½ä»¤ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7905236907730673&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUVA21wtUIG8U4ibfrJ3zyqzicJayxJUWe5ZesdjNqq3xubEb275OmUgxw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€ä¹ˆè¯´ï¼Œè¿™æ³¢æ˜¯ä¸æ˜¯å¾ˆå®Œç¾ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜æœ‰&lt;span&gt;æ¸£ç”·è¯­å½•&lt;/span&gt;ï¼Œå•§å•§å¥½éªšå•Šï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6708229426433915&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUAPChPEtVzicnjyibEfCLlzcF3r4sHQr5QmgJIKtsiaejSziakHlc9yApPg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘è¿˜çœ‹åˆ°äº†å•¥&lt;/span&gt;ï¼Ÿï¼Ÿ&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7506234413965087&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUd8X20ODD700icIULUIUW50UeDf01TNT2BAabsOL9OlPJrCacFO6ib3Xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;802&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åƒæˆ‘è¿™ä¹ˆæ­£ç›´çš„äººï¼Œæˆ‘æ˜¯ä¸ä¼šä¸‹è½½çš„ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9816849816849816&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/eSdk75TK4nF6UIhGEVSf14dXaoibPG4iaUwtibObnscf80AJYXibDN8zrSgnOzDazMObDP6dkz9vewBWvDE1x2mYNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;273&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯æˆ‘æ€»ç›‘......&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ’ä»¶å¤ªå¤šäº†ï¼Œä½ ä»¬å°±è‡ªå·±çœ‹å§ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®˜ç½‘ï¼šhttps://u.tools/&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä¹Ÿæ‰“åŒ…å¥½äº†ï¼Œwindowsã€macéƒ½æœ‰ï¼Œåå°ç›´æ¥å›å¤ã€Œ&lt;span&gt;uTools&lt;/span&gt;ã€å³å¯ä¸‹è½½ï¼&lt;/p&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘æ˜¯yesï¼Œæˆ‘ä»¬ä¸‹ç¯‡è§~&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3ef3eb82d42795ef2acf59e8d3d7eb5c</guid>
<title>ç”¨ Go å®ç°é…ç½®ä¸­å¿ƒï¼ˆä¸€ï¼‰</title>
<link>https://toutiao.io/k/5ga4hr7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;post-content&quot;&gt;
&lt;h1 id=&quot;å¼•è¨€&quot;&gt;å¼•è¨€&lt;/h1&gt;
&lt;p&gt;æºç è§ &lt;a href=&quot;https://github.com/GotaX/go-config-server/tree/v0.1.0&quot;&gt;https://github.com/GotaX/go-config-server/tree/v0.1.0&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åªè¦æ¥è§¦è¿‡å¾®æœåŠ¡çš„åŒå­¦éƒ½çŸ¥é“, é…ç½®ç®¡ç†ä¸å¥½, è¿ç»´çœŸçš„å‹åŠ›å±±å¤§. è¿‡å»å‘¢, æˆ‘ä¸€ç›´éƒ½é¦–é€‰ &lt;code&gt;spring-cloud-config-server&lt;/code&gt; åšé…ç½®æœåŠ¡å™¨, ä¸»è¦æ˜¯å› ä¸º:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é—ç•™äº†ä¸å°‘ Java æœåŠ¡, æ”¹é€ èµ·æ¥å¾ˆè´¹äº‹&lt;/li&gt;
&lt;li&gt;å®ƒæä¾›äº† HTTP API, ä¸éœ€è¦ SDK ä¹Ÿèƒ½æ¥å…¥å…¶ä»–æœåŠ¡&lt;/li&gt;
&lt;li&gt;è‡ªå¸¦å¤š Profile ç»„åˆçš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ Git åšå­˜å‚¨, æ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸è¿‡éšç€é…ç½®æ–‡ä»¶è¶Šå†™è¶Šå¤š, è¿˜æ˜¯é€æ¸æš´éœ²å‡ºä¸å°‘é—®é¢˜:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹ YAML æ–‡ä»¶çš„è§£ææœ‰ &lt;a href=&quot;https://github.com/spring-cloud/spring-cloud-config/issues/935&quot;&gt;BUG&lt;/a&gt;, å†™ Kubernetes é…ç½®çš„æ—¶å€™å¾ˆå¤´ç–¼&lt;/li&gt;
&lt;li&gt;åŒ…å«ä¸å°‘ spring çº¦å®šä¿—æˆçš„ç”¨æ³•, æ¯”å¦‚ &lt;code&gt;application.yml&lt;/code&gt; ä¸‹çš„é…ç½®ä¼šè¢«å…¨éƒ¨å¯¼å…¥, æ— æ³•åªå¯¼å…¥éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;å†™ YAML æ—¶, å­—ç¬¦ä¸²å’Œæ•°å­—æœ‰æ—¶æ— æ³•å¾ˆå¥½åŒºåˆ†. å†™ JSON æ—¶åˆå¤ªå†—é•¿.&lt;/li&gt;
&lt;li&gt;Java æœåŠ¡çš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨éƒ½åé«˜ (ç›¸è¾ƒäº Go).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¹‹åä¹Ÿæœ‰æŒç»­å…³æ³¨è¿™æ–¹é¢, æœ‰å‡ ä¸ªäººæ°”è¾ƒé«˜çš„é¡¹ç›®:&lt;/p&gt;

&lt;p&gt;è¿™ä¸‰ä¸ªé…ç½®ä¸­å¿ƒéƒ½æ˜¯ç”±å¤§å‚å¼€å‘, è´¨é‡è‚¯å®šæœ‰ä¿è¯, åŠŸèƒ½ä¹Ÿå¾ˆå¼ºå¤§. ä¸è¿‡å¯¹äºå°å›¢é˜Ÿæ¥è¯´è¿˜æ˜¯å¤ªé‡é‡çº§äº†, ç”¨èµ·æ¥ä¼šæœ‰ä¸å°‘è¿ç»´å‹åŠ›.&lt;/p&gt;
&lt;p&gt;é•¿æœŸè§‚æœ›æ— æœ, æ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯å†³å®šè‡ªå·±å®ç°ä¸€ä¸ª. å…ˆæ€»ç»“ä¸€ä¸‹æœ€æ ¸å¿ƒçš„éœ€æ±‚ç‚¹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ä¸€å®šè¦æœ‰ç‰ˆæœ¬ç®¡ç†, èƒ½è¿½æº¯å†å² (Git)&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼å­˜å‚¨, é¿å…å•ç‚¹æ•…éšœ (Git)&lt;/li&gt;
&lt;li&gt;èƒ½å¾ˆæ–¹ä¾¿åœ°å¤ç”¨å…¬å…±é…ç½® (æ¯”å¦‚æ•°æ®åº“ DataSource)&lt;/li&gt;
&lt;li&gt;ç®€æ´çš„é…ç½®è¯­æ³•, é€‚å½“çš„æ ¡éªŒ (JSON å¤ªå†—é•¿, YAML å®¹æ˜“å‡ºé”™)&lt;/li&gt;
&lt;li&gt;å¤šç¯å¢ƒæ”¯æŒ (ç”Ÿäº§/æµ‹è¯•ç¯å¢ƒ)&lt;/li&gt;
&lt;li&gt;è½»é‡çº§ (æœ€å°åŒ–è¿ç»´å‹åŠ›)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1~2 æ¡ç”±äº Git æœ¬èº«å°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬ç®¡ç†å·¥å…·, æ‰€ä»¥å°±ä¸ç”¨è‡ªå·±å®ç°äº†.&lt;/p&gt;
&lt;p&gt;3~5 æ¡è‡ªå·±ä»å¤´ææœ‰ç‚¹éº»çƒ¦, ä¸è¿‡æˆ‘å¾ˆå¹¸è¿åœ°æ‰¾åˆ°ä¸€ä¸ªé…ç½®ä¸“ç”¨è¯­è¨€ &lt;a href=&quot;https://jsonnet.org/&quot;&gt;Jsonnet&lt;/a&gt;, æ‰€ä»¥å°±ç›´æ¥æ‹¿æ¥ç”¨å’¯.&lt;/p&gt;
&lt;p&gt;å¥½äº†, èƒŒæ™¯ä»‹ç»å®Œæ¯•, ä¸‹é¢æ­£å¼å¼€å§‹å§.&lt;/p&gt;
&lt;h1 id=&quot;æ¥å£å®šä¹‰&quot;&gt;æ¥å£å®šä¹‰&lt;/h1&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬æ¥å®šä¹‰ HTTP API, è¿™é‡Œé‡‡ç”¨å’Œ &lt;code&gt;spring-cloud-config-server&lt;/code&gt;å·®ä¸å¤šçš„æ ¼å¼.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;GET /:namespace/:filepath&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;namespace&lt;/td&gt;
&lt;td&gt;å‘½åç©ºé—´, Git ä¸­å°±æ˜¯åˆ†æ”¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;filepath&lt;/td&gt;
&lt;td&gt;é…ç½®æ–‡ä»¶è·¯å¾„, ç›¸å¯¹äº Git ä»“åº“æ ¹ç›®å½•. åç¼€ä»£è¡¨è¿”å›å†…å®¹æ ¼å¼, æ¯”å¦‚ (&lt;code&gt;.json&lt;/code&gt; å’Œ &lt;code&gt;.yaml&lt;/code&gt;).&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ¥ç€æˆ‘ä»¬æ¥æ¢³ç†ä¸‹æœ€å°å·¥ä½œæµç¨‹:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»åº•å±‚å­˜å‚¨è¯»å–è¯»å–é…ç½®æ–‡ä»¶æ¨¡æ¿&lt;/li&gt;
&lt;li&gt;å°†é…ç½®æ–‡ä»¶æ¨¡æ¿æ¸²æŸ“ä¸ºç›®æ ‡æ ¼å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»ä¸Šé¢çš„æµç¨‹ä¸­æˆ‘ä»¬å¯ä»¥æŠ½è±¡å‡ºä¸¤ä¸ªæ¥å£:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/storage.go
&lt;/span&gt;&lt;span&gt;// åº•å±‚å­˜å‚¨æ¥å£
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Storage&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; {
    &lt;span&gt;// åˆ‡æ¢å‘½åç©ºé—´, ç±»ä¼¼äº MySQL ä¸­çš„ use
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;)
    &lt;span&gt;// è¯»å–æ–‡ä»¶å†…å®¹
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Read&lt;/span&gt;(&lt;span&gt;path&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;content&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;)
}

&lt;span&gt;// pkg/storage/render.go
&lt;/span&gt;&lt;span&gt;// æ¨¡æ¿æ¸²æŸ“æ¥å£
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Renderer&lt;/span&gt; &lt;span&gt;interface&lt;/span&gt; {
    &lt;span&gt;// æ‰§è¡Œæ¸²æŸ“, entry ä¸ºå…¥å£æ–‡ä»¶, outputType ä¸ºç›®æ ‡æ ¼å¼
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Render&lt;/span&gt;(&lt;span&gt;entry&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;outputType&lt;/span&gt; &lt;span&gt;ContentType&lt;/span&gt;) (&lt;span&gt;doc&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;)
}

&lt;span&gt;// ContentType çš„å®šä¹‰
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;ContentType&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;
&lt;span&gt;const&lt;/span&gt; (
&lt;span&gt;Unknown&lt;/span&gt; &lt;span&gt;ContentType&lt;/span&gt; = &lt;span&gt;iota&lt;/span&gt;
&lt;span&gt;JSON&lt;/span&gt;
&lt;span&gt;YAML&lt;/span&gt;
)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡ç¬¬ä¸€ç‰ˆæ˜¯æœ€å°å¯ç”¨ç‰ˆæœ¬, æˆ‘ä»¬å…ˆæŠŠå¤šæ ¼å¼è¾“å‡ºæ”¾ä¸€è¾¹, ä¸€å¾‹è¾“å‡ºä¸º JSON. ä¸‹é¢æ¥é€ä¸ªå®ç°è¿™ä¸¤ä¸ªæ¥å£å§.&lt;/p&gt;
&lt;h1 id=&quot;æ¥å£å®ç°&quot;&gt;æ¥å£å®ç°&lt;/h1&gt;
&lt;h2 id=&quot;jsonnet-æ¸²æŸ“å™¨&quot;&gt;Jsonnet æ¸²æŸ“å™¨&lt;/h2&gt;
&lt;p&gt;å…ˆç®€å•ä»‹ç»ä¸‹ Jsonnet. ä¸Šé¢ä¹‹æ‰€ä»¥ç§°å…¶ä¸ºé…ç½®è¯­è¨€, æ˜¯å› ä¸ºå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„é™æ€é…ç½®, è€Œæ˜¯ä¸€ä¸ªå®æ‰“å®çš„å‡½æ•°å¼è¯­è¨€. å¹¶ä¸”å®ƒæ˜¯ JSON çš„è¶…é›†, æ‰€ä»¥ä»»ä½•åˆæ³•çš„ JSON éƒ½æ˜¯åˆæ³•çš„ Jsonnet.&lt;/p&gt;
&lt;p/&gt;
&lt;p&gt;ä¸‹é¢æ‘˜å½•ä¸€æ®µ&lt;a href=&quot;https://jsonnet.org/ref/language.html&quot;&gt;å®˜ç½‘ä»‹ç»&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Jsonnet è¢«è®¾è®¡ç”¨äºå¤„ç†å¤æ‚ç³»ç»Ÿçš„é…ç½®. æ ‡å‡†ç”¨ä¾‹æ˜¯ç”¨äºé›†æˆå¤šä¸ªç›¸äº’ç‹¬ç«‹çš„æœåŠ¡. ç‹¬ç«‹çš„ç¼–å†™æ¯ä¸ªé…ç½®å°†ä¼šå¯¼è‡´å¤§é‡çš„é‡å¤, å¹¶ä¸”ææœ‰å¯èƒ½å˜å¾—éš¾ä»¥ç»´æŠ¤. Jsonnet ä½¿æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„æ¡ä»¶æŒ‡å®šé…ç½®, å¹¶ä»¥ç¼–ç¨‹çš„æ–¹å¼é…ç½®æ‰€æœ‰ç‹¬ç«‹çš„æœåŠ¡.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å†çœ‹ä¸€ä¸ªç¤ºä¾‹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-jsonnet&quot; data-lang=&quot;jsonnet&quot;&gt;// Edit me!
{
  person1: {
    name: &quot;Alice&quot;,
    welcome: &quot;Hello &quot; + self.name + &quot;!&quot;,
  },
  person2: self.person1 { name: &quot;Bob&quot; },
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢é…ç½®å¯ä»¥æ¸²æŸ“ä¸ºå¦‚ä¸‹ JSON:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;{
  &lt;span&gt;&quot;person1&quot;&lt;/span&gt;: {
    &lt;span&gt;&quot;name&quot;&lt;/span&gt;: &lt;span&gt;&quot;Alice&quot;&lt;/span&gt;,
    &lt;span&gt;&quot;welcome&quot;&lt;/span&gt;: &lt;span&gt;&quot;Hello Alice!&quot;&lt;/span&gt;
  },
  &lt;span&gt;&quot;person2&quot;&lt;/span&gt;: {
    &lt;span&gt;&quot;name&quot;&lt;/span&gt;: &lt;span&gt;&quot;Bob&quot;&lt;/span&gt;,
    &lt;span&gt;&quot;welcome&quot;&lt;/span&gt;: &lt;span&gt;&quot;Hello Bob!&quot;&lt;/span&gt;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æˆ‘ä»¬å·²ç»å¯¹ Jsonnet æœ‰äº†åŸºæœ¬çš„è®¤çŸ¥, å°±ä¸ç»§ç»­æ·±å…¥äº†. å¦‚æœæƒ³è¯¦ç»†äº†è§£, å¯ä»¥çœ‹å®˜ç½‘æ•™ç¨‹, æˆ–è€…ç­‰æˆ‘ä¹‹åå†å†™ä¸€äº›ä»‹ç»æ–‡ç« .&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å¼€å§‹åŠ¨æ‰‹å†™å®ç°, è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ &lt;a href=&quot;https://github.com/google/go-jsonnet&quot;&gt;go-jsonnet&lt;/a&gt; è¿™ä¸ªåº“æ¥è¿è¡Œ Jsonnet ä»£ç .&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/render/jsonnet.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;import&lt;/span&gt; (
. &lt;span&gt;&quot;github.com/google/go-jsonnet&quot;&lt;/span&gt;
)

&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Jsonnet&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;Importer&lt;/span&gt; &lt;span&gt;Importer&lt;/span&gt;
}

&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;r&lt;/span&gt; &lt;span&gt;Jsonnet&lt;/span&gt;) &lt;span&gt;Render&lt;/span&gt;(&lt;span&gt;entry&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;outputType&lt;/span&gt; &lt;span&gt;ContentType&lt;/span&gt;) (&lt;span&gt;doc&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;vm&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;MakeVM&lt;/span&gt;()          &lt;span&gt;// æ–°å»ºè™šæ‹Ÿæœº
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;vm&lt;/span&gt;.&lt;span&gt;Importer&lt;/span&gt;(&lt;span&gt;r&lt;/span&gt;.&lt;span&gt;Importer&lt;/span&gt;) &lt;span&gt;// æ›¿æ¢é»˜è®¤çš„æ–‡ä»¶å­˜å‚¨, ä¹‹åä¼šæŠŠ Git æŒ‚è½½è¿›æ¥
&lt;/span&gt;&lt;span/&gt;
&lt;span&gt;doc&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;vm&lt;/span&gt;.&lt;span&gt;EvaluateFile&lt;/span&gt;(&lt;span&gt;entry&lt;/span&gt;) &lt;span&gt;// æŒ‡å®šå…¥å£æ–‡ä»¶, æ‰§è¡Œæ¸²æŸ“
&lt;/span&gt;&lt;span/&gt;    
    &lt;span&gt;// TODO: ä¹‹ååœ¨è¿™é‡Œå®ç°å¤šæ ¼å¼è¾“å‡º
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤§éƒ¨åˆ†çš„äº‹æƒ…éƒ½ç”± &lt;code&gt;go-jsonnet&lt;/code&gt; æ›¿æˆ‘ä»¬åšäº†, æ‰€ä»¥ä»£ç å¾ˆç®€æ´. åé¢æ”¯æŒå¤šæ ¼å¼è¾“å‡ºçš„æ—¶å€™ä¼šå†å¢åŠ ä¸€äº›ä»£ç .&lt;/p&gt;
&lt;p&gt;æ¥ç€å†™ä¸ªæµ‹è¯•æ¥éªŒè¯ä¸‹. å…ˆå®šä¹‰æµ‹è¯•ç”¨ä¾‹.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/render/render_test.go
&lt;/span&gt;&lt;span&gt;// ...
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;TestCase&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;Entry&lt;/span&gt;      &lt;span&gt;string&lt;/span&gt;
&lt;span&gt;Files&lt;/span&gt;      &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]&lt;span&gt;string&lt;/span&gt;
&lt;span&gt;OutputType&lt;/span&gt; &lt;span&gt;ContentType&lt;/span&gt;
&lt;span&gt;OutputDoc&lt;/span&gt;  &lt;span&gt;string&lt;/span&gt;
}

&lt;span&gt;var&lt;/span&gt; &lt;span&gt;cases&lt;/span&gt; = []&lt;span&gt;TestCase&lt;/span&gt;{
{
&lt;span&gt;OutputType&lt;/span&gt;: &lt;span&gt;JSON&lt;/span&gt;,
&lt;span&gt;Entry&lt;/span&gt;:      &lt;span&gt;&quot;example1.jsonnet&quot;&lt;/span&gt;,
&lt;span&gt;OutputDoc&lt;/span&gt;:  &lt;span&gt;`{&quot;person1&quot;:{&quot;name&quot;:&quot;Alice&quot;,&quot;welcome&quot;:&quot;Hello Alice!&quot;},&quot;person2&quot;:{&quot;name&quot;:&quot;Bob&quot;,&quot;welcome&quot;:&quot;Hello Bob!&quot;}}`&lt;/span&gt;,
&lt;span&gt;Files&lt;/span&gt;:      &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;example1.jsonnet&quot;&lt;/span&gt;: &lt;span&gt;`/* Edit me! */ {person1:{name:&quot;Alice&quot;,welcome:&quot;Hello &quot;+self.name+&quot;!&quot;,},person2:self.person1{name:&quot;Bob&quot;},}`&lt;/span&gt;},
},
}
&lt;span&gt;// ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®šä¹‰ä¸¤ä¸ªå·¥å…·å‡½æ•°&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/render/render_test.go
&lt;/span&gt;&lt;span&gt;// ...
&lt;/span&gt;&lt;span/&gt;
&lt;span&gt;// ç”¨ map[string]string æ¨¡æ‹Ÿæ–‡ä»¶å­˜å‚¨, key ä¸ºæ–‡ä»¶å, value ä¸ºæ–‡ä»¶å†…å®¹
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;makeImporter&lt;/span&gt;(&lt;span&gt;files&lt;/span&gt; &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]&lt;span&gt;string&lt;/span&gt;) &lt;span&gt;jsonnet&lt;/span&gt;.&lt;span&gt;Importer&lt;/span&gt; {
&lt;span&gt;data&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; make(&lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]&lt;span&gt;jsonnet&lt;/span&gt;.&lt;span&gt;Contents&lt;/span&gt;, len(&lt;span&gt;files&lt;/span&gt;))
&lt;span&gt;for&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;, &lt;span&gt;content&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;range&lt;/span&gt; &lt;span&gt;files&lt;/span&gt; {
&lt;span&gt;data&lt;/span&gt;[&lt;span&gt;name&lt;/span&gt;] = &lt;span&gt;jsonnet&lt;/span&gt;.&lt;span&gt;MakeContents&lt;/span&gt;(&lt;span&gt;content&lt;/span&gt;)
}
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;jsonnet&lt;/span&gt;.&lt;span&gt;MemoryImporter&lt;/span&gt;{&lt;span&gt;Data&lt;/span&gt;: &lt;span&gt;data&lt;/span&gt;}
}

&lt;span&gt;// å°†é»˜è®¤è¾“å‡ºçš„å¤šè¡Œ JSON æ ¼å¼åŒ–ä¸ºå•è¡Œ JSON
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;compactJson&lt;/span&gt;(&lt;span&gt;input&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) &lt;span&gt;string&lt;/span&gt; {
&lt;span&gt;var&lt;/span&gt; &lt;span&gt;buf&lt;/span&gt; &lt;span&gt;bytes&lt;/span&gt;.&lt;span&gt;Buffer&lt;/span&gt;
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;json&lt;/span&gt;.&lt;span&gt;Compact&lt;/span&gt;(&lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;buf&lt;/span&gt;, []byte(&lt;span&gt;input&lt;/span&gt;)); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
panic(&lt;span&gt;err&lt;/span&gt;)
}
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;buf&lt;/span&gt;.&lt;span&gt;String&lt;/span&gt;()
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®šä¹‰æµ‹è¯•&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/render/render_test.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;render&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;bytes&quot;&lt;/span&gt;
&lt;span&gt;&quot;encoding/json&quot;&lt;/span&gt;
&lt;span&gt;&quot;testing&quot;&lt;/span&gt;

&lt;span&gt;&quot;github.com/google/go-jsonnet&quot;&lt;/span&gt;
&lt;span&gt;&quot;github.com/stretchr/testify/assert&quot;&lt;/span&gt;
)

&lt;span&gt;func&lt;/span&gt; &lt;span&gt;TestJsonnet&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;testing&lt;/span&gt;.&lt;span&gt;T&lt;/span&gt;) {
&lt;span&gt;for&lt;/span&gt; &lt;span&gt;_&lt;/span&gt;, &lt;span&gt;c&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;range&lt;/span&gt; &lt;span&gt;cases&lt;/span&gt; {
&lt;span&gt;r&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;Jsonnet&lt;/span&gt;{&lt;span&gt;Importer&lt;/span&gt;: &lt;span&gt;makeImporter&lt;/span&gt;(&lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Files&lt;/span&gt;)}
&lt;span&gt;doc&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;r&lt;/span&gt;.&lt;span&gt;Render&lt;/span&gt;(&lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Entry&lt;/span&gt;, &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;OutputType&lt;/span&gt;)
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;NoError&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt;) {
&lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;Equal&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;OutputDoc&lt;/span&gt;, &lt;span&gt;compactJson&lt;/span&gt;(&lt;span&gt;doc&lt;/span&gt;))
}
}
}
&lt;span&gt;// ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¸‹&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;$ go test github.com/GotaX/go-config-server/pkg/render
&lt;span&gt;# ok      github.com/GotaX/go-config-server/pkg/render    0.205s&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹èµ·æ¥æ²¡é—®é¢˜, æ¸²æŸ“å™¨å·²ç» OK äº†.&lt;/p&gt;
&lt;h2 id=&quot;git-å­˜å‚¨&quot;&gt;Git å­˜å‚¨&lt;/h2&gt;
&lt;p&gt;å› ä¸ºè¦æ“ä½œ Git ä»“åº“, è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ &lt;a href=&quot;https://github.com/go-git/go-git/&quot;&gt;go-git&lt;/a&gt; ä½œä¸º Git å®¢æˆ·ç«¯. é¦–å…ˆå®šä¹‰ç»“æ„ä½“.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/git.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Git&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;URL&lt;/span&gt;  &lt;span&gt;string&lt;/span&gt;                &lt;span&gt;// å­˜é…ç½®çš„æºç ä»“åº“åœ°å€, å…ˆæ”¯æŒ HTTPS ç«¯ç‚¹
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Auth&lt;/span&gt; &lt;span&gt;transport&lt;/span&gt;.&lt;span&gt;AuthMethod&lt;/span&gt;  &lt;span&gt;// èº«ä»½è®¤è¯ä¿¡æ¯, å…¬å¼€ä»“åº“è¯¥å­—æ®µä¸º nil
&lt;/span&gt;&lt;span/&gt;
&lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;           &lt;span&gt;// è®°å½•å½“å‰çš„å‘½åç©ºé—´, ç¬¬ä¸€æ¬¡è®¿é—®å‰è¯¥å­—æ®µä¸ºç©º
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;repo&lt;/span&gt;      &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Repository&lt;/span&gt;      &lt;span&gt;// è®°å½•å½“å‰çš„ä»“åº“å¯¹è±¡, ç¬¬ä¸€æ¬¡è®¿é—®å‰è¯¥å­—æ®µä¸ºç©º
&lt;/span&gt;&lt;span/&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ç€å®ç° Use å‡½æ•°, ç¬¬ä¸€ç‰ˆå…ˆä¸æ”¯æŒåˆ†æ”¯åˆ‡æ¢, åœ¨æ£€å‡ºæ—¶åªæ£€å‡ºå½“å‰å‘½åç©ºé—´çš„åˆ†æ”¯.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/git.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;g&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Git&lt;/span&gt;) &lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
    &lt;span&gt;// ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ clone å½“å‰å‘½åç©ºé—´å¯¹åº”çš„åˆ†æ”¯
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;==&lt;/span&gt; &lt;span&gt;&quot;&quot;&lt;/span&gt; {
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;repo&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;clone&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;==&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;g&lt;/span&gt;.&lt;span&gt;namespace&lt;/span&gt; = &lt;span&gt;namespace&lt;/span&gt;
}
&lt;span&gt;return&lt;/span&gt;
}
    
    &lt;span&gt;// TODO: ä¹‹ååœ¨è¿™é‡Œå®ç°åˆ†æ”¯åˆ‡æ¢, ä»è€Œæ”¯æŒå¤šå‘½åç©ºé—´
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;return&lt;/span&gt;
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿˜æœ‰ Read å‡½æ•°.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/git.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;g&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Git&lt;/span&gt;) &lt;span&gt;Read&lt;/span&gt;(&lt;span&gt;path&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;content&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;var&lt;/span&gt; (
&lt;span&gt;wt&lt;/span&gt;   &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Worktree&lt;/span&gt;
&lt;span&gt;fd&lt;/span&gt;   &lt;span&gt;billy&lt;/span&gt;.&lt;span&gt;File&lt;/span&gt;
&lt;span&gt;data&lt;/span&gt; []&lt;span&gt;byte&lt;/span&gt;
)
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;wt&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;repo&lt;/span&gt;.&lt;span&gt;Worktree&lt;/span&gt;(); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;fd&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;wt&lt;/span&gt;.&lt;span&gt;Filesystem&lt;/span&gt;.&lt;span&gt;Open&lt;/span&gt;(&lt;span&gt;path&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;data&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;ioutil&lt;/span&gt;.&lt;span&gt;ReadAll&lt;/span&gt;(&lt;span&gt;fd&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}
&lt;span&gt;return&lt;/span&gt; string(&lt;span&gt;data&lt;/span&gt;), &lt;span&gt;nil&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢ç”¨åˆ°çš„ä¸¤ä¸ªå·¥å…·å‡½æ•°:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/git.go
&lt;/span&gt;&lt;span&gt;// git clone å‡½æ•°, ä½¿ç”¨å†…å­˜æ–‡ä»¶ç³»ç»Ÿ, æ‰€ä»¥ä¸ä¼šåœ¨ç¡¬ç›˜ä¸Šç•™ä¸‹æ–‡ä»¶.
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;g&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Git&lt;/span&gt;) &lt;span&gt;clone&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;repo&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Repository&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;opts&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;CloneOptions&lt;/span&gt;{
&lt;span&gt;URL&lt;/span&gt;:          &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;URL&lt;/span&gt;,
&lt;span&gt;Auth&lt;/span&gt;:         &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;Auth&lt;/span&gt;,
&lt;span&gt;SingleBranch&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;,
&lt;span&gt;Depth&lt;/span&gt;:        &lt;span&gt;1&lt;/span&gt;,
&lt;span&gt;Progress&lt;/span&gt;:     &lt;span&gt;os&lt;/span&gt;.&lt;span&gt;Stdout&lt;/span&gt;,
}
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;ReferenceName&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;branchRef&lt;/span&gt;(&lt;span&gt;namespace&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}

&lt;span&gt;return&lt;/span&gt; &lt;span&gt;CloneContext&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;memory&lt;/span&gt;.&lt;span&gt;NewStorage&lt;/span&gt;(), &lt;span&gt;memfs&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(), &lt;span&gt;opts&lt;/span&gt;)
}

&lt;span&gt;// æ ¹æ®ä¼ å…¥çš„å‘½åç©ºé—´è¿”å›å¯¹åº”çš„åˆ†æ”¯å¼•ç”¨åç§°, å¹¶ä¸”å‘½åç©ºé—´ä¸èƒ½ä¸ºç©º
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;g&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Git&lt;/span&gt;) &lt;span&gt;branchRef&lt;/span&gt;(&lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;ref&lt;/span&gt; &lt;span&gt;plumbing&lt;/span&gt;.&lt;span&gt;ReferenceName&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;==&lt;/span&gt; &lt;span&gt;&quot;&quot;&lt;/span&gt; {
&lt;span&gt;err&lt;/span&gt; = &lt;span&gt;fmt&lt;/span&gt;.&lt;span&gt;Errorf&lt;/span&gt;(&lt;span&gt;&quot;namespace is required&quot;&lt;/span&gt;)
&lt;span&gt;return&lt;/span&gt;
}

&lt;span&gt;ref&lt;/span&gt; = &lt;span&gt;plumbing&lt;/span&gt;.&lt;span&gt;ReferenceName&lt;/span&gt;(&lt;span&gt;fmt&lt;/span&gt;.&lt;span&gt;Sprintf&lt;/span&gt;(&lt;span&gt;&quot;refs/heads/%s&quot;&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt;))
&lt;span&gt;return&lt;/span&gt;
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åå†™ä¸ªæµ‹è¯•éªŒè¯ä¸€ä¸‹:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/storage/storage_test.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;storage&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;context&quot;&lt;/span&gt;
&lt;span&gt;&quot;path/filepath&quot;&lt;/span&gt;
&lt;span&gt;&quot;runtime&quot;&lt;/span&gt;
&lt;span&gt;&quot;testing&quot;&lt;/span&gt;

&lt;span&gt;&quot;github.com/stretchr/testify/assert&quot;&lt;/span&gt;
)

&lt;span&gt;// å¦‚æœå¯ä»¥æ­£å¸¸è¯»å– go.mod å†…å®¹åˆ™å®ç°æœ‰æ•ˆ
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;TestGit&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;testing&lt;/span&gt;.&lt;span&gt;T&lt;/span&gt;) {
&lt;span&gt;g&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;Git&lt;/span&gt;{&lt;span&gt;URL&lt;/span&gt;: &lt;span&gt;localRepo&lt;/span&gt;()}

&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;context&lt;/span&gt;.&lt;span&gt;TODO&lt;/span&gt;(), &lt;span&gt;&quot;master&quot;&lt;/span&gt;); !&lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;NoError&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt;) {
&lt;span&gt;return&lt;/span&gt;
}

&lt;span&gt;if&lt;/span&gt; &lt;span&gt;content&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;g&lt;/span&gt;.&lt;span&gt;Read&lt;/span&gt;(&lt;span&gt;&quot;go.mod&quot;&lt;/span&gt;); &lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;NoError&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt;) {
&lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;NotEmpty&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;content&lt;/span&gt;)
}
}

&lt;span&gt;// ç”¨å½“å‰çš„é¡¹ç›®ä½œä¸ºæµ‹è¯•åº“
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;localRepo&lt;/span&gt;() &lt;span&gt;string&lt;/span&gt; {
&lt;span&gt;_&lt;/span&gt;, &lt;span&gt;filename&lt;/span&gt;, &lt;span&gt;_&lt;/span&gt;, &lt;span&gt;_&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;runtime&lt;/span&gt;.&lt;span&gt;Caller&lt;/span&gt;(&lt;span&gt;0&lt;/span&gt;)
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;filepath&lt;/span&gt;.&lt;span&gt;Join&lt;/span&gt;(&lt;span&gt;filename&lt;/span&gt;, &lt;span&gt;&quot;../../..&quot;&lt;/span&gt;)
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œâ€¦&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;$ go test github.com/GotaX/go-config-server/pkg/storage
&lt;span&gt;# ok      github.com/GotaX/go-config-server/pkg/storage   0.390s&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OK å®Œå…¨æ²¡æœ‰é—®é¢˜.&lt;/p&gt;
&lt;h2 id=&quot;ç»„è£…-app&quot;&gt;ç»„è£… App&lt;/h2&gt;
&lt;p&gt;æ¥ä¸‹æ¥, æˆ‘ä»¬åœ¨ app ä¸­å°†ä¸Šé¢ä¸¤ä¸ªç»„ä»¶ç»„è£…èµ·æ¥.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/handler/app.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;handler&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;context&quot;&lt;/span&gt;

&lt;span&gt;&quot;github.com/GotaX/go-config-server/pkg/render&quot;&lt;/span&gt;
&lt;span&gt;&quot;github.com/GotaX/go-config-server/pkg/storage&quot;&lt;/span&gt;
)

&lt;span&gt;type&lt;/span&gt; &lt;span&gt;App&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;Storage&lt;/span&gt;  &lt;span&gt;storage&lt;/span&gt;.&lt;span&gt;Storage&lt;/span&gt;
&lt;span&gt;Renderer&lt;/span&gt; &lt;span&gt;render&lt;/span&gt;.&lt;span&gt;Renderer&lt;/span&gt;
}

&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;a&lt;/span&gt; &lt;span&gt;App&lt;/span&gt;) &lt;span&gt;Handle&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt;, &lt;span&gt;name&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;doc&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
    &lt;span&gt;// åˆ‡æ¢åˆ°æŒ‡å®šå‘½åç©ºé—´
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;a&lt;/span&gt;.&lt;span&gt;Storage&lt;/span&gt;.&lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}
    &lt;span&gt;// æ‰§è¡Œæ¸²æŸ“
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;return&lt;/span&gt; &lt;span&gt;a&lt;/span&gt;.&lt;span&gt;Renderer&lt;/span&gt;.&lt;span&gt;Render&lt;/span&gt;(&lt;span&gt;name&lt;/span&gt;, &lt;span&gt;render&lt;/span&gt;.&lt;span&gt;JSON&lt;/span&gt;)
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•å¯ä¸èƒ½å°‘.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/handler/handler_test.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;handler&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;context&quot;&lt;/span&gt;
&lt;span&gt;&quot;testing&quot;&lt;/span&gt;

&lt;span&gt;&quot;github.com/GotaX/go-config-server/pkg/render&quot;&lt;/span&gt;
&lt;span&gt;&quot;github.com/stretchr/testify/assert&quot;&lt;/span&gt;
)

&lt;span&gt;func&lt;/span&gt; &lt;span&gt;TestApp&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;testing&lt;/span&gt;.&lt;span&gt;T&lt;/span&gt;) {
&lt;span&gt;s&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;MockStorage&lt;/span&gt;{}
&lt;span&gt;r&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;MockRender&lt;/span&gt;{}
&lt;span&gt;app&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;App&lt;/span&gt;{&lt;span&gt;Storage&lt;/span&gt;: &lt;span&gt;s&lt;/span&gt;, &lt;span&gt;Renderer&lt;/span&gt;: &lt;span&gt;r&lt;/span&gt;}

&lt;span&gt;_&lt;/span&gt;, &lt;span&gt;_&lt;/span&gt; = &lt;span&gt;app&lt;/span&gt;.&lt;span&gt;Handle&lt;/span&gt;(&lt;span&gt;context&lt;/span&gt;.&lt;span&gt;TODO&lt;/span&gt;(), &lt;span&gt;&quot;&quot;&lt;/span&gt;, &lt;span&gt;&quot;&quot;&lt;/span&gt;)
    
    &lt;span&gt;// ç¡®ä¿ Storage.Use å’Œ Renderer.Render æœ‰è¢«è°ƒç”¨åˆ°
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;True&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;s&lt;/span&gt;.&lt;span&gt;useInvoked&lt;/span&gt;)
&lt;span&gt;assert&lt;/span&gt;.&lt;span&gt;True&lt;/span&gt;(&lt;span&gt;t&lt;/span&gt;, &lt;span&gt;r&lt;/span&gt;.&lt;span&gt;renderInvoked&lt;/span&gt;)
}

&lt;span&gt;type&lt;/span&gt; &lt;span&gt;MockStorage&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; { &lt;span&gt;useInvoked&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; }
&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;m&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;MockStorage&lt;/span&gt;) &lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) { &lt;span&gt;m&lt;/span&gt;.&lt;span&gt;useInvoked&lt;/span&gt; = &lt;span&gt;true&lt;/span&gt;;&lt;span&gt;return&lt;/span&gt; }
&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;m&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;MockStorage&lt;/span&gt;) &lt;span&gt;Read&lt;/span&gt;(&lt;span&gt;path&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;content&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) { &lt;span&gt;return&lt;/span&gt; }

&lt;span&gt;type&lt;/span&gt; &lt;span&gt;MockRender&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; { &lt;span&gt;renderInvoked&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt; }
&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;m&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;MockRender&lt;/span&gt;) &lt;span&gt;Render&lt;/span&gt;(&lt;span&gt;entry&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;outputType&lt;/span&gt; &lt;span&gt;render&lt;/span&gt;.&lt;span&gt;ContentType&lt;/span&gt;) (&lt;span&gt;doc&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) { &lt;span&gt;m&lt;/span&gt;.&lt;span&gt;renderInvoked&lt;/span&gt; = &lt;span&gt;true&lt;/span&gt;; &lt;span&gt;return&lt;/span&gt; }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¸€ä¸‹:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;$ go test github.com/GotaX/go-config-server/pkg/handler
&lt;span&gt;# ok      github.com/GotaX/go-config-server/pkg/handler   0.191s&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¥½, åˆ°ç›®å‰ä¸ºæ­¢æ‰€æœ‰çš„æ ¸å¿ƒç»„ä»¶å°±éƒ½å®ç°å®Œäº†. æ˜¯ä¸æ˜¯å¾ˆè½»æ¾å‘€? ä¸‹é¢å°±æ˜¯ä¸€äº›ä¸ API ç›¸å…³çš„å¤–å›´å·¥ä½œäº†.&lt;/p&gt;
&lt;h1 id=&quot;ç”¨æˆ·æ¥å£é€‚é…&quot;&gt;ç”¨æˆ·æ¥å£é€‚é…&lt;/h1&gt;
&lt;p&gt;ç¨å¾®å·ä¸‹æ‡’, å¤–å›´æ¥å£å°±ä¸å†™æµ‹è¯•äº† ğŸ˜.&lt;/p&gt;
&lt;h2 id=&quot;æœåŠ¡å™¨&quot;&gt;æœåŠ¡å™¨&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ &lt;a href=&quot;https://github.com/gofiber/fiber&quot;&gt;Fiber&lt;/a&gt; åšåº”ç”¨æœåŠ¡å™¨, å¦‚æœè¦è¿½æ±‚æè‡´æ€§èƒ½ä¹Ÿå¯ä»¥é€‰ç”¨ &lt;a href=&quot;https://github.com/valyala/fasthttp&quot;&gt;Fasthttp&lt;/a&gt;, ä¸è¿‡åŒºåˆ«å…¶å®å¾ˆå°å¾ˆå°, ä¸ºäº†è½»æ¾å®ç°åŠŸèƒ½, æˆ‘å°±ç”¨ Fiber äº†.&lt;/p&gt;
&lt;p&gt;å…ˆå®šä¹‰ä¸€ä¸‹å¯åŠ¨å‚æ•°.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/service/service.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Options&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
    &lt;span&gt;HttpAddr&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;  &lt;span&gt;// HTTP ç›‘å¬åœ°å€, é»˜è®¤ä¸º :8080
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;URL&lt;/span&gt;      &lt;span&gt;string&lt;/span&gt;  &lt;span&gt;// Git ä»“åº“åœ°å€, ç›®å‰ä»…æ”¯æŒ HTTPS
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Username&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;  &lt;span&gt;// Git ç”¨æˆ·å, è®¿é—®å…¬å…±ä»“åº“ç•™ç©º, ä½¿ç”¨ AccessToken è®¿é—®éšä¾¿å¡«ä¸€ä¸ª
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Password&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;  &lt;span&gt;// Git å¯†ç , è®¿é—®å…¬å…±ä»“åº“ç•™ç©º, ä½¿ç”¨ AccessToken è®¿é—®å¡« AccessToken
&lt;/span&gt;&lt;span/&gt;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆå§‹åŒ– Service å¯¹è±¡&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/service/service.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;Service&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;httpAddr&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;
&lt;span&gt;app&lt;/span&gt;      &lt;span&gt;handler&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;
}

&lt;span&gt;func&lt;/span&gt; &lt;span&gt;New&lt;/span&gt;(&lt;span&gt;opts&lt;/span&gt; &lt;span&gt;Options&lt;/span&gt;) &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Service&lt;/span&gt; {
&lt;span&gt;store&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;storage&lt;/span&gt;.&lt;span&gt;Git&lt;/span&gt;{
&lt;span&gt;URL&lt;/span&gt;: &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;URL&lt;/span&gt;,
}
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;Username&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;&quot;&quot;&lt;/span&gt; {
&lt;span&gt;store&lt;/span&gt;.&lt;span&gt;Auth&lt;/span&gt; = &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;http&lt;/span&gt;.&lt;span&gt;BasicAuth&lt;/span&gt;{
&lt;span&gt;Username&lt;/span&gt;: &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;Username&lt;/span&gt;,
&lt;span&gt;Password&lt;/span&gt;: &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;Password&lt;/span&gt;,
}
}
&lt;span&gt;renderer&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;render&lt;/span&gt;.&lt;span&gt;Jsonnet&lt;/span&gt;{
         &lt;span&gt;// è§ä¸‹é¢è¯´æ˜
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;Importer&lt;/span&gt;: &lt;span&gt;render&lt;/span&gt;.&lt;span&gt;StorageImporter&lt;/span&gt;{
&lt;span&gt;Storage&lt;/span&gt;: &lt;span&gt;store&lt;/span&gt;,
},
}
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;Service&lt;/span&gt;{
&lt;span&gt;httpAddr&lt;/span&gt;: &lt;span&gt;opts&lt;/span&gt;.&lt;span&gt;HttpAddr&lt;/span&gt;,
&lt;span&gt;app&lt;/span&gt;: &lt;span&gt;handler&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;{
&lt;span&gt;Storage&lt;/span&gt;:  &lt;span&gt;store&lt;/span&gt;,
&lt;span&gt;Renderer&lt;/span&gt;: &lt;span&gt;renderer&lt;/span&gt;,
},
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œè§£é‡Šä¸‹ &lt;code&gt;render.StorageImporter &lt;/code&gt; , Importer æ˜¯ Jsonnet VM ä½¿ç”¨çš„æ¥å£, å’Œæˆ‘ä»¬çš„ Storage æ¥å£æœ‰ä¸€ç‚¹å·®å¼‚, æ‰€ä»¥å®šä¹‰äº†è¿™ä¸ªé€‚é…å™¨.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/render/jsonnet.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;StorageImporter&lt;/span&gt; &lt;span&gt;struct&lt;/span&gt; {
&lt;span&gt;Storage&lt;/span&gt; &lt;span&gt;storage&lt;/span&gt;.&lt;span&gt;Storage&lt;/span&gt;
}

&lt;span&gt;// importFrom ä¸ºä½¿ç”¨ import çš„æºæ–‡ä»¶, ç»å¯¹è·¯å¾„
&lt;/span&gt;&lt;span&gt;// importedPath ä¸º import çš„ç›®æ ‡æ–‡ä»¶, ç›¸å¯¹è·¯å¾„, ç›¸å¯¹äºæºæ–‡ä»¶
&lt;/span&gt;&lt;span&gt;// contents ä¸ºæ–‡ä»¶å†…å®¹
&lt;/span&gt;&lt;span&gt;// foundAt ä¸º import ç›®æ ‡æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;s&lt;/span&gt; &lt;span&gt;StorageImporter&lt;/span&gt;) &lt;span&gt;Import&lt;/span&gt;(&lt;span&gt;importedFrom&lt;/span&gt;, &lt;span&gt;importedPath&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;) (&lt;span&gt;contents&lt;/span&gt; &lt;span&gt;Contents&lt;/span&gt;, &lt;span&gt;foundAt&lt;/span&gt; &lt;span&gt;string&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;dir&lt;/span&gt;, &lt;span&gt;_&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;filepath&lt;/span&gt;.&lt;span&gt;Split&lt;/span&gt;(&lt;span&gt;importedFrom&lt;/span&gt;)
&lt;span&gt;path&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;filepath&lt;/span&gt;.&lt;span&gt;Join&lt;/span&gt;(&lt;span&gt;dir&lt;/span&gt;, &lt;span&gt;importedPath&lt;/span&gt;)
&lt;span&gt;data&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;s&lt;/span&gt;.&lt;span&gt;Storage&lt;/span&gt;.&lt;span&gt;Read&lt;/span&gt;(&lt;span&gt;path&lt;/span&gt;)

&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;==&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;contents&lt;/span&gt; = &lt;span&gt;MakeContents&lt;/span&gt;(&lt;span&gt;data&lt;/span&gt;)
&lt;span&gt;foundAt&lt;/span&gt; = &lt;span&gt;path&lt;/span&gt;
}
&lt;span&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ç€ç»§ç»­å®šä¹‰è·¯ç”±çš„ Handler:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/service/service.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;srv&lt;/span&gt; &lt;span&gt;Service&lt;/span&gt;) &lt;span&gt;Handle&lt;/span&gt;(&lt;span&gt;c&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;Ctx&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;var&lt;/span&gt; (
&lt;span&gt;ctx&lt;/span&gt;       = &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;()
&lt;span&gt;name&lt;/span&gt;      = &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Params&lt;/span&gt;(&lt;span&gt;&quot;+&quot;&lt;/span&gt;)          &lt;span&gt;// fiber çš„ wildcard è¯­æ³•, ç­‰ä¸‹è§£é‡Š
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;namespace&lt;/span&gt; = &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Params&lt;/span&gt;(&lt;span&gt;&quot;namespace&quot;&lt;/span&gt;)
)
&lt;span&gt;doc&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;srv&lt;/span&gt;.&lt;span&gt;app&lt;/span&gt;.&lt;span&gt;Handle&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;namespace&lt;/span&gt;, &lt;span&gt;name&lt;/span&gt;)
&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt;
}

&lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Set&lt;/span&gt;(&lt;span&gt;&quot;Content-Type&quot;&lt;/span&gt;, &lt;span&gt;&quot;application/json&quot;&lt;/span&gt;)
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;SendString&lt;/span&gt;(&lt;span&gt;doc&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»§ç»­å®šä¹‰è·¯ç”±:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/service/service.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;const&lt;/span&gt; (
&lt;span&gt;readTimeout&lt;/span&gt;    = &lt;span&gt;10&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;time&lt;/span&gt;.&lt;span&gt;Second&lt;/span&gt;  &lt;span&gt;// è¯»è¯·æ±‚è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;writeTimeout&lt;/span&gt;   = &lt;span&gt;10&lt;/span&gt; &lt;span&gt;*&lt;/span&gt; &lt;span&gt;time&lt;/span&gt;.&lt;span&gt;Second&lt;/span&gt;  &lt;span&gt;// å†™å“åº”è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;endpointHealth&lt;/span&gt; = &lt;span&gt;&quot;/healthz&quot;&lt;/span&gt;        &lt;span&gt;// å¥åº·æ£€æŸ¥ç«¯ç‚¹
&lt;/span&gt;&lt;span/&gt;)

&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;srv&lt;/span&gt; &lt;span&gt;Service&lt;/span&gt;) &lt;span&gt;Run&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;server&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;Config&lt;/span&gt;{
&lt;span&gt;ReadTimeout&lt;/span&gt;:  &lt;span&gt;readTimeout&lt;/span&gt;,
&lt;span&gt;WriteTimeout&lt;/span&gt;: &lt;span&gt;writeTimeout&lt;/span&gt;,
})

&lt;span&gt;registerAccessLogger&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt;)    &lt;span&gt;// è®¿é—®æ—¥å¿—ä¸­é—´ä»¶
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;registerHealthHandler&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt;)   &lt;span&gt;// å¥åº·æ£€æŸ¥ä¸­é—´ä»¶
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;srv&lt;/span&gt;.&lt;span&gt;registerAppHandler&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt;)  &lt;span&gt;// æ³¨å†Œè·¯ç”±
&lt;/span&gt;&lt;span/&gt;
&lt;span&gt;chErr&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; make(&lt;span&gt;chan&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;, &lt;span&gt;1&lt;/span&gt;)

&lt;span&gt;go&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;() {
        &lt;span&gt;// å¼€å§‹ç›‘å¬ç«¯å£
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;server&lt;/span&gt;.&lt;span&gt;Listen&lt;/span&gt;(&lt;span&gt;srv&lt;/span&gt;.&lt;span&gt;httpAddr&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;chErr&lt;/span&gt; &lt;span&gt;&amp;lt;-&lt;/span&gt; &lt;span&gt;err&lt;/span&gt;
}
}()

    &lt;span&gt;// å®ç° Graceful shutdown, è¿›ç¨‹ç»“æŸå‰ä¼šå…ˆå–æ¶ˆæ‰ Context
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;select&lt;/span&gt; {
&lt;span&gt;case&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; = &lt;span&gt;&amp;lt;-&lt;/span&gt;&lt;span&gt;chErr&lt;/span&gt;:
&lt;span&gt;case&lt;/span&gt; &lt;span&gt;&amp;lt;-&lt;/span&gt;&lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;Done&lt;/span&gt;():
&lt;span&gt;err&lt;/span&gt; = &lt;span&gt;server&lt;/span&gt;.&lt;span&gt;Shutdown&lt;/span&gt;()
}
&lt;span&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢ç”¨åˆ°çš„å‡ ä¸ªå·¥å…·å‡½æ•°:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// pkg/service/service.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; (&lt;span&gt;srv&lt;/span&gt; &lt;span&gt;Service&lt;/span&gt;) &lt;span&gt;registerAppHandler&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;) {
    &lt;span&gt;// å®šä¹‰ path params, namespace ä¸ºç¬¬ä¸€ä¸ªå‚æ•°, åé¢æ‰€æœ‰å­—ç¬¦åŒ…æ‹¬ &#x27;/&#x27; ä¸ºç¬¬äºŒä¸ªå‚æ•°
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;// ä¾‹å¦‚: /master/example/arith.jsonnet
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;// å‚æ•°ä¸€: namespace = master
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;// å‚æ•°äºŒ: + = example/arith.jsonnet
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;server&lt;/span&gt;.&lt;span&gt;Get&lt;/span&gt;(&lt;span&gt;&quot;/:namespace/+&quot;&lt;/span&gt;, &lt;span&gt;srv&lt;/span&gt;.&lt;span&gt;Handle&lt;/span&gt;)
}

&lt;span&gt;// è®¿é—®æ—¥å¿—
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;registerAccessLogger&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;) {
&lt;span&gt;server&lt;/span&gt;.&lt;span&gt;Use&lt;/span&gt;(&lt;span&gt;logger&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(&lt;span&gt;logger&lt;/span&gt;.&lt;span&gt;Config&lt;/span&gt;{
&lt;span&gt;Next&lt;/span&gt;: &lt;span&gt;func&lt;/span&gt;(&lt;span&gt;c&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;Ctx&lt;/span&gt;) &lt;span&gt;bool&lt;/span&gt; { &lt;span&gt;return&lt;/span&gt; &lt;span&gt;c&lt;/span&gt;.&lt;span&gt;Path&lt;/span&gt;() &lt;span&gt;==&lt;/span&gt; &lt;span&gt;endpointHealth&lt;/span&gt; },
}))
}

&lt;span&gt;// å¥åº·æ£€æŸ¥
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;registerHealthHandler&lt;/span&gt;(&lt;span&gt;server&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;) {
&lt;span&gt;server&lt;/span&gt;.&lt;span&gt;All&lt;/span&gt;(&lt;span&gt;endpointHealth&lt;/span&gt;, &lt;span&gt;func&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;Ctx&lt;/span&gt;) &lt;span&gt;error&lt;/span&gt; {
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;SendStatus&lt;/span&gt;(&lt;span&gt;fiber&lt;/span&gt;.&lt;span&gt;StatusOK&lt;/span&gt;)
})
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;å‘½ä»¤è¡Œ&quot;&gt;å‘½ä»¤è¡Œ&lt;/h2&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬æ¥åšå¯åŠ¨ç¨‹åºçš„å‘½ä»¤è¡Œç•Œé¢, é¡ºä¾¿è§£é‡Šä¸€ä¸‹ä¼˜é›…é€€å‡ºæ€ä¹ˆå®ç°.&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ &lt;a href=&quot;urfave/cli&quot;&gt;urfave/cli&lt;/a&gt; è¿™ä¸ªåº“. é¦–å…ˆ, å®šä¹‰ä¸€äº›å‘½ä»¤è¡Œå‚æ•°, ç¯å¢ƒå˜é‡ç­‰ä¹‹ååš Docker é•œåƒçš„æ—¶å€™å†æ”¯æŒ.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// internal/web.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;github.com/GotaX/go-config-server/pkg/service&quot;&lt;/span&gt;
. &lt;span&gt;&quot;github.com/urfave/cli/v2&quot;&lt;/span&gt;
)

&lt;span&gt;const&lt;/span&gt; (
&lt;span&gt;flagHttp&lt;/span&gt;       = &lt;span&gt;&quot;http&quot;&lt;/span&gt;        &lt;span&gt;// HTTP ç›‘å¬åœ°å€, é»˜è®¤ä¸º :8080
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;flagRepository&lt;/span&gt; = &lt;span&gt;&quot;repository&quot;&lt;/span&gt;  &lt;span&gt;// Git ä»“åº“åœ°å€, ç›®å‰ä»…æ”¯æŒ HTTPS
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;flagUsername&lt;/span&gt;   = &lt;span&gt;&quot;username&quot;&lt;/span&gt;    &lt;span&gt;// Git ç”¨æˆ·å, è®¿é—®å…¬å…±ä»“åº“ç•™ç©º, ä½¿ç”¨ AccessToken è®¿é—®éšä¾¿å¡«ä¸€ä¸ª
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;flagPassword&lt;/span&gt;   = &lt;span&gt;&quot;password&quot;&lt;/span&gt;    &lt;span&gt;// Git å¯†ç , è®¿é—®å…¬å…±ä»“åº“ç•™ç©º, ä½¿ç”¨ AccessToken è®¿é—®å¡« AccessToken
&lt;/span&gt;&lt;span/&gt;)

&lt;span&gt;var&lt;/span&gt; &lt;span&gt;CmdWeb&lt;/span&gt; = &lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;Command&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:   &lt;span&gt;&quot;web&quot;&lt;/span&gt;,
&lt;span&gt;Usage&lt;/span&gt;:  &lt;span&gt;&quot;Start config server&quot;&lt;/span&gt;,
&lt;span&gt;Action&lt;/span&gt;: &lt;span&gt;runWeb&lt;/span&gt;,
&lt;span&gt;Flags&lt;/span&gt;: []&lt;span&gt;Flag&lt;/span&gt;{
&lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;StringFlag&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:  &lt;span&gt;flagHttp&lt;/span&gt;,
&lt;span&gt;Value&lt;/span&gt;: &lt;span&gt;&quot;:8080&quot;&lt;/span&gt;,
},
&lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;StringFlag&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:     &lt;span&gt;flagRepository&lt;/span&gt;,
&lt;span&gt;Required&lt;/span&gt;: &lt;span&gt;true&lt;/span&gt;,
&lt;span&gt;Aliases&lt;/span&gt;:  []&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;repo&quot;&lt;/span&gt;},
},
&lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;StringFlag&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:    &lt;span&gt;flagUsername&lt;/span&gt;,
&lt;span&gt;Aliases&lt;/span&gt;: []&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;user&quot;&lt;/span&gt;},
},
&lt;span&gt;&amp;amp;&lt;/span&gt;&lt;span&gt;StringFlag&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:    &lt;span&gt;flagPassword&lt;/span&gt;,
&lt;span&gt;Aliases&lt;/span&gt;: []&lt;span&gt;string&lt;/span&gt;{&lt;span&gt;&quot;pass&quot;&lt;/span&gt;},
},
},
}

&lt;span&gt;func&lt;/span&gt; &lt;span&gt;runWeb&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;*&lt;/span&gt;&lt;span&gt;Context&lt;/span&gt;) (&lt;span&gt;err&lt;/span&gt; &lt;span&gt;error&lt;/span&gt;) {
&lt;span&gt;srv&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;service&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(&lt;span&gt;service&lt;/span&gt;.&lt;span&gt;Options&lt;/span&gt;{
&lt;span&gt;HttpAddr&lt;/span&gt;: &lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;String&lt;/span&gt;(&lt;span&gt;flagHttp&lt;/span&gt;),
&lt;span&gt;URL&lt;/span&gt;:      &lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;String&lt;/span&gt;(&lt;span&gt;flagRepository&lt;/span&gt;),
&lt;span&gt;Username&lt;/span&gt;: &lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;String&lt;/span&gt;(&lt;span&gt;flagUsername&lt;/span&gt;),
&lt;span&gt;Password&lt;/span&gt;: &lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;String&lt;/span&gt;(&lt;span&gt;flagPassword&lt;/span&gt;),
})
&lt;span&gt;return&lt;/span&gt; &lt;span&gt;srv&lt;/span&gt;.&lt;span&gt;Run&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;)
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®šä¹‰ç”¨äºä¼˜é›…é€€å‡ºçš„ Context:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// internal/context.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;context&quot;&lt;/span&gt;
&lt;span&gt;&quot;fmt&quot;&lt;/span&gt;
&lt;span&gt;&quot;os&quot;&lt;/span&gt;
&lt;span&gt;&quot;os/signal&quot;&lt;/span&gt;
&lt;span&gt;&quot;syscall&quot;&lt;/span&gt;
)

&lt;span&gt;// è¯¥å‡½æ•°è¿”å›çš„ context ä¼šåœ¨ç¬¬ä¸€æ¬¡æ”¶åˆ° SIGINT æˆ–è€… SIGTERM ä¿¡å·æ—¶å–æ¶ˆ,
&lt;/span&gt;&lt;span&gt;// å¦‚æœåœ¨å…³é—­è¿‡ç¨‹ä¸­å†æ¬¡æ”¶åˆ°ä¿¡å·, åˆ™ä¼šå¼ºåˆ¶ç»“æŸè¿›ç¨‹
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;NewAppContext&lt;/span&gt;() (&lt;span&gt;ctx&lt;/span&gt; &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Context&lt;/span&gt;, &lt;span&gt;cancel&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;()) {
&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;cancel&lt;/span&gt; = &lt;span&gt;context&lt;/span&gt;.&lt;span&gt;WithCancel&lt;/span&gt;(&lt;span&gt;context&lt;/span&gt;.&lt;span&gt;Background&lt;/span&gt;())

&lt;span&gt;c&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; make(&lt;span&gt;chan&lt;/span&gt; &lt;span&gt;os&lt;/span&gt;.&lt;span&gt;Signal&lt;/span&gt;, &lt;span&gt;2&lt;/span&gt;)
&lt;span&gt;signal&lt;/span&gt;.&lt;span&gt;Notify&lt;/span&gt;(&lt;span&gt;c&lt;/span&gt;, &lt;span&gt;syscall&lt;/span&gt;.&lt;span&gt;SIGINT&lt;/span&gt;, &lt;span&gt;syscall&lt;/span&gt;.&lt;span&gt;SIGTERM&lt;/span&gt;)
&lt;span&gt;go&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;() {
&lt;span&gt;&amp;lt;-&lt;/span&gt;&lt;span&gt;c&lt;/span&gt;
&lt;span&gt;fmt&lt;/span&gt;.&lt;span&gt;Println&lt;/span&gt;(&lt;span&gt;&quot;Try exit...&quot;&lt;/span&gt;)
&lt;span&gt;cancel&lt;/span&gt;()

&lt;span&gt;&amp;lt;-&lt;/span&gt;&lt;span&gt;c&lt;/span&gt;
&lt;span&gt;fmt&lt;/span&gt;.&lt;span&gt;Println&lt;/span&gt;(&lt;span&gt;&quot;Force exit&quot;&lt;/span&gt;)
&lt;span&gt;os&lt;/span&gt;.&lt;span&gt;Exit&lt;/span&gt;(&lt;span&gt;0&lt;/span&gt;)
}()
&lt;span&gt;return&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&quot;main&quot;&gt;Main&lt;/h2&gt;
&lt;p&gt;ç»ˆäºåˆ°äº†æœ€å, å†™ main å‡½æ•°çš„æ—¶å€™å°½é‡ä¿æŒç®€æ´å°±è¡Œäº†:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// main.go
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;package&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;

&lt;span&gt;import&lt;/span&gt; (
&lt;span&gt;&quot;log&quot;&lt;/span&gt;
&lt;span&gt;&quot;os&quot;&lt;/span&gt;

&lt;span&gt;&quot;github.com/GotaX/go-config-server/internal&quot;&lt;/span&gt;
&lt;span&gt;&quot;github.com/urfave/cli/v2&quot;&lt;/span&gt;
)

&lt;span&gt;func&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;() {
&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;cancel&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;internal&lt;/span&gt;.&lt;span&gt;NewAppContext&lt;/span&gt;()
&lt;span&gt;defer&lt;/span&gt; &lt;span&gt;cancel&lt;/span&gt;()

&lt;span&gt;app&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;cli&lt;/span&gt;.&lt;span&gt;App&lt;/span&gt;{
&lt;span&gt;Name&lt;/span&gt;:     &lt;span&gt;&quot;config-server&quot;&lt;/span&gt;,
&lt;span&gt;Commands&lt;/span&gt;: []&lt;span&gt;*&lt;/span&gt;&lt;span&gt;cli&lt;/span&gt;.&lt;span&gt;Command&lt;/span&gt;{&lt;span&gt;internal&lt;/span&gt;.&lt;span&gt;CmdWeb&lt;/span&gt;},
}

&lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;app&lt;/span&gt;.&lt;span&gt;RunContext&lt;/span&gt;(&lt;span&gt;ctx&lt;/span&gt;, &lt;span&gt;os&lt;/span&gt;.&lt;span&gt;Args&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
&lt;span&gt;log&lt;/span&gt;.&lt;span&gt;Fatal&lt;/span&gt;(&lt;span&gt;&quot;Error: &quot;&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt;.&lt;span&gt;Error&lt;/span&gt;())
}
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&quot;å®é™…è¿è¡Œ&quot;&gt;å®é™…è¿è¡Œ&lt;/h1&gt;
&lt;p&gt;æœ€å°å¯ç”¨çš„å®ç°å®Œæˆå•¦! æ¥å®é™…è¿è¡Œä¸‹å§. å°±ç”¨ Jsonnet åº“ä¸­çš„ä¾‹å­æ¥çœ‹çœ‹æ•ˆæœ.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span&gt;# åœ¨ç¬¬ä¸€ä¸ªå‘½ä»¤è¡Œä¸­å¯åŠ¨æœåŠ¡å™¨&lt;/span&gt;
$ go build main.go &lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt; main web -repo&lt;span&gt;=&lt;/span&gt;https://github.com/google/jsonnet.git 

&lt;span&gt;# åœ¨ç¬¬äºŒä¸ªå‘½ä»¤è¡Œä¸­æŸ¥é…ç½®, ç”±äºè¦è®¿é—® GitHub ç¬¬ä¸€æ¬¡å¯èƒ½å¾ˆæ…¢&lt;/span&gt;
$ curl http://localhost:8080/master/examples/arith.jsonnet

&lt;span&gt;# æŸ¥è¯¢åˆ°çš„ç»“æœ&lt;/span&gt;
&lt;span&gt;{&lt;/span&gt;
   &lt;span&gt;&quot;concat_array&quot;&lt;/span&gt;: &lt;span&gt;[&lt;/span&gt;
      1,
      2,
      3,
      &lt;span&gt;4&lt;/span&gt;
   &lt;span&gt;]&lt;/span&gt;,
   &lt;span&gt;&quot;concat_string&quot;&lt;/span&gt;: &lt;span&gt;&quot;1234&quot;&lt;/span&gt;,
   &lt;span&gt;&quot;equality1&quot;&lt;/span&gt;: false,
   &lt;span&gt;&quot;equality2&quot;&lt;/span&gt;: true,
   &lt;span&gt;&quot;ex1&quot;&lt;/span&gt;: 1.6666666666666665,
   &lt;span&gt;&quot;ex2&quot;&lt;/span&gt;: 3,
   &lt;span&gt;&quot;ex3&quot;&lt;/span&gt;: 1.6666666666666665,
   &lt;span&gt;&quot;ex4&quot;&lt;/span&gt;: true,
   &lt;span&gt;&quot;obj&quot;&lt;/span&gt;: &lt;span&gt;{&lt;/span&gt;
      &lt;span&gt;&quot;a&quot;&lt;/span&gt;: 1,
      &lt;span&gt;&quot;b&quot;&lt;/span&gt;: 3,
      &lt;span&gt;&quot;c&quot;&lt;/span&gt;: &lt;span&gt;4&lt;/span&gt;
   &lt;span&gt;}&lt;/span&gt;,
   &lt;span&gt;&quot;obj_member&quot;&lt;/span&gt;: true,
   &lt;span&gt;&quot;str1&quot;&lt;/span&gt;: &lt;span&gt;&quot;The value of self.ex2 is 3.&quot;&lt;/span&gt;,
   &lt;span&gt;&quot;str2&quot;&lt;/span&gt;: &lt;span&gt;&quot;The value of self.ex2 is 3.&quot;&lt;/span&gt;,
   &lt;span&gt;&quot;str3&quot;&lt;/span&gt;: &lt;span&gt;&quot;ex1=1.67, ex2=3.00&quot;&lt;/span&gt;,
   &lt;span&gt;&quot;str4&quot;&lt;/span&gt;: &lt;span&gt;&quot;ex1=1.67, ex2=3.00&quot;&lt;/span&gt;,
   &lt;span&gt;&quot;str5&quot;&lt;/span&gt;: &lt;span&gt;&quot;ex1=1.67\nex2=3.00\n&quot;&lt;/span&gt;
&lt;span&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&quot;æ¥ä¸‹æ¥&quot;&gt;æ¥ä¸‹æ¥&lt;/h1&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯ç¬¬ä¸€éƒ¨åˆ†çš„å†…å®¹äº†.&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªæœ€å°å¯ç”¨çš„é…ç½®ä¸­å¿ƒ, æ²¡æœ‰ä»»ä½•å¤–éƒ¨ä¾èµ–, åªè¦ä¸€ä¸ªå‘½ä»¤å°±èƒ½å¯åŠ¨, çœ‹èµ·æ¥è¿˜æ˜¯ä¸é”™çš„.&lt;/p&gt;
&lt;p&gt;ä¸è¿‡è¿™ä¸ªå®ç°å…¶å®æ¯”è¾ƒç²—ç³™, è¿˜è¦ä¸å°‘æ”¹å–„æ‰èƒ½ç”¨äºç”Ÿäº§ç¯å¢ƒ. ç®€å•åˆ—ä¸¾ä¸€ä¸‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ”¯æŒå¤šåˆ†æ”¯åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šæ ¼å¼è¾“å‡º&lt;/li&gt;
&lt;li&gt;å¹¶å‘è®¿é—®å®‰å…¨&lt;/li&gt;
&lt;li&gt;æ‰“åŒ… Docker é•œåƒ&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡æ”¯æŒ&lt;/li&gt;
&lt;li&gt;â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›å°±ç­‰åé¢çš„æ–‡ç« é‡Œå®ç°å’¯, æ¯•ç«Ÿç¯‡å¹…å·²ç»å¾ˆé•¿äº†.&lt;/p&gt;
&lt;p&gt;æœ€å, è°¢è°¢é˜…è¯»! è§‰å¾—æœ‰æ”¶è·æ¬¢è¿ç‚¹èµ!&lt;/p&gt;
&lt;p&gt;æºç ä»“åº“åœ°å€å†™åœ¨å¼€å¤´äº†, è§‰å¾—æœ‰ç–‘é—®å¯ä»¥åœ¨æ–‡ç« ä¸‹é¢ç•™è¨€.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>75a79b43b7df26ef193c2a40341238e1</guid>
<title>å®ç°æ— é™ç¼“å­˜çš„ channel</title>
<link>https://toutiao.io/k/jggpayh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;article-entry&quot; itemprop=&quot;articleBody&quot;&gt;
      
      
      
      &lt;p&gt;Goè¯­è¨€çš„channelåˆä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯æ— ç¼“å­˜çš„channelï¼Œä¸€ç§æ˜¯æœ‰ç¼“å­˜çš„bufferï¼Œè¿™ä¸¤ç§ç±»å‹çš„channelå¤§å®¶éƒ½æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œä½†æ˜¯å¯¹äºæœ‰ç¼“å­˜çš„channel,å®ƒçš„ç¼“å­˜é•¿åº¦åœ¨åˆ›å»ºchannelçš„æ—¶å€™å°±å·²ç»ç¡®å®šäº†ï¼Œä¸­é—´ä¸èƒ½æ‰©ç¼©å®¹ï¼Œè¿™å¯¼è‡´åœ¨ä¸€äº›åœºæ™¯ä¸‹ä½¿ç”¨æœ‰é—®é¢˜ï¼Œæˆ–è€…è¯´ä¸å¤ªé€‚åˆç‰¹å®šçš„åœºæ™¯ã€‚&lt;/p&gt;
&lt;a id=&quot;more&quot;/&gt;
&lt;p&gt;æˆ‘ä¸ºä»€ä¹ˆçªç„¶è°ˆèµ·è¿™ä¸ªæ— é™ç¼“å­˜çš„channelå‘¢ï¼Ÿç¬¬ä¸€ï¼Œå®ƒæ˜¯å¯¹æˆ‘çš„æå®¢ä¸“æ &lt;a href=&quot;https://time.geekbang.org/column/intro/355&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Goå¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾&lt;/a&gt;çš„è¡¥å……ï¼Œå¦å¤–ä¸»è¦æ˜¯æˆ‘æœ€è¿‘åœ¨reviewå…¬å¸ä¸€ä½åŒäº‹çš„ä»£ç æ—¶ï¼Œæˆ‘çš„æŸç§è®¾è®¡æ€è·¯å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½¿ç”¨æ— é™ç¼“å­˜çš„channelçš„è¯ï¼Œè¿™ä¸ªé—®é¢˜å°±ä¼šè¿åˆƒè€Œè§£äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä½åŒäº‹çš„è®¾è®¡å¤§æ¦‚æ˜¯è¿™æ ·å­çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ªdispatcheråŒ…å«ä¸€ä¸ªchannel, é‡Œé¢å­˜æ”¾å¾…å¤„ç†çš„url&lt;/li&gt;
&lt;li&gt;ä¸€å †workerä»channelä¸­è¯»å–ä»»åŠ¡ï¼Œä¸‹è½½è§£æç½‘é¡µï¼Œå¹¶æå–å…¶ä¸­é“¾æ¥ï¼Œå†æŠŠé“¾æ¥æ”¾å…¥åˆ°dispatcher.channelä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä½åŒæ—¶ä½¿ç”¨äº†æ¯”è¾ƒå¤æ‚çš„sync.Mutexå’Œsync.Condï¼Œå¹¶ä¸”å®šä¹‰äº†ä¸€å †å¹¶å‘çš„æ–¹æ³•å¤„ç†é€»è¾‘ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è°ˆè®ºè¿™ä½åŒäº‹çš„è®¾è®¡ï¼Œåªè°ˆè°ˆæˆ‘çš„é”™è¯¯æƒ³æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘reviewè¿™æ®µä»£ç çš„æ—¶å€™æƒ³ï¼Œå¦‚æœæ¯ä¸ª workerå¯åŠ¨ä¸€ä¸ªgoroutine,å¤„ç†urlï¼Œç„¶åæŠŠé“¾æ¥å†æ”¾å…¥åˆ°channelä¸­å³å¯ï¼Œä¸ç”¨å¤æ‚çš„ Mutex+Condç­‰ï¼Œä½†æ˜¯æˆ‘çŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼Œé‚£å°±æ˜¯å¦‚æœå½“å‰channelå·²ç»æ»¡äº†ï¼Œé‚£ä¹ˆè¿™äº›workeréƒ½ä¸èƒ½æŠŠè§£æçš„ç»“æœæ”¾å…¥åˆ°channelä¸­ï¼Œéƒ½è¢«&quot;é˜»å¡&quot;ä½äº†ï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰å¯ç”¨çš„workerä»channelä¸­æ¶ˆè´¹urlã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œä½ å¯ä»¥è¯´å¯ä»¥åˆ›å»ºä¸€ä¸ªbufferéå¸¸å¤§çš„channelï¼Œé¿å…è¢«å¡æ»¡ï¼Œä½†æ˜¯,ç¬¬ä¸€,bufferéå¸¸å¤§çš„channelå ç”¨çš„å†…å­˜ä¹Ÿéå¸¸å¤§ï¼Œç¬¬äºŒï¼Œå¤šå¤§åˆé€‚ï¼Ÿå…³é”®ä½ ä¸èƒ½ä¿è¯channelä¸ä¼šæ»¡ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰ä¸€ä¸ªæ— é™ç¼“å­˜é•¿åº¦çš„bufferå°±å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;2017å¹´ï¼Œæœ‰åŒå­¦åƒGoå®˜æ–¹æå‡ºè¿™ä¹ˆä¸€ä¸ªéœ€æ±‚(&lt;a href=&quot;https://github.com/golang/go/issues/20352&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;#20352&lt;/a&gt;),å¸Œæœ›èƒ½å¤Ÿæä¾›ä¸€ä¸ªæ— é™å®¹é‡çš„bufferï¼Œç»è¿‡å†—é•¿çš„è®¨è®ºï¼ŒGoä¸ä¼šä¸ºè¿™ä¸ª&quot;ç¨€æœ‰&quot;çš„åœºæ™¯æä¾›ä¸€ç§å®ç°ï¼Œå¹¶ä¸”å»ºè®®å¤§å®¶å®ç°è¿™æ ·çš„ä¸€ä¸ªåº“ï¼Œé€šè¿‡ç¬¬ä¸‰åº“çš„æ–¹å¼å¤„ç†è¿™ç§åœºæ™¯ï¼Œè€Œä¸”Griesemeræä¾›äº†ä¸€ä¸ªæ€è·¯ï¼Œé€šè¿‡ringbufferå®ç°ç¼“å­˜æ¥å®ç°è¿™æ ·çš„channelã€‚&lt;/p&gt;
&lt;p&gt;å¾€ç½‘ä¸Šæœ‰ä¸¤ç§å®ç°&lt;a href=&quot;https://stackoverflow.com/questions/41906146/why-go-channels-limit-the-buffer-size&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Why Go channels limit the buffer size&lt;/a&gt;å’Œ&lt;a href=&quot;https://medium.com/capital-one-tech/building-an-unbounded-channel-in-go-789e175cd2cd&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Building an Unbounded Channel in Go&lt;/a&gt;,è¿™ä¸¤ç§å®ç°ä¹Ÿæ¯”è¾ƒç±»ä¼¼ï¼Œæˆ‘åœ¨ç¬¬ä¸€ç§å®ç°çš„åŸºç¡€ä¸Šï¼Œå°è£…äº†ä¸€ä¸ªåº“: &lt;a href=&quot;https://github.com/smallnest/chanx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;chanx&lt;/a&gt;,æ¥æä¾›é€šç”¨çš„æ— é™ç¼“å­˜çš„channelã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/smallnest/chanx&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;chanx&lt;/a&gt;, ä½ å¯ä»¥starè¿™ä¸ªåº“ï¼Œæ”¾å…¥åˆ°ä½ çš„ä»£ç åº“ä¸­ï¼Œè¯´ä¸å®šå“ªä¸€å¤©å®ƒå°±å¯èƒ½å¸®ä½ è§£ç‡ƒçœ‰ä¹‹æ€¥ã€‚å¹¶ä¸”æˆ‘å·²ç»å‡†å¤‡å¥½äº†æ³›å‹çš„è®¾è®¡ï¼Œä¸€æ—¦Goæ³›å‹å¯ç”¨ï¼Œæˆ‘å°±ä¼šæŠŠå®ƒæ”¹æˆæ³›å‹çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å­˜æ— é™çš„channelæ‹¥æœ‰ä¸‹é¢çš„ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¸ä¼šé˜»å¡write&lt;/strong&gt;ã€‚ å®ƒæ€»æ˜¯èƒ½å¤„ç†writeçš„æ•°æ®ï¼Œæˆ–è€…æ”¾å…¥åˆ°å¾…è¯»å–çš„channelä¸­ï¼Œæˆ–è€…æ”¾å…¥åˆ°ç¼“å­˜ä¸­&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— æ•°æ®æ—¶readä¼šè¢«é˜»å¡&lt;/strong&gt;ã€‚å½“æ²¡æœ‰å¯è¯»çš„æ•°æ®æ—¶ï¼Œä»channelä¸­è¯»å–çš„goroutineä¼šè¢«é˜»å¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯»å†™éƒ½æ˜¯é€šè¿‡channelæ“ä½œ&lt;/strong&gt;ã€‚ å†…éƒ¨çš„ç¼“å­˜ä¸ä¼šæš´éœ²å‡ºæ¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èƒ½å¤ŸæŸ¥è¯¢å½“å‰å¾…è¯»å–çš„æ•°æ®æ•°é‡&lt;/strong&gt;ã€‚å› ä¸ºç¼“å­˜ä¸­å¯èƒ½ä¹Ÿæœ‰å¾…å¤„ç†çš„æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦è¿”å›len(buffer)+len(chan)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é—­channelåï¼Œè¿˜æœªè¯»å–çš„channelè¿˜æ˜¯èƒ½å¤Ÿè¢«è¯»å–ï¼Œè¯»å–å®Œä¹‹åæ‰èƒ½å‘ç°channelå·²ç»å®Œæ¯•&lt;/strong&gt;ã€‚è¿™å’Œæ­£å¸¸çš„channelçš„é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œè¿™ç§æƒ…å†µå«&quot;drain&quot;æœªè¯»çš„æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› ä¸ºæˆ‘ä»¬ä¸èƒ½ä¿®æ”¹å†…éƒ¨çš„channelç»“æ„ï¼Œä¹Ÿä¸èƒ½é‡è½½ chan &amp;lt;- å’Œ &amp;lt;- chan æ“ä½œç¬¦,æ‰€ä»¥æˆ‘ä»¬åªèƒ½é€šè¿‡ä¸¤ä¸ªchannelçš„æ–¹å¼å°è£…ä¸€ä¸ªæ•°æ®ç»“æ„,æ¥æä¾›è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ•°æ®ç»“æ„ä¸º:&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;5&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;type&lt;/span&gt; UnboundedChan &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;In     &lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt;&amp;lt;- T &lt;span class=&quot;comment&quot;&gt;// channel for write&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;Out    &amp;lt;-&lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt; T &lt;span class=&quot;comment&quot;&gt;// channel for read&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;buffer []T      &lt;span class=&quot;comment&quot;&gt;// buffer&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;In&lt;/code&gt;è¿™ä¸ªchannelç”¨æ¥å†™å…¥æ•°æ®ï¼Œè€Œ&lt;code&gt;Out&lt;/code&gt;è¿™ä¸ªchannelç”¨æ¥è¯»å–æ•°æ®ã€‚ä½ å¯ä»¥close Inè¿™ä¸ªchannel,ç­‰æ‰€æœ‰çš„æ•°æ®éƒ½è¯»å–å®Œåï¼ŒOut channelä¹Ÿä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚ ç”¨æˆ·æ˜¯ä¸èƒ½è‡ªå·±å…³é—­&lt;code&gt;Out&lt;/code&gt;è¿™ä¸ªchannelçš„ï¼Œä½ ä¹Ÿå…³é—­ä¸äº†ï¼Œå› ä¸ºå®ƒæ˜¯&lt;code&gt;&amp;lt;-chan&lt;/code&gt;ç±»å‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡&lt;code&gt;Len&lt;/code&gt;æ–¹æ³•å¾—åˆ°æ‰€æœ‰å¾…è¯»å–çš„æ•°æ®çš„é•¿åº¦ï¼Œä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;BufLen&lt;/code&gt;åªè·å–ç¼“å­˜ä¸­çš„æ•°æ®çš„é•¿åº¦ï¼Œä¸åŒ…å«å¤–å‘&lt;code&gt;Out&lt;/code&gt; channelä¸­æ•°æ®çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;5&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;6&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;7&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;8&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;9&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Len returns len of Out plus len of buffer.&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; (c UnboundedChan) Len() &lt;span class=&quot;typename&quot;&gt;int&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(c.buffer) + &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(c.Out)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// BufLen returns len of the buffer.&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; (c UnboundedChan) BufLen() &lt;span class=&quot;typename&quot;&gt;int&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(c.buffer)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é‚£ä¹ˆé‡ç‚¹æ¥äº†ï¼Œä¸»è¦çš„é€»è¾‘çš„å®ç°å¦‚ä¸‹ï¼Œæˆ‘åœ¨ä»£ç ä¸­åŠ äº†æ³¨é‡Šï¼Œé€šè¿‡æ³¨é‡Šå’Œä»£ç ä½ å°±å¯ä»¥å¾ˆå¥½çš„ç†è§£æ•´ä¸ªçš„å®ç°é€»è¾‘:&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;5&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;6&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;7&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;8&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;9&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;10&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;11&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;12&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;13&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;14&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;15&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;16&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;17&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;18&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;19&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;20&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;21&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;22&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;23&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;24&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;25&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;26&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;27&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;28&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;29&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;30&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;31&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;32&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;33&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;34&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;35&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;36&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;37&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;38&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;39&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;40&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;41&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;42&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;43&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;44&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;45&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;46&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;47&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;48&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;49&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;50&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;51&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;52&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;53&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;54&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;55&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;56&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;57&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; NewUnboundedChan(initCapacity &lt;span class=&quot;typename&quot;&gt;int&lt;/span&gt;) UnboundedChan {&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// åˆ›å»ºä¸‰ä¸ªå­—æ®µå’Œæ— é™ç¼“å­˜çš„chanç±»å‹&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;in := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt; T, initCapacity)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;out := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt; T, initCapacity)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch := UnboundedChan{In: in, Out: out, buffer: &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]T,&lt;span class=&quot;number&quot;&gt; 0&lt;/span&gt;, initCapacity)}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// é€šè¿‡ä¸€ä¸ªgoroutine,ä¸æ–­åœ°ä»inä¸­è¯»å–å‡ºæ¥æ•°æ®ï¼Œæ”¾å…¥åˆ°outæˆ–è€…bufferä¸­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt;() {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;close&lt;/span&gt;(out) &lt;span class=&quot;comment&quot;&gt;// inå…³é—­ï¼Œæ•°æ®è¯»å–å®Œåä¹ŸæŠŠoutå…³é—­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;loop:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;val, ok := &amp;lt;-in &lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; !ok { &lt;span class=&quot;comment&quot;&gt;// å¦‚æœinå·²ç»è¢«closed, é€€å‡ºloop&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt; loop&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¦åˆ™å°è¯•æŠŠä»inä¸­è¯»å–å‡ºæ¥çš„æ•°æ®æ”¾å…¥åˆ°outä¸­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; out &amp;lt;- val: &lt;span class=&quot;comment&quot;&gt;//æ”¾å…¥æˆåŠŸï¼Œè¯´æ˜outåˆšæ‰è¿˜æ²¡æœ‰æ»¡ï¼Œbufferä¸­ä¹Ÿæ²¡æœ‰é¢å¤–çš„æ•°æ®å¾…å¤„ç†ï¼Œæ‰€ä»¥å›åˆ°loopå¼€å§‹&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// å¦‚æœoutå·²ç»æ»¡äº†ï¼Œéœ€è¦æŠŠæ•°æ®æ”¾å…¥åˆ°ç¼“å­˜ä¸­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer = &lt;span class=&quot;built_in&quot;&gt;append&lt;/span&gt;(ch.buffer, val)&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// å¤„ç†ç¼“å­˜ï¼Œä¸€ç›´å°è¯•æŠŠç¼“å­˜ä¸­çš„æ•°æ®æ”¾å…¥åˆ°out,ç›´åˆ°ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®äº†,&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;// ä¸ºäº†é¿å…é˜»å¡ä½in channel,è¿˜è¦å°è¯•ä»inä¸­è¯»å–æ•°æ®ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™outæ˜¯æ»¡çš„ï¼Œæ‰€ä»¥å°±ç›´æ¥æŠŠæ•°æ®æ”¾å…¥åˆ°ç¼“å­˜ä¸­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(ch.buffer) &amp;gt;&lt;span class=&quot;number&quot;&gt; 0&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; val, ok := &amp;lt;-in: &lt;span class=&quot;comment&quot;&gt;// ä»inè¯»å–æ•°æ®ï¼Œæ”¾å…¥åˆ°ç¼“å­˜ä¸­ï¼Œå¦‚æœinè¢«closed, é€€å‡ºloop&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; !ok { &lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt; loop&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer = &lt;span class=&quot;built_in&quot;&gt;append&lt;/span&gt;(ch.buffer, val)&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; out &amp;lt;- ch.buffer&lt;span class=&quot;number&quot;&gt;[0&lt;/span&gt;]: &lt;span class=&quot;comment&quot;&gt;// æŠŠç¼“å­˜ä¸­æœ€è€çš„æ•°æ®æ”¾å…¥åˆ°outä¸­ï¼Œå¹¶ç§»å‡ºç¬¬ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer = ch.buffer&lt;span class=&quot;number&quot;&gt;[1&lt;/span&gt;:]&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(ch.buffer) ==&lt;span class=&quot;number&quot;&gt; 0&lt;/span&gt; { &lt;span class=&quot;comment&quot;&gt;// é¿å…å†…å­˜æ³„éœ². å¦‚æœç¼“å­˜å¤„ç†å®Œäº†ï¼Œæ¢å¤æˆåŸå§‹çš„çŠ¶æ€&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer = &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;([]T,&lt;span class=&quot;number&quot;&gt; 0&lt;/span&gt;, initCapacity)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// inè¢«å…³é—­ï¼Œé€€å‡ºloopåï¼Œbufferä¸­å¯èƒ½è¿˜æœ‰æœªå¤„ç†çš„æ•°æ®ï¼Œéœ€è¦æŠŠå®ƒä»¬å¡å…¥åˆ°outä¸­&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// è¿™ä¸ªé€»è¾‘å«åš&quot;drain&quot;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// è¿™ä¸€æ®µé€»è¾‘å¤„ç†å®Œåï¼Œå°±å¯ä»¥æŠŠoutå…³é—­æ‰äº†&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(ch.buffer) &amp;gt;&lt;span class=&quot;number&quot;&gt; 0&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;out &amp;lt;- ch.buffer&lt;span class=&quot;number&quot;&gt;[0&lt;/span&gt;]&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer = ch.buffer&lt;span class=&quot;number&quot;&gt;[1&lt;/span&gt;:]&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}()&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ch&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™ä¸€æ®µçš„é€»è¾‘è¿˜æ˜¯å¾ˆæ¸…æ™°çš„ï¼Œå°±æ˜¯ç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œå®ƒä¹Ÿæ˜¯å­¦ä¹ channelä½¿ç”¨çš„ä¸€ä¸ªå¾ˆå¥½çš„ç´ æã€‚&lt;/p&gt;
&lt;h2 id=&quot;5æœˆ13æ—¥æ›´æ–°&quot;&gt;5æœˆ13æ—¥æ›´æ–°&lt;/h2&gt;
&lt;p&gt;ä»Šå¤©æ­£å¥½å‡ºå·®ï¼Œåœ¨é«˜é“ä¸Šæ¼«é•¿çš„5ä¸ªå¤šå°æ—¶æ²¡æœ‰äº‹æƒ…åšï¼Œæ‰€ä»¥æˆ‘æ‹¿èµ·ç¬”è®°æœ¬å¹²äº†ä¸¤ä»¶äº‹æƒ…ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯å¯¹è¿™ä¸ªæ— é™ç¼“å­˜çš„channelåšäº†ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬èº«è¿™ä¸ªæ— é™ç¼“å­˜çš„channelçš„è®¾è®¡éå¸¸ç®€æ´ï¼Œå”¯ä¸€æœ‰ä¸€ç‚¹æˆ‘ä¸å¤ªæ»¡æ„çš„æ˜¯å®ƒçš„bufferä¸èƒ½é‡ç”¨, è¿™å’Œ&lt;code&gt;ch.buffer = ch.buffer[1:]&lt;/code&gt;çš„å¤„ç†æœ‰å…³ç³»,æœ‰æ—¶å€™æ˜æ˜åº•å±‚çš„æ•°ç»„å¾ˆå¤§ï¼Œä½†æ˜¯è¿˜ä¸å¾—ä¸é‡æ–°ç”Ÿæˆæ–°çš„æ•°æ®ï¼Œå¯¼è‡´å †åˆ†é…é¢‘æ¬¡æ¯”è¾ƒå¤šã€‚&lt;/p&gt;
&lt;p&gt;ä¾ç…§Goä¸‰å·¨å¤´ä¹‹ä¸€çš„è®¾è®¡ï¼Œåº•å±‚bufferæœ€å¥½é‡‡ç”¨ringbufferçš„å®ç°æ–¹å¼ï¼Œå¦‚æœbufferæ»¡äº†åº”è¯¥èƒ½&lt;a href=&quot;https://github.com/golang/go/issues/20352#issuecomment-365494616&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;è‡ªåŠ¨æ‰©å®¹&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Such a library should do well in cases of very fast, &quot;bursty&quot; messages. A large enough buffered channel should be able to absorb bursts while a fast dedicated goroutine drains the channel into a ring buffer from which the messages are delivered at a slower pace to the final consumer of the messages. That ring buffer will need to be efficiently implemented, and will need to be able to grow efficiently (irrespective of size) and that will require some careful engineering. Better to leave that code to a library that can be tuned as needed than baking it into the runtime (and then possibly being at the mercy of release cycles).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘åˆå®ç°äº†ä¸€ä¸ª&lt;a href=&quot;https://github.com/smallnest/chanx/blob/main/ringbuffer.go&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ringbuffer&lt;/a&gt;,è¿™ä¸ªringbufferæ¯”è¾ƒç®€å•ï¼ŒåŸå› åœ¨è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘å¹¶å‘çš„é—®é¢˜ï¼Œè¿™ä¸ªringbufferåªä¼šåœ¨ä¸€ä¸ªgoroutineä½¿ç”¨ï¼Œæ‰€ä»¥å®ƒçš„å®ç°å°±éå¸¸çš„ç®€å•äº†ï¼Œéœ€è¦æ³¨æ„&quot;è¯»è¿½ä¸Šå†™&quot;ï¼Œä»¥åŠ&quot;å†™æ»¡&quot;è¿™ä¸¤ä¸ªè¾¹ç•Œé—®é¢˜å°±å¥½äº†ã€‚é€šè¿‡ä½¿ç”¨ringbufferï¼Œä¸Šé¢çš„å®ç°å°±å¯ä»¥æ›´æ”¹ä¸ºä¸‹é¢çš„ä»£ç ï¼Œå¯ä»¥è¿›ä¸€æ­¥å‡å°‘å†™çˆ†å‘(burst)çš„æ—¶å€™åˆ†é…è¿‡å¤šçš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;1&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;2&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;3&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;4&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;5&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;6&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;7&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;8&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;9&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;10&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;11&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;12&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;13&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;14&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;15&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;16&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;17&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;18&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;19&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;20&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;21&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;22&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;23&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;24&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;25&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;26&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;27&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;28&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;29&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;30&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;31&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;32&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;33&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;34&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;35&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;36&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;37&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;38&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;39&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;40&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;41&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;42&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;43&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;44&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;45&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;46&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;47&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;48&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;49&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;50&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; NewUnboundedChan(initCapacity &lt;span class=&quot;typename&quot;&gt;int&lt;/span&gt;) UnboundedChan {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;in := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt; T, initCapacity)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;out := &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;chan&lt;/span&gt; T, initCapacity)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch := UnboundedChan{In: in, Out: out, buffer: NewRingBuffer(initCapacity)}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt;() {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;close&lt;/span&gt;(out)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;loop:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;val, ok := &amp;lt;-in&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; !ok { &lt;span class=&quot;comment&quot;&gt;// in is closed&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt; loop&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// out is not full&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; out &amp;lt;- val:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;continue&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// out is full&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer.Write(val)&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; !ch.buffer.IsEmpty() {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; val, ok := &amp;lt;-in:&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; !ok { &lt;span class=&quot;comment&quot;&gt;// in is closed&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt; loop&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer.Write(val)&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; out &amp;lt;- ch.buffer.Peek():&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer.Pop()&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ch.buffer.IsEmpty() &amp;amp;&amp;amp; ch.buffer.size &amp;gt; ch.buffer.initialSize { &lt;span class=&quot;comment&quot;&gt;// after burst&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer.Reset()&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// drain&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; !ch.buffer.IsEmpty() {&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;out &amp;lt;- ch.buffer.Pop()&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;ch.buffer.Reset()&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}()&lt;/p&gt;&lt;p class=&quot;line&quot;/&gt;&lt;p class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ch&lt;/p&gt;&lt;p class=&quot;line&quot;&gt;}&lt;/p&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


      
    &lt;/div&gt;
    &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d75f4e2f6b86b5fdce1014bb8da15898</guid>
<title>Java å¹¶å‘å·¥å…·ç¯‡</title>
<link>https://toutiao.io/k/8ee5tsg</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;&lt;span&gt;ä½œè€…ï¼šæ±¤åœ†&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ªäººåšå®¢ï¼š&lt;/span&gt;javalover.cc&lt;/p&gt;&lt;h2&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;éšç€å¤©æ°”çš„é€æ¸å˜çƒ­ï¼Œæ•´ä¸ªäººä¹Ÿå¼€å§‹æµ®èºä¸å®‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç„¶è¿™é‡Œè¯´çš„ä¸æ˜¯æˆ‘ï¼Œå› ä¸ºæˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®‰é™çš„äºº&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è®²çš„æ˜¯éš”å£çš„è€å¤§å“¥ï¼Œåœ¨è®­æ–¥å¹´å¹¼çš„å­©å­&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸€é€šå¼å«è¿‡åï¼Œç”·äººå®‰é™äº†ä¸‹æ¥ï¼Œå­©å­ä¹Ÿå“­ä¸ªä¸åœ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;h2&gt;&lt;span&gt;ç®€ä»‹&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å‰é¢æˆ‘ä»¬ä»‹ç»äº† JUC ä¸­çš„å¹¶å‘å®¹å™¨ï¼Œå®ƒç›¸å½“äºä¸€ä¸ªåŒæ­¥å®¹å™¨çš„å‡çº§ç‰ˆï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜äº†å¹¶å‘çš„æ€§èƒ½&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»Šå¤©æˆ‘ä»¬æ¥ä»‹ç» JUC ä¸­çš„å¹¶å‘å·¥å…·ï¼Œ&lt;/span&gt;&lt;strong&gt;å®ƒä¸»è¦æ˜¯é€šè¿‡æ”¹å˜è‡ªèº«çš„çŠ¶æ€æ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œæµç¨‹&lt;/strong&gt;&lt;span&gt;ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¸¸è§çš„æœ‰å¦‚ä¸‹å‡ ç§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;CountDownLatch&lt;/strong&gt;&lt;span&gt;ï¼šå€’è®¡æ—¶å™¨ï¼ˆå±äºé—­é”çš„ä¸€ç§å®ç°ï¼‰ï¼Œç”¨æ¥é˜»å¡çº¿ç¨‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;CyclicBarrier&lt;/strong&gt;&lt;span&gt;ï¼šå¾ªç¯æ …æ ï¼Œç±»ä¼¼å€’è®¡æ—¶å™¨ï¼Œä½†æ˜¯æ¯”ä»–æ›´é«˜çº§ï¼Œä¹Ÿæ˜¯ç”¨æ¥é˜»å¡çº¿ç¨‹ï¼ˆåªä¸è¿‡é˜»å¡çš„æ–¹å¼ä¸åŒï¼Œä¸‹é¢ä¼šå…·ä½“ä»‹ç»ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Semaphore&lt;/strong&gt;&lt;span&gt;ï¼šä¿¡å·é‡ï¼Œç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æŒ‡å®šçš„èµ„æºï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„æ•°æ®åº“è¿æ¥æ± &lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢è®©æˆ‘ä»¬å¼€å§‹å§&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;æ–‡ç« å¦‚æœæœ‰é—®é¢˜ï¼Œæ¬¢è¿å¤§å®¶æ‰¹è¯„æŒ‡æ­£ï¼Œåœ¨æ­¤è°¢è¿‡å•¦&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h2&gt;&lt;span&gt;ç›®å½•&lt;/span&gt;&lt;/h2&gt;&lt;ol start=&quot;&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯å¹¶å‘å·¥å…·&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å€’è®¡æ•°å™¨ CountDownLatch&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å€’è®¡æ•°å™¨å‡çº§ç‰ˆ CyclicBarrierã€å¾ªç¯æ …æ ã€‘&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å€’è®¡æ•°å™¨ CountDownLatch å’Œå¾ªç¯æ …æ  CyclicBarrierã€ä¿¡å·é‡Semaphore çš„åŒºåˆ«&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¿¡å·é‡ Semaphore&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;&lt;span&gt;æ­£æ–‡&lt;/span&gt;&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;1. ä»€ä¹ˆæ˜¯å¹¶å‘å·¥å…·&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å¹¶å‘å·¥å…·æ˜¯ä¸€ç»„å·¥å…·ç±»ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œæµç¨‹ï¼Œæ¯”å¦‚é˜»å¡æŸä¸ªçº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–çº¿ç¨‹&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;2. å€’è®¡æ•°å™¨ CountDownLatch&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ä»å­—é¢æ„æ€æ¥çœ‹ï¼Œå°±æ˜¯ä¸€ä¸ªå€’è®¡æ•°é—¨é—©ï¼ˆshuanï¼Œæ‰“äº†åŠå¤©zhaå°±æ˜¯æ‰“ä¸å‡ºæ¥)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼Œå°±æ˜¯å€’è®¡æ•°ï¼Œæ—¶é—´ä¸€åˆ°ï¼Œé—¨é—©å°±æ‰“å¼€&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;æ³¨ï¼šä¸€æ—¦æ‰“å¼€ï¼Œå°±ä¸èƒ½å†åˆä¸Šï¼Œå³è¿™ä¸ª CountDownLatch çš„çŠ¶æ€æ”¹å˜æ˜¯æ°¸ä¹…ä¸å¯æ¢å¤çš„ï¼ˆè®°ä½è¿™ä¸ªç‚¹ï¼Œåé¢ä¼šæœ‰å¯¹æ¯”ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;æ¯”è¾ƒå®˜æ–¹çš„è¯´æ³•ï¼šå€’è®¡æ•°å™¨ç”¨æ¥é˜»å¡æŸä¸ªï¼ˆæŸäº›ï¼‰çº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–å¤šä¸ªçº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼ˆä»¥è¿™ä¸ªè¯´æ³•ä¸ºå‡†ï¼Œä¸Šé¢çš„å¯ä»¥ç”¨æ¥å¯¹æ¯”å‚è€ƒï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢åˆ—å‡º CountDownLatch çš„å‡ ä¸ªæ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ„é€ æ–¹æ³•&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public CountDownLatch(int count)&lt;/code&gt;&lt;span&gt;ï¼Œå…¶ä¸­countå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å†…éƒ¨çŠ¶æ€ï¼ˆå½“count=0æ—¶ï¼Œè¡¨ç¤ºåˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ï¼Œæ­¤æ—¶ä¼šæ¢å¤è¢«é˜»å¡çš„çº¿ç¨‹ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä¿®æ”¹çŠ¶æ€&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public void countDown()&lt;/code&gt;&lt;span&gt;ï¼Œè¯¥æ–¹æ³•ä¼šé€’å‡ä¸Šé¢çš„countçŠ¶æ€ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ï¼Œå°±-1ï¼›ï¼ˆå½“count=0æ—¶ï¼Œè¡¨ç¤ºåˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ï¼Œæ­¤æ—¶ä¼šæ¢å¤è¢«é˜»å¡çš„çº¿ç¨‹ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public void await()&lt;/code&gt;&lt;span&gt;ï¼Œè¯¥æ–¹æ³•ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°countçŠ¶æ€å˜ä¸º0ï¼Œæ‰ä¼šæ¢å¤æ‰§è¡Œï¼ˆé™¤éä¸­æ–­ï¼Œæ­¤æ—¶ä¼šæŠ›å‡ºä¸­æ–­å¼‚å¸¸ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;è¶…æ—¶ç­‰å¾…&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public boolean await(long timeout, TimeUnit unit)&lt;/code&gt;&lt;span&gt;ï¼Œç±»ä¼¼ä¸Šé¢çš„await,åªä¸è¿‡å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œç­‰è¿‡äº†è¶…æ—¶æ—¶é—´ï¼Œè¿˜åœ¨é˜»å¡ï¼Œåˆ™ç›´æ¥æ¢å¤&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;è·å–çŠ¶æ€å€¼ count&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public long getCount()&lt;/code&gt;&lt;span&gt;ï¼Œè·å–countçš„æ•°å€¼ï¼Œä»¥æŸ¥çœ‹è¿˜å¯ä»¥é€’å‡å¤šå°‘æ¬¡ï¼ˆå¤šç”¨æ¥è°ƒè¯•ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¨¡æ‹Ÿåœºæ™¯çš„è¯ï¼Œè¿™é‡Œå…ˆåˆ—ä¸¾ä¸‰ä¸ªï¼Œè‚¯å®šè¿˜æœ‰å…¶ä»–çš„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬ä»¥ç¬¬ä¸‰ä¸ªåœºæ™¯ä¸ºä¾‹ï¼Œå†™ä¸ªä¾‹å­ï¼šå¤šäººæ¸¸æˆåŠ è½½ç”»é¢&lt;/span&gt;&lt;/p&gt;&lt;pre spellcheck=&quot;false&quot; lang=&quot;java&quot;&gt;&lt;div lang=&quot;java&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;CountDownLatchDemo&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;(&lt;span&gt;String&lt;/span&gt;[] &lt;span&gt;args&lt;/span&gt;) &lt;span&gt;throws&lt;/span&gt; &lt;span&gt;InterruptedException&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 1. æ„é€ ä¸€ä¸ªå€’è®¡æ•°å™¨ï¼Œç»™å®šä¸€ä¸ªçŠ¶æ€å€¼10&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;CountDownLatch&lt;/span&gt; &lt;span&gt;latch&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;CountDownLatch&lt;/span&gt;(&lt;span&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;&quot;å‡†å¤‡åŠ è½½&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â   &lt;span role=&quot;presentation&quot; cm-text=&quot;&quot;&gt;  &lt;/span&gt;&lt;span&gt;// è¿™é‡Œæˆ‘ä»¬åˆ›å»º10ä¸ªçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿ 5V5 æ¸¸æˆçš„10ä¸ªç©å®¶&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt; &lt;span&gt;10&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt;&lt;span&gt;++&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Thread&lt;/span&gt;(()&lt;span&gt;-&amp;gt;&lt;/span&gt;{&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;// è¿™é‡Œæˆ‘ä»¬ç»™ç‚¹å»¶æ—¶ï¼Œæ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;Thread&lt;/span&gt;.&lt;span&gt;sleep&lt;/span&gt;(&lt;span&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â   } &lt;span&gt;catch&lt;/span&gt; (&lt;span&gt;InterruptedException&lt;/span&gt; &lt;span&gt;e&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;e&lt;/span&gt;.&lt;span&gt;printStackTrace&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;Thread&lt;/span&gt;.&lt;span&gt;currentThread&lt;/span&gt;().&lt;span&gt;getName&lt;/span&gt;()&lt;span&gt;+&lt;/span&gt;&lt;span&gt;&quot;åŠ è½½100%&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;// 2. è¿™é‡Œçš„countDownå°±æ˜¯ç”¨æ¥æ”¹å˜å€’è®¡æ•°å™¨çš„å†…éƒ¨çŠ¶æ€ï¼Œæ¯æ¬¡-1&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;latch&lt;/span&gt;.&lt;span&gt;countDown&lt;/span&gt;(); &lt;span&gt;//è¿™é‡Œä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡Œå®Œåå°±ç«‹é©¬è¿”å›äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â   }).&lt;span&gt;start&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 3. è¿™é‡Œé˜»å¡ç­‰å¾…çŠ¶æ€çš„å®Œæˆï¼Œå³10å˜ä¸º0;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;latch&lt;/span&gt;.&lt;span&gt;await&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;&quot;æ‰€æœ‰äººåŠ è½½å®Œæˆï¼Œå¼€å§‹æ¸¸æˆ&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;/&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre spellcheck=&quot;false&quot; lang=&quot;java&quot;&gt;&lt;div lang=&quot;java&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;å‡†å¤‡åŠ è½½&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;&lt;span&gt;åŠ è½½100&lt;/span&gt;&lt;span&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;æ‰€æœ‰äººåŠ è½½å®Œæˆï¼Œå¼€å§‹æ¸¸æˆ&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;è¿™é‡Œå€’è®¡æ•°å™¨çš„ä½œç”¨å°±æ˜¯é˜»å¡ä¸»çº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–10ä¸ªå­çº¿ç¨‹ï¼Œç­‰åˆ°éƒ½å‡†å¤‡å¥½ï¼Œå†æ¢å¤ä¸»çº¿ç¨‹&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®ƒçš„ç‰¹ç‚¹å°±æ˜¯ï¼šä¸€æ¬¡æ€§ä½¿ç”¨ï¼Œè¾¾åˆ°ç»ˆæ­¢çŠ¶æ€åä¸èƒ½å†æ”¹å˜&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;3. å€’è®¡æ—¶å™¨å‡çº§ç‰ˆ CyclicBarrierã€å¾ªç¯æ …æ ã€‘&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å¾ªç¯æ …æ ï¼Œç±»ä¼¼å€’è®¡æ•°å™¨ï¼Œä¹Ÿæ˜¯ç”¨æ¥é˜»å¡çº¿ç¨‹ï¼Œä¸è¿‡å®ƒçš„é‡ç‚¹åœ¨äº&lt;/span&gt;&lt;strong&gt;å¾ªç¯&lt;/strong&gt;&lt;span&gt;ä½¿ç”¨&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œå€’è®¡æ•°å™¨åªèƒ½ç”¨ä¸€æ¬¡ï¼ˆè¿™å±äºä»–ä»¬ä¹‹é—´æœ€æ˜æ˜¾çš„ä¸€ä¸ªåŒºåˆ«ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;PSï¼šçŒœæµ‹ä¹‹æ‰€ä»¥å«å¾ªç¯æ …æ ï¼Œè€Œä¸æ˜¯å¾ªç¯é—¨é—©ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ …æ çš„ä½œç”¨æ¯”é—¨é—©æ›´å¼ºå¤§ï¼Œæ‰€ä»¥å«æ …æ æ›´é€‚åˆå§&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;strong&gt;å®˜æ–¹è¯´æ³•ï¼šå¾ªç¯æ …æ ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’ç­‰å¾…ï¼ˆé˜»å¡ï¼‰&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¯”å¦‚æœ‰10ä¸ªçº¿ç¨‹ï¼Œéƒ½è¦awaitç­‰å¾…ï¼›é‚£è¦ç­‰åˆ°æœ€åä¸€ä¸ªçº¿ç¨‹awaitæ—¶ï¼Œæ …æ æ‰ä¼šæ‰“å¼€&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæœ‰å®šä¹‰æ …æ åŠ¨ä½œï¼Œé‚£ä¹ˆå½“æ …æ æ‰“å¼€æ—¶ï¼Œä¼šæ‰§è¡Œæ …æ åŠ¨ä½œ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ …æ åŠ¨ä½œå°±æ˜¯ï¼šæ …æ æ‰“å¼€åéœ€æ‰§è¡Œçš„åŠ¨ä½œï¼Œé€šè¿‡æ„é€ å‡½æ•°çš„Runnableå‚æ•°æŒ‡å®šï¼Œå¯é€‰å‚æ•°&lt;/strong&gt;&lt;span&gt;ï¼Œä¸‹é¢ä¼šä»‹ç»&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ä¸ªå±äºå¾ªç¯æ …æ å’Œå€’è®¡æ•°å™¨çš„&lt;/span&gt;&lt;strong&gt;ç¬¬äºŒä¸ªåŒºåˆ«&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬çœ‹å‡ ä¸ªå¾ªç¯æ …æ  CyclicBarrier å†…éƒ¨çš„æ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ„é€ æ–¹æ³•&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public CyclicBarrier(int parties, Runnable barrierAction)&lt;/code&gt;&lt;span&gt;ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºéœ€ç­‰å¾…ï¼ˆé˜»å¡ï¼‰çš„çº¿ç¨‹æ•°ï¼Œç¬¬äºŒä¸ªbarrierActionå°±æ˜¯ä¸Šé¢æˆ‘ä»¬è¯´çš„æ …æ åŠ¨ä½œï¼Œå³å½“æœ€åä¸€ä¸ªçº¿ç¨‹ä¹Ÿè¢«é˜»å¡æ—¶ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªæ …æ åŠ¨ä½œï¼ˆè¿™ä¸ªå‚æ•°å¯é€‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¸æ‰§è¡Œä»»ä½•åŠ¨ä½œï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç­‰å¾…&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public int await()&lt;/code&gt;&lt;span&gt;ï¼Œé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°æœ€åä¸€ä¸ªçº¿ç¨‹è¢«é˜»å¡ï¼Œæ‰ä¼šæ¢å¤&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;è¶…æ—¶ç­‰å¾…&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public boolean await(long timeout, TimeUnit unit)&lt;/code&gt;&lt;span&gt;ï¼Œç±»ä¼¼ä¸Šé¢çš„await,åªä¸è¿‡å¯ä»¥è®¾ç½®è¶…æ—¶æ—¶é—´&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;è·å–å½“å‰ç­‰å¾…çš„çº¿ç¨‹æ•°&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;code&gt;public int getNumberWaiting()&lt;/code&gt;&lt;span&gt;ï¼Œå³è°ƒç”¨äº†awaitæ–¹æ³•çš„çº¿ç¨‹æ•°é‡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;åœºæ™¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢çœ‹ä¸‹ä¾‹å­ï¼šå¤šäººæ¸¸æˆå›¢æˆ˜ç”»é¢&lt;/span&gt;&lt;/p&gt;&lt;pre spellcheck=&quot;false&quot; lang=&quot;java&quot;&gt;&lt;div lang=&quot;java&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;class&lt;/span&gt; &lt;span&gt;CyclicBarrierDemo&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â &lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;(&lt;span&gt;String&lt;/span&gt;[] &lt;span&gt;args&lt;/span&gt;) &lt;span&gt;throws&lt;/span&gt; &lt;span&gt;InterruptedException&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;/&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 1. åˆ›å»ºä¸€ä¸ªå¾ªç¯æ …æ ï¼Œç»™å®šç­‰å¾…çº¿ç¨‹æ•°10å’Œæ …æ åŠ¨ä½œ&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;CyclicBarrier&lt;/span&gt; &lt;span&gt;barrier&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;CyclicBarrier&lt;/span&gt;(&lt;span&gt;10&lt;/span&gt;,()&lt;span&gt;-&amp;gt;&lt;/span&gt;{&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;// æ …æ åŠ¨ä½œï¼Œç­‰åˆ°æ‰€æœ‰çº¿ç¨‹éƒ½awaitï¼Œå°±ä¼šè§¦å‘&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;&quot;=== äººé½äº†ï¼Œå¼€å§‹å›¢å§&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;Thread&lt;/span&gt;.&lt;span&gt;sleep&lt;/span&gt;(&lt;span&gt;2000&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â   } &lt;span&gt;catch&lt;/span&gt; (&lt;span&gt;InterruptedException&lt;/span&gt; &lt;span&gt;e&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;e&lt;/span&gt;.&lt;span&gt;printStackTrace&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â   });&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;&quot;=== å‡†å¤‡ç¬¬ä¸€æ³¢å›¢æˆ˜ ===&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 2. åˆ›å»º10ä¸ªçº¿ç¨‹ï¼Œæ¨¡æ‹Ÿ10ä¸ªç©å®¶&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;for&lt;/span&gt; (&lt;span&gt;int&lt;/span&gt; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt; &lt;span&gt;10&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt;&lt;span&gt;++&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Thread&lt;/span&gt;(()&lt;span&gt;-&amp;gt;&lt;/span&gt;{&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;// ç©å®¶åˆ°åœº&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;Thread&lt;/span&gt;.&lt;span&gt;currentThread&lt;/span&gt;().&lt;span&gt;getName&lt;/span&gt;()&lt;span&gt;+&lt;/span&gt;&lt;span&gt;&quot;=&amp;gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;// ç­‰å¾…å…¶ä»–äººï¼Œç­‰äººé½å°±å¯ä»¥å›¢äº†ï¼ˆäººé½äº†ä¼šæ‰§è¡Œæ …æ åŠ¨ä½œï¼Œæ­¤æ—¶è¿™è¾¹ä¹Ÿä¼šæ¢å¤æ‰§è¡Œï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;barrier&lt;/span&gt;.&lt;span&gt;await&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â   } &lt;span&gt;catch&lt;/span&gt; (&lt;span&gt;InterruptedException&lt;/span&gt; &lt;span&gt;e&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;e&lt;/span&gt;.&lt;span&gt;printStackTrace&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â   } &lt;span&gt;catch&lt;/span&gt; (&lt;span&gt;BrokenBarrierException&lt;/span&gt; &lt;span&gt;e&lt;/span&gt;) {&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â &lt;span&gt;e&lt;/span&gt;.&lt;span&gt;printStackTrace&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â   }).&lt;span&gt;start&lt;/span&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 3. æŸ¥è¯¢å½“å‰ç­‰å¾…éƒ½çº¿ç¨‹æ•°é‡ï¼Œå¦‚æœä¸ä¸º0ï¼Œåˆ™ä¸»çº¿ç¨‹ç»§ç»­ç­‰å¾…&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;barrier&lt;/span&gt;.&lt;span&gt;getNumberWaiting&lt;/span&gt;()&lt;span&gt;!=&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;){&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â  Â  Â &lt;span&gt;Thread&lt;/span&gt;.&lt;span&gt;sleep&lt;/span&gt;(&lt;span&gt;1000&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;System&lt;/span&gt;.&lt;span&gt;out&lt;/span&gt;.&lt;span&gt;println&lt;/span&gt;(&lt;span&gt;&quot;=== ç¬¬ä¸€æ³¢å›¢æˆ˜ç»“æŸ ===&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;span&gt;// 4. æ­¤æ—¶è¿˜å¯ä»¥è¿›è¡Œç¬¬äºŒæ³¢ç¬¬ä¸‰æ³¢å›¢æˆ˜ã€‚ã€‚ã€‚ï¼ˆå¾ªç¯æ …æ å¯å¾ªç¯è§¦å‘ï¼Œå€’è®¡æ•°å™¨åªèƒ½è§¦å‘ä¸€æ¬¡ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â  Â  Â  Â &lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt; Â   }&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre spellcheck=&quot;false&quot; lang=&quot;java&quot;&gt;&lt;div lang=&quot;java&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;===&lt;/span&gt; &lt;span&gt;å‡†å¤‡ç¬¬ä¸€æ³¢å›¢æˆ˜&lt;/span&gt; &lt;span&gt;===&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;6&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;Thread&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€æ³¢å›¢ï¼Œæˆ‘å‡†å¤‡å¥½äº†&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;===&lt;/span&gt; &lt;span&gt;äººé½äº†ï¼Œå¼€å§‹å›¢å§&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot;&gt;&lt;span&gt;===&lt;/span&gt; &lt;span&gt;ç¬¬ä¸€æ³¢å›¢æˆ˜ç»“æŸ&lt;/span&gt; &lt;span&gt;===&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/pre&gt;&lt;h3&gt;&lt;span&gt;4. ä¿¡å·é‡ Semaphore&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ä¿¡å·é‡ä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æŒ‡å®šèµ„æºï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ï¼Œè¶…è¿‡æŒ‡å®šæ•°é‡ï¼Œå°±é˜»å¡ç­‰å¾…&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸‹ä¿¡å·é‡çš„å‡ ä¸ªå…³é”®æ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ„é€ æ–¹æ³•ï¼š&lt;/span&gt;&lt;code&gt;public Semaphore(int permits, boolean fair)&lt;/code&gt;&lt;span&gt;,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®¸å¯æ•°ï¼Œå³å…è®¸åŒæ—¶è®¿é—®çš„çš„çº¿ç¨‹æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå…¬å¹³è¿˜æ˜¯éå…¬å¹³æ¨¡å¼ï¼ˆé»˜è®¤éå…¬å¹³ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;è·å–è®¸å¯ï¼š&lt;/span&gt;&lt;code&gt;public void acquire()&lt;/code&gt;&lt;span&gt;ï¼Œå¦‚æœæœ‰è®¸å¯ï¼Œåˆ™ç›´æ¥è¿”å›ï¼Œå¹¶å°†è®¸å¯æ•°é€’å‡1ï¼›å¦‚æœæ²¡å¯ç”¨çš„è®¸å¯ï¼Œå°±é˜»å¡ç­‰å¾…ï¼Œæˆ–è€…è¢«ä¸­æ–­&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å°è¯•è·å–è®¸å¯ï¼š&lt;/span&gt;&lt;code&gt;public boolean tryAcquire()&lt;/code&gt;&lt;span&gt;ï¼Œç±»ä¼¼ä¸Šé¢çš„acquireï¼Œä½†æ˜¯ä¸ä¼šè¢«é˜»å¡å’Œä¸­æ–­ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å¯ç”¨çš„è®¸å¯ï¼Œåˆ™ç›´æ¥è¿”å›false&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é‡Šæ”¾è®¸å¯ï¼š&lt;/span&gt;&lt;code&gt;public void release()&lt;/code&gt;&lt;span&gt;ï¼Œé‡Šæ”¾ä¸€ä¸ªè®¸å¯ï¼Œå¹¶å°†è®¸å¯æ•°é€’å¢1&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;è·å–å¯ç”¨çš„è®¸å¯æ•°é‡ï¼š&lt;/span&gt;&lt;code&gt;public int availablePermits()&lt;/code&gt;&lt;span&gt;ï¼Œè¿™ä¸ªæ–¹æ³•ä¸€èˆ¬ç”¨æ¥è°ƒè¯•&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;åœºæ™¯ï¼šæ•°æ®åº“è¿æ¥æ± &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¿¡å·é‡çš„ç‰¹ç‚¹å°±æ˜¯å¯é‡å¤ä½¿ç”¨è®¸å¯ï¼Œæ‰€ä»¥åƒæ•°æ®åº“è¿æ¥æ± è¿™ç§åœºæ™¯å°±å¾ˆé€‚åˆäº†&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™é‡Œå°±ä¸ä¸¾ä¾‹å­äº†ï¼Œå°±æ˜¯å¤šä¸ªçº¿ç¨‹acquireå’Œreleaseï¼Œè·å–è®¸å¯æ—¶ï¼Œå¦‚æœæ²¡æœ‰å°±é˜»å¡ï¼Œå¦‚æœæœ‰å°±ç«‹å³è¿”å›&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;5 åŒºåˆ«&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ç”¨è¡¨æ ¼çœ‹æ¯”è¾ƒæ–¹ä¾¿ç‚¹&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;span&gt;åŒºåˆ«&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;CountDownLatch&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;CyclicBarrier&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;Semaphore&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;å¯ä½¿ç”¨æ¬¡æ•°&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å•æ¬¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šæ¬¡ï¼ˆå¾ªç¯ä½¿ç”¨ï¼‰&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šæ¬¡ï¼ˆå¾ªç¯ä½¿ç”¨ï¼‰&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;çº¿ç¨‹çš„é˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;é˜»å¡å•ä¸ªï¼ˆå¤šä¸ªï¼‰çº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–çº¿ç¨‹çš„æ‰§è¡Œ&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’é˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;è¶…è¿‡è®¸å¯æ•°ï¼Œä¼šé˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;åœºæ™¯&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. è®¡æ•°å™¨&lt;/span&gt;&lt;br/&gt;&lt;span&gt;2. ç»Ÿè®¡ä»»åŠ¡æ‰§è¡Œæ—¶é•¿&lt;/span&gt;&lt;br/&gt;&lt;span&gt;3. å¤šäººå¯¹æˆ˜æ¸¸æˆçš„å¼€å±€ç­‰å¾…&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. å¤§äº‹åŒ–å°ï¼Œå†åˆå¹¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;2. å¤šäººå¯¹æˆ˜æ¸¸æˆçš„å›¢æˆ˜&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. æ•°æ®åº“è¿æ¥æ± &lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;å¯ä»¥çœ‹åˆ°ï¼Œå€’è®¡æ•°å™¨ä¸»è¦æ˜¯ç”¨æ¥è¡¨ç¤ºå•ä¸ªçº¿ç¨‹ç­‰å¾…å¤šä¸ªçº¿ç¨‹ï¼Œè€Œå¾ªç¯æ …æ ä¸»è¦æ˜¯ç”¨æ¥è¡¨ç¤ºå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’ç­‰å¾…&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;h2&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;ol start=&quot;&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯å¹¶å‘å·¥å…·ï¼šå¹¶å‘å·¥å…·æ˜¯ä¸€ç»„å·¥å…·ç±»ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œæµç¨‹ï¼Œæ¯”å¦‚é˜»å¡æŸä¸ªçº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–çº¿ç¨‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å€’è®¡æ•°å™¨ CountDownLatchï¼šç”¨æ¥è¡¨ç¤ºé˜»å¡æŸä¸ªï¼ˆæŸäº›ï¼‰çº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–å¤šä¸ªçº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¾ªç¯æ …æ  CyclicBarrierï¼šç”¨æ¥è¡¨ç¤ºå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’ç­‰å¾…åä½œï¼ˆé˜»å¡ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¿¡å·é‡ Semaphoreï¼šç”¨æ¥è¡¨ç¤ºå…è®¸åŒæ—¶è®¿é—®æŒ‡å®šèµ„æºçš„è®¸å¯æ•°ï¼ˆçº¿ç¨‹æ•°ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åŒºåˆ«ï¼š&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;span&gt;åŒºåˆ«&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;CountDownLatch&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;CyclicBarrier&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;Semaphore&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;å¯ä½¿ç”¨æ¬¡æ•°&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å•æ¬¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šæ¬¡ï¼ˆå¾ªç¯ä½¿ç”¨ï¼‰&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šæ¬¡ï¼ˆå¾ªç¯ä½¿ç”¨ï¼‰&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;çº¿ç¨‹çš„é˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;é˜»å¡å•ä¸ªï¼ˆå¤šä¸ªï¼‰çº¿ç¨‹ï¼Œä»¥ç­‰å¾…å…¶ä»–çº¿ç¨‹çš„æ‰§è¡Œ&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„ç›¸äº’é˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;è¶…è¿‡è®¸å¯æ•°ï¼Œä¼šé˜»å¡&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;åœºæ™¯&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. è®¡æ•°å™¨&lt;/span&gt;&lt;br/&gt;&lt;span&gt;2. ç»Ÿè®¡ä»»åŠ¡æ‰§è¡Œæ—¶é•¿&lt;/span&gt;&lt;br/&gt;&lt;span&gt;3. å¤šäººå¯¹æˆ˜æ¸¸æˆçš„å¼€å±€ç­‰å¾…&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. å¤§äº‹åŒ–å°ï¼Œå†åˆå¹¶&lt;/span&gt;&lt;br/&gt;&lt;span&gt;2. å¤šäººå¯¹æˆ˜æ¸¸æˆçš„å›¢æˆ˜&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;1. æ•°æ®åº“è¿æ¥æ± &lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;å‚è€ƒå†…å®¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;åè®°&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å­¦ä¹ ä¹‹è·¯ï¼ŒçœŸå¤Ÿé•¿ï¼Œå…±å‹‰ä¹‹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;span&gt;å†™åœ¨æœ€åï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ„¿ä½ çš„æ„ä¸­äººäº¦æ˜¯ä¸­æ„ä½ ä¹‹äºº&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;Â &lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>b53247c33e1bb6bc12e10f48ca2431fa</guid>
<title>2021 Java åç«¯å®ä¹ æ˜¥æ‹›é¢è¯•é¢˜æ•´ç†ï¼ˆå«ç­”æ¡ˆï¼‰</title>
<link>https://toutiao.io/k/o9vzo5r</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;post-topic-des nc-post-content&quot;&gt;
&lt;h1&gt;Javaé¢è¯•é¢˜æ•´ç†&lt;/h1&gt; 
&lt;h2&gt;JavaåŸºç¡€&lt;/h2&gt; 
&lt;h3&gt;Javaæ˜¯è§£é‡Šæ€§è¿˜æ˜¯ç¼–è¯‘æ€§è¯­è¨€ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;æ—¢æ˜¯ç¼–è¯‘æ€§è¯­è¨€ï¼ˆéœ€è¦ç”±ç¼–è¯‘å™¨ç¼–è¯‘ä¸º.classå­—èŠ‚ç æ–‡ä»¶ï¼‰ï¼Œåˆæ˜¯è§£é‡Šæ€§è¯­è¨€ï¼ˆéœ€è¦ç”±JVMè¯»ä¸€è¡Œæ‰§è¡Œä¸€è¡Œï¼Œç”±è§£é‡Šå™¨è§£é‡Šä¸ºæ“ä½œç³»ç»Ÿèƒ½æ‰§è¡Œçš„å‘½ä»¤ï¼‰&lt;/p&gt; 
&lt;p&gt;Javaçš„ç¼–è¯‘å™¨æ˜¯javac.exeï¼Œè§£é‡Šå™¨æ˜¯java.exe&lt;/p&gt; 
&lt;h3&gt;ä¸ºä»€ä¹ˆå¼•å…¥Hashï¼Ÿå¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;ç®€ç§°æ•£åˆ—&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Œæ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶æ˜ å°„æˆä¸€ä¸ªå°ä¸²å­—ç¬¦ã€‚ä¸æŒ‡çº¹ä¸€æ ·ï¼Œå°±æ˜¯ä»¥è¾ƒçŸ­çš„ä¿¡æ¯æ¥ä¿è¯æ–‡ä»¶çš„å”¯ä¸€æ€§çš„æ ‡å¿—ï¼Œè¿™ç§æ ‡å¿—ä¸æ–‡ä»¶çš„æ¯ä¸€ä¸ªå­—èŠ‚éƒ½ç›¸å…³ï¼Œè€Œä¸”éš¾ä»¥æ‰¾åˆ°é€†å‘è§„å¾‹ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;å¥½å¤„ï¼š&lt;/p&gt; 
&lt;p&gt;1ï¼‰ åœ¨åºå¤§çš„æ•°æ®åº“ä¸­ï¼Œç”±äºå“ˆå¸Œå€¼æ›´ä¸ºçŸ­å°ï¼Œè¢«æ‰¾åˆ°æ›´ä¸ºå®¹æ˜“ï¼Œå› æ­¤ï¼Œå“ˆå¸Œä½¿æ•°æ®çš„å­˜å‚¨ä¸æŸ¥è¯¢é€Ÿåº¦æ›´å¿«ã€‚&lt;/p&gt; 
&lt;p&gt;2ï¼‰ å“ˆå¸Œèƒ½å¯¹ä¿¡æ¯è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œä½¿å¾—æ•°æ®ä¼ æ’­æ›´ä¸ºå®‰å…¨ã€‚&lt;/p&gt; 
&lt;h3&gt;ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åŠ¨æ€ä»£ç†å°±æ˜¯ï¼Œåœ¨&lt;strong&gt;ç¨‹åºè¿è¡ŒæœŸ&lt;/strong&gt;ï¼Œåˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œå¹¶&lt;strong&gt;å¯¹ç›®æ ‡å¯¹è±¡ä¸­çš„æ–¹æ³•è¿›è¡ŒåŠŸèƒ½æ€§å¢å¼º&lt;/strong&gt;çš„ä¸€ç§æŠ€æœ¯ã€‚åœ¨ç”Ÿæˆä»£ç†å¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼Œç›®æ ‡å¯¹è±¡ä¸å˜ï¼Œä»£ç†å¯¹è±¡ä¸­çš„æ–¹æ³•æ˜¯ç›®æ ‡å¯¹è±¡æ–¹æ³•çš„å¢å¼ºæ–¹æ³•ã€‚å¯ä»¥ç†è§£ä¸º&lt;strong&gt;è¿è¡ŒæœŸé—´ï¼Œå¯¹è±¡ä¸­æ–¹æ³•çš„åŠ¨æ€æ‹¦æˆªï¼Œåœ¨æ‹¦æˆªæ–¹æ³•çš„å‰åæ‰§è¡ŒåŠŸèƒ½æ“ä½œ&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;h3&gt;ä»€ä¹ˆæ˜¯javaçš„åå°„æœºåˆ¶ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åå°„æ˜¯&lt;strong&gt;åŠ¨æ€è·å–ä¿¡æ¯&lt;/strong&gt;ä»¥åŠ&lt;strong&gt;åŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•&lt;/strong&gt;çš„ä¸€ç§æœºåˆ¶ã€‚&lt;/p&gt; 
&lt;p&gt;Javaåå°„å°±æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„æ–¹æ³•å’Œå±æ€§ï¼›å¹¶ä¸”èƒ½æ”¹å˜å®ƒçš„å±æ€§ã€‚è€Œè¿™ä¹Ÿæ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„ä¸€ä¸ªå…³é”®æ€§è´¨ã€‚&lt;/p&gt; 
&lt;p&gt;Javaåå°„çš„åŠŸèƒ½æ˜¯åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼Œåœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œåœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼Œåœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œç”ŸæˆåŠ¨æ€ä»£ç†ã€‚&lt;/p&gt; 
&lt;h3 id=&quot;final&quot;&gt;final&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€finalä¿®é¥°ç±»&lt;/p&gt; 
&lt;p&gt;finalä¿®é¥°ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œè¿™ä¸ªç±»&lt;strong&gt;ä¸èƒ½è¢«ç»§æ‰¿&lt;/strong&gt;ï¼Œfinalç±»ä¸­çš„æ–¹æ³•éƒ½ä¼šè¢«éšå¼çš„æŒ‡å®šä¸ºfinalæ–¹æ³•ï¼ŒJDKä¸­è¢«è®¾è®¡ä¸ºfinalç±»çš„æœ‰Stringã€Systemç­‰ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€finalä¿®é¥°æ–¹æ³•&lt;/p&gt; 
&lt;p&gt;è¢«finalä¿®é¥°çš„æ–¹æ³•&lt;strong&gt;ä¸èƒ½è¢«é‡å†™&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¯ä»¥è¢«é‡è½½&lt;/strong&gt;ï¼Œä¸€ä¸ªç±»çš„privateæ–¹***éšå¼çš„è¢«æŒ‡å®šä¸ºfinalæ–¹æ³•ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€finalä¿®é¥°æˆå‘˜å˜é‡&lt;/p&gt; 
&lt;p&gt;è¢«finalä¿®é¥°çš„æˆå‘˜å˜é‡å¿…é¡»è¦èµ‹åˆå§‹å€¼ï¼Œè€Œä¸”åªèƒ½åˆå§‹åŒ–ä¸€æ¬¡ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼æˆ–åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹åˆå€¼ã€‚å¦‚æœfinalä¿®é¥°çš„æˆå‘˜å˜é‡æ˜¯&lt;strong&gt;åŸºæœ¬ç±»å‹&lt;/strong&gt;ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªå˜é‡çš„&lt;strong&gt;å€¼ä¸èƒ½æ”¹å˜&lt;/strong&gt;ï¼Œå¦‚æœä¿®é¥°çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ª&lt;strong&gt;å¼•ç”¨ç±»å‹&lt;/strong&gt;ï¼Œåˆ™å¼•ç”¨çš„&lt;strong&gt;åœ°å€ä¸èƒ½æ”¹å˜&lt;/strong&gt;ï¼Œä½†æ˜¯è¿™ä¸ªå¼•ç”¨æ‰€æŒ‡å‘çš„&lt;strong&gt;å¯¹è±¡é‡Œé¢çš„å†…å®¹å¯ä»¥æ”¹å˜&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;h3&gt;staticä¿®é¥°çš„æ–¹æ³•å¯ä»¥è¢«é‡å†™å—ï¼Ÿé‡è½½å‘¢ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸å¯ä»¥é‡å†™ã€‚&lt;/p&gt; 
&lt;p&gt;å½“æˆ‘ä»¬åœ¨å­ç±»ä¸­æ”¹å˜æ–¹æ³•ä½“æ—¶ï¼Œå­ç±»çš„è¯¥æ–¹æ³•åªæ˜¯å°†çˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œäº†&lt;strong&gt;éšè—&lt;/strong&gt;ï¼Œè€Œéé‡å†™ï¼Œ&lt;strong&gt;è¿™ä¸¤ä¸ªæ–¹æ³•æ²¡æœ‰å…³ç³»&lt;/strong&gt;ã€‚çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡æ—¶ï¼Œåªä¼šè°ƒç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥&lt;strong&gt;ä¸å…·æœ‰å¤šæ€æ€§&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;å¯ä»¥é‡è½½ã€‚&lt;/p&gt; 
&lt;h3&gt;Javaçš„å¼‚å¸¸ä½“ç³»åŠå¼‚å¸¸çš„æ•è·å’Œå¤„ç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€Javaçš„å¼‚å¸¸ä½“ç³»&lt;/p&gt; 
&lt;p&gt;Throwableï¼ˆè¡¨ç¤ºå¯æŠ›å‡ºï¼‰æ˜¯æ‰€æœ‰å¼‚å¸¸å’Œé”™è¯¯çš„è¶…ç±»ï¼Œä¸¤ä¸ªç›´æ¥å­ç±»ä¸ºErrorå’ŒExceptionï¼Œåˆ†åˆ«è¡¨ç¤ºé”™è¯¯å’Œå¼‚å¸¸ã€‚å¼‚å¸¸åˆå¯åˆ†ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ï¼ˆä¸æ£€æŸ¥å¼‚å¸¸ï¼‰å’Œéè¿è¡Œæ—¶å¼‚å¸¸ï¼ˆæ£€æŸ¥å¼‚å¸¸ï¼‰ã€‚&lt;/p&gt; 
&lt;p&gt;1ã€Errorå’ŒExceptionï¼š&lt;/p&gt; 
&lt;p&gt;Erroræ˜¯ç¨‹åº&lt;strong&gt;æ— æ³•å¤„ç†&lt;/strong&gt;çš„é”™è¯¯ï¼Œæ˜¯ç”±JVMäº§ç”Ÿå’ŒæŠ›å‡ºçš„ï¼Œæ¯”å¦‚OutOfMemoryErrorã€ThreadDeathç­‰ã€‚Errorå‘ç”Ÿæ—¶JVMä¼šé€‰æ‹©&lt;strong&gt;çº¿ç¨‹ç»ˆæ­¢&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;Exceptionæ˜¯ç¨‹åºå¯ä»¥å¤„ç†çš„å¼‚å¸¸ï¼Œç¨‹åºä¸­åº”å½“å°½å¯èƒ½å»å¤„ç†è¿™äº›å¼‚å¸¸ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€è¿è¡Œæ—¶å¼‚å¸¸å’Œéè¿è¡Œæ—¶å¼‚å¸¸ï¼š&lt;/p&gt; 
&lt;p&gt;è¿è¡Œæ—¶å¼‚å¸¸éƒ½æ˜¯RuntimeExceptionç±»åŠå…¶å­ç±»å¼‚å¸¸ï¼Œå¦‚NullPointerExceptionã€IndexOutOfBoundsExceptionç­‰ï¼Œè¿™äº›å¼‚å¸¸æ˜¯ä¸æ£€æŸ¥å¼‚å¸¸ï¼Œç¨‹åºä¸­&lt;strong&gt;å¯ä»¥é€‰æ‹©æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†&lt;/strong&gt;ã€‚è¿™äº›å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿã€‚&lt;/p&gt; 
&lt;p&gt;éè¿è¡Œæ—¶å¼‚å¸¸æ˜¯RuntimeExceptionä»¥å¤–çš„å¼‚å¸¸ï¼Œç±»å‹ä¸Šéƒ½å±äºExceptionç±»åŠå…¶å­ç±»ã€‚ä»ç¨‹åºè¯­æ³•è§’åº¦è®²æ˜¯å¿…é¡»è¿›è¡Œå¤„ç†çš„å¼‚å¸¸ï¼Œ&lt;strong&gt;å¦‚æœä¸å¤„ç†ï¼Œç¨‹åºå°±ä¸èƒ½ç¼–è¯‘é€šè¿‡&lt;/strong&gt;ã€‚å¦‚IOExceptionã€SQLExceptionç­‰ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰çš„Exceptionå¼‚å¸¸ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€å¼‚å¸¸çš„æ•è·å’Œå¤„ç†&lt;/p&gt; 
&lt;p&gt;1ã€try catch finally&lt;/p&gt; 
&lt;p&gt;1ï¼‰å¯ä»¥ç»„æˆtry...catch...finallyã€try...catchã€try...finallyä¸‰ç§ç»“æ„ï¼Œ&lt;strong&gt;catchå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª&lt;/strong&gt;ï¼Œ&lt;strong&gt;finallyæœ€å¤šä¸€ä¸ª&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;2ï¼‰tryã€catchã€finallyä¸‰ä¸ªä»£ç å—ä¸­&lt;strong&gt;å˜é‡çš„ä½œç”¨åŸŸä¸ºä»£ç å—å†…éƒ¨&lt;/strong&gt;ï¼Œåˆ†åˆ«ç‹¬ç«‹è€Œä¸èƒ½ç›¸äº’è®¿é—®ã€‚å¦‚æœè¦åœ¨ä¸‰ä¸ªå—ä¸­éƒ½å¯ä»¥è®¿é—®ï¼Œåˆ™éœ€è¦å°†å˜é‡å®šä¹‰åˆ°è¿™äº›å—çš„å¤–é¢ã€‚&lt;/p&gt; 
&lt;p&gt;3ï¼‰å¤šä¸ªcatchå—æ—¶å€™ï¼Œ&lt;strong&gt;æœ€å¤šåªä¼šåŒ¹é…å…¶ä¸­ä¸€ä¸ªå¼‚å¸¸ç±»ä¸”åªä¼šæ‰§è¡Œè¯¥catchå—ä»£ç &lt;/strong&gt;ï¼Œè€Œä¸ä¼šå†æ‰§è¡Œå…¶å®ƒçš„catchå—ï¼Œä¸”åŒ¹é…catchè¯­å¥çš„é¡ºåºä¸ºä»ä¸Šåˆ°ä¸‹ï¼Œä¹Ÿå¯èƒ½æ‰€æœ‰çš„catchéƒ½æ²¡æ‰§è¡Œ&lt;/p&gt; 
&lt;p&gt;2ã€throwå’Œthrows&lt;/p&gt; 
&lt;p&gt;throwå…³é”®å­—ç”¨äº&lt;strong&gt;æ–¹æ³•ä½“å†…éƒ¨&lt;/strong&gt;ï¼Œç”¨æ¥æŠ›å‡ºä¸€ä¸ªThrowableç±»å‹çš„å¼‚å¸¸ã€‚å¦‚æœ&lt;strong&gt;æŠ›å‡ºäº†æ£€æŸ¥å¼‚å¸¸ï¼Œåˆ™åº”è¯¥åœ¨æ–¹æ³•å¤´éƒ¨å£°æ˜æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹&lt;/strong&gt;ï¼Œè¯¥æ–¹æ³•çš„è°ƒç”¨è€…å¿…é¡»å¤„ç†æˆ–ç»§ç»­æŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœ&lt;strong&gt;æ‰€æœ‰æ–¹æ³•éƒ½å±‚å±‚ä¸ŠæŠ›è·å–çš„å¼‚å¸¸ï¼Œæœ€ç»ˆJVMä¼šè¿›è¡Œå¤„ç†&lt;/strong&gt;ï¼Œå¤„ç†æ–¹å¼å°±æ˜¯æ‰“å°å¼‚å¸¸æ¶ˆæ¯å’Œå †æ ˆä¿¡æ¯ã€‚&lt;/p&gt; 
&lt;p&gt; throwså…³é”®å­—ç”¨äº&lt;strong&gt;æ–¹æ³•ä½“å¤–éƒ¨çš„æ–¹æ³•å£°æ˜éƒ¨åˆ†&lt;/strong&gt;ï¼Œç”¨æ¥å£°æ˜æ–¹æ³•å¯èƒ½ä¼šæŠ›å‡ºæŸäº›å¼‚å¸¸ã€‚ä»…å½“æŠ›å‡ºäº†æ£€æŸ¥å¼‚å¸¸ï¼Œè¯¥æ–¹æ³•çš„è°ƒç”¨è€…æ‰å¿…é¡»å¤„ç†æˆ–è€…é‡æ–°æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚å½“æ–¹æ³•çš„è°ƒç”¨è€…æ— åŠ›å¤„ç†è¯¥å¼‚å¸¸çš„æ—¶å€™ï¼Œåº”è¯¥ç»§ç»­æŠ›å‡ºã€‚&lt;/p&gt; 
&lt;h3&gt;Javaçš„æ–¹æ³•åˆ†æ´¾ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;æ–¹æ³•åˆ†æ´¾æŒ‡çš„æ˜¯è™šæ‹Ÿæœºå¦‚ä½•ç¡®å®šåº”è¯¥æ‰§è¡Œå“ªä¸ªæ–¹æ³•ã€‚&lt;/p&gt; 
&lt;p&gt;é™æ€åˆ†æ´¾ï¼ˆæ–¹æ³•é‡è½½ï¼‰ï¼šç¼–è¯‘å™¨ç¡®å®šï¼Œæ ¹æ®è°ƒç”¨è€…çš„å£°æ˜ç±»å‹å’Œæ–¹æ³•å‚æ•°ç±»å‹ã€‚&lt;/p&gt; 
&lt;p&gt;åŠ¨æ€åˆ†æ´¾ï¼ˆæ–¹æ³•é‡å†™ï¼‰ï¼šè¿è¡Œæ—¶ç¡®å®šï¼Œæ ¹æ®è°ƒç”¨è€…çš„å®é™…ç±»å‹åˆ†æ´¾ã€‚&lt;/p&gt; 
&lt;h3&gt;Serializableæ¥å£ä¸­serialVersionUIDçš„ä½œç”¨ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åœ¨åºåˆ—åŒ–çš„æ—¶å€™ç³»ç»Ÿå°†serialVersionUIDå†™å…¥åˆ°åºåˆ—åŒ–çš„æ–‡ä»¶ä¸­å»ï¼Œå½“ååºåˆ—åŒ–çš„æ—¶å€™ç³»ç»Ÿä¼šå…ˆå»æ£€æµ‹æ–‡ä»¶ä¸­çš„serialVersionUIDæ˜¯å¦è·Ÿå½“å‰ç±»çš„serialVersionUIDæ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™ååºåˆ—åŒ–æˆåŠŸï¼Œå¦åˆ™å°±è¯´æ˜å½“å‰ç±»è·Ÿåºåˆ—åŒ–åçš„ç±»å‘ç”Ÿäº†å˜åŒ–ï¼Œæ¯”å¦‚æ˜¯æˆå‘˜å˜é‡çš„æ•°é‡æˆ–è€…æ˜¯ç±»å‹å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆåœ¨ååºåˆ—åŒ–æ—¶å°±ä¼šå‘ç”Ÿcrashï¼Œå¹¶ä¸”æŠ¥é”™ã€‚&lt;/p&gt; 
&lt;h2 id=&quot;jvm&quot;&gt;JVM&lt;/h2&gt; 
&lt;h3&gt;å¼•ç”¨çš„å‡ ç§æ–¹å¼ï¼Ÿ&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt;å¼ºå¼•ç”¨ï¼šå¼ºå¼•ç”¨æ˜¯åœ¨ç¨‹åºä»£ç ä¹‹ä¸­æ™®éå­˜åœ¨çš„å¼•ç”¨èµ‹å€¼ï¼Œç±»ä¼¼&lt;code&gt;Object o = new Object()&lt;/code&gt;è¿™ç§å¼•ç”¨å…³ç³»ã€‚æ— è®ºä»»ä½•æƒ…å†µä¸‹ï¼Œåªè¦å¼ºå¼•ç”¨å…³ç³»è¿˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±&lt;strong&gt;æ°¸è¿œä¸ä¼šå›æ”¶&lt;/strong&gt;æ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚ &lt;/li&gt;
 &lt;li&gt;è½¯å¼•ç”¨ï¼šç”¨æ¥æè¿°ä¸€äº›è¿˜&lt;strong&gt;æœ‰ç”¨ä½†éå¿…é¡»&lt;/strong&gt;çš„å¯¹è±¡ã€‚åªè¢«è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡ï¼Œåœ¨ç³»ç»Ÿè¦&lt;strong&gt;å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸å‰ï¼Œä¼šæŠŠè¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡ŒäºŒæ¬¡å›æ”¶&lt;/strong&gt;ï¼Œå¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œæ‰ä¼šæŠ›å‡ºæº¢å‡ºå¼‚å¸¸ã€‚&lt;br/&gt;åº”ç”¨åœºæ™¯ï¼šåšç¼“å­˜ï¼ˆæµè§ˆå™¨çš„åé€€æŒ‰é’®ï¼‰ &lt;/li&gt;
 &lt;li&gt;å¼±å¼•ç”¨ï¼šä¹Ÿæ˜¯ç”¨æ¥æè¿°é‚£äº›&lt;strong&gt;éå¿…é¡»&lt;/strong&gt;å¯¹è±¡ï¼Œä½†å®ƒçš„å¼ºåº¦æ¯”è½¯å¼•ç”¨æ›´å¼±ä¸€äº›ï¼Œè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å‘ç”Ÿä¸ºæ­¢ã€‚å½“åƒåœ¾æ”¶é›†å™¨å¼€å§‹å·¥ä½œæ—¶ï¼Œ&lt;strong&gt;æ— è®ºå½“å‰å†…å­˜æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡&lt;/strong&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;è™šå¼•ç”¨ï¼šæœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»ï¼Œä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œ&lt;strong&gt;å®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“&lt;/strong&gt;ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚ä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨çš„å”¯ä¸€ç›®çš„åªæ˜¯ä¸ºäº†åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚ &lt;/li&gt;
&lt;/ol&gt; 
&lt;h3&gt;minorGCå’ŒMajorGCåˆ†åˆ«å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;minorGC:&lt;/p&gt; 
&lt;p&gt;1ï¼‰EdenåŒºæ»¡äº† 2ï¼‰æ–°åˆ›å»ºå¯¹è±¡çš„å¤§å°å¤§äºEdenæ‰€å‰©ä½™ç©ºé—´&lt;/p&gt; 
&lt;p&gt;majorGC:&lt;/p&gt; 
&lt;p&gt;1ï¼‰æ¯æ¬¡æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å¹³å‡å¤§å°è¶…è¿‡äº†è€å¹´ä»£å‰©ä½™ç©ºé—´&lt;/p&gt; 
&lt;p&gt;2ï¼‰minorGCåå­˜æ´»çš„å¯¹è±¡è¶…è¿‡äº†è€å¹´ä»£å‰©ä½™ç©ºé—´&lt;/p&gt; 
&lt;h3&gt;minor GCå’Œmajor GCçš„è¿‡ç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;minor GCï¼šåœ¨GCå¼€å§‹çš„æ—¶å€™ï¼Œå¯¹è±¡åªä¼šå­˜åœ¨äºEdenåŒºå’Œåä¸ºâ€œFromâ€çš„Sur&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=vivo&quot; target=&quot;_blank&quot;&gt;vivo&lt;/a&gt;råŒºï¼ŒSur&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=vivo&quot; target=&quot;_blank&quot;&gt;vivo&lt;/a&gt;råŒºâ€œToâ€æ˜¯ç©ºçš„ã€‚ç´§æ¥ç€è¿›è¡ŒGCï¼ŒEdenåŒºä¸­æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½ä¼šè¢«å¤åˆ¶åˆ°â€œToâ€ï¼Œè€Œåœ¨â€œFromâ€åŒºä¸­ï¼Œä»å­˜æ´»çš„å¯¹è±¡ä¼šæ ¹æ®ä»–ä»¬çš„å¹´é¾„å€¼æ¥å†³å®šå»å‘ã€‚å¹´é¾„è¾¾åˆ°ä¸€å®šå€¼(å¹´é¾„é˜ˆå€¼ï¼Œå¯ä»¥é€šè¿‡-XX:MaxTenuringThresholdæ¥è®¾ç½®)çš„å¯¹è±¡ä¼šè¢«ç§»åŠ¨åˆ°å¹´è€ä»£ä¸­ï¼Œæ²¡æœ‰è¾¾åˆ°é˜ˆå€¼çš„å¯¹è±¡ä¼šè¢«å¤åˆ¶åˆ°â€œToâ€åŒºåŸŸã€‚ç»è¿‡è¿™æ¬¡GCåï¼ŒEdenåŒºå’ŒFromåŒºå·²ç»è¢«æ¸…ç©ºã€‚è¿™ä¸ªæ—¶å€™ï¼Œâ€œFromâ€å’Œâ€œToâ€ä¼šäº¤æ¢ä»–ä»¬çš„è§’è‰²ï¼Œä¹Ÿå°±æ˜¯æ–°çš„â€œToâ€å°±æ˜¯ä¸Šæ¬¡GCå‰çš„â€œFromâ€ï¼Œæ–°çš„â€œFromâ€å°±æ˜¯ä¸Šæ¬¡GCå‰çš„â€œToâ€ã€‚ä¸ç®¡æ€æ ·ï¼Œéƒ½ä¼šä¿è¯åä¸ºToçš„Sur&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=vivo&quot; target=&quot;_blank&quot;&gt;vivo&lt;/a&gt;råŒºåŸŸæ˜¯ç©ºçš„ã€‚Minor GCä¼šä¸€ç›´é‡å¤è¿™æ ·çš„è¿‡ç¨‹ï¼Œç›´åˆ°â€œToâ€åŒºè¢«å¡«æ»¡ï¼Œâ€œToâ€åŒºè¢«å¡«æ»¡ä¹‹åï¼Œä¼šå°†æ‰€æœ‰å¯¹è±¡ç§»åŠ¨åˆ°å¹´è€ä»£ä¸­ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;major GCï¼šå‚è€ƒCMSçš„å·¥ä½œè¿‡ç¨‹ã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;åƒåœ¾æ”¶é›†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;åŠå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;1ã€æ ‡è®°-æ¸…é™¤&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;â€œæ ‡è®°-æ¸…é™¤â€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;æ˜¯æœ€åŸºç¡€çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Œåˆ†ä¸ºâ€œæ ‡è®°â€å’Œâ€œæ¸…é™¤â€ä¸¤ä¸ªé˜¶æ®µï¼š&lt;/span&gt;&lt;strong&gt;é¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œåœ¨æ ‡è®°å®Œæˆåç»Ÿä¸€å›æ”¶æ‰æ‰€æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ã€‚&lt;/strong&gt;&lt;br/&gt;ç¼ºç‚¹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ‰§è¡Œæ•ˆç‡ä¸ç¨³å®šï¼›æ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªè¿‡ç¨‹çš„æ‰§è¡Œæ•ˆç‡éšå¯¹è±¡æ•°é‡å¢é•¿è€Œé™ä½ã€‚ &lt;/li&gt;
 &lt;li&gt;å†…å­˜ç©ºé—´çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼›æ ‡è®°ã€æ¸…é™¤ä¹‹åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´å½“éœ€è¦åˆ†é…è¾ƒå¤§å¯¹è±¡æ—¶æ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„è¿ç»­ç©ºé—´è€Œä¸å¾—ä¸æå‰è§¦å‘å¦ä¸€æ¬¡åƒåœ¾æ”¶é›†åŠ¨ä½œã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;&lt;span&gt;2ã€æ ‡è®°-å¤åˆ¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼ˆé’ˆå¯¹æ–°ç”Ÿä»£ï¼‰&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;æ ‡è®°-å¤åˆ¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å°†å¯ç”¨å†…å­˜æŒ‰å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™å—çš„å†…å­˜ç”¨å®Œäº†ï¼Œå°±å°†è¿˜å­˜æ´»ç€çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å—ä¸Šé¢ï¼Œç„¶åå†æŠŠå·²ä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…ç†æ‰ã€‚&lt;/span&gt;&lt;br/&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;åˆ†é…å†…å­˜æ—¶ä¸ç”¨è€ƒè™‘ç©ºé—´ç¢ç‰‡çš„å¤æ‚æƒ…å†µï¼Œåªè¦ç§»åŠ¨å †é¡¶æŒ‡é’ˆï¼ŒæŒ‰é¡ºåºåˆ†é…å³å¯ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt; 
 
&lt;p&gt;&lt;span&gt;3ã€æ ‡è®°-æ•´ç†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼ˆé’ˆå¯¹è€å¹´ä»£ï¼‰&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;å¤åˆ¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;åœ¨å¯¹è±¡å­˜æ´»ç‡è¾ƒé«˜æ—¶å°±éœ€è¦æ‰§è¡Œè¾ƒå¤šçš„å¤åˆ¶æ“ä½œï¼Œæ•ˆç‡å°†ä¼šå˜ä½ã€‚æ›´å…³é”®çš„æ˜¯ï¼Œå¦‚æœä¸æƒ³æµªè´¹50%çš„ç©ºé—´ï¼Œå°±éœ€è¦æœ‰é¢å¤–çš„ç©ºé—´è¿›è¡Œåˆ†é…æ‹…ä¿ï¼Œä»¥åº”å¯¹è¢«ä½¿ç”¨çš„å†…å­˜ä¸­æ‰€æœ‰å¯¹è±¡éƒ½100%å­˜æ´»çš„æç«¯æƒ…å†µï¼Œæ‰€ä»¥åœ¨è€å¹´ä»£ä¸€èˆ¬ä¸èƒ½ç›´æ¥é€‰ç”¨å¤åˆ¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ã€‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;æ ¹æ®è€å¹´ä»£çš„ç‰¹ç‚¹æå‡ºäº†â€œæ ‡è®°-æ•´ç†â€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Œæ ‡è®°è¿‡ç¨‹ä»ç„¶ä¸â€œæ ‡è®°-æ¸…é™¤â€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ä¸€æ ·ï¼Œä½†åç»­æ­¥éª¤ä¸æ˜¯ç›´æ¥å¯¹å¯å›æ”¶å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œè€Œæ˜¯è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½å‘ç©ºé—´ä¸€ç«¯ç§»åŠ¨ï¼Œç„¶åç›´æ¥æ¸…ç†æ‰è¾¹ç•Œä»¥å¤–çš„å†…å­˜ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ ‡è®°-æ¸…é™¤&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ä¸æ ‡è®°-æ•´ç†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;çš„æœ¬è´¨å·®å¼‚åœ¨äºå‰è€…æ˜¯ä¸€ç§éç§»åŠ¨å¼çš„å›æ”¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Œè€Œåè€…æ˜¯ç§»åŠ¨å¼çš„&lt;/span&gt;&lt;/strong&gt;ã€‚æ˜¯å¦ç§»åŠ¨å¯¹è±¡éƒ½å­˜åœ¨å¼Šç«¯ï¼Œç§»åŠ¨å¯¹è±¡æ“ä½œå¿…é¡»å…¨ç¨‹æš‚åœç”¨æˆ·åº”ç”¨ç¨‹åºæ‰èƒ½è¿›è¡Œ(&quot;Stop The World&quot;)ï¼Œä¸ç§»åŠ¨å¯¹è±¡ä¼šå½±å“åº”ç”¨ç¨‹åºçš„ååé‡ã€‚&lt;/p&gt; 
&lt;h3&gt;CMSæ”¶é›†å™¨æ˜¯æ€æ ·çš„ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;CMSï¼ˆConcurrent Mark Sweepï¼‰æ”¶é›†å™¨æ˜¯ä¸€ç§&lt;strong&gt;ä»¥è·å–æœ€çŸ­å›æ”¶åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨&lt;/strong&gt;ï¼ŒåŸºäº&lt;strong&gt;æ ‡è®°-æ¸…é™¤&lt;/strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å®ç°ï¼Œæ˜¯ä¸€æ¬¾&lt;/span&gt;&lt;strong&gt;è€å¹´ä»£æ”¶é›†å™¨&lt;/strong&gt;ï¼Œå®ƒéå¸¸ç¬¦åˆé‚£äº›é›†ä¸­åœ¨äº’è”ç½‘ç«™æˆ–è€…B/Sç³»ç»Ÿçš„æœåŠ¡ç«¯ä¸Šçš„Javaåº”ç”¨ï¼Œè¿™äº›åº”ç”¨éƒ½éå¸¸é‡è§†æœåŠ¡çš„å“åº”é€Ÿåº¦ã€‚&lt;br/&gt;æ•´ä¸ªå·¥ä½œæµç¨‹åŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;&lt;strong&gt;åˆå§‹æ ‡è®°&lt;/strong&gt;ï¼šä»…ä»…æ ‡è®°GC Rootsèƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œéœ€è¦&lt;strong&gt;â€œStop The Worldâ€&lt;/strong&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;å¹¶å‘æ ‡è®°&lt;/strong&gt;ï¼šä»GC Rootsçš„ç›´æ¥å…³è”å¯¹è±¡å¼€å§‹éå†æ•´ä¸ªå¯¹è±¡å›¾çš„è¿‡ç¨‹ï¼Œè€—æ—¶è¾ƒé•¿ä½†ä¸éœ€è¦åœé¡¿ç”¨æˆ·çº¿ç¨‹ï¼Œå¯ä»¥ä¸åƒåœ¾æ”¶é›†çº¿ç¨‹ä¸€èµ·å¹¶å‘è¿è¡Œã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;é‡æ–°æ ‡è®°&lt;/strong&gt;ï¼šä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´å› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•ï¼Œéœ€è¦&lt;strong&gt;â€œStop The Worldâ€&lt;/strong&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;å¹¶å‘æ¸…é™¤&lt;/strong&gt;ï¼šæ¸…ç†åˆ é™¤æ ‡è®°é˜¶æ®µåˆ¤æ–­çš„å·²ç»æ­»äº¡çš„å¯¹è±¡ï¼Œä¸éœ€è¦ç§»åŠ¨å­˜æ´»å¯¹è±¡ï¼Œå¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹åŒæ—¶å¹¶å‘ã€‚ &lt;/li&gt;
&lt;/ol&gt; 
&lt;p&gt;ç”±äºæ•´ä¸ªè¿‡ç¨‹ä¸­è€—æ—¶æœ€é•¿çš„å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤è¿‡ç¨‹æ”¶é›†å™¨çº¿ç¨‹éƒ½å¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œæ‰€ä»¥ï¼Œä»æ€»ä½“ä¸Šæ¥è¯´ï¼ŒCMSæ”¶é›†å™¨çš„å†…å­˜å›æ”¶è¿‡ç¨‹æ˜¯ä¸ç”¨æˆ·çº¿ç¨‹ä¸€èµ·å¹¶å‘æ‰§è¡Œçš„ã€‚&lt;/p&gt; 
&lt;p&gt;ä¼˜ç‚¹ï¼šå¹¶å‘æ”¶é›†ã€åœé¡¿ä½&lt;/p&gt; 
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;å¯¹CPUèµ„æºæ•æ„Ÿï¼Œæ€»ååé‡ä¼šé™ä½ &lt;/li&gt;
 &lt;li&gt;æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ &lt;/li&gt;
 &lt;li&gt;&lt;span&gt;æ ‡è®°-æ¸…é™¤&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å¯¼è‡´ç©ºé—´ç¢ç‰‡ &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt; 
&lt;h3&gt;ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°OOMï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;OOM--OutOfMemoryErrorï¼Œå½“JVMå› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥ä¸ºå¯¹è±¡åˆ†é…ç©ºé—´ï¼Œå¹¶ä¸”åƒåœ¾å›æ”¶å™¨ä¹Ÿå·²ç»æ²¡æœ‰ç©ºé—´å¯å›æ”¶æ—¶ï¼Œå°±ä¼šæŠ›å‡ºè¿™ä¸ªerrorã€‚&lt;/p&gt; 
&lt;p&gt;ä¸€ã€åŸå› ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€ä¸ºè™šæ‹Ÿæœºåˆ†é…çš„å†…å­˜å¤ªå°‘&lt;/p&gt; 
&lt;p&gt;2ã€åº”ç”¨ç”¨çš„å¤ªå¤šï¼Œå¹¶ä¸”ç”¨å®Œæ²¡é‡Šæ”¾ï¼Œæ­¤æ—¶å°±ä¼šé€ æˆå†…å­˜æ³„éœ²æˆ–è€…å†…å­˜æº¢å‡º&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;å†…å­˜æ³„éœ²ï¼šç”³è¯·çš„å†…å­˜åœ¨è¢«ä½¿ç”¨å®Œåæ²¡æœ‰é‡Šæ”¾ï¼Œå¯¼è‡´è™šæ‹Ÿæœºä¸èƒ½å†æ¬¡ä½¿ç”¨è¯¥å†…å­˜ &lt;/li&gt;
 &lt;li&gt;å†…å­˜æº¢å‡ºï¼šç”³è¯·çš„å†…å­˜è¶…å‡ºäº†JVMèƒ½æä¾›çš„å†…å­˜å¤§å° &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;å¤§é‡çš„å†…å­˜æ³„éœ²å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€å‡ºç°OOMæ—¶çš„åˆ†ææ–¹æ³•&lt;/p&gt; 
&lt;p&gt;Javaå †å†…å­˜çš„OOMå¼‚å¸¸æ˜¯å®é™…åº”ç”¨ä¸­å¸¸è§çš„å†…å­˜æº¢å‡ºå¼‚å¸¸æƒ…å†µï¼Œè¦è§£å†³è¿™ä¸ªåŒºåŸŸçš„å¼‚å¸¸ï¼Œä¸€èˆ¬çš„æ‰‹æ®µæ˜¯å…ˆé€šè¿‡&lt;strong&gt;å†…å­˜æ˜ åƒåˆ†æå·¥å…·&lt;/strong&gt;ï¼ˆå¦‚Eclipse Memory Analyzerï¼‰å¯¹Dumpå‡ºæ¥çš„&lt;strong&gt;å †è½¬å‚¨å¿«ç…§&lt;/strong&gt;è¿›è¡Œåˆ†æï¼Œé‡ç‚¹æ˜¯ç¡®è®¤å†…å­˜ä¸­çš„å¯¹è±¡æ˜¯å¦æ˜¯å¿…è¦çš„ï¼Œä¹Ÿå°±æ˜¯è¦å…ˆåˆ†æ¸…é™¤åˆ°åº•æ˜¯å‡ºç°äº†å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰è¿˜æ˜¯å†…å­˜æº¢å‡ºï¼ˆMemory Overflowï¼‰ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€OOMçš„è§£å†³æ–¹æ³•&lt;/p&gt; 
&lt;p&gt;1ã€å¦‚æœæ˜¯å†…å­˜æ³„æ¼ï¼Œå¯è¿›ä¸€æ­¥é€šè¿‡å·¥å…·æŸ¥çœ‹æ³„æ¼å¯¹è±¡åˆ°GC Rootsçš„&lt;strong&gt;å¼•ç”¨é“¾&lt;/strong&gt;ã€‚äºæ˜¯å°±èƒ½æ‰¾åˆ°æ³„éœ²å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„è·¯å¾„ä¸GC Rootsç›¸å…³è”å¹¶å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•è‡ªåŠ¨å›æ”¶ä»–ä»¬çš„ã€‚æŒæ¡äº†æ³„æ¼å¯¹è±¡çš„ç±»å‹ä¿¡æ¯åŠGC Rootså¼•ç”¨é“¾çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥æ¯”è¾ƒå‡†ç¡®çš„å®šä½å‡ºæ³„æ¼ä»£ç çš„ä½ç½®ã€‚&lt;br/&gt;2ã€å¦‚æœä¸å­˜åœ¨æ³„æ¼ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯å†…å­˜ä¸­çš„å¯¹è±¡ç¡®å®è¿˜å¿…é¡»å­˜æ´»ç€ï¼Œé‚£å°±åº”å½“æ£€æŸ¥è™šæ‹Ÿæœºçš„å †å‚æ•°ï¼ˆ-Xmxä¸-Xmsï¼‰ï¼Œä¸æœºå™¨ç‰©ç†å†…å­˜å¯¹æ¯”çœ‹æ˜¯å¦è¿˜æœ‰å‘ä¸Šè°ƒæ•´çš„ç©ºé—´ã€‚å†ä»ä»£ç ä¸Šæ£€æŸ¥æ˜¯å¦å­˜åœ¨æŸäº›å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè¿‡é•¿ã€æŒæœ‰çŠ¶æ€æ—¶é—´è¿‡é•¿ã€å­˜å‚¨ç»“æ„è®¾è®¡ä¸åˆç†ç­‰æƒ…å†µï¼Œå°½é‡å‡å°‘ç¨‹åºè¿è¡ŒæœŸçš„å†…å­˜æ¶ˆè€—ã€‚&lt;/p&gt; 
&lt;h3&gt;Javaç±»åŠ è½½æœºåˆ¶&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ç±»åŠ è½½çš„æ—¶æœº&lt;/p&gt; 
&lt;p&gt;1ã€éšå¼åŠ è½½ï¼šnewåˆ›å»ºç±»çš„å®ä¾‹&lt;/p&gt; 
&lt;p&gt;2ã€æ˜¾ç¤ºåŠ è½½ï¼šloaderClassã€forName&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;forNameå’ŒloaderClassåŒºåˆ«ï¼Ÿ&lt;/p&gt; 
 &lt;ul&gt; 
  &lt;li&gt;Class.forName()å¾—åˆ°çš„classæ˜¯å·²ç»åˆå§‹åŒ–å®Œæˆçš„ &lt;/li&gt;
  &lt;li&gt;ClassLoader.loadClass()å¾—åˆ°çš„classæ˜¯è¿˜æ²¡æœ‰é“¾æ¥çš„ &lt;/li&gt;
 &lt;/ul&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;3ã€è®¿é—®ç±»çš„é™æ€å˜é‡ï¼Œæˆ–è€…ä¸ºé™æ€å˜é‡èµ‹å€¼&lt;/p&gt; 
&lt;p&gt;4ã€è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•&lt;/p&gt; 
&lt;p&gt;5ã€ä½¿ç”¨åå°„åˆ›å»ºæŸä¸ªç±»æˆ–è€…æ¥å£çš„Classå¯¹è±¡&lt;/p&gt; 
&lt;p&gt;6ã€åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»&lt;/p&gt; 
&lt;p&gt;7ã€ç›´æ¥ä½¿ç”¨java.exeå‘½ä»¤æ¥è¿è¡ŒæŸä¸ªç±»&lt;/p&gt; 
&lt;p&gt;äºŒã€ç±»åŠ è½½çš„è¿‡ç¨‹&lt;/p&gt; 
&lt;p&gt;å½“éœ€è¦æŸä¸ªç±»çš„æ—¶å€™ï¼Œjvmä¼šåŠ è½½.classæ–‡ä»¶ï¼Œå¹¶åˆ›å»ºå¯¹åº”çš„classå¯¹è±¡ï¼Œå°†classæ–‡ä»¶åŠ è½½åˆ°è™šæ‹Ÿæœºçš„å†…å­˜ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºç±»çš„åŠ è½½ã€‚&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;åŠ è½½ï¼šClassLoaderé€šè¿‡å…¨ç±»åæŸ¥æ‰¾ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¹¶åˆ›å»ºä¸€ä¸ªclasså¯¹è±¡ &lt;/li&gt;
 &lt;li&gt;é“¾æ¥
  &lt;ul&gt; 
   &lt;li&gt;éªŒè¯ &lt;/li&gt;
   &lt;li&gt;å‡†å¤‡ï¼šä¸ºç±»å˜é‡ï¼ˆstaticä¿®é¥°ï¼‰åˆ†é…å†…å­˜å¹¶èµ‹åˆå§‹å€¼
    &lt;ul&gt; 
     &lt;li&gt;static int i = 5è¿™é‡Œåªæ˜¯å°†ièµ‹å€¼ä¸º0ï¼Œåˆå§‹åŒ–çš„é˜¶æ®µå†æŠŠièµ‹å€¼ä¸º5 &lt;/li&gt;
     &lt;li&gt;ä¸åŒ…å«finalä¿®é¥°çš„staticï¼Œå› ä¸ºfinalåœ¨ç¼–è¯‘çš„æ—¶å€™å°±å·²ç»åˆ†é…äº† &lt;/li&gt;
    &lt;/ul&gt; &lt;/li&gt;
   &lt;li&gt;è§£æ &lt;/li&gt;
  &lt;/ul&gt; &lt;/li&gt;
 &lt;li&gt;åˆå§‹åŒ–ï¼šå¦‚æœè¯¥ç±»æœ‰çˆ¶ç±»å°±å¯¹çˆ¶ç±»è¿›è¡Œåˆå§‹åŒ– &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;ä¸‰ã€åŒäº²å§”æ´¾æ¨¡å¼&lt;/p&gt; 
&lt;p&gt;1ã€åŸç†ï¼š&lt;/p&gt; 
&lt;p&gt;åŒäº²å§”æ´¾æ¨¡å¼è¦æ±‚é™¤äº†é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ä¹‹å¤–ï¼Œå…¶ä½™çš„&lt;strong&gt;ç±»åŠ è½½å™¨éƒ½åº”è¯¥æœ‰è‡ªå·±çš„çˆ¶ç±»åŠ è½½å™¨&lt;/strong&gt;ï¼Œä½†æ˜¯åœ¨åŒäº²å§”æ´¾æ¨¡å¼ä¸­çˆ¶å­å…³ç³»é‡‡å–çš„å¹¶ä¸æ˜¯ç»§æ‰¿çš„å…³ç³»è€Œæ˜¯ç»„åˆæ¥å¤ç”¨çˆ¶ç±»åŠ è½½å™¨çš„ç›¸å…³ä»£ç ã€‚&lt;/p&gt; 
&lt;p&gt;å¦‚æœä¸€ä¸ªç±»æ”¶åˆ°äº†ç±»åŠ è½½çš„è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨å»æ‰§è¡Œï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜æœ‰çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ååˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶ç±»èƒ½å¤Ÿå®Œæˆç±»çš„åŠ è½½ä»»åŠ¡ï¼Œå°±ä¼šæˆåŠŸè¿”å›ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆä»»åŠ¡ï¼Œå­ç±»åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ã€‚&lt;/p&gt; 
&lt;p&gt;é€šä¿—ç†è§£ï¼šæ¯ä¸ªå„¿å­éƒ½å¾ˆæ‡’ï¼Œé‡åˆ°ç±»åŠ è½½çš„æ´»éƒ½ç»™çˆ¸çˆ¸å¹²ï¼Œç›´åˆ°çˆ¸çˆ¸è¯´æˆ‘ä¹Ÿåšä¸æ¥çš„æ—¶å€™ï¼Œå„¿å­æ‰ä¼šæƒ³åŠæ³•è‡ªå·±å»åŠ è½½ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€ä¼˜ç‚¹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;é¿å…ç±»çš„é‡å¤åŠ è½½ï¼šçˆ¶ç±»åŠ è½½å™¨å·²ç»åŠ è½½è¯¥ç±»åå­ç±»åŠ è½½å™¨å°±æ²¡å¿…è¦å†åŠ è½½ä¸€æ¬¡ &lt;/li&gt;
 &lt;li&gt;å®‰å…¨æ€§ï¼šé˜²æ­¢æ ¸å¿ƒAPIåº“è¢«ç¯¡æ”¹ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;å››ã€å¦‚ä½•ç ´ååŒäº²å§”æ´¾æœºåˆ¶ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨é‡å†™loadClass()æ–¹æ³•ï¼Œå¦‚æœä¸æƒ³ç ´ååŒäº²å§”æ´¾ï¼Œé‚£ä¹ˆé‡å†™findClass()æ–¹æ³•ã€‚&lt;/p&gt; 
&lt;p&gt;äº”ã€NoClassDefFoundError å’Œ ClassNotFoundException æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€ClassNotFoundExceptionï¼šå½“åº”ç”¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­å°è¯•ä½¿ç”¨&lt;strong&gt;ç±»åŠ è½½å™¨å»åŠ è½½Classæ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰åœ¨classpathä¸­æŸ¥æ‰¾åˆ°æŒ‡å®šçš„ç±»&lt;/strong&gt;ï¼Œå°±ä¼šæŠ›å‡ºClassNotFoundExceptionã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Class.forName()æˆ–è€…ClassLoader.loadClass()ä»¥åŠä½¿ç”¨ClassLoader.findSystemClass()åœ¨è¿è¡Œæ—¶åŠ è½½ç±»çš„æ—¶å€™ï¼Œå¦‚æœç±»æ²¡æœ‰è¢«æ‰¾åˆ°ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´JVMæŠ›å‡ºClassNotFoundExceptionã€‚&lt;/p&gt; 
&lt;p&gt;2ã€NoClassDefFoundErrorï¼šå½“JVMåœ¨åŠ è½½ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ª&lt;strong&gt;ç±»åœ¨ç¼–è¯‘æ—¶æ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶æ‰¾ä¸åˆ°è¿™ä¸ªç±»çš„å®šä¹‰&lt;/strong&gt;çš„æ—¶å€™ï¼ŒJVMå°±ä¼šæŠ›å‡ºä¸€ä¸ªNoClassDefFoundErroré”™è¯¯ã€‚æ¯”å¦‚å½“æˆ‘ä»¬åœ¨newä¸€ä¸ªç±»çš„å®ä¾‹çš„æ—¶å€™ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶ç±»æ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªNoClassDefFoundErrorçš„é”™è¯¯ã€‚&lt;/p&gt; 
&lt;h3&gt;Javaå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹&lt;/h3&gt; 
&lt;p&gt;1ã€åˆ†é…å†…å­˜&lt;/p&gt; 
&lt;p&gt;2ã€åˆå§‹åŒ–&lt;/p&gt; 
 
&lt;h3&gt;Javaå†…å­˜åˆ†åŒºï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€ç¨‹åºè®¡æ•°å™¨ï¼šæ‰§è¡Œå­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ï¼Œçº¿ç¨‹ç§æœ‰ï¼Œæ²¡æœ‰OOM&lt;/p&gt; 
&lt;p&gt;2ã€Javaè™šæ‹Ÿæœºæ ˆï¼šå­˜å±€éƒ¨å˜é‡è¡¨ã€æ ˆå¸§ï¼Œçº¿ç¨‹ç§æœ‰&lt;/p&gt; 
&lt;p&gt;3ã€æœ¬åœ°æ–¹æ³•æ ˆ&lt;/p&gt; 
&lt;p&gt;4ã€Javaå †ï¼šGCå †ï¼Œå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œæ‰€æœ‰çº¿ç¨‹å…±äº«&lt;/p&gt; 
&lt;p&gt;5ã€æ–¹æ³•åŒºï¼šå¸¸é‡æ± å­˜åœ¨æ–¹æ³•åŒºï¼Œæ‰€æœ‰çº¿ç¨‹å…±äº«&lt;/p&gt; 
&lt;h2&gt;&lt;span&gt;æ•°æ®ç»“æ„ä¸&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt; 
&lt;h3&gt;LinkedListå’ŒArrayListçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€æ•°æ®ç»“æ„ä¸åŒ&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ArrayListæ˜¯åŸºäºæ•°ç»„çš„æ•°æ®ç»“æ„ï¼ŒLinkedListæ˜¯åŸºäº&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;çš„æ•°æ®ç»“æ„&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;2ã€æ•ˆç‡ä¸åŒ&lt;/p&gt; 
&lt;p&gt;å½“éšæœºè®¿é—®Listï¼ˆgetå’Œsetæ“ä½œï¼‰æ—¶ï¼ŒArrayListæ¯”LinkedListçš„æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºLinkedListæ˜¯çº¿æ€§çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œæ‰€ä»¥éœ€è¦ç§»åŠ¨æŒ‡é’ˆä»å‰å¾€åä¾æ¬¡æŸ¥æ‰¾ã€‚&lt;/p&gt; 
&lt;p&gt;å½“å¯¹æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤çš„æ“ä½œ(addå’Œremoveæ“ä½œ)æ—¶ï¼ŒLinkedListæ¯”ArrayListçš„æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºArrayListæ˜¯æ•°ç»„ï¼Œæ‰€ä»¥åœ¨å…¶ä¸­è¿›è¡Œå¢åˆ æ“ä½œæ—¶ï¼Œä¼šå¯¹æ“ä½œç‚¹ä¹‹åæ‰€æœ‰æ•°æ®çš„ä¸‹æ ‡ç´¢å¼•é€ æˆå½±å“ï¼Œéœ€è¦è¿›è¡Œæ•°æ®çš„ç§»åŠ¨ã€‚&lt;/p&gt; 
&lt;p&gt;3ã€è‡ªç”±æ€§ä¸åŒ&lt;/p&gt; 
&lt;p&gt;ArrayListè‡ªç”±æ€§è¾ƒä½ï¼Œå› ä¸ºå®ƒéœ€è¦æ‰‹åŠ¨çš„è®¾ç½®å›ºå®šå¤§å°çš„å®¹é‡ï¼ˆé»˜è®¤åˆå§‹å®¹é‡ä¸º10ï¼‰ï¼Œä½†æ˜¯å®ƒçš„ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œåªéœ€è¦åˆ›å»ºï¼Œç„¶åæ·»åŠ æ•°æ®ï¼Œé€šè¿‡è°ƒç”¨ä¸‹æ ‡è¿›è¡Œä½¿ç”¨ï¼›&lt;/p&gt; 
&lt;p&gt;LinkedListè‡ªç”±æ€§è¾ƒé«˜ï¼Œèƒ½å¤ŸåŠ¨æ€çš„éšæ•°æ®é‡çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä½†æ˜¯å®ƒä¸ä¾¿äºä½¿ç”¨ã€‚&lt;/p&gt; 
&lt;p&gt;4ã€ä¸»è¦æ§ä»¶å¼€é”€ä¸åŒ&lt;/p&gt; 
&lt;p&gt;ArrayListä¸»è¦æ§ä»¶å¼€é”€åœ¨äºéœ€è¦åœ¨Liståˆ—è¡¨é¢„ç•™ä¸€å®šç©ºé—´ï¼›&lt;/p&gt; 
&lt;p&gt;LinkListä¸»è¦æ§ä»¶å¼€é”€åœ¨äºéœ€è¦å­˜å‚¨ç»“ç‚¹ä¿¡æ¯ä»¥åŠç»“ç‚¹æŒ‡é’ˆä¿¡æ¯ã€‚&lt;/p&gt; 
&lt;h3&gt;HashMapå’ŒHashtableçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€Hashtableå‡ºç°çš„æ—¶é—´æ—©ï¼ˆJDK1.0ï¼‰ï¼ŒHashMapå‡ºç°çš„æ—¶é—´æ™šï¼ˆJDK1.2ï¼‰&lt;/p&gt; 
&lt;p&gt;2ã€Hashtableç»§æ‰¿Dictionaryç±»ï¼ˆå·²åºŸå¼ƒï¼‰ï¼ŒHashMapå®ç°Mapæ¥å£&lt;/p&gt; 
&lt;p&gt;3ã€Hashtableçº¿ç¨‹å®‰å…¨ä½†æ•ˆç‡ä½ï¼ŒHashMapéçº¿ç¨‹å®‰å…¨ä½†æ•ˆç‡é«˜&lt;/p&gt; 
&lt;p&gt;4ã€&lt;strong&gt;HashMapå¯ä»¥å­˜å‚¨nullé”®å’Œnullå€¼ï¼ŒHashtableä¸å¯ä»¥å­˜å‚¨nullé”®å’Œnullå€¼&lt;/strong&gt;&lt;/p&gt; 
&lt;h3&gt;Bæ ‘å’ŒB+æ ‘çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€Bæ ‘çš„æ¯ä¸ªç»“ç‚¹éƒ½å­˜å‚¨äº†keyå’Œdataï¼ŒB+æ ‘çš„dataå­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼ŒèŠ‚ç‚¹ä¸å­˜å‚¨dataï¼Œè¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹å°±å¯ä»¥å­˜å‚¨æ›´å¤šçš„keyã€‚å¯ä»¥ä½¿å¾—æ ‘æ›´çŸ®ï¼Œæ‰€ä»¥IOæ“ä½œæ¬¡æ•°æ›´å°‘ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€B+æ ‘çš„æ‰€æœ‰å¶ç»“ç‚¹æ„æˆä¸€ä¸ª&lt;strong&gt;&lt;span&gt;æœ‰åº&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå¯ä»¥æŒ‰ç…§å…³é”®ç &lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;çš„æ¬¡åºéå†å…¨éƒ¨è®°å½•ï¼Œç”±äºæ•°æ®é¡ºåºæ’åˆ—å¹¶ä¸”ç›¸è¿ï¼Œæ‰€ä»¥&lt;/span&gt;&lt;strong&gt;ä¾¿äºåŒºé—´æŸ¥æ‰¾å’Œæœç´¢&lt;/strong&gt;ã€‚è€ŒBæ ‘åˆ™éœ€è¦è¿›è¡Œæ¯ä¸€å±‚çš„é€’å½’éå†ã€‚ç›¸é‚»çš„å…ƒç´ å¯èƒ½åœ¨å†…å­˜ä¸­ä¸ç›¸é‚»ï¼Œæ‰€ä»¥ç¼“å­˜å‘½ä¸­æ€§æ²¡æœ‰B+æ ‘å¥½ã€‚&lt;/p&gt; 
&lt;h3&gt;JDK1.8ä¸­HashMapçš„get()å’Œput()æ–¹æ³•å¦‚ä½•å®ç°çš„ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;putæ–¹æ³•ï¼š&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;åˆ¤æ–­å½“å‰æ¡¶æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºåˆ™éœ€è¦åˆå§‹åŒ–ï¼ˆresizeå¯ä»¥åˆå§‹åŒ–æ¡¶æ•°ç»„æˆ–è€…è¿›è¡Œæ‰©å®¹ï¼‰ &lt;/li&gt;
 &lt;li&gt;æ ¹æ®å½“å‰keyçš„hashcodeå®šä½åˆ°å…·ä½“çš„æ¡¶ä¸­å¹¶åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¡¨æ˜æ²¡æœ‰Hashå†²çªå°±ç›´æ¥åœ¨å½“å‰ä½ç½®åˆ›å»ºä¸€ä¸ªæ¡¶å³å¯ &lt;/li&gt;
 &lt;li&gt;å¦‚æœå½“å‰æ¡¶æœ‰å€¼(Hashå†²çª)ï¼Œé‚£ä¹ˆå°±è¦æ¯”è¾ƒå½“å‰æ¡¶ä¸­çš„keyã€keyçš„hashcodeä¸å†™å…¥çš„keyæ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰å°±èµ‹å€¼ç»™eï¼Œä¹‹åä¼šç»Ÿä¸€è¿›è¡Œèµ‹å€¼åŠè¿”å› &lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å¦‚æœå½“å‰æ¡¶ä¸º&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;ï¼Œé‚£å°±æŒ‰ç…§&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;çš„æ–¹å¼å†™å…¥æ•°æ® &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å¦‚æœæ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;ï¼Œå°±éœ€è¦å°†å½“å‰çš„keyã€valueå°è£…æˆä¸€ä¸ªæ–°èŠ‚ç‚¹å†™å…¥åˆ°å½“å‰æ¡¶çš„åé¢(å½¢æˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;) &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;æ¥ç€åˆ¤æ–­å½“å‰&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;çš„å¤§å°æ˜¯å¦å¤§äºé˜ˆå€¼ï¼Œå¤§äºæ—¶è¦è½¬æ¢ä¸º&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt; &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;å¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­æ‰¾åˆ°keyå’Œhashcodeå‡ç›¸åŒæ—¶ç›´æ¥é€€å‡ºéå† &lt;/li&gt;
 &lt;li&gt;å¦‚æœeä¸ä¸ºç©ºåˆ™å­˜åœ¨ç›¸åŒçš„keyå’Œhashcodeï¼Œå°±éœ€è¦å°†å€¼è¦†ç›– &lt;/li&gt;
 &lt;li&gt;æœ€ååˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹ &lt;/li&gt;
&lt;/ol&gt; 
&lt;p&gt;getæ–¹æ³•ï¼š&lt;/p&gt; 
&lt;ol&gt; 
 &lt;li&gt;å°†key hashä¹‹åå–å¾—æ‰€å®šä½çš„æ¡¶ &lt;/li&gt;
 &lt;li&gt;å¦‚æœæ¡¶ä¸ºç©ºåˆ™ç›´æ¥è¿”å›null &lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å¦åˆ™åˆ¤æ–­æ¡¶çš„ç¬¬ä¸€ä¸ªä½ç½®(å¯èƒ½æ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;æˆ–&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;)çš„keyå’Œhashcodeæ˜¯ä¸æ˜¯è¦æŸ¥æ‰¾çš„ï¼Œå¦‚æœæ˜¯è¿”å›è¯¥node &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å¦‚æœç¬¬ä¸€ä¸ªnodeä¸åŒ¹é…ï¼Œåˆ™åˆ¤æ–­å®ƒçš„ä¸‹ä¸€ä¸ªæ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;è¿˜æ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt; &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;å°±æŒ‰ç…§æ ‘çš„æŸ¥æ‰¾æ–¹å¼è¿”å›å€¼ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å¦åˆ™å°±æŒ‰ç…§&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;çš„æ–¹å¼éå†åŒ¹é…è¿”å›å€¼ &lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt; 
&lt;h3&gt;HashMapä¸ºä»€ä¹ˆéçº¿ç¨‹å®‰å…¨ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;HashMapåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œåœ¨putçš„æ—¶å€™ï¼Œæ’å…¥çš„å…ƒç´ è¶…è¿‡äº†å®¹é‡ï¼ˆç”±è´Ÿè½½å› å­å†³å®šï¼‰çš„èŒƒå›´å°±ä¼šè§¦å‘æ‰©å®¹æ“ä½œï¼Œå°±æ˜¯rehashï¼Œè¿™ä¸ªä¼šé‡æ–°å°†åŸæ•°ç»„çš„å†…å®¹&lt;strong&gt;é‡æ–°hashåˆ°æ–°çš„æ‰©å®¹æ•°ç»„&lt;/strong&gt;&lt;span&gt;ä¸­ï¼Œåœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹ï¼ŒåŒæ—¶å­˜åœ¨å…¶ä»–çš„å…ƒç´ ä¹Ÿåœ¨è¿›è¡Œputæ“ä½œï¼Œå¦‚æœhashå€¼ç›¸åŒï¼Œå¯èƒ½å‡ºç°åŒæ—¶åœ¨åŒä¸€æ•°ç»„ä¸‹ç”¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;è¡¨ç¤ºï¼Œé€ æˆ&lt;/span&gt;&lt;strong&gt;é—­ç¯&lt;/strong&gt;ï¼Œå¯¼è‡´åœ¨getæ—¶ä¼šå‡ºç°&lt;strong&gt;æ­»å¾ªç¯&lt;/strong&gt;ï¼Œæ‰€ä»¥HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;JDK1.8å¯¹hash&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å’Œå¯»å€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;1ã€hash&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼šJDK1.7ä¸­é€šè¿‡key.hashcode()å¾—åˆ°å…³é”®å­—çš„hashå€¼ï¼ŒJDK1.8å°†hashå€¼çš„&lt;/span&gt;&lt;strong&gt;é«˜16ä½ä¸ä½16ä½è¿›è¡Œå¼‚æˆ–è¿ç®—&lt;/strong&gt;ï¼Œä½¿å¾—hashå€¼çš„ä½16ä½åŒæ—¶ä¿ç•™é«˜16ä½å’Œä½16ä½çš„ç‰¹å¾ï¼Œå¯¹äºä¸¤ä¸ªhashå€¼ä½16ä½ç›¸ç­‰ï¼Œé«˜16ä½ä¸ç­‰çš„æƒ…å†µï¼Œ&lt;strong&gt;å‡å°‘hashå†²çª&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€å¯»å€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼šJDK1.7ä½hashå€¼å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå–æ¨¡è¿ç®—ï¼ŒJDK1.8å˜ä¸º&lt;/span&gt;&lt;strong&gt;hash&amp;amp;(n-1)&lt;/strong&gt;ï¼Œnä¸ºæ•°ç»„é•¿åº¦ã€‚å½“æ•°ç»„é•¿åº¦æ˜¯&lt;strong&gt;2çš„å¹‚æ¬¡&lt;/strong&gt;æ—¶ï¼Œhashå€¼å¯¹æ•°ç»„é•¿åº¦å–æ¨¡å’Œhash&amp;amp;(n-1)çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯&lt;strong&gt;ä¸è¿ç®—çš„æ€§èƒ½æ›´é«˜&lt;/strong&gt;ã€‚&lt;/p&gt; 
 
&lt;p&gt;æ»¡è¶³ä»¥ä¸‹è§„åˆ™çš„äºŒå‰æœç´¢æ ‘ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€æ¯ä¸ªèŠ‚ç‚¹ä¸æ˜¯çº¢è‰²å°±æ˜¯é»‘è‰²&lt;/p&gt; 
&lt;p&gt;2ã€æ ¹èŠ‚ç‚¹ä¸ºé»‘è‰²&lt;/p&gt; 
&lt;p&gt;3ã€å¦‚æœèŠ‚ç‚¹ä¸ºçº¢è‰²ï¼Œå…¶å­èŠ‚ç‚¹å¿…é¡»ä¸ºé»‘è‰²&lt;/p&gt; 
&lt;p&gt;4ã€ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹åˆ°åˆ°NULLï¼ˆæ ‘å°¾ç«¯ï¼‰çš„ä»»ä½•è·¯å¾„ï¼Œæ‰€å«ä¹‹é»‘è‰²èŠ‚ç‚¹æ•°å¿…é¡»ç›¸åŒ&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%BA%A2%E9%BB%91%E6%A0%91&quot; target=&quot;_blank&quot;&gt;çº¢é»‘æ ‘&lt;/a&gt;æ˜¯æ¥***è¡¡çš„ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;Dijkstra&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å’ŒFloyd&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å¯¹æ¯”&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;Dijkstra&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ä¸Floyd&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;éƒ½æ˜¯&lt;/span&gt;&lt;strong&gt;å¹¿åº¦ä¼˜å…ˆæœç´¢&lt;/strong&gt;&lt;span&gt;çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ã€‚Dijkstraè®¡ç®—çš„æ˜¯&lt;/span&gt;&lt;strong&gt;å•æºæœ€çŸ­è·¯å¾„&lt;/strong&gt;ï¼ŒFloydè®¡ç®—çš„æ˜¯&lt;strong&gt;å¤šæºæœ€çŸ­è·¯å¾„&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;Dijkstra&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;æœ¬è´¨ä¸Šæ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;è´ªå¿ƒ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;ï¼Œä¸‹ä¸€æ¡è·¯å¾„éƒ½æ˜¯ç”±å½“å‰æ›´çŸ­çš„è·¯å¾„æ´¾ç”Ÿå‡ºæ¥çš„æ›´é•¿çš„è·¯å¾„ã€‚ä¸å­˜åœ¨å›æº¯çš„è¿‡ç¨‹,&lt;strong&gt;ä¸é€‚ç”¨äºæœ‰è´Ÿæ•°æƒå€¼&lt;/strong&gt;çš„åœºæ™¯ã€‚&lt;strong&gt;æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)ï¼Œç”¨å †ä¼˜åŒ–ä¸ºO((m+n)logn)&lt;/strong&gt;ï¼Œå…¶ä¸­mä¸ºè¾¹çš„ä¸ªæ•°ï¼Œnä¸ºèŠ‚ç‚¹çš„ä¸ªæ•°ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;Floyd&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å®é™…ä¸Šæ˜¯ä¸€ä¸ª&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92&quot; target=&quot;_blank&quot;&gt;åŠ¨æ€è§„åˆ’&lt;/a&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚æ¯ä¸€ä¸ªç‚¹å¯¹uå’Œvä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œå¯èƒ½ä¼šç»è¿‡Nä¸ªç‚¹ï¼Œè¿™äº›ä¸­é—´ç‚¹è®°ä¸ºkã€‚å‡å®šuåˆ°kä¹‹é—´çš„æœ€çŸ­è·¯å¾„å·²ç»æ‰¾å¥½ï¼Œkåˆ°vä¹‹é—´çš„æœ€çŸ­è·¯å¾„å·²ç»æ‰¾å¥½ï¼Œé‚£ä¹ˆæ±‚uåˆ°vä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œå°±æ˜¯éå†å„ä¸ªå¯èƒ½çš„kç‚¹ï¼Œç„¶åæ±‚(u,k)+(k,v)ä¹‹é—´çš„æœ€å°å€¼ã€‚æ‰€ä»¥è¿™å®é™…ä¸Šå°†å¤§è§„æ¨¡çš„é—®é¢˜è‡ªé¡¶å‘ä¸‹åˆ’åˆ†ä¸ºäº†å°è§„æ¨¡çš„é—®é¢˜ï¼Œè¿™å°±æ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92&quot; target=&quot;_blank&quot;&gt;åŠ¨æ€è§„åˆ’&lt;/a&gt;æ€æƒ³ã€‚å®ç°ä½¿ç”¨ä¸‰å±‚å¾ªç¯ï¼Œç¬¬ä¸€å±‚å¾ªç¯è®¾ç½®ä¸­é—´ç‚¹kï¼Œç¬¬äºŒå±‚å¾ªç¯è®¾ç½®èµ·å§‹ç‚¹iï¼Œç¬¬ä¸‰å±‚å¾ªç¯è®¾ç½®ç»“æŸç‚¹jã€‚Floyd&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;strong&gt;æ”¯æŒè´Ÿæƒå€¼&lt;/strong&gt;ä½†ä¸æ”¯æŒè´Ÿæƒç¯ã€‚&lt;strong&gt;æ—¶é—´å¤æ‚åº¦ä¸ºO(n3)&lt;/strong&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;span&gt;é—®ï¼šä¸ºä»€ä¹ˆå¼—æ´›ä¼Šå¾·&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;æ”¯æŒè´Ÿæƒå€¼ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
 &lt;p&gt;ç­”ï¼šå› ä¸ºè·¯å¾„æ›´æ–°æ˜¯æ ¹æ®æ–°å€¼å’Œæ—§å€¼æ¯”è¾ƒè·å¾—çš„ï¼Œæœ€ç»ˆçš„ç»“æœéƒ½æ˜¯åœ¨æœ€åä¸€æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­å¯¹å…¨å±€è¿›è¡Œæ›´æ–°è€Œå¾—åˆ°çš„ï¼Œä¸­é—´çš„æ¯æ¬¡è¿­ä»£åªæ˜¯ä¸€æ¬¡å±€éƒ¨è°ƒæ•´è€Œéæœ€ç»ˆç»“æœã€‚è€Œä¸åƒè¿ªæ°æ–¯ç‰¹æ‹‰é‡‡ç”¨çš„è´ªå¿ƒç­–ç•¥ï¼Œæ¯ä¸€æ¬¡è¿­ä»£éƒ½ç¡®å®šå‡ºä¸€æ¡æœ€çŸ­è·¯å¾„ï¼Œè´Ÿæƒçš„å‡ºç°ä½¿å¾—ä¸èƒ½ä¿è¯æ¯æ¬¡è¿­ä»£éƒ½æ˜¯æœ€ä¼˜è§£ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h3&gt;&lt;span&gt;å„ç§&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;åŠå…¶é€‚ç”¨åœºæ™¯ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;img alt=&quot;img&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620871941963/20210408130104795.png&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ç¨³å®šçš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ï¼šå†’æ³¡ã€æ’å…¥ã€å½’å¹¶&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ä¸ç¨³å®šçš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ï¼šé€‰æ‹©ã€å¿«æ’ã€å †&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;é€‚ç”¨åœºæ™¯ï¼š&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;1ã€å†’æ³¡&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ï¼šæ•°æ®é‡ä¸å¤§ï¼Œå¯¹ç¨³å®šæ€§æœ‰è¦æ±‚ï¼Œæ•°æ®åŸºæœ¬æœ‰åºçš„æƒ…å†µä¸‹&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€é€‰æ‹©&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ï¼šæ•°æ®é‡ä¸å¤§ï¼Œå¯¹ç¨³å®šæ€§æ²¡æœ‰è¦æ±‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€æ’å…¥&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ï¼šæ•°æ®é‡ä¸å¤§ï¼Œå¯¹ç¨³å®šæ€§æœ‰è¦æ±‚ï¼Œä¸”æ•°æ®å±€éƒ¨æˆ–è€…æ•´ä½“æœ‰åºçš„æƒ…å†µ&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;å †&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;çš„è¿‡ç¨‹ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;å‚è€ƒåšå®¢ï¼š&lt;a href=&quot;https://blog.csdn.net/u010452388/article/details/81283998&quot; target=&quot;_blank&quot; from-niu=&quot;default&quot;&gt;https://blog.csdn.net/u010452388/article/details/81283998&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;1ã€å°†æ— åºæ•°ç»„æ„é€ æˆä¸€ä¸ªå¤§æ ¹å †ï¼šæ–°æ’å…¥çš„æ•°æ®ä¸å…¶çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœæ’å…¥çš„æ•°æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œåˆ™ä¸çˆ¶èŠ‚ç‚¹äº¤æ¢ï¼Œç›´åˆ°å°äºç­‰äºçˆ¶èŠ‚ç‚¹æˆ–è€…æ¥åˆ°é¡¶ç«¯ã€‚è¿™ä¸€æ­¥éª¤æ¶‰åŠåˆ°&lt;strong&gt;å…ƒç´ ä¸Šå‡&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;2ã€å›ºå®šä¸€ä¸ªæœ€å¤§å€¼ï¼Œå°†å‰©ä½™çš„æ•°é‡æ–°æ„é€ æˆä¸€ä¸ªå¤§æ ¹å †ï¼Œé‡å¤æ­¤è¿‡ç¨‹ã€‚è¿™ä¸€æ­¥éª¤æ¶‰åŠåˆ°&lt;strong&gt;å…ƒç´ ä¸‹é™&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;å †&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;çš„æ—¶é—´å¤æ‚åº¦O(N&lt;/span&gt;&lt;em&gt;logN),é¢å¤–ç©ºé—´å¤æ‚åº¦O(1)ï¼Œæ˜¯ä¸€ä¸ª*&lt;/em&gt;&lt;span&gt;ä¸ç¨³å®šæ€§**çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;KMPå­—ç¬¦ä¸²åŒ¹é…&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;å‚è€ƒåšå®¢ï¼š&lt;a href=&quot;https://www.cnblogs.com/dusf/p/kmp.html&quot; target=&quot;_blank&quot; from-niu=&quot;default&quot;&gt;https://www.cnblogs.com/dusf/p/kmp.html&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;æå–åŠ é€ŸåŒ¹é…çš„ä¿¡æ¯ï¼Œé€šè¿‡æ¶ˆé™¤ä¸»ä¸²æŒ‡é’ˆçš„å›æº¯æ¥æé«˜åŒ¹é…çš„æ•ˆç‡ï¼Œä¹Ÿå°±æ˜¯&lt;strong&gt;åˆ©ç”¨å·²ç»éƒ¨åˆ†åŒ¹é…è¿™ä¸ªæœ‰æ•ˆä¿¡æ¯ï¼Œä¿æŒiæŒ‡é’ˆä¸å›æº¯&lt;/strong&gt;ï¼Œé€šè¿‡ä¿®æ”¹jæŒ‡é’ˆï¼Œè®©æ¨¡å¼ä¸²å°½é‡çš„ç§»åŠ¨åˆ°æœ‰æ•ˆçš„ä½ç½®ã€‚ç»´æŠ¤ä¸€ä¸ªnextæ•°ç»„ï¼Œnext[j]=kï¼Œ&lt;strong&gt;è¡¨ç¤ºå½“T[i] != P[j]æ—¶ï¼ŒjæŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªä½ç½®&lt;/strong&gt;ã€‚å¦ä¸€ä¸ªæ’ç­‰çš„å®šä¹‰ä¸ºï¼š&lt;strong&gt;kå€¼æ˜¯jä½å‰çš„å­ä¸²çš„æœ€å¤§é‡å¤å­ä¸²çš„é•¿åº¦&lt;/strong&gt;&lt;span&gt;ã€‚KMP&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;çš„&lt;/span&gt;&lt;strong&gt;æ—¶é—´å¤æ‚åº¦ä¸ºO(m+n)&lt;/strong&gt;&lt;/p&gt; 
&lt;pre class=&quot;prettyprint lang-java&quot; from-niu=&quot;default&quot;&gt;public static int[] getNext(String ps) {
    char[] p = ps.toCharArray();
    int[] next = new int[p.length];
    next[0] = -1;
    int j = 0;
    int k = -1;
    while (j &amp;lt; p.length - 1) {
        if (k == -1 || p[j] == p[k]) {
            if (p[++j] == p[++k]) { // å½“ä¸¤ä¸ªå­—ç¬¦ç›¸ç­‰æ—¶è¦è·³è¿‡
                next[j] = next[k];
            } else {
                next[j] = k;
            }
        } else {
            k = next[k];
        }
    }
    return next;
}&lt;/pre&gt; 
&lt;h2&gt;æ¡†æ¶&lt;/h2&gt; 
&lt;h3&gt;Listener,Filter,Servletæ‰§è¡Œé¡ºåºå’Œç”Ÿå‘½å‘¨æœŸï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€æ‰§è¡Œé¡ºåº&lt;/p&gt; 
&lt;p&gt;ç†(Listener)å‘(Filter)å¸ˆ(servlet)&lt;/p&gt; 
&lt;p&gt;äºŒã€ç”Ÿå‘½å‘¨æœŸ&lt;/p&gt; 
&lt;p&gt;1ã€Listenerç”Ÿå‘½å‘¨æœŸï¼šä¸€ç›´ä»ç¨‹åºå¯åŠ¨åˆ°ç¨‹åºåœæ­¢è¿è¡Œã€‚&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;p&gt;ServletRequestListenerï¼šæ¯æ¬¡è®¿é—®ä¸€ä¸ªRequestèµ„æºå‰ï¼Œéƒ½ä¼šæ‰§è¡ŒrequestInitialized()æ–¹æ³•ï¼Œæ–¹æ³•è®¿é—®å®Œæ¯•ï¼Œéƒ½ä¼šæ‰§è¡ŒrequestDestroyed()æ–¹æ³•ã€‚&lt;/p&gt; &lt;/li&gt;
 &lt;li&gt;&lt;p&gt;HttpSessionListenerï¼šæ¯æ¬¡è°ƒç”¨request.getSession()ï¼Œéƒ½ä¼šæ‰§è¡ŒsessionCreated()æ–¹æ³•ï¼Œæ‰§è¡Œsession.invalidate()æ–¹æ³•ï¼Œéƒ½ä¼šæ‰§è¡ŒsessionDestroyed()æ–¹æ³•ã€‚&lt;/p&gt; &lt;/li&gt;
 &lt;li&gt;&lt;p&gt;ServletRequestAttributeListenerï¼šæ¯æ¬¡è°ƒç”¨request.setAttribute()éƒ½ä¼šæ‰§è¡ŒattributeAdded()æ–¹æ³•ï¼Œå¦‚æœsetçš„keyåœ¨requesté‡Œé¢å­˜åœ¨ï¼Œå°±ä¼šæ‰§è¡ŒattributeReplaced()æ–¹æ³•ï¼Œè°ƒç”¨request.removeAttribute()æ–¹æ³•ï¼Œéƒ½ä¼šæ‰§è¡ŒattributeRemoved()æ–¹æ³•ã€‚&lt;/p&gt; &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;2ã€Filterç”Ÿå‘½å‘¨æœŸï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;ç¨‹åºå¯åŠ¨è°ƒç”¨Filterçš„init()æ–¹æ³•(åªè°ƒç”¨ä¸€æ¬¡) &lt;/li&gt;
 &lt;li&gt;ç¨‹åºåœæ­¢è°ƒç”¨Filterçš„destroy()æ–¹æ³•(åªè°ƒç”¨ä¸€æ¬¡) &lt;/li&gt;
 &lt;li&gt;æ¯æ¬¡çš„è®¿é—®è¯·æ±‚å¦‚æœç¬¦åˆæ‹¦æˆªæ¡ä»¶éƒ½ä¼šè°ƒç”¨doFilter()æ–¹æ³•
  &lt;ul&gt; 
   &lt;li&gt;ç¨‹åºç¬¬ä¸€æ¬¡è¿è¡Œï¼Œä¼šåœ¨servletè°ƒç”¨init()æ–¹æ³•ä»¥åè°ƒç”¨ &lt;/li&gt;
   &lt;li&gt;ä¸ç®¡ç¬¬å‡ æ¬¡ï¼Œéƒ½åœ¨è°ƒç”¨doGet(),doPost()æ–¹æ³•ä¹‹å‰ &lt;/li&gt;
  &lt;/ul&gt; &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;3ã€Servletç”Ÿå‘½å‘¨æœŸï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;ç¨‹åºç¬¬ä¸€æ¬¡è®¿é—®ï¼Œä¼šè°ƒç”¨servletçš„init()æ–¹æ³•åˆå§‹åŒ–(åªè°ƒç”¨ä¸€æ¬¡) &lt;/li&gt;
 &lt;li&gt;æ¯æ¬¡ç¨‹åºæ‰§è¡Œéƒ½ä¼šæ ¹æ®è¯·æ±‚è°ƒç”¨doGet()æˆ–è€…doPost()æ–¹æ³• &lt;/li&gt;
 &lt;li&gt;ç¨‹åºåœæ­¢è°ƒç”¨destory()æ–¹æ³•(åªè°ƒç”¨ä¸€æ¬¡) &lt;/li&gt;
&lt;/ul&gt; 
&lt;h3&gt;springçš„IOC/DIæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;æ§åˆ¶ç¿»è½¬ï¼ˆå’Œä¾èµ–æ³¨å…¥æ˜¯ä¸€å›äº‹ï¼‰ï¼Œä¸€ç§è®¾è®¡æ€æƒ³ï¼Œå°†è®¾è®¡å¥½çš„å¯¹è±¡äº¤ç»™å®¹å™¨æ§åˆ¶ã€‚&lt;/p&gt; 
&lt;p&gt;IOCå®¹å™¨å°±æ˜¯å…·æœ‰ä¾èµ–æ³¨å…¥åŠŸèƒ½çš„å®¹å™¨ï¼ŒIOCå®¹å™¨è´Ÿè´£å®ä¾‹åŒ–ã€å®šä½ã€é…ç½®åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡åŠå»ºç«‹è¿™äº›å¯¹è±¡é—´çš„ä¾èµ–ã€‚åº”ç”¨ç¨‹åºæ— éœ€åœ¨ä»£ç ä¸­newç›¸å…³çš„å¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºç”±IOCå®¹å™¨è¿›è¡Œç»„è£…ã€‚&lt;/p&gt; 
&lt;h3&gt;springå¦‚ä½•å®ç°ä¾èµ–æ³¨å…¥ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;springå®ç°ä¾èµ–æ³¨å…¥æœ‰ä¸¤ç§æ–¹å¼ï¼šæ„é€ å‡½æ•°æ³¨å…¥å’Œsetteræ³¨å…¥&lt;/p&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th align=&quot;left&quot;&gt;æ„é€ å‡½æ•°æ³¨å…¥&lt;/th&gt; 
   &lt;th align=&quot;left&quot;&gt;setter æ³¨å…¥&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;æ²¡æœ‰éƒ¨åˆ†æ³¨å…¥&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;æœ‰éƒ¨åˆ†æ³¨å…¥&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;ä¸ä¼šè¦†ç›– setter å±æ€§&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;ä¼šè¦†ç›– setter å±æ€§&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;ä»»æ„ä¿®æ”¹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;ä»»æ„ä¿®æ”¹ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;é€‚ç”¨äºè®¾ç½®å¾ˆå¤šå±æ€§&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;é€‚ç”¨äºè®¾ç½®å°‘é‡å±æ€§&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;setter æ³¨å…¥ä½¿ç”¨çš„æ›´å¤š&lt;/p&gt; 
&lt;h3&gt;springå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;springçš„ä¸‰çº§ç¼“å­˜ï¼š&lt;/p&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th align=&quot;left&quot;&gt;ç¼“å­˜&lt;/th&gt; 
   &lt;th align=&quot;left&quot;&gt;ç”¨é€”&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;singletonObjects&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;ç”¨äºå­˜æ”¾å®Œå…¨åˆå§‹åŒ–å¥½çš„ beanï¼Œä»è¯¥ç¼“å­˜ä¸­å–å‡ºçš„ bean å¯ä»¥ç›´æ¥ä½¿ç”¨&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;earlySingletonObjects&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;å­˜æ”¾åŸå§‹çš„ bean å¯¹è±¡ï¼ˆå°šæœªå¡«å……å±æ€§ï¼‰ï¼Œç”¨äºè§£å†³å¾ªç¯ä¾èµ–&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td align=&quot;left&quot;&gt;singletonFactories&lt;/td&gt; 
   &lt;td align=&quot;left&quot;&gt;å­˜æ”¾ bean å·¥å‚å¯¹è±¡ï¼Œç”¨äºè§£å†³å¾ªç¯ä¾èµ–&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt; Spring è§£å†³å¾ªç¯ä¾èµ–çš„è¿‡ç¨‹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;é¦–å…ˆ A å®Œæˆåˆå§‹åŒ–ç¬¬ä¸€æ­¥å¹¶å°†è‡ªå·±æå‰æ›å…‰å‡ºæ¥ï¼ˆé€šè¿‡ ObjectFactory å°†è‡ªå·±æå‰æ›å…‰ï¼‰ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå‘ç°è‡ªå·±ä¾èµ–å¯¹è±¡ Bï¼Œæ­¤æ—¶å°±ä¼šå»å°è¯• get(B)ï¼Œè¿™ä¸ªæ—¶å€™å‘ç° B è¿˜æ²¡æœ‰è¢«åˆ›å»ºå‡ºæ¥ &lt;/li&gt;
 &lt;li&gt;ç„¶å B å°±èµ°åˆ›å»ºæµç¨‹ï¼Œåœ¨ B åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒåŒæ ·å‘ç°è‡ªå·±ä¾èµ–Aï¼Œäºæ˜¯å°è¯• get(A)ï¼Œè¿™ä¸ªæ—¶å€™ç”±äº A å·²ç»æ·»åŠ è‡³ç¼“å­˜ä¸­ï¼ˆä¸€èˆ¬éƒ½æ˜¯æ·»åŠ è‡³ä¸‰çº§ç¼“å­˜ &lt;code&gt;singletonFactories&lt;/code&gt; ï¼‰ï¼Œé€šè¿‡ ObjectFactory æå‰æ›å…‰ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ &lt;code&gt;ObjectFactory.getObject()&lt;/code&gt; æ–¹æ³•æ¥æ‹¿åˆ° A å¯¹è±¡ï¼ŒBæ‹¿åˆ° A å¯¹è±¡åé¡ºåˆ©å®Œæˆåˆå§‹åŒ–ï¼Œç„¶åå°†è‡ªå·±æ·»åŠ åˆ°ä¸€çº§ç¼“å­˜ä¸­ &lt;/li&gt;
 &lt;li&gt;å›åˆ° Aï¼ŒA ä¹Ÿå¯ä»¥æ‹¿åˆ° B å¯¹è±¡ï¼Œå®Œæˆåˆå§‹åŒ–ï¼Œåˆ°è¿™é‡Œæ•´ä¸ªé“¾è·¯å°±å·²ç»å®Œæˆäº†åˆå§‹åŒ–è¿‡ç¨‹äº†ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;h3&gt;springä¸­beançš„ç”Ÿå‘½å‘¨æœŸï¼Ÿä½œç”¨åŸŸï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ç”Ÿå‘½å‘¨æœŸ&lt;/p&gt; 
&lt;p&gt;å®ä¾‹åŒ–--&amp;gt;å±æ€§èµ‹å€¼--&amp;gt;åˆå§‹åŒ–--&amp;gt;é”€æ¯&lt;/p&gt; 
&lt;p&gt;å½±å“å¤šä¸ªBeançš„æ¥å£ï¼šBeanPostProcessorï¼Œä¸è‡ªåŠ¨æ³¨å…¥ä»¥åŠAOPçš„å®ç°æœ‰å…³&lt;/p&gt; 
&lt;p&gt;åªè°ƒç”¨ä¸€æ¬¡çš„æ¥å£ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;Awareç±»å‹çš„æ¥å£ï¼šä»springå®¹å™¨ä¸­æ‹¿åˆ°ä¸€äº›èµ„æº &lt;/li&gt;
 &lt;li&gt;ç”Ÿå‘½å‘¨æœŸçš„æ¥å£ï¼šè®©æˆ‘ä»¬è‡ªå·±å®ç°åˆå§‹åŒ–å’Œé”€æ¯ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;äºŒã€ä½œç”¨åŸŸ&lt;/p&gt; 
&lt;p&gt;åœ¨springé…ç½®æ–‡ä»¶å®šä¹‰Beanæ—¶ï¼Œé€šè¿‡å£°æ˜scopeé…ç½®é¡¹ï¼Œå¯ä»¥å®šä¹‰Beançš„ä½œç”¨åŸŸï¼Œä¸€å…±æœ‰äº”ç§ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€singletonï¼šIOCå®¹å™¨&lt;strong&gt;ä»…åˆ›å»ºä¸€ä¸ª&lt;/strong&gt;Beanå®ä¾‹ï¼ŒIOCå®¹å™¨&lt;strong&gt;æ¯æ¬¡è¿”å›çš„æ˜¯åŒä¸€ä¸ªBeanå®ä¾‹&lt;/strong&gt;ã€‚ï¼ˆ&lt;strong&gt;é»˜è®¤çš„ä½œç”¨åŸŸ&lt;/strong&gt;ï¼‰&lt;/p&gt; 
&lt;p&gt;2ã€prototypeï¼šIOCå®¹å™¨&lt;strong&gt;å¯ä»¥åˆ›å»ºå¤šä¸ª&lt;/strong&gt;Beanå®ä¾‹ï¼Œ&lt;strong&gt;æ¯æ¬¡è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å®ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;3ã€requestï¼šè¯¥å±æ€§ä»…å¯¹HTTPè¯·æ±‚äº§ç”Ÿä½œç”¨ï¼Œä½¿ç”¨è¯¥å±æ€§å®šä¹‰Beanæ—¶ï¼Œæ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„Beanï¼Œé€‚ç”¨äºWebApplicationContextç¯å¢ƒã€‚&lt;/p&gt; 
&lt;p&gt;4ã€ sessionï¼šè¯¥å±æ€§ä»…ç”¨äºHTTP Sessionï¼ŒåŒä¸€ä¸ªSessionå…±äº«ä¸€ä¸ªBeanå®ä¾‹ã€‚ä¸åŒSessionä½¿ç”¨ä¸åŒçš„å®ä¾‹ã€‚&lt;/p&gt; 
&lt;p&gt;5ã€global-sessionï¼šè¯¥å±æ€§ä»…ç”¨äºHTTP Sessionï¼ŒåŒsessionä½œç”¨åŸŸä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„Sessionå…±äº«ä¸€ä¸ªBeanå®ä¾‹ã€‚&lt;/p&gt; 
&lt;h3&gt;@Autowiredå’Œ@Resourceæ¯”è¾ƒ&lt;/h3&gt; 
&lt;p&gt;ç›¸åŒç‚¹ï¼šä½œç”¨ç›¸åŒï¼Œéƒ½å¯ä»¥æ ‡æ³¨åœ¨å­—æ®µæˆ–å±æ€§çš„setteræ–¹æ³•ä¸Š&lt;/p&gt; 
&lt;p&gt;ä¸åŒç‚¹ï¼š@Autowiredé»˜è®¤æŒ‰ç…§ç±»å‹è£…é…ï¼Œ@Resourceé»˜è®¤æŒ‰ç…§åç§°è£…é…&lt;/p&gt; 
&lt;h3&gt;springçš„AOPæ˜¯ä»€ä¹ˆï¼Ÿå®ç°åŸç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´ä¸ºä¸šåŠ¡æ¨¡å—æ‰€å…±åŒè°ƒç”¨çš„é€»è¾‘æˆ–è´£ä»»å°è£…èµ·æ¥ï¼Œä¾¿äºå‡å°‘ç³»ç»Ÿçš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œå¹¶æœ‰åˆ©äºæœªæ¥çš„å¯æ“ä½œæ€§å’Œå¯ç»´æŠ¤æ€§ã€‚&lt;/p&gt; 
&lt;p&gt;å…³äº AOP çš„åŸç†ï¼Œæ¦‚æ‹¬æ¥è¯´å°±æ˜¯&lt;strong&gt;é€šè¿‡ä»£ç†æ¨¡å¼ä¸ºç›®æ ‡å¯¹è±¡ç”Ÿäº§ä»£ç†å¯¹è±¡ï¼Œå¹¶å°†æ¨ªåˆ‡é€»è¾‘æ’å…¥åˆ°ç›®æ ‡æ–¹æ³•æ‰§è¡Œçš„å‰åã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;å®ç°AOPçš„æŠ€æœ¯ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸€æ˜¯é‡‡ç”¨åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œåˆ©ç”¨æˆªå–æ¶ˆæ¯çš„æ–¹å¼ï¼Œå¯¹è¯¥æ¶ˆæ¯è¿›è¡Œè£…é¥°ï¼Œä»¥å–ä»£åŸæœ‰å¯¹è±¡è¡Œä¸ºçš„æ‰§è¡Œï¼›äºŒæ˜¯é‡‡ç”¨é™æ€ç»‡å…¥çš„æ–¹å¼ï¼Œå¼•å…¥ç‰¹å®šçš„è¯­æ³•åˆ›å»ºâ€œæ–¹é¢â€ï¼Œä»è€Œä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´ç»‡å…¥æœ‰å…³â€œæ–¹é¢â€çš„ä»£ç ã€‚&lt;/p&gt; 
&lt;h3&gt;springäº‹åŠ¡ä¸­çš„ä¼ æ’­è¡Œä¸ºï¼Ÿ&lt;/h3&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th&gt;&lt;strong&gt;äº‹åŠ¡è¡Œä¸º&lt;/strong&gt;&lt;/th&gt; 
   &lt;th&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_REQUIRED&lt;/td&gt; 
   &lt;td&gt;æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå‡è®¾å½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_SUPPORTS&lt;/td&gt; 
   &lt;td&gt;æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå‡è®¾å½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œ&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_MANDATORY&lt;/td&gt; 
   &lt;td&gt;æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå‡è®¾å½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_REQUIRES_NEW&lt;/td&gt; 
   &lt;td&gt;æ–°å»ºäº‹åŠ¡ï¼Œå‡è®¾å½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_NOT_SUPPORTED&lt;/td&gt; 
   &lt;td&gt;ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œæ“ä½œã€‚å‡è®¾å½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_NEVER&lt;/td&gt; 
   &lt;td&gt;ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå‡è®¾å½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PROPAGATION_NESTED&lt;/td&gt; 
   &lt;td&gt;å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸PROPAGATION_REQUIREDç±»ä¼¼çš„æ“ä½œã€‚&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;springä¸­é»˜è®¤çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯PROPAGATION_REQUIREDï¼ŒServiceA.methodAè°ƒç”¨ServiceB.methodBï¼Œæœ‰ä¸€æ¡sqlæ‰§è¡Œå¤±è´¥äº†ï¼ŒServiceA.methodAè¦å›æ»šï¼Œæ— è®ºServiceB.methodBçš„äº‹åŠ¡æ˜¯å¦è¢«æäº¤ã€‚&lt;/p&gt; 
&lt;h3&gt;Mybatisçš„æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ¨æ€ä¼ é€’å‚æ•°æœ‰ä¸¤ç§æ–¹å¼ï¼š#{}å’Œ${}ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€#{}ä¸ºå‚æ•°å ä½ç¬¦?å³sqlé¢„ç¼–è¯‘ï¼Œ${}ä¸ºå­—ç¬¦ä¸²æ›¿æ¢ï¼Œå³sqlæ‹¼æ¥&lt;/p&gt; 
&lt;p&gt;2ã€å˜é‡æ›¿æ¢åï¼Œ#{} å¯¹åº”çš„å˜é‡è‡ªåŠ¨åŠ ä¸Šå•å¼•å·ï¼Œ${} å¯¹åº”çš„å˜é‡ä¸ä¼šåŠ ä¸Šå•å¼•å·&lt;/p&gt; 
&lt;p&gt;3ã€#{}èƒ½é˜²æ­¢sqlæ³¨å…¥ï¼Œ${}ä¸èƒ½é˜²æ­¢sqlæ³¨å…¥&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;ä»€ä¹ˆæ˜¯sqlæ³¨å…¥ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;åœ¨å®ç°å®šä¹‰å¥½çš„æŸ¥è¯¢è¯­å¥çš„ç»“å°¾æ·»åŠ é¢å¤–çš„sqlè¯­å¥ï¼Œæ¬ºéª—æ•°æ®åº“æœåŠ¡å™¨è¿›è¡Œéæˆæƒçš„ä»»æ„æŸ¥è¯¢ï¼Œç›—å–æ•°æ®åº“æ•°æ®ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;strong&gt;åœ¨Mybatisä¸­å°½é‡ä½¿ç”¨#{}&lt;/strong&gt;&lt;/p&gt; 
&lt;h3&gt;Mybatiså¦‚ä½•æ ¹æ®æ˜ å°„å™¨(mapper.xmlæ–‡ä»¶)ç”Ÿæˆsqlè¯­å¥ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€&lt;strong&gt;XMLConfigBuilder&lt;/strong&gt;è§£ææ˜ å°„å™¨xmlæ–‡ä»¶æ—¶ï¼Œä¼šå°†æ¯ä¸€ä¸ªsqlè¯­å¥å’Œå…¶é…ç½®çš„å†…å®¹ä¿å­˜èµ·æ¥&lt;/p&gt; 
&lt;p&gt;2ã€mybatisä¸­ä¸€æ¡SQLä¸å®ƒç›¸å…³çš„é…ç½®ä¿¡æ¯æ˜¯ç”±&lt;strong&gt;MappedStatement&lt;/strong&gt;ã€&lt;strong&gt;SqlSource&lt;/strong&gt;å’Œ&lt;strong&gt;BoundSql&lt;/strong&gt;ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;MappedStatementçš„ä½œç”¨æ˜¯ä¿å­˜ä¸€ä¸ªæ˜ å°„å™¨èŠ‚ç‚¹ï¼ˆselect|insert|delete|updateï¼‰çš„å†…å®¹ï¼Œå®ƒæ˜¯ä¸€ä¸ª&lt;strong&gt;ç±»&lt;/strong&gt;ï¼ŒåŒ…æ‹¬è®¸å¤šæˆ‘ä»¬é…ç½®çš„SQLã€SQLçš„idã€resultMapç­‰&lt;strong&gt;é‡è¦é…ç½®å†…å®¹&lt;/strong&gt;ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å±æ€§sqlSourceã€‚mybatisé€šè¿‡è¯»å–MappedStatementæ¥è·å¾—æŸæ¡SQLé…ç½®çš„æ‰€æœ‰ä¿¡æ¯ã€‚ &lt;/li&gt;
 &lt;li&gt;SqlSourceæ˜¯&lt;strong&gt;æä¾›BoundSqlå¯¹è±¡&lt;/strong&gt;çš„åœ°æ–¹ï¼Œ&lt;strong&gt;å®ƒæ˜¯ä¸€ä¸ªæ¥å£&lt;/strong&gt;ï¼Œä½¿ç”¨å®ƒå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªBoundSqlå¯¹è±¡ã€‚ &lt;/li&gt;
 &lt;li&gt;BoundSqlæ˜¯ä¸€ä¸ª&lt;strong&gt;ç»“æœå¯¹è±¡&lt;/strong&gt;ï¼Œæ˜¯&lt;strong&gt;å»ºç«‹SQL&lt;/strong&gt;å’Œå‚æ•°çš„åœ°æ–¹ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;h3&gt;Mybatisä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„åŒºåˆ«&lt;/h3&gt; 
&lt;p&gt;1ã€ä¸€çº§ç¼“å­˜ï¼š&lt;strong&gt;SqlSessionèŒƒå›´&lt;/strong&gt;çš„ç¼“å­˜ï¼Œé»˜è®¤å¼€å¯ï¼Œåœ¨åŒä¸€ä¸ªSqlSessionä¸­ï¼Œæ‰§è¡Œç›¸åŒçš„SQLæŸ¥è¯¢æ—¶ï¼Œç¬¬ä¸€æ¬¡ä¼šå»æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å†™åœ¨ç¼“å­˜ä¸­ï¼Œç¬¬äºŒæ¬¡ä¼šç›´æ¥ä»ç¼“å­˜ä¸­å–ã€‚Mybatisçš„å†…éƒ¨ç¼“å­˜ä½¿ç”¨ä¸€ä¸ªHashMapï¼Œkeyä¸ºhashcode+statementId+sqlè¯­å¥ï¼Œvalueä¸ºæŸ¥è¯¢å‡ºæ¥çš„ç»“æœé›†æ˜ å°„æˆçš„Javaå¯¹è±¡ï¼Œ&lt;strong&gt;ä¸¤æ¬¡æŸ¥è¯¢sqlä¸­é—´å¦‚æœæœ‰å¢åˆ æ”¹æ“ä½œä¼šæ¸…ç©ºç¼“å­˜&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€äºŒçº§ç¼“å­˜ï¼š&lt;strong&gt;Mapperçº§åˆ«çš„ç¼“å­˜ï¼Œè·¨SqlSession&lt;/strong&gt;ï¼Œé»˜è®¤æ²¡æœ‰å¼€å¯ï¼ŒSqlSession1ç¬¬ä¸€æ¬¡è°ƒç”¨Mapperä¸‹çš„SQLè¿›è¡ŒæŸ¥è¯¢åä¼šå°†ç»“æœå­˜æ”¾åœ¨Mapperå¯¹åº”çš„äºŒçº§ç¼“å­˜åŒºåŸŸï¼ŒSqlSession2å†è°ƒç”¨Mapperä¸­ç›¸åŒçš„SQLæŸ¥è¯¢æ—¶ï¼Œä¼šå»å¯¹åº”çš„äºŒçº§ç¼“å­˜å†…å–ç»“æœã€‚&lt;strong&gt;å¦‚æœSqlSession3æ‰§è¡Œcommitæäº¤ï¼Œå°†ä¼šæ¸…ç©ºè¯¥Mapperæ˜ å°„ä¸‹çš„äºŒçº§ç¼“å­˜åŒºåŸŸçš„æ•°æ®ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;h3&gt;SpringBootçš„å¯åŠ¨åŠ è½½è¿‡ç¨‹å’Œè‡ªåŠ¨é…ç½®æµç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€è‡ªåŠ¨é…ç½®ï¼š@SpringBootApplication&lt;/p&gt; 
&lt;p&gt;@SpringBootApplicationä¸­æœ‰ä¸‰ä¸ªæ³¨è§£ï¼š@Configurationã€@EnableAutoConfigurationå’Œ@ComponentScan&lt;/p&gt; 
&lt;p&gt;1ã€@Configurationï¼šå¯åŠ¨ç±»æ ‡æ³¨äº†@Configurationåç›¸å½“äºä¸€ä¸ªIOCå®¹å™¨çš„é…ç½®ç±»ï¼Œä¼šåœ¨springçš„XMLé…ç½®æ–‡ä»¶applicationContent.xmlä¸­è£…é…æ‰€æœ‰beanäº‹åŠ¡ï¼Œæä¾›ä¸€ä¸ªspringçš„ä¸Šä¸‹æ–‡ç¯å¢ƒ&lt;/p&gt; 
&lt;p&gt;2ã€@EnableAutoConfigurationï¼šå¸®åŠ©SpringBootå°†æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„@Configurationé…ç½®éƒ½åŠ è½½åˆ°å½“å‰SpringBootåˆ›å»ºå¹¶ä½¿ç”¨çš„IoCå®¹å™¨&lt;/p&gt; 
&lt;p&gt;3ã€@ComponentScanï¼šç»„ä»¶æ‰«æï¼Œå¯è‡ªåŠ¨å‘ç°å’Œè£…é…Bean&lt;/p&gt; 
&lt;p&gt;äºŒã€å¯åŠ¨åŠ è½½ï¼šapplication.run()&lt;/p&gt; 
&lt;p&gt;ä¸»è¦åˆ›å»ºäº†é…ç½®ç¯å¢ƒ(environment)ã€äº‹ä»¶ç›‘å¬(listeners)ã€åº”ç”¨ä¸Šä¸‹æ–‡(applicationContext)ï¼Œå¹¶åŸºäºä»¥ä¸Šæ¡ä»¶ï¼Œåœ¨å®¹å™¨ä¸­å¼€å§‹å®ä¾‹åŒ–æˆ‘ä»¬éœ€è¦çš„Bean&lt;/p&gt; 
&lt;h2&gt;å¹¶å‘ç¼–ç¨‹&lt;/h2&gt; 
&lt;h3&gt;synchronizedé”çš„åº•å±‚åŸç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;JVMä¸­å¯¹è±¡æ˜¯åˆ†æˆä¸‰éƒ¨åˆ†å­˜åœ¨çš„ï¼šå¯¹è±¡å¤´ã€å®ä¾‹æ•°æ®ã€å¯¹å…¶å¡«å……ã€‚ï¼ˆ&lt;strong&gt;å®ä¾‹æ•°æ®&lt;/strong&gt;å­˜æ”¾ç±»çš„å±æ€§æ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬çˆ¶ç±»çš„å±æ€§ä¿¡æ¯ï¼Œå¦‚æœæ˜¯æ•°ç»„çš„å®ä¾‹éƒ¨åˆ†è¿˜åŒ…æ‹¬æ•°ç»„çš„é•¿åº¦ï¼Œè¿™éƒ¨åˆ†å†…å­˜æŒ‰4å­—èŠ‚å¯¹é½ï¼›&lt;strong&gt;å¯¹å…¶å¡«å……&lt;/strong&gt;ä¸æ˜¯å¿…é¡»éƒ¨åˆ†ï¼Œç”±äºè™šæ‹Ÿæœºè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯8å­—èŠ‚çš„æ•´æ•°å€ï¼Œå¯¹é½å¡«å……ä»…ä»…æ˜¯ä¸ºäº†ä½¿å­—èŠ‚å¯¹é½ã€‚ï¼‰&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;å¯¹è±¡å¤´&lt;/strong&gt;æ˜¯synchronizedå®ç°é”çš„åŸºç¡€ï¼Œå› ä¸ºsynchronizedç”³è¯·é”ã€ä¸Šé”ã€é‡Šæ”¾é”éƒ½ä¸å¯¹è±¡å¤´æœ‰å…³ã€‚å¯¹è±¡å¤´ä¸»è¦ç»“æ„æ˜¯ç”±&lt;code&gt;Mark Word&lt;/code&gt; å’Œ &lt;code&gt;Class Metadata Address&lt;/code&gt;ç»„æˆï¼Œ&lt;strong&gt;å…¶ä¸­&lt;/strong&gt;&lt;code&gt;Mark Word&lt;/code&gt;&lt;strong&gt;å­˜å‚¨å¯¹è±¡çš„hashCodeã€é”ä¿¡æ¯æˆ–åˆ†ä»£å¹´é¾„æˆ–GCæ ‡å¿—ç­‰ä¿¡æ¯&lt;/strong&gt;ï¼Œ&lt;code&gt;Class Metadata Address&lt;/code&gt;&lt;strong&gt;æ˜¯ç±»å‹æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„ç±»å…ƒæ•°æ®ï¼ŒJVMé€šè¿‡è¯¥æŒ‡é’ˆç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;JDK6åé”æœ‰å››ç§çŠ¶æ€ï¼Œ&lt;strong&gt;æ— é”çŠ¶æ€ã€åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”&lt;/strong&gt;ï¼Œå…¶ä¸­æ— é”å°±æ˜¯ä¸€ç§çŠ¶æ€äº†ã€‚é”çš„ç±»å‹å’ŒçŠ¶æ€åœ¨å¯¹è±¡å¤´&lt;code&gt;Mark Word&lt;/code&gt;ä¸­éƒ½æœ‰è®°å½•ï¼Œåœ¨ç”³è¯·é”ã€é”å‡çº§ç­‰è¿‡ç¨‹ä¸­JVMéƒ½éœ€è¦è¯»å–å¯¹è±¡çš„&lt;code&gt;Mark Word&lt;/code&gt;æ•°æ®ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;æ¯ä¸€ä¸ªé”éƒ½å¯¹åº”ä¸€ä¸ªmonitorå¯¹è±¡ï¼Œåœ¨HotSpotè™šæ‹Ÿæœºä¸­å®ƒæ˜¯ç”±ObjectMonitorå®ç°çš„ï¼ˆC++å®ç°ï¼‰ï¼Œå½“ä¸€ä¸ªmonitorè¢«æŸä¸ªçº¿ç¨‹æŒæœ‰åï¼Œå®ƒä¾¿å¤„äºé”å®šçŠ¶æ€ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;h3&gt;Javaä¸­å¯¹è±¡é”çš„å››ç§çŠ¶æ€åŠé”å‡çº§çš„è¿‡ç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€å¯¹è±¡é”çš„å››ç§çŠ¶æ€&lt;/p&gt; 
&lt;p&gt;1ã€æ— é”&lt;/p&gt; 
&lt;p&gt;2ã€åå‘é”&lt;/p&gt; 
&lt;p&gt;å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸ä»…ä¸å­˜åœ¨ç«äº‰ï¼Œè€Œä¸”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡è·å¾—ï¼Œä¸ºäº†è®©çº¿ç¨‹è·å¾—é”çš„ä»£ä»·æ›´ä½è€Œå¼•å…¥äº†åå‘é”&lt;/p&gt; 
&lt;p&gt;3ã€è½»é‡çº§é”&lt;/p&gt; 
&lt;p&gt;å¦‚æœæ˜æ˜¾å­˜åœ¨å…¶ä»–çº¿ç¨‹ç”³è¯·é”ï¼Œé‚£ä¹ˆåå‘é”å°†å¾ˆå¿«å‡çº§ä¸ºè½»é‡çº§é”&lt;/p&gt; 
&lt;p&gt;4ã€é‡é‡çº§é”&lt;/p&gt; 
&lt;p&gt;æŒ‡çš„æ˜¯åŸå§‹çš„Synchronizedçš„å®ç°ï¼Œå…¶ä»–çº¿ç¨‹è¯•å›¾è·å–é”æ—¶ï¼Œéƒ½ä¼šè¢«é˜»å¡ï¼Œåªæœ‰æŒæœ‰é”çš„çº¿ç¨‹é‡Šæ”¾é”ä¹‹åæ‰ä¼šå”¤é†’è¿™äº›çº¿ç¨‹&lt;/p&gt; 
&lt;p&gt;äºŒã€é”å‡çº§çš„åœºæ™¯&lt;/p&gt; 
&lt;p&gt;1ã€ç»å¸¸åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ¥åŠ é”ï¼Œä½¿ç”¨åå‘é”ï¼Œåå‘é”çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;çº¿ç¨‹é¦–å…ˆæ£€æŸ¥è¯¥å¯¹è±¡å¤´çš„çº¿ç¨‹IDæ˜¯å¦ä¸ºå½“å‰çº¿ç¨‹
  &lt;ul&gt; 
   &lt;li&gt;å¦‚æœå¯¹è±¡å¤´çš„çº¿ç¨‹IDå’Œå½“å‰çº¿ç¨‹IDä¸€ç›´ï¼Œåˆ™ç›´æ¥æ‰§è¡Œä»£ç  &lt;/li&gt;
   &lt;li&gt;å¦‚æœä¸æ˜¯å½“å‰çº¿ç¨‹IDåˆ™ä½¿ç”¨CASæ–¹å¼æ›¿æ¢å¯¹è±¡å¤´ä¸­çš„çº¿ç¨‹ID
    &lt;ul&gt; 
     &lt;li&gt;å¦‚æœä½¿ç”¨CASæ›¿æ¢ä¸æˆåŠŸåˆ™è¯´æ˜æœ‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œå­˜åœ¨é”çš„ç«äº‰ï¼Œè¿™æ—¶éœ€è¦æ’¤é”€åå‘é”ï¼Œ&lt;strong&gt;å‡çº§ä¸ºè½»é‡çº§é”&lt;/strong&gt; &lt;/li&gt;
     &lt;li&gt;å¦‚æœCASæ›¿æ¢æˆåŠŸï¼Œåˆ™æŠŠå¯¹è±¡å¤´çš„çº¿ç¨‹IDæ”¹ä¸ºè‡ªå·±çš„çº¿ç¨‹IDï¼Œç„¶åæ‰§è¡Œä»£ç  &lt;/li&gt;
    &lt;/ul&gt; &lt;/li&gt;
  &lt;/ul&gt; &lt;/li&gt;
 &lt;li&gt;æ‰§è¡Œä»£ç å®Œæˆä¹‹åé‡Šæ”¾é”ï¼ŒæŠŠå¯¹è±¡å¤´çš„çº¿ç¨‹IDä¿®æ”¹ä¸ºç©º &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;2ã€æœ‰çº¿ç¨‹æ¥å‚ä¸é”çš„ç«äº‰ï¼Œä½†æ˜¯è·å–é”çš„å†²çªæ—¶é—´å¾ˆçŸ­&lt;/p&gt; 
&lt;p&gt;å½“å¼€å§‹æœ‰é”çš„å†²çªäº†ï¼Œé‚£ä¹ˆåå‘é”å°±ä¼šå‡çº§åˆ°è½»é‡çº§é”ï¼›çº¿ç¨‹è·å–é”å‡ºç°å†²çªæ—¶ï¼Œçº¿ç¨‹å¿…é¡»åšå‡ºå†³å®šæ˜¯ç»§ç»­åœ¨è¿™é‡Œç­‰ï¼Œè¿˜æ˜¯å›å®¶ç­‰åˆ«äººæ‰“ç”µè¯é€šçŸ¥ï¼Œè€Œè½»é‡çº§é”å°±æ˜¯é‡‡ç”¨ç»§ç»­åœ¨è¿™é‡Œç­‰çš„æ–¹å¼ï¼Œå½“å‘ç°æœ‰é”å†²çªï¼Œçº¿ç¨‹é¦–å…ˆä¼šä½¿ç”¨è‡ªæ—‹çš„æ–¹å¼å¾ªç¯åœ¨è¿™é‡Œè·å–é”ï¼Œå› ä¸ºä½¿ç”¨è‡ªæ—‹çš„æ–¹å¼éå¸¸æ¶ˆè€—CPUï¼Œ&lt;strong&gt;å½“ä¸€å®šæ—¶é—´å†…é€šè¿‡è‡ªæ—‹çš„æ–¹å¼æ— æ³•è·å–åˆ°é”çš„è¯ï¼Œé‚£ä¹ˆé”å°±å¼€å§‹å‡çº§ä¸ºé‡é‡çº§é”äº†ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;3ã€æœ‰å¤§é‡çš„çº¿ç¨‹å‚ä¸é”çš„ç«äº‰ï¼Œå†²çªæ€§å¾ˆé«˜&lt;/p&gt; 
&lt;p&gt;å½“è·å–é”å†²çªå¤šï¼Œæ—¶é—´é•¿çš„æ—¶å€™ï¼Œçº¿ç¨‹æ— æ³•ç»§ç»­æ­»ç­‰ï¼Œåªå¥½å…ˆä¼‘æ¯ï¼Œç„¶åç­‰å‰é¢è·å–é”çš„çº¿ç¨‹é‡Šæ”¾äº†é”ä¹‹åå†å¼€å¯ä¸‹ä¸€è½®çš„é”ç«äº‰ï¼Œè€Œè¿™ç§å½¢å¼å°±æ˜¯é‡é‡çº§é”ã€‚&lt;/p&gt; 
&lt;h3&gt;ä¹è§‚é”å’Œæ‚²è§‚é”&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€æ¦‚å¿µ&lt;/p&gt; 
&lt;p&gt;ä¹è§‚é”ï¼šæ‰€è°“çš„ä¹è§‚é”ï¼ŒæŒ‡çš„æ˜¯åœ¨æ“ä½œæ•°æ®çš„æ—¶å€™éå¸¸ä¹è§‚ï¼Œä¹è§‚åœ°&lt;strong&gt;è®¤ä¸ºåˆ«äººä¸ä¼šåŒæ—¶ä¿®æ”¹æ•°æ®&lt;/strong&gt;ï¼Œå› æ­¤ä¹è§‚é”ä¸ä¼šä¸Šé”ï¼Œåªæœ‰åœ¨&lt;strong&gt;æ‰§è¡Œæ›´æ–°çš„æ—¶å€™æ‰ä¼šå»åˆ¤æ–­åœ¨æ­¤æœŸé—´åˆ«äººæ˜¯å¦ä¿®æ”¹äº†æ•°æ®&lt;/strong&gt;ï¼Œå¦‚æœåˆ«äººä¿®æ”¹äº†æ•°æ®åˆ™æ”¾å¼ƒæ“ä½œï¼Œå¦åˆ™æ‰§è¡Œæ“ä½œã€‚&lt;/p&gt; 
&lt;p&gt;æ‚²è§‚é”ï¼šæ‰€è°“çš„æ‚²è§‚é”ï¼ŒæŒ‡çš„æ˜¯åœ¨æ“ä½œæ•°æ®çš„æ—¶å€™æ¯”è¾ƒæ‚²è§‚ï¼Œæ‚²è§‚åœ°&lt;strong&gt;è®¤ä¸ºåˆ«äººä¸€å®šä¼šåŒæ—¶ä¿®æ”¹æ•°æ®&lt;/strong&gt;ï¼Œå› æ­¤æ‚²è§‚é”åœ¨æ“ä½œæ•°æ®æ—¶æ˜¯&lt;strong&gt;ç›´æ¥æŠŠæ•°æ®ä¸Šé”&lt;/strong&gt;ï¼Œç›´åˆ°æ“ä½œå®Œæˆä¹‹åæ‰ä¼šé‡Šæ”¾é”ï¼Œåœ¨&lt;strong&gt;ä¸Šé”æœŸé—´å…¶ä»–äººä¸èƒ½æ“ä½œæ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€å®ç°æ–¹å¼&lt;/p&gt; 
&lt;p&gt;ä¹è§‚é”ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€CASï¼šæ¯”è¾ƒå¹¶äº¤æ¢ï¼Œå¦‚æœç­‰äºé¢„æœŸå€¼åˆ™æ›´æ–°ï¼Œå¦åˆ™ä¸è¿›è¡Œæ“ä½œã€‚è®¸å¤šCASæ“ä½œéƒ½æ˜¯è‡ªæ—‹çš„ï¼Œæ„æ€å°±æ˜¯ï¼Œå¦‚æœæ“ä½œä¸æˆåŠŸï¼Œå°±ä¼šä¸€ç›´é‡è¯•ï¼Œç›´åˆ°æ“ä½œæˆåŠŸä¸ºæ­¢ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;CASçš„ç¼ºç‚¹ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;1ï¼‰ABAé—®é¢˜ï¼šå…¶ä»–çº¿ç¨‹å°†æ•°æ®ä»Aä¿®æ”¹åˆ°Bå†æ”¹å›Aï¼Œç”±äºæ•°æ®ä¸å¼€å§‹æ—¶ä¸€è‡´ï¼Œå½“å‰çº¿ç¨‹å¹¶ä¸çŸ¥é“æ•°æ®è¢«ä¿®æ”¹è¿‡ã€‚&lt;/p&gt; 
 &lt;p&gt;2ï¼‰é«˜ç«äº‰ä¸‹çš„å¼€é”€é—®é¢˜ï¼šCASå¦‚æœå¤±è´¥ä¼šä¸€è‡´é‡è¯•ï¼Œé€ æˆCPUå¼€é”€å¤§ï¼Œå¯ä»¥å¼•å…¥é€€å‡ºæœºåˆ¶ï¼Œé‡è¯•æ¬¡æ•°è¶…è¿‡é˜ˆå€¼å°±å¼ºåˆ¶å¤±è´¥é€€å‡ºã€‚&lt;/p&gt; 
 &lt;p&gt;3ï¼‰è‡ªèº«åŠŸèƒ½å—é™ï¼šåªèƒ½ä¿è¯å•ä¸ªå˜é‡æ“ä½œçš„åŸå­æ€§ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;2ã€ç‰ˆæœ¬å·æœºåˆ¶ï¼šç‰ˆæœ¬å·æœºåˆ¶çš„åŸºæœ¬æ€è·¯ï¼Œæ˜¯åœ¨æ•°æ®ä¸­å¢åŠ ä¸€ä¸ª&lt;strong&gt;versionå­—æ®µç”¨æ¥è¡¨ç¤ºè¯¥æ•°æ®çš„ç‰ˆæœ¬å·&lt;/strong&gt;ï¼Œæ¯å½“&lt;strong&gt;æ•°æ®è¢«ä¿®æ”¹ç‰ˆæœ¬å·å°±ä¼šåŠ 1&lt;/strong&gt;ã€‚å½“æŸä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œä¼šå°†è¯¥æ•°æ®çš„ç‰ˆæœ¬å·ä¸€èµ·è¯»å–å‡ºæ¥ï¼Œä¹‹ååœ¨è¯¥çº¿ç¨‹éœ€è¦æ›´æ–°è¯¥æ•°æ®çš„æ—¶å€™ï¼Œå°±å°†&lt;strong&gt;ä¹‹å‰è¯»å–çš„ç‰ˆæœ¬å·ä¸å½“å‰ç‰ˆæœ¬å·è¿›è¡Œæ¯”è¾ƒ&lt;/strong&gt;ï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™æ‰§è¡Œæ“ä½œï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œåˆ™æ”¾å¼ƒæ“ä½œã€‚&lt;/p&gt; 
&lt;p&gt;æ‚²è§‚é”ï¼š&lt;/p&gt; 
&lt;p&gt;æ‚²è§‚é”çš„å®ç°æ–¹å¼ä¹Ÿå°±æ˜¯åŠ é”ï¼ŒåŠ é”æ—¢å¯ä»¥åœ¨ä»£ç å±‚é¢ï¼ˆæ¯”å¦‚Javaä¸­çš„&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨æ•°æ®åº“å±‚é¢ï¼ˆæ¯”å¦‚MySQLä¸­çš„æ’ä»–é”ï¼‰ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€é€‚ç”¨åœºæ™¯&lt;/p&gt; 
&lt;p&gt;åœ¨ç«äº‰ä¸æ¿€çƒˆï¼ˆå‡ºç°å¹¶å‘å†²çªçš„æ¦‚ç‡æ¯”è¾ƒå°ï¼‰çš„åœºæ™¯ä¸­ï¼Œä¹è§‚é”æ›´æœ‰ä¼˜åŠ¿ã€‚å› ä¸ºæ‚²è§‚é”ä¼šé”ä½ä»£ç å—æˆ–æ•°æ®ï¼Œå…¶ä»–çš„çº¿ç¨‹æ— æ³•åŒæ—¶è®¿é—®ï¼Œå¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾é”æ‰èƒ½è¿›å…¥æ“ä½œï¼Œä¼šå½±å“å¹¶å‘çš„å“åº”é€Ÿåº¦ã€‚å¦å¤–ï¼ŒåŠ é”å’Œé‡Šæ”¾é”éƒ½éœ€è¦æ¶ˆè€—é¢å¤–çš„ç³»ç»Ÿèµ„æºï¼Œä¹Ÿä¼šå½±å“å¹¶å‘çš„å¤„ç†é€Ÿåº¦ã€‚&lt;/p&gt; 
&lt;p&gt;åœ¨ç«äº‰æ¿€çƒˆï¼ˆå‡ºç°å¹¶å‘å†²çªçš„æ¦‚ç‡è¾ƒå¤§ï¼‰çš„åœºæ™¯ä¸­ï¼Œæ‚²è§‚é”åˆ™æ›´æœ‰ä¼˜åŠ¿ã€‚å› ä¸ºä¹è§‚é”åœ¨æ‰§è¡Œæ›´æ–°çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå› ä¸ºæ•°æ®è¢«åå¤ä¿®æ”¹è€Œæ›´æ–°å¤±è´¥ï¼Œè¿›è€Œä¸æ–­é‡è¯•ï¼Œé€ æˆCPUèµ„æºçš„æµªè´¹ã€‚&lt;/p&gt; 
&lt;h3&gt;Synchronized å’Œ Lock åŒºåˆ«&lt;/h3&gt; 
&lt;p&gt;1ã€Synchronized å†…ç½®çš„Javaå…³é”®å­—ï¼Œ Lock æ˜¯ä¸€ä¸ªJavaç±»&lt;/p&gt; 
&lt;p&gt;2ã€Synchronized æ— æ³•åˆ¤æ–­è·å–é”çš„çŠ¶æ€ï¼ŒLock å¯ä»¥åˆ¤æ–­æ˜¯å¦è·å–åˆ°äº†é”&lt;/p&gt; 
&lt;p&gt;3ã€Synchronized ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼Œlock å¿…é¡»è¦æ‰‹åŠ¨é‡Šæ”¾é”ï¼å¦‚æœä¸é‡Šæ”¾é”ï¼Œæ­»é”&lt;/p&gt; 
&lt;p&gt;4ã€Synchronized çº¿ç¨‹ 1ï¼ˆè·å¾—é”ï¼Œé˜»å¡ï¼‰ã€çº¿ç¨‹2ï¼ˆç­‰å¾…ï¼Œå‚»å‚»çš„ç­‰ï¼‰ï¼›Locké”å°±ä¸ä¸€å®šä¼šç­‰å¾…ä¸‹å»ï¼›&lt;/p&gt; 
&lt;p&gt;5ã€Synchronized å¯é‡å…¥é”ï¼Œä¸å¯ä»¥ä¸­æ–­çš„ï¼Œéå…¬å¹³ï¼›Lock ï¼Œå¯é‡å…¥é”ï¼Œå¯ä»¥ åˆ¤æ–­é”ï¼Œéå…¬å¹³ï¼ˆå¯ä»¥è‡ªå·±è®¾ç½®ï¼‰ï¼›&lt;/p&gt; 
&lt;p&gt;6ã€Synchronized é€‚åˆé”å°‘é‡çš„ä»£ç åŒæ­¥é—®é¢˜ï¼ŒLock é€‚åˆé”å¤§é‡çš„åŒæ­¥ä»£ç ï¼&lt;/p&gt; 
&lt;h3&gt;AQSçš„å®ç°åŸç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;AbstractQueuedSynchronizer(AQS --ç®€ç§°åŒæ­¥å™¨)æ˜¯ç”¨æ¥æ„å»ºé”åŠå…¶ä»–åŒæ­¥ç»„ä»¶çš„åŸºç¡€æ¡†æ¶ï¼Œå®ƒçš„å®ç°ä¸»è¦æ˜¯ä¾èµ–ä¸€ä¸ª&lt;strong&gt;intçŠ¶æ€å˜é‡&lt;/strong&gt;ä»¥åŠé€šè¿‡ä¸€ä¸ª&lt;strong&gt;FIFOé˜Ÿåˆ—&lt;/strong&gt;å…±åŒæ„æˆ&lt;strong&gt;åŒæ­¥é˜Ÿåˆ—&lt;/strong&gt;ã€‚å½“å¤šä¸ªçº¿ç¨‹ç«äº‰å…±äº«èµ„æºæ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹ç«äº‰åˆ°å…±äº«èµ„æºåï¼Œå…¶ä»–è¯·æ±‚èµ„æºçš„çº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œè¿›å…¥åŒæ­¥é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´åŒæ­¥é˜Ÿåˆ—ä¸­å­˜æ”¾çš„è¢«é˜»å¡çš„çº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹ç­‰å¾…cpuè°ƒåº¦å†æ¬¡ç«äº‰å…±äº«èµ„æºã€‚intçŠ¶æ€çš„æ›´æ–°ä½¿ç”¨CASï¼ŒåŒæ­¥å™¨æ—¢æ”¯æŒç‹¬å é”ï¼Œä¹Ÿæ”¯æŒå…±äº«é”ã€‚AQSçš„è®¾è®¡ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ä¸€äº›æ–¹æ³•å¼€æ”¾ç»™å­ç±»è¿›è¡Œé‡å†™ã€‚&lt;/p&gt; 
&lt;h3&gt;waitå’Œsleepçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€æ¥è‡ªä¸åŒçš„ç±»ï¼šwait-&amp;gt;Objectï¼Œsleep-&amp;gt;Thread&lt;/p&gt; 
&lt;p&gt;2ã€å…³äºé”çš„é‡Šæ”¾ï¼šwait ä¼šé‡Šæ”¾é”ï¼Œsleep ç¡è§‰äº†ï¼ŒæŠ±ç€é”ç¡è§‰ï¼Œä¸ä¼šé‡Šæ”¾ï¼&lt;/p&gt; 
&lt;p&gt;3ã€ä½¿ç”¨çš„èŒƒå›´ä¸åŒï¼šwaitå¿…é¡»åœ¨åŒæ­¥ä»£ç å—ä¸­ï¼Œsleepå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ç¡&lt;/p&gt; 
&lt;p&gt;4ã€æ˜¯å¦éœ€è¦æ•è·å¼‚å¸¸ï¼šwaitä¸éœ€è¦æ•è·å¼‚å¸¸ï¼Œsleepå¿…é¡»æ•è·å¼‚å¸¸&lt;/p&gt; 
&lt;h3&gt;Javaå¦‚ä½•å®ç°å¤šçº¿ç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€ç»§æ‰¿Threadç±»ï¼Œé‡å†™run()æ–¹æ³•ï¼Œä½¿ç”¨start()å¼€å¯å¤šçº¿ç¨‹&lt;/p&gt; 
&lt;p&gt;2ã€å®ç°Runnableæ¥å£ï¼ŒRunnable æ²¡æœ‰è¿”å›å€¼ã€æ•ˆç‡æ¯”Callable ç›¸å¯¹è¾ƒä½&lt;/p&gt; 
&lt;p&gt;3ã€å®ç°Callableæ¥å£ï¼ˆJUCä¸‹çš„ï¼‰&lt;/p&gt; 
&lt;h3 id=&quot;volatile&quot;&gt;&lt;strong&gt;volatile&lt;/strong&gt;&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€volatileçš„ä½œç”¨ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€ä¿è¯å¯è§æ€§&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;å¦‚ä½•ä¿è¯å¯è§æ€§ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;å½“å†™ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„&lt;strong&gt;æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼ç«‹åˆ»åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt; 
 &lt;p&gt;å½“è¯»ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼ŒJMMä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜è®¾ç½®ä¸ºæ— æ•ˆï¼Œ&lt;strong&gt;ç›´æ¥ä»ä¸»å†…å­˜è¯»å–å…±äº«å˜é‡&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;2ã€ä¸ä¿è¯åŸå­æ€§&lt;/p&gt; 
&lt;p&gt;3ã€å¯ä»¥é¿å…æŒ‡ä»¤é‡æ’ï¼ˆå†…å­˜å±éšœçš„å­˜åœ¨ï¼‰&lt;/p&gt; 
&lt;p&gt;volatileæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;volatileä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œ&lt;/strong&gt;volatileæ˜¯ä¸€ç§å¼±çš„åŒæ­¥æœºåˆ¶ï¼Œä¿æŠ¤çš„æ˜¯å˜é‡å®‰å…¨ï¼Œæƒ³è¦å¼ºçº¿ç¨‹å®‰å…¨éœ€è¦ç”¨synchronizedæˆ–locké”ã€‚&lt;/p&gt; 
&lt;h3 id=&quot;threadlocal&quot;&gt;ThreadLocal&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ThreadLocalçš„åŸç†ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;ThreadLocalæ˜¯çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼Œåœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½åˆ›å»ºäº†ä¸€ä¸ª&lt;strong&gt;é™æ€çš„ThreadLocalMapå¯¹è±¡&lt;/strong&gt;ï¼ˆkeyæ˜¯å½“å‰çº¿ç¨‹çš„å¥æŸ„ï¼Œvalueæ˜¯éœ€è¦ä¿æŒçš„å€¼ï¼‰ï¼Œæ¯ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®è‡ªå·±å†…éƒ¨ThreadLocalMapå¯¹è±¡å†…çš„valueã€‚&lt;/p&gt; 
&lt;p&gt;ThreadLocalçš„ä½œç”¨æ˜¯æä¾›ä¸€ç§&lt;strong&gt;çº¿ç¨‹éš”ç¦»&lt;/strong&gt;ï¼Œå°†&lt;strong&gt;å˜é‡ä¸çº¿ç¨‹ç›¸ç»‘å®š&lt;/strong&gt;ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€ThreadLocalçš„ç¼ºç‚¹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;å†…å­˜æ³„éœ²&lt;/strong&gt;ã€‚åŸå› æ˜¯ThreadLocalMapçš„ç”Ÿå‘½å‘¨æœŸè·ŸThreadä¸€æ ·é•¿ï¼Œå¦‚æœæ²¡æœ‰æ‰‹åŠ¨åˆ é™¤ï¼ˆremove()æ–¹æ³•ï¼‰å¯¹åº”keyå°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€ThreadLocalMapçš„keyä½¿ç”¨å“ªç§å¼•ç”¨ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;å¼±å¼•ç”¨&lt;/strong&gt;ï¼Œåœ¨ä½¿ç”¨å®ŒThreadLocalï¼Œå½“å‰Threadä¾ç„¶è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œå°±ç®—å¿˜è®°è°ƒç”¨removeæ–¹æ³•ï¼Œå¼±å¼•ç”¨æ¯”å¼ºå¼•ç”¨å¤šä¸€å±‚ä¿éšœï¼šå¼±å¼•ç”¨çš„ThreadLocalä¼šè¢«å›æ”¶ï¼Œå¯¹åº”çš„valueåœ¨ä¸‹ä¸€æ¬¡ThreadLocalMapè°ƒç”¨set/get/removeä¸­çš„ä»»ä¸€æ–¹æ³•çš„æ—¶å€™ä¼šè¢«æ¸…é™¤ï¼Œä»è€Œé¿å…å†…å­˜æ³„éœ²ã€‚&lt;/p&gt; 
&lt;h3&gt;Javaçº¿ç¨‹æ± &lt;/h3&gt; 
&lt;p&gt;ä¸€ã€çº¿ç¨‹æ± çš„å®ç°åŸç†&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620871941777/20190724203521927.png&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;Javaçº¿ç¨‹æ± çš„å®ç°åŸç†å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹é›†åˆworkersetå’Œä¸€ä¸ªé˜»å¡é˜Ÿåˆ—workqueueï¼Œå½“ç”¨æˆ·å‘çº¿ç¨‹æ± æäº¤ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šå…ˆå°†ä»»åŠ¡æ”¾å…¥workqueueä¸­ï¼ŒworkerSetä¸­çš„çº¿ç¨‹ä¼šä¸æ–­çš„ä»workQueueä¸­è·å–çº¿ç¨‹ç„¶åæ‰§è¡Œã€‚å½“workQueueä¸­æ²¡æœ‰ä»»åŠ¡çš„æ—¶å€™ï¼Œworkerå°±ä¼šé˜»å¡ç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡äº†å°±å–å‡ºæ¥ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€ä¸ƒå¤§å‚æ•°&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620873396349/81A686FD501190913C64D2C01AA04987&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;ä¸‰ã€submitä¸€ä¸ªtaskä»¥åè¿›è¡Œä»€ä¹ˆæ“ä½œï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€åˆ¤æ–­å½“å‰è¿è¡Œçš„workeræ•°é‡æ˜¯å¦è¶…è¿‡corePoolSizeï¼Œå¦‚æœä¸è¶…è¿‡corePoolSizeå°±åˆ›å»ºä¸€ä¸ªworkerç›´æ¥æ‰§è¡Œè¯¥ä»»åŠ¡ï¼ˆçº¿ç¨‹æ± æœ€å¼€å§‹æ²¡æœ‰workeråœ¨è¿è¡Œï¼‰&lt;/p&gt; 
&lt;p&gt;2ã€å¦‚æœæ­£åœ¨è¿è¡Œçš„workeræ•°é‡å¤§äºç­‰äºcorePoolSizeï¼Œé‚£ä¹ˆå°±å°†è¯¥ä»»åŠ¡åŠ å…¥åˆ°workQueueä¸­å»&lt;/p&gt; 
&lt;p&gt;3ã€å¦‚æœworkQueueæ»¡äº†å°±æ£€æŸ¥å½“å‰è¿è¡Œçš„workeræ•°é‡æ˜¯å¦å°äºmaximumPoolSizeï¼Œå¦‚æœå°äºå°±åˆ›å»ºä¸€ä¸ªworkeræ‰§è¡Œè¯¥ä»»åŠ¡&lt;/p&gt; 
&lt;p&gt;4ã€å¦‚æœå½“å‰è¿è¡Œçš„workeræ•°é‡å¤§äºç­‰äºmaximumPoolSizeï¼Œé‚£ä¹ˆå°±æ‰§è¡Œæ‹’ç»ç­–ç•¥&lt;/p&gt; 
&lt;p&gt;å››ã€çº¿ç¨‹æ± çš„ä½œç”¨ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;çº¿ç¨‹å¤ç”¨ã€æ§åˆ¶æœ€å¤§å¹¶å‘æ•°ã€ç®¡ç†çº¿ç¨‹&lt;/p&gt; 
&lt;h3&gt;Threadä¸­interrupt()interrupted()å’ŒisInterrupted()çš„åŒºåˆ«&lt;/h3&gt; 
&lt;p&gt;1ã€interrupt()ï¼šéé™æ€æ–¹æ³•ï¼Œä½œç”¨èŒƒå›´&lt;strong&gt;çº¿ç¨‹å®ä¾‹&lt;/strong&gt;ï¼Œç”±çº¿ç¨‹å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼Œå…¶ä½œç”¨æ˜¯&lt;strong&gt;ä¸­æ–­æ­¤çº¿ç¨‹å®ä¾‹&lt;/strong&gt;(æ³¨ï¼šä¸ä¸€å®šæ˜¯å½“å‰çº¿ç¨‹)ï¼Œä½†å®é™…ä¸Šåªæ˜¯ç»™çº¿ç¨‹è®¾ç½®ä¸€ä¸ªä¸­æ–­æ ‡å¿—ï¼Œçº¿ç¨‹ä»ä¼šç»§ç»­è¿è¡Œã€‚&lt;/p&gt; 
&lt;p&gt;2ã€interrupted()ï¼šé™æ€æ–¹æ³•ï¼Œä½œç”¨èŒƒå›´&lt;strong&gt;å½“å‰çº¿ç¨‹&lt;/strong&gt;ï¼Œä½œç”¨æ˜¯æµ‹è¯•&lt;strong&gt;å½“å‰çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­&lt;/strong&gt;ï¼ˆæ£€æŸ¥ä¸­æ–­æ ‡å¿—ï¼‰ï¼Œè¿”å›ä¸€ä¸ªbooleanå¹¶æ¸…é™¤ä¸­æ–­çŠ¶æ€ï¼Œç¬¬äºŒæ¬¡å†è°ƒç”¨æ—¶ä¸­æ–­çŠ¶æ€å·²ç»è¢«æ¸…é™¤ï¼Œå°†è¿”å›ä¸€ä¸ªfalse(æ¢å¥è¯è¯´ï¼Œå¤ä½çº¿ç¨‹çŠ¶æ€ï¼Œå¦‚æœå·²ç»å¤ä½ï¼Œå†æ¬¡å¤ä½åˆ™è¿”å›false)ã€‚&lt;/p&gt; 
&lt;p&gt;3ã€isInterrupted()ï¼šéé™æ€æ–¹æ³•ï¼Œä½œç”¨èŒƒå›´&lt;strong&gt;çº¿ç¨‹å®ä¾‹&lt;/strong&gt;ï¼Œç”±çº¿ç¨‹å®ä¾‹å¯¹è±¡è°ƒç”¨ï¼Œå…¶ä½œç”¨æ˜¯åªæµ‹è¯•æ­¤çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ ï¼Œä¸æ¸…é™¤ä¸­æ–­çŠ¶æ€ã€‚&lt;/p&gt; 
&lt;h2&gt;æ•°æ®åº“&lt;/h2&gt; 
&lt;h3&gt;ç´¢å¼•&lt;/h3&gt; 
&lt;h4&gt;ç´¢å¼•ä½¿ç”¨å“ªç§æ•°æ®ç»“æ„ï¼ŸåŒºåˆ«ï¼ŸMysqlä½¿ç”¨å“ªç§ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;ä¸€ã€å¸¸è§çš„ç´¢å¼•æœ‰Hashç´¢å¼•å’ŒB+æ ‘ç´¢å¼•ï¼ŒMysqlä½¿ç”¨çš„æ˜¯InnoDBå¼•æ“ï¼Œé»˜è®¤æ˜¯B+æ ‘ç´¢å¼•ã€‚ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€Hashç´¢å¼•å’ŒB+æ ‘ç´¢å¼•çš„åŒºåˆ«ï¼š&lt;/p&gt; 
 
&lt;p&gt;ä¸‰ã€èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€B+æ ‘çš„å¶å­èŠ‚ç‚¹å­˜å‚¨äº†&lt;strong&gt;æ•´è¡Œæ•°æ®&lt;/strong&gt;çš„æ˜¯&lt;strong&gt;ä¸»é”®ç´¢å¼•&lt;/strong&gt;ï¼Œä¹Ÿå«&lt;strong&gt;èšç°‡ç´¢å¼•&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;2ã€B+æ ‘çš„å¶å­èŠ‚ç‚¹&lt;strong&gt;å­˜å‚¨äº†ä¸»é”®çš„å€¼&lt;/strong&gt;çš„æ˜¯&lt;strong&gt;éä¸»é”®ç´¢å¼•&lt;/strong&gt;ï¼Œä¹Ÿå«&lt;strong&gt;éèšç°‡ç´¢å¼•&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;äºŒè€…æŸ¥è¯¢æ•°æ®æ—¶çš„åŒºåˆ«ï¼š&lt;/p&gt; 
&lt;p&gt;èšç°‡ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•ï¼‰æŸ¥è¯¢ä¼šæ›´å¿«ï¼Œå› ä¸ºä¸»é”®ç´¢å¼•æ ‘çš„å¶å­èŠ‚ç‚¹å°±æ˜¯è¦æŸ¥è¯¢çš„æ•°æ®ï¼Œè€Œéä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ˜¯ä¸»é”®çš„å€¼ï¼Œè¿˜éœ€è¦è¿›è¡Œ&lt;strong&gt;å›è¡¨&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;éä¸»é”®ç´¢å¼•ä¸€å®šä¼šå›è¡¨æŸ¥è¯¢å¤šæ¬¡å—ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;ä¸æ˜¯ï¼Œé€šè¿‡&lt;strong&gt;è¦†ç›–ç´¢å¼•&lt;/strong&gt;ä¹Ÿå¯ä»¥åªæŸ¥è¯¢ä¸€æ¬¡ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;è¦†ç›–ç´¢å¼•ï¼šä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œåªç”¨ä»ç´¢å¼•ä¸­å°±èƒ½å¤Ÿå–å¾—ï¼Œä¸å¿…ä»æ•°æ®è¡¨ä¸­è¯»å–ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h4&gt;ä»€ä¹ˆæ—¶å€™éœ€è¦å»ºç´¢å¼•ï¼Ÿä»€ä¹ˆæ—¶å€™æ²¡å¿…è¦å»ºç´¢å¼•ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;ç´¢å¼•æ–¹ä¾¿äº†æŸ¥æ‰¾çš„æ•ˆç‡ï¼Œä½†æ˜¯ä¼šå¯¼è‡´å¢åˆ æ”¹çš„é€Ÿç‡å˜æ…¢ï¼ˆå› ä¸ºä¸ä¸»é”®ç»‘å®šï¼‰ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸€ã€éœ€è¦å»ºç«‹ç´¢å¼•çš„æƒ…å†µ&lt;/p&gt; 
&lt;p&gt;1ã€ä¸»é”®è‡ªåŠ¨å»ºç«‹å”¯ä¸€ç´¢å¼•&lt;/p&gt; 
&lt;p&gt;2ã€é¢‘ç¹è¿›è¡ŒæŸ¥è¯¢çš„å­—æ®µåº”è¯¥åˆ›å»ºç´¢å¼•&lt;/p&gt; 
&lt;p&gt;3ã€ä¸å…¶ä»–è¡¨è¿›è¡Œè”åˆæŸ¥è¯¢çš„å­—æ®µï¼Œå¤–é”®å…³ç³»å»ºç«‹ç´¢å¼•&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;ä¸»é”®å’Œå¤–é”®ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;ä¸»é”®æ˜¯èƒ½ç¡®å®šä¸€æ¡è®°å½•çš„å”¯ä¸€æ ‡è¯†&lt;/p&gt; 
 &lt;p&gt;å¤–é”®ç”¨äºä¸å¦ä¸€å¼ è¡¨çš„å…³è”ï¼Œæ˜¯èƒ½ç¡®å®šå¦ä¸€å¼ è¡¨è®°å½•çš„å­—æ®µï¼Œç”¨äºä¿æŒæ•°æ®ä¸€è‡´æ€§&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;span&gt;4ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;æˆ–åˆ†ç»„è¦ç”¨åˆ°çš„å­—æ®µ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;äºŒã€ä¸éœ€è¦åˆ›å»ºç´¢å¼•çš„æƒ…å†µ&lt;/p&gt; 
&lt;p&gt;1ã€è¡¨è®°å½•å¤ªå°‘&lt;/p&gt; 
&lt;p&gt;2ã€å­—æ®µç»å¸¸è¿›è¡Œå¢åˆ æ”¹çš„æ“ä½œ&lt;/p&gt; 
&lt;p&gt;3ã€whereæ¡ä»¶ç”¨ä¸åˆ°çš„å­—æ®µ&lt;/p&gt; 
&lt;h4&gt;ç´¢å¼•å¤±æ•ˆçš„ä¸ƒç§æƒ…å†µï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;1ã€æ¡ä»¶ä¸­æœ‰orå¿…é¡»æ¯ä¸ªåˆ—éƒ½åŠ ä¸Šç´¢å¼•&lt;/p&gt; 
&lt;p&gt;2ã€å¤åˆç´¢å¼•æœªç”¨å·¦åˆ—å­—æ®µ&lt;/p&gt; 
&lt;p&gt;3ã€likeä»¥%å¼€å¤´&lt;/p&gt; 
&lt;p&gt;4ã€éœ€è¦ç±»å‹è½¬æ¢&lt;/p&gt; 
&lt;p&gt;5ã€whereä¸­ç´¢å¼•åˆ—æœ‰è¿ç®—&lt;/p&gt; 
&lt;p&gt;6ã€whereä¸­ç´¢å¼•åˆ—ä½¿ç”¨äº†å‡½æ•°&lt;/p&gt; 
&lt;p&gt;7ã€å¦‚æœmysqlè§‰å¾—å…¨è¡¨æ‰«ææ›´å¿«æ—¶ï¼ˆæ•°æ®å°‘ï¼‰&lt;/p&gt; 
&lt;h4&gt;Mysql5.6å¯¹äºç´¢å¼•çš„ä¼˜åŒ–ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;å¼•å…¥äº†&lt;strong&gt;ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨æœ‰likeæ¡ä»¶æŸ¥è¯¢çš„æƒ…å†µä¸‹ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ã€‚&lt;/p&gt; 
&lt;h4&gt;é€šè¿‡ä»€ä¹ˆæ–¹æ³•æ¥åˆ¤æ–­æœ‰æ²¡æœ‰èµ°ç´¢å¼•æŸ¥è¯¢ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;å¯ä»¥é€šè¿‡&lt;strong&gt;explain&lt;/strong&gt;æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œé€šè¿‡æ‰§è¡Œè®¡åˆ’æ¥åˆ†æç´¢å¼•ä½¿ç”¨æƒ…å†µã€‚&lt;/p&gt; 
&lt;h3&gt;å¦‚ä½•ç”¨explainæ¥åˆ†æä¸€æ¡sqlçš„æ‰§è¡Œè®¡åˆ’ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;explainè¯­å¥çš„å„é¡¹è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th&gt;&lt;strong&gt;&lt;code&gt;åˆ—å&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt; 
   &lt;th&gt;&lt;strong&gt;&lt;code&gt;ç”¨é€”&lt;/code&gt;&lt;/strong&gt;&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td&gt;id&lt;/td&gt; 
   &lt;td&gt;æ¯ä¸€ä¸ªSELECTå…³é”®å­—æŸ¥è¯¢è¯­å¥éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€id&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;select_type&lt;/td&gt; 
   &lt;td&gt;SELECTå…³é”®å­—å¯¹åº”çš„æŸ¥è¯¢ç±»å‹&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;table&lt;/td&gt; 
   &lt;td&gt;è¡¨å&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;partitions&lt;/td&gt; 
   &lt;td&gt;åŒ¹é…çš„åˆ†åŒºä¿¡æ¯&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/td&gt; 
   &lt;td&gt;å•è¡¨çš„è®¿é—®æ–¹æ³•&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;possible_keys&lt;/td&gt; 
   &lt;td&gt;å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;&lt;strong&gt;key&lt;/strong&gt;&lt;/td&gt; 
   &lt;td&gt;å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;key_len&lt;/td&gt; 
   &lt;td&gt;å®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•é•¿åº¦&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;ref&lt;/td&gt; 
   &lt;td&gt;å½“ä½¿ç”¨ç´¢å¼•åˆ—ç­‰å€¼æŸ¥è¯¢æ—¶ï¼Œä¸ç´¢å¼•åˆ—è¿›è¡Œç­‰å€¼åŒ¹é…çš„å¯¹è±¡ä¿¡æ¯&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;rows&lt;/td&gt; 
   &lt;td&gt;é¢„ä¼°éœ€è¦è¯»å–çš„è®°å½•æ¡æ•°&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;filtered&lt;/td&gt; 
   &lt;td&gt;æŸä¸ªè¡¨ç»è¿‡æ¡ä»¶è¿‡æ»¤åå‰©ä½™çš„è®°å½•æ¡æ•°ç™¾åˆ†æ¯”&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;&lt;strong&gt;Extra&lt;/strong&gt;&lt;/td&gt; 
   &lt;td&gt;é¢å¤–çš„ä¸€äº›ä¿¡æ¯&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;é‡ç‚¹è¯´ä¸€ä¸‹&lt;code&gt;type&lt;/code&gt;å­—æ®µï¼š&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620873575754/B40C3727BF05CE9ACBEF38659040FE58&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;æœ€ä¼˜åˆ°æœ€å·®åˆ†åˆ«ä¸ºï¼šsystem &amp;gt; const &amp;gt; eq_ref &amp;gt; ref &amp;gt; range &amp;gt; index &amp;gt; ALL&lt;/p&gt; 
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå¾—ä¿è¯æŸ¥è¯¢&lt;strong&gt;è‡³å°‘è¾¾åˆ°rangeçº§åˆ«&lt;/strong&gt;ï¼Œæœ€å¥½èƒ½è¾¾åˆ°refã€‚&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;code&gt;system,const&lt;/code&gt;ï¼šMySQL èƒ½å¯¹æŸ¥è¯¢çš„æŸéƒ¨åˆ†è¿›è¡Œä¼˜åŒ–å¹¶å°†å…¶è½¬åŒ–æˆä¸€ä¸ªå¸¸é‡ã€‚&lt;strong&gt;ç”¨äºä¸»é”®æˆ–å”¯ä¸€äºŒçº§ç´¢å¼•åˆ—ä¸å¸¸æ•°æ¯”è¾ƒæ—¶ï¼Œæ‰€ä»¥è¡¨æœ€å¤šæœ‰ä¸€ä¸ªåŒ¹é…è¡Œ&lt;/strong&gt;ï¼Œè¯»å–1æ¬¡ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ã€‚&lt;code&gt;system&lt;/code&gt;æ˜¯ &lt;code&gt;const&lt;/code&gt; çš„ç‰¹ä¾‹ï¼Œè¡¨é‡Œåªæœ‰ä¸€æ¡è®°å½•åŒ¹é…æ—¶ä¸º &lt;code&gt;system&lt;/code&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;eq_ref&lt;/code&gt;ï¼šåœ¨&lt;strong&gt;è¿æ¥æŸ¥è¯¢&lt;/strong&gt;æ—¶ï¼Œå¦‚æœè¢«é©±åŠ¨è¡¨æ˜¯&lt;strong&gt;é€šè¿‡ä¸»é”®æˆ–è€…å”¯ä¸€äºŒçº§ç´¢å¼•åˆ—ç­‰å€¼åŒ¹é…çš„æ–¹å¼&lt;/strong&gt;è¿›è¡Œè®¿é—®çš„ï¼Œåˆ™å¯¹è¯¥è¢«é©±åŠ¨è¡¨çš„è®¿é—®æ–¹æ³•å°±æ˜¯ &lt;code&gt;eq_ref&lt;/code&gt;ã€‚è¿™å¯èƒ½æ˜¯åœ¨ const ä¹‹å¤–æœ€å¥½çš„è”æ¥ç±»å‹äº†ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;ref&lt;/code&gt;ï¼šç›¸æ¯” eq_refï¼Œä¸ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼Œè€Œæ˜¯&lt;strong&gt;ä½¿ç”¨æ™®é€šç´¢å¼•æˆ–è€…å”¯ä¸€æ€§ç´¢å¼•çš„éƒ¨åˆ†å‰ç¼€&lt;/strong&gt;ï¼Œç´¢å¼•è¦å’ŒæŸä¸ªå€¼ç›¸æ¯”è¾ƒï¼Œå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;range&lt;/code&gt;ï¼šä½¿ç”¨ç´¢å¼•è·å–&lt;strong&gt;èŒƒå›´åŒºé—´&lt;/strong&gt;çš„è®°å½•ï¼Œé€šå¸¸å‡ºç°åœ¨ &lt;code&gt;in, between ,&amp;gt; ,&amp;lt;, &amp;gt;=&lt;/code&gt; ç­‰æ“ä½œä¸­ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;index&lt;/code&gt;ï¼š&lt;strong&gt;æ‰«æå…¨è¡¨ç´¢å¼•&lt;/strong&gt;ï¼Œè¿™é€šå¸¸æ¯”ALLå¿«ä¸€äº›ã€‚&lt;strong&gt;ï¼ˆ&lt;code&gt;index&lt;/code&gt;æ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„ï¼Œè€Œ &lt;code&gt;ALL&lt;/code&gt; æ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–ï¼‰&lt;/strong&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;ALL&lt;/code&gt;ï¼šå³&lt;strong&gt;å…¨è¡¨æ‰«æ&lt;/strong&gt;ï¼ŒMySQL éœ€è¦ä»å¤´åˆ°å°¾å»æŸ¥æ‰¾è¡¨ä¸­æ‰€éœ€è¦çš„è¡Œã€‚é€šå¸¸æƒ…å†µä¸‹è¿™éœ€è¦å¢åŠ ç´¢å¼•æ¥è¿›è¡Œä¼˜åŒ–äº†ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;å†æ¥è¯´ä¸€ä¸‹&lt;code&gt;extra&lt;/code&gt;å­—æ®µï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;code&gt;Using index&lt;/code&gt;ï¼šè¡¨ç¤ºç›¸åº”çš„selectæ“ä½œä¸­ä½¿ç”¨äº†&lt;strong&gt;è¦†ç›–ç´¢å¼•&lt;/strong&gt;ï¼Œ&lt;strong&gt;æŸ¥è¯¢çš„åˆ—è¢«ç´¢å¼•è¦†ç›–&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸éœ€è¦å›è¡¨æŸ¥è¯¢&lt;/strong&gt;ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;Using temporary&lt;/code&gt;ï¼šMySQL ä¸­éœ€è¦åˆ›å»ºä¸€å¼ å†…éƒ¨ä¸´æ—¶è¡¨æ¥å¤„ç†æŸ¥è¯¢ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;code&gt;Using filesort&lt;/code&gt;&lt;span&gt;ï¼š&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;æ— æ³•ä½¿ç”¨ç´¢å¼•æ¥&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;ã€‚ &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;å½“å‘ç°&lt;code&gt;Extra&lt;/code&gt;æç¤ºä¸º &lt;code&gt;Using filesort&lt;/code&gt;ã€&lt;code&gt;Using temporary&lt;/code&gt; æ—¶å°±éœ€è¦æ ¼å¤–æ³¨æ„äº†ï¼Œè€ƒè™‘ç´¢å¼•ä¼˜åŒ–ã€‚&lt;/p&gt; 
&lt;h3&gt;æ•°æ®åº“å¼•æ“æœ‰å“ªå‡ ç§ï¼Ÿè¯¥å¦‚ä½•é€‰å‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸»è¦æœ‰InnoDBå’ŒMyISAMã€‚&lt;/p&gt; 
&lt;p&gt;å¦‚æœæ•°æ®è¡¨ä¸»è¦ç”¨æ¥æ’å…¥å’ŒæŸ¥è¯¢è®°å½•ï¼Œåˆ™MyISAMå¼•æ“èƒ½æä¾›è¾ƒé«˜çš„å¤„ç†æ•ˆç‡ï¼Œ&lt;strong&gt;ä¸æ”¯æŒå¤–é”®&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸æ”¯æŒäº‹åŠ¡&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;å¦‚æœè¦æä¾›æäº¤ã€å›æ»šã€å´©æºƒæ¢å¤èƒ½åŠ›çš„äº‹ç‰©å®‰å…¨ï¼ˆ&lt;strong&gt;ACID&lt;/strong&gt;å…¼å®¹ï¼‰èƒ½åŠ›ï¼Œå¹¶è¦æ±‚å®ç°&lt;strong&gt;å¹¶å‘æ§åˆ¶&lt;/strong&gt;ï¼ŒInnoDBæ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ï¼Œæ”¯æŒå¤–é”®å’Œäº‹åŠ¡ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸ºä»€ä¹ˆMyISAMè¯»æ¯”InnoDBå¿«ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€ç´¢å¼•å’Œæ•°æ®åˆ†å¼€å­˜å‚¨2ã€ä¸æ”¯æŒäº‹åŠ¡&lt;/p&gt; 
&lt;p&gt;ä¸ºä»€ä¹ˆInnoDBå†™æ¯”MyISAMå¿«ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;InnoDBé»˜è®¤è¡Œé”ï¼Œè€ŒMyISAMåªæœ‰è¡¨é”&lt;/p&gt; 
&lt;h3&gt;å¹¶å‘äº‹åŠ¡&lt;/h3&gt; 
&lt;ol&gt; 
 &lt;li&gt;&lt;p&gt;äº‹åŠ¡çš„å¹¶å‘é—®é¢˜æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿ&lt;/p&gt; &lt;p&gt;å¤šä¸ªäº‹åŠ¡åŒæ—¶æ“ä½œåŒä¸€ä¸ªæ•°æ®åº“çš„ç›¸åŒæ•°æ®&lt;/p&gt; &lt;/li&gt;
 &lt;li&gt;&lt;p&gt;å¹¶å‘é—®é¢˜æœ‰å“ªäº›ï¼Ÿ&lt;/p&gt; 
  &lt;ul&gt; 
   &lt;li&gt;è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œè¯»åˆ°çš„æ˜¯å…¶ä»–äº‹åŠ¡â€œæ›´æ–°â€çš„æ•°æ® &lt;/li&gt;
   &lt;li&gt;ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡å¤šæ¬¡è¯»å–ï¼Œç»“æœä¸ä¸€æ · &lt;/li&gt;
   &lt;li&gt;å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œè¯»åˆ°çš„æ˜¯å…¶ä»–äº‹åŠ¡â€œæ’å…¥â€çš„æ•°æ® &lt;/li&gt;
  &lt;/ul&gt; &lt;/li&gt;
 &lt;li&gt;&lt;p&gt;å¦‚ä½•è§£å†³å¹¶å‘é—®é¢˜ï¼Ÿ&lt;/p&gt; &lt;p&gt;è®¾ç½®éš”ç¦»çº§åˆ«&lt;/p&gt; &lt;/li&gt;
&lt;/ol&gt; 
&lt;h3&gt;äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h3&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th align=&quot;center&quot;&gt;è„è¯»&lt;/th&gt; 
   &lt;th align=&quot;center&quot;&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt; 
   &lt;th align=&quot;center&quot;&gt;å¹»è¯»&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td&gt;read uncommittedï¼ˆè¯»æœªæäº¤ï¼‰&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;read committedï¼ˆè¯»å·²æäº¤ï¼‰&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;repeatable readï¼ˆå¯é‡å¤è¯»ï¼‰&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;âˆš&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;serializableï¼ˆä¸²è¡ŒåŒ–ï¼‰&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
   &lt;td align=&quot;center&quot;&gt;Ã—&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;mysqlçš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;mysqlå¯é‡å¤è¯»çš„å®ç°åŸç†ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;ä½¿ç”¨ä¸€ç§å«MVCCçš„æ§åˆ¶æ–¹å¼ ï¼Œå³Mutil-Version Concurrency Controlï¼Œå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼Œç±»ä¼¼äºä¹è§‚é”çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œä¸ºæ¯è¡Œæ•°æ®å­˜å‚¨ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œ&lt;strong&gt;å½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œç‰ˆæœ¬å·åŠ 1&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h3&gt;æ•°æ®åº“çš„åˆ†åº“åˆ†è¡¨ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€æ•°æ®åº“ç“¶é¢ˆ&lt;/p&gt; 
&lt;p&gt;æ•°æ®åº“åˆ°è¾¾ç“¶é¢ˆæ—¶ä¼šå¯¼è‡´æ•°æ®åº“çš„æ´»è·ƒè¿æ¥æ•°å¢åŠ ï¼Œé€¼è¿‘æ•°æ®åº“å¯æ‰¿è½½æ´»è·ƒè¿æ¥æ•°çš„é˜ˆå€¼ï¼Œä¸šåŠ¡å±‚æ¥çœ‹å°±æ˜¯&lt;strong&gt;æ•°æ®åº“è¿æ¥å°‘ç”šè‡³æ— è¿æ¥å¯ç”¨&lt;/strong&gt;ï¼Œä¼šå¯¼è‡´å¹¶å‘é‡ã€ååé‡ã€æ•°æ®åº“å´©æºƒç­‰é—®é¢˜&lt;/p&gt; 
&lt;p&gt;1ã€IOç“¶é¢ˆ&lt;/p&gt; 
&lt;p&gt;1ï¼‰ç£ç›˜è¯»IOç“¶é¢ˆï¼šçƒ­ç‚¹æ•°æ®å¤ªå¤šï¼Œæ•°æ®åº“ç¼“å­˜æ”¾ä¸ä¸‹ï¼Œæ¯æ¬¡æŸ¥è¯¢æ—¶ä¼šäº§ç”Ÿå¤§é‡çš„IOï¼Œé™ä½æŸ¥è¯¢é€Ÿåº¦&lt;/p&gt; 
&lt;p&gt;â€‹ è§£å†³æ–¹æ³•ï¼šåˆ†åº“å’Œå‚ç›´åˆ†è¡¨&lt;/p&gt; 
&lt;p&gt;2ï¼‰ç½‘ç»œIOç“¶é¢ˆï¼Œè¯·æ±‚çš„æ•°æ®å¤ªå¤šï¼Œç½‘ç»œå¸¦å®½ä¸å¤Ÿ&lt;/p&gt; 
&lt;p&gt;â€‹ è§£å†³æ–¹æ³•ï¼šåˆ†åº“&lt;/p&gt; 
&lt;p&gt;2ã€CPUç“¶é¢ˆ&lt;/p&gt; 
&lt;p&gt;1ï¼‰SQLé—®é¢˜ï¼šå¦‚SQLä¸­åŒ…å«joinï¼Œgroup byï¼Œorder byï¼Œéç´¢å¼•å­—æ®µæ¡ä»¶æŸ¥è¯¢ç­‰ï¼Œå¢åŠ CPUè¿ç®—çš„æ“ä½œ&lt;/p&gt; 
&lt;p&gt;â€‹ è§£å†³æ–¹æ³•ï¼šSQLä¼˜åŒ–ï¼Œç®€å†åˆé€‚çš„ç´¢å¼•&lt;/p&gt; 
&lt;p&gt;2ï¼‰å•è¡¨æ•°æ®é‡å¤ªå¤§ï¼ŒæŸ¥è¯¢æ˜¯æ‰«æçš„è¡Œå¤ªå¤šï¼ŒSQLæ•ˆç‡ä½ï¼ŒCPUç‡å…ˆå‡ºç°ç“¶é¢ˆ&lt;/p&gt; 
&lt;p&gt;â€‹ è§£å†³æ–¹æ³•ï¼šæ°´å¹³åˆ†è¡¨&lt;/p&gt; 
&lt;p&gt;äºŒã€åˆ†åº“åˆ†è¡¨&lt;/p&gt; 
&lt;p&gt;1ã€æ°´å¹³åˆ†åº“ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸€å®šç­–ç•¥ï¼ˆhashã€rangeç­‰ï¼‰ï¼Œå°†ä¸€ä¸ªåº“ä¸­çš„æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªåº“ä¸­ã€‚&lt;/p&gt; 
&lt;p&gt;ç»“æœï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ¯ä¸ªåº“çš„ç»“æ„éƒ½ä¸€æ ·ï¼› &lt;/li&gt;
 &lt;li&gt;æ¯ä¸ªåº“çš„æ•°æ®éƒ½ä¸ä¸€æ ·ï¼Œæ²¡æœ‰äº¤é›†ï¼› &lt;/li&gt;
 &lt;li&gt;æ‰€æœ‰åº“çš„å¹¶é›†æ˜¯å…¨é‡æ•°æ®ï¼› &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;åœºæ™¯ï¼š&lt;strong&gt;ç³»ç»Ÿç»å¯¹å¹¶å‘é‡ä¸Šæ¥äº†&lt;/strong&gt;ï¼Œåˆ†è¡¨éš¾ä»¥æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼Œå¹¶ä¸”è¿˜&lt;strong&gt;æ²¡æœ‰æ˜æ˜¾çš„ä¸šåŠ¡å½’å±æ¥å‚ç›´åˆ†åº“&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;p&gt;åˆ†æï¼šåº“å¤šäº†ï¼Œioå’Œcpuçš„å‹åŠ›è‡ªç„¶å¯ä»¥æˆå€ç¼“è§£ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€æ°´å¹³åˆ†è¡¨ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸€å®šç­–ç•¥ï¼ˆhashã€rangeç­‰ï¼‰ï¼Œå°†ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªè¡¨ä¸­ã€‚&lt;/p&gt; 
&lt;p&gt;ç»“æœï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ¯ä¸ªè¡¨çš„ç»“æ„éƒ½ä¸€æ ·ï¼› &lt;/li&gt;
 &lt;li&gt;æ¯ä¸ªè¡¨çš„æ•°æ®éƒ½ä¸ä¸€æ ·ï¼Œæ²¡æœ‰äº¤é›†ï¼› &lt;/li&gt;
 &lt;li&gt;æ‰€æœ‰è¡¨çš„å¹¶é›†æ˜¯å…¨é‡æ•°æ®ï¼› &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;åœºæ™¯ï¼š&lt;strong&gt;ç³»ç»Ÿç»å¯¹å¹¶å‘é‡å¹¶æ²¡æœ‰ä¸Šæ¥&lt;/strong&gt;ï¼Œåªæ˜¯å•è¡¨çš„æ•°æ®é‡å¤ªå¤šï¼Œå½±å“äº†SQLæ•ˆç‡ï¼ŒåŠ é‡äº†CPUè´Ÿæ‹…ï¼Œä»¥è‡³äºæˆä¸ºç“¶é¢ˆã€‚&lt;/p&gt; 
&lt;p&gt;åˆ†æï¼šè¡¨çš„æ•°æ®é‡å°‘äº†ï¼Œå•æ¬¡SQLæ‰§è¡Œæ•ˆç‡é«˜ï¼Œè‡ªç„¶å‡è½»äº†CPUçš„è´Ÿæ‹…ã€‚&lt;/p&gt; 
&lt;p&gt;3ã€å‚ç›´åˆ†åº“ï¼šä»¥è¡¨ä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸šåŠ¡å½’å±ä¸åŒï¼Œå°†ä¸åŒçš„è¡¨æ‹†åˆ†åˆ°ä¸åŒçš„åº“ä¸­ã€‚&lt;/p&gt; 
&lt;p&gt;ç»“æœï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ¯ä¸ªåº“çš„ç»“æ„éƒ½ä¸ä¸€æ ·ï¼› &lt;/li&gt;
 &lt;li&gt;æ¯ä¸ªåº“çš„æ•°æ®ä¹Ÿä¸ä¸€æ ·ï¼Œæ²¡æœ‰äº¤é›†ï¼› &lt;/li&gt;
 &lt;li&gt;æ‰€æœ‰åº“çš„å¹¶é›†æ˜¯å…¨é‡æ•°æ®ï¼› &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;åœºæ™¯ï¼š&lt;strong&gt;ç³»ç»Ÿç»å¯¹å¹¶å‘é‡ä¸Šæ¥äº†&lt;/strong&gt;ï¼Œå¹¶ä¸”å¯ä»¥æŠ½è±¡å‡ºå•ç‹¬çš„ä¸šåŠ¡æ¨¡å—ã€‚&lt;/p&gt; 
&lt;p&gt;åˆ†æï¼šå°†ç›¸å…³çš„è¡¨æ‹†åˆ°å•ç‹¬çš„åº“ä¸­ï¼Œå¯ä»¥æœåŠ¡åŒ–ã€‚&lt;/p&gt; 
&lt;p&gt;4ã€å‚ç›´åˆ†è¡¨ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§å­—æ®µçš„æ´»è·ƒæ€§ï¼Œå°†è¡¨ä¸­å­—æ®µæ‹†åˆ°ä¸åŒçš„è¡¨ï¼ˆä¸»è¡¨å’Œæ‰©å±•è¡¨ï¼‰ä¸­ã€‚&lt;/p&gt; 
&lt;p&gt;ç»“æœï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ¯ä¸ªè¡¨çš„ç»“æ„éƒ½ä¸ä¸€æ ·ï¼› &lt;/li&gt;
 &lt;li&gt;æ¯ä¸ªè¡¨çš„æ•°æ®ä¹Ÿä¸ä¸€æ ·ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæ¯ä¸ªè¡¨çš„å­—æ®µè‡³å°‘æœ‰ä¸€åˆ—äº¤é›†ï¼Œä¸€èˆ¬æ˜¯ä¸»é”®ï¼Œç”¨äºå…³è”æ•°æ®ï¼› &lt;/li&gt;
 &lt;li&gt;æ‰€æœ‰è¡¨çš„å¹¶é›†æ˜¯å…¨é‡æ•°æ®ï¼› &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;åœºæ™¯ï¼š&lt;strong&gt;ç³»ç»Ÿç»å¯¹å¹¶å‘é‡å¹¶æ²¡æœ‰ä¸Šæ¥&lt;/strong&gt;ï¼Œè¡¨çš„è®°å½•å¹¶ä¸å¤šï¼Œä½†æ˜¯å­—æ®µå¤šï¼Œå¹¶ä¸”çƒ­ç‚¹æ•°æ®å’Œéçƒ­ç‚¹æ•°æ®åœ¨ä¸€èµ·ï¼Œå•è¡Œæ•°æ®æ‰€éœ€çš„å­˜å‚¨ç©ºé—´è¾ƒå¤§ã€‚ä»¥è‡³äºæ•°æ®åº“ç¼“å­˜çš„æ•°æ®è¡Œå‡å°‘ï¼ŒæŸ¥è¯¢æ—¶ä¼šå»è¯»ç£ç›˜æ•°æ®äº§ç”Ÿå¤§é‡çš„éšæœºè¯»IOï¼Œäº§ç”ŸIOç“¶é¢ˆã€‚&lt;/p&gt; 
&lt;p&gt;åˆ†æï¼šå‚ç›´åˆ†è¡¨çš„æ‹†åˆ†åŸåˆ™æ˜¯å°†çƒ­ç‚¹æ•°æ®æ”¾åœ¨ä¸€èµ·ä½œä¸ºä¸»è¡¨ï¼Œéçƒ­ç‚¹æ•°æ®æ”¾åœ¨ä¸€èµ·ä½œä¸ºæ‰©å±•è¡¨ã€‚è¿™æ ·æ›´å¤šçš„çƒ­ç‚¹æ•°æ®å°±èƒ½è¢«ç¼“å­˜ä¸‹æ¥ï¼Œè¿›è€Œå‡å°‘äº†éšæœºè¯»IOã€‚æ‹†äº†ä¹‹åï¼Œè¦æƒ³è·å¾—å…¨éƒ¨æ•°æ®å°±éœ€è¦å…³è”ä¸¤ä¸ªè¡¨æ¥å–æ•°æ®ã€‚ä½†è®°ä½ï¼Œåƒä¸‡åˆ«ç”¨joinï¼Œå› ä¸ºjoinä¸ä»…ä¼šå¢åŠ CPUè´Ÿæ‹…å¹¶ä¸”ä¼šè®²ä¸¤ä¸ªè¡¨è€¦åˆåœ¨ä¸€èµ·ï¼ˆå¿…é¡»åœ¨ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ä¸Šï¼‰ã€‚å…³è”æ•°æ®ï¼Œåº”è¯¥åœ¨ä¸šåŠ¡Serviceå±‚åšæ–‡ç« ï¼Œåˆ†åˆ«è·å–ä¸»è¡¨å’Œæ‰©å±•è¡¨æ•°æ®ç„¶åç”¨å…³è”å­—æ®µå…³è”å¾—åˆ°å…¨éƒ¨æ•°æ®ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€åˆ†åº“åˆ†è¡¨æ­¥éª¤&lt;/p&gt; 
&lt;p&gt;æ ¹æ®å®¹é‡ï¼ˆå½“å‰å®¹é‡å’Œå¢é•¿é‡ï¼‰è¯„ä¼°åˆ†åº“æˆ–åˆ†è¡¨ä¸ªæ•° -&amp;gt; é€‰keyï¼ˆå‡åŒ€ï¼‰-&amp;gt; åˆ†è¡¨è§„åˆ™ï¼ˆhashæˆ–rangeç­‰ï¼‰-&amp;gt; æ‰§è¡Œï¼ˆä¸€èˆ¬åŒå†™ï¼‰-&amp;gt; æ‰©å®¹é—®é¢˜ï¼ˆå°½é‡å‡å°‘æ•°æ®çš„ç§»åŠ¨ï¼‰&lt;/p&gt; 
&lt;h3&gt;MySQLä¸­çš„é”ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹è¡Œé”ä¼šå˜æˆè¡¨é”ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;è¡Œé”+è¡¨é”&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;æ²¡æœ‰ç´¢å¼•æˆ–è€…ç´¢å¼•å¤±æ•ˆæ—¶ï¼ŒInnoDB çš„è¡Œé”å˜è¡¨é”&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;åŸå› ï¼šMysql çš„è¡Œé”æ˜¯é€šè¿‡ç´¢å¼•å®ç°çš„&lt;/p&gt; 
&lt;h2&gt;æ“ä½œç³»ç»Ÿ&lt;/h2&gt; 
&lt;h3&gt;æ­»é”&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ä»€ä¹ˆæ˜¯çº¿ç¨‹æ­»é”ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;é¦–å…ˆæ˜ç¡®ï¼šè¿›ç¨‹æ­»é”å’Œçº¿ç¨‹æ­»é”çš„åŒºåˆ«å°±æ˜¯æ­»é”çš„åŸºæœ¬å•ä½ä¸åŒã€‚&lt;/p&gt; 
&lt;p&gt;çº¿ç¨‹æ­»é”æ˜¯å½“å¤šä¸ªçº¿ç¨‹äº’ç›¸æŒæœ‰å¯¹æ–¹æ‰€éœ€è¦çš„èµ„æºæ—¶ï¼Œä¼šäº’ç›¸ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œå¦‚æœçº¿ç¨‹éƒ½ä¸ä¸»åŠ¨é‡Šæ”¾æ‰€å æœ‰çš„èµ„æºï¼Œå°†äº§ç”Ÿæ­»é”ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€æ­»é”äº§ç”Ÿçš„å››ä¸ªæ¡ä»¶ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€äº’æ–¥ï¼šä¸€ä¸ªèµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨&lt;/p&gt; 
&lt;p&gt;2ã€ä¸å‰¥å¤ºï¼šè¿›ç¨‹å·²ç»è·å¾—çš„èµ„æºåœ¨ä½¿ç”¨å®Œä»¥å‰ä¸èƒ½å¼ºè¡Œå‰¥å¤º&lt;/p&gt; 
&lt;p&gt;3ã€è¯·æ±‚å’Œä¿æŒï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾&lt;/p&gt; 
&lt;p&gt;4ã€å¾ªç¯ç­‰å¾…ï¼šå¤šä¸ªè¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§äº’ç›¸å¾ªç¯ç­‰å¾…èµ„æºçš„å…³ç³»&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€å¦‚ä½•é¿å…çº¿ç¨‹æ­»é”ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€æ§åˆ¶åŠ é”é¡ºåºï¼ˆå¸¸ç”¨ï¼‰&lt;/p&gt; 
&lt;p&gt;æ‰€æœ‰çš„çº¿ç¨‹éƒ½æŒ‰ç…§ç›¸åŒçš„é¡ºåºè·å¾—é”ï¼Œéœ€è¦äº‹å…ˆçŸ¥é“æ‰€æœ‰å¯èƒ½ä¼šç”¨åˆ°çš„é”&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€é“¶è¡Œå®¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;è¿›ç¨‹è¿è¡Œä¹‹å‰å…ˆ&lt;strong&gt;å£°æ˜&lt;/strong&gt;å¯¹å„ç§èµ„æºçš„&lt;strong&gt;æœ€å¤§éœ€æ±‚é‡&lt;/strong&gt;ï¼Œå½“è¿›ç¨‹åœ¨æ‰§è¡Œä¸­ç»§ç»­ç”³è¯·èµ„æºæ—¶ï¼Œå…ˆæµ‹è¯•è¿›ç¨‹å·²å ç”¨çš„èµ„æºæ•°ä¸æœ¬æ¬¡ç”³è¯·çš„èµ„æºæ•°ä¹‹å’Œæ˜¯å¦&lt;strong&gt;è¶…è¿‡&lt;/strong&gt;è¯¥è¿›ç¨‹å£°æ˜çš„æœ€å¤§éœ€æ±‚é‡ï¼Œè‹¥è¶…è¿‡åˆ™æ‹’ç»åˆ†é…èµ„æºï¼Œè‹¥æœªè¶…è¿‡åˆ™å†æµ‹è¯•ç³»ç»Ÿç°å­˜çš„èµ„æºèƒ½å¦æ»¡è¶³è¯¥è¿›åŸæ‰€éœ€çš„æœ€å¤§èµ„æºé‡ï¼Œè‹¥èƒ½æ»¡è¶³åˆ™æŒ‰å½“å‰çš„ç”³è¯·é‡åˆ†é…èµ„æºï¼Œå¦åˆ™ä¹Ÿè¦æ¨è¿Ÿåˆ†é…ã€‚&lt;/p&gt; 
&lt;p&gt;å››ã€æ€ä¹ˆå®šä½ç¨‹åºå“ªé‡Œå‘ç”Ÿäº†æ­»é”ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€ä½¿ç”¨ jps -l å®šä½è¿›ç¨‹å·&lt;/p&gt; 
&lt;p&gt;2ã€ä½¿ç”¨ jstack è¿›ç¨‹å· æ‰¾åˆ°æ­»é”é—®é¢˜&lt;/p&gt; 
&lt;p&gt;äº”ã€æ­»é”æ¥è§¦çš„æ–¹æ³•ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ã€èµ„æºå‰¥å¤ºæ³•ï¼šæŒ‚èµ·æŸäº›æ­»é”å¹¶æŠ¢å¤ºå®ƒçš„èµ„æºï¼Œä»¥ä¾¿è®©å…¶ä»–è¿›ç¨‹ç»§ç»­æ¨è¿›&lt;/p&gt; 
&lt;p&gt;2ã€æ’¤é”€è¿›ç¨‹æ³•ï¼šå¼ºåˆ¶æ’¤é”€éƒ¨åˆ†ã€ç”šè‡³å…¨éƒ¨æ­»é”è¿›ç¨‹å¹¶å‰¥å¤ºè¿™äº›è¿›ç¨‹çš„èµ„æº&lt;/p&gt; 
&lt;p&gt;3ã€è¿›ç¨‹å›é€€æ³•ï¼šè®©ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹å›é€€åˆ°è¶³ä»¥å›é¿æ­»é”çš„åœ°æ­¥&lt;/p&gt; 
&lt;h3&gt;å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ï¼‰æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œè€Œå †æ˜¯äººä¸ºç”³è¯·å¼€è¾Ÿï¼›&lt;/p&gt; 
&lt;p&gt;2ï¼‰æ ˆè·å¾—çš„ç©ºé—´è¾ƒå°ï¼Œè€Œå †è·å¾—çš„ç©ºé—´è¾ƒå¤§ï¼›&lt;/p&gt; 
&lt;p&gt;3ï¼‰æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œè€Œå †ä¸€èˆ¬é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼›&lt;/p&gt; 
&lt;p&gt;4ï¼‰æ ˆæ˜¯è¿ç»­çš„ç©ºé—´ï¼Œè€Œå †æ˜¯ä¸è¿ç»­çš„ç©ºé—´ã€‚&lt;/p&gt; 
&lt;h3&gt;è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€è¿›ç¨‹æ˜¯ä¸€æ®µç¨‹åºï¼Œæ˜¯èµ„æºåˆ†é…çš„æœ€å°å•å…ƒï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•å…ƒï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«æœ‰å¤šä¸ªçº¿ç¨‹&lt;/p&gt; 
&lt;p&gt;2ã€è¿›ç¨‹æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜ç©ºé—´ï¼›çº¿ç¨‹æœ‰ç‹¬ç«‹çš„æ ˆï¼Œæ²¡æœ‰ç‹¬ç«‹çš„å †ï¼Œå †é€šå¸¸ä¸è¿›ç¨‹ç›¸å…³ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„æ ˆï¼Œè®¿é—®å…±åŒçš„å †&lt;/p&gt; 
&lt;p&gt;3ã€é€šä¿¡æ–¹å¼ä¸åŒ&lt;/p&gt; 
&lt;h3&gt;è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼åŠé€‚ç”¨åœºæ™¯ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€å…±äº«å†…å­˜é€šä¿¡&lt;/p&gt; 
&lt;p&gt;å…±äº«å†…å­˜æ˜¯æŒ‡&lt;strong&gt;å¤šä¸ªè¿›ç¨‹å…±äº«ä¸€å—å†…å­˜&lt;/strong&gt;ï¼Œæ˜¯ä¸“é—¨ç”¨æ¥è§£å†³ä¸åŒè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡é—®é¢˜çš„ï¼Œç”±äºæ˜¯ç›´æ¥å¯¹å†…å­˜è¿›è¡Œæ•°æ®ä¼ è¾“æ“ä½œï¼Œæ‰€ä»¥æ˜¯&lt;strong&gt;é€Ÿåº¦æœ€å¿«&lt;/strong&gt;çš„IPCï¼ˆinter-process communicationï¼‰æ–¹å¼ï¼Œå› ä¸ºæ˜¯å…±äº«å†…å­˜ï¼Œæ‰€ä»¥éœ€è¦&lt;strong&gt;é…åˆä¿¡å·é‡&lt;/strong&gt;æœºåˆ¶å®ç°åŒæ­¥ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€ç®¡é“é€šä¿¡&lt;/p&gt; 
&lt;p&gt;1ã€æ— åç®¡é“&lt;/p&gt; 
&lt;p&gt;åŠåŒå·¥ï¼Œåªèƒ½åœ¨å…·&lt;strong&gt;æœ‰äº²ç¼˜å…³ç³»&lt;/strong&gt;çš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚ï¼ˆè¿›ç¨‹çš„äº²ç¼˜å…³ç³»é€šå¸¸æ˜¯æŒ‡çˆ¶å­è¿›ç¨‹å…³ç³»ï¼‰&lt;/p&gt; 
&lt;p&gt;2ã€å…·åç®¡é“&lt;/p&gt; 
&lt;p&gt;åŠåŒå·¥ï¼Œå…è®¸&lt;strong&gt;æ— äº²ç¼˜å…³ç³»&lt;/strong&gt;è¿›ç¨‹é—´çš„é€šä¿¡ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€æ¶ˆæ¯é˜Ÿåˆ—&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;æ¶ˆæ¯é˜Ÿåˆ—æ˜¯æ¶ˆæ¯çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;ï¼Œå…‹æœäº†ä¿¡å·ä¼ é€’æ¶ˆæ¯å°‘ï¼Œç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºç‚¹ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;å››ã€å¥—æ¥å­—é€šä¿¡&lt;/p&gt; 
&lt;p&gt;å¯ç”¨äºä¸åŒæœºå™¨é—´çš„è¿›ç¨‹é€šä¿¡ã€‚&lt;/p&gt; 
&lt;h3&gt;ä»€ä¹ˆæ˜¯åç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åç¨‹æ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ï¼Œ&lt;strong&gt;ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªåç¨‹&lt;/strong&gt;ã€‚åç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œæ˜¯å®Œå…¨&lt;strong&gt;ç”±ç¨‹åºæ‰€æ§åˆ¶&lt;/strong&gt;ï¼ˆä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼‰ï¼Œå¥½å¤„æ˜¯&lt;strong&gt;æ€§èƒ½å¾—åˆ°äº†å¾ˆå¤§æå‡&lt;/strong&gt;ï¼Œä¸ä¼šåƒçº¿ç¨‹åˆ‡æ¢é‚£æ ·æ¶ˆè€—èµ„æºã€‚&lt;/p&gt; 
&lt;h3&gt;JDK1.8åé”çš„å‡ ç§çŠ¶æ€ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;æ— é”çŠ¶æ€ã€åå‘é”ã€è½»é‡çº§é”ã€é‡é‡çº§é”&lt;/p&gt; 
&lt;h2&gt;è®¡ç®—æœºç½‘ç»œ&lt;/h2&gt; 
&lt;h3&gt;&lt;strong&gt;BIOã€NIOã€AIOçš„åŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;img alt=&quot;img&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620871941745/v2-287adf33d7dd43cb745de0a88f7d10ff_720w.jpg&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;BIOï¼šåŒæ­¥é˜»å¡IOï¼Œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å ç”¨çš„èµ„æºå¾ˆé‡ï¼Œæ— ç”¨çš„è¯·æ±‚ä¹Ÿä¼šå ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæ²¡æœ‰æ•°æ®åˆ°è¾¾ä¹Ÿä¼šé˜»å¡ã€‚&lt;/p&gt; 
&lt;p&gt;æ”¹è¿›ï¼šçº¿ç¨‹æ± æœºåˆ¶&lt;/p&gt; 
&lt;p&gt;NIOï¼šåŒæ­¥éé˜»å¡IOï¼Œåˆ©ç”¨å¤šè·¯å¤ç”¨æŠ€æœ¯ï¼ˆselectï¼Œpollï¼Œepollï¼‰ï¼Œå¤šä¸ªsocketé€šé“å¯¹åº”ä¸€ä¸ªçº¿ç¨‹&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;AIOï¼šä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;çš„ I/O è¯·æ±‚éƒ½æ˜¯ç”± OS å…ˆå®Œæˆäº†å†é€šçŸ¥æœåŠ¡å™¨åº”ç”¨å»å¯åŠ¨çº¿ç¨‹è¿›è¡Œå¤„ç†&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;æµè§ˆå™¨è¾“å…¥ä¸€ä¸ªç½‘å€åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€DNSè§£æï¼š&lt;/p&gt; 
&lt;p&gt;æµè§ˆå™¨ä¼šæ ¹æ®è¾“å…¥çš„URLå»æŸ¥æ‰¾å¯¹åº”çš„IPï¼Œå¯»æ‰¾çš„è¿‡ç¨‹éµå¾ªå°±è¿‘åŸåˆ™ï¼Œä¾æ¬¡æ˜¯ï¼šæµè§ˆå™¨ç¼“å­˜ --&amp;gt; æ“ä½œç³»ç»Ÿç¼“å­˜ --&amp;gt; è·¯ç”±å™¨ç¼“å­˜--&amp;gt;æœ¬åœ°ï¼ˆISPï¼‰åŸŸåæœåŠ¡å™¨ç¼“å­˜ --&amp;gt; æ ¹åŸŸåæœåŠ¡å™¨&lt;/p&gt; 
&lt;p&gt;2ã€è¿›è¡ŒTCPè¿æ¥&lt;/p&gt; 
&lt;p&gt;æµè§ˆå™¨å¾—åˆ°IPä»¥åï¼Œå‘æœåŠ¡å™¨å‘é€TCPè¿æ¥ï¼ŒTCPè¿æ¥ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹&lt;/p&gt; 
&lt;p&gt;3ã€æµè§ˆå™¨å‘é€HTTPè¯·æ±‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;HTTPçš„è¯·æ±‚æ–¹å¼ä¸ºgetï¼Œè¿™ä¸ªgetè¯·æ±‚åŒ…å«äº†ä¸»æœºï¼ˆHostï¼‰ã€ç”¨æˆ·ä»£ç†(User-Agent)ï¼Œç”¨æˆ·ä»£ç†å°±æ˜¯è‡ªå·±çš„æµè§ˆå™¨ï¼Œå®ƒæ˜¯ä½ çš„&quot;ä»£ç†äºº&quot;ï¼ŒConnectionï¼ˆè¿æ¥å±æ€§ï¼‰ä¸­çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=keep&quot; target=&quot;_blank&quot;&gt;keep&lt;/a&gt;-aliveè¡¨ç¤ºæµè§ˆå™¨å‘Šè¯‰å¯¹æ–¹æœåŠ¡å™¨åœ¨ä¼ è¾“å®Œç°åœ¨è¯·æ±‚çš„å†…å®¹åä¸è¦æ–­å¼€è¿æ¥ï¼Œä¸æ–­å¼€çš„è¯ä¸‹æ¬¡ç»§ç»­è¿æ¥é€Ÿåº¦å°±å¾ˆå¿«äº†ã€‚å¯èƒ½è¿˜ä¼šæœ‰Cookiesï¼ŒCookiesä¿å­˜äº†ç”¨æˆ·çš„ç™»é™†ä¿¡æ¯ï¼Œä¸€èˆ¬ä¿å­˜çš„æ˜¯ç”¨æˆ·çš„JSESSIONIDï¼Œåœ¨æ¯æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ä¼šé‡å¤å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±çŸ¥é“æ˜¯å“ªä¸ªæµè§ˆå™¨ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;4ã€æœåŠ¡å™¨å¤„ç†è¯·æ±‚&lt;/p&gt; 
&lt;p&gt;æœåŠ¡å™¨ä¼ å›æ¥å“åº”å¤´ï¼ˆåŒ…å«çŠ¶æ€ç ï¼‰å’Œå…·ä½“çš„è¦è¯·æ±‚çš„é¡µé¢å†…å®¹&lt;/p&gt; 
&lt;p&gt;5ã€æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢&lt;/p&gt; 
&lt;p&gt;6ã€å…³é—­TCPè¿æ¥ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰&lt;/p&gt; 
&lt;h3&gt;TCPä¸‰æ¬¡æ¡æ‰‹&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620873869790/9E782FC31C7963C2803A5569FCDA9142&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;&lt;span&gt;1ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘æœåŠ¡ç«¯å‘é€1ä¸ªè¿æ¥è¯·æ±‚çš„æŠ¥æ–‡æ®µï¼ˆSYN=1ã€seq=xï¼‰ï¼ˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å˜æˆSYN-SENTï¼‰&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;ä»€ä¹ˆæ˜¯synï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;&lt;span&gt;synæ˜¯TCP/IPå»ºç«‹è¿æ¥æ—¶ä½¿ç”¨çš„æ¡æ‰‹ä¿¡å·ï¼Œåœ¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡ç«¯å»ºç«‹TCPç½‘ç»œè¿æ¥æ—¶ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;é¦–å…ˆå‘é€ä¸€ä¸ªsynæ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨syn-ackåº”ç­”è¡¨ç¤ºæ¥æ”¶åˆ°äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œæœ€å&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å†ä»¥ackæ¶ˆæ¯å“åº”ï¼Œè¿™æ ·å†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡å™¨ä¹‹é—´æ‰èƒ½å»ºç«‹èµ·å¯é çš„TCPè¿æ¥ï¼Œæ•°æ®æ‰å¯ä»¥åœ¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’ã€‚ &lt;/span&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;span&gt;2ã€æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚è¿æ¥æŠ¥æ–‡æ®µåï¼Œè‹¥åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™å‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘å›è¿æ¥ç¡®è®¤çš„æŠ¥æ–‡æ®µï¼ˆSYN=1ã€ACK=1ã€seq=yã€ack=x+1ï¼‰ï¼ˆæœåŠ¡å™¨å˜æˆSYN-RECEIVEDï¼‰&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;ä¸ºä»€ä¹ˆè¦å›ä¼ synï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;æ¥æ”¶ç«¯ä¼ å›å‘é€ç«¯å‘é€çš„synæ˜¯ä¸ºäº†å‘Šè¯‰å‘é€ç«¯ï¼Œæˆ‘æ¥æ”¶åˆ°çš„ä¿¡æ¯ç¡®å®å°±æ˜¯ä½ æ‰€å‘é€çš„ä¿¡å·äº†ã€‚&lt;/p&gt; 
 &lt;p&gt;ä¼ äº†synä¸ºå•¥è¿˜è¦ä¼ ackï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;ä¼ äº†synè¯æ˜å‘é€æ–¹åˆ°æ¥æ”¶æ–¹çš„é€šé“æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ¥æ”¶æ–¹åˆ°å‘é€æ–¹çš„é€šé“è¿˜éœ€è¦ackä¿¡å·æ¥è¿›è¡ŒéªŒè¯ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;span&gt;3ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡æ®µåï¼Œå‘æœåŠ¡å™¨å†æ¬¡å‘å‡ºè¿æ¥ç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK=1ã€seq=x+1ã€ack=y+1ï¼‰ï¼ˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡å™¨å˜æˆESTABLISHEDï¼‰&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;ä¸ºäº†ä¿¡æ¯å¯¹ç­‰å’Œé˜²æ­¢å‡ºç°è¯·æ±‚è¶…æ—¶å¯¼è‡´è„è¿æ¥ã€‚&lt;/p&gt; 
&lt;p&gt;1ã€ä¿¡æ¯å¯¹ç­‰å°±æ˜¯ç¡®ä¿ä¸¤å°æœºå™¨éƒ½å…·å¤‡å‘æŠ¥å’Œæ”¶æŠ¥çš„èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿å‘é€ç«¯åˆ°æ¥æ”¶ç«¯å’Œæ¥æ”¶ç«¯åˆ°å‘é€ç«¯çš„é€šé“éƒ½æ²¡æœ‰é—®é¢˜ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€ä¸ºä»€ä¹ˆä¼šå‡ºç°è„è¿æ¥ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620873921995/53EDCBCE62A1B0F3161B8EEA874AF4E0&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;ç½‘ç»œæŠ¥æ–‡çš„TTLå¾€å¾€éƒ½ä¼šè¶…è¿‡TCPè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œå¦‚æœä¸¤æ¬¡æ¡æ‰‹å°±å¯ä»¥åˆ›å»ºè¿æ¥ï¼Œé‚£ä¹ˆä¼ è¾“æ•°æ®å¹¶é‡Šæ”¾è¿æ¥åï¼Œç¬¬ä¸€ä¸ªè¶…æ—¶çš„è¿æ¥è¯·æ±‚æ‰åˆ°è¾¾Bæœºå™¨çš„è¯ï¼ŒBæœºå™¨ä¼šä»¥ä¸ºæ˜¯Aåˆ›å»ºæ–°è¿æ¥çš„è¯·æ±‚ï¼Œç„¶åç¡®è®¤åŒæ„åˆ›å»ºè¿æ¥ï¼Œå¼•æ–‡Aæœºå™¨çš„çŠ¶æ€ä¸æ˜¯SYN_SENTï¼Œæ‰€ä»¥ç›´æ¥ä¸¢å¼ƒäº†Bçš„ç¡®è®¤æ•°æ®ï¼Œä»¥è‡´æœ€ååªæ˜¯Bæœºå™¨å•æ–¹é¢åˆ›å»ºè¿æ¥å®Œæ¯•ã€‚ä¸‰æ¬¡æ¡æ‰‹å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºéœ€è¦Aæœºå™¨ç¡®è®¤ä»¥åæ‰çœŸæ­£å»ºç«‹äº†è¿æ¥ã€‚&lt;/p&gt; 
&lt;h3&gt;TCPå››æ¬¡æŒ¥æ‰‹&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620873949127/51BBE3A17F354C178F959C9FE8830E55&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;&lt;span&gt;1ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘æœåŠ¡å™¨å‘é€1ä¸ªè¿æ¥é‡Šæ”¾çš„æŠ¥æ–‡æ®µ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€æœåŠ¡å™¨æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¿”å›è¿æ¥é‡Šæ”¾ç¡®è®¤æŠ¥æ–‡æ®µ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€è‹¥æœåŠ¡å™¨å·²æ— è¦å‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘é€çš„æ•°æ®ï¼Œåˆ™å‘å‡ºé‡Šæ”¾è¿æ¥çš„æŠ¥æ–‡æ®µ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;4ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå‘æœåŠ¡å™¨å‘å›è¿æ¥é‡Šæ”¾ç¡®è®¤æŠ¥æ–‡æ®µ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;äºŒã€ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;ç”±äº&lt;strong&gt;TCPçš„åŠå…³é—­&lt;/strong&gt;é€ æˆçš„ï¼ŒåŠå…³é—­å°±æ˜¯TCPæä¾›äº†è¿æ¥çš„ä¸€ç«¯åœ¨ç»“æŸå®ƒçš„å‘é€åè¿˜èƒ½æ¥æ”¶æ¥è‡ªå¦ä¸€ç«¯æ•°æ®çš„èƒ½åŠ›ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ç¬¬äºŒæ¬¡æŒ¥æ‰‹åæœåŠ¡ç«¯è¿›å…¥CLOSE_WAITï¼ˆå…³é—­ç­‰å¾…ï¼‰çŠ¶æ€ï¼Œæ­¤æ—¶çš„TCPå¤„äºåŠå…³é—­çŠ¶æ€ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;åˆ°æœåŠ¡ç«¯çš„è¿æ¥é‡Šæ”¾ï¼Œæ­¤æ—¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å·²æ— æ•°æ®å‘é€ï¼Œè€ŒæœåŠ¡ç«¯è¿˜å¯ä»¥å‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘é€æ•°æ®ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æŒ¥æ‰‹ä¸èƒ½å‘é€FINæŠ¥æ–‡ï¼Œåªæœ‰å½“æœåŠ¡ç«¯ä¹Ÿæ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œæ‰åœ¨ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹æ—¶å‘é€FINæŠ¥æ–‡ï¼Œå‘Šè¯‰&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ä¸å†å‘é€æ•°æ®äº†ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ä¸‰ã€ä¸ºä»€ä¹ˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å…³é—­è¿æ¥å‰è¦ç­‰å¾…2MSLæ—¶é—´ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;MSL(Maximum Segment Lifetime)ï¼Œä¸ºâ€œæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´â€ï¼Œæ˜¯ä»»ä½•æŠ¥æ–‡åœ¨ç½‘ç»œä¸Šå­˜åœ¨çš„æœ€é•¿æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;span&gt;1ã€ä¿è¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘é€çš„æœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾æœåŠ¡ç«¯&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;è¿™ä¸ªACKæŠ¥æ–‡æ®µæœ‰å¯èƒ½ä¸¢å¤±ï¼Œä½¿æœåŠ¡ç«¯æ”¶ä¸åˆ°ç¡®è®¤ï¼ŒæœåŠ¡ç«¯è¶…æ—¶é‡ä¼ FIN+ACKæŠ¥æ–‡æ®µï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;èƒ½åœ¨2MSLæ—¶é—´å†…æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µï¼Œæ¥ç€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;é‡ä¼ ä¸€æ¬¡ç¡®è®¤ï¼Œé‡æ–°å¯åŠ¨2MSLè®¡æ—¶å™¨ï¼Œæœ€å&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡ç«¯éƒ½è¿›å…¥åˆ°CLOSEDçŠ¶æ€ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;2ã€é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µå‡ºç°åœ¨æœ¬è¿æ¥ä¸­&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;åœ¨å‘é€å®Œæœ€åä¸€ä¸ªACKæŠ¥æ–‡æ®µåï¼Œåœ¨ç»è¿‡2MSLå°±å¯ä»¥ä½¿æœ¬è¿æ¥æŒç»­æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µéƒ½ä»ç½‘ç»œä¸­ æ¶ˆå¤±ï¼Œä½¿ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°è¿™ç§æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;TCPå’ŒUDPçš„åŒºåˆ«å’Œåº”ç”¨åœºæ™¯&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€å¯¹æ¯”&lt;/p&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th&gt;UDP&lt;/th&gt; 
   &lt;th&gt;TCP&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td&gt;æ˜¯å¦è¿æ¥&lt;/td&gt; 
   &lt;td&gt;æ— è¿æ¥&lt;/td&gt; 
   &lt;td&gt;é¢å‘è¿æ¥&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;æ˜¯å¦å¯é &lt;/td&gt; 
   &lt;td&gt;ä¸å¯é ä¼ è¾“&lt;/td&gt; 
   &lt;td&gt;å¯é ä¼ è¾“&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;æµé‡æ§åˆ¶&lt;/td&gt; 
   &lt;td&gt;æ— &lt;/td&gt; 
   &lt;td&gt;æœ‰ï¼ˆæ»‘åŠ¨çª—å£ï¼‰&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;æ‹¥å¡æ§åˆ¶&lt;/td&gt; 
   &lt;td&gt;æ— &lt;/td&gt; 
   &lt;td&gt;æœ‰ï¼ˆæ…¢å¼€å§‹ æ‹¥å¡é¿å… å¿«é‡ä¼  å¿«æ¢å¤ï¼‰&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;è¿æ¥å¯¹è±¡ä¸ªæ•°&lt;/td&gt; 
   &lt;td&gt;æ”¯æŒä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šäº¤äº’é€šä¿¡&lt;/td&gt; 
   &lt;td&gt;åªèƒ½æ˜¯ä¸€å¯¹ä¸€é€šä¿¡ï¼ˆå…¨åŒå·¥ï¼‰&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;ä¼ è¾“æ–¹å¼&lt;/td&gt; 
   &lt;td&gt;é¢å‘æŠ¥æ–‡&lt;/td&gt; 
   &lt;td&gt;é¢å‘å­—èŠ‚æµ&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;é¦–éƒ¨å¼€é”€&lt;/td&gt; 
   &lt;td&gt;é¦–éƒ¨å¼€é”€å°ï¼Œä»…8å­—èŠ‚&lt;/td&gt; 
   &lt;td&gt;é¦–éƒ¨æœ€å°20å­—èŠ‚ï¼Œæœ€å¤§60å­—èŠ‚&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;é€‚ç”¨åœºæ™¯&lt;/td&gt; 
   &lt;td&gt;é€‚ç”¨äºå®æ—¶åº”ç”¨ï¼ˆIPç”µè¯ã€è§†é¢‘ä¼šè®®ã€ç›´æ’­ç­‰ï¼‰&lt;/td&gt; 
   &lt;td&gt;é€‚ç”¨äºè¦æ±‚å¯é ä¼ è¾“çš„åº”ç”¨ï¼Œä¾‹å¦‚æ–‡ä»¶ä¼ è¾“&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;äºŒã€æ€»ç»“&lt;/p&gt; 
&lt;p&gt;1ã€TCPå‘ä¸Šå±‚æä¾›é¢å‘è¿æ¥çš„å¯é æœåŠ¡ ï¼ŒUDPå‘ä¸Šå±‚æä¾›æ— è¿æ¥ä¸å¯é æœåŠ¡ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€è™½ç„¶ UDP å¹¶æ²¡æœ‰ TCP ä¼ è¾“æ¥çš„å‡†ç¡®ï¼Œä½†æ˜¯ä¹Ÿèƒ½åœ¨å¾ˆå¤šå®æ—¶æ€§è¦æ±‚é«˜çš„åœ°æ–¹æœ‰æ‰€ä½œä¸º&lt;/p&gt; 
&lt;p&gt;3ã€å¯¹æ•°æ®å‡†ç¡®æ€§è¦æ±‚é«˜ï¼Œé€Ÿåº¦å¯ä»¥ç›¸å¯¹è¾ƒæ…¢çš„ï¼Œå¯ä»¥é€‰ç”¨TCP&lt;/p&gt; 
&lt;h3&gt;TCPæ€ä¹ˆä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€æ ¡éªŒå’Œï¼šå°†å‘é€çš„æ•°æ®æ®µéƒ½å½“ä½œä¸€ä¸ª16ä½çš„æ•´æ•°ï¼Œç›¸åŠ ï¼Œè¿›ä½ä¸ä¸¢å¼ƒè¡¥åœ¨åé¢ï¼Œæœ€åå–åå¾—åˆ°æ ¡éªŒå’Œ&lt;/p&gt; 
&lt;p&gt;2ã€ç¡®è®¤åº”ç­”ä¸åºåˆ—å·ï¼šTCPä¼ è¾“æ—¶å¯¹æ¯ä¸ªå­—èŠ‚çš„æ•°æ®éƒ½è¿›è¡Œäº†ç¼–å·ï¼Œæ¯æ¬¡æ¥æ”¶æ–¹æ”¶åˆ°æ•°æ®åï¼Œéƒ½ä¼šå¯¹ä¼ è¾“æ–¹è¿›è¡Œç¡®è®¤åº”ç­”(ACK)ï¼Œå…¶ä¸­å¸¦æœ‰å¯¹åº”çš„ç¡®è®¤åºåˆ—å·ï¼Œå‘Šè¯‰å‘é€æ–¹æ¥æ”¶åˆ°äº†å“ªäº›æ•°æ®ï¼Œä¸‹ä¸€æ¬¡çš„æ•°æ®ä»å“ªé‡Œå‘&lt;/p&gt; 
&lt;p&gt;3ã€è¶…æ—¶é‡ä¼ ï¼šæ—¶é—´åˆ°è¾¾æ²¡æœ‰æ”¶åˆ°ACKè¿›è¡Œè¶…æ—¶é‡ä¼ &lt;/p&gt; 
&lt;p&gt;4ã€è¿æ¥ç®¡ç†ï¼šä¸‰å››æ¡æ‰‹+å››æ¬¡æŒ¥æ‰‹&lt;/p&gt; 
&lt;p&gt;5ã€æµé‡æ§åˆ¶ï¼šæ»‘åŠ¨çª—å£&lt;/p&gt; 
&lt;p&gt;6ã€æ‹¥å¡æ§åˆ¶ï¼šæ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤&lt;/p&gt; 
&lt;h3&gt;æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«ï¼ŸTCPæ€ä¹ˆå®ç°æ‹¥å¡æ§åˆ¶çš„ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€ä»€ä¹ˆæ˜¯æ‹¥å¡ï¼Ÿå¯¹èµ„æºçš„éœ€æ±‚&amp;gt;å¯ç”¨èµ„æºæ—¶ç½‘ç»œæ€§èƒ½å˜åã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;æ‹¥å¡æ§åˆ¶ï¼š&lt;strong&gt;å…¨å±€æ€§è¿‡ç¨‹&lt;/strong&gt;ï¼Œé˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥ç½‘ç»œä¸­ï¼Œä½¿å¾—ç½‘ç»œä¸­è·¯ç”±å™¨æˆ–é“¾è·¯ä¸è¿‡è½½ã€‚&lt;/p&gt; 
&lt;p&gt;æµé‡æ§åˆ¶ï¼š&amp;lt;stron&amp;gt;ï¼ŒæŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä¾¿äºæ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚&amp;lt;/stron&amp;gt;&lt;/p&gt; 
&lt;p&gt;ä¸‰ã€æ‹¥å¡æ§åˆ¶æ–¹æ³•ï¼š&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ä¸»è¦æœ‰å››ç§&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼š&lt;/span&gt;&lt;strong&gt;æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620871941718/20190731184935595.png&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;å‘é€æ–¹ç»´æŠ¤ä¸€ä¸ª&lt;strong&gt;æ‹¥å¡çª—å£&lt;/strong&gt;ï¼Œå…ˆè¿›è¡Œ&lt;strong&gt;&lt;span&gt;æ…¢å¼€å§‹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;ï¼Œä¸€å¼€å§‹å‘é€æ–¹å‘é€ä¸€ä¸ªå­—èŠ‚ï¼Œåœ¨æ”¶åˆ°æ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œç„¶åå‘é€çš„å­—èŠ‚æ•°é‡å¢å¤§ä¸€å€ï¼ŒæŒ‰ç…§&lt;strong&gt;æŒ‡æ•°é€æ­¥å¢å¤§çª—å£å¤§å°&lt;/strong&gt;ï¼Œç›´åˆ°è¾¾åˆ°&lt;strong&gt;æ…¢å¼€å§‹é—¨é™&lt;/strong&gt;ï¼Œç„¶åä½¿ç”¨&lt;strong&gt;&lt;span&gt;æ‹¥å¡æ§åˆ¶&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;ï¼Œå¢é•¿é€Ÿç‡å˜ä¸ºçº¿æ€§å¢é•¿ï¼Œç›´åˆ°å‡ºç°&lt;strong&gt;è¶…æ—¶&lt;/strong&gt;ï¼Œé‡æ–°å°†çª—å£å¤§å°è°ƒæ•´ä¸º&lt;strong&gt;1ä¸ªå­—èŠ‚&lt;/strong&gt;&lt;span&gt;ï¼Œä½¿ç”¨æ…¢å¼€å§‹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼ŒåŒæ—¶æ…¢å¼€å§‹é—¨é™è°ƒæ•´ä¸ºè¶…æ—¶ç‚¹çš„ä¸€åŠï¼Œè¾¾åˆ°é—¨é™åç»§ç»­æ‰§è¡Œæ‹¥å¡é¿å…æ–¹æ³•ï¼Œå¦‚æœæ”¶åˆ°&lt;/span&gt;&lt;strong&gt;3-ACK&lt;/strong&gt;ï¼Œå¯èƒ½æ˜¯&lt;strong&gt;æŠ¥æ–‡ä¸¢å¤±&lt;/strong&gt;ï¼Œä½¿ç”¨&lt;strong&gt;å¿«é‡ä¼ &lt;/strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å‘é€ç¼ºå¤±çš„æŠ¥æ–‡æ®µï¼ŒåŒæ—¶æ‰§è¡Œ&lt;/span&gt;&lt;strong&gt;å¿«æ¢å¤&lt;/strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å°†é—¨é™è°ƒæ•´ä¸ºæ­¤æ—¶&lt;/span&gt;&lt;strong&gt;çª—å£çš„ä¸€åŠ&lt;/strong&gt;ï¼Œå¹¶æ‰§è¡Œ&lt;strong&gt;&lt;span&gt;æ‹¥å¡é¿å…&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;h3&gt;TCPçš„æ»‘åŠ¨çª—å£è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿæ»‘åŠ¨æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;æ»‘åŠ¨çª—å£è§£å†³çš„æ˜¯&lt;strong&gt;æµé‡æ§åˆ¶&lt;/strong&gt;çš„çš„é—®é¢˜ï¼Œå°±æ˜¯å¦‚æœæ¥æ”¶ç«¯å’Œå‘é€ç«¯å¯¹æ•°æ®åŒ…çš„å¤„ç†é€Ÿåº¦ä¸åŒï¼Œå¦‚ä½•è®©åŒæ–¹è¾¾æˆä¸€è‡´ã€‚æ¥æ”¶ç«¯çš„ç¼“å­˜ä¼ è¾“æ•°æ®ç»™åº”ç”¨å±‚ï¼Œä½†è¿™ä¸ªè¿‡ç¨‹ä¸ä¸€å®šæ˜¯å³æ—¶çš„ï¼Œå¦‚æœå‘é€é€Ÿåº¦å¤ªå¿«ï¼Œä¼šå‡ºç°æ¥æ”¶ç«¯æ•°æ®overflowï¼Œæµé‡æ§åˆ¶è§£å†³çš„æ˜¯è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt; 
&lt;p&gt;TCPä¼šè¯çš„åŒæ–¹éƒ½å„è‡ªç»´æŠ¤ä¸€ä¸ª&lt;code&gt;å‘é€çª—å£&lt;/code&gt;å’Œä¸€ä¸ª&lt;code&gt;æ¥æ”¶çª—å£&lt;/code&gt;ã€‚å‘é€çª—å£åªæœ‰æ”¶åˆ°å‘é€çª—å£å†…å­—èŠ‚çš„ACKç¡®è®¤ï¼Œæ‰ä¼šç§»åŠ¨å‘é€çª—å£çš„å·¦è¾¹ç•Œã€‚æ¥æ”¶çª—å£åªæœ‰åœ¨å‰é¢æ‰€æœ‰çš„æ®µéƒ½ç¡®è®¤çš„æƒ…å†µä¸‹æ‰ä¼šç§»åŠ¨å·¦è¾¹ç•Œã€‚å½“åœ¨å‰é¢è¿˜æœ‰å­—èŠ‚æœªæ¥æ”¶ä½†æ”¶åˆ°åé¢å­—èŠ‚çš„æƒ…å†µä¸‹ï¼Œçª—å£ä¸ä¼šç§»åŠ¨ï¼Œå¹¶ä¸å¯¹åç»­å­—èŠ‚ç¡®è®¤ã€‚ä»¥æ­¤ç¡®ä¿å¯¹ç«¯ä¼šå¯¹è¿™äº›æ•°æ®é‡ä¼ ã€‚å‘é€æ–¹å‘çš„window size = 8192;å°±æ˜¯æ¥æ”¶ç«¯æœ€å¤šå‘é€8192å­—èŠ‚ï¼Œè¿™ä¸ª8192ä¸€èˆ¬å°±æ˜¯å‘é€æ–¹æ¥æ”¶ç¼“å­˜çš„å¤§å°ã€‚&lt;/p&gt; 
&lt;h3&gt;TCPå’ŒHTTPçš„é˜Ÿå¤´é˜»å¡ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€TCPçš„é˜Ÿå¤´é˜»å¡&lt;/p&gt; 
&lt;p&gt;1ã€äº§ç”ŸåŸå› ï¼šä¸€ä¸ªTCPåˆ†èŠ‚ä¸¢å¤±ï¼Œå¯¼è‡´å…¶åç»­åˆ†èŠ‚ä¸æŒ‰åºåˆ°è¾¾æ¥æ”¶ç«¯çš„æ—¶å€™ã€‚è¯¥åç»­åˆ†èŠ‚å°†è¢«æ¥æ”¶ç«¯ä¸€ç›´ä¿æŒç›´åˆ°ä¸¢å¤±çš„ç¬¬ä¸€ä¸ªåˆ†èŠ‚è¢«å‘é€ç«¯é‡ä¼ å¹¶åˆ°è¾¾æ¥æ”¶ç«¯ä¸ºæ­¢&lt;/p&gt; 
&lt;p&gt;2ã€è§£å†³æ–¹æ³•ï¼šèˆå¼ƒTCPåè®®&lt;/p&gt; 
&lt;p&gt;äºŒã€HTTPçš„é˜Ÿå¤´é˜»å¡&lt;/p&gt; 
&lt;p&gt;1ã€äº§ç”ŸåŸå› ï¼šHTTPç®¡é“åŒ–è¦æ±‚æœåŠ¡ç«¯å¿…é¡»æŒ‰ç…§è¯·æ±‚å‘é€çš„é¡ºåºè¿”å›å“åº”ï¼Œé‚£å¦‚æœä¸€ä¸ªå“åº”è¿”å›å»¶è¿Ÿäº†ï¼Œé‚£ä¹ˆå…¶åç»­çš„å“åº”éƒ½ä¼šè¢«å»¶è¿Ÿï¼Œç›´åˆ°é˜Ÿå¤´çš„å“åº”é€è¾¾&lt;/p&gt; 
&lt;p&gt;2ã€è§£å†³æ–¹æ³•ï¼šHTTP2å®ç°äº†å®Œå…¨å¤šè·¯å¤ç”¨ï¼Œåªéœ€ä¸€ä¸ªè¿æ¥å³å¯å®ç°å¹¶è¡Œ&lt;/p&gt; 
&lt;h3&gt;TCPçš„ç²˜åŒ…é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;TCPç²˜åŒ…å°±æ˜¯æŒ‡å‘é€æ–¹å‘é€çš„è‹¥å¹²åŒ…æ•°æ®åˆ°è¾¾æ¥æ”¶æ–¹æ—¶ç²˜æˆäº†ä¸€åŒ…ï¼Œä»æ¥æ”¶ç¼“å†²åŒºæ¥çœ‹ï¼Œåä¸€åŒ…æ•°æ®çš„å¤´ç´§æ¥ç€å‰ä¸€åŒ…æ•°æ®çš„å°¾&lt;/p&gt; 
&lt;p&gt;ä¸€ã€ç²˜åŒ…é—®é¢˜äº§ç”Ÿçš„åŸå› &lt;/p&gt; 
&lt;p&gt;1ã€å½“è¿ç»­å‘é€æ•°æ®æ—¶ï¼Œç”±äºtcpåè®®çš„nagleç®—***å°†è¾ƒå°çš„å†…å®¹æ‹¼æ¥æˆå¤§çš„å†…å®¹ï¼Œä¸€æ¬¡æ€§å‘é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œå› æ­¤é€ æˆç²˜åŒ…&lt;/p&gt; 
&lt;p&gt;2ã€å½“å‘é€å†…å®¹è¾ƒå¤§æ—¶ï¼Œç”±äºæœåŠ¡å™¨ç«¯çš„recv(buffer_size)æ–¹æ³•ä¸­çš„buffer_sizeè¾ƒå°ï¼Œä¸èƒ½ä¸€æ¬¡æ€§å®Œå…¨æ¥æ”¶å…¨éƒ¨å†…å®¹ï¼Œå› æ­¤åœ¨ä¸‹ä¸€æ¬¡è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œæ¥æ”¶çš„å†…å®¹ä¾ç„¶æ˜¯ä¸Šä¸€æ¬¡æ²¡æœ‰å®Œå…¨æ¥æ”¶å®Œçš„å†…å®¹ï¼Œå› æ­¤é€ æˆç²˜åŒ…ç°è±¡&lt;/p&gt; 
&lt;p&gt;äºŒã€è§£å†³æ–¹æ³•&lt;/p&gt; 
&lt;p&gt;1ã€å¯¹äºç¬¬ä¸€ç§ç²˜åŒ…äº§ç”Ÿæ–¹å¼å¯ä»¥åœ¨ä¸¤æ¬¡send()ç›´æ¥ä½¿ç”¨recv()é˜»æ­¢è¿ç»­å‘é€çš„æƒ…å†µå‘ç”Ÿ&lt;/p&gt; 
&lt;p&gt;2ã€ç”±äºäº§ç”Ÿç²˜åŒ…çš„åŸå› æ˜¯æ¥æ”¶æ–¹çš„æ— è¾¹ç•Œæ¥æ”¶ï¼Œå› æ­¤å‘é€ç«¯å¯ä»¥åœ¨å‘é€æ•°æ®ä¹‹å‰å‘æ¥æ”¶ç«¯å‘ŠçŸ¥å‘é€å†…å®¹çš„å¤§å°å³å¯&lt;/p&gt; 
&lt;h3&gt;DNSåŸŸåè§£æç”¨çš„æ˜¯ä»€ä¹ˆåè®®ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åŒæ—¶ä½¿ç”¨TCPå’ŒUDPåè®®ã€‚&lt;/p&gt; 
&lt;p&gt;DNSåœ¨åŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼Œå…¶ä»–æ—¶å€™ä½¿ç”¨UDPåè®®ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸€ã€&lt;strong&gt;DNSåŒºåŸŸä¼ è¾“çš„æ—¶å€™ä½¿ç”¨TCPåè®®ï¼š&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;DNSè§„èŒƒè§„å®šäº†ä¸¤ç§DNSæœåŠ¡å™¨ï¼šä¸»DNSæœåŠ¡å™¨å’Œè¾…åŠ©DNSæœåŠ¡å™¨ï¼Œè¾…åŠ©åŸŸåæœåŠ¡å™¨ä¼šå®šæ—¶å‘ä¸»åŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ä»¥ä¾¿äº†è§£æ•°æ®æ˜¯å¦æœ‰å˜åŠ¨ï¼Œå¦‚æœ‰å˜åŠ¨ï¼Œä¼šæ‰§è¡Œä¸€æ¬¡åŒºåŸŸä¼ é€ï¼Œè¿›è¡Œæ•°æ®åŒæ­¥ã€‚åŒºåŸŸä¼ é€ä½¿ç”¨TCPè€Œä¸æ˜¯UDPï¼Œå› ä¸ºæ•°æ®åŒæ­¥ä¼ é€çš„æ•°æ®é‡æ¯”ä¸€ä¸ªè¯·æ±‚åº”ç­”çš„æ•°æ®é‡è¦å¤šå¾—å¤šã€‚è€ŒTCPæ˜¯ä¸€ç§å¯é è¿æ¥ï¼Œä¿è¯äº†æ•°æ®çš„å‡†ç¡®æ€§ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;äºŒã€åŸŸåè§£ææ—¶ä½¿ç”¨UDPåè®®ï¼š&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸåï¼Œä¸€èˆ¬è¿”å›çš„å†…å®¹éƒ½ä¸è¶…è¿‡512å­—èŠ‚ï¼Œç”¨UDPä¼ è¾“å³å¯ï¼Œä¸ç”¨ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œè¿™æ ·DNSæœåŠ¡å™¨è´Ÿè½½æ›´ä½ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯socketï¼Ÿ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å’ŒæœåŠ¡ç«¯çš„socketé€šä¿¡è¿‡ç¨‹ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;socketæ˜¯ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ä¹‹é—´çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œsocketæ˜¯ä¸€ç§&lt;strong&gt;æ‰“å¼€--è¯»/å†™--å…³é—­æ¨¡å¼&lt;/strong&gt;&lt;span&gt;çš„å®ç°ï¼ŒæœåŠ¡å™¨å’Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å„è‡ªç»´æŠ¤ä¸€ä¸ªâ€æ–‡ä»¶â€œï¼ˆUnixä¸€åˆ‡çš†æ–‡ä»¶ï¼‰ï¼Œåœ¨å»ºç«‹è¿æ¥æ‰“å¼€åï¼Œå¯ä»¥å‘æ–‡ä»¶å†™å…¥å†…å®¹ä¾›å¯¹æ–¹è¯»å–æˆ–è€…è¯»å–å¯¹æ–¹å†…å®¹ï¼Œé€šè®¯ç»“æŸæ—¶å…³é—­æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;socketé€šä¿¡è¿‡ç¨‹ï¼š&lt;br/&gt;&lt;span&gt;socketä¿è¯äº†ä¸åŒè®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œé€šä¿¡ã€‚å¯¹äºç½‘ç«™ï¼Œé€šä¿¡æ¨¡å‹æ˜¯æœåŠ¡å™¨ä¸&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ä¹‹é—´çš„é€šä¿¡ã€‚ä¸¤ç«¯éƒ½å»ºç«‹äº†ä¸€ä¸ªSocketå¯¹è±¡ï¼Œç„¶åé€šè¿‡Socketå¯¹è±¡å¯¹æ•°æ®è¿›è¡Œä¼ è¾“ã€‚é€šå¸¸æœåŠ¡å™¨å¤„äºä¸€ä¸ªæ— é™å¾ªç¯ï¼Œç­‰å¾…&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;çš„è¿æ¥ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620874031009/DE6CEC309B1D365010BB39E9657BA789&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¿‡ç¨‹ï¼š&lt;/span&gt;&lt;br/&gt;åˆ›å»ºsocketï¼Œè¿æ¥æœåŠ¡å™¨ï¼Œå°†socketä¸è¿œç¨‹ä¸»æœºè¿æ¥ï¼Œå‘é€æ•°æ®ï¼Œè¯»å–å“åº”æ•°æ®ï¼Œç›´åˆ°æ•°æ®äº¤æ¢å®Œæ¯•ï¼Œå…³é—­è¿æ¥ï¼Œç»“æŸTCPå¯¹è¯&lt;/p&gt; 
&lt;p&gt;æœåŠ¡ç«¯è¿‡ç¨‹ï¼š&lt;/p&gt; 
&lt;p&gt;åˆ›å»ºsocketï¼Œä¸æœ¬æœºåœ°å€åŠç«¯å£è¿›è¡Œ&lt;strong&gt;ç»‘å®š&lt;/strong&gt;ï¼Œç„¶åé€šçŸ¥TCPå‡†å¤‡å¥½æ¥æ”¶è¿æ¥ï¼Œè°ƒç”¨accept()&lt;strong&gt;é˜»å¡&lt;/strong&gt;&lt;span&gt;ï¼Œç­‰å¾…æ¥è‡ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;çš„è¿æ¥ã€‚å¦‚æœ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ä¸æœåŠ¡å™¨å»ºç«‹äº†è¿æ¥ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘é€æ•°æ®è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†è¯·æ±‚ï¼Œç„¶åæŠŠå“åº”æ•°æ®å‘é€ç»™&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¯»å–æ•°æ®ï¼Œç›´åˆ°æ•°æ®äº¤æ¢å®Œæ¯•ï¼Œæœ€åå…³é—­è¿æ¥ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;h3&gt;HTTPå’ŒHTTPSçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€æœ€é‡è¦çš„åŒºåˆ«æ˜¯å®‰å…¨æ€§ï¼ŒHTTPæ˜æ–‡ä¼ è¾“ï¼Œä¸å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å®‰å…¨æ€§è¾ƒå·®ï¼ŒHTTPS(HTTP+SSL/TLS)çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹æ˜¯åŠ å¯†çš„ï¼Œå®‰å…¨æ€§è¾ƒå¥½&lt;/p&gt; 
&lt;p&gt;2ã€HTTPå“åº”é€Ÿåº¦æ¯”HTTPSå¿«ï¼Œå› ä¸ºHTTPSå¤šäº†ä¸€å±‚å®‰å…¨å±‚&lt;/p&gt; 
&lt;p&gt;3ã€HTTPSç«¯å£å·443ï¼ŒHTTPç«¯å£å·80&lt;/p&gt; 
&lt;p&gt;HTTPSçš„ç¼ºç‚¹ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;ç›¸åŒç¯å¢ƒä¸‹HTTPSçš„å“åº”æ—¶é—´å’Œéœ€è¦çš„èµ„æºç›¸æ¯”HTTPéƒ½å¤§å¹…ä¸Šå‡ &lt;/li&gt;
 &lt;li&gt;HTTPSçš„å®‰å…¨èŒƒå›´æœ‰é™ï¼Œåœ¨é»‘å®¢æ”»å‡»å’ŒæœåŠ¡å™¨åŠ«æŒç­‰æƒ…å†µå‡ ä¹èµ·ä¸åˆ°ä½œç”¨ &lt;/li&gt;
&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;SSL/TLSæ€ä¹ˆåŠ å¯†ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;&lt;span&gt;ï¼ˆ1ï¼‰ &lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘æœåŠ¡å™¨ç«¯ç´¢è¦å¹¶éªŒè¯å…¬é’¥ã€‚&lt;/span&gt;&lt;/p&gt; 
 &lt;p&gt;ï¼ˆ2ï¼‰ åŒæ–¹åå•†ç”Ÿæˆ&quot;å¯¹è¯å¯†é’¥&quot;ã€‚&lt;/p&gt; 
 &lt;p&gt;ï¼ˆ3ï¼‰ åŒæ–¹é‡‡ç”¨&quot;å¯¹è¯å¯†é’¥&quot;è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h3&gt;HTTP1.0ã€1.1ã€2.0çš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;HTTP1.Xï¼šçº¿ç¨‹é˜»å¡ï¼ŒåŒä¸€æ—¶é—´åŒä¸€åŸŸåçš„è¯·æ±‚æœ‰ä¸€å®šæ•°é‡é™åˆ¶ï¼Œè¶…è¿‡é™åˆ¶æ•°ç›®çš„è¯·æ±‚ä¼šè¢«é˜»å¡&lt;/p&gt; 
&lt;p&gt;HTTP1.0å’ŒHTTP1.1ä¸»è¦åŒºåˆ«ï¼šHTTP1.0é»˜è®¤ä½¿ç”¨çŸ­è¿æ¥ï¼ŒHTTP1.1é»˜è®¤ä½¿ç”¨é•¿è¿æ¥&lt;/p&gt; 
&lt;p&gt;HTTP2.0ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼è€Œéæ–‡æœ¬æ ¼å¼ &lt;/li&gt;
 &lt;li&gt;å®Œå…¨å¤šè·¯å¤ç”¨ï¼Œè€Œéæœ‰åºå¹¶é˜»å¡çš„ã€åªéœ€ä¸€ä¸ªè¿æ¥å³å¯å®ç°å¹¶è¡Œ &lt;/li&gt;
 &lt;li&gt;ä½¿ç”¨æŠ¥å¤´å‹ç¼©ï¼Œé™ä½å¼€é”€ &lt;/li&gt;
 &lt;li&gt;æœåŠ¡å™¨æ¨é€ &lt;/li&gt;
&lt;/ul&gt; 
&lt;h3&gt;GETã€POSTçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ä»å¹‚ç­‰æ€§ã€å®‰å…¨æ€§ã€ä¼ å‚æ–¹å¼ã€URLé•¿åº¦é™åˆ¶ç­‰æ–¹é¢å›ç­”ã€‚&lt;/p&gt; 
&lt;p&gt;1ã€å¹‚ç­‰æ€§ï¼šGETç”¨äºæ— å‰¯ä½œç”¨ï¼ˆä¸æ”¹å˜æœåŠ¡å™¨èµ„æºï¼‰ã€å¹‚ç­‰çš„åœºæ™¯ï¼ŒPOSTç”¨äºå‰¯ä½œç”¨ã€ä¸å¹‚ç­‰çš„åœºæ™¯&lt;/p&gt; 
&lt;p&gt;2ã€ä¼ å‚æ–¹å¼ï¼šGETè¯·æ±‚å¯¹åº”çš„å‚æ•°æ”¾åœ¨URLä¸­ï¼Œè€ŒPOSTè¯·æ±‚å¯¹åº”çš„å‚æ•°æ”¾åœ¨è¯·æ±‚ä½“ä¸­&lt;/p&gt; 
&lt;p&gt;3ã€é•¿åº¦é™åˆ¶ï¼šæµè§ˆå™¨ä¼šå¯¹URLæœ€å¤§å­—ç¬¦é•¿åº¦åšé™åˆ¶ï¼Œå¯¼è‡´GETè¯·æ±‚çš„å‚æ•°æ•°é‡æ˜¯æœ‰é™çš„&lt;/p&gt; 
&lt;p&gt;4ã€å®‰å…¨æ€§ï¼šGETè¯·æ±‚çš„å‚æ•°æš´éœ²åœ¨URLä¸­ï¼Œå®‰å…¨æ€§æ²¡æœ‰POSTé«˜&lt;/p&gt; 
&lt;h3&gt;Sessionã€Cookieçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;Sessionæ˜¯åœ¨&lt;strong&gt;æœåŠ¡ç«¯ä¿å­˜&lt;/strong&gt;çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç”¨æ¥è·Ÿè¸ªç”¨æˆ·çš„çŠ¶æ€&lt;/p&gt; 
&lt;p&gt;Cookieæ˜¯åœ¨&lt;strong&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ä¿å­˜&lt;/span&gt;&lt;/strong&gt;ç”¨æˆ·ä¿¡æ¯çš„ä¸€ç§æœºåˆ¶ï¼Œä¹Ÿæ˜¯å®ç°Sessionçš„ä¸€ç§æ–¹å¼ï¼Œ&lt;/p&gt; 
&lt;h3&gt;pingå‘½ä»¤çš„åŸç†ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;PINGæ˜¯ç”¨äºæµ‹è¯•ç½‘ç»œè¿æ¥è´¨é‡çš„ç¨‹åºã€‚Pingå‘é€ä¸€ä¸ªICMP(Internet Control Messages &lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=Proto&quot; target=&quot;_blank&quot;&gt;Proto&lt;/a&gt;colï¼‰å³ç½‘ç»œä¿¡æŠ¥æ§åˆ¶åè®®ï¼›&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;åŸç†ï¼šåˆ©ç”¨ç½‘ç»œä¸Šæœºå™¨IPåœ°å€çš„å”¯ä¸€æ€§ï¼Œç»™ç›®æ ‡IPåœ°å€å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå†è¦æ±‚å¯¹æ–¹è¿”å›ä¸€ä¸ªåŒæ ·å¤§å°çš„æ•°æ®åŒ…æ¥ç¡®å®šä¸¤å°ç½‘ç»œæœºå™¨æ˜¯å¦è¿æ¥ç›¸é€šï¼Œæ—¶å»¶æ˜¯å¤šå°‘ã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;span&gt;å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡ï¼Ÿæœ‰å“ªäº›&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€å®ç°è´Ÿè½½å‡è¡¡çš„å‡ ç§æŠ€æœ¯&lt;/p&gt; 
&lt;p&gt;1ã€HTTPé‡å®šå‘åè®®å®ç°è´Ÿè½½å‡è¡¡ï¼šæ ¹æ®ç”¨æˆ·çš„httpè¯·æ±‚è®¡ç®—å‡ºä¸€ä¸ªçœŸå®çš„webæœåŠ¡å™¨åœ°å€ï¼Œå¹¶å°†è¯¥webæœåŠ¡å™¨åœ°å€å†™å…¥httpé‡å®šå‘å“åº”ä¸­è¿”å›ç»™æµè§ˆå™¨ï¼Œç”±æµè§ˆå™¨é‡æ–°è¿›è¡Œè®¿é—®ã€‚&lt;/p&gt; 
&lt;p&gt;2ã€DNSåŸŸåè§£æè´Ÿè½½å‡è¡¡ï¼šåŸç†ï¼šåœ¨DNSæœåŠ¡å™¨ä¸Šé…ç½®å¤šä¸ªåŸŸåå¯¹åº”IPçš„è®°å½•ã€‚ä¾‹å¦‚ä¸€ä¸ªåŸŸå&lt;a href=&quot;http://www.baidu.com%E5%AF%B9%E5%BA%94%E4%B8%80%E7%BB%84web%E6%9C%8D%E5%8A%A1%E5%99%A8IP%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%97%B6%E7%BB%8F%E8%BF%87DNS%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%AE%97%E6%B3%95%E5%B0%86%E4%B8%80%E4%B8%AA%E5%9F%9F%E5%90%8D%E8%AF%B7%E6%B1%82%E5%88%86%E9%85%8D%E5%88%B0%E5%90%88%E9%80%82%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8A%E3%80%82&quot; target=&quot;_blank&quot; from-niu=&quot;default&quot;&gt;www.baidu.comå¯¹åº”ä¸€ç»„webæœåŠ¡å™¨IPåœ°å€ï¼ŒåŸŸåè§£ææ—¶ç»è¿‡DNSæœåŠ¡å™¨çš„ç®—æ³•å°†ä¸€ä¸ªåŸŸåè¯·æ±‚åˆ†é…åˆ°åˆé€‚çš„çœŸå®æœåŠ¡å™¨ä¸Šã€‚&lt;/a&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€åå‘ä»£ç†è´Ÿè½½å‡è¡¡ï¼šåå‘ä»£ç†å¤„äºwebæœåŠ¡å™¨è¿™è¾¹ï¼Œåå‘ä»£ç†æœåŠ¡å™¨æä¾›è´Ÿè½½å‡è¡¡çš„åŠŸèƒ½ï¼ŒåŒæ—¶ç®¡ç†ä¸€ç»„webæœåŠ¡å™¨ï¼Œå®ƒæ ¹æ®è´Ÿè½½å‡è¡¡&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å°†è¯·æ±‚çš„æµè§ˆå™¨è®¿é—®è½¬å‘åˆ°ä¸åŒçš„webæœåŠ¡å™¨å¤„ç†ï¼Œå¤„ç†ç»“æœç»è¿‡åå‘æœåŠ¡å™¨è¿”å›ç»™æµè§ˆå™¨ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;4ã€IPè´Ÿè½½å‡è¡¡ï¼šåœ¨ç½‘ç»œå±‚é€šè¿‡ä¿®æ”¹ç›®æ ‡åœ°å€è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt; 
&lt;p&gt;5ã€æ•°æ®é“¾è·¯å±‚è´Ÿè½½å‡è¡¡ï¼šåœ¨æ•°æ®é“¾è·¯å±‚ä¿®æ”¹Macåœ°å€è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;äºŒã€å¸¸è§çš„è´Ÿè½½å‡è¡¡&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;è½®è¯¢æ³•ã€éšæœºæ³•ã€åŠ æƒè½®è¯¢æ³•ã€åŠ æƒéšæœºæ³•&lt;/p&gt; 
&lt;h2 id=&quot;linux&quot;&gt;Linux&lt;/h2&gt; 
&lt;h3&gt;Linuxçš„å¯åŠ¨è¿‡ç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;1ã€å†…æ ¸å¼•å¯¼ï¼šå¼€æœºè‡ªæ£€ï¼ŒåŠ è½½BIOS&lt;/p&gt; 
&lt;p&gt;2ã€è¿è¡Œinitï¼šinitè¿›ç¨‹æ˜¯æ‰€æœ‰è¿›ç¨‹çš„èµ·ç‚¹ï¼Œæ²¡æœ‰è¿™ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿä¸­ä»»ä½•è¿›ç¨‹éƒ½ä¸ä¼šå¯åŠ¨ã€‚æ ¹æ®è¿è¡Œçº§åˆ«ç¡®å®šè¦è¿è¡Œå“ªäº›ç¨‹åº&lt;/p&gt; 
&lt;p&gt;3ã€ç³»ç»Ÿåˆå§‹åŒ–ï¼šæ¿€æ´»äº¤æ¢åˆ†åŒºï¼Œæ£€æŸ¥ç£ç›˜ï¼ŒåŠ è½½ç¡¬ä»¶æ¨¡å—&lt;/p&gt; 
&lt;p&gt;4ã€å»ºç«‹ç»ˆç«¯ï¼Œä»¥ä¾¿ç”¨æˆ·ç™»å½•ç³»ç»Ÿ&lt;/p&gt; 
&lt;p&gt;5ã€ç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼šå‘½ä»¤è¡Œ/ssh/å›¾å½¢ç•Œé¢ç™»å½•&lt;/p&gt; 
&lt;h3&gt;ä»€ä¹ˆæ˜¯åƒµå°¸è¿›ç¨‹ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;åƒµå°¸è¿›ç¨‹æ˜¯å½“å­è¿›ç¨‹æ¯”çˆ¶è¿›ç¨‹å…ˆç»“æŸï¼Œè€Œçˆ¶è¿›ç¨‹åˆæ²¡æœ‰å›æ”¶å­è¿›ç¨‹ï¼Œé‡Šæ”¾å­è¿›ç¨‹å ç”¨çš„èµ„æºï¼Œæ­¤æ—¶å­è¿›ç¨‹å°†æˆä¸ºä¸€ä¸ªåƒµå°¸è¿›ç¨‹ã€‚å¦‚æœçˆ¶è¿›ç¨‹å…ˆé€€å‡ºï¼Œå­è¿›ç¨‹è¢«initæ¥ç®¡ï¼Œå­è¿›ç¨‹æ¨å‡ºåinitä¼šå›æ”¶å…¶å ç”¨çš„ç›¸å…³èµ„æºã€‚&lt;/p&gt; 
&lt;h2&gt;è®¾è®¡æ¨¡å¼&lt;/h2&gt; 
&lt;h3&gt;å•ä¾‹&lt;/h3&gt; 
&lt;p&gt;ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡&lt;/p&gt; 
&lt;p&gt;æ­¥éª¤ï¼š1ã€æ„é€ å‡½æ•°ç§æœ‰åŒ–2ã€åœ¨ç±»ä¸­åˆ›å»ºä¸€ä¸ªæœ¬ç±»å¯¹è±¡3ã€æä¾›ä¸€ä¸ªæ–¹æ³•å¯ä»¥è·å–åˆ°è¯¥å¯¹è±¡&lt;/p&gt; 
&lt;pre class=&quot;prettyprint lang-java&quot; from-niu=&quot;default&quot;&gt;//é¥¿æ±‰å¼
class Single {
    private static final Single s = new Single();
    private Single() {}
    public static Single getInstance() {
        return s;
    }
}&lt;/pre&gt; 
&lt;pre class=&quot;prettyprint lang-java&quot; from-niu=&quot;default&quot;&gt;//æ‡’æ±‰å¼:å»¶æ—¶åŠ è½½
class Single {
    private static Single s = null;
    private Single() {}
    public static Single getInstance() {
        if (s == null) {
            //Synchronizedè§£å†³å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜
            Synchronized(Single.class)
            {
                if (s == null) {
                    //åŒé‡åˆ¤æ–­è§£å†³æ•ˆç‡é—®é¢˜
                    s = new Single();
                }
            }
        }
        return s;
    }
}&lt;/pre&gt; 
&lt;h2&gt;é«˜çº§çŸ¥è¯†&lt;/h2&gt; 
&lt;h3 id=&quot;redis&quot;&gt;Redis&lt;/h3&gt; 
 
&lt;p&gt;&lt;span&gt;1ã€ä»€ä¹ˆæ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å“¨å…µæ¨¡å¼ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å“¨å…µæ¨¡å¼æ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;çš„é«˜å¯ç”¨æ¶æ„çš„ä¸€ç§æ–¹å¼ï¼Œå®ƒçš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³ä¸»ä»æ¨¡å¼ä¸‹ä¸»èŠ‚ç‚¹æŒ‚äº†ä¸èƒ½è‡ªåŠ¨æ•…éšœè½¬ç§»çš„é—®é¢˜ï¼Œå“¨å…µæ¶æ„å›¾å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;img&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620872161245/20421881-933234852728c6da.jpg&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;2ã€å“¨å…µå®ç°åŸç†ï¼Ÿï¼ˆä¸‰ä¸ªå®šæ—¶ä»»åŠ¡ï¼‰ï¼ˆå¿ƒè·³æœºåˆ¶+æŠ•ç¥¨è£å†³ï¼‰&lt;/p&gt; 
&lt;p&gt;é—®é¢˜ä¸€ï¼šsentinelæ²¡æœ‰é…ç½®ä»èŠ‚ç‚¹ä¿¡æ¯å¦‚ä½•çŸ¥é“ä»èŠ‚ç‚¹ä¿¡æ¯çš„ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;æ¯éš”10ç§’ï¼Œsentinelå‘ä¸»èŠ‚ç‚¹å‘é€infoå‘½ä»¤ï¼Œç”¨äºå‘ç°æ–°çš„slaveèŠ‚ç‚¹&lt;/p&gt; 
&lt;p&gt;é—®é¢˜äºŒã€å¦‚ä½•åŠ å…¥æ–°çš„sentinelï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;æ¯éš”2ç§’ï¼Œå‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æ•°æ®èŠ‚ç‚¹_ sentinel_:helloé¢‘é“å‘é€æœ¬sentinelèŠ‚ç‚¹çš„ä¿¡æ¯å’Œå¯¹ä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ï¼šè¿™æ˜¯è¿›è¡Œå¯¹ä¸»èŠ‚ç‚¹è¿›è¡Œå®¢è§‚ä¸‹çº¿å’Œé¢†å¯¼è€…é€‰ä¸¾çš„é‡è¦ä¾æ®ï¼›ä¹Ÿæ˜¯å‘ç°æ–°sentinelèŠ‚ç‚¹çš„é‡è¦ä¾æ®&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;é—®é¢˜ä¸‰ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹çš„éœ€è¦ä¸»è§‚ä¸‹çº¿çš„ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;æ¯éš”1ç§’æ¯ä¸ªsentinelå¯¹å…¶ä»–çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;èŠ‚ç‚¹ï¼ˆmasterï¼Œslaveï¼Œsentinelï¼‰æ‰§è¡Œpingæ“ä½œï¼Œå¯¹äºmasteræ¥è¯´ï¼Œè‹¥è¶…è¿‡down-after-millisecondså†…æ²¡æœ‰å›å¤ï¼Œå°±å¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œä¸»è§‚ä¸‹çº¿å¹¶è¯¢é—®å…¶ä»–çš„SentinelèŠ‚ç‚¹æ˜¯å¦å¯ä»¥å®¢è§‚ä¸‹çº¿&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;3ã€å“¨å…µçš„ä½œç”¨ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ï¼‰ç›‘æ§ï¼ˆMonitoringï¼‰ï¼š Sentinel ä¼šä¸æ–­åœ°æ£€æŸ¥ä½ çš„ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ˜¯å¦è¿ä½œæ­£å¸¸ã€‚&lt;br/&gt;2ï¼‰æé†’ï¼ˆNotificationï¼‰ï¼š å½“è¢«ç›‘æ§çš„æŸä¸ª Redis æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶ï¼Œ Sentinel å¯ä»¥é€šè¿‡ API å‘ç®¡ç†å‘˜æˆ–è€…å…¶ä»–åº”ç”¨ç¨‹åºå‘é€é€šçŸ¥ã€‚&lt;br/&gt;&lt;span&gt;3ï¼‰è‡ªåŠ¨æ•…éšœè¿ç§»ï¼ˆAutomatic failoverï¼‰ï¼š å½“ä¸€ä¸ªä¸»æœåŠ¡å™¨ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼Œ Sentinel ä¼šå¼€å§‹ä¸€æ¬¡è‡ªåŠ¨æ•…éšœè¿ç§»æ“ä½œï¼Œ å®ƒä¼šå°†å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä¸­ä¸€ä¸ªä»æœåŠ¡å™¨å‡çº§ä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ï¼Œ å¹¶è®©å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä»–ä»æœåŠ¡å™¨æ”¹ä¸ºå¤åˆ¶æ–°çš„ä¸»æœåŠ¡å™¨ï¼› å½“&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¯•å›¾è¿æ¥å¤±æ•ˆçš„ä¸»æœåŠ¡å™¨æ—¶ï¼Œé›†ç¾¤ä¹Ÿä¼šå‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¿”å›æ–°ä¸»æœåŠ¡å™¨çš„åœ°å€ï¼Œä½¿å¾—é›†ç¾¤å¯ä»¥ä½¿ç”¨æ–°ä¸»æœåŠ¡å™¨ä»£æ›¿å¤±æ•ˆæœåŠ¡å™¨ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;4ã€ä¸»ç®¡ä¸‹çº¿å’Œå®¢è§‚ä¸‹çº¿ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ä¸»è§‚ä¸‹çº¿ï¼šæ¯éš”1ç§’æ¯ä¸ªsentinelå¯¹å…¶ä»–çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;èŠ‚ç‚¹ï¼ˆmasterï¼Œslaveï¼Œsentinelï¼‰æ‰§è¡Œpingæ“ä½œï¼Œè‹¥masterè¶…è¿‡down-after-millisecondså†…æ²¡æœ‰å›å¤ï¼Œå°±å¯¹è¯¥èŠ‚ç‚¹è¿›è¡Œä¸»è§‚ä¸‹çº¿ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ¯ä¸ªsentinelèŠ‚ç‚¹å¯¹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;èŠ‚ç‚¹å¤±è´¥çš„â€œåè§â€&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;å®¢è§‚ä¸‹çº¿ï¼šå½“sentinelä¸»è§‚ä¸‹çº¿çš„èŠ‚ç‚¹æ˜¯ä¸»èŠ‚ç‚¹æ—¶ï¼Œsentinelä¼šé€šè¿‡å‘½ä»¤sentinel is-master-down-by-addræ¥è¯¢é—®å…¶sentinelå¯¹ä¸»èŠ‚ç‚¹çš„åˆ¤æ–­ï¼Œå¦‚æœè¶…è¿‡quorumä¸ªæ•°å°±è®¤ä¸ºä¸»èŠ‚ç‚¹éœ€è¦å®¢è§‚ä¸‹çº¿, &lt;strong&gt;&lt;span&gt;æ‰€æœ‰sentinelèŠ‚ç‚¹å¯¹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;èŠ‚ç‚¹å¤±è´¥è¾¾æˆå…±è¯†&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;5ã€å¦‚ä½•é€‰ä¸¾sentinelçš„leaderï¼Ÿ&lt;/p&gt; 
&lt;p&gt;ä½¿ç”¨raftåè®®ï¼ˆè§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§é—®é¢˜çš„åè®®ï¼‰&lt;/p&gt; 
&lt;p&gt;1ï¼‰æ¯ä¸ªåšä¸»è§‚ä¸‹çº¿çš„sentinelèŠ‚ç‚¹å‘å…¶ä»–sentinelèŠ‚ç‚¹å‘é€å‘½ä»¤ï¼Œè¦æ±‚å°†è‡ªå·±è®¾ç½®ä¸ºleader&lt;/p&gt; 
&lt;p&gt;2ï¼‰æ”¶åˆ°çš„sentinelå¯ä»¥åŒæ„æˆ–æ‹’ç»&lt;/p&gt; 
&lt;p&gt;3ï¼‰å¦‚æœè¯¥sentinelèŠ‚ç‚¹å‘ç°è‡ªå·±çš„ç¥¨æ•°å·²ç»è¶…è¿‡äº†åŠæ•°å¹¶ä¸”è¶…è¿‡äº†quorumé‚£ä¹ˆå½“é€‰leader&lt;/p&gt; 
&lt;p&gt;4ï¼‰å¦‚æœæ­¤è¿‡ç¨‹é€‰ä¸¾å‡ºäº†å¤šä¸ªleaderï¼Œé‚£ä¹ˆå°†ç­‰å¾…ä¸€æ®µæ—¶é—´é‡æ–°è¿›è¡Œé€‰ä¸¾&lt;/p&gt; 
&lt;p&gt;6ã€sentinelçš„leaderå¦‚ä½•é€‰ä¸¾ä»èŠ‚ç‚¹æˆä¸ºä¸»èŠ‚ç‚¹ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;1ï¼‰è¿‡æ»¤æ•…éšœèŠ‚ç‚¹&lt;/p&gt; 
&lt;p&gt;2ï¼‰æ ¹æ®slave-priorityä¼˜å…ˆçº§è¿›è¡Œé€‰æ‹©&lt;/p&gt; 
&lt;p&gt;3ï¼‰é€‰æ‹©å¤åˆ¶åç§»é‡å¤§çš„ä»èŠ‚ç‚¹ä¸ºä¸»èŠ‚ç‚¹&lt;/p&gt; 
&lt;p&gt;4ï¼‰é€‰æ‹©runidæœ€å°çš„ä»æˆä¸ºä¸»ï¼ˆè¯´æ˜é‡å¯çš„æ—¶é—´é å‰ï¼‰&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;img&quot; src=&quot;https://uploadfiles.nowcoder.com/files/20210513/77530848_1620872161302/20421881-d899be3f8c1f89b2.jpg&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;7ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;é›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹æŒ‚äº†æ€ä¹ˆåŠï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;è‡ªåŠ¨æ•…éšœè¿ç§»&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;8ã€ä»€ä¹ˆæ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;çš„ä¸»ä»å¤åˆ¶ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰1-Nä¸ªå¤åˆ¶å“ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œå…¶ä½™çš„ä¸ºä»èŠ‚ç‚¹ï¼Œå¦‚æœä¸»èŠ‚ç‚¹ä¸‹çº¿äº†ï¼Œé›†ç¾¤å°±ä¼šæŠŠè¿™ä¸ªä¸»èŠ‚ç‚¹çš„ä¸€ä¸ªä»èŠ‚ç‚¹è®¾ç½®ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ç»§ç»­å·¥ä½œï¼Œè¿™æ ·é›†ç¾¤å°±ä¸ä¼šå› ä¸ºä¸€ä¸ªä¸»èŠ‚ç‚¹çš„ä¸‹çº¿è€Œæ— æ³•æ­£å¸¸å·¥ä½œ&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;9ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ä¸»ä»å¤åˆ¶çš„æ–¹å¼ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;å…¨é‡åŒæ­¥å’Œå¢é‡åŒæ­¥&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;10ã€å¦‚ä½•è§£å†³ä¸»ä»æ¶æ„çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;åˆ†å¸ƒå¼é”ä¸»èŠ‚ç‚¹å®•æœºé”ä¸¢å¤±çš„é—®é¢˜ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ä½¿ç”¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;sonå°è£…çš„redlock&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å®ç°çš„åˆ†å¸ƒå¼é”ç”¨æ³•ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;redlock&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;æ€æƒ³ï¼šä¸èƒ½åªåœ¨ä¸€ä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å®ä¾‹ä¸Šåˆ›å»ºé”ï¼Œåº”è¯¥æ˜¯åœ¨å¤šä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å®ä¾‹ä¸Šåˆ›å»ºé”ï¼Œå¿…é¡»åœ¨å¤§å¤šæ•°&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;èŠ‚ç‚¹ä¸Šéƒ½æˆåŠŸåˆ›å»ºé”ï¼Œæ‰èƒ½ç®—è¿™ä¸ªæ•´ä½“çš„RedLockåŠ é”æˆåŠŸï¼Œé¿å…ä»…ä»…åœ¨ä¸€ä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å®ä¾‹ä¸ŠåŠ é”è€Œå¸¦æ¥çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;å…³é”®åœ¨äºsetçš„valueè¦å…·æœ‰å”¯ä¸€æ€§ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;sonæ€æ ·ä¿æŒvalueçš„ä¸€è‡´æ€§ï¼Ÿ&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;UUID+threadId&lt;/p&gt; 
 
&lt;p&gt;1ã€&lt;strong&gt;é€Ÿåº¦å¿«&lt;/strong&gt;ï¼Œå› ä¸ºæ•°æ®å­˜åœ¨å†…å­˜ä¸­ï¼Œç±»ä¼¼äºHashMapï¼ŒHashMapçš„ä¼˜åŠ¿å°±æ˜¯æŸ¥æ‰¾å’Œæ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)&lt;/p&gt; 
&lt;p&gt;2ã€æ”¯æŒ&lt;strong&gt;ä¸°å¯Œæ•°æ®ç±»å‹&lt;/strong&gt;ï¼Œæ”¯æŒstringï¼Œlistï¼Œsetï¼Œsorted setï¼Œhash&lt;/p&gt; 
&lt;p&gt;3ã€&lt;strong&gt;æ”¯æŒäº‹åŠ¡&lt;/strong&gt;ï¼Œæ“ä½œéƒ½æ˜¯&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼Œæ‰€è°“çš„åŸå­æ€§å°±æ˜¯å¯¹æ•°æ®çš„æ›´æ”¹è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œ&lt;/p&gt; 
&lt;p&gt;4ã€ä¸°å¯Œçš„ç‰¹æ€§ï¼šå¯ç”¨äºç¼“å­˜ï¼Œæ¶ˆæ¯ï¼ŒæŒ‰keyè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸåå°†ä¼šè‡ªåŠ¨åˆ é™¤&lt;/p&gt; 
 
&lt;p&gt;&lt;span&gt;1ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æ˜¯&lt;/span&gt;&lt;strong&gt;çº¯å†…å­˜æ•°æ®åº“&lt;/strong&gt;ï¼Œä¸€èˆ¬éƒ½æ˜¯ç®€å•çš„å­˜å–æ“ä½œï¼Œè¯»å–é€Ÿåº¦å¿«&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ä½¿ç”¨&lt;/span&gt;&lt;strong&gt;éé˜»å¡IOï¼ŒIOå¤šè·¯å¤ç”¨&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;é‡‡ç”¨&lt;/span&gt;&lt;strong&gt;å•çº¿ç¨‹æ¨¡å‹&lt;/strong&gt;ï¼Œä¿è¯æ¯ä¸ªæ“ä½œçš„åŸå­æ€§ï¼Œå‡å°‘äº†çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;4ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å…¨ç¨‹ä½¿ç”¨&lt;/span&gt;&lt;strong&gt;hashç»“æ„&lt;/strong&gt;ï¼Œè¯»å–é€Ÿåº¦å¿«ï¼Œå†æ¯”å¦‚æœ‰åºé›†åˆä½¿ç”¨çš„è·³è¡¨&lt;/p&gt; 
&lt;h4&gt;&lt;span&gt;é™¤äº†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;è¿˜æœ‰ä»€ä¹ˆåˆ†å¸ƒå¼ç¼“å­˜æ•°æ®åº“ï¼Ÿ&lt;/span&gt;&lt;/h4&gt; 
&lt;p&gt;Memcached&lt;/p&gt; 
&lt;p&gt;Memcachedæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼å†…å­˜å¯¹è±¡ç¼“å­˜ç³»ç»Ÿï¼Œç”¨äºåŠ¨æ€Webåº”ç”¨ä»¥å‡è½»æ•°æ®åº“è´Ÿè½½ã€‚Memcachedé€šè¿‡åœ¨å†…å­˜ä¸­ç¼“å­˜æ•°æ®å’Œå¯¹è±¡æ¥å‡å°‘è¯»å–æ•°æ®åº“çš„æ¬¡æ•°ï¼Œä»è€Œæé«˜åŠ¨æ€ã€æ•°æ®åº“é©±åŠ¨ç½‘ç«™çš„é€Ÿåº¦ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;ç‰¹ç‚¹ï¼šå“ˆå¸Œæ–¹å¼å­˜å‚¨ï¼›å…¨å†…å­˜æ“ä½œï¼›ç®€å•æ–‡æœ¬åè®®è¿›è¡Œæ•°æ®é€šä¿¡ï¼›åªæ“ä½œå­—ç¬¦å‹æ•°æ®ï¼›é›†ç¾¤ç”±åº”ç”¨è¿›è¡Œæ§åˆ¶ï¼Œé‡‡ç”¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•&lt;/a&gt;ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;é™åˆ¶æ€§ï¼šæ•°æ®ä¿å­˜åœ¨å†…å­˜å½“ä¸­çš„ï¼Œä¸€æ—¦æœºå™¨é‡å¯ï¼Œæ•°æ®ä¼šå…¨éƒ¨ä¸¢å¤±ï¼›åªèƒ½æ“ä½œå­—ç¬¦å‹æ•°æ®ï¼Œæ•°æ®ç±»å‹è´«ä¹ï¼›ä»¥rootæƒé™è¿è¡Œï¼Œè€Œä¸”Memcachedæœ¬èº«æ²¡æœ‰ä»»ä½•æƒé™ç®¡ç†å’Œè®¤è¯åŠŸèƒ½ï¼Œå®‰å…¨æ€§ä¸è¶³ï¼›èƒ½å­˜å‚¨çš„æ•°æ®é•¿åº¦æœ‰é™ï¼Œæœ€å¤§é”®é•¿250ä¸ªå­—ç¬¦ï¼Œå‚¨å­˜æ•°æ®ä¸èƒ½è¶…è¿‡1Mã€‚&lt;/p&gt; 
 
&lt;p&gt;1ã€ç±»å‹ä¸Šï¼š&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;mysqlæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æ˜¯ç¼“å­˜æ•°æ®åº“&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;2ã€ä½œç”¨ä¸Šï¼š&lt;/p&gt; 
&lt;p&gt;mysqlç”¨äºæŒä¹…åŒ–çš„å­˜å‚¨æ•°æ®åˆ°ç¡¬ç›˜ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯é€Ÿåº¦è¾ƒæ…¢&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ç”¨äºå­˜å‚¨ä½¿ç”¨è¾ƒä¸ºé¢‘ç¹çš„æ•°æ®åˆ°ç¼“å­˜ä¸­ï¼Œè¯»å–é€Ÿåº¦å¿«&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;3ã€éœ€æ±‚ä¸Šï¼š&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;mysqlå’Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å› ä¸ºéœ€æ±‚çš„ä¸åŒï¼Œä¸€èˆ¬éƒ½æ˜¯é…åˆä½¿ç”¨&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;è¡¥å……ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€mysqlæ”¯æŒsqlæŸ¥è¯¢ï¼Œå¯ä»¥å®ç°ä¸€äº›å…³è”çš„æŸ¥è¯¢ä»¥åŠç»Ÿè®¡ï¼›&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;å¯¹å†…å­˜è¦æ±‚æ¯”è¾ƒé«˜ï¼Œåœ¨æœ‰é™çš„æ¡ä»¶ä¸‹ä¸èƒ½æŠŠæ‰€æœ‰æ•°æ®éƒ½æ”¾åœ¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ï¼›&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€mysqlåå‘äºå­˜æ•°æ®ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;åå‘äºå¿«é€Ÿå–æ•°æ®ï¼Œä½†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æŸ¥è¯¢å¤æ‚çš„è¡¨å…³ç³»æ—¶ä¸å¦‚mysqlï¼Œæ‰€ä»¥å¯ä»¥æŠŠçƒ­é—¨çš„æ•°æ®æ”¾&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ï¼Œmysqlå­˜åŸºæœ¬æ•°æ®&lt;/span&gt;&lt;/p&gt; 
&lt;h4&gt;ä¸ºä»€ä¹ˆç”¨Redisä¸ç”¨Mapï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;1ã€Rediså¯ä»¥å®ç°åˆ†å¸ƒå¼çš„ç¼“å­˜ï¼ŒMapåªå­˜åœ¨åˆ›å»ºå®ƒçš„ç¨‹åºé‡Œ&lt;/p&gt; 
&lt;p&gt;2ã€Rediså¯ä»¥åˆ†é…å¾ˆå¤§çš„å†…å­˜æ¥åšç¼“å­˜ï¼Œè€ŒMapå—åˆ°JVMçš„é™åˆ¶&lt;/p&gt; 
&lt;p&gt;3ã€Redisçš„ç¼“å­˜å¯ä»¥æŒä¹…åŒ–ï¼ŒMapå­˜åœ¨äºå†…å­˜ä¸­ï¼Œé‡å¯åä¸¢å¤±&lt;/p&gt; 
&lt;p&gt;4ã€Rediså¯ä»¥å¤„ç†æ¯ç§’ç™¾ä¸‡çº§çš„å¹¶å‘ï¼Œè€ŒMapåªæ˜¯æ™®é€šå¯¹è±¡&lt;/p&gt; 
&lt;p&gt;5ã€Redisç¼“å­˜æœ‰è¿‡æœŸæœºåˆ¶ï¼Œè€ŒMapæ— æ­¤åŠŸèƒ½&lt;/p&gt; 
&lt;p&gt;6ã€Redisæœ‰ä¸°å¯Œçš„APIï¼ŒMapç®€å•å¤ªå¤šäº†&lt;/p&gt; 
&lt;h4&gt;Redisåˆ†å¸ƒå¼é”çš„åŸç†&lt;/h4&gt; 
&lt;p&gt;&lt;span&gt;1ã€åŠ é”æœºåˆ¶ï¼šæŸä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;è¦åŠ é”ï¼Œå¦‚æœè¯¥&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;é¢å¯¹çš„æ˜¯ä¸€ä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt; clusteré›†ç¾¤ï¼Œé¦–å…ˆä¼šæ ¹æ®hashèŠ‚ç‚¹é€‰æ‹©ä¸€å°æœºå™¨ã€‚ç´§æ¥ç€ï¼Œå°±ä¼šå‘é€ä¸€æ®µluaè„šæœ¬åˆ°&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ä¸Šï¼Œä¿è¯è¿™æ®µå¤æ‚ä¸šåŠ¡é€»è¾‘æ‰§è¡Œçš„&lt;/span&gt;&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;&lt;span&gt;ã€‚luaè„šæœ¬ä¸­åŒ…å«çš„å‚æ•°æœ‰åŠ é”çš„keyï¼Œkeyçš„é»˜è®¤ç”Ÿå­˜æ—¶é—´ï¼ŒåŠ é”çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;çš„IDã€‚åŠ é”çš„é€»è¾‘æ˜¯SETNXï¼Œå³ä¸å­˜åœ¨æ‰åŠ é”ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;2ã€é”äº’æ–¥æœºåˆ¶ï¼š&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;2æ¥å°è¯•åŠ é”æ—¶ä¼šå‘ç°é”å·²å­˜åœ¨å¹¶ä¸”&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;IDä¸æ˜¯è‡ªå·±çš„ï¼Œæ­¤æ—¶ä¼šè¿›å…¥ä¸€ä¸ªwhileå¾ªç¯ï¼Œä¸åœçš„å°è¯•åŠ é”ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;3ã€watch dogè‡ªåŠ¨å»¶æœŸæœºåˆ¶ï¼š&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;1ä¸€æ—¦åŠ é”æˆåŠŸï¼Œå°±ä¼šå¯åŠ¨ä¸€ä¸ªwatch dogçœ‹é—¨ç‹—ï¼Œ&lt;/span&gt;&lt;strong&gt;ä»–æ˜¯ä¸€ä¸ªåå°çº¿ç¨‹ï¼Œä¼šæ¯éš”10ç§’æ£€æŸ¥ä¸€ä¸‹&lt;/strong&gt;&lt;span&gt;ï¼Œå¦‚æœ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;1è¿˜æŒæœ‰é”keyï¼Œé‚£ä¹ˆå°±ä¼šä¸æ–­çš„å»¶é•¿é”keyçš„ç”Ÿå­˜æ—¶é—´ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;4ã€å¯é‡å…¥åŠ é”æœºåˆ¶ï¼šå¦‚æœ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;1å·²ç»æŒæœ‰é”äº†è¿˜è¿›è¡Œå¯é‡å…¥çš„åŠ é”é‚£ä¹ˆå°±ä¼šå¯¹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;1çš„åŠ é”æ¬¡æ•°ç´¯åŠ 1ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;5ã€é‡Šæ”¾é”æœºåˆ¶ï¼šæ‰§è¡Œlock.unlock()å°±å¯ä»¥é‡Šæ”¾åˆ†å¸ƒå¼é”ï¼Œæ¯æ¬¡å¯¹åŠ é”æ¬¡æ•°å‡1ï¼Œå½“åŠ é”æ¬¡æ•°ä¸º0æ—¶ä»&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;é‡Œåˆ é™¤è¿™ä¸ªkeyï¼Œç„¶åå¦å¤–çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;2å°±å¯ä»¥å°è¯•å®ŒæˆåŠ é”äº†ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;Redisåˆ†å¸ƒå¼é”çš„ç¼ºç‚¹ï¼Ÿ&lt;/p&gt; 
 &lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt; clusterï¼Œæˆ–è€…æ˜¯&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt; master-slaveæ¶æ„çš„&lt;/span&gt;&lt;strong&gt;ä¸»ä»å¼‚æ­¥å¤åˆ¶&lt;/strong&gt;&lt;span&gt;å¯¼è‡´çš„&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;åˆ†å¸ƒå¼é”çš„æœ€å¤§ç¼ºé™·ï¼šåœ¨&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt; masterå®ä¾‹å®•æœºçš„æ—¶å€™ï¼Œå¯èƒ½å¯¼è‡´å¤šä¸ª&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;åŒæ—¶å®ŒæˆåŠ é”ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;p&gt;&lt;span&gt;åœ¨é¢å¯¹&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;é›†ç¾¤æ—¶éœ€è¦é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œç¼“å­˜ï¼Œæ™®é€šçš„hash&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;æ˜¯å–æ¨¡ï¼šhash(IPåœ°å€æˆ–æ–‡ä»¶å)%æœåŠ¡å™¨æ•°é‡ï¼Œä½†è¿™ç§æ–¹å¼åœ¨æœåŠ¡å™¨æ•°é‡å˜åŠ¨çš„æ—¶å€™ï¼Œæ‰€æœ‰ç¼“å­˜çš„ä½ç½®éƒ½è¦å‘ç”Ÿæ”¹å˜ã€‚å› æ­¤è¯ç”Ÿäº†Hashä¸€è‡´æ€§&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;ï¼ŒåŒºåˆ«æ˜¯&lt;/span&gt;&lt;strong&gt;å¯¹2^ 32-1å–æ¨¡&lt;/strong&gt;&lt;span&gt;ï¼Œä¸€è‡´æ€§Hash&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E7%AE%97%E6%B3%95&quot; target=&quot;_blank&quot;&gt;ç®—æ³•&lt;/a&gt;å°†æ•´ä¸ªHashå€¼æ§ä»¶ç»„ç»‡æˆä¸€ä¸ª&lt;/span&gt;&lt;strong&gt;è™šæ‹Ÿçš„åœ†ç¯&lt;/strong&gt;ï¼Œå°†æ•°æ®keyä½¿ç”¨ç›¸åŒçš„å‡½æ•°Hashè®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œå¹¶ç¡®å®šæ­¤æ•°æ®åœ¨ç¯ä¸Šçš„ä½ç½®ï¼Œä»æ­¤ä½ç½®æ²¿ç¯é¡ºæ—¶é’ˆâ€œè¡Œèµ°â€ï¼Œç¬¬ä¸€å°é‡åˆ°çš„æœåŠ¡å™¨å°±æ˜¯å…¶åº”è¯¥å®šä½åˆ°çš„æœåŠ¡å™¨ã€‚ä¸ºè§£å†³æ•°æ®å€¾æ–œé—®é¢˜è¿˜å¼•å…¥äº†è™šæ‹ŸèŠ‚ç‚¹æœºåˆ¶ï¼Œå…·æœ‰è¾ƒå¥½çš„å®¹é”™æ€§å’Œå¯æ‰©å±•æ€§ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æœ‰åºé›†åˆä½¿ç”¨çš„è·³è¡¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/h4&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;æœ‰äº”ç§ç±»å‹çš„å¯¹è±¡ï¼šå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å“ˆå¸Œã€é›†åˆã€æœ‰åºé›†åˆã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=redis&quot; target=&quot;_blank&quot;&gt;redis&lt;/a&gt;ä¸­æœ‰åºé›†åˆçš„åº•å±‚é‡‡ç”¨è·³è¡¨ä½œä¸ºæ•°æ®ç»“æ„ï¼Œæœ‰åº&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%93%BE%E8%A1%A8&quot; target=&quot;_blank&quot;&gt;é“¾è¡¨&lt;/a&gt;åªèƒ½é€ä¸€æŸ¥è¯¢ï¼Œå¯¼è‡´æ“ä½œèµ·æ¥éå¸¸æ…¢ï¼Œè·³è¡¨åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†å¤šçº§ç´¢å¼•ï¼Œé€šè¿‡ç´¢å¼•ä½ç½®çš„å‡ ä¸ªè·³è½¬ï¼Œå®ç°æ•°æ®çš„å¿«é€Ÿå®šä½ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;è·³è¡¨çš„æŸ¥æ‰¾å¤æ‚åº¦æ˜¯O(logN)ã€‚&lt;/p&gt; 
&lt;h3 id=&quot;rabbitmq&quot;&gt;RabbitMQ&lt;/h3&gt; 
&lt;h4&gt;ä¸ºä»€ä¹ˆé€‰ç”¨RabbitMQ?&lt;/h4&gt; 
&lt;p&gt;1ã€åŸºäºAMQPåè®®2ã€é«˜å¹¶å‘3ã€é«˜æ€§èƒ½4ã€é«˜å¯ç”¨5ã€æ”¯æŒå¤šè¯­è¨€&lt;/p&gt; 
&lt;h4&gt;Rabbitçš„ç›¸å…³æ¦‚å¿µåŠå·¥ä½œæµç¨‹ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;ä¸€ã€å·¥ä½œæµç¨‹&lt;/p&gt; 
&lt;p&gt;ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ”¶å‘æ¶ˆæ¯éƒ½éœ€è¦ä¸RabbitMQå»ºç«‹ä¸€æ¡&lt;strong&gt;é•¿è¿æ¥&lt;/strong&gt;ï¼Œæ‰€æœ‰çš„æ”¶å‘æ¶ˆæ¯éƒ½åœ¨è¿æ¥ä¸­&lt;strong&gt;å¼€è¾Ÿä¿¡é“&lt;/strong&gt;è¿›è¡Œæ”¶å‘ï¼Œæ¶ˆæ¯æœ‰&lt;strong&gt;æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“&lt;/strong&gt;ï¼Œæ¶ˆæ¯å¤´æ˜¯ä¸€äº›å‚æ•°è®¾ç½®ï¼Œæ¶ˆæ¯ä½“æ˜¯çœŸæ­£çš„æ¶ˆæ¯å†…å®¹ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªæ¶ˆæ¯å¤´æ˜¯&lt;strong&gt;è·¯ç”±é”®&lt;/strong&gt;ï¼Œå†³å®šäº†æ¶ˆæ¯è¦å‘ç»™è°ã€‚æ¶ˆæ¯é¦–å…ˆæ¥åˆ°&lt;strong&gt;æ¶ˆæ¯ä»£ç†&lt;/strong&gt;æŒ‡å®šçš„&lt;strong&gt;è™šæ‹Ÿä¸»æœº&lt;/strong&gt;æ‰€æŒ‡å®šçš„&lt;strong&gt;äº¤æ¢æœº&lt;/strong&gt;ï¼Œäº¤æ¢æœºæ”¶åˆ°æ¶ˆæ¯åæ ¹æ®æ¶ˆæ¯çš„è·¯ç”±é”®é€šè¿‡äº¤æ¢æœºä¸å…¶ä»–é˜Ÿåˆ—çš„&lt;strong&gt;ç»‘å®šå…³ç³»&lt;/strong&gt;æ¥å†³å®šå°†æ¶ˆæ¯å‘ç»™å“ªä¸ªé˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ä¼š&lt;strong&gt;ç›‘å¬&lt;/strong&gt;è¿™äº›é˜Ÿåˆ—å¹¶æ‹¿åˆ°æ¶ˆæ¯ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€äº¤æ¢æœºï¼ˆExchangeï¼‰ç±»å‹&lt;/p&gt; 
&lt;p&gt;directã€fanoutï¼ˆæ‰‡å‡ºï¼‰ã€topicã€headersï¼ˆå‡ ä¹ä¸ç”¨ï¼‰&lt;/p&gt; 
&lt;p&gt;directæ˜¯ç‚¹å¯¹ç‚¹å¼ã€fanoutå’Œtopicæ˜¯å‘å¸ƒè®¢é˜…å¼&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;å„ç§Exchangeæ¯”è¾ƒï¼š&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt; 
 &lt;li&gt;directå®ç°è·¯ç”±é”®çš„ç²¾ç¡®åŒ¹é… &lt;/li&gt;
 &lt;li&gt;fanouté‡‡ç”¨å¹¿æ’­çš„å½¢å¼ï¼Œä¸å¤„ç†è·¯ç”±é”®ï¼Œå°†æ¶ˆæ¯å‘ç»™æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ— &lt;/li&gt;
 &lt;li&gt;topicå®ç°è·¯ç”±é”®çš„æ¨¡ç³ŠåŒ¹é…ï¼Œå¯ä»¥æœ‰é€šé…ç¬¦ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;ä¸‰ã€RabbitMQæ¶ˆæ¯ç¡®è®¤æœºåˆ¶--å¯é æŠµè¾¾&lt;/p&gt; 
&lt;p&gt;ä¸ºä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œå¯é æŠµè¾¾ï¼Œå¯ä»¥ä½¿ç”¨äº‹åŠ¡æ¶ˆæ¯ï¼Œä½†æ€§èƒ½ä¸‹é™250å€ï¼Œä¸ºæ­¤å¼•å…¥ç¡®è®¤æœºåˆ¶&lt;/p&gt; 
&lt;p&gt;&lt;img alt=&quot;å›¾ç‰‡è¯´æ˜&quot; src=&quot;https://uploadfiles.nowcoder.com/images/20210513/77530848_1620872752805/01BFBDE806018EE3D9AF88C8E4B4112C&quot; title=&quot;å›¾ç‰‡æ ‡é¢˜&quot;/&gt; &lt;/p&gt; 
&lt;p&gt;å‘é€ç«¯ç¡®è®¤ï¼š&lt;/p&gt; 
&lt;p&gt;1ã€ConfirmCallbackï¼šæ¶ˆæ¯åªè¦è¢«brokeræ¥æ”¶åˆ°å°±ä¼šæ‰§è¡ŒConfirmCallback&lt;/p&gt; 
&lt;p&gt;2ã€ReturnCallbackï¼šæ¶ˆæ¯æœªèƒ½æŠ•é€’åˆ°ç›®æ ‡queueé‡Œå°†è°ƒç”¨ReturnCallback&lt;/p&gt; 
&lt;p&gt;æ¶ˆè´¹ç«¯ç¡®è®¤ï¼ˆä¿è¯æ¯ä¸ªæ¶ˆæ¯è¢«æ­£ç¡®æ¶ˆè´¹æ‰å¯ä»¥åœ¨é˜Ÿåˆ—ä¸­åˆ é™¤ï¼‰ï¼š&lt;/p&gt; 
&lt;p&gt;3ã€ackï¼šåˆ†ä¸ºè‡ªåŠ¨ï¼ˆé»˜è®¤ï¼‰å’Œæ‰‹åŠ¨ï¼›&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;1ï¼‰é»˜è®¤æ˜¯è‡ªåŠ¨ç¡®è®¤çš„ï¼Œåªæœ‰æ¶ˆæ¯æ¥æ”¶åˆ°ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%AE%A2%E6%88%B7%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å®¢æˆ·ç«¯&lt;/a&gt;ä¼šè‡ªåŠ¨ç¡®è®¤ï¼ŒæœåŠ¡ç«¯å°±ä¼šç§»é™¤è¿™ä¸ªæ¶ˆæ¯&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;é—®é¢˜ï¼šæ”¶åˆ°å¾ˆå¤šæ¡æ¶ˆæ¯ï¼Œè‡ªåŠ¨å›å¤ç»™æœåŠ¡å™¨ackï¼Œä½†åªæœ‰ä¸€ä¸ªæ¶ˆæ¯å¤„ç†æˆåŠŸåå°±å®•æœºäº†ï¼Œå‘ç”Ÿæ¶ˆæ¯ä¸¢å¤±ï¼Œå› æ­¤è¦æœ‰æ‰‹åŠ¨æ¨¡å¼&lt;/p&gt; 
&lt;p&gt;æ¶ˆè´¹è€…æ‰‹åŠ¨ç¡®è®¤æ¨¡å¼ï¼šåªè¦æ²¡æœ‰æ˜ç¡®å‘Šè¯‰MQè´§ç‰©è¢«ç­¾æ”¶ï¼ˆæ²¡æœ‰ackï¼‰ï¼Œæ¶ˆæ¯å°±ä¸€ç›´æ˜¯unackedçŠ¶æ€ï¼Œå³ä½¿consumerå®•æœºï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œä¼šé‡æ–°å˜ä¸ºreadyçŠ¶æ€ï¼Œå¾…æœ‰æ–°çš„consumerè¿æ¥è¿›æ¥å†å‘é€&lt;/p&gt; 
&lt;p&gt;2ï¼‰å¦‚ä½•ç­¾æ”¶&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;basic.ackç”¨äºè‚¯å®šç¡®è®¤ï¼Œbrokerå°†ç§»é™¤æ­¤æ¶ˆæ¯ &lt;/li&gt;
 &lt;li&gt;basic.nackç”¨äºå¦å®šç¡®è®¤ï¼Œå¯ä»¥æŒ‡å®šbrokerä¸¢å¼ƒæ­¤æ¶ˆæ¯æˆ–é‡æ–°å…¥é˜Ÿï¼Œå¯ä»¥æ‰¹é‡ &lt;/li&gt;
 &lt;li&gt;basic.rejectç”¨äºå¦å®šç¡®è®¤ï¼ŒåŒä¸Šï¼Œä½†ä¸èƒ½æ‰¹é‡ &lt;/li&gt;
&lt;/ul&gt; 
&lt;h4&gt;æ­»ä¿¡é˜Ÿåˆ—æ˜¯ä»€ä¹ˆï¼Ÿä½œç”¨ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;æ­»ä¿¡é˜Ÿåˆ—ï¼šDLXï¼ŒDead-Letter-Exchangeï¼Œåˆ©ç”¨DLXï¼Œå½“æ¶ˆæ¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­å˜æˆæ­»ä¿¡ï¼ˆdead messageï¼Œå°±æ˜¯æ²¡æœ‰ä»»ä½•æ¶ˆè´¹è€…æ¶ˆè´¹ï¼‰ä¹‹åï¼Œä»–èƒ½è¢«é‡æ–°publishåˆ°å¦ä¸€ä¸ªExchangeï¼Œè¿™ä¸ªExchangeå°±æ˜¯DLXã€‚&lt;/p&gt; 
&lt;p&gt;æ¶ˆæ¯å˜ä¸ºæ­»ä¿¡çš„å‡ ç§æƒ…å†µï¼š1ï¼‰æ¶ˆæ¯è¢«æ‹’ç»åŒæ—¶ä¸é‡å›é˜Ÿåˆ—2ï¼‰TTLè¿‡æœŸ3ï¼‰é˜Ÿåˆ—è¾¾åˆ°æœ€å¤§é•¿åº¦&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;DLXä¹Ÿæ˜¯ä¸€ä¸ªæ­£å¸¸çš„Exchange&lt;/strong&gt;ï¼Œå’Œä¸€èˆ¬çš„Exchangeæ²¡æœ‰ä»»ä½•çš„åŒºåˆ«ï¼Œä»–èƒ½åœ¨ä»»ä½•çš„é˜Ÿåˆ—ä¸Šè¢«æŒ‡å®šï¼Œå®é™…ä¸Šå°±æ˜¯è®¾ç½®æŸä¸ªé˜Ÿåˆ—çš„å±æ€§ã€‚ å½“è¿™ä¸ªé˜Ÿåˆ—å‡ºç°æ­»ä¿¡çš„æ—¶å€™ï¼ŒRabbitMQå°±ä¼šè‡ªåŠ¨å°†è¿™æ¡æ¶ˆæ¯é‡æ–°å‘å¸ƒåˆ°Exchangeä¸Šå»ï¼Œè¿›è€Œè¢«è·¯ç”±åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥ç›‘å¬è¿™ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ä½œç›¸åº”çš„å¤„ç†ã€‚&lt;/p&gt; 
&lt;h3&gt;ç”¨è¿‡RPCæ¡†æ¶å—ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;ç”¨åˆ°äº†åŸºäºhttpçš„feignï¼ŒSpringCloudå¯¹feignå·²ç»æœ‰äº†æ¯”è¾ƒå¥½çš„å°è£…ï¼Œè¿˜äº†è§£åŸºäºç§æœ‰tcpåè®®çš„dubboï¼ˆé˜¿é‡Œçš„ï¼‰&lt;/p&gt; 
&lt;p&gt;å¦‚æœä¸ä½¿ç”¨rpcæ¡†æ¶ï¼Œé‚£ä¹ˆè°ƒç”¨æœåŠ¡èµ°httpéœ€è¦é…ç½®è¯·æ±‚headã€bodyï¼Œç„¶åæ‰èƒ½å‘èµ·è¯·æ±‚ã€‚è·å¾—å“åº”ä½“åï¼Œè¿˜éœ€è§£æç­‰æ“ä½œï¼Œååˆ†ç¹çã€‚Feignæ˜¯ä¸€ä¸ªhttpè¯·æ±‚è°ƒç”¨çš„è½»é‡çº§æ¡†æ¶ï¼Œä»¥Javaæ¥å£æ³¨è§£çš„æ–¹å¼è°ƒç”¨Httpè¯·æ±‚ã€‚Feigné€šè¿‡å¤„ç†æ³¨è§£ï¼Œå°†è¯·æ±‚æ¨¡æ¿åŒ–ï¼Œå½“å®é™…è°ƒç”¨çš„æ—¶å€™ï¼Œä¼ å…¥å‚æ•°ï¼Œæ ¹æ®å‚æ•°å†åº”ç”¨åˆ°è¯·æ±‚ä¸Šï¼Œè¿›è€Œè½¬åŒ–æˆçœŸæ­£çš„è¯·æ±‚ï¼Œå°è£…äº†httpè°ƒç”¨æµç¨‹ã€‚&lt;/p&gt; 
&lt;h3 id=&quot;docker&quot;&gt;docker&lt;/h3&gt; 
&lt;p&gt;ä¸€ã€dockeræ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt; 
&lt;p&gt;å¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•linuxæœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–&lt;/p&gt; 
&lt;p&gt;å…³é”®ï¼šåº”ç”¨ç¯å¢ƒéš”ç¦»ï¼›å°è£…å¥½çš„å¼€å‘ç¯å¢ƒç›´æ¥éƒ¨ç½²ï¼›é›†è£…ç®±æ€æƒ³&lt;/p&gt; 
&lt;p&gt;äºŒã€dockerçš„è¿›ç¨‹éš”ç¦»æœºåˆ¶ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;Linux &lt;strong&gt;Namespace&lt;/strong&gt; æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸åœ¨ä¸åŒè¿›ç¨‹é—´å®ç°çš„ä¸€ç§ã€Œç¯å¢ƒéš”ç¦»æœºåˆ¶ã€ã€‚&lt;/p&gt; 
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼šç°åœ¨æœ‰ä¸¤ä¸ªè¿›ç¨‹Aï¼ŒBã€‚ä»–ä»¬å¤„äºä¸¤ä¸ªä¸åŒçš„ PID Namespace ä¸‹ï¼šns1, ns2ã€‚åœ¨ns1ä¸‹ï¼ŒA è¿›ç¨‹çš„ PID å¯ä»¥è¢«è®¾ç½®ä¸º1ï¼Œåœ¨ ns2 ä¸‹ï¼ŒB è¿›ç¨‹çš„ PID ä¹Ÿå¯ä»¥è®¾ç½®ä¸º1ã€‚ä½†æ˜¯å®ƒä»¬ä¸¤ä¸ªå¹¶ä¸ä¼šå†²çªï¼Œå› ä¸º Linux PID Namespace å¯¹ PID è¿™ä¸ªèµ„æºåœ¨è¿›ç¨‹ Aï¼ŒB ä¹‹é—´åšäº†éš”ç¦»ã€‚A è¿›ç¨‹åœ¨ ns1ä¸‹æ˜¯ä¸çŸ¥é“ B è¿›ç¨‹åœ¨ ns2 ä¸‹é¢çš„ PID çš„ã€‚&lt;/p&gt; 
&lt;p&gt;Linux ä¸€å…±æ„å»ºäº† 6 ç§ä¸åŒçš„ Namespaceï¼Œç”¨äºä¸åŒåœºæ™¯ä¸‹çš„éš”ç¦»ï¼š&lt;/p&gt; 
&lt;table&gt; 
 &lt;thead&gt; 
  &lt;tr&gt; 
   &lt;th&gt;Namespace&lt;/th&gt; 
   &lt;th&gt;ç³»ç»Ÿè°ƒç”¨å‚æ•°&lt;/th&gt; 
   &lt;th&gt;éš”ç¦»å†…å®¹&lt;/th&gt; 
  &lt;/tr&gt; 
 &lt;/thead&gt; 
 &lt;tbody&gt;
  &lt;tr&gt; 
   &lt;td&gt;UTS&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWUTS&lt;/td&gt; 
   &lt;td&gt;ä¸»æœºåä¸åŸŸå&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;IPC&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWIPC&lt;/td&gt; 
   &lt;td&gt;ä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;PID&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWPID&lt;/td&gt; 
   &lt;td&gt;è¿›ç¨‹ç¼–å·&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;Network&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWNET&lt;/td&gt; 
   &lt;td&gt;ç½‘ç»œè®¾å¤‡ã€ç½‘ç»œæ ˆã€ç«¯å£ç­‰ç­‰&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;Mount&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWNS&lt;/td&gt; 
   &lt;td&gt;æŒ‚è½½ç‚¹ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰&lt;/td&gt; 
  &lt;/tr&gt; 
  &lt;tr&gt; 
   &lt;td&gt;User&lt;/td&gt; 
   &lt;td&gt;CLONE_NEWUSER&lt;/td&gt; 
   &lt;td&gt;ç”¨æˆ·å’Œç”¨æˆ·ç»„&lt;/td&gt; 
  &lt;/tr&gt; 
 &lt;/tbody&gt;
&lt;/table&gt; 
&lt;p&gt;ä¸‰ã€dockerå’Œè™šæ‹Ÿæœºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/p&gt; 
&lt;p&gt;dockeræ˜¯ä¸€ç§è½»é‡çº§çš„è™šæ‹Ÿæœºï¼Œæ¯”è™šæ‹Ÿæœºæ›´èŠ‚çœå†…å­˜ï¼Œå¯åŠ¨æ›´å¿«ã€‚&lt;/p&gt; 
&lt;p&gt;Dockerå®ˆæŠ¤è¿›ç¨‹å¯ä»¥ç›´æ¥ä¸ä¸»æ“ä½œç³»ç»Ÿè¿›è¡Œé€šä¿¡ï¼Œä¸ºå„ä¸ªDockerå®¹å™¨åˆ†é…èµ„æºï¼›å®ƒè¿˜å¯ä»¥å°†å®¹å™¨ä¸ä¸»æ“ä½œç³»ç»Ÿéš”ç¦»ï¼Œå¹¶å°†å„ä¸ªå®¹å™¨äº’ç›¸éš”ç¦»ã€‚è™šæ‹Ÿæœºå¯åŠ¨éœ€è¦æ•°åˆ†é’Ÿï¼Œè€ŒDockerå®¹å™¨å¯ä»¥åœ¨æ•°æ¯«ç§’å†…å¯åŠ¨ã€‚ç”±äºæ²¡æœ‰è‡ƒè‚¿çš„ä»æ“ä½œç³»ç»Ÿï¼ŒDockerå¯ä»¥èŠ‚çœå¤§é‡çš„ç£ç›˜ç©ºé—´ä»¥åŠå…¶ä»–ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt; 
&lt;p&gt;è™šæ‹Ÿæœºæ›´æ“…é•¿äºå½»åº•éš”ç¦»æ•´ä¸ªè¿è¡Œç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œäº‘æœåŠ¡æä¾›å•†é€šå¸¸é‡‡ç”¨è™šæ‹ŸæœºæŠ€æœ¯éš”ç¦»ä¸åŒçš„ç”¨æˆ·ã€‚&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;Dockeré€šå¸¸ç”¨äºéš”ç¦»ä¸åŒçš„åº”ç”¨ï¼Œä¾‹å¦‚&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%89%8D%E7%AB%AF&quot; target=&quot;_blank&quot;&gt;å‰ç«¯&lt;/a&gt;ï¼Œåç«¯ä»¥åŠæ•°æ®åº“ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;h3 id=&quot;git&quot;&gt;git&lt;/h3&gt; 
&lt;h4&gt;gitäº§ç”Ÿå†²çªçš„æƒ…å†µåŠè§£å†³æ–¹æ³•ï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;ä¸€ã€äº§ç”Ÿå†²çªçš„æƒ…å†µ&lt;/p&gt; 
&lt;p&gt;githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œæœ¬åœ°ä¸¤ä¸ªæ–‡ä»¶å¤¹åˆ†åˆ«cloneåŒä¸€ä»“åº“ï¼Œåˆ†åˆ«å«cangkuAã€ä»“åº“Bï¼Œåœ¨ä»“åº“Aä¿®æ”¹æ–‡ä»¶ï¼Œæäº¤åˆ°è¿œç«¯ï¼Œåœ¨ä»“åº“Bä¿®æ”¹åŒä¸€æ–‡ä»¶çš„åŒä¸€è¡Œï¼ŒåŒæ ·ä¿å­˜ä¿®æ”¹åå°è¯•æäº¤åˆ°è¿œç«¯ï¼Œä¼šå‘ç”Ÿå†²çªã€‚&lt;/p&gt; 
&lt;p&gt;äºŒã€è§£å†³æ–¹æ³•ï¼ˆåˆå¹¶åˆ†æ”¯ï¼‰&lt;/p&gt; 
&lt;p&gt;1ã€rebaseï¼šä¿ç•™åŸåˆ†æ”¯ä¸Šçš„æ¯ä¸ªcommit&lt;/p&gt; 
&lt;p&gt;2ã€mergeï¼šåªä¼šç”Ÿæˆä¸€ä¸ªcommit&lt;/p&gt; 
&lt;h3 id=&quot;maven&quot;&gt;maven&lt;/h3&gt; 
&lt;h4&gt;mavençš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ&lt;/h4&gt; 
&lt;p&gt;&lt;span&gt;Mavençš„ç”Ÿå‘½å‘¨æœŸå°±æ˜¯å¯¹æ‰€æœ‰çš„æ„å»ºè¿‡ç¨‹è¿›è¡ŒæŠ½è±¡å’Œç»Ÿä¸€ã€‚åŒ…å«äº†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;çš„æ¸…ç†ã€åˆå§‹åŒ–ã€ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€é›†æˆæµ‹è¯•ã€éªŒè¯ã€éƒ¨ç½²å’Œç«™ç‚¹ç”Ÿæˆç­‰å‡ ä¹æ‰€æœ‰çš„æ„å»ºæ­¥éª¤ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;Mavençš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŠ½è±¡çš„ï¼Œå³ç”Ÿå‘½å‘¨æœŸä¸åšä»»ä½•å®é™…çš„å·¥ä½œï¼Œå®é™…ä»»åŠ¡ç”±æ’ä»¶å®Œæˆï¼Œç±»ä¼¼äºè®¾è®¡æ¨¡å¼ä¸­çš„æ¨¡æ¿æ–¹æ³•ã€‚&lt;/p&gt; 
&lt;p&gt;Mavenæœ‰ä¸‰å¥—ç›¸äº’ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆ†åˆ«æ˜¯cleanã€defaultå’Œsiteã€‚æ¯ä¸ªç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸€äº›é˜¶æ®µï¼ˆphaseï¼‰ï¼Œé˜¶æ®µæ˜¯æœ‰é¡ºåºçš„ï¼Œåé¢çš„é˜¶æ®µä¾èµ–äºå‰é¢çš„é˜¶æ®µã€‚&lt;/p&gt; 
&lt;p&gt;1ã€&lt;strong&gt;Clean ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;&lt;span&gt;ï¼šæ¸…ç†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ï¼ŒåŒ…å«ä¸‰ä¸ª phase ï¼š&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;pre-cleanï¼šæ‰§è¡Œæ¸…ç†å‰éœ€è¦å®Œæˆçš„å·¥ä½œã€‚ &lt;/li&gt;
 &lt;li&gt;cleanï¼šæ¸…ç†ä¸Šä¸€æ¬¡æ„å»ºç”Ÿæˆçš„æ–‡ä»¶ã€‚ &lt;/li&gt;
 &lt;li&gt;post-cleanï¼šæ‰§è¡Œæ¸…ç†åéœ€è¦å®Œæˆçš„å·¥ä½œ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;2ã€&lt;strong&gt;Default ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;&lt;span&gt;ï¼šæ„å»º&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ï¼Œé‡è¦çš„ phase å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;validateï¼šéªŒè¯å·¥ç¨‹æ˜¯å¦æ­£ç¡®ï¼Œæ‰€æœ‰éœ€è¦çš„èµ„æºæ˜¯å¦å¯ç”¨ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;span&gt;compileï¼šç¼–è¯‘&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;çš„æºä»£ç ã€‚ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;testï¼šä½¿ç”¨åˆé€‚çš„å•å…ƒæµ‹è¯•æ¡†æ¶æ¥æµ‹è¯•å·²ç¼–è¯‘çš„æºä»£ç ã€‚è¿™äº›æµ‹è¯•ä¸éœ€è¦å·²æ‰“åŒ…å’Œå¸ƒç½²ã€‚ &lt;/li&gt;
 &lt;li&gt;packageï¼šæŠŠå·²ç¼–è¯‘çš„ä»£ç æ‰“åŒ…æˆå¯å‘å¸ƒçš„æ ¼å¼ï¼Œæ¯”å¦‚ jarã€war ç­‰ã€‚ &lt;/li&gt;
 &lt;li&gt;integration-testï¼šå¦‚æœ‰éœ€è¦ï¼Œå°†åŒ…å¤„ç†å’Œå‘å¸ƒåˆ°ä¸€ä¸ªèƒ½å¤Ÿè¿›è¡Œé›†æˆæµ‹è¯•çš„ç¯å¢ƒã€‚ &lt;/li&gt;
 &lt;li&gt;verifyï¼šè¿è¡Œæ‰€æœ‰æ£€æŸ¥ï¼ŒéªŒè¯åŒ…æ˜¯å¦æœ‰æ•ˆä¸”è¾¾åˆ°è´¨é‡æ ‡å‡†ã€‚ &lt;/li&gt;
 &lt;li&gt;installï¼šæŠŠåŒ…å®‰è£…åˆ°mavenæœ¬åœ°ä»“åº“ï¼Œå¯ä»¥è¢«å…¶ä»–å·¥ç¨‹ä½œä¸ºä¾èµ–æ¥ä½¿ç”¨ã€‚ &lt;/li&gt;
 &lt;li&gt;deployï¼šåœ¨é›†æˆæˆ–è€…å‘å¸ƒç¯å¢ƒä¸‹æ‰§è¡Œï¼Œå°†æœ€ç»ˆç‰ˆæœ¬çš„åŒ…æ‹·è´åˆ°è¿œç¨‹çš„repositoryï¼Œä½¿å¾—å…¶ä»–çš„å¼€å‘è€…æˆ–è€…å·¥ç¨‹å¯ä»¥å…±äº«ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;3ã€&lt;strong&gt;Site ç”Ÿå‘½å‘¨æœŸ&lt;/strong&gt;&lt;span&gt;ï¼šå»ºç«‹å’Œå‘å¸ƒ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ç«™ç‚¹ï¼Œphase å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span&gt;pre-siteï¼šç”Ÿæˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ç«™ç‚¹ä¹‹å‰éœ€è¦å®Œæˆçš„å·¥ä½œ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;siteï¼šç”Ÿæˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ç«™ç‚¹æ–‡æ¡£ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;post-siteï¼šç”Ÿæˆ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ç«™ç‚¹ä¹‹åéœ€è¦å®Œæˆçš„å·¥ä½œ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;site-deployï¼šå°†&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E9%A1%B9%E7%9B%AE&quot; target=&quot;_blank&quot;&gt;é¡¹ç›®&lt;/a&gt;ç«™ç‚¹å‘å¸ƒåˆ°æœåŠ¡å™¨ &lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt; 
&lt;h4&gt;mavençš„scopeå±æ€§æœ‰å“ªäº›ï¼Ÿ&lt;/h4&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;strong&gt;compile&lt;/strong&gt; &lt;strong&gt;ï¼ˆç¼–è¯‘èŒƒå›´ï¼‰&lt;/strong&gt;ï¼š compileæ˜¯é»˜è®¤çš„èŒƒå›´ï¼›å¦‚æœæ²¡æœ‰æä¾›ä¸€ä¸ªèŒƒå›´ï¼Œé‚£è¯¥ä¾èµ–çš„èŒƒå›´å°±æ˜¯ç¼–è¯‘èŒƒå›´ã€‚ç¼–è¯‘èŒƒå›´ä¾èµ–åœ¨æ‰€æœ‰çš„classpath ä¸­å¯ç”¨ï¼ŒåŒæ—¶å®ƒä»¬ä¹Ÿä¼šè¢«æ‰“åŒ…ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;provided&lt;/strong&gt; &lt;strong&gt;ï¼ˆå·²æä¾›èŒƒå›´ï¼‰&lt;/strong&gt;ï¼šç±»ä¼¼compileï¼ŒæœŸæœ›JDKã€å®¹å™¨æˆ–ä½¿ç”¨è€…ä¼šæä¾›è¿™ä¸ªä¾èµ–ã€‚å¦‚servlet.jarã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;runtime&lt;/strong&gt; &lt;strong&gt;ï¼ˆè¿è¡Œæ—¶èŒƒå›´ï¼‰&lt;/strong&gt;ï¼šåªåœ¨è¿è¡Œæ—¶ä½¿ç”¨ï¼Œå¦‚JDBCé©±åŠ¨ï¼Œé€‚ç”¨è¿è¡Œå’Œæµ‹è¯•é˜¶æ®µã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;test&lt;/strong&gt; &lt;strong&gt;ï¼ˆæµ‹è¯•èŒƒå›´ï¼‰&lt;/strong&gt;ï¼štestèŒƒå›´ä¾èµ– åœ¨ä¸€èˆ¬çš„ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸éœ€è¦ï¼Œå®ƒä»¬åªæœ‰åœ¨æµ‹è¯•ç¼–è¯‘å’Œæµ‹è¯•è¿è¡Œé˜¶æ®µå¯ç”¨ã€‚ &lt;/li&gt;
 &lt;li&gt;&lt;strong&gt;system&lt;/strong&gt; &lt;strong&gt;ï¼ˆç³»ç»ŸèŒƒå›´ï¼‰&lt;/strong&gt;ï¼šï¼ˆæ³¨æ„è¯¥èŒƒå›´æ˜¯ä¸æ¨èä½¿ç”¨çš„ï¼‰ä¸provided ç±»ä¼¼ï¼Œä½†æ˜¯ä½ å¿…é¡»æ˜¾å¼çš„æä¾›ä¸€ä¸ªå¯¹äºæœ¬åœ°ç³»ç»Ÿä¸­JAR æ–‡ä»¶çš„è·¯å¾„ã€‚è¿™ä¹ˆåšæ˜¯ä¸ºäº†å…è®¸åŸºäºæœ¬åœ°å¯¹è±¡ç¼–è¯‘ï¼Œè€Œè¿™äº›å¯¹è±¡æ˜¯ç³»ç»Ÿç±»åº“çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ ·çš„æ„ä»¶åº”è¯¥æ˜¯ä¸€ç›´å¯ç”¨çš„ï¼ŒMaven ä¹Ÿä¸ä¼šåœ¨ä»“åº“ä¸­å»å¯»æ‰¾å®ƒã€‚å¦‚æœä½ å°†ä¸€ä¸ªä¾èµ–èŒƒå›´è®¾ç½®æˆç³»ç»ŸèŒƒå›´ï¼Œä½ å¿…é¡»åŒæ—¶æä¾›ä¸€ä¸ª systemPath å…ƒç´ ã€‚ &lt;/li&gt;
&lt;/ul&gt; 
&lt;h2&gt;å¼€æ”¾æ€§é—®é¢˜&lt;/h2&gt; 
&lt;h3&gt;&lt;span&gt;&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%BE%AE%E5%8D%9A&quot; target=&quot;_blank&quot;&gt;å¾®åš&lt;/a&gt;ã€æœ‹å‹åœˆæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ&lt;/span&gt;&lt;/h3&gt; 
&lt;p&gt;&lt;span&gt;è¿™äº›äº§å“éƒ½æ˜¯Feedæµç±»å‹äº§å“ï¼Œä¸€èˆ¬éƒ½æ˜¯æŒ‰ç…§æ—¶é—´â€œä»ä¸Šå¾€ä¸‹æµåŠ¨â€ï¼ŒFeedå…¶å®æ˜¯ä¸€ä¸ªä¿¡æ¯å•å…ƒï¼Œæ¯”å¦‚ä¸€æ¡æœ‹å‹åœˆçŠ¶æ€ã€ä¸€æ¡&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%BE%AE%E5%8D%9A&quot; target=&quot;_blank&quot;&gt;å¾®åš&lt;/a&gt;ï¼Œåªè¦å…³æ³¨æŸäº›å‘å¸ƒè€…å°±èƒ½è·å–åˆ°æºæºä¸æ–­çš„æ–°é²œä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;Feedæµç³»ç»Ÿç‰¹ç‚¹&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;Feedæµæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®æµï¼Œæ˜¯å°†â€œNä¸ªå‘å¸ƒè€…çš„ä¿¡æ¯å•å…ƒâ€é€šè¿‡â€œå…³æ³¨å…³ç³»â€ä¼ é€ç»™â€œMä¸ªæ¥æ”¶è€…â€ã€‚&lt;/p&gt; 
&lt;p&gt;ä»æ•°æ®å±‚é¢çœ‹ï¼Œæ•°æ®åˆ†ä¸ºä¸‰ç±»ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;&lt;span&gt;å‘å¸ƒè€…çš„æ•°æ®ï¼š&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%BE%AE%E5%8D%9A&quot; target=&quot;_blank&quot;&gt;å¾®åš&lt;/a&gt;çš„ä¸ªäººé¡µé¢ï¼Œæœ‹å‹åœˆçš„ä¸ªäººç›¸å†Œ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;&lt;span&gt;å…³æ³¨å…³ç³»ï¼š&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E5%BE%AE%E5%8D%9A&quot; target=&quot;_blank&quot;&gt;å¾®åš&lt;/a&gt;ä¸­æ˜¯å…³æ³¨ï¼Œæ˜¯å•å‘æµï¼Œæœ‹å‹åœˆæ˜¯å¥½å‹ï¼Œæ˜¯åŒå‘æµï¼Œä½†ä¿¡æ¯æµåŠ¨æ°¸è¿œæ˜¯å•å‘ &lt;/span&gt;&lt;/li&gt;
 &lt;li&gt;æ¥æ”¶è€…çš„æ•°æ®ï¼šæŒ‰æŸç§é¡ºåºï¼ˆä¸€èˆ¬æ˜¯æ—¶é—´ï¼‰ç»„ç»‡åœ¨ä¸€èµ·ï¼Œè¶Šæ–°çš„æ•°æ®è¶Šè¦æ’åœ¨å‰é¢ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;è®¾è®¡Feedæµç³»ç»Ÿæ—¶æœ€æ ¸å¿ƒçš„æ˜¯ç¡®å®šæ¸…æ¥šäº§å“å±‚é¢çš„å®šä¹‰ï¼Œéœ€è¦è€ƒè™‘çš„å› ç´ åŒ…æ‹¬ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;äº§å“ç”¨æˆ·è§„æ¨¡ï¼šç”¨æˆ·è§„æ¨¡åœ¨åä¸‡ã€åƒä¸‡ã€åäº¿çº§æ—¶ï¼Œè®¾è®¡éš¾åº¦å’Œä¾§é‡ç‚¹ä¼šä¸åŒ &lt;/li&gt;
 &lt;li&gt;å…³æ³¨å…³ç³»ï¼ˆå•å‘ã€åŒå†™ï¼‰ï¼šå¦‚æœæ˜¯åŒå‘ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰å¤§Vï¼Œå¦åˆ™ä¼šæœ‰å¤§Vå­˜åœ¨ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;&lt;strong&gt;Feedæµç³»ç»Ÿè®¾è®¡&lt;/strong&gt;&lt;/p&gt; 
&lt;p&gt;&lt;span&gt;1ã€äº§å“å®šä¹‰ï¼šå…³æ³¨å…³ç³»æ˜¯å•å‘è¿˜æ˜¯åŒå‘ï¼Œ&lt;a class=&quot;content-link  js-post-content-keyword&quot; href=&quot;/jump/super-jump/word?word=%E6%8E%92%E5%BA%8F&quot; target=&quot;_blank&quot;&gt;æ’åº&lt;/a&gt;æ˜¯æ—¶é—´è¿˜æ˜¯æ¨è&lt;/span&gt;&lt;/p&gt; 
&lt;p&gt;2ã€å­˜å‚¨ï¼šæ•°æ®å¯é ä¸ä¸¢å¤±ï¼Œæ˜“äºæ°´å¹³æ‰©å±•ï¼Œåœ¨æ•°æ®è§„æ¨¡å¾ˆå¤§æ—¶å¯ä»¥é‡‡ç”¨åˆ†å¸ƒå¼çš„NoSQLï¼ˆå¯é æ€§é«˜äºå…³ç³»å‹æ•°æ®åº“ï¼Œæ•°æ®å¤©ç„¶åˆ†å¸ƒåœ¨å¤šå°æœºå™¨ä¸Šï¼‰&lt;/p&gt; 
&lt;p&gt;3ã€åŒæ­¥ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;æ¨æ¨¡å¼ï¼ˆå†™æ‰©æ•£ï¼‰ï¼šå‘é€è€…å‘é€äº†ä¸€ä¸ªæ¶ˆæ¯åç«‹å³å°†è¿™ä¸ªæ¶ˆæ¯æ¨é€ç»™æ¥æ”¶è€…ï¼Œä½†æ˜¯æ¥æ”¶è€…æ­¤æ—¶ä¸ä¸€å®šåœ¨çº¿ï¼Œéœ€è¦åœ¨åŒæ­¥åº“å­˜å‚¨è¿™ä¸ªæ•°æ® &lt;/li&gt;
 &lt;li&gt;æ‹‰æ¨¡å¼ï¼ˆè¯»æ‰©æ•£ï¼‰ï¼šå‘é€è€…å‘é€ä¸€æ¡æ¶ˆæ¯åå°†æ¶ˆæ¯å†™å…¥è‡ªå·±çš„å‘ä»¶ç®±ï¼Œç²‰ä¸ä¸Šiè¥¿å®‰åå†å»è‡ªå·±å…³æ³¨ç€çš„å‘ä»¶ç®±é‡Œé¢å»è¯»å–ã€‚ &lt;/li&gt;
 &lt;li&gt;æ¨æ‹‰ç»“åˆæ¨¡å¼ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;4ã€å…ƒæ•°æ®ï¼š&lt;/p&gt; 
&lt;ul&gt; 
 &lt;li&gt;ç”¨æˆ·è¯¦æƒ…å’Œåˆ—è¡¨ï¼šåˆ†å¸ƒå¼NoSQLæˆ–å…³ç³»å‹æ•°æ®åº“éƒ½å¯ &lt;/li&gt;
 &lt;li&gt;å…³æ³¨æˆ–å¥½å‹å…³ç³»ï¼šæ ¹æ®æ•°æ®é‡æ¥é€‰æ‹©æ•°æ®åº“ç±»å‹ &lt;/li&gt;
 &lt;li&gt;æ¨é€sessionæ± ï¼šåˆ†å¸ƒå¼NoSQLæˆ–å…³ç³»å‹æ•°æ®åº“éƒ½å¯ &lt;/li&gt;
&lt;/ul&gt; 
&lt;p&gt;5ã€è¯„è®ºã€èµã€æœç´¢...&lt;/p&gt; 
&lt;h3&gt;ç”µè„‘ç‰ˆå¾®ä¿¡ç™»å½•çš„äºŒç»´ç åŒ…å«ä»€ä¹ˆä¿¡æ¯ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;äº†è§£OAuth2.0åŸç†ï¼Œç§»åŠ¨ç«¯å¾®ä¿¡å·²ç»ç™»å½•ï¼Œè·å¾—&lt;strong&gt;access_token&lt;/strong&gt;ï¼Œ&lt;/p&gt; 
&lt;p&gt;å†ä¸æ‰«æçš„äºŒç»´ç ä¸­çš„å­—ç¬¦ä¸²è¿›è¡Œç»„åˆç¼–ç ï¼Œå‘é€ç»™æœåŠ¡å™¨ï¼Œ&lt;/p&gt; 
&lt;p&gt;æœåŠ¡å™¨ç»™æµè§ˆå™¨ç½‘é¡µçš„ç›‘å¬å™¨å‘é€æ¶ˆæ¯ï¼Œç½‘é¡µè§£ææ¶ˆæ¯ï¼Œå¹¶å¾—åˆ°access_tokenï¼Œå®ç°ç™»å½•ã€‚&lt;/p&gt; 
&lt;p&gt;äºŒç»´ç åªæ˜¯å……å½“ä¸€ä¸ªæ©ç ä½œç”¨...&lt;/p&gt; 
&lt;h3&gt;å¦‚ä½•è®¡ç®—ä¸¤ä»½ä»£ç çš„ç›¸ä¼¼åº¦ï¼Ÿ&lt;/h3&gt; 
&lt;p&gt;diffé€è¡Œ/é€å­—æ¯”è¾ƒ&lt;/p&gt; 
&lt;h3&gt;é‡æ„ä»£ç æ—¶è¦è€ƒè™‘å“ªäº›æ–¹é¢ï¼Ÿï¼ˆé¢å‘å¯¹è±¡è§’åº¦ï¼‰&lt;/h3&gt; 
&lt;p&gt;é¢å‘æ¥å£ç¼–ç¨‹ã€å•ä¸€èŒè´£ï¼šä¸€ä¸ªç±»åªåšä¸€ä»¶äº‹ã€é«˜å†…èšä½è€¦åˆ&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>