<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>9620b86f97f342d0c9d3ab3f65f6d8e3</guid>
<title>看完Vue源码，总结了这个22个工具函数</title>
<link>https://toutiao.io/k/m5r34di</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;
            &lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzIwNDMyMTg4Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/wIDSOebZK4NvWoUN1gSpNiaxwF4VLvroSV4fibB1a5iaLEaR23sVIW9ickg4StvsXlxnPpslKAltA6mvJUhkT2PsaA/0?wx_fmt=png&quot; data-nickname=&quot;JavaScript 每日一练&quot; data-alias=&quot;&quot; data-signature=&quot;每天一道JavaScript 实战题，让大家平时多多积累实用的知识，提高开发效率，才有更多的时间摸鱼。&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;22.399999618530273&quot;&gt;来源 | https://segmentfault.com/a/1190000042073070&lt;/span&gt;&lt;/h2&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;/p&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;前言&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;在 vue 源码中，封装了很多&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;工具&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;函数&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;，学习这些函数，一方面学习大佬们的实现方式，另一方面是温习基础知识，希望大家在日常工作中，简单的函数也可以自己封装，提高编码能力。&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;本次涉及的工具函数 1-16 在 Vue3 的源码中，路径是 &lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;core/packages/shared/src/index.ts&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;。&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;17-22 在 Vue2 的源码中，路径是 &lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;vue/src/shared/util.ts&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;。&lt;/span&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;1、 EMPTY_OBJ 空对象&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; EMPTY_OBJ = __DEV__&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  ? &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.freeze({})&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  : {}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;注意：&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;/&gt;Object.freeze 只能浅冻结，如果属性是对象，对属性的属性的修改就无法冻结了&lt;/span&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;27.200000762939453&quot;/&gt;&lt;/p&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; obj = {    &lt;span class=&quot;code-snippet__attr&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;张三&#x27;&lt;/span&gt;,    &lt;span class=&quot;code-snippet__attr&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;info&lt;/span&gt;: {        &lt;span class=&quot;code-snippet__attr&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;a&lt;/span&gt;: &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;1&lt;/span&gt;,        &lt;span class=&quot;code-snippet__attr&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;b&lt;/span&gt;: &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;};&lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.freeze(obj);obj.name = &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;李四&#x27;&lt;/span&gt;;&lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;console&lt;/span&gt;.log(obj); &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;源码中的使用：&lt;/span&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.533049040511727&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNaEXu9fB1icxWImxx3b1ZeWgMCMticjBvE1B4VmW4H2dicksPoPTicT3Ucw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;469&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;/&gt;&lt;/p&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;可以看出基本都是作为初始化或者兜底使用，由此产生疑问：&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot; mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;li&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;使用的地方有的是 options，有的是 props，不同地方用同一个对象，不会有问题么？&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;首先，很多初始化操作，后续都会重新赋值，EMPTY_OBJ 只是作为占位使用。其次，因为 Object.freeze 的原因，无法修改 EMPTY_OBJ，所以任何引用这个对象的地方，都不会受到影响。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;为什么判断是 __DEV__（process.env.NODE_ENV !== &#x27;production&#x27;） 的时候才使用 Object.freeze？&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;Object.freeze 更多的是 Vue 源码开发者在调试时使用，可以通过报错，防止对空对象操作，更快发现源码问题。也因此，开发环境最终会避免了对 EMPTY_OBJ 的赋值操作，所以在生产环境使用 Object.freeze 意义不大。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;2、EMPTY_ARR 空数组&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;const&lt;/span&gt; EMPTY_ARR = __DEV__ ? &lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;Object&lt;/span&gt;.freeze([]) : []&lt;/code&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;3、 NOOP 空函数&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;const NOOP = &lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;&lt;span mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;21&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; {}&lt;/code&gt;&lt;/pre&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;依旧作为兜底和占位使用：&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.36530324400564174&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNtOibEF9gwd4TsOTT9TRu0wMU7Z4FN5HiaBlUTrhykI63VH7GddRR1ZHA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;709&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;4、 NO 永远返回 false 的函数&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; NO = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;源码中的使用：&lt;/span&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5608011444921316&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNpe6Ba4rrKxvsca4sjchcee5lq2DOyEjhfy4RM4SmXY08hj6XUEqj1g/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;699&quot;/&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2759146341463415&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNnFJAQBsYmQnicRd3whgDgdopBXcRGSCuQsHgbdicgWV4xQsWuTcAcs8g/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;656&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;5、isOn 判断字符串是不是 on 开头，并且 on 后首字母不是小写字母&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const onRE = &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/^on[^a-z]/&lt;/span&gt;;const isOn = (key) =&amp;gt; onRE.test(key);&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 示例isOn(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onChange&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisOn(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onchange&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falseisOn(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;on3change&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;6、类型判断&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isArray = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Array&lt;/span&gt;.isArray&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isFunction = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; val === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;function&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isString = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; val === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;string&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isSymbol = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; val === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;symbol&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isObject = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; val !== &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; val === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;object&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; toTypeString = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.prototype.toString.call(value)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isMap = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; toTypeString(val) === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;[object Map]&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isSet = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; toTypeString(val) === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;[object Set]&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isDate = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; toTypeString(val) === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;[object Date]&#x27;&lt;/span&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; isPlainObject = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.prototype.toString.call(val) === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;[object Object]&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isObject([]) &lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;strong mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;7、 toRawType 提取数据原始类型&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; toRawType = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.prototype.toString.call(value).slice(&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;-1&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;源码中的使用：&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.768033946251768&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNZTYibmkeaEjd8XxrGxRXGCiaqUe8Sr3olibiatoZSLVibeeRaQiaSrf4vklw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;707&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3512396694214876&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNzu9aZmGhB5ncU4VG0fgj5ib4ALN1pbtysu4MNY4xCxHfhG0THb8zSLQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;726&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;8、isIntegerKey 判断是不是数字型的字符串&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const isIntegerKey = (key) =&amp;gt; isString(key) &amp;amp;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    key !== &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;NaN&#x27;&lt;/span&gt; &amp;amp;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    key[&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;] !== &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;-&#x27;&lt;/span&gt; &amp;amp;&amp;amp;    &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt; + parseInt(key, &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;10&lt;/span&gt;) === key;  &lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 例子:&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;a&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falseisIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;0&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;011&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falseisIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;11&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;-11&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falseisIntegerKey(&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;11&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falseisIntegerKey(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;NaN&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;9、makeMap 将字符串分隔成 map，区分大小写，返回一个函数来判断 map 中是否含有某个 key&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;makeMap&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;str, expectsLowerCase&lt;/span&gt;) &lt;/span&gt;{    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; map = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.create(&lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;null&lt;/span&gt;);    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; list = str.split(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;,&#x27;&lt;/span&gt;);    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;let&lt;/span&gt; i = &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;; i &amp;lt; list.length; i++) {&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;        map[list[i]] = &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    }    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; expectsLowerCase ? &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt; =&amp;gt;&lt;/span&gt; !!map[val.toLowerCase()] : &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt; =&amp;gt;&lt;/span&gt; !!map[val];&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;10、isReservedProp 是否是保留属性&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const isReservedProp = &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/*#__PURE__*/&lt;/span&gt; makeMap(&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; the leading comma is intentional so empty string &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&quot;&quot;&lt;/span&gt; is also included&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;,key,ref,ref_for,ref_key,&#x27;&lt;/span&gt; +    &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeMount,onVnodeMounted,&#x27;&lt;/span&gt; +    &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeUpdate,onVnodeUpdated,&#x27;&lt;/span&gt; +    &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeUnmount,onVnodeUnmounted&#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; [&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;key&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;ref&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;ref_for&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;ref_key&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeMount&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeMounted&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeUpdate&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeUpdated&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeUnmount&#x27;&lt;/span&gt;, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeUnmounted&#x27;&lt;/span&gt;]&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;// 示例&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isReservedProp(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;key&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisReservedProp(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onVnodeBeforeMount&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisReservedProp(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; trueisReservedProp(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27; &#x27;&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;如果有 /*#__PURE__*/ 这个标志，说明他是纯函数，如果没有调用它，打包工具会直接通 tree-shaking 把它删除，减少&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;代码&lt;/span&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;体积。&lt;/span&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;11、 isBuiltInDirective 是否是内置指令&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;swift&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const isBuiltInDirective =  makeMap(  &#x27;bind,cloak,&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;else&lt;/span&gt;-&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;if&lt;/span&gt;,&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;else&lt;/span&gt;,&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;for&lt;/span&gt;,html,&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;if&lt;/span&gt;,model,on,once,pre,show,slot,text,memo&#x27;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;12、 cacheStringFunction 将函数变为可缓存结果的函数&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; cacheStringFunction = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;fn&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; cache = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Object&lt;/span&gt;.create(&lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;null&lt;/span&gt;);    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;str&lt;/span&gt;) =&amp;gt; {        &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; hit = cache[str];        &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; hit || (&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;cache[str] = fn(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;str&lt;/span&gt;)&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    }&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;};&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;13、 camelize &amp;amp; hyphenate 连字符与驼峰互转&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const camelizeRE = &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/-(\w)/g&lt;/span&gt;;const camelize = cacheStringFunction((str) =&amp;gt; {    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; str.replace(camelizeRE, (&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;_&lt;/span&gt;, c) =&amp;gt; (c ? c.toUpperCase() : &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;});&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 清爽版const camelize = str =&amp;gt; str.replace(camelizeRE, (&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;_&lt;/span&gt;, c) =&amp;gt; {    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; c ? c.toUpperCase() : &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;});&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 举例：on-click-a =&amp;gt; onClickAcamelize(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;on-click-a&#x27;&lt;/span&gt;);const hyphenateRE = &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/\B([A-Z])/g&lt;/span&gt;;const hyphenate = cacheStringFunction((str) =&amp;gt; str.replace(hyphenateRE, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;-$1&#x27;&lt;/span&gt;).toLowerCase());&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 清爽版const hyphenate = str =&amp;gt; str.replace(hyphenateRE, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;-$1&#x27;&lt;/span&gt;).toLowerCase();&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 仿照 camelize 写法const hyphenate = str =&amp;gt; str.replace(hyphenateRE, (&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;_&lt;/span&gt;, c) =&amp;gt; {    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; c ? &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;`-${c.toLowerCase()}`&lt;/span&gt; : &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;});&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 举例：onClickA =&amp;gt; on-click-ahyphenate(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;onClickA&#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;14、 hasChanged 判断是不是有变化&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const hasChanged = (value, oldValue) =&amp;gt; value !== oldValue &amp;amp;&amp;amp; (value === value &lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;||&lt;/span&gt; oldValue === oldValue);&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; 示例&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;hasChanged(&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;1&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falsehasChanged(&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;2&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; truehasChanged(+&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;, -&lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; falsehasChanged(NaN, NaN); &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;false&lt;/span&gt;/&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ 场景：watch 监测值是不是变化了/&lt;/span&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ 扩展 Object.is &amp;amp; ===Object.is(+0, -0); /&lt;/span&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ false           Object.is(NaN, NaN); /&lt;/span&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ true+0 === -0 /&lt;/span&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ trueNaN === NaN /&lt;/span&gt;&lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/ false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;15、invokeArrayFns 执行数组里的函数&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; invokeArrayFns = &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;fns, arg&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;let&lt;/span&gt; i = &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;; i &amp;lt; fns.length; i++) {&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;        fns[i](arg);&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;};&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    },    &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;)&lt;/span&gt;{        &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;console&lt;/span&gt;.log(val + &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;李四&#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    },    &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;)&lt;/span&gt;{        &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;console&lt;/span&gt;.log(val + &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;王五&#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    },&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;invokeArrayFns(arr, &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;我是：&#x27;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;源码中的使用：&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1230283911671923&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/eXCSRjyNYcY3XChaPuxN9H7icniaRgZcFNGkzW4G8uOJxBiaHm8HgbILIuSo8S3oHn3UqkicQ9qvSbjMJiazibpibqKbQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;634&quot;/&gt;&lt;br mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;/&gt;&lt;/section&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;16、 toNumber 转数字&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;bash&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const toNumber = (val) =&amp;gt; {&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    const n = parseFloat(val);    &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; isNaN(n) ? val : n;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;};&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;toNumber(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;111&#x27;&lt;/span&gt;); // 111toNumber(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;a111&#x27;&lt;/span&gt;); // &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;a111&#x27;&lt;/span&gt;toNumber(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;11a11&#x27;&lt;/span&gt;); // &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;11&#x27;&lt;/span&gt;toNumber(NaN); // NaN// isNaN vs Number.isNaN// isNaN 判断是不是数字 is Not a Number// Number.isNaN 判断是不是 NaNisNaN(NaN); // trueisNaN(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;a&#x27;&lt;/span&gt;); // trueNumber.isNaN(NaN); // trueNumber.isNaN(&lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;a&#x27;&lt;/span&gt;); // &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;false&lt;/span&gt;// Number.isNaN 的 polyfillif (!Number.isNaN) {    Number.isNaN = &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; (n) {        // 方法一        &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; (window.isNaN(n) &amp;amp;&amp;amp; typeof n === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;number&#x27;&lt;/span&gt;);        // 方法二 利用只有 NaN 不跟自己相等的特性        &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; n !== n;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    };&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;17、isPrimitive 是否为原始数据&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isPrimitive&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt; {  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; (    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt; === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;string&#x27;&lt;/span&gt; ||    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt; === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;number&#x27;&lt;/span&gt; ||    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt; === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;symbol&#x27;&lt;/span&gt; ||    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;value&lt;/span&gt; === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;boolean&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  )&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;18、 isValidArrayIndex 是否为有效的数组下标，整数并且不是无穷大&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isValidArrayIndex&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;val&lt;/span&gt;) &lt;/span&gt;{  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; n = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;parseFloat&lt;/span&gt;(&lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;String&lt;/span&gt;(val))  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; n &amp;gt;= &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Math&lt;/span&gt;.floor(n) === n &amp;amp;&amp;amp; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isFinite&lt;/span&gt;(val)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;19、bind 能兼容的bind函数&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;polyfillBind&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;fn, ctx&lt;/span&gt;) &lt;/span&gt;{  &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;boundFn&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;a&lt;/span&gt;) &lt;/span&gt;{    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; l = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;arguments&lt;/span&gt;.length    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; l&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;      ? l &amp;gt; &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;        ? fn.apply(ctx, &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;arguments&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;        : fn.call(ctx, a)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;      : fn.call(ctx)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  boundFn._length = fn.length  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; boundFn&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;nativeBind&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;fn, ctx&lt;/span&gt;) &lt;/span&gt;{  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; fn.bind(ctx)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;const&lt;/span&gt; bind = &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Function&lt;/span&gt;.prototype.bind ? nativeBind : polyfillBind&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;20、 toArray 类数组转化为数组&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function toArray(list, &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;start&lt;/span&gt;) {  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;start&lt;/span&gt; = &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;start&lt;/span&gt; || &lt;span class=&quot;code-snippet__number&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  let i = list.length - &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;start&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  const ret = &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Array&lt;/span&gt;(i)  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;while&lt;/span&gt; (i&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    ret[i] = &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;list&lt;/span&gt;[i + &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;start&lt;/span&gt;]&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  }  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; ret&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;21、 once 只执行一次&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;once&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;fn&lt;/span&gt;) &lt;/span&gt;{  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;let&lt;/span&gt; called = &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;/&gt;) &lt;/span&gt;{    &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;if&lt;/span&gt; (!called) {&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;      called = &lt;span class=&quot;code-snippet__literal&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;      fn.apply(&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-snippet__built_in&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;arguments&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h2 mp-original-font-size=&quot;20&quot; mp-original-line-height=&quot;32&quot;&gt;&lt;span mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;32&quot;&gt;22、 isNative 是否为原生系统函数&lt;/span&gt;&lt;/h2&gt;&lt;pre mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__function&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;isNative&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;Ctor&lt;/span&gt;) &lt;/span&gt;{  &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;typeof&lt;/span&gt; Ctor === &lt;span class=&quot;code-snippet__string&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&#x27;function&#x27;&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;code-snippet__regexp&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;/native code/&lt;/span&gt;.test(Ctor.toString())&lt;/span&gt;&lt;/code&gt;&lt;code mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot; mp-original-font-size=&quot;14&quot; mp-original-line-height=&quot;26&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;&gt;&lt;br mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27.200000762939453&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;&lt;span&gt;欢迎&lt;/span&gt;&lt;code&gt;长按图片加刷碗智为好友&lt;/code&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;我会第一时间和你分享前端行业趋势，学习途径，搞怪趣事，生活中的另一面幽默等等。&lt;span&gt;新的一年我们一起洗刷刷！！！！！！&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;68&quot; data-cropselx2=&quot;361&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;385&quot; data-fileid=&quot;100021057&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8948194662480377&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;637&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/LDPLltmNy55d6jntYlvCrOVACPvqJkZuaOwJiaecIvQdzSq8lLVBibrGRZPxlWKvV7sGqC3CtOjZ1QxHu56tWZwg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c64fda714ccd44ef35c472b634de29f1</guid>
<title>Go语言创始人从Google离职</title>
<link>https://toutiao.io/k/b53md9r</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;
            &lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;点击&lt;strong&gt;&lt;span&gt;关注&lt;/span&gt;&lt;/strong&gt;公众号：&lt;/span&gt;&lt;/strong&gt;互联网架构师，后台回复&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247487508&amp;amp;idx=1&amp;amp;sn=78cf235aa9ba5f988c6922ca98f8bfd6&amp;amp;chksm=ea5cdd72dd2b54647cf55b4a73dcafa69fc7228205ad39ecc98fe57b39cdecb21c238c6d6cb6&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot; 2T&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&lt;strong&gt;2T&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;获取&lt;/span&gt;&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247487508&amp;amp;idx=1&amp;amp;sn=78cf235aa9ba5f988c6922ca98f8bfd6&amp;amp;chksm=ea5cdd72dd2b54647cf55b4a73dcafa69fc7228205ad39ecc98fe57b39cdecb21c238c6d6cb6&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;2TB&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2TB&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;strong&gt;&lt;span&gt;学习资源！&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;上一篇：&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247523205&amp;amp;idx=1&amp;amp;sn=89b261f829ce6c3487ce8b2ccf3ed06b&amp;amp;chksm=ea5f56e3dd28dff5238989d3e07d775d34c04a4e80a166059e92e84379274819203d72d1dc1d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Alibaba开源内网高并发编程手册.pdf&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;Alibaba开源内网高并发编程手册.pdf&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;pre/&gt;&lt;/pre&gt;&lt;p&gt;前两天，谷歌Go语言产品负责人Steve Francia突然宣布离职，并回顾总结自己在谷歌的6年生涯经历，以及分享了离开的原因。&lt;/p&gt;&lt;p&gt;&lt;span&gt;Steve Francia&lt;/span&gt;&lt;span&gt;是Go核心&lt;/span&gt;&lt;span&gt;团队成&lt;/span&gt;&lt;span&gt;员，也是&lt;/span&gt;&lt;span&gt;Hu&lt;/span&gt;&lt;span&gt;go、&lt;/span&gt;&lt;span&gt;Cobra、Viper&lt;/span&gt;&lt;span&gt;等框架/库&lt;/span&gt;&lt;span&gt;的作者。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;235&quot; data-ratio=&quot;0.40925925925925927&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/xq9PqibkVAzop7OXy59aLWMJL1hny13usoZn7DJK3TQIdVq9eXRNRAuOiaXKtiaovO0evObvZBVibGOq3WzO8ia01jQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.421505376344086&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13uslLTVJtu7Uuuf7khMCUib3vaFwMHIFlOJZfgz1ZLBGr4ILvvpv7icNcnw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1860&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;我将辞去谷歌Go语言产品负责人的职务。我为Go团队在过去六年中所取得的一切感到非常自豪，并且对Go的未来无比期待。&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9018518518518519&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13uszUT92NzdJWP4r31I1Nlx1SaFw52IoaMNYF0lD7iaS9lD9icTXgNN5tgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;在谷歌的六个年头&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;2016年9月15号，是Steve Francia加入谷歌GO团队的第一天。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5111111111111111&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usb2iashmG1S0u962E4ffXicrmp6EiaYBVAGBQdgzqCkicnK4swSNGp7fR5g/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他在博客中写道，GO是他过去十年间的热爱，GO让他再次爱上了编程。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他说第一次接触GO就爱上了这种简洁优雅的语言，爱的程度有多深呢？&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他不管何时何地都想用GO语言写作，这也成就了Hugo, Cobra, Viper的诞生。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.41389290882778584&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usMxe7YMUunHW9AAichB5CJoBEzibEbxpuHOBciaOgMROicJq19wHRQVDiaBw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1382&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;6年前他加入了GO团队，目标是将GO从小众语言转变为主流的企业级语言。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他用了一个词来描述他在GO团队担任的职位，「fairly unique」。他说，自己的目标是给GO的用户和开发者创造非凡的体验，&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他负责的工作包括：&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;为初学者和专家改进 Go 开发者体验、为Go采用和最佳实践创建教育资源、完善Go贡献者的体验（标准库、工具、编译器等）、增加Go团队和社区之间的协作和沟通、收集来自企业、用户、开发人员、集成商的数据和反馈，并为 Go 团队提供见解、与不同的供应商、产品建立合作伙伴关系等。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他刚加入谷歌时，团队的首要目标是解决谷歌内部用户的需求，在他加入之后，他努力将团队的工作重心转向全球用户的需求，并更注重未来的用户群体发展。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他加入之后的第一个项目是「两年一次的谷歌用户调查」。&lt;span/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为世界上最大的开发者调查，它收集的来自用户的直接反馈促使团队通过在GO语言中添加「模块」和「泛型」来解决GO的两个最大的企业采用障碍。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6291666666666667&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usGEkxhLAA5RqjFyLl62EOicVB2Hicqbfs7EoiaKfMjRNM46EWorVcc0Heg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;960&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;之后就是GO.dev的发布，这是GO的一次重大更新，它是GO网络资源的唯一站点，包含案例研究、学习中心、GO playground以及各种包的门户。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;用户可以理解成GO的一站式资源汇总中心，用户能找到的都在这了。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.584&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usplvd9bT8t2YicwUpGIVtnvNXvDL03ppLQKftbVonAT70Dtiayg4acxSg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;875&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在谷歌期间，Steve Francia共同创建了开源战略团队，并共同撰写了谷歌的开源战略和行为准则。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;他推动了GO项目从主要由谷歌员工编写的项目演变为「主要由社区贡献者编写的项目」。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;从2014年第四季度开始，来自社区的贡献度一直在稳步提升，并在2018年二季度达成了一个「重要里程碑」——来自社区的贡献度首次超过GO团队。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6185185185185185&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13us0NWhtTpQLU7o7wvNFvy5shEp7ejUVMqqndzFCrD65DuQiaAmTbfFGYQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;过去的六年里，GO的用户数增长了近十倍，用户使用的频率也从偶尔使用到日常使用。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;今天，GO已经成为主流企业语言之一，超过75%的CNCF项目是用GO编写的，也是主要的云应用程序语言之一。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.55&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usLf11n1oXzsyElQTLvKrRHd1R4ib2UwRVHW5cZRVwB8WaCzzQv8icCdMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;谈到他选择加入GO的原因，他说，GO让编写软件成为了一件有趣的事，这也是他六年来坚持下去的源泉。&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;“Go 在可读性、可表达性和简约性之间取得了近乎完美的平衡。更重要的是，它让编写软件变成一件有趣的事。我很快就停止用任何其他语言编写软件，并沉浸在Go社区中。在GO的这段时间里，我编写了软件、数据库、演示文稿、博客文章，甚至组织了会议，我认识到这项技术有可能从根本上彻底改变软件的编写方式。”&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;功成名就，转投对冲基金&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;作为一个&lt;strong&gt;非计算机科班出身的文学学士&lt;/strong&gt;获得者，在谷歌的六年间，他收获了与许多优秀的人共事的机会，另外职业生涯的高光时刻也在这段时间完成。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Steve Francia在博客上还列出了一些他在谷歌生活的难忘瞬间，然而这些回忆即将画上句点。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Steve Francia表示，自己在最近几次的GO更新中，感到越来越力不从心。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;刚到谷歌和GO团队之时，他就感觉要学习的东西太多，六年过去了，他学习的速度已经远远赶不上更新的速率了，他用了「personally stagnant」（停滞不前）来形容最近的状态。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;随着具有里程碑意义的Go 1.18版本的发布，他感觉自己在GO团队的使命已经完成。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4441176470588235&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usdRUqqetZEfRbBkdPVLWPRMtYpqJqGNsfncBWFCB0hQmtRQibPV1ooqA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;680&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Steve Francia表示，回顾整个职业生涯，自己非常幸运地处于许多不同行业创新的前沿：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;带领MongoDB经历了一个爆炸性增长的时期，从零开始建立了一个125人的多学科团队。把MongoDB从一个不起眼的原型变成了NoSQL数据库的第一名和总排名第四的数据库。&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;带领Go语言从一个小众的爱好语言成为主流技术（前10名），成为开发者和公司最希望采用的语言，使月活用户从不到10万增长到250万以上。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;带领Docker通过激烈的增长期实现大规模的行业应用，同时为CNCF和OCI提供工具。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;创建了Hugo，并让它成为第一大最受欢迎的静态网站引擎。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;创建了Cobra，排名第一的Go语言库，被51000多个应用程序使用，包括Kubernetes、Docker、GitHub CLI。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;个人简历&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;教育经历方面，Steve Francia在2004年于杨百翰大学获得文学学士学位。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22037037037037038&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usOwm4iaFC55tNSiaYDqw6meGRVsCSQwqDaskzYSqnLqOq8ORjjFxwcHbw/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里也科普一下，杨百翰大学创立于1875年，是一所著名的私立研究型大学，同时也是美国最大的宗教大学。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;而在这里就读的学生，必须遵循教会的教义，如戒酒等等。本科生还必须完成宗教教育的课程，才能毕业。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在2022年US News排名中，位列第79。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xq9PqibkVAzop7OXy59aLWMJL1hny13usLDf04qnMicLohSuc6e6FicvraLcibcxRI0NUPsqQk3LiaIPic4bbJUzxE6w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;980&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;虽说教育经历只有短短两句，但他自述的&lt;strong&gt;工作简历&lt;/strong&gt;却非常夸张，洋洋洒洒地写了好几千个字。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这里也给一张长图来感受一下他的简历吧：&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;250&quot; data-ratio=&quot;11.042592592592593&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/xq9PqibkVAzop7OXy59aLWMJL1hny13usxThmpQ7sOF7E2ibGEAT6G3HticNT1bHNciblYZ56Vn1Fq52Pmph7zDplQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最后，简单介绍一下Steve Francia现在入职的公司Two Sigma。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;据百科介绍，Two Sigma是一家总部位于美国纽约市的对冲基金投资公司，以使用包括人工智能、机器学习、分布式计算等多种科技方法管理投资策略著称。&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-ratio=&quot;0.346875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/xq9PqibkVAzop7OXy59aLWMJL1hny13us9BRHYcpvwoDTuZkIZEJ5L4Qzf98VXibVEVdVk0FicOQRplSjsFlENzxQ/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-type=&quot;gif&quot; data-w=&quot;640&quot;/&gt;&lt;span/&gt;&lt;/figure&gt;&lt;section&gt;&lt;span&gt;参考阅读：https://spf13.com/&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;strong&gt;&lt;span&gt;-End-&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template-id=&quot;527&quot; data-mpa-category=&quot;image&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template-id=&quot;1357582&quot; data-mpa-category=&quot;image&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;span&gt;最后，关注公众号互联网架构师，在后台回复：2T，可以获取我整理的 Java 系列面试题和答案，非常齐全&lt;span&gt;。&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1423611111111112&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9mQQWOf4KRI2cbvKcYHPMKYlo4ibO3ZXG4kRnuC195QBJzMR0VLd7p08kYInDEEiasufnLsY7LhFwPIml2fPergw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;288&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;正文结束&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;推荐阅读 ↓↓↓&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;1.&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247527958&amp;amp;idx=1&amp;amp;sn=6d407650c574b304b681aecbf5c1323b&amp;amp;chksm=ea5fa370dd282a66a8b6463fb60ad850d47cc35d727ac4b66fdf29f88ce30eef400287b1b746&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;全新 IDEA 2022.2 正式发布，新特性真香！&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;全新 IDEA 2022.2 正式发布，新特性真香！&lt;/a&gt;&lt;/p&gt;&lt;p&gt;2&lt;span&gt;.&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247488035&amp;amp;idx=1&amp;amp;sn=5300893903094128bdc20ce2a5717a50&amp;amp;chksm=ea5cdf45dd2b56531ac0c3a8fb8b56b06bc546785f8772a4d02e2ca87c4e30f25b24bf21f784&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-itemshowtype=&quot;0&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;从零开始搭建创业公司后台技术栈&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;3&lt;span&gt;.&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247488928&amp;amp;idx=1&amp;amp;sn=4c56dd675e1b32a73b698df3d5e8609f&amp;amp;chksm=ea5cd8c6dd2b51d05e6d6d715418241f471ccb3002719263b2d0e092763f68f3691249970a08&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-itemshowtype=&quot;0&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;程序员一般可以从什么平台接私活？&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;4&lt;span&gt;.&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247527535&amp;amp;idx=1&amp;amp;sn=6cb6c086057aebaedc47859518eb80da&amp;amp;chksm=ea5fa109dd28281f3a90a36ea1deb7e8d1658d221f718ea15023b0345b53fc496c137496d10d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Spring中毒太深，离开Spring我连最基本的CRUD都不会写了...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Spring中毒太深，离开Spring我连最基本的CRUD都不会写了...&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;5.&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247513283&amp;amp;idx=1&amp;amp;sn=3b3d8e893a1241cf5af2150370ae9d71&amp;amp;chksm=ea5f79a5dd28f0b3a7603b1fbdb306f77ac64223bd05c4b7f0dc0469f77a68359810c5de2a01&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;为什么国内 996 干不过国外的 955呢？&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;为什么国内 996 干不过国外的 955呢？&lt;/a&gt;&lt;/p&gt;&lt;p&gt;6&lt;span&gt;.&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247508021&amp;amp;idx=1&amp;amp;sn=b3d1010a12e89362bce74771e6251037&amp;amp;chksm=ea5f6d53dd28e445ea5adbdc599f8ad4caa7fe50de11ea523d759b4b3adc3599f47676dd6b9c&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot; hasload=&quot;1&quot;&gt;这封“领导痛批95后下属”的邮件，句句扎心！&lt;/a&gt;                                  &lt;/span&gt;&lt;/p&gt;&lt;p&gt;7&lt;span&gt;.&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2MTIzMzY3Mw==&amp;amp;mid=2247488564&amp;amp;idx=1&amp;amp;sn=256862239b12a1313919ee3ea6ff0d1c&amp;amp;chksm=ea5cd952dd2b50443feec88eb893233d2f6cf33f89e2ce72192c98035fd26cb0eb797a86f8f0&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-itemshowtype=&quot;0&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;15张图看懂瞎忙和高效的区别！&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;img class=&quot;__bg_gif rich_pages wxw-img&quot; data-fileid=&quot;100030073&quot; data-ratio=&quot;0.1328125&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/3GQek52mKtWDXtSkfViaQ2FZ2ZfSyjBcSkArjQVCMH4a7uxg6Vkibiaiciaiae2uxvzia7yib04tleLiaqcFVGUf2vcMf4A/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;640&quot;/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>bfb5f05597d24218d720691b5d6990f7</guid>
<title>分布式日志收集系统 - ExceptionLess的安装、配置、使用</title>
<link>https://toutiao.io/k/8nc5g27</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;前言&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Exceptionless 是一个开源的实时的日志收集框架，它可以应用在基于 ASP.NET，ASP.NET Core，Web API，Web Forms，WPF，Console，ASP.NET MVC 等技术开发的应用程序中，并且提供了REST接口可以应用在 Javascript，Node.js 中。（基本就是.Net技术栈的一套东西）&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;项目地址：https://github.com/exceptionless/Exceptionless&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;它将日志收集变得简单易用并且不需要了解太多的相关技术细节及配置，对于微服务架构的应用程序来说，统一的日志收集系统的建立更是有必要。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;要使用的话只需要在其官网上注册个账号，然后在代码中配置一下APIKey就可以了，不过免费版额度有限，当然还是自己部署一套比较好，这次依然使用docker部署&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;安装&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;docker部署可以在GitHub下载代码自己构建，也可以用官方打包好的镜像，为了方便这里我直接使用官方打包的镜像&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;docker-compose.yml&lt;/code&gt; 内容如下&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以看到其中包含5个容器：ExceptionLess App、ExceptionLess Job、elasticsearch、kibana、Redis&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;version:&lt;/span&gt; &lt;span&gt;&#x27;3.7&#x27;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;services:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;app:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;depends_on:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;elasticsearch&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;redis&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;image:&lt;/span&gt; &lt;span&gt;exceptionless/app:latest&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;environment:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_AppMode:&lt;/span&gt; &lt;span&gt;Production&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Cache:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Elasticsearch:&lt;/span&gt; &lt;span&gt;server=http://elasticsearch:9200&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__MessageBus:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#EX_ConnectionStrings__Metrics: provider=statsd;server=statsd;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Queue:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Redis:&lt;/span&gt; &lt;span&gt;server=redis,abortConnect=false&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Storage:&lt;/span&gt; &lt;span&gt;provider=folder;path=/app/storage&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# 官方配置默认包含HTTPS，我把它关了&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#ASPNETCORE_URLS: http://+;https://+&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;ASPNETCORE_URLS:&lt;/span&gt; &lt;span&gt;http://+&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# 关了HTTPS，这个端口也不用配置了&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#ASPNETCORE_HTTPS_PORT: 5001&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# 关了HTTPS，证书也不用配置&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#ASPNETCORE_Kestrel__Certificates__Default__Password: password&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#ASPNETCORE_Kestrel__Certificates__Default__Path: /https/aspnetapp.pfx&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_RunJobsInProcess:&lt;/span&gt; &lt;span&gt;&#x27;false&#x27;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;5000&lt;/span&gt;&lt;span&gt;:80&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# 关了HTTPS，不需要映射443端口&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#- 5001:443&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;ex_appdata:/app/storage&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;ex_ssldata:/https&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;jobs:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;depends_on:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;app&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;image:&lt;/span&gt; &lt;span&gt;exceptionless/job:latest&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;environment:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_AppMode:&lt;/span&gt; &lt;span&gt;Production&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# UI地址，修改这里的IP地址为你的服务器IP地址&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_BaseURL:&lt;/span&gt; &lt;span&gt;http://你的IP:5000&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Cache:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Elasticsearch:&lt;/span&gt; &lt;span&gt;server=http://elasticsearch:9200&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;# 邮件配置&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Email:&lt;/span&gt; &lt;span&gt;smtps://邮箱地址:密码@SMTP服务器:端口&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_SmtpFrom:&lt;/span&gt; &lt;span&gt;发件邮箱地址&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__MessageBus:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;#EX_ConnectionStrings__Metrics: provider=statsd;server=statsd;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Queue:&lt;/span&gt; &lt;span&gt;provider=redis&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Redis:&lt;/span&gt; &lt;span&gt;server=redis,abortConnect=false&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;EX_ConnectionStrings__Storage:&lt;/span&gt; &lt;span&gt;provider=folder;path=/app/storage&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;ex_appdata:/app/storage&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;elasticsearch:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;image:&lt;/span&gt; &lt;span&gt;exceptionless/elasticsearch:7.15.2&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;environment:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;discovery.type:&lt;/span&gt; &lt;span&gt;single-node&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;xpack.security.enabled:&lt;/span&gt; &lt;span&gt;&#x27;false&#x27;&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;ES_JAVA_OPTS:&lt;/span&gt; &lt;span&gt;-Xms1g&lt;/span&gt; &lt;span&gt;-Xmx1g&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;9200&lt;/span&gt;&lt;span&gt;:9200&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;9300&lt;/span&gt;&lt;span&gt;:9300&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;ex_esdata:/usr/share/elasticsearch/data&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;kibana:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;depends_on:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;elasticsearch&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;image:&lt;/span&gt; &lt;span&gt;docker.elastic.co/kibana/kibana:7.15.2&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;5601&lt;/span&gt;&lt;span&gt;:5601&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;  &lt;span&gt;redis:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;image:&lt;/span&gt; &lt;span&gt;redis:6.0-alpine&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;ports:&lt;/span&gt;&lt;br/&gt;      &lt;span&gt;-&lt;/span&gt; &lt;span&gt;6379&lt;/span&gt;&lt;span&gt;:6379&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;volumes:&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;ex_esdata:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;driver:&lt;/span&gt; &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;ex_appdata:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;driver:&lt;/span&gt; &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;ex_ssldata:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;driver:&lt;/span&gt; &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;邮件配置&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;邮件配置是比较麻烦的地方，我查了一些资料才解决&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;在&lt;code&gt;jobs&lt;/code&gt;容器中的这两个环境变量里配置&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;EX_ConnectionStrings__Email:&lt;/span&gt; &lt;span&gt;smtps://邮箱地址:密码@SMTP服务器:端口&lt;/span&gt;&lt;br/&gt;&lt;span&gt;EX_SmtpFrom:&lt;/span&gt; &lt;span&gt;发件邮箱地址&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;有坑的地方就是&lt;code&gt;EX_ConnectionStrings__Email&lt;/code&gt;变量的邮箱地址需要对@符号进行转义，用&lt;code&gt;%40&lt;/code&gt;代替@符号&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;以我的自建邮箱为例，邮箱地址是：test@dealiaxy.com，那么配置就是这样&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;EX_ConnectionStrings__Email: smtps://test%40dealiaxy.com:密码@SMTP服务器:端口&lt;br/&gt;EX_SmtpFrom: test@dealiaxy.com&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;这样配置完成就可以正常发邮件了~&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;PS：还可以配置Webhook实现报错自动推送到微信、钉钉之类的平台，不细说了&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;AspNetCore集成&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;我主要使用的.Net技术栈是AspNetCore，其他项目可以参考官方文档的集成教程&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;首先在ExceptionLess中创建一个项目，把APIKey复制下来&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;编辑AspNetCore项目的&lt;code&gt;appsettings.json&lt;/code&gt;文件，增加配置&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&quot;Exceptionless&quot;&lt;/span&gt;: {&lt;br/&gt;    &lt;span&gt;&quot;ServerUrl&quot;&lt;/span&gt;: &lt;span&gt;&quot;http://12.0.0.1:5000&quot;&lt;/span&gt;,&lt;br/&gt;    &lt;span&gt;&quot;ApiKey&quot;&lt;/span&gt;: &lt;span&gt;&quot;Rajo99MksQTS6zZK81238jTkNHNOQP33A3iW45JC&quot;&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;然后编辑&lt;code&gt;Program.cs&lt;/code&gt;，添加服务和中间件&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;builder.Services.AddExceptionless(builder.Configuration);&lt;br/&gt;app.UseExceptionless();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;集成这一步就搞定了&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;记录事件&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;Exceptionless中的事件有以下几种类型：&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;日志消息：记录的日志，可以是任何文本内容&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;特性使用：功能使用量的记录，例如接口调用情况等&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;异常情况：记录异常的信息&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;失效链接：当被访问的页面不存在时进行记录&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;除此之外，每个事件还可以附加tags、object、UserIdentity、Description之类的信息，有这些信息的辅助可以方便后续排查问题。&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;最简单的使用&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;ExceptionlessClient.Default.CreateLog(&lt;span&gt;&quot;message&quot;&lt;/span&gt;).Submit();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;code&gt;CreateLog&lt;/code&gt;方法会放回一个&lt;code&gt;EventBuilder&lt;/code&gt;类型的对象，之后在这个对象上进行大部分操作支持链式调用&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以像上面那样一行代码链式调用，也可以这样&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;// 先创建&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt; eventBuilder = ExceptionlessClient.Default.CreateLog(&lt;span&gt;&quot;message&quot;&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;// 再来慢慢添加&lt;/span&gt;&lt;br/&gt;eventBuilder.AddObject(...);&lt;br/&gt;eventBuilder.AddTags(...);&lt;br/&gt;&lt;span&gt;// 最后提交&lt;/span&gt;&lt;br/&gt;eventBuilder.Submit();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以附加到事件中的信息有很多，下面是官网提供的一些例子&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;// Set the reference id of the event so we can search for it later (reference:id).&lt;/span&gt;&lt;br/&gt;&lt;span&gt;// This will automatically be populated if you call ExceptionlessClient.Default.Configuration.UseReferenceIds();&lt;/span&gt;&lt;br/&gt;.SetReferenceId(Guid.NewGuid().ToString(&lt;span&gt;&quot;N&quot;&lt;/span&gt;))&lt;br/&gt;&lt;span&gt;// Add the order object but exclude the credit number property.&lt;/span&gt;&lt;br/&gt;.AddObject(order, &lt;span&gt;&quot;Order&quot;&lt;/span&gt;, excludedPropertyNames: &lt;span&gt;new&lt;/span&gt; [] { &lt;span&gt;&quot;CreditCardNumber&quot;&lt;/span&gt; }, maxDepth: &lt;span&gt;2&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;// Set the quote number.&lt;/span&gt;&lt;br/&gt;.SetProperty(&lt;span&gt;&quot;Quote&quot;&lt;/span&gt;, &lt;span&gt;123&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;// Add an order tag.&lt;/span&gt;&lt;br/&gt;.AddTags(&lt;span&gt;&quot;Order&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;// Mark critical.&lt;/span&gt;&lt;br/&gt;.MarkAsCritical()&lt;br/&gt;&lt;span&gt;// Set the coordinates of the end user.&lt;/span&gt;&lt;br/&gt;.SetGeo(&lt;span&gt;43.595089&lt;/span&gt;, &lt;span&gt;-88.444602&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;// Set the user id that is in our system and provide a friendly name.&lt;/span&gt;&lt;br/&gt;.SetUserIdentity(user.Id, user.FullName)&lt;br/&gt;&lt;span&gt;// Set the users description of the error.&lt;/span&gt;&lt;br/&gt;.SetUserDescription(user.EmailAddress, &lt;span&gt;&quot;I tried creating an order from my saved quote.&quot;&lt;/span&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;例如，使用&lt;code&gt;SetUserIdentity&lt;/code&gt;设置了用户信息，在异常列表就可以看到用户名，如图&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.13972764949674363&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tY4ZEYfwQjNyskZZ5nge25C5PGDbPHldzLofKqpflQX4gM7I0QMGstAV5A2VFFtsb9yfyTaXdWrohEe204mBA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1689&quot;/&gt;&lt;figcaption&gt;image&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;用&lt;code&gt;AddTags&lt;/code&gt;添加标签，在页面中以badge的形式显示&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.031657355679702&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tY4ZEYfwQjNyskZZ5nge25C5PGDbPHltkmpLtfoGDquf6nmj231Rqjlu0VHib8zNxjPibJvYEiatbw8ym8oWHE6g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;537&quot;/&gt;&lt;figcaption&gt;image&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;还有&lt;code&gt;AddObject&lt;/code&gt;，很方便，可以直接把对象传进去，由于C#语言有匿名对象，那就更方便了，在页面上的“扩展数据”标签页上可以看到，ExceptionLess会把对象处理成表格形式，更加直观&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8665338645418327&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tY4ZEYfwQjNyskZZ5nge25C5PGDbPHlVUiaibdxFsFTJ1z705vibwljX5SsZrgFBYc0O1WVXqhh3D3xkjBHv4U7g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1004&quot;/&gt;&lt;figcaption&gt;image&lt;/figcaption&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;提交错误信息&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;ExceptionLess提供了Exception对象的扩展方法&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;可以catch到错误后直接Submit&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;try&lt;/span&gt; {}&lt;br/&gt;&lt;span&gt;catch&lt;/span&gt; (Exception ex) {&lt;br/&gt;    ex.ToExceptionless().Submit();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;当然也可以附加一些信息进去&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;ex.ToExceptionless().AddObject(...).Submit();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;集成日志框架&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;除了手动提交事件，它还提供了与现有日志框架集成的方法&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;安装对应的nuget包就行（简单搜了一下，至少对Log4net和NLog的支持应该是没啥问题的）&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.47249647390691113&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tY4ZEYfwQjNyskZZ5nge25C5PGDbPHlPmI7RJlD4Pl4LdOLwcXpsT6mq1w4WPeicuW7FErZ6zFHoQuLMLiciaibgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;709&quot;/&gt;&lt;figcaption&gt;image&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;以与Log4net集成为例，首先安装nuget包：&lt;code&gt;Exceptionless.Log4net&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;附上一个简单的Log4net配置&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;log4net&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;appender&lt;/span&gt; &lt;span&gt;name&lt;/span&gt;=&lt;span&gt;&quot;exceptionless&quot;&lt;/span&gt; &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;Exceptionless.Log4net.ExceptionlessAppender,Exceptionless.Log4net&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;layout&lt;/span&gt; &lt;span&gt;type&lt;/span&gt;=&lt;span&gt;&quot;log4net.Layout.PatternLayout&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&amp;lt;&lt;span&gt;conversionPattern&lt;/span&gt; &lt;span&gt;value&lt;/span&gt;=&lt;span&gt;&quot;%-4timestamp [%thread] %-5level %logger %ndc - %message%newline&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;/&lt;span&gt;layout&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;appender&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;root&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;level&lt;/span&gt; &lt;span&gt;value&lt;/span&gt;=&lt;span&gt;&quot;DEBUG&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;  &lt;span&gt;&amp;lt;&lt;span&gt;appender-ref&lt;/span&gt; &lt;span&gt;ref&lt;/span&gt;=&lt;span&gt;&quot;exceptionless&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;root&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;log4net&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;其他语言能用吗？&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;虽然官方只支持.Net平台和前端（js调用、vue3），不过ExceptionLess提供了大量的HTTP接口，想要在其他语言的项目中使用，只需要调用对应的接口就行了，甚至可以自己封装一个&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;不过在其他语言的项目中，我推荐使用Sentry（下一篇文章要介绍的），支持的语言/框架更多，ExceptionLess的优势在于和AspNetCore这类.Net平台的结合更好，结果页面更直观~&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;话说回来，ExceptionLess的接口文档（Swagger）在&lt;code&gt;/docs/index.html&lt;/code&gt;，根据部署地址访问就能看到，里面你要的功能基本都有。&lt;/p&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;参考资料&lt;/h2&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;官方 Self Hosting Wiki：https://github.com/exceptionless/Exceptionless/wiki/Self-Hosting&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;.NET Core微服务之基于Exceptionless实现分布式日志记录：https://www.cnblogs.com/edisonchou/p/exceptionless_foundation_and_quick_start.html&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;开源日志框架Exceptionless使用教程：https://www.cnblogs.com/youring2/p/11546485.html&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;Exceptionless 5.x 无法正常发送邮件的问题解决 ：https://www.cnblogs.com/edisonchou/p/solve_the_problem_of_exceptionless_on_cannot_send_emails.html&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>69fd745a7c658a7eeed968309a73a0db</guid>
<title>推荐实现Apache Kafka高可靠高弹性的三篇文章</title>
<link>https://toutiao.io/k/kdve4zs</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;
            &lt;p&gt;&lt;strong&gt;1、如何以事务方式发送 Kafka 消息？&lt;span/&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;https://www.jdon.com/61596&lt;/p&gt;&lt;p&gt;在自 2016 年以来，Mirakl 开始使用 Kafka 作为消息服务，以支持在微服务环境中的异步驱动架构。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Kafka的恰好一次&lt;/strong&gt;&lt;br/&gt;每条消息都精确传递一次，它为流处理应用程序等读取-处理-写入任务提供端到端的精确一次保证。为了支持这种保证，Kafka 依赖于两个特性：&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img border=&quot;0&quot; class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.31785714285714284&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PKkRgCqrcbqRrPOELGcN4UlprJNb4FCVS8rcs0u2pGquBnLZYiazibiaSRB8d2K2Y5qsYgXD62Apib3Pwic8BBX4I2A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1400&quot;/&gt;&lt;br/&gt;&lt;br/&gt;您应该注意，&lt;strong&gt;此语义仅在 Kafka Streams 内部处理范围内得到保证，其中包括使用事件、更新状态存储和生成事件&lt;/strong&gt;。尝试更新 Kafka 外部的状态，例如更新数据库中的行或进行 API 调用，将导致较弱的保证。&lt;/p&gt;&lt;p&gt;&lt;span&gt;尝试一次更新两个系统在设计和实现方面都极具挑战性，尤其是对于我们知道 Kafka 不支持&lt;/span&gt;&lt;strong&gt;分布式事务&lt;/strong&gt;&lt;span&gt;的案例。在 Mirakl，我们决定一次只更新一个系统，首先我们更新数据库，然后使用异步过程将这些更新从数据库驱动到 Kafka。&lt;/span&gt;&lt;br/&gt;&lt;span&gt;这就是通常所说的发件箱模式。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;2、Apache Kafka重试和维护重试事件的顺序&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;https://www.jdon.com/61594&lt;/p&gt;&lt;p&gt;&lt;span&gt;重试非常重要，尤其是在 微服务 系统中，这些服务必须经常协作才能处理请求。如果一个服务只中断了几秒钟会发生什么？其他服务应该在放弃之前向客户抛出错误或重试多次。 &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;使用更多重试主题和死信队列主题使我们能够在不阻塞主要消费者的情况下重试请求。开发人员将轻松监控 DLQ 中一直失败的事件并手动删除或重新处理它。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;这种方法的一个缺点是，如果我们想多次重试，它会创建多个主题。所以我们应该限制重试的次数。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;另一个需要考虑的问题是在需要时中断事件的重试流程。我们可以删除 Kafka 的重试主题（墓碑）中的记录。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;3、Udemy在Apache Kafka上引入热重试和冷重试&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;https://www.jdon.com/61595&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Udemy 平台上有超过 4600 万学生和 64400 万课程注册，每天都有许多用户通过结帐流程来访问内容。这会产生大量流量，同时也会导致许多支付交易。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;让我们从定义一些术语开始讨论。我们将在接下来的部分中大量提及它们，最好事先澄清它们。&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;热重试：&lt;/strong&gt;这是一种在使用消息时遇到错误后立即重试消息的策略。例如，您可以考虑这样一种场景，即您的消费者由于套接字超时而无法连接到您的数据存储。或者，您执行了 API 调用来获取一些资源。但是，该资源丢失了，您只需要一些额外的时间来引用该资源。这可能是大多数最终一致的&lt;strong&gt;分布式系统&lt;/strong&gt;的常见原因。如您所见，由于立即重试，您的消费者可以从这些类型的错误中恢复过来。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;冷重试：&lt;/strong&gt;这种类型的重试策略是指您需要一些时间（可能超过几秒钟）才能解决根本原因的方式。例如，假设您的 MySQL 集群中有很高的复制延迟。您的消费者无法从副本中获取必要的记录。因此，您的消费者将失败，直到复制完成。在这种情况下，您将需要一个冷重试机制并以某种方式延迟您的主题以在解决时刻重试它&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1529eaa432257d7d77cc0cd0848ade3b</guid>
<title>【机器学习】暴力特征工程函数汇总，附代码</title>
<link>https://toutiao.io/k/5nbpxwb</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;br/&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;其它重要聚合函数&amp;amp;分类分别如下。&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;median&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.median(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;variation_coefficient&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    mean = np.mean(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; mean != &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.std(x) / mean&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;variance&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.var(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;skewness&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, pd.Series):&lt;br/&gt;        x = pd.Series(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; pd.Series.skew(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;kurtosis&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, pd.Series):&lt;br/&gt;        x = pd.Series(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; pd.Series.kurtosis(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;standard_deviation&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.std(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;large_standard_deviation&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; (np.max(x)-np.min(x)) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.std(x)/(np.max(x)-np.min(x))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;variation_coefficient&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    mean = np.mean(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; mean != &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.std(x) / mean&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;variance_std_ratio&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    y = np.var(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; y != &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; y/np.sqrt(y)&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;ratio_beyond_r_sigma&lt;/span&gt;&lt;span&gt;(x, r)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; x.size == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.sum(np.abs(x - np.mean(x)) &amp;gt; r * np.asarray(np.std(x))) / x.size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;range_ratio&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    mean_median_difference = np.abs(np.mean(x) - np.median(x))&lt;br/&gt;    max_min_difference = np.max(x) - np.min(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; max_min_difference == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; mean_median_difference / max_min_difference&lt;br/&gt;    &lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;has_duplicate_max&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(x == np.max(x)) &amp;gt;= &lt;span&gt;2&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;has_duplicate_min&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(x == np.min(x)) &amp;gt;= &lt;span&gt;2&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;has_duplicate&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; x.size != np.unique(x).size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_duplicate_max&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(x == np.max(x))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_duplicate_min&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(x == np.min(x))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_duplicate&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; x.size - np.unique(x).size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;sum_values&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;log_return&lt;/span&gt;&lt;span&gt;(list_stock_prices)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.log(list_stock_prices).diff() &lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;realized_volatility&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sqrt(np.sum(series**&lt;span&gt;2&lt;/span&gt;))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;realized_abs_skew&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.power(np.abs(np.sum(series**&lt;span&gt;3&lt;/span&gt;)),&lt;span&gt;1&lt;/span&gt;/&lt;span&gt;3&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;realized_skew&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sign(np.sum(series**&lt;span&gt;3&lt;/span&gt;))*np.power(np.abs(np.sum(series**&lt;span&gt;3&lt;/span&gt;)),&lt;span&gt;1&lt;/span&gt;/&lt;span&gt;3&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;realized_vol_skew&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.power(np.abs(np.sum(series**&lt;span&gt;6&lt;/span&gt;)),&lt;span&gt;1&lt;/span&gt;/&lt;span&gt;6&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;realized_quarticity&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.power(np.sum(series**&lt;span&gt;4&lt;/span&gt;),&lt;span&gt;1&lt;/span&gt;/&lt;span&gt;4&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_unique&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; len(np.unique(series))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; series.size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#drawdons functions are mine&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;maximum_drawdown&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    series = np.asarray(series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series)&amp;lt;&lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    k = series[np.argmax(np.maximum.accumulate(series) - series)]&lt;br/&gt;    i = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series[:i])&amp;lt;&lt;span&gt;1&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.NaN&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        j = np.max(series[:i])&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; j-k&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;maximum_drawup&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    series = np.asarray(series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series)&amp;lt;&lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    &lt;br/&gt;&lt;br/&gt;    series = - series&lt;br/&gt;    k = series[np.argmax(np.maximum.accumulate(series) - series)]&lt;br/&gt;    i = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series[:i])&amp;lt;&lt;span&gt;1&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.NaN&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        j = np.max(series[:i])&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; j-k&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;drawdown_duration&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    series = np.asarray(series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series)&amp;lt;&lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;    k = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    i = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series[:i]) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        j=k&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        j = np.argmax(series[:i])&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; k-j&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;drawup_duration&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    series = np.asarray(series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series)&amp;lt;&lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;    series=-series&lt;br/&gt;    k = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    i = np.argmax(np.maximum.accumulate(series) - series)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series[:i]) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        j=k&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        j = np.argmax(series[:i])&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; k-j&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;max_over_min&lt;/span&gt;&lt;span&gt;(series)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(series)&amp;lt;&lt;span&gt;2&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; np.min(series) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.max(series)/np.min(series)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;mean_n_absolute_max&lt;/span&gt;&lt;span&gt;(x, number_of_maxima = &lt;span&gt;1&lt;/span&gt;)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&quot;&quot;&quot; Calculates the arithmetic mean of the n absolute maximum values of the time series.&quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;assert&lt;/span&gt; (&lt;br/&gt;        number_of_maxima &amp;gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    ), &lt;span&gt;f&quot; number_of_maxima=&lt;span&gt;{number_of_maxima}&lt;/span&gt; which is not greater than 1&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;    n_absolute_maximum_values = np.sort(np.absolute(x))[-number_of_maxima:]&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.mean(n_absolute_maximum_values) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; number_of_maxima &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_above&lt;/span&gt;&lt;span&gt;(x, t)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x)==&lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.sum(x &amp;gt;= t) / len(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_below&lt;/span&gt;&lt;span&gt;(x, t)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x)==&lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.sum(x &amp;lt;= t) / len(x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#number of valleys = number_peaks(-x, n)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;number_peaks&lt;/span&gt;&lt;span&gt;(x, n)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&quot;&quot;&quot;&lt;br/&gt;    Calculates the number of peaks of at least support n in the time series x. A peak of support n is defined as a&lt;br/&gt;    subsequence of x where a value occurs, which is bigger than its n neighbours to the left and to the right.&lt;br/&gt;    &quot;&quot;&quot;&lt;/span&gt;&lt;br/&gt;    x_reduced = x[n:-n]&lt;br/&gt;&lt;br/&gt;    res = &lt;span&gt;None&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;for&lt;/span&gt; i &lt;span&gt;in&lt;/span&gt; range(&lt;span&gt;1&lt;/span&gt;, n + &lt;span&gt;1&lt;/span&gt;):&lt;br/&gt;        result_first = x_reduced &amp;gt; _roll(x, i)[n:-n]&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;if&lt;/span&gt; res &lt;span&gt;is&lt;/span&gt; &lt;span&gt;None&lt;/span&gt;:&lt;br/&gt;            res = result_first&lt;br/&gt;        &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;            res &amp;amp;= result_first&lt;br/&gt;&lt;br/&gt;        res &amp;amp;= x_reduced &amp;gt; _roll(x, -i)[n:-n]&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;mean_abs_change&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.mean(np.abs(np.diff(x)))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;mean_change&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; (x[&lt;span&gt;-1&lt;/span&gt;] - x[&lt;span&gt;0&lt;/span&gt;]) / (len(x) - &lt;span&gt;1&lt;/span&gt;) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;1&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;mean_second_derivative_central&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; (x[&lt;span&gt;-1&lt;/span&gt;] - x[&lt;span&gt;-2&lt;/span&gt;] - x[&lt;span&gt;1&lt;/span&gt;] + x[&lt;span&gt;0&lt;/span&gt;]) / (&lt;span&gt;2&lt;/span&gt; * (len(x) - &lt;span&gt;2&lt;/span&gt;)) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;2&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;root_mean_square&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sqrt(np.mean(np.square(x))) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;absolute_sum_of_changes&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(np.abs(np.diff(x)))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;longest_strike_below_mean&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.max(_get_length_sequences_where(x &amp;lt; np.mean(x))) &lt;span&gt;if&lt;/span&gt; x.size &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;longest_strike_above_mean&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.max(_get_length_sequences_where(x &amp;gt; np.mean(x))) &lt;span&gt;if&lt;/span&gt; x.size &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_above_mean&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    m = np.mean(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.where(x &amp;gt; m)[&lt;span&gt;0&lt;/span&gt;].size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;count_below_mean&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    m = np.mean(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.where(x &amp;lt; m)[&lt;span&gt;0&lt;/span&gt;].size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;last_location_of_maximum&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;1.0&lt;/span&gt; - np.argmax(x[::&lt;span&gt;-1&lt;/span&gt;]) / len(x) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;first_location_of_maximum&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.argmax(x) / len(x) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;last_location_of_minimum&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;1.0&lt;/span&gt; - np.argmin(x[::&lt;span&gt;-1&lt;/span&gt;]) / len(x) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;first_location_of_minimum&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.argmin(x) / len(x) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# Test non-consecutive non-reoccuring values ?&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;percentage_of_reoccurring_values_to_all_values&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    unique, counts = np.unique(x, return_counts=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; counts.shape[&lt;span&gt;0&lt;/span&gt;] == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(counts &amp;gt; &lt;span&gt;1&lt;/span&gt;) / float(counts.shape[&lt;span&gt;0&lt;/span&gt;])&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;percentage_of_reoccurring_datapoints_to_all_datapoints&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, pd.Series):&lt;br/&gt;        x = pd.Series(x)&lt;br/&gt;    value_counts = x.value_counts()&lt;br/&gt;    reoccuring_values = value_counts[value_counts &amp;gt; &lt;span&gt;1&lt;/span&gt;].sum()&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; np.isnan(reoccuring_values):&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; reoccuring_values / x.size&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;sum_of_reoccurring_values&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    unique, counts = np.unique(x, return_counts=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;    counts[counts &amp;lt; &lt;span&gt;2&lt;/span&gt;] = &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    counts[counts &amp;gt; &lt;span&gt;1&lt;/span&gt;] = &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(counts * unique)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;sum_of_reoccurring_data_points&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    unique, counts = np.unique(x, return_counts=&lt;span&gt;True&lt;/span&gt;)&lt;br/&gt;    counts[counts &amp;lt; &lt;span&gt;2&lt;/span&gt;] = &lt;span&gt;0&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum(counts * unique)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;ratio_value_number_to_time_series_length&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; x.size == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.nan&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.unique(x).size / x.size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;abs_energy&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.dot(x, x)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;quantile&lt;/span&gt;&lt;span&gt;(x, q)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; len(x) == &lt;span&gt;0&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.NaN&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.quantile(x, q)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;# crossing the mean ? other levels ? &lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;number_crossing_m&lt;/span&gt;&lt;span&gt;(x, m)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;# From https://stackoverflow.com/questions/3843017/efficiently-detect-sign-changes-in-python&lt;/span&gt;&lt;br/&gt;    positive = x &amp;gt; m&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.where(np.diff(positive))[&lt;span&gt;0&lt;/span&gt;].size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;absolute_maximum&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.max(np.absolute(x)) &lt;span&gt;if&lt;/span&gt; len(x) &amp;gt; &lt;span&gt;0&lt;/span&gt; &lt;span&gt;else&lt;/span&gt; np.NaN&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;value_count&lt;/span&gt;&lt;span&gt;(x, value)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; &lt;span&gt;not&lt;/span&gt; isinstance(x, (np.ndarray, pd.Series)):&lt;br/&gt;        x = np.asarray(x)&lt;br/&gt;    &lt;span&gt;if&lt;/span&gt; np.isnan(value):&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; np.isnan(x).sum()&lt;br/&gt;    &lt;span&gt;else&lt;/span&gt;:&lt;br/&gt;        &lt;span&gt;return&lt;/span&gt; x[x == value].size&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;range_count&lt;/span&gt;&lt;span&gt;(x, min, max)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.sum((x &amp;gt;= min) &amp;amp; (x &amp;lt; max))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;def&lt;/span&gt; &lt;span&gt;mean_diff&lt;/span&gt;&lt;span&gt;(x)&lt;/span&gt;:&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;return&lt;/span&gt; np.nanmean(np.diff(x.values))&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;br/&gt;base_stats = [&lt;span&gt;&#x27;mean&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;sum&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;size&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;count&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;std&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;first&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;last&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;min&#x27;&lt;/span&gt;,&lt;span&gt;&#x27;max&#x27;&lt;/span&gt;,median,skewness,kurtosis]&lt;br/&gt;higher_order_stats = [abs_energy,root_mean_square,sum_values,realized_volatility,realized_abs_skew,realized_skew,realized_vol_skew,realized_quarticity]&lt;br/&gt;additional_quantiles = [quantile_01,quantile_025,quantile_075,quantile_09]&lt;br/&gt;other_min_max = [absolute_maximum,max_over_min]&lt;br/&gt;min_max_positions = [last_location_of_maximum,first_location_of_maximum,last_location_of_minimum,first_location_of_minimum]&lt;br/&gt;peaks = [number_peaks_2, mean_n_absolute_max_2, number_peaks_5, mean_n_absolute_max_5, number_peaks_10, mean_n_absolute_max_10]&lt;br/&gt;counts = [count_unique,count,count_above_0,count_below_0,value_count_0,count_near_0]&lt;br/&gt;reoccuring_values = [count_above_mean,count_below_mean,percentage_of_reoccurring_values_to_all_values,percentage_of_reoccurring_datapoints_to_all_datapoints,sum_of_reoccurring_values,sum_of_reoccurring_data_points,ratio_value_number_to_time_series_length]&lt;br/&gt;count_duplicate = [count_duplicate,count_duplicate_min,count_duplicate_max]&lt;br/&gt;variations = [mean_diff,mean_abs_change,mean_change,mean_second_derivative_central,absolute_sum_of_changes,number_crossing_0]&lt;br/&gt;ranges = [variance_std_ratio,ratio_beyond_01_sigma,ratio_beyond_02_sigma,ratio_beyond_03_sigma,large_standard_deviation,range_ratio]&lt;/code&gt;&lt;/pre&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot; mpa-is-content=&quot;t&quot;&gt;参考文献&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;0.014388489208633094&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/jupejmznDC8MtGNDick0ZwXA23Otib8ibGAJjnB4ohjZ6nIUia0DKMtjJF2es6OVaRiaJDOaDMG7ecsgrHBqelYSAvw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;278&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;https://www.kaggle.com/code/lucasmorin/amex-feature-engineering-2-aggreg-functions&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>