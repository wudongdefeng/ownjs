<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>bbe7881b9d9564a06a95cf3c1c247a5b</guid>
<title>[æ¨è] é¢è¯•ï¼šä¸ºäº†è¿›é˜¿é‡Œï¼Œæ­»ç£•äº† ConcurrentHashMap æºç å’Œé¢è¯•é¢˜ï¼ˆä¸€ï¼‰</title>
<link>https://toutiao.io/k/pcsh3lu</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;h1 cid=&quot;n0&quot; mdtype=&quot;heading&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;æ¬¢è¿å…³æ³¨å…¬ä¼—å·ã€&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;CcwwæŠ€æœ¯åšå®¢&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;ã€‘ï¼ŒåŸåˆ›æŠ€æœ¯æ–‡ç« ç¬¬ä¸€æ—¶é—´æ¨å‡º&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;&lt;/h1&gt;&lt;hr/&gt;&lt;h3 cid=&quot;n7&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p cid=&quot;n8&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;åœ¨å¹³æ—¶ä¸­é›†åˆä½¿ç”¨ä¸­ï¼Œå½“æ¶‰åŠå¤šçº¿ç¨‹å¼€å‘æ—¶ï¼Œå¦‚æœä½¿ç”¨&lt;code&gt;HashMap&lt;/code&gt;å¯èƒ½ä¼šå¯¼è‡´æ­»é”é—®é¢˜ï¼Œä½¿ç”¨&lt;code&gt;HashTable&lt;/code&gt;æ•ˆç‡åˆä¸é«˜ã€‚è€Œ&lt;code&gt;ConcurrentHashMap&lt;/code&gt;åœ¨ä¿æŒåŒæ­¥åŒæ—¶å¹¶å‘æ•ˆç‡æ¯”è¾ƒé«˜ï¼Œ&lt;code&gt;ConcurrentHashmap&lt;/code&gt;æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œé‚£é¢è¯•ä¸­ä¹Ÿä¼šè¢«å¸¸å¸¸é—®åˆ°ï¼Œé‚£å¯èƒ½çš„é—®é¢˜æ˜¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;h3 cid=&quot;n37&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;&lt;span&gt;ConcurrentHashMap&lt;/span&gt;çš„å®ç°åŸç†&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p cid=&quot;n38&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ConcurrentHashMapçš„å‡ºç°ä¸»è¦ä¸ºäº†è§£å†³hashmapåœ¨å¹¶å‘ç¯å¢ƒä¸‹ä¸å®‰å…¨ï¼ŒJDK1.8ConcurrentHashMapçš„è®¾è®¡ä¸å®ç°éå¸¸ç²¾å·§ï¼Œå¤§é‡çš„åˆ©ç”¨äº†volatileï¼ŒCASç­‰ä¹è§‚é”æŠ€æœ¯æ¥å‡å°‘é”ç«äº‰å¯¹äºæ€§èƒ½çš„å½±å“ï¼Œ&lt;strong&gt;ConcurrentHashMapä¿è¯çº¿ç¨‹å®‰å…¨çš„æ–¹æ¡ˆæ˜¯ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 cid=&quot;n44&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;JDK7 ConcurrentHashMap&lt;/span&gt;&lt;/h4&gt;&lt;p cid=&quot;n45&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;åœ¨JDK1.7ä¸­ConcurrentHashMapç”±Segment(åˆ†æ®µé”)æ•°ç»„ç»“æ„å’ŒHashEntryæ•°ç»„ç»„æˆï¼Œä¸”ä¸»è¦é€šè¿‡Segment(åˆ†æ®µé”)æ®µæŠ€æœ¯å®ç°çº¿ç¨‹å®‰å…¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n46&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;Segmentæ˜¯ä¸€ç§å¯é‡å…¥é”ï¼Œæ˜¯ä¸€ç§æ•°ç»„å’Œé“¾è¡¨çš„ç»“æ„ï¼Œä¸€ä¸ªSegmentä¸­åŒ…å«ä¸€ä¸ªHashEntryæ•°ç»„ï¼Œæ¯ä¸ªHashEntryåˆæ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„ï¼Œå› æ­¤åœ¨ConcurrentHashMapæŸ¥è¯¢ä¸€ä¸ªå…ƒç´ çš„è¿‡ç¨‹éœ€è¦è¿›è¡Œä¸¤æ¬¡Hashæ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot; cid=&quot;n47&quot; mdtype=&quot;list&quot; data-mark=&quot;-&quot;&gt;&lt;li&gt;&lt;p cid=&quot;n49&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ç¬¬ä¸€æ¬¡Hashå®šä½åˆ°Segmentï¼Œ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p cid=&quot;n51&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ç¬¬äºŒæ¬¡Hashå®šä½åˆ°å…ƒç´ æ‰€åœ¨çš„é“¾è¡¨çš„å¤´éƒ¨&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.6092307692307692&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/EvicK4z5ZDrjDjpyooXYGkFXgwNX3HLcjIEhGc3OMPyicHoicpnZHicAZ4SaBEwqrPpdia9TCH9yK9xhpesMV1qPO8w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;650&quot;/&gt;&lt;/p&gt;&lt;p cid=&quot;n53&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;æ­£æ˜¯é€šè¿‡Segmentåˆ†æ®µé”æŠ€æœ¯ï¼Œå°†æ•°æ®åˆ†æˆä¸€æ®µä¸€æ®µçš„å­˜å‚¨ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µæ•°æ®çš„æ—¶å€™ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œèƒ½å¤Ÿå®ç°çœŸæ­£çš„å¹¶å‘è®¿é—®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n54&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;è¿™æ ·ç»“æ„ä¼šä½¿Hashçš„è¿‡ç¨‹è¦æ¯”æ™®é€šçš„HashMapè¦é•¿ï¼Œå½±å“æ€§èƒ½ï¼Œä½†å†™æ“ä½œçš„æ—¶å€™å¯ä»¥åªå¯¹å…ƒç´ æ‰€åœ¨çš„Segmentè¿›è¡ŒåŠ é”å³å¯ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„Segmentï¼ŒConcurrentHashMapæå‡äº†å¹¶å‘èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 cid=&quot;n55&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;JDK8 ConcurrentHashMap&lt;/span&gt;&lt;/h4&gt;&lt;p cid=&quot;n56&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;åœ¨JDK8ConcurrentHashMapå†…éƒ¨æœºæ„ï¼šæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ï¼ŒJava 8åœ¨é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼(8)æ—¶å°†é“¾è¡¨ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼‰è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºO(long(N)))ï¼Œç»“æ„åŸºæœ¬ä¸Šä¸åŠŸèƒ½å’ŒJDK8çš„HashMapä¸€æ ·ï¼Œåªä¸è¿‡ConcurrentHashMapä¿è¯çº¿ç¨‹å®‰å…¨æ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.8034188034188035&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/EvicK4z5ZDrjDjpyooXYGkFXgwNX3HLcjFiadqnv5R3YicqfsM8laEe46R6SzZjbSa8bGGAcN7Bm11CcGghfpaibFQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;585&quot;/&gt;&lt;/p&gt;&lt;p cid=&quot;n58&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;åœ¨JDK1.8ä¸­æ‘’å¼ƒäº†Segmentåˆ†æ®µé”çš„æ•°æ®ç»“æ„ï¼ŒåŸºäºCASæ“ä½œä¿è¯æ•°æ®çš„è·å–ä»¥åŠä½¿ç”¨synchronizedå…³é”®å­—å¯¹ç›¸åº”æ•°æ®æ®µåŠ é”æ¥å®ç°çº¿ç¨‹å®‰å…¨ï¼Œè¿™è¿›ä¸€æ­¥æé«˜äº†å¹¶å‘æ€§ã€‚ï¼ˆ&lt;strong&gt;CASåŸç†è¯¦æƒ…&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU2ODk2NDMwNw==&amp;amp;mid=2247484095&amp;amp;idx=1&amp;amp;sn=7b8da8730943c203a0d9b850fa361644&amp;amp;chksm=fc84a703cbf32e15b461357295c65fd2cc329fe636b12adcf2210e42ec1f7c57eda96ae55d30&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€Šé¢è¯•ï¼šä¸ºäº†è¿›é˜¿é‡Œï¼ŒåˆæŠŠå¹¶å‘CASï¼ˆCompare and Swapï¼‰å®ç°é‡æ–°ç²¾è¯»ä¸€éã€‹&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€Šé¢è¯•ï¼šä¸ºäº†è¿›é˜¿é‡Œï¼ŒåˆæŠŠå¹¶å‘CASï¼ˆCompare and Swapï¼‰å®ç°é‡æ–°ç²¾è¯»ä¸€éã€‹&lt;/a&gt;ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Node&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__title&quot;&gt;K&lt;/span&gt;,&lt;span class=&quot;code-snippet__title&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Map&lt;/span&gt;.&lt;span class=&quot;code-snippet__title&quot;&gt;Entry&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__title&quot;&gt;K&lt;/span&gt;,&lt;span class=&quot;code-snippet__title&quot;&gt;V&lt;/span&gt;&amp;gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; hash;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; K key;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;volatile&lt;/span&gt; V val;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;volatile&lt;/span&gt; Node&amp;lt;K,V&amp;gt; next;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  ...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n60&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ConcurrentHashMapé‡‡ç”¨Nodeç±»ä½œä¸ºåŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼Œæ¯ä¸ªé”®å€¼å¯¹(key-value)éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªNodeä¸­ï¼Œä½¿ç”¨äº†volatileå…³é”®å­—ä¿®é¥°valueå’Œnextï¼Œä¿è¯å¹¶å‘çš„å¯è§æ€§ã€‚å…¶ä¸­Nodeå­ç±»æœ‰ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot; cid=&quot;n61&quot; mdtype=&quot;list&quot; data-mark=&quot;-&quot;&gt;&lt;li&gt;&lt;p cid=&quot;n63&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ForwardingNodeï¼šæ‰©å®¹èŠ‚ç‚¹ï¼Œåªæ˜¯åœ¨æ‰©å®¹é˜¶æ®µä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œä¸»è¦ä½œä¸ºä¸€ä¸ªæ ‡è®°ï¼Œåœ¨å¤„ç†å¹¶å‘æ—¶èµ·ç€å…³é”®ä½œç”¨ï¼Œæœ‰äº†ForwardingNodesï¼Œä¹Ÿæ˜¯ConcurrentHashMapæœ‰äº†åˆ†æ®µçš„ç‰¹æ€§ï¼Œæé«˜äº†å¹¶å‘æ•ˆç‡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p cid=&quot;n65&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;TreeBinï¼šTreeNodeçš„ä»£ç†èŠ‚ç‚¹ï¼Œç”¨äºç»´æŠ¤TreeNodesï¼ŒConcurrentHashMapçš„çº¢é»‘æ ‘å­˜æ”¾çš„æ˜¯TreeBin&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p cid=&quot;n67&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;TreeNodeï¼šç”¨äºæ ‘ç»“æ„ä¸­ï¼Œçº¢é»‘æ ‘çš„èŠ‚ç‚¹ï¼ˆå½“é“¾è¡¨é•¿åº¦å¤§äº8æ—¶è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼‰ï¼Œæ­¤èŠ‚ç‚¹ä¸èƒ½ç›´æ¥æ”¾å…¥æ¡¶å†…ï¼Œåªèƒ½æ˜¯ä½œä¸ºçº¢é»‘æ ‘çš„èŠ‚ç‚¹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p cid=&quot;n69&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ReservationNodeï¼šä¿ç•™ç»“ç‚¹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p cid=&quot;n70&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ConcurrentHashMapä¸­æŸ¥æ‰¾å…ƒç´ ã€æ›¿æ¢å…ƒç´ å’Œèµ‹å€¼å…ƒç´ éƒ½æ˜¯åŸºäº&lt;code&gt;sun.misc.Unsafe&lt;/code&gt;ä¸­&lt;strong&gt;åŸå­æ“ä½œ&lt;/strong&gt;å®ç°&lt;strong&gt;å¤šå¹¶å‘çš„æ— é”åŒ–&lt;/strong&gt;æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &amp;lt;K,V&amp;gt; &lt;span class=&quot;code-snippet__function&quot;&gt;Node&amp;lt;K,V&amp;gt; &lt;span class=&quot;code-snippet__title&quot;&gt;tabAt&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Node&amp;lt;K,V&amp;gt;[] tab, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; (Node&amp;lt;K,V&amp;gt;)U.getObjectAcquire(tab, ((&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt;)i &amp;lt;&amp;lt; ASHIFT) + ABASE);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &amp;lt;K,V&amp;gt; &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;casTabAt&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Node&amp;lt;K,V&amp;gt;[] tab, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                                      Node&amp;lt;K,V&amp;gt; c, Node&amp;lt;K,V&amp;gt; v)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; U.compareAndSetObject(tab, ((&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt;)i &amp;lt;&amp;lt; ASHIFT) + ABASE, c, v);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &amp;lt;K,V&amp;gt; &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;setTabAt&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Node&amp;lt;K,V&amp;gt;[] tab, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i, Node&amp;lt;K,V&amp;gt; v)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      U.putObjectRelease(tab, ((&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt;)i &amp;lt;&amp;lt; ASHIFT) + ABASE, v);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;hr/&gt;&lt;h3 cid=&quot;n231&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;ConcurrentHashMapçš„put()æ–¹æ³•&lt;span md-inline=&quot;tab&quot;/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p cid=&quot;n270&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ConcurrentHashMapçš„putçš„æµç¨‹æ­¥éª¤&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n234&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;&lt;strong&gt;1.&lt;/strong&gt;å¦‚æœkeyæˆ–è€…valueä¸ºnullï¼Œåˆ™æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå’ŒHashMapä¸åŒçš„æ˜¯HashMapå•çº¿ç¨‹æ˜¯å…è®¸ä¸ºNullï¼›&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n235&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;&lt;code&gt;if (key == null || value == null) throw new NullPointerException();&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n237&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;2.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;forçš„æ­»å¾ªç¯ï¼Œä¸ºäº†å®ç°CASçš„æ— é”åŒ–æ›´æ–°ï¼Œå¦‚æœtableä¸ºnullæˆ–è€…tableçš„é•¿åº¦ä¸º0ï¼Œåˆ™åˆå§‹åŒ–tableï¼Œè°ƒç”¨&lt;code&gt;initTable()&lt;/code&gt;æ–¹æ³•ï¼ˆç¬¬ä¸€æ¬¡putæ•°æ®ï¼Œè°ƒç”¨é»˜è®¤å‚æ•°å®ç°ï¼Œå…¶ä¸­é‡è¦çš„&lt;code&gt;sizeCtl&lt;/code&gt;å‚æ•°ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; hash = spread(key.hashCode());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; binCount = &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (Node&amp;lt;K,V&amp;gt;[] tab = table;;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       Node&amp;lt;K,V&amp;gt; f; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; n, i, fh; K fk; V fv;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (tab == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt; || (n = tab.length) == &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           tab = initTable(); &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      ...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p cid=&quot;n240&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;3.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç¡®å®šå…ƒç´ åœ¨Hashè¡¨çš„ç´¢å¼•&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n241&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;é€šè¿‡hashç®—æ³•å¯ä»¥å°†å…ƒç´ åˆ†æ•£åˆ°å“ˆå¸Œæ¡¶ä¸­ã€‚åœ¨ConcurrentHashMapä¸­é€šè¿‡å¦‚ä¸‹æ–¹æ³•ç¡®å®šæ•°ç»„ç´¢å¼•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n242&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt; ç¬¬ä¸€æ­¥ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;spread&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; h)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; (h ^ (h &amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;code-snippet__number&quot;&gt;16&lt;/span&gt;)) &amp;amp; HASH_BITS;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n244&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ç¬¬äºŒæ­¥ï¼š&lt;code&gt;(length-1) &amp;amp; (h ^ (h &amp;gt;&amp;gt;&amp;gt; 16)) &amp;amp; HASH_BITS);&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n246&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;4.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;é€šè¿‡&lt;code&gt;tableAt()&lt;/code&gt;æ–¹æ³•æ‰¾åˆ°ä½ç½®&lt;code&gt;tab[i]&lt;/code&gt;çš„&lt;code&gt;Node&lt;/code&gt;,å½“Nodeä¸ºnullæ—¶ä¸ºæ²¡æœ‰&lt;code&gt;hash&lt;/code&gt;å†²çªçš„è¯ï¼Œä½¿ç”¨&lt;code&gt;casTabAt()&lt;/code&gt;æ–¹æ³•&lt;code&gt;CAS&lt;/code&gt;æ“ä½œå°†å…ƒç´ æ’å…¥åˆ°&lt;code&gt;Hash&lt;/code&gt;è¡¨ä¸­ï¼Œ&lt;code&gt;ConcurrentHashmap&lt;/code&gt;ä½¿ç”¨&lt;code&gt;CAS&lt;/code&gt;æ— é”åŒ–æ“ä½œï¼Œè¿™æ ·åœ¨é«˜å¹¶å‘&lt;code&gt;hash&lt;/code&gt;å†²çªä½çš„æƒ…å†µä¸‹ï¼Œæ€§èƒ½è‰¯å¥½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((f = tabAt(tab, i = (n - &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;) &amp;amp; hash)) == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (casTabAt(tab, i, &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Node&amp;lt;K,V&amp;gt;(hash, key, &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                   &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n249&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;5.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å½“fä¸ä¸ºnullæ—¶ï¼Œè¯´æ˜å‘ç”Ÿäº†hashå†²çªï¼Œå½“f.hash == MOVED==-1 æ—¶ï¼Œè¯´æ˜&lt;code&gt;ConcurrentHashmap&lt;/code&gt;æ­£åœ¨å‘ç”Ÿ&lt;code&gt;resize&lt;/code&gt;æ“ä½œ,ä½¿ç”¨&lt;code&gt;helpTransfer()&lt;/code&gt;æ–¹æ³•å¸®åŠ©æ­£åœ¨è¿›è¡Œresizeæ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((fh = f.hash) == MOVED) &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       tab = helpTransfer(tab, f);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n252&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;6.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä»¥ä¸Šæƒ…å†µéƒ½ä¸æ»¡è¶³çš„æ—¶ï¼Œä½¿ç”¨&lt;code&gt;synchronized&lt;/code&gt;åŒæ­¥å—ä¸Šé”å½“å‰èŠ‚ç‚¹&lt;code&gt;Node&lt;/code&gt;,å¹¶åˆ¤æ–­æœ‰æ²¡æœ‰çº¿ç¨‹å¯¹æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;synchronized (f) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (tabAt(tab, i) == f) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (fh &amp;gt;= &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             binCount = &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (Node&amp;lt;K,V&amp;gt; e = f;; ++binCount) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                   K ek;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                     &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (e.hash == hash &amp;amp;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          ((ek = e.key) == key ||&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          (ek != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; key.&lt;span class=&quot;code-snippet__keyword&quot;&gt;equals&lt;/span&gt;(ek)))) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           oldVal = e.val;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!onlyIfAbsent)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                               e.val = &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    Node&amp;lt;K,V&amp;gt; pred = e;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((e = e.next) == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           pred.next = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Node&amp;lt;K,V&amp;gt;(hash, key, &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (f instanceof TreeBin) { &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                       Node&amp;lt;K,V&amp;gt; p;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                       binCount = &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                       &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((p = ((TreeBin&amp;lt;K,V&amp;gt;)f).putTreeVal(hash, key,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                                                      &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;)) != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           oldVal = p.val;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                           &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!onlyIfAbsent)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                               p.val = &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                   &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (f instanceof ReservationNode)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                       &lt;span class=&quot;code-snippet__keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Recursive update&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-2&quot; cid=&quot;n232&quot; mdtype=&quot;list&quot;/&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;7.&lt;/strong&gt;æ‰§è¡Œå®Œ&lt;/span&gt;&lt;code&gt;&lt;span&gt;synchronized(f)&lt;/span&gt;&lt;/code&gt;&lt;span&gt;åŒæ­¥ä»£ç å—ä¹‹åä¼šå…ˆæ£€æŸ¥&lt;/span&gt;&lt;code&gt;&lt;span&gt;binCount&lt;/span&gt;&lt;/code&gt;&lt;span&gt;,å¦‚æœå¤§äºç­‰äºTREEIFY_THRESHOLD = 8åˆ™è¿›è¡ŒtreeifyBinæ“ä½œå°è¯•å°†è¯¥é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (binCount != &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (binCount &amp;gt;= TREEIFY_THRESHOLD)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  treeifyBin(tab, i);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (oldVal != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; oldVal;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n263&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;8.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ‰§è¡Œäº†ä¸€ä¸ª&lt;code&gt;addCount&lt;/code&gt;æ–¹æ³•,ä¸»è¦ç”¨äºç»Ÿè®¡æ•°é‡ä»¥åŠå†³å®šæ˜¯å¦éœ€è¦æ‰©å®¹.&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;addCount(1L, binCount);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;h4 cid=&quot;n265&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;ConcurrentHashmap ä¸æ”¯æŒ key æˆ–è€… value ä¸º null çš„åŸå› ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;p cid=&quot;n111&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;&lt;code&gt;ConcurrentHashmap&lt;/code&gt;å’Œ&lt;code&gt;hashMap&lt;/code&gt;ä¸åŒçš„æ˜¯ï¼Œ&lt;code&gt;concurrentHashMap&lt;/code&gt;çš„&lt;code&gt;key&lt;/code&gt;å’Œ&lt;code&gt;value&lt;/code&gt;éƒ½ä¸å…è®¸ä¸ºnullï¼Œ&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n112&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;å› ä¸º&lt;code&gt;concurrenthashmap&lt;/code&gt;å®ƒä»¬æ˜¯ç”¨äºå¤šçº¿ç¨‹çš„ï¼Œå¹¶å‘çš„ ï¼Œå¦‚æœ&lt;code&gt;map.get(key)&lt;/code&gt;å¾—åˆ°äº†nullï¼Œä¸èƒ½åˆ¤æ–­åˆ°åº•æ˜¯æ˜ å°„çš„valueæ˜¯null,è¿˜æ˜¯å› ä¸ºæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„keyè€Œä¸ºç©ºï¼Œ&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n113&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;è€Œç”¨äºå•çº¿ç¨‹çŠ¶æ€çš„&lt;code&gt;hashmap&lt;/code&gt;å´å¯ä»¥ç”¨&lt;code&gt;containKeyï¼ˆkeyï¼‰&lt;/code&gt; å»åˆ¤æ–­åˆ°åº•æ˜¯å¦åŒ…å«äº†è¿™ä¸ªnullã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 cid=&quot;n114&quot; mdtype=&quot;heading&quot;&gt;&lt;span&gt;put()æ–¹æ³•å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨å‘¢ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;p cid=&quot;n115&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;1.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨ç¬¬ä¸€æ¬¡putæ•°æ®æ—¶ï¼Œè°ƒç”¨&lt;code&gt;initTable()&lt;/code&gt;æ–¹æ³•&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; transient &lt;span class=&quot;code-snippet__keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; sizeCtl;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; final Node&amp;lt;K,V&amp;gt;[] &lt;span class=&quot;code-snippet__title&quot;&gt;initTable&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Node&amp;lt;K,V&amp;gt;[] tab; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; sc;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; ((tab = table) == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt; || tab.length == &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((sc = sizeCtl) &amp;lt; &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;)  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            Thread.&lt;span class=&quot;code-snippet__keyword&quot;&gt;yield&lt;/span&gt;(); &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (U.compareAndSwapInt(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;, SIZECTL, sc, &lt;span class=&quot;code-snippet__number&quot;&gt;-1&lt;/span&gt;)) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            ...  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        } &lt;span class=&quot;code-snippet__keyword&quot;&gt;finally&lt;/span&gt; {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           sizeCtl = sc;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; tab;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n117&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;ä½¿ç”¨&lt;code&gt;sizeCtl&lt;/code&gt;å‚æ•°ä½œä¸ºæ§åˆ¶æ ‡å¿—çš„ä½œç”¨ï¼Œå½“åœ¨ä»æ’å…¥å…ƒç´ æ—¶ï¼Œæ‰ä¼šåˆå§‹åŒ–Hashè¡¨ã€‚åœ¨å¼€å§‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œ&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n123&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;2.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨ä¸å­˜åœ¨hashå†²çªçš„æ—¶&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((f = tabAt(tab, i = (n - &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;) &amp;amp; hash)) == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (casTabAt(tab, i, &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Node&amp;lt;K,V&amp;gt;(hash, key, &lt;span class=&quot;code-snippet__keyword&quot;&gt;value&lt;/span&gt;)))  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p cid=&quot;n125&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;&lt;code&gt;(f = tabAt(tab, i = (n - 1) &amp;amp; hash)) == null&lt;/code&gt;ä¸­ä½¿ç”¨tabAtåŸå­æ“ä½œè·å–æ•°ç»„ï¼Œå¹¶åˆ©ç”¨&lt;code&gt;casTabAt(tab, i, null, new Node&amp;lt;K,V&amp;gt;(hash, key, value))&lt;/code&gt;CASæ“ä½œå°†å…ƒç´ æ’å…¥åˆ°Hashè¡¨ä¸­&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n126&quot; mdtype=&quot;paragraph&quot;&gt;&lt;strong&gt;&lt;span&gt;3.&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨å­˜åœ¨hashå†²çªæ—¶ï¼Œå…ˆæŠŠå½“å‰èŠ‚ç‚¹ä½¿ç”¨å…³é”®å­—&lt;code&gt;synchronized&lt;/code&gt;åŠ é”ï¼Œç„¶åå†ä½¿ç”¨&lt;code&gt;tabAt()&lt;/code&gt;åŸå­æ“ä½œåˆ¤æ–­ä¸‹æœ‰æ²¡æœ‰çº¿ç¨‹å¯¹æ•°ç»„è¿›è¡Œäº†ä¿®æ”¹ï¼Œæœ€åå†è¿›è¡Œå…¶ä»–æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n127&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¦é”ä½æ›´æ–°æ“ä½œçš„ä»£ç å—?&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n128&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;å› ä¸ºå‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼Œå½“å‰çº¿ç¨‹æ­£åœ¨fæ‰€åœ¨çš„é“¾è¡¨ä¸Šè¿›è¡Œæ›´æ–°æ“ä½œï¼Œå‡å¦‚æ­¤æ—¶å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¹Ÿéœ€è¦åˆ°è¿™ä¸ªé“¾è¡¨ä¸Šè¿›è¡Œæ›´æ–°æ“ä½œï¼Œåˆ™éœ€è¦ç­‰å¾…å½“å‰çº¿ç¨‹æ›´æ–°å®Œåå†æ‰§è¡Œ&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;synchronized&lt;/span&gt; (f) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (tabAt(tab, i) == f) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ......&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥å†…å®¹çœ‹&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzU2ODk2NDMwNw==&amp;amp;mid=2247484131&amp;amp;idx=2&amp;amp;sn=5d47abac54e039c25dbd8d34c9e4ae57&amp;amp;chksm=fc84a75fcbf32e49ed5179794aad8227cdb9ea6a26da0162947dbc2834d2cdf5e666c08f5d44&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€Šé¢è¯•ï¼šä¸ºäº†è¿›é˜¿é‡Œï¼Œæ­»ç£•äº†CurrentHashMapæºç å’Œé¢è¯•é¢˜(äºŒ)ã€‹&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€Šé¢è¯•ï¼šä¸ºäº†è¿›é˜¿é‡Œï¼Œæ­»ç£•äº†&lt;span&gt;ConcurrentHashMap&lt;/span&gt;æºç å’Œé¢è¯•é¢˜(äºŒ)ã€‹&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n158&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;å„ä½çœ‹å®˜è¿˜å¯ä»¥å—ï¼Ÿå–œæ¬¢çš„è¯ï¼ŒåŠ¨åŠ¨æ‰‹æŒ‡ç‚¹ä¸ªå†çœ‹ğŸ’—å‘—ï¼ï¼è°¢è°¢æ”¯æŒï¼&lt;span md-inline=&quot;linebreak&quot;&gt; Â &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p cid=&quot;n158&quot; mdtype=&quot;paragraph&quot;&gt;&lt;span&gt;æ¬¢è¿æ‰«ç å…³æ³¨ï¼ŒåŸåˆ›æŠ€æœ¯æ–‡ç« ç¬¬ä¸€æ—¶é—´æ¨å‡º&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.36857142857142855&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;350&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/EvicK4z5ZDrgfBz2Ve78FylxcGWmXaueSuqPguurBCWEkeY1ibeLl1wlxUyibdesc4YeuiaJJjSt6HTiab2iaHyXyyicA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>69d1fc6f21d0417a1b67131594ae99df</guid>
<title>[æ¨è] è°ˆè°ˆ MySQL çš„ JSON æ•°æ®ç±»å‹</title>
<link>https://toutiao.io/k/x25pdur</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot;&gt;&lt;p&gt;MySQL 5.7 å¢åŠ äº† JSON æ•°æ®ç±»å‹çš„æ”¯æŒï¼Œåœ¨ä¹‹å‰å¦‚æœè¦å­˜å‚¨ JSON ç±»å‹çš„æ•°æ®çš„è¯æˆ‘ä»¬åªèƒ½è‡ªå·±åš &lt;code&gt;JSON.stringify()&lt;/code&gt; å’Œ &lt;code&gt;JSON.parse()&lt;/code&gt; çš„æ“ä½œï¼Œè€Œä¸”æ²¡åŠæ³•é’ˆå¯¹ JSON å†…çš„æ•°æ®è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œæ‰€æœ‰çš„æ“ä½œå¿…é¡»è¯»å–å‡ºæ¥ parse ä¹‹åè¿›è¡Œï¼Œéå¸¸çš„éº»çƒ¦ã€‚åŸç”Ÿçš„ JSON æ•°æ®ç±»å‹æ”¯æŒä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å¯¹ JSON è¿›è¡Œæ•°æ®æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œäº†ï¼Œè¾ƒä¹‹å‰ä¼šæ–¹ä¾¿éå¸¸å¤šã€‚&lt;/p&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºæˆ‘å…ˆåˆ›å»ºä¸€ä¸ª &lt;code&gt;user&lt;/code&gt; è¡¨ï¼Œå…¶ä¸­ &lt;code&gt;info&lt;/code&gt; å­—æ®µç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„åŸºç¡€ä¿¡æ¯ã€‚è¦å°†å­—æ®µå®šä¹‰æˆ JSON ç±»å‹æ•°æ®éå¸¸ç®€å•ï¼Œç›´æ¥å­—æ®µååæ¥ &lt;code&gt;JSON&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-mysql&quot;&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;INT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNSIGNED&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;AUTO_INCREMENT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;PRIMARY&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;VARCHAR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JSON&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¡¨åˆ›å»ºæˆåŠŸä¹‹åæˆ‘ä»¬å°±æŒ‰ç…§ç»å…¸çš„ CRUD æ•°æ®æ“ä½œæ¥è®²è®²æ€ä¹ˆè¿›è¡Œ JSON æ•°æ®ç±»å‹çš„æ“ä½œã€‚&lt;/p&gt;&lt;h2&gt;æ·»åŠ æ•°æ®&lt;/h2&gt;&lt;p&gt;æ·»åŠ æ•°æ®è¿™å—æ˜¯æ¯”è¾ƒç®€å•ï¼Œä¸è¿‡éœ€è¦ç†è§£ MySQL å¯¹ JSON çš„å­˜å‚¨æœ¬è´¨ä¸Šè¿˜æ˜¯å­—ç¬¦ä¸²çš„å­˜å‚¨æ“ä½œã€‚åªæ˜¯å½“å®šä¹‰ä¸º JSON ç±»å‹ä¹‹åå†…éƒ¨ä¼šå¯¹æ•°æ®å†è¿›è¡Œä¸€äº›ç´¢å¼•çš„åˆ›å»ºæ–¹ä¾¿åç»­çš„æ“ä½œè€Œå·²ã€‚æ‰€ä»¥æ·»åŠ  JSON æ•°æ®çš„æ—¶å€™éœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²åŒ…è£…ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; INSERT INTO user (`name`, `info`) VALUES(&#x27;lilei&#x27;, &#x27;{&quot;sex&quot;: &quot;male&quot;, &quot;age&quot;: 18, &quot;hobby&quot;: [&quot;basketball&quot;, &quot;football&quot;], &quot;score&quot;: [85, 90, 100]}&#x27;);
Query OK, 1 row affected (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é™¤äº†è‡ªå·±æ‹¼ JSON ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨ MySQL çš„ JSON åˆ›å»ºå‡½æ•°è¿›è¡Œåˆ›å»ºã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;JSON_OBJECT&lt;/code&gt;ï¼šå¿«é€Ÿåˆ›å»º JSON å¯¹è±¡ï¼Œå¥‡æ•°åˆ—ä¸º keyï¼Œå¶æ•°åˆ—ä¸º valueï¼Œä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_OBJECT(key,value,key1,value1)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_ARRAY&lt;/code&gt;ï¼šå¿«é€Ÿåˆ›å»º JSON æ•°ç»„ï¼Œä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_ARRAY(item0, item1, item2)&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; INSERT INTO user (`name`, `info`) VALUES(&#x27;hanmeimei&#x27;, JSON_OBJECT(
    -&amp;gt;   &#x27;sex&#x27;, &#x27;female&#x27;, 
    -&amp;gt;   &#x27;age&#x27;, 18, 
    -&amp;gt;   &#x27;hobby&#x27;, JSON_ARRAY(&#x27;badminton&#x27;, &#x27;sing&#x27;), 
    -&amp;gt;   &#x27;score&#x27;, JSON_ARRAY(90, 95, 100)
    -&amp;gt; ));
Query OK, 1 row affected (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸è¿‡å¯¹äº JavaScript å·¥ç¨‹å¸ˆæ¥è¯´ä¸ç®¡æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²æ¥å†™è¿˜æ˜¯ä½¿ç”¨è‡ªå¸¦å‡½æ•°æ¥åˆ›å»º JSON éƒ½æ˜¯éå¸¸éº»çƒ¦çš„ä¸€ä»¶äº‹ï¼Œè¿œæ²¡æœ‰ JS åŸç”Ÿå¯¹è±¡æ¥çš„å¥½ç”¨ã€‚æ‰€ä»¥åœ¨ &lt;code&gt;think-model&lt;/code&gt; æ¨¡å—ä¸­æˆ‘ä»¬å¢åŠ äº† JSON æ•°æ®ç±»å‹çš„æ•°æ®è‡ªåŠ¨è¿›è¡Œ &lt;code&gt;JSON.stringify()&lt;/code&gt; çš„æ”¯æŒï¼Œæ‰€ä»¥ç›´æ¥ä¼ å…¥ JS å¯¹è±¡æ•°æ®å³å¯ã€‚&lt;/p&gt;&lt;p&gt;ç”±äºæ•°æ®çš„è‡ªåŠ¨åºåˆ—åŒ–å’Œè§£ææ˜¯æ ¹æ®å­—æ®µç±»å‹æ¥åšçš„ï¼Œä¸ºäº†ä¸å½±å“å·²è¿è¡Œçš„é¡¹ç›®ï¼Œéœ€è¦åœ¨æ¨¡å—ä¸­é…ç½® &lt;code&gt;jsonFormat: true&lt;/code&gt; æ‰èƒ½å¼€å¯è¿™é¡¹åŠŸèƒ½ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//adapter.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MySQL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;think-model-mysql&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;mysql&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MySQL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;jsonFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;lilei&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;sex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;male&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;hobby&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;basketball&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;football&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;score&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;userId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢è®©æˆ‘ä»¬æ¥çœ‹çœ‹æœ€ç»ˆå­˜å‚¨åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; SELECT * FROM `user`;
+----+-----------+-----------------------------------------------------------------------------------------+
| id | name      | info                                                                                    |
+----+-----------+-----------------------------------------------------------------------------------------+
|  1 | lilei     | {&quot;age&quot;: 18, &quot;sex&quot;: &quot;male&quot;, &quot;hobby&quot;: [&quot;basketball&quot;, &quot;football&quot;], &quot;score&quot;: [85, 90, 100]} |
|  2 | hanmeimei | {&quot;age&quot;: 18, &quot;sex&quot;: &quot;female&quot;, &quot;hobby&quot;: [&quot;badminton&quot;, &quot;sing&quot;], &quot;score&quot;: [90, 95, 100]}    |
+----+-----------+-----------------------------------------------------------------------------------------+
2 rows in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;æŸ¥è¯¢æ•°æ®&lt;/h2&gt;&lt;p&gt;ä¸ºäº†æ›´å¥½çš„æ”¯æŒ JSON æ•°æ®çš„æ“ä½œï¼ŒMySQL æä¾›äº†ä¸€äº› JSON æ•°æ®æ“ä½œç±»çš„æ–¹æ³•ã€‚å’ŒæŸ¥è¯¢æ“ä½œç›¸å…³çš„æ–¹æ³•ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;JSON_EXTRACT()&lt;/code&gt;ï¼šæ ¹æ® Path è·å–éƒ¨åˆ† JSON æ•°æ®ï¼Œä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_EXTRACT(json_doc, path[, path] ...)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;-&amp;gt;&lt;/code&gt;ï¼š&lt;code&gt;JSON_EXTRACT()&lt;/code&gt; çš„ç­‰ä»·å†™æ³•&lt;/li&gt;&lt;li&gt;&lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt;ï¼š&lt;code&gt;JSON_EXTRACT()&lt;/code&gt; å’Œ &lt;code&gt;JSON_UNQUOTE()&lt;/code&gt; çš„ç­‰ä»·å†™æ³•&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_CONTAINS()&lt;/code&gt;ï¼šæŸ¥è¯¢ JSON æ•°æ®æ˜¯å¦åœ¨æŒ‡å®š Path åŒ…å«æŒ‡å®šçš„æ•°æ®ï¼ŒåŒ…å«åˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_CONTAINS(json_doc, val[, path])&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_CONTAINS_PATH()&lt;/code&gt;ï¼šæŸ¥è¯¢æ˜¯å¦å­˜åœ¨æŒ‡å®šè·¯å¾„ï¼Œå­˜åœ¨åˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚&lt;code&gt;one_or_all&lt;/code&gt; åªèƒ½å–å€¼ &quot;one&quot; æˆ– &quot;all&quot;ï¼Œone è¡¨ç¤ºåªè¦æœ‰ä¸€ä¸ªå­˜åœ¨å³å¯ï¼Œall è¡¨ç¤ºæ‰€æœ‰çš„éƒ½å­˜åœ¨æ‰è¡Œã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] ...)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_KEYS()&lt;/code&gt;ï¼šè·å– JSON æ•°æ®åœ¨æŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰é”®å€¼ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_KEYS(json_doc[, path])&lt;/code&gt;ï¼Œç±»ä¼¼ JavaScript ä¸­çš„ &lt;code&gt;Object.keys()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_SEARCH()&lt;/code&gt;ï¼šæŸ¥è¯¢åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„ Pathsï¼Œå¹¶ä½œä¸ºä¸€ä¸ª JSON Array è¿”å›ã€‚æŸ¥è¯¢çš„å­—ç¬¦ä¸²å¯ä»¥ç”¨ LIKE é‡Œçš„ &#x27;%&#x27; æˆ– &#x27;_&#x27; åŒ¹é…ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_SEARCH(json_doc, one_or_all, search_str[, escape_char[, path] ...])&lt;/code&gt;ï¼Œç±»ä¼¼ JavaScript ä¸­çš„ &lt;code&gt;findIndex()&lt;/code&gt; æ“ä½œã€‚&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æˆ‘ä»¬åœ¨è¿™é‡Œä¸å¯¹æ¯ä¸ªæ–¹æ³•è¿›è¡Œé€ä¸ªçš„ä¸¾ä¾‹æè¿°ï¼Œä»…æå‡ºä¸€äº›åœºæ™¯ä¸¾ä¾‹åº”è¯¥æ€ä¹ˆæ“ä½œã€‚&lt;/p&gt;&lt;h3&gt;è¿”å›ç”¨æˆ·çš„å¹´é¾„å’Œæ€§åˆ«&lt;/h3&gt;&lt;p&gt;ä¸¾è¿™ä¸ªä¾‹å­å°±æ˜¯æƒ³å‘Šè¯‰ä¸‹å¤§å®¶æ€ä¹ˆè·å– JSON æ•°æ®ä¸­çš„éƒ¨åˆ†å†…å®¹ï¼Œå¹¶æŒ‰ç…§æ­£å¸¸çš„è¡¨å­—æ®µè¿›è¡Œè¿”å›ã€‚è¿™å—å¯ä»¥ä½¿ç”¨ &lt;code&gt;JSON_EXTRACT&lt;/code&gt; æˆ–è€…ç­‰ä»·çš„ &lt;code&gt;-&amp;gt;&lt;/code&gt; æ“ä½œéƒ½å¯ä»¥ã€‚å…¶ä¸­æ ¹æ®ä¾‹å­å¯ä»¥çœ‹åˆ° &lt;code&gt;sex&lt;/code&gt; è¿”å›çš„æ•°æ®éƒ½å¸¦æœ‰å¼•å·ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ &lt;code&gt;JSON_UNQUOTE()&lt;/code&gt; æˆ–è€…ç›´æ¥ä½¿ç”¨ &lt;code&gt;-&amp;gt;&amp;gt;&lt;/code&gt; å°±å¯ä»¥æŠŠå¼•å·å»æ‰äº†ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; SELECT `name`, JSON_EXTRACT(`info`, &#x27;$.age&#x27;) as `age`, `info`-&amp;gt;&#x27;$.sex&#x27; as sex FROM `user`;
+-----------+------+----------+
| name      | age  | sex      |
+-----------+------+----------+
| lilei     | 18   | &quot;male&quot;   |
| hanmeimei | 16   | &quot;female&quot; |
+-----------+------+----------+
2 rows in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°äº† Path çš„å†™æ³•ï¼ŒMySQL é€šè¿‡è¿™ç§å­—ç¬¦ä¸²çš„ Path æè¿°å¸®åŠ©æˆ‘ä»¬æ˜ å°„åˆ°å¯¹åº”çš„æ•°æ®ã€‚å’Œ JavaScript ä¸­å¯¹è±¡çš„æ“ä½œæ¯”è¾ƒç±»ä¼¼ï¼Œé€šè¿‡ &lt;code&gt;.&lt;/code&gt; è·å–ä¸‹ä¸€çº§çš„å±æ€§ï¼Œé€šè¿‡ &lt;code&gt;[]&lt;/code&gt; è·å–æ•°ç»„å…ƒç´ ã€‚&lt;/p&gt;&lt;p&gt;ä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºéœ€è¦é€šè¿‡ &lt;code&gt;$&lt;/code&gt; è¡¨ç¤ºæœ¬èº«ï¼Œè¿™ä¸ªä¹Ÿæ¯”è¾ƒå¥½ç†è§£ã€‚å¦å¤–å°±æ˜¯å¯ä»¥ä½¿ç”¨ &lt;code&gt;*&lt;/code&gt; å’Œ &lt;code&gt;**&lt;/code&gt; ä¸¤ä¸ªé€šé…ç¬¦ï¼Œæ¯”å¦‚ &lt;code&gt;.*&lt;/code&gt; è¡¨ç¤ºå½“å‰å±‚çº§çš„æ‰€æœ‰æˆå‘˜çš„å€¼ï¼Œ&lt;code&gt;[*]&lt;/code&gt; åˆ™è¡¨ç¤ºå½“å‰æ•°ç»„ä¸­æ‰€æœ‰æˆå‘˜å€¼ã€‚&lt;code&gt;**&lt;/code&gt; ç±»ä¼¼ LIKE ä¸€æ ·å¯ä»¥æ¥å‰ç¼€å’Œåç¼€ï¼Œæ¯”å¦‚ &lt;code&gt;a**b&lt;/code&gt; è¡¨ç¤ºçš„æ˜¯ä»¥ a å¼€å¤´ï¼Œbç»“å°¾çš„è·¯å¾„ã€‚&lt;/p&gt;&lt;p&gt;è·¯å¾„çš„å†™æ³•éå¸¸ç®€å•ï¼Œåé¢çš„å†…å®¹é‡Œä¹Ÿä¼šå‡ºç°ã€‚ä¸Šé¢çš„è¿™ä¸ªæŸ¥è¯¢å¯¹åº”åœ¨ &lt;code&gt;think-model&lt;/code&gt; çš„å†™æ³•ä¸º&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name, JSON_EXTRACT(info, &#x27;$.age&#x27;) AS age, info-&amp;gt;&#x27;$.sex&#x27; as sex&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;1=1&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;è¿”å›å–œæ¬¢ç¯®çƒçš„ç”·æ€§ç”¨æˆ·&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; SELECT `name` FROM `user` WHERE JSON_CONTAINS(`info`, &#x27;&quot;male&quot;&#x27;, &#x27;$.sex&#x27;) AND JSON_SEARCH(`info`, &#x27;one&#x27;, &#x27;basketball&#x27;, null, &#x27;$.hobby&#x27;);
+-------+
| name  |
+-------+
| lilei |
+-------+
1 row in set, 1 warning (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªä¾‹å­å°±æ˜¯ç®€å•çš„å‘Šè¯‰å¤§å®¶æ€ä¹ˆå¯¹å±æ€§å’Œæ•°ç»„è¿›è¡ŒæŸ¥è¯¢æœç´¢ã€‚å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ &lt;code&gt;JSON_CONTAINS()&lt;/code&gt; æŸ¥è¯¢å­—ç¬¦ä¸²ç”±äºä¸å¸¦ç±»å‹è½¬æ¢çš„é—®é¢˜å­—ç¬¦ä¸²éœ€è¦ä½¿ç”¨åŠ ä¸Š &lt;code&gt;&quot;&quot;&lt;/code&gt; åŒ…è£¹æŸ¥è¯¢ï¼Œæˆ–è€…ä½¿ç”¨ &lt;code&gt;JSON_QUOTE(&#x27;male&#x27;)&lt;/code&gt; ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ MySQL 8 çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–°å¢çš„ &lt;code&gt;JSON_VALUE()&lt;/code&gt; æ¥ä»£æ›¿ &lt;code&gt;JSON_CONTAINS()&lt;/code&gt;ï¼Œæ–°æ–¹æ³•çš„å¥½å¤„æ˜¯ä¼šå¸¦ç±»å‹è½¬æ¢ï¼Œé¿å…åˆšæ‰åŒå¼•å·çš„å°´å°¬é—®é¢˜ã€‚ä¸éœ€è¦è¿”å›çš„è·¯å¾„çš„è¯ï¼Œ&lt;code&gt;JSON_SEARCH()&lt;/code&gt; åœ¨è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–°å¢çš„ &lt;code&gt;MEMBER OF&lt;/code&gt; æˆ–è€… &lt;code&gt;JSON_OVERLAPS()&lt;/code&gt; æ–¹æ³•æ›¿æ¢ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; SELECT `name` FROM `user` WHERE JSON_VALUE(`info`, &#x27;$.sex&#x27;) = &#x27;male&#x27; AND &#x27;basketball&#x27; MEMBER OF(JSON_VALUE(`info`, &#x27;$.hobby&#x27;));
+-------+
| name  |
+-------+
| lilei |
+-------+
1 row in set (0.00 sec)

mysql&amp;gt; SELECT `name` FROM `user` WHERE JSON_VALUE(`info`, &#x27;$.sex&#x27;) = &#x27;male&#x27; AND JSON_OVERLAPS(JSON_VALUE(`info`, &#x27;$.hobby&#x27;), JSON_QUOTE(&#x27;basketball&#x27;));
+-------+
| name  |
+-------+
| lilei |
+-------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„è¿™ä¸ªæŸ¥è¯¢å¯¹åº”åœ¨ &lt;code&gt;think-model&lt;/code&gt; çš„å†™æ³•ä¸º&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;JSON_CONTAINS(info, &#x27;\&quot;male\&quot;&#x27;, &#x27;$.sex&#x27;)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;JSON_SEARCH(info, &#x27;one&#x27;, &#x27;basketball&#x27;, null, &#x27;$.hobby&#x27;)&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;where1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;JSON_VALUE(`info`, &#x27;$.sex&#x27;) = &#x27;male&#x27;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;&#x27;basketball&#x27; MEMBER OF (JSON_VALUE(`info`, &#x27;$.hobby&#x27;))&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;where2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;JSON_VALUE(`info`, &#x27;$.sex&#x27;) = &#x27;male&#x27;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;JSON_OVERLAPS(JSON_VALUE(`info`, &#x27;$.hobby&#x27;), JSON_QUOTE(&#x27;basketball&#x27;))&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;name&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;ä¿®æ”¹æ•°æ®&lt;/h2&gt;&lt;p&gt;MySQL æä¾›çš„ JSON æ“ä½œå‡½æ•°ä¸­ï¼Œå’Œä¿®æ”¹æ“ä½œç›¸å…³çš„æ–¹æ³•ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;JSON_APPEND/JSON_ARRAY_APPEND&lt;/code&gt;ï¼šè¿™ä¸¤ä¸ªåå­—æ˜¯åŒä¸€ä¸ªåŠŸèƒ½çš„ä¸¤ç§å«æ³•ï¼ŒMySQL 5.7 çš„æ—¶å€™ä¸º &lt;code&gt;JSON_APPEND&lt;/code&gt;ï¼ŒMySQL 8 æ›´æ–°ä¸º &lt;code&gt;JSON_ARRAY_APPEND&lt;/code&gt;ï¼Œå¹¶ä¸”ä¹‹å‰çš„åå­—è¢«åºŸå¼ƒã€‚è¯¥æ–¹æ³•å¦‚åŒå­—é¢æ„æ€ï¼Œç»™æ•°ç»„æ·»åŠ å€¼ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_ARRAY_APPEND(json_doc, path, val[, path, val] ...)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_ARRAY_INSERT&lt;/code&gt;ï¼šç»™æ•°ç»„æ·»åŠ å€¼ï¼ŒåŒºåˆ«äº &lt;code&gt;JSON_ARRAY_APPEND()&lt;/code&gt; å®ƒå¯ä»¥åœ¨æŒ‡å®šä½ç½®æ’å€¼ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_ARRAY_INSERT(json_doc, path, val[, path, val] ...)&lt;/code&gt;&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_INSERT/JSON_REPLACE/JSON_SET&lt;/code&gt;ï¼šä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯å¯¹ JSON æ’å…¥æ•°æ®çš„ï¼Œä»–ä»¬çš„ä½¿ç”¨æ–¹æ³•éƒ½ä¸º &lt;code&gt;JSON_[INSERT|REPLACE|SET](json_doc, path, val[, path, val] ...)&lt;/code&gt;ï¼Œä¸è¿‡åœ¨æ’å…¥åŸåˆ™ä¸Šå­˜åœ¨ä¸€äº›å·®åˆ«ã€‚&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;JSON_INSERT&lt;/code&gt;ï¼šå½“è·¯å¾„ä¸å­˜åœ¨æ‰æ’å…¥&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_REPLACE&lt;/code&gt;ï¼šå½“è·¯å¾„å­˜åœ¨æ‰æ›¿æ¢&lt;/li&gt;&lt;li&gt;&lt;code&gt;JSON_SET&lt;/code&gt;ï¼šä¸ç®¡è·¯å¾„æ˜¯å¦å­˜åœ¨&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code&gt;JSON_REMOVE&lt;/code&gt;ï¼šç§»é™¤æŒ‡å®šè·¯å¾„çš„æ•°æ®ã€‚ä½¿ç”¨æ–¹æ³• &lt;code&gt;JSON_REMOVE(json_doc, path[, path] ...)&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç”±äº &lt;code&gt;JSON_INSERT&lt;/code&gt;, &lt;code&gt;JSON_REPLACE&lt;/code&gt;, &lt;code&gt;JSON_SET&lt;/code&gt; å’Œ &lt;code&gt;JSON_REMOVE&lt;/code&gt; å‡ ä¸ªæ–¹æ³•æ”¯æŒå±æ€§å’Œæ•°ç»„çš„æ“ä½œï¼Œæ‰€ä»¥å‰ä¸¤ä¸ª &lt;code&gt;JSON_ARRAY&lt;/code&gt; æ–¹æ³•ç”¨çš„ä¼šç¨å¾®å°‘ä¸€ç‚¹ã€‚ä¸‹é¢æˆ‘ä»¬æ ¹æ®ä¹‹å‰çš„æ•°æ®ç»§ç»­ä¸¾å‡ ä¸ªå®ä¾‹çœ‹çœ‹ã€‚&lt;/p&gt;&lt;h3&gt;ä¿®æ”¹ç”¨æˆ·çš„å¹´é¾„&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; UPDATE `user` SET `info` = JSON_REPLACE(`info`, &#x27;$.age&#x27;, 20) WHERE `name` = &#x27;lilei&#x27;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&amp;gt; SELECT JSON_VALUE(`info`, &#x27;$.age&#x27;) as age FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+------+
| age  |
+------+
| 20   |
+------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;JSON_INSERT&lt;/code&gt; å’Œ &lt;code&gt;JSON_SET&lt;/code&gt; çš„ä¾‹å­ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œè¿™é‡Œå°±ä¸å¤šåšæ¼”ç¤ºäº†ã€‚å¯¹åº”åˆ° &lt;code&gt;think-model&lt;/code&gt; ä¸­çš„è¯ï¼Œéœ€è¦ä½¿ç”¨ EXP æ¡ä»¶è¡¨è¾¾å¼å¤„ç†ï¼Œå¯¹åº”çš„å†™æ³•ä¸º&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;lilei&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;exp&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;JSON_REPLACE(info, &#x27;$.age&#x27;, 20)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;ä¿®æ”¹ç”¨æˆ·çš„çˆ±å¥½&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; UPDATE `user` SET `info` = JSON_ARRAY_APPEND(`info`, &#x27;$.hobby&#x27;, &#x27;badminton&#x27;) WHERE `name` = &#x27;lilei&#x27;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&amp;gt; SELECT JSON_VALUE(`info`, &#x27;$.hobby&#x27;) as hobby FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+-----------------------------------------+
| hobby                                   |
+-----------------------------------------+
| [&quot;basketball&quot;, &quot;football&quot;, &quot;badminton&quot;] |
+-----------------------------------------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;JSON_ARRAY_APPEND&lt;/code&gt; åœ¨å¯¹æ•°ç»„è¿›è¡Œæ“ä½œçš„æ—¶å€™è¿˜æ˜¯è¦æ¯” &lt;code&gt;JSON_INSERT&lt;/code&gt; ä¹‹ç±»çš„æ–¹ä¾¿çš„ï¼Œèµ·ç ä½ ä¸éœ€è¦çŸ¥é“æ•°ç»„çš„é•¿åº¦ã€‚å¯¹åº”åˆ° &lt;code&gt;think-model&lt;/code&gt; çš„å†™æ³•ä¸º&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;lilei&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;exp&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;JSON_ARRAY_APPEND(info, &#x27;$.hobby&#x27;, &#x27;badminton&#x27;)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;åˆ é™¤ç”¨æˆ·çš„åˆ†æ•°&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; UPDATE `user` SET `info` = JSON_REMOVE(`info`, &#x27;$.score[0]&#x27;) WHERE `name` = &#x27;lilei&#x27;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&amp;gt; SELECT `name`, JSON_VALUE(`info`, &#x27;$.score&#x27;) as score FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+-------+-----------+
| name  | score     |
+-------+-----------+
| lilei | [90, 100] |
+-------+-----------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ é™¤è¿™å—å’Œä¹‹å‰ä¿®æ”¹æ“ä½œç±»ä¼¼ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤ªå¤šéœ€è¦è¯´çš„ã€‚ä½†æ˜¯å¯¹æ•°ç»„è¿›è¡Œæ“ä½œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯èƒ½å°±æ˜¯æƒ³åˆ å€¼ï¼Œä½†æ˜¯å´ä¸çŸ¥é“è¿™ä¸ªå€¼çš„ Path æ˜¯ä»€ä¹ˆã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦åˆ©ç”¨ä¹‹å‰è®²åˆ°çš„ &lt;code&gt;JSON_SEARCH()&lt;/code&gt; æ–¹æ³•ï¼Œå®ƒæ˜¯æ ¹æ®å€¼å»æŸ¥æ‰¾è·¯å¾„çš„ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬è¦åˆ é™¤ lilei å…´è¶£ä¸­çš„ badminton é€‰é¡¹å¯ä»¥è¿™ä¹ˆå†™ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; UPDATE `user` SET `info` = JSON_REMOVE(`info`, JSON_UNQUOTE(JSON_SEARCH(`info`, &#x27;one&#x27;, &#x27;badminton&#x27;))) WHERE `name` = &#x27;lilei&#x27;;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&amp;gt; SELECT JSON_VALUE(`info`, &#x27;$.hobby&#x27;) as hobby FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+----------------------------+
| hobby                      |
+----------------------------+
| [&quot;basketball&quot;, &quot;football&quot;] |
+----------------------------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„ç”±äº &lt;code&gt;JSON_SEARCH&lt;/code&gt; ä¸ä¼šåšç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥åŒ¹é…å‡ºæ¥çš„è·¯å¾„å­—ç¬¦ä¸²éœ€è¦è¿›è¡Œ &lt;code&gt;JSON_UNQUOTE()&lt;/code&gt; æ“ä½œã€‚å¦å¤–è¿˜æœ‰éå¸¸é‡è¦çš„ä¸€ç‚¹æ˜¯ &lt;code&gt;JSON_SEARCH&lt;/code&gt; &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/44056978/how-do-i-use-json-search-to-find-the-path-of-a-number-in-a-mysql-json-array&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;æ— æ³•å¯¹æ•°å€¼ç±»å‹æ•°æ®è¿›è¡ŒæŸ¥æ‰¾&lt;/a&gt;ï¼Œä¹Ÿä¸çŸ¥é“è¿™ä¸ªæ˜¯ Bug è¿˜æ˜¯ Featureã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘æ²¡æœ‰ä½¿ç”¨ &lt;code&gt;score&lt;/code&gt; æ¥è¿›è¡Œä¸¾ä¾‹è€Œæ˜¯æ¢æˆäº† &lt;code&gt;hobby&lt;/code&gt; çš„åŸå› ã€‚å¦‚æœæ•°å€¼ç±»å‹çš„è¯ç›®å‰åªèƒ½å–å‡ºæ¥åœ¨ä»£ç ä¸­å¤„ç†äº†ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;mysql&amp;gt; SELECT JSON_VALUE(`info`, &#x27;$.score&#x27;) FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+-------------------------------+
| JSON_VALUE(`info`, &#x27;$.score&#x27;) |
+-------------------------------+
| [90, 100]                     |
+-------------------------------+
1 row in set (0.00 sec)

mysql&amp;gt; SELECT JSON_SEARCH(`info`, &#x27;one&#x27;, 90, null, &#x27;$.score&#x27;) FROM `user` WHERE `name` = &#x27;lilei&#x27;;
+-------------------------------------------------+
| JSON_SEARCH(`info`, &#x27;one&#x27;, 90, null, &#x27;$.score&#x27;) |
+-------------------------------------------------+
| NULL                                            |
+-------------------------------------------------+
1 row in set (0.00 sec)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šå¯¹åº”åˆ° &lt;code&gt;think-model&lt;/code&gt; çš„å†™æ³•ä¸º&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//user.js
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;think&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Controller&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;indexAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;user&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// åˆ é™¤åˆ†æ•°
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;    &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;lilei&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;exp&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;JSON_REMOVE(info, &#x27;$.score[0]&#x27;)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// åˆ é™¤å…´è¶£
&lt;/span&gt;&lt;span class=&quot;c1&quot;/&gt;    &lt;span class=&quot;nx&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;userModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#x27;lilei&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#x27;exp&#x27;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;JSON_REMOVE(`info`, JSON_UNQUOTE(JSON_SEARCH(`info`, &#x27;one&#x27;, &#x27;badminton&#x27;)))&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;åè®°&lt;/h2&gt;&lt;p&gt;ç”±äºæœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œæœ‰ä¸€å †æ•°æ®ï¼Œè¦è®°å½•è¿™å †æ•°æ®çš„æ’åºæƒ…å†µï¼Œæ–¹ä¾¿æ ¹æ®æ’åºè¿›è¡Œè¾“å‡ºã€‚ä¸€èˆ¬æƒ…å†µä¸‹è‚¯å®šæ˜¯ç»™æ¯æ¡æ•°æ®å¢åŠ ä¸€ä¸ª &lt;code&gt;order&lt;/code&gt; å­—æ®µæ¥è®°å½•è¯¥æ¡æ•°æ®çš„æ’åºæƒ…å†µã€‚ä½†æ˜¯ç”±äºæœ‰ç€æ‰¹é‡æ“ä½œï¼Œåœ¨è¿™ç§æ—¶å€™ä½¿ç”¨å•å­—æ®µå»å­˜å‚¨ä¼šæ˜¾å¾—ç‰¹åˆ«éº»çƒ¦ã€‚åœ¨æœåŠ¡ç«¯åŒäº‹çš„å»ºè®®ä¸‹ï¼Œæˆ‘é‡‡å–äº†ä½¿ç”¨ JSON å­—æ®µå­˜å‚¨æ•°ç»„çš„æƒ…å†µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;ä¹Ÿå› ä¸ºè¿™æ ·äº†è§£äº†ä¸€ä¸‹ MySQL å¯¹ JSON çš„æ”¯æŒæƒ…å†µï¼ŒåŒæ—¶å°† &lt;code&gt;think-model&lt;/code&gt; åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œå¯¹ JSON æ•°æ®ç±»å‹å¢åŠ äº†æ”¯æŒã€‚ç”±äºå¤§éƒ¨åˆ† JSON æ“ä½œéœ€è¦é€šè¿‡å†…ç½®çš„å‡½æ•°æ¥æ“ä½œï¼Œè¿™ä¸ªæœ¬èº«æ˜¯å¯ä»¥é€šè¿‡ EXP æ¡ä»¶è¡¨è¾¾å¼æ¥å®Œæˆçš„ã€‚æ‰€ä»¥åªéœ€è¦å¯¹ JSON æ•°æ®çš„æ·»åŠ å’ŒæŸ¥è¯¢åšå¥½ä¼˜åŒ–å°±å¯ä»¥äº†ã€‚&lt;/p&gt;&lt;p&gt;æ•´ä½“æ¥çœ‹ï¼Œé…åˆæä¾›çš„ JSON æ“ä½œå‡½æ•°ï¼ŒMySQL å¯¹ JSON çš„æ”¯æŒå®Œæˆä¸€äº›æ—¥å¸¸çš„éœ€æ±‚è¿˜æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚é™¤äº†ä½œä¸º WHERE æ¡ä»¶ä»¥åŠæŸ¥è¯¢å­—æ®µä¹‹å¤–ï¼Œå…¶å®ƒçš„ &lt;code&gt;ORDER&lt;/code&gt;, &lt;code&gt;GROUP&lt;/code&gt;, &lt;code&gt;JOIN&lt;/code&gt; ç­‰æ“ä½œä¹Ÿéƒ½æ˜¯æ”¯æŒ &lt;code&gt;JSON&lt;/code&gt; æ•°æ®çš„ã€‚&lt;/p&gt;&lt;p&gt;ä¸è¿‡å¯¹æ¯” MongoDB è¿™ç§å¤©ç”Ÿæ”¯æŒ JSON çš„è¯ï¼Œåœ¨æ“ä½œæ€§ä¸Šè¿˜æ˜¯è¦éº»çƒ¦è®¸å¤šã€‚ç‰¹åˆ«æ˜¯åœ¨ç±»å‹è½¬æ¢è¿™å—ï¼Œä½¿ç”¨ä¸€æ®µæ—¶é—´åå‘ç°éå¸¸å®¹æ˜“æ‰å‘ã€‚ä»€ä¹ˆæ—¶å€™ä¼šå¸¦å¼•å·ï¼Œä»€ä¹ˆæ—¶å€™ä¼šä¸å¸¦å¼•å·ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å¼•å·ï¼Œä»€ä¹ˆæ—¶å€™ä¸éœ€è¦å¼•å·ï¼Œè¿™äº›éƒ½å®¹æ˜“è®©æ–°æ‰‹å‘æ†·ã€‚å¦å¤– &lt;code&gt;JSON_SEARCH()&lt;/code&gt; ä¸æ”¯æŒæ•°å­—æŸ¥æ‰¾è¿™ä¸ªä¹Ÿæ˜¯ä¸€ä¸ªä¸å°çš„å‘äº†ã€‚&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c1037b1c92165ba26a74541dc6d48023</guid>
<title>[æ¨è] é¡¹ç›®ç®¡ç†æ ‡å‡†æ¨¡æ¿</title>
<link>https://toutiao.io/k/aud21gw</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;post-content&quot;&gt;&lt;p&gt;ä¹‹å‰å†™äº†ä¸€ç¯‡&lt;a href=&quot;https://www.rowkey.cn/blog/2020/04/25/tech-leader-manage/&quot;&gt;ã€ŠæŠ€æœ¯ç®¡ç†æ ‡å‡†æ¨¡æ¿ã€‹&lt;/a&gt;ï¼Œå…¶ä¸­é¡¹ç›®ç®¡ç†éƒ¨åˆ†å¹¶æ²¡æœ‰å…·ä½“æ·±å…¥ï¼Œè€Œè¿™ä¸€æŠ€èƒ½ä¸ä»…ä»…æ˜¯å¯¹äºæŠ€æœ¯Leaderçš„è¦æ±‚ï¼Œä»æˆ‘çš„ç»éªŒçœ‹æ¥ï¼Œåªè¦æ˜¯ç¨‹åºå‘˜ï¼Œå…·æœ‰é¡¹ç›®ç®¡ç†èƒ½åŠ›éƒ½æ˜¯å¦‚è™æ·»ç¿¼çš„ï¼Œå³ä½¿ä½ èµ°çš„æ˜¯ä¸“ä¸šè·¯çº¿ã€‚æœ¬æ–‡å³åŸºäºè‡ªå·±çš„ç»éªŒï¼Œä»é¡¹ç›®çš„å¯åŠ¨å’Œè¿­ä»£é˜¶æ®µæ€»ç»“äº†æ•æ·é¡¹ç›®ç®¡ç†çš„ä¸€äº›æ ‡å‡†åŠ¨ä½œã€‚&lt;/p&gt;




&lt;h2&gt;å¯åŠ¨é˜¶æ®µ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ç›¸å…³å¹²ç³»äººæ²Ÿé€šï¼ŒåŒæ­¥é¡¹ç›®èƒŒæ™¯ã€ä¸šåŠ¡ä»·å€¼ç­‰&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¯åŠ¨ä¼šè®®ï¼šå¬é›†ç›¸å…³å¹²ç³»äººï¼Œæ˜ç¡®ä¸šåŠ¡ç›¸å…³ä¿¡æ¯ï¼Œç¡®å®šç›¸å…³æµç¨‹åˆ¶åº¦ç­‰&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;éœ€æ±‚æ”¶é›†å’Œåˆ†æ-&amp;gt;&lt;strong&gt;æ€»ä½“éœ€æ±‚æ–‡æ¡£&lt;/strong&gt;ï¼Œæ¦‚æ‹¬æ€§çš„åŠŸèƒ½ä¸éåŠŸèƒ½éœ€æ±‚åˆ—è¡¨&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆæ­¥çš„äº§å“è§„åˆ’-&amp;gt;&lt;strong&gt;æ¯ä¸€è½®è¿­ä»£çš„éœ€æ±‚åˆ—è¡¨ã€å‘å¸ƒæ—¶é—´&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åˆ›å»ºé¡¹ç›®åŸºç¡€è®¾æ–½-&amp;gt;&lt;strong&gt;å¯æŒç»­äº¤ä»˜åˆ°æµ‹è¯•ç¯å¢ƒçš„åŸºç¡€é¡¹ç›®&lt;/strong&gt;ï¼ŒåŒ…æ‹¬å„ä¸ªç«¯çš„ä»£ç åº“ã€åˆ°æµ‹è¯•ç¯å¢ƒçš„æµæ°´çº¿ç­‰ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;è¿­ä»£é˜¶æ®µ&lt;/h2&gt;

&lt;p&gt;ä¸¤å‘¨ä¸ºä¸€è¿­ä»£ï¼ŒåŒ…æ‹¬éœ€æ±‚ã€è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ã€å‘å¸ƒã€‚å…³é”®ç‚¹åœ¨äºéœ€æ±‚çš„æ‹†åˆ†ã€ä¼˜å…ˆçº§ä»¥åŠå¹¶è¡ŒåŒ–ã€‚&lt;/p&gt;

&lt;h3&gt;1. éœ€æ±‚è¯„å®¡&lt;/h3&gt;

&lt;p&gt;å¯¹æœ¬è½®è¿­ä»£çš„éœ€æ±‚å°½å¿ƒè¯„å®¡ç¡®è®¤ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å‰ç½®æ¡ä»¶&lt;/strong&gt;ï¼šäº§å“ç»ç†å¯¹æ­¤è½®è¿­ä»£è¿›è¡Œéœ€æ±‚ç¡®è®¤ï¼Œäº§å‡ºéœ€æ±‚æ¡ç›®ï¼ŒæŒ‰&lt;strong&gt;ä¼˜å…ˆçº§&lt;/strong&gt;æ’åˆ—ï¼›éœ€æ±‚éœ€è¦æ‹†çš„è¶³å¤Ÿå°ï¼ŒæŠŠå¤§éœ€æ±‚æ‹†æˆä¸€ä¸ªä¸ª&lt;strong&gt;èƒ½å¤Ÿç‹¬ç«‹å¼€å‘æµ‹è¯•å‘å¸ƒ&lt;/strong&gt;çš„å°éœ€æ±‚&lt;/p&gt;

&lt;h3&gt;2. å·¥ä½œè§„åˆ’&lt;/h3&gt;

&lt;p&gt;æ ¹æ®æœ¬è½®è¿­ä»£éœ€æ±‚åšWBSä»»åŠ¡åˆ†è§£&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;WBSå·¥ä½œé¡¹åˆ†è§£: ç”˜ç‰¹å›¾&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡Œç¨‹ç¢‘ç»“ç‚¹: è¡¨æ ¼æˆ–è€…é‡Œç¨‹ç¢‘å›¾&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é£é™©ç®¡ç†ï¼šé£é™©ç‚¹é¢„ä¼°ã€ä¸¥é‡ç¨‹åº¦ã€å¯èƒ½æ€§ã€åº”å¯¹æªæ–½&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;3. è®¾è®¡/æŠ€æœ¯è¯„å®¡&lt;/h3&gt;

&lt;p&gt;åˆ†åˆ«å¯¹äº¤äº’è®¾è®¡å’ŒæŠ€æœ¯è®¾è®¡è¿›è¡Œè¯„å®¡&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å‰ç½®æ¡ä»¶&lt;/strong&gt;ï¼šè®¾è®¡å¸ˆéœ€è¦è¾“å‡ºè®¾è®¡å›¾ï¼›æŠ€æœ¯éƒ¨åˆ†åšæ¦‚è¦è®¾è®¡å’Œç³»ç»Ÿè®¾è®¡ï¼Œéšç€æ¯ä¸€è½®è¿­ä»£è¿›è¡Œæ›´æ–°ç»´æŠ¤&lt;/p&gt;

&lt;h3&gt;4. æµ‹è¯•ç”¨ä¾‹è¯„å®¡&lt;/h3&gt;

&lt;p&gt;ç”±QAå®‰æ’ï¼Œä¼šå‰éœ€è¦æå‰å°†æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£å‘ç»™äº§å“ç»ç†ä¸ç ”å‘ï¼Œæå‰æ ‡æ³¨æœ‰ç–‘é—®çš„ç”¨ä¾‹ã€‚&lt;/p&gt;

&lt;h3&gt;5. å¼€å‘ã€æµ‹è¯•è¿‡ç¨‹çš„ç›‘æ§&lt;/h3&gt;

&lt;p&gt;æŒç»­äº¤ä»˜ï¼šå¼€å‘å’Œè¿­ä»£æµ‹è¯•ï¼Œéœ€æ±‚å¼€å‘å®Œæˆåå³æµ‹è¯•å¹¶è¿›è¡Œç¼ºé™·è·Ÿè¸ªã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¼šè®®&lt;/strong&gt;&lt;/p&gt;




&lt;p&gt;&lt;strong&gt;é¡¹ç›®å‘¨æŠ¥&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ±‡æ€»é¡¹ç›®æ€»ä½“çŠ¶å†µï¼Œå›ç­”ä¸‰ä¸ªé—®é¢˜&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é¡¹ç›®çš„æ•´ä½“è¿›å±•çŠ¶æ€åˆ°åº•å¦‚ä½•ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é£é™©å¯æ§å—ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç›®æ ‡è¾¾æˆæœ‰æ²¡æœ‰é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;6. ç‰ˆæœ¬å…¨é‡æµ‹è¯•&lt;/h3&gt;

&lt;p&gt;å¯¹æ‰€æœ‰å·²ç»å¼€å‘å®Œçš„åŠŸèƒ½è¿›è¡Œäº¤å‰æµ‹è¯•ã€å…¨é‡æµ‹è¯•ã€åŸ‹ç‚¹æµ‹è¯•ã€å›å½’æµ‹è¯•ã€ç¬¬ä¸‰æ–¹äº‘æµ‹ã€‚&lt;/p&gt;

&lt;h3&gt;7. éªŒåŒ…å‘å¸ƒ&lt;/h3&gt;

&lt;p&gt;æ­¤è¿­ä»£æ‰€æœ‰åŠŸèƒ½å¼€å‘æµ‹è¯•å®Œæˆåï¼Œæäº¤å®¡æ ¸æµç¨‹ï¼Œå„æµç¨‹å®¡æ ¸äººéªŒæ”¶é€šè¿‡åå‘å¸ƒã€‚&lt;/p&gt;

&lt;h3&gt;8. å¤ç›˜&lt;/h3&gt;

&lt;p&gt;é¡¹ç›®å¤ç›˜ä¼šï¼šæœ‰æ„è¯†åœ°å‘è¿‡å»çš„è¡Œä¸ºç»éªŒå­¦ä¹ &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;å›¢é˜Ÿåšå¯¹äº†å“ªäº›äº‹ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åšé”™äº†å“ªäº›äº‹ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å†æ¥ä¸€æ¬¡ï¼Œå¦‚ä½•åšå¾—æ›´å¥½ï¼Ÿ&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;/div&gt;



  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a720392ac0888efce9116e50045487e0</guid>
<title>[æ¨è] ã€Šä¸€å¹´é¡¶åå¹´ã€‹å¹²è´§è¯»ä¹¦ç¬”è®°</title>
<link>https://toutiao.io/k/okqtla6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œè€…å½ªæ‚ä¸€åªçŒ«æ˜¯èŒƒç™»è¯»ä¹¦é¦–å¸­ç¤¾ç¾¤é¡¾é—®ï¼Œä¸€å¤©çš„å’¨è¯¢è´¹20ä¸‡å…ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹¦éå¸¸è–„ï¼Œä¸€å…±170+ç¯‡æ–‡ç« ï¼Œæ¯ç¯‡éƒ½å¾ˆçŸ­ï¼Œæˆ‘èŠ±äº†2ä¸ªå¤šå°æ—¶å°±è¯»å®Œäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸‹çš„ä½œè€…è§‚ç‚¹ï¼Œéå¸¸æœ‰å…±é¸£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‘˜æŠ„ä¸‹æ¥ï¼Œå’Œå¤§å®¶å…±å‹‰ï¼Œä¸€èµ·ç²¾è¿›ï¼&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1ã€æ—¶é—´æ›´å°‘ï¼Œä¸ºä½•æ›´å¥½ï¼&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹å®ä¸Šï¼Œé™¤äº†å°‘æ•°å¿…é¡»èŠ±å¾ˆå¤šæ—¶é—´æ‰èƒ½åšå¥½çš„äº‹æƒ…å¤–ï¼Œå¯¹äºä¸€èˆ¬çš„äº‹æƒ…ï¼ŒçœŸæ²¡å¿…è¦ç»™è‡ªå·±ç•™å¤ªå¤šæ—¶é—´ï¼Œå®Œå…¨å¯ä»¥æŠŠæˆªæ­¢æ—¶é—´æå‰ï¼Œç”šè‡³å¤§å¤§æå‰ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2ã€æ—¶é—´æŠ•èµ„è¯„ä¼°&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšè¿™ä»¶äº‹ï¼Œå…¶å®å°±æ˜¯å›ç­”äº”ä¸ªé—®é¢˜ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸€ï¼‰ä»Šå¤©éƒ½åšäº†ä»€ä¹ˆï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆäºŒï¼‰æ‰€åšçš„äº‹æƒ…åˆ†åˆ«æœ‰ä»€ä¹ˆäº§å‡ºï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸‰ï¼‰åšè¿™äº›äº‹æƒ…ï¼Œåˆ†åˆ«èŠ±äº†å¤šå°‘æ—¶é—´ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆå››ï¼‰å“ªäº›äº‹æƒ…æ˜¯åº”è¯¥åšçš„ï¼Œå“ªäº›äº‹æƒ…æ˜¯ä¸åº”è¯¥åšçš„ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆäº”ï¼‰åœ¨æ—¶é—´èŠ±è´¹ä¸Šï¼Œè¿˜æœ‰å“ªäº›æ–¹é¢éœ€è¦æ”¹è¿›ï¼Ÿ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3ã€ç¨»ç››å’Œå¤«çš„å…­é¡¹ç²¾è¿›&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸€ï¼‰ä»˜å‡ºä¸äºšäºä»»ä½•äººçš„åŠªåŠ›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆäºŒï¼‰è¦è°¦è™šï¼Œä¸è¦éª„å‚²&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸‰ï¼‰è¦æ¯å¤©åçœ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆå››ï¼‰æ´»ç€ï¼Œå°±è¦æ„Ÿè°¢&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆäº”ï¼‰ç§¯å–„è¡Œï¼Œæ€åˆ©ä»–&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆå…­ï¼‰ä¸è¦æœ‰æ„Ÿæ€§çš„çƒ¦æ¼&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4ã€ä¸ºä»€ä¹ˆè¦å¸®åŠ©ä»–äºº&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªå†…å¿ƒèƒ½é‡ä¸è¶³çš„äººï¼Œå¾€å¾€é€šè¿‡ç»™ä»–äººæä¾›å¸®åŠ©ï¼Œè®©è‡ªå·±çš„å†…å¿ƒå˜å¾—æ›´é˜³å…‰ï¼Œä»è€Œæ‹¥æœ‰æ›´å¥½çš„çŠ¶æ€ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;5ã€çˆ±å¥½&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡³å°‘åŸ¹å…»ä¸€é¡¹&lt;strong&gt;çˆ±å¥½&lt;/strong&gt;ï¼Œåšè‡ªå·±çœŸæ­£çƒ­çˆ±çš„äº‹æƒ…ï¼Œä½ ä¼šæ„Ÿåˆ°å¾ˆå¿«ä¹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;6ã€ä¸ºä»€ä¹ˆè¦å°½æ—©å®æˆ˜ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°½æ—©è¿›å…¥å®æˆ˜ï¼Œå¹¶ä¸æ˜¯æ€¥äºæ±‚æˆï¼Œè€Œæ˜¯è®©è‡ªå·±åœ¨è¡ŒåŠ¨ä¸­å¾—åˆ°&lt;strong&gt;åé¦ˆ&lt;/strong&gt;ï¼Œè®©è‡ªå·±å­¦çš„æ›´å¥½ï¼Œæ›´èƒ½è§£å†³å®é™…é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;7ã€å¦‚ä½•é¢å¯¹å„ç§é”™è¯¯&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœçŠ¯é”™äº†ï¼Œè¯·è®°ä½ï¼Œé”™äº†å°±æ˜¯é”™äº†ï¼Œä½ è¦åšçš„ä¸æ˜¯çº ç»“å’Œç‹¡è¾©ï¼Œè€Œæ˜¯æƒ³åŠæ³•å»å¼¥è¡¥è¿‡å¤±ï¼Œå¹¶è®©è‡ªå·±å˜å¾—æ›´å¼ºï¼Œæˆä¸ºçœŸæ­£çš„é«˜æ‰‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;8ã€ä¸ºä½•è¦è¯»é€å‡ æœ¬ä¹¦ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä½ çš„ä¸“ä¸šé¢†åŸŸï¼Œä¸€å®šæœ‰éå¸¸ç»å…¸ã€éå¸¸å€¼å¾—å»è¯»çš„ä¹¦ç±ã€‚ä½ è¦åå¤å»å•ƒè¿™äº›ä¹¦ï¼Œå¹¶åå¤åœ¨å®è·µä¸­åº”ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šåˆ›æ–°ï¼Œæ¯”çº¯é è‡ªå·±æ‘¸ç´¢ï¼Œæ›´é«˜æ•ˆï¼Œæ›´æœ‰ä¼˜åŠ¿ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;9ã€è¯»ä¹¦ä¸€å®šè¦è®°ä½å—ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨ï¼Œæ‰æ˜¯æ›´å¥½çš„è¯»ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸€ï¼‰é‡å¤è¯»ï¼Œå¤šè¯»å‡ éã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆäºŒï¼‰è¯»çš„è¿‡ç¨‹ä¸­æ€è€ƒæ€ä¹ˆå»ç”¨ï¼Œè¿˜è¦çœŸçš„å»ç”¨ï¼Œä¸”åŠªåŠ›åšå‡ºæˆç»©ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ï¼ˆä¸‰ï¼‰åˆ†äº«ç»™æ›´å¤šäººã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;10ã€è¦ä¸è¦å†™è¯»ä¹¦ç¬”è®°ï¼Ÿ&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ˜¯å†™è·µè¡Œæ¸…å•ï¼Œä½ ä¸ä»…è¦æ€è€ƒå“ªäº›å†…å®¹æ˜¯çœŸæ­£è‡ªå·±ç”¨å¾—ä¸Šçš„ï¼Œè¿˜è¦å»ç¢ç£¨è‡ªå·±èƒ½æ€ä¹ˆç”¨ï¼Œæ¥ä¸‹æ¥è¯¥æ€ä¹ˆåšã€‚æ•ˆæœè‡ªç„¶è¦å¥½å¾ˆå¤šã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;11ã€å¦‚ä½•æ‰èƒ½å—æ¬¢è¿&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çœŸèƒ½åšåˆ°â€œç®€å•æ˜“æ‡‚ã€éå¸¸å¥½ç”¨ã€å……æ»¡åŠ›é‡â€ï¼Œä½ çš„è¯¾è‚¯å®šä¼šæ›´å—æ¬¢è¿ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;12ã€ä¸ºä½•åˆ«æŠŠé¡¾å®¢å½“çˆ·&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ è¦è®°ä½ï¼Œä½ å’Œé¡¾å®¢çš„å…³ç³»ï¼Œæœ€èµ·ç æ˜¯å¹³ç­‰çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ æ˜¯å»å¸®åŠ©é¡¾å®¢çš„ï¼Œå¦‚æœä»–ä¹°äº†ä½ çš„äº§å“ï¼Œä»–çš„é—®é¢˜å°†å¾—åˆ°è§£å†³ï¼Œä»–çš„éœ€æ±‚å°†è¢«æ»¡è¶³ï¼Œç”šè‡³æ˜¯è¢«è¶…é¢„æœŸæ»¡è¶³ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;13ã€ä¸ºä»€ä¹ˆè¦æˆä¸ºä¸“å®¶&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ åº”è¯¥æ‰¾åˆ°ä¸€ä¸ª&lt;strong&gt;ç»†åˆ†é¢†åŸŸ&lt;/strong&gt;ï¼Œé€šè¿‡å­¦ä¹ ã€å®è·µã€åˆ†äº«ï¼ŒåŠªåŠ›æˆä¸ºè¿™ä¸ªé¢†åŸŸçš„ä¸“å®¶ï¼Œä½ å°†å¾—åˆ°æ›´å¤šæœºä¼šï¼Œä½ çš„æ—¶é—´ä¹Ÿä¼šæ›´å€¼é’±ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;èµ°ä¸“å®¶è·¯çº¿ï¼Œä¼šè®©ä½ æ›´å®¹æ˜“è„±é¢–è€Œå‡ºã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;14ã€ä¿æŒæ¸´æœ›&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æ¸´æœ›æˆå¤§äº‹ï¼Œè€Œä¸”æ˜¯æŒç»­&lt;strong&gt;æ¸´æœ›&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;15ã€å¸¸è¢«ç¢¾å‹&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘æœ‰ä¸€ä¸ªä¹ æƒ¯ï¼Œå°±æ˜¯åšæŒå»æ‰¾èƒ½åœ¨æŸæ–¹é¢ç¢¾å‹æˆ‘çš„äººï¼Œè·Ÿä»–äº¤æµï¼Œæ„Ÿå—å·®è·ï¼Œå‘ä»–å­¦ä¹ ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ æƒ³è¦æŒç»­é«˜æ•ˆåœ°æˆé•¿ï¼Œä½ å°±å¿…é¡»ä¸æ–­èµ°å‡º&lt;strong&gt;èˆ’é€‚åŒº&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;16ã€è¾¹å­¦è¾¹å¸®&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦æƒ³å­¦å¾—æ›´å¥½ï¼Œå‘å±•çš„æ›´å¿«ï¼Œæˆ‘ä»¬ä¸ä»…è¦ä¸æ–­â€œæƒ³ä¸Šå­¦â€â€”â€”å‘å‰å®³çš„äººå­¦ä¹ ï¼Œè¿˜è¦ä¸æ–­â€œå‘ä¸‹å¸®â€â€”â€”å¸®åŠ©éœ€è¦æˆ‘ä»¬çš„äººã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;17ã€æ—¥æ‹±ä¸€å’&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘åšä¿¡ï¼Œå°±ç®—åº•å­ä¸å¦‚äººï¼Œåªè¦ä¿æŒæ¯æ—¥ç²¾è¿›ï¼Œæ€»æœ‰ä¸€å¤©æˆ‘ä¼šè„±é¢–è€Œå‡ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä¹Ÿå¸Œæœ›è‡ªå·±èƒ½æˆä¸ºä¸€ä¸ªå‰å®³çš„äººï¼Œä¸å¦¨æ‰¾ä¸€ä»¶å€¼å¾—åšæŒçš„å°äº‹ï¼Œæ¯å¤©éƒ½åšã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ç”¨ç®¡ä»€ä¹ˆç»“æœï¼Œå› ä¸ºç»“æœä¼šéšæ—¶é—´çš„ç§¯ç´¯è€Œæ˜¾ç°ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;18ã€è§£å†³ä¸€åˆ‡é—®é¢˜çš„å…³é”®&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è®©è‡ªå·±å˜å¥½ï¼Œæ˜¯è§£å†³ä¸€åˆ‡é—®é¢˜çš„å…³é”®ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å°ç»“&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯»ä¹¦ç¬”è®°æ‘˜æŠ„æ—¥æœŸæ˜¯2020å¹´3æœˆ29æ—¥ã€‚ä»Šå¤©å†è¯»ä¸€éï¼Œè¿˜æ˜¯æ„Ÿè§‰èƒ½é‡æ»¡æ»¡ï¼Œå¾ˆå—ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°¤å…¶ï¼šâ€œå‘ä¸Šå­¦ã€å‘ä¸‹å¸®â€œæ˜¯æ–°æ—¶ä»£ä¸ªäººå­¦ä¹ ã€ç²¾è¿›æŠ€æœ¯ã€æå‡è‡ªå·±çš„éå¸¸é‡è¦çš„æ–¹æ³•è®ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘ä¸Šå­¦â€”â€”å¼€é˜”è§†é‡å’Œçœ¼ç•Œï¼Œçœ‹åˆ°è‡ªå·±çš„â€œåœˆå±‚â€çœ‹ä¸åˆ°çš„ä¸œè¥¿ï¼›&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘ä¸‹å¸®â€”â€”å¤¯å®åŸºç¡€ã€åŠ æ·±è®¤çŸ¥ï¼Œå¸®åŠ©åˆ«äººçš„åŒæ—¶æå‡è‡ªå·±ã€‚&lt;/p&gt;&lt;hr/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;æ¨èï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDY1MTA3OQ==&amp;amp;mid=2247484469&amp;amp;idx=1&amp;amp;sn=1e2b354e6fd031d041f888ad6b1c0689&amp;amp;chksm=eaa82c1ddddfa50b39883162eba2e493bcde3f3e4e866bfd1a1f8c6b67a6afad9529b483313d&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å‡çº§è¿™åç‚¹è®¤çŸ¥ï¼Œä½ å°±æ˜¯å¤§ä½¬ï¼&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDY1MTA3OQ==&amp;amp;mid=2247484343&amp;amp;idx=1&amp;amp;sn=858e47e8aa649acebb60a800fc199aff&amp;amp;chksm=eaa82b9fdddfa28948f852d83ad861207ddf24d3270c9155224e00850d779305aacb186d5905&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;è®¤çŸ¥å‡çº§â€”â€”ä¸åšå¼€å§‹çˆ±å¥½è€…ï¼&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-backh=&quot;204&quot; data-backw=&quot;558&quot; data-ratio=&quot;0.3649122807017544&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mjl8GCpsL9b9Xcyef7ctwTotdPcicKx6E5CJ3iaWUjiciaBdd0ricW2ekneVvuEEpC7Lybu0Jedh0onEWia9RUzZ2g7g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1710&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Â &lt;span&gt;å¯èƒ½&lt;/span&gt;&lt;span&gt;æ˜¯ä¸­å›½äººæ•°æœ€å¤šçš„éå®˜æ–¹ Elastic å…¬ä¼—å·ï¼&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot;&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;Long-press QR code to transfer me a reward&lt;/p&gt;
                                                                &lt;p class=&quot;reward_tips&quot;/&gt;
                                &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;/&gt;&lt;/span&gt;
                                &lt;p class=&quot;tips_global&quot;&gt;As required by Apple&#x27;s new policy, the Reward feature has been disabled on WeChat for iOS. You can still reward an Official Account by transferring money via QR code.&lt;/p&gt;
                            &lt;/div&gt;
                                                                            
                              
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>46d74f60aa7fc423e19aa5847e9408a3</guid>
<title>[æ¨è] 24 å¼ å›¾å¸¦ä½ å½»åº•ç†è§£ Java ä¸­çš„ 21 ç§é”</title>
<link>https://toutiao.io/k/o0417c6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬ç¯‡ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.2268041237113403&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoptQAumSKV1pb0Vn1qKI1BOzVVh2CGkVjCRMFtJxeclTzxgU8I67ctQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;582&quot;/&gt;&lt;figcaption&gt;æœ¬ç¯‡ä¸»è¦å†…å®¹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬ç¯‡æ–‡ç« å·²æ”¶çº³åˆ°æˆ‘çš„Javaåœ¨çº¿æ–‡æ¡£ã€ Github&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘çš„SpringCloudå®æˆ˜é¡¹ç›®æŒç»­æ›´æ–°ä¸­&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¸®ä½ æ€»ç»“å¥½çš„é”ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;åºå·&lt;/th&gt;&lt;th&gt;é”åç§°&lt;/th&gt;&lt;th&gt;åº”ç”¨&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;ä¹è§‚é”&lt;/td&gt;&lt;td&gt;CAS&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;æ‚²è§‚é”&lt;/td&gt;&lt;td&gt;synchronizedã€vectorã€hashtable&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;è‡ªæ—‹é”&lt;/td&gt;&lt;td&gt;CAS&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;å¯é‡å…¥é”&lt;/td&gt;&lt;td&gt;synchronizedã€Reentrantlockã€Lock&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;è¯»å†™é”&lt;/td&gt;&lt;td&gt;ReentrantReadWriteLockï¼ŒCopyOnWriteArrayListã€CopyOnWriteArraySet&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;å…¬å¹³é”&lt;/td&gt;&lt;td&gt;Reentrantlock(true)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;éå…¬å¹³é”&lt;/td&gt;&lt;td&gt;synchronizedã€reentrantlock(false)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;å…±äº«é”&lt;/td&gt;&lt;td&gt;ReentrantReadWriteLockä¸­è¯»é”&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;ç‹¬å é”&lt;/td&gt;&lt;td&gt;synchronizedã€vectorã€hashtableã€ReentrantReadWriteLockä¸­å†™é”&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;é‡é‡çº§é”&lt;/td&gt;&lt;td&gt;synchronized&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;è½»é‡çº§é”&lt;/td&gt;&lt;td&gt;é”ä¼˜åŒ–æŠ€æœ¯&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;åå‘é”&lt;/td&gt;&lt;td&gt;é”ä¼˜åŒ–æŠ€æœ¯&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;13&lt;/td&gt;&lt;td&gt;åˆ†æ®µé”&lt;/td&gt;&lt;td&gt;concurrentHashMap&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;14&lt;/td&gt;&lt;td&gt;äº’æ–¥é”&lt;/td&gt;&lt;td&gt;synchronized&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;åŒæ­¥é”&lt;/td&gt;&lt;td&gt;synchronized&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;æ­»é”&lt;/td&gt;&lt;td&gt;ç›¸äº’è¯·æ±‚å¯¹æ–¹çš„èµ„æº&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;é”ç²—åŒ–&lt;/td&gt;&lt;td&gt;é”ä¼˜åŒ–æŠ€æœ¯&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;18&lt;/td&gt;&lt;td&gt;é”æ¶ˆé™¤&lt;/td&gt;&lt;td&gt;é”ä¼˜åŒ–æŠ€æœ¯&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1ã€ä¹è§‚é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4790123456790123&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoVR3K1eyjOWvoUs6e4QWIljYsfME0zw8hdR5x1epR5UXL7NrC7SIepg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;405&quot;/&gt;&lt;figcaption&gt;ä¹è§‚é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;ä¹è§‚é”&lt;/code&gt;æ˜¯ä¸€ç§ä¹è§‚æ€æƒ³&lt;/strong&gt;ï¼Œå‡å®šå½“å‰ç¯å¢ƒæ˜¯è¯»å¤šå†™å°‘ï¼Œé‡åˆ°å¹¶å‘å†™çš„æ¦‚ç‡æ¯”è¾ƒä½ï¼Œè¯»æ•°æ®æ—¶è®¤ä¸ºåˆ«çš„çº¿ç¨‹ä¸ä¼šæ­£åœ¨è¿›è¡Œä¿®æ”¹ï¼ˆæ‰€ä»¥æ²¡æœ‰ä¸Šé”ï¼‰ã€‚å†™æ•°æ®æ—¶ï¼Œåˆ¤æ–­å½“å‰ ä¸æœŸæœ›å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™è¿›è¡Œæ›´æ–°ï¼ˆæ›´æ–°æœŸé—´åŠ é”ï¼Œä¿è¯æ˜¯åŸå­æ€§çš„ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„&lt;code&gt;ä¹è§‚é”&lt;/code&gt;ï¼š&lt;/strong&gt; &lt;code&gt;CAS&lt;/code&gt;ï¼Œæ¯”è¾ƒå¹¶æ›¿æ¢ï¼Œæ¯”è¾ƒå½“å‰å€¼ï¼ˆä¸»å†…å­˜ä¸­çš„å€¼ï¼‰ï¼Œä¸é¢„æœŸå€¼ï¼ˆå½“å‰çº¿ç¨‹ä¸­çš„å€¼ï¼Œä¸»å†…å­˜ä¸­å€¼çš„ä¸€ä»½æ‹·è´ï¼‰æ˜¯å¦ä¸€æ ·ï¼Œä¸€æ ·åˆ™æ›´æ–°ï¼Œå¦åˆ™ç»§ç»­è¿›è¡ŒCASæ“ä½œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯ä»¥åŒæ—¶è¿›è¡Œè¯»æ“ä½œï¼Œè¯»çš„æ—¶å€™å…¶ä»–çº¿ç¨‹ä¸èƒ½è¿›è¡Œå†™æ“ä½œã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2ã€æ‚²è§‚é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.5229591836734695&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoq99dXSa41gFsDZybz5QmFUicJI0n0mpIV4t55er2DB5EjBY4ouAah6Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;392&quot;/&gt;&lt;figcaption&gt;æ‚²è§‚é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;æ‚²è§‚é”&lt;/code&gt;æ˜¯ä¸€ç§æ‚²è§‚æ€æƒ³&lt;/strong&gt;ï¼Œå³è®¤ä¸ºå†™å¤šè¯»å°‘ï¼Œé‡åˆ°å¹¶å‘å†™çš„å¯èƒ½æ€§é«˜ï¼Œæ¯æ¬¡å»æ‹¿æ•°æ®çš„æ—¶å€™éƒ½è®¤ä¸ºå…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡è¯»å†™æ•°æ®éƒ½ä¼šè®¤ä¸ºå…¶ä»–çº¿ç¨‹ä¼šä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡è¯»å†™æ•°æ®æ—¶éƒ½ä¼šä¸Šé”ã€‚å…¶ä»–çº¿ç¨‹æƒ³è¦è¯»å†™è¿™ä¸ªæ•°æ®æ—¶ï¼Œä¼šè¢«è¿™ä¸ªçº¿ç¨‹blockï¼Œç›´åˆ°è¿™ä¸ªçº¿ç¨‹é‡Šæ”¾é”ç„¶åå…¶ä»–çº¿ç¨‹è·å–åˆ°é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„&lt;code&gt;æ‚²è§‚é”&lt;/code&gt;ï¼š&lt;/strong&gt; &lt;code&gt;synchronized&lt;/code&gt;ä¿®é¥°çš„æ–¹æ³•å’Œæ–¹æ³•å—ã€&lt;code&gt;ReentrantLock&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè¯»æ“ä½œæˆ–è€…å†™æ“ä½œï¼Œå…¶ä»–çº¿ç¨‹çš„è¯»å†™æ“ä½œå‡ä¸èƒ½è¿›è¡Œã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3ã€è‡ªæ—‹é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4736842105263157&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoFhPwicBc53VrAJS2hTichkhheowSrXXyWVIrfCArtaCdfZ2RjRrMWiaYA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;399&quot;/&gt;&lt;figcaption&gt;mark&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;æ˜¯ä¸€ç§æŠ€æœ¯ï¼š&lt;/strong&gt; ä¸ºäº†è®©çº¿ç¨‹ç­‰å¾…ï¼Œæˆ‘ä»¬åªé¡»è®©çº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå¿™å¾ªç¯ï¼ˆè‡ªæ—‹ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨ç»å¤§å¤šæ•°çš„ä¸ªäººç”µè„‘å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¤šè·¯ï¼ˆæ ¸ï¼‰å¤„ç†å™¨ç³»ç»Ÿï¼Œå¦‚æœç‰©ç†æœºå™¨æœ‰ä¸€ä¸ªä»¥ä¸Šçš„å¤„ç†å™¨æˆ–è€…å¤„ç†å™¨æ ¸å¿ƒï¼Œèƒ½è®©ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶å¹¶è¡Œæ‰§è¡Œï¼Œå°±å¯ä»¥è®©åé¢è¯·æ±‚é”çš„é‚£ä¸ªçº¿ç¨‹â€œç¨ç­‰ä¸€ä¼šâ€ï¼Œä½†ä¸æ”¾å¼ƒå¤„ç†å™¨çš„æ‰§è¡Œæ—¶é—´ï¼Œçœ‹çœ‹æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦å¾ˆå¿«å°±ä¼šé‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;çš„ä¼˜ç‚¹ï¼š&lt;/strong&gt; é¿å…äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ã€‚æŒ‚èµ·çº¿ç¨‹å’Œæ¢å¤çº¿ç¨‹çš„æ“ä½œéƒ½éœ€è¦è½¬å…¥å†…æ ¸æ€ä¸­å®Œæˆï¼Œè¿™äº›æ“ä½œç»™Javaè™šæ‹Ÿæœºçš„å¹¶å‘æ€§èƒ½å¸¦æ¥äº†å¾ˆå¤§çš„å‹åŠ›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;çš„ç¼ºç‚¹ï¼š&lt;/strong&gt; å ç”¨å¤„ç†å™¨çš„æ—¶é—´ï¼Œå¦‚æœå ç”¨çš„æ—¶é—´å¾ˆé•¿ï¼Œä¼šç™½ç™½æ¶ˆè€—å¤„ç†å™¨èµ„æºï¼Œè€Œä¸ä¼šåšä»»ä½•æœ‰ä»·å€¼çš„å·¥ä½œï¼Œå¸¦æ¥æ€§èƒ½çš„æµªè´¹ã€‚å› æ­¤è‡ªæ—‹ç­‰å¾…çš„æ—¶é—´å¿…é¡»æœ‰ä¸€å®šçš„é™åº¦ï¼Œå¦‚æœè‡ªæ—‹è¶…è¿‡äº†é™å®šçš„æ¬¡æ•°ä»ç„¶æ²¡æœ‰æˆåŠŸè·å¾—é”ï¼Œå°±åº”å½“ä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼å»æŒ‚èµ·çº¿ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;è‡ªæ—‹&lt;/code&gt;æ¬¡æ•°é»˜è®¤å€¼ï¼š10æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°-XX:PreBlockSpinæ¥è‡ªè¡Œæ›´æ”¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è‡ªé€‚åº”&lt;code&gt;è‡ªæ—‹&lt;/code&gt;ï¼š&lt;/strong&gt; è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ—¶é—´ä¸å†æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®šçš„ã€‚æœ‰äº†è‡ªé€‚åº”è‡ªæ—‹ï¼Œéšç€ç¨‹åºè¿è¡Œæ—¶é—´çš„å¢é•¿åŠæ€§èƒ½ç›‘æ§ä¿¡æ¯çš„ä¸æ–­å®Œå–„ï¼Œè™šæ‹Ÿæœºå¯¹ç¨‹åºé”çš„çŠ¶æ€é¢„æµ‹å°±ä¼šè¶Šæ¥è¶Šç²¾å‡†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;ï¼š&lt;/strong&gt; CASæ“ä½œä¸­çš„æ¯”è¾ƒæ“ä½œå¤±è´¥åçš„è‡ªæ—‹ç­‰å¾…ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4ã€å¯é‡å…¥é”ï¼ˆé€’å½’é”ï¼‰&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.3177842565597668&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNodqYcvaJw2cwYVJicXstAyXkz6OQzqZFX6ZzUgbo2x3iaicANpc6PB0EAQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;343&quot;/&gt;&lt;figcaption&gt;å¯é‡å…¥é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;å¯é‡å…¥é”&lt;/code&gt;æ˜¯ä¸€ç§æŠ€æœ¯ï¼š&lt;/strong&gt; ä»»æ„çº¿ç¨‹åœ¨è·å–åˆ°é”ä¹‹åèƒ½å¤Ÿå†æ¬¡è·å–è¯¥é”è€Œä¸ä¼šè¢«é”æ‰€é˜»å¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;å¯é‡å…¥é”&lt;/code&gt;çš„åŸç†ï¼š&lt;/strong&gt; é€šè¿‡ç»„åˆè‡ªå®šä¹‰åŒæ­¥å™¨æ¥å®ç°é”çš„è·å–ä¸é‡Šæ”¾ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å†æ¬¡è·å–é”ï¼šè¯†åˆ«è·å–é”çš„çº¿ç¨‹æ˜¯å¦ä¸ºå½“å‰å æ®é”çš„çº¿ç¨‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å†æ¬¡æˆåŠŸè·å–ã€‚è·å–é”åï¼Œè¿›è¡Œè®¡æ•°è‡ªå¢ï¼Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é‡Šæ”¾é”ï¼šé‡Šæ”¾é”æ—¶ï¼Œè¿›è¡Œè®¡æ•°è‡ªå‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„&lt;code&gt;å¯é‡å…¥é”&lt;/code&gt;ï¼š&lt;/strong&gt; ReentrantLockã€synchronizedä¿®é¥°çš„æ–¹æ³•æˆ–ä»£ç æ®µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;å¯é‡å…¥é”&lt;/code&gt;çš„ä½œç”¨ï¼š&lt;/strong&gt; é¿å…æ­»é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é¢è¯•é¢˜1ï¼š&lt;/strong&gt; å¯é‡å…¥é”å¦‚æœåŠ äº†ä¸¤æŠŠï¼Œä½†æ˜¯åªé‡Šæ”¾äº†ä¸€æŠŠä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šç¨‹åºå¡æ­»ï¼Œçº¿ç¨‹ä¸èƒ½å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ç”³è¯·äº†å‡ æŠŠé”ï¼Œå°±éœ€è¦é‡Šæ”¾å‡ æŠŠé”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é¢è¯•é¢˜2ï¼š&lt;/strong&gt; å¦‚æœåªåŠ äº†ä¸€æŠŠé”ï¼Œé‡Šæ”¾ä¸¤æ¬¡ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šä¼šæŠ¥é”™ï¼Œjava.lang.IllegalMonitorStateExceptionã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;5ã€è¯»å†™é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;è¯»å†™é”&lt;/code&gt;æ˜¯ä¸€ç§æŠ€æœ¯ï¼š&lt;/strong&gt; é€šè¿‡&lt;code&gt;ReentrantReadWriteLock&lt;/code&gt;ç±»æ¥å®ç°ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œ Java æä¾›äº†è¯»å†™é”ï¼Œåœ¨è¯»çš„åœ°æ–¹ä½¿ç”¨è¯»é”ï¼Œåœ¨å†™çš„åœ°æ–¹ä½¿ç”¨å†™é”ï¼Œçµæ´»æ§åˆ¶ï¼Œå¦‚æœæ²¡æœ‰å†™é”çš„æƒ…å†µä¸‹ï¼Œè¯»æ˜¯æ— é˜»å¡çš„ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚è¯»å†™é”åˆ†ä¸ºè¯»é”å’Œå†™é”ï¼Œå¤šä¸ªè¯»é”ä¸äº’æ–¥ï¼Œè¯»é”ä¸å†™é”äº’æ–¥ï¼Œè¿™æ˜¯ç”± jvm è‡ªå·±æ§åˆ¶çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¯»é”ï¼š&lt;/strong&gt; å…è®¸å¤šä¸ªçº¿ç¨‹è·å–è¯»é”ï¼ŒåŒæ—¶è®¿é—®åŒä¸€ä¸ªèµ„æºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.3205574912891986&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoAOvd88boVFSXic2LibuS1pVYbpWvLLaQVtVib8RGsKSZ77C7FdyIX9z3g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;287&quot;/&gt;&lt;figcaption&gt;è¯»é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å†™é”ï¼š&lt;/strong&gt; åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è·å–å†™é”ï¼Œä¸å…è®¸åŒæ—¶è®¿é—®åŒä¸€ä¸ªèµ„æºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.46875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoTsvFW0plwibGWRzrEVCUmWbmkSMrXILXchQvyuiaicgbJL8WIStdTv9eg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;288&quot;/&gt;&lt;figcaption&gt;å†™é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä½•ä½¿ç”¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;*Â åˆ›å»ºä¸€ä¸ªè¯»å†™é”&lt;br/&gt;*Â å®ƒæ˜¯ä¸€ä¸ªè¯»å†™èä¸ºä¸€ä½“çš„é”ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦è½¬æ¢&lt;br/&gt;*/&lt;/span&gt;&lt;br/&gt;&lt;span&gt;private&lt;/span&gt;Â ReentrantReadWriteLockÂ rwLockÂ =Â &lt;span&gt;new&lt;/span&gt;Â ReentrantReadWriteLock();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·å–è¯»é”å’Œé‡Šæ”¾è¯»é”&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â è·å–è¯»é”&lt;/span&gt;&lt;br/&gt;rwLock.readLock().lock();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â é‡Šæ”¾è¯»é”&lt;/span&gt;&lt;br/&gt;rwLock.readLock().unlock();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·å–å†™é”å’Œé‡Šæ”¾å†™é”&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//Â åˆ›å»ºä¸€ä¸ªå†™é”&lt;/span&gt;&lt;br/&gt;rwLock.writeLock().lock();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//Â å†™é”Â é‡Šæ”¾&lt;/span&gt;&lt;br/&gt;rwLock.writeLock().unlock();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„è¯»å†™é”ï¼š&lt;/strong&gt;&lt;code&gt;ReentrantReadWriteLock&lt;/code&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;6ã€å…¬å¹³é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0672853828306264&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoJsoLEeAQ3fnga2FSDyDouciaFA3lPqcP6fuugHujSHD5Oxyvo3pZfCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;431&quot;/&gt;&lt;figcaption&gt;å…¬å¹³é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;å…¬å¹³é”&lt;/code&gt;æ˜¯ä¸€ç§æ€æƒ³ï¼š&lt;/strong&gt; å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºæ¥è·å–é”ã€‚åœ¨å¹¶å‘ç¯å¢ƒä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼šå…ˆæŸ¥çœ‹æ­¤é”ç»´æŠ¤çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå¦‚æœå½“å‰ç­‰å¾…é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™å æœ‰é”ï¼Œå¦‚æœç­‰å¾…é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œåˆ™åŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—çš„æœ«å°¾ï¼ŒæŒ‰ç…§FIFOçš„åŸåˆ™ä»é˜Ÿåˆ—ä¸­æ‹¿åˆ°çº¿ç¨‹ï¼Œç„¶åå æœ‰é”ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;7ã€éå…¬å¹³é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.2782874617737003&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoc2hjBbxH2eY14AB40V07xcSjtVSjXIgl7yiarWl46fgoCcXxgveXWOQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;327&quot;/&gt;&lt;figcaption&gt;éå…¬å¹³é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;éå…¬å¹³é”&lt;/code&gt;æ˜¯ä¸€ç§æ€æƒ³ï¼š&lt;/strong&gt; çº¿ç¨‹å°è¯•è·å–é”ï¼Œå¦‚æœè·å–ä¸åˆ°ï¼Œåˆ™å†é‡‡ç”¨å…¬å¹³é”çš„æ–¹å¼ã€‚å¤šä¸ªçº¿ç¨‹è·å–é”çš„é¡ºåºï¼Œä¸æ˜¯æŒ‰ç…§å…ˆåˆ°å…ˆå¾—çš„é¡ºåºï¼Œæœ‰å¯èƒ½åç”³è¯·é”çš„çº¿ç¨‹æ¯”å…ˆç”³è¯·çš„çº¿ç¨‹ä¼˜å…ˆè·å–é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt; éå…¬å¹³é”çš„æ€§èƒ½é«˜äºå…¬å¹³é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt; æœ‰å¯èƒ½é€ æˆçº¿ç¨‹é¥¥é¥¿ï¼ˆæŸä¸ªçº¿ç¨‹å¾ˆé•¿ä¸€æ®µæ—¶é—´è·å–ä¸åˆ°é”ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„éå…¬å¹³é”ï¼š&lt;/strong&gt;synchronizedæ˜¯éå…¬å¹³é”ï¼ŒReentrantLocké€šè¿‡æ„é€ å‡½æ•°æŒ‡å®šè¯¥é”æ˜¯å…¬å¹³çš„è¿˜æ˜¯éå…¬å¹³çš„ï¼Œé»˜è®¤æ˜¯éå…¬å¹³çš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;8ã€å…±äº«é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4842105263157894&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoVglYXOHfOWZOZPGHXxThmLzOhiafUYicWTdMCumgBdHW3b3S8kY1Vmgg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;285&quot;/&gt;&lt;figcaption&gt;å…±äº«é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;å…±äº«é”&lt;/code&gt;æ˜¯ä¸€ç§æ€æƒ³ï¼š&lt;/strong&gt; å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹è·å–è¯»é”ï¼Œä»¥å…±äº«çš„æ–¹å¼æŒæœ‰é”ã€‚å’Œä¹è§‚é”ã€è¯»å†™é”åŒä¹‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­ç”¨åˆ°çš„å…±äº«é”ï¼š&lt;/strong&gt; Â &lt;code&gt;ReentrantReadWriteLock&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;9ã€ç‹¬å é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4982332155477032&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoCTrtvDl6W7ruc8UsO9Wj69HTRQ88ddYoF7E6p7q5fyicoHF3ese8TWw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;283&quot;/&gt;&lt;figcaption&gt;ç‹¬å é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;ç‹¬å é”&lt;/code&gt;æ˜¯ä¸€ç§æ€æƒ³ï¼š&lt;/strong&gt; åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–é”ï¼Œä»¥ç‹¬å çš„æ–¹å¼æŒæœ‰é”ã€‚å’Œæ‚²è§‚é”ã€äº’æ–¥é”åŒä¹‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­ç”¨åˆ°çš„ç‹¬å é”ï¼š&lt;/strong&gt; synchronizedï¼ŒReentrantLock&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;10ã€é‡é‡çº§é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.3362068965517242&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNo7NaqA98cOtRU4Eendngdu947SrRQrC2BSicJtoYnXeARmmEO5PRulNA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;348&quot;/&gt;&lt;figcaption&gt;é‡é‡çº§é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é‡é‡çº§é”æ˜¯ä¸€ç§ç§°è°“ï¼š&lt;/strong&gt; &lt;code&gt;synchronized&lt;/code&gt;æ˜¯é€šè¿‡å¯¹è±¡å†…éƒ¨çš„ä¸€ä¸ªå«åšç›‘è§†å™¨é”ï¼ˆ&lt;code&gt;monitor&lt;/code&gt;ï¼‰æ¥å®ç°çš„ï¼Œç›‘è§†å™¨é”æœ¬èº«ä¾èµ–åº•å±‚çš„æ“ä½œç³»ç»Ÿçš„ &lt;code&gt;Mutex Lock&lt;/code&gt;æ¥å®ç°ã€‚æ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹çš„åˆ‡æ¢éœ€è¦ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°æ ¸å¿ƒæ€ï¼Œæˆæœ¬éå¸¸é«˜ã€‚è¿™ç§ä¾èµ–äºæ“ä½œç³»ç»Ÿ &lt;code&gt;Mutex Lock&lt;/code&gt;æ¥å®ç°çš„é”ç§°ä¸ºé‡é‡çº§é”ã€‚ä¸ºäº†ä¼˜åŒ–&lt;code&gt;synchonized&lt;/code&gt;ï¼Œå¼•å…¥äº†&lt;code&gt;è½»é‡çº§é”&lt;/code&gt;ï¼Œ&lt;code&gt;åå‘é”&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„é‡é‡çº§é”ï¼š&lt;/strong&gt; synchronized&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;11ã€è½»é‡çº§é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5633245382585752&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNor2xzVJho1WJ5xBSy9icKEoO1DiciasBUcAvfdiaC462qclaWWgX5ic5lCPg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;758&quot;/&gt;&lt;figcaption&gt;è½»é‡çº§é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;è½»é‡çº§é”&lt;/code&gt;æ˜¯JDK6æ—¶åŠ å…¥çš„ä¸€ç§é”ä¼˜åŒ–æœºåˆ¶ï¼š&lt;/strong&gt; è½»é‡çº§é”æ˜¯åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹ä½¿ç”¨CASæ“ä½œå»æ¶ˆé™¤åŒæ­¥ä½¿ç”¨çš„äº’æ–¥é‡ã€‚è½»é‡çº§æ˜¯ç›¸å¯¹äºä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡æ¥å®ç°çš„é‡é‡çº§é”è€Œè¨€çš„ã€‚è½»é‡çº§é”åœ¨æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰çš„å‰æä¸‹ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ã€‚å¦‚æœå‡ºç°ä¸¤æ¡ä»¥ä¸Šçš„çº¿ç¨‹äº‰ç”¨åŒä¸€ä¸ªé”çš„æƒ…å†µï¼Œé‚£è½»é‡çº§é”å°†ä¸ä¼šæœ‰æ•ˆï¼Œå¿…é¡»è†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt; å¦‚æœæ²¡æœ‰ç«äº‰ï¼Œé€šè¿‡CASæ“ä½œæˆåŠŸé¿å…äº†ä½¿ç”¨äº’æ–¥é‡çš„å¼€é”€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt; å¦‚æœå­˜åœ¨ç«äº‰ï¼Œé™¤äº†äº’æ–¥é‡æœ¬èº«çš„å¼€é”€å¤–ï¼Œè¿˜é¢å¤–äº§ç”Ÿäº†CASæ“ä½œçš„å¼€é”€ï¼Œå› æ­¤åœ¨æœ‰ç«äº‰çš„æƒ…å†µä¸‹ï¼Œè½»é‡çº§é”æ¯”ä¼ ç»Ÿçš„é‡é‡çº§é”æ›´æ…¢ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;12ã€åå‘é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5325034578146611&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNouDVfkR4g9wmz6GqRYZy3ictCuqUa9v0Dv5A9KW0Sczq4NiakYaTrG1EQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;723&quot;/&gt;&lt;figcaption&gt;åå‘é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;åå‘é”&lt;/code&gt;æ˜¯JDK6æ—¶åŠ å…¥çš„ä¸€ç§é”ä¼˜åŒ–æœºåˆ¶ï¼š&lt;/strong&gt; åœ¨æ— ç«äº‰çš„æƒ…å†µä¸‹æŠŠæ•´ä¸ªåŒæ­¥éƒ½æ¶ˆé™¤æ‰ï¼Œè¿CASæ“ä½œéƒ½ä¸å»åšäº†ã€‚åæ˜¯æŒ‡åå¿ƒï¼Œå®ƒçš„æ„æ€æ˜¯è¿™ä¸ªé”ä¼šåå‘äºç¬¬ä¸€ä¸ªè·å¾—å®ƒçš„çº¿ç¨‹ï¼Œå¦‚æœåœ¨æ¥ä¸‹æ¥çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè¯¥é”ä¸€ç›´æ²¡æœ‰è¢«å…¶ä»–çš„çº¿ç¨‹è·å–ï¼Œåˆ™æŒæœ‰åå‘é”çš„çº¿ç¨‹å°†æ°¸è¿œä¸éœ€è¦å†è¿›è¡ŒåŒæ­¥ã€‚æŒæœ‰åå‘é”çš„çº¿ç¨‹ä»¥åæ¯æ¬¡è¿›å…¥è¿™ä¸ªé”ç›¸å…³çš„åŒæ­¥å—æ—¶ï¼Œè™šæ‹Ÿæœºéƒ½å¯ä»¥ä¸å†è¿›è¡Œä»»ä½•åŒæ­¥æ“ä½œï¼ˆä¾‹å¦‚åŠ é”ã€è§£é”åŠå¯¹Mark Wordçš„æ›´æ–°æ“ä½œç­‰ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt; æŠŠæ•´ä¸ªåŒæ­¥éƒ½æ¶ˆé™¤æ‰ï¼Œè¿CASæ“ä½œéƒ½ä¸å»åšäº†ï¼Œä¼˜äºè½»é‡çº§é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt; å¦‚æœç¨‹åºä¸­å¤§å¤šæ•°çš„é”éƒ½æ€»æ˜¯è¢«å¤šä¸ªä¸åŒçš„çº¿ç¨‹è®¿é—®ï¼Œé‚£åå‘é”å°±æ˜¯å¤šä½™çš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;13ã€åˆ†æ®µé”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.036096256684492&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoKT7PPibwHtsmHHjXHZsG936jaUGO1coCZbSiaiabMTjdDJdtPZIPeugaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;748&quot;/&gt;&lt;figcaption&gt;åˆ†æ®µé”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;åˆ†æ®µé”&lt;/code&gt;æ˜¯ä¸€ç§æœºåˆ¶ï¼š&lt;/strong&gt; æœ€å¥½çš„ä¾‹å­æ¥è¯´æ˜åˆ†æ®µé”æ˜¯ConcurrentHashMapã€‚&lt;strong&gt;&lt;span&gt;ConcurrentHashMapåŸç†ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;å®ƒå†…éƒ¨ç»†åˆ†äº†è‹¥å¹²ä¸ªå°çš„ HashMapï¼Œç§°ä¹‹ä¸ºæ®µ(Segment)ã€‚&lt;/span&gt;&lt;span&gt;é»˜è®¤æƒ…å†µä¸‹ä¸€ä¸ª ConcurrentHashMap è¢«è¿›ä¸€æ­¥ç»†åˆ†ä¸º 16 ä¸ªæ®µï¼Œæ—¢å°±æ˜¯é”çš„å¹¶å‘åº¦ã€‚&lt;/span&gt;&lt;span&gt;å¦‚æœéœ€è¦åœ¨ ConcurrentHashMap æ·»åŠ ä¸€é¡¹key-valueï¼Œå¹¶ä¸æ˜¯å°†æ•´ä¸ª HashMap åŠ é”ï¼Œè€Œæ˜¯é¦–å…ˆæ ¹æ® hashcode å¾—åˆ°è¯¥key-valueåº”è¯¥å­˜æ”¾åœ¨å“ªä¸ªæ®µä¸­ï¼Œç„¶åå¯¹è¯¥æ®µåŠ é”ï¼Œå¹¶å®Œæˆ put æ“ä½œã€‚&lt;/span&gt;&lt;span&gt;åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œputæ“ä½œï¼Œåªè¦è¢«åŠ å…¥çš„key-valueä¸å­˜æ”¾åœ¨åŒä¸€ä¸ªæ®µä¸­ï¼Œåˆ™çº¿ç¨‹é—´å¯ä»¥åšåˆ°çœŸæ­£çš„å¹¶è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;çº¿ç¨‹å®‰å…¨ï¼š&lt;/strong&gt;ConcurrentHashMap æ˜¯ä¸€ä¸ª Segment æ•°ç»„ï¼Œ Segment é€šè¿‡ç»§æ‰¿ReentrantLock æ¥è¿›è¡ŒåŠ é”ï¼Œæ‰€ä»¥æ¯æ¬¡éœ€è¦åŠ é”çš„æ“ä½œé”ä½çš„æ˜¯ä¸€ä¸ª segmentï¼Œè¿™æ ·åªè¦ä¿è¯æ¯ä¸ª Segment æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±å®ç°äº†å…¨å±€çš„çº¿ç¨‹å®‰å…¨&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;14ã€äº’æ–¥é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4642857142857142&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNowyossO0I7fmXBfO1iabgp2kQzm6jIICS1dEGWz1ZO1K2rfhT07Ixgpw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;392&quot;/&gt;&lt;figcaption&gt;äº’æ–¥é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº’æ–¥é”ä¸æ‚²è§‚é”ã€ç‹¬å é”åŒä¹‰ï¼Œè¡¨ç¤ºæŸä¸ªèµ„æºåªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½è®¿é—®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„åŒæ­¥é”ï¼š&lt;/strong&gt; synchronized&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;15ã€åŒæ­¥é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.510548523206751&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoLQdSAahGFGgNpbzIcaJOCn3FreyAY0SW30CgyKOtjBlfJabaWicKXibw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;237&quot;/&gt;&lt;figcaption&gt;åŒæ­¥é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ­¥é”ä¸äº’æ–¥é”åŒä¹‰ï¼Œè¡¨ç¤ºå¹¶å‘æ‰§è¡Œçš„å¤šä¸ªçº¿ç¨‹ï¼Œåœ¨åŒä¸€æ—¶é—´å†…åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…±äº«æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Javaä¸­çš„åŒæ­¥é”ï¼š&lt;/strong&gt; synchronized&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;16ã€æ­»é”&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9722735674676525&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNohOTgI7dwMB8HWBNDzvxSA6Mljbib5MibtzjgmLgryhpuxedia0TcoYHTA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;541&quot;/&gt;&lt;figcaption&gt;æ­»é”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ­»é”æ˜¯ä¸€ç§ç°è±¡ï¼š&lt;/strong&gt;å¦‚çº¿ç¨‹AæŒæœ‰èµ„æºxï¼Œçº¿ç¨‹BæŒæœ‰èµ„æºyï¼Œçº¿ç¨‹Aç­‰å¾…çº¿ç¨‹Bé‡Šæ”¾èµ„æºyï¼Œçº¿ç¨‹Bç­‰å¾…çº¿ç¨‹Aé‡Šæ”¾èµ„æºxï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½ä¸é‡Šæ”¾è‡ªå·±æŒæœ‰çš„èµ„æºï¼Œåˆ™ä¸¤ä¸ªçº¿ç¨‹éƒ½è·å–ä¸åˆ°å¯¹æ–¹çš„èµ„æºï¼Œå°±ä¼šé€ æˆæ­»é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Javaä¸­çš„æ­»é”ä¸èƒ½è‡ªè¡Œæ‰“ç ´ï¼Œæ‰€ä»¥çº¿ç¨‹æ­»é”åï¼Œçº¿ç¨‹ä¸èƒ½è¿›è¡Œå“åº”ã€‚æ‰€ä»¥ä¸€å®šè¦æ³¨æ„ç¨‹åºçš„å¹¶å‘åœºæ™¯ï¼Œé¿å…é€ æˆæ­»é”ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;17ã€é”ç²—åŒ–&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7953296703296703&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoL5Hib77aXO1Y3bGN3OviaREx7buMnVGxqMTY4J97p8KtxsL7m2kicdbNg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;728&quot;/&gt;&lt;figcaption&gt;é”ç²—åŒ–&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;é”ç²—åŒ–&lt;/code&gt;æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼š&lt;/strong&gt; å¦‚æœä¸€ç³»åˆ—çš„è¿ç»­æ“ä½œéƒ½å¯¹åŒä¸€ä¸ªå¯¹è±¡åå¤åŠ é”å’Œè§£é”ï¼Œç”šè‡³åŠ é”æ“ä½œéƒ½æ˜¯å‡ºç°åœ¨å¾ªç¯ä½“ä½“ä¹‹ä¸­ï¼Œå°±ç®—çœŸçš„æ²¡æœ‰çº¿ç¨‹ç«äº‰ï¼Œé¢‘ç¹åœ°è¿›è¡Œäº’æ–¥åŒæ­¥æ“ä½œå°†ä¼šå¯¼è‡´ä¸å¿…è¦çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å°±é‡‡å–äº†ä¸€ç§æ–¹æ¡ˆï¼šæŠŠåŠ é”çš„èŒƒå›´æ‰©å±•ï¼ˆç²—åŒ–ï¼‰åˆ°æ•´ä¸ªæ“ä½œåºåˆ—çš„å¤–éƒ¨ï¼Œè¿™æ ·åŠ é”è§£é”çš„é¢‘ç‡å°±ä¼šå¤§å¤§é™ä½ï¼Œä»è€Œå‡å°‘äº†æ€§èƒ½æŸè€—ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;18ã€é”æ¶ˆé™¤&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0845986984815619&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoniatjiaAkKIyicqibFS1BJMOkfpJIvSHaWa4KY3JClfxFUXEUaL97jlv7A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;461&quot;/&gt;&lt;figcaption&gt;é”æ¶ˆé™¤&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;é”æ¶ˆé™¤&lt;/code&gt;æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼š&lt;/strong&gt; å°±æ˜¯æŠŠé”å¹²æ‰ã€‚å½“Javaè™šæ‹Ÿæœºè¿è¡Œæ—¶å‘ç°æœ‰äº›å…±äº«æ•°æ®ä¸ä¼šè¢«çº¿ç¨‹ç«äº‰æ—¶å°±å¯ä»¥è¿›è¡Œé”æ¶ˆé™¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å¦‚ä½•åˆ¤æ–­å…±äº«æ•°æ®ä¸ä¼šè¢«çº¿ç¨‹ç«äº‰ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ©ç”¨&lt;code&gt;é€ƒé€¸åˆ†ææŠ€æœ¯&lt;/code&gt;ï¼šåˆ†æå¯¹è±¡çš„ä½œç”¨åŸŸï¼Œå¦‚æœå¯¹è±¡åœ¨Aæ–¹æ³•ä¸­å®šä¹‰åï¼Œè¢«ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Bæ–¹æ³•ä¸­ï¼Œåˆ™ç§°ä¸ºæ–¹æ³•é€ƒé€¸ï¼›å¦‚æœè¢«å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œåˆ™ç§°ä¸ºçº¿ç¨‹é€ƒé€¸ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å †ä¸Šçš„æŸä¸ªæ•°æ®ä¸ä¼šé€ƒé€¸å‡ºå»è¢«å…¶ä»–çº¿ç¨‹è®¿é—®åˆ°ï¼Œå°±å¯ä»¥æŠŠå®ƒå½“ä½œæ ˆä¸Šæ•°æ®å¯¹å¾…ï¼Œè®¤ä¸ºå®ƒæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼ŒåŒæ­¥åŠ é”å°±ä¸éœ€è¦äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;19ã€synchronized&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7395833333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoQxzIwj6icvic4Bw7iaPJibY52eMHfXzzfgTBHlglGsuwz8eADSgZNrPVIg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;480&quot;/&gt;&lt;figcaption&gt;synchronized&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;synchronized&lt;/code&gt;æ˜¯Javaä¸­çš„å…³é”®å­—ï¼šç”¨æ¥ä¿®é¥°æ–¹æ³•ã€å¯¹è±¡å®ä¾‹ã€‚å±äºç‹¬å é”ã€æ‚²è§‚é”ã€å¯é‡å…¥é”ã€éå…¬å¹³é”ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;1.ä½œç”¨äºå®ä¾‹æ–¹æ³•æ—¶ï¼Œé”ä½çš„æ˜¯å¯¹è±¡çš„å®ä¾‹(this)ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;2.å½“ä½œç”¨äºé™æ€æ–¹æ³•æ—¶ï¼Œé”ä½çš„æ˜¯ Classç±»ï¼Œç›¸å½“äºç±»çš„ä¸€ä¸ªå…¨å±€é”ï¼Œ
ä¼šé”æ‰€æœ‰è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;3.synchronized ä½œç”¨äºä¸€ä¸ªé NULLçš„å¯¹è±¡å®ä¾‹æ—¶ï¼Œé”ä½çš„æ˜¯æ‰€æœ‰ä»¥è¯¥å¯¹è±¡ä¸ºé”çš„ä»£ç å—ã€‚å®ƒæœ‰å¤šä¸ªé˜Ÿåˆ—ï¼Œå½“å¤šä¸ªçº¿ç¨‹ä¸€èµ·è®¿é—®æŸä¸ªå¯¹è±¡ç›‘è§†å™¨çš„æ—¶å€™ï¼Œå¯¹è±¡ç›‘è§†å™¨ä¼šå°†è¿™äº›çº¿ç¨‹å­˜å‚¨åœ¨ä¸åŒçš„å®¹å™¨ä¸­ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸ª monitor å¯¹è±¡ï¼Œ åŠ é”å°±æ˜¯åœ¨ç«äº‰ monitor å¯¹è±¡ï¼Œä»£ç å—åŠ é”æ˜¯åœ¨ä»£ç å—å‰ååˆ†åˆ«åŠ ä¸Š monitorenter å’Œ monitorexit æŒ‡ä»¤æ¥å®ç°çš„ï¼Œæ–¹æ³•åŠ é”æ˜¯é€šè¿‡ä¸€ä¸ªæ ‡è®°ä½æ¥åˆ¤æ–­çš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;20ã€Lockå’Œsynchronizedçš„åŒºåˆ«&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9742120343839542&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNotokWDIYQr8uP7jM9icmy94OfRiccrl3FNWr3UQUicSoOhkXTGjucibicYug/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;349&quot;/&gt;&lt;figcaption&gt;è‡ªåŠ¨æŒ¡å’Œæ‰‹åŠ¨æŒ¡çš„åŒºåˆ«&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;Lock&lt;/code&gt;ï¼š&lt;/strong&gt; æ˜¯Javaä¸­çš„æ¥å£ï¼Œå¯é‡å…¥é”ã€æ‚²è§‚é”ã€ç‹¬å é”ã€äº’æ–¥é”ã€åŒæ­¥é”ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;1.Lockéœ€è¦æ‰‹åŠ¨è·å–é”å’Œé‡Šæ”¾é”ã€‚å°±å¥½æ¯”è‡ªåŠ¨æŒ¡å’Œæ‰‹åŠ¨æŒ¡çš„åŒºåˆ«&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;2.Lock æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œ synchronized æ˜¯ Java ä¸­çš„å…³é”®å­—ï¼Œ synchronized æ˜¯å†…ç½®çš„è¯­è¨€å®ç°ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;3.synchronized åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾çº¿ç¨‹å æœ‰çš„é”ï¼Œå› æ­¤ä¸ä¼šå¯¼è‡´æ­»é”ç°è±¡å‘ç”Ÿï¼›è€Œ Lock åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¸»åŠ¨é€šè¿‡ unLock()å»é‡Šæ”¾é”ï¼Œåˆ™å¾ˆå¯èƒ½é€ æˆæ­»é”ç°è±¡ï¼Œå› æ­¤ä½¿ç”¨ Lock æ—¶éœ€è¦åœ¨ finally å—ä¸­é‡Šæ”¾é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;4.Lock å¯ä»¥è®©ç­‰å¾…é”çš„çº¿ç¨‹å“åº”ä¸­æ–­ï¼Œè€Œ synchronized å´ä¸è¡Œï¼Œä½¿ç”¨ synchronized æ—¶ï¼Œç­‰å¾…çš„çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œä¸èƒ½å¤Ÿå“åº”ä¸­æ–­ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;5.é€šè¿‡ Lock å¯ä»¥çŸ¥é“æœ‰æ²¡æœ‰æˆåŠŸè·å–é”ï¼Œè€Œ synchronized å´æ— æ³•åŠåˆ°ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;6.Lock å¯ä»¥é€šè¿‡å®ç°è¯»å†™é”æé«˜å¤šä¸ªçº¿ç¨‹è¿›è¡Œè¯»æ“ä½œçš„æ•ˆç‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;synchronizedçš„ä¼˜åŠ¿ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è¶³å¤Ÿæ¸…æ™°ç®€å•ï¼Œåªéœ€è¦åŸºç¡€çš„åŒæ­¥åŠŸèƒ½æ—¶ï¼Œç”¨synchronizedã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Lockåº”è¯¥ç¡®ä¿åœ¨finallyå—ä¸­é‡Šæ”¾é”ã€‚å¦‚æœä½¿ç”¨synchronizedï¼ŒJVMç¡®ä¿å³ä½¿å‡ºç°å¼‚å¸¸ï¼Œé”ä¹Ÿèƒ½è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨Lockæ—¶ï¼ŒJavaè™šæ‹Ÿæœºå¾ˆéš¾å¾—çŸ¥å“ªäº›é”å¯¹è±¡æ˜¯ç”±ç‰¹å®šçº¿ç¨‹é”æŒæœ‰çš„ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;21ã€ReentrantLock å’Œsynchronizedçš„åŒºåˆ«&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.0541401273885351&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNouUoRKL8cib6KR5uftGGQ2LiauX1OLAicrW7KFCtNZIwyLUkvBEkadyPiaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;314&quot;/&gt;&lt;figcaption&gt;Lockã€ReentrantLockã€shnchronzied&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;code&gt;ReentrantLock&lt;/code&gt;æ˜¯Javaä¸­çš„ç±» ï¼š&lt;/strong&gt; ç»§æ‰¿äº†Lockç±»ï¼Œå¯é‡å…¥é”ã€æ‚²è§‚é”ã€ç‹¬å é”ã€äº’æ–¥é”ã€åŒæ­¥é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;åˆ’é‡ç‚¹&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç›¸åŒç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;1.ä¸»è¦è§£å†³å…±äº«å˜é‡å¦‚ä½•å®‰å…¨è®¿é—®çš„é—®é¢˜&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;2.éƒ½æ˜¯å¯é‡å…¥é”ï¼Œä¹Ÿå«åšé€’å½’é”ï¼ŒåŒä¸€çº¿ç¨‹å¯ä»¥å¤šæ¬¡è·å¾—åŒä¸€ä¸ªé”ï¼Œ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;3.ä¿è¯äº†çº¿ç¨‹å®‰å…¨çš„ä¸¤å¤§ç‰¹æ€§ï¼šå¯è§æ€§ã€åŸå­æ€§ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸åŒç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;1.ReentrantLock å°±åƒæ‰‹åŠ¨æ±½è½¦ï¼Œéœ€è¦æ˜¾ç¤ºçš„è°ƒç”¨lockå’Œunlockæ–¹æ³•ï¼Œ synchronized éšå¼è·å¾—é‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;2.ReentrantLock å¯å“åº”ä¸­æ–­ï¼Œ synchronized æ˜¯ä¸å¯ä»¥å“åº”ä¸­æ–­çš„ï¼ŒReentrantLock ä¸ºå¤„ç†é”çš„ä¸å¯ç”¨æ€§æä¾›äº†æ›´é«˜çš„çµæ´»æ€§&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;3.ReentrantLock æ˜¯ API çº§åˆ«çš„ï¼Œ synchronized æ˜¯ JVM çº§åˆ«çš„&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;4.ReentrantLock å¯ä»¥å®ç°å…¬å¹³é”ã€éå…¬å¹³é”ï¼Œé»˜è®¤éå…¬å¹³é”ï¼Œsynchronized æ˜¯éå…¬å¹³é”ï¼Œä¸”ä¸å¯æ›´æ”¹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;5.ReentrantLock é€šè¿‡ Condition å¯ä»¥ç»‘å®šå¤šä¸ªæ¡ä»¶&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å½©è›‹ï¼š&lt;/strong&gt; è®²äº†é‚£ä¹ˆå¤šé”ï¼Œéƒ½è·Ÿé˜»å¡ç›¸å…³ï¼Œå®å®æƒ³å¬é˜»å¡å‘€ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æˆ‘æ˜¯æ‚Ÿç©ºï¼Œä¸€åªåŠªåŠ›å˜å¼ºçš„ç å†œï¼æˆ‘è¦å˜èº«è¶…çº§èµ›äºšäººå•¦ï¼&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.471264367816092&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SfAHMuUxqJ3aISBxMNeDoWYI3Q5jHTNoL7pTHG9Jlwzmy1wKHRxZU043EEVmWAKNJic4TPwxFBOvmLWRbClJBzw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1218&quot;/&gt;&lt;figcaption&gt;æˆ‘çš„èµ„æ–™&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯&lt;code&gt;æ‚Ÿç©ºå“¥&lt;/code&gt;ï¼Œ&lt;strong&gt;7å¹´é¡¹ç›®å¼€å‘ç»éªŒï¼Œå…¨æ ˆå·¥ç¨‹å¸ˆï¼Œå¼€å‘ç»„é•¿ï¼Œè¶…å–œæ¬¢&lt;code&gt;å›¾è§£ç¼–ç¨‹&lt;/code&gt;åº•å±‚åŸç†&lt;/strong&gt;ã€‚æ­£åœ¨ç¼–å†™ä¸¤æœ¬PDFï¼Œåˆ†åˆ«æ˜¯ 1ã€Spring Cloudå®æˆ˜é¡¹ç›®ï¼ˆä½³å¿…è¿‡ï¼‰ï¼Œ2ã€Javaå¹¶å‘å¿…çŸ¥å¿…ä¼šã€‚æˆ‘è¿˜&lt;code&gt;æ‰‹å†™äº†2ä¸ªå°ç¨‹åº&lt;/code&gt;ï¼ŒJavaåˆ·é¢˜å°ç¨‹åºï¼ŒPMPåˆ·é¢˜å°ç¨‹åºï¼Œç‚¹å‡»æˆ‘çš„å…¬ä¼—å·èœå•æ‰“å¼€ï¼å¦å¤–æœ‰111æœ¬æ¶æ„å¸ˆèµ„æ–™ä»¥åŠ1000é“Javaé¢è¯•é¢˜ï¼Œéƒ½æ•´ç†æˆäº†PDFï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å· æ‚Ÿç©ºèŠæ¶æ„ å›å¤ &lt;code&gt;æ‚Ÿç©º&lt;/code&gt; é¢†å–ä¼˜è´¨èµ„æ–™ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è½¬å‘-&amp;gt;åœ¨çœ‹-&amp;gt;ç‚¹èµ-&amp;gt;æ”¶è—-&amp;gt;è¯„è®ºï¼ï¼ï¼æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒï¼&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>