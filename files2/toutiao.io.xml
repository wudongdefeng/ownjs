<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>d409fd0bc4fab49deb57ac16df782bae</guid>
<title>äº’è”ç½‘ï¼šé€»è¾‘ä¸Šçš„é»‘è¯æ‰æ˜¯çœŸæ­£çš„èŠ±é‡Œèƒ¡å“¨</title>
<link>https://toutiao.io/k/hk3xm6e</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;blockquote&gt;&lt;p&gt;äº’è”ç½‘ä¸Šçš„é“ç†å¬ç€éƒ½å¯¹ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;01&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æœ€è¿‘è¿™æ®µæ—¶é—´ï¼Œå¼ ä¸€é¸£å¹´ä¼šå‘è¨€ç«äº†ï¼Œæœ€å¤§çš„äº®ç‚¹å°±æ˜¯ä»–è¯»çš„ä¸€æ®µäº’è”ç½‘çš„å¸¸ç”¨&quot;é»‘è¯&quot;:&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.26953125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvB0zA65Ufly5SywsOgP1caQniaTXgKmywEvU9hibIkk4HCic9wzTiaZrmVfUoPKdib9zJqGOtwo87FE9kQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;è¿™æ®µå†…å®¹å‡ºè‡ªå…¶å…¬å¸æœˆä¼šææ–™ï¼Œè¢«å¼ ä¸€é¸£æ”¾åœ¨å¹´ä¼šå‘è¨€ï¼Œå¹¶é¡ºå¸¦æ‰¹è¯„ä¸€æ³¢è¿™äº›äººä¸å¥½å¥½è¯´è¯ï¼Œå¼•èµ·å¤§æ‰¹ç½‘å‹å…±é¸£ã€‚&lt;/p&gt;&lt;p&gt;éšä¹‹è€Œæ¥çš„æ˜¯äº’è”ç½‘æŸPythonå¤§ä½¬çš„ä¸€æ®µç¥å¥‡è„šæœ¬ï¼Œé»‘è¯ç”Ÿæˆå™¨ï¼Œä¹Ÿè·Ÿç€ç«äº†ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;1.0515625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvB0zA65Ufly5SywsOgP1caQpc2XHnNIgw3Km61wzjKNGFN1vPleNCqiaibeAfrGib30RibZDW0c0I5Xyw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;(å»ºè®®è¿™ä¸ªè„šæœ¬ä½œè€…å»æ‰¾ä¸ªé£æŠ•ï¼Œç›®æµ‹ä¼°å€¼å¥‡é«˜ï¼Œå¸‚åœºéœ€æ±‚å’Œç”¨æˆ·ç¾¤éƒ½ä¸ä½ã€‚)&lt;/p&gt;&lt;p&gt;å½“æ—¶è¿˜åœ¨å…¬å¸åŠ ç­çš„æˆ‘è¿…é€Ÿåœ¨ç”µè„‘é‡Œéƒ¨ç½²äº†Pythonç¯å¢ƒï¼Œå¹¶ä¸”è¿è¡Œäº†å‡ æ¬¡ï¼Œå…¶ä¸­ä¸¤æ¬¡æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;å¿½ç„¶ä¸€çœ‹å¥½åƒéƒ½å¯¹ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvB0zA65Ufly5SywsOgP1caQwvq0AZuNgZqpATGumBqrPLuylktUlnDIvMFkG8vWYR5D2NSjiaFlSlw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;ä»”ç»†çœ‹å°±çœ‹ä¸ä¸‹å»:&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvB0zA65Ufly5SywsOgP1caQv4LzW3QpWgdkswtocBtUiaBAkOToPltOoYcUQx3ibXOdjp6k5zNhKUiag/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;ä»ä¸ªåˆ«é¢†åŸŸä¸Šè¯´ï¼Œä¸èƒ½ä¸€ä¸‹çœ‹æ‡‚çš„ä¸œè¥¿å¯èƒ½ä¼šæœ‰ä»·å€¼ã€‚&lt;/p&gt;&lt;p&gt;è¿™å°±æ˜¯äº’è”ç½‘é»‘è¯çš„æœ€å¤§ç‰¹ç‚¹ï¼Œæ•´ä½“æ„Ÿè§‰é«˜ç«¯å¤§æ°”ï¼Œä½†æ˜¯å¥½åƒæš—è¯­ä¸€èˆ¬éä¸“ä¸šäººå£«ä¸èƒ½ç†è§£ã€‚&lt;/p&gt;&lt;p&gt;å¦ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œé»‘è¯é›†ä¸­åœ¨æ—¥æŠ¥ï¼Œå‘¨æŠ¥ï¼ŒæœˆæŠ¥ï¼ŒPPTï¼Œå„ç§æ€»ç»“ä¸Šé¢ï¼Œä»¥åŠå„ç§ä¼šè®®ä¸Šé¢ï¼Œåƒç©ºæ°”ä¸€æ ·ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;02&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ›¾å‡ ä½•æ—¶ï¼Œå› ä¸ºå‘¨æŠ¥è¿‡äºç®€å•æ˜äº†ï¼Œæ¯ä¸ªæœˆéƒ½ä¼šè¢«å…¬å¸CEOç‚¹åæ‰¹è¯„ã€‚&lt;/p&gt;&lt;p&gt;æ¯ä¸ªå¼€å‘çš„å‘¨æŠ¥ä¸»æµå¯èƒ½éƒ½æ˜¯ï¼šéœ€æ±‚è¯„å®¡ã€å¼€å‘ã€ææµ‹ä¸Šçº¿ã€‚è¿™å¯¹äºå¼€å‘è€Œè¨€å°±æ˜¯å®äº‹æ±‚æ˜¯ï¼Œå¹¶ä¸”èƒ½è¯´çš„æ˜æ˜ç™½ç™½ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯åœ¨é»‘è¯å‹é€‰æ‰‹çœ¼ä¸­ï¼Œè¿™å°±æ˜¯æ²¡æœ‰ç”¨å¿ƒï¼Œç¼ºä¹å¯¹ä¸šåŠ¡ç†è§£å’Œæ€è€ƒçš„è¡¨ç°ã€‚&lt;/p&gt;&lt;p&gt;åæ¥çš„åæ¥ï¼Œè¢«æ‰¹å¤šäº†å¿ƒæ€å°±éº»æœ¨ï¼Œæœ‰æ—¶è§‰å¾—è‡ªå·±å¯èƒ½æ˜¯ç«æ˜Ÿæ¥çš„ï¼Œå’Œè¯¥ç³»åˆ—é€‰æ‰‹ä¸‰è§‚å†²çªã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;03&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨äº’è”ç½‘ä¸Šï¼Œæœ‰æ„æ€çš„å¯ä¸æ­¢é»‘è¯è¿™ä¸€ç§ç°è±¡ï¼Œæœ‰äº›é¬¼æ‰èˆ¬çš„é€»è¾‘æ‰æ˜¯æ„Ÿäººè‡³æ·±ã€‚&lt;/p&gt;&lt;p&gt;ä½œä¸ºå¤šå¹´ç½‘æ°‘é€‰æ‰‹ï¼Œä½ å¯èƒ½ç»å¸¸ä¼šå¬åˆ°å¦‚ä¸‹çš„ç†è®ºï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.44280442804428044&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uUIibyNXbAvB0zA65Ufly5SywsOgP1caQc2uh54mGibiaOAcYU3qweP8P6cwxNAbZxQS54BibFiaeLHmIo4LbKS2n4w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1084&quot;/&gt;&lt;/p&gt;&lt;p&gt;è¿™æ ·ä¸¤æåŒ–çš„è§‚å¿µéƒ½è·Ÿç€å¤§æ‰¹å«å¥½çš„ç©å®¶ï¼Œä»æ ¹æœ¬ä¸Šçœ‹å°±æ˜¯åœ¨è¯´ä¸¤ä¸ªäººç”Ÿæ€åº¦ï¼šä¿å®ˆä¸æ¿€è¿›ã€‚&lt;/p&gt;&lt;p&gt;å°±ç°å®è€Œè®ºä¸¤ç§è§‚å¿µéƒ½æ²¡æœ‰é”™ï¼Œè™½ç„¶éƒ½ä¸å…·å¤‡å‚è€ƒä»·å€¼ï¼Œä½†æ˜¯å¾ˆå…·æœ‰åšæµé‡çš„èƒ½åŠ›ã€‚&lt;/p&gt;&lt;p&gt;åœ¨é£æŠ•é¢†åŸŸé‡Œæœ‰å¥è¯ï¼šä¿å®ˆä»çŸ­æœŸçœ‹ä¸€å®šæ˜¯å¯¹çš„ï¼Œæ¿€è¿›ä»é•¿æœŸå»çœ‹ä¸€å®šä¼šçŠ¯é”™ã€‚&lt;/p&gt;&lt;p&gt;æ‰€ä»¥ä¸ç®¡æ˜¯åŠä½ ä¿å®ˆï¼Œè¿˜æ˜¯æƒ³æ•™ä½ å¦‚ä½•æ¿€è¿›ï¼Œæ— éå°±æ˜¯å‰²æµé‡ä¸å‰²ä»˜è´¹çš„ä¸¤ç§æ¨¡å¼åŒºåˆ«ï¼Œè€Œåœ¨ä¸¤è€…ä¹‹é—´æœ€éš¾èµ°çš„è·¯å’Œé€‰æ‹©ä¾æ—§éƒ½è¦è‡ªå·±å»æ‘¸çˆ¬æ»šæ‰“ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;04&lt;/span&gt;&lt;/p&gt;&lt;p&gt;äº’è”ç½‘ä¸Šæœ€å¤§çš„é»‘è‰²å¹½é»˜å°±æ˜¯æœ‰å…³æ”¶å…¥çš„è¯é¢˜ï¼šæ”¶å…¥ä½çš„åœ¨å«è‹¦è¿å¤©ï¼Œæ”¶å…¥é«˜çš„åœ¨å‡¡å°”èµ›æ–‡å­¦ã€‚&lt;/p&gt;&lt;p&gt;çƒ­é—¨è§†é¢‘å¸¸è§ï¼Œä½ è§‰å¾—æ¯•ä¸šäº”å¹´ï¼Œæœˆæ”¶å…¥å¤šå°‘åˆé€‚ï¼šå¯èƒ½èµ·ç è¦3ã€5ä¸‡å§ï¼Ÿ&lt;/p&gt;&lt;p&gt;åª’ä½“ä¸Šå¸¸è§æ”¶å…¥é«˜çš„ï¼Œå„ç§æ²¡æ—¶é—´åƒå–ç©ä¹åœ¨è°ˆç”Ÿæ„ï¼Œç„¶åè¦èŠ±è´¹å¿ƒè¡€æ‹è§†é¢‘å‘Šè¯‰å¹¿å¤§ç½‘å‹ï¼Œå¼•æ¥å¤§æ‰¹ç¾¡æ…•çš„å’Œå¤§æ‰¹å˜²è®½çš„ã€‚&lt;/p&gt;&lt;p&gt;åª’ä½“ä¸Šå¸¸è§ä¼´éšç€æ¯å¹´å‘å¸ƒçš„å¹³å‡æ”¶å…¥ï¼Œå„è·¯å¤§ç¥å„ç§æ•°æ®åˆ†æï¼Œå¹³å‡å·¥èµ„å¾ˆä½æœˆå…¥è¿‡ä¸‡å¾ˆå°‘ï¼Œæ‰€ä»¥è¯¥åƒåƒè¯¥ä¹ä¹ã€‚&lt;/p&gt;&lt;p&gt;åŒæ ·æ˜¯ä¸¤ç§è§‚å¿µå¹³åˆ†ç§‹è‰²ï¼Œä½†æ˜¯è§’åº¦ä¾æ—§æ¸…å¥‡ï¼Œäººçš„æ”¶å…¥é«˜ä½å’Œè‡ªå·±æ‰€åœ¨çš„è¡Œä¸šä¸åŸå¸‚æœ‰å¾ˆå¤§çš„å…³ç³»ã€‚&lt;/p&gt;&lt;p&gt;å°¤å…¶æ˜¯åœ¨äº’è”ç½‘è¡Œä¸šä¸­çš„é€‰æ‰‹ï¼Œå·¥ä½œä¸‰äº”å¹´ä¹‹åï¼Œå¦‚æœè¯´æ„Ÿè§‰æœˆå…¥è¿‡ä¸‡å¾ˆå°‘ï¼Œæˆ‘è§‰å¾—ä½ å¯èƒ½è¢«ç”Ÿæ´»æ¬ºéª—äº†ã€‚&lt;/p&gt;&lt;p&gt;äº’è”ç½‘è¡Œä¸šå·¥èµ„æ™®éåé«˜ï¼Œä¸è¿™ä¸ªè¡Œä¸šæ™®éåœ¨ä¸€äºŒçº¿åŸå¸‚å’Œä»˜å‡ºæœ‰å¾ˆå¤§å…³ç³»ï¼Œ996ã€å¤§å°å‘¨ã€æŒç»­å­¦ä¹ ã€‚&lt;/p&gt;&lt;p&gt;ä¸ç®¡æ˜¯äº’è”ç½‘æˆ–è€…åª’ä½“ç½‘çº¢ï¼Œè¿™äº›äººèšé›†åœ¨ç½‘ä¸Šï¼ŒæˆåŠŸå¸¦å‡ºäº†&quot;å„ç§å¹´è–ªç™¾ä¸‡ã€äººåœ¨ç¾å›½åˆšä¸‹é£æœº&quot;çš„æ°›å›´ã€‚&lt;/p&gt;&lt;p&gt;è¿™äº›ç½‘ç»œä¸Šçš„å¹½é»˜è§‚å¿µå¹¶ä¸å…·å¤‡ä»€ä¹ˆå®é™…å‚è€ƒä»·å€¼ï¼Œå¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯åœ¨è‡ªå·±è¡Œä¸šä¸­ä¸æ–­æŒ£æ‰åŠªåŠ›ï¼Œä¸€æ­¥ä¸€è„šå°ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;05&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å½“ä¸‹ä¿¡æ¯æ—¶ä»£ï¼Œäº’è”ç½‘ä¸Šå„ç§ç¥å¥‡ç†è®ºé½é£ï¼Œè‡ªå¾‹æ–‡ã€é¸¡æ±¤æ–‡ã€æ¯’å¥¶æ–‡ã€ä½›ç³»æ–‡ã€æ•…äº‹æ–‡ï¼Œæ— ä¸è¯´çš„æœ‰ç†æœ‰æ®æœ‰å£°æœ‰è‰²ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯äºè‡ªèº«è€Œè¨€ï¼Œå¤šæ•°éƒ½æ˜¯çœ‹äº†ä¹‹åä¸€ç¬‘äº†ä¹‹ï¼Œæˆ–è€…æ°´æ·±ç«çƒ­çš„è·Ÿé£ä¸‰åˆ†é’Ÿã€‚&lt;/p&gt;&lt;p&gt;ä¸ªäººä¾æ—§è®¤ä¸ºäº’è”ç½‘è¡Œä¸šçš„é€‰æ‰‹ï¼ŒèŠ±æ—¶é—´ä¸æ–­æé«˜è‡ªå·±çš„ä¸“ä¸šèƒ½åŠ›ï¼Œæ‹“å®½è®¤çŸ¥è¾¹ç•Œæ‰æ˜¯æœ€æœ‰ä»·å€¼çš„äº‹æƒ…ï¼Œå¶å°”çœ‹çœ‹åª’ä½“ä¿¡æ¯ï¼Œäº†è§£ä¸–ç•Œä¹‹å¤§æ— å¥‡ä¸æœ‰ï¼Œä¹Ÿæ˜¯ç”Ÿæ´»ä¸€å¤§ä¹è¶£ã€‚&lt;/p&gt;&lt;p&gt;ä½œä¸ºä¸€ä¸ªå°†è¿‘10å¹´çš„ç½‘æ°‘ï¼Œç°åœ¨å…³æ³¨æœ€å¤šçš„å°±æ˜¯æ–°é—»é¢‘é“ï¼Œè¿™é‡Œå¿…é¡»è¦å¼ºè°ƒä¸€ä¸‹æˆ‘å¹¶ä¸æ˜¯è€äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;END&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU4Njg0MzYwNw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/uUIibyNXbAvBCuF3zfJnqPKpUia4wfn1FUtTHpxxkR5HvbicPgOjibPicX0goMOkny1NdkLAJvBaqrYh3UdwMjiaDQMA/0?wx_fmt=png&quot; data-nickname=&quot;çŸ¥äº†ä¸€ç¬‘&quot; data-alias=&quot;cicada_smile&quot; data-signature=&quot;ç§¯ç´¯æ˜¯ä¸€ä¸ªå­¤ç‹¬ä¸”æ¯ç‡¥çš„è¿‡ç¨‹&quot;/&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>ea6598dcc700d7dc469775b46e34d09f</guid>
<title>é¢è¯•å¿…å¤‡å¸¸è§å­˜å‚¨å¼•æ“ä¸é”çš„åˆ†ç±»ï¼Œè¯·æŸ¥æ”¶</title>
<link>https://toutiao.io/k/lyccgvn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-backh=&quot;181&quot; data-backw=&quot;558&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.32344763670064874&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpOjRJj3rEmVIcZ4cxnPGXMbOToA3HQiafTrfmjfvOVQH0fLtCJwj3DkfC1GoPIRVmLY5oTemAhXibRQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1079&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬åœ¨ä¸Šç¯‡æ–‡ç« ä¸­æåˆ°äº†è®°å½•é”ï¼ˆè¡Œé”ï¼‰ã€é—´éš™é”å’Œä¸´é”®é”ï¼Œåå°æœ‰å°ä¼™ä¼´å‚¬æˆ‘æ›´æ–°ä¸€ä¸‹å…¶ä»–çš„é”ã€‚æ‹–å»¶ç—‡åˆçŠ¯äº†ï¼Œè¶å‘¨æœ«ï¼Œä»Šå¤©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹&lt;code&gt;MyISAM&lt;/code&gt;å’Œ&lt;code&gt;InnoDB&lt;/code&gt;å¼•æ“ä¸‹é”çš„ç§ç±»åŠä½¿ç”¨æ–¹æ³•ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;MySQLçš„å››å¤§å¸¸è§å­˜å‚¨å¼•æ“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è°ˆåˆ°&lt;code&gt;MyISAM&lt;/code&gt;å’Œ&lt;code&gt;InnoDB&lt;/code&gt;äº†æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯å­˜å‚¨å¼•æ“å§ã€‚&lt;code&gt;MySQL&lt;/code&gt;ä¸­çš„æ•°æ®ç”¨å„ç§ä¸åŒçš„æŠ€æœ¯å­˜å‚¨åœ¨æ–‡ä»¶ï¼ˆæˆ–è€…å†…å­˜ï¼‰ä¸­ï¼Œè¿™äº›æŠ€æœ¯ä¸­çš„æ¯ä¸€ç§æŠ€æœ¯éƒ½ä½¿ç”¨ä¸åŒçš„å­˜å‚¨æœºåˆ¶ã€ç´¢å¼•æŠ€å·§ã€é”å®šæ°´å¹³å¹¶ä¸”æœ€ç»ˆæä¾›å¹¿æ³›çš„ä¸åŒçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æŠŠè¿™äº›ä¸åŒçš„æŠ€æœ¯ä»¥åŠé…å¥—çš„ç›¸å…³åŠŸèƒ½ç§°ä¸ºå­˜å‚¨å¼•æ“(ä¹Ÿç§°ä½œè¡¨ç±»å‹)ã€‚MySQLé»˜è®¤é…ç½®äº†è®¸å¤šä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸åŒçš„å­˜å‚¨å¼•æ“æ¥æ»¡è¶³æˆ‘ä»¬å¯¹æ•°æ®çš„å¤„ç†ï¼ˆå­˜å‚¨ã€æ£€ç´¢ç­‰ï¼‰éœ€æ±‚ï¼Œä»¥æ”¹å–„æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ•´ä½“åŠŸèƒ½ã€‚æ­£å› ä¸º&lt;code&gt;MySQL&lt;/code&gt;å­˜å‚¨å¼•æ“çš„å¤šæ ·æ€§ï¼Œä½¿å¾—&lt;code&gt;MySQL&lt;/code&gt;æ·±å—å¹¿å¤§å¼€å‘è€…çš„å‚é’ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çš„å‰ææ¡ä»¶ï¼šæˆ‘ç”¨çš„æ˜¯&lt;code&gt;5.7.24-log&lt;/code&gt;ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨&lt;code&gt;Navicat&lt;/code&gt;ä¸­é€šè¿‡&lt;code&gt;SELECT VERSION();&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹ã€‚é‚£ä¹ˆ&lt;code&gt;MySQL&lt;/code&gt;éƒ½æœ‰å“ªäº›å­˜å‚¨å¼•æ“å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨sqlå‘½ä»¤&lt;code&gt;SHOW ENGINES;&lt;/code&gt;æ¥æŸ¥çœ‹ï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;img data-ratio=&quot;0.2515391380826737&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMrMeosQsorL6KXxxpXtctC7OFj2BPStbGYKLVFM7PoE19Ttrp6t7AJpWZf6jkgBUwbGAZKwUCdmA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1137&quot;/&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Engineï¼šè¡¨ç¤ºå‚¨å­˜å¼•æ“åç§°ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Supportï¼šè¡¨ç¤º&lt;code&gt;MySQL&lt;/code&gt;æ˜¯å¦æ”¯æŒè¯¥å­˜å‚¨å¼•æ“ï¼Œ&lt;code&gt;DEFAULT&lt;/code&gt;ä¸ºé»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Commentï¼šæ˜¯å¯¹è¯¥å­˜å‚¨å¼•æ“çš„åŠŸèƒ½æè¿°ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;InnoDB&lt;/code&gt;æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”å®šå’Œå¤–é”®ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Transactionsï¼šæ˜¯å¦æ”¯æŒäº‹åŠ¡ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;XAï¼šå­˜å‚¨å¼•æ“æ˜¯å¦æ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Savepointsï¼šå­˜å‚¨å¼•æ“æ˜¯å¦æ”¯æŒä¿å­˜ç‚¹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€è®©æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹å…¶ä¸­æ¯”è¾ƒå¸¸è§çš„å››å¤§å­˜å‚¨å¼•æ“å§ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;InnoDB&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;InnoDB&lt;/code&gt;æ˜¯&lt;code&gt;MySQL&lt;/code&gt;ï¼ˆ&lt;code&gt;MySQL5.5&lt;/code&gt;ä»¥åï¼‰çš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œæ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”å’Œå¤–é”®ï¼Œè¢«ç”¨æ¥å¤„ç†å¤§é‡çŸ­æœŸäº‹åŠ¡ã€‚å¦‚æœä½¿ç”¨åˆ°å¤–é”®ã€éœ€æ±‚å¹¶å‘ç¨‹åº¦è¾ƒé«˜ã€æ•°æ®ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜çš„è¯ï¼Œé‚£ä¹ˆé€šå¸¸é€‰æ‹©&lt;code&gt;InnoDB&lt;/code&gt;å¼•æ“ï¼Œè¿™ä¹Ÿæ˜¯äº’è”ç½‘å¤§å‚ä½¿ç”¨&lt;code&gt;InnoDB&lt;/code&gt;å­˜å‚¨å¼•æ“çš„åŸå› ã€‚é™¤éæœ‰éå¸¸ç‰¹åˆ«çš„åŸå› éœ€è¦ä½¿ç”¨å…¶ä»–çš„å­˜å‚¨å¼•æ“ï¼Œå¦åˆ™å»ºè®®ä¼˜å…ˆè€ƒè™‘&lt;code&gt;InnoDB&lt;/code&gt;ã€‚ä½†æ˜¯å¯¹æ¯”&lt;code&gt;MyISAM&lt;/code&gt;ï¼Œ&lt;code&gt;InnoDB&lt;/code&gt;å†™çš„å¤„ç†æ•ˆç‡ä¼šå·®ä¸€äº›ï¼Œå¹¶ä¸”ä¼šå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ä»¥ä¿ç•™æ•°æ®å’Œç´¢å¼•ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;MyISAM&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;MyISAM&lt;/code&gt;æä¾›äº†å¤§é‡çš„ç‰¹æ€§ï¼ŒåŒ…å«å…¨æ–‡ç´¢å¼•ã€å‹ç¼©ã€ç©ºé—´è¡Œæ•°ç­‰ï¼Œæ”¯æŒ3ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯ï¼šé™æ€è¡¨ã€åŠ¨æ€è¡¨ã€å‹ç¼©è¡¨ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é™æ€è¡¨ï¼šè¡¨ä¸­çš„å­—æ®µéƒ½æ˜¯éå˜é•¿å­—æ®µï¼Œè¿™æ ·æ¯ä¸ªè®°å½•éƒ½æ˜¯å›ºå®šé•¿åº¦çš„ã€‚ä¼˜ç‚¹æ˜¯å­˜å‚¨éå¸¸è¿…é€Ÿï¼Œå®¹æ˜“ç¼“å­˜ï¼Œå‡ºç°æ•…éšœå®¹æ˜“æ¢å¤ï¼›ç¼ºç‚¹æ˜¯å ç”¨çš„ç©ºé—´é€šå¸¸æ¯”åŠ¨æ€è¡¨å¤šï¼ˆå› ä¸ºå­˜å‚¨æ—¶ä¼šæŒ‰ç…§åˆ—çš„å®½åº¦å®šä¹‰è¡¥è¶³ç©ºæ ¼ï¼‰ï¼Œåœ¨å–æ•°æ®çš„æ—¶å€™ï¼Œé»˜è®¤ä¼šæŠŠå­—æ®µåé¢çš„ç©ºæ ¼å»æ‰ï¼Œå¦‚æœä¸æ³¨æ„ä¼šæŠŠæ•°æ®æœ¬èº«å¸¦çš„ç©ºæ ¼ä¹Ÿä¼šå¿½ç•¥ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åŠ¨æ€è¡¨ï¼šè¡¨ä¸­çš„å­—æ®µéƒ½æ˜¯å˜é•¿å­—æ®µï¼Œè®°å½•ä¸æ˜¯å›ºå®šé•¿åº¦çš„ã€‚è¿™æ ·å­˜å‚¨çš„ä¼˜ç‚¹æ˜¯å ç”¨çš„ç©ºé—´ç›¸å¯¹è¾ƒå°‘ï¼›ç¼ºç‚¹æ˜¯é¢‘ç¹çš„æ›´æ–°ã€åˆ é™¤æ•°æ®å®¹æ˜“äº§ç”Ÿç¢ç‰‡ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œ&lt;code&gt;OPTIMIZE TABLE&lt;/code&gt;æˆ–è€…&lt;code&gt;myisamchk -r&lt;/code&gt;å‘½ä»¤æ¥æ”¹å–„æ€§èƒ½ï¼Œå¹¶ä¸”å‡ºç°æ•…éšœçš„æ—¶å€™æ¢å¤ç›¸å¯¹æ¯”è¾ƒå›°éš¾ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å‹ç¼©è¡¨ï¼šå‹ç¼©è¡¨ç”±myisamchkå·¥å…·åˆ›å»ºï¼Œå æ®éå¸¸å°çš„ç©ºé—´ï¼Œå› ä¸ºæ¯æ¡è®°å½•éƒ½æ˜¯è¢«å•ç‹¬å‹ç¼©çš„ï¼Œæ‰€ä»¥åªæœ‰éå¸¸å°çš„è®¿é—®å¼€æ”¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨&lt;code&gt;MyISAM&lt;/code&gt;ä¸­ï¼Œæ•°æ®æ–‡ä»¶å’Œç´¢å¼•æ–‡ä»¶å¯ä»¥æ”¾ç½®åœ¨ä¸åŒçš„ç›®å½•ï¼ˆåœ¨åˆ›å»ºè¡¨çš„æ—¶å€™é€šè¿‡&lt;code&gt;DATA DIRECTORY&lt;/code&gt;å’Œ&lt;code&gt;INDEX DIRECTORY&lt;/code&gt;è¯­å¥æŒ‡å®šæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼‰ï¼Œå¹³å‡åˆ†é…IOï¼Œè·å–æ›´å¿«çš„è®¿é—®é€Ÿåº¦ã€‚ä½†æ˜¯&lt;code&gt;MyISAM&lt;/code&gt;ä¸æ”¯æŒäº‹åŠ¡ï¼Œä¸æ”¯æŒå¤–é”®ï¼Œä¹Ÿä¸æ”¯æŒè¡Œçº§é”ï¼Œæ”¯æŒè¡¨çº§é”ï¼Œæœ‰ä¸ªç¼ºé™·å°±æ˜¯å´©æºƒåæ— æ³•æ¢å¤ã€‚å¦‚æœåº”ç”¨ç¨‹åºä»¥æ£€ç´¢ä¸ºä¸»ï¼Œåªæœ‰å°‘é‡çš„æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œï¼Œå¹¶ä¸”å¯¹äº‹ç‰©çš„å®Œæ•´æ€§ã€å¹¶å‘ç¨‹åº¦ä¸æ˜¯å¾ˆé«˜çš„è¯ï¼Œé€šå¸¸å»ºè®®é€‰æ‹©&lt;code&gt;MyISAM&lt;/code&gt;å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Memory&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Memory&lt;/code&gt;å­˜å‚¨å¼•æ“ä½¿ç”¨å­˜åœ¨å†…å­˜ä¸­çš„å†…å®¹æ¥åˆ›å»ºè¡¨ï¼Œæ‰€ä»¥å®ƒçš„è®¿é—®é€Ÿåº¦éå¸¸å¿«ï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨&lt;code&gt;HASH&lt;/code&gt;ç´¢å¼•ã€‚ä½†æ˜¯ä¸€æ—¦æœåŠ¡å™¨å…³é—­æˆ–è€…&lt;code&gt;mysqld&lt;/code&gt;å®ˆæŠ¤è¿›ç¨‹å´©æºƒæ—¶ï¼Œæ‰€æœ‰çš„&lt;code&gt;Memory&lt;/code&gt;æ•°æ®éƒ½ä¼šä¸¢å¤±ï¼Œä½†è¡¨è¿˜ä¼šç»§ç»­å­˜åœ¨ï¼Œè·å¾—é€Ÿåº¦çš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›ç¼ºé™·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒè¦æ±‚å­˜å‚¨åœ¨&lt;code&gt;Memory&lt;/code&gt;æ•°æ®è¡¨é‡Œçš„æ•°æ®ä½¿ç”¨çš„æ˜¯é•¿åº¦ä¸å˜çš„æ ¼å¼ï¼Œè¿™æ„å‘³ç€ä¸èƒ½ä½¿ç”¨&lt;code&gt;BLOB&lt;/code&gt;å’Œ&lt;code&gt;TEXT&lt;/code&gt;è¿™æ ·çš„é•¿åº¦å¯å˜çš„æ•°æ®ç±»å‹ï¼Œ&lt;code&gt;VARCHAR&lt;/code&gt;æ˜¯ä¸€ç§é•¿åº¦å¯å˜çš„ç±»å‹ï¼Œä½†å› ä¸ºå®ƒåœ¨&lt;code&gt;MySQL&lt;/code&gt;å†…éƒ¨å½“åšé•¿åº¦å›ºå®šä¸å˜çš„&lt;code&gt;CHAR&lt;/code&gt;ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœåŠ¡å™¨éœ€è¦è¶³å¤Ÿçš„å†…å­˜æ¥ç»´æŒåœ¨åŒä¸€æ—¶é—´å†…ä½¿ç”¨çš„&lt;code&gt;MEMORY&lt;/code&gt;è¡¨ï¼Œå½“ä¸å†ä½¿ç”¨&lt;code&gt;MEMORY&lt;/code&gt;è¡¨æ—¶ï¼Œè¦é‡Šæ”¾&lt;code&gt;MEMORY&lt;/code&gt;è¡¨æ‰€å ç”¨çš„å†…å­˜ï¼Œåº”è¯¥æ‰§è¡Œ&lt;code&gt;DELETE FROM&lt;/code&gt;æˆ–&lt;code&gt;truncate table&lt;/code&gt;æˆ–è€…åˆ é™¤æ•´ä¸ªè¡¨ã€‚æ¯ä¸ª&lt;code&gt;MEMORY&lt;/code&gt;è¡¨ä¸­æ”¾ç½®çš„æ•°æ®é‡çš„å¤§å°ï¼Œå—åˆ°&lt;code&gt;max_heap_table_size&lt;/code&gt;ç³»ç»Ÿå˜é‡çš„çº¦æŸï¼Œè¿™ä¸ªç³»ç»Ÿå˜é‡çš„åˆå§‹å€¼æ˜¯16Mï¼ŒåŒæ—¶åœ¨åˆ›å»º&lt;code&gt;MEMORY&lt;/code&gt;è¡¨æ—¶å¯ä»¥ä½¿ç”¨&lt;code&gt;MAX_ROWS&lt;/code&gt;å­å¥æ¥æŒ‡å®šè¡¨ä¸­çš„æœ€å¤§è¡Œæ•°ã€‚å®ƒé€šå¸¸ç”¨äºæ›´æ–°ä¸å¤ªé¢‘ç¹çš„å°è¡¨ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Merge&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Merge&lt;/code&gt;å­˜å‚¨å¼•æ“æ˜¯ä¸€ç»„&lt;code&gt;MyISAM&lt;/code&gt;è¡¨çš„ç»„åˆï¼Œè¿™äº›&lt;code&gt;MyISAM&lt;/code&gt;è¡¨ç»“æ„å¿…é¡»å®Œå…¨ç›¸åŒï¼Œ&lt;code&gt;Merge&lt;/code&gt;è¡¨æœ¬èº«æ²¡æœ‰æ•°æ®ï¼Œå¯¹&lt;code&gt;Merge&lt;/code&gt;ç±»å‹çš„è¡¨è¿›è¡ŒæŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤çš„æ“ä½œï¼Œå®é™…ä¸Šæ˜¯å¯¹å†…éƒ¨çš„&lt;code&gt;MyISAM&lt;/code&gt;è¡¨è¿›è¡Œçš„ã€‚Mergeè¡¨åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯&lt;code&gt;.frm&lt;/code&gt;æ–‡ä»¶å­˜å‚¨è¡¨å®šä¹‰ã€ä¸€ä¸ªæ˜¯&lt;code&gt;.MRG&lt;/code&gt;æ–‡ä»¶å­˜å‚¨&lt;code&gt;Merge&lt;/code&gt;è¡¨çš„ç»„æˆç­‰ã€‚&lt;code&gt;MERGE&lt;/code&gt;è¡¨çš„ä¼˜ç‚¹åœ¨äºå¯ä»¥çªç ´å¯¹å•ä¸ª&lt;code&gt;MyISAM&lt;/code&gt;è¡¨å¤§å°çš„é™åˆ¶ï¼Œå¹¶ä¸”é€šè¿‡å°†ä¸åŒçš„è¡¨åˆ†å¸ƒåœ¨å¤šä¸ªç£ç›˜ä¸Šï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ”¹å–„&lt;code&gt;MERGE&lt;/code&gt;è¡¨çš„è®¿é—®æ•ˆç‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code&gt;show create table è¡¨å&lt;/code&gt; å‘½ä»¤æ¥æŸ¥çœ‹è¡¨ä½¿ç”¨çš„å¼•æ“ï¼Œç”±ä»¥ä¸‹ä»£ç å¯ä»¥çœ‹å‡º&lt;code&gt;test&lt;/code&gt;è¡¨ä½¿ç”¨çš„æ˜¯&lt;code&gt;MyISAM&lt;/code&gt;å­˜å‚¨å¼•æ“ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;CREATE TABLE `test` (&lt;br/&gt;  `id` int(1) NOT NULL AUTO_INCREMENT,&lt;br/&gt;  `name` varchar(8) DEFAULT NULL,&lt;br/&gt;  `age` int(11) DEFAULT NULL,&lt;br/&gt;  PRIMARY KEY (`id`)&lt;br/&gt;) ENGINE=MyISAM AUTO_INCREMENT=46 DEFAULT CHARSET=utf8&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸å¯¹å…¶ä»–æ•°æ®åº“è€Œè¨€ï¼Œ&lt;code&gt;MySQL&lt;/code&gt;çš„é”æœºåˆ¶æ¯”è¾ƒç®€å•ï¼Œå…¶æœ€æ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯ä¸åŒçš„å­˜å‚¨å¼•æ“æ”¯æŒä¸åŒçš„é”æœºåˆ¶ã€‚æ¯”å¦‚ï¼Œ&lt;code&gt;MyISAM&lt;/code&gt;å’Œ&lt;code&gt;MEMORY&lt;/code&gt;å­˜å‚¨å¼•æ“é‡‡ç”¨çš„æ˜¯è¡¨çº§é”ï¼ˆ&lt;code&gt;table-level locking&lt;/code&gt;ï¼‰ï¼›&lt;code&gt;BDB&lt;/code&gt;å­˜å‚¨å¼•æ“ï¼ˆ5.1ä¹‹åå°±ä¸ç›´æ¥æ”¯æŒäº†ï¼Œå› ä¸º&lt;code&gt;BDB&lt;/code&gt;è¢«&lt;code&gt;oracle&lt;/code&gt;æ”¶è´­äº†ï¼‰é‡‡ç”¨çš„æ˜¯é¡µé¢é”ï¼ˆ&lt;code&gt;page-level locking&lt;/code&gt;ï¼‰ï¼Œä½†ä¹Ÿæ”¯æŒè¡¨çº§é”ï¼›&lt;code&gt;InnoDB&lt;/code&gt;å­˜å‚¨å¼•æ“æ—¢æ”¯æŒè¡Œçº§é”ï¼ˆ&lt;code&gt;row-level locking&lt;/code&gt;ï¼‰ï¼Œä¹Ÿæ”¯æŒè¡¨çº§é”ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹æ˜¯é‡‡ç”¨è¡Œçº§é”ã€‚æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹&lt;code&gt;MyISAM&lt;/code&gt;å’Œ&lt;code&gt;InnoDB&lt;/code&gt;é”çš„å…·ä½“åˆ†ç±»ä¸ä½¿ç”¨æ–¹æ³•ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;MyISAMé”&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;MyISAM&lt;/code&gt;å­˜å‚¨å¼•æ“æ”¯æŒçš„è¡¨çº§é”åˆ†ä¸ºè¡¨å…±äº«è¯»é”ï¼ˆ&lt;code&gt;Table Read Lock&lt;/code&gt;ï¼‰å’Œè¡¨ç‹¬å å†™é”ï¼ˆ&lt;code&gt;Table Write Lock&lt;/code&gt;ï¼‰ï¼Œä»¥ä¸‹ç®€ç§°è¯»é”å’Œå†™é”ã€‚å…ˆçœ‹ä¸€ä¸‹ä»–ä»¬çš„ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è¯»é”ï¼šä¸ä¼šé˜»ç¢å…¶å®ƒè¿›ç¨‹çš„è¯»ï¼Œä½†æ˜¯ä¼šé˜»ç¢å†™ï¼Œåªæœ‰å½“è¯»é”é‡Šæ”¾ä¹‹åï¼Œæ‰ä¼šæ‰§è¡Œå…¶å®ƒè¿›ç¨‹çš„å†™--è¯»é”é˜»å¡å†™é”ï¼Œä½†æ˜¯ä¸é˜»å¡è¯»é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å†™é”ï¼šä¼šé˜»ç¢å…¶ä»–è¿›ç¨‹çš„è¯»å’Œå†™ï¼Œåªæœ‰å½“å†™é”é‡Šæ”¾ï¼Œæ‰ä¼šæ‰§è¡Œå…¶å®ƒå†™æ“ä½œ--å†™é”é˜»å¡è¯»é”å’Œå†™é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥è®©æˆ‘ä»¬ç”¨ä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹ä¸Šè¾¹çš„ç»“è®ºï¼Œåœ¨æ¼”ç¤ºä¹‹å‰ï¼Œå…ˆè®©æˆ‘ä»¬æ¥è¯´å‡ ä¸ªå‘½ä»¤å§ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;LOCK TABLE è¡¨å WRITE/READï¼šç»™è¡¨åŠ å†™é”æˆ–è€…è¯»é”ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;UNLOCK TABLESï¼šç»™è¡¨è§£é”&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ¼”ç¤ºä¸€ï¼šè¡¨å…±äº«è¯»é”&lt;/strong&gt;&lt;img data-ratio=&quot;0.3485436893203884&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMrMeosQsorL6KXxxpXtctCzknCxmPF6KJEhk29zHWOAlibiaL8bggvg8lMkribxibGLVHt2Km53byCTQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1030&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“&lt;code&gt;session1&lt;/code&gt;ç»™è¡¨&lt;code&gt;test&lt;/code&gt;åŠ è¯»é”æ—¶ï¼Œ&lt;code&gt;session1&lt;/code&gt;åªèƒ½è¯»å–å½“å‰è¡¨çš„æ•°æ®ï¼Œä¸å¯ä»¥è¯»å…¶ä»–è¡¨ï¼Œä¹Ÿä¸å¯ä»¥ä¿®æ”¹&lt;code&gt;test&lt;/code&gt;å’Œå…¶ä»–è¡¨ï¼›&lt;code&gt;session2&lt;/code&gt;å¯ä»¥è¯»å–&lt;code&gt;test&lt;/code&gt;è¡¨æ•°æ®ï¼Œæ›´æ–°&lt;code&gt;test&lt;/code&gt;è¡¨é˜»å¡ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å’ŒæŸ¥è¯¢å…¶ä»–è¡¨æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ¼”ç¤ºäºŒï¼šè¡¨ç‹¬å å†™é”&lt;/strong&gt;&lt;img data-ratio=&quot;0.30288461538461536&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMrMeosQsorL6KXxxpXtctC9ic8A5DHUur0UWvG80EqSMgYibpH9jOq5pmhVjdE9ibh9GOWPYsKCmvKA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1040&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“&lt;code&gt;session1&lt;/code&gt;ç»™è¡¨&lt;code&gt;test&lt;/code&gt;åŠ å†™é”æ—¶ï¼Œå¯ä»¥æ›´æ–°&lt;code&gt;test&lt;/code&gt;è¡¨ï¼Œè¯»&lt;code&gt;test&lt;/code&gt;è¡¨é˜»å¡ï¼Œä½†æ˜¯ä¸å¯ä»¥ä¿®æ”¹å’ŒæŸ¥è¯¢å…¶ä»–è¡¨æ•°æ®ï¼›&lt;code&gt;session2&lt;/code&gt;æŸ¥è¯¢å’Œæ›´æ–°&lt;code&gt;test&lt;/code&gt;è¡¨é˜»å¡ï¼Œä½†æ˜¯å¯ä»¥æŸ¥è¯¢å’Œæ›´æ–°å…¶ä»–è¡¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;show open tables&lt;/code&gt;å‘½ä»¤æ¥æŸ¥çœ‹åœ¨è¡¨ç¼“å­˜ä¸­å½“å‰è¢«æ‰“å¼€çš„éTEMPORARYè¡¨çš„é”ä½¿ç”¨æƒ…å†µï¼Œå…¶ä¸­In_useè¡¨ç¤ºæœ‰é”æ­£åœ¨ä½¿ç”¨ã€‚&lt;img data-ratio=&quot;0.5845410628019324&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMrMeosQsorL6KXxxpXtctCDs8QQxFZyPicjKgibvRd2XZKvd8S5LF0iappHKTjEu6CKGHlr0Pm96eJQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;621&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;show status like &#x27;table%&#x27;&lt;/code&gt;å‘½ä»¤æ¥æŸ¥çœ‹é”çš„äº‰å¤ºæƒ…å†µï¼Œå…¶ä¸­&lt;code&gt;Table_locks_waited&lt;/code&gt;ä¸ºç­‰å¾…æ¬¡æ•°ï¼Œæ¯ç­‰å¾…ä¸€æ¬¡ï¼Œå€¼å°±åŠ ä¸€ï¼Œå€¼è¶Šå¤§ï¼Œè¡¨ç¤ºå­˜åœ¨è¶Šä¸¥é‡çš„è¡¨çº§é”äº‰ç”¨ï¼›&lt;code&gt;Table_locks_immediate&lt;/code&gt;ä¸ºäº§ç”Ÿè¡¨çº§é”å®šçš„æ¬¡æ•°ï¼Œè¡¨ç¤ºå¯ä»¥ç«‹å³è·å–é”çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œæ¯ç«‹å³è·å–é”ï¼Œå€¼åŠ ä¸€ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â˜…&lt;/span&gt;&lt;p&gt;&lt;code&gt;MyISAM&lt;/code&gt;é»˜è®¤æ˜¯ä½¿ç”¨&lt;code&gt;select&lt;/code&gt;è¯­å¥åŠ è¯»é”ï¼Œå¢åˆ æ”¹æ“ä½œåŠ å†™é”ã€‚&lt;code&gt;MyISAM&lt;/code&gt;æ˜¯åè¯»é”ï¼Œè¯»å†™è°ƒåº¦å†™ä¼˜å…ˆï¼Œä¸é€‚åˆåšå†™ä¸ºä¸»çš„è¡¨çš„å¼•æ“ã€‚å› ä¸ºå†™é”åï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½åšä»»ä½•æ“ä½œï¼Œå¤§é‡æ›´æ–°ä¼šä½¿æŸ¥è¯¢å¾ˆéš¾å¾—åˆ°é”ï¼Œä»è€Œæ°¸è¿œé˜»å¡ã€‚&lt;/p&gt;&lt;span&gt;â€&lt;/span&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;InnoDBé”&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è®²è¿‡äº†è®°å½•é”ï¼ˆè¡Œé”ï¼‰ã€é—´éš™é”å’Œä¸´é”®é”ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æŒ‰ç…§é”çš„æ¨¡å¼è®²ä¸€ä¸‹&lt;code&gt;InnoDB&lt;/code&gt;é‡Œçš„å…±äº«é”ã€æ’ä»–é”å’Œæ„å‘é”ï¼Œå…¶ä¸­å…±äº«é”å’Œæ’ä»–é”å±äºè¡Œçº§é”ï¼Œè¡Œçº§é”éƒ½æ˜¯åŸºäºç´¢å¼•é¡¹çš„ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•é¡¹ï¼Œåˆ™æ·»åŠ çš„æ˜¯è¡¨çº§é”ï¼›æ„å‘é”å±äºè¡¨çº§é”ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å…±äº«é”ï¼šShared Locksï¼Œç®€ç§°Sé”&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠSé”ï¼Œåˆ™äº‹åŠ¡Tåªèƒ½è¯»Aï¼›å…¶ä»–äº‹åŠ¡åªèƒ½å†å¯¹AåŠ Sé”ï¼Œè€Œä¸èƒ½åŠ Xé”ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„Sé”ã€‚è¿™å°±ä¿è¯äº†å…¶ä»–äº‹åŠ¡å¯ä»¥è¯»Aï¼Œä½†åœ¨Té‡Šæ”¾Aä¸Šçš„Sé”ä¹‹å‰ä¸èƒ½å¯¹Aåšä»»ä½•ä¿®æ”¹ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;select ... lock in share mode&lt;/code&gt;æ¥åŠ å…±äº«é”ï¼Œé€šè¿‡&lt;code&gt;Commit&lt;/code&gt;ã€&lt;code&gt;Rollback&lt;/code&gt;æ¥é‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ’ä»–é”ï¼šExclusive lockï¼Œç®€ç§°Xé”ï¼Œä¹Ÿå«äº’æ–¥é”&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‹¥äº‹åŠ¡Tå¯¹æ•°æ®å¯¹è±¡AåŠ ä¸ŠXé”ï¼Œåˆ™åªå…è®¸Tè¯»å–å’Œä¿®æ”¹Aï¼Œå…¶å®ƒä»»ä½•äº‹åŠ¡éƒ½ä¸èƒ½å†å¯¹AåŠ ä»»ä½•ç±»å‹çš„é”ï¼ˆæ’ä»–é”ä¸å¯ä¸å…¶ä»–é”å…±å­˜ï¼‰ï¼Œç›´åˆ°Té‡Šæ”¾Aä¸Šçš„é”ã€‚å®ƒé˜²æ­¢ä»»ä½•å…¶å®ƒäº‹åŠ¡è·å–èµ„æºä¸Šçš„é”ï¼Œç›´åˆ°åœ¨äº‹åŠ¡çš„æœ«å°¾å°†èµ„æºä¸Šçš„åŸå§‹é”é‡Šæ”¾ä¸ºæ­¢ã€‚å¯ä»¥é€šè¿‡&lt;code&gt;select ... for update&lt;/code&gt;æ‰‹åŠ¨åŠ é”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¢åˆ æ”¹æ“ä½œè‡ªåŠ¨åŠ é”ï¼Œé€šè¿‡&lt;code&gt;Commit&lt;/code&gt;ã€&lt;code&gt;Rollback&lt;/code&gt;æ¥é‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ„å‘é”ï¼šIntention Locks&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´èµ·æ„å‘é”ï¼Œå¤§å®¶å…ˆæ¥è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼šå‡è®¾å­˜åœ¨ä¸¤ä¸ªäº‹åŠ¡Aå’ŒBå¯¹è¡¨&lt;code&gt;test&lt;/code&gt;è¿›è¡Œæ“ä½œï¼Œé¦–å…ˆäº‹åŠ¡Aå¯¹ç¬¬åè¡Œæ•°æ®åŠ äº†ä¸€æŠŠè¯»é”ï¼Œé”ä½äº†è¯¥è¡Œæ•°æ®ï¼Œè®©è¿™ä¸€è¡Œåªèƒ½è¯»ï¼Œä¸èƒ½å†™ï¼›ç„¶åäº‹åŠ¡Bæƒ³è¦å¯¹è¯¥è¡¨åŠ ä¸€æŠŠè¡¨çº§çš„å†™é”ï¼Œé‚£ä¹ˆäº‹åŠ¡Bèƒ½å¦åŠ é”æˆåŠŸå‘¢ï¼Ÿæ€è€ƒä¸¤ç§’é’Ÿ...ç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ï¼Œå³äº‹åŠ¡Bæ— æ³•åŠ é”æˆåŠŸã€‚å¦‚æœæˆ‘ä»¬å‡è®¾å®ƒåŠ é”æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆç†è®ºä¸Šå®ƒå°±èƒ½ä¿®æ”¹è¡¨ä¸­çš„ä»»æ„ä¸€è¡Œï¼Œè¿™å°†ä¸äº‹åŠ¡AæŒæœ‰çš„è¡Œçº§é”ï¼ˆè¯»é”ï¼‰äº§ç”Ÿå†²çªã€‚è€Œæ•°æ®åº“æƒ³é¿å…è¿™ç§å†²çªçš„è¯ï¼Œå°±éœ€è¦å°†äº‹åŠ¡Bçš„åŠ é”ç”³è¯·ç»™é˜»å¡ä½ï¼Œç›´åˆ°äº‹åŠ¡Açš„è¡Œé”è¢«é‡Šæ”¾ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ•°æ®åº“æ˜¯æ€ä¹ˆåˆ¤æ–­è¿™ç§å†²çªçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸¤ç§æ–¹æ¡ˆï¼šä¸€ã€åˆ¤æ–­è¡¨æ˜¯å¦å·²è¢«å…¶ä»–äº‹åŠ¡ç”¨è¡¨é”é”è¡¨ï¼›äºŒã€åˆ¤æ–­è¡¨ä¸­çš„æ¯ä¸€è¡Œæ˜¯å¦å·²è¢«è¡Œé”é”ä½ã€‚å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœé‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•çš„è¯ï¼Œéœ€è¦ä¸€è¡Œä¸€è¡Œå»éå†æ•´å¼ è¡¨ï¼Œæ•ˆç‡å¤ªæ…¢è¿›è€Œé€ æˆç³»ç»Ÿæ¶ˆè€—ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ç¬¬ä¸€ç§æ–¹æ³•ï¼Œè¿™ä¹Ÿå°±æ˜¯æ„å‘é”æ˜¯è¡¨é”çš„åŸå› ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„å‘é”æ˜¯æ”¾ç½®åœ¨èµ„æºå±‚æ¬¡ç»“æ„çš„ä¸€ä¸ªçº§åˆ«ä¸Šçš„é”ï¼Œä»¥ä¿æŠ¤è¾ƒä½çº§åˆ«èµ„æºä¸Šçš„å…±äº«é”æˆ–æ’å®ƒé”ï¼Œæ„å‘é”æ— æ³•æ‰‹åŠ¨åˆ›å»ºã€‚å¦‚æœå¯¹ä»»ä¸€ç»“ç‚¹åŠ é”æ—¶ï¼Œå¿…é¡»å…ˆå¯¹å®ƒçš„ä¸Šå±‚ç»“ç‚¹åŠ æ„å‘é”ä¹Ÿå°±æ˜¯å¦‚æœå¯¹ä¸€ä¸ªç»“ç‚¹åŠ æ„å‘é”ï¼Œåˆ™è¯´æ˜è¯¥ç»“ç‚¹çš„ä¸‹å±‚ç»“ç‚¹æ­£åœ¨è¢«åŠ é”ã€‚æ„å‘é”çš„æ‰§è¡Œæµç¨‹ï¼šå¦‚æœå¦ä¸€ä¸ªä»»åŠ¡è¯•å›¾åœ¨è¯¥è¡¨çº§åˆ«ä¸Šåº”ç”¨å…±äº«æˆ–æ’å®ƒé”ï¼Œåˆ™å—åˆ°ç”±ç¬¬ä¸€ä¸ªä»»åŠ¡æ§åˆ¶çš„è¡¨çº§åˆ«æ„å‘é”çš„é˜»å¡ï¼Œç¬¬äºŒä¸ªä»»åŠ¡åœ¨é”å®šè¯¥è¡¨å‰ä¸å¿…æ£€æŸ¥å„ä¸ªé¡µæˆ–è¡Œé”ï¼Œè€Œåªéœ€æ£€æŸ¥è¡¨ä¸Šçš„æ„å‘é”ï¼Œæ‰€ä»¥æ„å‘é”ä¸æ˜¯ç”¨æ¥ç»™æ•°æ®åŠ é”çš„ï¼Œè€Œæ˜¯ç”¨æ¥åˆ¤æ–­æ•°æ®æœ‰æ²¡æœ‰å­˜åœ¨é”çš„æ ‡å¿—ã€‚ä¸‹é¢ä»‹ç»ä¸¤ç§å¸¸ç”¨çš„æ„å‘é”ï¼šæ„å‘å…±äº«é”ï¼ˆ&lt;code&gt;Intent Share Lock&lt;/code&gt;ï¼Œç®€ç§°ISé”ï¼‰ã€æ„å‘æ’å®ƒé”ï¼ˆ&lt;code&gt;Intent Exclusive Lock&lt;/code&gt;ï¼Œç®€ç§°IXé”ï¼‰ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ„å‘å…±äº«é”ï¼ˆISï¼‰ï¼šäº‹åŠ¡æ‰“ç®—ç»™æ•°æ®è¡ŒåŠ è¡Œå…±äº«é”ï¼Œäº‹åŠ¡åœ¨ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ å…±äº«é”å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„ISé”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ„å‘æ’ä»–é”ï¼ˆIXï¼‰ï¼šäº‹åŠ¡æ‰“ç®—ç»™æ•°æ®è¡ŒåŠ è¡Œæ’ä»–é”ï¼Œäº‹åŠ¡åœ¨ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ æ’ä»–é”å‰å¿…é¡»å…ˆå–å¾—è¯¥è¡¨çš„IXé”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„å‘é”çš„å…¼å®¹å…³ç³»å¦‚ä¸‹ï¼š&lt;img data-ratio=&quot;0.7116154873164219&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMrMeosQsorL6KXxxpXtctCGOuWgxu52D7rq7W890KUNPHnxpRdtCoS03AdgQWHXibia10HkMXkdI0g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;749&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å…¶ä»–é”ç®€ä»‹ï¼ˆäº†è§£ï¼‰&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;InnoDBè¿˜åŒ…å«æ’å…¥æ„å‘é”ã€è‡ªå¢é”å’Œç©ºé—´é”ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ’å…¥æ„å‘é”ï¼ˆ&lt;code&gt;Insert Intention Locks&lt;/code&gt;ï¼‰ï¼šæ˜¯é—´éš™é”çš„ä¸€ç§ï¼Œå®ƒçš„ç›®çš„æ˜¯ä¸ºäº†æé«˜æ’å…¥æ€§èƒ½ã€‚åœ¨å¤šä¸ªäº‹åŠ¡å¯¹åŒä¸€ä¸ªç´¢å¼•ä¸­çš„åŒä¸€ä¸ªèŒƒå›´åŒºé—´æ’å…¥è®°å½•æ—¶ï¼Œå¦‚æœæ’å…¥çš„ä½ç½®ä¸å†²çªï¼Œä¸ä¼šé˜»å¡å½¼æ­¤ï¼Œä¸»è¦æ˜¯ä¸éœ€è¦å»ç”³è¯·æ’ä»–é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è‡ªå¢é”ï¼ˆ&lt;code&gt;AUTO-INC Locks&lt;/code&gt;ï¼‰ï¼šè‡ªå¢é”æ˜¯&lt;code&gt;MySQL&lt;/code&gt;ä¸­ä¸€ç§ç‰¹æ®Šçš„é”ï¼Œå¦‚æœè¡¨ä¸­å­˜åœ¨è‡ªå¢å­—æ®µï¼Œ&lt;code&gt;MySQL&lt;/code&gt;ä¾¿ä¼šè‡ªåŠ¨ç»´æŠ¤ä¸€ä¸ªè‡ªå¢é”ã€‚å’Œè‡ªå¢é”ç›¸å…³çš„ä¸€ä¸ªå‚æ•°ä¸ºï¼ˆ5.1.22ç‰ˆæœ¬ä¹‹ååŠ å…¥ï¼‰&lt;code&gt;innodb_autoinc_lock_mode&lt;/code&gt;ï¼Œå¯ä»¥è®¾å®š3ä¸ªå€¼ï¼Œ0ï¼štraditonalï¼ˆæ¯æ¬¡éƒ½ä¼šäº§ç”Ÿè¡¨é”ï¼Œå¯ä»¥æ§åˆ¶æ’å…¥é¡ºåºï¼Œæ•ˆç‡ä½ï¼‰ï¼›1ï¼šconsecutiveï¼ˆä¼šäº§ç”Ÿä¸€ä¸ªè½»é‡é”ï¼Œ&lt;code&gt;simple insert&lt;/code&gt;ä¼šè·å¾—æ‰¹é‡çš„é”ï¼Œä¿è¯è¿ç»­æ’å…¥ï¼Œé»˜è®¤ï¼‰ï¼›2ï¼šinterleavedï¼ˆä¸ä¼šé”è¡¨ï¼Œæ¥ä¸€ä¸ªå¤„ç†ä¸€ä¸ªï¼Œå¹¶å‘æœ€é«˜ï¼Œä¼šå­˜åœ¨å¤åˆ¶é—®é¢˜ï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;MySQL&lt;/code&gt;è¿™ä¸‰ç§é”çš„ç‰¹æ€§å¯å¤§è‡´å½’çº³å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è¡¨çº§é”ï¼ˆåè¯»ï¼‰ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›ä¸ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¡Œçº§é”ï¼ˆåå†™ï¼‰ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦ä¹Ÿæœ€é«˜ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é¡µé¢é”ï¼šå¼€é”€å’ŒåŠ é”æ—¶é—´ç•Œäºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ç•Œäºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„å…¨éƒ¨å†…å®¹äº†ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥å…³æ³¨å¾®ä¿¡å…¬ä¼—å·â€œé˜¿Qè¯´ä»£ç â€ï¼ä½ ä¹Ÿå¯ä»¥åå°ç•™è¨€é¢†å–&lt;code&gt;java&lt;/code&gt;å¹²è´§èµ„æ–™:å­¦ä¹ ç¬”è®°ä¸å¤§å‚é¢è¯•é¢˜ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å†…å®¹æ¨è&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI5MDg2NjEzNA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/55HPQyguvpMAn4Ha81WVBfsKnC9ficVemZff27LiaSoKX83JqwnNmrNhb4D4oAjW7wiaDwtkLTTCRs1A1hanfNu9g/0?wx_fmt=png&quot; data-nickname=&quot;é˜¿Qè¯´ä»£ç &quot; data-alias=&quot;AQ_Shuo&quot; data-signature=&quot;æ¯å¤©å¸¦ç»™ä½ ä¸ä¸€æ ·çš„ç²¾å½©ï¼&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è§‰å¾—è¿˜ä¸é”™ï¼Ÿ&lt;/span&gt;&lt;span&gt;è®°å¾—ä¸€é”®å››è¿å‘¦ğŸ‘‡&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>adf7c4d257a3fa50308889a21a11e43d</guid>
<title>è°ˆè°ˆ Kubernetes çš„é—®é¢˜å’Œå±€é™æ€§</title>
<link>https://toutiao.io/k/0t3be9z</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;article-content&quot;&gt;&lt;p&gt;2014 å¹´å‘å¸ƒçš„ Kubernetes åœ¨ä»Šå¤©ä¿¨ç„¶å·²æˆä¸ºå®¹å™¨ç¼–æ’é¢†åŸŸçš„äº‹å®æ ‡å‡†ï¼Œç›¸ä¿¡è°ˆåˆ° Kubernetes çš„å¼€å‘è€…éƒ½ä¼šä¸€å†å¤è¿°ä¸Šè¿°ç°è±¡ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»Šå¤©çš„å¤§å¤šæ•°ä¸ªäººæˆ–è€…å›¢é˜Ÿéƒ½ä¼šé€‰æ‹© Kubernetes ç®¡ç†å®¹å™¨ï¼Œè€Œä¹Ÿæœ‰ 75% çš„äººä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ Kubernetesã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/kube-in-prod-2021-04-17-16186676828761.png&quot; alt=&quot;kube-in-prod&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 1 - Kubernetes å®¹å™¨ç¼–æ’&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åœ¨è¿™ç§å…¨æ°‘å­¦ä¹ å’Œä½¿ç”¨ Kubernetes çš„å¤§èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥éå¸¸æ¸…æ™°åœ°çŸ¥é“ Kubernetes æœ‰å“ªäº›å±€é™æ€§ã€‚è™½ç„¶ Kubernetes èƒ½å¤Ÿè§£å†³å®¹å™¨ç¼–æ’é¢†åŸŸçš„å¤§å¤šæ•°é—®é¢˜ï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›åœºæ™¯æ˜¯å®ƒå¾ˆéš¾å¤„ç†ã€ç”šè‡³æ— æ³•å¤„ç†çš„ï¼Œåªæœ‰å¯¹è¿™äº›æ½œåœ¨çš„é£é™©æœ‰æ¸…æ™°çš„è®¤è¯†ï¼Œæ‰èƒ½æ›´å¥½åœ°é©¾é©­è¿™é¡¹æŠ€æœ¯ï¼Œè¿™ç¯‡æ–‡ç« å°†ä»é›†ç¾¤ç®¡ç†å’Œåº”ç”¨åœºæ™¯ä¸¤ä¸ªéƒ¨åˆ†è°ˆè°ˆ Kubernetes ç¤¾åŒºç›®å‰çš„å‘å±•å’Œä¸€äº›å±€é™æ€§ã€‚&lt;/p&gt;&lt;h2 id=&quot;é›†ç¾¤ç®¡ç†&quot;&gt;é›†ç¾¤ç®¡ç†&lt;/h2&gt;&lt;p&gt;é›†ç¾¤æ˜¯ä¸€ç»„èƒ½å¤Ÿåœ¨ä¸€èµ·ååŒå·¥ä½œçš„è®¡ç®—æœºï¼Œæˆ‘ä»¬å¯ä»¥å°†é›†ç¾¤ä¸­çš„æ‰€æœ‰è®¡ç®—æœºçœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œæ‰€æœ‰èµ„æºè°ƒåº¦ç³»ç»Ÿéƒ½æ˜¯ä»¥é›†ç¾¤ä¸ºç»´åº¦è¿›è¡Œç®¡ç†çš„ï¼Œé›†ç¾¤ä¸­çš„æ‰€æœ‰æœºå™¨æ„æˆäº†èµ„æºæ± ï¼Œè¿™ä¸ªå·¨å¤§çš„èµ„æºæ± ä¼šä¸ºå¾…è¿è¡Œçš„å®¹å™¨æä¾›èµ„æºæ‰§è¡Œè®¡ç®—ä»»åŠ¡ï¼Œè¿™é‡Œç®€å•è°ˆä¸€è°ˆ Kubernetes é›†ç¾¤ç®¡ç†é¢å¯¹çš„å‡ ä¸ªå¤æ‚é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 id=&quot;æ°´å¹³æ‰©å±•æ€§&quot;&gt;æ°´å¹³æ‰©å±•æ€§&lt;/h3&gt;&lt;p&gt;é›†ç¾¤å¤§å°æ˜¯æˆ‘ä»¬åœ¨è¯„ä¼°èµ„æºç®¡ç†ç³»ç»Ÿæ—¶éœ€è¦å…³æ³¨çš„é‡è¦æŒ‡æ ‡ä¹‹ä¸€ï¼Œç„¶è€Œ Kubernetes èƒ½å¤Ÿç®¡ç†çš„é›†ç¾¤è§„æ¨¡è¿œè¿œå°äºä¸šç•Œçš„å…¶ä»–èµ„æºç®¡ç†ç³»ç»Ÿã€‚é›†ç¾¤å¤§å°ä¸ºä»€ä¹ˆé‡è¦å‘¢ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¦ä¸€ä¸ªåŒæ ·é‡è¦çš„æŒ‡æ ‡ â€” èµ„æºåˆ©ç”¨ç‡ï¼Œå¾ˆå¤šå·¥ç¨‹å¸ˆå¯èƒ½æ²¡æœ‰åœ¨å…¬æœ‰äº‘å¹³å°ä¸Šç”³è¯·è¿‡èµ„æºï¼Œè¿™äº›èµ„æºéƒ½ç›¸å½“æ˜‚è´µï¼Œåœ¨ AWS ä¸Šç”³è¯·ä¸€ä¸ªä¸ä¸»æœºå·®ä¸å¤šé…ç½®çš„è™šæ‹Ÿæœºå®ä¾‹ï¼ˆ8 CPUã€16 GBï¼‰æ¯ä¸ªæœˆå¤§æ¦‚éœ€è¦ 150 ç¾é‡‘ï¼Œçº¦ä¸º 1000 äººæ°‘å¸&lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/aws-instance-pricing-2021-04-17-16186676828787.png&quot; alt=&quot;aws-instance-pricing&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 2 - AWS EC2 ä»·æ ¼&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å¤§å¤šæ•°çš„é›†ç¾¤éƒ½ä¼šä½¿ç”¨ 48 CPU æˆ–è€… 64 CPU çš„ç‰©ç†æœºæˆ–è€…è™šæ‹Ÿæœºä½œä¸ºé›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬çš„é›†ç¾¤ä¸­éœ€è¦åŒ…å« 5,000 ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™äº›èŠ‚ç‚¹æ¯ä¸ªæœˆå¤§æ¦‚è¦ 8,000,000 ç¾å…ƒï¼Œçº¦ä¸º 50,000,000 äººæ°‘å¸ï¼Œåœ¨è¿™æ ·çš„é›†ç¾¤ä¸­&lt;strong&gt;æå‡ 1% çš„èµ„æºåˆ©ç”¨ç‡å°±ç›¸å½“äºæ¯ä¸ªæœˆèŠ‚çœäº† 500,000 çš„æˆæœ¬&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;å¤šæ•°åœ¨çº¿ä»»åŠ¡çš„èµ„æºåˆ©ç”¨ç‡éƒ½å¾ˆä½ï¼Œæ›´å¤§çš„é›†ç¾¤æ„å‘³ç€èƒ½å¤Ÿè¿è¡Œæ›´å¤šçš„å·¥ä½œè´Ÿè½½ï¼Œè€Œå¤šç§é«˜å³°å’Œä½è°·æœŸä¸åŒçš„è´Ÿè½½éƒ¨ç½²åœ¨ä¸€èµ·å¯ä»¥å®ç°è¶…å”®ï¼Œè¿™æ ·èƒ½å¤Ÿæ˜¾è‘—åœ°æé«˜é›†ç¾¤çš„èµ„æºåˆ©ç”¨ç‡ï¼Œå¦‚æœå•ä¸ªé›†ç¾¤çš„èŠ‚ç‚¹æ•°è¶³å¤Ÿå¤šï¼Œæˆ‘ä»¬åœ¨éƒ¨ç½²ä¸åŒç±»å‹çš„ä»»åŠ¡æ—¶ä¼šæœ‰æ›´åˆç†çš„ç»„åˆï¼Œå¯ä»¥å®Œç¾é”™å¼€ä¸åŒæœåŠ¡çš„é«˜å³°æœŸã€‚&lt;/p&gt;&lt;p&gt;Kubernetes ç¤¾åŒºå¯¹å¤–å®£ä¼ çš„æ˜¯å•ä¸ªé›†ç¾¤æœ€å¤šæ”¯æŒ 5,000 èŠ‚ç‚¹ï¼ŒPod æ€»æ•°ä¸è¶…è¿‡ 150,000ï¼Œå®¹å™¨æ€»æ•°ä¸è¶…è¿‡ 300,000 ä»¥åŠå•èŠ‚ç‚¹ Pod æ•°é‡ä¸è¶…è¿‡ 100 ä¸ª&lt;sup id=&quot;fnref:3&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;ï¼Œä¸å‡ ä¸‡èŠ‚ç‚¹çš„ Apache Mesos é›†ç¾¤ã€50,000 èŠ‚ç‚¹çš„å¾®è½¯ YARN é›†ç¾¤&lt;sup id=&quot;fnref:4&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;ç›¸æ¯”ï¼ŒKubernetes çš„é›†ç¾¤è§„æ¨¡æ•´æ•´å·®äº†ä¸€ä¸ªæ•°é‡çº§ã€‚è™½ç„¶é˜¿é‡Œäº‘çš„å·¥ç¨‹å¸ˆä¹Ÿé€šè¿‡ä¼˜åŒ– Kubernetes çš„å„ä¸ªç»„ä»¶å®ç°äº† 5 ä½æ•°çš„é›†ç¾¤è§„æ¨¡ï¼Œä½†æ˜¯ä¸å…¶ä»–çš„èµ„æºç®¡ç†æ–¹å¼ç›¸æ¯”å´æœ‰æ¯”è¾ƒå¤§çš„å·®è·&lt;sup id=&quot;fnref:5&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/Apache-Mesos-vs-Hadoop-YARN-2021-04-17-16186676828795.jpg&quot; alt=&quot;Apache-Mesos-vs-Hadoop-YARN&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 3 - Apache Mesos ä¸ Hadoop YARN&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ Kubernetes ç¤¾åŒºè™½ç„¶å¯¹å¤–å®£ç§°å•é›†ç¾¤å¯ä»¥æ”¯æŒ 5,000 èŠ‚ç‚¹ï¼ŒåŒæ—¶ç¤¾åŒºä¹Ÿæœ‰å„ç§å„æ ·çš„é›†æˆæµ‹è¯•ä¿è¯æ¯ä¸ªæ”¹åŠ¨éƒ½ä¸ä¼šå½±å“å®ƒçš„ä¼¸ç¼©æ€§&lt;sup id=&quot;fnref:6&quot;&gt;&lt;a href=&quot;#fn:6&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;ï¼Œä½†æ˜¯ Kubernetes çœŸçš„éå¸¸å¤æ‚ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•ä¿è¯ä½ ä½¿ç”¨çš„æ¯ä¸ªåŠŸèƒ½åœ¨æ‰©å®¹çš„è¿‡ç¨‹ä¸­éƒ½ä¸å‡ºé—®é¢˜ã€‚è€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ç”šè‡³å¯èƒ½åœ¨é›†ç¾¤æ‰©å®¹åˆ° 1000 ~ 1500 èŠ‚ç‚¹æ—¶é‡åˆ°ç“¶é¢ˆã€‚&lt;/p&gt;&lt;p&gt;æ¯ä¸ªç¨å…·è§„æ¨¡çš„å¤§å…¬å¸éƒ½æƒ³è¦å®ç°æ›´å¤§è§„æ¨¡çš„ Kubernetes é›†ç¾¤ï¼Œä½†æ˜¯è¿™ä¸æ˜¯ä¸€ä¸ªæ”¹å‡ è¡Œä»£ç å°±èƒ½è§£å†³çš„ç®€å•é—®é¢˜ï¼Œå®ƒå¯èƒ½éœ€è¦æˆ‘ä»¬é™åˆ¶ Kubernetes ä¸­ä¸€äº›åŠŸèƒ½çš„ä½¿ç”¨ï¼Œåœ¨æ‰©å®¹çš„è¿‡ç¨‹ä¸­ï¼Œetcdã€API æœåŠ¡å™¨ã€è°ƒåº¦å™¨ä»¥åŠæ§åˆ¶å™¨éƒ½æœ‰å¯èƒ½å‡ºç°é—®é¢˜ã€‚ç¤¾åŒºä¸­å·²ç»æœ‰ä¸€äº›å¼€å‘è€…æ³¨æ„åˆ°äº†å…¶ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚åœ¨èŠ‚ç‚¹ä¸Šå¢åŠ ç¼“å­˜é™ä½ API æœåŠ¡å™¨çš„è´Ÿè½½&lt;sup id=&quot;fnref:7&quot;&gt;&lt;a href=&quot;#fn:7&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;ï¼Œä½†æ˜¯è¦æ¨åŠ¨ç±»ä¼¼çš„æ”¹å˜è¿˜æ˜¯å¾ˆå›°éš¾çš„ï¼Œæœ‰å¿—ä¹‹å£«å¯ä»¥å°è¯•åœ¨ç¤¾åŒºæ¨åŠ¨ç±»ä¼¼çš„é¡¹ç›®ã€‚&lt;/p&gt;&lt;h3 id=&quot;å¤šé›†ç¾¤ç®¡ç†&quot;&gt;å¤šé›†ç¾¤ç®¡ç†&lt;/h3&gt;&lt;p&gt;å•ä¸ªé›†ç¾¤çš„å®¹é‡å†å¤§ä¹Ÿæ— æ³•è§£å†³ä¼ä¸šé¢å¯¹çš„é—®é¢˜ï¼Œå“ªæ€•æœ‰ä¸€å¤© Kubernetes é›†ç¾¤å¯ä»¥è¾¾åˆ° 50,000 èŠ‚ç‚¹çš„è§„æ¨¡ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ç®¡ç†å¤šä¸ªé›†ç¾¤ï¼Œå¤šé›†ç¾¤ç®¡ç†ä¹Ÿæ˜¯ Kubernetes ç¤¾åŒºç›®å‰æ­£åœ¨æ¢ç´¢çš„æ–¹å‘ï¼Œç¤¾åŒºä¸­çš„å¤šé›†ç¾¤å…´è¶£å°ç»„ï¼ˆSIG Multi-Clusterï¼‰ç›®å‰å°±åœ¨å®Œæˆç›¸å…³çš„å·¥ä½œ&lt;sup id=&quot;fnref:8&quot;&gt;&lt;a href=&quot;#fn:8&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;ã€‚åœ¨ä½œè€…çœ‹æ¥ï¼ŒKubernetes çš„å¤šé›†ç¾¤ä¼šå¸¦æ¥èµ„æºä¸å¹³è¡¡ã€è·¨é›†ç¾¤è®¿é—®å›°éš¾ä»¥åŠæé«˜è¿ç»´å’Œç®¡ç†æˆæœ¬ä¸‰å¤§é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œè°ˆä¸€è°ˆç›®å‰åœ¨å¼€æºç¤¾åŒºå’Œä¸šç•Œå‡ ç§å¯ä¾›å‚è€ƒå’Œé€‰æ‹©çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;h4 id=&quot;kubefed&quot;&gt;kubefed&lt;/h4&gt;&lt;p&gt;é¦–å…ˆè¦ä»‹ç»çš„æ˜¯ &lt;a href=&quot;https://github.com/kubernetes-sigs/kubefed&quot;&gt;kubefed&lt;/a&gt;ï¼Œè¯¥é¡¹ç›®æ˜¯ Kubernetes ç¤¾åŒºç»™å‡ºçš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŒæ—¶æä¾›äº†è·¨é›†ç¾¤çš„èµ„æºå’Œç½‘ç»œç®¡ç†çš„åŠŸèƒ½ï¼Œç¤¾åŒºçš„å¤šé›†ç¾¤å…´è¶£å°ç»„ï¼ˆSIG Multi-Clusterï¼‰è´Ÿè´£äº†è¯¥é¡¹ç›®çš„å¼€å‘å·¥ä½œï¼š&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/kubernetes-federation-2021-04-17-16186676828802.png&quot; alt=&quot;kubernetes-federation&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 4 - Kubernetes è”é‚¦&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;kubefed é€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–çš„è”é‚¦æ§åˆ¶é¢æ¿ç®¡ç†å¤šé›†ç¾¤ä¸­çš„å…ƒæ•°æ®ï¼Œä¸Šå±‚çš„æ§åˆ¶é¢æ¿ä¼šä¸ºç®¡ç†å™¨ç¾¤ä¸­çš„èµ„æºåˆ›å»ºå¯¹åº”çš„è”é‚¦å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;FederatedDeployment&lt;/code&gt;ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;kind&lt;/span&gt;: &lt;span&gt;FederatedDeployment&lt;/span&gt;
...
&lt;span&gt;spec&lt;/span&gt;:
  &lt;span&gt;...&lt;/span&gt;
  &lt;span&gt;overrides&lt;/span&gt;:
  &lt;span&gt;# Apply overrides to cluster1&lt;/span&gt;
    - &lt;span&gt;clusterName&lt;/span&gt;: &lt;span&gt;cluster1&lt;/span&gt;
      &lt;span&gt;clusterOverrides&lt;/span&gt;:
        &lt;span&gt;# Set the replicas field to 5&lt;/span&gt;
        - &lt;span&gt;path&lt;/span&gt;: &lt;span&gt;&quot;/spec/replicas&quot;&lt;/span&gt;
          &lt;span&gt;value&lt;/span&gt;: &lt;span&gt;5&lt;/span&gt;
        &lt;span&gt;# Set the image of the first container&lt;/span&gt;
        - &lt;span&gt;path&lt;/span&gt;: &lt;span&gt;&quot;/spec/template/spec/containers/0/image&quot;&lt;/span&gt;
          &lt;span&gt;value&lt;/span&gt;: &lt;span&gt;&quot;nginx:1.17.0-alpine&quot;&lt;/span&gt;
        &lt;span&gt;# Ensure the annotation &quot;foo: bar&quot; exists&lt;/span&gt;
        - &lt;span&gt;path&lt;/span&gt;: &lt;span&gt;&quot;/metadata/annotations&quot;&lt;/span&gt;
          &lt;span&gt;op&lt;/span&gt;: &lt;span&gt;&quot;add&quot;&lt;/span&gt;
          &lt;span&gt;value&lt;/span&gt;:
            &lt;span&gt;foo&lt;/span&gt;: &lt;span&gt;bar&lt;/span&gt;
        &lt;span&gt;# Ensure an annotation with key &quot;foo&quot; does not exist&lt;/span&gt;
        - &lt;span&gt;path&lt;/span&gt;: &lt;span&gt;&quot;/metadata/annotations/foo&quot;&lt;/span&gt;
          &lt;span&gt;op&lt;/span&gt;: &lt;span&gt;&quot;remove&quot;&lt;/span&gt;
        &lt;span&gt;# Adds an argument `-q` at index 0 of the args list&lt;/span&gt;
        &lt;span&gt;# this will obviously shift the existing arguments, if any&lt;/span&gt;
        - &lt;span&gt;path&lt;/span&gt;: &lt;span&gt;&quot;/spec/template/spec/containers/0/args/0&quot;&lt;/span&gt;
          &lt;span&gt;op&lt;/span&gt;: &lt;span&gt;&quot;add&quot;&lt;/span&gt;
          &lt;span&gt;value&lt;/span&gt;: &lt;span&gt;&quot;-q&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šå±‚çš„æ§åˆ¶é¢æ¿ä¼šæ ¹æ®è”é‚¦å¯¹è±¡ &lt;code&gt;FederatedDeployment&lt;/code&gt; çš„è§„æ ¼æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„ &lt;code&gt;Deployment&lt;/code&gt; å¹¶æ¨é€åˆ°ä¸‹å±‚çš„é›†ç¾¤ï¼Œä¸‹å±‚é›†ç¾¤å¯ä»¥æ­£å¸¸æ ¹æ® &lt;code&gt;Deployment&lt;/code&gt; ä¸­çš„å®šä¹‰åˆ›å»ºç‰¹å®šæ•°é‡çš„å‰¯æœ¬ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/kubernetes-federated-resources-2021-04-17-16186676828808.png&quot; alt=&quot;kubernetes-federated-resources&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 5 - ä»è”é‚¦å¯¹è±¡åˆ°æ™®é€šå¯¹è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;FederatedDeployment&lt;/code&gt; åªæ˜¯ä¸€ç§æœ€ç®€å•çš„åˆ†å‘ç­–ç•¥ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æˆ‘ä»¬å¸Œæœ›é€šè¿‡è”é‚¦çš„é›†ç¾¤å®ç°å®¹ç¾ç­‰å¤æ‚åŠŸèƒ½ï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨ &lt;code&gt;ReplicaSchedulingPreference&lt;/code&gt; åœ¨ä¸åŒé›†ç¾¤ä¸­å®ç°æ›´åŠ æ™ºèƒ½çš„åˆ†å‘ç­–ç•¥ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;apiVersion&lt;/span&gt;: &lt;span&gt;scheduling.kubefed.io/v1alpha1&lt;/span&gt;
&lt;span&gt;kind&lt;/span&gt;: &lt;span&gt;ReplicaSchedulingPreference&lt;/span&gt;
&lt;span&gt;metadata&lt;/span&gt;:
  &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;test-deployment&lt;/span&gt;
  &lt;span&gt;namespace&lt;/span&gt;: &lt;span&gt;test-ns&lt;/span&gt;
&lt;span&gt;spec&lt;/span&gt;:
  &lt;span&gt;targetKind&lt;/span&gt;: &lt;span&gt;FederatedDeployment&lt;/span&gt;
  &lt;span&gt;totalReplicas&lt;/span&gt;: &lt;span&gt;9&lt;/span&gt;
  &lt;span&gt;clusters&lt;/span&gt;:
    &lt;span&gt;A&lt;/span&gt;:
      &lt;span&gt;minReplicas&lt;/span&gt;: &lt;span&gt;4&lt;/span&gt;
      &lt;span&gt;maxReplicas&lt;/span&gt;: &lt;span&gt;6&lt;/span&gt;
      &lt;span&gt;weight&lt;/span&gt;: &lt;span&gt;1&lt;/span&gt;
    &lt;span&gt;B&lt;/span&gt;:
      &lt;span&gt;minReplicas&lt;/span&gt;: &lt;span&gt;4&lt;/span&gt;
      &lt;span&gt;maxReplicas&lt;/span&gt;: &lt;span&gt;8&lt;/span&gt;
      &lt;span&gt;weight&lt;/span&gt;: &lt;span&gt;2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šè¿°è°ƒåº¦çš„ç­–ç•¥å¯ä»¥å®ç°å·¥ä½œè´Ÿè½½åœ¨ä¸åŒé›†ç¾¤ä¹‹é—´çš„æƒé‡ï¼Œåœ¨é›†ç¾¤èµ„æºä¸è¶³ç”šè‡³å‡ºç°é—®é¢˜æ—¶å°†å®ä¾‹è¿ç§»åˆ°å…¶ä»–é›†ç¾¤ï¼Œè¿™æ ·æ—¢èƒ½å¤Ÿæé«˜æœåŠ¡éƒ¨ç½²çš„çµæ´»æ€§å’Œå¯ç”¨æ€§ï¼ŒåŸºç¡€æ¶æ„å·¥ç¨‹å¸ˆä¹Ÿå¯ä»¥æ›´å¥½åœ°å¹³è¡¡å¤šä¸ªé›†ç¾¤çš„è´Ÿè½½ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥è®¤ä¸º kubefed çš„ä¸»è¦ä½œç”¨æ˜¯å°†å¤šä¸ªæ¾æ•£çš„é›†ç¾¤ç»„æˆå¼ºè€¦åˆçš„è”é‚¦é›†ç¾¤ï¼Œå¹¶æä¾›æ›´åŠ é«˜çº§çš„ç½‘ç»œå’Œéƒ¨ç½²åŠŸèƒ½ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°è§£å†³é›†ç¾¤ä¹‹é—´èµ„æºä¸å¹³è¡¡å’Œè¿é€šæ€§çš„ä¸€äº›é—®é¢˜ï¼Œç„¶è€Œè¯¥é¡¹ç›®çš„å…³æ³¨ç‚¹ä¸åŒ…å«é›†ç¾¤ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œ&lt;/p&gt;&lt;h4 id=&quot;é›†ç¾¤æ¥å£&quot;&gt;é›†ç¾¤æ¥å£&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://cluster-api.sigs.k8s.io/&quot;&gt;Cluster API&lt;/a&gt; ä¹Ÿæ˜¯ Kubernetes ç¤¾åŒºä¸­ä¸å¤šé›†ç¾¤ç®¡ç†ç›¸å…³çš„é¡¹ç›®ï¼Œè¯¥é¡¹ç›®ç”±é›†ç¾¤ç”Ÿå‘½å‘¨æœŸå°ç»„ï¼ˆSIG Cluster-Lifecycleï¼‰è´Ÿè´£å¼€å‘ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯é€šè¿‡å£°æ˜å¼çš„ API ç®€åŒ–å¤šé›†ç¾¤çš„å‡†å¤‡ã€æ›´æ–°å’Œè¿ç»´å·¥ä½œï¼Œä½ åœ¨è¯¥é¡¹ç›®çš„ &lt;a href=&quot;https://github.com/kubernetes-sigs/cluster-api/blob/master/docs/scope-and-objectives.md&quot;&gt;è®¾è®¡ææ¡ˆ&lt;/a&gt; ä¸­èƒ½å¤Ÿæ‰¾åˆ°å®ƒçš„èŒè´£èŒƒå›´&lt;sup id=&quot;fnref:9&quot;&gt;&lt;a href=&quot;#fn:9&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/k8s-cluster-api-concepts-2021-04-17-16186676828819.png&quot; alt=&quot;k8s-cluster-api-concepts&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 6 - Cluster API æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åœ¨è¯¥é¡¹ç›®ä¸­æœ€é‡è¦çš„èµ„æºå°±æ˜¯ &lt;code&gt;Machine&lt;/code&gt;ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ª Kubernetes é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ã€‚å½“è¯¥èµ„æºè¢«åˆ›å»ºæ—¶ï¼Œç‰¹å®šæä¾›å•†çš„æ§åˆ¶å™¨ä¼šæ ¹æ®æœºå™¨çš„å®šä¹‰åˆå§‹åŒ–å¹¶å°†æ–°çš„èŠ‚ç‚¹æ³¨å†Œåˆ°é›†ç¾¤ä¸­ï¼Œåœ¨è¯¥èµ„æºè¢«æ›´æ–°æˆ–è€…åˆ é™¤æ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œæ“ä½œè¾¾åˆ°ç”¨æˆ·çš„çŠ¶æ€ã€‚&lt;/p&gt;&lt;p&gt;è¿™ç§ç­–ç•¥ä¸é˜¿é‡Œçš„å¤šé›†ç¾¤ç®¡ç†çš„æ–¹å¼æœ‰ä¸€äº›ç›¸ä¼¼ï¼Œå®ƒä»¬éƒ½ä½¿ç”¨å£°æ˜å¼çš„ API å®šä¹‰æœºå™¨å’Œé›†ç¾¤çš„çŠ¶æ€ï¼Œç„¶åä½¿ç”¨ Kubernetes åŸç”Ÿçš„ Operator æ¨¡å‹åœ¨æ›´é«˜ä¸€å±‚çš„é›†ç¾¤ä¸­ç®¡ç†ä¸‹å±‚é›†ç¾¤ï¼Œè¿™èƒ½å¤Ÿæå¤§é™ä½é›†ç¾¤çš„è¿ç»´æˆæœ¬å¹¶æé«˜é›†ç¾¤çš„è¿è¡Œæ•ˆç‡&lt;sup id=&quot;fnref:10&quot;&gt;&lt;a href=&quot;#fn:10&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;10&lt;/a&gt;&lt;/sup&gt;ï¼Œä¸è¿‡ç±»ä¼¼çš„é¡¹ç›®éƒ½æ²¡æœ‰è€ƒè™‘è·¨é›†ç¾¤çš„èµ„æºç®¡ç†å’Œç½‘ç»œç®¡ç†ã€‚&lt;/p&gt;&lt;h2 id=&quot;åº”ç”¨åœºæ™¯&quot;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬åœ¨è¿™ä¸€èŠ‚å°†è°ˆè°ˆ Kubernetes ä¸­ä¸€äº›æœ‰è¶£çš„åº”ç”¨åœºæ™¯ï¼Œå…¶ä¸­åŒ…æ‹¬åº”ç”¨åˆ†å‘æ–¹å¼çš„ç°çŠ¶ã€æ‰¹å¤„ç†è°ƒåº¦ä»»åŠ¡ä»¥åŠç¡¬å¤šç§Ÿæˆ·åœ¨é›†ç¾¤ä¸­çš„æ”¯æŒï¼Œè¿™äº›æ˜¯ç¤¾åŒºä¸­æ¯”è¾ƒå…³æ³¨çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ Kubernetes ç›®å‰çš„ç›²ç‚¹ã€‚&lt;/p&gt;&lt;h3 id=&quot;åº”ç”¨åˆ†å‘&quot;&gt;åº”ç”¨åˆ†å‘&lt;/h3&gt;&lt;p&gt;Kubernetes ä¸»é¡¹ç›®æä¾›äº†å‡ ç§éƒ¨ç½²åº”ç”¨çš„æœ€åŸºæœ¬æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ &lt;code&gt;Deployment&lt;/code&gt;ã€&lt;code&gt;StatefulSet&lt;/code&gt; å’Œ &lt;code&gt;DaemonSet&lt;/code&gt;ï¼Œè¿™äº›èµ„æºåˆ†åˆ«é€‚ç”¨äºæ— çŠ¶æ€æœåŠ¡ã€æœ‰çŠ¶æ€æœåŠ¡å’ŒèŠ‚ç‚¹ä¸Šçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œè¿™äº›èµ„æºèƒ½å¤Ÿæä¾›æœ€åŸºæœ¬çš„ç­–ç•¥ï¼Œä½†æ˜¯å®ƒä»¬æ— æ³•å¤„ç†æ›´åŠ å¤æ‚çš„åº”ç”¨ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/kubernetes-basic-resources-2021-04-17-16186676828825.png&quot; alt=&quot;kubernetes-basic-resources&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 7 - Kubernetes åº”ç”¨ç®¡ç†&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;éšç€ CRD çš„å¼•å…¥ï¼Œç›®å‰ç¤¾åŒºçš„åº”ç”¨ç®¡ç†å°ç»„ï¼ˆSIG Appsï¼‰åŸºæœ¬ä¸ä¼šå‘ Kubernetes ä¸»ä»“åº“å¼•å…¥è¾ƒå¤§çš„æ”¹åŠ¨ï¼Œå¤§å¤šæ•°çš„æ”¹åŠ¨éƒ½æ˜¯åœ¨ç°æœ‰èµ„æºä¸Šè¿›è¡Œçš„ä¿®è¡¥ï¼Œå¾ˆå¤šå¸¸è§çš„åœºæ™¯ï¼Œä¾‹å¦‚åªè¿è¡Œä¸€æ¬¡çš„ DaemonSet&lt;sup id=&quot;fnref:11&quot;&gt;&lt;a href=&quot;#fn:11&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;11&lt;/a&gt;&lt;/sup&gt; ä»¥åŠé‡‘ä¸é›€å’Œè“ç»¿éƒ¨ç½²ç­‰åŠŸèƒ½ï¼Œç°åœ¨çš„èµ„æºä¹Ÿå­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œä¾‹å¦‚ StatefulSet åœ¨åˆå§‹åŒ–å®¹å™¨ä¸­å¡ä½æ— æ³•å›æ»šå’Œæ›´æ–°&lt;sup id=&quot;fnref:12&quot;&gt;&lt;a href=&quot;#fn:12&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;12&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥ç†è§£ç¤¾åŒºä¸æƒ³åœ¨ Kubernetes ä¸­ç»´æŠ¤æ›´å¤šçš„åŸºæœ¬èµ„æºï¼Œé€šè¿‡å‡ ä¸ªåŸºæœ¬çš„èµ„æºå¯ä»¥è¦†ç›– 90% çš„åœºæ™¯ï¼Œå‰©ä¸‹çš„å„ç§å¤æ‚åœºæ™¯å¯ä»¥è®©å…¶ä»–ç¤¾åŒºé€šè¿‡ CRD çš„æ–¹å¼å®ç°ã€‚ä¸è¿‡ä½œè€…è®¤ä¸ºå¦‚æœç¤¾åŒºèƒ½å¤Ÿåœ¨ä¸Šæ¸¸å®ç°æ›´å¤šé«˜è´¨é‡çš„ç»„ä»¶ï¼Œè¿™å¯¹äºæ•´ä¸ªç”Ÿæ€éƒ½æ˜¯å¾ˆæœ‰ä»·å€¼å¹¶ä¸”å¾ˆé‡è¦çš„å·¥ä½œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å‡å¦‚å„ä½è¯»è€…æƒ³è¦åœ¨ Kubernetes é¡¹ç›®ä¸­æˆä¸ºè´¡çŒ®è€…ï¼ŒSIG Apps å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;&lt;h3 id=&quot;æ‰¹å¤„ç†è°ƒåº¦&quot;&gt;æ‰¹å¤„ç†è°ƒåº¦&lt;/h3&gt;&lt;p&gt;æœºå™¨å­¦ä¹ ã€æ‰¹å¤„ç†ä»»åŠ¡å’Œæµå¼ä»»åŠ¡ç­‰å·¥ä½œè´Ÿè½½çš„è¿è¡Œä» Kubernetes è¯ç”Ÿç¬¬ä¸€å¤©èµ·åˆ°ä»Šå¤©éƒ½ä¸æ˜¯å®ƒçš„å¼ºé¡¹ï¼Œå¤§å¤šæ•°çš„å…¬å¸éƒ½ä¼šä½¿ç”¨ Kubernetes è¿è¡Œåœ¨çº¿æœåŠ¡å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œç”¨ Yarn ç®¡ç†çš„é›†ç¾¤è¿è¡Œæ‰¹å¤„ç†çš„è´Ÿè½½ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/hadoop-yarn-2021-04-17-16186676828831.png&quot; alt=&quot;hadoop-yarn&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 8 - Hadoop Yarn&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åœ¨çº¿ä»»åŠ¡å’Œç¦»çº¿ä»»åŠ¡å¾€å¾€æ˜¯ä¸¤ç§æˆªç„¶ä¸åŒçš„ä½œä¸šï¼Œå¤§å¤šæ•°çš„åœ¨çº¿ä»»åŠ¡éƒ½æ˜¯æ— çŠ¶æ€çš„æœåŠ¡ï¼Œå®ƒä»¬å¯ä»¥åœ¨ä¸åŒæœºå™¨ä¸Šè¿›è¡Œè¿ç§»ï¼Œå½¼æ­¤å¾ˆéš¾æœ‰æå¼ºçš„ä¾èµ–å…³ç³»ï¼›ä½†æ˜¯å¾ˆå¤šç¦»çº¿ä»»åŠ¡çš„æ‹“æ‰‘ç»“æ„éƒ½å¾ˆå¤æ‚ï¼Œæœ‰äº›ä»»åŠ¡éœ€è¦å¤šä¸ªä½œä¸šä¸€åŒæ‰§è¡Œï¼Œè€Œæœ‰äº›ä»»åŠ¡éœ€è¦æŒ‰ç…§ä¾èµ–å…³ç³»å…ˆåæ‰§è¡Œï¼Œè¿™ç§å¤æ‚çš„è°ƒåº¦åœºæ™¯åœ¨ Kubernetes ä¸­æ¯”è¾ƒéš¾ä»¥å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;åœ¨ Kubernetes è°ƒåº¦å™¨å¼•å…¥è°ƒåº¦æ¡†æ¶ä¹‹å‰ï¼Œæ‰€æœ‰çš„ Pod åœ¨è°ƒåº¦å™¨çœ‹æ¥æ˜¯æ²¡æœ‰ä»»ä½•å…³è”çš„ï¼Œä¸è¿‡æœ‰äº†è°ƒåº¦æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒåº¦ç³»ç»Ÿä¸­å®ç°æ›´åŠ å¤æ‚çš„è°ƒåº¦ç­–ç•¥ï¼Œä¾‹å¦‚ä¿è¯ä¸€ç»„ Pod åŒæ—¶è°ƒåº¦çš„ PodGroup&lt;sup id=&quot;fnref:13&quot;&gt;&lt;a href=&quot;#fn:13&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;13&lt;/a&gt;&lt;/sup&gt;ï¼Œè¿™å¯¹äº Spark å’Œ TensorFlow ä»»åŠ¡éå¸¸æœ‰ç”¨ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;span&gt;# PodGroup CRD spec&lt;/span&gt;
&lt;span&gt;apiVersion&lt;/span&gt;: &lt;span&gt;scheduling.sigs.k8s.io/v1alpha1&lt;/span&gt;
&lt;span&gt;kind&lt;/span&gt;: &lt;span&gt;PodGroup&lt;/span&gt;
&lt;span&gt;metadata&lt;/span&gt;:
  &lt;span&gt;name&lt;/span&gt;: &lt;span&gt;nginx&lt;/span&gt;
&lt;span&gt;spec&lt;/span&gt;:
  &lt;span&gt;scheduleTimeoutSeconds&lt;/span&gt;: &lt;span&gt;10&lt;/span&gt;
  &lt;span&gt;minMember&lt;/span&gt;: &lt;span&gt;3&lt;/span&gt;
---
&lt;span&gt;# Add a label `pod-group.scheduling.sigs.k8s.io` to mark the pod belongs to a group&lt;/span&gt;
&lt;span&gt;labels&lt;/span&gt;:
  &lt;span&gt;pod-group.scheduling.sigs.k8s.io&lt;/span&gt;: &lt;span&gt;nginx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Volcano ä¹Ÿæ˜¯åœ¨ Kubernetes ä¸Šæ„å»ºçš„æ‰¹å¤„ç†ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ&lt;sup id=&quot;fnref:14&quot;&gt;&lt;a href=&quot;#fn:14&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;14&lt;/a&gt;&lt;/sup&gt;ï¼Œå®ƒèƒ½å¤Ÿå¤„ç†æœºå™¨å­¦ä¹ ã€æ·±åº¦å­¦ä¹ ä»¥åŠå…¶ä»–å¤§æ•°æ®åº”ç”¨ï¼Œå¯ä»¥æ”¯æŒåŒ…æ‹¬ TensorFlowã€Sparkã€PyTorch å’Œ MPI åœ¨å†…çš„å¤šä¸ªæ¡†æ¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/volcano-logo-2021-04-17-16186676828837.png&quot; alt=&quot;volcano-logo&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 9 - Volcano&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;è™½ç„¶ Kubernetes èƒ½å¤Ÿè¿è¡Œä¸€äº›æ‰¹å¤„ç†ä»»åŠ¡ï¼Œä½†æ˜¯è·ç¦»åœ¨è¿™ä¸ªé¢†åŸŸä¸Šå–ä»£ Yarn ç­‰è€ç‰Œèµ„æºç®¡ç†ç³»ç»Ÿä¸Šè¿˜æœ‰éå¸¸å¤§çš„å·®è·ï¼Œç›¸ä¿¡åœ¨è¾ƒé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼Œå¤§å¤šæ•°å…¬å¸éƒ½ä¼šåŒæ—¶ç»´æŠ¤ Kubernetes å’Œ Yarn ä¸¤ç§æŠ€æœ¯æ ˆï¼Œåˆ†åˆ«ç®¡ç†å’Œè¿è¡Œä¸åŒç±»å‹çš„å·¥ä½œè´Ÿè½½ã€‚&lt;/p&gt;&lt;h3 id=&quot;ç¡¬å¤šç§Ÿæˆ·&quot;&gt;ç¡¬å¤šç§Ÿæˆ·&lt;/h3&gt;&lt;p&gt;å¤šç§Ÿæˆ·æ˜¯æŒ‡åŒä¸€ä¸ªè½¯ä»¶å®ä¾‹å¯ä»¥ä¸ºä¸åŒçš„ç”¨æˆ·ç»„æä¾›æœåŠ¡ï¼ŒKubernetes çš„å¤šç§Ÿæˆ·æ˜¯æŒ‡å¤šä¸ªç”¨æˆ·æˆ–è€…ç”¨æˆ·ç»„ä½¿ç”¨åŒä¸€ä¸ª Kubernetes é›†ç¾¤ï¼Œä»Šå¤©çš„ Kubernetes è¿˜å¾ˆéš¾åšåˆ°ç¡¬å¤šç§Ÿæˆ·æ”¯æŒï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªé›†ç¾¤çš„å¤šä¸ªç§Ÿæˆ·ä¸ä¼šç›¸äº’å½±å“ï¼Œä¹Ÿæ„ŸçŸ¥ä¸åˆ°å½¼æ­¤çš„å­˜åœ¨ã€‚&lt;/p&gt;&lt;p&gt;ç¡¬å¤šç§Ÿæˆ·åœ¨ Kubernetes ä¸­æ˜¯ä¸€ä¸ªå¾ˆé‡è¦ã€ä¹Ÿå¾ˆå›°éš¾çš„è¯¾é¢˜ï¼Œåˆç§Ÿå…¬å¯“å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šç§Ÿæˆ·åœºæ™¯ï¼Œå¤šä¸ªç§Ÿå®¢å…±äº«æˆ¿å±‹å†…çš„åŸºç¡€è®¾æ–½ï¼Œç¡¬å¤šç§Ÿæˆ·è¦æ±‚å¤šä¸ªè®¿å®¢ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œä½ å¯ä»¥æƒ³è±¡è¿™æœ‰å¤šä¹ˆå›°éš¾ï¼ŒKubernetes ç¤¾åŒºç”šè‡³æœ‰ä¸€ä¸ªå·¥ä½œå°ç»„ä¸“é—¨è®¨è®ºå’Œç ”ç©¶ç›¸å…³çš„é—®é¢˜&lt;sup id=&quot;fnref:15&quot;&gt;&lt;a href=&quot;#fn:15&quot; class=&quot;footnote-ref&quot; role=&quot;doc-noteref&quot;&gt;15&lt;/a&gt;&lt;/sup&gt;ï¼Œç„¶è€Œè™½ç„¶æ„Ÿå…´è¶£çš„å·¥ç¨‹å¸ˆå¾ˆå¤šï¼Œä½†æ˜¯æˆæœå´éå¸¸æœ‰é™ã€‚&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.draveness.me/multi-tenant-2021-04-17-16186676828844.jpg&quot; alt=&quot;multi-tenant&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å›¾ 10 - å¤šç§Ÿæˆ·&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å°½ç®¡ Kubernetes ä½¿ç”¨å‘½åç©ºé—´æ¥åˆ’åˆ†è™šæ‹Ÿæœºç¾¤ï¼Œç„¶è€Œè¿™ä¹Ÿå¾ˆéš¾å®ç°çœŸæ­£çš„å¤šç§Ÿæˆ·ã€‚å¤šç§Ÿæˆ·çš„æ”¯æŒåˆ°åº•æœ‰å“ªäº›ä½œç”¨å‘¢ï¼Œè¿™é‡Œç®€å•åˆ—å‡ ä¸ªå¤šç§Ÿæˆ·å¸¦æ¥çš„å¥½å¤„ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Kubernetes å¸¦æ¥çš„é¢å¤–éƒ¨ç½²æˆæœ¬å¯¹äºå°é›†ç¾¤æ¥è¯´éå¸¸é«˜æ˜‚ï¼Œç¨³å®šçš„ Kubernetes é›†ç¾¤ä¸€èˆ¬éƒ½éœ€è¦è‡³å°‘ä¸‰ä¸ªè¿è¡Œ etcd çš„ä¸»èŠ‚ç‚¹ï¼Œå¦‚æœå¤§å¤šæ•°çš„é›†ç¾¤éƒ½æ˜¯å°é›†ç¾¤ï¼Œè¿™äº›é¢å¤–çš„æœºå™¨ä¼šå¸¦æ¥å¾ˆé«˜çš„é¢å¤–å¼€é”€ï¼›&lt;/li&gt;&lt;li&gt;Kubernetes ä¸­è¿è¡Œçš„å®¹å™¨å¯èƒ½éœ€è¦å…±äº«ç‰©ç†æœºå’Œè™šæ‹Ÿæœºï¼Œä¸€äº›å¼€å‘è€…å¯èƒ½åœ¨å…¬å¸å†…éƒ¨é‡åˆ°è¿‡è‡ªå·±çš„æœåŠ¡è¢«å…¶ä»–ä¸šåŠ¡å½±å“ï¼Œå› ä¸ºä¸»æœºä¸Šå®¹å™¨å¯èƒ½éš”ç¦»äº† CPU å’Œå†…å­˜èµ„æºï¼Œä½†æ˜¯æ²¡æœ‰éš”ç¦» I/Oã€ç½‘ç»œ å’Œ CPU ç¼“å­˜ç­‰èµ„æºï¼Œè¿™äº›èµ„æºçš„éš”ç¦»æ˜¯ç›¸å¯¹å›°éš¾çš„ï¼›&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å¦‚æœ Kubernetes èƒ½å¤Ÿå®ç°ç¡¬å¤šç§Ÿæˆ·ï¼Œè¿™ä¸ä»…å¯¹äº‘æœåŠ¡å•†å’Œå°é›†ç¾¤çš„ä½¿ç”¨è€…æ¥è¯´éƒ½æ˜¯ä¸ªç¦éŸ³ï¼Œå®ƒè¿˜èƒ½å¤Ÿéš”ç¦»ä¸åŒå®¹å™¨ä¹‹é—´çš„å½±å“å¹¶é˜²æ­¢æ½œåœ¨å®‰å…¨é—®é¢˜çš„å‘ç”Ÿï¼Œä¸è¿‡è¿™åœ¨ç°é˜¶æ®µè¿˜æ˜¯æ¯”è¾ƒéš¾å®ç°çš„ã€‚&lt;/p&gt;&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ¯ä¸ªæŠ€æœ¯éƒ½æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¶Šåº•å±‚çš„æŠ€æœ¯ç”Ÿå‘½å‘¨æœŸä¼šè¶Šé•¿ï¼Œè€Œè¶Šä¸Šå±‚çš„æŠ€æœ¯ç”Ÿå‘½å‘¨æœŸä¹Ÿå°±è¶ŠçŸ­ï¼Œè™½ç„¶ Kubernetes æ˜¯å½“ä»Šå®¹å™¨ç•Œçš„æ‰›æŠŠå­ï¼Œä½†æ˜¯æœªæ¥çš„äº‹æƒ…æ²¡æœ‰äººå¯ä»¥è¯´çš„å‡†ã€‚æˆ‘ä»¬è¦æ—¶åˆ»æ¸…æ¥šæ‰‹ä¸­å·¥å…·çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼ŒèŠ±ä¸€äº›æ—¶é—´å­¦ä¹  Kubernetes ä¸­è®¾è®¡çš„ç²¾é«“ï¼Œä¸è¿‡å¦‚æœåœ¨æœªæ¥çš„æŸä¸€å¤© Kubernetes ä¹Ÿæˆä¸ºäº†è¿‡å»ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥æ„Ÿåˆ°å–œæ‚¦ï¼Œå› ä¸ºä¼šæœ‰æ›´å¥½çš„å·¥å…·å–ä»£å®ƒã€‚&lt;/p&gt;&lt;section class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;&lt;hr/&gt;&lt;ol&gt;&lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Kubernetes and Container Security and Adoption Trends &lt;a href=&quot;https://www.stackrox.com/kubernetes-adoption-security-and-market-share-for-containers/&quot;&gt;https://www.stackrox.com/kubernetes-adoption-security-and-market-share-for-containers/&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;AWS Pricing Calculator &lt;a href=&quot;https://calculator.aws/#/createCalculator/EC2&quot;&gt;https://calculator.aws/#/createCalculator/EC2&lt;/a&gt; &lt;a href=&quot;#fnref:2&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Considerations for large clusters &lt;a href=&quot;https://kubernetes.io/docs/setup/best-practices/cluster-large/&quot;&gt;https://kubernetes.io/docs/setup/best-practices/cluster-large/&lt;/a&gt; &lt;a href=&quot;#fnref:3&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;How Microsoft drives exabyte analytics on the worldâ€™s largest YARN cluster &lt;a href=&quot;https://azure.microsoft.com/en-us/blog/how-microsoft-drives-exabyte-analytics-on-the-world-s-largest-yarn-cluster/&quot;&gt;https://azure.microsoft.com/en-us/blog/how-microsoft-drives-exabyte-analytics-on-the-world-s-largest-yarn-cluster/&lt;/a&gt; &lt;a href=&quot;#fnref:4&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:5&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;å¤‡æˆ˜åŒ 11ï¼èš‚èšé‡‘æœä¸‡çº§è§„æ¨¡ K8s é›†ç¾¤ç®¡ç†ç³»ç»Ÿå¦‚ä½•è®¾è®¡ï¼Ÿ &lt;a href=&quot;https://www.sofastack.tech/blog/ant-financial-managing-large-scale-kubernetes-clusters/&quot;&gt;https://www.sofastack.tech/blog/ant-financial-managing-large-scale-kubernetes-clusters/&lt;/a&gt; &lt;a href=&quot;#fnref:5&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:6&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;sig-scalability-kubemark dashboard &lt;a href=&quot;https://testgrid.k8s.io/sig-scalability-kubemark#kubemark-5000&quot;&gt;https://testgrid.k8s.io/sig-scalability-kubemark#kubemark-5000&lt;/a&gt; &lt;a href=&quot;#fnref:6&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:7&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Node-local API cache #84248 &lt;a href=&quot;https://github.com/kubernetes/kubernetes/issues/84248&quot;&gt;https://github.com/kubernetes/kubernetes/issues/84248&lt;/a&gt; &lt;a href=&quot;#fnref:7&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:8&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Multicluster Special Interest Group &lt;a href=&quot;https://github.com/kubernetes/community/tree/master/sig-multicluster&quot;&gt;https://github.com/kubernetes/community/tree/master/sig-multicluster&lt;/a&gt; &lt;a href=&quot;#fnref:8&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:9&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Cluster API Scope and Objectives &lt;a href=&quot;https://github.com/kubernetes-sigs/cluster-api/blob/master/docs/scope-and-objectives.md&quot;&gt;https://github.com/kubernetes-sigs/cluster-api/blob/master/docs/scope-and-objectives.md&lt;/a&gt; &lt;a href=&quot;#fnref:9&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:10&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Demystifying Kubernetes as a service â€“ How Alibaba cloud manages 10,000s of Kubernetes clusters &lt;a href=&quot;https://www.cncf.io/blog/2019/12/12/demystifying-kubernetes-as-a-service-how-does-alibaba-cloud-manage-10000s-of-kubernetes-clusters/&quot;&gt;https://www.cncf.io/blog/2019/12/12/demystifying-kubernetes-as-a-service-how-does-alibaba-cloud-manage-10000s-of-kubernetes-clusters/&lt;/a&gt; &lt;a href=&quot;#fnref:10&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:11&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Run job on each node once to help with setup #64623 &lt;a href=&quot;https://github.com/kubernetes/kubernetes/issues/64623&quot;&gt;https://github.com/kubernetes/kubernetes/issues/64623&lt;/a&gt; &lt;a href=&quot;#fnref:11&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:12&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;StatefulSet does not upgrade to a newer version of manifests #78007 &lt;a href=&quot;https://github.com/kubernetes/kubernetes/issues/78007&quot;&gt;https://github.com/kubernetes/kubernetes/issues/78007&lt;/a&gt; &lt;a href=&quot;#fnref:12&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:13&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Coscheduling based on PodGroup CRD &lt;a href=&quot;https://github.com/kubernetes-sigs/scheduler-plugins/tree/master/kep/42-podgroup-coscheduling&quot;&gt;https://github.com/kubernetes-sigs/scheduler-plugins/tree/master/kep/42-podgroup-coscheduling&lt;/a&gt; &lt;a href=&quot;#fnref:13&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:14&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Volcano Â· A Kubernetes Native Batch System &lt;a href=&quot;https://github.com/volcano-sh/volcano&quot;&gt;https://github.com/volcano-sh/volcano&lt;/a&gt; &lt;a href=&quot;#fnref:14&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li id=&quot;fn:15&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;Kubernetes Working Group for Multi-Tenancy &lt;a href=&quot;https://github.com/kubernetes-sigs/multi-tenancy&quot;&gt;https://github.com/kubernetes-sigs/multi-tenancy&lt;/a&gt; &lt;a href=&quot;#fnref:15&quot; class=&quot;footnote-backref&quot; role=&quot;doc-backlink&quot;&gt;â†©ï¸&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;img src=&quot;https://img.draveness.me/2020-03-11-15839264230785-wechat-qr-code.png&quot; alt=&quot;wechat-account-qrcode&quot;/&gt;&lt;h3&gt;è½¬è½½ç”³è¯·&lt;/h3&gt;&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by/4.0/&quot;&gt;&lt;img alt=&quot;çŸ¥è¯†å…±äº«è®¸å¯åè®®&quot; src=&quot;https://img.draveness.me/creative-commons.png&quot;/&gt;&lt;/a&gt;&lt;p&gt;æœ¬ä½œå“é‡‡ç”¨&lt;/p&gt;&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by/4.0/&quot;&gt;çŸ¥è¯†å…±äº«ç½²å 4.0 å›½é™…è®¸å¯åè®®&lt;/a&gt;&lt;p&gt;è¿›è¡Œè®¸å¯ï¼Œè½¬è½½æ—¶è¯·æ³¨æ˜åŸæ–‡é“¾æ¥ï¼Œå›¾ç‰‡åœ¨ä½¿ç”¨æ—¶è¯·ä¿ç•™å…¨éƒ¨å†…å®¹ï¼Œå¯é€‚å½“ç¼©æ”¾å¹¶åœ¨å¼•ç”¨å¤„é™„ä¸Šå›¾ç‰‡æ‰€åœ¨çš„æ–‡ç« é“¾æ¥ã€‚&lt;/p&gt;&lt;h3&gt;æ–‡ç« å›¾ç‰‡&lt;/h3&gt;&lt;p&gt;ä½ å¯ä»¥åœ¨ &lt;/p&gt;&lt;a href=&quot;/sketch-and-sketch&quot;&gt;æŠ€æœ¯æ–‡ç« é…å›¾æŒ‡å—&lt;/a&gt;&lt;p&gt; ä¸­æ‰¾åˆ°ç”»å›¾çš„æ–¹æ³•å’Œç´ æã€‚&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fc02c19ebfe990a1263bac8d1e2d28c3</guid>
<title>Seata æ­å»ºä¸åˆ†å¸ƒå¼äº‹åŠ¡å…¥é—¨</title>
<link>https://toutiao.io/k/n0npgg0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å•ä½“æ¶æ„ä¸‹ï¼Œæˆ‘ä»¬å¤§å¤šä½¿ç”¨çš„æ˜¯å•ä½“æ•°æ®åº“ï¼Œé€šè¿‡æ•°æ®åº“çš„ACIDç‰¹æ€§æ”¯æŒï¼Œå®ç°äº†æœ¬åœ°äº‹åŠ¡ã€‚ä½†æ˜¯åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹å¤æ‚çš„ä¸šåŠ¡å…³ç³»ä¸­ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ˜¯ä¸å¯é¿å…çš„é—®é¢˜ä¹‹ä¸€ã€‚Seataæ˜¯Spring Cloud Alibabaåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆä¸­é—´ä»¶ï¼Œè§£å†³äº†å¾®æœåŠ¡åœºæ™¯ä¸‹é¢ä¸´çš„åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚æœ¬æ–‡ä»‹ç»å¦‚ä½•é€šè¿‡æ­å»ºSeataç¯å¢ƒï¼Œå¹¶é€šè¿‡å…¶ATæ¨¡å¼ï¼Œå®ç°åˆ†å¸ƒå¼äº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä¸­ä½¿ç”¨çš„ç¯å¢ƒç‰ˆæœ¬ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;nacos-server-1.3.1&lt;br/&gt;seata-server-1.4.0&lt;br/&gt;spring-cloud Hoxton.SR3&lt;br/&gt;spring-cloud-alibaba 2.2.1.RELEASE&lt;/p&gt;&lt;/blockquote&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€SeataæœåŠ¡ç«¯zä¸‹è½½&lt;/h5&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹è½½seata-server-1.4.0ï¼š&lt;br/&gt;&lt;code&gt;https://github.com/seata/seata/releases/tag/v1.4.0&lt;/code&gt;&lt;br/&gt;åŒæ—¶ä¸‹è½½seata-server-0.0.9ï¼Œåç»­éœ€è¦å…¶ä¸­çš„é…ç½®æ–‡ä»¶å’Œè„šæœ¬ï¼š&lt;br/&gt;&lt;code&gt;https://github.com/seata/seata/releases/tag/v0.9.0&lt;/code&gt;&lt;/p&gt;&lt;/section&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€SeataæœåŠ¡file.conf,registry.confé…ç½®&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨confç›®å½•ä¸‹ï¼Œå…ˆæŠŠé…ç½®æ–‡ä»¶å¤‡ä»½åå†è¿›è¡Œæ›´æ”¹&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¿®æ”¹file.confï¼Œmodeé€‰æ‹©æ•°æ®åº“æ¨¡å¼ï¼Œå¹¶é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;  ## store mode: fileã€dbã€redis&lt;br/&gt;  mode = &quot;db&quot;&lt;br/&gt;&lt;br/&gt;  ## database store property&lt;br/&gt;  db {&lt;br/&gt;    ## the implement of javax.sql.DataSource, such as DruidDataSource(druid)/BasicDataSource(dbcp)/HikariDataSource(hikari) etc.&lt;br/&gt;    datasource = &quot;druid&quot;&lt;br/&gt;    ## mysql/oracle/postgresql/h2/oceanbase etc.&lt;br/&gt;    dbType = &quot;mysql&quot;&lt;br/&gt;    driverClassName = &quot;com.mysql.jdbc.Driver&quot;&lt;br/&gt;    url = &quot;jdbc:mysql://127.0.0.1:3306/seata&quot;&lt;br/&gt;    user = &quot;xxxxx&quot;&lt;br/&gt;    password = &quot;xxxxxx&quot;&lt;br/&gt;    minConn = 5&lt;br/&gt;    maxConn = 100&lt;br/&gt;    globalTable = &quot;global_table&quot;&lt;br/&gt;    branchTable = &quot;branch_table&quot;&lt;br/&gt;    lockTable = &quot;lock_table&quot;&lt;br/&gt;    queryLimit = 100&lt;br/&gt;    maxWait = 5000&lt;br/&gt;  }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¿®æ”¹registry.confï¼Œä½¿ç”¨nacosä½œä¸ºæ³¨å†Œå’Œé…ç½®ä¸­å¿ƒã€‚å¯ä»¥åœ¨nacosä¸­åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´ï¼ŒæŠŠç”Ÿæˆçš„å‘½åç©ºé—´çš„å€¼æ‹·è¿‡æ¥&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â registryÂ {&lt;br/&gt;Â Â &lt;span&gt;#Â fileÂ ã€nacosÂ ã€eurekaã€redisã€zkã€consulã€etcd3ã€sofa&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;type&lt;/span&gt;Â =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â nacosÂ {&lt;br/&gt;Â Â Â Â applicationÂ =Â &lt;span&gt;&quot;seata-server&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â serverAddrÂ =Â &lt;span&gt;&quot;127.0.0.1:8848&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â groupÂ =Â &lt;span&gt;&quot;SEATA_GROUP&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â namespaceÂ =Â &lt;span&gt;&quot;202274f4-218e-42bf-9251-e996df6340f8&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â clusterÂ =Â &lt;span&gt;&quot;default&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â usernameÂ =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â passwordÂ =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;br/&gt;Â Â &lt;br/&gt;Â Â configÂ {&lt;br/&gt;Â Â &lt;span&gt;#Â fileã€nacosÂ ã€apolloã€zkã€consulã€etcd3&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;type&lt;/span&gt;Â =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â nacosÂ {&lt;br/&gt;Â Â Â Â serverAddrÂ =Â &lt;span&gt;&quot;127.0.0.1:8848&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â namespaceÂ =Â &lt;span&gt;&quot;202274f4-218e-42bf-9251-e996df6340f8&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â groupÂ =Â &lt;span&gt;&quot;SEATA_GROUP&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â usernameÂ =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â passwordÂ =Â &lt;span&gt;&quot;nacos&quot;&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€å¯¼å…¥Seateå‚æ•°é…ç½®åˆ°nacosé…ç½®ä¸­å¿ƒ&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼ŒæŠŠseata-server-0.9çš„ nacos-config.txt å’Œnacos-config.shè„šæœ¬æ‹·è´åˆ°1.4ç‰ˆæœ¬çš„ seata/confä¸‹ã€‚æˆ‘ä»¬éœ€è¦æŠŠnacos-config.txtçš„å‚æ•°é€šè¿‡è„šæœ¬nacos-config.shå¯¼å…¥åˆ°nacosé…ç½®ä¸­å¿ƒï¼Œä¹‹åå¾®æœåŠ¡é¡¹ç›®ä¹Ÿä»nacosé…ç½®ä¸­å¿ƒè¯»å–é…ç½®ã€‚è¿™æ ·å°±ä¸ç”¨åƒè€ç‰ˆæœ¬é‚£æ ·ï¼Œéœ€è¦æŠŠä¸¤ä¸ªé…ç½®æ–‡ä»¶æ‹·åˆ°å¾®æœåŠ¡é¡¹ç›®çš„resourcceç›®å½•ä¸‹äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¿®æ”¹nacos-config.txtï¼Œé¦–å…ˆä¿®æ”¹æ•°æ®åº“é…ç½®ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;store.mode=db&lt;br/&gt;store.db.url=jdbc:mysql://127.0.0.1:3306/seata?useUnicode=&lt;span&gt;true&lt;/span&gt;&lt;br/&gt;store.db.user=hydra&lt;br/&gt;store.db.password=123456&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;0.9ä¸­çš„å‚æ•°æ ¼å¼è¿˜æ˜¯ä½¿ç”¨æ¨ªçº¿æ¨¡å¼ï¼Œåœ¨1.4ä¸­è§„èŒƒæœ‰æ‰€å˜åŠ¨ï¼Œéœ€è¦æŠŠæ¨ªçº¿å˜æˆé©¼å³°ï¼Œå¯åŠ¨éœ€è¦æ”¹åŠ¨çš„å‚æ•°æœ‰ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;store.db.db-type=mysql&lt;br/&gt;store.db.driver-class-name=com.mysql.jdbc.Driver&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦æ”¹æˆé©¼å³°ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;store.db.dbType=mysql&lt;br/&gt;store.db.driverClassName=com.mysql.jdbc.Driver&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¶ä¸”ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯mysql8.0ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œéœ€è¦æ”¹ä¸€ä¸‹é©±åŠ¨çš„åç§°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä»–å‚æ•°çš„å…·ä½“æ„ä¹‰å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š&lt;code&gt;https://seata.io/zh-cn/docs/user/configurations.htmlÂ &lt;/code&gt;ï¼Œå¹¶æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™è¿›è¡Œä¿®æ”¹ã€‚é¢å¤–éœ€è¦æ³¨æ„å‚æ•°çš„å‚æ•°æ˜¯ï¼š&lt;code&gt;service.vgroupMapping&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;service.vgroupMapping.my_test_tx_group=default&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®˜æ–¹è§£é‡Šä¸ºäº‹åŠ¡ç¾¤ç»„ï¼Œå…·ä½“ä½¿ç”¨å¤šå°‘ä¸ªäº‹åŠ¡ç¾¤ä½“æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºã€‚ä½†é€šè¿‡æŸ¥çœ‹æ–‡æ¡£å’Œéƒ¨åˆ†å¼€æºé¡¹ç›®å‘ç°ï¼Œå¤§å¤šéƒ½é‡‡ç”¨å°†keyå€¼è®¾ç½®ä¸ºæœåŠ¡ç«¯çš„æœåŠ¡åï¼Œæœ‰å¤šå°‘ä¸ªå¾®æœåŠ¡å°±æ·»åŠ å¤šå°‘è¡Œã€‚åœ¨æ¥ä¸‹æ¥çš„demoä¸­è¦ä½¿ç”¨ä¸¤ä¸ªå¾®æœåŠ¡ä½œä¸ºç¤ºä¾‹ï¼Œå› æ­¤æ·»åŠ ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;service.vgroupMapping.order-service-group=default&lt;br/&gt;service.vgroupMapping.stock-service-group=default&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨gitbashè¿è¡Œnacos-config.shè„šæœ¬ï¼Œå‚æ•°æ˜¯nacosçš„ipï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;shÂ nacos-config.shÂ 127.0.0.1&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·æ‰§è¡Œå®Œæˆåå‚æ•°é»˜è®¤æ˜¯å­˜åœ¨nacos configçš„publicå‘½åç©ºé—´ä¸‹ï¼Œå¯ä»¥åœ¨nacosåˆ›å»ºä¸€ä¸ªseataçš„å‘½åç©ºé—´ï¼ŒæŠŠæ‰€æœ‰å‚æ•°æ‹·è´è¿‡å»ï¼Œæ–¹ä¾¿è¿›è¡ŒåŒºåˆ†ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€å»ºè¡¨ï¼š&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨seataæ•°æ®åº“ä¸­æ–°å»ºè¡¨&lt;span&gt;branch_table&lt;/span&gt;, &lt;span&gt;global_table&lt;/span&gt;,&lt;span&gt; lock_table&lt;/span&gt;ï¼Œåœ¨ä¸šåŠ¡æ•°æ®åº“ä¸­æ–°å»ºè¡¨&lt;span&gt;undo_log&lt;/span&gt;ï¼Œç”¨äºå›æ»šï¼Œè¿™äº›è„šæœ¬ä¹Ÿæ˜¯seata-server-0.9ä¸­ä¹Ÿå¯ä»¥ç›´æ¥æ‰¾åˆ°ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;--Â theÂ tableÂ toÂ storeÂ GlobalSessionÂ data&lt;/span&gt;&lt;br/&gt;&lt;span&gt;drop&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;exists&lt;/span&gt;Â &lt;span&gt;`global_table`&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;create&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;`global_table`&lt;/span&gt;Â (&lt;br/&gt;Â Â &lt;span&gt;`xid`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`transaction_id`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`status`&lt;/span&gt;Â &lt;span&gt;tinyint&lt;/span&gt;Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`application_id`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;32&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`transaction_service_group`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;32&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`transaction_name`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`timeout`&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`begin_time`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`application_data`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;2000&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`gmt_create`&lt;/span&gt;Â datetime,&lt;br/&gt;Â Â &lt;span&gt;`gmt_modified`&lt;/span&gt;Â datetime,&lt;br/&gt;Â Â primaryÂ &lt;span&gt;key&lt;/span&gt;Â (&lt;span&gt;`xid`&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;key&lt;/span&gt;Â &lt;span&gt;`idx_gmt_modified_status`&lt;/span&gt;Â (&lt;span&gt;`gmt_modified`&lt;/span&gt;,Â &lt;span&gt;`status`&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;key&lt;/span&gt;Â &lt;span&gt;`idx_transaction_id`&lt;/span&gt;Â (&lt;span&gt;`transaction_id`&lt;/span&gt;)&lt;br/&gt;);&lt;br/&gt;Â &lt;br/&gt;&lt;span&gt;--Â theÂ tableÂ toÂ storeÂ BranchSessionÂ data&lt;/span&gt;&lt;br/&gt;&lt;span&gt;drop&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;exists&lt;/span&gt;Â &lt;span&gt;`branch_table`&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;create&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;`branch_table`&lt;/span&gt;Â (&lt;br/&gt;Â Â &lt;span&gt;`branch_id`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`xid`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`transaction_id`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;Â ,&lt;br/&gt;Â Â &lt;span&gt;`resource_group_id`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;32&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`resource_id`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;256&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`lock_key`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`branch_type`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;8&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`status`&lt;/span&gt;Â &lt;span&gt;tinyint&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`client_id`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;64&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`application_data`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;2000&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`gmt_create`&lt;/span&gt;Â datetime,&lt;br/&gt;Â Â &lt;span&gt;`gmt_modified`&lt;/span&gt;Â datetime,&lt;br/&gt;Â Â primaryÂ &lt;span&gt;key&lt;/span&gt;Â (&lt;span&gt;`branch_id`&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;key&lt;/span&gt;Â &lt;span&gt;`idx_xid`&lt;/span&gt;Â (&lt;span&gt;`xid`&lt;/span&gt;)&lt;br/&gt;);&lt;br/&gt;Â &lt;br/&gt;&lt;span&gt;--Â theÂ tableÂ toÂ storeÂ lockÂ data&lt;/span&gt;&lt;br/&gt;&lt;span&gt;drop&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â &lt;span&gt;exists&lt;/span&gt;Â &lt;span&gt;`lock_table`&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;create&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;`lock_table`&lt;/span&gt;Â (&lt;br/&gt;Â Â &lt;span&gt;`row_key`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â &lt;span&gt;not&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`xid`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;96&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;`transaction_id`&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â ,&lt;br/&gt;Â Â &lt;span&gt;`branch_id`&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`resource_id`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;256&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`table_name`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;32&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`pk`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;36&lt;/span&gt;)Â ,&lt;br/&gt;Â Â &lt;span&gt;`gmt_create`&lt;/span&gt;Â datetimeÂ ,&lt;br/&gt;Â Â &lt;span&gt;`gmt_modified`&lt;/span&gt;Â datetime,&lt;br/&gt;Â Â primaryÂ &lt;span&gt;key&lt;/span&gt;(&lt;span&gt;`row_key`&lt;/span&gt;)&lt;br/&gt;);&lt;br/&gt;Â &lt;br/&gt;&lt;span&gt;--Â theÂ tableÂ toÂ storeÂ seataÂ xidÂ data&lt;/span&gt;&lt;br/&gt;&lt;span&gt;--Â 0.7.0+Â addÂ context&lt;/span&gt;&lt;br/&gt;&lt;span&gt;--Â youÂ mustÂ toÂ initÂ thisÂ sqlÂ forÂ youÂ businessÂ databese.Â theÂ seataÂ serverÂ notÂ needÂ it.&lt;/span&gt;&lt;br/&gt;&lt;span&gt;--Â æ­¤è„šæœ¬å¿…é¡»åˆå§‹åŒ–åœ¨ä½ å½“å‰çš„ä¸šåŠ¡æ•°æ®åº“ä¸­ï¼Œç”¨äºAT æ¨¡å¼XIDè®°å½•ã€‚ä¸serverç«¯æ— å…³ï¼ˆæ³¨ï¼šä¸šåŠ¡æ•°æ®åº“ï¼‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;--Â æ³¨æ„æ­¤å¤„0.3.0+Â å¢åŠ å”¯ä¸€ç´¢å¼•Â ux_undo_log&lt;/span&gt;&lt;br/&gt;&lt;span&gt;drop&lt;/span&gt;Â &lt;span&gt;table&lt;/span&gt;Â &lt;span&gt;`undo_log`&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;CREATE&lt;/span&gt;Â &lt;span&gt;TABLE&lt;/span&gt;Â &lt;span&gt;`undo_log`&lt;/span&gt;Â (&lt;br/&gt;Â Â &lt;span&gt;`id`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;(&lt;span&gt;20&lt;/span&gt;)Â &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;Â AUTO_INCREMENT,&lt;br/&gt;Â Â &lt;span&gt;`branch_id`&lt;/span&gt;Â &lt;span&gt;bigint&lt;/span&gt;(&lt;span&gt;20&lt;/span&gt;)Â &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`xid`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;100&lt;/span&gt;)Â &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`context`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;128&lt;/span&gt;)Â &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`rollback_info`&lt;/span&gt;Â longblobÂ &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`log_status`&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;(&lt;span&gt;11&lt;/span&gt;)Â &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`log_created`&lt;/span&gt;Â datetimeÂ &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`log_modified`&lt;/span&gt;Â datetimeÂ &lt;span&gt;NOT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â &lt;span&gt;`ext`&lt;/span&gt;Â &lt;span&gt;varchar&lt;/span&gt;(&lt;span&gt;100&lt;/span&gt;)Â &lt;span&gt;DEFAULT&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;,&lt;br/&gt;Â Â PRIMARYÂ &lt;span&gt;KEY&lt;/span&gt;Â (&lt;span&gt;`id`&lt;/span&gt;),&lt;br/&gt;Â Â &lt;span&gt;UNIQUE&lt;/span&gt;Â &lt;span&gt;KEY&lt;/span&gt;Â &lt;span&gt;`ux_undo_log`&lt;/span&gt;Â (&lt;span&gt;`xid`&lt;/span&gt;,&lt;span&gt;`branch_id`&lt;/span&gt;)&lt;br/&gt;)Â &lt;span&gt;ENGINE&lt;/span&gt;=&lt;span&gt;InnoDB&lt;/span&gt;Â AUTO_INCREMENT=&lt;span&gt;1&lt;/span&gt;Â &lt;span&gt;DEFAULT&lt;/span&gt;Â &lt;span&gt;CHARSET&lt;/span&gt;=utf8;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5ã€å¯åŠ¨&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å¯åŠ¨nacos-serverçš„æƒ…å†µä¸‹ï¼Œç‚¹å‡» &lt;code&gt;seata/bin/seata-server.bat&lt;/code&gt;å¯åŠ¨seataã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;6ã€å¾®æœåŠ¡æ”¹é€ &lt;/h5&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.seata&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;seata-spring-boot-starter&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;1.3.0&lt;span&gt;&amp;lt;/&lt;span&gt;version&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;com.alibaba.cloud&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-cloud-starter-alibaba-seata&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;exclusions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;exclusion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;io.seata&lt;span&gt;&amp;lt;/&lt;span&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;seata-spring-boot-starter&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;exclusion&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&amp;lt;/&lt;span&gt;exclusions&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&amp;lt;/&lt;span&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœå¾®æœåŠ¡ä¸­ä½¿ç”¨çš„æ˜¯druidè¿æ¥æ± ï¼Œå¯ä»¥æŠŠå·²æœ‰çš„druidä¾èµ–åˆ é™¤ï¼Œåœ¨seata-spring-boot-starter-1.3.0ä¸­å·²ç»å¼•å…¥äº†druid-1.1.12ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä¿®æ”¹æ¯ä¸€ä¸ªå¾®æœåŠ¡ymlï¼Œé…ç½®nacoså’Œseataï¼Œ&lt;span&gt;tx-service-group&lt;/span&gt;å°±æ˜¯nacos-config.txt ä¸­&lt;span&gt;service.vgroupMapping&lt;/span&gt;çš„keyï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨å¾®æœåŠ¡çš„åç§°åŠ ä¸Šgroupåç¼€&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;server:&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;port:&lt;/span&gt;Â &lt;span&gt;8763&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;spring:&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;application:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;name:&lt;/span&gt;Â &lt;span&gt;order-service&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;cloud:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;nacos:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;server-addr:&lt;/span&gt;Â &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;:8848&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;datasource:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;url:&lt;/span&gt;Â &lt;span&gt;jdbc:mysql://localhost:3306/tenant?useUnicode=true&amp;amp;characterEncoding=UTF-8&amp;amp;serverTimezone=UTC&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;username:&lt;/span&gt;Â &lt;span&gt;hydra&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;password:&lt;/span&gt;Â &lt;span&gt;123456&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;driver-class-name:&lt;/span&gt;Â &lt;span&gt;com.mysql.cj.jdbc.Driver&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;type:&lt;/span&gt;Â &lt;span&gt;com.alibaba.druid.pool.DruidDataSource&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;druid:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;initial-size:&lt;/span&gt;Â &lt;span&gt;8&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;min-idle:&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;max-active:&lt;/span&gt;Â &lt;span&gt;10&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;max-wait:&lt;/span&gt;Â &lt;span&gt;60000&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;seata:&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;enabled:&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;application-id:&lt;/span&gt;Â &lt;span&gt;${spring.application.name}&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;tx-service-group:&lt;/span&gt;Â &lt;span&gt;${spring.application.name}-group&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;enable-auto-data-source-proxy:&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;config:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;type:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;nacos:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;server-addr:&lt;/span&gt;Â &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;:8848&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;namespace:&lt;/span&gt;Â &lt;span&gt;202274f4-218e-42bf-9251-e996df6340f8&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;group:&lt;/span&gt;Â &lt;span&gt;SEATA_GROUP&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;username:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;password:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;registry:&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;type:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;nacos:&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;application:&lt;/span&gt;Â &lt;span&gt;seata-server&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;server-addr:&lt;/span&gt;Â &lt;span&gt;127.0&lt;/span&gt;&lt;span&gt;.0&lt;/span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;span&gt;:8848&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;namespace:&lt;/span&gt;Â &lt;span&gt;202274f4-218e-42bf-9251-e996df6340f8&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;group:&lt;/span&gt;Â &lt;span&gt;SEATA_GROUP&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;username:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;password:&lt;/span&gt;Â &lt;span&gt;nacos&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é…ç½®seataçš„æ•°æ®åº“ä»£ç†ï¼Œåœ¨&lt;span&gt;ä½¿ç”¨mybatis-plusæ—¶çš„é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;DataSourceProxyConfig&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;@Bean&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â SqlSessionFactoryÂ &lt;span&gt;sqlSessionFactoryBean&lt;/span&gt;&lt;span&gt;(DataSourceÂ dataSource)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â è®¢å•æœåŠ¡ä¸­å¼•å…¥äº†mybatis-plusï¼Œæ‰€ä»¥è¦ä½¿ç”¨ç‰¹æ®Šçš„SqlSessionFactoryBean&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â MybatisSqlSessionFactoryBeanÂ sqlSessionFactoryBeanÂ =Â &lt;span&gt;new&lt;/span&gt;Â MybatisSqlSessionFactoryBean();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ä»£ç†æ•°æ®æº&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â sqlSessionFactoryBean.setDataSource(&lt;span&gt;new&lt;/span&gt;Â DataSourceProxy(dataSource));&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ç”ŸæˆSqlSessionFactory&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â sqlSessionFactoryBean.getObject();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è°ƒç”¨æµ‹è¯•ï¼Œä»¥OrderServiceè°ƒç”¨StockServiceä¸ºä¾‹ï¼Œåœ¨è¢«è°ƒç”¨çš„serviceæ–¹æ³•ä¸ŠåŠ ä¸Š&lt;span&gt;@Transactional&lt;/span&gt;æ³¨è§£&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h6 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;StockServiceæä¾›æ¥å£ï¼š&lt;/h6&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;StockService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â StockMapperÂ stockMapper;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;reduce&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;å‡åº“å­˜&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â StockÂ stockÂ =Â stockMapper.selectOne(&lt;span&gt;new&lt;/span&gt;Â LambdaQueryWrapper&amp;lt;Stock&amp;gt;().eq(Stock::getId,Â &lt;span&gt;1&lt;/span&gt;));&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(stock.toString());&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â stock.setQuantity(stock.getQuantity()-&lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â resultÂ =Â stockMapper.updateById(stock);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (result==&lt;span&gt;1&lt;/span&gt;){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â RuntimeException(&lt;span&gt;&quot;å¼‚å¸¸æµ‹è¯•ï¼Œå‡†å¤‡rollBack&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&quot;stockÂ reduceÂ success&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h6 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OrderServiceè°ƒç”¨StockServiceçš„æœåŠ¡ï¼š&lt;/h6&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨äº†FeignClientè°ƒç”¨StockServiceï¼Œå¹¶åœ¨å‘èµ·äº‹åŠ¡çš„æ–¹æ³•ä¸ŠåŠ ä¸Š&lt;span&gt;@GlobalTransactional&lt;/span&gt;æ³¨è§£ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;OrderService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â OrderMapperÂ orderMapper;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â StockClientÂ stockClient;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@GlobalTransactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â StringÂ &lt;span&gt;buy&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â OrderÂ order=&lt;span&gt;new&lt;/span&gt;Â Order();&lt;br/&gt;Â Â Â Â Â Â Â Â order.setId(&lt;span&gt;1L&lt;/span&gt;).setMoney(&lt;span&gt;20&lt;/span&gt;D);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â resultÂ =Â orderMapper.insert(order);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (result==&lt;span&gt;1&lt;/span&gt;){&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;æ’å…¥è®¢å•æˆåŠŸ&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â stockClient.reduce();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è°ƒç”¨OrderServiceçš„æ¥å£ï¼Œä¼šåœ¨StockServiceä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œreduceæ–¹æ³•ä¸­çš„æœ¬åœ°äº‹åŠ¡å…ˆæ‰§è¡Œå›æ»šã€‚å†æŸ¥çœ‹æ—¥å¿—ï¼Œåœ¨orderè¡¨ä¸Šæ‰§è¡Œäº†å›æ»šæ“ä½œï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.59921875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zpom4BeZSicaIAvu7iayHNl0pNeO5eBZF8G8boHxJciaRalgzOsorUvQqLCEZSREHLiaZohjFPouOBTlkWUUaRg8sA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;åœ¨ä¸Šé¢çš„æ—¥å¿—ä¸­ï¼Œæ‰“å°å‡ºäº†å…¨å±€äº‹åŠ¡çš„xidã€åˆ†æ”¯çš„branchIdã€ä»¥åŠseataä½¿ç”¨çš„æ¨¡å¼ï¼Œåœ¨ä½¿ç”¨&lt;span&gt;ATæ¨¡å¼çš„äºŒé˜¶æ®µæäº¤å®Œæˆåï¼Œæ˜¾ç¤ºå›æ»šçŠ¶æ€ä¸ºå›æ»šå®Œæˆã€‚&lt;/span&gt;&lt;span&gt;æŸ¥çœ‹ä¸šåŠ¡æ•°æ®åº“çš„und_logè¡¨ï¼Œ&lt;/span&gt;&lt;span&gt;å·²ç»æ’å…¥äº†å›æ»šè®°å½•&lt;/span&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.12578125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zpom4BeZSicaIAvu7iayHNl0pNeO5eBZF8WFbwulLGIetjY5RO3dxKBqiaIsCQpF9tEQic4G5eASp7XgQl0LuWaGhw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ï¼Œå°±ä»¥Seataä¸­é»˜è®¤çš„ATæ¨¡å¼&lt;span&gt;å®ç°äº†åˆ†å¸ƒå¼äº‹åŠ¡&lt;/span&gt;ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œå¯ä»¥åº”å¯¹å¤§å¤šæ•°çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¹¶ä¸”åŸºæœ¬å¯ä»¥åšåˆ°æ— ä¸šåŠ¡å…¥ä¾µï¼Œå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œåªéœ€è¦æ·»åŠ æ³¨è§£ï¼Œä¸éœ€è¦åšå…¶ä»–çš„ä¸šåŠ¡åŠŸèƒ½æ”¹é€ ï¼Œå°±å¯ä»¥ä»¥æ— æ„ŸçŸ¥çš„æ–¹å¼å°±å¯ä»¥å®ç°åˆ†å¸ƒå¼äº‹åŠ¡çš„è§£å†³ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fa6c3a4edde806f7f1783ca0db07d978</guid>
<title>Redis è¿›é˜¶ç¬”è®°</title>
<link>https://toutiao.io/k/ti0gb8i</link>
<content:encoded>&lt;div&gt;&lt;div&gt;

                

                
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>