<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>91c2450bd663f17676fa79a6b27bb904</guid>
<title>万字详解生成式 AI 与 Web3</title>
<link>https://toutiao.io/k/msxyhq0</link>
<content:encoded>&lt;div&gt;&lt;body id=&quot;readabilityBody&quot;&gt;
&lt;p id=&quot;app&quot;/&gt;


&lt;/body&gt;
&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>cf480bb2c2fc3f5c0811e8ac023f7fc6</guid>
<title>ChatGPT的训练过程术语整理 - 知乎</title>
<link>https://toutiao.io/k/iqx3wmg</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText css-1g0fqss&quot; options=&quot;[object Object]&quot;&gt;&lt;p data-first-child=&quot;&quot; data-pid=&quot;YrapEgJs&quot;&gt;以ChatGPT为代表的大语言模型训练框架包含五步：&lt;/p&gt;&lt;ol&gt;&lt;li data-pid=&quot;JZfOBPB9&quot;&gt;基座预训练（Base pretrain）&lt;/li&gt;&lt;li data-pid=&quot;fN34qpju&quot;&gt;SFT微调（Supervised Fine-Tuning）&lt;/li&gt;&lt;li data-pid=&quot;4BjEAueM&quot;&gt;奖励函数训练（Reward Modeling, RM），最常用的是基于排序的奖励函数建模（Ranking-Based Reward Modeling，RBRM）&lt;/li&gt;&lt;li data-pid=&quot;0pEq9f_y&quot;&gt;基于人类反馈的强化学习（RLHF，基于RM/RBRM进行PPO强化学习训练）&lt;/li&gt;&lt;li data-pid=&quot;SQNflvdo&quot;&gt;与人类对齐（Align AI with human values）&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;基座预训练&lt;/h3&gt;&lt;p data-pid=&quot;9Kl1N-ho&quot;&gt;大语言模型的基座（Base）通常指的是在大量文本数据上进行预训练的初始模型。这个初始模型作为一个基础框架，具有一定程度的通用语言理解能力，但可能在特定任务上的表现尚不理想。预训练模型的目的是让模型学习到语言的基本结构、语法规则和一般知识，从而为后续的任务定向训练打下基础。&lt;/p&gt;&lt;p data-pid=&quot;2RH1YzAG&quot;&gt;在大语言模型的训练过程中，通常会采用两阶段训练策略：预训练阶段和微调阶段。在预训练阶段，模型在大量无标注文本数据上进行训练，学习到语言的基本知识和潜在规律。预训练后的模型就是所谓的基座。在微调阶段，针对特定任务，模型会在有标注数据的情况下进行进一步训练，以适应特定任务的需求。&lt;/p&gt;&lt;p data-pid=&quot;TrtEETC5&quot;&gt;以OpenAI的GPT系列模型为例，GPT-3的基座模型是一个具有1750亿参数的大型神经网络，它在大量文本数据上进行了预训练。这个基座模型在许多自然语言处理任务上具有较强的表现，但为了在特定任务上取得更好的性能，通常需要对其进行进一步的微调。通过对基座模型进行微调，可以使其更好地适应特定任务的需求，从而实现更高的性能。&lt;/p&gt;&lt;h3&gt;SFT微调（Supervised Fine-Tuning）&lt;/h3&gt;&lt;p data-pid=&quot;w1ZTBOjw&quot;&gt;SFT微调是指对预先训练好的大型语言模型（如GPT系列）进行监督式微调。通过使用大量的人工标注数据，根据特定任务需求，进一步优化模型的性能。这些数据通常包括输入与对应的期望输出，让模型学会如何从输入得出正确的输出。微调的过程可以看作是在原始预训练模型的基础上，为其适应特定任务场景而进行的“个性化训练”。&lt;/p&gt;&lt;h3&gt;奖励函数训练（Reward Modeling, RM）&lt;/h3&gt;&lt;p data-pid=&quot;lLv-GXpG&quot;&gt;RM训练是指为强化学习任务设计奖励函数。奖励函数是一个用于评估AI智能体在特定任务中表现的度量，引导智能体在学习过程中采取正确的行动。RBRM是一种基于排序的奖励建模方法，通过对多个候选输出进行人工排序，为输出赋予相对优劣，从而指导模型生成更好的回答。这种方法可以帮助解决常规奖励建模方法在一些情况下难以为模型提供足够明确指导的问题。&lt;/p&gt;&lt;h3&gt;RLHF：基于RM/RBRM的PPO强化学习&lt;/h3&gt;&lt;p data-pid=&quot;xgfBn-iO&quot;&gt;PPO（Proximal Policy Optimization）是一种强化学习算法，通过优化模型的策略（即在给定输入时选择动作的方式）来提高模型性能。在基于RM或RBRM的PPO训练中，模型利用设计好的奖励函数（或基于排序的奖励模型）来学习如何为特定任务生成更好的输出。通过与环境交互并获取奖励信号，模型不断调整自身策略，以便在未来的相似任务中获得更高的奖励。PPO算法的优势在于其能够在保持稳定性的同时实现较高的性能。&lt;/p&gt;&lt;p data-pid=&quot;vNSIMxXi&quot;&gt;&lt;b&gt;注：&lt;/b&gt;在整个训练过程中，SFT微调、RM/RBRM训练和PPO强化学习这三个阶段是相辅相成的。首先，通过SFT微调使模型适应特定任务，然后使用RM或RBRM训练来设计合适的奖励函数，最后应用PPO强化学习算法进一步优化模型策略。这种训练方法的一个关键优势是，它可以将人类专家的知识和偏好引入模型中。通过微调和基于奖励的方法，模型可以学会生成符合人类期望的输出。此外，通过强化学习，模型可以在没有大量标注数据的情况下，通过与环境交互来探索和学习。这使得训练过程更加高效，同时也使得模型能够在一定程度上自主学习和改进。总之，在大型模型训练中，SFT微调、RM/RBRM训练和PPO强化学习这三个阶段共同作用，帮助模型逐步改进性能，以便更好地完成各种任务。&lt;/p&gt;&lt;h3&gt;与人类对齐（Align AI with human values）&lt;/h3&gt;&lt;p data-pid=&quot;NOzVgJ-o&quot;&gt;大语言模型的与人类对齐是指让人工智能模型理解、遵循并适应人类的价值观、需求和期望。这意味着让模型在处理各种任务时，不仅要提供准确和有帮助的信息，还要确保所生成的内容遵循道德、法律和社会规范，避免产生有害或误导性的结果。&lt;/p&gt;&lt;p data-pid=&quot;gpU-gPzu&quot;&gt;与人类对齐的过程通常包括以下几个方面：&lt;/p&gt;&lt;ol&gt;&lt;li data-pid=&quot;EaZbffHL&quot;&gt;理解用户需求：让模型更好地理解用户在不同场景下的真实需求，以便生成有针对性和相关性的回答。&lt;/li&gt;&lt;li data-pid=&quot;Cy9WFx5z&quot;&gt;遵循道德和法律规范：确保模型生成的内容符合道德和法律规定，避免侵犯隐私、传播虚假信息或煽动仇恨等行为。&lt;/li&gt;&lt;li data-pid=&quot;pRqkAAQ4&quot;&gt;适应社会和文化背景：让模型了解并尊重不同社会和文化背景，以避免产生冒犯、歧视或误解的内容。&lt;/li&gt;&lt;li data-pid=&quot;rQkCawSR&quot;&gt;防止有害输出：在模型生成内容时警惕并避免潜在的有害信息，确保输出无害且有益。&lt;/li&gt;&lt;/ol&gt;&lt;p data-pid=&quot;e8IytEGX&quot;&gt;为了实现与人类的对齐，需要在模型的训练和优化过程中充分考虑人类价值观。这包括在监督式微调阶段使用具有明确指导意义的标注数据，在奖励建模阶段设计合适的奖励函数，以及在强化学习阶段根据实际反馈调整模型策略。总之，与人类对齐是确保大型语言模型能够更好地服务于人类社会的关键因素。通过关注人类价值观并将其纳入模型训练过程，可以使模型更加可靠、安全和有用。&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4558482d87d899e670a248fb237f0e6f</guid>
<title>动态线程池，还可以这么玩！</title>
<link>https://toutiao.io/k/dpgi160</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content               autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;282&quot; data-backw=&quot;561&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5030674846625767&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2KTof9YshwcXPpQqHflA9E7eiaLylA6QhQapeianHO5h8bPJhiaCGZevD4CZ1dU0eDYfDvGPqicy5bqHBBBACOqticA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1304&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot; data-darkmode-color-15906764299112=&quot;rgb(230, 230, 230)&quot; data-darkmode-original-color-15906764299112=&quot;rgb(0, 0, 0)&quot; data-darkmode-bgcolor-15906764299112=&quot;rgb(36, 36, 36)&quot; data-darkmode-original-bgcolor-15906764299112=&quot;rgb(255, 255, 255)&quot; data-style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 0, 0); font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif; font-size: 16px; white-space: normal; word-spacing: 0.8px; letter-spacing: 0.75px; text-align: center; visibility: visible;&quot; data-darkmode-color-15958675267961=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-15958675267961=&quot;rgb(0, 0, 0)&quot; data-darkmode-bgcolor-15958675267961=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-15958675267961=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-15965526125846=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-15965526125846=&quot;rgb(0, 0, 0)&quot; data-darkmode-bgcolor-15965526125846=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-15965526125846=&quot;rgb(255, 255, 255)&quot; data-darkmode-bgcolor-15969880239317=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-15969880239317=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-15969880239317=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-15969880239317=&quot;rgb(0, 0, 0)&quot; data-darkmode-color-15976750929548=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-15976750929548=&quot;rgb(0, 0, 0)&quot; data-darkmode-bgcolor-15976750929548=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-15976750929548=&quot;rgb(255, 255, 255)&quot; data-darkmode-color-15982803404507=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-15982803404507=&quot;rgb(0, 0, 0)&quot; data-darkmode-bgcolor-15982803404507=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-15982803404507=&quot;rgb(255, 255, 255)&quot;&gt;&lt;span&gt;程序员进阶网站：&lt;/span&gt;&lt;span&gt;https://offercome.cn&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;大家好，我是Tom哥。&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;「使用线程池 ThreadPoolExecutor 过程中你是否有以下痛点呢？」&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;span&gt;❝&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.代码中创建了一个 &lt;/span&gt;&lt;code&gt;&lt;span&gt;ThreadPoolExecutor&lt;/span&gt;&lt;/code&gt;&lt;span&gt;，但是不知道那几个核心参数设置多少比较合适&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.凭经验设置参数值，上线后发现需要调整，改代码重启服务，非常麻烦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.线程池相对开发人员来说是个黑盒，运行情况不能及时感知到，直到出现问题&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如果你有以上痛点，动态可监控线程池（DynamicTp）或许能帮助到你。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;如果看过 &lt;/span&gt;&lt;code&gt;&lt;span&gt;ThreadPoolExecutor&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 的源码，大概可以知道它对核心参数基本都有提供 &lt;/span&gt;&lt;code&gt;&lt;span&gt;set / get&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 方法以及一些扩展方法，可以在运行时动态修改、获取相应的值。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;现在大多数的互联网项目其实都会微服务化部署，有一套自己的服务治理体系，微服务组件中的分布式配置中心扮演的就是动态修改配置， 实时生效的角色。那么我们是否可以结合配置中心来做运行时线程池参数的动态调整呢？答案是肯定的，而且配置中心相对都是高可用的， 使用它也不用过于担心配置推送出现问题这类事儿，而且也能减少研发动态线程池组件的难度和工作量。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;「综上，可以总结出以下的背景」&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「广泛性」&lt;/strong&gt;：在 Java 开发中，想要提高系统性能，线程池已经是一个 90%以上的人都会选择使用的基础工具&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「不确定性」&lt;/strong&gt;：项目中可能会创建很多线程池，既有 IO 密集型的，也有 CPU 密集型的，但线程池的参数并不好确定；需要有套机制在运行过程中动态去调整参数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「无感知性」&lt;/strong&gt;：线程池运行过程中的各项指标一般感知不到；需要有套监控报警机制在事前、事中就能让开发人员感知到线程池的运行状况，及时处理&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「高可用性」&lt;/strong&gt;：配置变更需要及时推送到客户端；需要有高可用的配置管理推送服务，配置中心是现在大多数互联网系统都会使用的组件，与之结合可以大幅度减少开发量及接入难度&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;简介&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;「基于以上背景分析，我们对线程池 ThreadPoolExecutor 做一些扩展增强，主要实现以下目标」&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;span&gt;❝&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.实现对运行中线程池参数的动态修改，实时生效&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.实时监控线程池的运行状态，触发设置的报警策略时报警，报警信息推送办公平台&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.定时采集线程池指标数据，配合像 grafana 这种可视化监控平台做大盘监控&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;「经过多个版本的迭代，目前最新版本 v1.0.9 具有以下特性」&lt;/strong&gt; ✅&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「代码零侵入」&lt;/strong&gt;：所有配置都放在配置中心，对业务代码零侵入&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「轻量简单」&lt;/strong&gt;：基于 SpringBoot 实现，引入 &lt;/span&gt;&lt;code&gt;&lt;span&gt;starter&lt;/span&gt;&lt;/code&gt;&lt;span&gt;，接入只需简单 4 步就可完成，顺利 3 分钟搞定&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「高可扩展」&lt;/strong&gt;：框架核心功能都提供 SPI 接口供用户自定义个性化实现（配置中心、配置文件解析、通知告警、监控数据采集、任务包装等等）&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「线上大规模应用」&lt;/strong&gt;：参考美团线程池实践，美团内部已经有该理论成熟的应用经验&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「多平台通知报警」&lt;/strong&gt;：提供多种报警维度（配置变更通知、活性报警、容量阈值报警、拒绝触发报警、任务执行或等待超时报警），已支持企业微信、钉钉、飞书、邮件报警，同时提供 SPI 接口可自定义扩展实现&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「监控」&lt;/strong&gt;：定时采集线程池指标数据，支持通过 &lt;/span&gt;&lt;code&gt;&lt;span&gt;MicroMeter&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;JsonLog&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 日志输出、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Endpoint&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 三种方式，可通过 SPI 接口自定义扩展实现&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「任务增强」&lt;/strong&gt;：提供任务包装功能，实现 &lt;/span&gt;&lt;code&gt;&lt;span&gt;TaskWrapper&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 接口即可，如 &lt;/span&gt;&lt;code&gt;&lt;span&gt;MdcTaskWrapper&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;TtlTaskWrapper&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;SwTraceTaskWrapper&lt;/span&gt;&lt;/code&gt;&lt;span&gt;，可以支持线程池上下文信息传递&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「兼容性」&lt;/strong&gt;：JUC 普通线程池和 Spring 中的 &lt;/span&gt;&lt;code&gt;&lt;span&gt;ThreadPoolTaskExecutor&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 也可以被框架监控，&lt;/span&gt;&lt;code&gt;&lt;span&gt;@Bean&lt;/span&gt;&lt;/code&gt;&lt;span&gt;定义时加 &lt;/span&gt;&lt;code&gt;&lt;span&gt;@DynamicTp&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 注解即可&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「可靠性」&lt;/strong&gt;：框架提供的线程池实现 Spring 生命周期方法，可以在 Spring 容器关闭前尽可能多的处理队列中的任务&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「多模式」&lt;/strong&gt;：参考 Tomcat 线程池提供了 IO 密集型场景使用的 &lt;/span&gt;&lt;code&gt;&lt;span&gt;EagerDtpExecutor&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 线程池&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「支持多配置中心」&lt;/strong&gt;：基于主流配置中心实现线程池参数动态调整，实时生效，已支持 &lt;/span&gt;&lt;code&gt;&lt;span&gt;Nacos&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Apollo&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Zookeeper&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Consul&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Etcd&lt;/span&gt;&lt;/code&gt;&lt;span&gt;，同时也提供 SPI 接口可自定义扩展实现&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「中间件线程池管理」&lt;/strong&gt;：集成管理常用第三方组件的线程池，已集成&lt;/span&gt;&lt;code&gt;&lt;span&gt;Tomcat&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Jetty&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Undertow&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Dubbo&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;RocketMq&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Hystrix&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Grpc&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 等组件的线程池管理（调参、监控报警）&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;架构设计&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;框架功能大体可以分为以下几个模块&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;span&gt;❝&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.配置变更监听模块 2.服务内部线程池管理模块 3.三方组件线程池管理模块 4.监控模块 5.通知告警模块&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;代码结构&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.4855687606112054&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/x0kXIOa6owVKFfBtHCdUsWvrKEjRr9sibNEwEyJ4DOrCbs7BgUianJicrarkAOXoMI8zGic7tAodXsbDQoYc99RYeA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;589&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;&lt;span&gt;❝&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「adapter 模块」&lt;/strong&gt;：主要是适配一些第三方组件的线程池管理，目前已经实现的有 SpringBoot 内置的三大 web 容器（&lt;/span&gt;&lt;code&gt;&lt;span&gt;Tomcat&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Jetty&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Undertow&lt;/span&gt;&lt;/code&gt;&lt;span&gt;）、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Dubbo&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;RocketMq&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Hystrix&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Grpc&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 的线程池管理， 后续会接入其他常用组件的线程池管理。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「common 模块」&lt;/strong&gt;：主要是一些各个模板都会用到的类，解耦依赖，复用代码，大家日常开发中可能也经常会这样做。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「core 模块」&lt;/strong&gt;：该框架的核心代码都在这个模块里，包括动态调整参数，监控报警，以及串联整个项目流程都在此。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「example 模块」&lt;/strong&gt;：提供一个简单使用示例，方便使用者参照&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「extension 模块」&lt;/strong&gt;：放一些扩展功能实现，比如基于 redis 的流控扩展、邮件发送扩展、skywalking 上下文传递扩展等&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「logging 模块」&lt;/strong&gt;：用于配置框架内部日志的输出，目前主要用于输出线程池监控指标数据到指定文件&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;「starter模块」&lt;/strong&gt;：提供独立功能模块的依赖封装、自动配置等相关。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;❞&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;配置变更监听模块&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1.监听特定配置中心的指定配置文件（已实现 &lt;/span&gt;&lt;code&gt;&lt;span&gt;Nacos&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Apollo&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Zookeeper&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Consul&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;Etcd&lt;/span&gt;&lt;/code&gt;&lt;span&gt;），可通过内部提供的SPI接口扩展其他实现&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.解析配置文件内容，内置实现 &lt;/span&gt;&lt;code&gt;&lt;span&gt;yml&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;properties&lt;/span&gt;&lt;/code&gt;&lt;span&gt;、&lt;/span&gt;&lt;code&gt;&lt;span&gt;json&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 配置文件的解析，可通过内部提供的 SPI 接口扩展其他实现&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;3.通知线程池管理模块实现参数的刷新&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;服务内部线程池管理模块&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1.服务启动时从配置中心拉取配置，生成线程池实例注册到内部线程池注册中心以及 Spring 容器中&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.接受配置监听模块的刷新事件，实现线程池参数的刷新&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;3.代码中通过依赖注入（推荐）或者 &lt;/span&gt;&lt;code&gt;&lt;span&gt;DtpRegistry.getDtpExecutor()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 方法根据线程池名称来获取线程池实例&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;三方组件线程池管理&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1.服务启动获取第三方中间件的线程池，被框架管理起来&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.接受参数刷新、指标收集、通知报警事件，进行相应的处理&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;监控模块&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;实现监控指标采集以及输出，默认提供以下三种方式，也可通过内部提供的 SPI 接口扩展其他实现&lt;/span&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;默认实现 &lt;/span&gt;&lt;code&gt;&lt;span&gt;JsonLog&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 输出到磁盘，可以自己采集解析日志，存储展示&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;&lt;span&gt;MicroMeter&lt;/span&gt;&lt;/code&gt;&lt;span&gt;采集，引入 &lt;/span&gt;&lt;code&gt;&lt;span&gt;MicroMeter&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 相关依赖，暴露相关端点，采集指标数据，结合 &lt;/span&gt;&lt;code&gt;&lt;span&gt;Grafana&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 做监控大盘&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;暴雷自定义 &lt;/span&gt;&lt;code&gt;&lt;span&gt;Endpoint&lt;/span&gt;&lt;/code&gt;&lt;span&gt; 端点（&lt;/span&gt;&lt;code&gt;&lt;span&gt;dynamic-tp&lt;/span&gt;&lt;/code&gt;&lt;span&gt;），可通过 http 方式实时访问&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h4 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;通知告警模块&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;对接办公平台，实现通知告警功能，已支持钉钉、企微、飞书、邮件，可通过内部提供的 SPI 接口扩展其他实现，通知告警类型如下&lt;/span&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;线程池主要参数变更通知&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;阻塞队列容量达到设置的告警阈值&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;线程池活性达到设置的告警阈值&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;触发拒绝策略告警，格式：A/B，A：该报警项前后两次报警区间累加数量，B：该报警项累计总数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;任务执行超时告警，格式：A/B，A：该报警项前后两次报警区间累加数量，B：该报警项累计总数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;任务等待超时告警，格式：A/B，A：该报警项前后两次报警区间累加数量，B：该报警项累计总数&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6953703703703704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/x0kXIOa6owVKFfBtHCdUsWvrKEjRr9sibibFOCJ3WicMahsTdIWE59DQzIcfDhQ0wvRUHlBDUwecYa4iapiaV7KZf9A/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;项目地址&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;gitee地址：&lt;/strong&gt;&lt;br/&gt;https://gitee.com/dromara/dynamic-tp&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;github地址：&lt;/strong&gt;&lt;br/&gt;https://github.com/dromara/dynamic-tp&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;37&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;p&gt;&lt;span&gt;原文：juejin.cn/post/7166075966615126029&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;············  END  ··············&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;关于我：Tom哥，前阿里技术专家，拿过 鹅厂、百度、华为 等6家大厂offer，CSDN 博客专家，面试过 500+ 候选人，职场经验丰富。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;新建了「技术群」，广邀各路朋友探讨职场、技术、人生，多个朋友多条路。抱团取暖，一起牛逼。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdnice编辑器&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.092130518234165&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KTof9YshwdaSEqIP60fNXXqd7e15vycGo75wsfR2yTDKxOpJaKG0BKzFod8CQxLtibu2vMp1GKBMDJRbk3rpLw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;521&quot;/&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>04680ee3e212f72401fc91ac60266a17</guid>
<title>30s 就可以掌握的 Nginx 片段 - Jartto&#x27;s blog</title>
<link>https://toutiao.io/k/k2uyq80</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;main-content-wrap&quot;&gt;
            &lt;p&gt;作为一枚程序员，日常研发少不了上线部署工作。一旦走上“基建”的道路，你就会发现 &lt;code&gt;Nginx&lt;/code&gt; 是你绕不开的一个坎。毫不夸张的说：&lt;code&gt;Nginx&lt;/code&gt; 能顶半边天！&lt;br/&gt;&lt;a id=&quot;more&quot;/&gt;&lt;br/&gt;也许你会反驳，我们有专业的运维（ &lt;code&gt;OP&lt;/code&gt; ）团队，不用操心。然而实际情况却是 &lt;code&gt;OP&lt;/code&gt; 每天被繁重的工单占据着，你无时无刻不在排队。大公司如此，小公司更甚。因此，储备一些 &lt;code&gt;Nginx&lt;/code&gt; 知识，一定会让你事半功倍。&lt;/p&gt;&lt;div class=&quot;alert success&quot;&gt;&lt;p&gt;本文总结了日常开发中高频出现的 15 个 Nginx 配置片段，因为短小，所以你只需 30 秒就可以掌握。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;一、跨域配置&quot;&gt;&lt;a href=&quot;#一、跨域配置&quot; class=&quot;headerlink&quot; title=&quot;一、跨域配置&quot;/&gt;一、跨域配置&lt;/h4&gt;&lt;p&gt;由于浏览器的安全策略，前端处理跨域请求的概率极高，如下是开启跨域请求常规手段。&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$request_method&lt;/span&gt; = OPTIONS ) {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    add_header &lt;span class=&quot;string&quot;&gt;&quot;Access-Control-Allow-Origin&quot;&lt;/span&gt;  *;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    add_header &lt;span class=&quot;string&quot;&gt;&quot;Access-Control-Allow-Methods&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;GET, POST, OPTIONS, HEAD&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    add_header &lt;span class=&quot;string&quot;&gt;&quot;Access-Control-Allow-Headers&quot;&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;Authorization, Origin, X-Requested-With, Content-Type, Accept&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    add_header &lt;span class=&quot;string&quot;&gt;&#x27;Access-Control-Max-Age&#x27;&lt;/span&gt; 600;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 200;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;二、开启-GZip-压缩&quot;&gt;&lt;a href=&quot;#二、开启-GZip-压缩&quot; class=&quot;headerlink&quot; title=&quot;二、开启 GZip 压缩&quot;/&gt;二、开启 GZip 压缩&lt;/h4&gt;&lt;p&gt;如果你希望压缩常规的文件类型，可以参考如下代码：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  include       conf/mime.types;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  gzip on;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  gzip_min_length  1000;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  gzip_buffers     4 8k;   &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  gzip_http_version 1.1; &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  gzip_types       text/plain application/x-javascript text/css application/xml application/javascript application/json;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;GZip 涉及参数较多，还有 &lt;code&gt;gzip_comp_level&lt;/code&gt;、&lt;code&gt;gzip_proxied&lt;/code&gt;等，详情可以参考：&lt;a href=&quot;https://www.jianshu.com/p/e0ff1e275e7f&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Nginx配置 - Gzip压缩&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;三、跨域传递-Cookie&quot;&gt;&lt;a href=&quot;#三、跨域传递-Cookie&quot; class=&quot;headerlink&quot; title=&quot;三、跨域传递 Cookie&quot;/&gt;三、跨域传递 Cookie&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Chrome 80&lt;/code&gt;以后的版本，&lt;code&gt;Cookie&lt;/code&gt;默认不可跨域，除非服务器在响应头里再设置 &lt;code&gt;same-site&lt;/code&gt; 属性（&lt;code&gt;strict&lt;/code&gt;，&lt;code&gt;lax&lt;/code&gt;，&lt;code&gt;none&lt;/code&gt;）。&lt;/p&gt;

&lt;p&gt;还有一种方式是使用&lt;code&gt;proxy_pass&lt;/code&gt;反向代理。如果只是&lt;code&gt;Host&lt;/code&gt;、端口转换，则&lt;code&gt;Cookie&lt;/code&gt;不会丢失。再次访问时，浏览器会发送当前的&lt;code&gt;Cookie&lt;/code&gt;。当然，路径变化了，则需要设置&lt;code&gt;Cookie&lt;/code&gt;的路径转换。&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;location /foo {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    proxy_pass http://localhost:4000;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    proxy_cookie_path /foo &lt;span class=&quot;string&quot;&gt;&quot;/; SameSite=None; HTTPOnly; Secure&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;四、健康检查&quot;&gt;&lt;a href=&quot;#四、健康检查&quot; class=&quot;headerlink&quot; title=&quot;四、健康检查&quot;/&gt;四、健康检查&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Nginx&lt;/code&gt; 服务端会按照设定的间隔时间主动向后端的 &lt;code&gt;upstream_server&lt;/code&gt; 发出检查请求来验证后端的各个 &lt;code&gt;upstream_server&lt;/code&gt; 的状态。&lt;br/&gt;如果得到某个服务器失败的返回超过一定次数，比如 3 次就会标记该服务器为异常，就不会将请求转发至该服务器。一般情况下后端服务器需要为这种健康检查专门提供一个低消耗的接口。&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# 指定一个 upstream 负载均衡组，名称为 evalue&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  upstream evalue {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# 定义组内的节点服务，如果不加 weight 参数，默认就是 Round Robin ，加上了 weight 参数就是加权轮询&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 192.168.90.100:9999 weight=100;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 192.168.90.101:9999 weight=100;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# interval=3000 检查间隔 3 秒 ， rise=3 连续成功3次认为服务健康 ， fall=5 连续失败 5 次认为服务不健康 ， timeout=3000 健康检查的超时时间为 3 秒 ， type=http  检查类型 http&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    check interval=3000 rise=3 fall=5 timeout=3000 &lt;span class=&quot;built_in&quot;&gt;type&lt;/span&gt;=http;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# check_http_send 设定检查的行为：请求类型 url 请求协议 -&amp;gt; HEAD /api/v1/health HTTP/1.0         &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    check_http_send &lt;span class=&quot;string&quot;&gt;&quot;HEAD /api/v1/health HTTP/1.0\r\n\r\n&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# 设定认为返回正常的响应状态       &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    check_http_expect_alive http_2xx http_3xx;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;五、泛域名解析&quot;&gt;&lt;a href=&quot;#五、泛域名解析&quot; class=&quot;headerlink&quot; title=&quot;五、泛域名解析&quot;/&gt;五、泛域名解析&lt;/h4&gt;&lt;p&gt;要在 &lt;code&gt;Nginx&lt;/code&gt; 中配置域名泛解析，可以使用通配符 &lt;code&gt;*&lt;/code&gt; 来实现次级域名指向同一 &lt;code&gt;IP&lt;/code&gt; 地址。如下是一个简单的 &lt;code&gt;Nginx&lt;/code&gt; 配置示例：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name *.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    root /var/www/jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;上面的配置将所有以 &lt;code&gt;.jartto.com&lt;/code&gt; 结尾的域名都指向 &lt;code&gt;/var/www/jartto.com&lt;/code&gt; 目录下的网站。如果要配置二级域名，可以使用以下的 &lt;code&gt;Nginx&lt;/code&gt; 配置：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name *.sub.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    root /var/www/sub.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;上面的配置将所有以 &lt;code&gt;.sub.example.com&lt;/code&gt; 结尾的二级域名都指向 &lt;code&gt;/var/www/sub.example.com&lt;/code&gt; 目录下的网站。需要注意的是，在使用泛解析时，可能会导致一些安全问题。因此，建议仅在必要时使用泛解析，并且要对网站进行充分保护。&lt;/p&gt;
&lt;h4 id=&quot;六、使用-request-id-实现链路追踪&quot;&gt;&lt;a href=&quot;#六、使用-request-id-实现链路追踪&quot; class=&quot;headerlink&quot; title=&quot;六、使用 $request_id 实现链路追踪&quot;/&gt;六、使用 $request_id 实现链路追踪&lt;/h4&gt;&lt;p&gt;&lt;code&gt;Nginx&lt;/code&gt;在&lt;code&gt;1.11.0&lt;/code&gt;版本中就提供了内置变量&lt;code&gt;$request_id&lt;/code&gt;，其原理就是生成 32 位的随机字符串，虽不能比拟 &lt;code&gt;UUID&lt;/code&gt; 的概率，但 32 位的随机字符串的重复概率也是微不足道了，所以一般可视为 &lt;code&gt;UUID&lt;/code&gt; 来使用。&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;location ^~ /habo/gid {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        add_header Cache-Control no-store;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        default_type application/javascript;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$unionId&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$cookie_GID&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$unionId&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;) {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$unionId&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$request_id&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;                add_header Set-Cookie &lt;span class=&quot;string&quot;&gt;&quot;GID=&lt;span class=&quot;variable&quot;&gt;${unionId}&lt;/span&gt;;path=/habo/;max-age=&lt;span class=&quot;variable&quot;&gt;${GID_MAX_AGE}&lt;/span&gt;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 200 &lt;span class=&quot;string&quot;&gt;&quot;document.cookie=&#x27;GID=&lt;span class=&quot;variable&quot;&gt;${unionId}&lt;/span&gt;;path=/;max-age=&lt;span class=&quot;variable&quot;&gt;${GID_MAX_AGE}&lt;/span&gt;&#x27;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;七、限流配置&quot;&gt;&lt;a href=&quot;#七、限流配置&quot; class=&quot;headerlink&quot; title=&quot;七、限流配置&quot;/&gt;七、限流配置&lt;/h4&gt;&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;&lt;code&gt;Nginx&lt;/code&gt;提供了两种限流方式：控制速率和控制并发连接数。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;其中，控制速率是指限制单位时间内的请求次数，而控制并发连接数是指限制同时处理的请求数量。&lt;/p&gt;
&lt;p&gt;下面是一个简单的&lt;code&gt;Nginx&lt;/code&gt;限流配置示例，使用&lt;code&gt;leaky bucket&lt;/code&gt;算法进行限流：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    limit_req_zone &lt;span class=&quot;variable&quot;&gt;$binary_remote_addr&lt;/span&gt; zone=one:10m rate=1r/s;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        location / {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;            limit_req zone=one burst=5;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;            proxy_pass http://backend;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;        }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在上述配置中，&lt;code&gt;limit_req_zone&lt;/code&gt;用于定义一个名为&lt;code&gt;one&lt;/code&gt;的共享内存区域，并将其与客户端&lt;code&gt;IP&lt;/code&gt;地址相关联。这个共享内存区域最大占用&lt;code&gt;10MB&lt;/code&gt;空间，并且允许每秒钟通过 1 个请求。然后，在&lt;code&gt;location&lt;/code&gt;块中使用了&lt;code&gt;limit_req&lt;/code&gt;指令来启用限流功能。这里设置&lt;code&gt;burst&lt;/code&gt;为 5，表示当客户端在短时间内发送超过 1 个请求时，可以暂时容忍一定数量的请求超出限制。&lt;br/&gt;需要注意的是，在实际应用中需要根据具体情况调整参数值以达到最佳效果。如下：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;map &lt;span class=&quot;variable&quot;&gt;$http_baggage_flow&lt;/span&gt;  &lt;span class=&quot;variable&quot;&gt;$plimit&lt;/span&gt; {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;string&quot;&gt;&quot;ptest&quot;&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$server_name&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt; default &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;limit_req_zone &lt;span class=&quot;variable&quot;&gt;$plimit&lt;/span&gt; zone=prelimit:10m rate=600r/s;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt; server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  listen       443 ssl;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  server_name   m.gaotu100.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  limit_req zone=prelimit  nodelay;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  limit_req_status 530;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  location = /530.html {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      default_type application/json;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 200 &lt;span class=&quot;string&quot;&gt;&#x27;{&quot;status&quot; : 530}&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  ...&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;八、History-二级路由刷新问题&quot;&gt;&lt;a href=&quot;#八、History-二级路由刷新问题&quot; class=&quot;headerlink&quot; title=&quot;八、History 二级路由刷新问题&quot;/&gt;八、History 二级路由刷新问题&lt;/h4&gt;&lt;p&gt;&lt;code&gt;vue-router+webpack&lt;/code&gt;项目线上部署时单页项目路由，刷新页面出现 &lt;code&gt;404&lt;/code&gt; 问题，一般需要配置如下：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;location / {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;　　root html;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;　　try_files &lt;span class=&quot;variable&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$uri&lt;/span&gt;/ @router;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;　　index index.html index.htm;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;location @router {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;　　rewrite ^.*$ /index.html last;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;九、Cookie-路由识别&quot;&gt;&lt;a href=&quot;#九、Cookie-路由识别&quot; class=&quot;headerlink&quot; title=&quot;九、Cookie 路由识别&quot;/&gt;九、Cookie 路由识别&lt;/h4&gt;&lt;p&gt;最常见的场景就是灰度发布，&lt;code&gt;Nginx&lt;/code&gt; 来识别来自前端的流量，从而进行转发。&lt;br/&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;map $http_cookie $m_upstream {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    ~*baggage-version=isolute-feat-.*$ al-bj-sre-k8s-test-istio-gateway;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    default test.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;upstream al-bj-sre-k8s-test-istio-gateway {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 47.95.128.11:80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;十、服务端开启图片转换&quot;&gt;&lt;a href=&quot;#十、服务端开启图片转换&quot; class=&quot;headerlink&quot; title=&quot;十、服务端开启图片转换&quot;/&gt;十、服务端开启图片转换&lt;/h4&gt;&lt;p&gt;这里主要是设置 &lt;code&gt;WebP&lt;/code&gt; 格式图片，如果你还不了解，请查看：&lt;a href=&quot;http://jartto.wang/2020/05/02/webp-practice/&quot;&gt;&lt;code&gt;WebP&lt;/code&gt; 方案分析与实践&lt;/a&gt;。&lt;br/&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;map $http_accept $webp_suffix {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    default   &quot;&quot;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &quot;~*webp&quot;  &quot;.webp&quot;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;location  ~* ^/_nuxt/img/(.+\.png|jpe?g)$ {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    rewrite ^/_nuxt/img/(.+\.png|jpe?g)$ /$1 break;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    root /apps/srv/instance/test-webp.gaotu100.com/.nuxt/dist/client/img/;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    add_header Vary Accept;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    try_files $uri$webp_suffix $uri =404;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    expires 30d;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;十一、负载均衡&quot;&gt;&lt;a href=&quot;#十一、负载均衡&quot; class=&quot;headerlink&quot; title=&quot;十一、负载均衡&quot;/&gt;十一、负载均衡&lt;/h4&gt;&lt;p&gt;负载均衡通常有四种算法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;轮询，默认方式，每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务挂了，能自动剔除；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;，权重分配，指定轮询几率，权重越高，在被访问的概率越大，用于后端服务器性能不均的情况；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip_hash&lt;/code&gt;，每个请求按访问 &lt;code&gt;IP&lt;/code&gt; 的 &lt;code&gt;hash&lt;/code&gt; 结果分配，这样每个访客固定访问一个后端服务器，可以解决动态网页 &lt;code&gt;session&lt;/code&gt; 共享问题。负载均衡每次请求都会重新定位到服务器集群中的某一个，那么已经登录某一个服务器的用户再重新定位到另一个服务器，其登录信息将会丢失，这样显然是不妥的；&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fair&lt;/code&gt;（第三方），按后端服务器的响应时间分配，响应时间短的优先分配，依赖第三方插件 &lt;code&gt;nginx-upstream-fair&lt;/code&gt;，使用前请先安装；&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  upstream jartto-server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  # ip_hash;  # ip_hash 方式&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    # fair;   # fair 方式&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:8081;  # 负载均衡目的服务地址&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:8080;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:8082 weight=10;  # weight 方式，不写默认为 1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    location / {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    proxy_pass http://jartto-server;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      proxy_connect_timeout 10;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;十二、配置-HTTPS&quot;&gt;&lt;a href=&quot;#十二、配置-HTTPS&quot; class=&quot;headerlink&quot; title=&quot;十二、配置 HTTPS&quot;/&gt;十二、配置 HTTPS&lt;/h4&gt;&lt;p&gt;要在 &lt;code&gt;Nginx&lt;/code&gt; 上配置 &lt;code&gt;HTTPS&lt;/code&gt;，可以按照以下步骤操作：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;为 &lt;code&gt;Nginx&lt;/code&gt; 安装 &lt;code&gt;SSL&lt;/code&gt; 模块。 这可以通过使用 &lt;code&gt;--with-http_ssl_module&lt;/code&gt; 选项编译 &lt;code&gt;Nginx&lt;/code&gt; 或安装包含 &lt;code&gt;SSL&lt;/code&gt; 模块的预构建包来完成。&lt;/li&gt;
&lt;li&gt;从受信任的证书颁发机构&lt;code&gt;CA&lt;/code&gt;为您的域获取&lt;code&gt;SSL&lt;/code&gt;证书。 这可以通过购买证书或从&lt;code&gt;Let&#x27;s Encrypt&lt;/code&gt;获得免费证书来完成。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;配置&lt;code&gt;Nginx&lt;/code&gt;以使用&lt;code&gt;SSL&lt;/code&gt;证书和密钥文件。这涉及将以下行添加到您的&lt;code&gt;Nginx&lt;/code&gt;配置文件中：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ssl_certificate /path/to/jartto.crt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;ssl_certificate_key /path/to/jartto.key;&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果需要，配置&lt;code&gt;Nginx&lt;/code&gt;将&lt;code&gt;HTTP&lt;/code&gt;请求重定向到&lt;code&gt;HTTPS&lt;/code&gt;。 这可以使用服务器块来完成，该服务器块监听端口&lt;code&gt;80&lt;/code&gt;并将所有请求重定向到端口&lt;code&gt;443&lt;/code&gt;（默认 &lt;code&gt;HTTPS&lt;/code&gt; 端口）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;重新启动&lt;code&gt;Nginx&lt;/code&gt;以应用更改。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面是启用&lt;code&gt;HTTPS&lt;/code&gt;并将&lt;code&gt;HTTP&lt;/code&gt;请求重定向到&lt;code&gt;HTTPS&lt;/code&gt;的&lt;code&gt;Nginx&lt;/code&gt;配置文件示例：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name jartto.com www.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 301 https://&lt;span class=&quot;variable&quot;&gt;$server_name&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$request_uri&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 443 ssl;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name jartto.com www.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    ssl_certificate /path/to/jartto.crt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    ssl_certificate_key /path/to/jartto.key;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Other SSL-related settings go here&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# Other server block settings go here&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如上配置文件同时监听端口&lt;code&gt;80&lt;/code&gt;和&lt;code&gt;443&lt;/code&gt;，但仅在端口&lt;code&gt;443&lt;/code&gt;上通过&lt;code&gt;HTTPS&lt;/code&gt;提供内容。所有&lt;code&gt;HTTP&lt;/code&gt;请求都使用第一个服务器块中的返回语句重定向到它们等效的&lt;code&gt;HTTPS URL&lt;/code&gt;。&lt;/p&gt;
&lt;h4 id=&quot;十三、图片防盗链&quot;&gt;&lt;a href=&quot;#十三、图片防盗链&quot; class=&quot;headerlink&quot; title=&quot;十三、图片防盗链&quot;/&gt;十三、图片防盗链&lt;/h4&gt;&lt;p&gt;如果你不想图片被外网随便引用，那么可以配置图片防盗链能力，配置如下：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  listen       80;        &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  server_name  *.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# 图片防盗链&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  location ~* \.(gif|jpg|jpeg|png|bmp|swf)$ {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    valid_referers none blocked server_names ~\.google\. ~\.baidu\. *.qq.com;  &lt;span class=&quot;comment&quot;&gt;# 只允许本机 IP 外链引用&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;variable&quot;&gt;$invalid_referer&lt;/span&gt;){&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;built_in&quot;&gt;return&lt;/span&gt; 403;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;十四、配置多-Server&quot;&gt;&lt;a href=&quot;#十四、配置多-Server&quot; class=&quot;headerlink&quot; title=&quot;十四、配置多 Server&quot;/&gt;十四、配置多 Server&lt;/h4&gt;&lt;p&gt;要在&lt;code&gt;Nginx&lt;/code&gt;中配置多个服务器，可以在&lt;code&gt;Nginx&lt;/code&gt;配置文件中定义多个服务器块。每个服务器块代表一个单独的虚拟服务器，可以监听不同的端口或&lt;code&gt;IP&lt;/code&gt;地址，并提供不同的内容。下面是如何在&lt;code&gt;Nginx&lt;/code&gt;中配置两个虚拟服务器的示例：&lt;br/&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name www.jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    root /var/www/jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# other server configuration directives&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 80;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server_name www.another-jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    root /var/www/another-jartto.com;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;# other server configuration directives&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;  }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;上述示例中，我们定义了两个监听端口&lt;code&gt;80&lt;/code&gt;的虚拟服务器。第一个虚拟服务器配置为从目录&lt;code&gt;/var/www/jartto.com&lt;/code&gt;为域&lt;code&gt;www.jartto.com&lt;/code&gt;提供内容。第二个虚拟服务器配置为从目录&lt;code&gt;/var/www/another-jartto.com&lt;/code&gt;为域&lt;code&gt;www.another-jartto.com&lt;/code&gt;提供内容。每个服务器块都可以有自己的一组配置指令，例如&lt;code&gt;SSL&lt;/code&gt;证书、访问日志、错误页面等等。 &lt;/p&gt;
&lt;div class=&quot;alert info&quot;&gt;&lt;p&gt;通过在&lt;code&gt;Nginx&lt;/code&gt;配置文件中定义多个服务器块，我们就可以在单个&lt;code&gt;Nginx&lt;/code&gt;实例上托管多个网站或应用程序。&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;十五、动态修改配置模块&quot;&gt;&lt;a href=&quot;#十五、动态修改配置模块&quot; class=&quot;headerlink&quot; title=&quot;十五、动态修改配置模块&quot;/&gt;十五、动态修改配置模块&lt;/h4&gt;&lt;p&gt;&lt;code&gt;ngx_dynamic_upstream&lt;/code&gt; 是用于使用 &lt;code&gt;HTTP API&lt;/code&gt; 动态操作上游的模块，例如 &lt;code&gt;ngx_http_upstream_conf&lt;/code&gt;。如果你想动态修改&lt;code&gt;Nginx&lt;/code&gt;配置信息，那么不妨试试如下代码：&lt;br/&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;upstream backends {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    zone zone_for_backends 1m;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:6001;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:6002;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    server 127.0.0.1:6003;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;server {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    listen 6000;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    location /dynamic {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      allow 127.0.0.1;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      deny all;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      dynamic_upstream;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;/&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    location / {&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;      proxy_pass http://backends;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;    }&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;使用方式如下：&lt;br/&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ curl &quot;http://127.0.0.1:6000/dynamic?upstream=zone_for_backends&amp;amp;verbose=&quot;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;server 127.0.0.1:6001 weight=1 max_fails=1 fail_timeout=10;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;server 127.0.0.1:6002 weight=1 max_fails=1 fail_timeout=10;&lt;/span&gt;&lt;br/&gt;&lt;span class=&quot;line&quot;&gt;server 127.0.0.1:6003 weight=1 max_fails=1 fail_timeout=10;&lt;/span&gt;&lt;br/&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;

            
        &lt;/div&gt;
    &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a0a6f572460eeddd019c5aad2ea355b1</guid>
<title>使用Netty，我们到底在开发些什么？？？</title>
<link>https://toutiao.io/k/fk5hof9</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content               autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;strong/&gt;&lt;/span&gt;&lt;span&gt;原价&lt;/span&gt;&lt;strong&gt;299&lt;/strong&gt;&lt;span&gt;元，现在参加拼团活动立享优惠价仅 &lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;149 &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;元，赶快一起参团吧！&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;《从0开始带你成为Netty网络编程高手》&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;=== 课程背景 ===&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;现如今互联网大厂，一面最喜欢考察的就是&lt;strong&gt;&lt;span&gt;基础知识&lt;/span&gt;&lt;/strong&gt;，比如本课程要讲解的计算机基础，因为写代码不可避免要跟机器、网络、CPU、磁盘、内存，成天打交道。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;线上系统也不可避免网络故障导致一些问题：&lt;strong&gt;&lt;span&gt;cpu负载达到100%了咋办？磁盘读写很快满了咋办？内存使用率过高咋办？&lt;/span&gt;&lt;/strong&gt;此时如果你连机器都不敢摸，或者也不知道怎么摸，那不是尴尬了么。&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;=== 课程介绍 ===&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;为了面对以上的问题，儒猿推出了课程《&lt;/span&gt;&lt;span&gt;从0开始带你成为Netty网络编程高手&lt;/span&gt;&lt;span&gt;》，&lt;/span&gt;&lt;span&gt;课程&lt;/span&gt;&lt;strong&gt;&lt;span&gt;将大白话+一步一图的方式学习七层网络模型、TCP/IP三次握手和四次挥手、HTTP请求流程等原理；接着深入剖析最流行的网络框架Netty核心源码&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;！&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.7786666666666666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLZXnleZj42yjfFOvG1RszeFELNmnpfBXsqRmXoPabED0N4skejdZFxZV3bptqDZvAWfh05m6E3ogA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;750&quot;/&gt;&lt;/p&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;=== 课程内容 ===&lt;/strong&gt;&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;（*以下仅为部分课程内容展示，详细大纲查看文章末尾）&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Netty网络模型&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;576&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;346&quot; data-ratio=&quot;0.6114245416078985&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLbbQDEZMd7ibLJZVInHGh1PVPkgUIJZRvfTaZRTmSpfiaLKMIDvPXTic3IJ4EwmxiahEYKzOq1yuY4Ijg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1418&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;=== 讲师介绍 ===&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;=== 适合人群 ===&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;1、工作1年以上的Java开发工程师&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2、常年CRUD，简历缺少含金量的同学&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3、没有网络编程经验，想了解网络底层实现的小伙伴&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;=== 课程收获 ===&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;一步一图大白话，自下而上讲解、最常用以及最陌生的网络协议概念，帮你构建最精准的网络协议知识框架&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;掌握Netty连接接入流程Reactor线程，监测新连接，创建Channel，IO线程分配，Selector注册事件&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;解决工作中常见的性能问题，高性能网络编程I/O、线程与进程等，从而提高编程能力&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;=== 课程福利 ===&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;为了让更多同学学到赚到，&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;《从0开始带你成为Netty网络编程高手》&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;span&gt;现在拼团活动价仅需&lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt; 149&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;元，&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;赶快扫码拼团~&lt;/span&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLZXnleZj42yjfFOvG1RszeF5h1SicWPvATic6yhMnvkX6ZIkCSLNHOeYYbeRopNT3X9B9xUmerR5XQw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;400&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;=== 课程大纲 ===&lt;/strong&gt;&lt;/span&gt;&lt;/h1&gt;&lt;h1&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.0941176470588236&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxlMCkHiaBbva6XJ5T2B0mCm0vpNqWgQrQIpWem8TdYYEPoxLAicZfkvibQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.09281045751634&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxK9zjE3mMByoqVicicq7Kqw7LMKnL3VorVqWC8bTQScC2cuKCRtxOxpSA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.0941176470588236&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxdvnf2kTRGf5tkqgUbK8QWYet90ouicgmj8qrCNiafmRYpFOf6z3ONPWw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.09281045751634&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxTj0dYPYx4VFj48EIkpMEBoyVmsib1tOAjL7mI89XqPRUTWdJaCnKV7A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.0941176470588236&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxeyhZj03eicqXnvRFMlngIzzeSk3cU1kxiaGMicqfh1Ew9hmic7FKfia6AtQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;3.09281045751634&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1J6IbIcPCLZwR0fHU3UudypURBZBWQmxeWwqIIshEQAG2rswsmVL3zMwbFS7d02RhTGMQcdLNHEjibpWcNxuzNA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;765&quot;/&gt;&lt;/h1&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;===  课程入口 ===&lt;/strong&gt;&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;长按扫描下方二维码，直达课程专栏&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1J6IbIcPCLZXnleZj42yjfFOvG1RszeF5h1SicWPvATic6yhMnvkX6ZIkCSLNHOeYYbeRopNT3X9B9xUmerR5XQw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;400&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;* 购买须知：&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;1.  儒猿架构班已经购买过该课程的同学，无须重复购买&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.  购买后在深造播放器观看（防盗），支持PC端和手机端&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>