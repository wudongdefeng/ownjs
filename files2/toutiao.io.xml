<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>d533b06d2a3aeb6393d9ff4b9ce791d8</guid>
<title>ä¸€æ–‡è¯¦è§£æ‰©æ•£æ¨¡å‹ï¼šDDPM</title>
<link>https://toutiao.io/k/pulcqkj</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;preview&quot;&gt;&lt;h4&gt;&lt;strong&gt;ä½œè€…ï¼šäº¬ä¸œé›¶å”® åˆ˜å²©&lt;/strong&gt;&lt;/h4&gt;

&lt;h1&gt;æ‰©æ•£æ¨¡å‹è®²è§£&lt;/h1&gt;

&lt;h2&gt;å‰æ²¿&lt;/h2&gt;

&lt;p&gt;äººå·¥æ™ºèƒ½ç”Ÿæˆå†…å®¹ï¼ˆAI Generated Contentï¼ŒAIGCï¼‰è¿‘å¹´æ¥æˆä¸ºäº†éå¸¸å‰æ²¿çš„ä¸€ä¸ªç ”ç©¶æ–¹å‘ï¼Œç”Ÿæˆæ¨¡å‹ç›®å‰æœ‰å››ä¸ªæµæ´¾ï¼Œåˆ†åˆ«æ˜¯ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGenerative Adversarial Modelsï¼ŒGANï¼‰ï¼Œå˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVariance Auto-Encoderï¼ŒVAEï¼‰ï¼Œæ ‡å‡†åŒ–æµæ¨¡å‹ï¼ˆNormalization Flowï¼Œ NFï¼‰ä»¥åŠè¿™é‡Œè¦ä»‹ç»çš„æ‰©æ•£æ¨¡å‹ï¼ˆDiffusion Modelsï¼ŒDMï¼‰ã€‚æ‰©æ•£æ¨¡å‹æ˜¯å—åˆ°çƒ­åŠ›å­¦ä¸­çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œå®ƒçš„æ€æƒ³æ¥æºæ˜¯éå¹³è¡¡çƒ­åŠ›å­¦ï¼ˆNon-equilibrium thermodynamicsï¼‰ã€‚æ‰©æ•£æ¨¡å‹çš„ç®—æ³•ç†è®ºåŸºç¡€æ˜¯é€šè¿‡å˜åˆ†æ¨æ–­ï¼ˆVariational Inferenceï¼‰è®­ç»ƒå‚æ•°åŒ–çš„é©¬å°”å¯å¤«é“¾ï¼ˆMarkov Chainï¼‰ï¼Œå®ƒåœ¨è®¸å¤šä»»åŠ¡ä¸Šå±•ç°äº†è¶…è¿‡GANç­‰å…¶å®ƒç”Ÿæˆæ¨¡å‹çš„æ•ˆæœï¼Œä¾‹å¦‚æœ€è¿‘éå¸¸ç«çƒ­çš„OpenAIçš„DALL-E 2ï¼ŒStability.aiçš„Stable Diffusionç­‰ã€‚è¿™äº›æ•ˆæœæƒŠè‰³çš„æ¨¡å‹æ‰©æ•£æ¨¡å‹çš„ç†è®ºåŸºç¡€ä¾¿æ˜¯æˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„æå‡ºæ‰©æ•£æ¨¡å‹çš„æ–‡ç« [1]å’Œéå¸¸é‡è¦çš„DDPM[2]ï¼Œæ‰©æ•£æ¨¡å‹çš„å®ç°å¹¶ä¸å¤æ‚ï¼Œä½†å…¶èƒŒåçš„æ•°å­¦åŸç†å´éå¸¸ä¸°å¯Œã€‚åœ¨è¿™é‡Œæˆ‘ä¼šä»‹ç»è¿™äº›é‡è¦çš„æ•°å­¦åŸç†ï¼Œä½†çœå»äº†è¿™äº›å…¬å¼çš„æ¨å¯¼è®¡ç®—ï¼Œå¦‚æœä½ å¯¹è¿™äº›æ¨å¯¼æ„Ÿå…´è¶£ï¼Œå¯ä»¥å­¦ä¹ å‚è€ƒæ–‡çŒ®[4,5,11]çš„ç›¸å…³å†…å®¹ã€‚æˆ‘åœ¨è¿™é‡Œä¸»è¦ä»¥ä¸€ä¸ªç›¸å¯¹ç®€å•çš„è§’åº¦æ¥è®²è§£æ‰©æ•£æ¨¡å‹ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå…¥é—¨è¿™ä¸ªéå¸¸é‡è¦çš„ç”Ÿæˆç®—æ³•ã€‚&lt;/p&gt;

&lt;h2&gt;1. èƒŒæ™¯çŸ¥è¯†: ç”Ÿæˆæ¨¡å‹&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-b35372caf579b4088aa6d7c466f12dfeed9.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ç›®å‰ç”Ÿæˆæ¨¡å‹ä¸»è¦æœ‰å›¾1æ‰€ç¤ºçš„å››ç±»ã€‚å…¶ä¸­GANçš„åŸç†æ˜¯é€šè¿‡åˆ¤åˆ«å™¨å’Œç”Ÿæˆå™¨çš„äº’ç›¸åšå¼ˆæ¥è®©ç”Ÿæˆå™¨ç”Ÿæˆè¶³ä»¥ä»¥å‡ä¹±çœŸçš„å›¾åƒã€‚VAEçš„åŸç†æ˜¯é€šè¿‡ä¸€ä¸ªç¼–ç å™¨å°†è¾“å…¥å›¾åƒç¼–ç æˆç‰¹å¾å‘é‡ï¼Œå®ƒç”¨æ¥å­¦ä¹ é«˜æ–¯åˆ†å¸ƒçš„å‡å€¼å’Œæ–¹å·®ï¼Œè€Œè§£ç å™¨åˆ™å¯ä»¥å°†ç‰¹å¾å‘é‡è½¬åŒ–ä¸ºç”Ÿæˆå›¾åƒï¼Œå®ƒä¾§é‡äºå­¦ä¹ ç”Ÿæˆèƒ½åŠ›ã€‚æµæ¨¡å‹æ˜¯ä»ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼€å§‹ï¼Œé€šè¿‡ä¸€ç³»åˆ—å¯é€†çš„è½¬æ¢å‡½æ•°å°†åˆ†å¸ƒè½¬åŒ–æˆç›®æ ‡åˆ†å¸ƒã€‚æ‰©æ•£æ¨¡å‹å…ˆé€šè¿‡æ­£å‘è¿‡ç¨‹å°†å™ªå£°é€æ¸åŠ å…¥åˆ°æ•°æ®ä¸­ï¼Œç„¶åé€šè¿‡åå‘è¿‡ç¨‹é¢„æµ‹æ¯ä¸€æ­¥åŠ å…¥çš„å™ªå£°ï¼Œé€šè¿‡å°†å™ªå£°å»æ‰çš„æ–¹å¼é€æ¸è¿˜åŸå¾—åˆ°æ— å™ªå£°çš„å›¾åƒï¼Œæ‰©æ•£æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé©¬å°”å¯å¤«æ¶æ„ï¼Œåªæ˜¯å…¶ä¸­è®­ç»ƒè¿‡ç¨‹ç”¨åˆ°äº†æ·±åº¦å­¦ä¹ çš„BPï¼Œä½†å®ƒæ›´å±äºæ•°å­¦å±‚é¢çš„åˆ›æ–°ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šè®¡ç®—æœºçš„åŒå­¦çœ‹æ‰©æ•£æ¨¡å‹ç›¸å…³çš„è®ºæ–‡ä¼šå¦‚æ­¤è´¹åŠ›ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ee1ec9f3394e07bd29a6f8b08f49ac%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_1.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾1ï¼šç”Ÿæˆæ¨¡å‹çš„å››ç§ç±»å‹ [4]&lt;/p&gt;

&lt;p&gt;æ‰©æ•£æ¨¡å‹ä¸­æœ€é‡è¦çš„æ€æƒ³æ ¹åŸºæ˜¯é©¬å°”å¯å¤«é“¾ï¼Œå®ƒçš„ä¸€ä¸ªå…³é”®æ€§è´¨æ˜¯å¹³ç¨³æ€§ã€‚å³å¦‚æœä¸€ä¸ªæ¦‚ç‡éšæ—¶é—´å˜åŒ–ï¼Œé‚£ä¹ˆå†é©¬å°”å¯å¤«é“¾çš„ä½œç”¨ä¸‹ï¼Œå®ƒä¼šè¶‹å‘äºæŸç§å¹³ç¨³åˆ†å¸ƒï¼Œæ—¶é—´è¶Šé•¿ï¼Œåˆ†å¸ƒè¶Šå¹³ç¨³ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œå½“ä½ å‘ä¸€æ»´æ°´ä¸­æ»´å…¥ä¸€æ»´é¢œæ–™æ—¶ï¼Œæ— è®ºä½ æ»´åœ¨ä»€ä¹ˆä½ç½®ï¼Œåªè¦æ—¶é—´è¶³å¤Ÿé•¿ï¼Œæœ€ç»ˆé¢œæ–™éƒ½ä¼šå‡åŒ€çš„åˆ†å¸ƒåœ¨æ°´æº¶æ¶²ä¸­ã€‚è¿™ä¹Ÿå°±æ˜¯æ‰©æ•£æ¨¡å‹çš„å‰å‘è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8686ee33155e4057988a594858ac1b7a%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_2.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾2ï¼šé¢œæ–™åˆ†å­åœ¨æ°´æº¶æ¶²ä¸­çš„æ‰©æ•£è¿‡ç¨‹&lt;/p&gt;

&lt;p&gt;å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿåœ¨æ‰©æ•£çš„è¿‡ç¨‹é¢œæ–™åˆ†å­çš„ä½ç½®ã€ç§»åŠ¨é€Ÿåº¦ã€æ–¹å‘ç­‰ç§»åŠ¨å±æ€§ã€‚é‚£ä¹ˆä¹Ÿå¯ä»¥æ ¹æ®æ­£å‘è¿‡ç¨‹çš„ä¿å­˜çš„ç§»åŠ¨å±æ€§ä»ä¸€æ¯è¢«æº¶è§£äº†é¢œæ–™çš„æ°´ä¸­åæ¨é¢œæ–™çš„æ»´å…¥ä½ç½®ã€‚è¿™è¾¹æ˜¯æ‰©æ•£æ¨¡å‹çš„åå‘è¿‡ç¨‹ã€‚è®°å½•ç§»åŠ¨å±æ€§çš„å¿«ç…§ä¾¿æ˜¯æˆ‘ä»¬è¦è®­ç»ƒçš„æ¨¡å‹ã€‚&lt;/p&gt;

&lt;h3&gt;2. æ‰©æ•£æ¨¡å‹&lt;/h3&gt;

&lt;p&gt;åœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å°†é›†ä¸­ä»‹ç»æ‰©æ•£æ¨¡å‹çš„æ•°å­¦åŸç†ä»¥åŠæ¨å¯¼çš„å‡ ä¸ªé‡è¦æ€§è´¨ï¼Œå› ä¸ºæ¨å¯¼è¿‡ç¨‹æ¶‰åŠå¤§é‡çš„æ•°å­¦çŸ¥è¯†ä½†æ˜¯å¯¹ç†è§£æ‰©æ•£æ¨¡å‹æœ¬èº«æ€æƒ³å¹¶æ— å¤ªå¤§å¸®åŠ©ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä¼šçœå»æ¨å¯¼çš„è¿‡ç¨‹è€Œç›´æ¥ç»™å‡ºç»“è®ºã€‚ä½†æ˜¯æˆ‘ä¹Ÿä¼šç»™å‡ºæ¨å¯¼è¿‡ç¨‹çš„å‡ºå¤„ï¼Œå¯¹å…¶ä¸­çš„æ¨å¯¼è¿‡ç¨‹æ¯”è¾ƒæ„Ÿå…´è¶£çš„è¯·è‡ªè¡ŒæŸ¥çœ‹ã€‚&lt;/p&gt;

&lt;h4&gt;2.1 è®¡ç®—åŸç†&lt;/h4&gt;

&lt;p&gt;æ‰©æ•£æ¨¡å‹ç®€å•çš„è®²å°±æ˜¯é€šè¿‡ç¥ç»ç½‘ç»œå­¦ä¹ ä»çº¯å™ªå£°æ•°æ®é€æ¸å¯¹æ•°æ®è¿›è¡Œå»å™ªçš„è¿‡ç¨‹ï¼Œå®ƒåŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼Œå¦‚å›¾3ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-53d22dbd9ac0e75ed50fd292909a6079957.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df9ff9ba24a146658ed124607bf495c1%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_3.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾3ï¼šDDPMçš„å‰å‘åŠ å™ªå’Œåå‘å»å™ªè¿‡ç¨‹&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-4461c951853c3e8234f9df3cc159e71d869.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h4&gt;2.1.1 å‰å‘è¿‡ç¨‹&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-61c9bd6062262503faa96fa4cf31ba7e38a.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-a642b6099d5eb4b0c08752adb46205fb532.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h4&gt;2.1.2 åå‘è¿‡ç¨‹&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-93dbc0d9867a95b4ae21476c068827e63b0.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h4&gt;2.1.3 ç›®æ ‡å‡½æ•°&lt;/h4&gt;

&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬ç©¶ç«Ÿä½¿ç”¨ä»€ä¹ˆæ ·çš„ä¼˜åŒ–ç›®æ ‡æ‰èƒ½æ¯”è¾ƒå¥½çš„é¢„æµ‹é«˜æ–¯å™ªå£°çš„åˆ†å¸ƒå‘¢ï¼Ÿä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„æ–¹å¼æ˜¯ä½¿ç”¨å˜åˆ†è‡ªç¼–ç å™¨çš„æœ€å¤§åŒ–è¯æ®ä¸‹ç•Œï¼ˆEvidence Lower Bound, ELBOï¼‰çš„æ€æƒ³æ¥æ¨å¯¼ï¼Œå¦‚å¼(6)ï¼Œæ¨å¯¼è¯¦ç»†è¿‡ç¨‹è§è®ºæ–‡[11]çš„å¼(47)åˆ°å¼(58)ï¼Œè¿™é‡Œä¸»è¦ç”¨åˆ°äº†è´å¶æ–¯å®šç†å’Œç´ç”Ÿä¸ç­‰å¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-48ea665f2dafa4ee17686d0e29bffc910a4.jpg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å¼(6)çš„æ¨å¯¼ç»†èŠ‚å¹¶ä¸é‡è¦ï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨çš„æ˜¯å®ƒçš„æœ€ç»ˆç­‰å¼çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»å®ƒä»¬ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-c5d9c7467bc0258b4fc0cbffcc14e27ba52.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e23fcc641f454a6b846d97fbe8010dda%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_4.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾4ï¼šæ‰©æ•£æ¨¡å‹çš„å»å™ªåŒ¹é…é¡¹åœ¨æ¯ä¸€æ­¥éƒ½è¦æ‹Ÿåˆå™ªéŸ³çš„çœŸå®åéªŒåˆ†å¸ƒå’Œä¼°è®¡åˆ†å¸ƒ&lt;/p&gt;

&lt;p&gt;çœŸå®åéªŒåˆ†å¸ƒå¯ä»¥ä½¿ç”¨è´å¶æ–¯å®šç†è¿›è¡Œæ¨å¯¼ï¼Œæœ€ç»ˆç»“æœå¦‚å¼(8)ï¼Œæ¨å¯¼è¿‡ç¨‹è§è®ºæ–‡[11]çš„å¼(71)åˆ°å¼(84)ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-b0def3f1985ebf2a6011cd37ef3d710aa39.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-1b1640b37c37b8a0439ebf9046c7e990418.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;\(p{\boldsymbol{\theta}}\left(\boldsymbol{x}{t-1} \mid \boldsymbol{x}t\right) = \mathcal N(\boldsymbol x{t-1}; \mu\theta(\boldsymbol x_t, t), \Sigma_q(t)) \tag9\)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-b30476658b394d0b2a107e243965a2577d5.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-4203a42c77277969e683d070453f222e497.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-8ceb423af6ecd50cb25139eb9130d76c3f0.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-8ec4359ea3ccc0150c6cf59fd053998f1e3.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;h4&gt;2.1.4 æ¨¡å‹è®­ç»ƒ&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-73ef2dbc80d583bc5a25bf5972c9a423680.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;è™½ç„¶ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†å¾ˆå¤šå†…å®¹ï¼Œå¹¶ç»™å‡ºäº†å¤§é‡å…¬å¼ï¼Œä½†å¾—ç›Šäºæ¨å¯¼å‡ºçš„å‡ ä¸ªé‡è¦æ€§è´¨ï¼Œæ‰©æ•£æ¨¡å‹çš„è®­ç»ƒå¹¶ä¸å¤æ‚ï¼Œå®ƒçš„è®­ç»ƒä¼ªä»£ç è§ç®—æ³•1ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f071ea6ca0146878914cb9a33e041ca%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_ag1.png&quot;/&gt;&lt;/p&gt;

&lt;h4&gt;2.1.5 æ ·æœ¬ç”Ÿæˆ&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-0be5c14e1d629154e6ad509bba2d6fc0d92.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c198a3c52e4486d96d6c414fd57c630%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_ag2.png&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;2.2 ç®—æ³•å®ç°&lt;/h3&gt;

&lt;h4&gt;2.2.1æ¨¡å‹ç»“æ„&lt;/h4&gt;

&lt;p&gt;DDPMåœ¨é¢„æµ‹æ–½åŠ çš„å™ªå£°æ—¶ï¼Œå®ƒçš„è¾“å…¥æ˜¯æ–½åŠ å™ªå£°ä¹‹åçš„å›¾åƒï¼Œé¢„æµ‹å†…å®¹æ˜¯å’Œè¾“å…¥å›¾åƒç›¸åŒå°ºå¯¸çš„å™ªå£°ï¼Œæ‰€ä»¥å®ƒå¯ä»¥çœ‹åšä¸€ä¸ªImg2Imgçš„ä»»åŠ¡ã€‚DDPMé€‰æ‹©äº†U-Net[9]ä½œä¸ºå™ªå£°é¢„æµ‹çš„æ¨¡å‹ç»“æ„ã€‚U-Netæ˜¯ä¸€ä¸ªUå½¢çš„ç½‘ç»œç»“æ„ï¼Œå®ƒç”±ç¼–ç å™¨ï¼Œè§£ç å™¨ä»¥åŠç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´çš„è·¨å±‚è¿æ¥ï¼ˆæ®‹å·®è¿æ¥ï¼‰ç»„æˆã€‚å…¶ä¸­ç¼–ç å™¨å°†å›¾åƒé™é‡‡æ ·æˆä¸€ä¸ªç‰¹å¾ï¼Œè§£ç å™¨å°†è¿™ä¸ªç‰¹å¾ä¸Šé‡‡æ ·ä¸ºç›®æ ‡å™ªå£°ï¼Œè·¨å±‚è¿æ¥ç”¨äºæ‹¼æ¥ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´çš„ç‰¹å¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c150054c5fe242f191439c05398856ea%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_5.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾5ï¼šU-Netçš„ç½‘ç»œç»“æ„&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æˆ‘ä»¬ä»‹ç»DDPMçš„æ¨¡å‹ç»“æ„çš„é‡è¦ç»„ä»¶ã€‚é¦–å…ˆåœ¨U-Netçš„å·ç§¯éƒ¨åˆ†ï¼ŒDDPMä½¿ç”¨äº†å®½æ®‹å·®ç½‘ç»œï¼ˆWide Residual Networkï¼ŒWRNï¼‰[12]ä½œä¸ºæ ¸å¿ƒç»“æ„ï¼ŒWRNæ˜¯ä¸€ä¸ªæ¯”æ ‡å‡†æ®‹å·®ç½‘ç»œå±‚æ•°æ›´å°‘ï¼Œä½†æ˜¯é€šé“æ•°æ›´å¤šçš„ç½‘ç»œç»“æ„ã€‚ä¹Ÿæœ‰ä½œè€…å¤ç°å‘ç°ConvNeXTä½œä¸ºåŸºç¡€ç»“æ„ä¼šå–å¾—éå¸¸æ˜¾è‘—çš„æ•ˆæœæå‡[13,14]ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è®­ç»ƒèµ„æºçµæ´»çš„è°ƒæ•´å·ç§¯ç»“æ„ä»¥åŠå…·ä½“çš„å±‚æ•°ç­‰è¶…å‚ã€‚å› ä¸ºæˆ‘ä»¬åœ¨æ‰©æ•£è¿‡ç¨‹çš„æ•´ä¸ªæµç¨‹ä¸­éƒ½å…±äº«åŒä¸€å¥—å‚æ•°ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒçš„æ—¶é—´ç‰‡ï¼Œä½œè€…å€Ÿé‰´äº†Transformer [15]çš„ä½ç½®ç¼–ç çš„æ€æƒ³ï¼Œé‡‡ç”¨äº†æ­£å¼¦ä½ç½®åµŒå…¥å¯¹æ—¶é—´$t$è¿›è¡Œäº†ç¼–ç ï¼Œè¿™ä½¿å¾—æ¨¡å‹åœ¨é¢„æµ‹å™ªå£°æ—¶çŸ¥é“å®ƒé¢„æµ‹çš„æ˜¯æ‰¹æ¬¡ä¸­åˆ†åˆ«æ˜¯å“ªä¸ªæ—¶é—´ç‰‡æ·»åŠ çš„å™ªå£°ã€‚åœ¨å·ç§¯å±‚ä¹‹é—´ï¼ŒDDPMæ·»åŠ äº†ä¸€ä¸ªæ³¨æ„åŠ›å±‚ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Transformerä¸­æå‡ºçš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æˆ–æ˜¯å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€‚[13]åˆ™æå‡ºäº†ä¸€ä¸ªçº¿æ€§æ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å—ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯æ¶ˆè€—çš„æ—¶é—´ä»¥åŠå ç”¨çš„å†…å­˜å’Œåºåˆ—é•¿åº¦æ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œå¯¹æ¯”ä¼ ç»Ÿæ³¨æ„åŠ›æœºåˆ¶çš„å¹³æ–¹ç›¸å…³è¦é«˜æ•ˆå¾ˆå¤šã€‚åœ¨è¿›è¡Œå½’ä¸€åŒ–æ—¶ï¼ŒDDPMé€‰æ‹©äº†ç»„å½’ä¸€åŒ–ï¼ˆGroup Normalizationï¼ŒGNï¼‰[16]ã€‚æœ€åï¼Œå¯¹äºU-Netä¸­çš„é™é‡‡æ ·å’Œä¸Šé‡‡æ ·æ“ä½œï¼ŒDDPMåˆ†åˆ«é€‰æ‹©äº†æ­¥é•¿ä¸º2çš„å·ç§¯ä»¥åŠåå·ç§¯ã€‚&lt;/p&gt;

&lt;p&gt;ç¡®å®šäº†è¿™äº›ç»„ä»¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ­å»ºç”¨äºDDPMçš„U-Netçš„æ¨¡å‹äº†ã€‚ä»ç¬¬2.1èŠ‚çš„ä»‹ç»æˆ‘ä»¬çŸ¥é“ï¼Œæ¨¡å‹çš„è¾“å…¥ä¸ºå½¢çŠ¶ä¸º(batch_size, num_channels, height, width)çš„å™ªå£°å›¾åƒå’Œå½¢çŠ¶ä¸º(batch_size,1)çš„å™ªå£°æ°´å¹³ï¼Œè¿”å›çš„æ˜¯å½¢çŠ¶ä¸º(batch_size, num_channels, height, width)çš„é¢„æµ‹å™ªå£°ï¼Œæˆ‘ä»¬æ­å»ºçš„ç”¨äºå™ªå£°é¢„æµ‹çš„æ¨¡å‹ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt; é¦–å…ˆåœ¨å™ªå£°å›¾åƒ\( \boldsymbol x_0\)ä¸Šåº”ç”¨å·ç§¯å±‚ï¼Œå¹¶ä¸ºå™ªå£°æ°´å¹³$t$è®¡ç®—æ—¶é—´åµŒå…¥ï¼›&lt;/li&gt;
&lt;li&gt; æ¥ä¸‹æ¥æ˜¯é™é‡‡æ ·é˜¶æ®µã€‚é‡‡ç”¨çš„æ¨¡å‹ç»“æ„ä¾æ¬¡æ˜¯ä¸¤ä¸ªå·ç§¯ï¼ˆWRNSæˆ–æ˜¯ConvNeXTï¼‰+GN+Attention+é™é‡‡æ ·å±‚ï¼›&lt;/li&gt;
&lt;li&gt; åœ¨ç½‘ç»œçš„æœ€ä¸­é—´ï¼Œä¾æ¬¡æ˜¯å·ç§¯å±‚+Attention+å·ç§¯å±‚ï¼›&lt;/li&gt;
&lt;li&gt; æ¥ä¸‹æ¥æ˜¯ä¸Šé‡‡æ ·é˜¶æ®µã€‚å®ƒé¦–å…ˆä¼šä½¿ç”¨Short-cutæ‹¼æ¥æ¥è‡ªé™é‡‡æ ·ä¸­åŒæ ·å°ºå¯¸çš„å·ç§¯ï¼Œå†ä¹‹åæ˜¯ä¸¤ä¸ªå·ç§¯+GN+Attention+ä¸Šé‡‡æ ·å±‚ã€‚&lt;/li&gt;
&lt;li&gt; æœ€åæ˜¯ä½¿ç”¨WRNSæˆ–æ˜¯ConvNeXTä½œä¸ºè¾“å‡ºå±‚çš„å·ç§¯ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;U-Netç±»çš„forwordå‡½æ•°å¦‚ä¸‹é¢ä»£ç ç‰‡æ®µæ‰€ç¤ºï¼Œå®Œæ•´çš„å®ç°ä»£ç å‚ç…§[3]ã€‚&lt;/p&gt;

&lt;pre lang=&quot;python&quot;&gt;&lt;code&gt;def forward(self, x, time):
    x = self.init_conv(x)
    t = self.time_mlp(time) if exists(self.time_mlp) else None
    h = []
    # downsample
    for block1, block2, attn, downsample in self.downs:
        x = block1(x, t)
        x = block2(x, t)
        x = attn(x)
        h.append(x)
        x = downsample(x)
    # bottleneck
    x = self.mid_block1(x, t)
    x = self.mid_attn(x)
    x = self.mid_block2(x, t)
    # upsample
    for block1, block2, attn, upsample in self.ups:
        x = torch.cat((x, h.pop()), dim=1)
        x = block1(x, t)
        x = block2(x, t)
        x = attn(x)
        x = upsample(x)
    return self.final_conv(x)




&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;2.2.2 å‰å‘åŠ å™ª&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://oscimg.oschina.net/oscnet/up-30ecf8ea1e3f8e121c12c1860b7b12c4ac9.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/963eee81349d406d95c18fa29805fb98%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_6.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾6ï¼šä¸€å¼ å›¾ä¾æ¬¡ç»è¿‡0æ¬¡ï¼Œ50æ¬¡ï¼Œ100æ¬¡ï¼Œ150æ¬¡ä»¥åŠ199æ¬¡åŠ å™ªåçš„æ•ˆæœå›¾&lt;/p&gt;

&lt;p&gt;æ ¹æ®å¼(14)æˆ‘ä»¬çŸ¥é“ï¼Œæ‰©æ•£æ¨¡å‹çš„æŸå¤±å‡½æ•°è®¡ç®—çš„æ˜¯ä¸¤å¼ å›¾åƒçš„ç›¸ä¼¼æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨å›å½’ç®—æ³•çš„æ‰€æœ‰æŸå¤±å‡½æ•°ï¼Œä»¥MSEä¸ºä¾‹ï¼Œå‰å‘è¿‡ç¨‹çš„æ ¸å¿ƒä»£ç å¦‚ä¸‹é¢ä»£ç ç‰‡æ®µã€‚&lt;/p&gt;

&lt;pre lang=&quot;python&quot;&gt;&lt;code&gt;def p_losses(denoise_model, x_start, t, noise=None, loss_type=&quot;l1&quot;):
    # 1. æ ¹æ®æ—¶åˆ»tè®¡ç®—éšæœºå™ªå£°åˆ†å¸ƒï¼Œå¹¶å¯¹å›¾åƒx_startè¿›è¡ŒåŠ å™ª
    x_noisy = q_sample(x_start=x_start, t=t, noise=noise)
    # 2. æ ¹æ®å™ªå£°å›¾åƒä»¥åŠæ—¶åˆ»tï¼Œé¢„æµ‹æ·»åŠ çš„å™ªå£°
    predicted_noise = denoise_model(x_noisy, t)
    # 3. å¯¹æ¯”æ·»åŠ çš„å™ªå£°å’Œé¢„æµ‹çš„å™ªå£°çš„ç›¸ä¼¼æ€§
    loss = F.mse_loss(noise, predicted_noise)
    return loss




&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;2.2.3 æ ·æœ¬ç”Ÿæˆ&lt;/h4&gt;

&lt;p&gt;æ ¹æ®2.1.5èŠ‚ä»‹ç»çš„æ ·æœ¬ç”Ÿæˆæµç¨‹ï¼Œå®ƒçš„æ ¸å¿ƒä»£ç ç‰‡æ®µæ‰€ç¤ºï¼Œå…³äºè¿™æ®µä»£ç çš„è®²è§£æˆ‘é€šè¿‡æ³¨é‡Šæ·»åŠ åˆ°äº†ä»£ç ç‰‡æ®µä¸­ã€‚&lt;/p&gt;

&lt;pre lang=&quot;python&quot;&gt;&lt;code&gt;@torch.no_grad()
def p_sample(model, x, t, t_index):
    betas_t = extract(betas, t, x.shape)
    sqrt_one_minus_alphas_cumprod_t = extract(sqrt_one_minus_alphas_cumprod, t, x.shape)
    sqrt_recip_alphas_t = extract(sqrt_recip_alphas, t, x.shape)
    # ä½¿ç”¨å¼(13)è®¡ç®—æ¨¡å‹çš„å‡å€¼
    model_mean = sqrt_recip_alphas_t * (x - betas_t * model(x, t) / sqrt_one_minus_alphas_cumprod_t)
    if t_index == 0:
        return model_mean
    else:
        # è·å–ä¿å­˜çš„æ–¹å·®
        posterior_variance_t = extract(posterior_variance, t, x.shape)
        noise = torch.randn_like(x)
        # ç®—æ³•2çš„ç¬¬4è¡Œ
        return model_mean + torch.sqrt(posterior_variance_t) * noise 

# ç®—æ³•2çš„æµç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¿å­˜äº†æ‰€æœ‰ä¸­é—´æ ·æœ¬
@torch.no_grad()
def p_sample_loop(model, shape):
    device = next(model.parameters()).device
    b = shape[0]
    # start from pure noise (for each example in the batch)
    img = torch.randn(shape, device=device)
    imgs = []
    for i in tqdm(reversed(range(0, timesteps)), desc=&#x27;sampling loop time step&#x27;, total=timesteps):
        img = p_sample(model, img, torch.full((b,), i, device=device, dtype=torch.long), i)
        imgs.append(img.cpu().numpy())
    return imgs




&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åæˆ‘ä»¬çœ‹ä¸‹åœ¨äººè„¸å›¾åƒæ•°æ®é›†ä¸‹è®­ç»ƒçš„æ¨¡å‹ï¼Œä¸€æ‰¹éšæœºå™ªå£°ç»è¿‡é€æ¸å»å™ªå˜æˆäººè„¸å›¾åƒçš„ç¤ºä¾‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7df428bb1c34532836ffda5aac66c31%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;DDPM_7.gif&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å›¾7ï¼šæ‰©æ•£æ¨¡å‹ç”±éšæœºå™ªå£°é€šè¿‡å»å™ªé€æ¸ç”Ÿæˆäººè„¸å›¾åƒ&lt;/p&gt;

&lt;h2&gt;3. æ€»ç»“&lt;/h2&gt;

&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä»¥DDPMä¸ºä¾‹ä»‹ç»äº†å¦ä¸€ä¸ªæ´¾ç³»çš„ç”Ÿæˆç®—æ³•ï¼šæ‰©æ•£æ¨¡å‹ã€‚æ‰©æ•£æ¨¡å‹æ˜¯ä¸€ä¸ªåŸºäºé©¬å°”å¯å¤«é“¾çš„æ•°å­¦æ¨¡å‹ï¼Œå®ƒé€šè¿‡é¢„æµ‹æ¯ä¸ªæ—¶é—´ç‰‡æ·»åŠ çš„å™ªå£°æ¥è¿›è¡Œæ¨¡å‹çš„è®­ç»ƒã€‚ä½œä¸ºè¿‘æ—¥æ¥å¼•å‘çƒ­çƒˆè®¨è®ºçš„ControlNetï¼Œ Stable Diffusionç­‰æ¨¡å‹çš„åº•å±‚ç®—æ³•ï¼Œæˆ‘ä»¬ååˆ†æœ‰å¿…è¦å¯¹å…¶æœ‰æ‰€äº†è§£ã€‚DDPMçš„å®ç°å¹¶ä¸å¤æ‚ï¼Œè¿™å¾—ç›Šäºå¤§é‡æ•°å­¦ç•Œå¤§ä½¬é€šè¿‡å¤§é‡çš„æ•°å­¦æ¨å¯¼å°†æ•´ä¸ªæ‰©æ•£è¿‡ç¨‹å’Œåå‘å»å™ªè¿‡ç¨‹è¿›è¡Œäº†ç²¾å½©çš„åŒ–ç®€ï¼Œè¿™æ‰æœ‰äº†DDPMçš„å¤§é“è‡³ç®€çš„å®ç°ã€‚DDPMä½œä¸ºä¸€ä¸ªæ‰©æ•£æ¨¡å‹çš„åŸºçŸ³ç®—æ³•ï¼Œå®ƒæœ‰ç€å¾ˆå¤šæ—©æœŸç®—æ³•çš„å…±åŒé—®é¢˜ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt; é‡‡æ ·é€Ÿåº¦æ…¢ï¼šDDPMçš„å»å™ªæ˜¯ä»æ—¶åˆ»$T$åˆ°æ—¶åˆ»$1$çš„ä¸€ä¸ªå®Œæ•´çš„é©¬å°”å¯å¤«é“¾çš„è®¡ç®—ï¼Œå°¤å…¶æ˜¯DDPMè¿˜éœ€è¦ä¸€ä¸ªæ¯”è¾ƒå¤§çš„$T$æ‰èƒ½ä¿è¯æ¯”è¾ƒå¥½çš„æ•ˆæœï¼Œè¿™å°±å¯¼è‡´äº†DDPMçš„é‡‡æ ·è¿‡ç¨‹æ³¨å®šæ˜¯éå¸¸æ…¢çš„ï¼›&lt;/li&gt;
&lt;li&gt; ç”Ÿæˆæ•ˆæœå·®ï¼šDDPMçš„æ•ˆæœå¹¶ä¸èƒ½è¯´æ˜¯éå¸¸å¥½ï¼Œå°¤å…¶æ˜¯å¯¹äºé«˜åˆ†è¾¨ç‡å›¾åƒçš„ç”Ÿæˆã€‚è¿™ä¸€æ–¹é¢æ˜¯å› ä¸ºå®ƒçš„è®¡ç®—é€Ÿåº¦é™åˆ¶äº†å®ƒæ‰©å±•åˆ°æ›´å¤§çš„æ¨¡å‹ï¼›å¦ä¸€æ–¹é¢å®ƒçš„è®¾è®¡è¿˜æœ‰ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚é€åƒç´ çš„è®¡ç®—æŸå¤±å¹¶ä½¿ç”¨ç›¸åŒæƒå€¼è€Œå¿½ç•¥å›¾åƒä¸­çš„ä¸»ä½“å¹¶ä¸æ˜¯éå¸¸å¥½çš„ç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt; å†…å®¹ä¸å¯æ§ï¼šæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒDDPMç”Ÿæˆçš„å†…å®¹å®Œå…¨è¿˜æ˜¯å–å†³äºå®ƒçš„è®­ç»ƒé›†ã€‚å®ƒå¹¶æ²¡æœ‰å¼•å…¥ä¸€äº›å…ˆéªŒæ¡ä»¶ï¼Œå› æ­¤å¹¶ä¸èƒ½é€šè¿‡æ§åˆ¶å›¾åƒä¸­çš„ç»†èŠ‚æ¥ç”Ÿæˆæˆ‘ä»¬åˆ¶å®šçš„å†…å®¹ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“ï¼ŒDDPMçš„è¿™äº›é—®é¢˜å·²å¤§å¹…å¾—åˆ°æ”¹å–„ï¼Œç°åœ¨åŸºäºæ‰©æ•£æ¨¡å‹ç”Ÿæˆçš„å›¾åƒå·²ç»è¾¾åˆ°ç”šè‡³è¶…è¿‡äººç±»å¤šæ•°çš„ç”»å¸ˆçš„æ•ˆæœï¼Œæˆ‘ä¹Ÿä¼šåœ¨ä¹‹åé€æ¸ç»™å‡ºè¿™äº›ä¼˜åŒ–æ–¹æ¡ˆçš„è®²è§£ã€‚&lt;/p&gt;

&lt;h2&gt;Reference&lt;/h2&gt;

&lt;p&gt;[1] Sohl-Dickstein, Jascha, et al. &quot;Deep unsupervised learning using nonequilibrium thermodynamics.&quot; &lt;em&gt;International Conference on Machine Learning&lt;/em&gt;. PMLR, 2015.&lt;/p&gt;

&lt;p&gt;[2] Ho, Jonathan, Ajay Jain, and Pieter Abbeel. &quot;Denoising diffusion probabilistic models.&quot; &lt;em&gt;Advances in Neural Information Processing Systems&lt;/em&gt; 33 (2020): 6840-6851.&lt;/p&gt;

&lt;p&gt;[3] &lt;a href=&quot;https://huggingface.co/blog/annotated-diffusion&quot;&gt;https://huggingface.co/blog/annotated-diffusion&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[4] &lt;a href=&quot;https://lilianweng.github.io/posts/2021-07-11-diffusion-models/#simplification&quot;&gt;https://lilianweng.github.io/posts/2021-07-11-diffusion-models/#simplification&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[5] &lt;a href=&quot;https://openai.com/blog/generative-models/&quot;&gt;https://openai.com/blog/generative-models/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[6] Nichol, Alexander Quinn, and Prafulla Dhariwal. &quot;Improved denoising diffusion probabilistic models.&quot; &lt;em&gt;International Conference on Machine Learning&lt;/em&gt;. PMLR, 2021.&lt;/p&gt;

&lt;p&gt;[7] Kingma, Diederik P., and Max Welling. &quot;Auto-encoding variational bayes.&quot; &lt;em&gt;arXiv preprint arXiv:1312.6114&lt;/em&gt; (2013).&lt;/p&gt;

&lt;p&gt;[8] Hinton, Geoffrey E., and Ruslan R. Salakhutdinov. &quot;Reducing the dimensionality of data with neural networks.&quot; &lt;em&gt;science&lt;/em&gt; 313.5786 (2006): 504-507.&lt;/p&gt;

&lt;p&gt;[9] Ronneberger O, Fischer P, Brox T. U-net: Convolutional networks for biomedical image segmentation[C]//International Conference on Medical image computing and computer-assisted intervention. Springer, Cham, 2015: 234-241.&lt;/p&gt;

&lt;p&gt;[10] Long, Jonathan, Evan Shelhamer, and Trevor Darrell. &quot;Fully convolutional networks for semantic segmentation.&quot; &lt;em&gt;Proceedings of the IEEE conference on computer vision and pattern recognition&lt;/em&gt;. 2015.&lt;/p&gt;

&lt;p&gt;[11] Luo, Calvin. &quot;Understanding diffusion models: A unified perspective.&quot; &lt;em&gt;arXiv preprint arXiv:2208.11970&lt;/em&gt; (2022).&lt;/p&gt;

&lt;p&gt;[12] Zagoruyko, Sergey, and Nikos Komodakis. &quot;Wide residual networks.&quot; &lt;em&gt;arXiv preprint arXiv:1605.07146&lt;/em&gt; (2016).&lt;/p&gt;

&lt;p&gt;[13] &lt;a href=&quot;https://github.com/lucidrains/denoising-diffusion-pytorch&quot;&gt;https://github.com/lucidrains/denoising-diffusion-pytorch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;[14] Liu, Zhuang, et al. &quot;A convnet for the 2020s.&quot; &lt;em&gt;Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition&lt;/em&gt;. 2022.&lt;/p&gt;

&lt;p&gt;[15] Vaswani, Ashish, et al. &quot;Attention is all you need.&quot; &lt;em&gt;Advances in neural information processing systems&lt;/em&gt; 30 (2017).&lt;/p&gt;

&lt;p&gt;[16] Wu, Yuxin, and Kaiming He. &quot;Group normalization.&quot; &lt;em&gt;Proceedings of the European conference on computer vision (ECCV)&lt;/em&gt;. 2018.&lt;/p&gt;
&lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fd3bd46ba7592eddf2b740d489131106</guid>
<title>ã€äº‘åŸç”Ÿ â€¢ Dockerã€‘Docker æ ¸å¿ƒ UTS Namespace åŸç†å®è·µ</title>
<link>https://toutiao.io/k/2gwwzi7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ã€äº‘åŸç”Ÿ â€¢ Dockerã€‘Dockeræ ¸å¿ƒUTS NamespaceåŸç†å®è·µ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Docker&lt;/code&gt;ä¸‰å¤§æ”¯æŸ±æ ¸å¿ƒæŠ€æœ¯ï¼š&lt;code&gt;Namespace&lt;/code&gt;ã€&lt;code&gt;Cgroups&lt;/code&gt;å’Œ&lt;code&gt;UnionFS&lt;/code&gt;ï¼Œè¿™èŠ‚é€šè¿‡ä¸€ä¸ª&lt;code&gt;UTS Namespace&lt;/code&gt;ç®€å•å®è·µå°æ¡ˆä¾‹ï¼Œæ›´åŠ ç›´è§‚ç†è§£&lt;code&gt;Namespace&lt;/code&gt;èµ„æºéš”ç¦»æŠ€æœ¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;UTS Namespace&lt;/code&gt; ä¸»è¦æ˜¯ç”¨æ¥éš”ç¦»ä¸»æœºåå’ŒåŸŸåçš„éš”ç¦»ï¼Œå®ƒå…è®¸æ¯ä¸ª &lt;code&gt;UTS Namespace&lt;/code&gt; æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ä¸»æœºåã€‚ä¾‹å¦‚æˆ‘ä»¬çš„ä¸»æœºåç§°ä¸º &lt;code&gt;VM-4-14-centos&lt;/code&gt;ï¼Œä½¿ç”¨ &lt;code&gt;UTS Namespace&lt;/code&gt; å¯ä»¥å®ç°åœ¨å®¹å™¨å†…çš„ä¸»æœºåç§°ä¸º &lt;code&gt;container-docker&lt;/code&gt; æˆ–è€…å…¶ä»–ä»»æ„è‡ªå®šä¹‰ä¸»æœºåã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;UTS Namespaceæ¡ˆä¾‹å®è·µ&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿›è¡Œ&lt;code&gt;UTS Namespace&lt;/code&gt;æ¡ˆä¾‹å®è·µä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸ªå…³é”®æŒ‡ä»¤ï¼š&lt;strong&gt;ã€Œunshareï¼Œè¿è¡Œä¸€äº›ä¸çˆ¶çº§ä¸å…±äº«æŸäº›åç§°ç©ºé—´çš„ç¨‹åºã€‚ã€&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;root@node3:~&lt;span&gt;#Â unshareÂ --help&lt;/span&gt;&lt;br/&gt;Usage:&lt;br/&gt;Â unshareÂ [options]Â &amp;lt;program&amp;gt;Â [&amp;lt;argument&amp;gt;...]&lt;br/&gt;&lt;br/&gt;RunÂ aÂ programÂ withÂ someÂ namespacesÂ unsharedÂ fromÂ theÂ parent.&lt;br/&gt;&lt;br/&gt;Options:&lt;br/&gt;-hï¼Œ--&lt;span&gt;help&lt;/span&gt;&lt;br/&gt;æ˜¾ç¤ºå¸®åŠ©æ–‡æœ¬å¹¶é€€å‡ºã€‚&lt;br/&gt;-iï¼Œ-- ipc å–æ¶ˆå…±äº«IPCåç§°ç©ºé—´ã€‚&lt;br/&gt;-mï¼Œ-- mount å–æ¶ˆå…±äº«å®‰è£…åç§°ç©ºé—´ã€‚&lt;br/&gt;-nï¼Œ-- net å–æ¶ˆå…±äº«ç½‘ç»œåç§°ç©ºé—´ã€‚&lt;br/&gt;-pï¼Œ-- pid å–æ¶ˆå…±äº«pidåç§°ç©ºé—´ã€‚å¦è¯·å‚è§--forkå’Œ--mount-procé€‰é¡¹ã€‚&lt;br/&gt;-uï¼Œ-- uts å–æ¶ˆå…±äº«UTSåç§°ç©ºé—´ã€‚&lt;br/&gt;-Uï¼Œ--user å–æ¶ˆå…±äº«ç”¨æˆ·åç§°ç©ºé—´ã€‚&lt;br/&gt;-fï¼Œ-å°†æŒ‡å®šç¨‹åºforkä¸ºå–æ¶ˆå…±äº«çš„å­è¿›ç¨‹ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿è¡Œå®ƒã€‚è¿™åœ¨åˆ›å»ºæ–°çš„pidå‘½åç©ºé—´æ—¶å¾ˆæœ‰ç”¨ã€‚&lt;br/&gt;--mount-proc [=mountpoint]åœ¨è¿è¡Œç¨‹åºä¹‹å‰ï¼Œå°†procæ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°mountpoint ï¼ˆé»˜è®¤ä¸º/ procï¼‰ã€‚è¿™åœ¨åˆ›å»ºæ–°çš„pidåç§°ç©ºé—´æ—¶å¾ˆæœ‰ç”¨ã€‚è¿™ä¹Ÿæ„å‘³ç€åˆ›å»ºä¸€ä¸ªæ–°çš„æŒ‚è½½åç§°ç©ºé—´ï¼Œå› ä¸º/ procæŒ‚è½½å¦åˆ™ä¼šç ´åç³»ç»Ÿä¸Šçš„ç°æœ‰ç¨‹åºã€‚æ–°çš„procæ–‡ä»¶ç³»ç»Ÿæ˜¾å¼å®‰è£…ä¸ºç§æœ‰æ–‡ä»¶ï¼ˆç”±MS_PRIVATE | MS_RECï¼‰ã€‚&lt;br/&gt;-rï¼Œ-- map-root-user ä»…åœ¨å½“å‰æœ‰æ•ˆçš„ç”¨æˆ·å’Œç»„IDå·²æ˜ å°„åˆ°æ–°åˆ›å»ºçš„ç”¨æˆ·åç§°ç©ºé—´ä¸­çš„è¶…çº§ç”¨æˆ·UIDå’ŒGIDä¹‹åï¼Œæ‰è¿è¡Œè¯¥ç¨‹åºã€‚è¿™æ ·å³ä½¿åœ¨æ²¡æœ‰ç‰¹æƒçš„æƒ…å†µä¸‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥æ–¹ä¾¿åœ°è·å¾—ç®¡ç†æ–°åˆ›å»ºçš„åç§°ç©ºé—´å„ä¸ªæ–¹é¢æ‰€éœ€çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œåœ¨ç½‘ç»œåç§°ç©ºé—´ä¸­é…ç½®æ¥å£æˆ–åœ¨å®‰è£…åç§°ç©ºé—´ä¸­å®‰è£…æ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚ä»…ä½œä¸ºä¸€é¡¹ä¾¿åˆ©åŠŸèƒ½ï¼Œå®ƒä¸æ”¯æŒæ›´å¤æ‚çš„ç”¨ä¾‹ï¼Œä¾‹å¦‚æ˜ å°„å¤šä¸ªèŒƒå›´çš„UIDå’ŒGIDã€‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¥éªŒè¯ä¸‹ &lt;code&gt;UTS Namespace&lt;/code&gt; çš„ä½œç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ &lt;code&gt;unshare&lt;/code&gt; å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ª &lt;code&gt;UTS Namespace&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â unshareÂ --utsÂ --forkÂ /bin/bash&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ›å»ºå¥½ &lt;code&gt;UTS Namespace&lt;/code&gt; åï¼Œå®¿ä¸»æœº&lt;code&gt;shell&lt;/code&gt;ä¸‹&lt;code&gt;lsns&lt;/code&gt;åˆ—å‡º&lt;code&gt;namespace&lt;/code&gt;ä¿¡æ¯ï¼Œä¼šå‘ç°æœ€åä¸€æ¡å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨&lt;code&gt;unshare&lt;/code&gt;åˆ›å»ºäº†ä¸€ä¸ª&lt;code&gt;uts&lt;/code&gt;ç±»å‹çš„&lt;code&gt;namespace&lt;/code&gt;ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.19814814814814816&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb0hib0az5PRibUuS8dobHA0LPx79ib0iblo1Zqe4JUwmxcic3WFYeadc5KX2PUArjM2TmgR38z7ibk494RA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€å›åˆ°ä¸Šæ­¥&lt;code&gt;uts&lt;/code&gt;å‘½åç©ºé—´&lt;code&gt;shell&lt;/code&gt;ä¸‹ï¼Œä½¿ç”¨ &lt;code&gt;hostname&lt;/code&gt; å‘½ä»¤è®¾ç½®ä¸€ä¸‹ä¸»æœºåï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â hostname&lt;/span&gt;&lt;br/&gt;VM-4-14-centos&lt;br/&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â hostnameÂ -bÂ container-docker&lt;/span&gt;&lt;br/&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â hostname&lt;/span&gt;&lt;br/&gt;container-docker&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šé¢å‘½ä»¤çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“å‰ &lt;code&gt;UTS Namespace&lt;/code&gt; å†…çš„ä¸»æœºåå·²ç»è¢«ä¿®æ”¹ä¸º &lt;code&gt;container-docker&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€å›åˆ°å®¿ä¸»æœº&lt;code&gt;shell&lt;/code&gt;ä¸‹ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ä¸»æœºçš„ &lt;code&gt;hostname&lt;/code&gt;ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â hostname&lt;/span&gt;&lt;br/&gt;VM-4-14-centos&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ°ä¸»æœºçš„åç§°ä»ç„¶ä¸º &lt;code&gt;VM-4-14-centos&lt;/code&gt;ï¼Œå¹¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œè¿™å°±æ˜¯ä½¿ç”¨&lt;code&gt;UTS Namespace&lt;/code&gt;æŠ€æœ¯å®ç°ä¸»æœºåéš”ç¦»åŠŸèƒ½ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;DockeråŸç†éªŒè¯&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€ä½¿ç”¨&lt;code&gt;docker run&lt;/code&gt;åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ª&lt;code&gt;Docker&lt;/code&gt;å®¹å™¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â dockerÂ runÂ -dÂ --nameÂ test-nginxÂ --hostnameÂ docker-nginxÂ nginx&lt;/span&gt;&lt;br/&gt;0fd5ec42923553ec2600c51ef4f119e4025ebf5adf13561b0e847cd816f332b7&lt;br/&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â dockerÂ execÂ -itÂ 0fdÂ sh&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â hostname&lt;/span&gt;&lt;br/&gt;docker-nginx&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;--hostnameæŒ‡å®šdockerå®¹å™¨çš„hostnameï¼Œä¸Šé¢æŒ‡å®š--hostname docker-nginxï¼Œé€šè¿‡docker execæŒ‡ä»¤è¿›å…¥åˆ°dockerå®¹å™¨ä¸­ï¼Œä½¿ç”¨hostnameæŸ¥çœ‹Dockerå®¹å™¨çš„hostnameå·²è¢«æ­£ç¡®ä¿®æ”¹ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€æŸ¥çœ‹åˆšåˆ›å»ºçš„Dockerå®¹å™¨å¯¹åº”çš„å®¿ä¸»æœº&lt;code&gt;PID&lt;/code&gt;ä¿¡æ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â dockerÂ inspectÂ -fÂ {{.State.Pid}}Â test-nginx&lt;/span&gt;&lt;br/&gt;29424&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ–è€…é€šè¿‡&lt;code&gt;lsns&lt;/code&gt;æŒ‡ä»¤ä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„Dockerå®¹å™¨Namespaceä¿¡æ¯ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22314814814814815&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/O2TDJPu7cb0hib0az5PRibUuS8dobHA0LPfMk4ycWJFviclaFYpIP6TMjm8obibV3RyRUdQARviaWgmQ7AqoNWfGwfA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3ã€åœ¨å®¿ä¸»æœº&lt;code&gt;shell&lt;/code&gt;ä¸‹ä½¿ç”¨&lt;code&gt;nsenter&lt;/code&gt;æŒ‡ä»¤å¯ä»¥è¿›å…¥åˆ°Dockerå®¹å™¨ç›¸åŒçš„Namespaceä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@VM-4-14-centosÂ ~]&lt;span&gt;#Â nsenterÂ -tÂ 29424Â -uÂ -n&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´æ˜ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;-tï¼šæŒ‡å®šè¢«è¿›å…¥å‘½åç©ºé—´çš„ç›®æ ‡è¿›ç¨‹çš„pidï¼Œå³æŒ‡å®šDockerå®¹å™¨åœ¨å®¿ä¸»æœºä¸Šå¯¹åº”pidï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;-uï¼šè¿›å…¥utså‘½ä»¤ç©ºé—´ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;-nï¼šè¿›å…¥netå‘½ä»¤ç©ºé—´ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;&lt;strong&gt;ã€Œnsenterï¼šä¸€ä¸ªå¯ä»¥åœ¨æŒ‡å®šè¿›ç¨‹çš„å‘½ä»¤ç©ºé—´ä¸‹è¿è¡ŒæŒ‡å®šç¨‹åºçš„å‘½ä»¤ã€‚ã€&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æœ‰å¾ˆå¤šimageå†…éƒ¨æ˜¯æ²¡æœ‰bashçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬docker execæ˜¯æ— æ³•è¿›å…¥å®¹å™¨çš„ï¼Œæ­¤æ—¶å¦‚æœè¿˜æƒ³çœ‹ä¸€ä¸‹å®¹å™¨å†…çš„æƒ…å†µï¼Œå…¶å®åªéœ€è¦æƒ³åŠæ³•åŠ å…¥åˆ°å®¹å™¨å¯¹åº”çš„namespaceå°±å¯ä»¥äº†ã€‚æˆ‘ä»¬ä½¿ç”¨nsenterå·¥å…·å³å¯å®ç°ï¼Œè¯¥å·¥å…·å¯åŠ¨åä¼šå°†è‡ªå·±åŠ å…¥åˆ°æŒ‡å®šçš„namespaceä¸­ï¼Œç„¶åexecæ‰§è¡Œæˆ‘ä»¬æŒ‡å®šçš„ç¨‹åºï¼ˆé€šå¸¸å°±æ˜¯bashï¼‰ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸ªå‘½ä»¤å¤§å®¶åœ¨å®¹å™¨ç½‘ç»œè°ƒè¯•ä¸‹å¯èƒ½å¸¸ç”¨ï¼Œæ¯”å¦‚åœ¨ä¸€äº›æ²¡æœ‰ç½‘ç»œè°ƒè¯•å·¥å…·(&lt;code&gt;ip address&lt;/code&gt;ï¼Œ&lt;code&gt;ping&lt;/code&gt;ï¼Œ&lt;code&gt;telnet&lt;/code&gt;ï¼Œ&lt;code&gt;ss&lt;/code&gt;ï¼Œ&lt;code&gt;tcpdump&lt;/code&gt;)çš„å®¹å™¨å†…åˆ©ç”¨å®¿ä¸»æœºä¸Šçš„å‘½ä»¤è¿›è¡Œå®¹å™¨å†…ç½‘ç»œè¿é€šæ€§çš„è°ƒè¯•ç­‰ç­‰ã€‚&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4ã€ä½¿ç”¨&lt;code&gt;hostname&lt;/code&gt;å’Œ&lt;code&gt;ip addr&lt;/code&gt;éªŒè¯ï¼Œå’ŒDockerå®¹å™¨åœ¨ç›¸åŒçš„&lt;code&gt;UTS Namespace&lt;/code&gt;å’Œ&lt;code&gt;Network Namespace&lt;/code&gt;ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;[root@docker-nginxÂ ~]&lt;span&gt;#Â hostname&lt;/span&gt;&lt;br/&gt;docker-nginx&lt;br/&gt;[root@docker-nginxÂ ~]&lt;span&gt;#Â ipÂ addr&lt;/span&gt;&lt;br/&gt;1:Â lo:Â &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt;Â mtuÂ 65536Â qdiscÂ noqueueÂ stateÂ UNKNOWNÂ groupÂ defaultÂ qlenÂ 1000&lt;br/&gt;Â Â Â Â link/loopbackÂ 00:00:00:00:00:00Â brdÂ 00:00:00:00:00:00&lt;br/&gt;Â Â Â Â inetÂ 127.0.0.1/8Â scopeÂ hostÂ lo&lt;br/&gt;Â Â Â Â Â Â Â valid_lftÂ foreverÂ preferred_lftÂ forever&lt;br/&gt;40:Â eth0@if41:Â &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt;Â mtuÂ 1500Â qdiscÂ noqueueÂ stateÂ UPÂ groupÂ defaultÂ &lt;br/&gt;Â Â Â Â link/etherÂ 02:42:ac:11:00:07Â brdÂ ff:ff:ff:ff:ff:ffÂ link-netnsidÂ 0&lt;br/&gt;Â Â Â Â inetÂ 172.17.0.7/16Â brdÂ 172.17.255.255Â scopeÂ globalÂ eth0&lt;br/&gt;Â Â Â Â Â Â Â valid_lftÂ foreverÂ preferred_lftÂ forever&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7516b1aa46398c0bf027d3ba990a4806</guid>
<title>ç ”å‘ææ•ˆåˆ©å™¨ï¼šèŠèŠ mock æœåŠ¡åŒ–</title>
<link>https://toutiao.io/k/uw0f4l3</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                  &lt;strong class=&quot;profile_nickname&quot;&gt;è€å¼ çš„æ±‚çŸ¥æ€è€ƒä¸–ç•Œ&lt;/strong&gt;
                  &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                  &lt;p class=&quot;profile_meta&quot;&gt;
                  &lt;label class=&quot;profile_meta_label&quot;&gt;Weixin ID&lt;/label&gt;
                  &lt;span class=&quot;profile_meta_value&quot;&gt;For-Think&lt;/span&gt;
                  &lt;/p&gt;

                  &lt;p class=&quot;profile_meta&quot;&gt;
                  &lt;label class=&quot;profile_meta_label&quot;&gt;About Feature&lt;/label&gt;
                  &lt;span class=&quot;profile_meta_value&quot;&gt;ä¸“æ³¨äº’è”ç½‘é¢†åŸŸç›¸å…³æŠ€æœ¯å®è·µå’Œæ€è€ƒï¼Œä¹Ÿåˆ†äº«èŒåœºæˆé•¿ã€è¯»ä¹¦æ‚è°ˆç­‰å†…å®¹ã€‚&lt;/span&gt;
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1db2c9e25b2e4c3ce8bcef672eb9742e</guid>
<title>å€ŸåŠ©è¿™æ¬¾ AI å·¥å…·ï¼Œç«‹é©¬è®©ä½ æˆä¸ºå¤§å¸ˆçº§ç»˜ç”»é€‰æ‰‹</title>
<link>https://toutiao.io/k/2draq0s</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content              autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;AIç»˜ç”»æ˜¯ä¸€é¡¹æ–°å…´çš„æŠ€æœ¯ï¼Œå®ƒåˆ©ç”¨äººå·¥æ™ºèƒ½ç®—æ³•å’Œæœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åœ°ç”Ÿæˆè‰ºæœ¯ä½œå“ï¼Œå¦‚ç»˜ç”»ã€æ’å›¾ã€å›¾åƒã€è§†é¢‘ç­‰ï¼Œæ”¾åœ¨ä»Šå¤©çœ‹å·²ç»ä¸æ˜¯æ–°æŠ€æœ¯äº†ï¼Œå»å¹´å°±å·²ç»ç«çˆ†èµ·æ¥äº†ï¼Œåªä¸è¿‡ä»Šå¹´å€Ÿç€ChatGPTçš„ä¸œé£å†æ¬¡è¢«æåŠï¼Œä¹‹å‰çš„æ–‡ç« ä¸­æœ‰ä»‹ç»å‡ æ¬¾AIç»˜ç”»çš„åº”ç”¨ï¼ˆå‚çœ‹ï¼š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzIwMjE3MDIwMA==&amp;amp;mid=2247487276&amp;amp;idx=1&amp;amp;sn=b758c662aaf3b17beaf7fabe5146733d&amp;amp;chksm=96e3851ba1940c0dcdad646c4a41ec898d6cf49514f63bdaf9daacd35885303ce62a396ce902&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ChatGPT å¤§è¡Œå…¶é“ï¼Œå¸¦ä½ èµ°è¿‘ AIGC&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ChatGPT å¤§è¡Œå…¶é“ï¼Œå¸¦ä½ èµ°è¿›Â AIGC&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ä¼šè‰²å½©æ­é…ï¼Œä¸æ‡‚ç´ ææŠ€å·§ï¼Œä¹Ÿæ²¡æœ‰å®è·µè¿‡ï¼Œåˆæƒ³ç”»å‡ºç²¾å½©çš„ç”»ç‰‡ï¼Œç©¶ç«Ÿå¯ä¸å¯èƒ½ï¼Ÿæ”¾åœ¨ä»¥å‰å¯èƒ½è¢«è®¤ä¸ºå¤©æ–¹å¤œè°­ï¼Œç°åœ¨æœ‰äº†AIçš„åŠ æŒå·²ç»å¯ä»¥è½»æ¾åº”ç”¨ã€‚å€ŸåŠ©NLPæŠ€æœ¯ï¼Œä½ åªè¦æŠŠç”»é¢æè¿°çš„è¶³å¤Ÿæ¸…æ™°ï¼Œå‰©ä¸‹çš„å·¥å…·äº¤ç»™AIï¼Œå®‰é™çš„ç­‰å‡ åˆ†é’Ÿå°±å¯ä»¥äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹å‡ å¼ å›¾æ„Ÿå—ä¸€ä¸‹ AI ç»˜ç”»çš„é­…åŠ›å§ã€‚ï¼ˆä»¥ä¸‹å›¾ç‰‡å‡å‡ºè‡ªMidjourneyï¼Œæ–‡æœ«æœ‰ä½“éªŒåœ°å€ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æç¤ºè¯ï¼š&lt;span&gt;å¤§æ¼ å­¤çƒŸç›´,é•¿æ²³è½æ—¥åœ†&lt;/span&gt;Â &lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9fodUomDowkQTnc64eGLNgicGgwqIgqr8HXSPHqp9VDVQpe0ad3gWkWqg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŸºäºå›¾1ï¼Œä½¿ç”¨V1æŒ‡ä»¤&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9fSg5JgZAQGiaCkoY3ic1y8kIic6cbHHu9vfU60ffBOMaxYrt5Ypynx5KVQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æç¤ºè¯ï¼š&lt;span&gt;é£æµç›´ä¸‹ä¸‰å¹²å°º,ç–‘æ˜¯é“¶æ²³è½ä¹å¤©&lt;/span&gt;Â &lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9f6cWobgC4cJbttghP6W8ciaT146QQez97wZYqW7p2fr9EWlWje0lAibJg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŸºäºå›¾1ï¼Œä½¿ç”¨V1æŒ‡ä»¤&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9f2NIs3MdpHLIPFYTpicD9IyJVTBBuYZfEMHicKGA7KVk8tKArGEvBfrbA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æç¤ºè¯ï¼š&lt;span&gt;å·¦è¾¹æ˜¯æ ‘ï¼Œè¿œå¤„æ˜¯å±±ï¼Œå³ä¾§è¿‘å¤„æ˜¯å°çš„çŒæœ¨ï¼Œæ•´ä½“è‰²è°ƒé»„ç»¿&lt;/span&gt;Â &lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9fJCzjyvVs69pyAy3VhxNdqZAVF8JliaL0WzkoDYrcicMTs2AEP33NGeqg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æç¤ºè¯ï¼š&lt;span&gt;å‡ ä¸ªå¯çˆ±çš„å­©å­é£å‘å¤ªç©ºï¼Œå¡é€šé£æ ¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/EwukgicNDWBv2Pq3HeMfvDWx6yyuR4X9fOQTwAy3Aoy8rJtr4zT71gUe9Kkwc3lFDRF6icgiaeEvx6bNwLU3MicsEw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿè¿™æ˜¯ Midjourney ä¸­å›½ç‰ˆå†…æµ‹QQé¢‘é“åˆ›ä½œçš„å†…å®¹ï¼Œç»˜ç”»æ—¶æä¾›â€æƒ³è±¡â€œä¸â€æ¼«ç”»â€œä¸¤ä¸ªæ¨¡å¼ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿæä¸ºç®€å•ï¼Œåœ¨é¢‘é“çš„å¼€æ”¾åŒºåŸŸï¼Œå‘æœºå™¨äººæè¿°ç›¸å…³çš„ä¿¡æ¯å³å¯ï¼Œç”Ÿæˆå›¾ç‰‡åï¼Œæœºå™¨äººä¼š@ä½ ï¼Œæä¾›Uå’ŒVä¸¤ç§å½¢å¼çš„æŒ‡ä»¤ï¼ŒæŒ‰ä¸Šä¸‹å·¦å³4å¼ å›¾çš„é¡ºåºï¼ŒU1/U2/U3/U4-æ”¾å¤§ï¼ŒV1/V2/V3/V4-å˜åŒ–ï¼ˆå˜åŒ–å°±æ˜¯åœ¨æ­¤å›¾çš„åŸºç¡€ä¸Šç»§ç»­ç”Ÿæˆæ–°å›¾ï¼Œç›´åˆ°è‡ªå·±æ»¡æ„ä¸ºæ­¢ï¼Œå¦‚ç¬¬äºŒç»„å›¾æ˜¯åŸºäºç¬¬ä¸€ç»„å›¾çš„å›¾1å˜åŒ–è€Œæ¥ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Midjourneyæ˜¯ä¸€ä¸ªç”±Midjourneyç ”ç©¶å®éªŒå®¤å¼€å‘çš„äººå·¥æ™ºèƒ½ç¨‹åºï¼Œå¯åœ¨å…¬å¼€æµ‹è¯•é˜¶æ®µï¼ˆ2022å¹´7æœˆ12æ—¥ï¼‰å†…å®Œæˆä»¥ä¸‹å„é¡¹æ“ä½œï¼Œä½¿ç”¨è€…å¯å€ŸåŠ©æœºå™¨äººæŒ‡ä»¤åœ¨Discordå¹³å°ä¸Šè¿›è¡Œï¼Œæ˜¯ç›®å‰AIç»˜ç”»å•†ä¸šåŒ–é¢†åŸŸç»å¯¹çš„ç‹è€…ï¼Œå‡ºå›¾çš„æ•ˆæœæä½³ã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;äººåƒå¡é€šåŒ–ï¼šå°†äººç‰©ç…§ç‰‡è½¬æ¢æˆæœ‰è¶£çš„å¡é€šå½¢è±¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è½®å»“ç”Ÿæˆï¼šæ ¹æ®è¾“å…¥çš„æ–‡å­—æè¿°ç”Ÿæˆå¯¹åº”çš„å›¾åƒè½®å»“ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è‰²å½©ç”Ÿæˆï¼šåˆ©ç”¨GANæ¨¡å‹ç”Ÿæˆå…·æœ‰è‰ºæœ¯æ„Ÿå’Œåˆ›æ„çš„å½©è‰²å›¾åƒã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è§†é¢‘æ¢è„¸ï¼šå¯¹è§†é¢‘ä¸­äººç‰©çš„é¢éƒ¨è¿›è¡Œæ¢è„¸æ“ä½œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è§†è§‰é—®ç­”ï¼šé€šè¿‡å›¾åƒè¯†åˆ«å’Œè‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯å›ç­”æœ‰å…³å›¾åƒçš„æé—®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;äººè„¸åˆæˆï¼šå°†ä¸åŒäººç‰©çš„é¢éƒ¨ç‰¹å¾è¿›è¡Œåˆæˆï¼Œç”Ÿæˆæ–°çš„é¢å­”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å…³æ³¨å…¬ä¼—å·åå›å¤Â &lt;/span&gt;&lt;span&gt;&lt;strong&gt;MJÂ &lt;/strong&gt;&lt;/span&gt;&lt;span&gt;å³å¯è·å–&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä½“éªŒèµ„æ ¼çš„ç”³è¯·åœ°å€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzIwMjE3MDIwMA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/EwukgicNDWBswFxJHbKiad1jnJCFQiaWQrRnSdQGnrHiaicTyc2FR4CId2GQk1TABicoY87kQIeoeI1z3GnwanWMg1YQ/0?wx_fmt=png&quot; data-nickname=&quot;MavenTalk&quot; data-alias=&quot;mavenTalk&quot; data-signature=&quot;15+å¹´ITäººï¼Œåˆ›ä¸šè€…ï¼Œå…³æ³¨äººä¸è‡ªç„¶çš„å’Œè°æˆé•¿.&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>58951e9aa1dbca3d56bcfaa665fd465c</guid>
<title>Golang æ•´æ´æ¶æ„å®è·µ</title>
<link>https://toutiao.io/k/g4os0y6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content              autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-backh=&quot;246&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.4250681198910082&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe979Bb4KNoEWxibDp8V9LPhyj4ibVSiajGqurEek0gn3LrTibpnibSFXrz1kdNZRhibia7ppg4ZjxsfNuaJTw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-type=&quot;gif&quot; data-w=&quot;734&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-backh=&quot;56&quot; data-backw=&quot;558&quot; data-ratio=&quot;0.1008174386920981&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe979Bb4KNoEWxibDp8V9LPhyjpibq1WkazIado7OjDfRPLKTaL97YG2bPBF2uWsD8bNkq954KZJtoUUA/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-type=&quot;gif&quot; data-w=&quot;734&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template-rows=&quot;1&quot; data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ğŸ‘‰ è…¾å°äº‘å¯¼è¯»&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä¸ºäº†é™ä½ç³»ç»Ÿç»„ä»¶ä¹‹é—´çš„è€¦åˆã€æå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ï¼Œä¸€ä¸ªå¥½çš„ä»£ç æ¡†æ¶æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚æœ¬æ–‡å°†ä¸ºå¤§å®¶ä»‹ç»ä¼—æ‰€å‘¨çŸ¥çš„ä¸‰ç§ä»£ç æ¡†æ¶ï¼Œå¹¶ä»ä¸‰ç§æ¡†æ¶å¼•ç”³å‡ºCOLA æ¶æ„ä»¥åŠä½œè€…åŸºäº COLA æ¶æ„è®¾è®¡çš„ Go è¯­è¨€é¡¹ç›®è„šæ‰‹æ¶å®è·µæ–¹æ¡ˆã€‚å¸Œæœ›èƒ½ç»™å¹¿å¤§å¼€å‘çˆ±å¥½è€…å¸¦æ¥å¸®åŠ©å’Œå¯å‘ï¼&lt;/span&gt;&lt;/section&gt;&lt;hr/&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ğŸ‘‰ çœ‹ç›®å½•ï¼Œç‚¹æ”¶è—&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1.ä¸ºä»€ä¹ˆè¦æœ‰ä»£ç æ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.å¥½çš„ä»£ç æ¶æ„æ˜¯å¦‚ä½•æ„å»ºçš„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â  Â  2.1 æ•´æ´æ¶æ„&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â  Â  2.2 æ´‹è‘±æ¶æ„&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â  Â  2.3 å…­è¾¹å½¢æ¶æ„&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â  Â  2.4 COLAæ¶æ„&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3.æ¨èä¸€ç§ Go ä»£ç æ¶æ„å®è·µ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.æ€»ç»“&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;*æœ¬æ–‡æåŠçš„æ¶æ„ä¸»è¦æŒ‡é¡¹ç›®ç»„ç»‡çš„â€œä»£ç æ¶æ„â€ï¼Œæ³¨æ„ä¸å¾®æœåŠ¡æ¶æ„ç­‰åè¯ä¸­çš„æœåŠ¡æ¶æ„è¿›è¡ŒåŒºåˆ†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;p&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h1 data-mid=&quot;&quot;&gt;&lt;span&gt;01&lt;/span&gt;&lt;/h1&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;ä¸ºä»€ä¹ˆè¦æœ‰ä»£ç æ¶æ„&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å†å²æ‚ ä¹…çš„é¡¹ç›®å¤§éƒ½ä¼šæœ‰å¾ˆå¤šå¼€å‘äººå‘˜å‚ä¸â€œè´¡çŒ®â€ï¼Œåœ¨æ²¡æœ‰å¥½çš„æŒ‡å¯¼è§„åˆ™çº¦æŸçš„æƒ…å†µä¸‹ï¼Œå¤§æŠµä¼šå˜æˆä¸€å›¢ä¹±éº»ã€‚å‰ªä¸æ–­ï¼Œç†è¿˜ä¹±ï¼Œä¹Ÿæ²¡æœ‰å¼€å‘å‹‡å£«æ„¿æ„å»å‰ªå»ç†ã€‚è¢«è¿«æ¥æ‰‹çš„å¼€å‘å‹‡å£«å¦‚æœæƒ³è¦å¢åŠ ä¸€ä¸ªå°éœ€æ±‚ï¼Œå¯èƒ½éœ€è¦èŠ±10å€çš„æ—¶é—´å»ç†é¡ºä¸šåŠ¡é€»è¾‘ï¼Œå†èŠ± 10 å€çš„æ—¶é—´å»è¡¥å……æµ‹è¯•ä»£ç ï¼Œå®åœ¨æ˜¯ä½æ•ˆåˆç—›è‹¦ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è¿™æ˜¯ä¸€ä¸ªæ™®éçš„ç—›ç‚¹é—®é¢˜ï¼Œæœ‰æ— æ•°å¼€å‘è€…å°è¯•è¿‡å»è§£å†³å®ƒã€‚è¿™ä¹ˆå¤šå¹´å‘å±•ä¸‹æ¥ï¼Œä¸šç•Œè‡ªç„¶ä¹Ÿè¯ç”Ÿäº†å¾ˆå¤šè½¯ä»¶æ¶æ„ã€‚å¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„å°±æœ‰å…­è¾¹å½¢æ¶æ„&lt;/span&gt;&lt;span&gt;ï¼ˆHexagonal Architectureï¼‰&lt;/span&gt;&lt;span&gt;ï¼Œæ´‹è‘±æ¶æ„&lt;/span&gt;&lt;span&gt;ï¼ˆOnion Architectureï¼‰&lt;/span&gt;&lt;span&gt;ï¼Œæ•´æ´æ¶æ„&lt;/span&gt;&lt;span&gt;ï¼ˆClean Architectureï¼‰&lt;/span&gt;&lt;span&gt;ç­‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è¿™äº›æ¶æ„åœ¨ç»†èŠ‚ä¸Šæœ‰æ‰€å·®å¼‚ï¼Œä½†æ˜¯æ ¸å¿ƒç›®æ ‡æ˜¯ä¸€è‡´çš„ï¼šè‡´åŠ›äºå®ç°è½¯ä»¶ç³»ç»Ÿçš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹åˆ†ç¦»&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼ˆseparation of concernsï¼‰&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…³æ³¨ç‚¹åˆ†ç¦»ä¹‹åçš„è½¯ä»¶ç³»ç»Ÿéƒ½å…·å¤‡å¦‚ä¸‹ç‰¹å¾ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸ä¾èµ–ç‰¹å®š UIã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;UI å¯ä»¥ä»»æ„æ›¿æ¢ï¼Œä¸ä¼šå½±å“ç³»ç»Ÿä¸­å…¶ä»–ç»„ä»¶ã€‚ä» Web UI å˜æˆæ¡Œé¢ UIï¼Œç”šè‡³å˜æˆæ§åˆ¶å° UI éƒ½æ— æ‰€è°“ï¼Œä¸šåŠ¡é€»è¾‘ä¸ä¼šè¢«å½±å“ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸ä¾èµ–ç‰¹å®šæ¡†æ¶ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä»¥ JavaScript ç”Ÿæ€ä¸¾ä¾‹ï¼Œä¸ç®¡æ˜¯ä½¿ç”¨ web æ¡†æ¶ koaã€expressï¼Œè¿˜æ˜¯ä½¿ç”¨æ¡Œé¢åº”ç”¨æ¡†æ¶ electronï¼Œè¿˜æ˜¯æ§åˆ¶å°æ¡†æ¶ commanderï¼Œä¸šåŠ¡é€»è¾‘éƒ½ä¸ä¼šè¢«å½±å“ï¼Œè¢«å½±å“çš„åªä¼šæ˜¯æ¡†æ¶æ¥å…¥çš„é‚£ä¸€å±‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸ä¾èµ–ç‰¹å®šå¤–éƒ¨ç»„ä»¶ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç³»ç»Ÿå¯ä»¥ä»»æ„ä½¿ç”¨ MySQLã€MongoDBæˆ– Neo4j ä½œä¸ºæ•°æ®åº“ï¼Œä»»æ„ä½¿ç”¨ Redisã€Memcachedæˆ– etcd ä½œä¸ºé”®å€¼å­˜å‚¨ç­‰ã€‚ä¸šåŠ¡é€»è¾‘ä¸ä¼šå› ä¸ºè¿™äº›å¤–éƒ¨ç»„ä»¶çš„æ›¿æ¢è€Œå˜åŒ–ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å®¹æ˜“æµ‹è¯•ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¯ä»¥åœ¨ä¸éœ€è¦ UIã€ä¸éœ€è¦æ•°æ®åº“ã€ä¸éœ€è¦ Web æœåŠ¡å™¨ç­‰ä¸€åˆ‡å¤–ç•Œç»„ä»¶çš„æƒ…å†µä¸‹è¢«æµ‹è¯•ã€‚è¿™ç§çº¯ç²¹çš„ä»£ç é€»è¾‘æ„å‘³ç€æ¸…æ™°å®¹æ˜“çš„æµ‹è¯•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è½¯ä»¶ç³»ç»Ÿæœ‰äº†è¿™äº›ç‰¹å¾åï¼Œæ˜“äºæµ‹è¯•ï¼Œæ›´æ˜“äºç»´æŠ¤ã€æ›´æ–°ï¼Œå¤§å¤§å‡è½»äº†è½¯ä»¶å¼€å‘äººå‘˜çš„å¿ƒç†è´Ÿæ‹…ã€‚æ‰€ä»¥ï¼Œå¥½çš„ä»£ç æ¶æ„å€¼å¾—æ¨å´‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;p&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h1 data-mid=&quot;&quot;&gt;&lt;span&gt;02&lt;/span&gt;&lt;/h1&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;å¥½çš„ä»£ç æ¶æ„æ˜¯å¦‚ä½•æ„å»ºçš„&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‰æ–‡æ‰€è¿°çš„ä¸‰ä¸ªæ¶æ„åœ¨ç†å¿µä¸Šæ˜¯è¿‘ä¼¼çš„ï¼Œä»ä¸‹æ–‡å›¾ 1 åˆ°å›¾ 3 ä¸‰å¹…æ¶æ„å›¾ä¸­ä¹Ÿèƒ½çœ‹å‡ºç›¸ä¼¼çš„åœˆå±‚ç»“æ„ã€‚å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¶Šå¾€å¤–å±‚è¶Šå…·ä½“ï¼Œè¶Šå¾€å†…å±‚è¶ŠæŠ½è±¡ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œè¶Šå¾€å¤–è¶Šæœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ¡†æ¶å‡çº§ã€ä¸­é—´ä»¶å˜æ›´ã€é€‚é…æ–°ç»ˆç«¯ç­‰ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2.1&lt;/span&gt;&lt;/strong&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;æ•´æ´æ¶æ„&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7344559585492227&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9SHTQicTvXQibUeOvNgfE3Xvz5VrtI8T1L2bdLw1xAn38BskQp1XVSmUWA/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;772&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾ 1 The Clean Architecture,Â Robert C. Martin&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;å›¾ 1&lt;strong&gt; æ•´æ´æ¶æ„&lt;/strong&gt;çš„åŒå¿ƒåœ†ç»“æ„ä¸­å¯ä»¥çœ‹è§ä¸‰æ¡ç”±å¤–å‘å†…çš„é»‘è‰²ç®­å¤´ï¼Œå®ƒè¡¨ç¤ºä¾èµ–è§„åˆ™&lt;/span&gt;&lt;span&gt;ï¼ˆThe Dependency Ruleï¼‰&lt;/span&gt;&lt;span&gt;ã€‚ä¾èµ–è§„åˆ™è§„å®šå¤–å±‚çš„ä»£ç å¯ä»¥ä¾èµ–å†…å±‚ï¼Œä½†æ˜¯å†…å±‚çš„ä»£ç ä¸å¯ä»¥ä¾èµ–å¤–å±‚ã€‚ä¹Ÿå°±æ˜¯è¯´å†…å±‚é€»è¾‘ä¸å¯ä»¥ä¾èµ–ä»»ä½•å¤–å±‚å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç»“æ„ä½“ã€ç±»ã€æ¨¡å—ç­‰ç­‰ä»£ç å®ä½“ã€‚å‡å¦‚æœ€å¤–å±‚è“è‰²å±‚â€œFrameworks &amp;amp; Driversâ€ DB å¤„ä½¿ç”¨äº† go è¯­è¨€çš„ gorm ä¸‰æ–¹åº“ï¼Œå¹¶å®šä¹‰äº† gorm ç›¸å…³çš„æ•°æ®åº“ç»“æ„ä½“åŠå…¶ tag ç­‰ã€‚é‚£ä¹ˆå†…å±‚çš„ Gatewaysã€Use Casesã€Entities ç­‰å¤„ä¸å¯ä»¥å¼•ç”¨ä»»ä½•å¤–å±‚ä¸­ gorm ç›¸å…³çš„ç»“æ„ä½“æˆ–æ–¹æ³•ï¼Œç”šè‡³ä¸åº”è¯¥æ„ŸçŸ¥åˆ° gorm çš„å­˜åœ¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ ¸å¿ƒå±‚çš„ Entities å®šä¹‰è¡¨ç¤ºæ ¸å¿ƒä¸šåŠ¡è§„åˆ™çš„æ ¸å¿ƒä¸šåŠ¡å®ä½“ã€‚è¿™äº›å®ä½“æ—¢å¯ä»¥æ˜¯å¸¦æ–¹æ³•çš„ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¦æœ‰ä¸€å †å‡½æ•°çš„ç»“æ„ä½“ã€‚ä½†å®ƒä»¬å¿…é¡»æ˜¯é«˜åº¦æŠ½è±¡çš„ï¼Œåªå¯ä»¥éšç€æ ¸å¿ƒä¸šåŠ¡è§„åˆ™è€Œå˜åŒ–ï¼Œä¸å¯ä»¥éšç€å¤–å±‚ç»„ä»¶çš„å˜åŒ–è€Œå˜åŒ–ã€‚ä»¥ç®€å•åšå®¢ç³»ç»Ÿä¸¾ä¾‹çš„è¯ï¼Œæ­¤å±‚å¯ä»¥å®šä¹‰ Blogã€Comment ç­‰æ ¸å¿ƒä¸šåŠ¡å®ä½“ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;Â Blog &lt;span&gt;struct&lt;/span&gt;Â {...}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â Comment &lt;span&gt;struct&lt;/span&gt;Â {...}&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åº”ç”¨ä¸šåŠ¡å±‚çš„ Use Cases åº”è¯¥åŒ…å«è½¯ä»¶ç³»ç»Ÿçš„æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚è¯¥å±‚æ§åˆ¶æ‰€æœ‰æµå‘å’Œæµå‡ºæ ¸å¿ƒå±‚çš„æ•°æ®æµï¼Œå¹¶ä½¿ç”¨æ ¸å¿ƒå±‚çš„å®ä½“åŠå…¶ä¸šåŠ¡è§„åˆ™æ¥å®Œæˆä¸šåŠ¡éœ€æ±‚ã€‚æ­¤å±‚çš„å˜æ›´ä¸ä¼šå½±å“æ ¸å¿ƒå±‚ã€æ›´å¤–å±‚çš„å˜æ›´ï¼Œä¾‹å¦‚å¼€å‘æ¡†æ¶ã€æ•°æ®åº“ã€UI ç­‰å˜åŒ–ï¼Œä¹Ÿä¸ä¼šå½±å“æ­¤å±‚ã€‚æ¥ç€åšå®¢ç³»ç»Ÿçš„ä¾‹å­ï¼Œæ­¤å±‚å¯ä»¥å®šä¹‰ BlogManager æ¥å£ï¼Œå¹¶å®šä¹‰å…¶ä¸­çš„ CreateBlog, LeaveComment ç­‰ä¸šåŠ¡é€»è¾‘æ–¹æ³•ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;Â BlogManager &lt;span&gt;interface&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â CreateBlog(...) ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â LeaveComment(...) ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ¥å£é€‚é…å±‚çš„ Controllers å°†å¤–å±‚è¾“å…¥çš„æ•°æ®æ ¼å¼è½¬æ¢æˆå†…å±‚ Use Cases å’Œ Entities æ–¹ä¾¿ä½¿ç”¨çš„æ ¼å¼ï¼Œç„¶å Presentersï¼ŒGateways å†å°†å†…å±‚å¤„ç†ç»“æœè½¬æ¢æˆå¤–å±‚æ–¹ä¾¿ä½¿ç”¨çš„æ ¼å¼ï¼Œç„¶åå†ç”±æ›´å¤–å±‚å‘ˆç°åˆ° Webã€UI æˆ–è€…å†™å…¥åˆ°æ•°æ®åº“ã€‚å‡å¦‚ç³»ç»Ÿé€‰æ‹©å…³ç³»å‹æ•°æ®åº“åšä¸ºå…¶æŒä¹…åŒ–æ–¹æ¡ˆçš„è¯ï¼Œé‚£ä¹ˆæ‰€æœ‰å…³äº SQL çš„å¤„ç†éƒ½åº”è¯¥åœ¨æ­¤å±‚å®Œæˆï¼Œæ›´å†…å±‚ä¸éœ€è¦æ„ŸçŸ¥åˆ°ä»»ä½•æ•°æ®åº“çš„å­˜åœ¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;åŒç†ï¼Œå‡å¦‚ç³»ç»Ÿä¸å¤–ç•ŒæœåŠ¡é€šä¿¡ï¼Œé‚£ä¹ˆæ‰€æœ‰æœ‰å…³å¤–ç•ŒæœåŠ¡æ•°æ®çš„è½¬åŒ–éƒ½åœ¨æ­¤å±‚å®Œæˆï¼Œæ›´å†…å±‚ä¹Ÿä¸éœ€è¦æ„ŸçŸ¥åˆ°å¤–ç•ŒæœåŠ¡çš„å­˜åœ¨ã€‚å¤–å±‚é€šè¿‡æ­¤å±‚ä¼ é€’æ•°æ®ä¸€èˆ¬é€šè¿‡DTO&lt;/span&gt;&lt;span&gt;ï¼ˆData Transfer Objectï¼‰&lt;/span&gt;&lt;span&gt;æˆ–è€…DO&lt;/span&gt;&lt;span&gt;ï¼ˆData Objectï¼‰&lt;/span&gt;&lt;span&gt;å®Œæˆã€‚æ¥ä¸Šæ–‡åšå®¢ç³»ç»Ÿä¾‹å­ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;Â BlogDTO &lt;span&gt;struct&lt;/span&gt;Â { &lt;span&gt;// Data Transfer Object&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â Content &lt;span&gt;string&lt;/span&gt;Â &lt;span&gt;`json:&quot;...&quot;`&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;// DTO ä¸ model.Blog çš„è½¬åŒ–åœ¨æ­¤å±‚å®Œæˆ&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;CreateBlog&lt;/span&gt;&lt;span&gt;(b *model.Blog)&lt;/span&gt;&lt;/span&gt;Â { &lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â dbClient.Create(&amp;amp;blog{...})&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¯¥å±‚åŒ…å«å…·ä½“çš„æ¡†æ¶å’Œä¾èµ–å·¥å…·çš„ç»†èŠ‚ï¼Œä¾‹å¦‚ç³»ç»Ÿä½¿ç”¨çš„æ•°æ®åº“ã€Web æ¡†æ¶ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ç­‰ã€‚æ­¤å±‚ä¸»è¦å¸®åŠ©å¤–éƒ¨çš„æ¡†æ¶ã€å·¥å…·ï¼Œå’Œå†…å±‚è¿›è¡Œæ•°æ®è¡”æ¥ã€‚æ¥åšå®¢ç³»ç»Ÿä¾‹å­ï¼Œæ¡†æ¶å’Œé©±åŠ¨å±‚å¦‚æœä½¿ç”¨ gorm æ¥æ“ä½œæ•°æ®åº“ï¼Œåˆ™ç›¸å…³çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;section&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;Â &lt;span&gt;&quot;gorm.io/driver/mysql&quot;&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;import&lt;/span&gt;Â &lt;span&gt;&quot;gorm.io/gorm&quot;&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â blog &lt;span&gt;struct&lt;/span&gt;Â { &lt;span&gt;// Data Object&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â Content &lt;span&gt;string&lt;/span&gt;Â &lt;span&gt;`gorm:&quot;...&quot;`&lt;/span&gt;Â &lt;span&gt;// æœ¬å±‚çš„æ•°æ®åº“ ORM å¦‚æœæ›¿æ¢ï¼Œæ­¤å¤„çš„ tag ä¹Ÿéœ€è¦éšä¹‹æ”¹å˜&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;} &lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â MySQLClient &lt;span&gt;struct&lt;/span&gt;Â { DB *gorm.DB }&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;New&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;&lt;/span&gt;Â { gorm.Open(...) ... }&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;Create&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;è‡³æ­¤ï¼Œæ•´æ´æ¶æ„å›¾ä¸­çš„å››å±‚å·²ä»‹ç»å®Œæˆã€‚ä½†æ­¤å›¾ä¸­çš„å››å±‚ç»“æ„ä»…ä½œç¤ºæ„ï¼Œæ•´æ´æ¶æ„å¹¶ä¸è¦æ±‚è½¯ä»¶ç³»ç»Ÿå¿…é¡»æŒ‰ç…§æ­¤å››å±‚ç»“æ„è®¾è®¡ã€‚åªè¦è½¯ä»¶ç³»ç»Ÿèƒ½ä¿è¯â€œç”±å¤–å‘å†…â€çš„ä¾èµ–è§„åˆ™ï¼Œç³»ç»Ÿçš„å±‚æ•°å¤šå°‘å¯è‡ªç”±å†³å®šã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;æ•´ä½“ç»“æ„&lt;/span&gt;ä¸&lt;span&gt;æ´‹è‘±æ¶æ„äºŒè€…é½åä¸”ç»“æ„å›¾&lt;/span&gt;ç›¸ä¼¼ï¼Œéƒ½æ˜¯å››å±‚åŒå¿ƒåœ†ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2.2&lt;/span&gt;&lt;/strong&gt;Â &lt;span&gt;æ´‹è‘±æ¶æ„&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7076502732240437&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9S757zcZ1JlDIwibGWUrNnTUsyjvFBujNMNJ8E1bQcYGZrkPjdezOILVw/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;366&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 2 Onion Architecture,Â Jeffrey Palermo&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å›¾ 2 ä¸­&lt;strong&gt;æ´‹è‘±æ¶æ„&lt;/strong&gt;æœ€æ ¸å¿ƒçš„ Domain Model ä¸ºç»„ç»‡ä¸­æ ¸å¿ƒä¸šåŠ¡çš„çŠ¶æ€åŠå…¶è¡Œä¸ºæ¨¡å‹ï¼Œä¸æ•´æ´æ¶æ„ä¸­çš„ Entities é«˜åº¦ä¸€è‡´ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å…¶å¤–å±‚çš„ Domain Services ä¸æ•´æ´æ¶æ„ä¸­çš„ Use Cases èŒè´£ç›¸è¿‘ã€‚æ›´å¤–å±‚çš„ Application Services æ¡¥æ¥ UI å’Œ Infrastructue ä¸­çš„æ•°æ®åº“ã€æ–‡ä»¶ã€å¤–éƒ¨æœåŠ¡ç­‰ï¼Œä¸æ•´æ´æ¶æ„ä¸­çš„Â  Interface Adaptors åŠŸèƒ½ç›¸åŒã€‚æœ€è¾¹ç¼˜å±‚çš„ User Interface ä¸æ•´æ´æ¶æ„ä¸­çš„æœ€å¤–å±‚ UI éƒ¨åˆ†ä¸€è‡´ï¼ŒInfrastructure åˆ™ä¸æ•´æ´æ¶æ„ä¸­çš„ DBï¼Œ Devicesï¼Œ External Interfaces ä½œç”¨ä¸€è‡´ï¼Œåªæœ‰ Tests éƒ¨åˆ†ç¨æœ‰å·®å¼‚ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åŒå‰ä¸¤è€…é½åçš„å…­è¾¹å½¢æ¶æ„ï¼Œè™½ç„¶å¤–å½¢ä¸æ˜¯åŒå¿ƒåœ†ï¼Œä½†æ˜¯ç»“æ„ä¸Šè¿˜æ˜¯æœ‰å¾ˆå¤šå¯¹åº”çš„åœ°æ–¹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2.3&lt;/span&gt;&lt;/strong&gt;Â &lt;span&gt;å…­è¾¹å½¢æ¶æ„&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.75&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9SofMoMc8sEAFzEgXEA2DDibgFuiclZ66lg9KBNB2TzqEO7oNX7Vl83Rrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;960&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 3 Hexagon Architecture, Andrew Gordon&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;å›¾ 3 &lt;strong&gt;å…­è¾¹å½¢æ¶æ„&lt;/strong&gt;ä¸­ç°è‰²ç®­å¤´è¡¨ç¤ºä¾èµ–æ³¨å…¥&lt;/span&gt;&lt;span&gt;ï¼ˆDependency Injectionï¼‰&lt;/span&gt;&lt;span&gt;ï¼Œå…¶ä¸æ•´æ´æ¶æ„ä¸­çš„ä¾èµ–è§„åˆ™&lt;/span&gt;&lt;span&gt;ï¼ˆThe Dependency Ruleï¼‰&lt;/span&gt;&lt;span&gt;æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œä¹Ÿé™åˆ¶äº†æ•´ä¸ªæ¶æ„å„ç»„ä»¶çš„ä¾èµ–æ–¹å‘å¿…é¡»æ˜¯â€œç”±å¤–å‘å†…â€ã€‚å›¾ä¸­çš„å„ç§ Port å’Œ Adapter æ˜¯å…­è¾¹å½¢æ¶æ„çš„é‡ä¸­ä¹‹é‡ï¼Œæ•…è¯¥æ¶æ„åˆ«ç§° Ports and Adaptersã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9Suu0Z6MuU3ndxk1hVE2OajkpO8YZ4ujPHCicYea8Vl7F0Omn01kfuI6w/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 4 Hexagon Architecture Phase 1, Pablo Martinez&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;å¦‚å›¾ 4 æ‰€ç¤ºï¼Œåœ¨å…­è¾¹å½¢æ¶æ„ä¸­ï¼Œæ¥è‡ªé©±åŠ¨è¾¹&lt;/span&gt;&lt;span&gt;ï¼ˆDriving Sideï¼‰&lt;/span&gt;&lt;span&gt;çš„ç”¨æˆ·æˆ–å¤–éƒ¨ç³»ç»Ÿè¾“å…¥æŒ‡ä»¤é€šè¿‡å·¦è¾¹çš„ Port &amp;amp; Adapter åˆ°è¾¾åº”ç”¨ç³»ç»Ÿï¼Œå¤„ç†åï¼Œå†é€šè¿‡å³è¾¹çš„ Adapter &amp;amp; Port è¾“å‡ºåˆ°è¢«é©±åŠ¨è¾¹&lt;/span&gt;&lt;span&gt;ï¼ˆDriven Sideï¼‰&lt;/span&gt;&lt;span&gt;çš„æ•°æ®åº“å’Œæ–‡ä»¶ç­‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;Port æ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªä¸å…·ä½“å®ç°æ— å…³çš„å…¥å£ï¼Œè¯¥å…¥å£å®šä¹‰äº†å¤–ç•Œä¸ç³»ç»Ÿé€šä¿¡çš„æ¥å£&lt;/span&gt;&lt;span&gt;ï¼ˆinterfaceï¼‰&lt;/span&gt;&lt;span&gt;ã€‚Port ä¸å…³å¿ƒæ¥å£çš„å…·ä½“å®ç°ï¼Œå°±åƒ USB ç«¯å£å…è®¸å¤šç§è®¾å¤‡é€šè¿‡å…¶ä¸ç”µè„‘é€šä¿¡ï¼Œä½†å®ƒä¸å…³å¿ƒè®¾å¤‡ä¸ç”µè„‘ä¹‹é—´çš„ç…§ç‰‡ã€è§†é¢‘ç­‰ç­‰å…·ä½“æ•°æ®æ˜¯å¦‚ä½•ç¼–è§£ç ä¼ è¾“çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.562962962962963&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9S3eF9jkKGQkibBlRwAgIicA47jAgVWTu5CEibhnVcelFgCBLBw8eb3icrjQ/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 5 Hexagon Architecture Phase 2, Pablo Martinez&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚å›¾ 5 æ‰€ç¤ºï¼ŒAdapter è´Ÿè´£ Port å®šä¹‰çš„æ¥å£çš„æŠ€æœ¯å®ç°ï¼Œå¹¶é€šè¿‡ Port å‘èµ·ä¸åº”ç”¨ç³»ç»Ÿçš„äº¤äº’ã€‚ä¾‹å¦‚ï¼Œå›¾å·¦ Driving Side çš„ Adapter å¯ä»¥æ˜¯ä¸€ä¸ª REST æ§åˆ¶å™¨ï¼Œå®¢æˆ·ç«¯é€šè¿‡å®ƒä¸åº”ç”¨ç³»ç»Ÿé€šä¿¡ã€‚å›¾å³ Driven Side çš„ Adapter å¯ä»¥æ˜¯ä¸€ä¸ªæ•°æ®åº“é©±åŠ¨ï¼Œåº”ç”¨ç³»ç»Ÿçš„æ•°æ®é€šè¿‡å®ƒå†™å…¥æ•°æ®åº“ã€‚æ­¤å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶å…­è¾¹å½¢æ¶æ„çœ‹ä¸Šå»ä¸æ•´æ´æ¶æ„ä¸é‚£ä¹ˆç›¸ä¼¼ï¼Œä½†å…¶åº”ç”¨ç³»ç»Ÿæ ¸å¿ƒå±‚çš„ Domain ã€è¾¹ç¼˜å±‚çš„User Interface å’Œ Infrastructure ä¸æ•´æ´æ¶æ„ä¸­çš„ Entities å’Œ Frameworks &amp;amp; Drivers å®Œå…¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å†æ¬¡å›åˆ°å›¾ 3 çš„å…­è¾¹å½¢æ¶æ„æ•´ä½“å›¾ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»¥ Java ç”Ÿæ€ä¸ºä¾‹ï¼ŒDriving Side çš„ HTTP Server In Port å¯ä»¥æ‰¿æ¥æ¥è‡ª Jetty æˆ– Servlet ç­‰ Adapter çš„è¯·æ±‚ï¼Œå…¶ä¸­ Jetty çš„è¯·æ±‚å¯ä»¥æ˜¯æ¥è‡ªå…¶ä»–æœåŠ¡çš„è°ƒç”¨ã€‚æ—¢å¤„åœ¨ Driving Side åˆå¤„åœ¨ Driven Sides ä¸­çš„ Messaging In/Out Port å¯ä»¥æ‰¿æ¥æ¥è‡ª RabbitMQ çš„äº‹ä»¶è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥å°† Application Adapters ä¸­ç”Ÿæˆçš„æ•°æ®å†™å…¥åˆ° RabbitMQã€‚Driven Side çš„ Store Out Port å¯ä»¥å°† Application Adapters äº§ç”Ÿçš„æ•°æ®å†™å…¥åˆ° MongoDBï¼›HTTP Client Out Port åˆ™å¯ä»¥å°† Application Adapters äº§ç”Ÿçš„æ•°æ®é€šè¿‡ JettyHTTP å‘é€åˆ°å¤–éƒ¨æœåŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å…¶å®ï¼Œä¸ä»…å›½å¤–æœ‰ä¼˜ç§€çš„ä»£ç æ¶æ„ï¼Œå›½å†…ä¹Ÿæœ‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2.4&lt;/span&gt;&lt;/strong&gt;Â &lt;span&gt;COLAæ¶æ„&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;å›½å†…å¼€å‘è€…åœ¨å­¦ä¹ äº†å…­è¾¹å½¢æ¶æ„ã€æ´‹è‘±æ¶æ„å’Œæ•´æ´æ¶æ„ä¹‹åï¼Œæå‡ºäº†&lt;strong&gt; COLA&lt;/strong&gt; &lt;/span&gt;&lt;span&gt;ï¼ˆClean Object-oriented and Layered Architectureï¼‰&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ¶æ„&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå…¶åç§°å«ä¹‰ä¸ºã€Œæ•´æ´çš„åŸºäºé¢å‘å¯¹è±¡å’Œåˆ†å±‚çš„æ¶æ„ã€ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µä¸å›½å¤–ä¸‰ç§æ¶æ„ç›¸åŒï¼Œéƒ½æ˜¯æå€¡ä»¥ä¸šåŠ¡ä¸ºæ ¸å¿ƒï¼Œè§£è€¦å¤–éƒ¨ä¾èµ–ï¼Œåˆ†ç¦»ä¸šåŠ¡å¤æ‚åº¦å’ŒæŠ€æœ¯å¤æ‚åº¦[4]ã€‚æ•´ä½“æ¶æ„å½¢å¼å¦‚å›¾ 6 æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7975460122699386&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9SUHou7Wg6wzH1cTTf8EibUtKo4Cy1GGa3rWCwGWdFLXibj5ZpkFFQmRtQ/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;815&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 6 COLA æ¶æ„, å¼ å»ºé£&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è™½ç„¶ COLA æ¶æ„ä¸å†æ˜¯åŒå¿ƒåœ†æˆ–è€…å…­è¾¹å½¢çš„å½¢å¼ï¼Œä½†æ˜¯è¿˜æ˜¯èƒ½æ˜æ˜¾çœ‹åˆ°å‰æ–‡ä¸‰ç§æ¶æ„çš„å½±å­ã€‚Domain å±‚ä¸­ model å¯¹åº”æ•´æ´æ¶æ„çš„ Entitiesã€å…­è¾¹å½¢æ¶æ„å’Œæ´‹è‘±æ¶æ„ä¸­çš„ Domain Modelã€‚Domain å±‚ä¸­ gateway å’Œ ability å¯¹åº”æ•´æ´æ¶æ„çš„ Use Casesã€å…­è¾¹å½¢æ¶æ„ä¸­çš„ Application Logicä»¥åŠæ´‹è‘±æ¶æ„ä¸­çš„ Domain Servicesã€‚App å±‚åˆ™å¯¹åº”æ•´æ´æ¶æ„ Interface Adapters å±‚ä¸­çš„ Controllersã€Gatewayså’Œ Presentersã€‚æœ€ä¸Šæ–¹çš„ Adapter å±‚å’Œæœ€ä¸‹æ–¹çš„ Infrastructure å±‚åˆèµ·æ¥ä¸æ•´æ´æ¶æ„çš„è¾¹ç¼˜å±‚ Frameworks &amp;amp; Drivers ç›¸å¯¹åº”ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Adapter å±‚ä¸Šæ–¹çš„ Driving adater ä¸ Infrastructure å±‚ä¸‹æ–¹çš„ Driven adapter æ›´æ˜¯ä¸å…­è¾¹å½¢æ¶æ„ä¸­çš„ Driving Side å’Œ Driven Side é«˜åº¦ç›¸ä¼¼ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;COLA æ¶æ„åœ¨ Java ç”Ÿæ€ä¸­è½åœ°å·²ä¹…ï¼Œä¹Ÿä¸ºå¼€å‘è€…ä»¬æä¾›äº† Java è¯­è¨€çš„ archetypeï¼Œå¯æ–¹ä¾¿åœ°ç”¨äº Java é¡¹ç›®è„šæ‰‹æ¶ä»£ç çš„ç”Ÿæˆã€‚ç¬”è€…å—å…¶å¯å‘ï¼Œæ¨å‡ºäº†ä¸€ç§ç¬¦åˆ COLA æ¶æ„è§„åˆ™çš„ Go è¯­è¨€é¡¹ç›®è„šæ‰‹æ¶å®è·µæ–¹æ¡ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;p&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h1 data-mid=&quot;&quot;&gt;&lt;span&gt;03&lt;/span&gt;&lt;/h1&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;æ¨èä¸€ç§ Go ä»£ç æ¶æ„å®è·µ&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;p&gt;&lt;span&gt;â”œâ”€â”€ adapter // Adapterå±‚ï¼Œé€‚é…å„ç§æ¡†æ¶åŠåè®®çš„æ¥å…¥ï¼Œæ¯”å¦‚ï¼šGinï¼ŒtRPCï¼ŒEchoï¼ŒFiber ç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”œâ”€â”€ application // Appå±‚ï¼Œå¤„ç†Adapterå±‚é€‚é…è¿‡åä¸æ¡†æ¶ã€åè®®ç­‰æ— å…³çš„ä¸šåŠ¡é€»è¾‘&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ consumer //ï¼ˆå¯é€‰ï¼‰å¤„ç†å¤–éƒ¨æ¶ˆæ¯ï¼Œæ¯”å¦‚æ¥è‡ªæ¶ˆæ¯é˜Ÿåˆ—çš„äº‹ä»¶æ¶ˆè´¹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ dto // Appå±‚çš„æ•°æ®ä¼ è¾“å¯¹è±¡ï¼Œå¤–å±‚åˆ°è¾¾Appå±‚çš„æ•°æ®ï¼Œä»Appå±‚å‡ºå‘åˆ°å¤–å±‚çš„æ•°æ®éƒ½é€šè¿‡DTOä¼ æ’­&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ executor // å¤„ç†è¯·æ±‚ï¼ŒåŒ…æ‹¬commandå’Œquery&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â””â”€â”€ scheduler //ï¼ˆå¯é€‰ï¼‰å¤„ç†å®šæ—¶ä»»åŠ¡ï¼Œæ¯”å¦‚Cronæ ¼å¼çš„å®šæ—¶Job&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”œâ”€â”€ domain // Domainå±‚ï¼Œæœ€æ ¸å¿ƒæœ€çº¯ç²¹çš„ä¸šåŠ¡å®ä½“åŠå…¶è§„åˆ™çš„æŠ½è±¡å®šä¹‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ gateway // é¢†åŸŸç½‘å…³ï¼Œmodelçš„æ ¸å¿ƒé€»è¾‘ä»¥Interfaceå½¢å¼åœ¨æ­¤å®šä¹‰ï¼Œäº¤ç”±Infraå±‚å»å®ç°&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â””â”€â”€ model // é¢†åŸŸæ¨¡å‹å®ä½“&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”œâ”€â”€ infrastructure // Infraå±‚ï¼Œå„ç§å¤–éƒ¨ä¾èµ–ï¼Œç»„ä»¶çš„è¡”æ¥ï¼Œä»¥åŠdomain/gatewayçš„å…·ä½“å®ç°&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ cache //ï¼ˆå¯é€‰ï¼‰å†…å±‚æ‰€éœ€ç¼“å­˜çš„å®ç°ï¼Œå¯ä»¥æ˜¯Redisï¼ŒMemcachedç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ client //ï¼ˆå¯é€‰ï¼‰å„ç§ä¸­é—´ä»¶clientçš„åˆå§‹åŒ–&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ config // é…ç½®å®ç°&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ database //ï¼ˆå¯é€‰ï¼‰å†…å±‚æ‰€éœ€æŒä¹…åŒ–çš„å®ç°ï¼Œå¯ä»¥æ˜¯MySQLï¼ŒMongoDBï¼ŒNeo4jç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ distlock //ï¼ˆå¯é€‰ï¼‰å†…å±‚æ‰€éœ€åˆ†å¸ƒå¼é”çš„å®ç°ï¼Œå¯ä»¥åŸºäºRedisï¼ŒZooKeeperï¼Œetcdç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ log // æ—¥å¿—å®ç°ï¼Œåœ¨æ­¤æ¥å…¥ç¬¬ä¸‰æ–¹æ—¥å¿—åº“ï¼Œé¿å…å¯¹å†…å±‚çš„æ±¡æŸ“&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ mq //ï¼ˆå¯é€‰ï¼‰å†…å±‚æ‰€éœ€æ¶ˆæ¯é˜Ÿåˆ—çš„å®ç°ï¼Œå¯ä»¥æ˜¯Kafkaï¼ŒRabbitMQï¼ŒPulsarç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ node //ï¼ˆå¯é€‰ï¼‰æœåŠ¡èŠ‚ç‚¹ä¸€è‡´æ€§åè°ƒæ§åˆ¶å®ç°ï¼Œå¯ä»¥åŸºäºZooKeeperï¼Œetcdç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â””â”€â”€ rpc //ï¼ˆå¯é€‰ï¼‰å¹¿ä¹‰ä¸Šç¬¬ä¸‰æ–¹æœåŠ¡çš„è®¿é—®å®ç°ï¼Œå¯ä»¥é€šè¿‡HTTPï¼ŒgRPCï¼ŒtRPCç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â””â”€â”€ pkg // å„å±‚å¯å…±äº«çš„å…¬å…±ç»„ä»¶ä»£&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç”±æ­¤ç›®å½•ç»“æ„å¯ä»¥çœ‹å‡ºé€šè¿‡ Adapter å±‚å±è”½å¤–ç•Œæ¡†æ¶ã€åè®®çš„å·®å¼‚ï¼ŒInfrastructure å±‚å›Šæ‹¬å„ç§ä¸­é—´ä»¶å’Œå¤–éƒ¨ä¾èµ–çš„å…·ä½“å®ç°ï¼ŒApp å±‚è´Ÿè´£ç»„ç»‡è¾“å…¥ã€è¾“å‡ºï¼Œ Domain å±‚å¯ä»¥å®Œå…¨èšç„¦åœ¨æœ€çº¯ç²¹ä¹Ÿæœ€ä¸å®¹æ˜“å˜åŒ–çš„æ ¸å¿ƒä¸šåŠ¡è§„åˆ™ä¸Šã€‚&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æŒ‰ç…§å‰æ–‡ infrastructure ä¸­ç›®å½•ç»“æ„ï¼Œå„å­ç›®å½•ä¸­æ–‡ä»¶æ ·ä¾‹å‚è€ƒå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td valign=&quot;top&quot;&gt;&lt;p&gt;&lt;span&gt;â”œâ”€â”€ infrastructure&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ cache&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ redis.go // Redis å®ç°çš„ç¼“å­˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ client&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ kafka.go // æ„å»º Kafka client&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ mysql.go // æ„å»º MySQL client&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ redis.go // æ„å»º Redis clientï¼ˆcacheå’Œdistlockä¸­éƒ½ä¼šç”¨åˆ° Redisï¼Œç»Ÿä¸€åœ¨æ­¤æ„å»ºï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ zookeeper.go // æ„å»º ZooKeeper client&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ config&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ config.go // é…ç½®å®šä¹‰åŠå…¶è§£æ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ database&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ dataobject.go // æ•°æ®åº“æ“ä½œä¾èµ–çš„æ•°æ®å¯¹è±¡&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ mysql.go // MySQL å®ç°çš„æ•°æ®æŒä¹…åŒ–&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ distlock&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ distributed_lock.go // åˆ†å¸ƒå¼é”æ¥å£ï¼Œåœ¨æ­¤æ˜¯å› ä¸ºdomain/gatewayä¸­æ²¡æœ‰ç›´æ¥éœ€è¦æ­¤æ¥å£&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ redis.go // Redis å®ç°çš„åˆ†å¸ƒå¼é”&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ log&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ log.go // æ—¥å¿—å°è£…&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ mq&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â”œâ”€â”€ dataobject.go // æ¶ˆæ¯é˜Ÿåˆ—æ“ä½œä¾èµ–çš„æ•°æ®å¯¹è±¡&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ kafka.go // Kafka å®ç°çš„æ¶ˆæ¯é˜Ÿåˆ—&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”œâ”€â”€ node&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â”‚Â  Â â””â”€â”€ zookeeper_client.go // ZooKeeper å®ç°çš„ä¸€è‡´æ€§åè°ƒèŠ‚ç‚¹å®¢æˆ·ç«¯&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â â””â”€â”€ rpc&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â  Â  Â â”œâ”€â”€ dataapi.go // ç¬¬ä¸‰æ–¹æœåŠ¡è®¿é—®åŠŸèƒ½å°è£…&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â”‚Â  Â  Â  Â â””â”€â”€ dataobject.go // ç¬¬ä¸‰æ–¹æœåŠ¡è®¿é—®æ“ä½œä¾èµ–çš„æ•°æ®å¯¹è±¡&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å†æ¥å‰æ–‡æåˆ°çš„åšå®¢ç³»ç»Ÿä¾‹å­ï¼Œå‡è®¾ç”¨ Gin æ¡†æ¶æ­å»ºåšå®¢ç³»ç»Ÿ API æœåŠ¡çš„è¯ï¼Œæ¶æ„å„å±‚ç›¸å…³ç›®å½•å†…å®¹å¤§è‡´å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;// Adapter å±‚ router.goï¼Œè·¯ç”±å…¥å£&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â &lt;span&gt;&quot;mybusiness.com/blog-api/application/executor&quot;&lt;/span&gt;Â &lt;span&gt;// å‘å†…ä¾èµ– App å±‚&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â &lt;span&gt;&quot;github.com/gin-gonic/gin&quot;&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;NewRouter&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;Â &lt;span&gt;(*gin.Engine, error)&lt;/span&gt;&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â r := gin.Default()&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â r.GET(&lt;span&gt;&quot;/blog/:blog_id&quot;&lt;/span&gt;, getBlog)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;getBlog&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;Â ...&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â &lt;span&gt;// b&#x27;s type: *executor.BlogOperator&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â result := b.GetBlog(blogID)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â &lt;span&gt;// c&#x27;s type: *gin.Context&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â c.JSON(..., result)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å¦‚ä»£ç æ‰€ä½“ç°ï¼ŒGin æ¡†æ¶çš„å†…å®¹ä¼šè¢«å…¨éƒ¨é™åˆ¶åœ¨ Adapter å±‚ï¼Œå…¶ä»–å±‚ä¸ä¼šæ„ŸçŸ¥åˆ°è¯¥æ¡†æ¶çš„å­˜åœ¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;// App å±‚ executor/blog_operator.go&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;import&lt;/span&gt;Â &lt;span&gt;&quot;mybusiness.com/blog-api/domain/gateway&quot;&lt;/span&gt;Â &lt;span&gt;// å‘å†…ä¾èµ– Domain å±‚&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â BlogOperator &lt;span&gt;struct&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â blogManager gateway.BlogManager &lt;span&gt;// å­—æ®µ type æ˜¯æ¥å£ç±»å‹ï¼Œé€šè¿‡ Infra å±‚å…·ä½“å®ç°è¿›è¡Œä¾èµ–æ³¨å…¥&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(b *BlogOperator)&lt;/span&gt;Â &lt;span&gt;GetBlog&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;Â ...&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â blog, err := b.blogManager.Load(ctx, blogID)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â dto.BlogFromModel(...) &lt;span&gt;// é€šè¿‡ DTO ä¼ é€’æ•°æ®åˆ°å¤–å±‚&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;App å±‚ä¼šä¾èµ– Domain å±‚å®šä¹‰çš„é¢†åŸŸç½‘å…³ï¼Œè€Œé¢†åŸŸç½‘å…³æ¥å£ä¼šç”± Infra å±‚çš„å…·ä½“å®ç°æ³¨å…¥ã€‚å¤–å±‚è°ƒç”¨ App å±‚æ–¹æ³•ï¼Œé€šè¿‡ DTO ä¼ é€’æ•°æ®ï¼ŒApp å±‚ç»„ç»‡å¥½è¾“å…¥äº¤ç»™ Domain å±‚å¤„ç†ï¼Œå†å°†å¾—åˆ°çš„ç»“æœé€šè¿‡ DTO ä¼ é€’åˆ°å¤–å±‚ã€‚&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;section&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-preserve=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;// Domain å±‚ gateway/blog_manager.go&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;import&lt;/span&gt;Â &lt;span&gt;&quot;mybusiness.com/blog-api/domain/model&quot;&lt;/span&gt;Â &lt;span&gt;// ä¾èµ–åŒå±‚çš„ model&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â BlogManager &lt;span&gt;interface&lt;/span&gt;Â { &lt;span&gt;//å®šä¹‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„æ¥å£æ–¹æ³•&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Load(...) ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Save(...) ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â ...&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Domain å±‚æ˜¯æ ¸å¿ƒå±‚ï¼Œä¸ä¼šä¾èµ–ä»»ä½•å¤–å±‚ç»„ä»¶ï¼Œåªèƒ½å±‚å†…ä¾èµ–ã€‚è¿™ä¹Ÿä¿éšœäº† Domain å±‚çš„çº¯ç²¹ï¼Œä¿éšœäº†æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;// Infrastructure å±‚ database/mysql.go&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;import&lt;/span&gt;Â (&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â &lt;span&gt;&quot;mybusiness.com/blog-api/domain/model&quot;&lt;/span&gt;Â &lt;span&gt;// ä¾èµ–å†…å±‚çš„ model&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â Â Â &lt;span&gt;&quot;mybusiness.com/blog-api/infrastructure/client&quot;&lt;/span&gt;Â &lt;span&gt;// ä¾èµ–åŒå±‚çš„ client&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;type&lt;/span&gt;Â MySQLPersistence &lt;span&gt;struct&lt;/span&gt;Â {&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â client client.SQLClient &lt;span&gt;// client ä¸­å·²æ„å»ºå¥½äº†æ‰€éœ€å®¢æˆ·ç«¯ï¼Œæ­¤å¤„ä¸ç”¨å¼•å…¥ MySQL, gorm ç›¸å…³ä¾èµ–&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;span&gt;&lt;span&gt;func&lt;/span&gt;Â &lt;span&gt;(p ...)&lt;/span&gt;Â &lt;span&gt;Load&lt;/span&gt;&lt;span&gt;(...)&lt;/span&gt;Â ...&lt;/span&gt;Â { &lt;span&gt;// Domain å±‚ gateway ä¸­æ¥å£æ–¹æ³•çš„å®ç°&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â record := p.client.FindOne(...)&lt;br mpa-from-tpl=&quot;t&quot;/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â record.ToModel() &lt;span&gt;// å°† DOï¼ˆæ•°æ®å¯¹è±¡ï¼‰è½¬æˆ Domain å±‚ model&lt;/span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;}&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;pre&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;Infrastructure å±‚ä¸­æ¥å£æ–¹æ³•çš„å®ç°éƒ½éœ€è¦å°†ç»“æœçš„æ•°æ®å¯¹è±¡è½¬åŒ–æˆ Domain å±‚ model è¿”å›ï¼Œå› ä¸ºé¢†åŸŸç½‘å…³ gateway ä¸­å®šä¹‰çš„æ¥å£æ–¹æ³•çš„å…¥å‚ã€å‡ºå‚åªèƒ½åŒ…å«åŒå±‚çš„ modelï¼Œä¸å¯ä»¥æœ‰å¤–å±‚çš„æ•°æ®ç±»å‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å‰æ–‡æåŠçš„å®Œæ•´è°ƒç”¨æµç¨‹å¦‚å›¾ 7 æ‰€ç¤ºã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6481481481481481&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94Vww7O7ibEbCbQRBxibuhR9SF6rUeFqRtiboq3dFEMK6HK3682odddgHe1ibxMTNnrBt5uDdAuDAg6xA/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å›¾ 7 Blog è¯»å–è¿‡ç¨‹æ—¶åºç¤ºæ„å›¾&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚å›¾ï¼Œå¤–éƒ¨è¯·æ±‚é¦–å…ˆæŠµè¾¾ Adapter å±‚ã€‚å¦‚æœæ˜¯è¯»è¯·æ±‚ï¼Œåˆ™æºå¸¦ç®€å•å‚æ•°æ¥è°ƒç”¨ App å±‚ï¼›å¦‚æœæ˜¯å†™è¯·æ±‚ï¼Œåˆ™æºå¸¦ DTO è°ƒç”¨ App å±‚ã€‚App å±‚å°†æ”¶åˆ°çš„DTOè½¬åŒ–æˆå¯¹åº”çš„ Model è°ƒç”¨ Domain å±‚ gateway ç›¸å…³ä¸šåŠ¡é€»è¾‘æ¥å£æ–¹æ³•ã€‚ç”±äºç³»ç»Ÿåˆå§‹åŒ–é˜¶æ®µå·²ç»å®Œæˆä¾èµ–æ³¨å…¥ï¼Œæ¥å£å¯¹åº”çš„æ¥è‡ª Infra å±‚çš„å…·ä½“å®ç°ä¼šå¤„ç†å®Œæˆå¹¶è¿”å› Model åˆ° Domain å±‚ï¼Œå†ç”± Domain å±‚è¿”å›åˆ° App å±‚ï¼Œæœ€ç»ˆç»ç”± Adapter å±‚å°†å“åº”å†…å®¹å‘ˆç°ç»™å¤–éƒ¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è‡³æ­¤å¯çŸ¥ï¼Œå‚ç…§ COLA è®¾è®¡çš„ç³»ç»Ÿåˆ†å±‚æ¶æ„å¯ä»¥ä¸€å±‚ä¸€å±‚åœ°å°†ä¸šåŠ¡è¯·æ±‚å‰¥ç¦»å¹²å‡€ï¼Œåˆ†åˆ«å¤„ç†åå†ä¸€å±‚ä¸€å±‚åœ°ç»„è£…å¥½è¿”å›åˆ°è¯·æ±‚æ–¹ã€‚å„å±‚ä¹‹é—´äº’ä¸å¹²æ‰°ï¼ŒèŒè´£åˆ†æ˜ï¼Œæœ‰æ•ˆåœ°é™ä½äº†ç³»ç»Ÿç»„ä»¶ä¹‹é—´çš„è€¦åˆï¼Œæå‡äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;h1 data-mid=&quot;&quot;&gt;&lt;span&gt;04&lt;/span&gt;&lt;/h1&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ— è®ºå“ªç§æ¶æ„éƒ½ä¸ä¼šæ˜¯é¡¹ç›®å¼€å‘çš„é“¶å¼¹ï¼Œä¹Ÿä¸ä¼šæœ‰ç™¾è¯•ç™¾çµçš„å¼€å‘æ–¹æ³•è®ºã€‚æ¯•ç«Ÿå¼•å…¥ä¸€ç§æ¶æ„æ˜¯æœ‰ä¸€å®šå¤æ‚åº¦å’Œè¾ƒé«˜ç»´æŠ¤æˆæœ¬çš„ï¼Œæ‰€ä»¥å¼€å‘è€…éœ€è¦æ ¹æ®è‡ªèº«é¡¹ç›®ç±»å‹åˆ¤æ–­æ˜¯å¦éœ€è¦å¼•å…¥æ¶æ„ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸å»ºè®®å¼•å…¥æ¶æ„çš„&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;é¡¹ç›®ç±»å‹&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå¤§æ¦‚ç‡ä¼šå°äºä¸‰ä¸ªæœˆçš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* é¡¹ç›®ç»´æŠ¤äººå‘˜åœ¨ç°åœ¨ä»¥åŠå¯è§çš„å°†æ¥åªæœ‰è‡ªå·±çš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¯ä»¥è€ƒè™‘å¼•å…¥æ¶æ„çš„é¡¹ç›®ç±»å‹ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå¤§æ¦‚ç‡ä¼šå¤§äºä¸‰ä¸ªæœˆçš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* é¡¹ç›®ç»´æŠ¤äººå‘˜å¤šäº1äººçš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¼ºçƒˆå»ºè®®å¼•å…¥æ¶æ„çš„é¡¹ç›®ç±»å‹ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* è½¯ä»¶ç”Ÿå‘½å‘¨æœŸå¤§æ¦‚ç‡ä¼šå¤§äºä¸‰å¹´çš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;* é¡¹ç›®ç»´æŠ¤äººå‘˜å¤šäº5äººçš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;å‚è€ƒæ–‡çŒ®:&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;[1] Robert C. Martin, The Clean Architecture,Â https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.htmlÂ (2012)&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;[2] Andrew Gordon, Clean Architecture,Â Â https://www.andrewgordon.me/posts/Clean-Architecture/Â (2021)&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;[3] Pablo Martinez,Â Hexagonal Architecture, there are always two sides to every story,Â Â &lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;https://medium.com/ssense-tech/hexagonal-architecture-there-are-always-two-sides-to-every-story-bc0780ed7d9c&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;Â (2021)&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;[4] å¼ å»ºé£, COLA 4.0ï¼šåº”ç”¨æ¶æ„çš„æœ€ä½³å®è·µ, Â https://blog.csdn.net/significantfrank/article/details/110934799 (2022)&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;[5] Jeffrey Palermo, The Onion Architecture,Â Â https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/Â (2008)&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šæ˜¯æœ¬æ¬¡åˆ†äº«å…¨éƒ¨å†…å®¹ï¼Œæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºåˆ†äº«äº¤æµã€‚å¦‚æœè§‰å¾—å†…å®¹æœ‰ç”¨ï¼Œæ¬¢è¿è½¬å‘ï½&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;p/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;-End-&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åŸåˆ›ä½œè€…ï½œdonghui&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æŠ€æœ¯è´£ç¼–ï½œdonghui&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.39490445859872614&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe979Bb4KNoEWxibDp8V9LPhyjmg15G7AJUBPjic4zgPw1IDPaOHDQqDNbBsWOSBqtgpeC2dvoO9EdZBQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;628&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247602046&amp;amp;idx=1&amp;amp;sn=6dd93f00ba716d31c7228cec6be6c5de&amp;amp;chksm=eaa9552edddedc38a97af0390533baeb57cf3c2e6500b93da925d2374da5c39256c5081f554e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä½ å·²é€‰ä¸­äº†æ·»åŠ é“¾æ¥çš„å†…å®¹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.16296296296296298&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe959lyFQjvEpMIBqfBibXVE2whDZso5AuJEhV7BYU9AMpDJTqo7IWMfnEkiaDhhr4ydIia9YaAkCeib79Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247601092&amp;amp;idx=1&amp;amp;sn=f1e21f90a61e5f31ed5eab57e938ea46&amp;amp;chksm=eaa95194ddded8822dfa6531b0fe2ff3079e6ed44b56a878b9dd95f4d355debc6118429ca0dd&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä½ å·²é€‰ä¸­äº†æ·»åŠ é“¾æ¥çš„å†…å®¹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.16348773841961853&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe96k8c8Byl1asIeIOjQEnUlXdPxETBl6wlTCGQw8ibicAAs3GwtmNUKibzs0kUenXOBvdg587BhwKptDw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;734&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247599007&amp;amp;idx=1&amp;amp;sn=02a51b3a485d4af41c8030ad2b5205ac&amp;amp;chksm=eaa959cfddded0d9a22fdeb47607f15926877fa617cd83de03937f510deb05328ae5c5634722&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä½ å·²é€‰ä¸­äº†æ·»åŠ é“¾æ¥çš„å†…å®¹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;1&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.16296296296296298&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe95UUT6yYse0lzSrTc2CFKGGicpNd2OwmWpddSyaibbZqicW5oLq4suqxsQc2Z1tN6ZuXIgV6cWewzalw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;1080&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247593033&amp;amp;idx=1&amp;amp;sn=5dbaeabb575b4f2c374d7f1b25b42d27&amp;amp;chksm=eaa97619dddeff0fc3f72f635427da4349e969c6277bacc8c9a5e86799d8fefdae934749b6b0&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä½ å·²é€‰ä¸­äº†æ·»åŠ é“¾æ¥çš„å†…å®¹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.39490445859872614&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe96k8c8Byl1asIeIOjQEnUlXQ0mXWOWtd4jg0G63avGBCw8ib78JbpicburDEicA0oiaTC990NCpk2VQ8g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;628&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;â€œå¦‚ä½•æ›´å¥½çš„é™ä½ç³»ç»Ÿç»„ä»¶ä¹‹é—´çš„è€¦åˆã€æå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§â€æ˜¯è®©å¼€å‘è€…ä»¬äº˜å¤ä¸å˜çš„å¤´ç–¼é—®é¢˜ï¼Œé™¤äº†è®¾è®¡å¥½çš„ä»£ç æ¶æ„ï¼Œå®¹å™¨åŒ–æŠ€æœ¯ç­‰ä¹Ÿæ˜¯é‡è¦çš„è§£è€¦æŠ€æœ¯ã€‚&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¤§å®¶è¿˜èƒ½æƒ³åˆ°å“ªäº›å¯ä»¥é™ä½ç³»ç»Ÿè€¦åˆåº¦ï¼Œæé«˜ç³»ç»Ÿå¯ç»´æŠ¤æ€§çš„æ–¹æ³•å‘¢ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ¬¢è¿åœ¨è¯„è®ºåŒºèŠä¸€èŠä½ çš„çœ‹æ³•ã€‚åœ¨4æœˆ4æ—¥å‰å°†ä½ çš„è¯„è®ºè®°å½•æˆªå›¾ï¼Œå‘é€ç»™è…¾è®¯äº‘å¼€å‘è€…å…¬ä¼—å·åå°ï¼Œå¯é¢†å–è…¾è®¯äº‘&lt;/span&gt;&lt;span&gt;ã€Œå¼€å‘è€…æ˜¥å­£é™å®šçº¢åŒ…å°é¢ã€&lt;/span&gt;&lt;span&gt;ä¸€ä¸ªï¼Œæ•°é‡æœ‰é™å…ˆåˆ°å…ˆå¾—ğŸ˜„ã€‚æˆ‘ä»¬è¿˜å°†é€‰å–&lt;/span&gt;&lt;span&gt;ç‚¹èµé‡&lt;/span&gt;&lt;span&gt;æœ€é«˜çš„1ä½æœ‹å‹ï¼Œé€å‡º&lt;/span&gt;&lt;span&gt;è…¾è®¯QQå…¬ä»”&lt;/span&gt;&lt;span&gt;1ä¸ªã€‚4æœˆ4æ—¥ä¸­åˆ12ç‚¹å¼€å¥–ã€‚å¿«é‚€è¯·ä½ çš„å¼€å‘è€…æœ‹å‹ä»¬ä¸€èµ·æ¥å‚ä¸å§ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€è¿‘å¾®ä¿¡æ”¹ç‰ˆå•¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¾ˆå¤šå¼€å‘è€…æœ‹å‹åé¦ˆæ”¶ä¸åˆ°æˆ‘ä»¬æ›´æ–°çš„æ–‡ç« &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤§å®¶å¯ä»¥&lt;/span&gt;&lt;span&gt;&lt;strong&gt;å…³æ³¨å¹¶ç‚¹äº®æ˜Ÿæ ‡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ğŸ¥¹ä¸å†é”™è¿‡å°äº‘çš„çŸ¥è¯†é€Ÿé€’ğŸ¥¹&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-ratio=&quot;0.6267029972752044&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe95sINOI2rjxOTmQzicLicmcnEyqWGx2ibs6ibGQslRkKl5PJibrPmbsYicLYZHRh3uSGGg5YYrQ1RAwkVXw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-type=&quot;gif&quot; data-w=&quot;734&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable js_wx_tap_highlight&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzI2NDU4OTExOQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe97ibOIthe2pvwt1H0HqX0HVJVFK9WPNQKNsibXynR5yT5S7b45uIpzN7xeZdeJIfOibPjOflZ35rKZyw/0?wx_fmt=png&quot; data-nickname=&quot;è…¾è®¯äº‘å¼€å‘è€…&quot; data-alias=&quot;QcloudCommunity&quot; data-signature=&quot;è…¾è®¯äº‘å®˜æ–¹ç¤¾åŒºå…¬ä¼—å·ï¼Œæ±‡èšæŠ€æœ¯å¼€å‘è€…ç¾¤ä½“ï¼Œåˆ†äº«æŠ€æœ¯å¹²è´§ï¼Œæ‰“é€ æŠ€æœ¯å½±å“åŠ›äº¤æµç¤¾åŒºã€‚&quot; data-from=&quot;2&quot; data-is_biz_ban=&quot;0&quot; data-index=&quot;0&quot; data-origin_num=&quot;678&quot; data-isban=&quot;0&quot; data-biz_account_status=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img __bg_gif&quot; data-ratio=&quot;0.1008174386920981&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe95sINOI2rjxOTmQzicLicmcnES7iaAAJVrAictePXDMc5vDBkhwdyzr0vGZkksm34icNiaQX3acwMyrsPLg/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-type=&quot;gifwxfrom=5wx_lazy=1&quot; data-w=&quot;734&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>