<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>26c22eea2f3f46d46211b459e63263fb</guid>
<title>å¾®æœåŠ¡æ²»ç†çƒ­é—¨æŠ€æœ¯æ­ç§˜ï¼šåŠ¨æ€è¯»å†™åˆ†ç¦»</title>
<link>https://toutiao.io/k/bu7lntc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;82&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.14106583072100312&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/qdzZBE73hWvNG9VjIS9sOow1MoYQgibicAhyLCiagyqhMVMBR5LiaLDIwVjiayNbjG4682icRrJOrll5bkJu9kebAQHA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;638&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬ä»åº”ç”¨çš„è§†è§’å‡ºå‘æ•´ç†æŠ½è±¡äº†æˆ‘ä»¬åœ¨è®¿é—®ã€ä½¿ç”¨æ•°æ®åº“æ—¶åœºæ™¯çš„ä¸€äº›ç¨³å®šæ€§æ²»ç†ã€æ€§èƒ½ä¼˜åŒ–ã€ææ•ˆç­‰æ–¹é¢çš„å®æˆ˜ç»éªŒï¼Œå¯¹äºæ¯ä¸€ä¸ªåç«¯åº”ç”¨æ¥è¯´ï¼Œæ•°æ®åº“æ— ç–‘æ˜¯é‡ä¸­ä¹‹é‡ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æˆ‘ä»¬çš„æ•°æ®åº“æ²»ç†èƒ½åŠ›ï¼Œå¯ä»¥å¸®åŠ©åˆ°å¤§å®¶æ›´å¥½åœ°ä½¿ç”¨æ•°æ®åº“æœåŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;250&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.4322033898305085&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjcfZiamC5UIRqkAq2ib4fOrscKoB8tgJibvPjIQogyeicnwG3aBc74eibNVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1888&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;MSE æ•°æ®åº“æ²»ç†å®Œæ•´è§£å†³æ–¹æ¡ˆ&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» MSE æ•°æ®åº“æ²»ç†çš„çƒ­ç‚¹åŠŸèƒ½ï¼ŒåŠ¨æ€è¯»å†™åˆ†ç¦»çš„è®¾è®¡ä¸å®ç°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h1&gt;&lt;span/&gt;&lt;/h1&gt;&lt;p&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;01&lt;/strong&gt;&lt;strong data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;3&quot; mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;è¯»å†™åˆ†ç¦»çš„æ¦‚è¿°&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;Aliware&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æ•°æ®åº“åŠ¨æ€è¯»å†™åˆ†ç¦»çš„å¸¸è§åœºæ™¯ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ä¸€ä¸ªå¤§å®¢æˆ·çš„è¯·æ±‚è¿‡æ¥ï¼ŒæŸ¥è¯¢æ•°æ®åº“è¿”å›ä¸Šä¸‡æ¡å‡ ç™¾ M çš„æ•°æ®ï¼Œæ•°æ®åº“çš„ CPU ç›´æ¥æ‰“æ»¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¾®æœåŠ¡åº”ç”¨çš„æŸäº›ä¸šåŠ¡å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œå´å­˜åœ¨å¤§é‡æŸ¥è¯¢æ•°æ®åº“çš„é€»è¾‘ï¼Œå½±å“æ•°æ®åº“å®ä¾‹ç¨³å®šæ€§ï¼Œä»è€Œå¯¼è‡´æ•´ä½“æœåŠ¡è´¨é‡çš„ä¸‹é™ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;åœ¨ä¸šåŠ¡å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå¯¹æ•°æ®åº“çš„è¯»æ“ä½œè¿œå¤šäºå†™æ“ä½œï¼Œé‚£ä¹ˆåœ¨åšç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–æ—¶å°±å¯ä»¥è€ƒè™‘å¼•å…¥è¯»å†™åˆ†ç¦»çš„æ–¹æ¡ˆï¼Œä¸€æ–¹é¢åªè¯»åº“å¯ä»¥æ‰¿æ‹…ä¸»åº“çš„å‹åŠ›ï¼Œå¦ä¸€æ–¹é¢èƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…ç”±æ•°æ®æ›´æ–°å¯¼è‡´çš„é”ç­‰å¾…ï¼Œæå‡å¾®æœåŠ¡åº”ç”¨çš„æ€§èƒ½ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;éšç€ä¸šåŠ¡çš„å¢é•¿ï¼Œæˆ‘ä»¬åœ¨ä¸€å®šæ—¶æœºä¸‹éœ€è¦å¯¹æ•°æ®åº“å®ä¾‹è¿›è¡Œæ‰©å®¹ã€‚æ ¹æ®ç»éªŒå¤§å¤šæ•°åº”ç”¨çš„è¯»å†™æ¯”éƒ½åœ¨ 5:1 ä»¥ä¸Šï¼Œæœ‰äº›åœºæ™¯ç”šè‡³å¤§é‡çš„é«˜äº 10:1ï¼Œåœ¨å¯¹æ•°æ®åº“æœ‰å°‘é‡å†™è¯·æ±‚ï¼Œä½†æœ‰å¤§é‡è¯»è¯·æ±‚çš„åº”ç”¨åœºæ™¯ä¸‹ï¼Œå•ä¸ªå®ä¾‹å¯èƒ½æ— æ³•æ‰¿å—è¯»å–å‹åŠ›ï¼Œç”šè‡³å¯¹ä¸šåŠ¡äº§ç”Ÿå½±å“ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥äº†è§£åˆ°çš„æ˜¯æ•°æ®åº“è¯»å†™åˆ†ç¦»æ–¹æ¡ˆå¯ä»¥æ»¡è¶³é˜¿é‡Œäº‘ä¸Šå¤§å¤šæ•°å…¬å¸çš„ç¨³å®šæ€§æ²»ç†ã€æ€§èƒ½æå‡ä»¥åŠæ•°æ®åº“æ‰©å®¹çš„éœ€æ±‚ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;299&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.5168018539976825&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjp5sqmozDD2oialpHmQfL7YlSdP9cp2LPXzJPNpB3ic40IYDkTqZrbfRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1726&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœäº†è§£è¯»å†™åˆ†ç¦»å®ç°çš„åŒå­¦ä¸€å®šä¼šå…³æ³¨ä»¥ä¸‹è¿™äº›é—®é¢˜ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;MSE æ˜¯å¦‚ä½•è§£å†³è¯»å†™åˆ†ç¦»å¯¹ä¸šåŠ¡çš„ä¾µå…¥æ€§ï¼Ÿå¦‚ä½•åšåˆ°ä¸šåŠ¡æ— éœ€æ”¹åŠ¨ä¸€è¡Œä»£ç ï¼Œå³å¯å…·å¤‡è¯»å†™åˆ†ç¦»èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;MSE å¦‚ä½•åšåˆ°ç²¾ç»†åŒ–åŠ¨æ€çš„è¯»å†™åˆ†ç¦»æ§åˆ¶ï¼Ÿå³ä½¿æˆ‘ä»¬ä¸çŸ¥é“è¿™ä¸ªä¸šåŠ¡æ¥å£çœŸå®çš„ SQL æ˜¯ä»€ä¹ˆï¼Œä½†æˆ‘ä»¬å·²ç»å¯ä»¥æ§åˆ¶è¿™ä¸ªæ¥å£çš„è¯» SQL è®¿é—®åªè¯»å®ä¾‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;MSE æ˜¯å¦‚ä½•è§£å†³è¯»å†™åˆ†ç¦»å¸¦æ¥çš„ä¸€è‡´æ€§é—®é¢˜ï¼Ÿå¯¹äºä¸€è‡´æ€§æ•æ„Ÿçš„ä¸šåŠ¡ï¼Œå¦‚ä½•å®ç°ä¸€è‡´æ€§çš„ä¿éšœï¼Œæ»¡è¶³ä¸šåŠ¡åœ¨ä¸åŒåœºæ™¯ä¸‹å¯¹ä¸€è‡´æ€§çº§åˆ«çš„è¦æ±‚ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;02&lt;/strong&gt;&lt;strong data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;3&quot; mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;MSE è¯»å†™åˆ†ç¦»æŠ€æœ¯æ­ç§˜&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;Aliware&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯»å†™åˆ†ç¦»ä¹Ÿå°±æ˜¯å°†æ•°æ®åº“æ‹†åˆ†ä¸ºä¸»åº“å’Œä»åº“ï¼Œå³ä¸»åº“è´Ÿè´£å¤„ç†äº‹åŠ¡æ€§çš„å¢åˆ æ”¹æ“ä½œï¼Œä»åº“è´Ÿè´£å¤„ç†æŸ¥è¯¢æ“ä½œçš„æ•°æ®åº“æ¶æ„ã€‚å•å•çœ‹è¯»å†™åˆ†ç¦»çš„æ¦‚å¿µï¼Œç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯å¯¹ä¸šåŠ¡çš„ä¾µå…¥æ€§ä¸€å®šä¸å°ï¼Œé‚£ä¹ˆ MSE æ˜¯å¦‚ä½•åšåˆ°æ— ä¾µå…¥çš„å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;107115&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section hm_fix=&quot;320:270&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;01&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;æ— ä¾µå…¥æ€§ï¼šæ— éœ€ä¿®æ”¹ä¸€è¡Œä»£ç &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;MSE æ•°æ®åº“æ²»ç†èƒ½åŠ›é€šè¿‡ JavaAgent æŠ€æœ¯ï¼ŒåŠ¨æ€å¢åŠ ç”¨æˆ·çš„æ•°æ®æºï¼Œæ³¨å…¥åŠ¨æ€è¯»å†™åˆ†ç¦»èƒ½åŠ›ï¼Œæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€å°†å¼±è¯»è¯·æ±‚è·¯ç”±è‡³åªè¯»å®ä¾‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;251&quot; data-backw=&quot;530&quot; data-ratio=&quot;0.47358490566037736&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHj4TYfLRfoxPdVv7bG3UA39FjmLw8mTCUyyoXoiaY0KmruEfY7x9nM1sg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1060&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;MSE åœ¨æ•°æ®æºå±‚é¢å®ç°äº†æŠ½è±¡ï¼Œå…¶ä¸­ DynamicConnectionã€DynamicStatement ä¼šæ ¹æ®å…·ä½“è§„åˆ™ä»è€Œå®ç° Master/Slaver çš„åˆ‡æ¢ï¼Œåšåˆ°æ ¹æ® SQL çš„è¯»å†™ç±»å‹ã€äº‹åŠ¡çš„çŠ¶æ€ä»¥åŠç”¨æˆ·çš„ä¸šåŠ¡è§„åˆ™æ¥åš SQL çš„è·¯ç”±ï¼Œå°†ç¬¦åˆæ¡ä»¶çš„è¯» SQL è¯·æ±‚è½¬å‘è‡³ RDS åªè¯»å®ä¾‹ä¸­ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.5631901840490797&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjdicBvNsLch4lrd6vb4lkQS1Etaibxxejob6AqxFQibdDiaUZjpkicUsY1icw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1630&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;107115&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section hm_fix=&quot;320:270&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;02&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;ç²¾ç»†åŒ–è·¯ç”±ï¼šæŒ‰ç…§è¯·æ±‚æ¡ä»¶ã€æ¥å£ã€SQL å¤šå±‚æ¬¡å¤šæ¡ä»¶&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¾ˆå¤šæ—¶å€™æˆ‘ä»¬é€šè¿‡ç¼–å†™ DAO è®¿é—®æ•°æ®åº“ï¼Œé‚£ä¹ˆåœ¨ä¸€äº›å¤æ‚åº”ç”¨çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½åªçŸ¥é“ DAO æ¥å£ï¼Œåœ¨ä¸€äº›å¤æ‚åœºæ™¯ä¸‹æˆ‘ä»¬åªçŸ¥é“å¾®æœåŠ¡çš„æ¥å£ï¼Œå†…éƒ¨ç”šè‡³æä¸æ¸…æ¥šåˆ°åº•è°ƒç”¨çš„å“ªä¸ª DAO æ¥å£ã€SQL è¯­å¥ï¼Œç”šè‡³å¦‚æœæ˜¯è¿ç»´è§’è‰²å‚ä¸è®¾è®¡ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½ä¸çŸ¥é“å“ªä¸ªå¾®æœåŠ¡æ¥å£å¯¼è‡´çš„è¯»è¯·æ±‚å¯¼è‡´æ•°æ®åº“æŠ–åŠ¨ï¼Œæˆ‘ä»¬åªçŸ¥é“å…¥å£åº”ç”¨çš„æŸä¸ª uidã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åšåˆ°å¯¹ä¸šåŠ¡æ¥å£å†…çš„è¯»è¯·æ±‚è·¯ç”±è‡³åªè¯»å®ä¾‹å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;MSE æ•°æ®åº“æ²»ç†æä¾›äº†åº”ç”¨å±‚é¢å®Œæ•´çš„ callStack ä¿¡æ¯ï¼Œå¯ä»¥è®©æˆ‘ä»¬ç«™åœ¨åº”ç”¨çš„è§†è§’ä¸Šæ¸…æ™°åœ°çœ‹åˆ°å“ªäº›æ¥å£å†…éƒ¨æ‰§è¡Œäº†å“ªäº› SQLã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;398&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.6890862944162437&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjNxwskwVcTrWUSrcV19iaTiaylPaCrx2iawPoeF6qTFxZA0Q4OnuicPrGGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1576&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;MSE é€šè¿‡é“¾è·¯ä¼ é€’æŠ€æœ¯ï¼Œæ”¯æŒåœ¨å…¥å£å¾®æœåŠ¡ã€å¾®æœåŠ¡æ¥å£ã€DAO å±‚é¢æ ‡è®°å¼±è¯»è¯·æ±‚çš„æ ‡è®°ï¼Œæ”¯æŒæ ‡è®°çš„å½“å‰çº¿ç¨‹å†…çš„ SQL è°ƒç”¨ã€å½“å‰å¾®æœåŠ¡å†…çš„ SQL è°ƒç”¨ã€ç¬¦åˆæµé‡æ¡ä»¶çš„è¯·æ±‚é“¾è·¯çº§åˆ«çš„æ‰€æœ‰ SQL è°ƒç”¨ç­‰å¤šä¸ªå±‚é¢çš„å¼±è¯»æ ‡è®°ä¼ é€’ï¼Œæœ€ç»ˆä¼ é€’ç»™è¯»å†™åˆ†ç¦»ç»„ä»¶çš„è·¯ç”±å¼•æ“è¿›è¡Œ Â SQL çš„è·¯ç”±ä¾æ®çš„åˆ¤æ–­ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;204&quot; data-backw=&quot;562&quot; data-ratio=&quot;0.362555720653789&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjdypKTgjcJlQenVC4tmFrxOhfsfbFKEjPmrHIMSFS7pekIka2CdgcoA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;673&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;107115&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section hm_fix=&quot;320:270&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;03&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¼ºä¸€è‡´æ€§æ¨¡å¼ï¼šæŒ‡å®šæ¥å£ã€äº‹åŠ¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å½“æ•°æ®åº“è´Ÿè½½å¾ˆé«˜æ—¶ï¼Œä¾‹å¦‚å¯¹å¤§è¡¨æ‰§è¡Œ DDLï¼ˆå¦‚åŠ å­—æ®µï¼‰æ“ä½œæˆ–å¤§æ‰¹é‡æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œå»¶è¿Ÿä¼šéå¸¸ä¸¥é‡ï¼Œä»è€Œå¯¼è‡´æ— æ³•ä»åªè¯»å®ä¾‹ä¸­è¯»å–æœ€æ–°æ•°æ®ã€‚MSE æä¾›äº†ä¸€äº›ç­–ç•¥è§£å†³å¦‚ä¸Šé—®é¢˜ï¼ŒæŸäº›æ¥å£æˆ–è€…æŸäº›ä¸šåŠ¡å¯¹ä¸€è‡´æ€§æ¯”è¾ƒéå¸¸é«˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è§„åˆ™é…ç½®å‘Šè¯‰ MSE åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼ŒæŸäº›è¯»æ¥å£æ ‡è®°ä¸ºå¼ºè¯»è¯·æ±‚ã€‚&lt;/span&gt;&lt;span&gt;MSE å†…éƒ¨ä¼šé€šè¿‡ä¸€äº›æœºåˆ¶ä¿è¯è¯»å†™åˆ†ç¦»çš„å¼ºä¸€è‡´æ€§æ•ˆæœã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;107115&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section hm_fix=&quot;320:270&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;04&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;ç™½å±åŒ–èƒ½åŠ›ï¼šé€šè¿‡ AccessLog å®æ—¶æ„ŸçŸ¥è¯»å†™åˆ†ç¦»æƒ…å†µ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æœ‰è¯»å†™åˆ†ç¦»èƒ½åŠ›ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çŸ¥é“è¯»å†™åˆ†ç¦»çš„æ‰§è¡Œæƒ…å†µï¼Œåˆ°åº•å“ªäº›åº”ç”¨ï¼Œå“ªäº›è¯·æ±‚è¢«åˆ†ç¦»è‡³äº†åªè¯»å®ä¾‹ï¼ŸMSE ç™½å±åŒ–èƒ½åŠ›æä¾›äº†ä¸€å¥—å®Œæ•´çš„ AccessLogã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;263&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.4551422319474836&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjFTib4qHiaEcf0eJaUtmh6ryiagn6449dYOPoz8XlCbRUReWub4AuombyQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1828&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;229&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.3950749464668094&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjnTQWcf3QZa2zxAbXpn6V5JGQlgfU3ZibbY7GtgrtwPQlJYic2oVrg7Xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1868&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-role=&quot;title&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;106625&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;03&lt;/strong&gt;&lt;strong data-original-title=&quot;&quot; title=&quot;&quot; data-num=&quot;3&quot; mpa-from-tpl=&quot;t&quot;/&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;343:395&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;æ€»ç»“&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-role=&quot;list&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;Aliware&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;MSE ä»åº”ç”¨çš„è§†è§’å‡ºå‘ï¼Œç»“åˆå¾®æœåŠ¡æ²»ç†é€šç”¨çš„æŠ€æœ¯ï¼ŒMSE æ¨å‡ºçš„æ˜¯å®Œæ•´çš„æ•°æ®åº“æ²»ç†è§£å†³æ–¹æ¡ˆï¼Œä» SQL æ´å¯Ÿã€SQL æµæ§é™çº§ä¸å®¹é”™ã€è¿æ¥æ± æ²»ç†åˆ°æ•°æ®åº“ç°åº¦ã€åŠ¨æ€è¯»å†™åˆ†ç¦»ã€‚æˆ‘ä»¬å¸Œæœ›é€šè¿‡æ•°æ®åº“æ²»ç†èƒ½åŠ›å¯ä»¥å¸®åŠ©ç”¨æˆ·çš„å¾®æœåŠ¡å¯ä»¥æ›´å¥½åœ°ä½¿ç”¨æ•°æ®åº“ï¼Œé™ä½æ•°æ®åº“ä½¿ç”¨çš„æˆæœ¬ï¼Œæå‡æ•°æ®åº“è®¿é—®çš„ç¨³å®šæ€§ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;MSE çš„æ•°æ®åº“æ²»ç†èƒ½åŠ›ä¹Ÿéœ€è¦æ›´å¤šæ›´åŠ æ·±å…¥çš„å®¢æˆ·åœºæ™¯ä¸è½åœ°å®è·µï¼Œå¦‚æœæ‚¨å¯¹ MSE çš„æ•°æ®åº“æ²»ç†èƒ½åŠ›æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ï¼Œåªæœ‰ç»è¿‡å®¢æˆ·æ‰“ç£¨çš„äº§å“æ‰ä¼šæ„ˆå‘å†ä¹…å¼¥æ–°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;åœ¨å»ºè®¾æ•°æ®åº“æ²»ç†èƒ½åŠ›çš„åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿé€šè¿‡ OpenSergo åœ¨ä¸ç¤¾åŒºå…±åŒå»ºè®¾æ•°æ®åº“æ²»ç†çš„æ ‡å‡†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;294&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.509090909090909&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/qdzZBE73hWujuL1HP2q8gaF6BZzSFvHjzLGAQicC2ibX0fYEh6FM0Vtic1HvuekwTaELjF1Rwa0V4c2azwMW1TJRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1210&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;OpenSergo åœ¨è”åˆå„ä¸ªç¤¾åŒºè¿›è¡Œè¿›ä¸€æ­¥çš„åˆä½œï¼Œå¸Œæœ›é€šè¿‡ç¤¾åŒºæ¥ä¸€èµ·è®¨è®ºä¸å®šä¹‰ç»Ÿä¸€çš„æœåŠ¡æ²»ç†æ ‡å‡†ã€‚å½“å‰ç¤¾åŒºä¹Ÿåœ¨è”åˆ bilibiliã€å­—èŠ‚è·³åŠ¨ç­‰ä¼ä¸šä¸€èµ·å…±å»ºæ ‡å‡†ï¼Œä¹Ÿæ¬¢è¿æ„Ÿå…´è¶£çš„å¼€å‘è€…ã€ç¤¾åŒºä¸ä¼ä¸šä¸€èµ·åŠ å…¥åˆ° OpenSergo æœåŠ¡æ²»ç†æ ‡å‡†å…±å»ºä¸­ã€‚æ¬¢è¿å¤§å®¶åŠ å…¥ OpenSergo ç¤¾åŒºäº¤æµç¾¤ï¼ˆé’‰é’‰ç¾¤ï¼‰è¿›è¡Œè®¨è®ºï¼š34826335&lt;/span&gt;&lt;/section&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>205183ead10ba0291329d190f339001b</guid>
<title>å½»åº•ç†è§£ WireGuard çš„è·¯ç”±ç­–ç•¥</title>
<link>https://toutiao.io/k/rcso5pk</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5248929336188437&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/qFG6mghhA4aZ05icGic1SQCCULJqExAOCIZX24Y1HrutkVOZtVeBMdjmQlukTKrB9yRnIYUibPLxyJ5DEAJDdzrNQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;3736&quot;/&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;åŸæ–‡é“¾æ¥ğŸ”—ï¼š&lt;strong&gt;https://icloudnative.io/posts/linux-routing-of-wireguard/&lt;/strong&gt;&lt;br/&gt;æˆ–è€…ç‚¹å‡»å·¦ä¸‹è§’çš„Â &lt;strong&gt;é˜…è¯»åŸ&lt;/strong&gt;&lt;strong&gt;æ–‡Â &lt;/strong&gt;ç›´æ¥æŸ¥çœ‹åŸæ–‡ğŸ‘‡&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ Linux ç»ˆç«¯ä¸­è¾“å…¥ &lt;code&gt;route -n&lt;/code&gt;ï¼ˆåæ¥æ¼”å˜å‡ºäº† &lt;code&gt;ip route&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯ iproute2 æä¾›çš„å‘½ä»¤ï¼‰ï¼Œå°±å¯ä»¥çŸ¥æ™“ç³»ç»Ÿä¸­æ‰€æœ‰æ•°æ®åŒ…çš„èµ°å‘ï¼Œä½†æ˜¯ï¼Œ&lt;strong&gt;å¤§äººï¼Œæ—¶ä»£å˜äº†ï¼&lt;/strong&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/qFG6mghhA4aZ05icGic1SQCCULJqExAOCIdGOtNajfYYDAxsLsiad40qNyhfJeHtmlZ9n1Jkn25sXaODoyyuIAfibg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;225&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ æ˜¯ WireGuard ç©å®¶ï¼Œå¹¶ä¸”æ‰€æœ‰çš„æµé‡éƒ½é€šè¿‡ WireGuard è·¯ç”±å‡ºå»ï¼Œä½†ä½ å´æ— æ³•é€šè¿‡ &lt;code&gt;ip route&lt;/code&gt; å‘½ä»¤çš„è¾“å‡ºä¸­çœ‹å‡ºä»»ä½•çš„è››ä¸é©¬è¿¹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;defaultÂ viaÂ 192.168.100.254Â devÂ eth0Â protoÂ dhcpÂ srcÂ 192.168.100.63Â metricÂ 100Â &lt;br/&gt;192.168.100.0/24Â devÂ eth0Â protoÂ kernelÂ scopeÂ linkÂ srcÂ 192.168.100.63Â &lt;br/&gt;192.168.100.254Â devÂ eth0Â protoÂ dhcpÂ scopeÂ linkÂ srcÂ 192.168.100.63Â metricÂ 100&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·¯ç”±è¡¨å‘Šè¯‰æˆ‘ä»¬ï¼Œæ‰€æœ‰çš„æµé‡éƒ½æ˜¯é€šè¿‡ç‰©ç†ç½‘å¡å‡ºå»çš„ï¼Œå¹¶æ²¡æœ‰é€šè¿‡ WireGuard è™šæ‹Ÿç½‘ç»œæ¥å£ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è·¯ç”±è¡¨&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹å®ä¸Š Linux ä» 2.2 ç‰ˆæœ¬å·¦å³çš„å†…æ ¸å¼€å§‹ï¼Œä¾¿åŒ…å«äº†å¤šä¸ªè·¯ç”±è¡¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªï¼åŒæ—¶ï¼Œè¿˜æœ‰ä¸€å¥—è§„åˆ™ï¼Œ&lt;strong&gt;è¿™å¥—è§„åˆ™ä¼šå‘Šè¯‰å†…æ ¸å¦‚ä½•ä¸ºæ¯ä¸ªæ•°æ®åŒ…é€‰æ‹©æ­£ç¡®çš„è·¯ç”±è¡¨ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU1MzY4NzQ1OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/qFG6mghhA4Z1KpQSa8IH6icHMlcG2hq5AhMX1DJzRibTSdRsIFapMfnAGhdr6GF4e0PnAkPiaEk7HrDrndoWjxiciaA/0?wx_fmt=png&quot; data-nickname=&quot;äº‘åŸç”Ÿå®éªŒå®¤&quot; data-alias=&quot;cloud_native_yang&quot; data-signature=&quot;æˆ˜ç•¥ä¸Šè—è§†äº‘åŸç”Ÿï¼Œæˆ˜æœ¯ä¸Šé‡è§†äº‘åŸç”Ÿ&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ä½ æ‰§è¡Œ &lt;code&gt;ip route&lt;/code&gt; æ—¶ï¼Œä½ çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªç‰¹å®šçš„è·¯ç”±è¡¨ &lt;code&gt;main&lt;/code&gt;ï¼Œé™¤äº† main ä¹‹å¤–è¿˜æœ‰å…¶ä»–çš„è·¯ç”±è¡¨å­˜åœ¨ã€‚è·¯ç”±è¡¨ä¸€èˆ¬ç”¨æ•´æ•°æ¥æ ‡è¯†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ–‡æœ¬å¯¹å…¶å‘½åï¼Œè¿™äº›å‘½åéƒ½ä¿å­˜åœ¨æ–‡ä»¶ &lt;code&gt;/etc/iproute2/rt_tables&lt;/code&gt; ä¸­ã€‚é»˜è®¤å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â catÂ /etc/iproute2/rt_tables&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â reservedÂ values&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;br/&gt;255Â Â Â Â Â &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;254Â Â Â Â Â main&lt;br/&gt;253Â Â Â Â Â default&lt;br/&gt;0Â Â Â Â Â Â Â unspec&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#Â local&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#1Â Â Â Â Â Â inr.ruhep&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Linux ç³»ç»Ÿä¸­ï¼Œå¯ä»¥è‡ªå®šä¹‰ä» &lt;code&gt;1ï¼252&lt;/code&gt; ä¸ªè·¯ç”±è¡¨ã€‚Linux ç³»ç»Ÿé»˜è®¤ç»´æŠ¤äº† 4 ä¸ªè·¯ç”±è¡¨ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;0&lt;/strong&gt;ï¼šç³»ç»Ÿä¿ç•™è¡¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;253&lt;/strong&gt;ï¼šdefulte tableã€‚æ²¡ç‰¹åˆ«æŒ‡å®šçš„é»˜è®¤è·¯ç”±éƒ½æ”¾åœ¨è¯¥è¡¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;254&lt;/strong&gt;ï¼šmain tableã€‚æ²¡æŒ‡æ˜è·¯ç”±è¡¨çš„æ‰€æœ‰è·¯ç”±æ”¾åœ¨è¯¥è¡¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;255&lt;/strong&gt;ï¼šlocale tableã€‚ä¿å­˜æœ¬åœ°æ¥å£åœ°å€ï¼Œå¹¿æ’­åœ°å€ã€NAT åœ°å€ï¼Œç”±ç³»ç»Ÿç»´æŠ¤ï¼Œç”¨æˆ·ä¸å¾—æ›´æ”¹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„å•è¯ï¼š&lt;code&gt;inr.ruhep&lt;/code&gt;ï¼Œè¿™å¯èƒ½æ˜¯ Alexey Kuznetsov æ·»åŠ çš„ï¼Œä»–è´Ÿè´£æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰åœ¨Linuxå†…æ ¸ä¸­çš„å®ç°ï¼Œiproute2 ä¹Ÿæ˜¯ä»–åœ¨è´Ÿè´£ï¼Œè¿™ä¸ªå•è¯è¡¨ç¤ºâ€œæ ¸ç ”ç©¶/ä¿„ç½—æ–¯é«˜èƒ½ç‰©ç†ç ”ç©¶æ‰€â€ï¼Œæ˜¯ Alexey å½“æ—¶å·¥ä½œçš„åœ°æ–¹ï¼Œå¯èƒ½æŒ‡çš„æ˜¯ä»–ä»¬çš„å†…éƒ¨ç½‘ç»œã€‚å½“ç„¶ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§å¯èƒ½ï¼Œæœ‰ä¸€ä¸ªè€å¼çš„ä¿„ç½—æ–¯è®¡ç®—æœºç½‘ç»œ/ISP å«åš &lt;span&gt;RUHEP/Radio-MSU&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·¯ç”±è¡¨çš„æŸ¥çœ‹å¯æœ‰ä»¥ä¸‹äºŒç§æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â ipÂ routeÂ showÂ tableÂ table_number&lt;br/&gt;Â &lt;br/&gt;$Â ipÂ routeÂ showÂ tableÂ table_name&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;ä¸è¦æŠŠè·¯ç”±è¡¨å’Œ iptables æ··æ·†ï¼Œè·¯ç”±è¡¨å†³å®š&lt;strong&gt;å¦‚ä½•ä¼ è¾“æ•°æ®åŒ…&lt;/strong&gt;ï¼Œè€Œ iptables å†³å®š&lt;strong&gt;æ˜¯å¦ä¼ è¾“æ•°æ®åŒ…&lt;/strong&gt;ï¼Œä»–ä¿©çš„èŒè´£ä¸ä¸€æ ·ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è·¯ç”±ç­–ç•¥&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†…æ ¸æ˜¯å¦‚ä½•çŸ¥é“å“ªä¸ªæ•°æ®åŒ…åº”è¯¥ä½¿ç”¨å“ªä¸ªè·¯ç”±è¡¨çš„å‘¢ï¼Ÿç­”æ¡ˆå·²ç»åœ¨å‰æ–‡ç»™å‡ºæ¥äº†ï¼Œç³»ç»Ÿä¸­æœ‰ä¸€å¥—è§„åˆ™ä¼šå‘Šè¯‰å†…æ ¸å¦‚ä½•ä¸ºæ¯ä¸ªæ•°æ®åŒ…é€‰æ‹©æ­£ç¡®çš„è·¯ç”±è¡¨ï¼Œè¿™å¥—è§„åˆ™å°±æ˜¯&lt;strong&gt;è·¯ç”±ç­–ç•¥æ•°æ®åº“&lt;/strong&gt;ã€‚è¿™ä¸ªæ•°æ®åº“ç”± &lt;code&gt;ip rule&lt;/code&gt; å‘½ä»¤æ¥ç®¡ç†ï¼Œå¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œå°†ä¼šæ‰“å°æ‰€æœ‰çš„è·¯ç”±è§„åˆ™ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;0:Â Â Â Â Â Â fromÂ allÂ lookupÂ &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;32766:Â Â fromÂ allÂ lookupÂ main&lt;br/&gt;32767:Â Â fromÂ allÂ lookupÂ default&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·¦è¾¹çš„æ•°å­—ï¼ˆ0, 32764, ......ï¼‰è¡¨ç¤ºè§„åˆ™çš„ä¼˜å…ˆçº§ï¼š&lt;strong&gt;æ•°å€¼è¶Šå°çš„è§„åˆ™ï¼Œä¼˜å…ˆçº§è¶Šé«˜&lt;/strong&gt;ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°å€¼è¾ƒå°çš„è§„åˆ™ä¼šè¢«ä¼˜å…ˆå¤„ç†ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;è·¯ç”±è§„åˆ™çš„æ•°å€¼èŒƒå›´ï¼š1 ~Â &lt;span&gt;&lt;span role=&quot;presentation&quot; data-formula=&quot;2^{23}-1&quot; data-formula-type=&quot;inline-equation&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -833.9 2979.6 915.9&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;msup&quot;&gt;&lt;g data-mml-node=&quot;mn&quot;&gt;&lt;path data-c=&quot;32&quot; d=&quot;M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; transform=&quot;translate(500, 363) scale(0.707)&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mn&quot;&gt;&lt;path data-c=&quot;32&quot; d=&quot;M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z&quot;/&gt;&lt;path data-c=&quot;33&quot; d=&quot;M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z&quot; transform=&quot;translate(500, 0)&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(1479.3, 0)&quot;&gt;&lt;path data-c=&quot;2212&quot; d=&quot;M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mn&quot; transform=&quot;translate(2479.6, 0)&quot;&gt;&lt;path data-c=&quot;31&quot; d=&quot;M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†ä¼˜å…ˆçº§ä¹‹å¤–ï¼Œæ¯ä¸ªè§„åˆ™è¿˜æœ‰ä¸€ä¸ª&lt;strong&gt;é€‰æ‹©å™¨&lt;/strong&gt;ï¼ˆselectorï¼‰å’Œå¯¹åº”çš„&lt;strong&gt;æ‰§è¡Œç­–ç•¥&lt;/strong&gt;ï¼ˆactionï¼‰ã€‚é€‰æ‹©å™¨ä¼šåˆ¤æ–­è¯¥è§„åˆ™æ˜¯å¦é€‚ç”¨äºå½“å‰çš„æ•°æ®åŒ…ï¼Œå¦‚æœé€‚ç”¨ï¼Œå°±æ‰§è¡Œå¯¹åº”çš„ç­–ç•¥ã€‚æœ€å¸¸è§çš„æ‰§è¡Œç­–ç•¥å°±æ˜¯æŸ¥è¯¢ä¸€ä¸ªç‰¹å®šçš„è·¯ç”±è¡¨ï¼ˆå‚è€ƒä¸Šä¸€èŠ‚å†…å®¹ï¼‰ã€‚å¦‚æœè¯¥è·¯ç”±è¡¨åŒ…å«äº†å½“å‰æ•°æ®åŒ…çš„è·¯ç”±ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œè¯¥è·¯ç”±ï¼›å¦åˆ™å°±ä¼šè·³è¿‡å½“å‰è·¯ç”±è¡¨ï¼Œç»§ç»­åŒ¹é…ä¸‹ä¸€ä¸ªè·¯ç”±è§„åˆ™ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œå†…æ ¸ä¼šä¸ºè·¯ç”±ç­–ç•¥æ•°æ®åº“é…ç½®ä¸‰æ¡ç¼ºçœçš„è§„åˆ™ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;0&lt;/strong&gt;ï¼šåŒ¹é…ä»»ä½•æ¡ä»¶ï¼ŒæŸ¥è¯¢è·¯ç”±è¡¨ &lt;strong&gt;local&lt;/strong&gt; (ID 255)ï¼Œè¯¥è¡¨ local æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è·¯ç”±è¡¨ï¼ŒåŒ…å«å¯¹äºæœ¬åœ°å’Œå¹¿æ’­åœ°å€çš„ä¼˜å…ˆçº§æ§åˆ¶è·¯ç”±ã€‚rule 0 éå¸¸ç‰¹æ®Šï¼Œä¸èƒ½è¢«åˆ é™¤æˆ–è€…è¦†ç›–ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;32766&lt;/strong&gt;ï¼šåŒ¹é…ä»»ä½•æ¡ä»¶ï¼ŒæŸ¥è¯¢è·¯ç”±è¡¨ &lt;strong&gt;main&lt;/strong&gt; (ID 254)ï¼Œè¯¥è¡¨æ˜¯ä¸€ä¸ªå¸¸è§„çš„è¡¨ï¼ŒåŒ…å«æ‰€æœ‰çš„æ— ç­–ç•¥è·¯ç”±ã€‚ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ é™¤æˆ–è€…ä½¿ç”¨å¦å¤–çš„è§„åˆ™è¦†ç›–è¿™æ¡è§„åˆ™ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;32767&lt;/strong&gt;ï¼šåŒ¹é…ä»»ä½•æ¡ä»¶ï¼ŒæŸ¥è¯¢è·¯ç”±è¡¨ &lt;strong&gt;default&lt;/strong&gt; (ID 253)ï¼Œè¯¥è¡¨æ˜¯ä¸€ä¸ªç©ºè¡¨ï¼Œå®ƒæ˜¯åç»­å¤„ç†ä¿ç•™ã€‚å¯¹äºå‰é¢çš„ç­–ç•¥æ²¡æœ‰åŒ¹é…åˆ°çš„æ•°æ®åŒ…ï¼Œç³»ç»Ÿä½¿ç”¨è¿™ä¸ªç­–ç•¥è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªè§„åˆ™ä¹Ÿå¯ä»¥åˆ é™¤ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨é»˜è®¤æƒ…å†µä¸‹è¿›è¡Œè·¯ç”±æ—¶ï¼Œé¦–å…ˆä¼šæ ¹æ®è§„åˆ™ &lt;strong&gt;0&lt;/strong&gt; åœ¨æœ¬åœ°è·¯ç”±è¡¨é‡Œå¯»æ‰¾è·¯ç”±ï¼Œå¦‚æœç›®çš„åœ°å€æ˜¯æœ¬ç½‘ç»œï¼Œæˆ–æ˜¯å¹¿æ’­åœ°å€çš„è¯ï¼Œåœ¨è¿™é‡Œå°±å¯ä»¥æ‰¾åˆ°åˆé€‚çš„è·¯ç”±ï¼›å¦‚æœè·¯ç”±å¤±è´¥ï¼Œå°±ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªä¸ç©ºçš„è§„åˆ™ï¼Œåœ¨è¿™é‡Œåªæœ‰ &lt;strong&gt;32766&lt;/strong&gt; è§„åˆ™ï¼Œåœ¨è¿™é‡Œå°†ä¼šåœ¨ä¸»è·¯ç”±è¡¨é‡Œå¯»æ‰¾è·¯ç”±ï¼›å¦‚æœå¤±è´¥ï¼Œå°±ä¼šåŒ¹é… &lt;strong&gt;32767&lt;/strong&gt; è§„åˆ™ï¼Œå³å¯»æ‰¾é»˜è®¤è·¯ç”±è¡¨ã€‚å¦‚æœå¤±è´¥ï¼Œè·¯ç”±å°†å¤±è´¥ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œ&lt;strong&gt;ç­–ç•¥æ€§è·¯ç”±æ˜¯å¾€å‰å…¼å®¹çš„&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;WireGuard å…¨å±€è·¯ç”±ç­–ç•¥&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨å›åˆ° WireGuardï¼Œå¾ˆå¤š WireGuard ç”¨æˆ·ä¼šé€‰æ‹©å°†æœ¬æœºçš„æ‰€æœ‰æµé‡é€šè¿‡ WireGuard å¯¹ç«¯è·¯ç”±ï¼ŒåŸå› å˜›å¤§å®¶éƒ½æ‡‚å¾—ğŸ˜ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1226415094339623&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/qFG6mghhA4aZ05icGic1SQCCULJqExAOCIicDAQtGNa8hnaibApDCVwomhfK6qUXbmlFQ6xezE2vY9Kn3ZFSicUBbwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;212&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é…ç½®å˜›ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€å°† &lt;code&gt;0.0.0.0/0&lt;/code&gt; æ·»åŠ åˆ° &lt;code&gt;AllowedIPs&lt;/code&gt; é‡Œå³å¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;# /etc/wireguard/wg0.conf&lt;br/&gt;&lt;br/&gt;[Interface]&lt;br/&gt;PrivateKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxx &lt;br/&gt;Address = 10.0.0.2/32&lt;br/&gt;# PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE&lt;br/&gt;# PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE&lt;br/&gt;# ListenPort = 51820&lt;br/&gt;&lt;br/&gt;[Peer]&lt;br/&gt;PublicKey = xxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;br/&gt;Endpoint = 192.168.100.251:51820&lt;br/&gt;AllowedIPs = 0.0.0.0/0&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç†è®ºä¸Šè¿™æ ·å°±å¯ä»¥è®©æ‰€æœ‰çš„æµé‡éƒ½é€šè¿‡å¯¹ç«¯è·¯ç”±äº†ï¼Œä½†æ˜¯å¦‚æœä½ ç”¨çš„ wg-quick ç‰ˆæœ¬æ¯”è¾ƒæ—§ï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼ˆ&lt;code&gt;wg-quick up wg0&lt;/code&gt;ï¼‰ä¹‹åï¼Œä½ ä¼šå‘ç°äº‹æƒ…å¹¶ä¸æ˜¯ä½ æƒ³è±¡çš„é‚£æ ·ï¼Œç”šè‡³å¯èƒ½è¿ WireGuard å¯¹ç«¯éƒ½è¿ä¸ä¸Šäº†ã€‚ä¸»è¦è¿˜æ˜¯å› ä¸º WireGuard è‡ªèº«çš„æµé‡ä¹Ÿé€šè¿‡è™šæ‹Ÿç½‘ç»œæ¥å£è¿›è¡Œè·¯ç”±äº†ï¼Œè¿™è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–°ç‰ˆæœ¬çš„ &lt;code&gt;wg-quick&lt;/code&gt; é€šè¿‡è·¯ç”±ç­–ç•¥å·§å¦™åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒå¦™åœ¨ä½•å¤„ï¼&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9198813056379822&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/qFG6mghhA4aZ05icGic1SQCCULJqExAOCIibZS5ibYibbfFbM1z8RoZCNccOtJkCqzWTUvIjxj6UKqtIa95nXibhsHdg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;674&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆï¼Œä½¿ç”¨ wg-quick å¯åŠ¨ &lt;code&gt;wg0&lt;/code&gt; ç½‘å¡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt;Â wg-quickÂ upÂ wg0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ linkÂ addÂ wg0Â &lt;span&gt;type&lt;/span&gt;Â wireguard&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â wgÂ setconfÂ wg0Â /dev/fd/63&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ -4Â addressÂ addÂ 10.0.0.2/32Â devÂ wg0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ linkÂ &lt;span&gt;set&lt;/span&gt;Â mtuÂ 1420Â upÂ devÂ wg0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â wgÂ &lt;span&gt;set&lt;/span&gt;Â wg0Â fwmarkÂ 51820&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ -4Â routeÂ addÂ 0.0.0.0/0Â devÂ wg0Â tableÂ 51820&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ -4Â ruleÂ addÂ notÂ fwmarkÂ 51820Â tableÂ 51820&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â ipÂ -4Â ruleÂ addÂ tableÂ mainÂ suppress_prefixlengthÂ 0&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â sysctlÂ -qÂ net.ipv4.conf.all.src_valid_mark=1&lt;/span&gt;&lt;br/&gt;&lt;span&gt;[#&lt;/span&gt;&lt;span&gt;]Â iptables-restoreÂ -n&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å˜»å˜»ï¼Œçœ‹åˆ°äº†ç†Ÿæ‚‰çš„è·¯ç”±ç­–ç•¥ï¼Œè¿™å°±æ‰“å°æ‰€æœ‰çš„è·¯ç”±è§„åˆ™çœ‹çœ‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â ipÂ rule&lt;br/&gt;0:Â Â Â Â Â Â fromÂ allÂ lookupÂ &lt;span&gt;local&lt;/span&gt;&lt;br/&gt;32764:Â Â fromÂ allÂ lookupÂ mainÂ suppress_prefixlengthÂ 0&lt;br/&gt;32765:Â Â notÂ fromÂ allÂ fwmarkÂ 0xca6cÂ lookupÂ 51820&lt;br/&gt;32766:Â Â fromÂ allÂ lookupÂ main&lt;br/&gt;32767:Â Â fromÂ allÂ lookupÂ default&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½å®¶ä¼™ï¼Œå¤šäº†ä¸¤æ¡è§„åˆ™ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;32764:Â Â fromÂ allÂ lookupÂ mainÂ suppress_prefixlengthÂ 0&lt;br/&gt;32765:Â Â notÂ fromÂ allÂ fwmarkÂ 0xca6cÂ lookupÂ 51820&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥æ‰’æ‰’ä»–ä»¬çš„åº•è£¤ï¼Œæ­å¼€ç¥ç§˜é¢çº±ã€‚å…ˆæ¥çµé­‚ä¸‰é—®ï¼š&lt;code&gt;suppress_prefixlength&lt;/code&gt; æ˜¯å•¥ï¼Ÿ&lt;code&gt;0xca6c&lt;/code&gt; åˆæ˜¯å•¥ï¼Ÿæ•°æ®åŒ…æ€ä¹ˆå¯èƒ½ &lt;code&gt;not from all&lt;/code&gt;ï¼Ÿ&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;Rule 32764&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆä»è§„åˆ™ &lt;code&gt;32764&lt;/code&gt; å¼€å§‹åˆ†æï¼Œå› ä¸ºå®ƒçš„æ•°å€¼æ¯”è¾ƒå°ï¼Œä¼šè¢«ä¼˜å…ˆåŒ¹é…ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;32764:Â Â fromÂ allÂ lookupÂ mainÂ suppress_prefixlengthÂ 0&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ¡è§„åˆ™æ²¡æœ‰ä½¿ç”¨é€‰æ‹©å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå†…æ ¸ä¼šä¸ºæ¯ä¸€ä¸ªæ•°æ®åŒ…å»æŸ¥è¯¢ &lt;code&gt;main&lt;/code&gt; è·¯ç”±è¡¨ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ main è·¯ç”±è¡¨å†…å®¹æ˜¯å•¥ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â ipÂ route&lt;br/&gt;defaultÂ viaÂ 192.168.100.254Â devÂ eth0Â protoÂ dhcpÂ srcÂ 192.168.100.63Â metricÂ 100Â &lt;br/&gt;192.168.100.0/24Â devÂ eth0Â protoÂ kernelÂ scopeÂ linkÂ srcÂ 192.168.100.63Â &lt;br/&gt;192.168.100.254Â devÂ eth0Â protoÂ dhcpÂ scopeÂ linkÂ srcÂ 192.168.100.63Â metricÂ 100&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœçœŸçš„æ˜¯è¿™æ ·ï¼Œé‚£æ‰€æœ‰çš„æ•°æ®åŒ…éƒ½ä¼šé€šè¿‡ main è·¯ç”±è¡¨è·¯ç”±ï¼Œæ°¸è¿œä¸ä¼šåˆ°è¾¾ wg0ã€‚ä½ åˆ«å¿˜äº†ï¼Œè¿™æ¡è§„åˆ™æœ«å°¾è¿˜æœ‰ä¸€ä¸ªå‚æ•°ï¼š&lt;code&gt;suppress_prefixlength 0&lt;/code&gt;ï¼Œè¿™æ˜¯å•¥æ„æ€å‘¢ï¼Ÿå‚è€ƒ Â &lt;code&gt;ip-rule(8)&lt;/code&gt; man pageï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;suppress_prefixlengthÂ NUMBER&lt;br/&gt;Â Â Â Â rejectÂ routingÂ decisionsÂ thatÂ haveÂ aÂ prefixÂ lengthÂ ofÂ NUMBERÂ orÂ less.&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œçš„ &lt;code&gt;prefix&lt;/code&gt; ä¹Ÿå°±æ˜¯&lt;strong&gt;å‰ç¼€&lt;/strong&gt;ï¼Œè¡¨ç¤ºè·¯ç”±è¡¨ä¸­åŒ¹é…çš„åœ°å€èŒƒå›´çš„&lt;strong&gt;æ©ç &lt;/strong&gt;ã€‚å› æ­¤ï¼Œå¦‚æœè·¯ç”±è¡¨ä¸­åŒ…å« &lt;code&gt;10.2.3.4&lt;/code&gt; çš„è·¯ç”±ï¼Œå‰ç¼€é•¿åº¦å°±æ˜¯ 32ï¼›å¦‚æœæ˜¯ &lt;code&gt;10.0.0.0/8&lt;/code&gt;ï¼Œå‰ç¼€é•¿åº¦å°±æ˜¯ 8ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;suppress&lt;/code&gt; çš„æ„æ€æ˜¯æŠ‘åˆ¶ï¼Œæ‰€ä»¥ &lt;code&gt;suppress_prefixlength 0&lt;/code&gt; çš„æ„æ€æ˜¯ï¼š&lt;strong&gt;æ‹’ç»å‰ç¼€é•¿åº¦å°äºæˆ–ç­‰äº 0 çš„è·¯ç”±ç­–ç•¥&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆä»€ä¹ˆæ ·çš„åœ°å€èŒƒå›´å‰ç¼€é•¿åº¦æ‰ä¼šå°äºç­‰äº 0ï¼Ÿåªæœ‰ä¸€ç§å¯èƒ½ï¼š&lt;code&gt;0.0.0.0/0&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä»¥æˆ‘çš„æœºå™¨ä¸ºä¾‹ï¼Œé»˜è®¤è·¯ç”±å°±æ˜¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;defaultÂ viaÂ 192.168.100.254Â devÂ eth0Â protoÂ dhcpÂ srcÂ 192.168.100.63Â metricÂ 100&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ•°æ®åŒ…åŒ¹é…åˆ°äº†é»˜è®¤è·¯ç”±ï¼Œå°±æ‹’ç»è½¬å‘ï¼›å¦‚æœæ˜¯å…¶ä»–è·¯ç”±ï¼Œå°±æ­£å¸¸è½¬å‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ¡è§„åˆ™çš„ç›®çš„å¾ˆç®€å•ï¼Œ&lt;strong&gt;ç®¡ç†å‘˜æ‰‹åŠ¨æ·»åŠ åˆ° main è·¯ç”±è¡¨ä¸­çš„è·¯ç”±éƒ½ä¼šæ­£å¸¸è½¬å‘ï¼Œè€Œé»˜è®¤è·¯ç”±ä¼šè¢«å¿½ç•¥ï¼Œç»§ç»­åŒ¹é…ä¸‹ä¸€æ¡è§„åˆ™&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;Rule 32765&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹ä¸€æ¡è§„åˆ™å°±æ˜¯ &lt;code&gt;32765&lt;/code&gt;ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;32765:Â Â notÂ fromÂ allÂ fwmarkÂ 0xca6cÂ lookupÂ 51820&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œçš„ &lt;code&gt;not from all&lt;/code&gt; æ˜¯ ip rule æ ¼å¼åŒ–çš„é—®é¢˜ï¼Œæœ‰ç‚¹åäººç±»ï¼Œäººç±»æ›´å®¹æ˜“ç†è§£çš„é¡ºåºåº”è¯¥æ˜¯è¿™æ ·ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;32765:Â Â fromÂ allÂ notÂ fwmarkÂ 0xca6cÂ lookupÂ 51820&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»å‰é¢ &lt;code&gt;wg-quick up wg0&lt;/code&gt; çš„è¾“å‡ºæ¥çœ‹ï¼Œè§„åˆ™çš„é€‰æ‹©å™¨æ˜¯æ²¡æœ‰æ·»åŠ  from å‰ç¼€ï¼ˆåœ°å€æˆ–è€…åœ°å€èŒƒå›´ï¼‰çš„ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ipÂ -4Â ruleÂ addÂ notÂ fwmarkÂ 51820Â tableÂ 51820&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè§„åˆ™é€‰æ‹©å™¨æ²¡æœ‰ from å‰ç¼€ï¼Œ&lt;code&gt;ip rule&lt;/code&gt; å°±ä¼šæ‰“å°å‡º &lt;code&gt;from all&lt;/code&gt;ï¼Œæ‰€ä»¥è¿™æ¡è§„åˆ™æ‰ä¼šæ˜¯è¿™ä¸ªæ ·å­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;51820 æ˜¯ä¸€ä¸ªè·¯ç”±è¡¨ï¼Œä¹Ÿæ˜¯ç”± wg-quick åˆ›å»ºçš„ï¼ŒåªåŒ…å«ä¸€æ¡è·¯ç”±ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;$Â ipÂ routeÂ showÂ tableÂ 51820&lt;br/&gt;defaultÂ devÂ wg0Â scopeÂ link&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥è¿™æ¡è§„åˆ™çš„æ•ˆæœæ˜¯ï¼š&lt;strong&gt;åŒ¹é…åˆ°è¯¥è§„åˆ™çš„æ‰€æœ‰æ•°æ®åŒ…éƒ½é€šè¿‡ WireGuard å¯¹ç«¯è¿›è¡Œè·¯ç”±&lt;/strong&gt;ï¼Œé™¤äº† &lt;code&gt;not fwmark 0xca6c&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;0xca6c åªæ˜¯ä¸€ä¸ªé˜²ç«å¢™æ ‡è®°ï¼Œwg-quick ä¼šè®© wg æ ‡è®°å®ƒå‘å‡ºçš„æ‰€æœ‰æ•°æ®åŒ…ï¼ˆ&lt;strong&gt;wg set wg0 fwmark 51820&lt;/strong&gt;ï¼‰ï¼Œè¿™äº›æ•°æ®åŒ…å·²ç»å°è£…äº†å…¶ä»–æ•°æ®åŒ…ï¼Œå¦‚æœè¿™äº›æ•°æ®åŒ…ä¹Ÿé€šè¿‡ WireGuard è¿›è¡Œè·¯ç”±ï¼Œå°±ä¼šå½¢æˆä¸€ä¸ªæ— é™è·¯ç”±ç¯è·¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ &lt;code&gt;not from all fwmark 0xca6c lookup 51820&lt;/code&gt; æ„æ€æ˜¯è¯´ï¼Œæ»¡è¶³æ¡ä»¶ &lt;code&gt;from all fwmark 0xca6c&lt;/code&gt;ï¼ˆWireGuard å‘å‡ºçš„éƒ½å¸¦ fwmark 0xca6cï¼‰è¯·å¿½ç•¥æœ¬æ¡è§„åˆ™ï¼Œç»§ç»­å¾€ä¸‹èµ°ã€‚å¦åˆ™ï¼Œè¯·ä½¿ç”¨ 51820 è·¯ç”±è¡¨ï¼Œé€šè¿‡ wg0 éš§é“å‡ºå»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äº wg0 æ¥å£å‘åŒ…è‡ªå¸¦çš„ 0xca6cï¼Œç»§ç»­èµ°ä¸‹ä¸€æ¡è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…é»˜è®¤çš„ main è·¯ç”±è¡¨ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;32766:Â Â fromÂ allÂ lookupÂ main&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ—¶å·²ç»æ²¡æœ‰æŠ‘åˆ¶å™¨äº†ï¼Œæ‰€æœ‰çš„æ•°æ®åŒ…éƒ½å¯ä»¥è‡ªç”±ä½¿ç”¨ main è·¯ç”±è¡¨ï¼Œå› æ­¤ WireGuard å¯¹ç«¯çš„ Endpoint åœ°å€ä¼šé€šè¿‡ eth0 æ¥å£å‘é€å‡ºå»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®Œç¾ï¼&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;wg-quick åˆ›å»ºçš„è·¯ç”±è¡¨å’Œ fwmark ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªæ•°å­—ï¼š51820ã€‚0xca6c æ˜¯ 51820 çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;wg-quick è¿™ç§åšæ³•çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸ä¼šæ‰°ä¹±ä½ çš„ä¸»è·¯ç”±è¡¨ï¼Œè€Œæ˜¯é€šè¿‡è§„åˆ™åŒ¹é…æ–°åˆ›å»ºçš„è·¯ç”±è¡¨ã€‚æ–­å¼€è¿æ¥æ—¶åªéœ€åˆ é™¤è¿™ä¸¤æ¡è·¯ç”±è§„åˆ™ï¼Œé»˜è®¤è·¯ç”±å°±ä¼šè¢«é‡æ–°æ¿€æ´»ã€‚&lt;strong&gt;ä½ å­¦åºŸäº†å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å¼•ç”¨é“¾æ¥&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;RUHEP/Radio-MSU: &lt;em&gt;http://www.radio-msu.net/about.htm&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7853433e2012c29131f43e62ec9e14df</guid>
<title>ping å‘½ä»¤è¿˜èƒ½è¿™ä¹ˆç©ï¼Ÿ</title>
<link>https://toutiao.io/k/j0k9n5i</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;&lt;span&gt;ç‚¹å‡»ä¸‹æ–¹â€œ&lt;/span&gt;&lt;span&gt;ITç‰§åœº&lt;/span&gt;&lt;span&gt;â€ï¼Œé€‰æ‹©â€œè®¾ä¸ºæ˜Ÿæ ‡â€&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile data-index=&quot;0&quot; data-id=&quot;MzI4ODQ3NjE2OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/C93dCHmGrWzo3r2IwZzjK44WxQwhDAlhygicTbLH8Xv5wYClRpZJvoMxJIH9oPnRcGuKneSYicF3SOvJOaB34OibQ/0?wx_fmt=png&quot; data-nickname=&quot;ç¨‹åºå‘˜å¤§ç›®&quot; data-alias=&quot;itmuch_com&quot; data-signature=&quot;BAT æŠ€æœ¯ä¸“å®¶åˆ†äº«å¼€å‘ã€æ¶æ„ã€è¿ç»´ç›¸å…³å¹²è´§ï¼&quot; data-origin_num=&quot;159&quot; data-is_biz_ban=&quot;0&quot; data-isban=&quot;0&quot; class=&quot;js_wx_tap_highlight&quot; data-from=&quot;2&quot; has-insert-preloading=&quot;1&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;138861685132836864&quot; data-gallerysupplier=&quot;5&quot; data-ratio=&quot;0.6666666666666666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/C93dCHmGrWxicPiam0hFIldlAq5aJliaV2OMnNJpcZsxA5JhicIS1picorszesol6cJ4ovDZkiaZeicpy2KWRg6vicpMHw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1023&quot;/&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;p&gt;&lt;span&gt;è¯´å®è¯ï¼Œæˆ‘ä»¥ä¸ºpingå°±ä»…ä»…ç”¨æ¥åˆ¤æ–­ç½‘ç»œé€šä¸é€šï¼Œå“ˆå“ˆå“ˆå“ˆ~&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä½œè€…ï¼šPheenetè²å°¼ç‰¹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://www.toutiao.com/a6783191796659782148&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ‰æœ‹å‹åæ˜ ï¼Œèƒ½ä¸èƒ½è®²ä¸‹ ping å‘½ä»¤çš„ä½¿ç”¨ï¼Œå…¶å®å¯¹äºå‘½ä»¤çš„ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡ä¸€äº›ï¼Œä½†å¯¹ ping å‘½ä»¤æ²¡æœ‰è¿‡å¤šè®²è§£ï¼Œä¸€èˆ¬æˆ‘ä»¬ç”¨çš„éƒ½æ˜¯å®ƒçš„åŸºæœ¬åŠŸèƒ½ï¼Œä»Šå¤©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹ä¸‹ ping å‘½ä»¤è¯¦ç»†ä½¿ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ä¸€ã€ping åŸºæœ¬ä½¿ç”¨è¯¦è§£&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;åœ¨ç½‘ç»œä¸­ ping æ˜¯ä¸€ä¸ªååˆ†å¼ºå¤§çš„ TCP/IP å·¥å…·ã€‚å®ƒçš„ä½œç”¨ä¸»è¦ä¸ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1ã€ç”¨æ¥æ£€æµ‹ç½‘ç»œçš„è¿é€šæƒ…å†µå’Œåˆ†æç½‘ç»œé€Ÿåº¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ã€æ ¹æ®åŸŸåå¾—åˆ°æœåŠ¡å™¨ IP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ã€æ ¹æ® ping è¿”å›çš„ TTL å€¼æ¥åˆ¤æ–­å¯¹æ–¹æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠæ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨æ•°é‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬é€šå¸¸ä¼šç”¨å®ƒæ¥ç›´æ¥ ping ip åœ°å€ï¼Œæ¥æµ‹è¯•ç½‘ç»œçš„è¿é€šæƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.43243243243243246&quot; data-type=&quot;jpeg&quot; data-w=&quot;592&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41GQibqQicJyEibDibRTuGqvO8w8mzicDfNjOP8kljqlM2jU1ib66HHgxsc7Bw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç±»å¦‚è¿™ç§ï¼Œç›´æ¥ ping ip åœ°å€æˆ–ç½‘å…³ï¼Œping é€šä¼šæ˜¾ç¤ºå‡ºä»¥ä¸Šæ•°æ®ï¼Œæœ‰æœ‹å‹å¯èƒ½ä¼šé—®ï¼Œbytes=32ï¼›time&amp;lt;1msï¼›TTL=128 è¿™äº›æ˜¯ä»€ä¹ˆæ„æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;bytes å€¼ï¼š&lt;/strong&gt;æ•°æ®åŒ…å¤§å°ï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;time å€¼ï¼š&lt;/strong&gt;å“åº”æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´è¶Šå°ï¼Œè¯´æ˜ä½ è¿æ¥è¿™ä¸ªåœ°å€é€Ÿåº¦è¶Šå¿«ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;TTL å€¼ï¼š&lt;/strong&gt;Time To Live, è¡¨ç¤º DNS è®°å½•åœ¨ DNS æœåŠ¡å™¨ä¸Šå­˜åœ¨çš„æ—¶é—´ï¼Œå®ƒæ˜¯ IP åè®®åŒ…çš„ä¸€ä¸ªå€¼ï¼Œå‘Šè¯‰è·¯ç”±å™¨è¯¥æ•°æ®åŒ…ä½•æ—¶éœ€è¦è¢«ä¸¢å¼ƒã€‚å¯ä»¥é€šè¿‡ Ping è¿”å›çš„ TTL å€¼å¤§å°ï¼Œç²—ç•¥åœ°åˆ¤æ–­ç›®æ ‡ç³»ç»Ÿç±»å‹æ˜¯ Windows ç³»åˆ—è¿˜æ˜¯ UNIX/Linux ç³»åˆ—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinux ç³»ç»Ÿçš„ TTL å€¼ä¸º 64 æˆ– 255ï¼ŒWindowsNT/2000/XP ç³»ç»Ÿçš„ TTL å€¼ä¸º 128ï¼ŒWindows98 ç³»ç»Ÿçš„ TTL å€¼ä¸º 32ï¼ŒUNIX ä¸»æœºçš„ TTL å€¼ä¸º 255ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ä¸€èˆ¬ TTL å€¼ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;100~130ms ä¹‹é—´ï¼ŒWindows ç³»ç»Ÿ ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;240~255ms ä¹‹é—´ï¼ŒUNIX/Linux ç³»ç»Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç„¶ï¼Œæˆ‘ä»¬ä»Šå¤©ä¸»è¦äº†è§£å¹¶ä¸æ˜¯è¿™äº›ï¼Œè€Œæ˜¯ ping çš„å…¶å®ƒå‚è€ƒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ping å‘½ä»¤é™¤äº†ç›´æ¥ ping ç½‘ç»œçš„ ip åœ°å€ï¼ŒéªŒè¯ç½‘ç»œç•…é€šå’Œé€Ÿåº¦ä¹‹å¤–ï¼Œå®ƒè¿˜æœ‰è¿™äº›ç”¨æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.99375&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq415Ir8rS0kz8Zmrhsa9YKpo1eEaE56h6cAUZZZ84gWJWKLMmatgJksfg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;äºŒã€ping -t çš„ä½¿ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ä¸é—´æ–­åœ° Ping æŒ‡å®šè®¡ç®—æœºï¼Œç›´åˆ°ç®¡ç†å‘˜ä¸­æ–­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7328125&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41JlbCcskia5sSrGiben3f7dAOyibjU9HRcURQQkm0ckG4hiaFlZKKX4dYdg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™å°±è¯´æ˜ç”µè„‘è¿æ¥è·¯ç”±å™¨æ˜¯é€šçš„ï¼Œç½‘ç»œæ•ˆæœå¾ˆå¥½ã€‚ä¸‹é¢æŒ‰æŒ‰ä½é”®ç›˜çš„ Ctrl+c ç»ˆæ­¢å®ƒç»§ç»­ ping ä¸‹å»ï¼Œå°±ä¼šåœæ­¢äº†ï¼Œä¼šæ€»ç»“å‡ºè¿è¡Œçš„æ•°æ®åŒ…æœ‰å¤šå°‘ï¼Œé€šæ–­çš„æœ‰å¤šå°‘äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ä¸‰ã€ping -a çš„ä½¿ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ping-a è§£æè®¡ç®—æœºåä¸ NetBios åã€‚å°±æ˜¯å¯ä»¥é€šè¿‡ ping å®ƒçš„ ip åœ°å€ï¼Œå¯ä»¥è§£æå‡ºä¸»æœºåã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3075980392156863&quot; data-type=&quot;jpeg&quot; data-w=&quot;816&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41o515kclyQA0qPcJq47XROiasdfGdjBfUADQkrqwq5KNLGBAUbPs4qXQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;å››ã€ping -n çš„ä½¿ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éƒ½åªå‘é€å››ä¸ªæ•°æ®åŒ…ï¼Œé€šè¿‡è¿™ä¸ªå‘½ä»¤å¯ä»¥è‡ªå·±å®šä¹‰å‘é€çš„ä¸ªæ•°ï¼Œå¯¹è¡¡é‡ç½‘ç»œé€Ÿåº¦å¾ˆæœ‰å¸®åŠ©ï¼Œæ¯”å¦‚æˆ‘æƒ³æµ‹è¯•å‘é€ 10 ä¸ªæ•°æ®åŒ…çš„è¿”å›çš„å¹³å‡æ—¶é—´ä¸ºå¤šå°‘ï¼Œæœ€å¿«æ—¶é—´ä¸ºå¤šå°‘ï¼Œæœ€æ…¢æ—¶é—´ä¸ºå¤šå°‘å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹è·çŸ¥ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5234375&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41Sd8hvpnuR1YE4nNQN80hic1aHGUcf3neiaT2UiaU5sAcgqrMQ20b2FRjg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»ä»¥ä¸Šæˆ‘å°±å¯ä»¥çŸ¥é“åœ¨ç»™ 47.93.187.142 å‘é€ 10 ä¸ªæ•°æ®åŒ…çš„è¿‡ç¨‹å½“ä¸­ï¼Œè¿”å›äº† 10 ä¸ªï¼Œæ²¡æœ‰ä¸¢å¤±ï¼Œè¿™ 10 ä¸ªæ•°æ®åŒ…å½“ä¸­è¿”å›é€Ÿåº¦æœ€å¿«ä¸º 32msï¼Œæœ€æ…¢ä¸º 55msï¼Œå¹³å‡é€Ÿåº¦ä¸º 37msã€‚è¯´æ˜æˆ‘çš„ç½‘ç»œè‰¯å¥½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœå¯¹äºä¸€äº›ä¸å¥½çš„ç½‘ç»œï¼Œæ¯”å¦‚ç›‘æ§ç³»ç»Ÿä¸­éå¸¸å¡é¡¿ï¼Œè¿™æ ·æµ‹è¯•ï¼Œè¿”å›çš„ç»“æœå¯èƒ½ä¼šæ˜¾ç¤ºå‡ºä¸¢å¤±å‡ºä¸€éƒ¨åˆ†ï¼Œå¦‚æœä¸¢å¤±çš„æ¯”è¾ƒå¤šçš„è¯ï¼Œé‚£ä¹ˆå°±è¯´æ˜ç½‘ç»œä¸å¥½ï¼Œå¯ä»¥å¾ˆç›´è§‚çš„åˆ¤æ–­å‡ºç½‘ç»œçš„æƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;äº”ã€ping -l size çš„ä½¿ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;-l sizeï¼šå‘é€ size æŒ‡å®šå¤§å°çš„åˆ°ç›®æ ‡ä¸»æœºçš„æ•°æ®åŒ…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ Windows çš„ ping å‘é€çš„æ•°æ®åŒ…å¤§å°ä¸º 32bytï¼Œæœ€å¤§èƒ½å‘é€ 65500bytã€‚å½“ä¸€æ¬¡å‘é€çš„æ•°æ®åŒ…å¤§äºæˆ–ç­‰äº 65500byt æ—¶ï¼Œå°†å¯èƒ½å¯¼è‡´æ¥æ”¶æ–¹è®¡ç®—æœºå®•æœºã€‚æ‰€ä»¥å¾®è½¯é™åˆ¶äº†è¿™ä¸€æ•°å€¼ï¼›è¿™ä¸ªå‚æ•°é…åˆå…¶å®ƒå‚æ•°ä»¥åå±å®³éå¸¸å¼ºå¤§ï¼Œæ¯”å¦‚æ”»å‡»è€…å¯ä»¥ç»“åˆ - t å‚æ•°å®æ–½ DOS æ”»å‡»ã€‚ï¼ˆæ‰€ä»¥å®ƒå…·æœ‰å±é™©æ€§ï¼Œä¸è¦è½»æ˜“å‘åˆ«äººè®¡ç®—æœºä½¿ç”¨ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¾‹å¦‚ï¼šping -l 65500 -t 211.84.7.46&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¼šè¿ç»­å¯¹ IP åœ°å€æ‰§è¡Œ ping å‘½ä»¤ï¼Œç›´åˆ°è¢«ç”¨æˆ·ä»¥ Ctrl+C ä¸­æ–­.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.853125&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq412EJUGiaK8YHKT7qSsvGGToD6Rdv4W8aqoQRaW0DwtwOR42WX18ZFPRQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ ·å®ƒå°±ä¼šä¸åœçš„å‘ 211.84.7.46 è®¡ç®—æœºå‘é€å¤§å°ä¸º 65500byt çš„æ•°æ®åŒ…ï¼Œå¦‚æœä½ åªæœ‰ä¸€å°è®¡ç®—æœºä¹Ÿè®¸æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œä½†å¦‚æœæœ‰å¾ˆå¤šè®¡ç®—æœºé‚£ä¹ˆå°±å¯ä»¥ä½¿å¯¹æ–¹å®Œå…¨ç˜«ç—ªï¼Œç½‘ç»œä¸¥é‡å µå¡ï¼Œç”±æ­¤å¯è§å¨åŠ›éåŒå°å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;å…­ã€ping -r count çš„ä½¿ç”¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;åœ¨ â€œè®°å½•è·¯ç”±â€ å­—æ®µä¸­è®°å½•ä¼ å‡ºå’Œè¿”å›æ•°æ®åŒ…çš„è·¯ç”±ï¼Œæ¢æµ‹ç»è¿‡çš„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è·¯ç”±ä¸ªæ•°ï¼Œä½†æœ€å¤šåªèƒ½è·Ÿè¸ªåˆ° 9 ä¸ªè·¯ç”±ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ping -n 1 -r 9 202.102.224.25 ï¼ˆå‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œæœ€å¤šè®°å½• 9 ä¸ªè·¯ç”±ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6375&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41SzPiaV1KdmXd7QQnHkMpQPSymjQAGx1ib6RicD8saT8xlgeKy92ougzpw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å°†ç»è¿‡ 9 ä¸ªè·¯ç”±éƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå¯ä»¥çœ‹ä¸Šå›¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ping å‘½ä»¤ç”¨çš„è¾ƒå¤šçš„å°±è¿™ 6 ç±»çš„ï¼Œå¤§å®¶æœ‰å¯èƒ½åœ¨é¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ä¸ƒã€æ‰¹é‡ Ping ç½‘æ®µ&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å¯¹äºä¸€ä¸ªç½‘æ®µ ip åœ°å€ä¼—å¤šï¼Œå¦‚æœå•ä¸ªæ£€æµ‹å®åœ¨éº»çƒ¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰¹é‡ ping ç½‘æ®µæ£€æµ‹ï¼Œé‚£ä¸ª ip åœ°å€å‡ºäº†é—®é¢˜ï¼Œä¸€ç›®äº†ç„¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…ˆçœ‹ä»£ç ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;for /L %D in (1,1,255) do ping 10.168.1.%D&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;IP åœ°å€æ®µä¿®æ”¹æˆä½ è¦æ£€æŸ¥çš„ IP åœ°å€æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9953125&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9Eibnmwqk0AjNqP7bYINDpko5RNsRcq41oXFHLbWDvCniaZRWdSiazZauicUMX8yLouV9MgX474cK1jUgxRbwZGFng/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“è¾“å…¥æ‰¹é‡å‘½ä»¤åï¼Œé‚£ä¹ˆå®ƒå°±è‡ªåŠ¨æŠŠç½‘æ®µå†…æ‰€æœ‰çš„ ip åœ°å€éƒ½ ping å®Œä¸ºæ­¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é‚£ä¹ˆè¿™æ®µ â€œfor /L %D in(1,1,255) do ping 10.168.1.%Dâ€ ä»£ç æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»£ç ä¸­çš„è¿™ä¸ªÂ &lt;strong&gt;(1,1,255)&lt;/strong&gt;Â å°±æ˜¯ç½‘æ®µèµ·ä¸å§‹ï¼Œå°±æ˜¯æ£€æµ‹ç½‘æ®µ 192.168.1.1 åˆ° 192.168.1.255 ä¹‹é—´çš„æ‰€æœ‰çš„ ip åœ°å€ï¼Œæ¯æ¬¡é€å¢ 1ï¼Œç›´æ¥åˆ° 1 åˆ° 255 è¿™ 255 ä¸ª ip æ£€æµ‹å®Œä¸ºæ­¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;h2&gt;å¹²è´§åˆ†äº«&lt;/h2&gt;&lt;blockquote&gt;&lt;p&gt;æœ€è¿‘å°†ä¸ªäººå­¦ä¹ ç¬”è®°æ•´ç†æˆå†Œï¼Œä½¿ç”¨PDFåˆ†äº«ã€‚å…³æ³¨æˆ‘ï¼Œå›å¤å¦‚ä¸‹ä»£ç ï¼Œå³å¯è·å¾—ç™¾åº¦ç›˜åœ°å€ï¼Œæ— å¥—è·¯é¢†å–ï¼&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;001ï¼šã€ŠJavaå¹¶å‘ä¸é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆã€‹å­¦ä¹ ç¬”è®°ï¼›&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;002ï¼šã€Šæ·±å…¥JVMå†…æ ¸â€”â€”åŸç†ã€è¯Šæ–­ä¸ä¼˜åŒ–ã€‹å­¦ä¹ ç¬”è®°ï¼›&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;003ï¼šã€ŠJavaé¢è¯•å®å…¸ã€‹&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;004ï¼šã€ŠDockerå¼€æºä¹¦ã€‹&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;005ï¼šã€ŠKuberneteså¼€æºä¹¦ã€‹&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;006ï¼šã€ŠDDDé€Ÿæˆï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡é€Ÿæˆï¼‰ã€‹&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;007ï¼š&lt;strong&gt;å…¨éƒ¨&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€¢&lt;/span&gt;008ï¼š&lt;strong&gt;åŠ æŠ€æœ¯ç¾¤è®¨è®º&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h2&gt;åŠ ä¸ªå…³æ³¨ä¸è¿·è·¯&lt;/h2&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile data-index=&quot;1&quot; data-id=&quot;MzI4ODQ3NjE2OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/C93dCHmGrWzo3r2IwZzjK44WxQwhDAlhygicTbLH8Xv5wYClRpZJvoMxJIH9oPnRcGuKneSYicF3SOvJOaB34OibQ/0?wx_fmt=png&quot; data-nickname=&quot;ç¨‹åºå‘˜å¤§ç›®&quot; data-alias=&quot;itmuch_com&quot; data-signature=&quot;BAT æŠ€æœ¯ä¸“å®¶åˆ†äº«å¼€å‘ã€æ¶æ„ã€è¿ç»´ç›¸å…³å¹²è´§ï¼&quot; data-origin_num=&quot;159&quot; data-is_biz_ban=&quot;0&quot; data-isban=&quot;0&quot; class=&quot;js_wx_tap_highlight&quot; data-from=&quot;2&quot; has-insert-preloading=&quot;1&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;small&gt;å–œæ¬¢å°±ç‚¹ä¸ª&quot;åœ¨çœ‹&quot;å‘—^_^&lt;/small&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>97bf8f2fec0346246a236418b275b650</guid>
<title>åŸºäºAIç®—æ³•çš„æ•°æ®åº“å¼‚å¸¸ç›‘æµ‹ç³»ç»Ÿçš„è®¾è®¡ä¸å®ç°</title>
<link>https://toutiao.io/k/gqlclap</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;58&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.1546875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsU2zk0q52HtKQjubeUEyZHBVHPgeBXgTUj0ib1Kwfosl82xO1Aw7x6gccLuuYs1dbxI7REI7OcjbGw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ€»ç¬¬532&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;ç¯‡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2022å¹´ ç¬¬049ç¯‡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section data-role=&quot;outer&quot; label=&quot;Powered by 135editor.com&quot;&gt;&lt;section data-role=&quot;outer&quot; label=&quot;Powered by 135editor.com&quot;&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;127&quot;&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;127&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;img border=&quot;0&quot; class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;103&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;103&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsU2zk0q52HtKQjubeUEyZHBic5ADGrKxgSd0tibyMiasOHXjb46qFBw7PTfuWAxXzWq32lDkL05icwkMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;750&quot; data-width=&quot;100%&quot; opacity=&quot;&quot; title=&quot;undefined&quot;/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; data-style=&quot;text-align: left; font-size: 14px; color: inherit;&quot;&gt;&lt;section&gt;&lt;span&gt;ç¾å›¢æ•°æ®åº“å¹³å°ç ”å‘ç»„ï¼Œé¢ä¸´æ—¥ç›Šæ€¥è¿«çš„æ•°æ®åº“å¼‚å¸¸å‘ç°éœ€æ±‚ï¼Œä¸ºäº†æ›´åŠ å¿«é€Ÿã€æ™ºèƒ½åœ°å‘ç°ã€å®šä½å’Œæ­¢æŸï¼Œæˆ‘ä»¬å¼€å‘äº†åŸºäºAIç®—æ³•çš„æ•°æ®åº“å¼‚å¸¸æ£€æµ‹æœåŠ¡ã€‚æœ¬æ–‡ä»ç‰¹å¾åˆ†æã€ç®—æ³•é€‰å‹ã€æ¨¡å‹è®­ç»ƒä¸å®æ—¶æ£€æµ‹ç­‰ç»´åº¦ä»‹ç»äº†æˆ‘ä»¬çš„ä¸€äº›å®è·µå’Œæ€è€ƒï¼Œå¸Œæœ›ä¸ºä»äº‹ç›¸å…³å·¥ä½œçš„åŒå­¦å¸¦æ¥ä¸€äº›å¯å‘æˆ–è€…å¸®åŠ©ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;1. èƒŒæ™¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;2. ç‰¹å¾åˆ†æ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;3. ç®—æ³•é€‰å‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;4. æ¨¡å‹è®­ç»ƒä¸å®æ—¶æ£€æµ‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;5. äº§å“è¿è¥&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;6. æœªæ¥å±•æœ›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;7. é™„å½•&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1. èƒŒæ™¯&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;æ•°æ®åº“è¢«å¹¿æ³›ç”¨äºç¾å›¢çš„æ ¸å¿ƒä¸šåŠ¡åœºæ™¯ä¸Šï¼Œå¯¹ç¨³å®šæ€§è¦æ±‚è¾ƒé«˜ï¼Œå¯¹å¼‚å¸¸å®¹å¿åº¦éå¸¸ä½ã€‚å› æ­¤ï¼Œå¿«é€Ÿçš„æ•°æ®åº“å¼‚å¸¸å‘ç°ã€å®šä½å’Œæ­¢æŸå°±å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚é’ˆå¯¹å¼‚å¸¸ç›‘æµ‹çš„é—®é¢˜ï¼Œä¼ ç»Ÿçš„å›ºå®šé˜ˆå€¼å‘Šè­¦æ–¹å¼ï¼Œéœ€è¦ä¾èµ–ä¸“å®¶ç»éªŒè¿›è¡Œè§„åˆ™é…ç½®ï¼Œä¸èƒ½æ ¹æ®ä¸åŒä¸šåŠ¡åœºæ™¯çµæ´»åŠ¨æ€è°ƒæ•´é˜ˆå€¼ï¼Œå®¹æ˜“è®©å°é—®é¢˜æ¼”å˜æˆå¤§æ•…éšœã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è€ŒåŸºäºAIçš„æ•°æ®åº“å¼‚å¸¸å‘ç°èƒ½åŠ›ï¼Œå¯ä»¥åŸºäºæ•°æ®åº“å†å²è¡¨ç°æƒ…å†µï¼Œå¯¹å…³é”®æŒ‡æ ‡è¿›è¡Œ7*24å°æ—¶å·¡æ£€ï¼Œèƒ½å¤Ÿåœ¨å¼‚å¸¸èŒèŠ½çŠ¶æ€å°±å‘ç°é£é™©ï¼Œæ›´æ—©åœ°å°†å¼‚å¸¸æš´éœ²ï¼Œè¾…åŠ©ç ”å‘äººå‘˜åœ¨é—®é¢˜æ¶åŒ–å‰è¿›è¡Œå®šä½å’Œæ­¢æŸã€‚åŸºäºä»¥ä¸Šè¿™äº›å› ç´ çš„è€ƒé‡ï¼Œç¾å›¢æ•°æ®åº“å¹³å°ç ”å‘ç»„å†³å®šå¼€å‘ä¸€å¥—æ•°æ®åº“å¼‚å¸¸æ£€æµ‹æœåŠ¡ç³»ç»Ÿã€‚æ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å°†ä¼šä»ç‰¹å¾åˆ†æã€ç®—æ³•é€‰å‹ã€æ¨¡å‹è®­ç»ƒä¸å®æ—¶æ£€æµ‹ç­‰å‡ ä¸ªç»´åº¦é˜è¿°æˆ‘ä»¬çš„ä¸€äº›æ€è€ƒå’Œå®è·µã€‚&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2. ç‰¹å¾åˆ†æ&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2.1 æ‰¾å‡ºæ•°æ®çš„å˜åŒ–è§„å¾‹&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;åœ¨å…·ä½“è¿›è¡Œå¼€å‘ç¼–ç å‰ï¼Œæœ‰ä¸€é¡¹éå¸¸é‡è¦çš„å·¥ä½œï¼Œå°±æ˜¯ä»å·²æœ‰çš„å†å²ç›‘æ§æŒ‡æ ‡ä¸­ï¼Œå‘ç°æ—¶åºæ•°æ®çš„å˜åŒ–è§„å¾‹ï¼Œä»è€Œæ ¹æ®æ•°æ®åˆ†å¸ƒçš„ç‰¹ç‚¹é€‰å–åˆé€‚çš„ç®—æ³•ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä»å†å²æ•°æ®ä¸­é€‰å–çš„ä¸€äº›å…·æœ‰ä»£è¡¨æ€§çš„æŒ‡æ ‡åˆ†å¸ƒå›¾ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;217&quot; data-ratio=&quot;0.3875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpXlWfoRO0Z25yIJ9fjKCFMvWibcAWXTP9cZRnSq9XEUnuuyJ9zscLQxw/640?wx_fmt=jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾1 æ•°æ®åº“æŒ‡æ ‡å½¢æ€&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ•°æ®çš„è§„å¾‹ä¸»è¦å‘ˆç°ä¸‰ç§çŠ¶æ€ï¼šå‘¨æœŸã€æ¼‚ç§»å’Œå¹³ç¨³&lt;sup&gt;[1]&lt;/sup&gt;ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å‰æœŸå¯ä»¥é’ˆå¯¹è¿™äº›æ™®éç‰¹å¾çš„æ ·æœ¬è¿›è¡Œå»ºæ¨¡ï¼Œå³å¯è¦†ç›–å¤§éƒ¨åˆ†åœºæ™¯ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†åˆ«ä»å‘¨æœŸæ€§ã€æ¼‚ç§»æ€§å’Œå¹³ç¨³æ€§è¿™ä¸‰ä¸ªè§’åº¦è¿›è¡Œåˆ†æï¼Œå¹¶è®¨è®ºç®—æ³•è®¾è®¡çš„è¿‡ç¨‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2.1.1 å‘¨æœŸæ€§å˜åŒ–&lt;/span&gt;&lt;/h4&gt;&lt;section&gt;&lt;span&gt;åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸­ï¼ŒæŒ‡æ ‡ä¼šç”±äºæ—©æ™šé«˜å³°æˆ–æ˜¯ä¸€äº›å®šæ—¶ä»»åŠ¡å¼•èµ·è§„å¾‹æ€§æ³¢åŠ¨ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™å±äºæ•°æ®çš„å†…åœ¨è§„å¾‹æ€§æ³¢åŠ¨ï¼Œæ¨¡å‹åº”è¯¥å…·å¤‡è¯†åˆ«å‡ºå‘¨æœŸæ€§æˆåˆ†ï¼Œæ£€æµ‹ä¸Šä¸‹æ–‡å¼‚å¸¸çš„èƒ½åŠ›ã€‚å¯¹äºä¸å­˜åœ¨é•¿æœŸè¶‹åŠ¿æˆåˆ†çš„æ—¶åºæŒ‡æ ‡è€Œè¨€ï¼Œå½“æŒ‡æ ‡å­˜åœ¨å‘¨æœŸæ€§æˆåˆ†çš„æƒ…å†µä¸‹ï¼Œ&lt;span&gt;&lt;embed src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/3a3QxMHZ8YyicHoJgRl1VavX6SEdiaqLGUTGbt8vYggCN6L4ruQJBuibicVWk9OKwx0A0roA8xib2kEOb01evaJVFKKTOh5JDkZhA/0?wx_fmt=svg&quot; data-type=&quot;svg+xml&quot;/&gt;&lt;/span&gt;ï¼Œå…¶ä¸­Tä»£è¡¨çš„æ˜¯æ—¶åºçš„å‘¨æœŸè·¨åº¦ã€‚å¯é€šè¿‡è®¡ç®—è‡ªç›¸å…³å›¾ï¼Œå³è®¡ç®—å‡ºtå–ä¸åŒå€¼æ—¶&lt;span&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -805.5 7252.1 1111&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;mo&quot;&gt;&lt;path data-c=&quot;222B&quot; d=&quot;M113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(776.7, 0)&quot;&gt;&lt;path data-c=&quot;66&quot; d=&quot;M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(1326.7, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(1715.7, 0)&quot;&gt;&lt;path data-c=&quot;78&quot; d=&quot;M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(2287.7, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(2676.7, 0)&quot;&gt;&lt;path data-c=&quot;66&quot; d=&quot;M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(3226.7, 0)&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(3615.7, 0)&quot;&gt;&lt;path data-c=&quot;78&quot; d=&quot;M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(4409.9, 0)&quot;&gt;&lt;path data-c=&quot;2B&quot; d=&quot;M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(5410.1, 0)&quot;&gt;&lt;path data-c=&quot;74&quot; d=&quot;M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(5771.1, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(6160.1, 0)&quot;&gt;&lt;path data-c=&quot;64&quot; d=&quot;M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(6680.1, 0)&quot;&gt;&lt;path data-c=&quot;78&quot; d=&quot;M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt; çš„å€¼ï¼Œç„¶åé€šè¿‡åˆ†æè‡ªç›¸å…³å³°çš„é—´éš”æ¥ç¡®å®šå‘¨æœŸæ€§ï¼Œä¸»è¦çš„æµç¨‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æå–è¶‹åŠ¿æˆåˆ†ï¼Œåˆ†ç¦»å‡ºæ®‹å·®åºåˆ—ã€‚ä½¿ç”¨ç§»åŠ¨å¹³å‡æ³•æå–å‡ºé•¿æœŸè¶‹åŠ¿é¡¹ï¼Œè·ŸåŸåºåˆ—ä½œå·®å¾—åˆ°æ®‹å·®åºåˆ—ï¼ˆ&lt;/span&gt;&lt;span&gt;æ­¤å¤„å‘¨æœŸæ€§åˆ†æä¸è¶‹åŠ¿æ— å…³ï¼Œè‹¥ä¸åˆ†ç¦»è¶‹åŠ¿æˆåˆ†ï¼Œè‡ªç›¸å…³å°†æ˜¾è‘—å—åˆ°å½±å“ï¼Œéš¾ä»¥è¯†åˆ«å‘¨æœŸ&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;è®¡ç®—æ®‹å·®çš„å¾ªç¯è‡ªç›¸å…³ï¼ˆ&lt;/span&gt;&lt;span&gt;Rolling Correlation&lt;/span&gt;&lt;span&gt;ï¼‰åºåˆ—ã€‚é€šè¿‡å¾ªç¯ç§»åŠ¨æ®‹å·®åºåˆ—åï¼Œä¸æ®‹å·®åºåˆ—è¿›è¡Œå‘é‡ç‚¹ä¹˜è¿ç®—æ¥è®¡ç®—è‡ªç›¸å…³åºåˆ—ï¼ˆ&lt;/span&gt;&lt;span&gt;å¾ªç¯è‡ªç›¸å…³å¯ä»¥é¿å…å»¶è¿Ÿè¡°å‡&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ ¹æ®è‡ªç›¸å…³åºåˆ—çš„å³°å€¼åæ ‡æ¥ç¡®å®šå‘¨æœŸTã€‚æå–è‡ªç›¸å…³åºåˆ—çš„ä¸€ç³»åˆ—å±€éƒ¨æœ€é«˜å³°ï¼Œå–æ¨ªåæ ‡çš„é—´éš”ä¸ºå‘¨æœŸï¼ˆ&lt;/span&gt;&lt;span&gt;å¦‚æœè¯¥å‘¨æœŸç‚¹å¯¹åº”çš„è‡ªç›¸å…³å€¼å°äºç»™å®šé˜ˆå€¼ï¼Œåˆ™è®¤ä¸ºæ— æ˜¾è‘—å‘¨æœŸæ€§&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;344&quot; data-ratio=&quot;0.6158008658008658&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofp0uqFKnxsZ8kvFA83edc940PbeO28gIe4NVd0MwCCetSSVZ1F8AeibVw/640?wx_fmt=jpeg&quot; data-w=&quot;924&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾2 å‘¨æœŸæå–æµç¨‹ç¤ºæ„&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2.1.2 æ¼‚ç§»æ€§å˜åŒ–&lt;/span&gt;&lt;/h4&gt;&lt;section&gt;&lt;span&gt;å¯¹äºå¾…å»ºæ¨¡çš„åºåˆ—ï¼Œé€šå¸¸è¦æ±‚å®ƒä¸å­˜åœ¨æ˜æ˜¾çš„é•¿æœŸè¶‹åŠ¿æˆ–æ˜¯å­˜åœ¨å…¨å±€æ¼‚ç§»çš„ç°è±¡ï¼Œå¦åˆ™ç”Ÿæˆçš„æ¨¡å‹é€šå¸¸æ— æ³•å¾ˆå¥½åœ°é€‚åº”æŒ‡æ ‡çš„æœ€æ–°èµ°åŠ¿&lt;sup&gt;[2]&lt;/sup&gt;ã€‚æˆ‘ä»¬å°†æ—¶é—´åºåˆ—éšç€æ—¶é—´çš„å˜åŒ–å‡ºç°å‡å€¼çš„æ˜¾è‘—å˜åŒ–æˆ–æ˜¯å­˜åœ¨å…¨å±€çªå˜ç‚¹çš„æƒ…å†µï¼Œç»Ÿç§°ä¸ºæ¼‚ç§»çš„åœºæ™¯ã€‚ä¸ºäº†èƒ½å¤Ÿå‡†ç¡®åœ°æ•æ‰æ—¶é—´åºåˆ—çš„æœ€æ–°èµ°åŠ¿ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å»ºæ¨¡å‰æœŸåˆ¤æ–­å†å²æ•°æ®ä¸­æ˜¯å¦å­˜åœ¨æ¼‚ç§»çš„ç°è±¡ã€‚å…¨å±€æ¼‚ç§»å’Œå‘¨æœŸæ€§åºåˆ—å‡å€¼æ¼‚ç§»ï¼Œå¦‚ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;558&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;473&quot; data-ratio=&quot;0.8471933471933472&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpJRib5y8FrG6GvoFwmE19LHDEz3XrR8acln2Q82TRiaIAHq4I0iaKWz0ibA/640?wx_fmt=jpeg&quot; data-w=&quot;962&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾3 æ•°æ®æ¼‚ç§»ç¤ºæ„&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ•°æ®åº“æŒ‡æ ‡å—ä¸šåŠ¡æ´»åŠ¨ç­‰å¤æ‚å› ç´ å½±å“ï¼Œå¾ˆå¤šæ•°æ®ä¼šæœ‰éå‘¨æœŸæ€§çš„å˜åŒ–ï¼Œè€Œå»ºæ¨¡éœ€è¦å®¹å¿è¿™äº›å˜åŒ–ã€‚å› æ­¤ï¼ŒåŒºåˆ«äºç»å…¸çš„å˜ç‚¹æ£€æµ‹é—®é¢˜ï¼Œåœ¨å¼‚å¸¸æ£€æµ‹åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦æ£€æµ‹å‡ºå†å²ä¸Šå¾ˆå¹³ç¨³ï¼Œä¹‹åå‡ºç°æ•°æ®æ¼‚ç§»çš„æƒ…å†µã€‚ç»¼åˆç®—æ³•æ€§èƒ½å’Œå®é™…è¡¨ç°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŸºäºä¸­ä½æ•°æ»¤æ³¢çš„æ¼‚ç§»æ£€æµ‹æ–¹æ³•ï¼Œä¸»è¦çš„æµç¨‹åŒ…å«ä»¥ä¸‹å‡ ä¸ªç¯èŠ‚ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;1. ä¸­ä½æ•°å¹³æ»‘&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;Â a. æ ¹æ®ç»™å®šçª—å£çš„å¤§å°ï¼Œæå–çª—å£å†…çš„ä¸­ä½æ•°æ¥è·å–æ—¶åºçš„è¶‹åŠ¿æˆåˆ†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â b. çª—å£éœ€è¦è¶³å¤Ÿå¤§ï¼Œä»¥é¿å…å‘¨æœŸå› ç´ å½±å“ï¼Œå¹¶è¿›è¡Œæ»¤æ³¢å»¶è¿ŸçŸ«æ­£ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â c. ä½¿ç”¨ä¸­ä½æ•°è€Œéå‡å€¼å¹³æ»‘çš„åŸå› åœ¨äºä¸ºäº†è§„é¿å¼‚å¸¸æ ·æœ¬çš„å½±å“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;2. åˆ¤æ–­å¹³æ»‘åºåˆ—æ˜¯å¦é€’å¢æˆ–æ˜¯é€’å‡&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â a. ä¸­ä½æ•°å¹³æ»‘åçš„åºåˆ—æ•°æ®ï¼Œè‹¥æ¯ä¸ªç‚¹éƒ½å¤§äºï¼ˆ&lt;/span&gt;&lt;span&gt;å°äº&lt;/span&gt;&lt;span&gt;ï¼‰å‰ä¸€ä¸ªç‚¹ï¼Œåˆ™åºåˆ—ä¸ºé€’å¢ï¼ˆ&lt;/span&gt;&lt;span&gt;é€’å‡&lt;/span&gt;&lt;span&gt;ï¼‰åºåˆ—ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;Â b. å¦‚æœåºåˆ—å­˜åœ¨ä¸¥æ ¼é€’å¢æˆ–æ˜¯ä¸¥æ ¼é€’å‡çš„æ€§è´¨ï¼Œåˆ™æŒ‡æ ‡æ˜æ˜¾å­˜åœ¨é•¿æœŸè¶‹åŠ¿ï¼Œæ­¤æ—¶å¯æå‰ç»ˆæ­¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3.Â éå†å¹³æ»‘åºåˆ—ï¼Œåˆ©ç”¨å¦‚ä¸‹ä¸¤ä¸ªè§„åˆ™æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ¼‚ç§»çš„ç°è±¡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt; a. å½“å‰æ ·æœ¬ç‚¹å·¦è¾¹åºåˆ—çš„æœ€å¤§å€¼å°äºå½“å‰æ ·æœ¬ç‚¹å³è¾¹åºåˆ—çš„æœ€å°å€¼ï¼Œåˆ™å­˜åœ¨çªå¢æ¼‚ç§»ï¼ˆ&lt;/span&gt;&lt;span&gt;ä¸Šæ¶¨è¶‹åŠ¿&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;Â b. å½“å‰æ ·æœ¬ç‚¹å·¦è¾¹åºåˆ—çš„æœ€å°å€¼å¤§äºå½“å‰æ ·æœ¬ç‚¹å³è¾¹åºåˆ—çš„æœ€å¤§å€¼ï¼Œåˆ™å­˜åœ¨çªé™æ¼‚ç§»ï¼ˆ&lt;/span&gt;&lt;span&gt;ä¸‹è·Œè¶‹åŠ¿&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2.1.3 å¹³ç¨³æ€§å˜åŒ–&lt;/span&gt;&lt;/h4&gt;&lt;section&gt;&lt;span&gt;å¯¹äºä¸€ä¸ªæ—¶åºæŒ‡æ ‡ï¼Œå¦‚æœå…¶åœ¨ä»»æ„æ—¶åˆ»ï¼Œå®ƒçš„æ€§è´¨ä¸éšè§‚æµ‹æ—¶é—´çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ¡æ—¶åºæ˜¯å…·å¤‡å¹³ç¨³æ€§çš„ã€‚å› æ­¤ï¼Œå¯¹äºå…·æœ‰é•¿æœŸè¶‹åŠ¿æˆåˆ†äº¦æˆ–æ˜¯å‘¨æœŸæ€§æˆåˆ†çš„æ—¶é—´åºåˆ—è€Œè¨€ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸å¹³ç¨³çš„ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;525&quot; data-ratio=&quot;0.9084041548630784&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpjwMb6EzXRfPDqzLQ2lpNoQYFt4ufyBpCxMUqVLp2vYYzOtOpGww87w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1059&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾4 æ•°æ®å¹³ç¨³ç¤ºæ„&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å•ä½æ ¹æ£€éªŒï¼ˆ&lt;/span&gt;&lt;span&gt;Augmented Dickey-Fuller Test&lt;/span&gt;&lt;span&gt;ï¼‰&lt;sup&gt;[3]&lt;/sup&gt;æ¥åˆ¤æ–­ç»™å®šçš„æ—¶é—´åºåˆ—æ˜¯å¦å¹³ç¨³ã€‚å…·ä½“åœ°è¯´ï¼Œå¯¹äºä¸€æ¡ç»™å®šæ—¶é—´èŒƒå›´æŒ‡æ ‡çš„å†å²æ•°æ®è€Œè¨€ï¼Œæˆ‘ä»¬è®¤ä¸ºåœ¨åŒæ—¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œæ—¶åºæ˜¯å¹³ç¨³çš„ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœ€è¿‘1å¤©çš„æ—¶åºæ•°æ®é€šè¿‡adfulleræ£€éªŒè·å¾—çš„på€¼å°äº0.05ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æœ€è¿‘7å¤©çš„æ—¶åºæ•°æ®é€šè¿‡adfulleræ£€éªŒè·å¾—çš„på€¼å°äº0.05ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3. ç®—æ³•é€‰å‹&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.1 åˆ†å¸ƒè§„å¾‹ä¸ç®—æ³•é€‰æ‹©&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;é€šè¿‡äº†è§£ä¸šç•Œçš„ä¸€äº›çŸ¥åå…¬å¸åœ¨æ—¶åºæ•°æ®å¼‚å¸¸æ£€æµ‹ä¸Šå…¬å¸ƒçš„äº§å“ä»‹ç»ï¼ŒåŠ ä¸Šæˆ‘ä»¬å†å²ç§¯ç´¯çš„ç»éªŒï¼Œä»¥åŠå¯¹éƒ¨åˆ†çº¿ä¸Šå®é™…æŒ‡æ ‡çš„æŠ½æ ·åˆ†æï¼Œå®ƒä»¬çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ç¬¦åˆå¦‚ä¸‹æƒ…å†µçš„åˆ†å¸ƒï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;209&quot; data-ratio=&quot;0.3612791702679343&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpmzKTgKbicQZx1kBG6LrSsBUTHmPEhGqpr4edVKRfvO6iaeDRCkZ7z3cA/640?wx_fmt=jpeg&quot; data-w=&quot;1157&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾5 åˆ†å¸ƒåæ–œç¤ºæ„&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;é’ˆå¯¹ä¸Šè¿°çš„åˆ†å¸ƒï¼Œæˆ‘ä»¬è°ƒç ”äº†ä¸€äº›å¸¸è§çš„ç®—æ³•ï¼Œå¹¶ç¡®å®šäº†ç®±å½¢å›¾ã€ç»å¯¹ä¸­ä½å·®å’Œæå€¼ç†è®ºä½œä¸ºæœ€ç»ˆå¼‚å¸¸æ£€æµ‹ç®—æ³•ã€‚ä»¥ä¸‹æ˜¯å¯¹å¸¸è§æ—¶åºæ•°æ®æ£€æµ‹çš„ç®—æ³•å¯¹æ¯”è¡¨ï¼š&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.28594771241830064&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsUPL5RG514O9PotCLowpofpUibe9sBCKut4a5UBZs6s96UohvVpFalMaTkE51Cm10ES2cn0Cge8WTA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1224&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬æ²¡æœ‰é€‰æ‹©3Sigmaçš„ä¸»è¦åŸå› æ˜¯å®ƒå¯¹å¼‚å¸¸å®¹å¿åº¦è¾ƒä½ï¼Œè€Œç»å¯¹ä¸­ä½å·®ä»ç†è®ºä¸Šè€Œè¨€å…·æœ‰æ›´å¥½çš„å¼‚å¸¸å®¹å¿åº¦ï¼Œæ‰€ä»¥åœ¨æ•°æ®å‘ˆç°é«˜å¯¹ç§°åˆ†å¸ƒæ—¶ï¼Œé€šè¿‡ç»å¯¹ä¸­ä½å·®ï¼ˆ&lt;/span&gt;&lt;span&gt;MAD&lt;/span&gt;&lt;span&gt;ï¼‰æ›¿ä»£3Sigmaè¿›è¡Œæ£€æµ‹ã€‚æˆ‘ä»¬å¯¹ä¸åŒæ•°æ®çš„åˆ†å¸ƒåˆ†åˆ«é‡‡ç”¨äº†ä¸åŒçš„æ£€æµ‹ç®—æ³•ï¼ˆ&lt;/span&gt;&lt;span&gt;å…³äºä¸åŒç®—æ³•çš„åŸç†å¯ä»¥å‚è€ƒæ–‡æœ«é™„å½•çš„éƒ¨åˆ†ï¼Œè¿™é‡Œä¸åšè¿‡å¤šçš„é˜è¿°&lt;/span&gt;&lt;span&gt;ï¼‰ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä½åæ€é«˜å¯¹ç§°åˆ†å¸ƒ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šç»å¯¹ä¸­ä½å·®ï¼ˆ&lt;/span&gt;&lt;span&gt;MAD&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä¸­ç­‰åæ€åˆ†å¸ƒ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šç®±å½¢å›¾ï¼ˆ&lt;/span&gt;&lt;span&gt;Boxplot&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é«˜åæ€åˆ†å¸ƒ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šæå€¼ç†è®ºï¼ˆ&lt;/span&gt;&lt;span&gt;EVT&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;æœ‰äº†å¦‚ä¸Šçš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå…·ä½“çš„æ ¹æ®æ ·æœ¬è¾“å‡ºæ¨¡å‹çš„æµç¨‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;453&quot; data-ratio=&quot;0.7829232995658466&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpjmaztl3iasbiarY1EtdX57XYZdSFyhXxpQeR68alHlqVmPObXENjP3VA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;691&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾6 ç®—æ³•å»ºæ¨¡æµç¨‹&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç®—æ³•çš„æ•´ä½“å»ºæ¨¡æµç¨‹å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸»è¦æ¶µç›–ä»¥ä¸‹å‡ ä¸ªåˆ†æ”¯ç¯èŠ‚ï¼šæ—¶åºæ¼‚ç§»æ£€æµ‹ã€æ—¶åºå¹³ç¨³æ€§åˆ†æã€æ—¶åºå‘¨æœŸæ€§åˆ†æå’Œååº¦è®¡ç®—ã€‚ä¸‹é¢åˆ†åˆ«è¿›è¡Œä»‹ç»ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ—¶åºæ¼‚ç§»æ£€æµ‹&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å¦‚æœæ£€æµ‹å­˜åœ¨æ¼‚ç§»çš„åœºæ™¯ï¼Œåˆ™éœ€è¦æ ¹æ®æ£€æµ‹è·å¾—çš„æ¼‚ç§»ç‚¹tæ¥åˆ‡å‰²è¾“å…¥æ—¶åºï¼Œä½¿ç”¨æ¼‚ç§»ç‚¹åçš„æ—¶åºæ ·æœ¬ä½œä¸ºåç»­å»ºæ¨¡æµç¨‹çš„è¾“å…¥ï¼Œè®°ä¸ºS={Si}ï¼Œå…¶ä¸­i&amp;gt;tã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ—¶åºå¹³ç¨³æ€§åˆ†æ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å¦‚æœè¾“å…¥æ—¶åºSæ»¡è¶³å¹³ç¨³æ€§æ£€éªŒï¼Œåˆ™ç›´æ¥é€šè¿‡ç®±å½¢å›¾ï¼ˆ&lt;/span&gt;&lt;span&gt;é»˜è®¤&lt;/span&gt;&lt;span&gt;ï¼‰æˆ–æ˜¯ç»å¯¹ä¸­ä½å·®çš„æ–¹å¼æ¥è¿›è¡Œå»ºæ¨¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;æ—¶åºå‘¨æœŸæ€§åˆ†æ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å­˜åœ¨å‘¨æœŸæ€§çš„æƒ…å†µä¸‹ï¼Œå°†å‘¨æœŸè·¨åº¦è®°ä¸ºTï¼Œå°†è¾“å…¥æ—¶åºSæ ¹æ®è·¨åº¦Tè¿›è¡Œåˆ‡å‰²ï¼Œé’ˆå¯¹å„ä¸ªæ—¶é—´ç´¢å¼•jâˆˆ{0,1,â‹¯,Tâˆ’1}æ‰€ç»„æˆçš„æ•°æ®æ¡¶è¿›è¡Œå»ºæ¨¡æµç¨‹ã€‚ä¸å­˜åœ¨å‘¨æœŸæ€§çš„æƒ…å†µä¸‹ï¼Œé’ˆå¯¹å…¨éƒ¨è¾“å…¥æ—¶åºSä½œä¸ºæ•°æ®æ¡¶è¿›è¡Œå»ºæ¨¡æµç¨‹ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æ¡ˆä¾‹&lt;/strong&gt;ï¼šç»™å®šä¸€æ¡æ—¶é—´åºåˆ—ts={t&lt;sub&gt;0&lt;/sub&gt;,t&lt;sub&gt;1&lt;/sub&gt;,â‹¯,t&lt;sub&gt;n&lt;/sub&gt;}ï¼Œå‡å®šå…¶å­˜åœ¨å‘¨æœŸæ€§ä¸”å‘¨æœŸè·¨åº¦ä¸ºTï¼Œå¯¹äºæ—¶é—´ç´¢å¼•jè€Œè¨€ï¼Œå…¶ä¸­jâˆˆ{0,1,â‹¯,Tâˆ’1}ï¼Œå¯¹å…¶å»ºæ¨¡æ‰€éœ€è¦çš„æ ·æœ¬ç‚¹ç”±åŒºé—´[t&lt;sub&gt;jâˆ’kTâˆ’m&lt;/sub&gt;, t&lt;sub&gt;jâˆ’kT+m&lt;/sub&gt;]æ„æˆï¼Œå…¶ä¸­mä¸ºå‚æ•°ï¼Œä»£è¡¨çª—å£å¤§å°ï¼Œkä¸ºæ•´æ•°ï¼Œæ»¡è¶³jâˆ’kTâˆ’mâ‰¥0, jâˆ’kT+mâ‰¤nã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ç»™å®šæ—¶åºè‡ª2022/03/01 00:00:00è‡³2022/03/08 00:00:00æ­¢ï¼Œç»™å®šçª—å£å¤§å°ä¸º5ï¼Œå‘¨æœŸè·¨åº¦ä¸ºä¸€å¤©ï¼Œé‚£ä¹ˆå¯¹äºæ—¶é—´ç´¢å¼•30è€Œè¨€ï¼Œå¯¹å…¶å»ºæ¨¡æ‰€éœ€è¦çš„æ ·æœ¬ç‚¹å°†æ¥è‡ªäºå¦‚ä¸‹æ—¶é—´æ®µï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[03/01 00:25:00, 03/01 00:35:00]&lt;br/&gt;[03/02 00:25:00, 03/02 00:35:00]&lt;br/&gt;...&lt;br/&gt;[03/07 00:25:00, 03/07 00:35:00]&lt;/span&gt;&lt;/section&gt;&lt;ol start=&quot;4&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ååº¦è®¡ç®—&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚æ—¶åºæŒ‡æ ‡è½¬åŒ–ä¸ºæ¦‚ç‡åˆ†å¸ƒå›¾ï¼Œè®¡ç®—åˆ†å¸ƒçš„ååº¦ï¼Œè‹¥ååº¦çš„ç»å¯¹å€¼è¶…è¿‡é˜ˆå€¼ï¼Œåˆ™é€šè¿‡æå€¼ç†è®ºè¿›è¡Œå»ºæ¨¡è¾“å‡ºé˜ˆå€¼ã€‚è‹¥ååº¦çš„ç»å¯¹å€¼å°äºé˜ˆå€¼ï¼Œåˆ™é€šè¿‡ç®±å½¢å›¾æˆ–æ˜¯ç»å¯¹ä¸­ä½å·®çš„æ–¹å¼è¿›è¡Œå»ºæ¨¡è¾“å‡ºé˜ˆå€¼ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.2 æ¡ˆä¾‹æ ·æœ¬å»ºæ¨¡&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;è¿™é‡Œé€‰å–äº†ä¸€ä¸ªæ¡ˆä¾‹ï¼Œå±•ç¤ºæ•°æ®åˆ†æåŠå»ºæ¨¡è¿‡ç¨‹ï¼Œä¾¿äºæ›´æ¸…æ™°çš„ç†è§£ä¸Šè¿°è¿‡ç¨‹ã€‚å…¶ä¸­å›¾(a)ä¸ºåŸå§‹åºåˆ—ï¼Œå›¾(b)ä¸ºæŒ‰ç…§å¤©çš„è·¨åº¦è¿›è¡ŒæŠ˜å çš„åºåˆ—ï¼Œå›¾(c)ä¸ºå›¾(b)ä¸­æŸæ—¶é—´ç´¢å¼•åŒºé—´å†…çš„æ ·æœ¬ç»è¿‡æ”¾å¤§åçš„è¶‹åŠ¿è¡¨ç°ï¼Œå›¾(d)ä¸­é»‘è‰²æ›²çº¿ä¸ºå›¾(c)ä¸­æ—¶é—´ç´¢å¼•æ‰€å¯¹åº”çš„ä¸‹é˜ˆå€¼ã€‚å¦‚ä¸‹æ˜¯é’ˆå¯¹æŸæ—¶åºçš„å†å²æ ·æœ¬è¿›è¡Œå»ºæ¨¡çš„æ¡ˆä¾‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;475&quot; data-ratio=&quot;0.821875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpHBLAKqBR1EMvZiaqtnCmxPx0wvicsQkHyLhzVKqp1rdbJXe0T8jUiahjg/640?wx_fmt=jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾7 å»ºæ¨¡æ¡ˆä¾‹&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸Šå›¾(c)åŒºåŸŸå†…çš„æ ·æœ¬åˆ†å¸ƒç›´æ–¹å›¾ä»¥åŠé˜ˆå€¼ï¼ˆ&lt;/span&gt;&lt;span&gt;å·²å‰”é™¤å…¶ä¸­éƒ¨åˆ†å¼‚å¸¸æ ·æœ¬&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¯¥é«˜ååˆ†å¸ƒçš„åœºæ™¯ä¸­ï¼ŒEVTç®—æ³•è®¡ç®—çš„é˜ˆå€¼æ›´ä¸ºåˆç†ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpHTrRicN7jtbWT6tL8xFQm3VGyUzue0jZKYlqwqjMRXniaFibmdiaR8NPmQ/0?wx_fmt=jpeg&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;1280&quot; data-cropy1=&quot;88.58131487889274&quot; data-cropy2=&quot;901.3148788927336&quot; data-ratio=&quot;0.6361111111111111&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpfNdcArmGNbOxtUlib4n0UicF7LFqh7MMugWrUrCo7QibuHsoVsuJvjWGQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;figcaption&gt;&lt;span&gt;å›¾8 åæ–œåˆ†å¸ƒé˜ˆå€¼å¯¹æ¯”&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4. æ¨¡å‹è®­ç»ƒä¸å®æ—¶æ£€æµ‹&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.1 æ•°æ®æµè½¬è¿‡ç¨‹&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;ä¸ºäº†å®æ—¶æ£€æµ‹è§„æ¨¡åºå¤§çš„ç§’çº§æ•°æ®ï¼Œæˆ‘ä»¬ä»¥åŸºäºFlinkè¿›è¡Œå®æ—¶æµå¤„ç†ä¸ºå‡ºå‘ç‚¹ï¼Œè®¾è®¡äº†å¦‚ä¸‹çš„æŠ€æœ¯æ–¹æ¡ˆï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å®æ—¶æ£€æµ‹éƒ¨åˆ†&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šåŸºäºFlinkå®æ—¶æµå¤„ç†ï¼Œæ¶ˆè´¹Mafkaï¼ˆ&lt;/span&gt;&lt;span&gt;ç¾å›¢å†…éƒ¨çš„æ¶ˆæ¯é˜Ÿåˆ—ç»„ä»¶&lt;/span&gt;&lt;span&gt;ï¼‰æ¶ˆæ¯è¿›è¡Œåœ¨çº¿æ£€æµ‹ï¼Œç»“æœå­˜å‚¨äºElasticsearchï¼ˆ&lt;/span&gt;&lt;span&gt;ä»¥ä¸‹ç®€ç§°ES&lt;/span&gt;&lt;span&gt;ï¼‰ä¸­ï¼Œå¹¶äº§ç”Ÿå¼‚å¸¸è®°å½•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ç¦»çº¿è®­ç»ƒéƒ¨åˆ†&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šä»¥Squirrelï¼ˆ&lt;/span&gt;&lt;span&gt;ç¾å›¢å†…éƒ¨çš„KVæ•°æ®åº“&lt;/span&gt;&lt;span&gt;ï¼‰ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—ï¼Œä»MODï¼ˆ&lt;/span&gt;&lt;span&gt;ç¾å›¢å†…éƒ¨è¿ç»´æ•°æ®ä»“åº“&lt;/span&gt;&lt;span&gt;ï¼‰è¯»å–è®­ç»ƒæ•°æ®ï¼Œä»é…ç½®è¡¨è¯»å–å‚æ•°ï¼Œè®­ç»ƒæ¨¡å‹ï¼Œä¿å­˜äºESï¼Œæ”¯æŒè‡ªåŠ¨å’Œæ‰‹åŠ¨è§¦å‘è®­ç»ƒï¼Œé€šè¿‡å®šæ—¶è¯»å–æ¨¡å‹åº“çš„æ–¹å¼ï¼Œè¿›è¡Œæ¨¡å‹åŠ è½½å’Œæ›´æ–°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸‹æ˜¯å…·ä½“çš„ç¦»çº¿è®­ç»ƒå’Œåœ¨çº¿æ£€æµ‹æŠ€æœ¯è®¾è®¡ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;1&quot; data-cropselx2=&quot;562&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;241&quot; data-ratio=&quot;0.42908117752007136&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpicKiavA5hepAJnlVV6qickkAaFzCVbMqkOibNH3IUyjVh7MPzcPK7KwQ2A/640?wx_fmt=jpeg&quot; data-w=&quot;1121&quot;/&gt;&lt;figcaption&gt;&lt;span&gt;å›¾9 ç¦»çº¿è®­ç»ƒå’Œåœ¨çº¿æ£€æµ‹æŠ€æœ¯è®¾è®¡&lt;/span&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.2 å¼‚å¸¸æ£€æµ‹è¿‡ç¨‹&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;å¼‚å¸¸æ£€æµ‹ç®—æ³•æ•´ä½“é‡‡ç”¨åˆ†æ²»æ€æƒ³ï¼Œåœ¨æ¨¡å‹è®­ç»ƒé˜¶æ®µï¼Œæ ¹æ®å†å²æ•°æ®è¯†åˆ«æå–ç‰¹å¾ï¼Œé€‰å®šåˆé€‚çš„æ£€æµ‹ç®—æ³•ã€‚è¿™é‡Œåˆ†ä¸ºç¦»çº¿è®­ç»ƒå’Œåœ¨çº¿æ£€æµ‹ä¸¤éƒ¨åˆ†ï¼Œç¦»çº¿ä¸»è¦æ ¹æ®å†å²æƒ…å†µè¿›è¡Œæ•°æ®é¢„å¤„ç†ã€æ—¶åºåˆ†ç±»å’Œæ—¶åºå»ºæ¨¡ã€‚åœ¨çº¿ä¸»è¦åŠ è½½è¿ç”¨ç¦»çº¿è®­ç»ƒçš„æ¨¡å‹è¿›è¡Œåœ¨çº¿å®æ—¶å¼‚å¸¸æ£€æµ‹ã€‚å…·ä½“è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.0163934426229508&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpibSibYvFib5iar1fia9urF4lN3EISsTW6WuSZYiaBVvpXLDBmPXqF0FfcdvA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;671&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾10 å¼‚å¸¸æ£€æµ‹è¿‡ç¨‹&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;5. äº§å“è¿è¥&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†æé«˜ä¼˜åŒ–è¿­ä»£ç®—æ³•çš„æ•ˆç‡ï¼ŒæŒç»­è¿è¥ä»¥æé«˜ç²¾å‡†ç‡å’Œå¬å›ç‡ï¼Œæˆ‘ä»¬å€ŸåŠ©Horaeï¼ˆ&lt;/span&gt;&lt;span&gt;ç¾å›¢å†…éƒ¨å¯æ‰©å±•çš„&lt;/span&gt;&lt;a href=&quot;https://tech.meituan.com/2020/10/15/mt-aiops-horae.html&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ—¶åºæ•°æ®å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿ&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ï¼‰çš„æ¡ˆä¾‹å›æº¯èƒ½åŠ›ï¼Œå®ç°åœ¨çº¿æ£€æµ‹ã€æ¡ˆä¾‹ä¿å­˜ã€åˆ†æä¼˜åŒ–ã€ç»“æœè¯„ä¼°ã€å‘å¸ƒä¸Šçº¿çš„é—­ç¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5395284327323162&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofpm1FXKMXpzRLcrp5XvmIov77V9t8SBdyW7va3ibJicpu3ibupGC1upVhsw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;721&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾11 è¿è¥æµç¨‹&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ç›®å‰ï¼Œå¼‚å¸¸æ£€æµ‹ç®—æ³•æŒ‡æ ‡å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;6. æœªæ¥å±•æœ›&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;ç›®å‰ï¼Œç¾å›¢æ•°æ®åº“å¼‚å¸¸ç›‘æµ‹èƒ½åŠ›å·²åŸºæœ¬æ„å»ºå®Œæˆï¼Œåç»­æˆ‘ä»¬å°†å¯¹äº§å“ç»§ç»­è¿›è¡Œä¼˜åŒ–å’Œæ‹“å±•ï¼Œå…·ä½“æ–¹å‘åŒ…æ‹¬ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…·æœ‰å¼‚å¸¸ç±»å‹è¯†åˆ«èƒ½åŠ›&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å¯ä»¥æ£€æµ‹å‡ºå¼‚å¸¸çš„ç±»å‹ï¼Œå¦‚å‡å€¼å˜åŒ–ã€æ³¢åŠ¨å˜åŒ–ã€å°–åˆºç­‰ï¼Œæ”¯æŒæŒ‰å¼‚å¸¸ç±»å‹è¿›è¡Œå‘Šè­¦è®¢é˜…ï¼Œå¹¶ä½œä¸ºç‰¹å¾è¾“å…¥åç»­è¯Šæ–­ç³»ç»Ÿï¼Œ&lt;/span&gt;&lt;span&gt;&lt;span&gt;å®Œå–„æ•°æ®åº“è‡ªæ²»ç”Ÿæ€&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ„å»ºHuman-in-Loopç¯å¢ƒ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚æ”¯æŒæ ¹æ®åé¦ˆæ ‡æ³¨è‡ªåŠ¨å­¦ä¹ ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;span&gt;ä¿éšœæ¨¡å‹æŒç»­ä¼˜åŒ–&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;å¤šç§æ•°æ®åº“åœºæ™¯çš„æ”¯æŒ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å¼‚å¸¸æ£€æµ‹èƒ½åŠ›å¹³å°åŒ–ä»¥æ”¯æŒæ›´å¤šæ•°æ®åº“åœºæ™¯ï¼Œå¦‚DBç«¯åˆ°ç«¯æŠ¥é”™ã€èŠ‚ç‚¹ç½‘ç»œç›‘æµ‹ç­‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;7. é™„å½•&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;7.1 ç»å¯¹ä¸­ä½å·®&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ç»å¯¹ä¸­ä½å·®ï¼Œå³Median Absolute Deviation(&lt;/span&gt;&lt;span&gt;MAD&lt;/span&gt;&lt;span&gt;)ï¼Œæ˜¯å¯¹å•å˜é‡æ•°å€¼å‹æ•°æ®çš„æ ·æœ¬åå·®çš„ä¸€ç§é²æ£’æ€§æµ‹é‡&lt;sup&gt;[6]&lt;/sup&gt;ï¼Œé€šå¸¸ç”±ä¸‹å¼è®¡ç®—è€Œå¾—ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;MAD=C \times \operatorname{median}\left|X_{i}-\operatorname{median}(X)\right|&amp;#10;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;embed src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/3a3QxMHZ8YyicHoJgRl1VavX6SEdiaqLGUUVvlUicWicvZMx8gySujicPHGAxjjvUbFIibUkJ6vBHG5SKMiacbNZQDQ4b4zukxRxkdo/0?wx_fmt=svg&quot; data-type=&quot;svg+xml&quot;/&gt;&lt;/section&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;Upper=median+k \times MAD&amp;#10;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;embed src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/3a3QxMHZ8YyicHoJgRl1VavX6SEdiaqLGUIMZzAuKXPQKiaia5aZIdfcib0vIfjqCNO2ndzq4owLhBhBE6qLrH1icMRPzFgOibQ92tg/0?wx_fmt=svg&quot; data-type=&quot;svg+xml&quot;/&gt;&lt;/section&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;Lower=median-k \times MAD&amp;#10;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;embed src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/3a3QxMHZ8YyicHoJgRl1VavX6SEdiaqLGUqHhw2PmxWm5CF9eHZsIM5RT4tc2RAYJxgCnTkVCQZ2PaGibiaCXEYZY6vhk5KGc2QQ/0?wx_fmt=svg&quot; data-type=&quot;svg+xml&quot;/&gt;&lt;/section&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å…¶ä¸­åœ¨å…ˆéªŒä¸ºæ­£æ€åˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬Cé€‰æ‹©1.4826ï¼Œké€‰æ‹©3ã€‚MADå‡å®šæ ·æœ¬ä¸­é—´çš„50%åŒºåŸŸå‡ä¸ºæ­£å¸¸æ ·æœ¬ï¼Œè€Œå¼‚å¸¸æ ·æœ¬è½åœ¨ä¸¤ä¾§çš„50%åŒºåŸŸå†…ã€‚å½“æ ·æœ¬æœä»æ­£æ€åˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼ŒMADæŒ‡æ ‡ç›¸è¾ƒäºæ ‡å‡†å·®æ›´èƒ½é€‚åº”æ•°æ®é›†ä¸­çš„å¼‚å¸¸å€¼ã€‚å¯¹äºæ ‡å‡†å·®ï¼Œä½¿ç”¨çš„æ˜¯æ•°æ®åˆ°å‡å€¼çš„è·ç¦»å¹³æ–¹ï¼Œè¾ƒå¤§çš„åå·®æƒé‡è¾ƒå¤§ï¼Œå¼‚å¸¸å€¼å¯¹ç»“æœå½±å“ä¸èƒ½å¿½è§†ï¼Œè€Œå¯¹MADè€Œè¨€å°‘é‡çš„å¼‚å¸¸å€¼ä¸ä¼šå½±å“å®éªŒçš„ç»“æœï¼ŒMADç®—æ³•å¯¹äºæ•°æ®çš„æ­£æ€æ€§æœ‰è¾ƒé«˜è¦æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;7.2 ç®±å½¢å›¾&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;ç®±å½¢å›¾ä¸»è¦é€šè¿‡å‡ ä¸ªç»Ÿè®¡é‡æ¥æè¿°æ ·æœ¬åˆ†å¸ƒçš„ç¦»æ•£ç¨‹åº¦ä»¥åŠå¯¹ç§°æ€§ï¼ŒåŒ…æ‹¬ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Q0ï¼šæœ€å°å€¼ï¼ˆ&lt;/span&gt;&lt;span&gt;Minimum&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Q1ï¼šä¸‹å››åˆ†ä½æ•°ï¼ˆ&lt;/span&gt;&lt;span&gt;Lower Quartile&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Q2ï¼šä¸­ä½æ•°ï¼ˆ&lt;/span&gt;&lt;span&gt;Median&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Q3ï¼šä¸Šå››åˆ†ä½æ•°ï¼ˆ&lt;/span&gt;&lt;span&gt;Upper Quartile&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;Q4ï¼šæœ€å¤§å€¼ï¼ˆ&lt;/span&gt;&lt;span&gt;Maximum&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsUPL5RG514O9PotCLowpofprxsm51erAiaCA7dnoicsMurwplic1FsiaKgJfkTmxJibGZ3XhBBFmKWdRAg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;800&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾12 ç®±çº¿å›¾&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å°†Q&lt;/span&gt;&lt;sub&gt;1&lt;/sub&gt;&lt;span&gt;ä¸Q&lt;/span&gt;&lt;sub&gt;3&lt;/sub&gt;&lt;span&gt;ä¹‹é—´çš„é—´è·ç§°ä¸ºIQRï¼Œå½“æ ·æœ¬åç¦»ä¸Šå››åˆ†ä½1.5å€çš„IQRï¼ˆ&lt;/span&gt;&lt;span&gt;æˆ–æ˜¯åç¦»ä¸‹å››åˆ†ä½æ•°1.5å€çš„IQR&lt;/span&gt;&lt;span&gt;ï¼‰çš„æƒ…å†µä¸‹ï¼Œå°†æ ·æœ¬è§†ä¸ºæ˜¯ä¸€ä¸ªç¦»ç¾¤ç‚¹ã€‚ä¸åŒäºåŸºäºæ­£æ€å‡è®¾çš„ä¸‰å€æ ‡å‡†å·®ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç®±å½¢å›¾å¯¹äºæ ·æœ¬çš„æ½œåœ¨æ•°æ®åˆ†å¸ƒæ²¡æœ‰ä»»ä½•å‡å®šï¼Œèƒ½å¤Ÿæè¿°å‡ºæ ·æœ¬çš„ç¦»æ•£æƒ…å†µï¼Œä¸”å¯¹æ ·æœ¬ä¸­åŒ…å«çš„æ½œåœ¨å¼‚å¸¸æ ·æœ¬æœ‰è¾ƒé«˜çš„å®¹å¿åº¦ã€‚å¯¹äºæœ‰åæ•°æ®ï¼ŒBoxplotè¿›è¡Œæ ¡å‡†åå»ºæ¨¡æ›´åŠ ç¬¦åˆæ•°æ®åˆ†å¸ƒ&lt;/span&gt;&lt;sup&gt;[7]&lt;/sup&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;7.3 æå€¼ç†è®º&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;çœŸå®ä¸–ç•Œçš„æ•°æ®å¾ˆéš¾ç”¨ä¸€ç§å·²çŸ¥çš„åˆ†å¸ƒæ¥æ¦‚æ‹¬ï¼Œä¾‹å¦‚å¯¹äºæŸäº›æç«¯äº‹ä»¶ï¼ˆ&lt;/span&gt;&lt;span&gt;å¼‚å¸¸&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œæ¦‚ç‡æ¨¡å‹ï¼ˆ&lt;/span&gt;&lt;span&gt;ä¾‹å¦‚é«˜æ–¯åˆ†å¸ƒ&lt;/span&gt;&lt;span&gt;ï¼‰å¾€å¾€ä¼šç»™å‡ºå…¶æ¦‚ç‡ä¸º0ã€‚æå€¼ç†è®º&lt;sup&gt;[8]&lt;/sup&gt;æ˜¯åœ¨ä¸åŸºäºåŸå§‹æ•°æ®çš„ä»»ä½•åˆ†å¸ƒå‡è®¾ä¸‹ï¼Œé€šè¿‡æ¨æ–­æˆ‘ä»¬å¯èƒ½ä¼šè§‚å¯Ÿåˆ°çš„æç«¯äº‹ä»¶çš„åˆ†å¸ƒï¼Œè¿™å°±æ˜¯æå€¼åˆ†å¸ƒï¼ˆ&lt;/span&gt;&lt;span&gt;EVD&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚å…¶æ•°å­¦è¡¨è¾¾å¼å¦‚ä¸‹ï¼ˆ&lt;/span&gt;&lt;span&gt;äº’è¡¥ç´¯ç§¯åˆ†å¸ƒå‡½æ•°å…¬å¼&lt;/span&gt;&lt;span&gt;ï¼‰ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;P(X-t&amp;gt;x \mid X&amp;gt;t) \sim\left(1+\frac{\gamma x}{\delta(t)}\right)^{-\frac{1}{\gamma}}&amp;#10;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;embed src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/3a3QxMHZ8YyicHoJgRl1VavX6SEdiaqLGUI02iaIXT41bG9dfP91DQQp2jiaTRFmIHHcSianyjVZvjh2BRBhMHQ5WicOmx8N7ylicnJ/0?wx_fmt=svg&quot; data-type=&quot;svg+xml&quot;/&gt;&lt;/section&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å…¶ä¸­tä»£è¡¨æ ·æœ¬çš„ç»éªŒé˜ˆå€¼ï¼Œå¯¹äºä¸åŒåœºæ™¯å¯ä»¥è®¾ç½®ä¸åŒå–å€¼ï¼Œ&lt;span&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -441 543 657&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;3B3&quot; d=&quot;M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;,&lt;span&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -717 444 727&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;3B4&quot; d=&quot;M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;åˆ†åˆ«æ˜¯å¹¿ä¹‰å¸•ç´¯æ‰˜åˆ†å¸ƒä¸­çš„å½¢çŠ¶å‚æ•°ä¸å°ºåº¦å‚æ•°ï¼Œåœ¨ç»™å®šæ ·æœ¬è¶…è¿‡äººä¸ºè®¾å®šçš„ç»éªŒé˜ˆå€¼tçš„æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡X-tæ˜¯æœä»å¹¿ä¹‰å¸•ç´¯æ‰˜åˆ†å¸ƒçš„ã€‚é€šè¿‡æå¤§ä¼¼ç„¶ä¼°è®¡æ–¹æ³•æˆ‘ä»¬å¯ä»¥è®¡ç®—è·å¾—å‚æ•°ä¼°è®¡å€¼&lt;span&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -764 543 980&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mover&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;3B3&quot; d=&quot;M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(40.3, -30)&quot;&gt;&lt;path data-c=&quot;5E&quot; d=&quot;M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt;ä¸&lt;span&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -1040 555.6 1050&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mover&quot;&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(28, 0)&quot;&gt;&lt;path data-c=&quot;3B4&quot; d=&quot;M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(55.6, 246)&quot;&gt;&lt;path data-c=&quot;5E&quot; d=&quot;M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/span&gt; ï¼Œå¹¶ä¸”é€šè¿‡å¦‚ä¸‹å…¬å¼æ¥æ±‚å–æ¨¡å‹é˜ˆå€¼ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;section role=&quot;presentation&quot; data-formula=&quot;z_{q} \simeq t \pm \frac{\hat{\delta}}{\hat{\gamma}}\left(\left(\frac{q n}{N_{t}}\right)^{-\hat{\gamma}}-1\right)&amp;#10;&quot; data-formula-type=&quot;block-equation&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; role=&quot;img&quot; focusable=&quot;false&quot; viewbox=&quot;0 -1749.5 12063.7 2999&quot; aria-hidden=&quot;true&quot;&gt;&lt;g stroke=&quot;currentColor&quot; fill=&quot;currentColor&quot; stroke-width=&quot;0&quot; transform=&quot;matrix(1 0 0 -1 0 0)&quot;&gt;&lt;g data-mml-node=&quot;math&quot;&gt;&lt;g data-mml-node=&quot;msub&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;7A&quot; d=&quot;M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; transform=&quot;translate(465, -150) scale(0.707)&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;71&quot; d=&quot;M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(1118, 0)&quot;&gt;&lt;path data-c=&quot;2243&quot; d=&quot;M55 283Q55 356 103 409T217 463Q262 463 297 447T395 382Q431 355 446 344T493 320T554 307H558Q613 307 652 344T694 433Q694 464 708 464T722 432Q722 356 673 304T564 251H554Q510 251 465 275T387 329T310 382T223 407H219Q164 407 122 367Q91 333 85 295T76 253T69 250Q55 250 55 283ZM56 56Q56 71 72 76H706Q722 70 722 56Q722 44 707 36H70Q56 43 56 56Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(2173.8, 0)&quot;&gt;&lt;path data-c=&quot;74&quot; d=&quot;M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(2757, 0)&quot;&gt;&lt;path data-c=&quot;B1&quot; d=&quot;M56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mfrac&quot; transform=&quot;translate(3757.3, 0)&quot;&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; data-mjx-texclass=&quot;ORD&quot; transform=&quot;translate(220, 676)&quot;&gt;&lt;g data-mml-node=&quot;mover&quot;&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(28, 0)&quot;&gt;&lt;path data-c=&quot;3B4&quot; d=&quot;M195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(55.6, 246)&quot;&gt;&lt;path data-c=&quot;5E&quot; d=&quot;M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; data-mjx-texclass=&quot;ORD&quot; transform=&quot;translate(226.3, -724)&quot;&gt;&lt;g data-mml-node=&quot;mover&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;3B3&quot; d=&quot;M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(40.3, -30)&quot;&gt;&lt;path data-c=&quot;5E&quot; d=&quot;M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;rect x=&quot;120&quot; y=&quot;220&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mrow&quot; transform=&quot;translate(4752.9, 0)&quot;&gt;&lt;g data-mml-node=&quot;mo&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;msup&quot; transform=&quot;translate(792, 0)&quot;&gt;&lt;g data-mml-node=&quot;mrow&quot;&gt;&lt;g data-mml-node=&quot;mo&quot;&gt;&lt;path data-c=&quot;28&quot; d=&quot;M701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mfrac&quot; transform=&quot;translate(736, 0)&quot;&gt;&lt;g data-mml-node=&quot;mrow&quot; transform=&quot;translate(244.1, 676)&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;71&quot; d=&quot;M33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mi&quot; transform=&quot;translate(460, 0)&quot;&gt;&lt;path data-c=&quot;6E&quot; d=&quot;M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;msub&quot; transform=&quot;translate(220, -686)&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;4E&quot; d=&quot;M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; transform=&quot;translate(803, -150) scale(0.707)&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;74&quot; d=&quot;M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;rect x=&quot;120&quot; y=&quot;220&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(2284.3, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; transform=&quot;translate(3020.3, 1176.6) scale(0.707)&quot; data-mjx-texclass=&quot;ORD&quot;&gt;&lt;g data-mml-node=&quot;mo&quot;&gt;&lt;path data-c=&quot;2212&quot; d=&quot;M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;TeXAtom&quot; data-mjx-texclass=&quot;ORD&quot; transform=&quot;translate(778, 0)&quot;&gt;&lt;g data-mml-node=&quot;mover&quot;&gt;&lt;g data-mml-node=&quot;mi&quot;&gt;&lt;path data-c=&quot;3B3&quot; d=&quot;M31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(40.3, -30)&quot;&gt;&lt;path data-c=&quot;5E&quot; d=&quot;M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(5018.6, 0)&quot;&gt;&lt;path data-c=&quot;2212&quot; d=&quot;M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mn&quot; transform=&quot;translate(6018.8, 0)&quot;&gt;&lt;path data-c=&quot;31&quot; d=&quot;M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z&quot;/&gt;&lt;/g&gt;&lt;g data-mml-node=&quot;mo&quot; transform=&quot;translate(6518.8, 0)&quot;&gt;&lt;path data-c=&quot;29&quot; d=&quot;M33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741Z&quot;/&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/section&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä¸Šè¿°å…¬å¼ä¸­qä»£è¡¨é£é™©å‚æ•°ï¼Œnæ˜¯æ‰€æœ‰æ ·æœ¬æ•°é‡ï¼ŒNtæ˜¯æ»¡è¶³x-t&amp;gt;0çš„æ ·æœ¬æ•°é‡ã€‚ç”±äºé€šå¸¸æƒ…å†µä¸‹å¯¹äºç»éªŒé˜ˆå€¼tçš„ä¼°è®¡æ²¡æœ‰å…ˆéªŒçš„ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ ·æœ¬ç»éªŒåˆ†ä½æ•°æ¥æ›¿ä»£æ•°å€¼tï¼Œè¿™é‡Œç»éªŒåˆ†ä½æ•°çš„å–å€¼å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥é€‰æ‹©ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;8. å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;[1] Ren, H., Xu, B., Wang, Y., Yi, C., Huang, C., Kou, X., ... &amp;amp; Zhang, Q. (2019, July). Time-series anomaly detection service at microsoft. In Proceedings of the 25th ACM SIGKDD international conference on knowledge discovery &amp;amp; data mining (pp. 3009-3017).&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[2] Lu, J., Liu, A., Dong, F., Gu, F., Gama, J., &amp;amp; Zhang, G. (2018). Learning under concept drift: A review. IEEE Transactions on Knowledge and Data Engineering, 31(12), 2346-2363.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[3] Mushtaq, R. (2011). Augmented dickey fuller test.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[4] Ma, M., Yin, Z., Zhang, S., Wang, S., Zheng, C., Jiang, X., ... &amp;amp; Pei, D. (2020). Diagnosing root causes of intermittent slow queries in cloud databases. Proceedings of the VLDB Endowment, 13(8), 1176-1189.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[5] Holzinger, A. (2016). Interactive machine learning for health informatics: when do we need the human-in-the-loop?. Brain Informatics, 3(2), 119-131.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[6] Leys, C., Ley, C., Klein, O., Bernard, P., &amp;amp; Licata, L. (2013). Detecting outliers: Do not use standard deviation around the mean, use absolute deviation around the median. Journal of experimental social psychology, 49(4), 764-766.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[7] Hubert, M., &amp;amp; Vandervieren, E. (2008). An adjusted boxplot for skewed distributions. Computational statistics &amp;amp; data analysis, 52(12), 5186-5201.&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;[8] Siffer, A., Fouque, P. A., Termier, A., &amp;amp; Largouet, C. (2017, August). Anomaly detection in streams with extreme value theory. In Proceedings of the 23rd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining (pp. 1067-1075).&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;----------Â  ENDÂ  ----------&lt;/span&gt;&lt;strong/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;å›¢é˜Ÿç®€ä»‹&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section data-source=&quot;bj.96weixin.com&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;ç¾å›¢åŸºç¡€æŠ€æœ¯éƒ¨/æ•°æ®åº“ç ”å‘ä¸­å¿ƒ/æ•°æ®åº“å¹³å°ç ”å‘ç»„ï¼Œè´Ÿè´£ä¸ºç¾å›¢å„ä¸ªä¸šåŠ¡çº¿æä¾›é«˜æ•ˆä¾¿æ·çš„æ•°æ®åº“ä½¿ç”¨å…¥å£ï¼Œå¸®åŠ©ç¾å›¢DBAç¨³å®šå¿«æ·åœ°ç»´æŠ¤æ•°æ®åº“ï¼ŒåŒæ—¶æä¾›åˆ†æè¯Šæ–­å¹³å°ï¼Œå®ç°æ•°æ®åº“è‡ªæ²»ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;ä¹Ÿè®¸ä½ è¿˜æƒ³çœ‹&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Â  |Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651768225&amp;amp;idx=1&amp;amp;sn=9d31b08486cef404013972ebc809de3c&amp;amp;chksm=bd121cec8a6595fa2062a4e129cdf216711ef39e12535d67cd8dfe990ed09f9fe95a3e312245&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®åº“å¼‚å¸¸æ™ºèƒ½åˆ†æä¸è¯Šæ–­&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;/&gt;&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651768225&amp;amp;idx=1&amp;amp;sn=9d31b08486cef404013972ebc809de3c&amp;amp;chksm=bd121cec8a6595fa2062a4e129cdf216711ef39e12535d67cd8dfe990ed09f9fe95a3e312245&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®åº“å¼‚å¸¸æ™ºèƒ½åˆ†æä¸è¯Šæ–­&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ•°æ®åº“å¼‚å¸¸æ™ºèƒ½åˆ†æä¸è¯Šæ–­&lt;/a&gt;&lt;strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651768225&amp;amp;idx=1&amp;amp;sn=9d31b08486cef404013972ebc809de3c&amp;amp;chksm=bd121cec8a6595fa2062a4e129cdf216711ef39e12535d67cd8dfe990ed09f9fe95a3e312245&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®åº“å¼‚å¸¸æ™ºèƒ½åˆ†æä¸è¯Šæ–­&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;Â  |&lt;/strong&gt;&lt;/span&gt;Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651769043&amp;amp;idx=1&amp;amp;sn=06214b6b59b894cf504a50ed4aacc02a&amp;amp;chksm=bd12119e8a6598885762f40ace12ef0bdf78c90a588a794c4363db79a3b8e45c14ac227e828b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®åº“å…¨é‡SQLåˆ†æä¸å®¡è®¡ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–ä¹‹æ—…&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ•°æ®åº“å…¨é‡SQLåˆ†æä¸å®¡è®¡ç³»ç»Ÿæ€§èƒ½ä¼˜åŒ–ä¹‹æ—…&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;Â  |&lt;/strong&gt;Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651751923&amp;amp;idx=1&amp;amp;sn=3908b323818b299c13cb19da24d2eb91&amp;amp;chksm=bd125cbe8a65d5a89a72e9b39e04da8ad78a609ed886c7f70dfcaebfb78aebd63f5701cc7787&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç¾å›¢MySQLæ•°æ®åº“å·¡æ£€ç³»ç»Ÿçš„è®¾è®¡ä¸åº”ç”¨&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ç¾å›¢MySQLæ•°æ®åº“å·¡æ£€ç³»ç»Ÿçš„è®¾è®¡ä¸åº”ç”¨&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;é˜…è¯»æ›´å¤š&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;---&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765958&amp;amp;idx=1&amp;amp;sn=8201546812e5a95a2bee9dffc6d12f00&amp;amp;chksm=bd12658b8a65ec9de2f5be1e96796dfb3c8f1a374d4b7bd91266072f557caf8118d4ddb72b07&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å‰â€ç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;å‰ç«¯&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |&lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;https://t.1yb.co/jo7v&quot; textvalue=&quot;Â å®‰å…¨&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;&lt;strong&gt;Â &lt;/strong&gt;Â &lt;/span&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765981&amp;amp;idx=1&amp;amp;sn=c2dd86f15dee2cbbc89e27677d985060&amp;amp;chksm=bd1265908a65ec86d4d08f7600d1518b61c90f6453074f9b308c96861c045712280a73751c73&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç®—â€æ³•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ç®—æ³•&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |&lt;/strong&gt;Â &lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765982&amp;amp;idx=1&amp;amp;sn=231b41f653ac7959f3e3b8213dcec2b0&amp;amp;chksm=bd1265938a65ec85630c546169444d56377bc2f11401d251da7ca50e5d07e353aa01580c7216&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åâ€ç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;åç«¯&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |Â &lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765964&amp;amp;idx=1&amp;amp;sn=ab6d8db147234fe57f27dd46eec40fef&amp;amp;chksm=bd1265818a65ec9749246dd1a2eb3bf7798772cc4d5b4283b15eae2f80bc6db63a1471a9e61e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°â€æ®&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ•°æ®&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765965&amp;amp;idx=1&amp;amp;sn=37e0c56c8b080146ce5249243bfd84d8&amp;amp;chksm=bd1265808a65ec96d3a2b2c87c6e27c910d49cb6b149970fb2db8bf88045a0a85fed2e6a0b84&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å®‰â€å…¨&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;å®‰å…¨&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |Â &lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765972&amp;amp;idx=1&amp;amp;sn=afe02ec92762c1ce18740d03324c4ac3&amp;amp;chksm=bd1265998a65ec8f10d5f58d0f3681ddfc5325137218e568e1cda3a50e427749edb5c6a7dcf5&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Andâ€roid&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Android&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |&lt;/strong&gt;Â &lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765973&amp;amp;idx=1&amp;amp;sn=32a23bf1d278dda0398f993ab60a697e&amp;amp;chksm=bd1265988a65ec8e630ef4d24b4946ab6bd7e66702c1d712481cf3c471468a059c470a14c30d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;iOâ€S&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;iOS&lt;/span&gt;&lt;/a&gt;&lt;span&gt;Â &lt;strong&gt;Â |&lt;/strong&gt;Â &lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765963&amp;amp;idx=1&amp;amp;sn=a3de9ef267d07d94118c1611776a4b28&amp;amp;chksm=bd1265868a65ec906592d25ad65f2a8516338d07ec3217059e6975fc131fc0107d66a8cd2612&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¿â€ç»´&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;è¿ç»´&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;Â |Â &lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651765974&amp;amp;idx=1&amp;amp;sn=763c1e37d04acffd0142a2852ecfb000&amp;amp;chksm=bd12659b8a65ec8dfcfeb2028ef287fae7c38f134a665375ba420556ce5d2e4cf398147bd12e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æµ‹â€è¯•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; tab=&quot;outerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æµ‹è¯•&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MjM5NjQ5MTI5OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsVGibnsaEib3aNlqF0tOrA2RGEmNSbia2nnohE4Tpf95UyTiaSjDVbHRfY8WNBeTuLLTaVdSckkNyEx1Q/0?wx_fmt=png&quot; data-nickname=&quot;ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ&quot; data-alias=&quot;meituantech&quot; data-signature=&quot;10000+å·¥ç¨‹å¸ˆï¼Œå¦‚ä½•æ”¯æ’‘ä¸­å›½é¢†å…ˆçš„ç”Ÿæ´»æœåŠ¡ç”µå­å•†åŠ¡å¹³å°ï¼Ÿæ•°äº¿æ¶ˆè´¹è€…ã€æ•°ç™¾ä¸‡å•†æˆ·ã€2000å¤šä¸ªè¡Œä¸šã€å‡ åƒäº¿äº¤æ˜“é¢èƒŒåæ˜¯å“ªäº›æŠ€æœ¯åœ¨æ”¯æ’‘ï¼Ÿè¿™é‡Œæ˜¯ç¾å›¢ã€å¤§ä¼—ç‚¹è¯„ã€ç¾å›¢å¤–å–ã€ç¾å›¢é…é€ã€ç¾å›¢ä¼˜é€‰ç­‰æŠ€æœ¯å›¢é˜Ÿçš„å¯¹å¤–çª—å£ã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>10466ac7cc9d30ca7acb2189addac4c7</guid>
<title>Redis 6 ä¸­çš„å¤šçº¿ç¨‹æ˜¯å¦‚ä½•å®ç°çš„ï¼ï¼Ÿ</title>
<link>https://toutiao.io/k/c3kqthc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section&gt;Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½æœåŠ¡ç«¯çš„å…¸èŒƒã€‚å®ƒé€šè¿‡å¤šè·¯å¤ç”¨ epoll æ¥ç®¡ç†æµ·é‡çš„ç”¨æˆ·è¿æ¥ï¼Œåªä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥é€šè¿‡äº‹ä»¶å¾ªç¯æ¥å¤„ç†æ‰€æœ‰ç”¨æˆ·è¯·æ±‚ï¼Œå°±å¯ä»¥è¾¾åˆ°æ¯ç§’æ•°ä¸‡ QPS çš„å¤„ç†èƒ½åŠ›ã€‚ä¸‹å›¾æ˜¯å•çº¿ç¨‹ç‰ˆæœ¬ Redis å·¥ä½œçš„æ ¸å¿ƒåŸç†å›¾ï¼ˆå‚è§ï¼š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNDUxOTQ5MQ==&amp;amp;mid=2247522300&amp;amp;idx=2&amp;amp;sn=620d863280a0fffc76a15f6ac7451dc8&amp;amp;chksm=9b2874d0ac5ffdc671a34c0c294c8231b5768d8ae73701b91a8fb90b843766aa692b56a7b258&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å•çº¿ç¨‹ Redis å¦‚ä½•åšåˆ°æ¯ç§’â€æ•°ä¸‡ QPS çš„è¶…é«˜å¤„ç†èƒ½åŠ›ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;strong&gt;å•çº¿ç¨‹ Redis å¦‚ä½•åšåˆ°æ¯ç§’æ•°ä¸‡ QPS çš„è¶…é«˜å¤„ç†èƒ½åŠ›ï¼&lt;/strong&gt;&lt;/a&gt;ï¼‰ã€‚&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9217221135029354&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYpDx3n42FppzUPVz6qqv9LpojMsfVic1ogesNzKaGw0jybVsgapXxbxg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;511&quot;/&gt;&lt;/p&gt;&lt;section&gt;å•çº¿ç¨‹çš„ Redis è™½ç„¶æ€§èƒ½å¾ˆé«˜ï¼Œä½†æ˜¯å´æœ‰ä¸¤ä¸ªé—®é¢˜ã€‚ä¸€ä¸ªé—®é¢˜æ˜¯æ²¡æœ‰åŠæ³•å……åˆ†å‘æŒ¥ç°ä»£ CPU çš„å¤šæ ¸å¤„ç†èƒ½åŠ›ï¼Œä¸€ä¸ªå®ä¾‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªæ ¸çš„èƒ½åŠ›ã€‚äºŒæ˜¯å¦‚æœæŸä¸ªç”¨æˆ·è¯·æ±‚çš„å¤„ç†è¿‡ç¨‹å¡ä½ä¸€æ®µæ—¶é—´ï¼Œä¼šå¯¼è‡´å…¶å®ƒæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šå‡ºç°è¶…æ—¶çš„æƒ…å†µã€‚æ‰€ä»¥ï¼Œåœ¨çº¿ä¸Šçš„ redis ä½¿ç”¨è¿‡ç¨‹æ—¶æ˜¯æ˜ç¡®ç¦æ­¢ä½¿ç”¨ keys * ç­‰é•¿è€—æ—¶çš„æ“ä½œçš„ã€‚&lt;br/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£å¦‚ä½•æ”¹è¿›å‘¢ï¼Œæ€è·¯å’Œæ–¹å‘å…¶å®å¾ˆæ˜ç¡®ã€‚é‚£å°±æ˜¯å’Œå…¶å®ƒçš„ä¸»æµç¨‹åºä¸€æ ·å¼•å…¥å¤šçº¿ç¨‹ï¼Œç”¨æ›´å¤šçš„çº¿ç¨‹æ¥åˆ†æ‹…è¿™äº›å¯èƒ½è€—æ—¶çš„æ“ä½œã€‚äº‹å®ä¸Š Redis ä¹Ÿç¡®å®è¿™ä¹ˆå¹²äº†ï¼Œåœ¨ 6.0 ä»¥åçš„ç‰ˆæœ¬é‡Œï¼Œå¼€å§‹æ”¯æŒäº†å¤šçº¿ç¨‹ã€‚æˆ‘ä»¬ä»Šå¤©å°±æ¥é¢†ç•¥ä¸€ä¸‹ Redis çš„å¤šçº¿ç¨‹æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸€ã€å¤šçº¿ç¨‹ Redis æœåŠ¡å¯åŠ¨&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¦–å…ˆè·å–å¤šçº¿ç¨‹ç‰ˆæœ¬ Redis çš„æºç &lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;Â gitÂ &lt;span&gt;clone&lt;/span&gt;Â https://github.com/redis/redis&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;Â &lt;span&gt;cd&lt;/span&gt;Â redis&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;Â gitÂ checkoutÂ -bÂ 6.2.0Â 6.2.0&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é»˜è®¤æƒ…å†µä¸‹å¤šçº¿ç¨‹æ˜¯é»˜è®¤å…³é—­çš„ã€‚å¦‚æœæƒ³è¦å¯åŠ¨å¤šçº¿ç¨‹ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åšé€‚å½“çš„ä¿®æ”¹ã€‚ç›¸å…³çš„é…ç½®é¡¹æ˜¯ io-threads å’Œ io-threads-do-reads ä¸¤ä¸ªã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;viÂ /usr/&lt;span&gt;local&lt;/span&gt;/soft/redis6/conf/redis.confÂ &lt;/span&gt;&lt;br/&gt;io-threadsÂ 4Â #å¯ç”¨çš„Â ioÂ çº¿ç¨‹æ•°é‡&lt;br/&gt;io-threads-do-readsÂ yesÂ #è¯»è¯·æ±‚ä¹Ÿä½¿ç”¨ioçº¿ç¨‹&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ io-threads è¡¨ç¤ºè¦å¯åŠ¨çš„ io çº¿ç¨‹çš„æ•°é‡ã€‚io-threads-do-reads è¡¨ç¤ºæ˜¯å¦åœ¨è¯»é˜¶æ®µä¹Ÿä½¿ç”¨Â io çº¿ç¨‹ï¼Œé»˜è®¤æ˜¯åªåœ¨å†™é˜¶æ®µä½¿ç”¨ io çº¿ç¨‹çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨å‡è®¾æˆ‘ä»¬å·²ç»æ‰“å¼€äº†å¦‚ä¸Šä¸¤é¡¹å¤šçº¿ç¨‹é…ç½®ã€‚å¸¦ç€è¿™ä¸ªå‡è®¾ï¼Œè®©æˆ‘ä»¬è¿›å…¥åˆ° Redis çš„ main å…¥å£å‡½æ•°ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â argc,Â &lt;span&gt;char&lt;/span&gt;Â **argv)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 1.1Â ä¸»çº¿ç¨‹åˆå§‹åŒ–&lt;/span&gt;&lt;br/&gt;Â Â Â Â initServer();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 1.2Â å¯åŠ¨Â ioÂ çº¿ç¨‹&lt;/span&gt;&lt;br/&gt;Â Â Â Â InitServerLast();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è¿›å…¥äº‹ä»¶å¾ªç¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeMain(server.el);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.1 ä¸»çº¿ç¨‹åˆå§‹åŒ–&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ initServer è¿™ä¸ªå‡½æ•°å†…ï¼ŒRedis ä¸»çº¿ç¨‹åšäº†è¿™ä¹ˆå‡ ä»¶é‡è¦çš„äº‹æƒ…ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6492890995260664&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYic6MVguOxd0U1biaRkIsXddUgLXiaAib0lg3hrcQFlsQAH7V9zLJkZbBNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;422&quot;/&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åˆå§‹åŒ–è¯»ä»»åŠ¡é˜Ÿåˆ—ã€å†™ä»»åŠ¡é˜Ÿåˆ—&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åˆ›å»ºä¸€ä¸ª epoll å¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹é…ç½®çš„ç›‘å¬ç«¯å£è¿›è¡Œ listen&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æŠŠ listen socket è®© epoll ç»™ç®¡ç†èµ·æ¥&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;initServer&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 1Â åˆå§‹åŒ–Â serverÂ å¯¹è±¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â server.clients_pending_writeÂ =Â listCreate();&lt;br/&gt;Â Â Â Â server.clients_pending_readÂ =Â listCreate();&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 2Â åˆå§‹åŒ–å›è°ƒÂ eventsï¼Œåˆ›å»ºÂ epoll&lt;/span&gt;&lt;br/&gt;Â Â Â Â server.elÂ =Â aeCreateEventLoop(server.maxclients+CONFIG_FDSET_INCR);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 3Â ç»‘å®šç›‘å¬æœåŠ¡ç«¯å£&lt;/span&gt;&lt;br/&gt;Â Â Â Â listenToPort(server.port,server.ipfd,&amp;amp;server.ipfd_count);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 4Â æ³¨å†ŒÂ acceptÂ äº‹ä»¶å¤„ç†å™¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â server.ipfd_count;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â aeCreateFileEvent(server.el,Â server.ipfd[j],Â AE_READABLE,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â acceptTcpHandler,&lt;span&gt;NULL&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åˆå§‹åŒ– server å¯¹è±¡&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ initServer çš„ä¸€å¼€å¤´ï¼Œå…ˆæ˜¯å¯¹ server çš„å„ç§æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ clients_pending_write å’Œ clients_pending_read è¿™ä¸¤ä¸ªæˆå‘˜ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯å†™ä»»åŠ¡é˜Ÿåˆ—å’Œè¯»ä»»åŠ¡é˜Ÿåˆ—ã€‚å°†æ¥ä¸»çº¿ç¨‹äº§ç”Ÿçš„ä»»åŠ¡éƒ½ä¼šæ”¾åœ¨æ”¾åœ¨è¿™ä¸¤ä¸ªä»»åŠ¡é˜Ÿåˆ—é‡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸»çº¿ç¨‹ä¼šæ ¹æ®è¿™ä¸¤ä¸ªä»»åŠ¡é˜Ÿåˆ—æ¥è¿›è¡Œä»»åŠ¡å“ˆå¸Œæ•£åˆ—ï¼Œä»¥å°†ä»»åŠ¡åˆ†é…åˆ°å¤šä¸ªçº¿ç¨‹ä¸­è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;aeCreateEventLoop å¤„ç†&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ aeCreateEventLoop è¯¦ç»†é€»è¾‘ã€‚å®ƒä¼šåˆå§‹åŒ–äº‹ä»¶å›è°ƒ eventï¼Œå¹¶ä¸”åˆ›å»ºäº†ä¸€ä¸ª epoll å¯¹è±¡å‡ºæ¥ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;aeEventLoopÂ *&lt;span&gt;aeCreateEventLoop&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â setsize)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â aeEventLoopÂ *eventLoop;&lt;br/&gt;Â Â Â Â eventLoopÂ =Â zmalloc(&lt;span&gt;sizeof&lt;/span&gt;(*eventLoop);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å°†æ¥çš„å„ç§å›è°ƒäº‹ä»¶å°±éƒ½ä¼šå­˜åœ¨è¿™é‡Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â eventLoop-&amp;gt;eventsÂ =Â zmalloc(&lt;span&gt;sizeof&lt;/span&gt;(aeFileEvent)*setsize);&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â aeApiCreate(eventLoop);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â eventLoop;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ³¨æ„ä¸€ä¸‹ eventLoop-&amp;gt;eventsï¼Œå°†æ¥åœ¨å„ç§äº‹ä»¶æ³¨å†Œçš„æ—¶å€™éƒ½ä¼šä¿å­˜åˆ°è¿™ä¸ªæ•°ç»„é‡Œã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae.h&lt;/span&gt;&lt;br/&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;aeEventLoop&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;Â Â Â Â aeFileEventÂ *events;Â &lt;span&gt;/*Â RegisteredÂ eventsÂ */&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“åˆ›å»º epoll çš„è¿‡ç¨‹åœ¨ ae_epoll.c æ–‡ä»¶ä¸‹çš„ aeApiCreate ä¸­ã€‚åœ¨è¿™é‡Œï¼ŒçœŸæ­£è°ƒç”¨äº† epoll_create&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae_epoll.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeApiCreate&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â aeApiStateÂ *stateÂ =Â zmalloc(&lt;span&gt;sizeof&lt;/span&gt;(aeApiState));&lt;br/&gt;Â Â Â Â state-&amp;gt;epfdÂ =Â epoll_create(&lt;span&gt;1024&lt;/span&gt;);Â &lt;br/&gt;Â Â Â Â eventLoop-&amp;gt;apidataÂ =Â state;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç»‘å®šç›‘å¬æœåŠ¡ç«¯å£&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å†æ¥çœ‹ Redis ä¸­çš„ listen è¿‡ç¨‹ï¼Œå®ƒåœ¨ listenToPort å‡½æ•°ä¸­ã€‚è°ƒç”¨é“¾æ¡å¾ˆé•¿ï¼Œä¾æ¬¡æ˜¯ listenToPort =&amp;gt; anetTcpServer =&amp;gt; _anetTcpServer =&amp;gt; anetListenã€‚åœ¨ anetListen ä¸­ï¼Œå°±æ˜¯ç®€å•çš„ bind å’Œ listen çš„è°ƒç”¨ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/anet.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;anetListen&lt;/span&gt;&lt;span&gt;(......)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â bind(s,sa,len);&lt;br/&gt;Â Â Â Â listen(s,Â backlog);&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ³¨å†Œäº‹ä»¶å›è°ƒå‡½æ•°&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰é¢æˆ‘ä»¬è°ƒç”¨ aeCreateEventLoop åˆ›å»ºäº† epollï¼Œè°ƒç”¨ listenToPort è¿›è¡Œäº†æœåŠ¡ç«¯å£çš„ bind å’Œ listenã€‚æ¥ç€å°±è°ƒç”¨çš„ aeCreateFileEvent å°±æ˜¯æ¥æ³¨å†Œä¸€ä¸ª accept äº‹ä»¶å¤„ç†å™¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ aeCreateFileEvent å…·ä½“ä»£ç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/ae.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeCreateFileEvent&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop,Â &lt;span&gt;int&lt;/span&gt;Â fd,Â &lt;span&gt;int&lt;/span&gt;Â mask,&lt;br/&gt;Â Â Â Â Â Â Â Â aeFileProcÂ *proc,Â &lt;span&gt;void&lt;/span&gt;Â *clientData)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â å–å‡ºä¸€ä¸ªæ–‡ä»¶äº‹ä»¶ç»“æ„&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeFileEventÂ *feÂ =Â &amp;amp;eventLoop-&amp;gt;events[fd];&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ç›‘å¬æŒ‡å®šÂ fdÂ çš„æŒ‡å®šäº‹ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeApiAddEvent(eventLoop,Â fd,Â mask);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è®¾ç½®æ–‡ä»¶äº‹ä»¶ç±»å‹ï¼Œä»¥åŠäº‹ä»¶çš„å¤„ç†å™¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â fe-&amp;gt;maskÂ |=Â mask;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (maskÂ &amp;amp;Â AE_READABLE)Â fe-&amp;gt;rfileProcÂ =Â proc;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (maskÂ &amp;amp;Â AE_WRITABLE)Â fe-&amp;gt;wfileProcÂ =Â proc;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ç§æœ‰æ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â fe-&amp;gt;clientDataÂ =Â clientData;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡½æ•° aeCreateFileEvent ä¸€å¼€å§‹ï¼Œä» eventLoop-&amp;gt;events è·å–äº†ä¸€ä¸ª aeFileEvent å¯¹è±¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥è°ƒç”¨ aeApiAddEventã€‚è¿™ä¸ªå‡½æ•°å…¶å®å°±æ˜¯å¯¹ epoll_ctl çš„ä¸€ä¸ªå°è£…ã€‚ä¸»è¦å°±æ˜¯å®é™…æ‰§è¡Œ epoll_ctl EPOLL_CTL_ADDã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae_epoll.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeApiAddEvent&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop,Â &lt;span&gt;int&lt;/span&gt;Â fd,Â &lt;span&gt;int&lt;/span&gt;Â mask)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â addÂ orÂ mod&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â opÂ =Â eventLoop-&amp;gt;events[fd].maskÂ ==Â AE_NONEÂ ?&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â EPOLL_CTL_ADDÂ :Â EPOLL_CTL_MOD;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â epoll_ctlÂ æ·»åŠ äº‹ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â epoll_ctl(state-&amp;gt;epfd,op,fd,&amp;amp;ee);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯ä¸€ä¸ª eventLoop-&amp;gt;events å…ƒç´ éƒ½æŒ‡å‘ä¸€ä¸ª aeFileEvent å¯¹è±¡ã€‚åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šï¼Œè®¾ç½®äº†ä¸‰ä¸ªå…³é”®ä¸œè¥¿&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;rfileProcï¼šè¯»äº‹ä»¶å›è°ƒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;wfileProcï¼šå†™äº‹ä»¶å›è°ƒ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;clientDataï¼šä¸€äº›é¢å¤–çš„æ‰©å±•æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°†æ¥ å½“ epoll_wait å‘ç°æŸä¸ª fd ä¸Šæœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ï¼Œè¿™æ · redis é¦–å…ˆæ ¹æ® fd åˆ° eventLoop-&amp;gt;events ä¸­æŸ¥æ‰¾ aeFileEvent å¯¹è±¡ï¼Œç„¶åå†çœ‹ rfileProcã€wfileProc å°±å¯ä»¥æ‰¾åˆ°è¯»ã€å†™å›è°ƒå¤„ç†å‡½æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›å¤´çœ‹ initServer è°ƒç”¨ aeCreateFileEvent æ—¶ä¼ å‚æ¥çœ‹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;initServer&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â server.ipfd_count;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â aeCreateFileEvent(server.el,Â server.ipfd[j],Â AE_READABLE,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â acceptTcpHandler,&lt;span&gt;NULL&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;listen fd å¯¹åº”çš„è¯»å›è°ƒå‡½æ•° rfileProc äº‹å®ä¸Šå°±è¢«è®¾ç½®æˆäº† acceptTcpHandlerï¼Œå†™å›è°ƒæ²¡æœ‰è®¾ç½®ï¼Œç§æœ‰æ•°æ® client_data ä¹Ÿä¸º nullã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1.2 io çº¿ç¨‹å¯åŠ¨&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸»çº¿ç¨‹å¯åŠ¨ä»¥åï¼Œä¼šè°ƒç”¨ InitServerLast =&amp;gt; initThreadedIO æ¥åˆ›å»ºå¤šä¸ª io çº¿ç¨‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.47379454926624737&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyY5o3bxXR5YavuN1pmH0EHb63DFXwtpUYgV8KhJAPY4TLKHudicPcbwLQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;477&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°†æ¥è¿™äº› IO çº¿ç¨‹ä¼šé…åˆä¸»çº¿ç¨‹ä¸€èµ·å…±åŒæ¥å¤„ç†æ‰€æœ‰çš„ read å’Œ write ä»»åŠ¡ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9035639412997903&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYU4OgVsrMzW6HibFTfvcXbPhZb9Fe5KxFYJMnXPOfleDE20dUGciaicaCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;477&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ InitServerLast åˆ›å»º IO çº¿ç¨‹çš„è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;InitServerLast&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â initThreadedIO();&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;initThreadedIO&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¦‚æœæ²¡å¼€å¯å¤šÂ ioÂ çº¿ç¨‹é…ç½®å°±ä¸åˆ›å»ºäº†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (server.io_threads_numÂ ==Â &lt;span&gt;1&lt;/span&gt;)Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¼€å§‹Â ioÂ çº¿ç¨‹çš„åˆ›å»º&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â server.io_threads_num;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;pthread_t&lt;/span&gt;Â tid;&lt;br/&gt;Â Â Â Â Â Â Â Â pthread_create(&amp;amp;tid,&lt;span&gt;NULL&lt;/span&gt;,IOThreadMain,(&lt;span&gt;void&lt;/span&gt;*)(&lt;span&gt;long&lt;/span&gt;)i)&lt;br/&gt;Â Â Â Â Â Â Â Â io_threads[i]Â =Â tid;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ initThreadedIO ä¸­è°ƒç”¨ pthread_create åº“å‡½æ•°åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¸”æ³¨å†Œçº¿ç¨‹å›è°ƒå‡½æ•° IOThreadMainã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â *&lt;span&gt;IOThreadMain&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;Â *myid)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;long&lt;/span&gt;Â idÂ =Â (&lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;)myid;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å¾ªç¯ç­‰å¾…ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â &lt;span&gt;1000000&lt;/span&gt;;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (getIOPendingCount(id)Â !=Â &lt;span&gt;0&lt;/span&gt;)Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å…è®¸ä¸»çº¿ç¨‹æ¥å…³é—­è‡ªå·±&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//éå†å½“å‰çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—é‡Œçš„è¯·æ±‚Â client&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â listIterÂ li;&lt;br/&gt;Â Â Â Â Â Â Â Â listNodeÂ *ln;&lt;br/&gt;Â Â Â Â Â Â Â Â listRewind(io_threads_list[id],&amp;amp;li);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_WRITE)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â writeToClient(c,&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_READ)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â readQueryFromClient(c-&amp;gt;conn);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â serverPanic(&lt;span&gt;&quot;io_threads_opÂ valueÂ isÂ unknown&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â listEmpty(io_threads_list[id]);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¯å°†å½“å‰çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ— io_threads_list[id] é‡Œæ‰€æœ‰çš„è¯·æ±‚ clientï¼Œä¾æ¬¡å–å‡ºå¤„ç†ã€‚å…¶ä¸­è¯»æ“ä½œé€šè¿‡ readQueryFromClient å¤„ç†ï¼Œ å†™æ“ä½œé€šè¿‡ writeToClient å¤„ç†ã€‚å…¶ä¸­ io_threads_list[id] ä¸­çš„ä»»åŠ¡æ˜¯ä¸»çº¿ç¨‹åˆ†é…è¿‡æ¥çš„ï¼Œåé¢æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;äºŒã€ä¸»çº¿ç¨‹äº‹ä»¶å¾ªç¯&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€æˆ‘ä»¬è¿›å…¥åˆ° Redis æœ€é‡è¦çš„ aeMainï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ï¼ˆRedis ä¸é€€å‡ºçš„è¯ï¼‰ï¼Œä¸åœåœ°æ‰§è¡Œ aeProcessEvents å‡½æ•°ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;aeMain&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â eventLoop-&amp;gt;stopÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (!eventLoop-&amp;gt;stop)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â aeProcessEvents(eventLoop,Â AE_ALL_EVENTS|&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â AE_CALL_BEFORE_SLEEP|&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â AE_CALL_AFTER_SLEEP);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ aeProcessEvents å°±æ˜¯æ‰€è°“çš„äº‹ä»¶åˆ†å‘å™¨ã€‚å®ƒé€šè¿‡è°ƒç”¨ epoll_wait æ¥å‘ç°æ‰€å‘ç”Ÿçš„å„ç§äº‹ä»¶ï¼Œç„¶åè°ƒç”¨äº‹å…ˆæ³¨å†Œå¥½çš„å¤„ç†å‡½æ•°è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8891352549889135&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;451&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYKEicFkic3mjhF3S2Y8iabUBN5ib3BP40X20ova2QAayur30ElOfJKEUbIg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€çœ‹ aeProcessEvents å‡½æ•°ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeProcessEvents&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop,Â &lt;span&gt;int&lt;/span&gt;Â flags)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;// 2.3 äº‹ä»¶å¾ªç¯å¤„ç†3ï¼šepoll_wait å‰è¿›è¡Œè¯»å†™ä»»åŠ¡é˜Ÿåˆ—å¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (eventLoop-&amp;gt;beforesleepÂ !=Â &lt;span&gt;NULL&lt;/span&gt;Â &amp;amp;&amp;amp;Â flagsÂ &amp;amp;Â AE_CALL_BEFORE_SLEEP)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â eventLoop-&amp;gt;beforesleep(eventLoop);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//epoll_waitå‘ç°äº‹ä»¶å¹¶è¿›è¡Œå¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â numeventsÂ =Â aeApiPoll(eventLoop,Â tvp);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä»å·²å°±ç»ªæ•°ç»„ä¸­è·å–äº‹ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeFileEventÂ *feÂ =Â &amp;amp;eventLoop-&amp;gt;events[eventLoop-&amp;gt;fired[j].fd];&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¦‚æœæ˜¯è¯»äº‹ä»¶ï¼Œå¹¶ä¸”æœ‰è¯»å›è°ƒå‡½æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//2.1Â å¦‚æœæ˜¯Â listenÂ socketÂ è¯»äº‹ä»¶ï¼Œåˆ™å¤„ç†æ–°è¿æ¥è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//2.2Â å¦‚æœæ˜¯å®¢æˆ·è¿æ¥socketÂ è¯»äº‹ä»¶ï¼Œå¤„ç†å®¢æˆ·è¿æ¥ä¸Šçš„è¯»è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â fe-&amp;gt;rfileProc()&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¦‚æœæ˜¯å†™äº‹ä»¶ï¼Œå¹¶ä¸”æœ‰å†™å›è°ƒå‡½æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â fe-&amp;gt;wfileProc()&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ aeApiPoll å°±æ˜¯å¯¹ epoll_wait çš„ä¸€ä¸ªå°è£…è€Œå·²ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/ae_epoll.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeApiPoll&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop,Â structÂ timevalÂ *tvp)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ç­‰å¾…äº‹ä»¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeApiStateÂ *stateÂ =Â eventLoop-&amp;gt;apidata;&lt;br/&gt;Â Â Â Â epoll_wait(state-&amp;gt;epfd,state-&amp;gt;events,eventLoop-&amp;gt;setsize,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â tvpÂ ?Â (tvp-&amp;gt;tv_sec*&lt;span&gt;1000&lt;/span&gt;Â +Â tvp-&amp;gt;tv_usec/&lt;span&gt;1000&lt;/span&gt;)Â :Â &lt;span&gt;-1&lt;/span&gt;);&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;aeProcessEvents å°±æ˜¯è°ƒç”¨ epoll_wait æ¥å‘ç°äº‹ä»¶ã€‚å½“å‘ç°æœ‰æŸä¸ª fd ä¸Šäº‹ä»¶å‘ç”Ÿä»¥åï¼Œåˆ™è°ƒä¸ºå…¶äº‹å…ˆæ³¨å†Œçš„äº‹ä»¶å¤„ç†å™¨å‡½æ•° rfileProc å’Œ wfileProcã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.1 äº‹ä»¶å¾ªç¯å¤„ç†1ï¼šæ–°è¿æ¥åˆ°è¾¾&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ 1.1 èŠ‚ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸»çº¿ç¨‹åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå°† listen socket ä¸Šçš„è¯»äº‹ä»¶å¤„ç†å‡½æ•°æ³¨å†Œæˆäº† acceptTcpHandlerã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæœ‰æ–°è¿æ¥åˆ°è¾¾çš„æ—¶å€™ï¼ŒacceptTcpHandler å°†ä¼šè¢«æ‰§è¡Œåˆ°ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.7018255578093306&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;493&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYe5icxVGhKl5JpCPq00o1EialahwSEPTtaF5aFu8Fs0pibBCj7RCbhvLsg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿™ä¸ªå‡½æ•°å†…ï¼Œä¸»è¦å®Œæˆå¦‚ä¸‹å‡ ä»¶äº‹æƒ…ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;è°ƒç”¨ accept æ¥æ”¶è¿æ¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åˆ›å»ºä¸€ä¸ª redisClientå¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ·»åŠ åˆ° epoll&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ³¨å†Œè¯»äº‹ä»¶å¤„ç†å‡½æ•°&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥è®©æˆ‘ä»¬è¿›å…¥ acceptTcpHandler æºç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;acceptTcpHandler&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *el,Â &lt;span&gt;int&lt;/span&gt;Â fd,Â &lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;int&lt;/span&gt;Â mask)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;Â Â Â Â cfdÂ =Â anetTcpAccept(server.neterr,Â fd,Â cip,Â &lt;span&gt;sizeof&lt;/span&gt;(cip),Â &amp;amp;cport);&lt;br/&gt;Â Â Â Â acceptCommonHandler(connCreateAcceptedSocket(cfd),&lt;span&gt;0&lt;/span&gt;,cip);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ netTcpAccept è°ƒç”¨ accept ç³»ç»Ÿè°ƒç”¨è·å–è¿æ¥ï¼Œå°±ä¸å±•å¼€äº†ã€‚æˆ‘ä»¬çœ‹ acceptCommonHandlerã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;acceptCommonHandler&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â fd,Â &lt;span&gt;int&lt;/span&gt;Â flags)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â åˆ›å»ºå®¢æˆ·ç«¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â redisClientÂ *c;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â ((cÂ =Â createClient(fd))Â ==Â &lt;span&gt;NULL&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;clientÂ *&lt;span&gt;createClient&lt;/span&gt;&lt;span&gt;(connectionÂ *conn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â clientÂ *cÂ =Â zmalloc(&lt;span&gt;sizeof&lt;/span&gt;(client));&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ä¸ºç”¨æˆ·è¿æ¥æ³¨å†Œè¯»äº‹ä»¶å¤„ç†å™¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (conn)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â ...&lt;br/&gt;Â Â Â Â Â Â Â Â connSetReadHandler(conn,Â readQueryFromClient);&lt;br/&gt;Â Â Â Â Â Â Â Â connSetPrivateData(conn,Â c);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â selectDb(c,&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â c-&amp;gt;idÂ =Â client_id;&lt;br/&gt;Â Â Â Â c-&amp;gt;respÂ =Â &lt;span&gt;2&lt;/span&gt;;&lt;br/&gt;Â Â Â Â c-&amp;gt;connÂ =Â conn;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨ &lt;code&gt;connSetReadHandler(conn, readQueryFromClient)&lt;/code&gt;, è¿™ä¸€è¡Œæ˜¯å°†è¿™ä¸ªæ–°è¿æ¥çš„è¯»äº‹ä»¶å¤„ç†å‡½æ•°è®¾ç½®æˆäº† readQueryFromClientã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.2 äº‹ä»¶å¾ªç¯å¤„ç†2ï¼šç”¨æˆ·å‘½ä»¤è¯·æ±‚åˆ°è¾¾&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°äº†ï¼Œ Redis æŠŠç”¨æˆ·è¿æ¥ä¸Šçš„è¯»è¯·æ±‚å¤„ç†å‡½æ•°è®¾ç½®æˆäº† readQueryFromClientï¼Œè¿™æ„å‘³ç€å½“ç”¨æˆ·è¿æ¥ä¸Šæœ‰å‘½ä»¤å‘é€è¿‡æ¥çš„æ—¶å€™ï¼Œä¼šè¿›å…¥ readQueryFromClient å¼€å§‹æ‰§è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å¤šçº¿ç¨‹ç‰ˆæœ¬çš„ readQueryFromClient ä¸­ï¼Œå¤„ç†é€»è¾‘éå¸¸ç®€å•ï¼Œä»…ä»…åªæ˜¯å°†å‘ç”Ÿè¯»æ—¶é—´çš„ client æ”¾åˆ°äº†ä»»åŠ¡é˜Ÿåˆ—é‡Œè€Œå·²ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7990762124711316&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;433&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYxycicB3JUTMCNW0cZEKMSZB1xxD4oCQE8SWDiauPq5CNcT7YPAibXzpAw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥è¯¦ç»†çœ‹ readQueryFromClient ä»£ç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;readQueryFromClient&lt;/span&gt;&lt;span&gt;(connectionÂ *conn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â clientÂ *cÂ =Â connGetPrivateData(conn);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¦‚æœå¯åŠ¨ threaded I/O çš„è¯ï¼Œç›´æ¥å…¥é˜Ÿ&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (postponeClientRead(c))Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†ç”¨æˆ·è¿æ¥è¯»è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;Â Â Â Â c-&amp;gt;querybufÂ =Â sdsMakeRoomFor(c-&amp;gt;querybuf,Â readlen);&lt;br/&gt;Â Â Â Â nreadÂ =Â connRead(c-&amp;gt;conn,Â c-&amp;gt;querybuf+qblen,Â readlen);&lt;br/&gt;Â Â Â Â processInputBuffer(c);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ postponeClientRead ä¸­åˆ¤æ–­ï¼Œæ˜¯ä¸æ˜¯å¼€å¯äº†å¤š io çº¿ç¨‹ï¼Œå¦‚æœå¼€å¯äº†çš„è¯ï¼Œé‚£å°±å°†æœ‰è¯·æ±‚æ•°æ®åˆ°è¾¾çš„ client ç›´æ¥æ”¾åˆ°è¯»ä»»åŠ¡é˜Ÿåˆ—ï¼ˆserver.clients_pending_readï¼‰ä¸­å°±ç®—æ˜¯å®Œäº‹ã€‚æˆ‘ä»¬çœ‹ä¸‹ postponeClientReadã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;postponeClientRead&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (server.io_threads_activeÂ &amp;amp;&amp;amp;&lt;br/&gt;Â Â Â Â Â Â Â Â server.io_threads_do_readsÂ &amp;amp;&amp;amp;&lt;br/&gt;Â Â Â Â Â Â Â Â !ProcessingEventsWhileBlockedÂ &amp;amp;&amp;amp;&lt;br/&gt;Â Â Â Â Â Â Â Â !(c-&amp;gt;flagsÂ &amp;amp;Â (CLIENT_MASTER|CLIENT_SLAVE|CLIENT_PENDING_READ)))&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â c-&amp;gt;flagsÂ |=Â CLIENT_PENDING_READ;&lt;br/&gt;Â Â Â Â Â Â Â Â listAddNodeHead(server.clients_pending_read,c);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;listAddNodeHead å°±æ˜¯æŠŠè¿™ä¸ª client å¯¹è±¡æ·»åŠ åˆ° server.clients_pending_read è€Œå·²ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2.3 äº‹ä»¶å¾ªç¯å¤„ç†3ï¼šepoll_wait å‰è¿›è¡Œä»»åŠ¡å¤„ç†&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ aeProcessEvents ä¸­å‡å¦‚ aeApiPoll(epoll_wait)ä¸­çš„äº‹ä»¶éƒ½å¤„ç†å®Œäº†ä»¥åï¼Œåˆ™ä¼šè¿›å…¥ä¸‹ä¸€æ¬¡çš„å¾ªç¯å†æ¬¡è¿›å…¥ aeProcessEventsã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œè¿™ä¸€æ¬¡ä¸­ beforesleep å°†ä¼šå¤„ç†å‰é¢è¯»äº‹ä»¶å¤„ç†å‡½æ•°æ·»åŠ çš„è¯»ä»»åŠ¡é˜Ÿåˆ—äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/ae.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;aeProcessEvents&lt;/span&gt;&lt;span&gt;(aeEventLoopÂ *eventLoop,Â &lt;span&gt;int&lt;/span&gt;Â flags)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â å‚è§ 2.4 äº‹ä»¶å¾ªç¯å¤„ç†3ï¼šepoll_wait å‰è¿›è¡Œä»»åŠ¡å¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (eventLoop-&amp;gt;beforesleepÂ !=Â &lt;span&gt;NULL&lt;/span&gt;Â &amp;amp;&amp;amp;Â flagsÂ &amp;amp;Â AE_CALL_BEFORE_SLEEP)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â eventLoop-&amp;gt;beforesleep(eventLoop);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//epoll_waitå‘ç°äº‹ä»¶å¹¶è¿›è¡Œå¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â numeventsÂ =Â aeApiPoll(eventLoop,Â tvp);&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ beforeSleep é‡Œä¼šä¾æ¬¡å¤„ç†ä¸¤ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚å…ˆå¤„ç†è¯»ä»»åŠ¡é˜Ÿåˆ—ï¼Œè§£æå…¶ä¸­çš„è¯·æ±‚ï¼Œå¹¶å¤„ç†ä¹‹ã€‚ç„¶åå°†å¤„ç†ç»“æœå†™åˆ°ç¼“å­˜ä¸­ï¼ŒåŒæ—¶å†™åˆ°å†™ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ç´§æ¥ç€ beforeSleep ä¼šè¿›å…¥å†™ä»»åŠ¡é˜Ÿåˆ—å¤„ç†ï¼Œä¼šå°†å¤„ç†ç»“æœå†™åˆ° socket é‡Œï¼Œè¿›è¡ŒçœŸæ­£çš„æ•°æ®å‘é€ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9842829076620825&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;509&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyY90TEFqnft5F47nVzrd1my12nMCacwicYvnr9iaSg3TkYJHKu8rG3yf4g/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ beforeSleep çš„ä»£ç ï¼Œè¿™ä¸ªå‡½æ•°ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªè°ƒç”¨æ˜¯ handleClientsWithPendingReadsUsingThreadsï¼ˆå¤„ç†è¯»ä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼ŒhandleClientsWithPendingWritesUsingThreadsï¼ˆå¤„ç†å†™ä»»åŠ¡é˜Ÿåˆ—ï¼‰&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;beforeSleep&lt;/span&gt;&lt;span&gt;(structÂ aeEventLoopÂ *eventLoop)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†è¯»ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â handleClientsWithPendingReadsUsingThreads();&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†å†™ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â handleClientsWithPendingWritesUsingThreads();&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå¼€å¯äº†å¤š io çº¿ç¨‹çš„è¯ï¼ŒhandleClientsWithPendingReadsUsingThreads å’Œ handleClientsWithPendingWritesUsingThreads ä¸­å°†ä¼šæ˜¯ä¸»çº¿ç¨‹ã€io çº¿ç¨‹ä¸€èµ·é…åˆæ¥å¤„ç†çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å•ç‹¬åˆ†ä¸¤ä¸ªå°èŠ‚æ¥é˜è¿°ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸‰ã€ä¸»çº¿ç¨‹ &amp;amp;&amp;amp; io çº¿ç¨‹å¤„ç†è¯»è¯·æ±‚&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ handleClientsWithPendingReadsUsingThreads ä¸­ï¼Œä¸»çº¿ç¨‹ä¼šéå†è¯»ä»»åŠ¡é˜Ÿåˆ— server.clients_pending_readï¼ŒæŠŠå…¶ä¸­çš„è¯·æ±‚åˆ†é…åˆ°æ¯ä¸ª io çº¿ç¨‹çš„å¤„ç†é˜Ÿåˆ— io_threads_list[target_id] ä¸­ã€‚ç„¶åé€šçŸ¥å„ä¸ª io çº¿ç¨‹å¼€å§‹å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.2057026476578412&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;491&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYrX6zgbzGrUpx6EFficfDTHicjmeM9ibgrYU00ecRPgLP2bbx1AqefP0icQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.1 ä¸»çº¿ç¨‹åˆ†é…ä»»åŠ¡&lt;span/&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¥çœ‹ handleClientsWithPendingReadsUsingThreads è¯¦ç»†ä»£ç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//å½“å¼€å¯äº†Â readingÂ +Â parsingÂ å¤šçº¿ç¨‹Â I/OÂ &lt;/span&gt;&lt;br/&gt;&lt;span&gt;//readÂ handlerÂ ä»…ä»…åªæ˜¯æŠŠÂ clientsÂ æ¨åˆ°è¯»é˜Ÿåˆ—é‡Œ&lt;/span&gt;&lt;br/&gt;&lt;span&gt;//è€Œè¿™ä¸ªå‡½æ•°å¼€å§‹å¤„ç†è¯¥ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;handleClientsWithPendingReadsUsingThreads&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//è®¿é—®è¯»ä»»åŠ¡é˜Ÿåˆ—Â server.clients_pending_read&lt;/span&gt;&lt;br/&gt;Â Â Â Â listRewind(server.clients_pending_read,&amp;amp;li);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//æŠŠæ¯ä¸€ä¸ªä»»åŠ¡å–å‡ºæ¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ·»åŠ åˆ°æŒ‡å®šçº¿ç¨‹çš„ä»»åŠ¡é˜Ÿåˆ—é‡ŒÂ io_threads_list[target_id]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â target_idÂ =Â item_idÂ %Â server.io_threads_num;&lt;br/&gt;Â Â Â Â Â Â Â Â listAddNodeTail(io_threads_list[target_id],c);&lt;br/&gt;Â Â Â Â Â Â Â Â item_id++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¯åŠ¨Workerçº¿ç¨‹ï¼Œå¤„ç†è¯»è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â io_threads_opÂ =Â IO_THREADS_OP_READ;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;1&lt;/span&gt;;Â jÂ &amp;lt;Â server.io_threads_num;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â listLength(io_threads_list[j]);&lt;br/&gt;Â Â Â Â Â Â Â Â setIOPendingCount(j,Â count);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//ä¸»çº¿ç¨‹å¤„ç†Â 0Â å·ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â listRewind(io_threads_list[&lt;span&gt;0&lt;/span&gt;],&amp;amp;li);&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//éœ€è¦å…ˆå¹²æ‰Â CLIENT_PENDING_READÂ æ ‡å¿—&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å¦åˆ™Â readQueryFromClientÂ å¹¶ä¸å¤„ç†ï¼Œè€Œæ˜¯å…¥é˜Ÿ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â readQueryFromClient(c-&amp;gt;conn);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//ä¸»çº¿ç¨‹ç­‰å¾…å…¶å®ƒçº¿ç¨‹å¤„ç†å®Œæ¯•&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â pendingÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;1&lt;/span&gt;;Â jÂ &amp;lt;Â server.io_threads_num;Â j++)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â pendingÂ +=Â getIOPendingCount(j);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (pendingÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å†è·‘ä¸€éä»»åŠ¡é˜Ÿåˆ—ï¼Œç›®çš„æ˜¯å¤„ç†è¾“å…¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(listLength(server.clients_pending_read))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â ......&lt;br/&gt;Â Â Â Â Â Â Â Â processInputBuffer(c);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!(c-&amp;gt;flagsÂ &amp;amp;Â CLIENT_PENDING_WRITE)Â &amp;amp;&amp;amp;Â clientHasPendingReplies(c))&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â clientInstallWriteHandler(c);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸»çº¿ç¨‹ä¸­å°†ä»»åŠ¡åˆ†åˆ«æ”¾åˆ°äº† io_threads_list çš„ç¬¬ 0 åˆ°ç¬¬ N ä¸ªå…ƒç´ é‡Œã€‚å¹¶å¯¹ 1 : N å·çº¿ç¨‹é€šè¿‡ setIOPendingCount å‘æ¶ˆæ¯ï¼Œå‘Šè¯‰ä»–ä»¬èµ·æ¥å¤„ç†ã€‚è¿™æ—¶å€™ io çº¿ç¨‹å°†ä¼šåœ¨ IOThreadMain ä¸­æ”¶åˆ°æ¶ˆæ¯å¹¶å¼€å§‹å¤„ç†è¯»ä»»åŠ¡ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â *&lt;span&gt;IOThreadMain&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;Â *myid)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//éå†å½“å‰çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—é‡Œçš„è¯·æ±‚Â client&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â listRewind(io_threads_list[id],&amp;amp;li);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_WRITE)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â writeToClient(c,&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_READ)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â readQueryFromClient(c-&amp;gt;conn);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â serverPanic(&lt;span&gt;&quot;io_threads_opÂ valueÂ isÂ unknown&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ io çº¿ç¨‹ä¸­ï¼Œä»è‡ªå·±çš„ io_threads_list[id] ä¸­éå†è·å–å¾…å¤„ç†çš„ clientã€‚å¦‚æœå‘ç°æ˜¯è¯»è¯·æ±‚å¤„ç†ï¼Œåˆ™è¿›å…¥ readQueryFromClient å¼€å§‹å¤„ç†ç‰¹å®šçš„ clientã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œä¸»çº¿ç¨‹åœ¨åˆ†é…å®Œ 1 ï¼šN ä»»åŠ¡é˜Ÿåˆ—è®©å…¶å®ƒ io çº¿ç¨‹å¤„ç†åï¼Œè‡ªå·±åˆ™å¼€å§‹å¤„ç†ç¬¬ 0 å·ä»»åŠ¡æ± ã€‚åŒæ ·æ˜¯ä¼šè¿›å…¥åˆ° readQueryFromClient ä¸­æ¥æ‰§è¡Œã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;handleClientsWithPendingReadsUsingThreads&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;Â Â Â Â &lt;span&gt;//ä¸»çº¿ç¨‹å¤„ç†Â 0Â å·ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â listRewind(io_threads_list[&lt;span&gt;0&lt;/span&gt;],&amp;amp;li);&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//éœ€è¦å…ˆå¹²æ‰Â CLIENT_PENDING_READÂ æ ‡å¿—&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//å¦åˆ™Â readQueryFromClientÂ å¹¶ä¸å¤„ç†ï¼Œè€Œæ˜¯å…¥é˜Ÿ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â readQueryFromClient(c-&amp;gt;conn);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥æ— è®ºæ˜¯ä¸»çº¿ç¨‹è¿˜æ˜¯ io çº¿ç¨‹ï¼Œå¤„ç†å®¢æˆ·ç«¯çš„è¯»äº‹ä»¶éƒ½æ˜¯ä¼šè¿›å…¥ readQueryFromClientã€‚æˆ‘ä»¬æ¥çœ‹å…¶æºç ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.2 è¯»è¯·æ±‚å¤„ç†&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;readQueryFromClient&lt;/span&gt;&lt;span&gt;(connectionÂ *conn)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//è¯»å–è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â nreadÂ =Â connRead(c-&amp;gt;conn,Â c-&amp;gt;querybuf+qblen,Â readlen);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†è¯·æ±‚&lt;/span&gt;&lt;br/&gt;Â Â Â Â processInputBuffer(c);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ connRead ä¸­å°±æ˜¯è°ƒç”¨ read å°† socket ä¸­çš„å‘½ä»¤è¯»å–å‡ºæ¥ï¼Œå°±ä¸å±•å¼€çœ‹äº†ã€‚æ¥ç€åœ¨ processInputBuffer ä¸­å°†è¾“å…¥ç¼“å†²åŒºä¸­çš„æ•°æ®è§£ææˆå¯¹åº”çš„å‘½ä»¤ã€‚è§£æå®Œå‘½ä»¤åçœŸæ­£å¼€å§‹å¤„ç†å®ƒã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;processInputBuffer&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(c-&amp;gt;qb_posÂ &amp;lt;Â sdslen(c-&amp;gt;querybuf))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è§£æå‘½ä»¤&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â ......&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//çœŸæ­£å¼€å§‹å¤„ç†Â command&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â processCommandAndResetClient(c);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡½æ•° processCommandAndResetClient ä¼šè°ƒç”¨ processCommandï¼ŒæŸ¥è¯¢å‘½ä»¤å¹¶å¼€å§‹æ‰§è¡Œã€‚æ‰§è¡Œçš„æ ¸å¿ƒæ–¹æ³•æ˜¯ call å‡½æ•°ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹å®ƒã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;call&lt;/span&gt;&lt;span&gt;(clientÂ *c,Â &lt;span&gt;int&lt;/span&gt;Â flags)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â æŸ¥æ‰¾å¤„ç†å‘½ä»¤ï¼Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;redisCommand&lt;/span&gt;Â *&lt;span&gt;real_cmd&lt;/span&gt;Â =Â &lt;span&gt;c&lt;/span&gt;-&amp;gt;&lt;span&gt;cmd&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è°ƒç”¨å‘½ä»¤å¤„ç†å‡½æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â c-&amp;gt;cmd-&amp;gt;proc(c);&lt;br/&gt;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ server.c ä¸­å®šä¹‰äº†æ¯ä¸€ä¸ªå‘½ä»¤å¯¹åº”çš„å¤„ç†å‡½æ•°&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;redisCommand&lt;/span&gt;Â &lt;span&gt;redisCommandTable&lt;/span&gt;[]Â =Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;module&quot;&lt;/span&gt;,moduleCommand,&lt;span&gt;-2&lt;/span&gt;,&lt;span&gt;&quot;as&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;get&quot;&lt;/span&gt;,getCommand,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;&quot;rF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;set&quot;&lt;/span&gt;,setCommand,&lt;span&gt;-3&lt;/span&gt;,&lt;span&gt;&quot;wm&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;setnx&quot;&lt;/span&gt;,setnxCommand,&lt;span&gt;3&lt;/span&gt;,&lt;span&gt;&quot;wmF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;setex&quot;&lt;/span&gt;,setexCommand,&lt;span&gt;4&lt;/span&gt;,&lt;span&gt;&quot;wm&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;mget&quot;&lt;/span&gt;,mgetCommand,&lt;span&gt;-2&lt;/span&gt;,&lt;span&gt;&quot;rF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;-1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;rpush&quot;&lt;/span&gt;,rpushCommand,&lt;span&gt;-3&lt;/span&gt;,&lt;span&gt;&quot;wmF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;lpush&quot;&lt;/span&gt;,lpushCommand,&lt;span&gt;-3&lt;/span&gt;,&lt;span&gt;&quot;wmF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â {&lt;span&gt;&quot;rpushx&quot;&lt;/span&gt;,rpushxCommand,&lt;span&gt;-3&lt;/span&gt;,&lt;span&gt;&quot;wmF&quot;&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;NULL&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;,&lt;span&gt;0&lt;/span&gt;},&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äº get å‘½ä»¤æ¥è¯´ï¼Œå…¶å¯¹åº”çš„å‘½ä»¤å¤„ç†å‡½æ•°å°±æ˜¯ getCommandã€‚ä¹Ÿå°±æ˜¯è¯´å½“å¤„ç† GET å‘½ä»¤æ‰§è¡Œåˆ° &lt;code&gt;c-&amp;gt;cmd-&amp;gt;proc&lt;/code&gt; çš„æ—¶å€™ä¼šè¿›å…¥åˆ° getCommand å‡½æ•°ä¸­æ¥ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/t_string.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;getCommand&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â getGenericCommand(c);&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;getGenericCommand&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â robjÂ *o;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â ((oÂ =Â lookupKeyReadOrReply(c,c-&amp;gt;argv[&lt;span&gt;1&lt;/span&gt;],shared.null[c-&amp;gt;resp]))Â ==Â &lt;span&gt;NULL&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â C_OK;&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;Â Â Â Â addReplyBulk(c,o);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â C_OK;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;getGenericCommand æ–¹æ³•ä¼šè°ƒç”¨ lookupKeyReadOrReply æ¥ä»å†…å­˜ä¸­æŸ¥æ‰¾å¯¹åº”çš„ keyå€¼ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ç›´æ¥è¿”å› C_OKï¼›å¦‚æœæ‰¾åˆ°äº†ï¼Œè°ƒç”¨ addReplyBulk æ–¹æ³•å°†å€¼æ·»åŠ åˆ°è¾“å‡ºç¼“å†²åŒºä¸­ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;addReplyBulk&lt;/span&gt;&lt;span&gt;(clientÂ *c,Â robjÂ *obj)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â addReplyBulkLen(c,obj);&lt;br/&gt;Â Â Â Â addReply(c,obj);&lt;br/&gt;Â Â Â Â addReply(c,shared.crlf);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.3 å†™å¤„ç†ç»“æœåˆ°å‘é€ç¼“å­˜åŒº&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸»ä½“æ˜¯è°ƒç”¨ addReply æ¥è®¾ç½®å›å¤æ•°æ®ã€‚åœ¨ addReply æ–¹æ³•ä¸­åšäº†ä¸¤ä»¶äº‹æƒ…ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;prepareClientToWrite åˆ¤æ–­æ˜¯å¦éœ€è¦è¿”å›æ•°æ®ï¼Œå¹¶ä¸”å°†å½“å‰ client æ·»åŠ åˆ°ç­‰å¾…å†™è¿”å›æ•°æ®é˜Ÿåˆ—ä¸­ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è°ƒç”¨
_addReplyToBuffer å’Œ _addReplyObjectToList æ–¹æ³•å°†è¿”å›å€¼å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºä¸­ï¼Œç­‰å¾…å†™å…¥ socekt&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;addReply&lt;/span&gt;&lt;span&gt;(clientÂ *c,Â robjÂ *obj)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (prepareClientToWrite(c)Â !=Â C_OK)Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (sdsEncodedObject(obj))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_addReplyToBuffer(c,obj-&amp;gt;ptr,sdslen(obj-&amp;gt;ptr))Â !=Â C_OK)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â _addReplyStringToList(c,obj-&amp;gt;ptr,sdslen(obj-&amp;gt;ptr));&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â ......Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆæ¥çœ‹ prepareClientToWrite çš„è¯¦ç»†å®ç°ï¼Œ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;prepareClientToWrite&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!clientHasPendingReplies(c)Â &amp;amp;&amp;amp;Â !(c-&amp;gt;flagsÂ &amp;amp;Â CLIENT_PENDING_READ))&lt;br/&gt;Â Â Â Â Â Â Â Â clientInstallWriteHandler(c);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;clientInstallWriteHandler&lt;/span&gt;&lt;span&gt;(clientÂ *c)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â c-&amp;gt;flagsÂ |=Â CLIENT_PENDING_WRITE;&lt;br/&gt;Â Â Â Â listAddNodeHead(server.clients_pending_write,c);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­ server.clients_pending_write å°±æ˜¯æˆ‘ä»¬è¯´çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯æœ‰å¾…å†™è¿”å›æ•°æ®çš„ client å¯¹è±¡ã€‚åœ¨ prepareClientToWrite å‡½æ•°ä¸­ï¼ŒæŠŠ client æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ— server.clients_pending_write é‡Œå°±ç®—å®Œäº‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹å†æ¥ _addReplyToBufferï¼Œè¯¥æ–¹æ³•æ˜¯å‘å›ºå®šç¼“å­˜ä¸­å†™ï¼Œå¦‚æœå†™ä¸ä¸‹çš„è¯å°±ç»§ç»­è°ƒç”¨ _addReplyStringToList å¾€é“¾è¡¨é‡Œå†™ã€‚ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åªçœ‹ _addReplyToBuffer çš„ä»£ç ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;int&lt;/span&gt;Â _addReplyToBuffer(clientÂ *c,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;char&lt;/span&gt;Â *s,Â &lt;span&gt;size_t&lt;/span&gt;Â len)Â {&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â æ‹·è´åˆ°Â clientÂ å¯¹è±¡çš„Â ResponseÂ bufferÂ ä¸­&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;memcpy&lt;/span&gt;(c-&amp;gt;buf+c-&amp;gt;bufpos,s,len);&lt;br/&gt;Â Â Â Â c-&amp;gt;bufpos+=len;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â C_OK;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬èŠ‚çš„è¯»è¯·æ±‚å¤„ç†è¿‡ç¨‹æ˜¯ä¸»çº¿ç¨‹å’Œ io çº¿ç¨‹åœ¨å¹¶è¡Œæ‰§è¡Œçš„ã€‚ä¸»çº¿ç¨‹åœ¨å¤„ç†å®Œåä¼šç­‰å¾…å…¶å®ƒçš„ io çº¿ç¨‹å¤„ç†ã€‚åœ¨æ‰€æœ‰çš„è¯»è¯·æ±‚éƒ½å¤„ç†å®Œåï¼Œä¸»çº¿ç¨‹ beforeSleep ä¸­å¯¹ handleClientsWithPendingReadsUsingThreads çš„è°ƒç”¨å°±ç»“æŸäº†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å››ã€ä¸»çº¿ç¨‹ &amp;amp;&amp;amp; io çº¿ç¨‹é…åˆå¤„ç†å†™è¯·æ±‚&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æ‰€æœ‰çš„è¯»è¯·æ±‚å¤„ç†å®Œåï¼ŒhandleClientsWithPendingReadsUsingThreads ä¼šé€€å‡ºã€‚ä¸»çº¿ç¨‹ä¼šç´§æ¥ç€è¿›å…¥ handleClientsWithPendingWritesUsingThreads ä¸­æ¥å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.2032520325203253&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;492&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYUJcNIVYrRCx1n2DbgykpHsVjjFvtYS84hZl2gemoia4z5FUdjice11Kw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;beforeSleep&lt;/span&gt;&lt;span&gt;(structÂ aeEventLoopÂ *eventLoop)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†è¯»ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â handleClientsWithPendingReadsUsingThreads();&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¤„ç†å†™ä»»åŠ¡é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â handleClientsWithPendingWritesUsingThreads();&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;4.1 ä¸»çº¿ç¨‹åˆ†é…ä»»åŠ¡&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;handleClientsWithPendingWritesUsingThreads&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ²¡æœ‰å¼€å¯å¤šçº¿ç¨‹çš„è¯ï¼Œä»ç„¶æ˜¯ä¸»çº¿ç¨‹è‡ªå·±å†™&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (server.io_threads_numÂ ==Â &lt;span&gt;1&lt;/span&gt;Â ||Â stopThreadedIOIfNeeded())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â handleClientsWithPendingWrites();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//è·å–å¾…å†™ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â processedÂ =Â listLength(server.clients_pending_write);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//åœ¨Nä¸ªä»»åŠ¡åˆ—è¡¨ä¸­åˆ†é…è¯¥ä»»åŠ¡&lt;/span&gt;&lt;br/&gt;Â Â Â Â listIterÂ li;&lt;br/&gt;Â Â Â Â listNodeÂ *ln;&lt;br/&gt;Â Â Â Â listRewind(server.clients_pending_write,&amp;amp;li);&lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â item_idÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â c-&amp;gt;flagsÂ &amp;amp;=Â ~CLIENT_PENDING_WRITE;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;/*Â RemoveÂ clientsÂ fromÂ theÂ listÂ ofÂ pendingÂ writesÂ since&lt;br/&gt;Â Â Â Â Â Â Â Â Â *Â theyÂ areÂ goingÂ toÂ beÂ closedÂ ASAP.Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (c-&amp;gt;flagsÂ &amp;amp;Â CLIENT_CLOSE_ASAP)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â listDelNode(server.clients_pending_write,Â ln);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//hashçš„æ–¹å¼è¿›è¡Œåˆ†é…&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â target_idÂ =Â item_idÂ %Â server.io_threads_num;&lt;br/&gt;Â Â Â Â Â Â Â Â listAddNodeTail(io_threads_list[target_id],c);&lt;br/&gt;Â Â Â Â Â Â Â Â item_id++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å‘Šè¯‰å¯¹åº”çš„çº¿ç¨‹è¯¥å¼€å§‹å¹²æ´»äº†&lt;/span&gt;&lt;br/&gt;Â Â Â Â io_threads_opÂ =Â IO_THREADS_OP_WRITE;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;1&lt;/span&gt;;Â jÂ &amp;lt;Â server.io_threads_num;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â listLength(io_threads_list[j]);&lt;br/&gt;Â Â Â Â Â Â Â Â setIOPendingCount(j,Â count);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//ä¸»çº¿ç¨‹è‡ªå·±ä¹Ÿä¼šå¤„ç†ä¸€äº›&lt;/span&gt;&lt;br/&gt;Â Â Â Â listRewind(io_threads_list[&lt;span&gt;0&lt;/span&gt;],&amp;amp;li);&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â writeToClient(c,&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â listEmpty(io_threads_list[&lt;span&gt;0&lt;/span&gt;]);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¾ªç¯ç­‰å¾…å…¶å®ƒçº¿ç¨‹ç»“æŸå¤„ç†&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â pendingÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;1&lt;/span&gt;;Â jÂ &amp;lt;Â server.io_threads_num;Â j++)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â pendingÂ +=Â getIOPendingCount(j);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (pendingÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ io çº¿ç¨‹ä¸­æ”¶åˆ°æ¶ˆæ¯åï¼Œå¼€å§‹éå†è‡ªå·±çš„ä»»åŠ¡é˜Ÿåˆ— io_threads_list[id]ï¼Œå¹¶å°†å…¶ä¸­çš„ client æŒ¨ä¸ªå–å‡ºæ¥å¼€å§‹å¤„ç†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â *&lt;span&gt;IOThreadMain&lt;/span&gt;&lt;span&gt;(&lt;span&gt;void&lt;/span&gt;Â *myid)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//éå†å½“å‰çº¿ç¨‹ç­‰å¾…é˜Ÿåˆ—é‡Œçš„è¯·æ±‚Â client&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â listRewind(io_threads_list[id],&amp;amp;li);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;((lnÂ =Â listNext(&amp;amp;li)))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â clientÂ *cÂ =Â listNodeValue(ln);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_WRITE)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â writeToClient(c,&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â &lt;span&gt;if&lt;/span&gt;Â (io_threads_opÂ ==Â IO_THREADS_OP_READ)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â readQueryFromClient(c-&amp;gt;conn);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â listEmpty(io_threads_list[id]);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;4.2 å†™è¯·æ±‚å¤„ç†&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºè¿™æ¬¡ä»»åŠ¡é˜Ÿåˆ—é‡Œéƒ½æ˜¯å†™è¯·æ±‚ï¼Œæ‰€ä»¥ io çº¿ç¨‹ä¼šè¿›å…¥ writeToClientã€‚è€Œä¸»çº¿ç¨‹åœ¨åˆ†é…å®Œä»»åŠ¡ä»¥åï¼Œè‡ªå·±å¼€å§‹å¤„ç†èµ·äº† io_threads_list[0]ï¼Œå¹¶ä¹Ÿè¿›å…¥åˆ° writeToClientã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:src/networking.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;writeToClient&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â fd,Â clientÂ *c,Â &lt;span&gt;int&lt;/span&gt;Â handler_installed)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(clientHasPendingReplies(c))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â å…ˆå‘é€å›ºå®šç¼“å†²åŒº&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (c-&amp;gt;bufposÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â nwrittenÂ =Â write(fd,c-&amp;gt;buf+c-&amp;gt;sentlen,c-&amp;gt;bufpos-c-&amp;gt;sentlen);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (nwrittenÂ &amp;lt;=Â &lt;span&gt;0&lt;/span&gt;)Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â å†å‘é€å›å¤é“¾è¡¨ä¸­æ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â oÂ =Â listNodeValue(listFirst(c-&amp;gt;reply));&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â nwrittenÂ =Â write(fd,Â o-&amp;gt;bufÂ +Â c-&amp;gt;sentlen,Â objlenÂ -Â c-&amp;gt;sentlen);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â ......&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;writeToClient ä¸­çš„ä¸»è¦é€»è¾‘å°±æ˜¯è°ƒç”¨ write ç³»ç»Ÿè°ƒç”¨è®©å†…æ ¸å¸®å…¶æŠŠæ•°æ®å‘é€å‡ºå»å³å¯ã€‚ç”±äºæ¯ä¸ªå‘½ä»¤çš„å¤„ç†ç»“æœå¤§å°æ˜¯ä¸å›ºå®šçš„ã€‚æ‰€ä»¥ Redis é‡‡ç”¨çš„åšæ³•ç”¨å›ºå®šçš„ buf + å¯å˜é“¾è¡¨æ¥å‚¨å­˜ç»“æœå­—ç¬¦ä¸²ã€‚è¿™é‡Œè‡ªç„¶å‘é€çš„æ—¶å€™å°±éœ€è¦åˆ†åˆ«å¯¹å›ºå®šç¼“å­˜åŒºå’Œé“¾è¡¨æ¥è¿›è¡Œå‘é€äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æ‰€æœ‰çš„å†™è¯·æ±‚ä¹Ÿå¤„ç†å®Œåï¼ŒbeforeSleep å°±é€€å‡ºäº†ã€‚ä¸»çº¿ç¨‹å°†ä¼šå†æ¬¡è°ƒç”¨ epoll_wait æ¥å‘ç°è¯·æ±‚ï¼Œè¿›å…¥ä¸‹ä¸€è½®çš„ç”¨æˆ·è¯·æ±‚å¤„ç†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;äº”ã€æ€»ç»“&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//file:Â src/server.c&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â argc,Â &lt;span&gt;char&lt;/span&gt;Â **argv)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ......&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 1.1Â ä¸»çº¿ç¨‹åˆå§‹åŒ–&lt;/span&gt;&lt;br/&gt;Â Â Â Â initServer();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â 1.2Â å¯åŠ¨Â ioÂ çº¿ç¨‹&lt;/span&gt;&lt;br/&gt;Â Â Â Â InitServerLast();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â è¿›å…¥äº‹ä»¶å¾ªç¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â aeMain(server.el);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ initServer è¿™ä¸ªå‡½æ•°å†…ï¼ŒRedis åšäº†è¿™ä¹ˆä¸‰ä»¶é‡è¦çš„äº‹æƒ…ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ›å»ºä¸€ä¸ª epoll å¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯¹é…ç½®çš„ç›‘å¬ç«¯å£è¿›è¡Œ listen&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æŠŠ listen socket è®© epoll ç»™ç®¡ç†èµ·æ¥&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ initThreadedIO ä¸­è°ƒç”¨ pthread_create åº“å‡½æ•°åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶ä¸”æ³¨å†Œçº¿ç¨‹å›è°ƒå‡½æ•° IOThreadMainã€‚åœ¨ IOThreadMain ä¸­ç­‰å¾…å…¶é˜Ÿåˆ— io_threads_list[id] äº§ç”Ÿè¯·æ±‚ï¼Œå½“æœ‰è¯·æ±‚åˆ°è¾¾çš„æ—¶å€™å–å‡º clientï¼Œä¾æ¬¡å¤„ç†ã€‚å…¶ä¸­è¯»æ“ä½œé€šè¿‡ readQueryFromClient å¤„ç†ï¼Œ å†™æ“ä½œé€šè¿‡ writeToClient å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸»çº¿ç¨‹åœ¨ aeMain å‡½æ•°ä¸­ï¼Œæ˜¯ä¸€ä¸ªæ— ä¼‘æ­¢çš„å¾ªç¯ï¼Œå®ƒæ˜¯ Redis ä¸­æœ€é‡è¦çš„éƒ¨åˆ†ã€‚å®ƒå…ˆæ˜¯è°ƒç”¨äº‹ä»¶åˆ†å‘å™¨å‘ç°äº‹ä»¶ã€‚å¦‚æœæœ‰æ–°è¿æ¥è¯·æ±‚åˆ°è¾¾çš„æ—¶å€™ï¼Œæ‰§è¡Œ accept æ¥æ”¶æ–°è¿æ¥ï¼Œå¹¶ä¸ºå…¶æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç”¨æˆ·è¿æ¥ä¸Šæœ‰å‘½ä»¤è¯·æ±‚åˆ°è¾¾çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹åœ¨ read å¤„ç†å‡½æ•°ä¸­å°†å…¶æ·»åŠ åˆ°è¯»å‘é€é˜Ÿåˆ—ä¸­ã€‚ç„¶åæ¥ç€åœ¨ beforeSleep ä¸­å¼€å¯å¯¹è¯»ä»»åŠ¡é˜Ÿåˆ—å’Œå†™ä»»åŠ¡é˜Ÿåˆ—çš„å¤„ç†ã€‚æ€»ä½“å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9093701996927803&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/BBjAFF4hcwoBSguv1EpxBnEcEVKk4tyYaB7F2T5hicCh9YkbJ5hu7NuF8US7wgrokaWiaC2WiaiaxcIFy6GR62QBTA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;651&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿™ä¸ªå¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯¹è¯»ä»»åŠ¡é˜Ÿåˆ—å’Œå†™ä»»åŠ¡é˜Ÿåˆ—çš„å¤„ç†éƒ½æ˜¯å¤šçº¿ç¨‹å¹¶è¡Œè¿›è¡Œçš„ï¼ˆå‰ææ˜¯å¼€ç¯‡æˆ‘ä»¬å¼€å¯äº†å¤š IO çº¿ç¨‹å¹¶ä¸”ä¹Ÿå¹¶å‘å¤„ç†è¯»ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“è¯»ä»»åŠ¡é˜Ÿåˆ—å’Œå†™ä»»åŠ¡é˜Ÿåˆ—çš„éƒ½å¤„ç†å®Œçš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹å†ä¸€æ¬¡è°ƒç”¨ epoll_wait å»å‘ç°æ–°çš„å¾…å¤„ç†äº‹ä»¶ï¼Œå¦‚æ­¤å¾€å¤å¾ªç¯è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡³æ­¤ï¼Œå¤šçº¿ç¨‹ç‰ˆæœ¬çš„ Redis çš„å·¥ä½œåŸç†å°±ä»‹ç»å®Œäº†ã€‚å¦ç™½è®²ï¼Œæˆ‘è§‰å¾—è¿™ç§å¤šçº¿ç¨‹æ¨¡å‹å®ç°çš„å¹¶ä¸è¶³å¤Ÿçš„å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸå› æ˜¯ä¸»çº¿ç¨‹æ˜¯åœ¨å¤„ç†è¯»ã€å†™ä»»åŠ¡é˜Ÿåˆ—çš„æ—¶å€™è¿˜è¦ç­‰å¾…å…¶å®ƒçš„ io çº¿ç¨‹å¤„ç†å®Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€æ­¥ã€‚å‡è®¾è¿™æ—¶æœ‰ 10 ä¸ªç”¨æˆ·è¯·æ±‚åˆ°è¾¾ï¼Œå…¶ä¸­ 9 ä¸ªå¤„ç†è€—æ—¶éœ€è¦ 1 msï¼Œè€Œå¦å¤–ä¸€ä¸ªå‘½ä»¤éœ€è¦ 1 sã€‚åˆ™è¿™æ—¶ä¸»çº¿ç¨‹ä»ç„¶ä¼šç­‰å¾…è¿™ä¸ª io çº¿ç¨‹å¤„ç† 1s ç»“æŸåæ‰èƒ½è¿›å…¥åé¢çš„å¤„ç†ã€‚æ•´ä¸ª Redis æœåŠ¡è¿˜æ˜¯è¢«ä¸€ä¸ªè€—æ—¶çš„å‘½ä»¤ç»™ block ä½äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘å€’æ˜¯å¸Œæœ›æˆ‘çš„ç†è§£å“ªé‡Œæœ‰é—®é¢˜ã€‚å› ä¸ºè¿™ç§æ–¹å¼çœŸçš„æ˜¯æ²¡èƒ½å¾ˆå¥½åœ°å¹¶å‘èµ·æ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>