<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>08b96984840ba01b293f6672f70643ae</guid>
<title>â€‹æ‰“é€ ä¼ä¸šè‡ªå·±ä»£ç è§„èŒƒ IDEA æ’ä»¶ï¼ˆä¸­ï¼‰</title>
<link>https://toutiao.io/k/i8p0zo4</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä¸€äº›åŸºæœ¬æ¦‚å¿µ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;åœ¨å¼€å§‹ç‹¬ç«‹ç ”å‘å…¬å¸è‡ªå·±çš„ä»£ç è§„èŒƒæ£€æŸ¥è§„åˆ™ä¹‹å‰ï¼Œå…ˆä»‹ç»ä¸€äº›ç›¸å…³çš„åŸºæœ¬æ¦‚å¿µã€‚&lt;/span&gt;&lt;span&gt;é˜¿é‡Œå·´å·´ä»£ç è§„èŒƒ&lt;/span&gt;&lt;span&gt;&lt;span&gt;å¾ˆå¤šè§„åˆ™å…¶å®éƒ½æ˜¯åŸºäºå¼€æºæ¡†æ¶&lt;/span&gt;&lt;span&gt;PMD&lt;/span&gt;&lt;span&gt;è¿›è¡Œçš„ç ”å‘ã€‚&lt;/span&gt;&lt;span&gt;PMD&lt;/span&gt;&lt;span&gt;ç”¨å®˜æ–¹çš„è¯è¯­ä»‹ç»æ¥è¯´ï¼š&lt;/span&gt;&lt;span&gt;PMD&lt;/span&gt;&lt;span&gt;æ˜¯ä¸€ä¸ªæºä»£ç åˆ†æå™¨ã€‚å®ƒå¯ä»¥å‘ç°å¸¸è§çš„ç¼–ç¨‹ç¼ºé™·ï¼Œå¦‚æœªä½¿ç”¨çš„å˜é‡ã€ç©º&lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt;å—ã€ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºç­‰ã€‚å®ƒæ”¯æŒå¤šç§è¯­è¨€ã€‚å®ƒå¯ä»¥ç”¨è‡ªå®šä¹‰è§„åˆ™è¿›è¡Œæ‰©å±•ã€‚å®ƒä½¿ç”¨&lt;/span&gt;&lt;span&gt;JavaCC&lt;/span&gt;&lt;span&gt;å’Œ&lt;/span&gt;&lt;span&gt;Antlr&lt;/span&gt;&lt;span&gt;å°†æºæ–‡ä»¶è§£æä¸º&lt;/span&gt;&lt;strong&gt;&lt;em&gt;&lt;span&gt;æŠ½è±¡è¯­æ³•æ ‘ï¼ˆ&lt;/span&gt;&lt;span&gt;AST&lt;/span&gt;&lt;/em&gt;&lt;/strong&gt;&lt;span&gt;ï¼‰ï¼Œå¹¶å¯¹å…¶è¿è¡Œè§„åˆ™ä»¥æŸ¥æ‰¾å†²çªã€‚è§„åˆ™å¯ä»¥ç”¨&lt;/span&gt;&lt;span&gt;Java&lt;/span&gt;&lt;span&gt;ç¼–å†™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;/span&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;æŸ¥è¯¢&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;ã€‚å¼€æºä»£ç åº“ï¼š&lt;/span&gt;&lt;/span&gt;&lt;span&gt;https://github.com/pmd/pmd&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªå¾ˆå…³é”®çš„æ¦‚å¿µâ€”â€”&lt;span&gt;AST&lt;/span&gt;æŠ½è±¡è¯­æ³•æ ‘&lt;span&gt;(Abstract Syntax Tree)&lt;/span&gt;ã€‚&lt;span&gt;AST&lt;/span&gt;è¿ç”¨åœºæ™¯å…¶å®éå¸¸å¤šï¼Œæ—¥å¸¸æˆ‘ä»¬ç ”å‘è¿‡ç¨‹ä¸­é”™è¯¯æç¤ºã€ä»£ç é«˜äº®ã€ä»£ç æ ¼å¼åŒ–ã€ä»£ç è½¬è¯‘ç­‰ç­‰å®ç°çš„åŸºç¡€éƒ½åŸºäº&lt;span&gt;AST&lt;/span&gt;ã€‚ç®€å•è¯´ï¼Œä¼šé€šè¿‡è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æå°†ä»£ç è½¬åŒ–æˆä¸€ç§ç±»ä¼¼æ ‘æ ·å±‚æ¬¡ç»“æ„æ¥è¿›è¡Œæè¿°ï¼Œå½“ç„¶è¿™ç§æè¿°å¯ä»¥ç”¨&lt;span&gt;XML&lt;/span&gt;æ ¼å¼ã€‚æ–‡å­—æè¿°æ¯”è¾ƒæŠ½è±¡ï¼Œä¸å¦¨çœ‹ä¸€ä¸ªâ€œ&lt;span&gt;hello world&lt;/span&gt;â€çš„å…·ä½“&lt;span&gt;AST&lt;/span&gt;è¯­æ³•æ ‘ï¼ˆ&lt;span&gt;Java 1.8&lt;/span&gt;ï¼‰ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“è¿›è¡Œç†è§£äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5510388437217706&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/BBtdicYK9ribib7s84I52o58IDuQciafESIuZLNeN6KTJLe5aI0lalUf6Xku31gibZUH4W3LHWZyZErtwyHJ75uicjWA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1107&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;å¦å¤–ä¸€ä¸ªæ¦‚å¿µ&lt;/span&gt;&lt;span&gt;XPathÂ &lt;/span&gt;&lt;span&gt;æ˜¯ä¸€é—¨åœ¨&lt;/span&gt;&lt;span&gt;XMLÂ &lt;/span&gt;&lt;span&gt;æ–‡æ¡£ä¸­æŸ¥æ‰¾ä¿¡æ¯çš„è¯­è¨€ã€‚æœ¬èº«å’Œä»£ç è§£ææ²¡æœ‰å…³ç³»ï¼Œä½†å½“&lt;/span&gt;&lt;span&gt;AST&lt;/span&gt;&lt;span&gt;é€šè¿‡&lt;/span&gt;&lt;span&gt;XML&lt;/span&gt;&lt;span&gt;æ ¼å¼æè¿°æ—¶ï¼Œ&lt;/span&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;èƒ½å¤Ÿå¾ˆå¥½å®Œæˆå¯¹ç›¸å…³èŠ‚ç‚¹è¿›è¡ŒæŸ¥æ‰¾ã€‚ä¸¤è€…çš„ç»“åˆå°±èƒ½è¿›è¡Œè¿è§„ä»£ç çš„æ£€æŸ¥ï¼Œè¿™å°±æ˜¯&lt;/span&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;è§„åˆ™ä»£ç è§„èŒƒæ£€æŸ¥åŸºæœ¬åŸç†ã€‚æ­¤å¤–ï¼Œä¸å…¶é…å¥—çš„&lt;/span&gt;&lt;span&gt;PMD-Designer&lt;/span&gt;&lt;span&gt;è§„åˆ™å¯è§†åŒ–å·¥å…·ä¹Ÿå¾ˆå¥½ç”¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ä¾‹å¦‚é˜¿é‡Œå·´å·´ä»£ç è§„èŒƒä¸­ &lt;/span&gt;&lt;span&gt;PackageNamingRule &lt;/span&gt;&lt;span&gt;å°±æ˜¯éå¸¸å…¸å‹çš„&lt;/span&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;è§„åˆ™ã€‚åŒ…ååªèƒ½ç”±å°å†™å­—æ¯ã€æ•°å­—æ¥ç»„æˆï¼Œå…·ä½“çš„&lt;/span&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; final &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; XPATH = &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;//PackageDeclaration/Name&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    + &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;[not (matches(@Image, &#x27;^[a-z0-9]+(\\.[a-z][a-z0-9]*)*$&#x27;))]&quot;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢å…ˆå†™ä¸ªè§„åˆ™çš„ä¾‹å­æ¥æ„Ÿå—ä¸‹è‡ªå®šä¹‰è§„åˆ™å…·ä½“çš„æ“ä½œï¼›ä»&lt;span&gt;æ£€æŸ¥ä»£ç ä¸­&lt;/span&gt;&lt;span&gt;System.out &lt;/span&gt;&lt;span&gt;ç±»ä¼¼çš„æ—¥å¿—è¾“å‡ºå¼€å§‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;Example &lt;/span&gt;&lt;span&gt;ï¼šæ£€æŸ¥ä»£ç ä¸­&lt;/span&gt;&lt;span&gt;System.out &lt;/span&gt;&lt;span&gt;ç±»ä¼¼çš„æ—¥å¿—è¾“å‡ºã€‚&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¥éª¤ä¸€ï¼Œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;è¿ç”¨&lt;/span&gt;&lt;span&gt;PMD-Designer &lt;/span&gt;&lt;span&gt;æ¥è¾…åŠ©ç¼–å†™å…·ä½“&lt;/span&gt;&lt;span&gt;XPath&lt;/span&gt;&lt;span&gt;çš„æ£€æŸ¥è§„åˆ™ï¼›è¿™ä¸ªå·¥å…·ä¹Ÿå¯ä»¥éªŒè¯å„ç§ä»£ç å†™æ³•ä¸‹ï¼Œè§„åˆ™æ˜¯å¦éƒ½èƒ½èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨ã€‚æœ€ç»ˆ&lt;/span&gt;&lt;span&gt;XPath &lt;/span&gt;&lt;span&gt;å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;//Name[starts-with(@Image, &#x27;System.out.print&#x27;) &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;or starts-with(@Image, &#x27;System.err.print&#x27;)]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5893501805054152&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/BBtdicYK9ribib7s84I52o58IDuQciafESIuMLg3nKkGdKczmJ1cxAwV6wM60yfDwdp0qeIHP3kNrbCic2icQfftZ8rA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1108&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¥éª¤äºŒï¼Œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ–°å»ºä¸€ä¸ªå…·ä½“çš„è§„åˆ™ç±»ï¼Œç»§æ‰¿&lt;/span&gt;&lt;span&gt;AbstractXpathRuleÂ &lt;/span&gt;&lt;span&gt;ï¼›å…¶ä¸­&lt;/span&gt;&lt;span&gt;AbstractXpathRuleÂ &lt;/span&gt;&lt;span&gt;&lt;span&gt;æœ¬èº«æ˜¯ç»§æ‰¿&lt;/span&gt; &lt;span&gt;PMD &lt;/span&gt;&lt;span&gt;ä¸­ &lt;/span&gt;&lt;span&gt;XPathRule&lt;/span&gt;&lt;span&gt;ï¼Œä¸»è¦æ‰©å±•äº†å¤šè¯­è¨€çš„è®¾è®¡ã€‚è¯¦ç»†å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;packageÂ com.alibaba.p3c.pmd.lang.java.rule.emo;Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;publicÂ classÂ VoidSystemPrintRuleÂ extendsÂ AbstractXpathRuleÂ {Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â privateÂ staticÂ finalÂ StringÂ XPATHÂ =Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &quot;//Name[starts-with(@Image,Â &#x27;System.out.print&#x27;)&quot;+Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &quot;orÂ starts-with(@Image,Â &#x27;System.err.print&#x27;)]&quot;;Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â publicÂ VoidSystemPrintRule()Â {Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â setXPath(XPATH);Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â setVersion(XPATH_2_0);Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â }Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â @OverrideÂ Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â publicÂ voidÂ addViolation(ObjectÂ data,Â NodeÂ node,Â StringÂ arg)Â {Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â ViolationUtils.addViolationWithPrecisePosition(this,Â node,Â data,Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â I18nResources.getMessage(&quot;java.naming.VoidSystemPrintRule.violation.msg&quot;,Â node.getImage()));Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;Â Â Â Â }Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;}Â Â &lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¥éª¤ä¸‰,&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨&lt;span&gt;messages.xml &lt;/span&gt;å’Œ &lt;span&gt;messages_en.xml &lt;/span&gt;åˆ†åˆ«æ·»åŠ æ£€æŸ¥å‡ºé”™åç»™å‡ºç›¸å…³ä¸­è‹±æ–‡æç¤ºã€‚&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;xml&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;entry key=&quot;java.naming.VoidSystemPrintRule.violation.msg&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;    &amp;lt;![CDATA[ç¨‹åºä¸­é¿å…ç›´æ¥ä½¿ç”¨ System å¯¹ç›¸å…³æ—¥å¿—ä¿¡æ¯è¾“å‡º]]&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;/entry&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;â€”â€”&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;entry key=&quot;java.naming.VoidSystemPrintRule.violation.msg&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;    &amp;lt;![CDATA[Avoid using system print]]&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;/entry&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¥éª¤å››,&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;æ–°å»º&lt;/span&gt;&lt;span&gt;emo-common.xml &lt;/span&gt;&lt;span&gt;çš„è§„åˆ™é›†åˆï¼Œå¹¶å°†å®ç°çš„è§„åˆ™é…ç½®è¿›å»ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;xml&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;ruleset name=&quot;AlibabaJavaNaming&quot; xmlns=&quot;http://pmd.sourceforge.net/ruleset/2.0.0&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;xsi:schemaLocation=&quot;http://pmd.sourceforge.net/ruleset/2.0.0 http://pmd.sourceforge.net/ruleset_2_0_0.xsd&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;description&amp;gt;EmoJavaCommonRule&amp;lt;/description&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;rule name=&quot;VoidSystemPrintRule&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;language=&quot;java&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;since=&quot;1.6&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;message=&quot;java.naming.VoidSystemPrintRule.violation.msg&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;class=&quot;com.alibaba.p3c.pmd.lang.java.rule.emo.VoidSystemPrintRule&quot;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;priority&amp;gt;3&amp;lt;/priority&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;example&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;            &amp;lt;![CDATA[&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;                System.out.println(message);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;            ]]&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;/example&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;/rule&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;/ruleset&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ­¥éª¤äº”,&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;åœ¨&lt;/span&gt;&lt;span&gt;ali-pmd.xml &lt;/span&gt;&lt;span&gt;ä¸­å¼•å…¥æˆ‘ä»¬æ–°åŠ çš„è§„åˆ™é›†åˆ &lt;/span&gt;&lt;span&gt;emo-common.xml&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span&gt;&amp;lt;rule ref=&quot;rulesets/java/emo-common.xml&quot;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æœ€åè¿è¡Œä¸‹ä¿®æ”¹å®Œçš„ä»£ç ç¨‹åºï¼Œæ•ˆæœå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5171480144404332&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/BBtdicYK9ribib7s84I52o58IDuQciafESIu3bEllcPBLg4mMHxvL4MmVD0CK2aRk12cFh2WMZjzy28SA7Juvia6PWw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1108&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6558265582655827&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/BBtdicYK9ribib7s84I52o58IDuQciafESIuXkbiaAt6NviaJxWKS7Z4kFYXjUUQjvlVQsed1YBwhhK7VBK0TXicGkickw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1107&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»¼è¿°ä¸‹å…³é”®ç‚¹ï¼Œä»£ç è§„èŒƒæ£€æŸ¥åŸºæœ¬åŸç†å¯ä»¥åŸºäº&lt;span&gt;AST&lt;/span&gt;è¯­æ³•æ ‘æ¥è¿›è¡Œå®ç°ï¼›&lt;span&gt;AST&lt;/span&gt;ç»“åˆ&lt;span&gt;Xpath&lt;/span&gt;å¯ä»¥æ–¹ä¾¿è¿›è¡Œç›¸å…³è§„èŒƒè§„åˆ™çš„ç¼–å†™ï¼›é€šè¿‡ &lt;span&gt;PMD-Designer &lt;/span&gt;èƒ½å¯è§†åŒ–çš„å¸®åŠ©æˆ‘ä»¬å®ç° &lt;span&gt;XPath &lt;/span&gt;çš„ç›¸å…³ä»£ç è§„èŒƒè§„åˆ™ä»¥åŠéªŒè¯ç›¸å…³è§„åˆ™ï¼›ç»™å‡ºäº†ä¸€ä¸ªä¾‹å­ï¼ŒåŸºäºé˜¿é‡Œå¼€æºä»£ç è§„èŒƒæ’ä»¶æºç ï¼Œç¼–å†™é€‚ç”¨è‡ªå·±å…¬å¸çš„ä»£ç è§„èŒƒçš„æ–¹å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;é™„ä¸Šç›¸å…³ä»£ç githubé“¾æ¥ï¼šhttps://github.com/ariesfly/emo-coding-guardian&lt;/span&gt;&lt;/em&gt;&lt;em&gt;å¦‚æœ‰é‡åˆ°é—®é¢˜æ¬¢è¿å…¬ä¼—å·ç§ä¿¡ç•™è¨€&lt;/em&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8106761ffb102594b8b09e92b332ea71</guid>
<title>ç ”å‘è§†è§’ï¼šä¸€ä¸ªéœ€æ±‚åº”è¯¥æ€ä¹ˆæ‹†è§£ä¸å®ç°ï¼Ÿ</title>
<link>https://toutiao.io/k/27rashp</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6279296875&quot; data-s=&quot;300,640&quot; data-type=&quot;jpeg&quot; data-w=&quot;1024&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naKSppwdQmmicSPVJriaYc6C6Yh8fLYicEliaMkUhd7f70pcQ36MXS0GMJNdanYB4jboDPj6TicrFzlpIrQ/640?wx_fmt=jpeg&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç ”å‘è¿‡ç¨‹ä¸­ï¼Œå¼€å‘åŒå­¦åœ¨æ¥åˆ°ä¸€ä¸ªéœ€æ±‚åï¼Œå¿…é¡»è¦å›ç­”ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;span&gt;åšä»€ä¹ˆï¼ˆWHATï¼‰ã€æ€ä¹ˆåšï¼ˆHOWï¼‰ã€‚&lt;/span&gt;&lt;span&gt;æœ¬æ–‡å°±å¼€å‘ä¸æµ‹è¯•åœ¨æ‹†è§£éœ€æ±‚æ—¶é¢ä¸´çš„å…±æ€§é—®é¢˜ï¼Œç»“åˆè‡ªå·±è¿‡å¾€çš„ç»éªŒï¼Œæ€»ç»“çš„ä¸€ä¸ªå®ç”¨çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;span&gt;æœ¬æ–‡ä¸è®¨è®ºæŠ€æœ¯é€‰å‹ï¼Œä»…ä»æ€è€ƒé€»è¾‘ä¸Šæ€»ç»“åº”è¯¥å¦‚ä½•æ‹†è§£ä¸å®ç°ä¸€ä¸ªç»™å®šçš„éœ€æ±‚ã€‚&lt;/span&gt;&lt;span&gt;æ¬¢è¿è®¨è®ºã€‚&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;h2 data-cangjie-key=&quot;4&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-2&quot;&gt;&lt;section&gt;&lt;span&gt;ç†è§£éœ€æ±‚æ‹†è§£çš„å…³æ³¨ç‚¹&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»¥å¸¦UIçš„éœ€æ±‚ä¸ºç¤ºä¾‹ï¼Œæ¥çœ‹æ‹†è§£éœ€æ±‚è¿‡ç¨‹ä¸­çš„å…³æ³¨ç‚¹ã€‚çœ‹ä¸‹å›¾ï¼Œåœç•™20ç§’ï¼Œæ€è€ƒä¸¤ä¸ªé—®é¢˜ï¼šï¼ˆ1ï¼‰ä»æ— åˆ°æœ‰å®ç°ä»¥ä¸‹éœ€æ±‚å¯¹åº”çš„åŠŸèƒ½é¡µé¢ï¼Œéœ€è¦åšä»€ä¹ˆï¼Ÿï¼ˆ2ï¼‰ä»¥ä¸‹é¡µé¢ä¸­åªä¿®æ”¹æŒ‡å®šåŒºåŸŸçš„å…ƒç´ ï¼Œåˆéœ€è¦åšä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿ï»¿&lt;/span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5862361937128292&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1177&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naIrWy37DianDdoKIc6sv2yPRpbCRF4AmH4MoHCx5BXqvmFWiaP6H71ucQSCbYzLeRSicEwUOicHUOyNlQ/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;ä¸Šæ–‡ä¸¤ä¸ªé—®é¢˜ä»£è¡¨ä¸¤ç§éœ€æ±‚ç±»å‹ï¼š&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€ä¸ªé—®é¢˜å¯¹åº”æ–°åŠŸèƒ½çš„å®ç°ï¼Œç¬¬äºŒä¸ªé—®é¢˜å¯¹åº”å·²æœ‰åŠŸèƒ½çš„ä¿®æ”¹ä¸ç»´æŠ¤ã€‚&lt;/span&gt;&lt;span&gt;æ— è®ºæ˜¯æ–°åŠŸèƒ½ï¼Œè¿˜æ˜¯å†å²åŠŸèƒ½ï¼Œéƒ½éœ€è¦å…³æ³¨å¦‚ä¸‹ç‚¹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å°†ä¸Šæ–‡æåŠçš„å…³æ³¨ç‚¹è¿›è¡ŒæŠ½è±¡ä¸åˆ†å±‚åï¼Œä¼šå¾—åˆ°å¦‚ä¸‹ä¸€å¼ å›¾ï¼š&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.42136498516320475&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;674&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naIrWy37DianDdoKIc6sv2yPReGic7RicdobhmdSPmvMcR9JPJgMf13nFdAfgUXib4GIZkByxhxoktPUPw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿ï»¿&lt;/span&gt;&lt;span&gt;æŠ½è±¡åçš„æ¶æ„å±‚æ¬¡å›¾å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£å®ç°çš„å±‚æ¬¡åˆ’åˆ†ä¸ç»“æ„è®¾è®¡ã€‚&lt;/span&gt;&lt;span&gt;ä½†æ˜¯ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒæŠ½è±¡æ„å‘³ç€æŠ¹å¹³ç»†èŠ‚ã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºä¸€ä¸ªæ–°æ‰‹å¼€å‘æˆ–è€…æ–°æ‰‹æµ‹è¯•æ¥è¯´ï¼Œéœ€æ±‚å®ç°æˆ–è€…æµ‹è¯•è¿‡ç¨‹ï¼Œä¸ä»…è¦å…³æ³¨æŠ½è±¡å±‚é¢çš„æ¶æ„è®¾è®¡ï¼Œæ›´éœ€è¦å…³æ³¨å®ç°è¿‡ç¨‹ä¸­çš„ç»†èŠ‚ã€‚&lt;/span&gt;&lt;span&gt;æ¥ä¸‹æ¥å¯¹äºä¸Šæ–‡æåŠåˆ°çš„å…³æ³¨ç‚¹ï¼Œä¸‹æ–‡ä¼šå±•å¼€è¯´æ˜ã€‚&lt;/span&gt;&lt;span&gt;ï¼ˆåœ¨ä¸€ä¸ªå¤šè§’è‰²çš„å›¢é˜Ÿä¸­ï¼Œå®ç°ä¸€ä¸ªéœ€æ±‚ï¼Œä¸ä»…æœ‰è‡ªå·±ï¼Œè¿˜æœ‰å…¶ä»–è§’è‰²çš„å¼€å‘ã€æµ‹è¯•ã€PDã€è¿è¥ã€æ•°æ®ç­‰ï¼Œç†è§£å…³æ³¨ç»†èŠ‚æ‰èƒ½ä¿éšœäº¤ä»˜è´¨é‡ï¼‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;/section&gt;&lt;h2 data-cangjie-key=&quot;60&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-2&quot;&gt;&lt;section&gt;&lt;span&gt;é€šè¿‡å…³æ³¨ç‚¹çœ‹å®ç°éœ€æ±‚è¦åšäº›ä»€ä¹ˆ&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;h3 data-cangjie-key=&quot;63&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹1ï¼šéœ€è¦å¤šå°‘UI&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;è¦ç»˜åˆ¶å¤šå°‘UIç»„ä»¶ã€è¦å¢åŠ å¤šå°‘UIé¡µé¢ï¼Œé¦–å…ˆå–å†³äºâ€œéœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰â€ã€â€œè§†è§‰äº¤äº’è®¾è®¡ç¨¿â€ã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºå¼€å‘æ¥è¯´ï¼Œè¯·é‡è§†éœ€æ±‚è¯„å®¡ã€è§†è§‰äº¤äº’è¯„å®¡ã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºè´¨é‡è‰¯å¥½çš„éœ€æ±‚æ–‡æ¡£æˆ–è€…è§†è§‰è®¾è®¡ç¨¿ï¼Œæ–‡æ¡£ä¸­ç»™å‡ºçš„UIç»„ä»¶/é¡µé¢èŒƒå›´ä¸€èˆ¬å°±æ˜¯å¼€å‘è¦å®ç°çš„UIèŒƒå›´ï¼›&lt;/span&gt;&lt;span&gt;å¯¹äºè´¨é‡å·®çš„éœ€æ±‚ç”šè‡³æ˜¯ä¸€å¥è¯çš„éœ€æ±‚ï¼ŒUIèŒƒå›´åˆ™éœ€è¦ç ”å‘â€œæ¢³ç†ç¡®å®šâ€ã€‚&lt;/span&gt;&lt;span&gt;æ— è®ºéœ€æ±‚æ–‡æ¡£æˆ–è§†è§‰è®¾è®¡ç¨¿è´¨é‡å¦‚ä½•ï¼Œç ”å‘äººå‘˜åœ¨éœ€æ±‚è¯„å®¡ã€è§†è§‰äº¤äº’è¯„å®¡ã€æŠ€æœ¯è®¾è®¡ã€ç¼–ç å®ç°è¿‡ç¨‹ä¸­éƒ½éœ€é‡ç‚¹å…³æ³¨â€œå¼‚å¸¸é€»è¾‘â€ã€‚&lt;/span&gt;&lt;span&gt;ä»€ä¹ˆæ˜¯å¼‚å¸¸é€»è¾‘ï¼Ÿ&lt;/span&gt;&lt;span&gt;æ¯”å¦‚ï¼Œä¸€ä¸ªæŸ¥è¯¢ç±»çš„éœ€æ±‚ï¼Œâ€œæŸ¥è¯¢ç»“æœä¸ºç©ºâ€â€œæŸ¥è¯¢æ—¶æ— ç½‘ç»œâ€è¿™ç±»åœºæ™¯å°±å±äºâ€œå¼‚å¸¸é€»è¾‘â€ã€‚&lt;/span&gt;&lt;span&gt;å¾ˆå¤šæ—¶å€™ï¼Œæ–°æ‰‹å®¹æ˜“å‡ºé—®é¢˜æˆ–è€…é—æ¼çš„åœ°æ–¹å°±æ˜¯å¼‚å¸¸é€»è¾‘çš„å¤„ç†ä¸æ˜¾ç¤ºã€‚&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;éœ€æ±‚æ‹†è§£é˜¶æ®µï¼Œå…³æ³¨UIå¦‚ä½•å®ç°çš„åŒæ—¶ï¼Œä¹Ÿè¯·åŠ¡å¿…å…³æ³¨UIçš„å±•ç¤ºå¯¹è±¡ï¼ŒåŒ…æ‹¬ï¼š&lt;/span&gt;&lt;span&gt;å›¾ç‰‡ä¸å¤šåª’ä½“å†…å®¹ï¼ˆCDNå›¾ç‰‡ã€OSSå›¾ç‰‡æ–‡ä»¶ã€base64ç¼–ç åçš„å›¾ç‰‡ï¼‰ã€æ–‡æ¡ˆï¼ˆæ–‡æ¡ˆçš„é•¿åº¦ã€å¤šè¯­è¨€ç¿»è¯‘çš„æ¥æºï¼‰ã€RTLï¼ˆRight to Leftï¼‰é€‚é…ã€‚&lt;/span&gt;&lt;span&gt;å·²ä¸€ä¸ªæ”¯æŒ17ç§è¯­è¨€ç”šè‡³æ˜¯æ›´å¤šè¯­è¨€çš„æµ·å¤–APPå¼€å‘ä¸ºç¤ºä¾‹ï¼Œè¿™äº›å†…å®¹è™½ä¸å½±å“å¼€å‘è¿›åº¦ï¼Œä½†æ˜¯ä¼šå½±å“éœ€æ±‚åœ¨äº¤ä»˜æ—¶çš„è´¨é‡ã€æˆ–è€…æ˜¯åˆ°äº†éœ€æ±‚å®ç°åæœŸè¡¥ä½œä¸šã€‚&lt;/span&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å®æ“æ–¹æ³•ï¼šéœ€æ±‚æ‹†è§£çš„æ—¶ï¼Œå¯¹äºUIèŒƒå›´ï¼Œå¯ä»¥æ‹†è§£å‡ºå¦‚ä¸‹å†…å®¹ç”¨äºè¾…åŠ©åç»­ç ”å‘å®ç°ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;UIèŒƒå›´ï¼š&lt;/span&gt;&lt;span&gt;åŠŸèƒ½é¡µé¢èŒƒå›´ã€é¡µé¢çŠ¶æ€åŠçŠ¶æ€çš„å˜åŒ–é€»è¾‘ã€ç•Œé¢çš„å¼‚å¸¸é€»è¾‘æ€ç­‰ç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é¡µé¢å…ƒç´ çš„æ‹†è§£ï¼š&lt;/span&gt;&lt;span&gt;åˆ—è¡¨å…ƒç´ ã€å¡ç‰‡å…ƒç´ ã€åŠ¨ç”»å…ƒç´ ã€UIç‰¹æ•ˆç­‰ï¼ˆè¿™ä¸ªä¹Ÿæ˜¯æ²‰æ·€é€šç”¨ç»„ä»¶çš„ä¾æ®ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;UIå±•ç¤ºçš„å¯¹è±¡ï¼š&lt;/span&gt;&lt;span&gt;æ–‡æ¡ˆçš„èŒƒå›´ã€å¤šè¯­è¨€ç¿»è¯‘çš„æ¥æºã€RTLé€‚é…çš„èŒƒå›´ã€å›¾ç‰‡ã€çŸ­è§†é¢‘ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹2ï¼šæ•°æ®ä»å“ªé‡Œæ¥ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-cangjie-key=&quot;93&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;è¿™é‡Œçš„æ•°æ®æ˜¯åŒ…æ‹¬ç”¨æˆ·ç›´æ¥æ„ŸçŸ¥çš„æ•°æ®ä¸å¯Œåª’ä½“å†…å®¹æµï¼Œä¹ŸåŒ…æ‹¬ç”¨æˆ·ä¸æ„ŸçŸ¥ä½†æ˜¯ç”¨äºæ”¯æ’‘åŠŸèƒ½çš„ç ”å‘ç±»å‹çš„æ•°æ®ã€‚æ•°æ®çš„æ¥æºåŒ…æ‹¬ï¼šç½‘ç»œæ•°æ®ã€æœ¬åœ°å­˜å‚¨çš„æ•°æ®ã€å†…å­˜æ•°æ®ã€‚ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œéœ€æ±‚å®ç°çš„å¤„ç†æœ‰å·®å¼‚ï¼Œä¾‹å¦‚ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç½‘ç»œæ•°æ®ï¼š&lt;/span&gt;&lt;span&gt;éœ€æ±‚æ‹†è§£æ—¶å€™é‡ç‚¹å…³æ³¨æ¥å£æ–‡æ¡£ã€æ¥å£åç§°ã€æ¥å£è¿”å›çš„æ•°æ®å­—æ®µï¼ˆåŒ…æ‹¬å­—æ®µç±»å‹ã€èŒƒå›´ã€å­—æ®µåç§°ç­‰ç­‰ï¼‰ã€æ¥å£å¯¹åº”çš„å›¢é˜Ÿæˆ–å…·ä½“çš„å¼€å‘ã€æ¥å£çš„ä¸Šä¸‹æ¸¸é“¾è·¯ï¼ˆç¤ºä¾‹ï¼š&lt;/span&gt;&lt;span&gt;æœç´¢çš„æ¥å£ä¼šæ¶‰åŠå¹¿å‘Šã€ç®—æ³•ç­‰ï¼‰ã€æ¥å£æµ‹è¯•ä¸è”è°ƒæ–¹å¼ç­‰ã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºæ–°æ‰‹ï¼Œéœ€æ±‚æ‹†è§£çš„æ—¶å€™è¿˜éœ€è¦ç¡®è®¤ï¼š&lt;/span&gt;&lt;span&gt;æ•°æ®ç½‘å…³ç±»å‹ï¼ˆMTOPç½‘å…³ã€Nodeç¼–æ’åçš„æ•°æ®ã€Webç½‘ç«™å¯¹åº”çš„æ•°æ®ç½‘å…³ç­‰ï¼‰ï¼Œæ˜ç¡®ç½‘ç»œæ•°æ®è°ƒåº¦æ‰€ç”¨çš„åŸŸåï¼ˆæ¯”å¦‚ï¼Œéƒ¨åˆ†APPäº¤æ˜“åŠŸèƒ½çš„åŸŸåä¸éäº¤æ˜“åŠŸèƒ½çš„åŸŸåæ˜¯åˆ†å¼€çš„ï¼Œè°ƒåº¦æ–¹å¼ä¹Ÿä¼šæœ‰å·®å¼‚ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœ¬åœ°å­˜å‚¨æ•°æ®ï¼š&lt;/span&gt;&lt;span&gt;éœ€æ±‚æ‹†è§£é˜¶æ®µï¼Œè¦æ˜ç¡®æœ¬åœ°å­˜å‚¨æ•°æ®è¿˜æ˜¯è‡ªå·±è´Ÿè´£è¿˜æ˜¯ä½¿ç”¨ä»–äººçš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;span&gt;å¦‚æœæ˜¯è‡ªå·±è´Ÿè´£åˆ™éœ€è¦è¿›ä¸€æ­¥åˆ¤æ–­æ•°æ®æ˜¯å†™æœ¬åœ°æ•°æ®åº“ï¼Œè¿˜æ˜¯å†™æœ¬åœ°æ–‡ä»¶ï¼›&lt;/span&gt;&lt;span&gt;å¦‚æœæ˜¯ä»–äººè´Ÿè´£ï¼Œæ•°æ®çš„è¯»å†™æ–¹å¼ä¸æ¥å£æ˜¯ä»€ä¹ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å†…å­˜æ•°æ®ï¼š&lt;/span&gt;&lt;span&gt;éœ€æ±‚æ‹†è§£é‡ç‚¹å…³æ³¨å†…å­˜æ•°æ®çš„è¯»å†™æ–¹å¼ï¼Œæ•°æ®ä½¿ç”¨åçš„é‡Šæ”¾æ–¹å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯Œåª’ä½“å†…å®¹æµï¼š&lt;/span&gt;&lt;span&gt;å›¾ç‰‡ã€çŸ­è§†é¢‘ã€ç›´æ’­ç­‰å¤šåª’ä½“æµã€‚&lt;/span&gt;&lt;span&gt;éœ€æ±‚æ‹†è§£æ—¶å…³æ³¨è¿™äº›å†…å®¹å­˜å‚¨çš„å½¢å¼ï¼ˆä»¥å›¾ç‰‡ä¸ºç¤ºä¾‹ï¼š&lt;/span&gt;&lt;span&gt;å›¾ç‰‡æ˜¯CDNçš„URLï¼Œè¿˜æ˜¯OSSçš„æ–‡ä»¶åœ°å€æˆ–è€…IDï¼Œç”šè‡³æ˜¯base64å¤„ç†åçš„ç¼–ç ç»“æœï¼‰ï¼›&lt;/span&gt;&lt;span&gt;åŒæ—¶è¿˜éœ€è¦åˆ¤æ–­è¿™äº›å±•ç¤ºèƒ½åŠ›æ˜¯å·²æœ‰çš„è¿˜æ˜¯éœ€è¦æ–°å¼•å…¥ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;æ€»ç»“æ¥è¯´ï¼Œâ€œæ•°æ®ä»å“ªé‡Œæ¥â€å¾ˆå¥½è®°å¿†ï¼Œä½†æ˜¯ï¼Œåœ¨çœŸå®çš„ç ”å‘è¿‡ç¨‹ä¸­ï¼Œâ€œæ•°æ®ä»å“ªé‡Œæ¥â€å¾€å¾€æ˜¯ç ”å‘è¿‡ç¨‹ä¸­æœ€å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ã€‚&lt;/span&gt;&lt;span&gt;ä»¥ç½‘ç»œæ•°æ®ä¸ºä¾‹ï¼Œå…¸å‹çš„é—®é¢˜æœ‰ï¼š&lt;/span&gt;&lt;span&gt;è”è°ƒç¯å¢ƒä¸ç¨³å®šã€æ¥å£è¿”å›çš„å­—æ®µæœªéµå®ˆçº¦å®šã€æ¥å£ä¸Šä¸‹æ¸¸æ•°æ®é“¾è·¯ä¸é€šå¯¼è‡´æ— æ³•æµ‹è¯•ç­‰ã€‚&lt;/span&gt;&lt;span&gt;å³ä½¿éœ€æ±‚å®Œæˆå¹¶ä¸”äº¤ä»˜ä¸Šçº¿ï¼Œä¹Ÿè¿˜æ˜¯ä¼šæœ‰å„ç±»é—®é¢˜ï¼Œæ¯”å¦‚ï¼š&lt;/span&gt;&lt;span&gt;å¼•å…¥äº†æ–°CDNå¯¼è‡´ç°æœ‰çš„å›¾ç‰‡/çŸ­è§†é¢‘åŠ è½½è¿‡ç¨‹çš„ä¼˜åŒ–ç­–ç•¥ä¸æ”¯æŒï¼Œå¯¼è‡´çº¿ä¸Šåé¦ˆæ€§èƒ½æˆ–è€…æ˜¯ç¨³å®šæ€§é—®é¢˜ç­‰ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å¯¹äºâ€œæ•°æ®ä»å“ªé‡Œæ¥â€ï¼Œåœ¨æ‹†è§£éœ€æ±‚çš„æ—¶å€™ï¼Œä¸€å®šè¦å…³æ³¨åˆ°æ¯ä¸€ä¸ªå­—æ®µã€‚&lt;/span&gt;&lt;span&gt;è¿™ä¹ˆå¼ºè°ƒï¼Œæ—¢å› ä¸ºè¿™ä¸ªç‚¹æ—¢å½±å“å®é™…æŠ•å…¥å·¥ä½œé‡ï¼Œè¿˜ç‰¹åˆ«å½±å“äº¤ä»˜çš„éœ€æ±‚çš„å¯ç”¨æ€§ä¸è´¨é‡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å®æ“æ–¹æ³•ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¿›è¡Œéœ€æ±‚æ‹†è§£çš„æ—¶å€™ï¼Œå›´ç»•æ•°æ®ä»å“ªé‡Œæ¥ï¼Œå¯ä»¥æ‹†è§£å‡ºä»¥ä¸‹å†…å®¹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹3ï¼šæ•°æ®ä¸UIå¦‚ä½•å…³è”ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-cangjie-key=&quot;141&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;â€œæ•°æ®è¦åˆ°å“ªé‡Œå»ï¼Œæ€ä¹ˆå»â€ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ•°æ®ç»‘å®šã€‚å¯¹äºæœ‰ä¸€å®šå¤æ‚åº¦çš„éœ€æ±‚ï¼Œâ€œæ•°æ®ä¸UIå¦‚ä½•å…³è”â€å¾ˆå¤§ç¨‹åº¦ä¸Šä¼šå†³å®šè¿™ä¸ªåŠŸèƒ½çš„å®ç°ä¸ç»´æŠ¤éš¾æ˜“ã€‚éœ€æ±‚æ‹†è§£çš„æ—¶å€™ï¼Œæ— è®ºæ˜¯é€‰æ‹©MVCã€MVPã€è¿˜æ˜¯MVVMï¼Œæ•°æ®ç»‘å®šè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒè€ƒéªŒå¼€å‘äººå‘˜çš„è®¾è®¡èƒ½åŠ›ã€‚æˆ‘ä¸ªäººå°†æ•°æ®ç»‘å®šæ€»ç»“ä¸ºå¦‚ä¸‹å‡ ç§ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å•å‘æ•°æ®ç»‘å®šï¼š&lt;/span&gt;&lt;span&gt;æ•°æ®å˜åŒ–è‡ªåŠ¨é©±åŠ¨UIåˆ·æ–°ï¼Œä»£ç å®ç°ä¼šä½“ç°ä¸ºå„ç§Observeræˆ–è€…Observableç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åŒå‘æ•°æ®ç»‘å®šï¼š&lt;/span&gt;&lt;span&gt;æ•°æ®æ”¹å˜çš„åŒæ—¶ä½¿è§†å›¾åˆ·æ–°ï¼Œè€Œè§†å›¾æ”¹å˜ä¹Ÿå¯ä»¥åŒæ—¶æ”¹å˜æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ— æ‰€è°“æ•°æ®ç»‘å®šï¼Œæ•°æ®å…³è”åˆ°UIæ˜¯è¿‡ç¨‹å¼çš„ç¼–ç¨‹ï¼Œä½“ç°ä¸ºï¼š&lt;/span&gt;&lt;span&gt;åŠ è½½æ•°æ®ã€åŠ è½½æˆåŠŸæ‰‹å·¥ä»£ç ä¸Šå±ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å½“ç„¶ï¼Œä»¥ä¸Šæ€»ç»“æ˜¯ç®€åŒ–åçš„æ€»ç»“ã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºæ–°åŠŸèƒ½ï¼Œå»ºè®®éœ€æ±‚æ‹†è§£çš„æ—¶å€™ï¼Œåå¤ç†è§£æ‰€éœ€çš„æ•°æ®æºã€å……åˆ†ç†è§£UIèŒƒå›´ï¼Œç»“åˆæ§åˆ¶é€»è¾‘ï¼Œä»”ç»†æå–å…³é”®ç‰¹å¾åï¼Œå……åˆ†è®¾è®¡åå†è¿›è¡Œç¼–ç ç­‰æ“ä½œã€‚&lt;/span&gt;&lt;span&gt;è®¾è®¡çš„æ—¶å€™å¤šå€Ÿé‰´å›¢é˜Ÿå†…æˆ–è¡Œä¸šå†…çš„æœ€ä½³å®è·µã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å¯¹äºç»´æŠ¤ç±»å‹çš„éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯æœ‰æµ“é‡ç¥–ä¼ ç‰¹è´¨çš„åŠŸèƒ½ï¼ˆæ¯”å¦‚2013å¹´åŠŸèƒ½è¿­ä»£è‡³2022å¹´&lt;/span&gt;&lt;span&gt;çš„éœ€æ±‚ï¼‰ï¼Œåˆ™è¦èŠ±ç‚¹æ—¶é—´ç†è§£åŸæœ‰çš„å…³è”å…³ç³»ï¼Œè¿™ä¸ªå¾ˆæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªä¸å¤§ä¸å°çš„éš¾ç‚¹ã€‚&lt;/span&gt;&lt;span&gt;æ¯”å¦‚ï¼Œæœ‰çš„å†å²åŠŸèƒ½åœ¨å®ç°çš„æ—¶å€™ï¼Œæ•°æ®ä¸UIçš„å…³ç³»æ˜¯é€šè¿‡EventBus/æ¶ˆæ¯å¹¿æ’­ç±»çš„äº‹ä»¶è§¦å‘ï¼›&lt;/span&gt;&lt;span&gt;è¿˜æœ‰çš„åŠŸèƒ½æ•°æ®åœ¨ç‹¬ç«‹è¿›ç¨‹åŠ è½½ï¼ŒåŠ è½½å®Œæˆåé€šè¿‡è¿›ç¨‹é—´é€šä¿¡å†é€šè¿‡äº‹ä»¶é€šçŸ¥æœºåˆ¶ç»‘å®šæ•°æ®åˆ°UIã€‚&lt;/span&gt;&lt;span&gt;æ€»ç»“æ¥è¯´ï¼Œéƒ¨åˆ†å†å²åŠŸèƒ½åœ¨æœ€å¼€å§‹çš„å®ç°ï¼Œä¼šç”¨åˆ°å„ç§é…·çˆ½çš„æ–¹æ¡ˆï¼Œä½†æ˜¯åˆ°äº†åæœŸç»´æŠ¤ï¼Œè¿™ç±»é…·çˆ½æ–¹æ³•åˆ™ä¼šä»¥ä¸€ç§è¶…é•¿æŠ€æœ¯é“¾è·¯æˆ–è€…æ‹—å£çš„æŠ€æœ¯é“¾è·¯å‘ˆç°ç»™ç»´æŠ¤è€…ï¼Œå˜æˆä¸€åº§éœ€è¦å’¬ç‰™æ‰èƒ½ç¿»é˜…çš„â€œå±±â€ã€‚&lt;/span&gt;&lt;span&gt;æœ¬è´¨ä¸Šæ¥è¯´ï¼Œç¼–ç ä¸æ˜¯äººä¸æœºå™¨çš„äº¤æµï¼Œè€Œæ˜¯äººä¸äººä¹‹é—´é€šè¿‡å†™ä½œçš„äº¤æµã€‚&lt;/span&gt;&lt;span&gt;å¯¹äºä¸€ä¸ªç»´æŠ¤æ€§è´¨çš„åŠŸèƒ½ï¼ŒæŒæ¡åŸæœ‰å…³ç³»çš„ä¸€ç§æ–¹å¼å°±æ˜¯æ¤å…¥å„ç§æµ‹è¯•æ€§çš„ä»£ç è¾…åŠ©è‡ªå·±ç†è§£ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å®æ“æ–¹æ³•ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ‹†è§£æ—¶ï¼Œæ•°æ®ä¸UIå…³è”ï¼Œå¯æ‹†è§£å‡ºçš„å†…å®¹ï¼ˆæ•°æ®ä¸UIçš„å…³è”ï¼Œå»ºè®®å°†â€œå…‹åˆ¶â€ä½œä¸ºè‡ªå·±çš„åŸåˆ™ï¼‰ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åŠŸèƒ½çš„æ•°æ®æµè½¬ä¸é€»è¾‘æµç¨‹å›¾&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä»£ç è®¾è®¡ã€æ•°æ®å…³ç³»æµè½¬è®¾è®¡ç­‰ç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•°æ®çŠ¶æ€å˜åŒ–ã€UIåˆ·æ–°æ—¶æœºç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å…³è”æ‰€ç”¨çš„ç»‘å®šèƒ½åŠ›ã€æ•°æ®å˜åŒ–åçš„é€šçŸ¥æœºåˆ¶ç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹4ï¼šç”¨æˆ·è¡Œä¸ºå“åº”&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-cangjie-key=&quot;189&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;ç›¸å¯¹äºä¸Šæ–‡æåŠçš„ä¸‰ä¸ªç‚¹ï¼Œè¿™ä¸€ç‚¹ç›¸å¯¹å®¹æ˜“ã€‚å¯¹äºå¸¦UIçš„éœ€æ±‚ï¼ŒæŒ‰ç…§å¦‚ä¸‹èŒƒå›´æ‹†è§£ä¸å®ç°å³å¯ï¼š&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å½’çº³éœ€æ±‚æ–‡æ¡£æˆ–è®¾è®¡æ–‡æ¡£ä¸­çš„ç”¨æˆ·è¡ŒåŠ¨ç‚¹ï¼ŒåŒ…æ‹¬ï¼š&lt;/span&gt;&lt;span&gt;ç‚¹å‡»ã€ä¸Šä¸‹æ»‘åŠ¨ã€å·¦å³æ»‘åŠ¨ã€é•¿æŒ‰ã€å¼€é”å±ã€è™šå®é”®ç›˜å“åº”ã€ç¼©æ”¾æ‰‹åŠ¿ç­‰ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;è¡ŒåŠ¨ç‚¹çš„å¸¸è§å¤„ç†ï¼š&lt;/span&gt;&lt;span&gt;é¡µé¢è·³è½¬ã€tips/toast/å¼¹çª—ç­‰å±•ç¤ºã€åŠ¨ç”»å¤„ç†ã€ç•Œé¢ç¼©æ”¾ã€ç•Œé¢å…³é—­ç­‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éœ€çº¦å®šçš„æ¥å£æˆ–è§„èŒƒï¼š&lt;/span&gt;&lt;span&gt;é¡µé¢è·³è½¬çš„schema/ä¼ å‚ã€äºŒä¸‰æ–¹èƒ½åŠ›å”¤èµ·çš„æ–¹å¼ç­‰&lt;/span&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹5ï¼šç”¨æˆ·è¡Œä¸ºé‡‡é›†&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-cangjie-key=&quot;207&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;ä¹Ÿå°±æ˜¯æ”¶é›†ç”¨æˆ·è¡Œä¸ºçš„æ•°æ®ï¼Œç®€ç§°â€œæ•°æ®åŸ‹ç‚¹â€ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®ã€è¿›å…¥é¡µé¢ã€åœ¨æŸåŒºåŸŸåœç•™ä¸€å®šæ—¶é•¿ä¹‹ç±»çš„è¡Œä¸ºæ•°æ®ã€‚è¿™äº›è¡Œä¸ºæ•°æ®æ˜¯äº§å“ã€æ•°æ®ã€BIç­‰è§’è‰²å…³å¿ƒå¹¶ç”¨äºåˆ†æç”¨æˆ·ç‰¹å¾çš„æ•°æ®ã€‚ç”¨æˆ·è¡Œä¸ºé‡‡é›†ä¸ç”¨æˆ·è¡Œä¸ºå“åº”å¯†åˆ‡ç›¸å…³ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ•°æ®åŸ‹ç‚¹ä½œä¸ºç‹¬ç«‹çš„å…³æ³¨ç‚¹å¼ºè°ƒï¼Œæ˜¯å› ä¸ºå³ä½¿ç ”å‘åœ¨æ¯ä¸ªéœ€æ±‚éƒ½ä¼šä¸â€œé¡µé¢ç‚¹â€â€œç‚¹å‡»ç‚¹â€â€œæ›å…‰ç‚¹â€â€œè‡ªå®šä¹‰äº‹ä»¶ç‚¹â€æ‰“äº¤é“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ï¼Œé—®é¢˜ç¤ºä¾‹ï¼šï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å®æ“æ–¹æ³•ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç ”å‘äººå‘˜åœ¨æ‹†è§£éœ€æ±‚çš„æ—¶å€™ï¼Œé’ˆå¯¹ç”¨æˆ·è¡Œä¸ºé‡‡é›†ï¼Œcheckä»¥ä¸‹ç‚¹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éœ€æ±‚æ˜¯å¦éœ€è¦é‡‡é›†åŸ‹ç‚¹æ•°æ®&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç‚¹çš„åç§°æ˜¯å¦ç¬¦åˆäº§å“/æ•°æ®ç­‰æ¶ˆè´¹æ–¹çš„è¦æ±‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å‚æ•°èŒƒå›´ä¸å‚æ•°å€¼æ˜¯å¦æœ‰è¦æ±‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;éœ€æ±‚å®Œæˆåï¼Œæ•°æ®é‡‡é›†è°éªŒè¯ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å…³æ³¨ç‚¹6ï¼šå‘å¸ƒåï¼Œå¦‚ä½•è¿ç»´ä¸ç›‘æ§&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-cangjie-key=&quot;243&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-3&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;çº¿ä¸Šä¸€æ—¦å‡ºé—®é¢˜ï¼Œå¼€å‘æˆ–æµ‹è¯•å¯ä»¥ç”¨ä»€ä¹ˆå·¥å…·æˆ–è€…æ–¹æ³•è¿›è¡Œæ’æŸ¥åˆ†æã€‚è¿™å°±æ¶‰åŠåˆ°ï¼šéœ€æ±‚å¦‚ä½•å‘å¸ƒã€äº¤ä»˜åçš„åŠŸèƒ½å¦‚ä½•ç›‘æ§ã€å¼€å‘è¿‡ç¨‹ä¸­æ˜¯å¦è¦æå‰å¸ƒç‚¹ä»¥æ”¯æ’‘æ’æŸ¥åˆ†æå·¥å…·çš„ä½¿ç”¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;åŠŸèƒ½å‘å¸ƒå½¢å¼æœ‰å¤šç§ï¼Œä¾‹å¦‚ï¼š&lt;/span&gt;&lt;span&gt;ç°åº¦ã€Betaã€A/Bæµ‹è¯•å½¢å¼å‘å¸ƒã€åŠ¨æ€é…ç½®ä¸‹å‘ã€ç›´æ¥å…¨é‡ç­‰ã€‚&lt;/span&gt;&lt;span&gt;ä¸åŒå‘å¸ƒå½¢å¼å¯¹äºåŠŸèƒ½å‘å¸ƒä¹‹åˆçš„è§‚æµ‹æœ‰å·®å¼‚ï¼Œè¦æ”¯æ’‘ä¸åŒçš„å‘å¸ƒå½¢å¼ï¼Œå…·ä½“çš„å®ç°ä¹Ÿæœ‰å·®å¼‚ï¼š&lt;/span&gt;&lt;span&gt;æ¯”å¦‚ï¼Œé€šè¿‡Google Playè¿›è¡ŒAPPç°åº¦æµ‹è¯•ä¸éœ€è¦å¼€å‘äººå‘˜é’ˆå¯¹åŠŸèƒ½åšé¢å¤–å¤„ç†ï¼›&lt;/span&gt;&lt;span&gt;ä»¥A/Bæµ‹è¯•å½¢å¼ä¸Šçº¿çš„åŠŸèƒ½åˆ™éœ€è¦åœ¨ç¼–ç ä¹‹åˆå°±è¦è€ƒè™‘é€šè¿‡ä»€ä¹ˆå¹³å°èƒ½åŠ›è¿›è¡Œï¼ŒåŒæ—¶è¿˜éœ€è¦ç¼–å†™å¯¹åº”ä»£ç ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;å…³äºå¦‚ä½•ç›‘æ§ï¼š&lt;/span&gt;&lt;span&gt;éœ€è¦åŒºåˆ†æ˜¯æŠ€æœ¯æŒ‡æ ‡ç›‘æ§ï¼Œè¿˜æ˜¯ä¸šåŠ¡ç±»æŒ‡æ ‡çš„ç›‘æ§ã€‚&lt;/span&gt;&lt;span&gt;ä¸åŒçš„ç›‘æ§èŒƒå›´ï¼Œåœ¨éœ€æ±‚æ‹†è§£çš„æ—¶å€™å°±è¦å†³å®šå“ªä¸ªå¹³å°è¿›è¡Œï¼Œæ¯”å¦‚ï¼š&lt;/span&gt;&lt;span&gt;ä¸šåŠ¡ç±»çš„æŒ‡æ ‡å¯ä»¥åœ¨xflushå¹³å°ä¸Šè¿›è¡Œï¼ˆéœ€æ±‚æ‹†è§£æ—¶è¦è€ƒè™‘æ•°æ®å›æµxflushæ˜¯å·²æœ‰çš„èƒ½åŠ›ï¼Œè¿˜æ˜¯éœ€è¦æ–°å»ºèƒ½åŠ›ï¼‰ï¼›&lt;/span&gt;&lt;span&gt;æ€§èƒ½ç±»æŒ‡æ ‡å¯ä»¥åœ¨é­”å…”/iTraceä¸Šè§‚æµ‹ï¼›&lt;/span&gt;&lt;span&gt;ç ”å‘é—®é¢˜çš„æ’æŸ¥å¯ä»¥é€šè¿‡SLSè¿›è¡Œï¼Œè¿˜å¯ä»¥è‡ªå»ºæ’æŸ¥èƒ½åŠ›ã€‚&lt;/span&gt;&lt;span&gt;ç›‘æ§è™½å¯ä»¥è·ŸéšåŠŸèƒ½çš„äº¤ä»˜é€æ­¥è¡¥å……å®Œå–„ï¼Œè€ƒè™‘éœ€æ±‚çš„å®Œæ•´æ€§ï¼Œå»ºè®®æ˜¯åœ¨éœ€æ±‚æ‹†è§£çš„æ—¶å€™æ˜ç¡®ç›‘æ§èŒƒå›´ä¸å½¢å¼ã€‚&lt;/span&gt;&lt;span&gt;æ¯•ç«Ÿï¼Œå®ç°ç›‘æ§ä¹Ÿæ˜¯éœ€è¦å·¥ä½œé‡çš„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;ä¸Šçº¿åæœ‰å“ªäº›å·¥å…·å¯ä»¥ç”¨äºæ’æŸ¥åˆ†æé—®é¢˜ï¼Œåœ¨éœ€æ±‚å®ç°çš„æ—¶å€™å°±éœ€è¦å°†èƒ½åŠ›é¢„ç½®å¥½çš„ã€‚&lt;/span&gt;&lt;span&gt;ä¾‹å¦‚ï¼Œå¯¹äºâ€œç”¨æˆ·ä¸‹å•â€è¿™ç±»å®¹é”™è¾ƒä½çš„éœ€æ±‚ï¼Œç ”å‘åœ¨éœ€æ±‚å®ç°è¿‡ç¨‹ä¸­å¦‚æœæ²¡æœ‰å†™å…¥è¶³å¤Ÿçš„æ—¥å¿—ï¼Œä¸€æ—¦çº¿ä¸Šç”¨æˆ·åé¦ˆâ€œåŒä¸€ä¸ªäº§å“åœ¨åŒä¸€ä¸ªæ—¶é—´ä¸‹ä¸¤ä¸ªè®¢å•â€ï¼Œå¤§æ¦‚ç‡è¿™ä¸ªé—®é¢˜å°±æ˜¯æ— å¤´æ— è§£é—®é¢˜ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;span&gt;æ€»ç»“æ¥è¯´ï¼š&lt;/span&gt;&lt;span&gt;éœ€æ±‚å‘å¸ƒåˆ°çº¿ä¸Šåå¦‚ä½•è¿ç»´ä¸ç›‘æ§ï¼Œç ”å‘äººå‘˜åœ¨æ‹†è§£éœ€æ±‚çš„æ—¶å€™éœ€è¦æ€è€ƒæ˜ç™½ï¼š&lt;/span&gt;&lt;span&gt;éœ€æ±‚å‘å¸ƒå½¢å¼ã€ä¸Šçº¿åæœŸæœ›çš„ç›‘æ§æ–¹å¼ã€å‡ºé—®é¢˜æ—¶å¯ç”¨çš„æ’æŸ¥æ–¹å¼ä¸ä¸æ’æŸ¥æ•°æ®ã€‚&lt;/span&gt;&lt;span&gt;è¿™äº›æ˜ç¡®åï¼Œå…·ä½“çš„å®ç°ï¼Œå¾ˆå®¹æ˜“é€šè¿‡å†å²åŠŸèƒ½ã€å’¨è¯¢ã€æŸ¥èµ„æ–™ç­‰æ–¹å¼å­¦ä¹ åˆ°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ï»¿&lt;/span&gt;&lt;/section&gt;&lt;h2 data-cangjie-key=&quot;276&quot; data-cangjie-leaf-block=&quot;true&quot; data-type=&quot;heading-2&quot;&gt;&lt;section&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/section&gt;&lt;/h2&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ— è®ºæ˜¯å¼€å‘è¿˜æ˜¯æµ‹è¯•ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œéƒ½å¯ä»¥å°è¯•åŸºäºâ€œéœ€è¦å¤šå°‘UIâ€ã€â€œæ•°æ®ä»å“ªé‡Œæ¥â€ã€â€œæ•°æ®ä¸UIå¦‚ä½•å…³è”â€ã€â€œç”¨æˆ·è¡Œä¸ºå“åº”â€ã€â€œç”¨æˆ·è¡Œä¸ºé‡‡é›†â€ã€â€œå‘å¸ƒåï¼Œå¦‚ä½•è¿ç»´ä¸ç›‘æ§â€å…­ä¸ªæ–¹é¢è¿›è¡Œéœ€æ±‚æ‹†è§£ï¼Œå¹¶ä¸”æ ¹æ®æ‹†è§£åçš„å†…å®¹è¿›è¡Œéœ€æ±‚å®ç°æˆ–è€…æ˜¯éœ€æ±‚æµ‹è¯•ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿé€‚ç”¨äºå»åˆ†æå…¶ä»–åŠŸèƒ½çš„å®ç°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¿™ä¸ªæ–¹æ³•æ˜¯åŸºäºæœ‰UIçš„éœ€æ±‚è¿›è¡Œçš„æ€»ç»“ï¼Œè¿˜æœ‰æ›´å¤šçš„éœ€æ±‚æ˜¯æ— UIçš„ï¼šæ¯”å¦‚ï¼Œä»æŸä¸ªä½ç½®åŒæ­¥æ•°æ®åˆ°æŒ‡å®šä½ç½®å¹¶ä¸”æä¾›ç»™åˆ°å…¶ä»–åœºæ™¯ä½¿ç”¨ï¼›å†æ¯”å¦‚ï¼Œç ”å‘éœ€è¦ä¸€å¥—æ–°çš„è·¯ç”±æ¡†æ¶æˆ–éœ€è¦ä¸€å¥—æ–°çš„èµ„æºè°ƒåº¦æ¡†æ¶ã€‚è¿™ç±»éœ€æ±‚çš„æ‹†è§£ä¸æœ¬æ–‡æ€»ç»“çš„æ–¹æ³•æœ‰ç›¸åŒç‚¹ï¼Œä¹Ÿæœ‰ä¸åŒç‚¹ï¼Œé¿å…æœ¬æ–‡å†—é•¿ï¼Œä¸é“ºå¼€é™ˆè¿°ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»¥ä¸Šæ–¹æ³•ï¼Œæ˜¯æˆ‘ä¸ªäººåœ¨å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œåœ¨æ¥æ‰‹éœ€æ±‚çš„æ—¶å€™ï¼Œç”¨æ¥åˆ¤æ–­éœ€æ±‚å½±å“èŒƒå›´ã€è¯„ä¼°åˆä½œæ–¹ã€è¯„ä¼°å·¥ä½œé‡çš„æ–¹æ³•ã€‚æ¬¢è¿å®è·µã€æ¬¢è¿è®¨è®ºï¼Œæ¬¢è¿è¡¥å……ä¸æ›´æ­£ã€‚&lt;/span&gt;&lt;/section&gt;&lt;hr/&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ˜æ—¥é¢„å‘Šï¼š9æœˆ29æ—¥18:00ç²¾å“æ–‡ç« &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ğŸ‘‡&lt;strong&gt;&lt;span&gt;&lt;strong&gt;ğŸ‘‡&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘åˆ˜ä¼Ÿå…‰ï¼šå‰–æä¼ä¸šæ•°å­—åŒ–çš„é™â€œæœ¬â€å¢æ•ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä¸è§ä¸æ•£ï½&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;GTSäº‘å·§ä¹˜é£è€…å¾æ–‡å¤§èµ›ä¸Šçº¿ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;10æœˆ10æ—¥å‰æŠ•ç¨¿GTSäº‘å·§ä¹˜é£è€…å¾æ–‡æ´»åŠ¨ï¼Œè·å¾—38å…ƒå¤©çŒ«è¶…å¸‚å¡ï¼ï¼ˆæ•°é‡æœ‰é™ï¼‰æ–‡ç« å†…å®¹ä¸é™äºäº‘å·§ï¼Œåªè¦è¿ç”¨äº†ã€ç»„è£…å¼åº”ç”¨çš„ç†å¿µã€‘å°±å¯ä»¥æŠ•ç¨¿ï¼æ›´æœ‰æœºä¼šè·å¾—888å…ƒçŒ«è¶…å¡å’Œå¤©çŒ«ç²¾çµSoundï½&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;äº‘å·§åŠç»„è£…å¼åº”ç”¨ç†å¿µæ˜¯ä»€ä¹ˆï¼Ÿäº‘å·§æ˜¯â€œç»„è£…å¼åº”ç”¨â€ç†å¿µçš„è½åœ°ï¼ŒåŠ©åŠ›å¤§å®¶æå‡äº¤ä»˜é€Ÿåº¦ï¼Œæé«˜äº¤ä»˜è´¨é‡ï¼Œé™ä½ç”¨å·¥æˆæœ¬ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ç‚¹å‡»é˜…è¯»åŸæ–‡æŸ¥çœ‹è¯¦æƒ…ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>5a14f84fc3d6715b776b90781e58e46c</guid>
<title>C++20 åç¨‹åˆæ¢</title>
<link>https://toutiao.io/k/pmpq60v</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.2159406858202039&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe94QeANounecCYXmibLibjDT9FyppKGsIuLKTF79kZWAibun7RiaHIO3IFFNJOjIs1jvGoIicMiagIeJDiaqg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1079&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯¼è¯­Â |Â &lt;/span&gt;&lt;span&gt;æœ¬æ–‡æ¨é€‰è‡ªè…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-ã€æŠ€æ€å¹¿ç›Š Â· è…¾è®¯æŠ€æœ¯äººåŸåˆ›é›†ã€‘ä¸“æ ã€‚è¯¥ä¸“æ æ˜¯è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒºä¸ºè…¾è®¯æŠ€æœ¯äººä¸å¹¿æ³›å¼€å‘è€…æ‰“é€ çš„åˆ†äº«äº¤æµçª—å£ã€‚æ ç›®é‚€çº¦è…¾è®¯æŠ€æœ¯äººåˆ†äº«åŸåˆ›çš„æŠ€æœ¯ç§¯æ·€ï¼Œä¸å¹¿æ³›å¼€å‘è€…äº’å¯è¿ªå…±æˆé•¿ã€‚&lt;span&gt;æœ¬æ–‡ä½œè€…æ˜¯&lt;/span&gt;è…¾è®¯åå°å¼€å‘å·¥ç¨‹å¸ˆæ¨è‰¯èªã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åç¨‹(coroutine)æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥è¢«æŒ‚èµ·ï¼Œåœ¨åç»­å¯ä»¥è¢«æ¢å¤æ‰§è¡Œçš„å‡½æ•°ã€‚&lt;/span&gt;&lt;span&gt;åœ¨C++20ä¸­ï¼Œå½“ä¸€ä¸ªå‡½æ•°å†…éƒ¨å‡ºç°äº†co_awaitã€co_yieldã€co_returnä¸­çš„ä»»ä½•ä¸€ä¸ªæ—¶ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªåç¨‹&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.37886340977068794&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe95Yft4YCFicTVdU1icGRQPiaMp7RbD6oSqXZhN2oh9fDszUf39yKHFJBlia9PISicTepIHBBhNBKzfMkdA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1003&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;C++20åç¨‹çš„ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç :&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;coro_ret&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;&amp;gt; number_generator(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; begin, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; count) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;number_generator invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i=begin; i&amp;lt;count; ++i) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        co_yield i;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    co_return;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;code-snippet__keyword&quot;&gt;char&lt;/span&gt;* argv[])&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; g = number_generator(&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;begin to run!&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt;(!g.resume()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;got number:&quot;&lt;/span&gt; &amp;lt;&amp;lt; g.get() &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;coroutine done, return value:&quot;&lt;/span&gt; &amp;lt;&amp;lt; g.get() &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;69814fe855114dcb26db6b58da84c1d71&quot;&gt;&lt;span&gt;number_generatorå†…å‡ºç°äº†co_yieldå’Œco_returnæ‰€ä»¥è¿™ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªåç¨‹ï¼Œæ¯å½“ç¨‹åºæ‰§è¡Œåˆ°ç¬¬4è¡Œco_yield iï¼›æ—¶ï¼Œåç¨‹å°±ä¼šæŒ‚èµ·ï¼Œç¨‹åºçš„æ§åˆ¶æƒä¼šå›åˆ°è°ƒç”¨è€…é‚£é‡Œï¼Œç›´åˆ°è°ƒç”¨è€…è°ƒç”¨resumeæ–¹æ³•ï¼Œæ­¤æ—¶ä¼šæ¢å¤åˆ°ä¸Šæ¬¡åç¨‹yieldçš„åœ°æ–¹ï¼Œç»§ç»­å¼€å§‹æ‰§è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FiaZYIGick0nWJJXC1lSLI8zy2asbcicfNgvgJXexvB9rOnicPxbKFdEibPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;e98c58c6c958b0d9ef0ac044d6fa0a36&quot;&gt;&lt;span&gt;Promise&lt;/span&gt;&lt;/h3&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;6095e05d98ce4bfa80ac8a7ea434be6b2&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;6095e05d98ce4bfa80ac8a7ea434be6b2&quot;&gt;&lt;span&gt;number_generatorçš„è¿”å›ç±»å‹æ˜¯coro_ret&amp;lt;int&amp;gt;ï¼Œè€Œåç¨‹æœ¬èº«çš„ä»£ç ä¸­å¹¶æ²¡æœ‰é€šè¿‡returnè¿”å›è¿™ä¸ªç±»å‹çš„æ•°æ®ï¼Œè¿™å°±æ˜¯C++20é‡Œå®ç°åç¨‹çš„ä¸€ä¸ªå…³é”®ç‚¹: åç¨‹çš„è¿”å›ç±»å‹Tä¸­ï¼Œå¿…é¡»æœ‰T::promise_typeè¿™ä¸ªç±»å‹å®šä¹‰ï¼Œè¿™ä¸ªç±»å‹è¦å®ç°å‡ ä¸ªæ¥å£ã€‚è¿˜æ˜¯å…ˆçœ‹ä»£ç :&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;template&lt;/span&gt; &amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;typename&lt;/span&gt; T&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;coro_ret&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;promise_type&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;using&lt;/span&gt; handle_type = &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::coroutine_handle&amp;lt;promise_type&amp;gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  handle_type coro_handle_;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;promise_type&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        promise_type() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;promise constructor invoded.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        ~promise_type() = &lt;span class=&quot;code-snippet__keyword&quot;&gt;default&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;get_return_object&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;get_return_object invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; coro_ret&amp;lt;T&amp;gt;{handle_type::from_promise(*&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;)};&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;initial_suspend&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;initial_suspend invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::suspend_always{};&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;return_void&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;return void invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;yield_value&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt; T&amp;amp;amp; v)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;yield_value invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            return_data_ = v;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::suspend_always{};&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;final_suspend&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;noexcept&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;final_suspend invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::suspend_always{};&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;unhandled_exception&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;cout&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;unhandled_exception invoked.&quot;&lt;/span&gt; &amp;lt;&amp;lt; &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;endl&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;exit&lt;/span&gt;(&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        T return_data_;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    };&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    coro_ret(handle_type h)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            : coro_handle_(h)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ~coro_ret()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (coro_handle_)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            coro_handle_.destroy();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!coro_handle_.done()) {  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            coro_handle_.resume();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; coro_handle_.done();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; coro_handle_.done();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;T &lt;span class=&quot;code-snippet__title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; coro_handle_.promise().return_data_;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;};&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;coro_retæ˜¯ä¸ªè‡ªå®šä¹‰çš„ç»“æ„ï¼Œä¸ºäº†èƒ½ä½œä¸ºåç¨‹çš„è¿”å›å€¼ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªpromise_type&lt;/span&gt;&lt;span&gt;ã€‚è¿™ä¸ªç±»å‹éœ€è¦å®ç°å¦‚ä¸‹çš„æ¥å£:&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9F812pnpTVKsrLmlcKHlIuuBvuwqeIqmOLOsD9nTpkow7FlAh45LKRLA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;2a1c319a0a54e82b1a058d0854b565c8&quot;&gt;&lt;span&gt;åç¨‹ç›¸å…³å¯¹è±¡&lt;/span&gt;&lt;/h3&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;f067af2c4b008df27e776c96c9341dfe2&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;f067af2c4b008df27e776c96c9341dfe2&quot;&gt;&lt;span&gt;å¯ä»¥çœ‹å‡ºpromiseç±»çš„å·¥ä½œä¸»è¦æ˜¯ä¸¤ä¸ª:ä¸€æ˜¯å®šä¹‰åç¨‹çš„æ‰§è¡Œæµç¨‹ï¼Œä¸»è¦æ¥å£æ˜¯initial_suspendï¼Œfinal_suspendï¼ŒäºŒæ˜¯è´Ÿè´£åç¨‹å’Œè°ƒç”¨è€…ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œä¸»è¦æ¥å£æ˜¯yield_valueå’Œreturn_valueã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lines=&quot;3&quot; data-type=&quot;p&quot; data-sign=&quot;877205f4205ef82ec98d8e6145bd48b93&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;3&quot; data-type=&quot;p&quot; data-sign=&quot;877205f4205ef82ec98d8e6145bd48b93&quot;&gt;&lt;span&gt;std::coroutine_handle&amp;lt;promise_type&amp;gt;æ˜¯åç¨‹çš„æ§åˆ¶å¥æŸ„ç±»ï¼Œæœ€é‡è¦çš„æ¥å£æ˜¯promiseã€resumeï¼Œå‰è€…å¯ä»¥è·å¾—åç¨‹çš„promiseå¯¹è±¡ï¼Œåè€…å¯ä»¥æ¢å¤åç¨‹çš„è¿è¡Œã€‚æ­¤å¤–è¿˜æœ‰destroyæ¥å£ï¼Œç”¨æ¥é”€æ¯åç¨‹å®ä¾‹ï¼Œdoneæ¥å£ç”¨äºè¿”å›åç¨‹æ˜¯å¦å·²ç»ç»“æŸè¿è¡Œã€‚é€šè¿‡std::coroutine_handle&amp;lt;promise_type&amp;gt;::from_promise()æ–¹æ³•ï¼Œå¯ä»¥ä»promiseå®ä¾‹è·å¾—å¯¹åº”çš„handleã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;8a60ea4a2c809b06f49b4d87f499995f2&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;8a60ea4a2c809b06f49b4d87f499995f2&quot;&gt;&lt;span&gt;coro_retä¸­å…¶ä»–å‡ ä¸ªæ¥å£resumeï¼Œdoneå’Œget_dataä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨è€Œå­˜åœ¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;d47e93b0a53a92f34b8afbeaea56aee32&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;d47e93b0a53a92f34b8afbeaea56aee32&quot;&gt;&lt;span&gt;æ€»ç»“ä¸€ä¸‹ï¼Œ&lt;/span&gt;&lt;span&gt;ä¸€ä¸ªåç¨‹ä¸è¿™å‡ ä¸ªå¯¹è±¡å…³è”åœ¨ä¸€èµ·&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ˜¯ä¸ªåœ¨å †ä¸Šåˆ†é…çš„å†…éƒ¨å¯¹è±¡ï¼Œæ²¡æœ‰æš´éœ²ç»™å¼€å‘è€…ï¼Œæ˜¯ç”¨æ¥ä¿å­˜åç¨‹å†…ç›¸å…³æ•°æ®å’ŒçŠ¶æ€çš„ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9Fl62j5eylelCcZwNOEv5HRg9xicSj2KIwvdQMPbwiau3eqyIUpKbjQ6nA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;ae6dba70cd0182bd0e5016f2dabcd3be&quot;&gt;&lt;span&gt;åç¨‹&lt;/span&gt;&lt;span&gt;çš„åˆ›å»º&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;3.426470588235294&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe95Yft4YCFicTVdU1icGRQPiaMpjB5D44WOnEZplBd1qpGic0KniclAjoELJ3hGKk4Omtg600DGNz0VvWaA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;340&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FPB6mZB01WGXHsGUE2UYENHAJNeKa8y0qwiajZdfHR5lvk4rjnrQabwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;2d3673083b483abecdb1ed3918817fec&quot;&gt;&lt;span&gt;ä¸´æ—¶æ€»ç»“&lt;/span&gt;&lt;/h3&gt;&lt;p data-lines=&quot;3&quot; data-type=&quot;p&quot; data-sign=&quot;d4a807228836477b997d30c0991686d63&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;3&quot; data-type=&quot;p&quot; data-sign=&quot;d4a807228836477b997d30c0991686d63&quot;&gt;&lt;span&gt;è¦åœ¨c++20é‡Œå®ç°ä¸€ä¸ªåç¨‹ï¼Œéœ€è¦å®šä¹‰ä¸€ä¸ªåç¨‹çš„è¿”å›ç±»å‹Tï¼Œè¿™ä¸ªTå†…éœ€è¦å®šä¹‰ä¸€ä¸ªpromise_typeçš„ç±»å‹ï¼Œè¿™ä¸ªç±»å‹è¦å®ç°å‡ ä¸ªæŒ‡å®šçš„æ¥å£ï¼Œè¿™æ ·å°±è¶³å¤Ÿäº†ã€‚è¿™æ ·ï¼Œè¦å¼€å‘ä¸€ä¸ªåŒ…å«å¼‚æ­¥æ“ä½œçš„åç¨‹ï¼Œä»£ç çš„ç»“æ„å¤§è‡´ä¼šæ˜¯è¿™æ ·çš„:&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;coro_return&amp;lt;T&amp;gt; logic() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    some_async_oper();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    co_yield xxx&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; result = get_async_oper_result()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     do_some_thing(result)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     co_return&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; main() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; co_ret = logic();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt;(&lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; result = get_async_result();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (result) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          co_ret.resume()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;d3723338a79436c9283461efa45c5ac51&quot;&gt;&lt;span&gt;å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åç¨‹å†…éƒ¨ï¼Œå‘èµ·å¼‚æ­¥æ“ä½œå’Œè·å–ç»“æœï¼Œè¢«yieldåˆ†å‰²ä¸ºäº†ä¸¤æ­¥ï¼Œå’ŒåŒæ­¥ä»£ç è¿˜æ˜¯æœ‰ç€æ˜æ˜¾çš„åŒºåˆ«ã€‚è¿™æ—¶ï¼Œco_awaitå°±å¯ä»¥å‘æŒ¥å®ƒçš„ä½œç”¨äº†ï¼Œä½¿ç”¨äº†co_awaitåçš„åç¨‹ä»£ç ä¼šæ˜¯è¿™æ ·çš„&lt;/span&gt;&lt;/p&gt;&lt;pre/&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;coro_return&amp;lt;T&amp;gt; &lt;span class=&quot;code-snippet__title&quot;&gt;logic&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    auto result = &lt;span class=&quot;code-snippet__function&quot;&gt;co_await &lt;span class=&quot;code-snippet__title&quot;&gt;some_async_oper&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    do_some_thing(result);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;5ddd9dec80b8bde4c4adb06f5129a2b91&quot;&gt;&lt;span&gt;è¿™æ ·å°±å’ŒåŒæ­¥ä»£ç å°±åŸºæœ¬æ²¡æœ‰åŒºåˆ«äº†ï¼Œé™¤äº†è¿™ä¸ªco_await&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-lines=&quot;4&quot; data-type=&quot;p&quot; data-sign=&quot;b1ac4c98199a6df54a56b17db40c96e24&quot;&gt;&lt;span&gt;co_awaitæœ€å¸¸è§çš„ä½¿ç”¨æ–¹å¼ä¸ºauto ret=co_await exprï¼Œco_awaitåè·Ÿä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæ•´ä¸ªè¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹æœ‰å¤šç§æƒ…å†µï¼Œæ˜¯æ¯”è¾ƒå¤æ‚çš„ã€‚è¿™é‡Œæè¿°çš„æ˜¯ç®€åŒ–ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯ç®€åŒ–äº†promise.await_transformçš„ä½œç”¨ï¼Œä»¥åŠawaitableå¯¹è±¡ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹é¢é“¾æ¥&lt;/span&gt;&lt;span&gt;çœ‹å®Œæ•´çš„æè¿°ã€‚&lt;span&gt;è¿™&lt;/span&gt;&lt;span&gt;é‡Œå‡å®šåç¨‹çš„prom&lt;/span&gt;&lt;span&gt;ise_typeæ²¡æœ‰å®ç°await_transformæ–¹æ³•ã€‚&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://en.cppreference.com/w/cpp/language/coroutines&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;2.720626631853786&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe95Yft4YCFicTVdU1icGRQPiaMpguy3iaThVxaIhGXrPia847EibY9nAJlXiaaG0eIxaaqzD4sydpQz88ib24Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;383&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ç”¨ä»£ç è¡¨è¾¾ï¼Œæ˜¯è¿™æ ·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!awaiter.await_ready())&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;handle_t&lt;/span&gt; = &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::experimental::coroutine_handle&amp;lt;P&amp;gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;await_suspend_result_t&lt;/span&gt; =&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;decltype&lt;/span&gt;(awaiter.await_suspend(&lt;span class=&quot;code-snippet__keyword&quot;&gt;handle_t&lt;/span&gt;::from_promise(p)));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &amp;lt;suspend-coroutine&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;constexpr&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::is_void_v&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;await_suspend_result_t&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      awaiter.await_suspend(&lt;span class=&quot;code-snippet__keyword&quot;&gt;handle_t&lt;/span&gt;::from_promise(p));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;-to-caller-&lt;span class=&quot;code-snippet__keyword&quot;&gt;or&lt;/span&gt;-resumer&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;static_assert&lt;/span&gt;(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         &lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::is_same_v&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;await_suspend_result_t&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;bool&lt;/span&gt;&amp;gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;await_suspend() must return &#x27;void&#x27; or &#x27;bool&#x27;.&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (awaiter.await_suspend(&lt;span class=&quot;code-snippet__keyword&quot;&gt;handle_t&lt;/span&gt;::from_promise(p)))&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;-to-caller-&lt;span class=&quot;code-snippet__keyword&quot;&gt;or&lt;/span&gt;-resumer&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &amp;lt;resume-point&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; awaiter.await_resume();&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;a7b87b6154d6b6116a89737320efacf32&quot;&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;a7b87b6154d6b6116a89737320efacf32&quot;&gt;&lt;span&gt;ä»¥å°è£…ä¸€ä¸ªsocketçš„connectæ“ä½œä¸ºä¾‹ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½åƒè¿™æ ·åœ¨åç¨‹ä¸­å»connectä¸€ä¸ªtcpåœ°å€:&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;coro_ret&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;&amp;gt; connect_addr_example(io_service&amp;amp;amp; service, &lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;char&lt;/span&gt;* ip, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int16_t&lt;/span&gt; port)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    coroutine_tcp_client client;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; connect_ret = co_await client.connect(ip, port, &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;, service);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;client.connect return:%d\n&quot;&lt;/span&gt;, connect_ret);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (connect_ret)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;connect failed, coroutine return\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        co_return &lt;span class=&quot;code-snippet__number&quot;&gt;-1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    do_something_with_connect(client);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    co_return &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;2649846b94e17f735e75069edf4f80231&quot;&gt;&lt;span&gt;é‚£ä¹ˆéœ€è¦åšçš„äº‹æƒ…æ˜¯&lt;/span&gt;&lt;/p&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;2649846b94e17f735e75069edf4f80231&quot;&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;2649846b94e17f735e75069edf4f80231&quot;&gt;&lt;span&gt;ç¬¬5è¡Œä¸­çš„client.connecté¦–å…ˆå‘èµ·ä¸€ä¸ªå¼‚æ­¥è¿æ¥çš„è¯·æ±‚(è®¾ç½®socketä¸ºnoneblockï¼Œç„¶åconnect, å¹¶æŠŠsocketå’Œè‡ªå·±çš„æŒ‡é’ˆåŠ å…¥epoll)ï¼Œè¿”å›çš„ç±»å‹éœ€è¦æ˜¯ä¸€ä¸ªawaiterï¼Œä¹Ÿå°±æ˜¯è¦å®ç°è¿™ä¸‰ä¸ªæ¥å£:await_readyã€await_suspendå’Œawait_resume&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨await_readyä¸­ï¼Œåˆ¤æ–­è¿æ¥æ˜¯å¦å·²ç»å»ºç«‹äº†(æŸäº›æƒ…å†µä¸‹connectä¼šç«‹åˆ»æˆåŠŸè¿”å›)ï¼Œæˆ–è€…å‡ºé”™äº†(æ¯”å¦‚ç»™connectä¼ äº†éæ³•çš„å‚æ•°)ï¼Œæ­¤æ—¶éœ€è¦è¿”å›trueï¼Œåç¨‹å°±å®Œå…¨ä¸ä¼šæŒ‚èµ·ã€‚å…¶ä»–æƒ…å†µéœ€è¦è¿”å›falseï¼Œè®©åç¨‹æŒ‚èµ·&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨await_suspendä¸­ï¼Œå¯ä»¥ä¿å­˜ä¸‹ä¼ å…¥çš„åç¨‹å¥æŸ„ï¼Œç„¶åç›´æ¥è¿”å›trueã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨await_resumeä¸­ï¼Œåˆ¤æ–­ä¸‹è¿æ¥çš„ç»“æœï¼ŒæˆåŠŸè¿”å›0ï¼Œå…¶ä»–æƒ…å†µè¿”å›é”™è¯¯ç ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åç¨‹å¤–çš„ä¸»å¾ªç¯é‡Œï¼Œä½¿ç”¨epollè¿›è¡Œè½®è¯¢ï¼Œå½“å¯¹åº”çš„å¥æŸ„æœ‰äº‹ä»¶æ—¶(æˆåŠŸè¿æ¥ã€è¶…æ—¶ã€å‡ºé”™)ï¼Œå°±å–å‡ºå¯¹åº”çš„clientæŒ‡é’ˆï¼Œè®¾ç½®å¥½è¿æ¥çš„ç»“æœï¼Œå¹¶resumeåç¨‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-lines=&quot;1&quot; data-type=&quot;p&quot; data-sign=&quot;9027a0165ea3e249ec69dbe1982877611&quot;&gt;&lt;span&gt;å¤§è‡´çš„ä»£ç å¦‚ä¸‹:&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;connect_awaiter&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        coroutine_tcp_client&amp;amp; tcp_client_;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;await_ready&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;auto&lt;/span&gt; status = tcp_client_.status();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;switch&lt;/span&gt;(status)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; ERROR:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;await_ready: status error invalid, should not suspend!\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; CONNECTED:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;await_ready: already connected, should not suspend!\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;await_ready: status:%d, return false.\n&quot;&lt;/span&gt;, status);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;await_suspend&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::coroutine_handle&amp;lt;&amp;gt; awaiting)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;await_suspend invoked.\n&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            tcp_client_.handle_ = awaiting;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;await_resume&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ret = tcp_client_.status() == CONNECTED ? &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; : &lt;span class=&quot;code-snippet__number&quot;&gt;-1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;awati_resume invoked, ret:%d\n&quot;&lt;/span&gt;, ret);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; ret;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    };&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-lines=&quot;2&quot; data-type=&quot;p&quot; data-sign=&quot;3c413281ce0e6425754993cc3b29f0202&quot;&gt;&lt;span&gt;äº†è§£äº†co_awaitä¹‹åï¼Œå¯ä»¥å›å¤´çœ‹ä¸€ä¸‹ä¹‹å‰çš„å†…å®¹ï¼Œå‰é¢å¤šæ¬¡å‡ºç°çš„std::suspend_neverå’Œstd::suspend_alwayså°±æ˜¯ä¸¤ä¸ªé¢„å®šä¹‰å¥½çš„awaiterï¼Œä¹Ÿæœ‰é‚£ä¸‰ä¸ªæ¥å£çš„å®šä¹‰ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹çœ‹å¯¹åº”çš„æºä»£ç ã€‚promiseå¯¹è±¡çš„initial_suspendã€final_suspendã€yield_valueè¿”å›çš„éƒ½æ˜¯awaiterï¼Œå®é™…ä¸Šç³»ç»Ÿæ‰§è¡Œçš„æ˜¯ co_await promise.initial_suspend()Â ï¼Œco_yieldå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ co_await promise.yield_value()Â ã€‚å¦‚æœæœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥è¿”å›è‡ªå®šä¹‰çš„awaiterã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9F9gEWETfj769ZEnnF4YHYbm1UBFpYldG1ibl6E9owa0M3yRB40WtEqLg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;03b104d231d83a3fe7925664fc7b65e4&quot;&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¯ä»¥çœ‹å‡ºC++20ç»™å‡ºäº†ä¸€ä¸ªéå¸¸çµæ´»ã€æœ‰å¾ˆå¼ºå¤§å¯å®šåˆ¶æ€§çš„åç¨‹æœºåˆ¶ï¼Œä½†ç¼ºå°‘åŸºæœ¬çš„åº“æ”¯æŒï¼Œè¿å†™ä¸€ä¸ªæœ€ç®€å•çš„åç¨‹éƒ½éœ€è¦å¼€å‘è€…ä»˜å‡ºä¸å°‘ç†è§£å’Œå­¦ä¹ çš„æˆæœ¬ï¼Œç›®å‰çš„çŠ¶æ€åªèƒ½è¯´æ˜¯æ‰“äº†ä¸€ä¸ªçš„åœ°åŸºï¼Œåœ¨C++23ä¸­ï¼Œä¸ºåç¨‹æä¾›åº“çš„æ”¯æŒæ˜¯é‡è¦çš„ç›®æ ‡ä¹‹ä¸€ï¼Œå¯ä»¥æ‹­ç›®ä»¥å¾…ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;å‚è€ƒèµ„æ–™ï¼š&lt;/strong&gt;&lt;/section&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;8a78f98238875951e8f8dff55d866b57&quot;&gt;&lt;span/&gt;&lt;/h3&gt;&lt;h1 msthash=&quot;200785&quot; msttexthash=&quot;25598833&quot;&gt;&lt;span&gt;1.åç¨‹Â ï¼ˆC++20ï¼‰&lt;/span&gt;&lt;/h1&gt;&lt;h1 itemprop=&quot;name headline&quot; msthash=&quot;1355575&quot; msttexthash=&quot;48227790&quot;&gt;&lt;span&gt;2.C++ åç¨‹ï¼šäº†è§£è¿ç®—ç¬¦co_await&lt;/span&gt;&lt;/h1&gt;&lt;h1&gt;&lt;span&gt;3.C++20å³å°†åˆ°æ¥çš„coroutineèƒ½å¦ä¸Golangçš„goroutineåª²ç¾ï¼Ÿ&lt;/span&gt;&lt;/h1&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot; data-mpa-template=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot; mpa-is-content=&quot;t&quot;&gt;Â ä½œè€…ç®€ä»‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;105&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;105&quot; data-fileid=&quot;100044396&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe95Yft4YCFicTVdU1icGRQPiaMpLxmVg5ia6uIWRscbIrbKnn8j33pxsd3fCmw3XNDgibsU1exzfB1Bfm1g/640?wx_fmt=png&quot; data-type=&quot;jpeg&quot; data-w=&quot;500&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;æ¨è‰¯èª&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;è…¾è®¯åå°å¼€å‘å·¥ç¨‹å¸ˆ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;è…¾è®¯åå°å¼€å‘å·¥ç¨‹å¸ˆï¼Œæ¯•ä¸šäºåä¸­ç§‘æŠ€å¤§å­¦ï¼Œç›®å‰è´Ÿè´£æ¬¢ä¹æ–—åœ°ä¸»åç«¯å¼€å‘å·¥ä½œï¼Œæœ‰ä¸°å¯Œçš„åå°å¼€å‘ç»éªŒã€‚&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot; data-mpa-template=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong mpa-from-tpl=&quot;t&quot; mpa-is-content=&quot;t&quot;&gt;Â æ¨èé˜…è¯»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247545128&amp;amp;idx=1&amp;amp;sn=4dbacff04dbfb71f0675be0fa1cc1923&amp;amp;chksm=eaa82b78dddfa26e560d058f101f51480e98fc2bf72385addd6f7e2833266e0ea49734faa6e7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;GooseFS åœ¨äº‘ç«¯æ•°æ®æ¹–å­˜å‚¨ä¸Šçš„é™æœ¬å¢æ•ˆå®è·µ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;GooseFS åœ¨äº‘ç«¯æ•°æ®æ¹–å­˜å‚¨ä¸Šçš„é™æœ¬å¢æ•ˆå®è·µ&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247545128&amp;amp;idx=2&amp;amp;sn=1dfadea0ac7abbfc771ad6a4c9bd0249&amp;amp;chksm=eaa82b78dddfa26ea8eaa74a684b05d98410221f25230a937dc7fb91dd3188f7405cd604ad1e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ–°å‘¨æœŸé‡æ„åœ°äº§ä¸ç‰©ä¸šæ•°æ™ºåŒ–ä»·å€¼ï¼ŒTVPè¡Œä¸šå¤§ä½¿æœ‰è¯è¯´&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ–°å‘¨æœŸé‡æ„åœ°äº§ä¸ç‰©ä¸šæ•°æ™ºåŒ–ä»·å€¼ï¼ŒTVPè¡Œä¸šå¤§ä½¿æœ‰è¯è¯´&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247544545&amp;amp;idx=1&amp;amp;sn=52424da68159c07a8260c6cef2bd2d01&amp;amp;chksm=eaa834b1dddfbda7b514c402b36ede3277be26fb05453d3fb2f8cfb99f0320a4d5faff7ed2ed&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è½»æ¾ä¸Šæ‰‹ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ æŒæ¡ä»Contextåˆ°goè®¾è®¡ç†å¿µ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;è½»æ¾ä¸Šæ‰‹ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ æŒæ¡ä»Contextåˆ°goè®¾è®¡ç†å¿µ&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247544454&amp;amp;idx=1&amp;amp;sn=8bf9a22c3402c9f07e248c038b09f3a5&amp;amp;chksm=eaa834d6dddfbdc02478b4f7ae87640cd2e2e705eba517eaa1bfd0458895f63e40e71c2d44aa&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ·±å…¥æµ…å‡ºå¸¦ä½ èµ°è¿›Redisï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;æ·±å…¥æµ…å‡ºå¸¦ä½ èµ°è¿›Redisï¼&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;280&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.40444444444444444&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe940MSFL1oCgmdY94xonPZxOZqHFPx02lrZBs8SHygWCrAU9Fs3sYiap0kiaubmtBLZetqLAlQVsUb5Q/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;900&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ğŸ‘‡&lt;/span&gt;&lt;span&gt;ç‚¹å‡»&lt;/span&gt;&lt;span&gt;ã€Œé˜…è¯»åŸæ–‡ã€&lt;/span&gt;&lt;span&gt;ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;span&gt;æ³¨å†Œæˆä¸ºç¤¾&lt;/span&gt;&lt;span&gt;åŒºåˆ›ä½œè€…ï¼Œè®¤è¯†å¤§å’–ï¼Œæ‰“é€ ä½ çš„æŠ€æœ¯å½±å“åŠ›ï¼&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>64d029970d76b5e1b2edf57da439a1a3</guid>
<title>1.3w å­—ï¼Œä¸€æ–‡è¯¦è§£æ­»é”</title>
<link>https://toutiao.io/k/cpuopkj</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­»é”ï¼ˆDead Lockï¼‰æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿ç®—å•å…ƒï¼ˆè¿›ç¨‹ã€çº¿ç¨‹æˆ–åç¨‹ï¼‰ï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹åœæ­¢æ‰§è¡Œï¼Œä»¥å–å¾—ç³»ç»Ÿèµ„æºï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ–¹æå‰é€€å‡ºï¼Œå°±ç§°ä¸ºæ­»é”ã€‚&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6460554371002132&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmADlLgGMVtju1L72obicjJsoUVDIkORVCz6Po9llajtEEpiaFqpGYAlTRA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;938&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1.æ­»é”æ¼”ç¤º&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­»é”çš„å½¢æˆåˆ†ä¸ºä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨å†…ç½®é” synchronized å½¢æˆçš„æ­»é”ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨æ˜¾å¼é” Lock å®ç°çš„æ­»é”ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1.1 æ­»é” synchronized ç‰ˆ&lt;/span&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Object lockA = &lt;span&gt;new&lt;/span&gt; Object(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Object lockB = &lt;span&gt;new&lt;/span&gt; Object(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// å…ˆè·å–é” A&lt;/span&gt;&lt;br/&gt;                &lt;span&gt;synchronized&lt;/span&gt; (lockA) {&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                    &lt;span&gt;// å°è¯•è·å–é” B&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;synchronized&lt;/span&gt; (lockB) {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// å…ˆè·å–é” B&lt;/span&gt;&lt;br/&gt;                &lt;span&gt;synchronized&lt;/span&gt; (lockB) {&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                    &lt;span&gt;// å°è¯•è·å–é” A&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;synchronized&lt;/span&gt; (lockA) {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.41688654353562005&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAWNw06AfA6YYPMcibDJ9UsBw8tk6fhdVnibKf27nIhOY5ruHcFW1PG4rA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;758&quot;/&gt;ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1 å’Œçº¿ç¨‹ 2 éƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾é”ï¼Œè¿™æ ·å°±é€ æˆäº†æ­»é”é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;1.2 æ­»é” Lock ç‰ˆ&lt;/span&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;DeadLockByReentrantLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                    lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.41688654353562005&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAWNw06AfA6YYPMcibDJ9UsBw8tk6fhdVnibKf27nIhOY5ruHcFW1PG4rA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;758&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;2.æ­»é”äº§ç”ŸåŸå› &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œè¦äº§ç”Ÿ&lt;strong&gt;æ­»é”éœ€è¦æ»¡è¶³ä»¥ä¸‹ 4 ä¸ªæ¡ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;äº’æ–¥æ¡ä»¶&lt;/strong&gt;ï¼šæŒ‡è¿ç®—å•å…ƒï¼ˆè¿›ç¨‹ã€çº¿ç¨‹æˆ–åç¨‹ï¼‰å¯¹æ‰€åˆ†é…åˆ°çš„èµ„æºå…·æœ‰æ’å®ƒæ€§ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€æ®µæ—¶é—´å†…æŸä¸ªé”èµ„æºåªèƒ½è¢«ä¸€ä¸ªè¿ç®—å•å…ƒæ‰€å ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;è¯·æ±‚å’Œä¿æŒæ¡ä»¶&lt;/strong&gt;ï¼šæŒ‡è¿ç®—å•å…ƒå·²ç»ä¿æŒè‡³å°‘ä¸€ä¸ªèµ„æºï¼Œä½†åˆæå‡ºäº†æ–°çš„èµ„æºè¯·æ±‚ï¼Œè€Œè¯¥èµ„æºå·²è¢«å…¶å®ƒè¿ç®—å•å…ƒå æœ‰ï¼Œæ­¤æ—¶è¯·æ±‚è¿ç®—å•å…ƒé˜»å¡ï¼Œä½†åˆå¯¹è‡ªå·±å·²è·å¾—çš„å…¶å®ƒèµ„æºä¿æŒä¸æ”¾ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ä¸å¯å‰¥å¤ºæ¡ä»¶&lt;/strong&gt;ï¼šæŒ‡è¿ç®—å•å…ƒå·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½è¢«å‰¥å¤ºã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;ç¯è·¯ç­‰å¾…æ¡ä»¶&lt;/strong&gt;ï¼šæŒ‡åœ¨å‘ç”Ÿæ­»é”æ—¶ï¼Œå¿…ç„¶å­˜åœ¨è¿ç®—å•å…ƒå’Œèµ„æºçš„ç¯å½¢é“¾ï¼Œå³è¿ç®—å•å…ƒæ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªè¿ç®—å•å…ƒå ç”¨çš„èµ„æºï¼Œè€Œå¯¹æ–¹åˆåœ¨ç­‰å¾…è‡ªå·±å ç”¨çš„èµ„æºï¼Œä»è€Œé€ æˆç¯è·¯ç­‰å¾…çš„æƒ…å†µã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åªæœ‰ä»¥ä¸Š 4 ä¸ªæ¡ä»¶åŒæ—¶æ»¡è¶³ï¼Œæ‰ä¼šé€ æˆæ­»é”é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.æ­»é”æ’æŸ¥å·¥å…·&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœç¨‹åºå‡ºç°æ­»é”é—®é¢˜ï¼Œå¯é€šè¿‡ä»¥ä¸‹ 4 ç§æ–¹æ¡ˆä¸­çš„ä»»æ„ä¸€ç§è¿›è¡Œåˆ†æå’Œæ’æŸ¥ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.1 jstack&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬åœ¨ä½¿ç”¨ jstack ä¹‹å‰ï¼Œå…ˆè¦é€šè¿‡ jps å¾—åˆ°è¿è¡Œç¨‹åºçš„è¿›ç¨‹ IDï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6194444444444445&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA3QaQWB4jZMFNhMjvuPwLfvvyWicbP3jEDypmKIny407dB7OHvZMYdyQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;â€œjps -lâ€å¯ä»¥æŸ¥è¯¢æœ¬æœºæ‰€æœ‰çš„ Java ç¨‹åºï¼Œjpsï¼ˆJava Virtual Machine Process Status Toolï¼‰æ˜¯ Java æä¾›çš„ä¸€ä¸ªæ˜¾ç¤ºå½“å‰æ‰€æœ‰ Java è¿›ç¨‹ pid çš„å‘½ä»¤ï¼Œé€‚åˆåœ¨ linux/unix/windows å¹³å°ä¸Šç®€å•æŸ¥çœ‹å½“å‰ Java è¿›ç¨‹çš„ä¸€äº›ç®€å•æƒ…å†µï¼Œâ€œ-lâ€ç”¨äºè¾“å‡ºè¿›ç¨‹ pid å’Œè¿è¡Œç¨‹åºå®Œæ•´è·¯å¾„åï¼ˆåŒ…åå’Œç±»åï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†è¿›ç¨‹ IDï¼ˆPIDï¼‰ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨â€œjstack -l PIDâ€æ¥å‘ç°æ­»é”é—®é¢˜äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7745358090185677&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAabvmyOjnDpMp6KALrrI1ib0UcUQcnmm1iaUwSrXAVicZA9LTvlfcFLMDg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1508&quot;/&gt;jstack ç”¨äºç”Ÿæˆ Java è™šæ‹Ÿæœºå½“å‰æ—¶åˆ»çš„çº¿ç¨‹å¿«ç…§ï¼Œâ€œ-lâ€è¡¨ç¤ºé•¿åˆ—è¡¨ï¼ˆlongï¼‰ï¼Œæ‰“å°å…³äºé”çš„é™„åŠ ä¿¡æ¯ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;PSï¼šå¯ä»¥ä½¿ç”¨ jstack -help æŸ¥çœ‹æ›´å¤šå‘½ä»¤ä½¿ç”¨è¯´æ˜ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.2 jconsole&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨ jconsole éœ€è¦æ‰“å¼€ JDK çš„ bin ç›®å½•ï¼Œæ‰¾åˆ° jconsole å¹¶åŒå‡»æ‰“å¼€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAOxHZ25JWwsRZCThOeuG3n6IF1CO2pnul211zaQMxd55vx45hLbKU3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6953703703703704&quot; data-w=&quot;1080&quot;/&gt;ç„¶åé€‰æ‹©è¦è°ƒè¯•çš„ç¨‹åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.8333333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA2LdjK4R8KvlvcTvvyPrP2FnnhB4KVawVUuEQtpUwuzrhn5gib2f85Rg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot;/&gt;ä¹‹åç‚¹å‡»è¿æ¥è¿›å…¥ï¼Œé€‰æ‹©â€œä¸å®‰å…¨çš„è¿æ¥â€è¿›å…¥ç›‘æ§ä¸»é¡µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.8333333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAcbqu64dB7NaW3aWGpKmeLtFYBd8TNJtVp1DXibFpMOfYx51ZY765LeA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot;/&gt;&lt;img data-ratio=&quot;0.8333333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAI97AjUVA3Wz9LkPP40EmHb5yUr7FjW2bVDibAdqHHUVRCu6ky42GdSA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot;/&gt;ä¹‹ååˆ‡æ¢åˆ°â€œçº¿ç¨‹â€æ¨¡å—ï¼Œç‚¹å‡»â€œæ£€æµ‹æ­»é”â€æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.8333333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAtzoA9uevcSAoDIpZ9BOkkdr8VIAvFuhSrIrJOHdgTAg5G1iap9JKmeg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot;/&gt;ä¹‹åç¨ç­‰ç‰‡åˆ»å°±ä¼šæ£€æµ‹å‡ºæ­»é”çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.8333333333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAenPE43qnS8qdjiaI6equszPqsWZ3xkc4ick3dRCfQmnpEJibXcYGrJXGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1800&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.3 jvisualvm&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;jvisualvm ä¹Ÿåœ¨ JDK çš„ bin ç›®å½•ä¸­ï¼ŒåŒæ ·æ˜¯åŒå‡»æ‰“å¼€ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA2lnQfdLDgDEZEJ5lSLn0sRV7R45gbMCRG98gtNYGn4hvZs0YLQadhA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6953703703703704&quot; data-w=&quot;1080&quot;/&gt;ç¨ç­‰å‡ ç§’ä¹‹åï¼Œjvisualvm ä¸­å°±ä¼šå‡ºç°æœ¬åœ°çš„æ‰€æœ‰ Java ç¨‹åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA8SSQovwJwKIxEOE1hlNUMVG2EgPtjT6ING2P0IhD581ic5jp3w2ziapw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6185185185185185&quot; data-w=&quot;1080&quot;/&gt;åŒå‡»é€‰æ‹©è¦è°ƒè¯•çš„ç¨‹åºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6181506849315068&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAIKiaeogwiclesYGBaicVicKZkibKoCNVduHF3mQwgvWMJ4q6jOEU7UnQeYw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2336&quot;/&gt;å•å‡»é¼ æ ‡è¿›å…¥â€œçº¿ç¨‹â€æ¨¡å—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAaRv8wldSVEMDa5chlBoKgVNUnN0DNT73DASC4Ac5cwc2R9sYA0CyVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6185185185185185&quot; data-w=&quot;1080&quot;/&gt;ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬åˆ‡æ¢åˆ°çº¿ç¨‹ä¸€æ ä¹‹åå°±ä¼šç›´æ¥æ˜¾ç¤ºå‡ºæ­»é”ä¿¡æ¯ï¼Œä¹‹åç‚¹å‡»â€œçº¿ç¨‹ Dumpâ€ç”Ÿæˆæ­»é”çš„è¯¦æƒ…ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA6ltTBqQXUiacRGBtR65RTptAibn02DibLUte7hprOCibXoEWVvwLZbS7mQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;0.6185185185185185&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;3.4 jmc&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;jmc æ˜¯ Oracle Java Mission Control çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªå¯¹ Java ç¨‹åºè¿›è¡Œç®¡ç†ã€ç›‘æ§ã€æ¦‚è¦åˆ†æå’Œæ•…éšœæ’æŸ¥çš„å·¥å…·å¥—ä»¶ã€‚å®ƒä¹Ÿæ˜¯åœ¨ JDK çš„ bin ç›®å½•ä¸­ï¼ŒåŒæ ·æ˜¯åŒå‡»å¯åŠ¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6953703703703704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAU6A7Yicia7YT7uoSGnemEnIzoZESTXPJNd62uQjrBAyDCl0NibQrAG8WQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;jmc ä¸»é¡µä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6086956521739131&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmANfC5BF035qc964qL44pJfvKQ4FSE9iagHyq1Zib8qcL2JNgqaWxTicsKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1380&quot;/&gt;ä¹‹åé€‰ä¸­è¦æ’æŸ¥çš„ç¨‹åºï¼Œå³é”®â€œå¯åŠ¨ JMX æ§åˆ¶å°â€æŸ¥çœ‹æ­¤ç¨‹åºçš„è¯¦ç»†å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6515580736543909&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAb56Ly9Zpzul29f4NbZiaqDibwvaVibyYsgfhRgUNPlmoZQrWCLAricibWVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;706&quot;/&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6086956521739131&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmA0icrzw7icLWqb2KClL3NQOHFciafToiboicMqtYwVkbMdESoVvbZBo7JyLQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1380&quot;/&gt;ç„¶åç‚¹å‡»â€œçº¿ç¨‹â€ï¼Œå‹¾ä¸­â€œæ­»é”æ£€æµ‹â€å°±å¯ä»¥å‘ç°æ­»é”å’Œæ­»é”çš„è¯¦æƒ…ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6086956521739131&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAYm6icJuP9JnxUA0ZqiacBjNRX69FFib3IGHRRZznMic2PoV6mY9tCOIMug/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1380&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.æ­»é”è§£å†³æ–¹æ¡ˆ&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.1 æ­»é”è§£å†³æ–¹æ¡ˆåˆ†æ&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼Œäº§ç”Ÿæ­»é”çš„ 4 ä¸ªæ¡ä»¶ï¼Œå“ªäº›æ˜¯å¯ä»¥ç ´åçš„ï¼Ÿå“ªäº›æ˜¯ä¸èƒ½è¢«ç ´åçš„ï¼Ÿ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;äº’æ–¥æ¡ä»¶ï¼šç³»ç»Ÿç‰¹æ€§ï¼Œä¸èƒ½è¢«ç ´åã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¯·æ±‚å’Œä¿æŒæ¡ä»¶ï¼šå¯ä»¥è¢«ç ´åã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šç³»ç»Ÿç‰¹æ€§ï¼Œä¸èƒ½è¢«ç ´åã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼šå¯ä»¥è¢«ç ´åã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ç ´åè¯·æ±‚å’Œä¿æŒæ¡ä»¶æˆ–è€…æ˜¯ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼Œä»è€Œæ¥è§£å†³æ­»é”çš„é—®é¢˜ï¼Œé‚£ä¸Šçº¿ï¼Œæˆ‘ä»¬å°±å…ˆä»ç ´åâ€œç¯è·¯ç­‰å¾…æ¡ä»¶â€å¼€å§‹æ¥è§£å†³æ­»é”é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.2 è§£å†³æ–¹æ¡ˆ1ï¼šé¡ºåºé”&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€è°“çš„é¡ºåºé”æŒ‡çš„æ˜¯é€šè¿‡æœ‰é¡ºåºçš„è·å–é”ï¼Œä»è€Œé¿å…äº§ç”Ÿç¯è·¯ç­‰å¾…æ¡ä»¶ï¼Œä»è€Œè§£å†³æ­»é”é—®é¢˜çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨é¡ºåºé”æ—¶ï¼Œç¨‹åºçš„æ‰§è¡Œå¯èƒ½æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6460554371002132&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmADlLgGMVtju1L72obicjJsoUVDIkORVCz6Po9llajtEEpiaFqpGYAlTRA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;938&quot;/&gt;çº¿ç¨‹ 1 å…ˆè·å–äº†é” Aï¼Œå†è·å–é” Bï¼Œçº¿ç¨‹ 2 ä¸ çº¿ç¨‹ 1 åŒæ—¶æ‰§è¡Œï¼Œçº¿ç¨‹ 2 å…ˆè·å–é” Bï¼Œå†è·å–é” Aï¼Œè¿™æ ·åŒæ–¹éƒ½å…ˆå ç”¨äº†å„è‡ªçš„èµ„æºï¼ˆé” A å’Œé” Bï¼‰ä¹‹åï¼Œå†å°è¯•è·å–å¯¹æ–¹çš„é”ï¼Œä»è€Œé€ æˆäº†ç¯è·¯ç­‰å¾…é—®é¢˜ï¼Œæœ€åé€ æˆäº†æ­»é”çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤æ—¶æˆ‘ä»¬åªéœ€è¦å°†çº¿ç¨‹ 1 å’Œçº¿ç¨‹ 2 è·å–é”çš„é¡ºåºè¿›è¡Œç»Ÿä¸€ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹ 1 å’Œçº¿ç¨‹ 2 åŒæ—¶æ‰§è¡Œä¹‹åï¼Œéƒ½å…ˆè·å–é” Aï¼Œå†è·å–é” Bï¼Œæ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0923482849604222&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAKSzO7Smo3OmLiaWHVA4FaBtJh1nrqn76YYrxZSH4L6FGtOBF65mu4iaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;758&quot;/&gt;å› ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½æˆåŠŸè·å–åˆ°é” Aï¼Œæ²¡æœ‰è·å–åˆ°é” A çš„çº¿ç¨‹å°±ä¼šç­‰å¾…å…ˆè·å–é” Aï¼Œæ­¤æ—¶å¾—åˆ°é” A çš„çº¿ç¨‹ç»§ç»­è·å–é” Bï¼Œå› ä¸ºæ²¡æœ‰çº¿ç¨‹äº‰æŠ¢å’Œæ‹¥æœ‰é” Bï¼Œé‚£ä¹ˆå¾—åˆ°é” A çš„çº¿ç¨‹å°±ä¼šé¡ºåˆ©çš„æ‹¥æœ‰é” Bï¼Œä¹‹åæ‰§è¡Œç›¸åº”çš„ä»£ç å†å°†é”èµ„æºå…¨éƒ¨é‡Šæ”¾ï¼Œç„¶åå¦ä¸€ä¸ªç­‰å¾…è·å–é” A çš„çº¿ç¨‹å°±å¯ä»¥æˆåŠŸè·å–åˆ°é”èµ„æºï¼Œæ‰§è¡Œåç»­çš„ä»£ç ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æ­»é”çš„é—®é¢˜äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡ºåºé”çš„å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Object lockA = &lt;span&gt;new&lt;/span&gt; Object(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Object lockB = &lt;span&gt;new&lt;/span&gt; Object(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;synchronized&lt;/span&gt; (lockA) {&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;synchronized&lt;/span&gt; (lockB) {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;synchronized&lt;/span&gt; (lockA) {&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å–B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;synchronized&lt;/span&gt; (lockB) {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5751633986928104&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAEAVGBq0M7rnOxXictCml63iccu23A7Ia3h738bGGEN643DufUS4BjMcA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;918&quot;/&gt;ä»ä¸Šè¿°æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œç¨‹åºå¹¶æ²¡æœ‰å‡ºç°æ­»é”çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.3 è§£å†³æ–¹æ¡ˆ2ï¼šè½®è¯¢é”&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è½®è¯¢é”æ˜¯é€šè¿‡æ‰“ç ´â€œè¯·æ±‚å’Œä¿æŒæ¡ä»¶â€æ¥é¿å…é€ æˆæ­»é”çš„ï¼Œå®ƒçš„å®ç°æ€è·¯ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡è½®è¯¢æ¥å°è¯•è·å–é”ï¼Œå¦‚æœæœ‰ä¸€ä¸ªé”è·å–å¤±è´¥ï¼Œåˆ™é‡Šæ”¾å½“å‰çº¿ç¨‹æ‹¥æœ‰çš„æ‰€æœ‰é”ï¼Œç­‰å¾…ä¸‹ä¸€è½®å†å°è¯•è·å–é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è½®è¯¢é”çš„å®ç°éœ€è¦ä½¿ç”¨åˆ° ReentrantLock çš„ tryLock æ–¹æ³•ï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1(ä½¿ç”¨è½®è¯¢é”)&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// è°ƒç”¨è½®è¯¢é”&lt;/span&gt;&lt;br/&gt;                pollingLock(lockA, lockB);&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                    lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;    &lt;br/&gt;     &lt;span&gt;/**&lt;br/&gt;     * è½®è¯¢é”&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;pollingLock&lt;/span&gt;&lt;span&gt;(Lock lockA, Lock lockB)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (lockA.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;if&lt;/span&gt; (lockB.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” B.&quot;&lt;/span&gt;);&lt;br/&gt;                            &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;                        }&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” A.&quot;&lt;/span&gt;);&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;            &lt;span&gt;// ç­‰å¾…ä¸€ç§’å†ç»§ç»­æ‰§è¡Œ&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;            } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                e.printStackTrace();&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8703296703296703&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAdPciams7e43Zju1N6HL7CGmNeOT7yjNgcnkgfpLhebMPkPOA7iaJ63Bg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;910&quot;/&gt;ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œä»¥ä¸Šä»£ç ä¹Ÿæ²¡æœ‰å‡ºç°æ­»é”çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;4.4 è½®è¯¢é”ä¼˜åŒ–&lt;/span&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨è½®è¯¢é”è™½ç„¶å¯ä»¥è§£å†³æ­»é”çš„é—®é¢˜ï¼Œä½†å¹¶ä¸æ˜¯å®Œç¾æ— ç¼ºçš„ï¼Œæ¯”å¦‚ä»¥ä¸‹è¿™äº›é—®é¢˜ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.4.1 é—®é¢˜1ï¼šæ­»å¾ªç¯&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç®€æ˜“ç‰ˆçš„è½®è¯¢é”ï¼Œå¦‚æœé‡åˆ°æœ‰ä¸€ä¸ªçº¿ç¨‹ä¸€ç›´éœ¸å æˆ–è€…é•¿æ—¶é—´éœ¸å é”èµ„æºçš„æƒ…å†µï¼Œå°±ä¼šå¯¼è‡´è¿™ä¸ªè½®è¯¢é”è¿›å…¥æ­»å¾ªç¯çš„çŠ¶æ€ï¼Œå®ƒä¼šå°è¯•ä¸€ç›´è·å–é”èµ„æºï¼Œè¿™æ ·å°±ä¼šé€ æˆæ–°çš„é—®é¢˜ï¼Œå¸¦æ¥ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åä¾‹&lt;/h5&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1(ä½¿ç”¨è½®è¯¢é”)&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// è°ƒç”¨è½®è¯¢é”&lt;/span&gt;&lt;br/&gt;                pollingLock(lockA, lockB);&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                    lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    &lt;span&gt;// å¦‚æœæ­¤å¤„ä»£ç æœªæ‰§è¡Œï¼Œçº¿ç¨‹ 2 ä¸€ç›´æœªé‡Šæ”¾é”èµ„æº&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;// lockB.unlock(); &lt;/span&gt;&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * è½®è¯¢é”&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;pollingLock&lt;/span&gt;&lt;span&gt;(Lock lockA, Lock lockB)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (lockA.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;if&lt;/span&gt; (lockB.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” B.&quot;&lt;/span&gt;);&lt;br/&gt;                            &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;                        }&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” A.&quot;&lt;/span&gt;);&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;            &lt;span&gt;// ç­‰å¾…ä¸€ç§’å†ç»§ç»­æ‰§è¡Œ&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;            } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                e.printStackTrace();&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmASibUaDRFvZ8zrdfNhPJiaxmw5t1KqfY8vmiaAVNxlpASDn7NLHPnucCCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-ratio=&quot;2.9918367346938775&quot; data-w=&quot;490&quot;/&gt;ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1 è½®è¯¢é”è¿›å…¥äº†æ­»å¾ªç¯çš„çŠ¶æ€ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¼˜åŒ–ç‰ˆ&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é’ˆå¯¹ä»¥ä¸Šæ­»å¾ªç¯çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æ”¹è¿›çš„æ€è·¯æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æ·»åŠ æœ€å¤§æ¬¡æ•°é™åˆ¶ï¼šå¦‚æœç»è¿‡äº† n æ¬¡å°è¯•è·å–é”ä¹‹åï¼Œè¿˜æœªè·å–åˆ°é”ï¼Œåˆ™è®¤ä¸ºè·å–é”å¤±è´¥ï¼Œæ‰§è¡Œå¤±è´¥ç­–ç•¥ä¹‹åç»ˆæ­¢è½®è¯¢ï¼ˆå¤±è´¥ç­–ç•¥å¯ä»¥æ˜¯è®°å½•æ—¥å¿—æˆ–å…¶ä»–æ“ä½œï¼‰ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ·»åŠ æœ€å¤§æ—¶é•¿é™åˆ¶ï¼šå¦‚æœç»è¿‡äº† n ç§’å°è¯•è·å–é”ä¹‹åï¼Œè¿˜æœªè·å–åˆ°é”ï¼Œåˆ™è®¤ä¸ºè·å–é”å¤±è´¥ï¼Œæ‰§è¡Œå¤±è´¥ç­–ç•¥ä¹‹åç»ˆæ­¢è½®è¯¢ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šç­–ç•¥ä»»é€‰å…¶ä¸€å°±å¯ä»¥è§£å†³æ­»å¾ªç¯çš„é—®é¢˜ï¼Œå‡ºäºå®ç°æˆæœ¬çš„è€ƒè™‘ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è½®è¯¢æœ€å¤§æ¬¡æ•°çš„æ–¹å¼æ¥æ”¹è¿›è½®è¯¢é”ï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1(ä½¿ç”¨è½®è¯¢é”)&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// è°ƒç”¨è½®è¯¢é”&lt;/span&gt;&lt;br/&gt;                pollingLock(lockA, lockB, &lt;span&gt;3&lt;/span&gt;);&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                    lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    &lt;span&gt;// çº¿ç¨‹ 2 å¿˜è®°é‡Šæ”¾é”èµ„æº&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;// lockB.unlock(); // é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * è½®è¯¢é”&lt;br/&gt;     *&lt;br/&gt;     * maxCountï¼šæœ€å¤§è½®è¯¢æ¬¡æ•°&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;pollingLock&lt;/span&gt;&lt;span&gt;(Lock lockA, Lock lockB, &lt;span&gt;int&lt;/span&gt; maxCount)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;// è½®è¯¢æ¬¡æ•°è®¡æ•°å™¨&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;int&lt;/span&gt; count = &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (lockA.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;if&lt;/span&gt; (lockB.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” B.&quot;&lt;/span&gt;);&lt;br/&gt;                            &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;                        }&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” A.&quot;&lt;/span&gt;);&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// åˆ¤æ–­æ˜¯å¦å·²ç»è¶…è¿‡æœ€å¤§æ¬¡æ•°é™åˆ¶&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (count++ &amp;gt; maxCount) {&lt;br/&gt;                &lt;span&gt;// ç»ˆæ­¢å¾ªç¯&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;è½®è¯¢é”è·å–å¤±è´¥,è®°å½•æ—¥å¿—æˆ–æ‰§è¡Œå…¶ä»–å¤±è´¥ç­–ç•¥&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// ç­‰å¾…ä¸€ç§’å†ç»§ç»­å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;            } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                e.printStackTrace();&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.4857142857142858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAOsUTCiarn4ictmmUaic3v6853JzZicf7thKlBKAUHZfnulKszYAB0776Tw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;840&quot;/&gt;ä»ä»¥ä¸Šç»“æœå¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬æ”¹è¿›ä¹‹åï¼Œè½®è¯¢é”å°±ä¸ä¼šå‡ºç°æ­»å¾ªç¯çš„é—®é¢˜äº†ï¼Œå®ƒä¼šå°è¯•ä¸€å®šæ¬¡æ•°ä¹‹åç»ˆæ­¢æ‰§è¡Œã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.4.2 é—®é¢˜2ï¼šçº¿ç¨‹é¥¿æ­»&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä»¥ä¸Šçš„è½®è¯¢é”çš„è½®è¯¢ç­‰å¾…æ—¶é—´æ˜¯å›ºå®šæ—¶é—´ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;// ç­‰å¾… 1s å†å°è¯•è·å–ï¼ˆè½®è¯¢ï¼‰é”&lt;/span&gt;&lt;br/&gt;&lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;    Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;} &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;    e.printStackTrace();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¼šé€ æˆçº¿ç¨‹é¥¿æ­»çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è½®è¯¢é”ä¸€ç›´è·å–ä¸åˆ°é”çš„é—®é¢˜ï¼Œæ¯”å¦‚ä»¥ä¸‹ç¤ºä¾‹ã€‚&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åä¾‹&lt;/h5&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1(ä½¿ç”¨è½®è¯¢é”)&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// è°ƒç”¨è½®è¯¢é”&lt;/span&gt;&lt;br/&gt;                pollingLock(lockA, lockB, &lt;span&gt;3&lt;/span&gt;);&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;                    lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                        lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                        }&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                    &lt;span&gt;// ç­‰å¾…ä¸€ç§’ä¹‹åç»§ç»­æ‰§è¡Œ&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * è½®è¯¢é”&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;pollingLock&lt;/span&gt;&lt;span&gt;(Lock lockA, Lock lockB, &lt;span&gt;int&lt;/span&gt; maxCount)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;// å¾ªç¯æ¬¡æ•°è®¡æ•°å™¨&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;int&lt;/span&gt; count = &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (lockA.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;100&lt;/span&gt;); &lt;span&gt;// ç­‰å¾… 0.1s(è·å–é”éœ€è¦çš„æ—¶é—´)&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;if&lt;/span&gt; (lockB.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” B.&quot;&lt;/span&gt;);&lt;br/&gt;                            &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;                        }&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” A.&quot;&lt;/span&gt;);&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// åˆ¤æ–­æ˜¯å¦å·²ç»è¶…è¿‡æœ€å¤§æ¬¡æ•°é™åˆ¶&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (count++ &amp;gt; maxCount) {&lt;br/&gt;                &lt;span&gt;// ç»ˆæ­¢å¾ªç¯&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;è½®è¯¢é”è·å–å¤±è´¥,è®°å½•æ—¥å¿—æˆ–æ‰§è¡Œå…¶ä»–å¤±è´¥ç­–ç•¥&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// ç­‰å¾…ä¸€ç§’å†ç»§ç»­å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;            } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                e.printStackTrace();&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;3.0347222222222223&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAWpt9S5dIFeZEKSeQ0wCwaZRSHJyPrVPMicrfwBRvs91cHFNa3cGrEsA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;576&quot;/&gt;ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ï¼ˆè½®è¯¢é”ï¼‰ä¸€ç›´æœªæˆåŠŸè·å–åˆ°é”ï¼Œé€ æˆè¿™ç§ç»“æœçš„åŸå› æ˜¯ï¼šçº¿ç¨‹ 1 æ¯æ¬¡è½®è¯¢çš„ç­‰å¾…æ—¶é—´ä¸ºå›ºå®šçš„ 1sï¼Œè€Œçº¿ç¨‹ 2 ä¹Ÿæ˜¯ç›¸åŒçš„é¢‘ç‡ï¼Œæ¯ 1s è·å–ä¸€æ¬¡é”ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´çº¿ç¨‹ 2 ä¼šä¸€ç›´å…ˆæˆåŠŸè·å–åˆ°é”ï¼Œè€Œçº¿ç¨‹ 1 åˆ™ä¼šä¸€ç›´å¤„äºâ€œé¥¿æ­»â€çš„æƒ…å†µï¼Œæ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.7983539094650205&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAicdBygnNOUXI62gicyIwgjXlTbKxeEib8W9NLnSZ95y1PQJmVggJqY2HQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;972&quot;/&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¼˜åŒ–ç‰ˆ&lt;/h5&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†è½®è¯¢é”çš„å›ºå®šç­‰å¾…æ—¶é—´ï¼Œ&lt;strong&gt;æ”¹è¿›ä¸ºå›ºå®šæ—¶é—´ + éšæœºæ—¶é—´çš„æ–¹å¼&lt;/strong&gt;ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å› ä¸ºè·å–é”çš„é¢‘ç‡ä¸€è‡´ï¼Œè€Œé€ æˆè½®è¯¢é”â€œé¥¿æ­»â€çš„é—®é¢˜äº†ï¼Œå…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt; java.util.Random;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.Lock;&lt;br/&gt;&lt;span&gt;import&lt;/span&gt; java.util.concurrent.locks.ReentrantLock;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;&lt;span&gt;class&lt;/span&gt; &lt;span&gt;SolveDeadLockExample&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;    &lt;span&gt;private&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; Random rdm = &lt;span&gt;new&lt;/span&gt; Random();&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        Lock lockA = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” A&lt;/span&gt;&lt;br/&gt;        Lock lockB = &lt;span&gt;new&lt;/span&gt; ReentrantLock(); &lt;span&gt;// åˆ›å»ºé” B&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 1(ä½¿ç”¨è½®è¯¢é”)&lt;/span&gt;&lt;br/&gt;        Thread t1 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;// è°ƒç”¨è½®è¯¢é”&lt;/span&gt;&lt;br/&gt;                pollingLock(lockA, lockB, &lt;span&gt;3&lt;/span&gt;);&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t1.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;        &lt;span&gt;// åˆ›å»ºçº¿ç¨‹ 2&lt;/span&gt;&lt;br/&gt;        Thread t2 = &lt;span&gt;new&lt;/span&gt; Thread(&lt;span&gt;new&lt;/span&gt; Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;                &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;                    lockB.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:ç­‰å¾…è·å– A...&quot;&lt;/span&gt;);&lt;br/&gt;                        lockA.lock(); &lt;span&gt;// åŠ é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 2:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                        }&lt;br/&gt;                    } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                        lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    }&lt;br/&gt;                    &lt;span&gt;// ç­‰å¾…ä¸€ç§’ä¹‹åç»§ç»­æ‰§è¡Œ&lt;/span&gt;&lt;br/&gt;                    &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                        Thread.sleep(&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;                    } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                        e.printStackTrace();&lt;br/&gt;                    }&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;        });&lt;br/&gt;        t2.start(); &lt;span&gt;// è¿è¡Œçº¿ç¨‹&lt;/span&gt;&lt;br/&gt;    }&lt;br/&gt;&lt;br/&gt;    &lt;span&gt;/**&lt;br/&gt;     * è½®è¯¢é”&lt;br/&gt;     */&lt;/span&gt;&lt;br/&gt;    &lt;span&gt;&lt;span&gt;public&lt;/span&gt; &lt;span&gt;static&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;pollingLock&lt;/span&gt;&lt;span&gt;(Lock lockA, Lock lockB, &lt;span&gt;int&lt;/span&gt; maxCount)&lt;/span&gt; &lt;/span&gt;{&lt;br/&gt;        &lt;span&gt;// å¾ªç¯æ¬¡æ•°è®¡æ•°å™¨&lt;/span&gt;&lt;br/&gt;        &lt;span&gt;int&lt;/span&gt; count = &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;        &lt;span&gt;while&lt;/span&gt; (&lt;span&gt;true&lt;/span&gt;) {&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (lockA.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” A!&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                    Thread.sleep(&lt;span&gt;100&lt;/span&gt;); &lt;span&gt;// ç­‰å¾… 0.1s(è·å–é”éœ€è¦çš„æ—¶é—´)&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:ç­‰å¾…è·å– B...&quot;&lt;/span&gt;);&lt;br/&gt;                    &lt;span&gt;if&lt;/span&gt; (lockB.tryLock()) { &lt;span&gt;// å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;                        &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:è·å–åˆ°é” B!&quot;&lt;/span&gt;);&lt;br/&gt;                        } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                            lockB.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                            System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” B.&quot;&lt;/span&gt;);&lt;br/&gt;                            &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;                        }&lt;br/&gt;                    }&lt;br/&gt;                } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                    e.printStackTrace();&lt;br/&gt;                } &lt;span&gt;finally&lt;/span&gt; {&lt;br/&gt;                    lockA.unlock(); &lt;span&gt;// é‡Šæ”¾é”&lt;/span&gt;&lt;br/&gt;                    System.out.println(&lt;span&gt;&quot;çº¿ç¨‹ 1:é‡Šæ”¾é” A.&quot;&lt;/span&gt;);&lt;br/&gt;                }&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// åˆ¤æ–­æ˜¯å¦å·²ç»è¶…è¿‡æœ€å¤§æ¬¡æ•°é™åˆ¶&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;if&lt;/span&gt; (count++ &amp;gt; maxCount) {&lt;br/&gt;                &lt;span&gt;// ç»ˆæ­¢å¾ªç¯&lt;/span&gt;&lt;br/&gt;                System.out.println(&lt;span&gt;&quot;è½®è¯¢é”è·å–å¤±è´¥,è®°å½•æ—¥å¿—æˆ–æ‰§è¡Œå…¶ä»–å¤±è´¥ç­–ç•¥&quot;&lt;/span&gt;);&lt;br/&gt;                &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;            }&lt;br/&gt;&lt;br/&gt;            &lt;span&gt;// ç­‰å¾…ä¸€å®šæ—¶é—´(å›ºå®šæ—¶é—´ + éšæœºæ—¶é—´)ä¹‹åå†ç»§ç»­å°è¯•è·å–é”&lt;/span&gt;&lt;br/&gt;            &lt;span&gt;try&lt;/span&gt; {&lt;br/&gt;                Thread.sleep(&lt;span&gt;300&lt;/span&gt; + rdm.nextInt(&lt;span&gt;8&lt;/span&gt;) * &lt;span&gt;100&lt;/span&gt;); &lt;span&gt;// å›ºå®šæ—¶é—´ + éšæœºæ—¶é—´&lt;/span&gt;&lt;br/&gt;            } &lt;span&gt;catch&lt;/span&gt; (InterruptedException e) {&lt;br/&gt;                e.printStackTrace();&lt;br/&gt;            }&lt;br/&gt;        }&lt;br/&gt;    }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.108695652173913&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/HrWw6ZuXCsjJpvG1c1Vc2WclEcAvGCmAKBibFoVl4y1CRVyxCicIBOH5RVkrZHmIewsyw8QEA6stkqh6Uibf70xJw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;736&quot;/&gt;ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ï¼ˆè½®è¯¢é”ï¼‰åŠ å…¥éšæœºç­‰å¾…æ—¶é—´ä¹‹åå°±ä¸ä¼šå‡ºç°çº¿ç¨‹é¥¿æ­»çš„é—®é¢˜äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;5.æ€»ç»“&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä»‹ç»äº†æ­»é”çš„æ¦‚å¿µï¼Œä»¥åŠäº§ç”Ÿæ­»é”çš„ 4 ä¸ªæ¡ä»¶ï¼Œæ’æŸ¥æ­»é”å¯ä»¥é€šè¿‡æœ¬æ–‡æä¾›çš„ 4 ç§å·¥å…·ä¸­çš„ä»»æ„ä¸€ç§æ¥æ£€æµ‹ï¼Œä»æ˜“ç”¨æ€§å’Œæ€§èƒ½æ–¹é¢æ¥è€ƒè™‘ï¼Œæ¨èä½¿ç”¨ jconsole æˆ– jvisualvmï¼Œæœ€åæˆ‘ä»¬ä»‹ç»äº†æ­»é”é—®é¢˜çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šé¡ºåºé”å’Œè½®è¯¢é”ã€‚&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;---END---&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9b75dd111b0b1e7106fd2a3463ca6c86</guid>
<title>Go è¯­è¨€å®˜æ–¹ä¾èµ–æ³¨å…¥å·¥å…· Wire ä½¿ç”¨æŒ‡åŒ—</title>
<link>https://toutiao.io/k/kvhb66e</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â dal/user.go&lt;br/&gt;&lt;br/&gt;funcÂ (uÂ *UserDal)Â Create(ctxÂ context.Context,Â dataÂ *UserCreateParams)Â errorÂ {&lt;br/&gt;Â Â Â Â dbÂ :=Â mysql.GetDB().Model(&amp;amp;entity.User{})&lt;br/&gt;Â Â Â Â userÂ :=Â entity.User{&lt;br/&gt;Â Â Â Â Â Â Username:Â data.Username,&lt;br/&gt;Â Â Â Â Â Â Password:Â data.Password,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â db.Create(&amp;amp;user).Error&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â service/user.go&lt;br/&gt;funcÂ (uÂ *UserService)Â Register(ctxÂ context.Context,Â dataÂ *schema.RegisterReq)Â (*schema.RegisterRes,Â error)Â {&lt;br/&gt;Â Â Â paramsÂ :=Â dal.UserCreateParams{&lt;br/&gt;Â Â Â Â Â Â Username:Â data.Username,&lt;br/&gt;Â Â Â Â Â Â Password:Â data.Password,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â errÂ :=Â dal.GetUserDal().Create(ctx,Â params)&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ !=Â nilÂ {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â nil,Â err&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â registerResÂ :=Â schema.RegisterRes{&lt;br/&gt;Â Â Â Â Â Â Msg:Â &lt;span&gt;&quot;registerÂ success&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;registerRes,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿™æ®µä»£ç é‡Œï¼Œå±‚çº§ä¾èµ–å…³ç³»ä¸º service -&amp;gt; dal -&amp;gt; dbï¼Œä¸Šæ¸¸å±‚çº§é€šè¿‡Â &lt;code&gt;Getxxx&lt;/code&gt;å®ä¾‹åŒ–ä¾èµ–ã€‚ä½†åœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬çš„ä¾èµ–é“¾æ¯”è¾ƒå°‘æ˜¯å‚ç›´ä¾èµ–å…³ç³»ï¼Œæ›´å¤šçš„æ˜¯æ¨ªå‘ä¾èµ–ã€‚å³æˆ‘ä»¬ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œå¯èƒ½è¦å¤šæ¬¡è°ƒç”¨&lt;code&gt;Getxxx&lt;/code&gt;çš„æ–¹æ³•ï¼Œè¿™æ ·ä½¿å¾—æˆ‘ä»¬ä»£ç æä¸ç®€æ´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ä»…å¦‚æ­¤ï¼Œæˆ‘ä»¬çš„ä¾èµ–éƒ½æ˜¯å†™æ­»çš„ï¼Œå³ä¾èµ–è€…çš„ä»£ç ä¸­å†™æ­»äº†è¢«ä¾èµ–è€…çš„ç”Ÿæˆå…³ç³»ã€‚å½“è¢«ä¾èµ–è€…çš„ç”Ÿæˆæ–¹å¼æ”¹å˜ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æ”¹å˜ä¾èµ–è€…çš„å‡½æ•°ï¼Œè¿™æå¤§çš„å¢åŠ äº†ä¿®æ”¹ä»£ç é‡ä»¥åŠå‡ºé”™é£é™©ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨&lt;code&gt;ä¾èµ–æ³¨å…¥&lt;/code&gt;çš„æ–¹å¼å¯¹ä»£ç è¿›è¡Œæ”¹é€ ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â dal/user.go&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â UserDalÂ struct{&lt;br/&gt;Â Â Â Â DBÂ *gorm.DB&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ NewUserDal(dbÂ *gorm.DB)Â *UserDal{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;UserDal{&lt;br/&gt;Â Â Â Â Â Â Â Â DB:Â db&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (uÂ *UserDal)Â Create(ctxÂ context.Context,Â dataÂ *UserCreateParams)Â errorÂ {&lt;br/&gt;Â Â Â Â dbÂ :=Â u.DB.Model(&amp;amp;entity.User{})&lt;br/&gt;Â Â Â Â userÂ :=Â entity.User{&lt;br/&gt;Â Â Â Â Â Â Username:Â data.Username,&lt;br/&gt;Â Â Â Â Â Â Password:Â data.Password,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â db.Create(&amp;amp;user).Error&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â service/user.go&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â UserServiceÂ struct{&lt;br/&gt;Â Â Â Â UserDalÂ *dal.UserDal&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ NewUserService(userDalÂ dal.UserDal)Â *UserService{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;UserService{&lt;br/&gt;Â Â Â Â Â Â Â Â UserDal:Â userDal&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (uÂ *UserService)Â Register(ctxÂ context.Context,Â dataÂ *schema.RegisterReq)Â (*schema.RegisterRes,Â error)Â {&lt;br/&gt;Â Â Â paramsÂ :=Â dal.UserCreateParams{&lt;br/&gt;Â Â Â Â Â Â Username:Â data.Username,&lt;br/&gt;Â Â Â Â Â Â Password:Â data.Password,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â errÂ :=Â u.UserDal.Create(ctx,Â params)&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ !=Â nilÂ {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â nil,Â err&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â registerResÂ :=Â schema.RegisterRes{&lt;br/&gt;Â Â Â Â Â Â Msg:Â &lt;span&gt;&quot;registerÂ success&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;registerRes,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â main.goÂ &lt;br/&gt;dbÂ :=Â mysql.GetDB()&lt;br/&gt;userDalÂ :=Â dal.NewUserDal(db)&lt;br/&gt;userServiceÂ :=Â dal.NewUserService(userDal)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šç¼–ç æƒ…å†µä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å°† db å®ä¾‹å¯¹è±¡æ³¨å…¥åˆ° dal ä¸­ï¼Œå†å°† dal å®ä¾‹å¯¹è±¡æ³¨å…¥åˆ° service ä¸­ï¼Œå®ç°äº†å±‚çº§é—´çš„ä¾èµ–æ³¨å…¥ã€‚è§£è€¦äº†éƒ¨åˆ†ä¾èµ–å…³ç³»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ç³»ç»Ÿç®€å•ã€ä»£ç é‡å°‘çš„æƒ…å†µä¸‹ä¸Šé¢çš„å®ç°æ–¹å¼ç¡®å®æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†æ˜¯é¡¹ç›®åºå¤§åˆ°ä¸€å®šç¨‹åº¦ï¼Œç»“æ„ä¹‹é—´çš„å…³ç³»å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œæ‰‹åŠ¨åˆ›å»ºæ¯ä¸ªä¾èµ–ï¼Œç„¶åå±‚å±‚ç»„è£…èµ·æ¥çš„æ–¹å¼å°±ä¼šå˜å¾—å¼‚å¸¸ç¹çï¼Œå¹¶ä¸”å®¹æ˜“å‡ºé”™ã€‚è¿™ä¸ªæ—¶å€™å‹‡å£« wire å‡ºç°äº†ï¼&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3. Wire Come&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.1 ç®€ä»‹&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Wire æ˜¯ä¸€ä¸ªè½»å·§çš„ Golang ä¾èµ–æ³¨å…¥å·¥å…·ã€‚å®ƒç”± Go Cloud å›¢é˜Ÿå¼€å‘ï¼Œé€šè¿‡è‡ªåŠ¨ç”Ÿæˆä»£ç çš„æ–¹å¼åœ¨ç¼–è¯‘æœŸå®Œæˆä¾èµ–æ³¨å…¥ã€‚å®ƒä¸éœ€è¦åå°„æœºåˆ¶ï¼Œåé¢ä¼šçœ‹åˆ°ï¼Œ Wire ç”Ÿæˆçš„ä»£ç ä¸æ‰‹å†™æ— å¼‚ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.2 å¿«é€Ÿä½¿ç”¨&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;wire çš„å®‰è£…ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;goÂ getÂ github.com/google/wire/cmd/wire&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„å‘½ä»¤ä¼šåœ¨Â &lt;code&gt;$GOPATH/bin&lt;/code&gt;Â ä¸­ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºÂ &lt;code&gt;wire&lt;/code&gt;ï¼Œè¿™å°±æ˜¯ä»£ç ç”Ÿæˆå™¨ã€‚å¯ä»¥æŠŠ&lt;code&gt;$GOPATH/bin&lt;/code&gt;Â åŠ å…¥ç³»ç»Ÿç¯å¢ƒå˜é‡Â &lt;code&gt;$PATH&lt;/code&gt;Â ä¸­ï¼Œæ‰€ä»¥å¯ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡ŒÂ &lt;code&gt;wire&lt;/code&gt;Â å‘½ä»¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬åœ¨ä¸€ä¸ªä¾‹å­ä¸­çœ‹çœ‹å¦‚ä½•ä½¿ç”¨Â &lt;code&gt;wire&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨æˆ‘ä»¬æœ‰è¿™æ ·çš„ä¸‰ä¸ªç±»å‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â MessageÂ string&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ChannelÂ structÂ {&lt;br/&gt;Â Â Â Â MessageÂ Message&lt;br/&gt;}&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â BroadCastÂ structÂ {&lt;br/&gt;Â Â Â Â ChannelÂ Channel&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‰è€…çš„ init æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewMessage()Â MessageÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â Message(&lt;span&gt;&quot;HelloÂ Wire!&quot;&lt;/span&gt;)&lt;br/&gt;}&lt;br/&gt;funcÂ NewChannel(mÂ Message)Â ChannelÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â Channel{Message:Â m}&lt;br/&gt;}&lt;br/&gt;funcÂ NewBroadCast(cÂ Channel)Â BroadCastÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â BroadCast{Channel:Â c}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡è®¾ Channel æœ‰ä¸€ä¸ª GetMsg æ–¹æ³•ï¼ŒBroadCast æœ‰ä¸€ä¸ª Start æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ (cÂ Channel)Â GetMsg()Â MessageÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â c.Message&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (bÂ BroadCast)Â &lt;span&gt;&lt;span&gt;Start&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â msgÂ :=Â b.Channel.GetMsg()&lt;br/&gt;Â Â Â Â fmt.Println(msg)&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ‰‹åŠ¨å†™ä»£ç çš„è¯ï¼Œæˆ‘ä»¬çš„å†™æ³•åº”è¯¥æ˜¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â messageÂ :=Â NewMessage()&lt;br/&gt;Â Â Â Â channelÂ :=Â NewChannel(message)&lt;br/&gt;Â Â Â Â broadCastÂ :=Â NewBroadCast(channel)&lt;br/&gt;&lt;br/&gt;Â Â Â Â broadCast.Start()&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½¿ç”¨Â &lt;code&gt;wire&lt;/code&gt;ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±å˜æˆå¦‚ä¸‹çš„å·¥ä½œäº†ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;æå–ä¸€ä¸ª init æ–¹æ³• InitializeBroadCastï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ &lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â bÂ :=Â demo.InitializeBroadCast()&lt;br/&gt;&lt;br/&gt;Â Â Â Â b.Start()&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç¼–å†™ä¸€ä¸ª wire.go æ–‡ä»¶ï¼Œç”¨äº wire å·¥å…·æ¥è§£æä¾èµ–ï¼Œç”Ÿæˆä»£ç ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//+buildÂ wireinject&lt;br/&gt;&lt;br/&gt;packageÂ demo&lt;br/&gt;&lt;br/&gt;funcÂ InitializeBroadCast()Â BroadCastÂ {&lt;br/&gt;Â Â Â Â wire.Build(NewBroadCast,Â NewChannel,Â NewMessage)&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â BroadCast{}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨æ„ï¼šéœ€è¦åœ¨æ–‡ä»¶å¤´éƒ¨å¢åŠ æ„å»ºçº¦æŸï¼š//+build wireinject&lt;/p&gt;&lt;ol start=&quot;3&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ wire å·¥å…·ï¼Œç”Ÿæˆä»£ç ï¼Œåœ¨ wire.go æ‰€åœ¨ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š&lt;code&gt;wire gen wire.go&lt;/code&gt;ã€‚ä¼šç”Ÿæˆå¦‚ä¸‹ä»£ç ï¼Œå³åœ¨ç¼–è¯‘ä»£ç æ—¶çœŸæ­£ä½¿ç”¨çš„Initå‡½æ•°ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â CodeÂ generatedÂ byÂ Wire.Â DOÂ NOTÂ EDIT.&lt;br/&gt;&lt;br/&gt;//go:generateÂ wire&lt;br/&gt;//+buildÂ !wireinject&lt;br/&gt;funcÂ InitializeBroadCast()Â BroadCastÂ {&lt;br/&gt;Â Â Â Â messageÂ :=Â NewMessage()&lt;br/&gt;Â Â Â Â channelÂ :=Â NewChannel(message)&lt;br/&gt;Â Â Â Â broadCastÂ :=Â NewBroadCast(channel)&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â broadCast&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å‘Šè¯‰Â &lt;code&gt;wire&lt;/code&gt;ï¼Œæˆ‘ä»¬æ‰€ç”¨åˆ°çš„å„ç§ç»„ä»¶çš„Â &lt;code&gt;init&lt;/code&gt;Â æ–¹æ³•ï¼ˆ&lt;code&gt;NewBroadCast&lt;/code&gt;,Â &lt;code&gt;NewChannel&lt;/code&gt;,Â &lt;code&gt;NewMessage&lt;/code&gt;ï¼‰ï¼Œé‚£ä¹ˆÂ &lt;code&gt;wire&lt;/code&gt;Â å·¥å…·ä¼šæ ¹æ®è¿™äº›æ–¹æ³•çš„å‡½æ•°ç­¾åï¼ˆå‚æ•°ç±»å‹/è¿”å›å€¼ç±»å‹/å‡½æ•°åï¼‰è‡ªåŠ¨æ¨å¯¼ä¾èµ–å…³ç³»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;wire.go&lt;/code&gt;Â å’ŒÂ &lt;code&gt;wire_gen.go&lt;/code&gt;Â æ–‡ä»¶å¤´éƒ¨ä½ç½®éƒ½æœ‰ä¸€ä¸ªÂ &lt;code&gt;+build&lt;/code&gt;ï¼Œä¸è¿‡ä¸€ä¸ªåé¢æ˜¯Â &lt;code&gt;wireinject&lt;/code&gt;ï¼Œå¦ä¸€ä¸ªæ˜¯Â &lt;code&gt;!wireinject&lt;/code&gt;ã€‚&lt;code&gt;+build&lt;/code&gt;Â å…¶å®æ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªç‰¹æ€§ã€‚ç±»ä¼¼ C/C++ çš„æ¡ä»¶ç¼–è¯‘ï¼Œåœ¨æ‰§è¡ŒÂ &lt;code&gt;go build&lt;/code&gt;Â æ—¶å¯ä¼ å…¥ä¸€äº›é€‰é¡¹ï¼Œæ ¹æ®è¿™ä¸ªé€‰é¡¹å†³å®šæŸäº›æ–‡ä»¶æ˜¯å¦ç¼–è¯‘ã€‚&lt;code&gt;wire&lt;/code&gt;Â å·¥å…·åªä¼šå¤„ç†æœ‰&lt;code&gt;wireinject&lt;/code&gt;Â çš„æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„Â &lt;code&gt;wire.go&lt;/code&gt;Â æ–‡ä»¶è¦åŠ ä¸Šè¿™ä¸ªã€‚ç”Ÿæˆçš„Â &lt;code&gt;wire_gen.go&lt;/code&gt;Â æ˜¯ç»™æˆ‘ä»¬æ¥ä½¿ç”¨çš„ï¼Œ&lt;code&gt;wire&lt;/code&gt;Â ä¸éœ€è¦å¤„ç†ï¼Œæ•…æœ‰Â &lt;code&gt;!wireinject&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.3 åŸºç¡€æ¦‚å¿µ&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Wire&lt;/code&gt;Â æœ‰ä¸¤ä¸ªåŸºç¡€æ¦‚å¿µï¼Œ&lt;code&gt;Provider&lt;/code&gt;ï¼ˆæ„é€ å™¨ï¼‰å’ŒÂ &lt;code&gt;Injector&lt;/code&gt;ï¼ˆæ³¨å…¥å™¨ï¼‰&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Provider&lt;/code&gt;Â å®é™…ä¸Šå°±æ˜¯ç”Ÿæˆç»„ä»¶çš„æ™®é€šæ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ¥æ”¶æ‰€éœ€ä¾èµ–ä½œä¸ºå‚æ•°ï¼Œåˆ›å»ºç»„ä»¶å¹¶å°†å…¶è¿”å›ã€‚æˆ‘ä»¬ä¸Šé¢ä¾‹å­çš„Â &lt;code&gt;NewBroadCast&lt;/code&gt;Â å°±æ˜¯Â &lt;code&gt;Provider&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;Injector&lt;/code&gt;Â å¯ä»¥ç†è§£ä¸ºÂ &lt;code&gt;Providers&lt;/code&gt;Â çš„è¿æ¥å™¨ï¼Œå®ƒç”¨æ¥æŒ‰ä¾èµ–é¡ºåºè°ƒç”¨Â &lt;code&gt;Providers&lt;/code&gt;Â å¹¶æœ€ç»ˆè¿”å›æ„å»ºç›®æ ‡ã€‚æˆ‘ä»¬ä¸Šé¢ä¾‹å­çš„Â &lt;code&gt;InitializeBroadCast&lt;/code&gt;Â å°±æ˜¯Â &lt;code&gt;Injector&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4. Wireä½¿ç”¨å®è·µ&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹Â &lt;code&gt;wire&lt;/code&gt;Â åœ¨é£ä¹¦é—®å·è¡¨å•æœåŠ¡ä¸­çš„åº”ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é£ä¹¦é—®å·è¡¨å•æœåŠ¡çš„Â &lt;code&gt;project&lt;/code&gt;Â æ¨¡å—ä¸­å°† handler å±‚ã€service å±‚å’Œ dal å±‚çš„åˆå§‹åŒ–é€šè¿‡å‚æ•°æ³¨å…¥çš„æ–¹å¼å®ç°ä¾èµ–åè½¬ã€‚é€šè¿‡Â &lt;code&gt;BuildInjector&lt;/code&gt;Â æ³¨å…¥å™¨æ¥åˆå§‹åŒ–æ‰€æœ‰çš„å¤–éƒ¨ä¾èµ–ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.1 åŸºç¡€ä½¿ç”¨&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;dal ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewProjectDal(dbÂ *gorm.DB)Â *ProjectDal{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;ProjectDal{&lt;br/&gt;Â Â Â Â Â Â Â Â DB:db&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectDalÂ structÂ {&lt;br/&gt;Â Â Â DBÂ *gorm.DB&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (dalÂ *ProjectDal)Â Create(ctxÂ context.Context,Â itemÂ *entity.Project)Â errorÂ {&lt;br/&gt;Â Â Â resultÂ :=Â dal.DB.Create(item)&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â errors.WithStack(result.Error)&lt;br/&gt;}&lt;br/&gt;//Â QuestionDalã€QuestionModelDal...&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;service ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewProjectService(projectDalÂ *dal.ProjectDal,Â questionDalÂ *dal.QuestionDal,Â questionModelDalÂ *dal.QuestionModelDal)Â *ProjectServiceÂ {&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;projectService{&lt;br/&gt;Â Â Â Â Â Â ProjectDal:Â Â Â Â Â Â Â projectDal,&lt;br/&gt;Â Â Â Â Â Â QuestionDal:Â Â Â Â Â Â questionDal,&lt;br/&gt;Â Â Â Â Â Â QuestionModelDal:Â questionModelDal,&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectServiceÂ structÂ {&lt;br/&gt;Â Â Â ProjectDalÂ Â Â Â Â Â Â *dal.ProjectDal&lt;br/&gt;Â Â Â QuestionDalÂ Â Â Â Â Â *dal.QuestionDal&lt;br/&gt;Â Â Â QuestionModelDalÂ *dal.QuestionModelDal&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (sÂ *ProjectService)Â Create(ctxÂ context.Context,Â projectBoÂ *bo.ProjectCreateBo)Â (int64,Â error)Â {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;handler ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewProjectHandler(srvÂ *service.ProjectService)Â *ProjectHandler{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;ProjectHandler{&lt;br/&gt;Â Â Â Â Â Â Â Â ProjectService:Â srv&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectHandlerÂ structÂ {&lt;br/&gt;Â Â Â ProjectServiceÂ *service.ProjectService&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (sÂ *ProjectHandler)Â CreateProject(ctxÂ context.Context,Â reqÂ *project.CreateProjectRequest)Â (respÂ *&lt;br/&gt;project.CreateProjectResponse,Â errÂ error)Â {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;injector.go ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewInjector()(handlerÂ *handler.ProjectHandler)Â *Injector{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;Injector{&lt;br/&gt;Â Â Â Â Â Â Â Â ProjectHandler:Â handler&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â InjectorÂ structÂ {&lt;br/&gt;Â Â Â ProjectHandlerÂ *handler.ProjectHandler&lt;br/&gt;Â Â Â //Â componentsï¼Œothers...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ wire.go ä¸­å¦‚ä¸‹å®šä¹‰ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â +buildÂ wireinject&lt;br/&gt;&lt;br/&gt;packageÂ app&lt;br/&gt;&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â error)Â {&lt;br/&gt;Â Â Â wire.Build(&lt;br/&gt;Â Â Â Â Â Â NewInjector,&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â //Â handler&lt;br/&gt;Â Â Â Â Â Â handler.NewProjectHandler,&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â //Â services&lt;br/&gt;Â Â Â Â Â Â service.NewProjectService,&lt;br/&gt;Â Â Â Â Â Â //Â æ›´å¤šservice...&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â //dal&lt;br/&gt;Â Â Â Â Â Â dal.NewProjectDal,&lt;br/&gt;Â Â Â Â Â Â dal.NewQuestionDal,&lt;br/&gt;Â Â Â Â Â Â dal.NewQuestionModelDal,&lt;br/&gt;Â Â Â Â Â Â //Â æ›´å¤šdal...&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â //Â db&lt;br/&gt;Â Â Â Â Â Â common.InitGormDB,&lt;br/&gt;Â Â Â Â Â Â //Â otherÂ components...&lt;br/&gt;Â Â Â )&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â new(Injector),Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§è¡ŒÂ &lt;code&gt;wire gen ./internal/app/wire.go&lt;/code&gt;Â ç”Ÿæˆ wire_gen.go&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â CodeÂ generatedÂ byÂ Wire.Â DOÂ NOTÂ EDIT.&lt;br/&gt;&lt;br/&gt;//go:generateÂ wire&lt;br/&gt;//+buildÂ !wireinject&lt;br/&gt;&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â error)Â {&lt;br/&gt;Â Â Â db,Â errÂ :=Â common.InitGormDB()&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â errÂ !=Â nilÂ {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â nil,Â err&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;br/&gt;Â Â Â projectDalÂ :=Â dal.NewProjectDal(db)&lt;br/&gt;Â Â Â questionDalÂ :=Â dal.NewQuestionDal(db)&lt;br/&gt;Â Â Â questionModelDalÂ :=Â dal.NewQuestionModelDal(db)&lt;br/&gt;Â Â Â projectServiceÂ :=Â service.NewProjectService(projectDal,Â questionDal,Â questionModelDal)&lt;br/&gt;Â Â Â projectHandlerÂ :=Â handler.NewProjectHandler(projectService)&lt;br/&gt;Â Â Â injectorÂ :=Â NewInjector(projectHandler)&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â injector,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ main.go ä¸­åŠ å…¥åˆå§‹åŒ– injector çš„æ–¹æ³•Â &lt;code&gt;app.BuildInjector&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;injector,Â errÂ :=Â BuildInjector()&lt;br/&gt;&lt;span&gt;if&lt;/span&gt;Â errÂ !=Â nilÂ {&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â nil,Â err&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//projectæœåŠ¡å¯åŠ¨&lt;br/&gt;svrÂ :=Â projectservice.NewServer(injector.ProjectHandler,Â logOpt)&lt;br/&gt;svr.Run()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ³¨æ„ï¼Œå¦‚æœä½ è¿è¡Œæ—¶ï¼Œå‡ºç°äº†Â &lt;code&gt;BuildInjector&lt;/code&gt;Â é‡å®šä¹‰ï¼Œé‚£ä¹ˆæ£€æŸ¥ä¸€ä¸‹ä½ çš„Â &lt;code&gt;//+build wireinject&lt;/code&gt;Â ä¸Â &lt;code&gt;package app&lt;/code&gt;Â è¿™ä¸¤è¡Œä¹‹é—´æ˜¯å¦æœ‰ç©ºè¡Œï¼Œè¿™ä¸ªç©ºè¡Œå¿…é¡»è¦æœ‰ï¼è§https://github.com/google/wire/issues/117&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.2 é«˜çº§ç‰¹æ€§&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.2.1 NewSet&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;NewSet&lt;/code&gt;Â ä¸€èˆ¬åº”ç”¨åœ¨åˆå§‹åŒ–å¯¹è±¡æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå‡å°‘Â &lt;code&gt;Injector&lt;/code&gt;Â é‡Œé¢çš„ä¿¡æ¯ã€‚å½“æˆ‘ä»¬é¡¹ç›®åºå¤§åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œå¯ä»¥æƒ³è±¡ä¼šå‡ºç°éå¸¸å¤šçš„ Providersã€‚&lt;code&gt;NewSet&lt;/code&gt;Â å¸®æˆ‘ä»¬æŠŠè¿™äº› Providers æŒ‰ç…§ä¸šåŠ¡å…³ç³»è¿›è¡Œåˆ†ç»„ï¼Œç»„æˆÂ &lt;code&gt;ProviderSet&lt;/code&gt;ï¼ˆæ„é€ å™¨é›†åˆï¼‰ï¼Œåç»­åªéœ€è¦ä½¿ç”¨è¿™ä¸ªé›†åˆå³å¯ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â project.go&lt;br/&gt;varÂ ProjectSetÂ =Â wire.NewSet(NewProjectHandler,Â NewProjectService,Â NewProjectDal)&lt;br/&gt;&lt;br/&gt;//Â wire.go&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â error)Â {&lt;br/&gt;Â Â Â wire.Build(InitGormDB,Â ProjectSet,Â NewInjector)&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â new(Injector),Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.2.2 Struct&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šè¿°ä¾‹å­çš„Â &lt;code&gt;Provider&lt;/code&gt;Â éƒ½æ˜¯å‡½æ•°ï¼Œé™¤å‡½æ•°å¤–ï¼Œç»“æ„ä½“ä¹Ÿå¯ä»¥å……å½“Â &lt;code&gt;Provider&lt;/code&gt;Â çš„è§’è‰²ã€‚&lt;code&gt;Wire&lt;/code&gt;Â ç»™æˆ‘ä»¬æä¾›äº†&lt;strong&gt;ç»“æ„æ„é€ å™¨&lt;/strong&gt;ï¼ˆStruct Providerï¼‰ã€‚ç»“æ„æ„é€ å™¨åˆ›å»ºæŸä¸ªç±»å‹çš„ç»“æ„ï¼Œç„¶åç”¨å‚æ•°æˆ–è°ƒç”¨å…¶å®ƒæ„é€ å™¨å¡«å……å®ƒçš„å­—æ®µã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â project_service.go&lt;br/&gt;//Â å‡½æ•°provider&lt;br/&gt;funcÂ NewProjectService(projectDalÂ *dal.ProjectDal,Â questionDalÂ *dal.QuestionDal,Â questionModelDalÂ *dal.QuestionModelDal)Â *ProjectServiceÂ {&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â &amp;amp;projectService{&lt;br/&gt;Â Â Â Â Â Â ProjectDal:Â Â Â Â Â Â Â projectDal,&lt;br/&gt;Â Â Â Â Â Â QuestionDal:Â Â Â Â Â Â questionDal,&lt;br/&gt;Â Â Â Â Â Â QuestionModelDal:Â questionModelDal,&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â ç­‰ä»·äº&lt;br/&gt;wire.Struct(new(ProjectService),Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;)Â //Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;ä»£è¡¨å…¨éƒ¨å­—æ®µæ³¨å…¥&lt;br/&gt;&lt;br/&gt;//Â ä¹Ÿç­‰ä»·äº&lt;br/&gt;wire.Struct(new(ProjectService),Â &lt;span&gt;&quot;ProjectDal&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;QuestionDal&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;QuestionModelDal&quot;&lt;/span&gt;)&lt;br/&gt;&lt;br/&gt;//Â å¦‚æœä¸ªåˆ«å±æ€§ä¸æƒ³è¢«æ³¨å…¥ï¼Œé‚£ä¹ˆå¯ä»¥ä¿®æ”¹Â structÂ å®šä¹‰:&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â AppÂ structÂ {&lt;br/&gt;Â Â Â Â FooÂ *Foo&lt;br/&gt;Â Â Â Â BarÂ *Bar&lt;br/&gt;Â Â Â Â NoInjectÂ intÂ `wire:&lt;span&gt;&quot;-&quot;&lt;/span&gt;`&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.2.3 Bind&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Bind&lt;/code&gt;Â å‡½æ•°çš„ä½œç”¨æ˜¯ä¸ºäº†è®©æ¥å£ç±»å‹çš„ä¾èµ–å‚ä¸Â &lt;code&gt;Wire&lt;/code&gt;Â çš„æ„å»ºã€‚&lt;code&gt;Wire&lt;/code&gt;Â çš„æ„å»ºä¾é å‚æ•°ç±»å‹ï¼Œæ¥å£ç±»å‹æ˜¯ä¸æ”¯æŒçš„ã€‚&lt;code&gt;Bind&lt;/code&gt;Â å‡½æ•°é€šè¿‡å°†æ¥å£ç±»å‹å’Œå®ç°ç±»å‹ç»‘å®šï¼Œæ¥è¾¾åˆ°ä¾èµ–æ³¨å…¥çš„ç›®çš„ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â project_dal.go&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â IProjectDalÂ interfaceÂ {&lt;br/&gt;Â Â Â Create(ctxÂ context.Context,Â itemÂ *entity.Project)Â (errÂ error)&lt;br/&gt;Â Â Â //Â ...&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectDalÂ structÂ {&lt;br/&gt;Â Â Â DBÂ *gorm.DB&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;varÂ &lt;span&gt;bind&lt;/span&gt;Â =Â wire.Bind(new(IProjectDal),Â new(*ProjectDal))&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.2.4 CleanUp&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„é€ å™¨å¯ä»¥æä¾›ä¸€ä¸ªæ¸…ç†å‡½æ•°(cleanup)ï¼Œå¦‚æœåç»­çš„æ„é€ å™¨è¿”å›å¤±è´¥ï¼Œå‰é¢æ„é€ å™¨è¿”å›çš„æ¸…ç†å‡½æ•°éƒ½ä¼šè°ƒç”¨ã€‚åˆå§‹åŒ–Â &lt;code&gt;Injector&lt;/code&gt;Â ä¹‹åå¯ä»¥è·å–åˆ°è¿™ä¸ªæ¸…ç†å‡½æ•°ï¼Œæ¸…ç†å‡½æ•°å…¸å‹çš„åº”ç”¨åœºæ™¯æ˜¯æ–‡ä»¶èµ„æºå’Œç½‘ç»œè¿æ¥èµ„æºã€‚æ¸…ç†å‡½æ•°é€šå¸¸ä½œä¸ºç¬¬äºŒè¿”å›å€¼ï¼Œå‚æ•°ç±»å‹ä¸ºÂ &lt;code&gt;func()&lt;/code&gt;ã€‚å½“Â &lt;code&gt;Provider&lt;/code&gt;Â ä¸­çš„ä»»ä½•ä¸€ä¸ªæ‹¥æœ‰æ¸…ç†å‡½æ•°ï¼Œ&lt;code&gt;Injector&lt;/code&gt;Â çš„å‡½æ•°è¿”å›å€¼ä¸­ä¹Ÿå¿…é¡»åŒ…å«è¯¥å‡½æ•°ã€‚å¹¶ä¸”Â &lt;code&gt;Wire&lt;/code&gt;Â å¯¹Â &lt;code&gt;Provider&lt;/code&gt;Â çš„è¿”å›å€¼ä¸ªæ•°åŠé¡ºåºæœ‰ä»¥ä¸‹é™åˆ¶ï¼š&lt;/p&gt;&lt;ol start=&quot;4&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;ç¬¬ä¸€ä¸ªè¿”å›å€¼æ˜¯éœ€è¦ç”Ÿæˆçš„å¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœæœ‰ 2 ä¸ªè¿”å›å€¼ï¼Œç¬¬äºŒä¸ªè¿”å›å€¼å¿…é¡»æ˜¯ func() æˆ– error&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¦‚æœæœ‰ 3 ä¸ªè¿”å›å€¼ï¼Œç¬¬äºŒä¸ªè¿”å›å€¼å¿…é¡»æ˜¯ func()ï¼Œè€Œç¬¬ä¸‰ä¸ªè¿”å›å€¼å¿…é¡»æ˜¯ error&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â db.go&lt;br/&gt;funcÂ InitGormDB()(*gorm.DB,Â func(),Â error)Â {&lt;br/&gt;Â Â Â Â //Â åˆå§‹åŒ–dbé“¾æ¥&lt;br/&gt;Â Â Â Â //Â ...&lt;br/&gt;Â Â Â Â cleanFuncÂ :=Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â db.Close()&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â db,Â cleanFunc,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â wire.go&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â func(),Â error)Â {&lt;br/&gt;Â Â Â wire.Build(&lt;br/&gt;Â Â Â Â Â Â common.InitGormDB,&lt;br/&gt;Â Â Â Â Â Â //Â ...&lt;br/&gt;Â Â Â Â Â Â NewInjector&lt;br/&gt;Â Â Â )&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â new(Injector),Â nil,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â ç”Ÿæˆçš„wire_gen.go&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â func(),Â error)Â {&lt;br/&gt;Â Â Â db,Â cleanup,Â errÂ :=Â common.InitGormDB()&lt;br/&gt;Â Â Â //Â ...&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â injector,Â &lt;span&gt;&lt;span&gt;func&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â //Â æ‰€æœ‰providerçš„æ¸…ç†å‡½æ•°éƒ½ä¼šåœ¨è¿™é‡Œ&lt;br/&gt;Â Â Â Â Â Â Â cleanup()&lt;br/&gt;Â Â Â },Â nil&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â main.go&lt;br/&gt;injector,Â cleanFunc,Â errÂ :=Â app.BuildInjector()&lt;br/&gt;deferÂ cleanFunc()&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ›´å¤šç”¨æ³•å…·ä½“å¯ä»¥å‚è€ƒ wireå®˜æ–¹æŒ‡å—ï¼šhttps://github.com/google/wire/blob/main/docs/guide.md&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;4.3 é«˜é˜¶ä½¿ç”¨&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ç€æˆ‘ä»¬å°±ç”¨ä¸Šè¿°çš„è¿™äº›Â &lt;code&gt;wire&lt;/code&gt;Â é«˜çº§ç‰¹æ€§å¯¹Â &lt;code&gt;project&lt;/code&gt;Â æœåŠ¡è¿›è¡Œä»£ç æ”¹é€ ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;project_dal.go&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â IProjectDalÂ interfaceÂ {&lt;br/&gt;Â Â Â Create(ctxÂ context.Context,Â itemÂ *entity.Project)Â (errÂ error)&lt;br/&gt;Â Â Â //Â ...&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectDalÂ structÂ {&lt;br/&gt;Â Â Â DBÂ *gorm.DB&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;//Â wire.Structæ–¹æ³•æ˜¯wireæä¾›çš„æ„é€ å™¨ï¼Œ&lt;span&gt;&quot;*&quot;&lt;/span&gt;ä»£è¡¨ä¸ºæ‰€æœ‰å­—æ®µæ³¨å…¥å€¼ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç”¨&lt;span&gt;&quot;DB&quot;&lt;/span&gt;ä»£æ›¿&lt;br/&gt;//Â wire.Bindæ–¹æ³•æŠŠæ¥å£å’Œå®ç°ç»‘å®šèµ·æ¥&lt;br/&gt;varÂ ProjectSetÂ =Â wire.NewSet(&lt;br/&gt;Â Â Â wire.Struct(new(ProjectDal),Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â wire.Bind(new(IProjectDal),Â new(*ProjectDal)))&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;funcÂ (dalÂ *ProjectDal)Â Create(ctxÂ context.Context,Â itemÂ *entity.Project)Â errorÂ {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre data-wrap=&quot;false&quot;&gt;&lt;span&gt;dal.go&lt;/span&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â DalSetÂ dalæ³¨å…¥&lt;br/&gt;varÂ DalSetÂ =Â wire.NewSet(&lt;br/&gt;Â Â Â ProjectSet,&lt;br/&gt;Â Â Â //Â QuestionDalSetã€QuestionModelDalSet...&lt;br/&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;project_service.go&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â IProjectServiceÂ interfaceÂ {&lt;br/&gt;Â Â Â Create(ctxÂ context.Context,Â projectBoÂ *bo.CreateProjectBo)Â (int64,Â error)&lt;br/&gt;Â Â Â //Â ...&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectServiceÂ structÂ {&lt;br/&gt;Â Â Â ProjectDalÂ Â Â Â Â Â Â dal.IProjectDal&lt;br/&gt;Â Â Â QuestionDalÂ Â Â Â Â Â dal.IQuestionDal&lt;br/&gt;Â Â Â QuestionModelDalÂ dal.IQuestionModelDal&lt;br/&gt;&lt;br/&gt;}&lt;br/&gt;funcÂ (sÂ *ProjectService)Â Create(ctxÂ context.Context,Â projectBoÂ *bo.ProjectCreateBo)Â (int64,Â error)Â {}&lt;br/&gt;&lt;br/&gt;varÂ ProjectSetÂ =Â wire.NewSet(&lt;br/&gt;Â Â Â wire.Struct(new(ProjectService),Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;),&lt;br/&gt;Â Â Â wire.Bind(new(IProjectService),Â new(*ProjectService)))&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;service.go&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â ServiceSetÂ serviceæ³¨å…¥&lt;br/&gt;varÂ ServiceSetÂ =Â wire.NewSet(&lt;br/&gt;Â Â Â ProjectSet,&lt;br/&gt;Â Â Â //Â otherÂ serviceÂ &lt;span&gt;set&lt;/span&gt;...&lt;br/&gt;)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;handler ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;varÂ ProjectHandlerSetÂ =Â wire.NewSet(wire.Struct(new(ProjectHandler),Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â ProjectHandlerÂ structÂ {&lt;br/&gt;Â Â Â ProjectServiceÂ service.IProjectService&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;funcÂ (sÂ *ProjectHandler)Â CreateProject(ctxÂ context.Context,Â reqÂ *project.CreateProjectRequest)Â (respÂ *&lt;br/&gt;project.CreateProjectResponse,Â errÂ error)Â {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;injector.go ä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;varÂ InjectorSetÂ =Â wire.NewSet(wire.Struct(new(Injector),Â &lt;span&gt;&quot;*&quot;&lt;/span&gt;))&lt;br/&gt;&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â InjectorÂ structÂ {&lt;br/&gt;Â Â Â ProjectHandlerÂ *handler.ProjectHandler&lt;br/&gt;Â Â Â //Â others...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;wire.go&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â //Â +buildÂ wireinject&lt;br/&gt;&lt;br/&gt;packageÂ app&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;funcÂ BuildInjector()Â (*Injector,Â func(),Â error)Â {&lt;br/&gt;Â Â Â wire.Build(&lt;br/&gt;Â Â Â Â Â Â //Â db&lt;br/&gt;Â Â Â Â Â Â common.InitGormDB,&lt;br/&gt;Â Â Â Â Â Â //Â dal&lt;br/&gt;Â Â Â Â Â Â dal.DalSet,&lt;br/&gt;Â Â Â Â Â Â //Â services&lt;br/&gt;Â Â Â Â Â Â service.ServiceSet,&lt;br/&gt;Â Â Â Â Â Â //Â handler&lt;br/&gt;Â Â Â Â Â Â handler.ProjectHandlerSet,&lt;br/&gt;Â Â Â Â Â Â //Â injector&lt;br/&gt;Â Â Â Â Â Â InjectorSet,&lt;br/&gt;Â Â Â Â Â Â //Â otherÂ components...&lt;br/&gt;Â Â Â )&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â new(Injector),Â nil,Â nil&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5. æ³¨æ„äº‹é¡¹&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;5.1 ç›¸åŒç±»å‹é—®é¢˜&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;wire ä¸å…è®¸ä¸åŒçš„æ³¨å…¥å¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„ç±»å‹ã€‚google å®˜æ–¹è®¤ä¸ºè¿™ç§æƒ…å†µï¼Œæ˜¯è®¾è®¡ä¸Šçš„ç¼ºé™·ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ç±»å‹åˆ«åæ¥å°†å¯¹è±¡çš„ç±»å‹è¿›è¡ŒåŒºåˆ†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾‹å¦‚æœåŠ¡ä¼šåŒæ—¶æ“ä½œä¸¤ä¸ª Redis å®ä¾‹ï¼ŒRedisA &amp;amp; RedisB&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;funcÂ NewRedisA()Â *goredis.ClientÂ {...}&lt;br/&gt;funcÂ NewRedisB()Â *goredis.ClientÂ {...}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºè¿™ç§æƒ…å†µï¼Œwire æ— æ³•æ¨å¯¼ä¾èµ–çš„å…³ç³»ã€‚å¯ä»¥è¿™æ ·è¿›è¡Œå®ç°ï¼š&lt;/p&gt;&lt;pre data-wrap=&quot;false&quot;&gt;&lt;code&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;type&lt;/span&gt;Â RedisCliAÂ *goredis.Client&lt;br/&gt;&lt;span&gt;type&lt;/span&gt;Â RedisCliBÂ *goredis.Client&lt;br/&gt;&lt;br/&gt;funcÂ NewRedisA()Â RedicCliAÂ {...}&lt;br/&gt;funcÂ NewRedisB()Â RedicCliBÂ {...}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;5.2 å•ä¾‹é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾èµ–æ³¨å…¥çš„æœ¬è´¨æ˜¯ç”¨å•ä¾‹æ¥ç»‘å®šæ¥å£å’Œå®ç°æ¥å£å¯¹è±¡é—´çš„æ˜ å°„å…³ç³»ã€‚è€Œé€šå¸¸å®è·µä¸­ä¸å¯é¿å…çš„æœ‰äº›å¯¹è±¡æ˜¯æœ‰çŠ¶æ€çš„ï¼ŒåŒä¸€ç±»å‹çš„å¯¹è±¡æ€»æ˜¯è¦åœ¨ä¸åŒçš„ç”¨ä¾‹åœºæ™¯å‘ç”Ÿå˜åŒ–ï¼Œå•ä¾‹å°±ä¼šå¼•èµ·æ•°æ®çš„é”™è¯¯ï¼Œä¸èƒ½ä¿å­˜å½¼æ­¤çš„çŠ¶æ€ã€‚é’ˆå¯¹è¿™ç§åœºæ™¯æˆ‘ä»¬é€šå¸¸è®¾è®¡å¤šå±‚çš„ DI å®¹å™¨æ¥å®ç°å•ä¾‹éš”ç¦»ï¼Œäº¦æˆ–æ˜¯è„±ç¦» DI å®¹å™¨è‡ªè¡Œç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;6. ç»“è¯­&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Wire æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ä¾èµ–æ³¨å…¥å·¥å…·ã€‚ä¸ Inject ã€Dig ç­‰ä¸åŒçš„æ˜¯ï¼ŒWireåªç”Ÿæˆä»£ç è€Œä¸æ˜¯ä½¿ç”¨åå°„åœ¨è¿è¡Œæ—¶æ³¨å…¥ï¼Œä¸ç”¨æ‹…å¿ƒä¼šæœ‰æ€§èƒ½æŸè€—ã€‚é¡¹ç›®å·¥ç¨‹åŒ–è¿‡ç¨‹ä¸­ï¼ŒWire å¯ä»¥å¾ˆå¥½ååŠ©æˆ‘ä»¬å®Œæˆå¤æ‚å¯¹è±¡çš„æ„å»ºç»„è£…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ›´å¤šå…³äº Wire çš„ä»‹ç»è¯·ä¼ é€è‡³ï¼šhttps://github.com/google/wire&lt;/p&gt;&lt;/section&gt;&lt;p&gt;7. å…³äºæˆ‘ä»¬&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬æ¥è‡ªå­—èŠ‚è·³åŠ¨é£ä¹¦å•†ä¸šåº”ç”¨ç ”å‘éƒ¨ï¼ˆLark Business Applicationsï¼‰ï¼Œç›®å‰æˆ‘ä»¬åœ¨åŒ—äº¬ã€æ·±åœ³ã€ä¸Šæµ·ã€æ­¦æ±‰ã€æ­å·ã€æˆéƒ½ã€å¹¿å·ã€ä¸‰äºšéƒ½è®¾ç«‹äº†åŠå…¬åŒºåŸŸã€‚æˆ‘ä»¬å…³æ³¨çš„äº§å“é¢†åŸŸä¸»è¦åœ¨ä¼ä¸šç»éªŒç®¡ç†è½¯ä»¶ä¸Šï¼ŒåŒ…æ‹¬é£ä¹¦ OKRã€é£ä¹¦ç»©æ•ˆã€é£ä¹¦æ‹›è˜ã€é£ä¹¦äººäº‹ç­‰ HCM é¢†åŸŸç³»ç»Ÿï¼Œä¹ŸåŒ…æ‹¬é£ä¹¦å®¡æ‰¹ã€OAã€æ³•åŠ¡ã€è´¢åŠ¡ã€é‡‡è´­ã€å·®æ—…ä¸æŠ¥é”€ç­‰ç³»ç»Ÿã€‚&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>