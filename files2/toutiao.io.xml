<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>9a9b3cb7a7dfb532a3fec121cf6e6bd7</guid>
<title>ä¸€æ–‡ææ‡‚å‰ç«¯å…¼å®¹é—®é¢˜</title>
<link>https://toutiao.io/k/plsx3t3</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5274151436031331&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/8MK8X2XQgu4C6KSk9OcJMIt6vbm4cQ0mzricSSj51xbyHo5ULFolCf03nylYpkxc0TD1kzDgkkrn0ZTm8mNtgWA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1915&quot;/&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ğŸ“Œ&lt;/span&gt;&lt;p&gt;å¦‚æœä½ å–œæ¬¢æˆ‘å†™çš„æ–‡ç« ï¼Œå¯ä»¥æŠŠæˆ‘çš„å…¬ä¼—å·è®¾ä¸º&lt;strong&gt;æ˜Ÿæ ‡ ğŸŒŸ&lt;/strong&gt;ï¼Œè¿™æ ·æ¯æ¬¡æœ‰æ›´æ–°å°±å¯ä»¥åŠæ—¶æ¨é€ç»™ä½ å•¦&lt;/p&gt;&lt;/blockquote&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºå¤§éƒ¨åˆ†å¼€å‘è€…æ¥è¯´ï¼Œç‰ˆæœ¬å…¼å®¹æ˜¯ä¸€ä»¶å­˜åœ¨æ„Ÿå¾ˆä½çš„äº‹æƒ…ï¼Œå› ä¸ºå®ƒåœ¨ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯ä¸€è¡Œé…ç½®ï¼Œåœ¨ä¸€äº›å‰ç«¯å·¥å…·é“¾ï¼ˆä¾‹å¦‚ Babelã€CoreJSï¼ŒAutoprefixer ç­‰å·¥å…·ï¼‰çš„å¸®åŠ©ä¸‹é€‚é…åˆ°ç›®æ ‡æµè§ˆå™¨ï¼Œåªä¼šåœ¨ä¸€äº›å¤§çš„ break change äº‹ä»¶ï¼ˆä¾‹å¦‚ Vue3 å¿…é¡»åœ¨æ”¯æŒ Proxy çš„ç°ä»£æµè§ˆå™¨ä¸‹æ‰èƒ½è¿è¡Œï¼‰ä¸‹æ‰ä¼šå…³æ³¨è¿™ä»¶ä¸èµ·çœ¼çš„äº‹æƒ…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å½“ä½ ç¨å¾®ç ”ç©¶ä¸€ä¸‹çš„æ—¶å€™ï¼Œæ‰ä¼šå‘ç°è¿™å—å„¿å†…å®¹çŸ¥è¯†éå¸¸æ‚ï¼Œå› ä¸ºç‰ˆæœ¬å…¼å®¹çš„ç›¸å…³çŸ¥è¯†æ²¡æœ‰é‚£ä¹ˆå¤šå†…åœ¨é€»è¾‘æ€§ï¼Œå¾ˆå¤šç»†ç¢çš„çŸ¥è¯†ç‚¹æ•£è½åœ¨åœ¨å„ä¸ªå•†ä¸šå…¬å¸çš„åšå¼ˆå’Œç‰ˆæœ¬å˜æ›´ä¸­ã€‚å‰æ®µæ—¶é—´å› å·¥ä½œéœ€è¦å¯¹éƒ¨åˆ†è¯­è¨€/æµè§ˆå™¨ç‰¹æ€§é‡ç‚¹å…³æ³¨äº†ä¸€ä¸‹ï¼Œä»¥æ­¤æ–‡åšä¸€ä¸‹è®°å½•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ä¸»è¦è®°å½•äº†ç§»åŠ¨ç«¯çš„ç‰ˆæœ¬é€‚é…é—®é¢˜ï¼Œæœªå¯¹æ¡Œé¢ç«¯åšæ›´å¤šçš„ç ”ç©¶ï¼Œåé¢æœ‰å¯èƒ½è¡¥å……ç›¸å…³å†…å®¹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1.iOS &amp;amp; Safari&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;iOS å’Œ Android è™½ç„¶éƒ½æ˜¯ä¸€å¹´æ›´æ–°ä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼Œä½†å—ç›Šäºç”Ÿæ€çš„å°é—­æ€§ï¼ŒiOS çš„æ›´æ–°ç‡&lt;strong&gt;æé«˜&lt;/strong&gt;ï¼ŒåŸºæœ¬ä¸Šæœ€è¿‘çš„ä¸¤ä¸ªç‰ˆæœ¬å°±èƒ½è¦†ç›– 95% ä»¥ä¸Šçš„äººç¾¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾‹å¦‚ &lt;span&gt;Apple å®˜æ–¹ç»Ÿè®¡&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ï¼Œæˆªæ­¢åˆ° 2022-05-31ï¼ŒApple å››å¹´å†…æ¨å‡ºçš„æ–°æœºå‹ä¸­ï¼Œ&lt;code&gt;iOS 15&lt;/code&gt; å·²ç»æœ‰ 89% çš„è£…æœºç‡ï¼Œ&lt;code&gt;iOS 14&lt;/code&gt; ä¹Ÿæœ‰ 10% çš„è£…æœºç‡ï¼›è€Œåœ¨æ‰€æœ‰å†å²æœºå‹é‡Œï¼Œ&lt;code&gt;iOS 15&lt;/code&gt; å’Œ &lt;code&gt;iOS 14&lt;/code&gt; åŠ èµ·æ¥ä¹Ÿæœ‰ 96% çš„è£…æœºç‡ï¼Œéš”å£ Android éƒ½ç¾¡æ…•å“­äº†ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.419871794871795&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8MK8X2XQgu4C6KSk9OcJMIt6vbm4cQ0mCLUsFIvu4XFeYszICdCVruZwCK36aI69Za3uhJPC6BG3OONS6ITf2A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;624&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆå¦‚æ­¤å…³æ³¨ iOS çš„ç‰ˆæœ¬å·ï¼Ÿ&lt;strong&gt;å› ä¸º iOS ç‰ˆæœ¬åŸºæœ¬ä¸Šå’Œ Safari ç‰ˆæœ¬ä¸€ä¸€å¯¹åº”çš„&lt;/strong&gt;ï¼Œä¾‹å¦‚ &lt;code&gt;iOS 15.6&lt;/code&gt; ä¸Šå®‰è£…ç€ &lt;code&gt;Safari 15.6&lt;/code&gt;ï¼Œ&lt;code&gt;iOS 14.5&lt;/code&gt; ä¸Šå®‰è£…ç€ &lt;code&gt;Safari 14.1&lt;/code&gt;ï¼Œå…·ä½“çš„æ˜ å°„å…³ç³»å¯è§ &lt;span&gt;MDN çš„æ˜ å°„è¡¨&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;ï¼Œæˆ–è€…å¯ä»¥çœ‹ &lt;span&gt;core-js: SafariToIOS&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬åŸºæœ¬ä¸Šåªè¦æ¯”å¯¹ iOS ç‰ˆæœ¬å·å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæœ‰ä¸€å®š C ç«¯å¼€å‘ç»éªŒçš„å¼€å‘è€…å¯èƒ½è¿˜ä¼šå…³æ³¨ iOS ä¸Šè¿è¡Œçš„æ˜¯ UIWebView è¿˜æ˜¯ WKWebViewï¼Œåœ¨ 2022 å¹´è¿™ä¸ªæ—¶é—´ç‚¹å…¶å®å·²ç»ä¸éœ€è¦å…³æ³¨äº†ï¼Œå› ä¸º Apple Store å·²ç»å‘è¿‡&lt;span&gt;å…¬å‘Š&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt;ï¼Œ2020 12 æœˆä¹‹åå·²ç»ç¦æ­¢å« UIWebView çš„ APP ä¸Šæ¶äº†ï¼Œæ‰€ä»¥ iOS å¹³å°åªæœ‰ WKWebView è¿™ä¸€ä¸ª WebView äº†ï¼Œè€Œä¸”å®ƒ&lt;span&gt;å…¼å®¹æ€§ä¹Ÿä¸é”™&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt;ï¼Œæœ€ä½æ”¯æŒåˆ° &lt;code&gt;iOS 8&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2.Android &amp;amp; Chrome&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´å®Œ iOS æˆ‘ä»¬å†è°ˆè°ˆ Androidã€‚å› ä¸ºä¸¤ä¸ªæ“ä½œç³»ç»Ÿçš„å‘å±•ç­–ç•¥ä¸åŒï¼Œå†åŠ ä¸Šå›½å†…å„å¤§å‚å•†çš„é­”æ”¹ï¼ŒAndroid ä»ä¸€å¼€å§‹å°±æ·±é™·ç¢ç‰‡åŒ–çš„æ·±æ¸Šï¼Œæœ‰ Android å¼€å‘ç»å†çš„åŒå­¦ä¸€å®šéƒ½æ·±æœ‰æ„Ÿè§¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Android ç³»ç»Ÿæœ¬èº«ç¢ç‰‡åŒ–ï¼ŒAndroid ç³»ç»Ÿè‡ªå¸¦çš„æµè§ˆå™¨&lt;strong&gt;æ›´ç¢ç‰‡åŒ–&lt;/strong&gt;ã€‚åœ¨ Android æ—©æœŸï¼ŒAndroid ç‰ˆæœ¬å’Œ Chrome æµè§ˆå™¨ç‰ˆæœ¬æ˜¯æœ‰ç»‘å®šå…³ç³»çš„ï¼Œé‚£è¿™ä¸ªæ—©æœŸæ˜¯æœ‰å¤šæ—©ï¼Ÿé‚£å°±æ˜¯ &lt;code&gt;Android 4&lt;/code&gt;ï¼Œ2014 å¹´å‘å¸ƒï¼Œç»‘å®šäº† Chrome æ—©æœŸå‡ ä¸ªç‰ˆæœ¬ï¼Œå› ä¸ºæ•°æ®ä¸å¤šï¼Œæˆ‘è¿™é‡Œå°±ç›´æ¥åˆ—å‡ºæ¥ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;//Â https://github.com/zloirock/core-js/blob/master/packages/core-js-compat/src/mapping.mjs&lt;/span&gt;&lt;br/&gt;&lt;span&gt;ChromeToAndroid&lt;/span&gt;:Â [&lt;br/&gt;Â Â [&lt;span&gt;9&lt;/span&gt;,Â &lt;span&gt;&#x27;3.0&#x27;&lt;/span&gt;],&lt;br/&gt;Â Â [&lt;span&gt;12&lt;/span&gt;,Â &lt;span&gt;&#x27;4.0&#x27;&lt;/span&gt;],&lt;br/&gt;Â Â [&lt;span&gt;30&lt;/span&gt;,Â &lt;span&gt;&#x27;4.4&#x27;&lt;/span&gt;],&lt;br/&gt;Â Â [&lt;span&gt;33&lt;/span&gt;,Â &lt;span&gt;&#x27;4.4.3&#x27;&lt;/span&gt;],&lt;br/&gt;]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹æƒ…çš„è½¬æœºå‡ºç°åœ¨ &lt;code&gt;Android 5&lt;/code&gt;ï¼Œ&lt;span&gt;è¿™ä¸ªç‰ˆæœ¬&lt;/span&gt;&lt;sup&gt;[6]&lt;/sup&gt;é‡Œ WebView è¢«ç§»æ¤ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ APKï¼Œå¯ä»¥ç‹¬ç«‹æ›´æ–°ï¼Œä¸å†å’Œ Android ç³»ç»Ÿæ·±åº¦ç»‘å®šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Google çš„æƒ³æ³•åˆè¡·æ˜¯å¥½çš„ï¼Œå€ŸåŠ©äº Google å•†åº—ï¼Œè§£è€¦æ›´åˆ©äºæµè§ˆå™¨çš„ç‰ˆæœ¬è¿­ä»£ã€‚ä½†æ˜¯åœ¨å›½å†…å¤šå‚å•†é­”æ”¹å’Œä¸€äº›ç½‘ç»œé—®é¢˜ä¸Šï¼Œææœ‰å¯èƒ½å‘ç”Ÿè¿™æ ·çš„äº‹æƒ…ï¼šå¯¹äºä¸€å° &lt;code&gt;Android 5&lt;/code&gt; æ‰‹æœºï¼Œç†è®ºä¸Šç”¨æˆ·å¯ä»¥å®‰è£… &lt;code&gt;Chrome 36&lt;/code&gt; - &lt;code&gt;Chrome 95&lt;/code&gt; &lt;strong&gt;ä»»æ„ä¸€ä¸ªç‰ˆæœ¬&lt;/strong&gt;ï¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥å’Œ iOS å¯¹æ¯”èµ·æ¥ï¼ŒAndroid å› ä¸ºä»–çš„å¼€æ”¾æ€§å¸¦æ¥ä¸¥é‡çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼šAndroid ç‰ˆæœ¬å¤šæ ·ï¼ŒChrome ç‰ˆæœ¬å¤šæ ·ï¼Œè¿˜æœ‰å„ç§é­”æ”¹å†…æ ¸ï¼Œå¯¹äºå¼€å‘è€…æ¥è¯´é€‚é…èµ·æ¥çœŸçš„è‹¦ä¸å ªè¨€ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3.Web Browser&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº†è§£å®Œæ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å†å²ï¼Œæˆ‘ä»¬å†çœ‹çœ‹æµè§ˆå™¨ä¸Šæœ€å…³é”®çš„ JavaScript è¯­æ³•å…¼å®¹åº¦ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;JavaScript&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€è¿‘åå¹´å†…ï¼ŒJS è¿™é—¨è¯­è¨€çš„çš„æœ€å¤§å˜é©å°±æ˜¯ ES6ï¼ˆES2015ï¼‰çš„å‘å¸ƒäº†ï¼Œå¸¦æ¥äº†éå¸¸å¤šçš„æ–°ç‰¹æ€§ã€‚ä¸‹é¢æˆ‘æäº†ä¸€ä¸ªè¡¨æ ¼ï¼Œåˆ—å‡ºå‡ ä¸ªå¤§å®¶å¸¸ç”¨çš„ JS è¯­æ³•æ˜¯ä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹æ”¯æŒçš„ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;è¯­æ³•/API&lt;/th&gt;&lt;th&gt;iOS&lt;/th&gt;&lt;th&gt;Chrome&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;Class&lt;/code&gt;&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;=&amp;gt;&lt;/code&gt;&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;45&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;const&lt;/code&gt;&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;let&lt;/code&gt;&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;Proxy&lt;/code&gt;&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;generators&lt;/code&gt;&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;39&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;Promise&lt;/code&gt;&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;33&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;async await&lt;/code&gt;&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;55&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;import&lt;/code&gt; &lt;code&gt;export&lt;/code&gt;&lt;/td&gt;&lt;td&gt;10.3&lt;/td&gt;&lt;td&gt;61&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;...&lt;/td&gt;&lt;td&gt;...&lt;/td&gt;&lt;td&gt;...&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›è¯­æ³•çš„æœ€ä½æ”¯æŒç‰ˆæœ¬é›†ä¸­åœ¨ &lt;code&gt;iOS 10&lt;/code&gt;ã€&lt;code&gt;iOS 11&lt;/code&gt;ï¼Œ&lt;code&gt;Chrome 49&lt;/code&gt;ï¼Œ&lt;code&gt;Chrome 61&lt;/code&gt; è¿™å‡ ä¸ªç‰ˆæœ¬ä¸Šï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬çš„ç‰ˆæœ¬å‘å¸ƒæ—¶é—´åˆ—å‡ºæ¥ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;äº‹ä»¶&lt;/th&gt;&lt;th&gt;å‘å¸ƒæ—¶é—´&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;ES5&lt;/code&gt; æ ‡å‡†å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2009.12&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;ES6&lt;/code&gt; æ ‡å‡†å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2015.06&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;iOS 10&lt;/code&gt; å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2016.06&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;iOS 11&lt;/code&gt; å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2017.06&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;Chrome 49&lt;/code&gt; å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2016.03&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;code&gt;Chrome 61&lt;/code&gt; å‘å¸ƒæ—¶é—´&lt;/td&gt;&lt;td&gt;2017.09&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¶é—´åˆ—å‡ºæ¥åç»“è®ºåŸºæœ¬ä¸Šæ˜¯å‘¼ä¹‹æ¬²å‡ºäº†ï¼š&lt;strong&gt;ES6 æ ‡å‡†å‘å¸ƒåçš„æœªæ¥ä¸€å¹´æ—¶é—´å†…ï¼Œå„å¤§æµè§ˆå™¨è¯­æ³•å°±æ”¯æŒçš„å·®ä¸å¤šäº†ï¼Œä¸¤å¹´ååŸºæœ¬ä¸Šå°±å…¨éƒ¨æ”¯æŒäº†&lt;/strong&gt;ï¼Œ&lt;strong&gt;è¿™ä¸ªæ—¶é—´ç‚¹å°±æ˜¯ 2017 å¹´ï¼Œå¯¹åº”ç€&lt;/strong&gt; &lt;code&gt;iOS 11&lt;/code&gt; &lt;strong&gt;å’Œ&lt;/strong&gt; &lt;code&gt;Chrome 61&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;legacy vs modern&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹å®Œ ES6 çš„æ”¯æŒæƒ…å†µï¼Œæˆ‘ä»¬å†æ¥äº†è§£ä¸¤ä¸ªæ¦‚å¿µï¼Œã€Œç»å…¸æµè§ˆå™¨ã€å’Œã€Œç°ä»£æµè§ˆå™¨ã€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸¤ä¸ªè¯åœ¨è‹±æ–‡é‡Œå¯¹åº”ç€ã€Œlegacy browserã€å’Œã€Œmodern browserã€ã€‚å¦‚æœå¤§å®¶æ¯”è¾ƒå…³æ³¨ä¸€äº›ç›¸å¯¹å‰æ²¿çš„å‰ç«¯é¡¹ç›®ï¼Œæ¯”å¦‚è¯´ Vue3ï¼ŒSolidjsï¼ŒViteï¼Œå®ƒä»¬çš„å®˜ç½‘é‡Œå…¶å®ç»å¸¸æåˆ°è¿™ä¸¤ä¸ªè¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶æœ‰ä¸¤ä¸ªç§°å‘¼ï¼Œé‚£åœ¨å·¥ç¨‹é‡Œå¿…ç„¶å­˜åœ¨ä¸€ä¸ªåˆ†ç•Œçº¿å»åŒºåˆ† legacy å’Œ modernï¼Œ&lt;strong&gt;è¿™ä¸ªåˆ†ç•Œçº¿å°±æ˜¯ &lt;code&gt;iOS10.3&lt;/code&gt; å’Œ &lt;code&gt;Chrome 61&lt;/code&gt;ï¼Œæ—¢æµè§ˆå™¨æ”¯æŒ ES Modules çš„ç‰ˆæœ¬&lt;/strong&gt;ï¼ˆæ”¯æŒ &lt;code&gt;&amp;lt;script type=&quot;module&quot;&amp;gt;&lt;/code&gt; &amp;amp; &lt;code&gt;import&lt;/code&gt; &amp;amp; &lt;code&gt;export&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ä¸€çœ‹æ˜¯ä¸æ˜¯å°±å’Œä¸Šé¢çš„å†…å®¹å¯¹ä¸Šäº†ï¼ŸBabel å®˜ç½‘ä¹Ÿåšäº†ç›¸å…³çš„&lt;span&gt;è§£é‡Š&lt;/span&gt;&lt;sup&gt;[7]&lt;/sup&gt;ï¼Œcore-js ä¹Ÿä¸“é—¨åšäº†&lt;span&gt;åŒºåˆ†&lt;/span&gt;&lt;sup&gt;[8]&lt;/sup&gt;ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»å¯ä»¥çœ‹ MDN çš„æ–‡ç« ï¼š&lt;span&gt;JavaScript modules&lt;/span&gt;&lt;sup&gt;[9]&lt;/sup&gt;ï¼Œæˆ‘å°±ä¸åšå¤šä½™ä»‹ç»äº†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;modern feature&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡ä¸Šé¢çš„æ¢ç´¢ï¼Œæˆ‘ä»¬å†å›è¿‡æ¥çœ‹çœ‹ä¸€äº›æ¯”è¾ƒ modern çš„ browser feature çš„æ”¯æŒç¨‹åº¦ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;browser fature&lt;/th&gt;&lt;th&gt;iOS&lt;/th&gt;&lt;th&gt;Chrome&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Web Worker&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;SubtleCrypto&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;37&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Service Worker&lt;/td&gt;&lt;td&gt;11.3&lt;/td&gt;&lt;td&gt;45&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;WebAssembly&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;57&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;CSS Grid Layout&lt;/td&gt;&lt;td&gt;10.3&lt;/td&gt;&lt;td&gt;58&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;WebGPU&lt;/td&gt;&lt;td&gt;not support&lt;/td&gt;&lt;td&gt;not support&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;...&lt;/td&gt;&lt;td&gt;...&lt;/td&gt;&lt;td&gt;...&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹çœ‹å„ä¸ª API çš„å…¼å®¹åº¦ï¼Œå†ç»“åˆä¸Šæ–‡çš„å†…å®¹ï¼Œå°±å¯ä»¥å‘ç°å¾ˆå¤šã€Œå…¼å®¹æ€§ä¸å¥½ã€äººäº‘äº¦äº‘çš„è¯´æ³•ä¸æ”»è‡ªç ´ï¼Œ&lt;strong&gt;å…¶å®å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸æ˜¯å…¼å®¹åº¦ä¸å¥½ä»è€Œä¸ç”¨ï¼Œæ˜¯é¡¹ç›®è¿˜æ²¡æœ‰å¤æ‚åˆ°é‚£ä¸ªç¨‹åº¦éœ€è¦ç”¨è¿™äº›é«˜çº§åŠŸèƒ½&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4.Open Source Project&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¥å¸¸å¼€å‘ä¸­è‚¯å®šä¸èƒ½å†™ä¸€è¡Œä»£ç æŸ¥ä¸€ä¸‹å…¼å®¹åº¦ï¼Œè¿™äº›éƒ½æ˜¯ç”±ç¤¾åŒºå·¥å…·åšæŠ¹å¹³çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¼å®¹åº¦æ•°æ®æºå¤´å¯ä»¥è¿½è¿°åˆ° MDN çš„ &lt;span&gt;browser-compat-data&lt;/span&gt;&lt;sup&gt;[10]&lt;/sup&gt;ï¼Œè®°å½•äº†å„ç§ API çš„å…¼å®¹ï¼ŒMDN ç½‘ç«™çš„å…¼å®¹åº¦ç›´æ¥æ˜¯ä»è¿™ä¸ª repo é‡Œè¯»çš„ã€‚æˆ‘ä»¬å¸¸ç”¨çš„ &lt;span&gt;caniuse&lt;/span&gt;&lt;sup&gt;[11]&lt;/sup&gt; ç½‘ç«™ï¼Œä¸€éƒ¨åˆ†æ•°æ®ä¹Ÿæ˜¯ä¾èµ–äºå®ƒçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥æ˜¯å·¥ç¨‹ä¸Šä¾èµ–æœ€å¤šçš„ &lt;span&gt;browserslist&lt;/span&gt;&lt;sup&gt;[12]&lt;/sup&gt;ï¼Œbabelã€eslintã€autoprefixerã€postcssï¼Œwebpack ç­‰æ„å»ºå·¥å…·éƒ½ä¾èµ–äºå®ƒï¼Œbrowserslist çš„æ•°æ®åˆä¾èµ–äº &lt;span&gt;caniuse-lite&lt;/span&gt;&lt;sup&gt;[13]&lt;/sup&gt;ï¼Œå…¶å®ä¹Ÿæ˜¯ä¾èµ–äº &lt;span&gt;caniuse&lt;/span&gt;&lt;sup&gt;[14]&lt;/sup&gt;ï¼Œlite åªä¿ç•™äº†æ ¸å¿ƒæ•°æ®ï¼Œå¯¹ä¸€äº›è¯´æ˜æ–‡æ¡ˆåšäº†è£å‰ªå¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»¼åˆä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨é¡¹ç›®å·¥ç¨‹é‡Œä¾èµ–çš„ browserslistï¼Œæ•°æ®å‡†ç¡®æ€§è¿˜æ˜¯å¯ä»¥å¾—åˆ°ä¿è¯çš„ï¼Œæ‰€ä»¥å…¼å®¹æ€§è¿˜æ˜¯æ— éœ€æ‹…å¿ƒçš„ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;5.Adaptation Suggestions&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆæœ‰ä»€ä¹ˆé…ç½®å»ºè®®å‘¢ï¼Ÿæˆ‘ä¸ªäººè®¤ä¸ºä¸»è¦æœ‰ 3 ç‚¹å»ºè®®æä¾›å‚è€ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¬¬ä¸€ä¸ªæ˜¯å‚è€ƒå›½æ°‘çº§ APP çš„æœ€ä½æ”¯æŒåº¦é…ç½®&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å›½å†…ï¼Œåœ¨æ—¥æ´»ä¸Šèƒ½ç§°ä¸ºå›½æ°‘çº§ APP çš„å°±æ˜¯å¾®ä¿¡æŠ–éŸ³äº†ï¼Œè¿™ä¸¤ä¸ª APP å› ä¸ºæ—¥æ´»å·¨å¤§ï¼ŒåŸºæœ¬ä¸Šå·²ç»è¦†ç›–åˆ°å…¨éƒ¨ä¸­å›½äººï¼Œæ‰€ä»¥ä»–ä»¬çš„é…ç½®ä¸€å®šæœ‰æ‰€è€ƒé‡ï¼Œå¯ä»¥ååº”å‡ºå›½å†…çš„æ•´ä½“æ‰‹æœºç‰ˆæœ¬æ°´å¹³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä» App Store/Android åº”ç”¨å•†åº—/æµè§ˆå™¨ UA ä¸Šçœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å¤„ä»¥ä¸‹ç»“è®ºï¼ˆæˆªæ­¢åˆ° 2022-8-8ï¼‰ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;å¾®ä¿¡&lt;/strong&gt;ï¼šæœ€ä½æ”¯æŒåˆ° &lt;code&gt;iOS 12&lt;/code&gt;ã€&lt;code&gt;Android 5&lt;/code&gt;ã€å†…ç½®æµè§ˆå™¨ç‰ˆæœ¬ä¸º &lt;code&gt;Chrome 86&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æŠ–éŸ³&lt;/strong&gt;ï¼šæœ€ä½æ”¯æŒåˆ° &lt;code&gt;iOS 10&lt;/code&gt;ã€&lt;code&gt;Android 5&lt;/code&gt;ã€å†…ç½®æµè§ˆå™¨ç‰ˆæœ¬ä¸º &lt;code&gt;Chrome 75&lt;/code&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ä½ ä¹Ÿå¯ä»¥å‚è€ƒå…¶ä»– APPï¼Œç”±äºç²¾åŠ›æœ‰é™æˆ‘å°±ä¸åšè¿‡å¤šå±•å¼€äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹æ®é¡¹ç›®çš„è¿­ä»£é€Ÿåº¦æ¥çœ‹ï¼ŒiOS åŸºæœ¬ä¸Šå¯ä»¥åšåˆ°ä¸€å¹´ä¸€å‡çº§ï¼Œæ¯”å¦‚è¯´ä»Šå¹´ &lt;code&gt;iOS 16&lt;/code&gt; å‡ºæ¥åï¼Œæ˜å¹´æœ€ä½é€‚é…ç‰ˆæœ¬åŸºæœ¬ä¸Šå¯ä»¥å‡åˆ° &lt;code&gt;iOS 11&lt;/code&gt; äº†ï¼ŒAndroid å› ä¸ºé•¿å°¾æ•ˆåº”å’Œç‰ˆæœ¬ä¸ç»‘å®šçš„é—®é¢˜ï¼Œåº”è¯¥è¿˜ä¼šæ”¯æŒåˆ° &lt;code&gt;Android 5&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¬¬äºŒä¸ªå»ºè®®æ˜¯ç›´æ¥çœ‹å½“å‰ä¸šåŠ¡çš„ç‰ˆæœ¬æ•°æ®&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸åŒçš„å…¬å¸ä¸åŒçš„é¡¹ç›®éƒ½æœ‰ä¸åŒçš„ç”¨æˆ·åœºæ™¯ï¼Œæ¯”å¦‚è¯´é¢å‘ä¸‰å››çº¿ C ç«¯ç”¨æˆ·çš„åœºæ™¯ï¼Œä¸€èˆ¬ä½ç«¯æœºå°±ä¼šå¤šä¸€äº›ï¼›é¢å‘é—¨åº—çš„åœºæ™¯ï¼Œè¯´ä¸å®šè¿˜å¾—é€‚é… IE æµè§ˆå™¨ï¼›é¢å‘ä¼ä¸šå†…çš„å¼€å‘è€…é¡¹ç›®ï¼Œç›´æ¥é€‚é…åˆ°æœ€æ–°å‡ ä¸ªæµè§ˆå™¨å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœºæ™¯å¦‚æ­¤ä¹‹å¤šå°±è¦ä¾èµ–äºç”¨æˆ·ç‰ˆæœ¬æ•°æ®ç»Ÿè®¡äº†ã€‚ä¸€èˆ¬ä¸­å¤§å‚éƒ½æœ‰æ¯”è¾ƒå®Œå–„çš„æ•°æ®ç›‘æ§ä¸­å°ï¼Œç›´æ¥æ‹‰ä¸€ä»½æ•°æ®å°±èƒ½è·å–å¤§è‡´æƒ…å†µï¼ŒåŸºå»ºä¸å®Œå–„çš„å°å…¬å¸ä¹Ÿå¯ä»¥å•ç‹¬å¼€ä¸ªæ¥å£è®°å½•æ•°æ®ï¼Œæ”¶é›†ä¸€ä¸ªæœˆåšä¸ªå»é‡ç»Ÿè®¡ä¹Ÿèƒ½å¾—åˆ°ç›¸å…³æ•°æ®ã€‚æ‹¿åˆ°æ•°æ®åå†ç»“åˆä¸šåŠ¡åœºæ™¯åšäº›&lt;strong&gt;å–èˆ&lt;/strong&gt;ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥æ‹¿åˆ°æœ€ä½é€‚é…äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¬¬ä¸‰ä¸ªå»ºè®®ç»“åˆå‰ç«¯æ¡†æ¶å’Œ Chrome ç‰ˆæœ¬åšå…¼å®¹ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“åˆå‰ç«¯æ¡†æ¶å…¶å®å¾ˆå¥½ç†è§£ï¼Œæ¯”å¦‚è¯´ä½ ç”¨äº† Vue3ï¼Œåº•å±‚ä¾èµ–äº Proxyï¼Œé‚£ä¹ˆæœ€ä½ä¾èµ–å·²ç»é”æ­»åˆ° &lt;code&gt;iOS 10&lt;/code&gt; å’Œ &lt;code&gt;Chrome 49&lt;/code&gt; äº†ï¼Œé‚£ä½ çš„æœ€ä½é…ç½®åªèƒ½æ¯”ä»¥ä¸Šç‰ˆæœ¬é«˜ï¼Œå‡å¦‚ä½ æ— è„‘è®¾ç½®ä¸º &lt;code&gt;iOS 9&lt;/code&gt; æˆ– &lt;code&gt;Android 4&lt;/code&gt;ï¼Œé™¤äº†åœ¨æœ€ä½ç‰ˆæœ¬ä¸Šè·‘ä¸èµ·æ¥ï¼Œè¿˜è¦å¹³ç™½æ— æ•…çš„å¤šäº†è®¸å¤šè¯­æ³•è½¬æ¢å’Œ polyfillï¼Œåœ¨ &lt;strong&gt;æ„å»ºé€Ÿåº¦/è¿è¡Œæ—¶æ€§èƒ½/äº§ç‰©ä½“ç§¯&lt;/strong&gt; ä¸Šéƒ½ä¼šäº§ç”Ÿä¸å¿…è¦çš„åŠ£åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»“åˆ Chrome ç‰ˆæœ¬åšå…¼å®¹å…¶å®å°±æ˜¯æœ¬æ–‡ç¬¬äºŒå¤§èŠ‚çš„å†…å®¹ã€‚å› ä¸º &lt;code&gt;Android 5&lt;/code&gt; ä¹‹åä¸å†å’Œ Chrome åšæ·±åº¦ç»‘å®šï¼Œç‰ˆæœ¬å…¼å®¹è®¾ç½® Android ç‰ˆæœ¬å…¶å®æ˜¯æ— æ„ä¹‰çš„è¡Œä¸ºï¼Œåº”è¯¥æ ¹æ®ç»Ÿè®¡ç»“æœç›´æ¥è®¾ç½® Chrome ç‰ˆæœ¬ï¼Œåšæ›´ç»†ç²’åº¦çš„é…ç½®ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;Refs: Version History&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»¥ä¸Šçš„ç‰ˆæœ¬å†å²å’Œå‘å¸ƒæ—¶é—´ä¸»è¦å‚è€ƒå®˜æ–¹æ›´æ–°æ—¥å¿—/æ–‡æ¡£ å’Œ ç»´åŸºç™¾ç§‘ï¼Œç›¸å…³é“¾æ¥å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;iOS ç‰ˆæœ¬å†å²ï¼š&lt;span&gt;https://en.wikipedia.org/wiki/IOS_version_history&lt;/span&gt;&lt;sup/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Android ç‰ˆæœ¬å†å²ï¼š&lt;span&gt;https://en.wikipedia.org/wiki/Android_version_history&lt;/span&gt;&lt;sup/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Chrome ç‰ˆæœ¬å†å²ï¼š&lt;span&gt;https://en.wikipedia.org/wiki/Google_Chrome_version_history&lt;/span&gt;&lt;sup/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;WKWebView API å…¼å®¹åº¦ï¼š&lt;span&gt;https://developer.apple.com/documentation/webkit/wkwebview&lt;/span&gt;&lt;sup/&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Android Verison å’Œ APILevel çš„å¯¹åº”å…³ç³»ï¼š&lt;span&gt;https://developer.android.com/guide/topics/manifest/uses-sdk-element#ApiLevels&lt;/span&gt;&lt;sup/&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ğŸ“Œ&lt;/span&gt;&lt;p&gt;å¦‚æœä½ å–œæ¬¢æˆ‘çš„æ–‡ç« ï¼Œå¸Œæœ›ç‚¹èµğŸ‘ æ”¶è— ğŸ“ åœ¨çœ‹ ğŸŒŸ ä¸‰è¿æ”¯æŒä¸€ä¸‹ï¼Œè°¢è°¢ä½ ï¼Œè¿™å¯¹æˆ‘çœŸçš„å¾ˆé‡è¦ï¼&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼š&lt;strong&gt;å¤è›‹å®éªŒå®¤&lt;/strong&gt;ï¼Œç›®å‰ä¸“æ³¨å‰ç«¯æŠ€æœ¯ï¼Œå¯¹å›¾å½¢å­¦ä¹Ÿæœ‰ä¸€äº›å¾®å°ç ”ç©¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå¯ä»¥åŠ æˆ‘çš„å¾®ä¿¡ &lt;strong&gt;egg_labs&lt;/strong&gt;ï¼Œæ¬¢è¿å¤§å®¶æ¥æ’©ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9874476987447699&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8MK8X2XQgu4C6KSk9OcJMIt6vbm4cQ0mINJEvt1UEUBBaR1hftktLbw5Wwzu3h0GMACiaNxcY9TWWUEkiaEcSfJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;956&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3055555555555556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/8MK8X2XQgu4C6KSk9OcJMIt6vbm4cQ0mKytNksWwTjQvricVbXuhKSt2Bwt0uBaJSTE4MgZjyQqncmzIzZbthfg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;Apple å®˜æ–¹ç»Ÿè®¡: &lt;em&gt;https://developer.apple.com/support/app-store/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;MDN çš„æ˜ å°„è¡¨: &lt;em&gt;https://github.com/mdn/browser-compat-data/blob/main/browsers/safari_ios.json&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;core-js: SafariToIOS: &lt;em&gt;https://github.com/zloirock/core-js/blob/master/packages/core-js-compat/src/mapping.mjs&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;å…¬å‘Š: &lt;em&gt;https://developer.apple.com/cn/news/?id=edwud51q&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[5]&lt;/span&gt;&lt;p&gt;å…¼å®¹æ€§ä¹Ÿä¸é”™: &lt;em&gt;https://developer.apple.com/documentation/webkit/wkwebview&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[6]&lt;/span&gt;&lt;p&gt;è¿™ä¸ªç‰ˆæœ¬: &lt;em&gt;https://developer.chrome.com/docs/multidevice/webview/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[7]&lt;/span&gt;&lt;p&gt;è§£é‡Š: &lt;em&gt;https://babeljs.io/docs/en/options#targetsesmodules&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[8]&lt;/span&gt;&lt;p&gt;åŒºåˆ†: &lt;em&gt;https://github.com/zloirock/core-js/blob/master/packages/core-js-compat/src/external.mjs&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[9]&lt;/span&gt;&lt;p&gt;JavaScript modules: &lt;em&gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[10]&lt;/span&gt;&lt;p&gt;browser-compat-data: &lt;em&gt;https://github.com/mdn/browser-compat-data&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[11]&lt;/span&gt;&lt;p&gt;caniuse: &lt;em&gt;https://caniuse.com/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[12]&lt;/span&gt;&lt;p&gt;browserslist: &lt;em&gt;https://github.com/browserslist/browserslist&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[13]&lt;/span&gt;&lt;p&gt;caniuse-lite: &lt;em&gt;https://github.com/browserslist/caniuse-lite&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[14]&lt;/span&gt;&lt;p&gt;caniuse: &lt;em&gt;https://github.com/Fyrd/caniuse&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;&lt;em/&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>908331578d291d15308c71af0d396432</guid>
<title>Golang &amp; WASM</title>
<link>https://toutiao.io/k/ms4ut8h</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;post-content&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://unsplash.com/photos/NbgQfUvKFE0&quot;&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./cover.jpg&quot; alt=&quot;Photo by Mark Tegethoff on Unsplash&quot;/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;At the beginning of the year, I was curious about WebAssembly (WASM). &lt;a href=&quot;https://brunoluiz.net/blog/2022/jan/gif-sane-playback-control-ffmpegwasm/&quot;&gt;The result was GIFSane&lt;/a&gt;, but that was not enough: &lt;a href=&quot;https://github.com/ffmpegwasm/ffmpeg.wasm&quot;&gt;FFMpeg.wasm&lt;/a&gt; was already pre-compiled, and I only had to sort out how to use it within an extension. One thing was clear though: WASM shines when we think about complex applications (eg: media manipulation), usually performing better or opening more opportunities than JavaScript.&lt;/p&gt;&lt;p&gt;Iâ€™ve moved houses quite recently. It meant manipulating tons of documents, converting to different formats, resizing etc. Macâ€™s Preview app can handle it, but many might rely on browsers due to the first search results for â€œConvert image format1 format2â€. Seriously, look at these Google results.&lt;/p&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./01-google-search.png&quot; alt=&quot;Google results for &amp;amp;lsquo;convert image&amp;amp;rsquo;&quot;/&gt;&lt;/p&gt;&lt;p&gt;When someone is converting a puppy image from JPG to PDF this might be ok. But after hearing that my family used these sites to convert documents like Passports, I got scared. Most people donâ€™t realise that these files go to a server, and they can be stored for whatever reason and for an indefinite time. â€œIdentity theftâ€ sends its regards ğŸ˜…&lt;/p&gt;&lt;p&gt;What if there was some website to convert images locally, without requiring a server? What if the technology for that already exists? That is when I started developing &lt;a href=&quot;https://imagewand.concordalabs.com/&quot;&gt;ImageWand&lt;/a&gt; (&lt;a href=&quot;https://github.com/brunoluiz/imagewand&quot;&gt;source&lt;/a&gt;).&lt;/p&gt;&lt;h2 id=&quot;converting-your-images-locally-and-privately-imagewand&quot;&gt;Converting your images locally and privately: ImageWand&lt;/h2&gt;&lt;p&gt;ImageWand converts images locally using WASM and Golang. In the future, it could potentially resize and compress images, but I tried to keep it simple by only using standard libraries encoders and decoders (no PDF for now).&lt;/p&gt;&lt;p&gt;It seems that Rust would have been a more solid choice for WASM, but I would have to learn it to develop this project. Rust is famous for its &lt;a href=&quot;https://users.rust-lang.org/t/making-rust-easy-to-learn-and-use/65866/3&quot;&gt;steep learning curve&lt;/a&gt; and, to keep things simple and focused, I went with Golang.&lt;/p&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./02-imagewand.png&quot; alt=&quot;ImageWand main page&quot;/&gt;&lt;/p&gt;&lt;center&gt;&lt;small&gt;Less is more, although I guess the application could benefit from more features ğŸ˜…&lt;/small&gt;&lt;/center&gt;&lt;h2 id=&quot;the-building-experience&quot;&gt;The building experience&lt;/h2&gt;&lt;p&gt;Golang offers some standard libraries for image manipulation (&lt;a href=&quot;https://pkg.go.dev/image&quot;&gt;&lt;code&gt;image&lt;/code&gt; package&lt;/a&gt;). Implementing something to convert A to B wasnâ€™t the hard part. &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/v1.0.0/imagewand.go&quot;&gt;The conversion logic was extracted and re-used&lt;/a&gt; in both CLI and WASM implementations, which is impressive in terms of portability.&lt;/p&gt;&lt;h3 id=&quot;covering-the-basics-interfacing-with-user-input&quot;&gt;Covering the basics: interfacing with user input&lt;/h3&gt;&lt;p&gt;In a CLI, the application can receive user input through flags or arguments. In WASM, things are a bit peculiar as inputs have to come from JavaScript into Golang.&lt;/p&gt;&lt;p&gt;You can instantiate and load the WASM binary for every call, similar to a CLI call, but it would be an expensive operation. The best way is to run it in the background (&lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/v1.0.0/cmd/wasm/main.go#L54&quot;&gt;observe the use of a channel to keep it running&lt;/a&gt;) while developers call it through a JavaScript interface.&lt;/p&gt;&lt;p&gt;In Golang, this is done by &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/v1.0.0/cmd/wasm/main.go#L51-L53&quot;&gt;exposing global JavaScript objects/functions within &lt;code&gt;main()&lt;/code&gt;&lt;/a&gt;. It is not great as it might conflict with other variables and it pollutes the global scope. Other WASM implementations (Rust or TinyGo+WASI) &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Instance/exports&quot;&gt;expose methods by exporting them&lt;/a&gt; in the WASM instance, which is cleaner than relying on global variables.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;main&lt;/span&gt;() {
  &lt;span&gt;fmt&lt;/span&gt;.&lt;span&gt;Println&lt;/span&gt;(&lt;span&gt;&quot;Starting ImageWand ğŸª„&quot;&lt;/span&gt;)

  &lt;span&gt;js&lt;/span&gt;.&lt;span&gt;Global&lt;/span&gt;().&lt;span&gt;Set&lt;/span&gt;(&lt;span&gt;&quot;wand&quot;&lt;/span&gt;, &lt;span&gt;map&lt;/span&gt;[&lt;span&gt;string&lt;/span&gt;]&lt;span&gt;interface&lt;/span&gt;{}{
    &lt;span&gt;&quot;convertFromURL&quot;&lt;/span&gt;: &lt;span&gt;convertFromURL&lt;/span&gt;(),
    &lt;span&gt;&quot;convertFromBlob&quot;&lt;/span&gt;: &lt;span&gt;convertFromBlob&lt;/span&gt;(),
  })
  &lt;span&gt;&amp;lt;-&lt;/span&gt;make(&lt;span&gt;chan&lt;/span&gt; &lt;span&gt;bool&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&quot;interacting-with-javascript-land&quot;&gt;Interacting with â€œJavaScript-landâ€&lt;/h3&gt;&lt;p&gt;To declare and interact with JavaScript in Golang runtime, developers rely on &lt;a href=&quot;https://pkg.go.dev/syscall/js&quot;&gt;&lt;code&gt;syscall/js&lt;/code&gt;&lt;/a&gt;. This package allows the application to create functions, read values from JS objects (DOM and non-DOM) and interface byte arrays with JS values (specifically: &lt;code&gt;UInt8Array&lt;/code&gt;). The only caveat is the following, been present since its release on Golang 1.11.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;This package is EXPERIMENTAL. Its current scope is only to allow tests to run, but not yet to provide a comprehensive API for users. It is exempt from the Go compatibility promise.&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Although it allows all sorts of interactions with JavaScript, in my limited experience with it, I would recommend developers to only use it to interface user inputs between Golang and the JavaScript runtime.&lt;/p&gt;&lt;p&gt;If you want to manipulate DOM or create elaborate objects through Golang, you might be in a world of pain. Not only there are no typing guarantees, but the tooling for those is just not there. ImageWand only uses it to gather user input to call &lt;code&gt;imagewand&lt;/code&gt; conversion functions, essentially a glue between the UI and Golang.&lt;/p&gt;&lt;p&gt;Iâ€™ve &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/main/jasm/wasm.go&quot;&gt;created an internal package (jasm)&lt;/a&gt; with a few helper functions to interface with JavaScript values. &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/main/cmd/wasm/main.go#L20-L48&quot;&gt;It made &lt;code&gt;wasm/main.go&lt;/code&gt; way cleaner&lt;/a&gt;, but certainly the most important of all is the &lt;code&gt;Await&lt;/code&gt; method.&lt;/p&gt;&lt;h3 id=&quot;golang-and-javascript-promises&quot;&gt;Golang and JavaScript promises&lt;/h3&gt;&lt;p&gt;JavaScript applications are single-threaded and leverage an event-loop strategy. Certain tasks might cause it to block, such as disk or network operations. JavaScript can schedule these operations by spinning processes off the event-loop, without blocking the main thread. A common way of doing&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises&quot;&gt; it is through Promises&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Golang HTTP calls are &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API&quot;&gt;using JavaScriptâ€™s &lt;code&gt;fetch&lt;/code&gt;&lt;/a&gt; under the hood, for example. This results in a blocking operation (network call), which needs to be handled properly. Using &lt;code&gt;net/http&lt;/code&gt; functions incorrectly will result in a runtime deadlock error. It is a common mistake, been even pointed out on the &lt;a href=&quot;https://pkg.go.dev/syscall/js#FuncOf&quot;&gt;&lt;code&gt;syscall/js.FuncOf&lt;/code&gt; documentation&lt;/a&gt;:&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;Invoking the wrapped Go function from JavaScript will pause the event loop and spawn a new goroutine. Other wrapped functions which are triggered during a call from Go to JavaScript get executed on the same goroutine.&lt;/p&gt;&lt;p&gt;As a consequence, if one wrapped function blocks, JavaScriptâ€™s event loop is blocked until that function returns. &lt;strong&gt;Hence, calling any async JavaScript API, which requires the event loop, like fetch (http.Client), will cause an immediate deadlock. Therefore a blocking function should explicitly start a new goroutine.&lt;/strong&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;Starting goroutine solves event loop blocking. Image processing would definetely be a blocking operation and definitely be spun up in a goroutine. But, JavaScript doesnâ€™t â€œunderstandâ€ them, and the application needs to signal JavaScript runtime to wait for its results. The easiest way is to create a &lt;code&gt;Promise&lt;/code&gt; through &lt;code&gt;syscall/js&lt;/code&gt; and call &lt;code&gt;resolve()&lt;/code&gt; through the goroutine.&lt;/p&gt;&lt;p&gt;As it is a bit of a long piece of code, abstraction is vital. In ImageWand, this is dealt with through &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/main/jasm/wasm.go#L37-L57&quot;&gt;the jasm.Await function&lt;/a&gt;.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;Await&lt;/span&gt;(&lt;span&gt;cb&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;() (&lt;span&gt;js&lt;/span&gt;.&lt;span&gt;Value&lt;/span&gt;, &lt;span&gt;error&lt;/span&gt;)) &lt;span&gt;js&lt;/span&gt;.&lt;span&gt;Value&lt;/span&gt; {
  &lt;span&gt;handler&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;js&lt;/span&gt;.&lt;span&gt;FuncOf&lt;/span&gt;(&lt;span&gt;func&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt; &lt;span&gt;js&lt;/span&gt;.&lt;span&gt;Value&lt;/span&gt;, &lt;span&gt;args&lt;/span&gt; []&lt;span&gt;js&lt;/span&gt;.&lt;span&gt;Value&lt;/span&gt;) &lt;span&gt;interface&lt;/span&gt;{} {
    &lt;span&gt;resolve&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;args&lt;/span&gt;[&lt;span&gt;0&lt;/span&gt;]
    &lt;span&gt;reject&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;args&lt;/span&gt;[&lt;span&gt;1&lt;/span&gt;]

    &lt;span&gt;// This would be the function I want to deal with
&lt;/span&gt;&lt;span/&gt;    &lt;span&gt;go&lt;/span&gt; &lt;span&gt;func&lt;/span&gt;() {
      &lt;span&gt;res&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;cb&lt;/span&gt;()
      &lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
      &lt;span&gt;reject&lt;/span&gt;.&lt;span&gt;Invoke&lt;/span&gt;(&lt;span&gt;Error&lt;/span&gt;(&lt;span&gt;err&lt;/span&gt;))
        &lt;span&gt;return&lt;/span&gt;
      }

      &lt;span&gt;resolve&lt;/span&gt;.&lt;span&gt;Invoke&lt;/span&gt;(&lt;span&gt;res&lt;/span&gt;)
    }()

    &lt;span&gt;return&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt;
  })

  &lt;span&gt;return&lt;/span&gt; &lt;span&gt;promiseJS&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(&lt;span&gt;handler&lt;/span&gt;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This way, any blocking operation can be created as a promise by wrapping it through this. There is a pull request open at &lt;code&gt;golang/go&lt;/code&gt; &lt;a href=&quot;https://github.com/golang/go/pull/52581&quot;&gt;that implements a better version of this snippet&lt;/a&gt;, perhaps landing in a future version of Go.&lt;/p&gt;&lt;h2 id=&quot;optimisations&quot;&gt;Optimisations&lt;/h2&gt;&lt;p&gt;Once the proof of concept was up and running, there was a problem: binary size. At this point, building without any optimisation generated a 3.2Mb binary. Not ideal for mobile usage.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;GOOS&lt;span&gt;=&lt;/span&gt;js GOARCH&lt;span&gt;=&lt;/span&gt;wasm go build -o ./app/wasm/main-go.wasm ./cmd/wasm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The first optimisation one can do is to disable the injection of debugging information on build time through &lt;code&gt;ldflags&lt;/code&gt;. For ImageWand, it reduced the binary to 3.1Mb (2%). Although quite low effort, it doesnâ€™t help much.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;GOOS&lt;span&gt;=&lt;/span&gt;js GOARCH&lt;span&gt;=&lt;/span&gt;wasm go build -o ./app/wasm/main-go-optimal.wasm -ldflags&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;-s -w&quot;&lt;/span&gt; ./cmd/wasm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Tools like &lt;a href=&quot;https://rustwasm.github.io/twiggy/&quot;&gt;&lt;code&gt;twiggy&lt;/code&gt; can help analyse the binary size&lt;/a&gt; as well. There wasnâ€™t much to tweak in this case, but I recommend giving it a try. The one that everyone recommends though, regardless of language, is &lt;code&gt;wasm-opt&lt;/code&gt; from the &lt;a href=&quot;https://webassembly.github.io/binaryen/&quot;&gt;&lt;code&gt;binaryen&lt;/code&gt; toolchain&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;It allows many optimisations, but it requires a bit of tweaking per-project basis. After playing around with it, the previous optimised binary with &lt;code&gt;-Oz&lt;/code&gt; produced the best results: a 2.9Mb binary, a 7% reduction compared to the original binary.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;wasm-opt -Oz -o ./app/wasm/main-go-optimal-binaryen.wasm ./app/wasm/main-go-optimal.wasm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;With Golang compiler, this is as far as I could go with optimisations. Even considering Gzip, it didnâ€™t look great. It is not rare to find websites reaching 1Mb nowadays but, for such a simple project, 2.9Mb is unacceptable.&lt;/p&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./03-benchmark-go.png&quot; alt=&quot;Go binary sizes&quot;/&gt;&lt;/p&gt;&lt;center&gt;&lt;small&gt;Binary size per optimisation: no excessive gains, but still something&lt;/small&gt;&lt;/center&gt;&lt;h2 id=&quot;tinygo-a-better-compiler-for-wasm&quot;&gt;TinyGo: a better compiler for WASM?&lt;/h2&gt;&lt;p&gt;I heard about &lt;a href=&quot;https://tinygo.org/&quot;&gt;TinyGo&lt;/a&gt; sometime ago. With the slogan â€œA Go Compiler For Small Placesâ€ and a focus on embedded systems, I never got on the hype train. It is a subset of the Golang language, which means &lt;a href=&quot;https://tinygo.org/docs/reference/lang-support/&quot;&gt;there are some limitations&lt;/a&gt; and not all packages will work on it, even the &lt;a href=&quot;https://tinygo.org/docs/reference/lang-support/stdlib/&quot;&gt;ones in the standard library&lt;/a&gt;. This means it is not exactly a drop-in for all scenarios.&lt;/p&gt;&lt;p&gt;But, besides embedded systems, it seems to be a quite popular WASM compiler. The binaries produced, being a subset and focused on â€œsmall placesâ€, are quite small. Taking into consideration the supported packages and limitations, it seemed a good candidate for ImageWand.&lt;/p&gt;&lt;h3 id=&quot;almost-a-drop-in-replacement&quot;&gt;Almost a drop-in replacement&lt;/h3&gt;&lt;p&gt;The first thing I tried was to compile the program using TinyGo, without any changes. It worked incredibly well, and the binary size dropped from ~3.2Mb to ~1.5Mb. Quite an improvement, especially when the WASM target is a web browser.&lt;/p&gt;&lt;p&gt;This was until I checked the console. Using &lt;code&gt;.String()&lt;/code&gt; to get values from &lt;code&gt;syscall/js.Value&lt;/code&gt; has not been implemented. Seemingly, ImageWand hit a TinyGo limitation and a hack around would be required.&lt;/p&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./04-tinygo-error.png&quot; alt=&quot;TinyGo error&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/tinygo-org/tinygo/issues/1140&quot;&gt;There are some hacks for it&lt;/a&gt;, but they all have some memory leak issues. As the surface between the program functionality and &lt;code&gt;syscall/js&lt;/code&gt; is quite limited, &lt;a href=&quot;https://github.com/brunoluiz/imagewand/commit/4860cb4c757c0ad859912047eb145798d47ff434&quot;&gt;changing those into &lt;code&gt;int&lt;/code&gt; seemed a better solution (without any caveat)&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Besides this, anyone attempting to move from Golang to TinyGo has to replace&lt;a href=&quot;https://github.com/tinygo-org/tinygo/blob/release/targets/wasm_exec.js&quot;&gt; &lt;code&gt;wasm_exec.js&lt;/code&gt;&lt;/a&gt;. &lt;a href=&quot;https://tinygo.org/docs/guides/webassembly/#how-it-works&quot;&gt;According to the documentation&lt;/a&gt;, it is based on the Goâ€™s one, but with a couple of changes that make it incompatible. Nothing major and super easy to tackle.&lt;/p&gt;&lt;p&gt;Once tweaked, ImageWand was successfully compiled using TinyGo, without any error messages in runtime and a binary twice the original size (1.5Mb). Smells like progress!&lt;/p&gt;&lt;h3 id=&quot;tinygo-after-optimisations&quot;&gt;TinyGo after optimisations&lt;/h3&gt;&lt;p&gt;Similar to Golang, the TinyGo compiler &lt;a href=&quot;https://tinygo.org/docs/reference/usage/important-options/&quot;&gt;allows tweaks&lt;/a&gt; according to project requirements. Considering this will be distributed on the web, optimisations related to size are important. Some might prefer performance tweaks, which are available as well.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;tinygo build -o app/wasm/main-tinygo-optimal.wasm -target wasm -no-debug -gc leaking ./cmd/wasm
wasm-opt -Oz -o ./app/wasm/main-tinygo-optimal-binaryen.wasm ./app/wasm/main-tinygo-optimal.wasm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As in Golang though, &lt;code&gt;wasm-opt&lt;/code&gt; did not result in a massive gain, but it is still something.&lt;/p&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./05-benchmark-tinygo.png&quot; alt=&quot;TinyGo binary sizes&quot;/&gt;&lt;/p&gt;&lt;center&gt;&lt;small&gt;TinyGo binary size per optimisation: drastic improvements when applying optimisations&lt;/small&gt;&lt;/center&gt;&lt;p&gt;&lt;img loading=&quot;lazy&quot; src=&quot;./06-benchmark-all.png&quot; alt=&quot;TinyGo + Go binary sizes&quot;/&gt;&lt;/p&gt;&lt;center&gt;&lt;small&gt;Full binary size comparison from Golang to Tinygo + optimisations&lt;/small&gt;&lt;/center&gt;&lt;p&gt;If your implementation is compatible with TinyGo and you donâ€™t fall into an edge case, go for it! It provides plenty of features, and it seems a good choice in terms of binary size, especially considering web distribution.&lt;/p&gt;&lt;h3 id=&quot;wasi-interesting-but-not-mature-enough-on-tinygo&quot;&gt;WASI: interesting but not mature enough on TinyGo&lt;/h3&gt;&lt;p&gt;At this point, ImageWand was working and it was not a large binary: I could call it a day. But, there was still one thing that I wanted to try out: &lt;a href=&quot;https://github.com/bytecodealliance/wasmtime/blob/main/docs/WASI-overview.md&quot;&gt;WASI&lt;/a&gt;.&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;WASI stands for WebAssembly System Interface. Itâ€™s an API designed by the Wasmtime project that provides access to several operating-system-like features, including files and filesystems, Berkeley sockets, clocks, and random numbers, that weâ€™ll be proposing for standardisation.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Itâ€™s designed to be independent of browsers, so it doesnâ€™t depend on Web APIs or JS, and isnâ€™t limited by the need to be compatible with JS&lt;/strong&gt;. And it has integrated capability-based security, so it extends WebAssemblyâ€™s characteristic sandboxing to include I/O.&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;small&gt;â„¹ï¸ &lt;a href=&quot;https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/&quot;&gt;There is an interesting article from MDN&lt;/a&gt; about the subject â€“ It is something I definitely want to dive deeper into in the future&lt;/small&gt;&lt;/p&gt;&lt;p&gt;ImageWand was relying on &lt;code&gt;syscall/js&lt;/code&gt; to interface with user input, which depends on JavaScript APIs, and it wouldnâ€™t run in any other runtime besides the browser. Binaries compiled into the WASI standard though can be run anywhere that implements its specification: browser, terminal or within other backends (serverless function with NodeJS running Golang WASI bins). Yes, â€œBuild once, run everywhereâ€ &lt;del&gt;Java&lt;/del&gt; vibes.&lt;/p&gt;&lt;p&gt;TinyGo supports WASI. This means &lt;code&gt;syscall/js&lt;/code&gt; is not required if you donâ€™t want to manipulate the DOM, which would have made ImageWand code simpler, becoming just an exported Golang functionâ€¦ But, there are a couple of limitations when implementing WASI programs with TinyGo:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://tinygo.org/docs/concepts/compiler-internals/calling-convention/#:~:text=The%20WebAssembly%20target%20does%20not%20return%20variables%20directly%20that%20cannot%20be%20handled%20by%20JavaScript%20(see%20above%20about%20i64%2C%20also%20struct%2C%20i64%2C%20multiple%20return%20values%2C%20etc).%20Instead%2C%20they%20are%20stored%20into%20a%20pointer%20passed%20as%20the%20first%20parameter%20by%20the%20caller.&quot;&gt;Function arguments and outputs can only be numbers or pointers, which are essentially numbers with a memory address&lt;/a&gt;.&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/tinygo-org/tinygo/issues/3010#issuecomment-1191916589&quot;&gt;There is no proper support for multi-return, so no easy &lt;code&gt;(someType, error)&lt;/code&gt;&lt;/a&gt; without some hacks.&lt;/li&gt;&lt;li&gt;Lacking documentation and helper methods to operate on top of shared WASM memory (&lt;a href=&quot;https://github.com/tinygo-org/tinygo/issues/3040&quot;&gt;Iâ€™ve opened a ticket around documentation&lt;/a&gt;).&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;ImageWand was passing a slice of &lt;code&gt;byte&lt;/code&gt; with the image content, which was the simplest way to get this working (donâ€™t io.Reader me: it is not as simple). To pass the image input and receive the output in &lt;code&gt;[]byte&lt;/code&gt;, you need to use JavaScript and WASM shared memory space, pointers and all sort of low-level magic.&lt;/p&gt;&lt;p&gt;Checking Github, it seems many people came across the issue of passing non-numeric values or returning multiple values, and every developer has a different solution to it &lt;a href=&quot;https://github.com/tinygo-org/tinygo/issues/2512#issuecomment-1011399751&quot;&gt;[1]&lt;/a&gt; &lt;a href=&quot;https://github.com/tinygo-org/tinygo/issues/1824&quot;&gt;[2]&lt;/a&gt;.&lt;a href=&quot;https://github.com/brunoluiz/imagewand/pull/4&quot;&gt; Eventually, I came up with my way of dealing with this&lt;/a&gt;, but it is quite ugly and probably not efficient at all. Most likely I should have used &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Memory&quot;&gt;&lt;code&gt;WebAssembly.memory.buffer&lt;/code&gt;&lt;/a&gt;, but I couldnâ€™t find an easy way of doing so. Besides, WASI was an extra in this whole experiment and, at this point, I had invested a long time cracking my head to have at least something minimal working.&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span&gt;// JavaScript code
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;new&lt;/span&gt; &lt;span&gt;Uint8Array&lt;/span&gt;(&lt;span&gt;buf&lt;/span&gt;).&lt;span&gt;forEach&lt;/span&gt;((&lt;span&gt;b&lt;/span&gt;) =&amp;gt; &lt;span&gt;imagewand&lt;/span&gt;.&lt;span&gt;appendToBuffer&lt;/span&gt;(&lt;span&gt;b&lt;/span&gt;));
&lt;span&gt;await&lt;/span&gt; &lt;span&gt;imagewand&lt;/span&gt;.&lt;span&gt;convertFromBlob&lt;/span&gt;(&lt;span&gt;formatToNumber&lt;/span&gt;(&lt;span&gt;format&lt;/span&gt;));

&lt;span&gt;const&lt;/span&gt; &lt;span&gt;outputSize&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;imagewand&lt;/span&gt;.&lt;span&gt;getOutputSize&lt;/span&gt;();
&lt;span&gt;const&lt;/span&gt; &lt;span&gt;arrayBuffer&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;new&lt;/span&gt; &lt;span&gt;Uint8Array&lt;/span&gt;(&lt;span&gt;outputSize&lt;/span&gt;);

&lt;span&gt;for&lt;/span&gt; (&lt;span&gt;let&lt;/span&gt; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;=&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt; &lt;span&gt;&amp;lt;&lt;/span&gt; &lt;span&gt;outputSize&lt;/span&gt;; &lt;span&gt;i&lt;/span&gt;&lt;span&gt;++&lt;/span&gt;) {
  &lt;span&gt;arrayBuffer&lt;/span&gt;[&lt;span&gt;i&lt;/span&gt;] &lt;span&gt;=&lt;/span&gt; &lt;span&gt;imagewand&lt;/span&gt;.&lt;span&gt;getOutputAtPos&lt;/span&gt;(&lt;span&gt;i&lt;/span&gt;);
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-go&quot; data-lang=&quot;go&quot;&gt;&lt;span&gt;// Golang code
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;type&lt;/span&gt; &lt;span&gt;image&lt;/span&gt; []&lt;span&gt;byte&lt;/span&gt;
&lt;span&gt;var&lt;/span&gt; &lt;span&gt;input&lt;/span&gt; &lt;span&gt;image&lt;/span&gt;;
&lt;span&gt;var&lt;/span&gt; &lt;span&gt;output&lt;/span&gt; &lt;span&gt;image&lt;/span&gt;;

&lt;span&gt;//export appendToBuffer
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;appendToBuffer&lt;/span&gt;(&lt;span&gt;i&lt;/span&gt; &lt;span&gt;byte&lt;/span&gt;) {
  &lt;span&gt;input&lt;/span&gt; = append(&lt;span&gt;input&lt;/span&gt;, &lt;span&gt;i&lt;/span&gt;)
}

&lt;span&gt;//export getOutputSize
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;getOutputSize&lt;/span&gt;() &lt;span&gt;int&lt;/span&gt; {
  &lt;span&gt;return&lt;/span&gt; len(&lt;span&gt;output&lt;/span&gt;)
}

&lt;span&gt;//export getOutputAtPos
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;getOutputAtPos&lt;/span&gt;(&lt;span&gt;i&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;) &lt;span&gt;byte&lt;/span&gt; {
  &lt;span&gt;return&lt;/span&gt; &lt;span&gt;output&lt;/span&gt;[&lt;span&gt;i&lt;/span&gt;]
}

&lt;span&gt;// Other stuff
&lt;/span&gt;&lt;span/&gt;
&lt;span&gt;//export convertFromBlob
&lt;/span&gt;&lt;span/&gt;&lt;span&gt;func&lt;/span&gt; &lt;span&gt;convertFromBlob&lt;/span&gt;(&lt;span&gt;format&lt;/span&gt; &lt;span&gt;int&lt;/span&gt;) {
  &lt;span&gt;img&lt;/span&gt;, &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;imagewand&lt;/span&gt;.&lt;span&gt;New&lt;/span&gt;(&lt;span&gt;bytes&lt;/span&gt;.&lt;span&gt;NewBuffer&lt;/span&gt;(&lt;span&gt;input&lt;/span&gt;))
  &lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
    panic(&lt;span&gt;err&lt;/span&gt;)
  }

  &lt;span&gt;f&lt;/span&gt;, &lt;span&gt;ok&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;fileFormatFromInt&lt;/span&gt;[&lt;span&gt;format&lt;/span&gt;]
  &lt;span&gt;if&lt;/span&gt; !&lt;span&gt;ok&lt;/span&gt; {
    panic(&lt;span&gt;&quot;format not supported&quot;&lt;/span&gt;)
  }

  &lt;span&gt;b&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;bytes&lt;/span&gt;.&lt;span&gt;NewBuffer&lt;/span&gt;([]&lt;span&gt;byte&lt;/span&gt;{})
  &lt;span&gt;if&lt;/span&gt; &lt;span&gt;err&lt;/span&gt; &lt;span&gt;:=&lt;/span&gt; &lt;span&gt;img&lt;/span&gt;.&lt;span&gt;Convert&lt;/span&gt;(&lt;span&gt;b&lt;/span&gt;, &lt;span&gt;f&lt;/span&gt;); &lt;span&gt;err&lt;/span&gt; &lt;span&gt;!=&lt;/span&gt; &lt;span&gt;nil&lt;/span&gt; {
    panic(&lt;span&gt;err&lt;/span&gt;)
  }

  &lt;span&gt;output&lt;/span&gt; = &lt;span&gt;b&lt;/span&gt;.&lt;span&gt;Bytes&lt;/span&gt;()
  &lt;span&gt;input&lt;/span&gt; = []&lt;span&gt;byte&lt;/span&gt;{}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;These limitations and lack of documentation around WASI, workarounds and common examples for TinyGo make it quite hard to abandon &lt;code&gt;syscall/js&lt;/code&gt; for browser apps or use it for non-JS WASM applications. Although I managed to make it work, I wouldnâ€™t recommend someone to drop &lt;code&gt;syscall/js&lt;/code&gt; in favour of WASI TinyGo for browser applications at the moment, only if the person wants to deep dive and study its details. If you decide to do so, please help the community by adding examples, tutorials and documentation to the official project page.&lt;/p&gt;&lt;h2 id=&quot;conclusions-on-using-golang-with-wasm&quot;&gt;Conclusions on using Golang with WASM&lt;/h2&gt;&lt;p&gt;Being able to re-use and compile Golang code into WASM is exciting. Besides, for those used to Golang as their daily driver, it might be a natural choice when considering complex applications.&lt;/p&gt;&lt;p&gt;In general, I always recommend Golang due its tooling. But, for WASM, my experience was quite bumpy:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The final binary size using Golang toolchain (around 3.2Mb) might be OK for the backend but not for frontend apps. This adds up when considering network outbound costs or slow mobile connections.&lt;/li&gt;&lt;li&gt;TinyGo is an amazing alternative, but you might fall into edge-cases or unsupported features. This is quite an annoyance but, if you manage to get your way around it, it is probably the perfect choice for your Golang WASM project.&lt;/li&gt;&lt;li&gt;CI pipelines will get more complex as Golang/TinyGo tooling needs to be handled, and &lt;a href=&quot;https://github.com/brunoluiz/imagewand/blob/v1.0.0/.github/workflows/deploy.yaml&quot;&gt;extra build steps are required&lt;/a&gt;. Not that JavaScript toolchain is not complex by itself already.&lt;/li&gt;&lt;li&gt;The use of &lt;code&gt;syscall/js&lt;/code&gt; is quite cumbersome and unsafe, but mostly because of the JavaScript nature.&lt;/li&gt;&lt;li&gt;Dealing with DOM elements is possible, but changing UI elements is quite a painful and complex task. Try to limit its use only as glue.&lt;/li&gt;&lt;li&gt;Golang WASM is an independent and experimental port. &lt;a href=&quot;https://github.com/golang/go/issues/53383&quot;&gt;There are discussions on how to deal with such ports&lt;/a&gt;, but it is something to bear in mind. Besides, as it is still not a stable API, it might change at any point (although it never changed since its release).&lt;/li&gt;&lt;li&gt;WASI support is Golang does not exist at the moment, and TinyGo is not the most ergonomic in terms of WASI development, with a lack of documentation and examples. This can be mostly due to the WASI specification, as it is still in progress, but things like &lt;code&gt;wasm-bindgen&lt;/code&gt; for Rust prove that it could be somehow possible.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Would I choose Golang for a WASM project? If I had to develop something quickly or the people involved are used to Golang, definitely yes (TinyGo, to be fair). But I feel it is not the best choice in terms of features, documentation, toolchain and support. C/C++ and Rust seem to lead the way.&lt;/p&gt;&lt;p&gt;I never programmed with Rust before, but considering its support to WASM and some other interesting use cases I have in mind, it is perhaps a sign that I should finally try to learn it.&lt;/p&gt;&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://withblue.ink/2020/10/03/go-webassembly-http-requests-and-promises.html&quot;&gt;Go, WebAssembly, HTTP requests and Promises&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/Transferable_objects&quot;&gt;MDN: Transferable objects&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://qvault.io/golang/running-go-in-the-browser-wasm-web-workers/&quot;&gt;Running Go in the Browser with WASM and Web Workers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.sitepen.com/blog/using-webassembly-with-web-workers&quot;&gt;Using WebAssembly with Web Workers&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.fermyon.com/blog/optimizing-tinygo-wasm&quot;&gt;Shrink Your TinyGo WebAssembly Modules by 60%&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://elewis.dev/are-we-wasm-yet-part-1&quot;&gt;Are We Wasm Yet ? - Part 1&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://elewis.dev/are-we-wasm-yet-part-2#heading-server-implementation&quot;&gt;Are We Wasm Yet ? - Part 2&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://hacks.mozilla.org/2019/03/standardizing-wasi-a-webassembly-system-interface/&quot;&gt;Standardizing WASI: A system interface to run WebAssembly outside the web&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://wasi.dev/&quot;&gt;WASI&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://wasmbyexample.dev/examples/webassembly-linear-memory/webassembly-linear-memory.go.en-us.html#&quot;&gt;WebAssembly Linear Memory example&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>68ed88cd728129197dbdd3a42651ea12</guid>
<title>[æ–°æ–‡å¯¼è¯»] æ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡</title>
<link>https://toutiao.io/k/6ztt44k</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;æœ¬æ–‡å¼•ç”¨è‡ªInfoQç¤¾åŒºâ€œ5äº¿ç”¨æˆ·å¦‚ä½•é«˜æ•ˆæ²Ÿé€šï¼Ÿé’‰é’‰é¦–æ¬¡å¯¹å¤–æ­ç§˜å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMâ€ä¸€æ–‡ï¼Œä½œè€…é™ˆä¸‡çº¢ç­‰ã€ç­–åˆ’è¤šæå¨Ÿï¼Œå³æ—¶é€šè®¯ç½‘æœ‰ä¿®è®¢å’Œæ”¹åŠ¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;ä¸€ã€å¼•è¨€&lt;/h2&gt;&lt;h1&gt;&lt;strong&gt;æœ¬æ–‡æ˜¯å›½å†…ä¼ä¸šIMçš„äº‹å®ç‹è€…é’‰é’‰é¦–æ¬¡å¯¹å¤–æ·±åº¦è§£å¯†å…¶å³æ—¶æ¶ˆæ¯æœåŠ¡ï¼ˆ&lt;span&gt;å³DingTalk IMï¼Œç®€ç§°DTIM&lt;/span&gt;ï¼‰çš„æŠ€æœ¯è®¾è®¡å®è·µã€‚&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;æœ¬ç¯‡æ–‡ç« å†…å®¹å°†ä»æ¨¡å‹è®¾è®¡åŸç†åˆ°å…·ä½“çš„æŠ€æœ¯æ¶æ„ã€æœ€åº•å±‚çš„å­˜å‚¨æ¨¡å‹åˆ°è·¨åœ°åŸŸçš„å•å…ƒåŒ–ç­‰ï¼Œå…¨æ–¹ä½å±•ç°äº† DTIM åœ¨å®é™…ç”Ÿäº§åº”ç”¨ä¸­æ‰€é‡åˆ°çš„å„ç§æŠ€æœ¯æŒ‘æˆ˜åŠç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›å€Ÿæœ¬æ–‡å†…å®¹çš„åˆ†äº«èƒ½ä¸ºå›½å†…ä¼ä¸šçº§IMçš„å¼€å‘å¸¦æ¥æ€è€ƒå’Œå¯å‘ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.28134556574923547&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/st3UArDtcvLZxFHfmicDjISxR3CTWdhicLyNtiaBdfAUTDHq64ItbxThe103LyTAUYnpyb1BYrUAoJ82JBp6o38vQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;654&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_cover-opti.jpg&quot;/&gt;&lt;/ignore_js_op&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;ignore_js_op&gt;&lt;br/&gt;&lt;/ignore_js_op&gt;&lt;/p&gt;&lt;h2&gt;äºŒã€æŠ€æœ¯çœ‹ç‚¹&lt;/h2&gt;&lt;h1&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;ä¸€ã€&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;å¼•è¨€&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;äºŒã€&lt;/strong&gt;&lt;/em&gt;ç³»åˆ—æ–‡ç« &lt;/p&gt;&lt;p&gt;&lt;em&gt;ä¸‰ã€&lt;/em&gt;é’‰é’‰çš„æŠ€æœ¯æŒ‘æˆ˜&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;å››ã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;æ¨¡å‹è®¾è®¡&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;4.1ã€DTIMç³»ç»Ÿæ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;4.2ã€æ¶ˆæ¯æ”¶å‘é“¾è·¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;4.3ã€å­˜å‚¨æ¨¡å‹è®¾è®¡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;4.4ã€åŒæ­¥æ¨¡å‹è®¾è®¡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;äº”ã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;æ¶ˆæ¯å­˜å‚¨è®¾è®¡&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;å…­ã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;å¤šç«¯åŒæ­¥æœºåˆ¶è®¾è®¡&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;6.1ã€æ¦‚è¿°&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;6.2ã€å…¨é‡æ¶ˆæ¯å­˜å‚¨é€»è¾‘&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;6.3ã€æ¶ˆæ¯å¤šç«¯åŒæ­¥é€»è¾‘&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;6.4ã€å¤§é‡éœ€åŒæ­¥ç¦»çº¿æ¶ˆæ¯çš„ä¼˜åŒ–é€»è¾‘&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;ä¸ƒã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;é«˜å¯ç”¨è®¾è®¡&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;å…«ã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;æœ¬æ–‡å°ç»“&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;em&gt;&lt;strong&gt;ä¹ã€&lt;/strong&gt;&lt;/em&gt;&lt;/span&gt;ç›¸å…³æ–‡ç« &lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;ä¸‰ã€é’‰é’‰çš„æŠ€æœ¯æŒ‘æˆ˜&lt;/h2&gt;&lt;h1&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.43666666666666665&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/st3UArDtcvLZxFHfmicDjISxR3CTWdhicLOPeKY6WUr6NxZ3oSmBicn73DcxPDloTKG8OGWbRtMicWGVOxP1FsunPQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;600&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_0.jpg&quot;/&gt;&lt;/ignore_js_op&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;é’‰é’‰å·²ç»æœ‰ 2100 ä¸‡ + ç»„ç»‡ã€5 äº¿ + æ³¨å†Œç”¨æˆ·åœ¨ä½¿ç”¨ã€‚DTIM ä¸ºé’‰é’‰ç”¨æˆ·æä¾›å³æ—¶æ¶ˆæ¯æœåŠ¡ï¼Œç”¨äºç»„ç»‡å†…å¤–çš„æ²Ÿé€šï¼Œè¿™äº›ç»„ç»‡åŒ…æ‹¬å…¬å¸ã€æ”¿åºœã€å­¦æ ¡ç­‰ï¼Œè§„æ¨¡ä»å‡ äººåˆ°ç™¾ä¸‡äººä¸ç­‰ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;DTIM æœ‰ç€ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå•èŠã€å„ç§ç±»å‹çš„ç¾¤èŠã€æ¶ˆæ¯å·²è¯»ã€æ–‡å­—è¡¨æƒ…ã€å¤šç«¯åŒæ­¥ã€åŠ¨æ€å¡ç‰‡ã€ä¸“å±å®‰å…¨å’Œå­˜å‚¨ç­‰ç­‰ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;åŒæ—¶ï¼š&lt;/strong&gt;&lt;span&gt;é’‰é’‰å†…éƒ¨å¾ˆå¤šä¸šåŠ¡æ¨¡å—ï¼Œæ¯”å¦‚æ–‡æ¡£ã€é’‰é—ªä¼šã€Teambitionã€éŸ³è§†é¢‘ã€è€ƒå‹¤ã€å®¡æ‰¹ç­‰ï¼Œæ¯ä¸ªä¸šåŠ¡éƒ½åœ¨ä½¿ç”¨ DTIMï¼Œç”¨äºå®ç°ä¸šåŠ¡æµç¨‹é€šçŸ¥ã€è¿è¥æ¶ˆæ¯æ¨é€ã€ä¸šåŠ¡ä¿¡ä»¤ä¸‹å‘ç­‰ã€‚æ¯ä¸ªä¸šåŠ¡æ¨¡å—å¯¹äº DTIM è°ƒç”¨çš„æµé‡å³°å€¼æ¨¡å‹å„æœ‰å·®åˆ«ï¼Œå¯¹å¯ç”¨æ€§è¦æ±‚ä¹Ÿä¸å°½ç›¸åŒã€‚&lt;/span&gt;&lt;strong&gt;DTIM éœ€è¦èƒ½å¤Ÿé¢å¯¹è¿™äº›å¤æ‚çš„åœºæ™¯ï¼Œä¿æŒè‰¯å¥½çš„å¯ç”¨æ€§å’Œä½“éªŒï¼ŒåŒæ—¶å…¼é¡¾æ€§èƒ½ä¸æˆæœ¬&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;é€šç”¨çš„å³æ—¶æ¶ˆæ¯ç³»ç»Ÿå¯¹æ¶ˆæ¯å‘é€çš„æˆåŠŸç‡ã€æ—¶å»¶ã€åˆ°è¾¾ç‡æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œä¼ä¸š IM ç”±äº ToB çš„ç‰¹æ€§ï¼Œåœ¨æ•°æ®å®‰å…¨å¯é ã€ç³»ç»Ÿå¯ç”¨æ€§ã€å¤šç»ˆç«¯ä½“éªŒã€å¼€æ”¾å®šåˆ¶ç­‰å¤šä¸ªæ–¹é¢æœ‰ç€æè‡´çš„è¦æ±‚ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;æ„å»ºç¨³å®šé«˜æ•ˆçš„ä¼ä¸š IM æœåŠ¡ï¼ŒDTIM ä¸»è¦é¢ä¸´çš„æŒ‘æˆ˜æ˜¯ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;&lt;/h1&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;ä¼ä¸š IM æè‡´çš„ä½“éªŒè¦æ±‚å¯¹äºç³»ç»Ÿæ¶æ„è®¾è®¡çš„æŒ‘æˆ˜&lt;/span&gt;ï¼šæ¯”å¦‚æ•°æ®é•¿æœŸä¿å­˜å¯æ¼«æ¸¸ã€å¤šç«¯æ•°æ®åŒæ­¥ã€åŠ¨æ€æ¶ˆæ¯ç­‰å¸¦æ¥çš„æ•°æ®å­˜å‚¨æ•ˆç‡å’Œæˆæœ¬å‹åŠ›ï¼Œå¤šç«¯æ•°æ®åŒæ­¥å¸¦æ¥çš„ä¸€è‡´æ€§é—®é¢˜ç­‰ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æé™åœºæ™¯å†²å‡»ã€ä¾èµ–ç³»ç»Ÿé”™è¯¯å¸¦æ¥çš„å¯ç”¨æ€§é—®é¢˜&lt;/span&gt;ï¼šæ¯”å¦‚è¶…å¤§ç¾¤æ¶ˆæ¯ï¼Œçªå‘ç–«æƒ…å¸¦æ¥çš„çº¿ä¸ŠåŠå…¬å’Œçº¿ä¸Šæ•™å­¦é«˜å¹¶å‘æµé‡ï¼Œç³»ç»Ÿéœ€è¦èƒ½å¤Ÿåº”å¯¹æµé‡çš„å†²å‡»ï¼Œä¿éšœé«˜å¯ç”¨ï¼›åŒæ—¶åœ¨ä¸­é—´ä»¶æ™®éå¯ç”¨æ€§ä¸åˆ° 99.99% çš„æ—¶å€™ï¼ŒDTIM æœåŠ¡éœ€è¦ä¿éšœæ ¸å¿ƒåŠŸèƒ½çš„ 99.995% çš„å¯ç”¨æ€§ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;ä¸æ–­æ‰©å¤§çš„ä¸šåŠ¡è§„æ¨¡ï¼Œå¯¹äºç³»ç»Ÿéƒ¨ç½²æ¶æ„çš„æŒ‘æˆ˜&lt;/span&gt;ï¼šæ¯”å¦‚æŒç»­å¢é•¿çš„ç”¨æˆ·è§„æ¨¡ï¼Œçªå‘äº‹ä»¶å¦‚å¸­å·å…¨çƒçš„ç–«æƒ…ï¼Œå•åœ°åŸŸæ¶æ„å·²ç»æ— æ³•æ»¡è¶³ä¸šåŠ¡å‘å±•çš„è¦æ±‚ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;DTIM åœ¨ç³»ç»Ÿè®¾è®¡ä¸Šï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;ä¸ºäº†å®ç°æ¶ˆæ¯æ”¶å‘ä½“éªŒã€æ€§èƒ½å’Œæˆæœ¬çš„å¹³è¡¡ï¼Œè®¾è®¡äº†é«˜æ•ˆçš„è¯»å†™æ‰©æ•£æ¨¡å‹å’ŒåŒæ­¥æœåŠ¡ï¼Œä»¥åŠå®šåˆ¶åŒ–çš„ NoSQL å­˜å‚¨ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;é€šè¿‡å¯¹ DTIM æœåŠ¡æµé‡çš„åˆ†æï¼Œå¯¹äºå¤§ç¾¤æ¶ˆæ¯ã€å•è´¦å·å¤§é‡çš„æ¶ˆæ¯çƒ­ç‚¹ä»¥åŠæ¶ˆæ¯æ›´æ–°çƒ­ç‚¹çš„åœºæ™¯è¿›è¡Œäº†åˆå¹¶ã€å‰Šå³°å¡«è°·ç­‰å¤„ç†ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;æ ¸å¿ƒé“¾è·¯çš„åº”ç”¨ä¸­é—´ä»¶çš„ä¾èµ–åšå®¹ç¾å¤„ç†ï¼Œå®ç°äº†å•ä¸€ä¸­é—´ä»¶å¤±è´¥ä¸å½±å“æ ¸å¿ƒæ¶ˆæ¯æ”¶å‘ï¼Œä¿éšœåŸºç¡€çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;åœ¨æ¶ˆæ¯å­˜å‚¨è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‡ºç°å­˜å‚¨ç³»ç»Ÿå†™å…¥å¼‚å¸¸ï¼Œç³»ç»Ÿä¼šå›æ—‹ç¼“å†²é‡åšï¼Œå¹¶ä¸”åœ¨æœåŠ¡æ¢å¤æ—¶ï¼Œæ•°æ®èƒ½ä¸»åŠ¨å‘ç«¯ä¸ŠåŒæ­¥ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;éšç€ç”¨æˆ·æ•°ä¸æ–­å¢é•¿ï¼Œå•ä¸€åœ°åŸŸå·²æ— æ³•æ‰¿è½½ DTIM çš„å®¹é‡å’Œå®¹ç¾éœ€æ±‚ï¼Œ&lt;/span&gt;&lt;strong&gt;DTIM å®ç°äº†å¼‚åœ°å¤šå•å…ƒçš„äº‘åŸç”Ÿçš„å¼¹æ€§æ¶æ„&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;åœ¨åˆ†å±‚ä¸Šéµä»çš„åŸåˆ™ä¸ºé‡äº‘è½»ç«¯ï¼š&lt;/strong&gt;&lt;span&gt;ä¸šåŠ¡æ•°æ®è®¡ç®—ã€å­˜å‚¨ã€åŒæ­¥ç­‰å¤æ‚æ“ä½œå°½é‡åç§»åˆ°äº‘ç«¯å¤„ç†ï¼Œå®¢æˆ·ç«¯åªåšç»ˆæ€æ•°æ®çš„æ¥æ”¶ã€å±•ç¤ºï¼Œé€šè¿‡é™ä½å®¢æˆ·ç«¯ä¸šåŠ¡å®ç°çš„å¤æ‚åº¦ï¼Œæœ€å¤§åŒ–åœ°æå‡å®¢æˆ·ç«¯è¿­ä»£é€Ÿåº¦ï¼Œè®©ç«¯ä¸Šå¼€å‘å¯ä»¥ä¸“æ³¨äºæå‡ç”¨æˆ·çš„äº¤äº’ä½“éªŒï¼Œæ‰€æœ‰çš„åŠŸèƒ½éœ€æ±‚å’Œç³»ç»Ÿæ¶æ„éƒ½å›´ç»•ç€è¯¥åŸåˆ™åšè®¾è®¡å’Œæ‰©å±•ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;ä»¥ä¸‹ç« èŠ‚æˆ‘ä»¬å°†å¯¹ DTIM åšæ›´åŠ è¯¦ç»†çš„ä»‹ç»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;å››ã€æ¨¡å‹è®¾è®¡&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;4.1ã€DTIMç³»ç»Ÿæ¶æ„&lt;/h2&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;ä½å»¶è¿Ÿã€é«˜è§¦è¾¾ã€é«˜å¯ç”¨ä¸€ç›´æ˜¯ DTIM è®¾è®¡çš„ç¬¬ä¸€åŸåˆ™ï¼Œä¾æ®è¿™ä¸ªåŸåˆ™åœ¨æ¶æ„ä¸Š DTIM å°†ç³»ç»Ÿæ‹†åˆ†ä¸ºä¸‰ä¸ªæœåŠ¡åšèƒ½åŠ›çš„æ‰¿è½½ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;ä¸‰ä¸ªæœåŠ¡åˆ†åˆ«æ˜¯ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æ¶ˆæ¯æœåŠ¡&lt;/span&gt;ï¼šè´Ÿè´£ IM æ ¸å¿ƒæ¶ˆæ¯æ¨¡å‹å’Œå¼€æ”¾ APIï¼ŒIM åŸºç¡€èƒ½åŠ›åŒ…æ‹¬æ¶ˆæ¯å‘é€ã€å•èŠå…³ç³»ç»´æŠ¤ã€ç¾¤ç»„å…ƒä¿¡æ¯ç®¡ç†ã€å†å²æ¶ˆæ¯æ‹‰å–ã€å·²è¯»çŠ¶æ€é€šçŸ¥ã€IM æ•°æ®å­˜å‚¨ä»¥åŠè·¨åœ°åŸŸçš„æµé‡è½¬å‘ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;åŒæ­¥æœåŠ¡&lt;/span&gt;ï¼šè´Ÿè´£ç”¨æˆ·æ¶ˆæ¯æ•°æ®ä»¥åŠçŠ¶æ€æ•°æ®çš„ç«¯åˆ°ç«¯åŒæ­¥ï¼Œé€šè¿‡å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯é•¿è¿æ¥é€šé“åšå®æ—¶çš„æ•°æ®äº¤äº’ï¼Œå½“é’‰é’‰å„ç±»è®¾å¤‡åœ¨çº¿æ—¶ IM åŠä¸Šæ¸¸å„ä¸šåŠ¡é€šè¿‡åŒæ­¥æœåŠ¡åšå¤šç«¯çš„æ•°æ®åŒæ­¥ï¼Œä¿éšœå„ç«¯æ•°æ®å’Œä½“éªŒä¸€è‡´ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;é€šçŸ¥æœåŠ¡&lt;/span&gt;ï¼šè´Ÿè´£ç”¨æˆ·ç¬¬ä¸‰æ–¹é€šé“ç»´æŠ¤ä»¥åŠé€šçŸ¥åŠŸèƒ½ï¼Œå½“é’‰é’‰çš„è‡ªå»ºé€šé“æ— æ³•å°†æ•°æ®åŒæ­¥åˆ°ç«¯ä¸Šæ—¶ï¼Œé€šè¿‡ä¸‰æ–¹æä¾›çš„é€šçŸ¥å’Œé€ä¼ èƒ½åŠ›åšæ¶ˆæ¯æ¨é€ï¼Œä¿éšœé’‰é’‰æ¶ˆæ¯çš„åŠæ—¶æ€§å’Œæœ‰æ•ˆæ€§ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;åŒæ­¥æœåŠ¡å’Œé€šçŸ¥æœåŠ¡é™¤äº†æœåŠ¡äºæ¶ˆæ¯æœåŠ¡ï¼Œä¹Ÿé¢å‘å…¶ä»–é’‰é’‰ä¸šåŠ¡æ¯”å¦‚éŸ³è§†é¢‘ã€ç›´æ’­ã€Dingã€æ–‡æ¡£ç­‰å¤šç«¯ (&lt;/span&gt;&lt;span&gt;å¤šè®¾å¤‡&lt;/span&gt;&lt;span&gt;) æ•°æ®åŒæ­¥ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;å›¾1ï¼š&lt;/strong&gt;&lt;span&gt;DTIMæ¶æ„å›¾ â–¼&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9615384615384616&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLZxFHfmicDjISxR3CTWdhicL2QruwvFSMJ5Je2q4KL7eslkhFg2ic8y8haAa01TkypgBEok6gsPLyoA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;650&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_1.png&quot;/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;ä¸Šå›¾å±•ç¤ºäº† DTIM ç³»ç»Ÿæ¶æ„ï¼Œæ¥ä¸‹æ¥è¯¦ç»†ä»‹ç»æ¶ˆæ¯æ”¶å‘é“¾è·¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;4.2ã€æ¶ˆæ¯æ”¶å‘é“¾è·¯&lt;/h2&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;å›¾2ï¼š&lt;/strong&gt;&lt;span&gt;DTIMæ¶ˆæ¯å¤„ç†æ¶æ„ â–¼&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7259978425026968&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLZxFHfmicDjISxR3CTWdhicLgRvjAT2bibic15victO7g45fAj0JJ4q41KtgZolGg2nu18bbOzFqmBGWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;927&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_2.png&quot;/&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;æ¶ˆæ¯å‘é€ï¼š&lt;/strong&gt;&lt;span&gt;æ¶ˆæ¯å‘é€æ¥å£ç”± Receiver æä¾›ï¼Œé’‰é’‰ç»Ÿä¸€æ¥å…¥å±‚å°†ç”¨æˆ·ä»å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯è¯·æ±‚è½¬å‘åˆ° Receiver æ¨¡å—ï¼ŒReceiver æ ¡éªŒæ¶ˆæ¯çš„åˆæ³•æ€§ï¼ˆ&lt;/span&gt;&lt;span&gt;æ–‡å­—å›¾ç‰‡ç­‰å®‰å…¨å®¡æ ¸ã€ç¾¤ç¦è¨€åŠŸèƒ½æ˜¯å¦å¼€å¯æˆ–è€…æ˜¯å¦è§¦å‘ä¼šè¯æ¶ˆæ¯é™æµè§„åˆ™ç­‰&lt;/span&gt;&lt;span&gt;ï¼‰ä»¥åŠæˆå‘˜å…³ç³»çš„æœ‰æ•ˆæ€§ï¼ˆ&lt;/span&gt;&lt;span&gt;å•èŠæ ¡éªŒäºŒè€…èŠå¤©ã€ç¾¤èŠæ ¡éªŒå‘é€è€…åœ¨ç¾¤èŠæˆå‘˜åˆ—è¡¨ä¸­&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œæ ¡éªŒé€šè¿‡åä¸ºè¯¥æ¶ˆæ¯ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ MessageId éšæ¶ˆæ¯ä½“ä»¥åŠæ¥æ”¶è€…åˆ—è¡¨æ‰“åŒ…æˆæ¶ˆæ¯æ•°æ®åŒ…æŠ•é€’ç»™å¼‚æ­¥é˜Ÿåˆ—ï¼Œç”±ä¸‹æ¸¸ Processor å¤„ç†ã€‚æ¶ˆæ¯æŠ•é€’æˆåŠŸä¹‹åï¼ŒReceiver è¿”å›æ¶ˆæ¯å‘é€æˆåŠŸçš„å›æ‰§ç»™å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;æ¶ˆæ¯å¤„ç† ï¼š&lt;/strong&gt;&lt;span&gt;Processor æ¶ˆè´¹åˆ° IM å‘é€äº‹ä»¶é¦–å…ˆåšæŒ‰æ¥æ”¶è€…çš„åœ°åŸŸåˆ†å¸ƒï¼ˆ&lt;/span&gt;&lt;span&gt;DTIM æ”¯æŒè·¨åŸŸéƒ¨ç½²ï¼Œ Geographyï¼ŒGeo&lt;/span&gt;&lt;span&gt;ï¼‰åšæ¶ˆæ¯äº‹ä»¶åˆ†æµï¼Œå°†æœ¬åŸŸç”¨æˆ·çš„æ¶ˆæ¯åšæœ¬åœ°å­˜å‚¨å…¥åº“ï¼ˆ&lt;/span&gt;&lt;span&gt;æ¶ˆæ¯ä½“ã€æ¥æ”¶è€…ç»´åº¦ã€å·²è¯»çŠ¶æ€ã€ä¸ªäººä¼šè¯åˆ—è¡¨çº¢ç‚¹æ›´æ–°&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œæœ€åå°†æ¶ˆæ¯ä½“ä»¥åŠæœ¬åŸŸæ¥æ”¶è€…åˆ—è¡¨æ‰“åŒ…ä¸º IM åŒæ­¥äº‹ä»¶é€šè¿‡å¼‚æ­¥é˜Ÿåˆ—è½¬å‘ç»™åŒæ­¥æœåŠ¡ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;æ¶ˆæ¯æ¥æ”¶ ï¼š&lt;/strong&gt;&lt;span&gt;åŒæ­¥æœåŠ¡æŒ‰æ¥æ”¶è€…ç»´åº¦å†™å…¥å„è‡ªçš„åŒæ­¥é˜Ÿåˆ—ï¼ŒåŒæ—¶æŸ¥å–å½“å‰ç”¨æˆ·è®¾å¤‡åœ¨çº¿çŠ¶æ€ï¼Œå½“ç”¨æˆ·åœ¨çº¿æ—¶æå–é˜Ÿåˆ—ä¸­æœªåŒæ­¥çš„æ¶ˆæ¯ï¼Œé€šè¿‡æ¥å…¥å±‚é•¿è¿æ¥æ¨é€åˆ°å„ç«¯ã€‚å½“ç”¨æˆ·ç¦»çº¿æ—¶ï¼Œæ‰“åŒ…æ¶ˆæ¯æ•°æ®ä»¥åŠç¦»çº¿ç”¨æˆ·çŠ¶æ€åˆ—è¡¨ä¸º IM é€šçŸ¥äº‹ä»¶ï¼Œè½¬å‘ç»™é€šçŸ¥æœåŠ¡çš„ PNS æ¨¡å—ï¼ŒPNS æŸ¥è¯¢ç¦»çº¿è®¾å¤‡åšä¸‰æ–¹å‚å•†é€šé“æ¨é€ï¼Œè‡³æ­¤ä¸€æ¡æ¶ˆæ¯çš„æ¨é€æµç¨‹ç»“æŸã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;4.3ã€å­˜å‚¨æ¨¡å‹è®¾è®¡&lt;/h2&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;äº†è§£ IM æœåŠ¡æœ€å¿«çš„é€”å¾„å°±æ˜¯æŒæ¡å®ƒçš„å­˜å‚¨æ¨¡å‹ã€‚&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;ä¸šç•Œä¸»æµ IM æœåŠ¡å¯¹äºæ¶ˆæ¯ã€ä¼šè¯ã€ä¼šè¯ä¸æ¶ˆæ¯çš„ç»„ç»‡å…³ç³»è™½ç„¶ä¸å°½ç›¸åŒï¼Œä½†æ˜¯å½’çº³èµ·æ¥ä¸»è¦æ˜¯ä¸¤ç§å½¢å¼ï¼šå†™æ‰©æ•£è¯»èšåˆã€è¯»æ‰©æ•£å†™èšåˆã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;æ‰€è°“è¯»å†™æ‰©æ•£å…¶å®æ˜¯å®šä¹‰æ¶ˆæ¯åœ¨ç¾¤ç»„ä¼šè¯ä¸­çš„å­˜å‚¨å½¢å¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;å›¾3ï¼š&lt;/strong&gt;&lt;span&gt;è¯»æ¨¡å¼å’Œå†™æ¨¡å¼ â–¼&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.39438085327783556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLZxFHfmicDjISxR3CTWdhicLo1bib1OM58x3u4WsEPWOMKFQYjcDlLWbHzAjH1qQLDfRNpB7TffPCFw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;961&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_3.png&quot;/&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;è¯»æ‰©æ•£çš„åœºæ™¯&lt;/span&gt;ï¼šæ¶ˆæ¯å½’å±äºä¼šè¯ï¼Œå¯¹åº”åˆ°å­˜å‚¨ä¸­ç›¸å½“äºæœ‰å¼  conversation_message çš„è¡¨å­˜å‚¨ç€è¯¥ä¼šè¯äº§ç”Ÿçš„æ‰€æœ‰æ¶ˆæ¯ (cid-&amp;gt;msgid-&amp;gt;messageï¼Œcid ä¼šè¯ IDã€msgid æ¶ˆæ¯ IDã€message æ¶ˆæ¯)ï¼Œè¿™æ ·å®ç°çš„å¥½å¤„æ˜¯æ¶ˆæ¯å…¥åº“æ•ˆç‡é«˜ï¼Œåªå­˜å‚¨ä¼šè¯ä¸æ¶ˆæ¯çš„ç»‘å®šå…³ç³»å³å¯ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;å†™æ‰©æ•£çš„åœºæ™¯&lt;/span&gt;ï¼šä¼šè¯äº§ç”Ÿçš„æ¶ˆæ¯æŠ•é€’åˆ°ç±»ä¼¼äºä¸ªäººé‚®ä»¶çš„æ”¶ä»¶ç®±ï¼Œå³ message_inbox è¡¨ï¼Œå­˜å‚¨ä¸ªäººçš„æ‰€æœ‰æ¶ˆæ¯ï¼ˆuid-&amp;gt;msgid-&amp;gt;messageï¼Œ uid ç”¨æˆ· IDã€msgid æ¶ˆæ¯ IDã€message æ¶ˆæ¯ï¼‰ï¼ŒåŸºäºè¿™ç§å®ç°ï¼Œä¼šè¯ä¸­çš„æ¯æ¡æ¶ˆæ¯é¢å‘ä¸åŒçš„æ¥æ”¶è€…å¯ä»¥å‘ˆç°å‡ºä¸åŒçŠ¶æ€ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;DTIM å¯¹ IM æ¶ˆæ¯çš„åŠæ—¶æ€§ã€å‰åç«¯å­˜å‚¨çŠ¶æ€ä¸€è‡´æ€§è¦æ±‚å¼‚å¸¸ä¸¥æ ¼ï¼Œç‰¹åˆ«å¯¹äºå†å²æ¶ˆæ¯æ¼«æ¸¸çš„è¯‰æ±‚ååˆ†å¼ºçƒˆï¼Œå½“å‰ä¸šç•Œ IM äº§å“å¯¹äºæ¶ˆæ¯é•¿æ—¶é—´å­˜å‚¨å’Œå®¢æˆ·ç«¯å†å²æ¶ˆæ¯å¤šç«¯æ¼«æ¸¸éƒ½åšå¾—ä¸å°½å¦‚äººæ„ï¼Œä¸»è¦æ˜¯å­˜å‚¨æˆæœ¬è¿‡é«˜ã€‚å› æ­¤åœ¨äº§å“ä½“éªŒä¸æŠ•å…¥æˆæœ¬ä¹‹é—´éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;é‡‡ç”¨è¯»æ‰©æ•£ï¼š&lt;/strong&gt;&lt;span&gt;åœ¨ä¸ªæ€§åŒ–çš„æ¶ˆæ¯æ‰©å±•åŠå®ç°å±‚é¢æœ‰å¾ˆå¤§çš„çº¦æŸã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;é‡‡ç”¨å†™æ‰©æ•£å¸¦æ¥çš„é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼š&lt;/strong&gt;&lt;span&gt;ä¸€ä¸ªç¾¤æˆå‘˜ä¸º N çš„ä¼šè¯ä¸€æ—¦äº§ç”Ÿæ¶ˆæ¯å°±ä¼šæ‰©æ•£ N æ¡æ¶ˆæ¯è®°å½•ï¼Œå¦‚æœåœ¨æ¶ˆæ¯å‘é€å’Œæ‰©æ•£é‡è¾ƒå°‘çš„åœºæ™¯ï¼Œè¿™æ ·çš„å®ç°ç›¸æ¯”äºè¯»æ‰©æ•£è½åœ°æ›´ä¸ºç®€å•ï¼Œå­˜å‚¨æˆæœ¬ä¹Ÿä¸æ˜¯é—®é¢˜ã€‚ä½†æ˜¯ DTIM ä¼šè¯æ´»è·ƒåº¦è¶…é«˜ï¼Œä¸€æ¡æ¶ˆæ¯çš„å¹³å‡æ‰©æ•£æ¯”å¯ä»¥è¾¾åˆ° 1ï¼š30ï¼Œè¶…å¤§ç¾¤åˆæ˜¯ä¼ä¸š IM æœ€æ ¸å¿ƒçš„æ²Ÿé€šåœºæ™¯ï¼Œå¦‚æœé‡‡ç”¨å®Œå…¨å†™æ‰©æ•£æ‰€å¸¦æ¥å­˜å‚¨æˆæœ¬é—®é¢˜åŠ¿å¿…åˆ¶çº¦é’‰é’‰ä¸šåŠ¡å‘å±•ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;æ‰€ä»¥ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åœ¨ DTIM çš„å­˜å‚¨å®ç°ä¸Šï¼Œé’‰é’‰é‡‡å–äº†æ··åˆçš„æ–¹æ¡ˆï¼Œå°†è¯»æ‰©æ•£å’Œå†™æ‰©æ•£é’ˆå¯¹ä¸åŒåœºæ™¯åšäº†é€‚é…ï¼Œæœ€ç»ˆåœ¨ç”¨æˆ·è§†è§’ç³»ç»Ÿä¼šåšç»Ÿä¸€åˆå¹¶&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;å›¾4ï¼š&lt;/strong&gt;&lt;span&gt;DTIM è¯»å†™æ··åˆæ¨¡å¼ â–¼&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.612942612942613&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLZxFHfmicDjISxR3CTWdhicLrczaF55bcjtLJ2MTA7TUjYgiaNbcWcddicrG6sBxuAKhiaQkuwGPhs6BQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;819&quot; title=&quot;é˜¿é‡ŒIMæŠ€æœ¯åˆ†äº«(å…«)ï¼šæ·±åº¦è§£å¯†é’‰é’‰å³æ—¶æ¶ˆæ¯æœåŠ¡DTIMçš„æŠ€æœ¯è®¾è®¡_4.png&quot;/&gt;&lt;/ignore_js_op&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;ä½œä¸ºè¯»æ‰©æ•£ã€å†™æ‰©æ•£æ–¹æ¡ˆçš„æ··åˆå½¢å¼å­˜åœ¨ï¼Œç”¨æˆ·ç»´åº¦çš„æ¶ˆæ¯åˆ†åˆ«ä»Â &lt;/span&gt;&lt;span&gt;conversation_message&lt;/span&gt;&lt;span&gt;Â å’ŒÂ &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â è¡¨ä¸­è·å–ï¼Œåœ¨åº”ç”¨ä¾§æŒ‰æ¶ˆæ¯å‘é€æ—¶é—´åšæ’åºåˆå¹¶ï¼Œ&lt;/span&gt;&lt;span&gt;conversation_message&lt;/span&gt;&lt;span&gt;Â è¡¨ä¸­è®°å½•äº†è¯¥ä¼šè¯é¢å‘æ‰€æœ‰ç¾¤æˆå‘˜æ¥æ”¶çš„æ™®é€šæ¶ˆæ¯ Nï¼ˆ&lt;/span&gt;&lt;span&gt;Normal&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œè€ŒÂ &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â è¡¨åœ¨ä»¥ä¸‹ä¸¤ç§åœºæ™¯ä¸‹è¢«å†™å…¥ï¼š&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;ç¬¬ä¸€ç§æ˜¯ï¼š&lt;/strong&gt;&lt;span&gt;å®šå‘æ¶ˆæ¯ Pï¼ˆ&lt;/span&gt;&lt;span&gt;Privateï¼Œç§æœ‰æ¶ˆæ¯&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œç¾¤ä¼šè¯ä¸­å‘é€çš„æ¶ˆæ¯æŒ‡å®šäº†æ¥æ”¶è€…èŒƒå›´ï¼Œé‚£ä¹ˆä¼šç›´æ¥å†™å…¥åˆ°æ¥æ”¶è€…çš„ message_inbox è¡¨ä¸­ï¼Œæ¯”å¦‚çº¢åŒ…çš„é¢†å–çŠ¶æ€æ¶ˆæ¯åªèƒ½è¢«çº¢åŒ…å‘é€è€…å¯è§ï¼Œé‚£ä¹ˆè¿™ç§æ¶ˆæ¯å³è¢«å®šä¹‰ä¸ºå®šå‘æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;ç¬¬äºŒç§æ˜¯ï¼š&lt;/strong&gt;&lt;span&gt;å½’å±äºä¼šè¯æ¶ˆæ¯çš„çŠ¶æ€è½¬æ¢ NPï¼ˆ&lt;/span&gt;&lt;span&gt;Normal to Privateï¼Œæ™®é€šæ¶ˆæ¯è½¬ç§æœ‰æ¶ˆæ¯&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œå½“ä¼šè¯æ¶ˆæ¯é€šè¿‡æŸç§è¡Œä¸ºä½¿å¾—æŸäº›æ¶ˆæ¯æ¥æ”¶è€…çš„æ¶ˆæ¯çŠ¶æ€å‘ç”Ÿè½¬æ¢æ—¶ï¼Œè¯¥çŠ¶æ€ä¼šå†™å…¥åˆ°Â &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â è¡¨ä¸­ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨æ¥æ”¶ä¾§åˆ é™¤äº†æ¶ˆæ¯ï¼Œé‚£ä¹ˆæ¶ˆæ¯çš„åˆ é™¤çŠ¶æ€ä¼šå†™å…¥åˆ°Â &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â ä¸­ï¼Œåœ¨ç”¨æˆ·æ‹‰å–æ—¶ä¼šé€šè¿‡Â &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â çš„åˆ é™¤çŠ¶æ€å°†Â &lt;/span&gt;&lt;span&gt;conversation_message&lt;/span&gt;&lt;span&gt;Â ä¸­çš„æ¶ˆæ¯åšè¦†ç›–ï¼Œæœ€ç»ˆç”¨æˆ·æ‹‰å–ä¸åˆ°è‡ªå·±å·²åˆ é™¤çš„æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;å½“ç”¨æˆ·åœ¨å®¢æˆ·ç«¯å‘èµ·æŸä¸ªä¼šè¯çš„å†å²æ¶ˆæ¯æ¼«æ¸¸è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯æ ¹æ®ç”¨æˆ·ä¸Šä¼ çš„æ¶ˆæ¯æˆªæ­¢æ—¶é—´ï¼ˆ&lt;/span&gt;&lt;span&gt;message_create_time&lt;/span&gt;&lt;span&gt;ï¼‰åˆ†åˆ«ä»Â &lt;/span&gt;&lt;span&gt;conversation_message&lt;/span&gt;&lt;span&gt;Â è¡¨å’ŒÂ &lt;/span&gt;&lt;span&gt;message_inbox&lt;/span&gt;&lt;span&gt;Â è¡¨æ‹‰å–æ¶ˆæ¯åˆ—è¡¨ï¼Œåœ¨åº”ç”¨å±‚åšçŠ¶æ€çš„åˆå¹¶ï¼Œæœ€ç»ˆè¿”å›ç»™ç”¨æˆ·åˆå¹¶ä¹‹åçš„æ•°æ®ï¼ŒNã€Pã€NP ä¸‰ç§ç±»å‹æ¶ˆæ¯åœ¨æ¶ˆæ¯ä¸ªæ€§åŒ–å¤„ç†å’Œå­˜å‚¨æˆæœ¬ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;4.4ã€åŒæ­¥æ¨¡å‹è®¾è®¡&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;4.4.1&lt;/span&gt;æ¨é€æ¨¡å‹&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;ç”¨æˆ·åœ¨ä¼šè¯ä¸­å‘å‡ºçš„æ¶ˆæ¯å’Œæ¶ˆæ¯çŠ¶æ€å˜æ›´ç­‰äº‹ä»¶æ˜¯å¦‚ä½•åŒæ­¥åˆ°ç«¯ä¸Šå‘¢ï¼Ÿ&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;ä¸šç•Œå…³äºæ¶ˆæ¯çš„åŒæ­¥æ¨¡å‹çš„å®ç°æ–¹æ¡ˆå¤§è‡´æœ‰ä¸‰ç§ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;å®¢æˆ·ç«¯æ‹‰å–æ–¹æ¡ˆï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;æœåŠ¡ç«¯æ¨é€æ–¹æ¡ˆï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;æœåŠ¡ç«¯æ¨é€ä½ç‚¹ä¹‹åå®¢æˆ·ç«¯æ‹‰å–çš„æ¨æ‹‰ç»“åˆæ–¹æ¡ˆã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;ä¸‰ç§æ–¹æ¡ˆå„æœ‰ä¼˜åŠ£ï¼Œåœ¨æ­¤ç®€çŸ­æ€»ç»“ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;é¦–å…ˆ&lt;/span&gt;ï¼šå®¢æˆ·ç«¯æ‹‰å–æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯è¯¥æ–¹æ¡ˆå®æ–½ç®€å•ã€ç ”å‘æˆæœ¬ä½ï¼Œæ˜¯ä¼ ç»Ÿçš„ B/S æ¶æ„ã€‚åŠ£åŠ¿æ˜¯æ•ˆç‡ä½ä¸‹ï¼Œæ‹‰å–é—´éš”æ§åˆ¶æƒåœ¨å®¢æˆ·ç«¯ï¼Œå¯¹äº IM è¿™ç§å®æ—¶çš„åœºæ™¯ï¼Œå¾ˆéš¾è®¾ç½®ä¸€ä¸ªæœ‰æ•ˆçš„æ‹‰å–é—´éš”ï¼Œé—´éš”å¤ªçŸ­å¯¹æœåŠ¡ç«¯å‹åŠ›å¤§ï¼Œé—´éš”å¤ªé•¿æ—¶æ•ˆæ€§å·®ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;å…¶æ¬¡&lt;/span&gt;ï¼šæœåŠ¡ç«¯ä¸»åŠ¨æ¨é€æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯ä½å»¶è¿Ÿã€èƒ½åšåˆ°å®æ—¶ï¼Œæœ€é‡è¦çš„ä¸»åŠ¨æƒåœ¨æœåŠ¡ç«¯ã€‚åŠ£åŠ¿ç›¸å¯¹æ‹‰å–æ–¹æ¡ˆï¼Œå¦‚ä½•åè°ƒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„å¤„ç†èƒ½åŠ›å­˜åœ¨é—®é¢˜ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æœ€å&lt;/span&gt;ï¼šæ¨æ‹‰ç»“åˆè¿™ä¸ªæ–¹æ¡ˆæ•´åˆäº†æ‹‰å’Œæ¨çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯æ–¹æ¡ˆæ›´å¤æ‚ï¼ŒåŒæ—¶ä¼šæ¯”æ¨çš„æ–¹æ¡ˆå¤šä¸€æ¬¡ RTTï¼Œç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨ç½‘ç»œçš„åœºæ™¯ä¸‹ï¼Œä¸å¾—ä¸é¢ä¸´åŠŸè€—å’Œæ¨é€æˆåŠŸç‡çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;DTIM ç›¸å¯¹ä¼ ç»Ÿ toC çš„åœºæ™¯ï¼Œæœ‰è¾ƒæ˜æ˜¾çš„åŒºåˆ«ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;br/&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;ç¬¬ä¸€æ˜¯å¯¹å®æ—¶æ€§çš„è¦æ±‚ï¼š&lt;/strong&gt;&lt;span&gt;åœ¨ä¼ä¸šæœåŠ¡ä¸­ï¼Œæ¯”å¦‚å‘˜å·¥èŠå¤©æ¶ˆæ¯ã€å„ç§ç³»ç»ŸæŠ¥è­¦ï¼Œåˆæ¯”å¦‚éŸ³è§†é¢‘ä¸­çš„å…±äº«ç”»æ¿ï¼Œæ— ä¸è¦æ±‚å®æ—¶äº‹ä»¶åŒæ­¥ï¼Œå› æ­¤éœ€è¦ä¸€ç§ä½å»¶æ—¶çš„åŒæ­¥æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;ç¬¬äºŒæ˜¯å¼±ç½‘æ¥å…¥çš„èƒ½åŠ›ï¼š&lt;/strong&gt;&lt;span&gt;åœ¨ DTIM æœåŠ¡çš„å¯¹è±¡ä¸­ï¼Œä¸Šåƒä¸‡çš„ä¼ä¸šç»„ç»‡æ¶‰åŠå„è¡Œå„ä¸šï¼Œä»å¤§åŸå¸‚ 5G çš„é«˜é€Ÿåˆ°åè¿œçš„å±±åŒºå¼±ç½‘ï¼Œéƒ½éœ€è¦ DTIM çš„æ¶ˆæ¯èƒ½å‘é€ã€èƒ½è§¦è¾¾ã€‚å¯¹äºå¤æ‚çš„ç½‘ç»œç¯å¢ƒï¼Œéœ€è¦æœåŠ¡ç«¯èƒ½åˆ¤æ–­æ¥å…¥ç¯å¢ƒï¼Œå¹¶ä¾æ®ä¸åŒçš„ç¯å¢ƒæ¡ä»¶è°ƒæ•´åŒæ­¥æ•°æ®çš„ç­–ç•¥ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;ç¬¬ä¸‰æ˜¯åŠŸè€—å¯æ§æˆæœ¬å¯æ§ï¼š&lt;/strong&gt;&lt;span&gt;åœ¨ DTIM çš„ä¼ä¸šåœºæ™¯ä¸­ï¼Œæ¶ˆæ¯æ”¶å‘é¢‘ç‡æ¯”ä¼ ç»Ÿçš„ IM å¤šå‡ºä¸€ä¸ªæ•°é‡çº§ï¼Œåœ¨è¿™ä¹ˆå¤§çš„æ¶ˆæ¯æ”¶å‘åœºæ™¯æ€ä¹ˆä¿éšœ DTIM çš„åŠŸè€—å¯æ§ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨ç«¯çš„åŠŸè€—å¯æ§ï¼Œæ˜¯ DTIM å¿…é¡»é¢å¯¹çš„é—®é¢˜ã€‚åœ¨è¿™ç§è¦æ±‚ä¸‹ï¼Œå°±éœ€è¦ DTIM å°½é‡é™ä½ IO æ¬¡æ•°ï¼Œå¹¶åŸºäºä¸åŒçš„æ¶ˆæ¯ä¼˜å…ˆçº§è¿›è¡Œåˆå¹¶åŒæ­¥ï¼Œæ—¢èƒ½è¦ä¿éšœå®æ—¶æ€§ä¸è¢«ç ´åï¼Œåˆè¦åšåˆ°ä½åŠŸè€—ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;ä»ä»¥ä¸Šä¸‰ç‚¹å¯çŸ¥ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨æ¨é€çš„æ¨¡å‹æ›´é€‚åˆ DTIM åœºæ™¯ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;é¦–å…ˆå¯ä»¥åšåˆ°æä½çš„å»¶æ—¶ï¼Œä¿éšœæ¨é€è€—æ—¶åœ¨æ¯«ç§’çº§åˆ«ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;å…¶æ¬¡æ˜¯æœåŠ¡ç«¯èƒ½é€šè¿‡ç”¨æˆ·æ¥å…¥ä¿¡æ¯åˆ¤æ–­ç”¨æˆ·æ¥å…¥ç¯å¢ƒå¥½åï¼Œè¿›è¡Œå¯¹åº”çš„åˆ†åŒ…ä¼˜åŒ–ï¼Œä¿éšœå¼±ç½‘é“¾è·¯ä¸‹çš„æˆåŠŸç‡ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;æœ€åæ˜¯ä¸»åŠ¨æ¨é€ç›¸å¯¹äºæ¨æ‹‰ç»“åˆæ¥è¯´ï¼Œå¯ä»¥é™ä½ä¸€æ¬¡ IOï¼Œå¯¹ DTIM è¿™ç§æ¯åˆ†é’Ÿè¿‡äº¿æ¶ˆæ¯æœåŠ¡æ¥è¯´ï¼Œèƒ½æå¤§çš„é™ä½è®¾å¤‡åŠŸè€—ï¼ŒåŒæ—¶é…åˆæ¶ˆæ¯ä¼˜å…ˆçº§åˆå¹¶åŒ…çš„ä¼˜åŒ–ï¼Œè¿›ä¸€æ­¥é™ä½ç«¯çš„åŠŸè€—ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;è™½è¯´ä¸»åŠ¨æ¨é€æœ‰è¯¸å¤šä¼˜åŠ¿ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¼šç¦»çº¿ï¼Œç”šè‡³å®¢æˆ·ç«¯å¤„ç†é€Ÿåº¦æ— æ³•è·Ÿä¸ŠæœåŠ¡ç«¯çš„é€Ÿåº¦ï¼Œå¿…ç„¶å¯¼è‡´æ¶ˆæ¯å †ç§¯ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;DTIM ä¸ºäº†åè°ƒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯å¤„ç†èƒ½åŠ›ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ”¯æŒ Rebase çš„èƒ½åŠ›ï¼Œå½“æœåŠ¡ç«¯æ¶ˆæ¯å †ç§¯çš„æ¡æ•°è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶è§¦å‘ Rebaseï¼Œå®¢æˆ·ç«¯ä¼šä» DTIM æ‹‰å–æœ€æ–°çš„æ¶ˆæ¯ï¼ŒåŒæ—¶æœåŠ¡ç«¯è·³è¿‡è¿™éƒ¨åˆ†æ¶ˆæ¯ä»æœ€æ–°çš„ä½ç‚¹å¼€å§‹æ¨é€æ¶ˆæ¯ã€‚DTIM ç§°è¿™ä¸ªåŒæ­¥æ¨¡å‹ä¸ºæ¨ä¼˜å…ˆæ¨¡å‹ï¼ˆ&lt;/span&gt;&lt;span&gt;Preferentially-Push Modelï¼ŒPPM&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚ï»¿&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;åœ¨åŸºäº PPM çš„æ¨é€æ–¹æ¡ˆä¸‹ï¼Œä¸ºäº†ä¿éšœæ¶ˆæ¯çš„å¯é è¾¾åˆ°ï¼ŒDTIM è¿˜åšä¸€ç³»åˆ—ä¼˜åŒ–ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;è¿™äº›ä¼˜åŒ–å…·ä½“æ˜¯ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æ”¯æŒæ¶ˆæ¯å¯é‡å…¥&lt;/span&gt;ï¼šæœåŠ¡ç«¯å¯èƒ½ä¼šé’ˆå¯¹æŸæ¡æ¶ˆæ¯åšé‡å¤æ¨é€ï¼Œå®¢æˆ·ç«¯éœ€è¦æ ¹æ® msgId åšå»é‡å¤„ç†ï¼Œé¿å…ç«¯ä¸Šæ¶ˆæ¯é‡å¤å±•ç¤ºã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æ”¯æŒæ¶ˆæ¯æ’åº&lt;/span&gt;ï¼šæœåŠ¡ç«¯æ¨é€æ¶ˆæ¯ç‰¹åˆ«æ˜¯ç¾¤æ¯”è¾ƒæ´»è·ƒçš„åœºæ™¯ï¼ŒæŸæ¡æ¶ˆæ¯ç”±äºæ¨é€é“¾è·¯æˆ–è€…ç«¯ä¾§ç½‘ç»œæŠ–åŠ¨ï¼Œæ¨é€å¤±è´¥ï¼Œè€Œæ–°çš„æ¶ˆæ¯æ­£å¸¸æ¨é€åˆ°ç«¯ä¾§ï¼Œå¦‚æœç«¯ä¸Šä¸åšæ¶ˆæ¯æ’åºçš„è¯ï¼Œæ¶ˆæ¯åˆ—è¡¨å°±ä¼šå‘ç”Ÿä¹±åºï¼Œæ‰€ä»¥æœåŠ¡ç«¯ä¼šä¸ºæ¯æ¡æ¶ˆæ¯åˆ†é…ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå®¢æˆ·ç«¯æ¯æ¬¡è¿›å…¥æ¶ˆæ¯åˆ—è¡¨å°±æ˜¯æ ¹æ®æ—¶é—´æˆ³åšæ’åºå†æŠ•é€’ç»™ UI å±‚åšæ¶ˆæ¯å±•ç¤ºã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;æ”¯æŒç¼ºå¤±æ•°æ®å›è¡¥&lt;/span&gt;ï¼šåœ¨æŸä¸ªæç«¯æƒ…å†µä¸‹å®¢æˆ·ç«¯ç¾¤æ¶ˆæ¯äº‹ä»¶æ¯”ç¾¤åˆ›å»ºäº‹ä»¶æ›´æ—©åˆ°è¾¾ç«¯ä¸Šï¼Œæ­¤æ—¶ç«¯ä¸Šæ²¡æœ‰ç¾¤çš„åŸºæœ¬ä¿¡æ¯æ¶ˆæ¯ä¹Ÿå°±æ— æ³•å±•ç°ï¼Œæ‰€ä»¥éœ€è¦å®¢æˆ·ç«¯ä¸»åŠ¨å‘æœåŠ¡ç«¯æ‹‰å–ç¾¤ä¿¡æ¯åŒæ­¥åˆ°æœ¬åœ°ï¼Œå†åšæ¶ˆæ¯çš„é€å‡ºã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;4.4.2&lt;/span&gt;å¤šç«¯æ•°æ®ä¸€è‡´æ€§&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;å¤šç«¯æ•°æ®ä¸€è‡´æ€§é—®é¢˜ä¸€ç›´æ˜¯å¤šç«¯åŒæ­¥æœ€æ ¸å¿ƒçš„é—®é¢˜ï¼Œå•ä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶åœ¨ PCã€Pad ä»¥åŠ Mobile ç™»å½•ï¼Œæ¶ˆæ¯ã€ä¼šè¯çº¢ç‚¹ç­‰çŠ¶æ€éœ€è¦åœ¨å¤šç«¯ä¿æŒä¸€è‡´ï¼Œå¹¶ä¸”ç”¨æˆ·æ›´æ¢è®¾å¤‡æƒ…å†µä¸‹æ¶ˆæ¯å¯ä»¥åšå…¨é‡çš„å›æº¯ã€‚ï»¿&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;åŸºäºä¸Šé¢çš„ä¸šåŠ¡è¯‰æ±‚ä»¥åŠç³»ç»Ÿå±‚é¢é¢ä¸´çš„è¯¸å¤šæŒ‘æˆ˜ï¼Œé’‰é’‰è‡ªç ”äº†åŒæ­¥æœåŠ¡æ¥è§£å†³ä¸€è‡´æ€§é—®é¢˜ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;é’‰é’‰çš„åŒæ­¥æœåŠ¡çš„è®¾è®¡ç†å¿µå’ŒåŸåˆ™å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;1ï¼‰&lt;/strong&gt;&lt;/em&gt;ç»Ÿä¸€æ¶ˆæ¯æ¨¡å‹æŠ½è±¡ï¼Œå¯¹äº DTIM æœåŠ¡äº§ç”Ÿçš„æ–°æ¶ˆæ¯ä»¥åŠå·²è¯»äº‹ä»¶ã€ä¼šè¯å¢åˆ æ”¹ã€å¤šç«¯çº¢ç‚¹æ¸…é™¤ç­‰äº‹ä»¶ç»Ÿä¸€æŠ½è±¡ä¸ºåŒæ­¥æœåŠ¡çš„äº‹ä»¶ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;2ï¼‰&lt;/strong&gt;&lt;/em&gt;åŒæ­¥æœåŠ¡ä¸æ„ŸçŸ¥äº‹ä»¶çš„ç±»å‹ä»¥åŠæ•°æ®åºåˆ—åŒ–æ–¹å¼ã€‚åŒæ­¥æœåŠ¡ä¸ºæ¯ä¸ªç”¨æˆ·çš„äº‹ä»¶åˆ†é…ä¸€ä¸ªè‡ªå¢çš„ IDï¼ˆæ³¨ï¼šè¿™é‡Œéè¿ç»­é€’å¢ï¼‰ï¼Œç¡®ä¿æ¶ˆæ¯å¯ä»¥æ ¹æ® ID åšéå†çš„æœ‰åºæŸ¥è¯¢ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;3ï¼‰&lt;/strong&gt;&lt;/em&gt;ç»Ÿä¸€åŒæ­¥é˜Ÿåˆ—ï¼ŒåŒæ­¥æœåŠ¡ä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…äº†ä¸€ä¸ª FIFO çš„é˜Ÿåˆ—å­˜å‚¨ï¼Œè‡ªå¢ id å’Œäº‹ä»¶ä¸²è¡Œå†™å…¥é˜Ÿåˆ—ï¼›å½“æœ‰äº‹ä»¶æ¨é€æ—¶ï¼ŒæœåŠ¡ç«¯æ ¹æ®ç”¨æˆ·å½“å‰å„ç«¯åœ¨çº¿è®¾å¤‡çŠ¶æ€åšå¢é‡å˜æ›´ï¼Œå°†å¢é‡äº‹ä»¶æ¨é€åˆ°å„ç«¯ï¼›&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;4ï¼‰&lt;/strong&gt;&lt;/em&gt;æ ¹æ®è®¾å¤‡å’Œç½‘ç»œè´¨é‡çš„ä¸åŒå¯ä»¥åšå¤šç§åˆ†åŒ…æ¨é€ç­–ç•¥ï¼Œç¡®ä¿æ¶ˆæ¯å¯ä»¥æœ‰åºã€å¯é ã€é«˜æ•ˆçš„å‘é€ç»™å®¢æˆ·ç«¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;&lt;strong&gt;ä¸Šé¢ä»‹ç»äº† DTIM çš„å­˜å‚¨æ¨¡å‹ä»¥åŠåŒæ­¥æ¨¡å‹çš„è®¾è®¡ä¸æ€è€ƒï¼š&lt;/strong&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;äº”ã€ç›¸å…³èµ„æ–™&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[1]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¼ä¸šçº§IMç‹è€…â€”â€”é’‰é’‰åœ¨åç«¯æ¶æ„ä¸Šçš„è¿‡äººä¹‹å¤„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-2848-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[2]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ç°ä»£IMç³»ç»Ÿä¸­èŠå¤©æ¶ˆæ¯çš„åŒæ­¥å’Œå­˜å‚¨æ–¹æ¡ˆæ¢è®¨&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-1230-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[3]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; é’‰é’‰â€”â€”åŸºäºIMæŠ€æœ¯çš„æ–°ä¸€ä»£ä¼ä¸šOAå¹³å°çš„æŠ€æœ¯æŒ‘æˆ˜(è§†é¢‘+PPT)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-527-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[4]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¸€å¥—äº¿çº§ç”¨æˆ·çš„IMæ¶æ„æŠ€æœ¯å¹²è´§(ä¸Šç¯‡)ï¼šæ•´ä½“æ¶æ„ã€æœåŠ¡æ‹†åˆ†ç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-3393-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[5]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¸€å¥—äº¿çº§ç”¨æˆ·çš„IMæ¶æ„æŠ€æœ¯å¹²è´§(ä¸‹ç¯‡)ï¼šå¯é æ€§ã€æœ‰åºæ€§ã€å¼±ç½‘ä¼˜åŒ–ç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-3445-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[6]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä»æ–°æ‰‹åˆ°ä¸“å®¶ï¼šå¦‚ä½•è®¾è®¡ä¸€å¥—äº¿çº§æ¶ˆæ¯é‡çš„åˆ†å¸ƒå¼IMç³»ç»Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-3472-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[7]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¼ä¸šå¾®ä¿¡çš„IMæ¶æ„è®¾è®¡æ­ç§˜ï¼šæ¶ˆæ¯æ¨¡å‹ã€ä¸‡äººç¾¤ã€å·²è¯»å›æ‰§ã€æ¶ˆæ¯æ’¤å›ç­‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-3631-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[8]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; å…¨é¢æ­ç§˜äº¿çº§IMæ¶ˆæ¯çš„å¯é æŠ•é€’æœºåˆ¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-3638-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[9]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¸€å¥—é«˜å¯ç”¨ã€æ˜“ä¼¸ç¼©ã€é«˜å¹¶å‘çš„IMç¾¤èŠã€å•èŠæ¶æ„æ–¹æ¡ˆè®¾è®¡å®è·µ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-2015-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[10]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¸€å¥—æµ·é‡åœ¨çº¿ç”¨æˆ·çš„ç§»åŠ¨ç«¯IMæ¶æ„è®¾è®¡å®è·µåˆ†äº«(å«è¯¦ç»†å›¾æ–‡)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-812-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;[11]&lt;/strong&gt;&lt;/span&gt;&lt;span&gt; ä¸€å¥—åŸåˆ›åˆ†å¸ƒå¼å³æ—¶é€šè®¯(IM)ç³»ç»Ÿç†è®ºæ¶æ„æ–¹æ¡ˆ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;http://www.52im.net/thread-151-1-1.html&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;å…­ã€å…¨æ–‡é“¾æ¥&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å³æ—¶é€šè®¯ç½‘(52im.net)&lt;/span&gt;&lt;span&gt;&lt;span&gt;ç¤¾åŒºé“¾æ¥ï¼š&lt;/span&gt;&lt;span&gt;http://www.52im.net/thread-4012-1-1.html&lt;/span&gt;&lt;span&gt;ï¼Œæˆ–ç‚¹å‡»ä¸‹æ–‡çš„â€œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é˜…è¯»åŸæ–‡&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;â€ï¼&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>2db63b691ae0141504e170bab0516fce</guid>
<title>å¦‚ä½•åšå¥½åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦â€”â€”Scheduler çš„ä¸€äº›æ¢ç´¢</title>
<link>https://toutiao.io/k/jp5tr8p</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-id=&quot;MzI1MzYzMjE0MQ==&quot; data-pluginname=&quot;mpprofile&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhkoWTP1gVm0Lqs480XOARyoSYjPEsRVCSF35cbWIp6cliaYic8KUfNfiaSjVnruzTQUTCA0lmv9vUmw/0?wx_fmt=png&quot; data-nickname=&quot;å­—èŠ‚è·³åŠ¨æŠ€æœ¯å›¢é˜Ÿ&quot; data-alias=&quot;BytedanceTechBlog&quot; data-signature=&quot;å­—èŠ‚è·³åŠ¨çš„æŠ€æœ¯å®è·µåˆ†äº«&quot; data-from=&quot;2&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åŠ¨æ‰‹ç‚¹å…³æ³¨Â å¹²è´§ä¸è¿·è·¯&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;Â ğŸ‘†&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-type=&quot;quote_container&quot;&gt;&lt;p&gt;ä½œè€…ï¼šå¼ å®‡è½©ï¼Œç« é€¸ï¼Œæ›¾ä¸¹&lt;/p&gt;&lt;/blockquote&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆè¯† Scheduler&lt;/p&gt;&lt;/section&gt;&lt;h2&gt;æ‰¾å‡†å®šä½ï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æ— è®ºæ˜¯äº’è”ç½‘åº”ç”¨æˆ–è€…ä¼ä¸šçº§åº”ç”¨ï¼Œéƒ½å……æ–¥ç€å¤§é‡çš„ä»»åŠ¡ã€‚æˆ‘ä»¬å¸¸å¸¸éœ€è¦ä¸€äº›ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬è§£å†³é—®é¢˜ã€‚éšç€å¾®æœåŠ¡åŒ–æ¶æ„çš„é€æ­¥æ¼”è¿›ï¼Œå•ä½“æ¶æ„é€æ¸æ¼”å˜ä¸ºåˆ†å¸ƒå¼ã€å¾®æœåŠ¡æ¶æ„ã€‚åœ¨æ­¤çš„èƒŒæ™¯ä¸‹ï¼Œå¾ˆå¤šåŸå…ˆçš„å•ç‚¹å¼ä»»åŠ¡è°ƒåº¦å¹³å°å·²ç»ä¸èƒ½æ»¡è¶³ä¸šåŠ¡ç³»ç»Ÿçš„éœ€æ±‚ã€‚äºæ˜¯å‡ºç°äº†ä¸€äº›åŸºäºåˆ†å¸ƒå¼çš„ä»»åŠ¡è°ƒåº¦å¹³å°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Scheduler æ˜¯é£ä¹¦å†…çš„åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ã€‚åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦èƒ½åŠ›ä¸»è¦åŒ…æ‹¬ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;åˆ†å¸ƒå¼ï¼šå¹³å°æ˜¯åˆ†å¸ƒå¼éƒ¨ç½²çš„ï¼Œå„ä¸ªèŠ‚ç‚¹ä¹‹é—´å¯ä»¥æ— çŠ¶æ€å’Œæ— é™çš„æ°´å¹³æ‰©å±•ï¼ˆ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ä¿è¯å¯æ‰©å±•ï¼‰ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä»»åŠ¡è°ƒåº¦ï¼šæ¶‰&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;åŠåˆ°ä»»åŠ¡çŠ¶æ€ç®¡ç†ã€ä»»åŠ¡è°ƒåº¦è¯·æ±‚çš„å‘é€ä¸æ¥æ”¶ã€å…·ä½“ä»»åŠ¡çš„åˆ†é…ã€ä»»åŠ¡çš„å…·ä½“æ‰§è¡Œï¼›ï¼ˆé›†ç¾¤ä¸­å“ªäº›æœºå™¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ï¼Œæ‰€ä»¥åˆéœ€è¦ä¸€ä¸ªå¯ä»¥æ„ŸçŸ¥æ•´ä¸ªé›†ç¾¤è¿è¡ŒçŠ¶æ€çš„é…ç½®ä¸­å¿ƒï¼‰ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;é…ç½®ä¸­å¿ƒï¼šå¯ä»¥æ„ŸçŸ¥æ•´ä¸ªé›†ç¾¤çš„çŠ¶æ€ã€ä»»åŠ¡ä¿¡æ¯çš„æ³¨å†Œã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;æ‘¸æ¸…è„‰ç»œï¼šSchedulerçš„ç»“æ„å’Œæ ¸å¿ƒæ¨¡å—&lt;/h2&gt;&lt;blockquote data-type=&quot;quote_container&quot;&gt;&lt;p&gt;&lt;strong&gt;åè¯è§£é‡Šï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Processor: ç¼–ç¨‹å¤„ç†å™¨, æ‹¥æœ‰ä¸€å®šçš„ç¼–ç¨‹è§„èŒƒ, ç”¨æˆ·è‡ªå®šä¹‰å®ç°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Executor: ä¸€ä¸ª SDKï¼Œè¿è¡Œ Processor çš„è¿›è¡Œå®¹å™¨ï¼Œä¸ Scheduler é€šä¿¡çš„è½½ä½“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Jobï¼šç”¨æˆ·åˆ›å»ºçš„ä»»åŠ¡ï¼Œå…¶ä¸­åŒ…å«ä»»åŠ¡çš„è°ƒåº¦è§„åˆ™ã€è°ƒåº¦æ¨¡å‹ã€æ‰§è¡Œå™¨åç§°ç­‰ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Instanceï¼šè¿è¡Œæ€çš„Jobï¼Œæ¯å½“Jobè§¦å‘åä¼šç”Ÿæˆä¸€ä¸ªInstanceï¼Œè®°å½•æœ¬æ¬¡æ‰§è¡Œçš„è°ƒåº¦ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Taskï¼šæœ€å°æ‰§è¡Œå•å…ƒï¼Œä¸åŒè°ƒåº¦æ¨¡å‹çš„ä»»åŠ¡äº§ç”Ÿçš„Taskæ•°é‡ä¸åŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/blockquote&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.7116071428571429&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4sSGiaIXXWIYibdzfKibuy2boZI1K4gXF8DogCMg32ic7zeia7bu38fwOnEA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1120&quot;/&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡æ¶æ„å›¾å¯ä»¥å‘ç°ï¼ŒSchedulerä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;è°ƒåº¦å™¨ (Scheduler)ï¼šä»»åŠ¡è°ƒåº¦ä¸­å¿ƒï¼Œè´Ÿè´£ç®¡ç†ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸã€‚æ¥å—ä»»åŠ¡æ³¨å†Œï¼Œå‡†æ—¶å‡†ç¡®æ‰¾å‡ºå¾…è§¦å‘çš„ä»»åŠ¡ï¼Œè¿›è¡Œä»»åŠ¡æ‹†åˆ†ä¸‹å‘ã€‚æ‰¾å‡ºä¸ä¹‹å…³è”çš„æ‰§è¡Œå™¨å¹¶ä¸‹å‘å¯¹åº”ä»»åŠ¡ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ‰§è¡Œå™¨ (Executor)ï¼šæ¥æ”¶è°ƒåº¦ä»»åŠ¡ï¼Œå¹¶å°†è‡ªèº«çŠ¶æ€ä¸ŠæŠ¥ç»™è°ƒåº¦å™¨ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ§åˆ¶å° (Web å‰ç«¯)ï¼šè´Ÿè´£é…ç½®æ‰§è¡Œå™¨çš„ä¿¡æ¯ä»¥åŠè°ƒåº¦ä»»åŠ¡çš„é…ç½®ã€ä»»åŠ¡çŠ¶æ€ã€ä¿¡æ¯å±•ç¤ºã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¥è¯è§£é‡Šæ¸…æ¥š Scheduler æ‰€åšçš„äº‹æƒ…ï¼Œå³ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åœ¨ã€ŒæŒ‡å®šæ—¶é—´ã€ã€Œé€šçŸ¥æ‰§è¡Œå™¨ã€ä»¥ã€ŒæŒ‡å®šæ–¹å¼ã€æ‰§è¡Œä»»åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™å¥è¯ä¸­åŒ…å«äº†ä¸‰ä¸ªå…³é”®ç‚¹ï¼Œä¹Ÿåˆ†åˆ«ä»£è¡¨ç€ Scheduler çš„ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æŒ‡å®šæ—¶é—´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šä»»åŠ¡çš„è§¦å‘è§„åˆ™ï¼Œå¦‚ï¼šæ¯å¤©æ—©ä¸Š8ç‚¹ã€æ¯å‘¨äºŒã€æ¯æœˆ15å·ç­‰ã€‚&lt;strong&gt;è§¦å‘å™¨æ¨¡å—&lt;/strong&gt;ï¼ˆLauncher Cronï¼‰è´Ÿè´£ä»»åŠ¡è§¦å‘ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æŒ‡å®šæ–¹å¼&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šä»»åŠ¡çš„æ‰§è¡Œå½¢å¼ï¼Œå¦‚ï¼šå•æ’­ä»»åŠ¡-æŒ‡å®šä¸€ä¸ªæœºå™¨æ‰§è¡Œï¼›å¹¿æ’­ä»»åŠ¡-æŒ‡å®šæ‰€æœ‰æœºå™¨æ‰§è¡Œï¼›åˆ†ç‰‡ä»»åŠ¡-ä»»åŠ¡åˆ†é˜¶æ®µåˆ†æ‰¹çš„æ‰§è¡Œã€‚&lt;strong&gt;åˆ†æ´¾å™¨æ¨¡å—&lt;/strong&gt;ï¼ˆAssignment Cronï¼‰è´Ÿè´£ä»»åŠ¡çš„æ‰§è¡Œæ–¹å¼ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;é€šçŸ¥æ‰§è¡Œå™¨&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šå°†ä»»åŠ¡å‘é€åˆ°æŒ‡å®šæ‰§è¡Œå™¨ï¼Œæ‰§è¡Œä»»åŠ¡ã€‚&lt;strong&gt;æ´¾é£å™¨æ¨¡å—&lt;/strong&gt;ï¼ˆDispatcher Cronï¼‰è´Ÿè´£ä»»åŠ¡çš„å‘é€ï¼Œé‡‡ç”¨æµå¼é€šä¿¡ï¼Œè°ƒåº¦å™¨ä»¥&lt;strong&gt;æ¨é€&lt;/strong&gt;çš„æ–¹å¼å°†ä»»åŠ¡å‘é€ç»™æ‰§è¡Œå™¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;åœ¨ä¸€ä¸ªJobçš„è°ƒåº¦å‘¨æœŸä¸­ï¼Œå„ä¸ªæ¨¡å—å„å¸å…¶èŒï¼Œæ•´ä¸ªæµç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.209375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4A59zI8eK454p5icQjusOLRykMWwGiah7PwmDn98liaicicJx6ibYuKWhnzWA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æ‹¥æœ‰è¿™ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—åï¼ŒScheduler å·²å…·å¤‡äº†æˆç†Ÿçš„ä»»åŠ¡è°ƒåº¦åŠŸèƒ½ã€‚å¦å¤–ï¼Œä¸ºäº†å¢åŠ  Scheduler çš„ç¨³å®šæ€§ï¼Œæœ‰é¢å¤–ä¸¤ä¸ªæ¨¡å—ä¸ºå…¶ä¿é©¾æŠ¤èˆªï¼š&lt;/span&gt;&lt;/section&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å¥åº·ç®¡ç†æ¨¡å—&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; (Service Health Cron): è´Ÿè´£ç®¡ç† Job çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ£€æµ‹æœªæ­£å¸¸æ´¾å‘æ‰§è¡Œçš„ Jobã€Instance å’Œ Taskï¼Œå¹¶å°†ç»“æœä¸ŠæŠ¥ç»™è¿ç»´äººå‘˜ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä»»åŠ¡è¿›åº¦åˆ·æ–°æ¨¡å—&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt; (Task Cron): å¼‚æ­¥æ›´æ–° Task çŠ¶æ€ï¼Œæµé‡è¾ƒé«˜æ—¶è¿›è¡Œå‰Šå³°ï¼Œä¿è¯ä¾èµ–çš„ mysql åŠ redis ä¸å› ä¸ºæµé‡è¿‡é«˜è€Œå‡ºç°é—®é¢˜ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;æœ¬ç¯‡æ–‡ç« ä¸å¯¹ Scheduler æ‰€æ”¯æŒçš„å®šæ—¶ä»»åŠ¡èƒ½åŠ›ä½œèµ˜è¿°ï¼Œè€Œæ˜¯ä»ä¸‰ä¸ªæ–¹é¢ï¼ˆ&lt;strong&gt;æ˜“ç”¨æ€§ã€å¤šåŠŸèƒ½æ€§ã€ç¨³å®šæ€§&lt;/strong&gt;ï¼‰ä»‹ç» Scheduler å¯¹äºåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦çš„æ€è€ƒå’Œæ¢ç´¢ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ã€Œæ˜“ç”¨æ€§ã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;: å†³å®šäº†ç”¨æˆ·æ˜¯å¦é€‰æ‹©ä½¿ç”¨è¯¥æ¡†æ¶çš„æ„æ„¿ï¼Œä¸€ä¸ªå¥½çš„æ¡†æ¶å¿…é¡»æ˜¯æ˜“ç”¨ä¸”å¿«é€Ÿæ¥å…¥çš„ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ã€Œå¤šåŠŸèƒ½æ€§ã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;: æ¥å…¥æ–¹éœ€æ±‚å¤šç§å¤šæ ·ï¼Œè¦ç«™åœ¨ç”¨æˆ·è§’åº¦æƒ³é—®é¢˜ï¼Œä¸èƒ½é—­é—¨é€ è½¦ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ã€Œç¨³å®šæ€§ã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;: å¯¹äºåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°æ¥è¯´ï¼Œä¸ä»…ä»…å±€é™äºè‡ªèº«çš„ç¨³å®šæ€§ï¼Œæ¥å…¥æ–¹çš„ç¨³å®šæ€§ä¹Ÿååˆ†é‡è¦ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1&gt;æ¢ä½æ€è€ƒ-å¿«é€Ÿæ¥å…¥&lt;/h1&gt;&lt;h2&gt;èƒŒæ™¯ï¼šæ•ˆç‡è‡³ä¸Šï¼Œæ—¶é—´æ˜¯é‡‘&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä»¥å­—èŠ‚è·³åŠ¨å†…éƒ¨ä¸ºä¾‹ï¼Œå½“å‰å›¢é˜Ÿæƒ³è¦å®ç°ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æœ‰å¤šç§æ–¹å¼ï¼šæ¥å…¥å­—èŠ‚äº‘çš„ cronjob å¹³å°ã€è‡ªå·±å®ç°ä¸€å¥—å®šæ—¶ä»»åŠ¡æ¡†æ¶æˆ–è€…æ¥å…¥ç¬¬ä¸‰æ–¹å®šæ—¶ä»»åŠ¡æ¡†æ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºç¬¬ä¸€ç§æ¥å…¥ cronjob å¹³å°ï¼Œæ¯ä¸€ç§å®šæ—¶ä»»åŠ¡éƒ½éœ€è¦æ³¨å†Œå„è‡ªçš„ psm å’Œè¿è¡Œæ—¶ç¯å¢ƒï¼ˆé•œåƒï¼‰ï¼Œå½“ä»»åŠ¡éœ€è¦è®¿é—®ä¾èµ–èµ„æºå¦‚ redis/db ç­‰æ—¶ï¼Œéœ€è¦å„è‡ªæ·»åŠ æˆæƒã€‚ä»»åŠ¡ä»£ç é€»è¾‘æœ‰å˜åŒ–æ—¶ä¹Ÿéœ€è¦å„è‡ªå‡çº§ï¼Œå¯¼è‡´å¼€å‘ã€ç®¡ç†èµ·æ¥è¾ƒä¸ºå¤æ‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯¹äºç¬¬äºŒç§è‡ªå·±å®ç°ä¸€å¥—å®šæ—¶ä»»åŠ¡æ¡†æ¶ï¼Œä¸ä»…æ•´ä½“å¼€å‘æ—¶é—´è¾ƒé•¿ï¼Œä¸”éœ€è¦å¤§é‡æ—¶é—´è¿›è¡Œæµ‹è¯•å›å½’æ¥ä¿è¯æ¡†æ¶çš„ç¨³å®šæ€§ã€‚å¦‚æœé¡¹ç›®å†…ä½¿ç”¨åˆ°çš„å®šæ—¶ä»»åŠ¡è¾ƒå¤šï¼Œé‚£ä¹ˆè‡ªèº«ç ”å‘ä¸€å¥—æ¡†æ¶ç”¨é€”ä¹Ÿè¾ƒå¹¿æ³›ï¼›è‹¥é¡¹ç›®ä¸­ä½¿ç”¨åˆ°çš„å®šæ—¶ä»»åŠ¡è¾ƒå°‘ï¼Œåˆ™ ROI è¾ƒä½ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿåªæ˜¯ä¸ºäº†é€ è½®å­è€Œé€ è½®å­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ï¼Œå¤§å¤šæ•°é¡¹ç›®é¢å¯¹å¢åŠ å®šæ—¶ä»»åŠ¡çš„éœ€æ±‚æ—¶ï¼Œéƒ½ä¼šå¯»æ±‚ç›´æ¥æ¥å…¥ç¬¬ä¸‰æ–¹æˆç†Ÿçš„å®šæ—¶ä»»åŠ¡æ¡†æ¶ã€‚å¯¹äºä»–ä»¬æ¥è¯´ï¼Œæ˜¯å¦æ˜“äºæ¥å…¥ã€ä¸ç°æœ‰ä»£ç è”ç³»æ˜¯å¦ç´§å¯†ã€è°ƒè¯•æ˜¯å¦æ–¹ä¾¿æ˜¯å¾ˆé‡è¦çš„é€‰å–æŒ‡æ ‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŸºäºè¿™ç§èƒŒæ™¯ï¼ŒScheduler åœ¨è®¾è®¡æ—¶å°±ç«™åœ¨äº†æ¥å…¥æ–¹çš„è§’åº¦ï¼Œæ€è€ƒäº†å¦‚ä½•è®©æ¥å…¥æ–¹èƒ½å¤Ÿåœ¨æœ€çŸ­æ—¶é—´å†…ä»¥æœ€ä½æˆæœ¬æ¥å…¥ Schedulerï¼Œå®ç°è‡ªå·±çš„å®šæ—¶ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;åˆ†æï¼šç«™åœ¨ç”¨æˆ·è§’åº¦æƒ³é—®é¢˜&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ç«™åœ¨æ¥å…¥æ–¹è§’åº¦ï¼Œå¯¹å®šæ—¶ä»»åŠ¡æ¡†æ¶è¿›è¡Œé€‰å‹æ—¶æœ€å…³æ³¨çš„å‡ ä¸ªç‚¹æ— éæ˜¯å®šæ—¶ä»»åŠ¡æ‰§è¡Œå‡†ç¡®æ€§ã€æœ€é«˜æ”¯æŒ qpsã€å®šæ—¶è®¾ç½®å¤šæ ·æ€§ã€æ¥å…¥æˆæœ¬è¿™å‡ ä¸ªã€‚å¯¹äºå‰ä¸¤ä¸ªæŒ‡æ ‡ï¼ŒScheduler ç›®å‰æ¥å…¥ä¸šåŠ¡æ–¹ 50+ï¼Œæ—¥å‡è°ƒåº¦ä»»åŠ¡ 20w+ æ¬¡ï¼Œä¸å…¬å¸å†…å…¶ä»–ç¬¬ä¸‰æ–¹å®šæ—¶ä»»åŠ¡æ¡†æ¶ç›¸æ¯”ä¹Ÿè¾ƒæœ‰ç«äº‰æ€§ï¼ŒåŒæ—¶å¯¹äºåä¸¤ä¸ªå…³æ³¨ç‚¹ï¼ŒScheduler ä¹Ÿæœ‰è‡ªå·±çš„é£æ ¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;ä¸°å¯Œçš„è°ƒåº¦è®¾ç½®&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä¸€èˆ¬çš„å®šæ—¶ä»»åŠ¡æ¡†æ¶åªæ”¯æŒ crontab è¡¨è¾¾å¼ï¼Œä¾‹å¦‚Â &lt;/span&gt;&lt;strong&gt;&lt;span&gt;0 1 * * *&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; ï¼Œä»£è¡¨æ¯å¤©å‡Œæ™¨ä¸€ç‚¹æ‰§è¡Œä¸€æ¬¡ã€‚cronTab åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯è‹¥é…ç½®å¤æ‚çš„å®šæ—¶ç­–ç•¥ï¼Œæœ‰ä¸€å®šå­¦ä¹ æˆæœ¬ï¼Œä¸”å¯è¯»æ€§ä¸é«˜ã€‚å› æ­¤ï¼Œé‰´äºè¿™ç§æƒ…å†µï¼ŒScheduler åœ¨ crontab ä¹‹ä¸Šè®¾è®¡äº†æ›´æ˜“è¯»æ›´å¼ºå¤§çš„å®šæ—¶ç­–ç•¥ï¼Œåšåˆ°æ‰€è§å³æ‰€å¾—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;false&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;json&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;startTime&quot;&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;1648029600000&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;timeZone&quot;&lt;/span&gt;:&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Asia/Shanghai&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;repeatLevel&quot;&lt;/span&gt;:&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;month&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;repeatInterval&quot;&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;repeatDays&quot;&lt;/span&gt;:[&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;code-snippet__number&quot;&gt;23&lt;/span&gt;]&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;start_time: å¼€å§‹æ—¶é—´æˆ³ï¼Œåœ¨æ­¤ä¹‹å‰å®šæ—¶ä»»åŠ¡ä¸ä¼šæ‰§è¡Œï¼Œåˆ°è¾¾è¯¥æ—¶é—´åä¼šæ‰§è¡Œç¬¬ä¸€æ¬¡&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;timeZone: æ—¶åŒºè®¾ç½®ï¼Œæ ¹æ®å½“å‰è®¾ç½®çš„æ—¶åŒºå‡†ç¡®æ´¾å‘&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;repeatLevel: é‡å¤çº§åˆ«ï¼Œç›®å‰å¯ä»¥è®¾ç½®æŒ‰ã€Œå°æ—¶ã€ã€ã€Œå¤©ã€ã€ã€Œæœˆã€ã€ã€Œå‘¨ã€ã€ã€Œå¹´ã€ä»¥åŠã€Œå·¥ä½œæ—¥ã€è¿›è¡Œé‡å¤&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;repeatInterval: é‡å¤é—´éš”ï¼Œä»£è¡¨æ¯éš” $repertInterval $repeatLevel æ‰§è¡Œä¸€æ¬¡&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;repeatDays: é‡å¤å¤©æ•°ï¼Œé‡å¤çº§åˆ«æ˜¯å‘¨æˆ–æœˆæ—¶ç”Ÿæ•ˆ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;å› æ­¤ï¼Œè¯¥è®¾ç½®æ‰€ä»£è¡¨çš„å®šæ—¶é—´éš”ä¸ºï¼š&lt;strong&gt;æ¯ä¸¤æœˆçš„3ã€5ã€23å·è§¦å‘ä¸€æ¬¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;table data-ace-table-col-widths=&quot;178&quot;&gt;&lt;colgroup&gt;&lt;col/&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td colspan=&quot;1&quot; rowspan=&quot;1&quot;&gt;&lt;p&gt;&lt;strong&gt;è§¦å‘æ—¶é—´ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;1&quot; rowspan=&quot;1&quot;&gt;&lt;p&gt;2022-03-23 18:00:00&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;1&quot; rowspan=&quot;1&quot;&gt;&lt;p&gt;2022-05-03 18:00:00&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;1&quot; rowspan=&quot;1&quot;&gt;&lt;p&gt;2022-05-05 18:00:00&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=&quot;1&quot; rowspan=&quot;1&quot;&gt;&lt;p&gt;2022-05-23 18:00:00&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3&gt;&lt;span&gt;ä¸ºä»€ä¹ˆè¦åšå·¥ä½œæ—¥è°ƒåº¦&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å¯èƒ½æœ‰åŒå­¦æ³¨æ„åˆ°ï¼ŒScheduler å¯¹äºé‡å¤çº§åˆ«çš„æ”¯æŒååˆ†ä¸°å¯Œï¼Œä¸ä»…å¯ä»¥æŒ‰ç…§æ™®é€šçš„å¹´ã€æœˆã€æ—¥ç­‰çº§åˆ«è¿›è¡Œè®¾ç½®ï¼Œè¿˜å¯ä»¥æŒ‰ç…§å·¥ä½œæ—¥è¿›è¡Œé‡å¤è°ƒåº¦ï¼ˆä¾‹å¦‚æ¯ä¸¤ä¸ªå·¥ä½œæ—¥æ‰§è¡Œä¸€æ¬¡ï¼‰ï¼Œè¿™å½’å› åœ¨ Scheduler å­µåŒ–äºå­—èŠ‚è·³åŠ¨å†…éƒ¨ä¼ä¸šæœåŠ¡ç³»ç»Ÿï¼Œä¸ºè¯¸å¦‚äººäº‹ç³»ç»Ÿã€æƒé™ç³»ç»Ÿç­‰ ToB æœåŠ¡æä¾›å®šæ—¶ä»»åŠ¡èƒ½åŠ›ã€‚å¾€å¾€ ToB å®¢æˆ·çš„éœ€æ±‚å¤æ‚å¤šå˜ï¼Œå› æ­¤ï¼Œéœ€è¦æå‰å…·å¤‡æ›´å¤šèƒ½åŠ›ï¼Œæ‰èƒ½æ›´å¥½åœ°æœåŠ¡å¥½ ToB å®¢æˆ·ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Scheduler åœ¨è°ƒç ”æ¥å…¥æ–¹éœ€æ±‚æ—¶ï¼Œå¾—åˆ°äº†æœ‰äº›å®¢æˆ·å¯¹äºå®šæ—¶æé†’è¿™ç±»ä»»åŠ¡çš„éœ€æ±‚æ˜¯å°½é‡ä¸è¦åœ¨ã€Œéå·¥ä½œæ—¥ã€æ‰“æ‰°ã€‚äºæ˜¯ï¼ŒScheduler å†³å®šå¢åŠ å·¥ä½œæ—¥è°ƒåº¦é€‰é¡¹æ¥é€‚é…å®¢æˆ·æ½œåœ¨éœ€æ±‚ï¼Œä¹Ÿä¾§é¢è¯´æ˜äº† Scheduler ä¸ºäº†è®©æ¥å…¥æ–¹æ›´å¿«æ›´å°æˆæœ¬æ¥å…¥åšå‡ºçš„åŠªåŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;è½»æ¾çš„ä½¿ç”¨æ–¹å¼&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ç›¸ä¿¡ã€Œå¼€ç®±å³ç”¨ã€å¯¹äºäººä»¬åœ¨é‡‡ä¹°è¯¸å¦‚å®¶ç”µã€æ•°ç äº§å“æ—¶ï¼Œæ˜¯ååˆ†é‡è¦çš„ä¸€ä¸ªè€ƒæ ¸æŒ‡æ ‡ã€‚è€Œå¯¹äºå¯¹å¤–æä¾›çš„æœåŠ¡ or æ¡†æ¶ï¼Œäº¦æ˜¯å¦‚æ­¤ã€‚Scheduler çš„ç›®æ ‡å°±æ˜¯è®©æ¥å…¥æ–¹èƒ½å¤Ÿåœ¨çŸ­æ—¶é—´ç†Ÿæ‚‰ Schedulerã€ç¼–å†™æµ‹è¯•ä»£ç ä»¥åŠä¸Šçº¿å®šæ—¶ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ä¸“æ³¨ä¸šåŠ¡&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæƒ³å®ç°ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¥å…¥æ–¹åªéœ€è¦ä¸‰æ­¥ï¼šå¼•å…¥ Scheduler sdkï¼Œç»‘å®šç›¸åº” processorï¼Œåœ¨ process æ¥å£ä¸­å®ç°å…·ä½“ä¸šåŠ¡é€»è¾‘ã€‚åŒæ—¶ï¼Œç”±äºå®šæ—¶ä»»åŠ¡çš„å®ç°ä½äºåŸä»£ç ä¸­ï¼Œå¯åŠ¨é…ç½®æ— éœ€æ›´æ”¹ï¼Œæœ¬åœ°æµ‹è¯•ä¹Ÿè¾ƒä¸ºä¾¿æ·ã€‚åŒæ—¶ï¼Œåœ¨å­—èŠ‚è·³åŠ¨ç¯å¢ƒä¸‹ï¼Œæ— éœ€æ–°å¢ psmã€æˆæƒé…ç½®ç­‰ï¼Œå°½å¯èƒ½åšåˆ°äº†ã€Œå¼€ç®±å³ç”¨ã€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;false&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;import&lt;/span&gt; (&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;context&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;code.byted.org/apaas/scheduler_sdk/executor&quot;&lt;/span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    executorSvc, err := executor.NewExecutor(executor.NewDefaultExecutorConfig(), &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &amp;amp;HelloWorld{}) &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; err != &lt;span class=&quot;code-snippet__literal&quot;&gt;nil&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__built_in&quot;&gt;panic&lt;/span&gt;(err)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; err = executorSvc.Run(); err != &lt;span class=&quot;code-snippet__literal&quot;&gt;nil&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__built_in&quot;&gt;panic&lt;/span&gt;(err)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt; HelloWorld &lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ProcessorApiName &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(h *HelloWorld)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;GetApiName&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;string&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; h.ProcessorApiName&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(h *HelloWorld)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;SimpleProcess&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(ctx context.Context, tc *executor.TaskContext)&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(err error)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   tc.LogInfo(ctx, &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;span&gt;å¿«é€Ÿè¿ç»´&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;æ²¡æœ‰ç¨‹åºå‘˜æƒ³ä¸»åŠ¨å†™å‡º bugï¼Œä½†é—®é¢˜æ€»æ˜¯ä¼šçªç„¶å‡ºç°ã€‚å¦‚ä½•åœ¨å‡ºç°é—®é¢˜æ—¶å¿«é€Ÿè¿ç»´ã€å¿«é€Ÿæ­¢æŸï¼Œæ˜¯æ‰€æœ‰å·¥ç¨‹å¸ˆéƒ½è¿½æ±‚çš„ç›®æ ‡ã€‚Scheduler åœ¨è¿™æ–¹é¢åšäº†å‡ ç§å°è¯•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æŠ¥è­¦æ›´ç›´è§‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç”¨æˆ·å¯ä»¥åœ¨åˆ›å»º job æ—¶ï¼Œå¯ä»¥é€‰æ‹©é…ç½®æŠ¥è­¦æœºå™¨äººï¼Œå¹¶æŠŠ Scheduler æœºå™¨äººæ‹‰å…¥å¯¹åº”æŠ¥è­¦ç¾¤ç»„ã€‚å½“æ£€æµ‹åˆ°å¯¹åº” job å‡ºç°é—®é¢˜æ—¶ï¼ŒScheduler æœºå™¨äººä¼šæŠŠç›¸åº”æŠ¥è­¦æ¨é€åˆ°å¯¹åº”ç¾¤ç»„ï¼Œåšåˆ°å®æ—¶å“åº”ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;çŠ¶æ€æ›´æ¸…æ™°&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç›®å‰ task çš„ç›¸å…³çŠ¶æ€å¦‚ä¸‹ï¼Œå½“ä¸€ä¸ª task é•¿æœŸæ²¡æœ‰åˆ°ç»ˆæ€æ—¶ï¼Œæ ¹æ®çŠ¶æ€ç å³å¯çŸ¥ task ç›®å‰å¤„äºä»€ä¹ˆçŠ¶&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ€ï¼Œä»è€Œæ¨æ–­æ˜¯å“ªä¸€æ­¥éª¤å‡ºäº†é—®é¢˜ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table&gt;&lt;colgroup&gt;&lt;col/&gt;&lt;col/&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;çŠ¶æ€ç &amp;quot;&quot;&gt;çŠ¶æ€ç &lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;çŠ¶æ€&amp;quot;&quot;&gt;çŠ¶æ€&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;100&quot;&gt;100&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;ç­‰å¾…è§¦å‘&amp;quot;&quot;&gt;ç­‰å¾…è§¦å‘&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;101&quot;&gt;101&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;Ready å°±ç»ªæ€ï¼Œç­‰å¾…æ¨é€&amp;quot;&quot;&gt;Ready å°±ç»ªæ€ï¼Œç­‰å¾…æ¨é€&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;201&quot;&gt;201&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ¨é€åˆ° Executorï¼Œè¿˜æœªå®é™…æ‰§è¡Œï¼ˆä»»åŠ¡å¤ªå¤šæ’é˜Ÿï¼‰&amp;quot;&quot;&gt;æ¨é€åˆ° Executorï¼Œè¿˜æœªå®é™…æ‰§è¡Œï¼ˆä»»åŠ¡å¤ªå¤šæ’é˜Ÿï¼‰&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;202&quot;&gt;202&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰§è¡Œä¸­&amp;quot;&quot;&gt;æ‰§è¡Œä¸­&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;203&quot;&gt;203&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰§è¡Œè¶…æ—¶ï¼Œé€»è¾‘å¤æ‚å¯¼è‡´&amp;quot;&quot;&gt;æ‰§è¡Œè¶…æ—¶ï¼Œé€»è¾‘å¤æ‚å¯¼è‡´&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;301&quot;&gt;301&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰§è¡ŒæˆåŠŸ&amp;quot;&quot;&gt;æ‰§è¡ŒæˆåŠŸ&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;302&quot;&gt;302&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰§è¡Œå¤±è´¥&amp;quot;&quot;&gt;æ‰§è¡Œå¤±è´¥&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;401&quot;&gt;401&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;Ready è¶…æ—¶ï¼Œæ²¡æœ‰ Executor æ‹‰å–&amp;quot;&quot;&gt;Ready è¶…æ—¶ï¼Œæ²¡æœ‰ Executor æ‹‰å–&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;402&quot;&gt;402&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ¨é€åˆ° Executor åé•¿æœŸæœªæ‰§è¡Œ &amp;quot;&quot;&gt;æ¨é€åˆ° Executor åé•¿æœŸæœªæ‰§è¡Œ&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;403&quot;&gt;403&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰§è¡Œè¶…æ—¶ï¼ŒExecutor å®•æœºå¯¼è‡´&amp;quot;&quot;&gt;æ‰§è¡Œè¶…æ—¶ï¼ŒExecutor å®•æœºå¯¼è‡´&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;å¹¶ä¸”ä¸€äº› Scheduler å¸¸è§çš„æŠ¥é”™ä¹Ÿåšäº†å°è£…ï¼Œå¸®åŠ©å¿«é€Ÿå®šä½é—®é¢˜ï¼Œä¾‹å¦‚&lt;/span&gt;&lt;/p&gt;&lt;table&gt;&lt;colgroup&gt;&lt;col/&gt;&lt;col/&gt;&lt;/colgroup&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;é”™è¯¯ç &amp;quot;&quot;&gt;é”™è¯¯ç &lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;é”™è¯¯åŸå› &amp;quot;&quot;&gt;é”™è¯¯åŸå› &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_000004&amp;quot;&quot;&gt;k_sc_ec_000004&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰¾ä¸åˆ°ä»»åŠ¡{{.jobApiName}}&amp;quot;&quot;&gt;æ‰¾ä¸åˆ°ä»»åŠ¡{{.jobApiName}}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_100004&amp;quot;&quot;&gt;k_sc_ec_100004&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰¾ä¸åˆ°ä»»åŠ¡å®ä¾‹{{.instanceID}}&amp;quot;&quot;&gt;æ‰¾ä¸åˆ°ä»»åŠ¡å®ä¾‹{{.instanceID}}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_300001&amp;quot;&quot;&gt;k_sc_ec_300001&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;Processor Name æœªæ³¨å†Œ{{.content}}&amp;quot;&quot;&gt;Processor Name æœªæ³¨å†Œ{{.content}}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_300006&amp;quot;&quot;&gt;k_sc_ec_300006&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;processor({{.content}}) æ‰¾ä¸åˆ°å¯¹åº” executor&amp;quot;&quot;&gt;processor({{.content}}) æ‰¾ä¸åˆ°å¯¹åº” executor&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_400002&amp;quot;&quot;&gt;k_sc_ec_400002&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ‰¾ä¸åˆ°Executor {{.content}}&amp;quot;&quot;&gt;æ‰¾ä¸åˆ°Executor {{.content}}&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-sheet-value=&quot;&amp;quot;k_sc_ec_400005&amp;quot;&quot;&gt;k_sc_ec_400005&lt;/td&gt;&lt;td data-sheet-value=&quot;&amp;quot;æ— æƒé™æ“ä½œ&amp;quot;&quot;&gt;æ— æƒé™æ“ä½œ&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h1&gt;å¹¶è‚©ä½œæˆ˜-åˆ†ç‰‡ä»»åŠ¡&lt;/h1&gt;&lt;h2&gt;èƒŒæ™¯ï¼šä»»åŠ¡è¶Šå¤šï¼ŒæŒ‘æˆ˜è¶Šå¤§&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä¸€ä¸ªæˆç†Ÿçš„é¡¹ç›®ä¸­é¿å…ä¸äº†å¤§å‹æ‰¹é‡ä»»åŠ¡ï¼Œæ¯”å¦‚é€šè¿‡ Excelã€csv æˆ–å…¶ä»–æ•°æ®æºæ‰¹é‡åˆ›å»ºæˆ–æ›´æ–°æ•°æ®ï¼Œæ‰¹é‡ä»»åŠ¡ä¸€èˆ¬æ•°æ®é‡å¾ˆå¤§ï¼Œå¦‚æœæŒ‰ç…§å•å®ä¾‹ä¸²è¡Œæ‰§è¡Œï¼Œé‚£ä¹ˆä¸èƒ½å……åˆ†åˆ©ç”¨è®¡ç®—æœºèµ„æºä¸”ä¸€æ¬¡è¿è¡Œä¼šæ¶ˆè´¹å¤§é‡æ—¶é—´ï¼Œç”¨æˆ·ä½“éªŒä¸å‹å¥½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»¥ Kunlun ä¸¾ä¾‹ï¼Œ æ—§é˜¶æ®µçš„æ‰¹é‡ä»»åŠ¡ä¾èµ–äºæ¶ˆæ¯é˜Ÿåˆ—ã€Redis å®ç°ï¼Œæ€»ä½“åˆ†ä¸ºä¸‰å¤§éƒ¨åˆ†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;è§£æå¹¶æ ¡éªŒExcelï¼Œå°†æ•°æ®è§£ææˆä¸€æ¡æ¡æ•°æ®ï¼Œå°†æ¯æ¡æ¶ˆæ¯å°è£…æˆä¸€æ¡æ¶ˆæ¯å‘é€è‡³æ¶ˆæ¯é˜Ÿåˆ—ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ¶ˆè´¹æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿›è¡Œåˆ›å»ºã€æ›´æ–°ç­‰æ“ä½œï¼Œå¹¶åœ¨Redisè®°å½•æ€»ä½“è¿›åº¦å¹¶æ¨é€ç»™ç”¨æˆ·ï¼Œå¦‚æœä»»åŠ¡å¤±è´¥ï¼Œä¼šå°†è¡Œæ•°å’Œé”™è¯¯åŸå› åŒæ—¶è®°å½•è¿›redisï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å¾…æ‰€æœ‰æ•°æ®å¤„ç†ç»“æŸåï¼Œå¦‚æœredisä¸­æ²¡æœ‰é”™è¯¯æ•°æ®ï¼Œåˆ™æç¤ºç”¨æˆ·æˆåŠŸï¼Œå¦åˆ™æ ¹æ®é”™è¯¯ä¿¡æ¯ç”ŸæˆExcelè¿”å›ç»™ç”¨æˆ·ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;span/&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;271&quot; data-backw=&quot;525&quot; data-ratio=&quot;0.5167394468704513&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4Q5AERM5D3txQMnMrMMiasnJJcoeQYK4tE2vdhW3X6z0TvnN6KPEzdaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;687&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€redisçš„å®šæ—¶ä»»åŠ¡å¯ä»¥æé€Ÿå’Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œä½†æœ‰ä»¥ä¸‹ä¸è¶³ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç»´æŠ¤èµ·æ¥ä¸æ–¹ä¾¿ï¼Œä¾‹å¦‚å½“æœ‰æ–°æœåŠ¡éœ€è¦æ­¤ç±»åŠŸèƒ½æ—¶ï¼Œéœ€è¦è‡ªå·±å†å®ç°ä¸€å¥—å·®ä¸å¤šçš„æ¡†æ¶ï¼Œæ‰€ä»¥éœ€è¦å°†åˆ†ç‰‡åŠŸèƒ½æ‰˜ç®¡åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œè€Œä¸šåŠ¡æ–¹åªç”¨ä¸“æ³¨äºå…·ä½“ä¸šåŠ¡ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ä¾èµ–äºæ¶ˆæ¯é˜Ÿåˆ—å’ŒRedisä¸¤ä¸ªå¤–éƒ¨ç»„ä»¶ï¼Œå¯¹ä¸¤ä¸ªç»„ä»¶çš„ç¨³å®šæ€§è¦æ±‚æé«˜ï¼Œå½“å…¶ä¸­ä¸€ä¸ªå‡ºç°é—®é¢˜ï¼Œéƒ½ä¼šå¸¦æ¥ä¸å°çš„éº»çƒ¦ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;åŸºäºè¿™ç§èƒŒæ™¯ï¼ŒScheduler ä¸°å¯Œäº†åŸæœ¬çš„ä»»åŠ¡è°ƒåº¦èƒ½åŠ›ï¼Œè¡¥å……äº†åˆ†ç‰‡èƒ½åŠ›ï¼Œä»¥æ»¡è¶³å¤æ‚ç¹ççš„ä»»åŠ¡åˆ†ç‰‡å¤„ç†çš„éœ€æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;åˆ†æï¼šæ—§é—®é¢˜ï¼Œæ–°è§£æ³•&lt;/h2&gt;&lt;p&gt;&lt;span&gt;è‹¥æ‰“ç®—åšå‡ºä¸€å¥—è´´åˆä¸šåŠ¡éœ€æ±‚çš„åˆ†ç‰‡ä»»åŠ¡æ¡†æ¶ï¼Œéœ€è¦å…ˆäº†è§£ç°é˜¶æ®µçš„åˆ†ç‰‡ä»»åŠ¡çš„å®ç°æ­¥éª¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç°é˜¶æ®µçš„åˆ†ç‰‡ä»»åŠ¡å¤§è‡´å¯ä»¥æŠ½è±¡æˆ3ä¸ªæ­¥éª¤ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ€»&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ã€‚è·å–æ•°æ®ï¼Œå¯ä»¥ä»ä¸Šä¼ çš„æ–‡ä»¶è§£ææ•°æ®ã€ä» DB æŸ¥è¯¢å‡ºå¤§æ‰¹æ•°æ®æˆ–å…¶ä»–æ•°æ®æºã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ã€‚å¤„ç†æ•°æ®ï¼Œèšç„¦äºå…·ä½“ä¸šåŠ¡ï¼Œå¦‚ï¼šåˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ€»&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ã€‚å¤„ç†ç»“æœï¼Œå°†æ­¤æ¬¡ä»»åŠ¡è¿è¡Œç»“æœå¤„ç†æˆç»“æœæŠ¥å‘Šè¿”å›ç»™ç”¨æˆ·ï¼ŒæŠ¥å‘Šå¯ä»¥ä¸º Excelã€ä¸€æ¡æ¶ˆæ¯ã€ä¸€å°é‚®ä»¶ç­‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;Scheduler è¦åšçš„äº‹æƒ…åˆ™æ˜¯æ›¿æ¢å…¶ä¸­åˆ†ç‰‡ã€æ¶ˆæ¯é˜Ÿåˆ—ã€Redis çš„åŠŸèƒ½ï¼Œåšå‡ºä»¥ä¸‹æŠ½è±¡ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;true&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;typescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt; ShardingProcessor &lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   PreProcess(ctx context.Context, tc *TaskContext) error&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ShardingProcess(ctx context.Context, tc *TaskContext) error&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   Notify(ctx context.Context, tc *TaskContext)error&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   PostProcess(ctx context.Context, tc *TaskContext) error&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;PreProcess(æ€»)&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šæ•°æ®å‡†å¤‡é˜¶æ®µã€‚å¯åœ¨æ­¤æ–¹æ³•ä¸­å¯¹æ•°æ®è¿›è¡Œé¢å¤–å¤„ç†ï¼Œå¦‚è®¡ç®—æ‹“æ‰‘å…³ç³»ï¼Œå®šä¹‰æ•°æ®ä¼˜å…ˆçº§ã€‚å•æœºè¿è¡Œã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ShardingProcess(åˆ†)&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šåˆ†ç‰‡å¤„ç†é˜¶æ®µã€‚å®é™…å¤„ç†å‡½æ•°ï¼Œå¤šæœºè¿è¡Œã€‚åˆ†ç‰‡å¤„ç†å‡½æ•°ï¼Œæ‰§è¡Œæ‰¹é‡å¯¼å…¥ã€æ›´æ–°ç­‰å¤„ç†ã€‚ï¼ˆ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;å…¥å‚ï¼šScheduler å¯¹ PreProcess è¿”å›ç»“æœçš„åˆ†ç‰‡å­å‚æ•°ï¼‰&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;Notify(é˜¶æ®µå¼-æ€»)&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šè¿›åº¦æ›´æ–°å¤„ç†ï¼Œæ¯å½“è¿›åº¦å˜æ›´çš„å¤§å°å¤§äºè®¾å®šé˜ˆå€¼ï¼Œåˆ™ç”Ÿæˆä¸€æ¬¡ Notify çš„Taskã€‚Executor å‘ Scheduler æ±‡æŠ¥å­ä»»åŠ¡è¿›åº¦ï¼ŒScheduler è®¡ç®—å‡ºæ€»ä½“è¿›åº¦ï¼Œå½“æ€»è¿›åº¦å‘ç”Ÿå˜æ›´åç”Ÿæˆ NotifyTask é€šçŸ¥ Executor è¿›è¡Œå¤„ç†ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;PostProcess(æ€»)&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ï¼šç»“æœå¤„ç†é˜¶æ®µã€‚ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åå¯åœ¨æ­¤å‡½æ•°è¿›è¡Œåç»­å¤„ç†ï¼Œå•æœºè¿è¡Œã€‚å½“æ‰€æœ‰åˆ†ç‰‡å­ä»»åŠ¡éƒ½æ‰§è¡Œå®Œåï¼ŒScheduler ä¼šå°†å­ä»»åŠ¡çš„æ‰§è¡Œç»“æœå‘é€åˆ°æ­¤å‡½æ•°å¤„ç†ã€‚ï¼ˆ&lt;strong&gt;å…¥å‚ï¼šæ¯ä¸€ä¸ªå­ä»»åŠ¡ ShardingProcess åçš„ç»“æœæ•°ç»„ï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;æ‰§è¡Œå™¨éœ€è¦å®ç°ShardingProcessoræ¥å£ä»¥ä¾›è°ƒåº¦å™¨è¿›è¡Œè°ƒåº¦ã€‚è°ƒåº¦è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;316&quot; data-backw=&quot;514&quot; data-ratio=&quot;0.614065180102916&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4icUAJ5LBx7RKYjgouRiby19HDMdvS7hV5EZq0SKeHKialepAmHZ64DiaoA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;583&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;Scheduler æ”¯æŒåˆ†ç‰‡ä»»åŠ¡é‡ç‚¹åœ¨äºä¸°å¯Œè°ƒåº¦æ¨¡å‹ï¼Œæå‡è°ƒåº¦å™¨è°ƒåº¦èƒ½åŠ›ï¼Œå®Œå–„æ‰§è¡Œå™¨æ‰§è¡Œèƒ½åŠ›æ¥è¾¾åˆ°æ”¯æŒåˆ†ç‰‡ä»»åŠ¡çš„ç›®çš„&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;è°ƒåº¦ä¾§èƒ½åŠ›&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;åˆ†æ‰¹è°ƒåº¦çš„èƒ½åŠ›&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;è°ƒåº¦ä¾§éœ€è¦æ ¹æ®ä»»åŠ¡è¿›åº¦ä¾æ¬¡ç”Ÿæˆ PreTaskã€ProcessTaskã€NotifyTaskã€PostTask æ¥è°ƒåº¦æ‰§è¡Œå™¨ &lt;/span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ShardingProcessor&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; ä¸­çš„ PreProcess - Process - Notify - PostProcess å››ä¸ªæ–¹æ³•ã€‚å•æœºè°ƒåº¦ PreProcessï¼ŒPostProcessï¼ŒNotifyï¼Œå¹¶è¡Œè°ƒåº¦ PostProcessï¼Œæ€»ä½“è°ƒåº¦å‘ˆç°æ€»-åˆ†-æ€»çš„å½¢å¼ã€‚è°ƒåº¦è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.45234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4NwkHW1Fv8Uy7nvQoLtGWWyqIm1NGQzRIU7HhZoB8sicw5YXiaRThwkBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;span/&gt;&lt;/section&gt;&lt;h3&gt;&lt;span&gt;æ•°æ®æ‹†åˆ†çš„èƒ½åŠ›&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;æ•°æ®æ‹†åˆ†å³ä»»åŠ¡åˆ†ç‰‡ï¼ŒæŒ‡çš„æ˜¯å°†å•ä¸€ä»»åŠ¡æŒ‰ç…§ç‰¹å®šçš„é€»è¾‘åˆ‡åˆ†ä¸ºå¤šä¸ª&lt;strong&gt;ç‹¬ç«‹çš„&lt;/strong&gt;å­ä»»åŠ¡ï¼Œå°†å…¶åˆ†æ´¾åˆ°ä¸åŒçš„èŠ‚ç‚¹æ‰§è¡Œï¼Œä»¥æé«˜ä»»åŠ¡çš„æ‰§è¡Œæ•ˆç‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œ Scheduler è¦å¤„ç†çš„ä»»åŠ¡å†…éƒ¨å¯èƒ½å­˜åœ¨&lt;strong&gt;ä¾èµ–å…³ç³»&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼ˆæ¯”å¦‚ kunlun ä¸šåŠ¡ä¸­ metadata æ‰¹é‡åˆ›å»ºçš„éœ€æ±‚ï¼Œç”±äºå­˜åœ¨ lookup å’Œ reference å­—æ®µç­‰ï¼Œè®°å½•åˆ›å»ºä¹‹é—´å­˜åœ¨æ‹“æ‰‘å…³ç³»ï¼‰&lt;/span&gt;&lt;span&gt;ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œæ—¶éœ€è¦&lt;strong&gt;ä¼˜å…ˆçº§&lt;/strong&gt;çš„æ¦‚å¿µï¼Œè€Œä¸èƒ½è¢«ç®€å•æ‹†åˆ†ä¸º&lt;strong&gt;ç‹¬ç«‹&lt;/strong&gt;çš„å­ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†æ”¯æŒå¸¦ä¼˜å…ˆçº§çš„ä»»åŠ¡åˆ†ç‰‡ï¼ŒScheduler æ¥æ”¶çš„åˆ†ç‰‡ä»»åŠ¡çš„æ•°æ®ç‰¹ç‚¹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;äºŒç»´æ•°ç»„å¯ä»¥æ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;true&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;json&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;[&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    [&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        // ç¬¬ä¸€ä¼˜å…ˆçº§çš„ä»»åŠ¡&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;ï¼Œå¯ä»¥æ˜¯ä¸»é”®&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;101&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        // ç¬¬ä¸€ä¼˜å…ˆçº§çš„ä»»åŠ¡&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;ï¼Œå¯ä»¥æ˜¯SQLè¯­å¥&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Insert into tablename xxx&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        // ç¬¬ä¸€ä¼˜å…ˆçº§çš„ä»»åŠ¡&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;ï¼Œå¯ä»¥æ˜¯ç»“æ„ä½“ç­‰ç­‰...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;ID&quot;&lt;/span&gt;: &lt;span class=&quot;code-snippet__number&quot;&gt;999&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;&quot;Name&quot;&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;zhangsan&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ],&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    [    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        // ç¬¬äºŒä¼˜å…ˆçº§çš„ä»»åŠ¡&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;ã€&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;ã€...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;102&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;103&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        ...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ]&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;äº†è§£äº†å¾…åˆ†ç‰‡ä»»åŠ¡çš„ç»“æ„ï¼Œæˆ‘ä»¬æ¥è®¨è®ºå¦‚ä½•å¯¹ä»»åŠ¡è¿›è¡Œåˆ†ç‰‡ã€‚æ¯”å¦‚ï¼Œåˆ†ç‰‡çš„æ•°é‡ç”±ä»€ä¹ˆå†³å®šï¼Œå•ä¸ªåˆ†ç‰‡ä¸Šçš„ä¿¡æ¯æ˜¯å¦‚ä½•åˆ†é…çš„ï¼Œä¸åŒåˆ†ç‰‡åˆæ˜¯ä¸åŒåˆ†æ´¾åˆ°ä¸åŒçš„å¤„ç†å™¨ä¸Šçš„...&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†ç‰‡æ•°çš„ç¡®å®š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;åˆ†ç‰‡æ•°çš„ç¡®å®šåŸºäºä»¥ä¸‹å‚æ•°çš„å€¼ï¼š&lt;strong&gt;æ•°æ®é‡&lt;/strong&gt;ã€ä»»åŠ¡åˆ›å»ºæ—¶ç”¨æˆ·æŒ‡å®šçš„&lt;strong&gt;å•ç‰‡æœ€å¤§æ•°é‡ã€å•ç‰‡æœ€å°æ•°é‡&lt;/strong&gt;ï¼Œä»¥åŠå®é™…å¯ç”¨çš„&lt;strong&gt;æ‰§è¡Œå™¨æ•°é‡&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;2&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†ç‰‡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç®—æ³•&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;åˆ†ç‰‡ç‰¹å¾å€¼ï¼ˆsharding keyï¼‰çš„é€‰æ‹©è¦éµå¾ªçš„åŸåˆ™åº”è¯¥æ˜¯&lt;strong&gt;åŸºäºæœ€å¸¸ç”¨çš„è®¿é—®æ–¹å¼&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç”±äº Scheduler åˆ†ç‰‡æ—¶å¹¶ä¸å…³å¿ƒä¸šåŠ¡æ•°æ®çš„ç»“æ„ï¼Œæ‰€ä»¥é€‰ç”¨&lt;strong&gt;æ•°æ®æ•°ç»„çš„ä¸‹æ ‡&lt;/strong&gt;æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ä½œä¸ºåˆ†ç‰‡ç‰¹å¾å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ç”±äºåˆ†ç‰‡æ•°é‡ç¡®å®šåï¼Œä¸æ¶‰åŠåˆ°ç”±äºåˆ†ç‰‡çš„å¢åŠ æˆ–å‡å°‘å¯¹æ•°æ®è¿›è¡Œ Rehash çš„æƒ…å†µï¼Œæ‰€ä»¥æ— éœ€è€ƒè™‘è™šæ‹ŸèŠ‚ç‚¹ã€ä¸€è‡´æ€§å“ˆå¸Œç­‰æ–¹å¼è¿›è¡Œåˆ†ç‰‡ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;è¿™é‡Œé€‰ç”¨å“ˆå¸Œåˆ†ç‰‡çš„åˆ†ç‰‡ç®—æ³•ï¼ŒåŸå› æ˜¯æ—¢å¯ä»¥å‡åŒ€åˆ†å¸ƒæ•°æ®ï¼Œå®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;3&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†ç‰‡çš„å­˜å‚¨å’Œæ´¾å‘&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;åˆ†ç‰‡å®Œæˆåï¼Œéœ€è¦ç»™æ¯ä¸ªåˆ†ç‰‡åˆ›å»ºä¸€ä¸ª Taskï¼Œå¹¶æŠŠåˆ†ç‰‡çš„æ•°æ®å­˜å‚¨ä¸‹æ¥ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å…³äº Task çš„æ´¾å‘ï¼Œæ ¹æ®ä¸Šé¢å…³äºåˆ†ç‰‡æ•°çš„è®¨è®ºï¼Œå¯ä»¥å¾—åˆ°åˆ†ç‰‡æ•°å’Œ Executor æ•°çš„å…³ç³»ï¼š&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨æ•°æ®é‡åˆé€‚çš„æƒ…å†µä¸‹ï¼ˆå•ç‰‡æœ€å¤§æ•°é‡å’Œå•ç‰‡æœ€å°æ•°é‡è®¾ç½®åˆç†æ—¶ï¼Œæ˜¯æœ€æ™®éçš„æƒ…å†µï¼‰ï¼Œåˆ†ç‰‡æ•°å’ŒExecutor çš„æ•°ç›®æ˜¯ä¸€è‡´çš„ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å½“æ•°æ®é‡å¾ˆå°æ—¶ï¼Œä¼šå‡ºç°åˆ†ç‰‡æ•°å°äº Executor æ•°ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œä¼šå‡ºç°åˆ†ç‰‡æ•°å¤§äº Executor æ•°ï¼Œç”šè‡³å¯èƒ½æ˜¯åè€…çš„å‡ å€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†è®©å„ä¸ª Task / å„ä¸ªåˆ†ç‰‡ èƒ½å¤Ÿå‡åŒ€æ´¾å‘ç»™å„ä¸ª Executorï¼Œä¹Ÿä¸ºäº†é¿å…æŸä¸ªexecutoræŒ‚æ‰æ—¶ï¼Œå…¶ä»–Executor ä¸èƒ½å‡åŒ€åˆ†æ‘ŠæŒ‚æ‰çš„èŠ‚ç‚¹åŸå…ˆæ‰¿æ‹…çš„åˆ†ç‰‡ï¼Œéœ€è¦é‡‡ç”¨åˆç†çš„åˆ†ç‰‡ç­–ç•¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨åˆ†ç‰‡æ—¶ï¼Œæˆ‘ä»¬ä¿è¯äº†å„åˆ†ç‰‡çš„æ•°æ®æ˜¯å°½é‡å‡åŒ€åˆ†å¸ƒçš„ï¼Œæ‰€ä»¥ä»åˆ†ç‰‡åˆ° Executor çš„åˆ†æ´¾æ–¹å¼å¯ä»¥å°½å¯èƒ½åœ°ç®€å•ï¼Œé‡‡ç”¨å¹³å‡åˆ†é…çš„ç­–ç•¥å³å¯ã€‚å¯¹äºæŒ‚æ‰çš„èŠ‚ç‚¹æ‰€æ‰¿æ‹…çš„åˆ†ç‰‡ï¼Œä¹Ÿé‡‡ç”¨åŒæ ·çš„ç­–ç•¥æ´¾å‘åˆ°å­˜æ´»çš„ Executors ä¸Šå³å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¾‹å¦‚:&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœ‰3ä¸ª Executorï¼Œåˆ†æˆ9ç‰‡ï¼Œåˆ™æ¯ä¸ª Executor åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: &lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;1=[0,1,2], 2=[3,4,5], 3=[6,7,8]&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœExecutor 1æŒ‚æ‰ï¼Œåˆ™å°†1çš„åˆ†ç‰‡&lt;em&gt;å¹³å‡åˆ†é…*&lt;/em&gt; åˆ°Executor 2ã€3: &lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;2=[0,1,3,4,5], 3=[2,6,7,8]&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote data-type=&quot;quote_container&quot;&gt;&lt;p&gt;&lt;strong&gt;å¹³å‡åˆ†é…*&lt;/strong&gt;ï¼šå¯¹äºä¸èƒ½å‡åˆ†çš„æƒ…å†µï¼Œä¸ºäº†é¿å…é å‰çš„ Executor æ€»æ˜¯æ‰¿æ‹…æ›´å¤šçš„å‹åŠ›ï¼Œå¯ä»¥æ ¹æ®å¾…åˆ†é…åˆ†ç‰‡æ•°é‡çš„å¥‡å¶æ¥å†³å®šæ˜¯å‡åºåˆ†æ´¾è¿˜æ˜¯é™åºåˆ†æ´¾ã€‚&lt;span/&gt;&lt;span/&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;h3&gt;&lt;span&gt;è¿›åº¦é€šçŸ¥çš„èƒ½åŠ›&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;Scheduler æ”¯æŒé€šçŸ¥ Executor ä»»åŠ¡æ‰§è¡Œçš„æ•´ä½“è¿›åº¦&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Executor ä¸ŠæŠ¥å­ä»»åŠ¡è¿›åº¦è‡³ Schedulerï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;Scheduler è®¡ç®—æ€»ä»»åŠ¡è¿›åº¦ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ€»ä»»åŠ¡è¿›åº¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç”Ÿæˆ NotifyTask å‘é€è‡³ Executorã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.3936651583710407&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4n9hTBcxHUJMR06QpDiaiaQQIbAeyB2zKuJ8Zk6m0Qd8K1iavp4Fibf27rg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;663&quot;/&gt;&lt;/section&gt;&lt;h2&gt;æ‰§è¡Œä¾§åˆ†æ‰¹æ‰§è¡Œçš„èƒ½åŠ›&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æ‰§è¡Œä¾§éœ€è¦å®ç°å¹¶æ³¨å†Œ SDK æä¾›çš„ShardingProcessoræ¥å£ï¼Œæ¥å¤„ç†ç”±è°ƒåº¦ä¾§å‘æ¥çš„å¤šç§ç±»å‹çš„Taskã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;PreProcess&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¢„å¤„ç†æ–¹æ³•ï¼Œå¯ä»¥è¿›è¡Œä½†ä¸é™äºä»¥ä¸‹çš„æ“ä½œï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å¯åŠ¨å‚æ•°ä¸ç¬¦åˆ Scheduler è§„å®šæ ¼å¼ï¼Œå¯ä»¥é€šè¿‡ PreProcess æ–¹æ³•è¿›è¡Œä¸€æ¬¡è½¬æ¢ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ•°æ®å­˜åœ¨å¯¼å…¥ä¼˜å…ˆçº§ï¼Œå¯ä»¥åœ¨ PreProcess ä¸­ç¼–å†™è®¡ç®—æ‹“æ‰‘å…³ç³»çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-type=&quot;quote_container&quot;&gt;&lt;p&gt;å¦‚æœä¸éœ€è¦é¢„å¤„ç†ï¼Œå¯ç›´æ¥åœ¨æ–¹æ³•å†… returnï¼Œåˆ†ç‰‡æ—¶æ•°æ®ä½¿ç”¨å¯åŠ¨æ—¶çš„ Data&lt;span/&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;func&lt;/span&gt; (&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;s&lt;/span&gt; *&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;ShardingProcessor&lt;/span&gt;) &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;PreProcess&lt;/span&gt;(&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.Context&lt;/span&gt;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;tc&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;taskContext&lt;/span&gt;) &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;error&lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attribute&quot;&gt;oldData &lt;/span&gt;:= tc.&lt;span class=&quot;code-snippet__built_in&quot;&gt;GetData&lt;/span&gt;()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    // ç”¨æˆ·ä¸šåŠ¡, æ•°æ®å¤„ç†&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    newData := &lt;span class=&quot;code-snippet__built_in&quot;&gt;Transform&lt;/span&gt;(oldData)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    // è¿”å›å¸¦æ‹“æ‰‘æ’åºçš„æ•°æ®&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    tc.&lt;span class=&quot;code-snippet__built_in&quot;&gt;SetResult&lt;/span&gt;(newData)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    return nil&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ShardingProcess&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ†ç‰‡å¤„ç†å‡½æ•°ï¼Œä¸»è¦æ˜¯è¿›è¡Œæ•°æ®æ›´æ–°ã€åˆ›å»ºæ“ä½œã€‚ShardingProcess çš„å…¥å‚æ˜¯åˆ‡åˆ†åçš„æ•°ç»„ï¼ˆ&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;[]interface{}&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚Executor éœ€è¦å¯¹å‚æ•°è¿›è¡Œä¸¤éƒ¨åˆ†é¢å¤–å¤„ç†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å°†Â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;[]interface{}Â &lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ä¸­çš„Â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;interface{}Â &lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ–­è¨€æˆå…·ä½“Â &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;struct{}&lt;/strong&gt;&lt;span&gt;&lt;span&gt;ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å¤„ç†åã€‚è®¡ç®—å½“å‰å­ä»»åŠ¡æ‰§è¡Œè¿›åº¦ï¼Œè¿›è¡Œä¸ŠæŠ¥ï¼›å¦‚æœçœç•¥ä¸ŠæŠ¥ï¼ŒæœåŠ¡ç«¯ä»¥åˆ†ç‰‡ç²’åº¦ç”Ÿæˆ NotifyTaské€šçŸ¥æ‰§è¡Œå™¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre&gt;&lt;code data-wrap=&quot;true&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(s *ShardingProcessor)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;ShardingProcess&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(ctx context.Context, tc taskContext)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;error&lt;/span&gt;&lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   taskData := tc.GetData()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; _, data := &lt;span class=&quot;code-snippet__keyword&quot;&gt;range&lt;/span&gt; taskData{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   tc.SetResult(...)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;PostProcess&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¥å—æ‰€æœ‰åˆ†ç‰‡å¤„ç†ç»“æœï¼Œè¿›è¡Œåç»­å¤„ç†ï¼Œå¦‚ç”Ÿæˆé”™è¯¯æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;false&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(s *ShardingProcessor)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;PostProcess&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(ctx context.Context, tc taskContext)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;error&lt;/span&gt;&lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    taskData := tc.GetData()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; _, result := &lt;span class=&quot;code-snippet__keyword&quot;&gt;range&lt;/span&gt; taskData{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    tc.SetResult(...)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Notify&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æä¾›ç»™å­ä»»åŠ¡ä¸ŠæŠ¥çš„èƒ½åŠ›ï¼ŒScheduler ä¼šæ ¹æ®æ‰€æœ‰å­ä»»åŠ¡ä¸ŠæŠ¥ç»“æœè®¡ç®—è¿›åº¦ï¼Œé€šçŸ¥ Executorï¼Œ&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;é€šçŸ¥ç²’åº¦ä¸ºæ•°æ®æ¡æ•°&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ã€‚å¦‚æœæ¥å…¥æ–¹ä¸ä¸»åŠ¨ä¸ŠæŠ¥å­ä»»åŠ¡è¿›åº¦ï¼ŒScheduler ä¼šæ ¹æ®å­ä»»åŠ¡å®Œæˆåº¦è¿›è¡Œé€šçŸ¥ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;é€šçŸ¥ç²’åº¦ä¸ºåˆ†ç‰‡ç²’åº¦&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;åˆ†ç‰‡ä»»åŠ¡æµç¨‹&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.2342342342342343&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4crI1FmJdqIhxe9Dod49EtUH6R3mJibzaJ9vaGYmZ5b8T2Tl7Ycz6oKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;444&quot;/&gt;&lt;/p&gt;&lt;h1&gt;å‰Šå³°å¡«è°·-æµé‡æ§åˆ¶&lt;/h1&gt;&lt;h2&gt;èƒŒæ™¯ï¼šæä¾›èƒ½åŠ›ï¼Œè€Œéæ–½åŠ å‹åŠ›&lt;/h2&gt;&lt;p&gt;&lt;span&gt;åœ¨ Scheduler è®¾è®¡åˆæœŸæ—¶ï¼Œæ›´å¤šçš„æ˜¯æŠŠæ³¨æ„åŠ›æ”¾åœ¨äº†å¦‚ä½•èƒ½å¤Ÿå¿«é€Ÿã€å‡†ç¡®ã€ä½å»¶è¿Ÿçš„è§¦å‘ä»»åŠ¡ï¼Œä¸ºæ­¤è¿˜å¤šæ¬¡ä¼˜åŒ–äº†è§¦å‘å™¨ã€åˆ†æ´¾å™¨ã€æ´¾é£å™¨ä¸‰å¤§æ¨¡å—çš„è½®è¯¢é€»è¾‘ï¼Œä½†æ˜¯å¿½ç•¥äº†ä»»åŠ¡é‡è¿‡å¤§æ—¶ä¸‹æ¸¸èƒ½å¦æŠ—ä½æµé‡çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœ Scheduler åœ¨è°ƒåº¦æ—¶æ— æ³•å‡†ç¡®æ„ŸçŸ¥ä¸‹æ¸¸å‹åŠ›ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å°†ä¸‹æ¸¸æ‰“æŒ‚ï¼Œå¦‚ï¼šåœ¨å®šæ—¶ä»»åŠ¡é¦–æ¬¡ä¸Šçº¿æ—¶ï¼Œå› ä¸º kunlun çš„è£…åŒ…æœºåˆ¶å¯¼è‡´æ•°åƒä¸ªåº”ç”¨ä¸‹é…ç½®äº†åŒæ ·çš„å®šæ—¶ä»»åŠ¡ï¼Œè™½ç„¶ä¸€ä¸ªåŒ…å†…çš„æ•°åä¸ªå®šæ—¶ä»»åŠ¡è§¦å‘æ—¶é—´åˆ†æ•£ï¼Œä½†æ˜¯åº”ç”¨åŒ…ä¹‹é—´çš„åŒä¸€ä¸ªä»»åŠ¡è§¦å‘æ—¶é—´ç›¸åŒï¼Œå¯¼è‡´ä¸‹æ¸¸éœ€è¦åœ¨åŒä¸€æ—¶åˆ»å¤„ç†æ•°åƒä¸ªä»»åŠ¡ï¼Œå†åŠ ä¸Šä»»åŠ¡çš„å¤„ç†æµç¨‹è¿˜ä¼šé€šè¿‡æ¶ˆæ¯ä¸­é—´ä»¶è¿›è¡Œæ‰©æ•£ï¼Œå¯¼è‡´æ•°æ®åº“åœ¨ä»»åŠ¡æ‰§è¡Œé˜¶æ®µä¸€ç›´å¤„ç†ä½IDLE é˜¶æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;åˆ†æï¼šæµé‡è¿½è¸ªï¼Œå‰¥èŒ§æŠ½ä¸&lt;/h2&gt;&lt;section&gt;&lt;span&gt;ç›®å‰å¤§éƒ¨åˆ†åç«¯æœåŠ¡ï¼Œé€šè¿‡åˆ†æä»»åŠ¡çš„æµé‡èµ°å‘ï¼Œå¯ä»¥å¤§è‡´ç¡®è®¤æ¯ä¸€æ¡ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è®ºæ‰©æ•£è¿˜æ˜¯éæ‰©æ•£æµé‡éƒ½ä¼šèµ°å‘DBï¼Œæµé‡å›¾å¤§è‡´å¦‚å›¾ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.24676850763807284&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv44TBZibG6RLeqgp1jF1u85r9gq99LEKlibxVxticyD0xX7MQtPJABx4NvQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;851&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»»åŠ¡çš„æµé‡æœ€ç»ˆæ‰“åˆ°äº† DBï¼Œæ‰€ä»¥æµé‡æ§åˆ¶çš„ç›®æ ‡å°±æ›´åŠ æ¸…æ™°ï¼šå¯¹ DB çš„æµé‡æ§åˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;éœ€è¦å¯¹ DB è¿›è¡Œæµé‡æ§åˆ¶ï¼Œé‚£ä¹ˆå°±è¦è®¾å®šåˆç†çš„æŒ‡æ ‡ï¼Œç†è®ºä¸Šï¼Œåªè¦æŒ‡æ ‡é‡‡çº³çš„è¶³å¤Ÿåˆç†ï¼Œå°±èƒ½ä¸¥æ ¼ã€å‡†ç¡®çš„æ§åˆ¶æµé‡ï¼ŒæŒ‡æ ‡åˆ™éœ€è¦å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å®æ—¶æ€§ã€‚èƒ½å¤Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;å‡†æ—¶&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ååº”æ•°æ®åº“å¥åº·çŠ¶å†µï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æƒå¨æ€§ã€‚èƒ½å¤Ÿ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;å‡†ç¡®&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ååº”æ•°æ®åº“å¥åº·çŠ¶å†µã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;ä¼˜å…ˆçº§ï¼šå®æ—¶æ€§ &amp;gt; æƒå¨æ€§ã€‚å½“ä¸€ä¸ªæŒ‡æ ‡çš„å®æ—¶æ€§ä¸å¤Ÿé«˜ï¼Œé‚£ä¹ˆå®ƒçš„æƒå¨æ€§å°±ä¸å†æœ‰ä»·å€¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åªéœ€è¦å®æ—¶ç›‘å¬ç€ DB çš„æŒ‡æ ‡ï¼Œæ¥åˆ¤æ–­ä»»åŠ¡æ˜¯ç«‹åˆ»æ‰§è¡Œï¼Œè¿˜æ˜¯å»¶è¿Ÿæ‰§è¡Œå°±èƒ½æœ‰æ•ˆçš„ä¿æŠ¤ DBã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æŒ‡æ ‡é€‰æ‹©&lt;/span&gt;&lt;/p&gt;&lt;ol start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ¶ˆè´¹ metrics çš„ç›‘æ§ç‚¹ï¼Œå…³äºæ•°æ®åº“çš„æ‰“ç‚¹ä¿¡æ¯éå¸¸å…¨é¢ï¼Œèƒ½å¤Ÿéå¸¸è½»æ˜“çš„è·å–åˆ°æ•°æ®åº“å®¿ä¸»æœºçš„CPUã€å†…å­˜æˆ–æ•°æ®åº“æœ¬èº«çš„è¿æ¥æ•°ã€æŸ¥è¯¢æ•°ç­‰æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡çš„æƒå¨æ€§æ¯‹åº¸ç½®ç–‘ï¼Œä½†æ˜¯ metrics é€šè¿‡å°†æŒ‡æ ‡æ”¶é›†åˆ°æœ¬åœ°ä»£ç†ï¼Œä»£ç†æ¯ 30s åšä¸€æ¬¡èšåˆå‘é€è‡³æœåŠ¡ç«¯ï¼Œ&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;å…¶æ—¶æ•ˆæ€§å¤ªå·®&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;æ•°æ®åº“ä¸å¯ç”¨å› ç´ ä¸ºï¼šå¤§é‡ä»»åŠ¡è§¦å‘ -&amp;gt; DB è®¿é—®æµé‡å¢é«˜ -&amp;gt; CPU idle é™ä½ -&amp;gt; æ•°æ®åº“ä¸å¯ç”¨ã€‚é€ æˆ CPU idle é™ä½çš„å› ç´ ä¸º DB æµé‡å¢é«˜ï¼Œå¯ä»¥å°† DB çš„æµé‡ä½œä¸ºæŒ‡æ ‡è¿›è¡Œæµé‡æ§åˆ¶ï¼Œç¼ºç‚¹æ˜¯&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;éœ€è¦è‡ªå·±é‡‡é›†æŒ‡æ ‡&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;æŒ‡æ ‡æ”¶é›†&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;æŒ‡æ ‡èŒƒå›´&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;åæ˜  DB å‹åŠ›è¾ƒä¸ºç›´æ¥çš„æŒ‡æ ‡æ˜¯ cpu idleï¼Œä½†è€ƒè™‘åˆ°æœåŠ¡éƒ¨ç½²å¾€å¾€å¤šå®ä¾‹ä»¥åŠ cpu idle é‡‡é›†éš¾åº¦å¤§çš„æƒ…å†µï¼Œä»¥è¿‘ä¼¼æŒ‡æ ‡æ¥ä»£æ›¿ã€‚å¦ä¸€æ–¹é¢ï¼Œé€šè¿‡å†å²æ•°æ®åˆ†æï¼ŒDB æµé‡ä¸ cpu idle æœ‰ä¸€å®šçš„å…³è”ï¼Œå› æ­¤ä»¥ DB æµé‡ä½œä¸º DB å‹åŠ›æŒ‡æ ‡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-height=&quot;1286&quot; data-ratio=&quot;0.7485448195576252&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4icDib3SOiaLpgJanDcpEFWuGosmEoCcQI0ib4IqibeL09iaq0spcnIY4l1ag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1718&quot; data-width=&quot;1718&quot;/&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;æ•°æ®å­˜å‚¨&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;å‚è€ƒé™æµçš„å®ç°æ–¹æ¡ˆï¼Œé‡‡ç”¨å•ç‹¬çš„ Redis å­˜å‚¨æµé‡æ•°æ®ï¼Œä»¥ 1s ä¸ºæ—¶é—´çª—å£ä½œä¸º Redis keyï¼Œæ¯ä¸ªæ—¶é—´çª—å£çš„æµé‡ä½œä¸º Redis valueï¼Œæ¯æ¬¡å‘ç”Ÿ DB æ“ä½œæ—¶æ›´æ–°æµé‡æ•°æ®ã€‚ç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ª DBï¼Œæ¯ä¸ª DB å•ç‹¬ç»Ÿè®¡ï¼Œåœ¨ Redis key ä¸­åŠ å…¥dbä¿¡æ¯ã€‚Redis key è®¾ç½®10sè¿‡æœŸæ—¶é—´ï¼ŒæŸ¥è¯¢æ—¶æ ¹æ®è¿‡å»3ä¸ªçª—å£çš„åŠ æƒå¹³å‡ï¼ˆ80%/15%/5%ï¼‰ä½œä¸ºå½“å‰æµé‡ï¼Œä»¥å¤„ç†çª—å£äº¤ç•Œå¤„çš„çªå‘æµé‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;æ”¶é›†æ–¹å¼&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ç›®å‰ DB æµé‡å·²æœ‰ metrics ç›‘æ§æ•°æ®ï¼Œä½†ç”±äº metrics ä¼šåœ¨æœ¬åœ°èšåˆ 30s æ•°æ®åä¸ŠæŠ¥ï¼Œè‡³å°‘ä¼šæœ‰ 30sçš„å»¶è¿Ÿã€‚è€Œé€ æˆ DB å‹åŠ›å¤§çš„å®šæ—¶ä»»åŠ¡å¤šä¸ºçŸ­æœŸé›†ä¸­è§¦å‘ï¼Œä½¿ç”¨ metrics æ•°æ®ä¼šæœ‰æ„ŸçŸ¥ä¸åŠæ—¶çš„é—®é¢˜ï¼Œå› æ­¤éœ€è¦é¢å¤–æ”¶é›†æ•°æ®ã€‚å‚è€ƒ DB metrics æ•°æ®é‡‡é›†çš„æ–¹å¼ï¼Œé€šè¿‡ Gorm çš„ callback æœºåˆ¶æ’å…¥å…·ä½“çš„é‡‡é›†é€»è¾‘ï¼Œå‡å°‘å¯¹ä¸šåŠ¡ä»£ç çš„ä¾µå…¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;true&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;SetMonitorCallBack&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(db *gorm.DB)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   db.Callback().Create().Before(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;gorm:before_create&quot;&lt;/span&gt;).Register(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;metric:before_create&quot;&lt;/span&gt;, beforeCreateCallback)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   db.Callback().Delete().Before(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;gorm:before_delete&quot;&lt;/span&gt;).Register(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;metric:before_delete&quot;&lt;/span&gt;, beforeDeleteCallback)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;beforeCreateCallback&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(scope *gorm.Scope)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    beforeCallback(scope, &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;create&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;beforeCallback&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(scope *gorm.Scope, method &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;åœ¨é‡‡é›†é€»è¾‘ä¸Šï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code data-wrap=&quot;true&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt; MetricType &lt;span class=&quot;code-snippet__keyword&quot;&gt;int8&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;const&lt;/span&gt; (&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  QueryCount MetricType = &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;type&lt;/span&gt; DBMetric &lt;span class=&quot;code-snippet__keyword&quot;&gt;struct&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    DBName   &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    DBMethod &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    Type MetricType&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    Timestamp &lt;span class=&quot;code-snippet__keyword&quot;&gt;int64&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    Value     &lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt;{}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;beforeCallback&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(scope *gorm.Scope, method &lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    dbName := getStringValueFromCtx(scope.DB().Ctx, CtxVariableDBName)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    curMs := time.Now().UnixNano()/&lt;span class=&quot;code-snippet__keyword&quot;&gt;int64&lt;/span&gt;(time.Millisecond)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    metric := DBMetric{dbName, method, QueryCount, curMs, &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; ch &amp;lt;- metric:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;metricAgent&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    windowSize := &lt;span class=&quot;code-snippet__number&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    aggrMetrics := &lt;span class=&quot;code-snippet__keyword&quot;&gt;map&lt;/span&gt;[&lt;span class=&quot;code-snippet__keyword&quot;&gt;int64&lt;/span&gt;]&lt;span class=&quot;code-snippet__keyword&quot;&gt;map&lt;/span&gt;[&lt;span class=&quot;code-snippet__keyword&quot;&gt;string&lt;/span&gt;]DBMetric&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    timer := time.NewTicker(windowSize)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       timer.Stop()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }()&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; msg := &amp;lt;-ch:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           curWindow := curMs/windowSize&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           æ›´æ–°aggrMetricsä¸­curWindowå¯¹åº”çš„metricï¼ˆå¯¹queryCountæ¥è¯´æ˜¯åŠ &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;ï¼‰&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; &amp;lt;-timer.C:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;           å°†aggrMetricsä¸­key+windowSize&amp;lt;=curTimeçš„æ•°æ®ä¸ŠæŠ¥å¹¶æ¸…é™¤&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul start=&quot;1&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;è¿ç»´æˆæœ¬ï¼šé‡‡é›†é€»è¾‘ä¼šè¿è¡Œåœ¨å„ä¸ªæœåŠ¡ä¸Šï¼Œè€ƒè™‘åˆ°åç»­ä¼šæ”¶é›†æ›´å¤šçš„æŒ‡æ ‡ï¼Œç›´æ¥ä¸ŠæŠ¥ Redis éœ€è¦ç»™å„ä¸ªæœåŠ¡å¼€é€šè¯»å†™æƒé™ï¼Œè¿ç»´ç®¡ç†æˆæœ¬è¾ƒé«˜ã€‚åŸºäºæ­¤ï¼Œä½¿ç”¨é¢å¤–çš„æœåŠ¡æ¥ç®¡ç†æŒ‡æ ‡æ•°æ®ï¼Œæ¥æ”¶ä¸ŠæŠ¥çš„æŒ‡æ ‡æ•°æ®å­˜å…¥ Redisï¼Œå¹¶é€šè¿‡æ¥å£çš„æ–¹å¼æä¾›æŸ¥è¯¢æœåŠ¡ã€‚æŒ‡æ ‡å­˜æ”¾åœ¨æ›´åŠ èšç„¦åœ¨DBèµ„æºçš„resource æœåŠ¡ä¸­ï¼Œåœ¨ resource æœåŠ¡ä¸­é€šè¿‡å¢åŠ æ¥å£çš„æ–¹å¼å®ç°æŒ‡æ ‡æ•°æ®çš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒæ—¶ï¼Œä¸ºäº†ä¸å½±å“ resource åŸæœ‰ä¸šåŠ¡çš„ç¨³å®šæ€§ï¼Œä½¿ç”¨å•ç‹¬çš„é›†ç¾¤æä¾›æœåŠ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.8130563798219584&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4kOfmWjv1vpJJGG03BYUjTNV1U1zU6feGtalm5Wp1mNa3oEQs2fvkvg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;674&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span data-meta-block-props=&quot;{&amp;quot;blockType&amp;quot;:&amp;quot;DIAGRAM_BLOCK&amp;quot;,&amp;quot;initData&amp;quot;:&amp;quot;%7B%22data%22%3A%7B%22mxCellList%22%3A%5B%22Xfazc13W%22%2C%22Pect1uf9%22%2C%22IzcPPDCM%22%2C%22dKVFLhD7%22%2C%22y9MiJU2P%22%2C%221UWkGJ8U%22%2C%22cZiSN9SC%22%2C%221xAmiJGI%22%2C%22BqbtgSQN%22%2C%22saeOpCAs%22%2C%22AqV2vvLC%22%2C%22IwQZXnox%22%2C%22G11qs1VY%22%2C%22euPp4iCQ%22%2C%22Wq3ezNTp%22%2C%22oKbWjFpV%22%2C%22tkfJr3ne%22%2C%22h9QvUkVa%22%2C%22Oi2BPCn8%22%2C%22o31bDaCF%22%2C%225Ipy4vFs%22%2C%226tMpMM21%22%2C%22ISZYlo1D%22%2C%22rVZr7hBi%22%2C%224ZD4SYXv%22%2C%22cqRlqkVT%22%2C%22oiLT6GWI%22%2C%22oMOyPYSk%22%2C%22rCj21opl%22%2C%2287jAkrS5%22%2C%22FpSoaVYM%22%2C%22ROD88lM4%22%2C%22Oj3VFKah%22%2C%22eBKTH4D0%22%2C%22TaG2Gi4M%22%2C%221VuHPxBA%22%2C%22yF8bVHdP%22%2C%22Mo4BlpfR%22%5D%2C%22mxGraphModel%22%3A%7B%22arrows%22%3A%221%22%2C%22connect%22%3A%221%22%2C%22dx%22%3A%22946%22%2C%22dy%22%3A%22549%22%2C%22fold%22%3A%221%22%2C%22grid%22%3A%221%22%2C%22gridSize%22%3A%2210%22%2C%22guides%22%3A%221%22%2C%22page%22%3A%221%22%2C%22pageHeight%22%3A%221169%22%2C%22pageScale%22%3A%221%22%2C%22pageWidth%22%3A%22827%22%2C%22tooltips%22%3A%221%22%7D%2C%22mxCellMap%22%3A%7B%221UWkGJ8U%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22224%22%2C%22y%22%3A%22365%22%7D%2C%22id%22%3A%221UWkGJ8U%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23FFE6CC%3B%22%2C%22value%22%3A%22%u6027%u80FD%u6570%u636E%u91C7%u96C6%22%2C%22vertex%22%3A%221%22%7D%2C%221VuHPxBA%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2215%22%2C%22width%22%3A%2277%22%2C%22x%22%3A%22531%22%2C%22y%22%3A%22245%22%7D%2C%22id%22%3A%221VuHPxBA%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3Brotation%3D30%3B%22%2C%22value%22%3A%22%u6027%u80FD%u6570%u636E%u67E5%u8BE2%22%2C%22vertex%22%3A%221%22%7D%2C%221xAmiJGI%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2260%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22194%22%2C%22y%22%3A%22525%22%7D%2C%22id%22%3A%221xAmiJGI%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22shape%3Dmxgraph.flowchart.database%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23ffffff%3BstrokeColor%3D%23000000%3BstrokeWidth%3D2%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%224ZD4SYXv%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%22150%22%2C%22width%22%3A%22250%22%2C%22x%22%3A%22373%22%2C%22y%22%3A%2270%22%7D%2C%22id%22%3A%224ZD4SYXv%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%225Ipy4vFs%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22534%22%2C%22y%22%3A%22349%22%7D%2C%22id%22%3A%225Ipy4vFs%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%u8D44%u6E90%u8DEF%u7531%22%2C%22vertex%22%3A%221%22%7D%2C%226tMpMM21%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22634%22%2C%22y%22%3A%22349%22%7D%2C%22id%22%3A%226tMpMM21%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23FFE6CC%3B%22%2C%22value%22%3A%22%u6027%u80FD%u6570%u636E%u7BA1%u7406%22%2C%22vertex%22%3A%221%22%7D%2C%2287jAkrS5%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22483%22%2C%22y%22%3A%2279%22%7D%2C%22id%22%3A%2287jAkrS5%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22Scheduler%22%2C%22vertex%22%3A%221%22%7D%2C%22AqV2vvLC%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22204%22%2C%22y%22%3A%22294%22%7D%2C%22id%22%3A%22AqV2vvLC%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22Metadata%22%2C%22vertex%22%3A%221%22%7D%2C%22BqbtgSQN%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2260%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22263%22%2C%22y%22%3A%22525%22%7D%2C%22id%22%3A%22BqbtgSQN%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22shape%3Dmxgraph.flowchart.database%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23ffffff%3BstrokeColor%3D%23000000%3BstrokeWidth%3D2%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22FpSoaVYM%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22568.75%22%2C%22y%22%3A%22420%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22568.25%22%2C%22y%22%3A%22490%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22FpSoaVYM%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22G11qs1VY%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22214.5%22%2C%22y%22%3A%22445%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22214%22%2C%22y%22%3A%22515%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22G11qs1VY%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22ISZYlo1D%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2260%22%2C%22x%22%3A%22599%22%2C%22y%22%3A%22314%22%7D%2C%22id%22%3A%22ISZYlo1D%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22resource%22%2C%22vertex%22%3A%221%22%7D%2C%22IwQZXnox%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22154%22%2C%22y%22%3A%22445%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22153.5%22%2C%22y%22%3A%22515%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22IwQZXnox%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22IzcPPDCM%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%22150%22%2C%22width%22%3A%22250%22%2C%22x%22%3A%2294%22%2C%22y%22%3A%22285%22%7D%2C%22id%22%3A%22IzcPPDCM%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22Mo4BlpfR%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2215%22%2C%22width%22%3A%2277%22%2C%22x%22%3A%22416%22%2C%22y%22%3A%22367.5%22%7D%2C%22id%22%3A%22Mo4BlpfR%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22%u6027%u80FD%u6570%u636E%u4E0A%u62A5%22%2C%22vertex%22%3A%221%22%7D%2C%22Oi2BPCn8%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22623%22%2C%22y%22%3A%22499%22%7D%2C%22id%22%3A%22Oi2BPCn8%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22redis%22%2C%22vertex%22%3A%221%22%7D%2C%22Oj3VFKah%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22689.25%22%2C%22y%22%3A%22420%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22688.75%22%2C%22y%22%3A%22490%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22Oj3VFKah%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22Pect1uf9%22%3A%7B%22id%22%3A%22Pect1uf9%22%2C%22parent%22%3A%22Xfazc13W%22%7D%2C%22ROD88lM4%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22629.25%22%2C%22y%22%3A%22420%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22628.75%22%2C%22y%22%3A%22490%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22ROD88lM4%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22TaG2Gi4M%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2215%22%2C%22width%22%3A%2257%22%2C%22x%22%3A%22510%22%2C%22y%22%3A%22260%22%7D%2C%22id%22%3A%22TaG2Gi4M%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3Brotation%3D30%3B%22%2C%22value%22%3A%22%u8DEF%u7531%u67E5%u8BE2%22%2C%22vertex%22%3A%221%22%7D%2C%22Wq3ezNTp%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22124%22%2C%22y%22%3A%22549%22%7D%2C%22id%22%3A%22Wq3ezNTp%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22DB%22%2C%22vertex%22%3A%221%22%7D%2C%22Xfazc13W%22%3A%7B%22id%22%3A%22Xfazc13W%22%7D%2C%22cZiSN9SC%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2260%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22124%22%2C%22y%22%3A%22525%22%7D%2C%22id%22%3A%22cZiSN9SC%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22shape%3Dmxgraph.flowchart.database%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23ffffff%3BstrokeColor%3D%23000000%3BstrokeWidth%3D2%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22cqRlqkVT%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%22100%22%2C%22width%22%3A%22210%22%2C%22x%22%3A%22393%22%2C%22y%22%3A%22110%22%7D%2C%22id%22%3A%22cqRlqkVT%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22dKVFLhD7%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%22100%22%2C%22width%22%3A%22210%22%2C%22x%22%3A%22114%22%2C%22y%22%3A%22325%22%7D%2C%22id%22%3A%22dKVFLhD7%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22eBKTH4D0%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22170%22%2C%22y%22%3A%22240%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22220%22%2C%22y%22%3A%22190%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22eBKTH4D0%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22source%22%3A%22IzcPPDCM%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3BexitX%3D1%3BexitY%3D0.5%3BexitDx%3D0%3BexitDy%3D0%3BentryX%3D0%3BentryY%3D0.5%3BentryDx%3D0%3BentryDy%3D0%3B%22%2C%22target%22%3A%22o31bDaCF%22%2C%22value%22%3A%22%22%7D%2C%22euPp4iCQ%22%3A%7B%22-0-mxGeometry%22%3A%7B%22-0-mxPoint%22%3A%7B%22as%22%3A%22sourcePoint%22%2C%22x%22%3A%22274.5%22%2C%22y%22%3A%22445%22%7D%2C%22-1-mxPoint%22%3A%7B%22as%22%3A%22targetPoint%22%2C%22x%22%3A%22274%22%2C%22y%22%3A%22515%22%7D%2C%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22relative%22%3A%221%22%2C%22width%22%3A%2250%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22euPp4iCQ%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22endArrow%3Dclassic%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%7D%2C%22h9QvUkVa%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%22102%22%2C%22x%22%3A%22592%22%2C%22y%22%3A%22494%22%7D%2C%22id%22%3A%22h9QvUkVa%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22shape%3Dcube%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BboundedLbl%3D1%3BbackgroundOutline%3D1%3BdarkOpacity%3D0.05%3BdarkOpacity2%3D0.1%3BfillColor%3D%23E6E6E6%3Bsize%3D32%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22o31bDaCF%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%22100%22%2C%22width%22%3A%22210%22%2C%22x%22%3A%22524%22%2C%22y%22%3A%22309%22%7D%2C%22id%22%3A%22o31bDaCF%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%22%2C%22vertex%22%3A%221%22%7D%2C%22oKbWjFpV%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22194%22%2C%22y%22%3A%22549%22%7D%2C%22id%22%3A%22oKbWjFpV%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22DB%22%2C%22vertex%22%3A%221%22%7D%2C%22oMOyPYSk%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22503%22%2C%22y%22%3A%22150%22%7D%2C%22id%22%3A%22oMOyPYSk%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3BfillColor%3D%23FFE6CC%3B%22%2C%22value%22%3A%22%u6027%u80FD%u6570%u636E%u67E5%u8BE2%22%2C%22vertex%22%3A%221%22%7D%2C%22oiLT6GWI%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22403%22%2C%22y%22%3A%22150%22%7D%2C%22id%22%3A%22oiLT6GWI%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%u8D44%u6E90%u8DEF%u7531%22%2C%22vertex%22%3A%221%22%7D%2C%22rCj21opl%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2260%22%2C%22x%22%3A%22403%22%2C%22y%22%3A%22120%22%7D%2C%22id%22%3A%22rCj21opl%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22resource_sdk%22%2C%22vertex%22%3A%221%22%7D%2C%22rVZr7hBi%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22relative%22%3A%221%22%7D%2C%22edge%22%3A%221%22%2C%22id%22%3A%22rVZr7hBi%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22source%22%3A%224ZD4SYXv%22%2C%22style%22%3A%22rounded%3D0%3BorthogonalLoop%3D1%3BjettySize%3Dauto%3Bhtml%3D1%3BexitX%3D0.5%3BexitY%3D1%3BexitDx%3D0%3BexitDy%3D0%3BentryX%3D0.5%3BentryY%3D0%3BentryDx%3D0%3BentryDy%3D0%3B%22%2C%22target%22%3A%22o31bDaCF%22%7D%2C%22saeOpCAs%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2260%22%2C%22x%22%3A%22124%22%2C%22y%22%3A%22335%22%7D%2C%22id%22%3A%22saeOpCAs%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22resource_sdk%22%2C%22vertex%22%3A%221%22%7D%2C%22tkfJr3ne%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2220%22%2C%22width%22%3A%2240%22%2C%22x%22%3A%22263%22%2C%22y%22%3A%22550%22%7D%2C%22id%22%3A%22tkfJr3ne%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22DB%22%2C%22vertex%22%3A%221%22%7D%2C%22y9MiJU2P%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2250%22%2C%22width%22%3A%2290%22%2C%22x%22%3A%22124%22%2C%22y%22%3A%22365%22%7D%2C%22id%22%3A%22y9MiJU2P%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3B%22%2C%22value%22%3A%22%u8D44%u6E90%u8DEF%u7531%22%2C%22vertex%22%3A%221%22%7D%2C%22yF8bVHdP%22%3A%7B%22-0-mxGeometry%22%3A%7B%22as%22%3A%22geometry%22%2C%22height%22%3A%2215%22%2C%22width%22%3A%2257%22%2C%22x%22%3A%22423%22%2C%22y%22%3A%22341%22%7D%2C%22id%22%3A%22yF8bVHdP%22%2C%22parent%22%3A%22Pect1uf9%22%2C%22style%22%3A%22text%3Bhtml%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3Balign%3Dcenter%3BverticalAlign%3Dmiddle%3BwhiteSpace%3Dwrap%3Brounded%3D0%3B%22%2C%22value%22%3A%22%u8DEF%u7531%u67E5%u8BE2%22%2C%22vertex%22%3A%221%22%7D%7D%7D%2C%22diagramType%22%3A%22flowchart%22%2C%22lastEditTime%22%3A0%7D&amp;quot;,&amp;quot;props&amp;quot;:{&amp;quot;diagramType&amp;quot;:&amp;quot;flowchart&amp;quot;,&amp;quot;viewType&amp;quot;:&amp;quot;card&amp;quot;},&amp;quot;blockId&amp;quot;:&amp;quot;d70932ee-7e6d-403a-bfcb-1563dab93403&amp;quot;}&quot;/&gt;&lt;/p&gt;&lt;h2&gt;Scheduler è°ƒåº¦åé¦ˆ&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;æµé‡é˜ˆå€¼é™åˆ¶&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;Scheduler è°ƒåº¦é€Ÿç‡ä¸ DB è´Ÿè½½ä¹‹é—´çš„å…³ç³»è¾ƒä¸ºå¤æ‚ï¼Œæœ¬æœŸé‡‡ç”¨ç®€å•çš„é˜ˆå€¼åé¦ˆæœºåˆ¶ï¼Œè®¾ç½® DB æµé‡é˜ˆå€¼ï¼Œå½“æµé‡è¶…å‡ºé˜ˆå€¼æ—¶ï¼Œåœæ­¢ Scheduler å½“å‰å‘¨æœŸè°ƒåº¦ã€‚æ ¹æ®å†å²æ•°æ®ï¼Œè®¾ç½®é˜ˆå€¼ä¸º5Kã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å½“æµé‡æœªè¶…å‡ºé˜ˆå€¼æ—¶ï¼Œä¸èƒ½é¢„ä¼°ä»»åŠ¡å¯¹ DB æµé‡çš„å½±å“ï¼Œé‡‡ç”¨ç®€å•ç­–ç•¥å¯¹ä»»åŠ¡æ•°è¿›è¡Œé™åˆ¶ï¼š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä»»åŠ¡æ•° = max(ï¼ˆDBæµé‡é˜ˆå€¼ - DBå½“å‰æµé‡ï¼‰* 100 / DB æµé‡é˜ˆå€¼, 0)&lt;/span&gt;&lt;/section&gt;&lt;h3&gt;&lt;span&gt;DBè·¯ç”±&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;ç›®å‰ Kunlun çš„ DB èµ„æºæ ¹æ®ç§Ÿæˆ·è¿›è¡Œåˆ†é…ï¼Œä¸åŒç§Ÿæˆ·çš„æ•°æ®å’Œæµé‡ä¼šè½åœ¨ä¸åŒçš„ DB ä¸Šã€‚Schedulerä¼šè®°å½• Job æ‰€å¤„ç§Ÿæˆ·ï¼Œæ‰€ä»¥åœ¨è°ƒåº¦æ—¶ï¼Œéœ€è¦æ ¹æ®ç§Ÿæˆ·æŸ¥æ‰¾çœŸå®çš„ DB èµ„æºï¼Œé€šè¿‡ DB æŒ‡æ ‡çš„å¥åº·çŠ¶å†µæ¥å†³å®šæ˜¯å¦æ´¾é£ä»»åŠ¡ï¼š&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;è°ƒåº¦æ§åˆ¶æµç¨‹&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;1.620253164556962&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhTYhABQhe0A6BKcF0zBhv4urevd2cYIubSziaicP3CGWqJEzmwEGRQhKwRvZZia43mcr5xWwBLhBJEQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;553&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable js_wx_tap_highlight&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzI1MzYzMjE0MQ==&quot; data-alias=&quot;BytedanceTechBlog&quot; data-from=&quot;2&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOhkoWTP1gVm0Lqs480XOARyoSYjPEsRVCSF35cbWIp6cliaYic8KUfNfiaSjVnruzTQUTCA0lmv9vUmw/0?wx_fmt=png&amp;amp;wx_head=1&quot; data-nickname=&quot;å­—èŠ‚è·³åŠ¨æŠ€æœ¯å›¢é˜Ÿ&quot; data-signature=&quot;å­—èŠ‚è·³åŠ¨çš„æŠ€æœ¯å®è·µåˆ†äº«&quot; has-insert-preloading=&quot;1&quot; data-index=&quot;1&quot; data-origin_num=&quot;223&quot; data-is_biz_ban=&quot;0&quot; data-isban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>fdaf6320528aca107cfc3dc5c27b958e</guid>
<title>é˜¿é‡Œäº‘ä¸‡äº¿çº§æ•°æ®é›†æˆæ¶æ„å®è·µ</title>
<link>https://toutiao.io/k/c7nntg6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1920&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI0hWjpMznaHVbVNYcibSA5sKgBXldLywt7tpNy1A253nJLIsFhZYicobQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;section data-width=&quot;100%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot; data-style=&quot;margin-bottom: -10px; margin-left: -8px; max-width: 100%; width: 18px; height: 18px; border-top: 8px solid rgb(54, 65, 173); border-left: 8px solid rgb(54, 65, 173); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;br data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;/&gt;&lt;/section&gt;&lt;section data-bgopacity=&quot;50%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot; data-style=&quot;max-width: 100%; width: 543.333px; background: rgb(247, 247, 247); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;åˆ†äº«å˜‰å®¾ï¼šç½—æµ·ä¼Ÿ é˜¿é‡Œå·´å·´&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;ç¼–è¾‘æ•´ç†ï¼šå…¬èŒ‚æ¶› ä¸­å›½ç§‘å­¦é™¢å¤§å­¦&lt;/span&gt;&lt;/p&gt;&lt;p data-darkmode-bgcolor-16008590572276=&quot;rgb(33, 33, 33)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(247, 247, 247)&quot;&gt;&lt;span&gt;å‡ºå“å¹³å°ï¼šDataFunTalk&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot;&gt;&lt;section data-darkmode-bgcolor-16008590572276=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16008590572276=&quot;rgb(255, 255, 255)&quot; data-style=&quot;max-width: 100%; width: 18px; height: 18px; border-bottom: 8px solid rgb(54, 65, 173); border-right: 8px solid rgb(54, 65, 173); box-sizing: border-box !important; overflow-wrap: break-word !important; visibility: visible;&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;&quot;&gt;&lt;mp-common-profile class=&quot;custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mp-common-profile&quot; data-from=&quot;0&quot; data-id=&quot;MzA3NTM0MTYyMQ==&quot; data-alias=&quot;zhiming_data&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/7iaMpruNx3Afic1pUJiat0zez4aPTUCyHDAs7PzvDuIO6GRh5jhGImRAicoUsg240UM4w7zooIKAiaqwnAiaU2BMNl0Q/0?wx_fmt=png&quot; data-nickname=&quot;å¿—æ˜ä¸æ•°æ®&quot; data-signature=&quot;ä¸“æ³¨äºæ•°æ®ç®¡ç†ã€æ•°æ®æ²»ç†ã€é¡¹ç›®ç®¡ç†ã€å¤§æ•°æ®ç­‰ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†å†…å®¹ã€å®è·µç»éªŒã€å¿ƒå¾—æ„Ÿæ‚Ÿåˆ†äº«ã€‚&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¯¼è¯»ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;é˜¿&lt;/span&gt;&lt;span&gt;é‡Œäº‘DataWorksæ•°æ®é›†æˆæ˜¯DataXå›¢é˜Ÿåœ¨é˜¿é‡Œäº‘ä¸Šçš„å•†ä¸šåŒ–äº§å“ï¼Œè‡´åŠ›äºæä¾›å¤æ‚ç½‘ç»œç¯å¢ƒä¸‹ã€ä¸°å¯Œçš„å¼‚æ„æ•°æ®æºä¹‹é—´é«˜é€Ÿç¨³å®šçš„æ•°æ®ç§»åŠ¨èƒ½åŠ›ï¼Œä»¥åŠç¹æ‚ä¸šåŠ¡èƒŒæ™¯ä¸‹çš„æ•°æ®åŒæ­¥è§£å†³æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;span&gt;ç›®å‰å·²ç»æ”¯æŒäº‘ä¸Šè¿‘3000å®¶å®¢æˆ·ï¼Œå•æ—¥åŒæ­¥æ•°æ®è¶…è¿‡3ä¸‡äº¿æ¡ã€‚&lt;/span&gt;&lt;span&gt;DataWorksæ•°æ®é›†æˆç›®å‰æ”¯æŒç¦»çº¿50+ç§æ•°æ®æºï¼Œå¯ä»¥è¿›è¡Œæ•´åº“è¿ç§»ã€æ‰¹é‡ä¸Šäº‘ã€å¢é‡åŒæ­¥ã€åˆ†åº“åˆ†è¡¨ç­‰å„ç±»åŒæ­¥è§£å†³æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;span&gt;2020å¹´ä¸Šçº¿å®æ—¶åŒæ­¥èƒ½åŠ›ï¼Œæ”¯æŒ10+ç§æ•°æ®æºçš„è¯»å†™ä»»æ„ç»„åˆï¼Œæä¾›MySQLï¼ŒOracleç­‰å¤šç§æ•°æ®æºåˆ°é˜¿é‡Œäº‘MaxComputeï¼ŒHologresç­‰å¤§æ•°æ®å¼•æ“çš„ä¸€é”®å…¨å¢é‡åŒæ­¥è§£å†³æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;span&gt;ä»Šå¤©è·Ÿå¤§å®¶äº¤æµçš„å†…å®¹æ˜¯æ•°æ®é›†æˆDataXçš„æ¶æ„ï¼Œä»¥åŠåœ¨ä½¿ç”¨æ•°æ®é›†æˆè¿™æ¬¾äº§å“è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œå®è·µç»éªŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»Šå¤©çš„ä»‹ç»ä¼šå›´ç»•ä¸‹é¢å‡ ç‚¹å±•å¼€ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®é›†æˆ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆå¤§äº‹è®°&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆäº§å“å®šä½å’Œä¸šåŠ¡æ”¯æ’‘æƒ…å†µ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXè®¾è®¡æ ¸å¿ƒæ€è·¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXæ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆæ•°æ®åŒæ­¥-æ ¸å¿ƒäº®ç‚¹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆè§£å†³æ–¹æ¡ˆç³»ç»Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘ DataWorks &amp;amp; æ•°æ®é›†æˆå…³ç³»&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ™ºèƒ½å®æ—¶æ•°ä»“è§£å†³æ–¹æ¡ˆç¤ºä¾‹&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;01&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®é›†æˆ&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. æ•°æ®é›†æˆçš„åº”ç”¨åœºæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIVl0RmAIX1U72IyQ9TdXSibzKVBX5oGJSmnK1LvuFAsiaicSr2h6kRw5vw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆä¸ºä»€ä¹ˆéœ€è¦æ•°æ®é›†æˆï¼Œåœ¨å¤§æ•°æ®åœºæ™¯ä¸‹ï¼Œæ•°æ®é›†æˆä¸»è¦æ˜¯è§£å†³å“ªäº›æ ¸å¿ƒé—®é¢˜ï¼Œæˆ‘å°†å…¶åˆ†ä¸ºä»¥ä¸‹å››ä¸ªåœºæ™¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç¬¬ä¸€ä¸ªåœºæ™¯&lt;/span&gt;&lt;span&gt;å°±æ˜¯æ¬ç«™ä¸Šäº‘&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚æ¬ç«™ä¸Šäº‘ä¸»è¦ç”¨æ¥å¯¹æ¥ä¸šåŠ¡æ•°æ®åº“ï¼Œå®Œæˆæ•°ä»“åˆå§‹åŒ–ï¼Œæ¯”å¦‚ç”¨æˆ·éœ€è¦æŠŠè‡ªå·±çš„äº‘ä¸‹æ•°æ®åº“å¿«é€Ÿå®‰å…¨åœ°è¿ç§»åˆ°äº‘ä¸Šå­˜å‚¨å¹¶åšè¿›ä¸€æ­¥çš„ä¸šåŠ¡åˆ†æï¼Œå¦‚çº¿ä¸‹MySQLã€Oracleåˆ°äº‘ä¸ŠMaxComputeæˆ–è€…æ˜¯Hadoopä¸­Hiveä¸Šï¼Œè¿™æ—¢åŒ…å«äº†ä¸€æ¬¡æ€§å…¨é‡æ•°æ®è¿ç§»ï¼Œè¿˜åŒ…å«æŒç»­å¢é‡æ•°æ®è¿ç§»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç¬¬äºŒä¸ªåœºæ™¯&lt;/span&gt;&lt;span&gt;æ˜¯æ„å»ºå®æ—¶æ•°ä»“&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œåšæµå¼çš„æ•°æ®æ±‡èšã€‚ä¸»è¦åŒ…å«åº”ç”¨äº§ç”Ÿçš„æ—¥å¿—æ•°æ®ï¼Œåº”ç”¨äº§ç”Ÿçš„æ¶ˆæ¯æ•°æ®ï¼Œå’Œåº”ç”¨å¯¹æ¥æ•°æ®åº“äº§ç”Ÿçš„æ—¥å¿—æ•°æ®ï¼ˆæ•°æ®åº“çš„Binlogæˆ–è€…å½’æ¡£æ—¥å¿—ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç¬¬ä¸‰ä¸ªåœºæ™¯æ˜¯å¹³å°èå’Œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå®Œæˆäº‘ä¸Šå„ä¸ªäº§å“ä¹‹é—´çš„æ•°æ®åŒæ­¥å’Œäº¤æ¢ã€‚æ—¢åŒ…å«è·¨äº‘å¹³å°ä¹‹é—´çš„æ•°æ®åŒæ­¥ï¼Œæ¯”å¦‚ä»AWSã€GCPåˆ°é˜¿é‡Œäº‘ï¼›è¿˜åŒ…å«äº‘å¹³å°å†…éƒ¨ä¹‹é—´çš„æ•°æ®äº¤æ¢ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘å†…éƒ¨RDSã€MaxComputeã€OSSã€PolarDBã€AnalyticDBã€Datahubç­‰ä¹‹é—´çš„æ•°æ®åŒæ­¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç¬¬å››ä¸ªåœºæ™¯æ˜¯å®¹ç¾å¤‡ä»½&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚å½“æ•°æ®åˆ†ä¸ºå†·çƒ­æ•°æ®æ—¶ï¼Œéœ€è¦æŠŠå†·æ•°æ®æ”¾åˆ°å½’æ¡£æ•°æ®ä¸­ï¼Œæå¤§èŠ‚çº¦æˆæœ¬ã€‚åœ¨æ•°ä»“åœºæ™¯ä¸­ï¼Œä¹Ÿå¯ä»¥æŠŠäº‘ä¸Šè®¡ç®—å¥½çš„ä¸€äº›ç»“æœæ•°æ®å›æµåˆ°æ•°æ®åº“ä¸­ï¼ŒæœåŠ¡äºåœ¨çº¿æ•°æ®åº”ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»¥ä¸Šæ˜¯æ•°æ®é›†æˆä¸»è¦æ”¯æ’‘çš„å››ä¸ªå…¸å‹çš„æ•°æ®åœºæ™¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;2. æ•°æ®é›†æˆçš„è§’è‰²å’Œåœ°ä½&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIibxSgSPicjT62BiarVibH2zh0zH59u3nYFsqibiaBrQzujRl2qly4LSSm3TQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®é›†æˆåœ¨æ•´ä¸ªæ•°ä»“å»ºè®¾ä¸­çš„è§’è‰²å’Œåœ°ä½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬å°†æ•°ä»“å¼€å‘ç®€å•æ¦‚æ‹¬ä¸º6ä¸ªæ¨¡å—æˆ–æ­¥éª¤ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°æ®æºï¼Œé‡Œé¢åŒ…å«äº†å„ç§å…³ç³»å‹æ•°æ®åº“ã€æ–‡ä»¶å­˜å‚¨ã€å¤§æ•°æ®å­˜å‚¨ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚è¿™äº›å¼‚æ„çš„æ•°æ®æºå¯ä»¥é€šè¿‡ç»Ÿä¸€çš„æ•°æ®é›†æˆå¹³å°æ¥å°†å¼‚æ„ç½‘ç»œçš„æ•°æ®ç»Ÿä¸€æŠ½å–åˆ°æ•°æ®ä»“åº“å¹³å°ï¼Œåœ¨æ•°æ®ä»“åº“å¹³å°ä¸­å®Œæˆæ•°æ®æ±‡èšï¼Œè¿›è¡Œè¿›ä¸€æ­¥çš„æ•°æ®åˆ†æã€‚åˆ†æåçš„ç»“æœæ•°æ®ä»å¯ä»¥é€šè¿‡æ•°æ®é›†æˆå›æµåˆ°åœ¨çº¿æ•°æ®åº“ï¼Œä¸ºåœ¨çº¿ä¸šåŠ¡ã€åœ¨çº¿åº”ç”¨æä¾›æ•°æ®æŸ¥è¯¢ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åˆ©ç”¨ä¸€ä¸ªæ‰¿ä¸Šå¯ä¸‹çš„äº§å“-æ•°æ®æœåŠ¡ï¼Œå¯¹æ¥æ•°æ®åº”ç”¨ï¼Œåˆ¶ä½œç›¸å…³æŠ¥è¡¨ã€å¤§å±ã€å’Œåº”ç”¨ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬çŸ¥é“æ•°æ®é›†æˆåœ¨æ•´ä¸ªæ•°æ®ä»“åº“å¼€å‘å»ºè®¾è¿‡ç¨‹ä¸­èµ·åˆ°äº†éå¸¸å…³é”®çš„ä½œç”¨ï¼Œåªæœ‰é€šè¿‡æ•°æ®é›†æˆå°†å¼‚æ„æ•°æ®æºç»Ÿä¸€æ±‡æ€»åˆ°æ•°æ®ä»“åº“ä¸­ï¼Œæ‰æœ‰ååºçš„æ•°æ®åˆ†æã€æ•°æ®æœåŠ¡ã€æ•°æ®åº”ç”¨ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;02&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆå¤§äº‹è®°&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI85CnNcOu6mYkZ1jLbGWECRR9FW7OKQoeF8Ik202sibK45TNopXjWaibA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆæ­£æ˜¯ä¸ºäº†è§£å†³æ•°æ®ä»“åº“ä¸­è¿™äº›ç»å…¸é—®é¢˜è€Œå‡ºç°çš„ï¼Œå®ƒæ˜¯ä¸€æ¬¾æœ‰å†å²æ¸Šæºçš„äº§å“ã€‚2011å¹´ä¼´éšç€é˜¿é‡Œå·´å·´æ•°æ®å¹³å°äº‹ä¸šéƒ¨æˆç«‹ï¼Œå½“æ—¶æ¨å‡ºäº†DataXçš„1.0å’Œ2.0ç‰ˆæœ¬ï¼Œå½“æ—¶å¤§å®¶å¯èƒ½å¯¹äºè¿™æ¬¾äº§å“è¿˜æ²¡æœ‰å¤ªå¤šäº†è§£ã€‚åœ¨2014å¹´ï¼Œä¼´éšç€DataX 3.0ç‰ˆæœ¬çš„å‘å¸ƒï¼Œæˆ‘ä»¬å°†æœåŠ¡äºå†…éƒ¨çš„æ•°æ®é›†æˆäº§å“æ¨å‘äº†é˜¿é‡Œäº‘ï¼ˆå…¬æœ‰äº‘ã€ä¸“æœ‰äº‘ï¼‰ï¼Œå¼€å§‹æ­£å¼çš„å¯¹å¤–æä¾›æœåŠ¡ã€‚å¹¶ä¸”äº2016å¹´ï¼Œå°†æ•°æ®åŒæ­¥å¼•æ“DataXå¼€æºåˆ°ç¤¾åŒºï¼ŒåŠ©åŠ›å¤§æ•°æ®ETLç”Ÿæ€å»ºè®¾ã€‚åœ¨2018å¹´DataXæœ‰äº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ¶æ„å‡çº§ï¼Œå°†å…¬æœ‰äº‘ã€ä¸“æœ‰äº‘ã€é˜¿é‡Œå†…éƒ¨åŠŸèƒ½ç»Ÿä¸€å»ºç«‹å…¨æ–°çš„Data IntegrationæœåŠ¡ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº†å¼€å‘æ•ˆç‡ï¼ŒèŠ‚çº¦äº†è¿ç»´æˆæœ¬ã€‚åœ¨2019å¹´ï¼Œå°†æ•°æ®é›†æˆèƒ½åŠ›è¿›è¡Œäº†å•†ä¸šåŒ–ã€‚åœ¨2020å¹´ï¼Œå‘å¸ƒäº†æ•°æ®é›†æˆçš„å®æ—¶åŒæ­¥èƒ½åŠ›ï¼Œå¯ä»¥æ”¯æŒæ•°æ®å®æ—¶ä¼ è¾“ï¼Œå¹¶ä¸”æä¾›äº†ä¸€äº›å®æ—¶åŒæ­¥åœºæ™¯è§£å†³æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ€»ä¹‹ï¼Œé˜¿é‡Œäº‘æ•°æ®é›†æˆæ˜¯å¤§æ•°æ®å¹³å°ä¸Šä¸‹äº‘çš„æ ¸å¿ƒæ¢çº½ï¼Œå¯ä»¥å°†ä¸åŒä¸šåŠ¡ç³»ç»Ÿä¸­æ•°æ®ç›¸äº’æ‰“é€šï¼Œå®ç°æ•°æ®è‡ªç”±ç¦»çº¿æˆ–å®æ—¶çš„æµåŠ¨ã€‚å…¶è‡´åŠ›äºæä¾›å¤æ‚ç½‘ç»œç¯å¢ƒä¸‹ï¼Œä¸°å¯Œçš„å¼‚æ„æ•°æ®æºä¹‹é—´é«˜é€Ÿç¨³å®šçš„æ•°æ®ç§»åŠ¨èƒ½åŠ›ï¼Œä»¥åŠåœ¨ç¹æ‚ä¸šåŠ¡èƒŒæ™¯ä¸‹ï¼Œæä¾›æ•°æ®åŒæ­¥è§£å†³æ–¹æ¡ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;03&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆäº§å“å®šä½å’Œä¸šåŠ¡æ”¯æ’‘æƒ…å†µ&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. é˜¿é‡Œäº‘æ•°æ®é›†æˆäº§å“å®šä½&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI7fe9t4H4LmVkicdSic7nBW7vJ5e79joSVCqPaR02REt5GrVib0suBDp1Q/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å›¾ä¸­æ˜¯é˜¿é‡Œäº‘æ•°æ®é›†æˆäº§å“çš„æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§åˆ—è¡¨ï¼Œå¤§å®¶åœ¨è‡ªå·±è®¾è®¡æˆ–é€‰å‹ETLäº§å“çš„æ—¶å€™ï¼Œå¯ä»¥ç€é‡äº†è§£è¿™äº›ç‚¹ï¼Œåšé€‰å‹å‚è€ƒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œç¦»çº¿å’Œå®æ—¶å…¨è¦†ç›–ï¼Œè¿™æ¬¾äº§å“æ—¢æ”¯æŒä¼ ç»Ÿçš„ç¦»çº¿åŒæ­¥ï¼Œä¹Ÿæ”¯æŒåŠæ—¶é«˜æ•ˆçš„å®æ—¶åŒæ­¥ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬äºŒç‚¹ï¼Œé’ˆå¯¹å„ç§å¤æ‚ç½‘ç»œå‡åšäº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆå’Œäº§å“åŒ–èƒ½åŠ›ï¼Œæ— è®ºæ•°æ®æºåœ¨å…¬ç½‘ã€IDCè¿˜æ˜¯VPCç­‰ï¼Œæ•°æ®é›†æˆéƒ½æœ‰å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰ç‚¹ï¼Œå› ä¸ºDataXæ˜¯ä¸€ä¸ªäº‘ä¸Šäº§å“ï¼ŒåŒæ—¶éœ€è¦å…·å¤‡ä¸€äº›å®‰å…¨çš„ç®¡æ§ç­–ç•¥ï¼Œæˆ‘ä»¬å°†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒéš”ç¦»ï¼Œè¿›è¡Œæ•°æ®æºæƒé™å®‰å…¨æ§åˆ¶ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬å››ç‚¹ï¼Œå¾—ç›Šäºè¿™ç§å¯æ‰©å±•æ€§æ¶æ„ï¼ŒDataXå¯ä»¥æ”¯æŒç¹å¤šçš„å¼‚æ„æ•°æ®æºï¼Œç¦»çº¿æ”¯æŒ50+ç§æ•°æ®æºï¼Œå®æ—¶æ”¯æŒ10+ç§æ•°æ®æºè¯»å†™ä»»æ„ç»„åˆï¼Œå…¶ä¸­æ¶µç›–äº†å…³ç³»å‹æ•°æ®åº“ã€MPPã€NoSQLã€æ–‡ä»¶å‚¨å­˜ã€æ¶ˆæ¯æµç­‰å„å¤§ç§ç±»ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬äº”ç‚¹ï¼Œåœ¨å¤§æ•°æ®åœºæ™¯ä¸­å¾€å¾€å­˜åœ¨ç‰¹å®šåœºæ™¯çš„é€šç”¨éœ€æ±‚ï¼Œæ¯”å¦‚æ•´åº“è¿ç§»ã€æ‰¹é‡ä¸Šäº‘ã€å¢é‡åŒæ­¥ã€åˆ†åº“åˆ†è¡¨ã€ä¸€é”®å®æ—¶å…¨å¢é‡ï¼Œæˆ‘ä»¬å°†è¿™äº›é€šç”¨éœ€æ±‚æŠ½è±¡ä¸ºæ•°æ®é›†æˆçš„è§£å†³æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥é™ä½ç”¨æˆ·ä½¿ç”¨æ•°æ®é›†æˆé—¨æ§›ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åæˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªéå¸¸å®Œå¤‡çš„è¿ç»´ç›‘æ§ä½“ç³»ï¼Œèƒ½å¤Ÿè¿›è¡Œæµé‡æ§åˆ¶ã€è„æ•°æ®æ§åˆ¶ï¼Œèƒ½å¤Ÿå¯¹ä»»åŠ¡æ‰§è¡Œèµ„æºç»„è¿›è¡Œç›‘æ§ï¼Œå¦å¤–è¿˜å¯ä»¥è®¾ç½®ä»»åŠ¡å‘Šè­¦ï¼Œæ”¯æŒç”µè¯ã€çŸ­ä¿¡ã€é‚®ä»¶ã€é’‰é’‰ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;strong&gt;&lt;span&gt;2. é˜¿é‡Œäº‘æ•°æ®é›†æˆä¸šåŠ¡æ”¯æ’‘æƒ…å†µ&lt;/span&gt;&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI4wyrka60MQNs0kpSlyOCB2jKHvkyU5XnM1JtzdmbLtq0DlngtcGqzg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆè¯¥äº§å“ç°åœ¨æ‹¥æœ‰æ•°åƒç”¨æˆ·ã€æ•°ä¸‡åå¼€å‘è€…ï¼Œæ¯å¤©åŒæ­¥çš„æ•°æ®é‡åœ¨PBçº§åˆ«ï¼Œè¿™äº›æ•°æ®æ˜¯ç”±æ•°åƒä¸‡ä¸ªä»»åŠ¡è°ƒåº¦å®Œæˆï¼Œè€Œä¸”è¯¥äº§å“å·²ç»åšåˆ°äº†å…¨çƒåœ°åŸŸéƒ¨ç½²è¦†ç›–ï¼Œç›®å‰å·²ç»æ¶µç›–äº†æ”¿åºœã€é‡‘èã€ä¿é™©ã€èƒ½æºã€ç”µåŠ›ã€åˆ¶é€ ã€äº’è”ç½‘ã€é›¶å”®ç­‰å¤šä¸ªè¡Œä¸šï¼Œå‡ ä¹æ¯ä¸€ä¸ªè¡Œä¸šéƒ½æœ‰å…¸å‹çš„å®¢æˆ·å’Œåœºæ™¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;04&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXè®¾è®¡æ ¸å¿ƒæ€è·¯&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. æ ¸å¿ƒè®¾è®¡æ€è·¯&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIpUu4NsAkDyzA1TNrBiacBu0CQxFdTbrGrURT9sUeictV8XtqmHic8RqQQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å·¦ä¾§å›¾æ˜¯ä¼ ç»Ÿçš„æ•°æ®ETLå·¥å…·åˆ¶ä½œçš„æ–¹æ³•ï¼Œæ˜¯ä¸€ç§ç½‘çŠ¶æ¨¡å‹ï¼Œæ¯ç§å‚¨å­˜ä¹‹é—´å¦‚æœäº¤æ¢æ•°æ®ï¼Œéœ€åˆ†åˆ«è®¾è®¡ä¸€å¥—æ•°æ®ä¼ è¾“è½¯ä»¶ã€‚æ¯”å¦‚åœ¨MySQLå’ŒFTPä¹‹é—´äº¤æ¢æ•°æ®ï¼Œéœ€è¦å®ç°ä¸€ä¸ªMySQLåˆ°FTPçš„æ•°æ®åŒæ­¥å·¥å…·ï¼Œåœ¨MySQLå’ŒHDFSä¹‹é—´äº¤æ¢æ•°æ®ï¼Œè¿˜è¦å®ç°å¦ä¸€ä¸ªåŒæ­¥å·¥å…·ï¼Œè¿™ç§æ–¹æ³•æ‰©å±•æ€§éå¸¸å·®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é’ˆå¯¹è¿™ç§åœºæ™¯ï¼ŒDataXåšäº†ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„æŠ½è±¡ï¼Œå°±æ˜¯å³ä¾§å›¾ä¸­è“è‰²çš„çº¿æ€§æ¨¡å‹ï¼Œæ¯ä¸€ç§æ•°æ®æºç»Ÿä¸€é€šè¿‡DataXæ¡†æ¶åšæ•°æ®äº¤æ¢ï¼Œå½“å¢åŠ ä¸€ç§æ–°çš„æ•°æ®æºç±»å‹åŒæ­¥æ’ä»¶ï¼Œä¾¿å¤©ç„¶çš„å…·å¤‡å’ŒDataXå·²æœ‰çš„å…¶ä»–æ•°æ®æºé€šé“è¿›è¡Œæ•°æ®äº¤æ¢çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä¸‹é¢ç€é‡ä»‹ç»ä¸€ä¸‹å…·ä½“çš„å®ç°æ€è·¯ï¼Œé¦–å…ˆæ¯ä¸€ç§æ•°æ®å­˜å‚¨ï¼Œæ¯”å¦‚MySQLï¼Œä¼šæœ‰ä¸€ä¸ªMySQLçš„Readeræ’ä»¶å’Œä¸€ä¸ªWriteræ’ä»¶ï¼ŒReaderæ’ä»¶ä¸»è¦æ˜¯ç”¨æ¥è¯»å–MySQLä¸­çš„æ•°æ®ï¼Œè¯»å–çš„æ¨¡å¼å¯ä»¥æ˜¯ç¦»çº¿çš„åŒæ­¥ï¼Œä¹Ÿå¯ä»¥æ˜¯å®æ—¶çš„BinlogåŒæ­¥ï¼ŒWriteræ’ä»¶ä¸»è¦æ˜¯ç”¨æ¥å†™å…¥æ•°æ®ã€‚DataXåšäº†ä¸¤ä¸ªæ ¸å¿ƒæŠ½è±¡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ¥å£æŠ½è±¡ï¼Œä¸è®ºReaderè¿˜æ˜¯Writeræ’ä»¶å‡æœ‰ä¸€å¥—æ¥å£è§„èŒƒï¼Œåªè¦ç¬¦åˆæ¥å£è§„èŒƒï¼Œå°±å¯ä»¥çº³å…¥å¹³å°è°ƒåº¦ä½“ç³»ï¼Œè¢«å¹³å°è°ƒåº¦å’Œä½¿ç”¨ã€‚å¦å¤–ä¸€ä¸ªæŠ½è±¡æ˜¯æ•°æ®ç±»å‹è§„èŒƒï¼Œæ¯å¢åŠ ä¸€ç§æ–°çš„æ•°æ®æºï¼Œåªè¦ç¬¦åˆæ•°æ®äº¤æ¢è§„èŒƒï¼Œå°±å¯ä»¥å’Œå¹³å°ä¸­å·²ç»æ”¯æŒçš„å…¶ä»–æ•°æ®æºè¿›è¡Œäº¤æ¢ï¼Œä»¥ä¸Šå°±æ˜¯DataXæå…·æ‰©å±•æ€§çš„åŸå› ã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æˆ‘ä»¬åœ¨2016å¹´å°†æ•°æ®åŒæ­¥æ ¸å¿ƒåŒæ­¥å¼•æ“çš„ä¸€éƒ¨åˆ†DataXå¼€æºåˆ°äº†ç¤¾åŒºï¼Œåœ°å€ä¸ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;https://github.com/alibaba/DataXÂ &lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;D&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ataXæ˜¯æ•°æ®é›†æˆçš„ä¸€ä¸ªæ ¸å¿ƒåŒæ­¥å¼•æ“ï¼Œæ˜¯æˆ‘ä»¬åŒæ­¥èƒ½åŠ›çš„ä¸€éƒ¨åˆ†ï¼Œä»Šå¤©é™¤äº†è¦ä»‹ç»ä¸€äº›å¼€æºçš„æ¶æ„ä¹‹å¤–ï¼Œè¿˜ä¼šä»‹ç»ä¸€äº›å•†ä¸šç‰ˆï¼Œè¿˜æ²¡æœ‰å®Œå…¨å¼€æºçš„éƒ¨åˆ†åŠŸèƒ½çš„æ ¸å¿ƒæ¶æ„ã€‚&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. ç¦»çº¿æ•°æ®åŒæ­¥åŸç†&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIGYEHuudmut5ibvNINPqH0w2TSscURXBm84micJs66NCvTQ3DLcF2morw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆæ˜¯ç¦»çº¿æ•°æ®çš„åŒæ­¥åŸç†ï¼Œæ¯ä¸€ä¸ªæ•°æ®åŒæ­¥ä½œä¸šéƒ½æ˜¯ä¸€ä¸ªDataXç¨‹åºè¿›ç¨‹ï¼ŒDataXå¯ä»¥è¿æ¥æ•°æ®æºå¤´è¯»å–æ•°æ®ï¼Œè¯»å–åˆ°æ•°æ®ä»¥åå†™å…¥åˆ°ç›®æ ‡ç«¯ã€‚æ•°æ®æºå¤´çš„æ•°æ®è¯»å–å¯ä»¥åŸºäºæ•°æ®åº“çš„JDBCåè®®ï¼Œè¿™äº›åœ¨ä¸€äº›å…³ç³»å‹æ•°æ®åº“æˆ–è€…ä¸€äº›MPPæ•°æ®åº“ä¸­å·²ç»éå¸¸å¸¸è§äº†ï¼›å¦‚æœæºæ•°æ®ç³»ç»Ÿæ˜¯Kafkaï¼ŒMQæ¶ˆæ¯é˜Ÿåˆ—ç­‰å‚¨å­˜å½¢å¼çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®æºå¯¹åº”çš„SDKè¿›è¡Œè¯»å†™ã€‚ä¸€ä¸ªä»»åŠ¡åœ¨è¯»å–çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå‘ç”Ÿåˆ‡ç‰‡ã€åˆ†å‘ã€æ‰§è¡Œï¼ŒReaderå’ŒWriterä¹‹é—´æ˜¯ä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼ŒReaderåœ¨è¯»å–æ•°æ®ä»¥åä¼šå°†æ•°æ®å‘é€åˆ°ä¸­é—´çš„ç¼“å­˜é˜Ÿåˆ—ï¼ŒWriterä»ä¸­é—´ç¼“å­˜é˜Ÿåˆ—æ•è·æ•°æ®ï¼Œå¹¶æœ€ç»ˆç”±Writerå†™å…¥åˆ°ç›®æ ‡å‚¨å­˜é‡Œé¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3. å®æ—¶æ•°æ®åŒæ­¥åŸç†&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIgU0vszHqSThichZBnzLibqP6NFm3JnvT6viawA0j2t1PHuTM6Hq4vNnHA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶æ¬¡ï¼Œä»‹ç»ä¸€ä¸‹DataXå®æ—¶æ•°æ®åŒæ­¥åŸç†ã€‚æ•°æ®æ¥æºä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼Œå…³ç³»å‹æ•°æ®åº“å’Œå®æ—¶æ¶ˆæ¯æµã€‚å…³ç³»å‹æ•°æ®åº“å¯ä»¥æœ‰å¯¹åº”æ—¥å¿—ï¼Œæ¯”å¦‚MySQLå¯¹åº”çš„Binlogæ—¥å¿—ï¼ŒOracleçš„å½’æ¡£æ—¥å¿—ï¼Œæˆ–è€…æ•°æ®å˜æ›´æ•è·cdcã€‚è¿™äº›æ—¥å¿—ä¼šè¢«æ—¥å¿—æŠ½å–æ•è·åˆ°ï¼Œæ•è·æ–¹å¼æœ‰APIå’ŒSDKä¸¤ç§æ–¹å¼ï¼Œç„¶åæ¡†æ¶ä¼šå°†æ•è·åˆ°çš„å†…å®¹åšæ¶ˆæ¯åˆ†è§£å¤„ç†ï¼Œåˆ†è§£ä¸ºinsertã€updateã€deleteã€alterç­‰äº‹ä»¶ï¼Œç„¶åå¹¶è¡Œåœ°å°†å…¶å­˜æ”¾ã€‚æˆ‘ä»¬æ”¯æŒå…³ç³»å‹æ•°æ®åº“ã€å¤§æ•°æ®ã€å®æ—¶æ¶ˆæ¯æµç­‰å¤šç§ç›®æ ‡å­˜å‚¨æ–¹å¼ï¼Œå¦‚æœæ•°æ®æºå°±æ˜¯å®æ—¶æ¶ˆæ¯æµçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¶ˆæ¯è®¢é˜…æ¨¡å¼è®¢é˜…æ¶ˆæ¯ï¼Œå¹¶ä¸”å°†æ¶ˆæ¯åŒæ ·åšåˆ†è§£ï¼Œæœ€ç»ˆé‡æ”¾åˆ°ç›®æ ‡ç«¯ã€‚å…¶ä¸­ç¬¬ä¸€ç±»å…³ç³»å‹æ•°æ®åº“å¤æ‚åº¦è¿˜æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå› ä¸ºåŒ…å«äº†æ•°æ®çš„å¢åˆ æ”¹å’ŒDDLæ“ä½œï¼Œå®æ—¶æ¶ˆæ¯æµåˆ™ä¸»è¦æ˜¯ä¸€äº›è¿½åŠ æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;05&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXæ¶æ„&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. DataXæ¶æ„æ¨¡å¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;h3&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;â‘ &lt;/span&gt;&lt;/strong&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;Standaloneæ¨¡å¼&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIibAbRydy657mhW701nnENSVicxAW0t2Nu3Niau1wSiclGtJxg1Aol6C8MA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨äº†è§£åŸºç¡€åŸç†ä¹‹åï¼Œå‘å¤§å®¶ä»‹ç»ä¸€ä¸‹é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXçš„æ¶æ„è®¾è®¡ï¼Œå…¶ä¸­æœ€ç»å…¸çš„æ˜¯å¤§å®¶æ¯”è¾ƒç†Ÿæ‚‰çš„Standaloneæ¨¡å¼ï¼ŒGithubä¸Šå¼€æºçš„å³ä¸ºè¿™ç§æ¨¡å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Standaloneæ¨¡å¼å°†æ•´ä¸ªè¿‡ç¨‹æŠ½è±¡ä¸º3ä¸ªéƒ¨åˆ†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸€éƒ¨åˆ†æ˜¯frameworkæ¡†æ¶ï¼Œæ¡†æ¶ä¸»è¦ç”¨æ¥æä¾›ä¸€äº›æ ¸å¿ƒçš„ã€å…±æ€§çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ•°æ®çš„é€Ÿåº¦æ§åˆ¶ã€è„æ•°æ®ã€ä»»åŠ¡æ‰§è¡ŒæŒ‡æ ‡çš„æ”¶é›†ã€æ±‡æ€»å’Œä¸ŠæŠ¥ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæ¡†æ¶è¿˜å…·æœ‰ä¸€å®šçš„è°ƒåº¦èƒ½åŠ›ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬äºŒéƒ¨åˆ†æ˜¯Readeræ’ä»¶éƒ¨åˆ†ï¼ŒReaderæ’ä»¶ä¸»è¦æ˜¯ç”¨æ¥å¯¹æ¥æ•°æ®æºå¤´ï¼Œå°†æºå¤´æ•°æ®è¯»å…¥å…¶ä¸­ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰éƒ¨åˆ†æ˜¯Writerå†™æ’ä»¶éƒ¨åˆ†ï¼Œæ¯ä¸€ä¸ªç›®æ ‡å­˜å‚¨ç±»å‹éƒ½å¯¹åº”ä¸€ä¸ªWriteræ’ä»¶ï¼Œå¯ä»¥å°†æºå¤´æŠ•é€’è¿‡æ¥çš„æ•°æ®ï¼Œå†™å…¥åˆ°ä¸åŒçš„ç›®æ ‡å‚¨å­˜é‡Œé¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;ä¸Šé¢å°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ¨¡å‹ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªæ•°æ®åŒæ­¥ä½œä¸šç§°ä¹‹ä¸ºä¸€ä¸ªjobï¼Œä¸ºäº†æœ€å¤§åŒ–çš„æé«˜ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦å’Œæ•ˆç‡ï¼Œæˆ‘ä»¬ä¼šå°†ä¸€ä¸ªjobæ‹†åˆ†æˆå¤šä¸ªtaskä»»åŠ¡ï¼Œæ¯ä¸€ä¸ªtaskéƒ½æ˜¯ä¸€ä¸ªå®Œæ•´æ•°æ®åŒæ­¥ä½œä¸šçš„ä¸€ä¸ªå·¥ä½œå­ä»»åŠ¡ï¼Œç”¨æ¥å®Œæˆå¯¹åº”å·¥ä½œæœŸé—´æ•°æ®ä¼ è¾“å’ŒæŠ•é€’ï¼Œtaskä»»åŠ¡å¯ä»¥è¢«æˆ‘ä»¬è°ƒåº¦æ¡†æ¶è¿›è¡Œè°ƒåº¦æ‰§è¡Œã€‚taskæ˜¯åˆ†ç»„çš„ï¼Œå³TaskGroupã€‚ä¸€ä¸ªTaskGroupå¯ä»¥æœ‰å¤šä¸ªtaskå­ä»»åŠ¡ï¼ŒTaskGroupä¼šåœ¨workerèŠ‚ç‚¹ä¸­æ‰§è¡Œå’Œå¤„ç†ï¼Œworkerä¹Ÿæ˜¯å•æœºç‰ˆæœ¬çš„ï¼Œè¿™ä¹Ÿæ˜¯Githubä¸­å¼€æºçš„ç»å…¸æ¨¡å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;â‘¡&lt;/span&gt; Distributeæ¨¡å¼&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI7k2XcdJzZ7jbRqpVEMkcRCOagN0RoTOiadoicmeJ82rcYwhWz3dM994g/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é™¤äº†Standaloneæ¨¡å¼ä»¥å¤–ï¼Œæˆ‘ä»¬åœ¨å•†ä¸šç‰ˆæœ¬é‡Œé¢è¿˜æœ‰ä¸€äº›æ›´å¼ºå¤§çš„èƒ½åŠ›ï¼Œé¦–å…ˆæ˜¯åˆ†å¸ƒå¼æ¨¡å¼ï¼Œåˆšåˆšæˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæ•°æ®ä¼ è¾“ä½œä¸šå¯ä»¥è¢«åˆ†ä¸ºå¤šä¸ªtaskå­ä»»åŠ¡ï¼Œtaskåˆå¯ä»¥åˆ†ç»„æˆTaskGroupï¼Œè¿™äº›taskä¼šè¢«å¹¶å‘æ‰§è¡Œã€‚æˆ‘ä»¬å°†å‰é¢è®²çš„è°ƒåº¦éƒ¨åˆ†æ¢æˆåˆ†å¸ƒå¼è°ƒåº¦æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸åŒçš„TaskGroupåˆ†å‘åˆ°ä¸åŒçš„workerèŠ‚ç‚¹ä¸Šé¢ï¼Œå°±å¯ä»¥çªç ´ç³»ç»Ÿçš„å•æœºç“¶é¢ˆï¼Œåœ¨é¢å¯¹æµ·é‡æ•°æ®åŒæ­¥çš„æ—¶å€™ï¼Œæå¤§åœ°æå‡æ•°æ®ä¼ è¾“æ•ˆç‡ã€‚åˆ†å¸ƒå¼æ‰§è¡Œé›†ç¾¤ä¹Ÿå¯ä»¥åšåˆ°çº¿æ€§æ‰©å±•ï¼Œåªè¦æ•°æ®ç³»ç»Ÿååå¯ä»¥ä¿éšœï¼Œæ•°æ®åŒæ­¥ä½œä¸šå¯ä»¥éšç€workerèŠ‚ç‚¹çš„å¢åŠ è€Œçº¿æ€§å¢åŠ ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜åšäº†ä¸€äº›å¼‚å¸¸èŠ‚ç‚¹çš„éš”ç¦»ç­‰å¯¹åº”çš„ä¸€äº›åˆ†å¸ƒå¼æœºåˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;â‘¢&lt;/span&gt; On Hadoopæ¨¡å¼&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIwkGZUPkRdncE5jGiaHU8WVfcPD1chicU8KOfKhtPDibZk146dyb9ZO5Eg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰ä¸ªæ¨¡å¼æ˜¯On Hadoopæ¨¡å¼ï¼Œä¹Ÿæ˜¯å•†ä¸šåŒ–ç‰ˆæœ¬çš„ä¸€ä¸ªèƒ½åŠ›ã€‚å½“ç”¨æˆ·å·²ç»æ‹¥æœ‰ä¸€ä¸ªHadoopæ‰§è¡Œé›†ç¾¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†DataXæ•°æ®ä¼ è¾“ä½œä¸šéƒ¨ç½²åœ¨å·²æœ‰çš„Hadoopé›†ç¾¤é‡Œé¢ï¼ŒHadoopä¸­å¸¸è§çš„ç¼–ç¨‹æ¨¡å‹æ˜¯MapReduceï¼Œæˆ‘ä»¬å¯ä»¥å°†DataXæ‹†åˆ†çš„taskå¯„å®¿åœ¨mapperèŠ‚ç‚¹å’ŒreducerèŠ‚ç‚¹ä¸­ï¼Œé€šè¿‡Yarnè¿›è¡Œç»Ÿä¸€è°ƒåº¦å’Œç®¡ç†ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æˆ‘ä»¬å¯ä»¥å¤ç”¨å·²æœ‰çš„Hadoopè®¡ç®—å’Œæ‰§è¡Œèƒ½åŠ›ã€‚è¿™ç§æ¨¡å¼å’Œå¼€æºçš„Sqoopæ¡†æ¶æ˜¯æœ‰ä¸€ç‚¹ç±»ä¼¼çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. å®æ—¶åŒæ­¥CheckPointæœºåˆ¶&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIiauBmmhmRFnLflGLaTRTNfP5ibF9iaqJxLFLtsV2Xq9ibqPJPwgQUsOEgg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢ä»‹ç»é˜¿é‡Œäº‘æ•°æ®é›†æˆDataXå…³äºå®æ—¶åŒæ­¥çš„checkpointæœºåˆ¶ã€‚checkpointæœºåˆ¶å¯ä»¥ä¿è¯å®æ—¶æ•°æ®ä¼ è¾“çš„ç¨³å®šå’Œæ–­ç‚¹ç»­ä¼ çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä½ å¯¹Flinkç‰¹åˆ«äº†è§£çš„è¯ï¼Œè¿™å¼ å›¾ä¼šéå¸¸ç†Ÿæ‚‰ã€‚Flinkæ˜¯é˜¿é‡Œå›¢é˜Ÿå¼€æºå‡ºå»çš„å¦å¤–ä¸€ä¸ªéå¸¸é‡è¦çš„å®æ—¶è®¡ç®—å¼•æ“ï¼ŒDataXæ¡†æ¶ä¹Ÿå€ŸåŠ©äº†Flinkçš„checkpointæœºåˆ¶ï¼Œæ¯”å¦‚Flinkä¼šå®šæœŸå‘é€ä¸€äº›barrieräº‹ä»¶å’Œæ¶ˆæ¯ã€‚æˆ‘ä»¬çš„Reader Taskå…¶å®æ˜¯sourceï¼Œæ”¶åˆ°barrierä»¥åï¼Œä¼šäº§ç”ŸsnapShotStateï¼Œå¹¶ä¸”barrierä¼šä¼ é€’åˆ°Transformer Taskï¼ŒTransformer Taskå¯ä»¥ç”¨æ¥åšæ•°æ®çš„è½¬æ¢ï¼ŒTransformer Taskæ”¶åˆ°barrierä»¥åï¼Œbarrierè¿›ä¸€æ­¥ä¼ é€’åˆ°Writer Taskï¼Œè¿™ä¸ªæ—¶å€™çš„Writer Taskå…¶å®å°±æ˜¯sinkï¼Œæ”¶åˆ°barrierä¹‹åï¼Œä¼šå†åšä¸€æ¬¡snapShotStateï¼ŒWriter Taskä¼šå°†æˆ‘ä»¬çš„æ•°æ®flushåˆ°ç›®æ ‡å‚¨å­˜ã€‚æˆ‘ä»¬ä¼šè·Ÿè¸ªbarrierè¿›åº¦æƒ…å†µï¼Œå¹¶ä¸”æ ¹æ®barrierè¿›åº¦æƒ…å†µï¼ŒæŠŠæ•°æ®æµæ¶ˆè´¹çš„ç‚¹ä½cacheç¼“å­˜ä¸‹æ¥ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚å½“ä»»åŠ¡å‡ºç°å¼‚å¸¸æˆ–è€…è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­ä»ä¸Šä¸€ä¸ªcacheç‚¹ç»§ç»­æ¶ˆè´¹æ•°æ®ï¼Œå¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šè¢«ä¸¢å¼ƒï¼Œä¸è¿‡æ•°æ®å¯èƒ½ä¼šæœ‰éƒ¨åˆ†çš„é‡å¤ï¼Œä¸€èˆ¬ååºçš„è®¡ç®—å¼•æ“å¯ä»¥å¤„ç†è¿™ç§æƒ…å†µï¼ˆå¹‚ç­‰å†™å‡ºï¼Œæœ€ç»ˆä¸€è‡´ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;06&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆæ•°æ®åŒæ­¥-æ ¸å¿ƒäº®ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. é˜¿é‡Œäº‘æ•°æ®é›†æˆç¦»çº¿åŒæ­¥-æ ¸å¿ƒäº®ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIUZyoyt4C4fkuyuNibJ5MOmib2KyibAqz9ldZH8c7DjOsR3RAxzwmvzGOw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¦‚å†µä¸€ä¸‹é˜¿é‡Œäº‘æ•°æ®é›†æˆç¦»çº¿åŒæ­¥çš„æ ¸å¿ƒäº®ç‚¹ã€‚ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å››ä¸ªéƒ¨åˆ†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸€éƒ¨åˆ†&lt;/span&gt;&lt;span&gt;æ˜¯æ”¯æŒå¤šç§ç±»çš„æ•°æ®æº&lt;/span&gt;&lt;span&gt;ï¼ŒDataXæ”¯æŒ50+å¸¸è§æ•°æ®æºï¼Œæ¶µç›–å„ç§å…³ç³»å‹æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿã€å¤§æ•°æ®ç³»ç»Ÿã€æ¶ˆæ¯ç³»ç»Ÿï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬äºŒéƒ¨åˆ†&lt;/span&gt;&lt;span&gt;æ˜¯è§£å†³æ–¹æ¡ˆç³»ç»Ÿ&lt;/span&gt;&lt;span&gt;ï¼Œæˆ‘ä»¬ä¸ºä¸€äº›æ•°æ®ä¼ è¾“ç»å…¸é—®é¢˜å‡†å¤‡äº†å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚æ”¯æŒå…¨é‡å’Œå¢é‡çš„æ•°æ®åŒæ­¥ï¼Œæ”¯æŒæ•´åº“ã€æ‰¹é‡æ•°æ®åŒæ­¥ã€æ”¯æŒåˆ†åº“åˆ†è¡¨ï¼Œæˆ‘ä»¬å°†è¿™äº›çç¢çš„åŠŸèƒ½æ•´åˆæˆäº†äº§å“åŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œç›´æ¥é€šè¿‡ç•Œé¢æ“ä½œå³å¯å®Œæ•´å¤æ‚çš„æ•°æ®ä¼ è¾“è¿‡ç¨‹ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰éƒ¨åˆ†&lt;/span&gt;&lt;span&gt;æ˜¯ç²¾ç»†åŒ–æƒé™ç®¡æ§èƒ½åŠ›&lt;/span&gt;&lt;span&gt;ï¼Œå¯ä»¥å¯¹æ•°æ®æºæƒé™è¿›è¡Œå®‰å…¨æ§åˆ¶ï¼Œå¹¶ä¸”éš”ç¦»å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¬¬å››éƒ¨åˆ†&lt;/span&gt;&lt;span&gt;DataXæ”¯æŒå¤æ‚è°ƒåº¦&lt;/span&gt;&lt;span&gt;ï¼Œæ•°æ®é›†æˆä¸DataWorksæ·±åº¦èåˆï¼Œåˆ©ç”¨DataWorkså¼ºå¤§çš„è°ƒåº¦èƒ½åŠ›è°ƒåº¦æˆ‘ä»¬çš„æ•°æ®ä¼ è¾“ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. é˜¿é‡Œäº‘æ•°æ®é›†æˆå®æ—¶åŒæ­¥-æ ¸å¿ƒäº®ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIibX0Bu5b7rCtuSqgcicJs35X8LiaE3tpibS4efVhfKzBusiaUTHJ8HEPWaw/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†æ¦‚å†µä¸‹é˜¿é‡Œäº‘æ•°æ®é›†æˆå®æ—¶åŒæ­¥çš„æ ¸å¿ƒäº®ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXæ˜¯å€ŸåŠ©æ’ä»¶åŒ–æœºåˆ¶ï¼Œå¯¹æ–°çš„æ•°æ®æºæ”¯æŒæ‰©å±•èƒ½åŠ›å¼ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXæ”¯æŒä¸°å¯Œå¤šæ ·çš„æ•°æ®æºï¼Œæ”¯æŒæ˜Ÿå‹é“¾è·¯ç»„åˆï¼Œä»»ä½•ä¸€ç§è¾“å…¥æºéƒ½å¯ä»¥å’Œä»»ä½•ä¸€ç§è¾“å‡ºæºæ­é…ç»„æˆåŒæ­¥é“¾è·¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¯ä»¥å®æ—¶è¯»å–MySQLã€Oracleã€SQLSeverã€OceanBaseã€Kafkaã€LogHubã€DataHubã€PolarDBç­‰çš„æ•°æ®ï¼Œå¯ä»¥å°†æ•°æ®å®æ—¶å†™å…¥åˆ°MaxComputeã€Hologresã€Datahubã€Kafkaã€ElasticSearchç­‰å‚¨å­˜ç³»ç»Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXå¤©ç„¶å…·æœ‰äº‘åŸç”ŸåŸºå› ï¼Œå’Œé˜¿é‡Œäº‘äº§å“èåˆåº¦éå¸¸é«˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXå¯ä»¥è½»æ¾ç›‘æ§è¿ç»´å‘Šè­¦ï¼Œæä¾›è¿ç»´å¤§ç›˜ã€ç›‘æ§æŠ¥è­¦ã€FailOverç­‰è¿ç»´èƒ½åŠ›ï¼Œå¯ä»¥ç›‘æ§ä¸šåŠ¡å»¶è¿Ÿã€Failoverã€è„æ•°æ®ã€å¿ƒè·³æ£€æŸ¥ã€å¤±è´¥ä¿¡æ¯ï¼Œå¹¶ä¸”æ”¯æŒé‚®ä»¶ã€ç”µè¯ã€é’‰é’‰å‘Šè­¦é€šçŸ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;DataXæ”¯æŒä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¸¸è§æ•°æ®æºæ•´åº“å…¨å¢é‡åˆ°MaxComputeã€Hologresã€ElasticSearchã€DataHubç­‰ï¼ŒåŒæ—¶èƒ½å¤Ÿæ»¡è¶³åˆ†åº“åˆ†è¡¨ï¼Œå•è¡¨ã€æ•´åº“å¤šè¡¨ã€DDLæ¶ˆæ¯ç­‰å¤æ‚åœºæ™¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;07&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘æ•°æ®é›†æˆè§£å†³æ–¹æ¡ˆç³»ç»Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h1&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1. ç¦»çº¿æ•°ä»“-æ•´åº“è¿ç§»æ–¹æ¡ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h1&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI5WhIRZeJfXbcHjCtMkfxokdqm0f7rjZbQ7WbmQVE6gaKdgkygrhwkA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢å°†è¯¦ç»†ä»‹ç»ä¸€ä¸‹é˜¿é‡Œäº‘æ•°æ®é›†æˆè§£å†³æ–¹æ¡ˆç³»ç»Ÿï¼Œé¦–å…ˆæ˜¯ç¦»çº¿æ•°ä»“çš„æ•´åº“è¿ç§»è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†æ•°æ®é›†æˆä¸­çš„ä¸€äº›å…¸å‹åœºæ™¯ï¼ŒæŠ½è±¡ä¸ºæ•°æ®äº§å“è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å¸®åŠ©æå‡ç”¨æˆ·æ•ˆç‡ï¼Œé™ä½ç”¨æˆ·ä½¿ç”¨æˆæœ¬ã€‚ä¸Šå›¾å±•ç¤ºå‡ºæºå¤´æ•°æ®åº“ä¸­æ‰€æœ‰çš„è¡¨åˆ—è¡¨ï¼Œç›´æ¥é€‰ä¸­éœ€è¦çš„è¡¨ï¼Œé€‰æ‹©å¯¹åº”çš„åŒæ­¥æ–¹å¼ï¼Œæ¯”å¦‚æ¯æ—¥å¢é‡æˆ–è€…æ¯æ—¥å…¨é‡ï¼Œé€‰æ‹©åˆ†æ‰¹ä¸Šä¼ æˆ–è€…æ•´æ‰¹ä¸Šä¼ çš„åŒæ­¥å¹¶å‘é…ç½®ï¼Œå°±å¯ä»¥ä¸Šä¼ åˆ°MaxComputeä¸­ï¼Œè¿™ç§å¯è§†åŒ–æ“ä½œå¯ä»¥æ»¡è¶³å¤§å¤šç¦»çº¿æ•°æ®è¿ç§»åœºæ™¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2. å®æ—¶æ•°ä»“-å…¨å¢é‡è§£å†³æ–¹æ¡ˆ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaI5mfv5HxNduUMyr5kRHNW6jRgX8jwDPTwFu0GbAyqn79TJFafjgxEAA/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®æ—¶æ•°ä»“çš„å…¨å¢é‡è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å°†ç°æœ‰æ•°æ®åº“é€šè¿‡ç®€å•çš„é…ç½®åï¼Œå®Œæˆå­˜é‡çš„å…¨é‡è¿ç§»ï¼Œä»¥åŠåç»­å¢é‡çš„å®æ—¶åŒæ­¥ã€‚æ”¯æŒåœ¨ç›®æ ‡åº“ä¸­å»ºè¡¨ã€è‡ªåŠ¨å»ºç«‹ç¦»çº¿åŒæ­¥ä»»åŠ¡ã€è‡ªåŠ¨å»ºç«‹å®æ—¶ä»»åŠ¡ã€è‡ªåŠ¨å¯åŠ¨ç¦»çº¿ä»»åŠ¡ã€è‡ªåŠ¨å¯åŠ¨å®æ—¶ä»»åŠ¡ã€è‡ªåŠ¨å»ºç«‹å’Œå¯åŠ¨å¢é‡å’Œå…¨é‡çš„èåˆä»»åŠ¡ã€å…¨æµç¨‹çš„ç›‘æ§å’Œå±•ç¤ºï¼Œæ”¯æŒå­æ­¥éª¤å¼‚å¸¸é‡è¯•ã€‚é€šè¿‡è¿™ç§æ–¹æ¡ˆï¼Œå¯ä»¥è®©ç”¨æˆ·ä¸ç”¨å…³æ³¨æ¯ä¸ªå…¨é‡ä»»åŠ¡å’Œå®æ—¶ä»»åŠ¡çš„çç¢é…ç½®ç»†èŠ‚ã€‚é€šè¿‡è¿™ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å®Œæˆæ•´ä¸ªæ•°æ®çš„å…¨é‡ã€å¢é‡å®æ—¶æ•°æ®çš„åŒæ­¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;08&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é˜¿é‡Œäº‘DataWorkså’Œæ•°æ®é›†æˆçš„å…³ç³»&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIDxxCib3JQ0Wr2T3jSBQjaAvIgzM2hoq1DJX9xE849cdiboRu0KMMA9Bg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‰é¢ä»‹ç»äº†é˜¿é‡Œäº‘æ•°æ®é›†æˆå¼€æºå’Œå•†ä¸šæ¶æ„å’Œèƒ½åŠ›ï¼Œæ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹é˜¿é‡Œäº‘DataWorkså’Œæ•°æ®é›†æˆçš„å…³ç³»ã€‚DataWorksæ˜¯é˜¿é‡Œäº‘æä¾›çš„ä¸€ç«™å¼å¼€å‘ã€æ•°æ®æ²»ç†çš„å¹³å°ï¼Œèåˆäº†é˜¿é‡Œäº‘ã€é˜¿é‡Œé›†å›¢12å¹´ä¹‹ä¹…çš„æ•°æ®ä¸­å°ã€æ•°æ®æ²»ç†çš„å®è·µç»éªŒã€‚æ•°æ®é›†æˆæ˜¯é˜¿é‡Œäº‘DataWorksæ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ï¼ŒDataWorkså‘ä¸‹æ”¯æŒå„ç§ä¸åŒçš„è®¡ç®—å’Œå­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚é˜¿é‡Œå¤§æ•°æ®è®¡ç®—æœåŠ¡MaxComputeã€å¼€æºå¤§æ•°æ®è®¡ç®—å¹³å°E-MapReduceã€å®æ—¶è®¡ç®—Realtime Computeã€å›¾è®¡ç®—å¼•æ“GraphComputeã€äº¤äº’å¼åˆ†æå¼•æ“MC-Hologresç­‰ï¼Œä»¥åŠæ”¯æŒOSSã€HDFSã€DBç­‰å„ç§å­˜å‚¨å¼•æ“ã€‚è¿™äº›ä¸åŒçš„è®¡ç®—å­˜å‚¨å¼•æ“å¯ä»¥è¢«é˜¿é‡Œäº‘DataWorksç»Ÿä¸€ç®¡ç†ä½¿ç”¨ï¼Œåé¢å¯ä»¥åŸºäºè¿™äº›å¼•æ“å»åšæ•´ä¸ªæ•°æ®ä»“åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;DataWorkså†…éƒ¨åˆ’åˆ†ä¸º7ä¸ªæ¨¡å—ï¼Œæœ€ä¸‹é¢æ˜¯æ•°æ®é›†æˆï¼Œå¯ä»¥å®Œæˆå„ç§æ¨¡å¼çš„æ•°æ®åŒæ­¥ã€‚æ•°æ®é›†æˆä¹‹ä¸Šï¼Œæ˜¯å…ƒæ•°æ®ä¸­å¿ƒï¼Œæä¾›ç»Ÿä¸€çš„å…ƒæ•°æ®æœåŠ¡ã€‚ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒå¯ä»¥æ‰§è¡Œä»»åŠ¡è°ƒåº¦æœåŠ¡ï¼Œæ•°æ®å¼€å‘æ–¹é¢ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“ï¼Œæ¯”å¦‚å®æ—¶è®¡ç®—å’Œç¦»çº¿è®¡ç®—ï¼Œå…¶æœ‰ç€ä¸åŒçš„å¼€å‘æ¨¡å¼ï¼ŒDataWorksæ”¯æŒç¦»çº¿å¼€å‘å’Œå®æ—¶å¼€å‘ã€‚åŒæ—¶DataWorksæ‹¥æœ‰ä¸€å¥—ç»¼åˆæ•°æ®æ²»ç†çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šæœ‰ä¸€ä¸ªæ•°æ®æœåŠ¡æ¨¡å—ï¼Œç»Ÿä¸€å‘ä¸Šæä¾›æ•°æ®æœåŠ¡ï¼Œå¯¹æ¥å„ç§æ•°æ®åº”ç”¨ã€‚æœ€åå°†DataWorkså„ç§èƒ½åŠ›ç»Ÿä¸€é€šè¿‡OpenAPIå¯¹å¤–æä¾›æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®é›†æˆæ¨¡å—æ˜¯å¯ä»¥å•ç‹¬å¯¹ç”¨æˆ·æä¾›æœåŠ¡ï¼Œå•ç‹¬ä½¿ç”¨çš„ï¼Œå¹¶ä¸éœ€è¦äº†è§£å’ŒæŒæ¡æ‰€æœ‰DataWorksæ¨¡å—å°±å¯ä»¥å°†æ•°æ®åŒæ­¥ä½œä¸šé…ç½®å’Œè¿è¡Œèµ·æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;09&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;æ™ºèƒ½å®æ—¶æ•°ä»“è§£å†³æ–¹æ¡ˆç¤ºä¾‹&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;325&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;2560&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIWKwl5Oj8cK5m7wY0PPRYjO4YNAdnoz4r9AARkQ98AQsPCsc7iazZmHg/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢ä»‹ç»ä¸€ä¸ªæ™ºèƒ½å®æ—¶æ•°ä»“è§£å†³æ–¹æ¡ˆå®ä¾‹ï¼Œå¯ä»¥åº”ç”¨åœ¨ç”µå•†ã€æ¸¸æˆã€ç¤¾äº¤ç­‰å¤§æ•°æ®å®æ—¶åœºæ™¯ä¸­ã€‚æ•°æ®æºæœ‰ç»“æ„åŒ–æ•°æ®å’Œéç»“æ„åŒ–æ•°æ®ï¼Œéç»“æ„åŒ–æ•°æ®å¯ä»¥é€šè¿‡DataHubæ•°æ®æ€»çº¿åšå®æ—¶æ•°æ®é‡‡é›†ï¼Œä¹‹åå€ŸåŠ©æ•°æ®é›†æˆæ¥å®æ—¶å†™åˆ°Hologresä¸­åšäº¤äº’å¼åˆ†æï¼Œä¹Ÿå¯ä»¥å°†æ•°æ®å®æ—¶å†™å…¥åˆ°MaxComputeä¸­ï¼Œè¿›è¡Œå½’æ¡£å’Œç¦»çº¿æ•°æ®è®¡ç®—ï¼Œå¦å¤–Flinkä¹Ÿå¯ä»¥æ¶ˆè´¹è®¢é˜…æ•°æ®ï¼Œåšå®æ—¶æ•°æ®è®¡ç®—ã€‚Flinkè®¡ç®—ç»“æœåŒæ—¶åˆå¯ä»¥å†™å…¥Hologresä¸­ï¼Œä¹Ÿå¯ä»¥å°†å®æ—¶è®¡ç®—ç»“æœåšå®æ—¶å¤§å±å’Œå®æ—¶é¢„è­¦ã€‚ç»“æ„åŒ–æ•°æ®ä¹Ÿå¯ä»¥é€šè¿‡å®æ—¶æ•°æ®æŠ½å–æˆ–è€…æ‰¹é‡æ•°æ®é‡‡é›†æ–¹å¼ï¼Œç»Ÿä¸€é‡‡é›†åˆ°DataWorksï¼Œå®æ—¶æ•°æ®å¯ä»¥å†™å…¥åˆ°Hologresæˆ–è€…å®šæœŸå½’æ¡£åˆ°MaxComputeï¼Œç¦»çº¿æ•°æ®å¯ä»¥é€šè¿‡æ‰¹é‡æ•°æ®åŠ å·¥åˆ°MaxComputeä¸­æ¥ï¼Œå¦å¤–MaxComputeå’ŒHologreså¯ä»¥ç»“åˆä½¿ç”¨ï¼Œè¿›è¡Œå®æ—¶è”é‚¦æŸ¥è¯¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šé¢è¿™å¥—è§£å†³æ–¹æ¡ˆå¯ä»¥å°†é˜¿é‡Œäº‘å®æ—¶æ•°ä»“å…¨å¥—é“¾è·¯ä¸ç¦»çº¿æ•°æ®æ— ç¼è¡”æ¥ï¼Œæ»¡è¶³ä¸€å¥—å­˜å‚¨ã€ä¸¤ç§è®¡ç®—ï¼ˆå®æ—¶è®¡ç®—å’Œç¦»çº¿è®¡ç®—ï¼‰çš„é«˜æ€§ä»·æ¯”ç»„åˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œè°¢è°¢å¤§å®¶ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;span&gt;åœ¨æ–‡æœ«åˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹ï¼Œç»™ä¸ª3è¿å‡»å‘—~&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åˆ†äº«å˜‰å®¾ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;289&quot; data-backw=&quot;578&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1000&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/lAStFsJ0Pm1KX3Gm29Bw5WibzTLIiarQiaIdiaO7ib89YNS9uWmdSxTHzdPbsYthMzc32oo8ibzgK5tun8Y7dzFTdY7Q/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;ç”µå­ä¹¦ä¸‹è½½&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;389&quot; data-backw=&quot;578&quot; data-fileid=&quot;100072355&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6733909702209414&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;1041&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPjicBGnN2Sv2xfMf0eh07fxem4LZeMGOo8FKqdlPdbTWZtXDDHYfNS78E3QkgUh68DMRia11ayJcyOQ/640?wx_fmt=png&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ã€Šå¤§æ•°æ®å…¸è—ç‰ˆåˆé›†ã€‹&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç”µå­ä¹¦ç›®å½•å¦‚ä¸Šï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œåå°&lt;/span&gt;&lt;span&gt;å›å¤&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ã€å¤§æ•°æ®å…¸è—ç‰ˆåˆé›†ã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå³å¯ä¸‹è½½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;&quot;&gt;&lt;mp-common-profile class=&quot;custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mp-common-profile&quot; data-from=&quot;0&quot; data-id=&quot;MzA3NTM0MTYyMQ==&quot; data-alias=&quot;zhiming_data&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/7iaMpruNx3Afic1pUJiat0zez4aPTUCyHDAs7PzvDuIO6GRh5jhGImRAicoUsg240UM4w7zooIKAiaqwnAiaU2BMNl0Q/0?wx_fmt=png&quot; data-nickname=&quot;å¿—æ˜ä¸æ•°æ®&quot; data-signature=&quot;ä¸“æ³¨äºæ•°æ®ç®¡ç†ã€æ•°æ®æ²»ç†ã€é¡¹ç›®ç®¡ç†ã€å¤§æ•°æ®ç­‰ç›¸å…³é¢†åŸŸçš„çŸ¥è¯†å†…å®¹ã€å®è·µç»éªŒã€å¿ƒå¾—æ„Ÿæ‚Ÿåˆ†äº«ã€‚&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ğŸ§&lt;strong&gt;åˆ†äº«ã€ç‚¹èµã€åœ¨çœ‹&lt;/strong&gt;ï¼Œç»™ä¸ª&lt;strong&gt;3è¿å‡»&lt;/strong&gt;å‘—ï¼&lt;strong&gt;ğŸ‘‡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>