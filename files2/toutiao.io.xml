<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>9128b8646bcc1b462a1234ce45bd6af8</guid>
<title>Flink åˆ›å§‹äººå›¢é˜ŸäºŒæ¬¡æ”¶è´­æ¡ˆï¼é˜¿é‡Œææˆå†¤å¤§å¤´ï¼</title>
<link>https://toutiao.io/k/rfc7ab5</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4138486312399356&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Buj6EMgMp7TPlPYZJbZHe6C9uvmko9ACWm7I77SzXpcjibkzvIC0icC4Kchjuiad1ibgq5IDw5rM27LWzzvcWP8EgA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1242&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤§æ•°æ®å¼€æºå•†ä¸šåŒ–é¢†åŸŸè¿‘æ—¥æœ‰ä¸€ä¸ªçˆ†ç‚¸æ€§æ–°é—»ï¼Œâ€œConfluent æ”¶è´­ Immerokâ€ï¼Œå­—è¶Šå°‘äº‹è¶Šå¤§ï¼Œå…ˆç»™å¤§å®¶ç®€å•ç§‘æ™®ä¸€ä¸‹ Confluent å’Œ Immerok è¿™ä¸¤å®¶å…¬å¸ï¼ŒConfluent æ˜¯æŒæ§Â Apache Kafka ç¤¾åŒºçš„&lt;span&gt;å¤§æ•°æ®&lt;span&gt;å¼€æº&lt;/span&gt;&lt;/span&gt;å•†ä¸šåŒ–å…¬å¸ï¼ŒImmerok æ˜¯ Apache Flink åˆ›å§‹äººå›¢é˜ŸäºŒæ¬¡åˆ›ä¸šåˆ›åŠçš„å…¬å¸ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯´è¿™ä»¶äº‹ä¹‹å‰åˆä¸å¾—ä¸æä¸€ä¸‹é‚£å®¶ç”± Apache Flink åˆ›å§‹äººç¬¬ä¸€æ¬¡åˆ›ä¸šåˆ›åŠçš„å…¬å¸ Ververicaï¼Œæ²¡é”™ï¼Œæ­£æ˜¯å‰å‡ å¹´é˜¿é‡Œå·´å·´èŠ±äº†Â &lt;span&gt;9000 ä¸‡&lt;/span&gt;&lt;span&gt;æ¬§å…ƒ&lt;/span&gt;æ”¶è´­çš„é‚£å®¶å¾·å›½å…¬å¸ï¼Œä½†æ˜¯è¢«é˜¿é‡Œæ”¶è´­åï¼ŒFlink åˆ›å§‹äººå›¢é˜Ÿæˆå‘˜äº22å¹´åˆéƒ½é™†ç»­ç¦»èŒäº†ã€‚&lt;/span&gt;&lt;span&gt;æ›´é­”å¹»çš„æ˜¯è¿™å¸®äººç¦»èŒåç«Ÿç„¶ç›´æ¥åˆ›åŠäº† Immerok è¿™å®¶å…¬å¸ï¼Œè€Œ Immerok ä¸»è¦åšçš„äº‹æƒ…å’Œ Ververica æ— æ¯”ç›¸ä¼¼ï¼Œç›¸å½“äº Flink åˆ›å§‹äººå›¢é˜Ÿå¦èµ·ç‚‰ç¶å’Œé˜¿é‡Œå¯¹ç€å¹²ï¼Œè¿™ä»¶äº‹èƒŒåçš„éšæƒ…è°ä¹Ÿä¸çŸ¥é“ï¼Œä½†æ˜¯åƒç“œç¾¤ä¼—éƒ½æœ‰ä¸€ä¸ªå¤§å¤§çš„é—®å· â€œæ²¡æœ‰ç«ä¸šåè®®å—ï¼Ÿ&lt;/span&gt;&lt;span&gt;ï¼Ÿ&lt;/span&gt;&lt;span&gt;ï¼Ÿ&lt;/span&gt;&lt;span&gt;â€ã€‚&lt;/span&gt;&lt;span&gt;é˜¿é‡Œè¿™ä¸€æ¬¡æ— ç–‘æ˜¯å“‘å·´åƒé»„è²æœ‰è‹¦è¯´ä¸å‡ºï¼Œ9000 ä¸‡æ¬§å…ƒæœ€ç»ˆä¹°åˆ°çš„å¯èƒ½åªæœ‰ Flink ç¤¾åŒºçš„ä¸»å¯¼æƒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šé¢è¯´çš„è¿™äº›äº‹æƒ…æ˜¯å‘ç”Ÿåœ¨22å¹´åˆï¼Œ Immerok è¿™å®¶å…¬å¸ä¹Ÿæ˜¯åœ¨é‚£ä¸ªæ—¶å€™æˆç«‹çš„ï¼Œç„¶è€Œä»…ä»…ä¸åˆ°ä¸€å¹´çš„æ—¶é—´ï¼Œè¿™å®¶åˆåˆ›å…¬å¸å°±è¢« Confluent æ”¶è´­äº†ï¼Œè¿™ä¸€æ“ä½œè®©åƒç“œç¾¤ä¼—å†ä¸€æ¬¡å‚»çœ¼ï¼Œä¸å¾—ä¸ä½©æœ Apache Flink åˆ›å§‹äººå›¢é˜Ÿæ•´æ´»å’Œæ•´é’±çš„èƒ½åŠ›ï¼Œä¹Ÿä¸å¾—ä¸ä½©æœé˜¿é‡ŒæŠŠä¸€æŠŠå¥½ç‰Œæ‰“å¾—ç¨€çƒ‚çš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯è¯´å›é˜¿é‡Œæ”¶è´­ &lt;/span&gt;&lt;span&gt;Verve&lt;/span&gt;&lt;span&gt;rica ä¹‹åï¼Œ Flink è¡¨é¢ä¸Šå¥½åƒå‘å±•å¾—è¿˜ä¸é”™ï¼Œé˜¿é‡Œè‡ªç ”çš„ Alink åˆå¹¶åˆ°äº†ä¸»åˆ†æ”¯ï¼Œå›½å†…è¶Šæ¥è¶Šå¤šå…¬å¸ç”¨ä¸Šäº† Flinkï¼Œé˜¿é‡Œäº‘çš„ Flink ç”Ÿæ„çœ‹ä¼¼ä¹Ÿåšçš„é£å£°æ°´èµ·ã€‚&lt;/span&gt;&lt;span&gt;ä½†æ˜¯è¿™åªæ˜¯åœ¨å›½å†…å°æ‰“å°é—¹ï¼ŒVerverica åº”è¯¥æœ‰æ›´å¤§çš„ç›®æ ‡æ‰å¯¹ï¼Œä»–å¯¹æ ‡çš„åº”è¯¥æ˜¯å›½å¤–æœ‰å¤§æ•°æ®ç¬¬ä¸€è‚¡ä¹‹ç§°çš„ Databricksï¼ˆApache Spark èƒŒåçš„å¤§æ•°æ®å•†ä¸šå…¬å¸ï¼Œç™¾äº¿ç¾å…ƒå¸‚å€¼ï¼‰ï¼Œä»è¿‘å‡ å¹´åœ¨å›½é™…ä¸Šä¸æ¸©ä¸ç«çš„è¡¨ç°æ¥çœ‹ï¼Œé˜¿é‡Œè¿™äº›å¹´åšçš„æ— ç–‘æ˜¯å¤±è´¥çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦å¤–è¯´åˆ° kafka å¤§å®¶ä¹Ÿå¾ˆå®¹æ˜“æƒ³åˆ°å¦å¤–ä¸€å®¶åšæµè®¡ç®—çš„å…¬å¸ StreamNativeï¼ˆApache Plusar èƒŒåçš„å•†ä¸šå…¬å¸ï¼‰ï¼Œè¿™èµ·æ”¶è´­æ¡ˆä¹Ÿä¼šç»™Â &lt;span&gt;StreamNativeÂ &lt;/span&gt;å¸¦æ¥ä¸€äº›å‹åŠ›ï¼Œå¯èƒ½ä¼šåŠ å¿«æµè®¡ç®—é¢†åŸŸçš„å¸ƒå±€ï¼Œä½†æ˜¯è¿™å¹¶ä¸ç®—æ˜¯è‡´å‘½çš„å¨èƒï¼Œå› ä¸ºæ¯•ç«Ÿåš Flink å•†ä¸šåŒ–ä¸”åšçš„ä¸é”™çš„å…¬å¸å¯ä¸æ­¢åˆ›å§‹äººå›¢é˜Ÿé‚£ä¸€å®¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†è¯´å› Confluent æ”¶è´­ Immerok çš„äº‹æƒ…ï¼ŒçŒœæµ‹ä¸€ä¸‹ï¼Œå¤§æ¦‚ç‡æ˜¯åš Kafkaå’ŒFlinkçš„æ·±åº¦é›†æˆï¼Œä¸¤æŠŠæµæ•°æ®å¤„ç†é¢†åŸŸçš„åˆ©åˆƒç»“åˆï¼Œä¸çŸ¥é“ä¼šæ“¦å‡ºä»€ä¹ˆæ ·çš„ç«èŠ±ï¼Œå¯ä»¥é¢„çŸ¥çš„æ˜¯åŠ¨ä½œè‚¯å®šä¸ä¼šå°ï¼Œæ¯•ç«Ÿæ”¶ç¼–çš„å¯ä¸æ˜¯æ™®é€šçš„ Flink PMCã€‚&lt;/span&gt;&lt;span&gt;å¦‚æœæœ‰å¤§åŠ¨ä½œçš„è¯ï¼Œé‚£&lt;/span&gt;&lt;span&gt;å’Œé˜¿é‡Œçš„ Flink å›¢é˜Ÿå¯¹ç¤¾åŒºçš„å‘å±•æ–¹å‘åŠ¿å¿…ä¼šå‡ºç°åˆ†æ­§ï¼Œç¤¾åŒºèµ°å‘å°±ä¼šå˜å¾—æ‰‘æœ”è¿·ç¦»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è™½ç„¶ä¸€èˆ¬æ¥è¯´åˆ›å§‹äººå›¢é˜Ÿå¯¹å¼€æºç¤¾åŒºçš„è¯è¯­æƒæ˜¯æœ€å¤§çš„ï¼Œä½†æ˜¯å¯¹äº Flink æ¥è¯´ï¼Œæ¯•ç«Ÿä¹‹å‰å’Œé˜¿é‡Œåšäº†ä¸€ç¬”äº¤æ˜“ï¼Œåä¹‰ä¸Šå·²ç»æ˜¯æŠŠä¸»å¯¼æƒå–ç»™äº†é˜¿é‡Œå·´å·´ï¼Œåˆ›å§‹äººä»¬ä¸ªä¸ªä¹Ÿéƒ½èµšå¾—ç›†æ»¡é’µæ»¡ï¼Œç°åœ¨å†è½¬è¿‡å¤´æ¥é˜¿é‡Œå¯¹ç€å¹²ï¼Œåœ¨é“å¾·ä¸Šå’Œèˆ†è®ºä¸Šå…¶å®éƒ½å¾ˆéš¾å åˆ°ä¸Šé£ã€‚&lt;/span&gt;&lt;span&gt;è€Œä¸”äº‰å¤º Apache Flink ç¤¾åŒºæŒæ§æƒè¿™ä»¶äº‹ï¼Œæ— è®ºæˆåŠŸä¸å¦éƒ½ä¼šå¯¹ Flink ç¤¾åŒºé€ æˆäº†å¾ˆå¤§çš„å†…è€—å’Œä¼¤å®³ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®è¿™ç§äº‹ä»¶åœ¨å¼€æºé¢†åŸŸå¹¶ä¸å°‘è§ï¼Œå°±æ¯”å¦‚å¤§å®¶ç†Ÿæ‚‰çš„ facebook ä¸»å¯¼å¼€çš„æºé¡¹ç›® Prestoï¼Œæ˜¯ä¸‰ä½åˆ›å§‹äººï¼ˆå²ç§° presto ä¸‰å·¨å¤´ï¼‰åœ¨ facebook å·¥ä½œæ—¶å¼€æºçš„ï¼Œä½†æ˜¯ä»–ä»¬å¯¹ Presto çš„å‘å±•æ–¹å‘å¹¶ä¸æ»¡æ„ï¼Œå› ä¸ºæ–¹å‘å®é™…ä¸Šæ˜¯è¢« facebook çš„éœ€æ±‚æ‰€æŒæ§çš„ï¼Œæ‰€ä»¥æœ€ç»ˆä»–ä»¬ä¸‰ç¦»èŒååˆ›åŠäº† Starburst è¿™å®¶å…¬å¸ï¼Œå…³é”®æ˜¯è¿™å®¶å…¬å¸å¹¶ä¸æ˜¯åšÂ &lt;span&gt;P&lt;/span&gt;&lt;span&gt;restoÂ &lt;/span&gt;çš„å•†ä¸šåŒ–ï¼Œè€Œæ˜¯å¦èµ·ç‚‰ç¶ï¼Œä» &lt;span&gt;P&lt;/span&gt;&lt;span&gt;resto&lt;/span&gt; fork å‡ºæ¥ä¸€ä¸ªåˆ†æ”¯ï¼Œåˆ›å»ºäº† &lt;span&gt;Trino&lt;/span&gt; é¡¹ç›®ï¼Œä»¥è¿™ç§æ–¹å¼è®©Â &lt;span&gt;P&lt;/span&gt;&lt;span&gt;resto&lt;/span&gt; æœè‡ªå·±æƒ³è¦çš„æ–¹å‘å‘å±•ã€‚&lt;/span&gt;&lt;span&gt;ç›®å‰æ¥çœ‹ï¼Œè™½ç„¶ starã€fork è¿™äº›æ•°é‡æ¯”ä¸ä¸Š &lt;span&gt;P&lt;/span&gt;&lt;span&gt;resto&lt;/span&gt;ï¼Œä½†æ˜¯ &lt;span&gt;Trino&lt;/span&gt; çš„ç¤¾åŒºæ´»è·ƒåº¦å·²ç»è¶…è¿‡äº† prestoã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Trino è¿™ä¸ªå‰§æœ¬ï¼Œä¼šä¸ä¼šè¢« Flink åˆ›å§‹äººå›¢é˜Ÿæ‹¿åˆ°ï¼Œä¹Ÿè®¸ç°åœ¨æœ€æ‹…å¿ƒè¿™ä»¶äº‹å‘ç”Ÿçš„å°±æ˜¯é˜¿é‡Œäº†ï¼Œä½œä¸ºåƒç“œç¾¤ä¼—ä¹Ÿæ— æ³•å¾—çŸ¥ Flink åˆ›å§‹äººå›¢é˜Ÿç¦»èŒçš„åŸå› æ˜¯ä¸æ˜¯å¯¹ç›®å‰é˜¿é‡Œä¸»å¯¼çš„ç¤¾åŒºå‘å±•æ–¹å‘æ„Ÿåˆ°å¤±æœ›ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œèµ°ä¸Šå’Œtrinoç±»ä¼¼çš„é“è·¯ä¹Ÿä¸æ˜¯ä¸å¯èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯´å®è¯ç¤¾åŒºçš„åˆ†è£‚å¯¹ç”¨æˆ·æ¥è¯´å¹¶ä¸æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œå¤šäº†é€‰æ‹©å’Œå­¦ä¹ çš„æˆæœ¬ã€‚&lt;/span&gt;&lt;span&gt;å¯¹å¼€æºç¤¾åŒºæ¥è¯´ä¹Ÿä¸æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œæ— æ³•é›†ä¸­ç«åŠ›å¹²å¥½ä¸€ä»¶äº‹ã€‚&lt;/span&gt;&lt;span&gt;ä½†æ˜¯ä¸ºäº†åˆ©ç›Šï¼Œè¿™æ ·çš„æ¡ˆä¾‹æ€»æ˜¯å±‚å‡ºä¸ç©·ï¼Œåªå¸Œæœ›èƒ½ç»™åé¢çš„å¼€æºå•†ä¸šåŒ–å…¬å¸æä¸ªé†’ï¼Œä¸è¦èµ°ä¸Šç±»ä¼¼é˜¿é‡Œè¿™æ ·çš„å†¤ç§å¤§é“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzU0Njg1MjUzMg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/Buj6EMgMp7Q9lib8r8ib6YDoHjo1MclTpEZwj5icC5keLDCmrxCx4xpXbkpds9GWZknicdrIKH9FTRO3ojQ6DU34ng/0?wx_fmt=png&quot; data-nickname=&quot;Apache Bigdata Projects&quot; data-alias=&quot;simon_bigdata&quot; data-signature=&quot;æœ¬è´¦å·ç”±å¤šä½ Apache é¡¹ç›®çš„ Committer å’Œ PMC Member å…±åŒç»´æŠ¤&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;br/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ›´å¤šç²¾å½©åŸåˆ›å¹²è´§ æ¬¢è¿æŒç»­å…³æ³¨&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3384d7817aca40c1d5b39326f6e74241</guid>
<title>å¦‚ä½•å®ç°ä¸€ä¸ªå®Œç¾çš„æ·±æ‹·è´åº“ï¼Ÿ</title>
<link>https://toutiao.io/k/ovs9s4b</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-role=&quot;outer&quot; label=&quot;edit by 135editor&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ğŸ‘†&lt;/span&gt;&lt;span&gt;ç‚¹å‡»â€œ&lt;/span&gt;&lt;span&gt;åšæ–‡è§†ç‚¹Broadview&lt;/span&gt;&lt;span&gt;â€ï¼Œè·å–æ›´å¤šä¹¦è®¯&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3nr1VNxfeqxVOw2nPJHVH4xeZibzPY5F4ibOuOZLMsUMrzIibGB6KMw7EurSKv6DkrtLzuhYdBa30A9Q/640?wx_fmt=png&quot; data-ratio=&quot;0.05669291338582677&quot; data-w=&quot;635&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;lodashé‡Œçš„cloneDeepå‡½æ•°å¯ä»¥ç”¨æ¥è§£å†³æ·±æ‹·è´çš„åœºæ™¯ï¼Œä½†ä½ æœ‰æ²¡æœ‰æ€è€ƒè¿‡lodashé‡Œçš„cloneDeepå‡½æ•°æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è™½ç„¶æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨lodashï¼Œä½†æ˜¯å­¦ä¹ æ·±æ‹·è´å‡½æ•°çš„å®ç°åŸç†ä»ç„¶æ˜¯éå¸¸æœ‰æ„ä¹‰çš„ï¼Œæ·±æ‹·è´ä¹Ÿæ˜¯ä¸€é“éå¸¸ç»å…¸çš„å‰ç«¯é¢è¯•é¢˜ï¼Œå…¶å¯ä»¥è€ƒå¯Ÿé¢è¯•è€…çš„å¾ˆå¤šæ–¹é¢ï¼Œæ¯”å¦‚åŸºæœ¬åŠŸã€ä»£ç èƒ½åŠ›ã€é€»è¾‘èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ·±æ‹·è´çœ‹ä¼¼ç®€å•ï¼Œä½†è¦æƒ³å®ç°ä¸€ä¸ªå®Œç¾çš„æ·±æ‹·è´å´å¹¶ä¸å®¹æ˜“ï¼Œé€šè¿‡ç¬”è€…çš„é¢è¯•è€ƒå¯Ÿç»éªŒæ¥çœ‹ ï¼Œåªæœ‰ 50%çš„äººèƒ½å¤Ÿå®ç°åŸºç¡€ç‰ˆæœ¬ï¼Œèƒ½å®ç°å®Œç¾ç‰ˆæœ¬çš„ç«Ÿç„¶ä¸åˆ°1%ï¼Œè¿™æ˜¯å› ä¸ºæ·±æ‹·è´å­˜åœ¨å¾ˆå¤šå‘ï¼Œæ¯”å¦‚ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;ä½ çŸ¥é“ä½¿ç”¨JSON.stringifyæ¥å®ç°æ·±æ‹·è´æ˜¯æœ‰bugçš„å—ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;ä½ ä¼šä½¿ç”¨å¾ªç¯å®ç°æ·±æ‹·è´å—ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæ‹·è´çš„å¯¹è±¡å­˜åœ¨å¾ªç¯å¼•ç”¨è¯¥æ€ä¹ˆç ´è§£ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä½ å›ç­”ä¸ä¸Šæ¥ä¸Šé¢çš„é—®é¢˜ï¼Œé‚£ä¹ˆç»§ç»­å¾€ä¸‹é˜…è¯»å§ï¼Œæœ¬æ–‡å°†ç ´è§£æ·±æ‹·è´çš„è°œé¢˜ï¼Œç”±æµ…å…¥æ·±ï¼Œç¯ç¯ç›¸æ‰£ï¼Œæ€»å…±æ¶‰åŠ4ç§æ·±æ‹·è´æ–¹å¼ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰è‡ªå·±çš„ç‰¹ç‚¹å’Œä¸ªæ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;æ·±æ‹·è´ VS æµ…æ‹·è´&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å¼€å§‹ä¹‹å‰å…ˆç§‘æ™®ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Œå’Œæ·±æ‹·è´æœ‰å…³ç³»çš„å¦ä¸€&lt;span&gt;ä¸ª&lt;/span&gt;æœ¯è¯­â€”â€”æµ…æ‹·è´åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®æ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯é’ˆå¯¹å¼•ç”¨ç±»å‹æ¥è¯´çš„ï¼ŒJSä¸­çš„å˜é‡ç±»å‹åˆ†ä¸ºå€¼ç±»å‹ï¼ˆåŸºæœ¬ç±»å‹ï¼‰å’Œå¼•ç”¨ç±»å‹ï¼›å¯¹å€¼ç±»å‹è¿›è¡Œå¤åˆ¶æ“ä½œä¼šå¯¹å€¼è¿›è¡Œä¸€ä»½æ‹·è´ï¼Œè€Œå¯¹å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œåˆ™ä¼šè¿›è¡Œåœ°å€çš„æ‹·è´ï¼Œæœ€ç»ˆä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä»½æ•°æ®ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;//Â å¼•ç”¨ç±»å‹æŒ‡å‘åŒä¸€ä»½æ•°æ®&lt;/span&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {&lt;span&gt;c&lt;/span&gt;:Â &lt;span&gt;1&lt;/span&gt;};&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â bÂ =Â a;&lt;br/&gt;a.cÂ =Â &lt;span&gt;2&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(a.c,Â b.c);Â &lt;span&gt;//Â 2,Â 2Â å…¨æ˜¯2ï¼ŒaÂ bæŒ‡å‘åŒä¸€ä»½æ•°æ®&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å¼•ç”¨ç±»å‹ä¼šå¯¼è‡´aå’ŒbæŒ‡å‘åŒä¸€ä»½æ•°æ®ï¼Œæ­¤æ—¶å¦‚æœå¯¹å…¶ä¸­ä¸€ä¸ªè¿›è¡Œä¿®æ”¹ï¼Œå°±ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªï¼Œæœ‰æ—¶è¿™å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œå¦‚æœå¯¹è¿™ç§ç°è±¡ä¸æ¸…æ¥šçš„è¯ï¼Œè¿˜å¯èƒ½é€ æˆä¸å¿…è¦çš„bugã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;æœ€ç®€å•çš„æ·±æ‹·è´&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æ·±æ‹·è´çš„é—®é¢˜å…¶å®å¯ä»¥åˆ†è§£æˆä¸¤ä¸ªé—®é¢˜ï¼šæµ…æ‹·è´+é€’å½’ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹æ•°æ®ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â a1Â =Â {&lt;span&gt;b&lt;/span&gt;:Â {&lt;span&gt;c&lt;/span&gt;:Â {&lt;span&gt;d&lt;/span&gt;:Â &lt;span&gt;1&lt;/span&gt;}};&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨é€’å½’å®ç°æ·±æ‹·è´çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;clone&lt;/span&gt;(&lt;span&gt;source&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â targetÂ =Â {};&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;var&lt;/span&gt;Â iÂ &lt;span&gt;in&lt;/span&gt;Â source)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (source.hasOwnProperty(i))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;typeof&lt;/span&gt;Â source[i]Â ===Â &lt;span&gt;&#x27;object&#x27;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â target[i]Â =Â clone(source[i]);Â &lt;span&gt;//Â æ³¨æ„è¿™é‡Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â target[i]Â =Â source[i];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â target;&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å¤§éƒ¨åˆ†äººéƒ½èƒ½å†™å‡ºä¸Šé¢çš„ä»£ç ï¼Œä½†å¦‚æœé—®ä¸Šé¢çš„ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜çš„è¯ï¼Œå°±å¾ˆå°‘æœ‰äººç­”å¾—ä¸Šæ¥äº†ã€‚èªæ˜çš„ä½ èƒ½æ‰¾åˆ°é—®é¢˜å—ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®ä¸Šé¢çš„ä»£ç é—®é¢˜å¤ªå¤šäº†ï¼Œæ¯”å¦‚ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;æ²¡æœ‰å¯¹å‚æ•°åšæ£€éªŒ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;åˆ¤æ–­æ˜¯å¦å¯¹è±¡çš„é€»è¾‘ä¸å¤Ÿä¸¥è°¨&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;æ²¡æœ‰è€ƒè™‘æ•°ç»„çš„å…¼å®¹&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;å…¶å®è¿™ä¸‰ä¸ªéƒ½æ˜¯å°é—®é¢˜ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;é€’å½’æ–¹æ³•æœ€å¤§çš„é—®é¢˜åœ¨äºçˆ†æ ˆï¼Œ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;å½“æ•°æ®çš„å±‚æ¬¡å¾ˆæ·±æ—¶å°±ä¼šæ ˆæº¢å‡ºã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢çš„ä»£ç å¯ä»¥ç”ŸæˆæŒ‡å®šæ·±åº¦å’Œæ¯å±‚å¹¿åº¦çš„ä»£ç ï¼Œè¿™æ®µä»£ç æˆ‘ä»¬åé¢è¿˜ä¼šå†æ¬¡ç”¨åˆ°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;createData&lt;/span&gt;(&lt;span&gt;deep,Â breadth&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â dataÂ =Â {};&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â tempÂ =Â data;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;var&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â deep;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â tempÂ =Â temp[&lt;span&gt;&#x27;data&#x27;&lt;/span&gt;]Â =Â {};&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;var&lt;/span&gt;Â jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â breadth;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â temp[j]Â =Â j;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â data;&lt;br/&gt;}&lt;br/&gt;createData(&lt;span&gt;1&lt;/span&gt;,Â &lt;span&gt;3&lt;/span&gt;);Â &lt;span&gt;//Â 1å±‚æ·±åº¦ï¼Œæ¯å±‚æœ‰3ä¸ªæ•°æ®Â {data:Â {0:Â 0,Â 1:Â 1,Â 2:Â 2}}&lt;/span&gt;&lt;br/&gt;createData(&lt;span&gt;3&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);Â &lt;span&gt;//Â 3å±‚æ·±åº¦ï¼Œæ¯å±‚æœ‰0ä¸ªæ•°æ®Â {data:Â {data:Â {data:Â {}}}}&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å½“cloneå±‚çº§å¾ˆæ·±çš„æ—¶å€™å°±ä¼šå‡ºç°æ ˆæº¢å‡ºï¼Œä½†æ•°æ®çš„å¹¿åº¦ä¸ä¼šé€ æˆæº¢å‡ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;clone(createData(&lt;span&gt;1000&lt;/span&gt;));Â &lt;span&gt;//Â ok&lt;/span&gt;&lt;br/&gt;clone(createData(&lt;span&gt;10000&lt;/span&gt;));Â &lt;span&gt;//Â MaximumÂ callÂ stackÂ sizeÂ exceeded&lt;/span&gt;&lt;br/&gt;clone(createData(&lt;span&gt;10&lt;/span&gt;,Â &lt;span&gt;100000&lt;/span&gt;));Â &lt;span&gt;//Â okÂ å¹¿åº¦ä¸ä¼šæº¢å‡º&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å…¶å®å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šå‡ºç°è¿™ä¹ˆæ·±å±‚çº§çš„æ•°æ®ï¼Œ&lt;strong&gt;&lt;span&gt;ä½†è¿™ç§æ–¹å¼è¿˜æœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ï¼Œå°±æ˜¯å¾ªç¯å¼•ç”¨ã€‚&lt;/span&gt;&lt;/strong&gt;æ¯”å¦‚ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {};&lt;br/&gt;a.aÂ =Â a;&lt;br/&gt;clone(a)Â &lt;span&gt;//Â MaximumÂ callÂ stackÂ sizeÂ exceededÂ ç›´æ¥æ­»å¾ªç¯äº†æœ‰æ²¡æœ‰ï¼Œ/(ã„’oã„’)/~~&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å…³äºå¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œ&lt;span&gt;æœ‰ä¸¤ç§&lt;/span&gt;è§£å†³æ€è·¯ï¼š&lt;span&gt;ä¸€ç§æ˜¯å¾ªç¯æ£€æµ‹ï¼Œä¸€ç§æ˜¯æš´åŠ›ç ´è§£ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…³äºå¾ªç¯æ£€æµ‹å¤§å®¶å¯ä»¥è‡ªå·±æ€è€ƒä¸‹ï¼›å…³äºæš´åŠ›ç ´è§£ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢çš„å†…å®¹ä¸­è¿›è¡Œè¯¦ç»†è®²è§£ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;ä¸€è¡Œä»£ç çš„æ·±æ‹·è´&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æœ‰äº›åŒå­¦å¯èƒ½è§è¿‡ç”¨ç³»ç»Ÿè‡ªå¸¦çš„JSONæ¥åšæ·±æ‹·è´çš„ä¾‹å­ï¼Œä¸‹é¢æ¥çœ‹ä¸€ä¸‹ä»£ç å®ç°ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;cloneJSON&lt;/span&gt;(&lt;span&gt;source&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;JSON&lt;/span&gt;.parse(&lt;span&gt;JSON&lt;/span&gt;.stringify(source));&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å…¶å®æˆ‘ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ç”±è¡·è¡¨ç¤ºä½©æœï¼Œåˆ©ç”¨å·¥å…·è¾¾åˆ°ç›®çš„æ˜¯éå¸¸èªæ˜çš„åšæ³•ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æ¥æµ‹è¯•ä¸€ä¸‹cloneJSONæœ‰æ²¡æœ‰æº¢å‡ºçš„é—®é¢˜ï¼Œçœ‹èµ·æ¥cloneJSONå†…éƒ¨ä¹Ÿæ˜¯ä½¿ç”¨é€’å½’çš„æ–¹å¼ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;cloneJSON(createData(&lt;span&gt;10000&lt;/span&gt;));Â &lt;span&gt;//Â MaximumÂ callÂ stackÂ sizeÂ exceeded&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;æ—¢ç„¶ä½¿ç”¨äº†é€’å½’ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆå­˜åœ¨å¾ªç¯å¼•ç”¨æ—¶ï¼Œå¹¶æ²¡æœ‰å› ä¸ºæ­»å¾ªç¯è€Œå¯¼è‡´æ ˆæº¢å‡ºå‘¢ï¼ŸåŸæ¥æ˜¯JSON.stringifyå†…éƒ¨åšäº†å¾ªç¯å¼•ç”¨çš„æ£€æµ‹ï¼Œæ­£æ˜¯æˆ‘ä»¬ä¸Šé¢æåˆ°ç ´è§£å¾ªç¯å¼•ç”¨çš„ç¬¬ä¸€ç§æ–¹æ³•ï¼š&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¾ªç¯æ£€æµ‹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {};&lt;br/&gt;a.aÂ =Â a;&lt;br/&gt;cloneJSON(a)Â &lt;span&gt;//Â UncaughtÂ TypeError:Â ConvertingÂ circularÂ structureÂ toÂ JSON&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;ç ´è§£é€’å½’çˆ†æ ˆ&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å…¶å®ç ´è§£é€’å½’çˆ†æ ˆçš„æ–¹æ³•æœ‰ä¸¤æ¡è·¯ï¼šç¬¬ä¸€ç§æ–¹æ³•æ˜¯æ¶ˆé™¤å°¾é€’å½’ï¼Œä½†åœ¨è¿™ä¸ªä¾‹å­ä¸­è¡Œä¸é€šï¼›ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯å¹²è„†ä¸ç”¨é€’å½’ï¼Œæ”¹ç”¨å¾ªç¯ã€‚å½“æˆ‘æå‡ºç”¨å¾ªç¯æ¥å®ç°æ—¶ï¼ŒåŸºæœ¬ä¸Š90%çš„å‰ç«¯éƒ½æ˜¯å†™ä¸å‡ºæ¥ä»£ç çš„ï¼Œä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹å®ç°æ€è·¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰å¦‚ä¸‹çš„æ•°æ®ç»“æ„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;a1&lt;/span&gt;:Â &lt;span&gt;1&lt;/span&gt;,&lt;br/&gt;Â Â Â Â &lt;span&gt;a2&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;b1&lt;/span&gt;:Â &lt;span&gt;1&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;b2&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;c1&lt;/span&gt;:Â &lt;span&gt;1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å…¶å®åªè¦æŠŠæ•°æ®æ¨ªè¿‡æ¥çœ‹ï¼Œå°±éå¸¸æ˜æ˜¾åœ°å‘ç°&lt;span&gt;è¿™å°±æ˜¯æ ‘ï¼&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt; Â  Â a&lt;br/&gt; Â / Â  \&lt;br/&gt; a1 Â  a2 Â  Â  Â  Â &lt;br/&gt; | Â  Â / \ Â  Â  Â  Â  &lt;br/&gt; 1 Â  b1 b2 Â  Â  &lt;br/&gt; Â  Â  | Â  | Â  Â  Â  Â &lt;br/&gt; Â  Â  1 Â c1&lt;br/&gt; Â  Â  Â  Â  |&lt;br/&gt; Â  Â  Â  Â  1&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ç”¨å¾ªç¯éå†ä¸€æ£µæ ‘éœ€è¦å€ŸåŠ©ä¸€ä¸ªæ ˆï¼Œå½“æ ˆä¸ºç©ºæ—¶å°±éå†å®Œäº†ï¼Œæ ˆé‡Œé¢ä¼šå­˜å‚¨ä¸‹ä¸€ä¸ªéœ€è¦æ‹·è´çš„èŠ‚ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆæˆ‘ä»¬å¾€æ ˆé‡Œæ”¾å…¥ç§å­æ•°æ®ï¼Œ&lt;/span&gt;&lt;code&gt;&lt;span&gt;key&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ç”¨æ¥å­˜å‚¨ä¸€ä¸ªçˆ¶å…ƒç´ çš„å­å…ƒç´ æ‹·è´å¯¹è±¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç„¶åéå†å½“å‰èŠ‚ç‚¹ä¸‹çš„å­å…ƒç´ ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œå°±æ”¾åˆ°æ ˆé‡Œï¼Œå¦åˆ™ç›´æ¥æ‹·è´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;cloneLoop&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â rootÂ =Â {};&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â loopListÂ =Â [{ &lt;span&gt;parent&lt;/span&gt;:Â root, &lt;span&gt;key&lt;/span&gt;:Â &lt;span&gt;undefined&lt;/span&gt;, &lt;span&gt;data&lt;/span&gt;:Â x }];&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(loopList.length)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ·±åº¦ä¼˜å…ˆ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â nodeÂ =Â loopList.pop();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â parentÂ =Â node.parent;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â keyÂ =Â node.key;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â dataÂ =Â node.data;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â åˆå§‹åŒ–èµ‹å€¼ç›®æ ‡ï¼Œkeyä¸ºundefinedåˆ™æ‹·è´åˆ°çˆ¶å…ƒç´ ï¼Œå¦åˆ™æ‹·è´åˆ°å­å…ƒç´ &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â resÂ =Â parent;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;typeof&lt;/span&gt;Â keyÂ !==Â &lt;span&gt;&#x27;undefined&#x27;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â resÂ =Â parent[key]Â =Â {};&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;let&lt;/span&gt;Â kÂ &lt;span&gt;in&lt;/span&gt;Â data)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (data.hasOwnProperty(k))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (&lt;span&gt;typeof&lt;/span&gt;Â data[k]Â ===Â &lt;span&gt;&#x27;object&#x27;&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//Â ä¸‹ä¸€æ¬¡å¾ªç¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loopList.push({ &lt;span&gt;parent&lt;/span&gt;:Â res, &lt;span&gt;key&lt;/span&gt;:Â k, &lt;span&gt;data&lt;/span&gt;:Â data[k] });&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â res[k]Â =Â data[k];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â root;&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;æ”¹ç”¨å¾ªç¯åï¼Œå†ä¹Ÿä¸ä¼šå‡ºç°çˆ†æ ˆçš„é—®é¢˜äº†ï¼Œä½†æ˜¯å¯¹äºå¾ªç¯å¼•ç”¨ä¾ç„¶æ— åŠ›åº”å¯¹ï¼&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;ç ´è§£å¾ªç¯å¼•ç”¨&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æœ‰æ²¡æœ‰ä¸€ç§åŠæ³•å¯ä»¥ç ´è§£å¾ªç¯å¼•ç”¨å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šé¢çš„ä¸‰ç§æ–¹æ³•éƒ½å­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¼•ç”¨ä¸¢å¤±ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿè®¸æ˜¯ä¸èƒ½æ¥å—çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ä¸€ä¸ªå¯¹è±¡aä¸‹é¢çš„ä¸¤ä¸ªé”®å€¼éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡bï¼Œç»è¿‡æ·±æ‹·è´åï¼Œaçš„ä¸¤ä¸ªé”®å€¼ä¼šä¸¢å¤±å¼•ç”¨å…³ç³»ï¼Œä»è€Œå˜æˆä¸¤ä¸ªä¸åŒçš„å¯¹è±¡o(â•¯â–¡â•°)oï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â bÂ =Â {};&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {&lt;span&gt;a1&lt;/span&gt;:Â b,Â &lt;span&gt;a2&lt;/span&gt;:Â b};&lt;br/&gt;a.a1Â ===Â a.a2Â &lt;span&gt;//Â true&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â cÂ =Â clone(a);&lt;br/&gt;c.a1Â ===Â c.a2Â &lt;span&gt;//Â false&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæˆ‘ä»¬å‘ç°ä¸€ä¸ªæ–°å¯¹è±¡å°±æŠŠè¿™ä¸ªå¯¹è±¡å’Œå®ƒçš„æ‹·è´å­˜ä¸‹æ¥ï¼Œæ¯æ¬¡æ‹·è´å¯¹è±¡å‰ï¼Œéƒ½å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯å·²ç»æ‹·è´è¿‡äº†ï¼Œå¦‚æœæ‹·è´è¿‡äº†ï¼Œå°±ä¸éœ€è¦æ‹·è´äº†ï¼Œç›´æ¥ç”¨åŸæ¥çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿä¿ç•™å¼•ç”¨å…³ç³»äº†âœ§(â‰– â—¡ â‰–âœ¿)å˜¿å˜¿~~&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†æ˜¯ä»£ç æ€ä¹ˆå†™å‘¢ï¼Ÿo(â•¯â–¡â•°)o&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ«æ€¥ï¼Œå¾€ä¸‹çœ‹ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶å®å’Œå¾ªç¯çš„ä»£ç å¤§ä½“ä¸€æ ·ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹æˆ‘ç”¨&lt;/span&gt;&lt;code draggable=&quot;true&quot;&gt;&lt;span&gt;// ==========&lt;/span&gt;&lt;/code&gt;&lt;span&gt;æ ‡æ³¨å‡ºæ¥äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¼•å…¥ä¸€ä¸ªæ•°ç»„&lt;/span&gt;&lt;code&gt;&lt;span&gt;uniqueList&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ç”¨æ¥å­˜å‚¨å·²ç»æ‹·è´çš„æ•°ç»„ï¼Œæ¯æ¬¡å¾ªç¯éå†æ—¶ï¼Œå…ˆåˆ¤æ–­å¯¹è±¡æ˜¯å¦åœ¨&lt;/span&gt;&lt;code&gt;&lt;span&gt;uniqueList&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ä¸­äº†ï¼Œå¦‚æœåœ¨çš„è¯å°±ä¸æ‰§è¡Œæ‹·è´é€»è¾‘äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;find&lt;/span&gt;&lt;/code&gt;&lt;span&gt;æ˜¯&lt;span&gt;ä¸€ä¸ª&lt;/span&gt;æŠ½è±¡çš„å‡½æ•°ï¼Œå…¶å®å°±æ˜¯éå†&lt;/span&gt;&lt;code&gt;&lt;span&gt;uniqueList&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;//Â ä¿æŒå¼•ç”¨å…³ç³»&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;cloneForce&lt;/span&gt;(&lt;span&gt;x&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(loopList.length)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â =============&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ•°æ®å·²ç»å­˜åœ¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;let&lt;/span&gt;Â uniqueDataÂ =Â find(uniqueList,Â data);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (uniqueData)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â parent[key]Â =Â uniqueData.target;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;continue&lt;/span&gt;;Â &lt;span&gt;//Â ä¸­æ–­æœ¬æ¬¡å¾ªç¯&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â æ•°æ®ä¸å­˜åœ¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â ä¿å­˜æºæ•°æ®ï¼Œåœ¨æ‹·è´æ•°æ®ä¸­å¯¹åº”çš„å¼•ç”¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â uniqueList.push({ &lt;span&gt;source&lt;/span&gt;:Â data, &lt;span&gt;target&lt;/span&gt;:Â res });&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â =============&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;let&lt;/span&gt;Â kÂ &lt;span&gt;in&lt;/span&gt;Â data)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â // çœç•¥ä»£ç &lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â root;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;find&lt;/span&gt;(&lt;span&gt;arr,Â item&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;(&lt;span&gt;let&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â arr.length;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (arr[i].sourceÂ ===Â item)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â arr[i];&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æ¥éªŒè¯ä¸€ä¸‹æ•ˆæœï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â bÂ =Â {};&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {&lt;span&gt;a1&lt;/span&gt;:Â b,Â &lt;span&gt;a2&lt;/span&gt;:Â b};&lt;br/&gt;a.a1Â ===Â a.a2Â &lt;span&gt;//Â true&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â cÂ =Â cloneForce(a);&lt;br/&gt;c.a1Â ===Â c.a2Â &lt;span&gt;//Â true&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥å†è¯´ä¸€ä¸‹å¦‚ä½•ç ´è§£å¾ªç¯å¼•ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç­‰ä¸€ä¸‹ï¼Œä¸Šé¢çš„ä»£ç å¥½åƒå¯ä»¥ç ´è§£å¾ªç¯å¼•ç”¨ï¼Œèµ¶ç´§éªŒè¯ä¸€ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â aÂ =Â {};&lt;br/&gt;a.aÂ =Â a;&lt;br/&gt;&lt;br/&gt;cloneForce(a)&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æƒŠä¸æƒŠå–œï¼Œ(*^__^*) å˜»å˜»â€¦â€¦&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çœ‹èµ·æ¥å®Œç¾çš„&lt;/span&gt;&lt;code&gt;&lt;span&gt;cloneForce&lt;/span&gt;&lt;/code&gt;&lt;span&gt;æ˜¯ä¸æ˜¯å°±æ²¡æœ‰é—®é¢˜å‘¢ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;cloneForce&lt;/span&gt;&lt;/code&gt;&lt;span&gt;æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;æ€§èƒ½å¯¹æ¯”&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;ä¸Šé¢çš„å†…å®¹è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç‚¹æ›´æœ‰éš¾åº¦çš„ï¼Œå¯¹æ¯”ä¸€ä¸‹ä¸åŒæ–¹æ³•çš„æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å…ˆæ¥åšå®éªŒã€‚é€šè¿‡æ•°æ®å¯ä»¥çœ‹å‡ºå½±å“æ€§èƒ½çš„åŸå› æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯æ·±åº¦ï¼Œä¸€ä¸ªæ˜¯æ¯å±‚çš„å¹¿åº¦ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬é‡‡ç”¨å›ºå®šä¸€ä¸ªå˜é‡ï¼Œåªè®©ä¸€ä¸ªå˜é‡å˜åŒ–çš„æ–¹å¼æ¥æµ‹è¯•æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æµ‹è¯•çš„æ–¹æ³•æ˜¯åœ¨æŒ‡å®šçš„æ—¶é—´å†…è®¡ç®—æ·±æ‹·è´æ‰§è¡Œçš„æ¬¡æ•°ï¼Œæ¬¡æ•°è¶Šå¤šï¼Œè¯æ˜æ€§èƒ½è¶Šå¥½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢çš„&lt;/span&gt;&lt;code&gt;&lt;span&gt;runTime&lt;/span&gt;&lt;/code&gt;&lt;span&gt;æ˜¯æµ‹è¯•ä»£ç çš„æ ¸å¿ƒç‰‡æ®µã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•åœ¨2ç§’å†…è¿è¡Œ&lt;/span&gt;&lt;code&gt;&lt;span&gt;clone(createData(500, 1)&lt;/span&gt;&lt;/code&gt;&lt;span&gt;çš„æ¬¡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;runTime&lt;/span&gt;(&lt;span&gt;fn,Â time&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â stimeÂ =Â &lt;span&gt;Date&lt;/span&gt;.now();&lt;br/&gt;Â Â Â Â &lt;span&gt;var&lt;/span&gt;Â countÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(&lt;span&gt;Date&lt;/span&gt;.now()Â -Â stimeÂ &amp;lt;Â time)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â fn();&lt;br/&gt;Â Â Â Â Â Â Â Â count++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â count;&lt;br/&gt;}&lt;br/&gt;runTime(&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â (&lt;span/&gt;)Â &lt;/span&gt;{Â clone(createData(&lt;span&gt;500&lt;/span&gt;,Â &lt;span&gt;1&lt;/span&gt;))Â },Â &lt;span&gt;2000&lt;/span&gt;);&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æ¥åšç¬¬ä¸€ä¸ªæµ‹è¯•ï¼Œå°†å¹¿åº¦å›ºå®šåœ¨100ï¼Œæ·±åº¦ç”±å°åˆ°å¤§å˜åŒ–ï¼Œè®°å½•1ç§’å†…æ‰§è¡Œçš„æ¬¡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;table data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;span&gt;æ·±åº¦&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;clone&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneJSON&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneLoop&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneForce&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;500&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;351&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;212&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;338&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;372&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;1000&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;174&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;104&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;175&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;143&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;1500&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;116&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;67&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;112&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;82&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;2000&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;92&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;50&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;88&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;69&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;å°†ä¸Šé¢çš„æ•°æ®åšæˆè¡¨æ ¼å¯ä»¥å‘ç°ä¸€äº›è§„å¾‹ï¼š&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;éšç€æ·±åº¦å˜å°ï¼Œç›¸äº’ä¹‹é—´çš„å·®å¼‚åœ¨å˜å°&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneå’ŒcloneLoopçš„å·®åˆ«å¹¶ä¸å¤§&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneLoop &amp;gt; cloneForce &amp;gt; cloneJSON&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6175925925925926&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/otfIrRhFJ9pibquVUfUn2c9tHaH24QmQialwEialdBOH8AibU7rPY84znJtOriciaLzyyFdiaVmmkTufpibqCd67djGH3g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹å„ä¸ªæ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦é—®é¢˜ï¼Œå¯¹äºå„ä¸ªæ–¹æ³•è¦åšçš„ç›¸åŒçš„äº‹æƒ…ï¼Œè¿™é‡Œå°±ä¸è®¡ç®—äº†ï¼Œæ¯”å¦‚å¾ªç¯åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹è±¡ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneæ—¶é—´ = åˆ›å»ºé€’å½’å‡½æ•° + æ¯ä¸ªå¯¹è±¡å¤„ç†æ—¶é—´&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneJSONæ—¶é—´ = å¾ªç¯æ£€æµ‹ + æ¯ä¸ªå¯¹è±¡å¤„ç†æ—¶é—´ * 2 ï¼ˆé€’å½’è½¬å­—ç¬¦ä¸² + é€’å½’è§£æï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneLoopæ—¶é—´ = æ¯ä¸ªå¯¹è±¡å¤„ç†æ—¶é—´&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneForceæ—¶é—´ = åˆ¤æ–­å¯¹è±¡æ˜¯å¦åœ¨ç¼“å­˜ä¸­ + æ¯ä¸ªå¯¹è±¡å¤„ç†æ—¶é—´&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;cloneJSONçš„é€Ÿåº¦åªæœ‰cloneçš„50%ã€‚è¿™å¾ˆå®¹æ˜“ç†è§£ï¼Œå› ä¸ºå…¶ä¼šå¤šè¿›è¡Œä¸€æ¬¡é€’å½’æ—¶é—´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ç”±äº&lt;/span&gt;cloneForceè¦åˆ¤æ–­å¯¹è±¡æ˜¯å¦åœ¨ç¼“å­˜ä¸­ï¼Œå› æ­¤ä¼šå¯¼è‡´é€Ÿåº¦å˜æ…¢ã€‚æˆ‘ä»¬æ¥è®¡ç®—ä¸€ä¸‹åˆ¤æ–­é€»è¾‘çš„æ—¶é—´å¤æ‚åº¦ï¼Œå‡è®¾å¯¹è±¡çš„ä¸ªæ•°æ˜¯nï¼Œåˆ™å…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n2)ï¼Œå¯¹è±¡çš„ä¸ªæ•°è¶Šå¤šï¼ŒcloneForceçš„é€Ÿåº¦ä¼šè¶Šæ…¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;1 + 2 + 3 ... + n = n^2/2 - 1&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å…³äºcloneå’ŒcloneLoopè¿™é‡Œæœ‰ä¸€ç‚¹é—®é¢˜ï¼Œçœ‹èµ·æ¥å®éªŒç»“æœå’Œæ¨ç†ç»“æœä¸ä¸€è‡´ï¼Œå…¶ä¸­å¿…æœ‰è¹Šè··ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥åšç¬¬äºŒä¸ªæµ‹è¯•ï¼Œå°†æ·±åº¦å›ºå®šåœ¨10000ï¼Œå¹¿åº¦å›ºå®šä¸º0ï¼Œè®°å½•2ç§’å†…æ‰§è¡Œçš„æ¬¡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;table data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;span&gt;å®½åº¦&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;clone&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneJSON&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneLoop&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneForce&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;0&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;13400&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;3272&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;14292&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;989&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;æ’é™¤å®½åº¦çš„å¹²æ‰°ï¼Œæ¥çœ‹çœ‹æ·±åº¦å¯¹å„ä¸ªæ–¹æ³•çš„å½±å“ï¼š&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;éšç€å¯¹è±¡çš„å¢å¤šï¼ŒcloneForceçš„æ€§èƒ½ä½ä¸‹å‡¸æ˜¾&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneJSONçš„æ€§èƒ½ä¹Ÿå¤§æ‰“æŠ˜æ‰£ï¼Œè¿™æ˜¯å› ä¸ºå¾ªç¯æ£€æµ‹å ç”¨äº†å¾ˆå¤šæ—¶é—´&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;cloneLoopçš„æ€§èƒ½é«˜äºcloneï¼Œå¯ä»¥çœ‹å‡ºé€’å½’æ–°å»ºå‡½æ•°çš„æ—¶é—´å’Œå¾ªç¯å¯¹è±¡æ¯”èµ·æ¥å¯ä»¥å¿½ç•¥ä¸è®¡&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹cloneForceçš„æ€§èƒ½æé™ï¼Œè¿™æ¬¡æˆ‘ä»¬æµ‹è¯•è¿è¡ŒæŒ‡å®šæ¬¡æ•°éœ€è¦çš„æ—¶é—´ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;var&lt;/span&gt;Â data1Â =Â createData(&lt;span&gt;2000&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â data2Â =Â createData(&lt;span&gt;4000&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â data3Â =Â createData(&lt;span&gt;6000&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â data4Â =Â createData(&lt;span&gt;8000&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â data5Â =Â createData(&lt;span&gt;10000&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;cloneForce(data1)&lt;br/&gt;cloneForce(data2)&lt;br/&gt;cloneForce(data3)&lt;br/&gt;cloneForce(data4)&lt;br/&gt;cloneForce(data5)&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡æµ‹è¯•å‘ç°ï¼Œå…¶æ—¶é—´æˆæŒ‡æ•°çº§å¢é•¿ï¼Œå½“å¯¹è±¡ä¸ªæ•°å¤§äºä¸‡çº§åˆ«ï¼Œå°±ä¼šæœ‰300msä»¥ä¸Šçš„å»¶è¿Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5981481481481481&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/otfIrRhFJ9pibquVUfUn2c9tHaH24QmQiahxiazC43OG4FlkxoGCGTP15qbNzDFnD6ULWySNn4AakjfR9Ix4Ub2vw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;å°ºæœ‰æ‰€çŸ­ï¼Œå¯¸æœ‰æ‰€é•¿ï¼Œæ— å…³ä¹å¥½åä¼˜åŠ£ï¼Œå…¶å®æ¯ç§æ–¹æ³•éƒ½æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Œäººå°½å…¶æ‰ï¼Œç‰©å°½å…¶ç”¨ï¼Œæ–¹æ˜¯çœŸç†ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹é¢å¯¹å„ç§æ–¹æ³•è¿›è¡Œå¯¹æ¯”ï¼Œå¸Œæœ›ç»™å¤§å®¶æä¾›ä¸€äº›å¸®åŠ©ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;table data-tool=&quot;markdown.com.cnç¼–è¾‘å™¨&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;clone&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneJSON&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneLoop&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;cloneForce&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;éš¾åº¦&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;â˜†â˜†&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;â˜†&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;â˜†â˜†â˜†&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;â˜†â˜†â˜†â˜†&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;å…¼å®¹æ€§&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ie6&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ie8&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ie6&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ie6&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;å¾ªç¯å¼•ç”¨&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸€å±‚&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸æ”¯æŒ&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸€å±‚&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;æ”¯æŒ&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;æ ˆæº¢å‡º&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¼š&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¼š&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸ä¼š&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸ä¼š&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;ä¿æŒå¼•ç”¨&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¦&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¦&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å¦&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;æ˜¯&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;é€‚åˆåœºæ™¯&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸€èˆ¬æ•°æ®æ‹·è´&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¸€èˆ¬æ•°æ®æ‹·è´&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;å±‚çº§å¾ˆå¤š&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;ä¿æŒå¼•ç”¨å…³ç³»&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;7&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;æœ¬æ–‡å‡ºè‡ª&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ã€Šç°ä»£JavaScriptåº“å¼€å‘ï¼šåŸç†ã€æŠ€æœ¯ä¸å®æˆ˜ã€‹&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸€ä¹¦ï¼&lt;/span&gt;&lt;/p&gt;&lt;p data-autoskip=&quot;1&quot;&gt;&lt;span&gt;å¦‚ä»Šï¼Œæœ¬ä¹¦å·²å…¨é¢ä¸Šçº¿,å¦‚æœä½ ä¹Ÿæƒ³å¼€å‘å±äºè‡ªå·±çš„JavaScriptåº“ï¼Œæå‡å¼€å‘æŠ€èƒ½ï¼Œç²¾è¿›è‡ªèº«å¼€å‘æŠ€æœ¯ï¼Œä¸€å®šä¸å¯ä»¥é”™è¿‡æœ¬ä¹¦å“¦~~&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å¦‚ä»Šï¼Œæœ¬ä¹¦å·²å…¨é¢ä¸Šçº¿ï¼Œå¦‚æœä½ ä¹Ÿæƒ³å¼€å‘å±äºè‡ªå·±çš„JavaScriptåº“ï¼Œæå‡å¼€å‘æŠ€èƒ½ï¼Œç²¾è¿›è‡ªèº«å¼€å‘æŠ€æœ¯ï¼Œä¸€å®šä¸å¯ä»¥é”™è¿‡æœ¬ä¹¦å“¦~~&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mpcps class=&quot;js_editor_new_cps&quot; data-templateid=&quot;list&quot; data-traceid=&quot;2238cea2-d47c-4246-badc-13b8a8842a0d&quot; data-goodssouce=&quot;1&quot; data-pid=&quot;101_13596805&quot; data-appuin=&quot;2395946309&quot; data-buffer=&quot;{&amp;quot;category_id&amp;quot;:106,&amp;quot;pid&amp;quot;:&amp;quot;101_13596805&amp;quot;,&amp;quot;biz_uin&amp;quot;:&amp;quot;2395946309&amp;quot;,&amp;quot;trace_id&amp;quot;:&amp;quot;2238cea2-d47c-4246-badc-13b8a8842a0d&amp;quot;,&amp;quot;sku_id&amp;quot;:&amp;quot;101_13596805&amp;quot;,&amp;quot;source_id&amp;quot;:2,&amp;quot;source_name&amp;quot;:&amp;quot;äº¬ä¸œ&amp;quot;,&amp;quot;audit_state&amp;quot;:1,&amp;quot;main_img&amp;quot;:&amp;quot;https://pcm-img.zhls.qq.com/productcenter-de367983--1018824-1304792925532496268/67511430429122022/2953f1ec9afa07dbbcc57e3c55f5b941.jpg&amp;quot;,&amp;quot;product_name&amp;quot;:&amp;quot;ç°ä»£JavaScriptåº“å¼€å‘ï¼šåŸç†ã€æŠ€æœ¯ä¸å®æˆ˜&amp;quot;,&amp;quot;current_price&amp;quot;:10800,&amp;quot;first_category_id&amp;quot;:&amp;quot;106&amp;quot;,&amp;quot;product_label_name_list&amp;quot;:[&amp;quot;äº¬ä¸œé…é€&amp;quot;],&amp;quot;select_tag_name_list&amp;quot;:[],&amp;quot;templateId&amp;quot;:&amp;quot;list&amp;quot;,&amp;quot;appuin&amp;quot;:&amp;quot;2395946309&amp;quot;,&amp;quot;isNewCpsKOL&amp;quot;:1}&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;3.5044359949302915&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3mRiba3fGiaybyUnHlhpoaoCROQo3B1zGIpRlG4nG2Ia11ZyNg1G0j1blfulsyUWppqMyH30xYcOPgQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;789&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Â &lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2.4302030456852792&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3mRiba3fGiaybyUnHlhpoaoCR0DGy2qlGSZfxcHKbTHpf9ypicDkCE0vlM9gqJJvLib7QUrCnqSibK8sJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;788&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;149&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;149&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3kodicZy1F2uW4ic5JbbFGtA4ZcTlzlt5P8zD2H6r2kmW93IPy32frib5yukeKvehRLAj3scLWuuokog/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;300&quot; data-width=&quot;149px&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç²‰ä¸ä¸“äº«äº”æŠ˜ä¼˜æƒ ï¼Œå¿«å¿«æ‰«ç æŠ¢è´­å§ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;å‘å¸ƒï¼šåˆ˜æ©æƒ &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®¡æ ¸ï¼šé™ˆæ­†æ‡¿&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3ntPMYAJur3UuYzhSDgO7Puv74VHDtgNjyJbpQvt1gicgSpjrlpDy6BheYoAmtjiaF7cdIuPkuUlFkw/0?wx_fmt=png&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;1920&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;29.8961937716263&quot; data-ratio=&quot;0.01574074074074074&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PW0wIHxgg3ntPMYAJur3UuYzhSDgO7Pu8DQL5f0FQIuDZC87yrAuNLy4frEdlMeWkthrlzczb0RbMOBQCAwDrA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section&gt;&lt;span&gt;å¦‚æœå–œæ¬¢æœ¬æ–‡&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;æ¬¢è¿&lt;/span&gt;Â &lt;span&gt;&lt;strong&gt;åœ¨çœ‹&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ä¸¨&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ç•™è¨€&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ä¸¨&lt;/span&gt;&lt;span&gt;&lt;strong&gt;åˆ†äº«è‡³æœ‹å‹åœˆ&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;Â ä¸‰è¿&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-id=&quot;92644&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-width=&quot;100%&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;span&gt;Â &lt;strong&gt;çƒ­æ–‡æ¨èÂ &lt;/strong&gt;&lt;strong&gt;Â &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;574&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;244&quot; data-ratio=&quot;0.4255555555555556&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PW0wIHxgg3m3jibtjia3lCrCvUY6N19QMZ3FjCcpuHouXkdLicQVUiaLicgR8cgSbk7RA8G427GKowhbEvVefuJp53g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/section&gt;&lt;/pre&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;â–¼ç‚¹å‡»é˜…è¯»åŸæ–‡ï¼Œäº†è§£æœ¬ä¹¦è¯¦æƒ…~&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>3fe44bb5097b84afe4629174ea578339</guid>
<title>ä»  Linuxé›¶æ‹·è´æ·±å…¥äº†è§£ Linux-I/O</title>
<link>https://toutiao.io/k/8zrjc3s</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.10084033613445378&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe95czZhnamWia6rvd1aenicicPiasMmUOHHu1wyeNicNJsWGa4syzF2PoOAePZEYtZX8jicbEDRPW3KsUlOw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-w=&quot;1071&quot;/&gt;&lt;/span&gt;&lt;span&gt;å¯¼è¨€ | æœ¬æ–‡é‚€è¯·åˆ°è…¾è®¯CSIGåå°å¼€å‘å·¥ç¨‹å¸ˆkevineluoä»æ–‡ä»¶ä¼ è¾“åœºæ™¯ä»¥åŠé›¶æ‹·è´æŠ€æœ¯æ·±ç©¶Linux I/Oçš„å‘å±•è¿‡ç¨‹ã€ä¼˜åŒ–æ‰‹æ®µä»¥åŠå®é™…åº”ç”¨ã€‚&lt;span&gt;I/Oç›¸å…³çš„å„ç±»ä¼˜åŒ–å·²ç»æ·±å…¥åˆ°äº†æ—¥å¸¸å¼€å‘è€…æ¥è§¦åˆ°çš„è¯­è¨€ã€ä¸­é—´ä»¶ä»¥åŠæ•°æ®åº“çš„æ–¹æ–¹é¢é¢ã€‚é€šè¿‡äº†è§£å’Œå­¦ä¹ ç›¸å…³æŠ€æœ¯å’Œæ€æƒ³ï¼Œ&lt;span&gt;å¼€å‘è€…&lt;/span&gt;èƒ½å¯¹æ—¥åè‡ªå·±çš„ç¨‹åºè®¾è®¡ä»¥åŠæ€§èƒ½ä¼˜åŒ–ä¸Šæœ‰æ‰€å¯å‘ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FiaZYIGick0nWJJXC1lSLI8zy2asbcicfNgvgJXexvB9rOnicPxbKFdEibPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;strong&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å­˜å‚¨å™¨æ˜¯è®¡ç®—æœºçš„æ ¸å¿ƒéƒ¨ä»¶ä¹‹ä¸€ï¼Œåœ¨å®Œå…¨ç†æƒ³çš„çŠ¶æ€ä¸‹ï¼Œå­˜å‚¨å™¨åº”è¯¥è¦åŒæ—¶å…·å¤‡ä»¥ä¸‹ä¸‰ç§ç‰¹æ€§ï¼š&lt;/span&gt;&lt;span&gt;ç¬¬ä¸€ï¼Œé€Ÿåº¦è¶³å¤Ÿå¿«&lt;/span&gt;&lt;span&gt;ï¼šå­˜å‚¨å™¨çš„&lt;/span&gt;&lt;span&gt;å­˜å–é€Ÿåº¦åº”å½“å¿«äºCPUæ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œè¿™æ ·CPUçš„æ•ˆ&lt;/span&gt;&lt;span&gt;ç‡æ‰ä¸ä¼š&lt;/span&gt;&lt;span&gt;å—é™äºå­˜å‚¨å™¨ï¼›&lt;/span&gt;&lt;span&gt;ç¬¬äºŒï¼Œå®¹é‡è¶³å¤Ÿå¤§ï¼šå®¹é‡èƒ½å¤Ÿå­˜å‚¨è®¡ç®—æœºæ‰€éœ€çš„&lt;/span&gt;&lt;span&gt;å…¨éƒ¨æ•°æ®ï¼›&lt;/span&gt;&lt;span&gt;ç¬¬ä¸‰ï¼Œä»·æ ¼&lt;/span&gt;&lt;span&gt;è¶³&lt;/span&gt;&lt;span&gt;å¤Ÿä¾¿å®œï¼šä»·æ ¼ä½å»‰ï¼Œæ‰€æœ‰ç±»å‹çš„è®¡ç®—æœºéƒ½èƒ½é…å¤‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†æ˜¯ç°å®å¾€å¾€æ˜¯æ®‹é…·çš„ï¼Œæˆ‘ä»¬ç›®å‰çš„è®¡ç®—æœºæŠ€æœ¯æ— æ³•åŒæ—¶æ»¡è¶³ä¸Šè¿°çš„ä¸‰ä¸ªæ¡ä»¶ï¼Œäºæ˜¯ç°ä»£è®¡ç®—æœºçš„å­˜å‚¨å™¨è®¾è®¡é‡‡ç”¨äº†ä¸€ç§åˆ†å±‚æ¬¡çš„ç»“æ„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.255&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVJq9Txsf1ffOhQEEGlUJo6FrmdNqxRx3dcbIJkhRwG4FFErX358Oxog/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»é¡¶è‡³åº•ï¼Œç°ä»£è®¡ç®—æœºé‡Œçš„å­˜å‚¨å™¨ç±»å‹åˆ†åˆ«æœ‰ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¯„å­˜å™¨ã€é«˜é€Ÿç¼“å­˜ã€ä¸»å­˜å’Œç£ç›˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œè¿™äº›å­˜å‚¨å™¨çš„é€Ÿåº¦é€çº§é€’å‡è€Œå®¹é‡é€çº§é€’å¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å­˜å–é€Ÿåº¦æœ€å¿«çš„æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¯„å­˜å™¨&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå› ä¸ºå¯„å­˜å™¨çš„åˆ¶ä½œææ–™å’ŒCPUæ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥é€Ÿåº¦å’ŒCPUä¸€æ ·å¿«ï¼ŒCPUè®¿é—®å¯„å­˜å™¨æ˜¯æ²¡æœ‰æ—¶å»¶çš„ï¼Œç„¶è€Œå› ä¸ºä»·æ ¼æ˜‚è´µï¼Œå› æ­¤å®¹é‡ä¹Ÿæå°ï¼Œä¸€èˆ¬32ä½çš„CPUé…å¤‡çš„å¯„å­˜å™¨å®¹é‡æ˜¯32âœ–ï¸32Bitï¼Œ64ä½çš„ CPUåˆ™æ˜¯64âœ–ï¸64Bitï¼Œä¸ç®¡æ˜¯32ä½è¿˜æ˜¯64ä½ï¼Œå¯„å­˜å™¨å®¹é‡éƒ½å°äº1KBï¼Œä¸”å¯„å­˜å™¨ä¹Ÿå¿…é¡»é€šè¿‡è½¯ä»¶è‡ªè¡Œç®¡ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬äºŒå±‚æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é«˜é€Ÿç¼“å­˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œä¹Ÿå³æˆ‘ä»¬å¹³æ—¶äº†è§£çš„CPUé«˜é€Ÿç¼“å­˜L1ã€L2ã€L3ï¼Œä¸€èˆ¬ L1æ˜¯æ¯ä¸ªCPUç‹¬äº«ï¼ŒL3æ˜¯å…¨éƒ¨CPUå…±äº«ï¼Œè€ŒL2åˆ™æ ¹æ®ä¸åŒçš„æ¶æ„è®¾è®¡ä¼šè¢«è®¾è®¡æˆç‹¬äº«æˆ–è€…å…±äº«ä¸¤ç§æ¨¡å¼ä¹‹ä¸€ï¼Œæ¯”å¦‚Intelçš„å¤šæ ¸èŠ¯ç‰‡é‡‡ç”¨çš„æ˜¯å…±äº«L2æ¨¡å¼è€ŒAMDçš„å¤šæ ¸èŠ¯ç‰‡åˆ™é‡‡ç”¨çš„æ˜¯ç‹¬äº«L2æ¨¡å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸‰å±‚åˆ™æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸»å­˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œä¹Ÿå³ä¸»å†…å­˜ï¼Œé€šå¸¸ç§°ä½œéšæœºè®¿é—®å­˜å‚¨å™¨ï¼ˆRandom Access Memory,RAMï¼‰ã€‚æ˜¯ä¸CPUç›´æ¥äº¤æ¢æ•°æ®çš„å†…éƒ¨å­˜å‚¨å™¨ã€‚å®ƒå¯ä»¥éšæ—¶è¯»å†™ï¼ˆåˆ·æ–°æ—¶é™¤å¤–ï¼‰ï¼Œè€Œä¸”é€Ÿåº¦å¾ˆå¿«ï¼Œé€šå¸¸ä½œä¸ºæ“ä½œç³»ç»Ÿæˆ–å…¶ä»–æ­£åœ¨è¿è¡Œä¸­çš„ç¨‹åºçš„ä¸´æ—¶èµ„æ–™å­˜å‚¨ä»‹è´¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è‡³äº&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç£ç›˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åˆ™æ˜¯å›¾ä¸­ç¦»ç”¨æˆ·æœ€è¿œçš„ä¸€å±‚äº†ï¼Œè¯»å†™é€Ÿåº¦ç›¸å·®å†…å­˜ä¸Šç™¾å€ï¼›å¦ä¸€æ–¹é¢è‡ªç„¶é’ˆå¯¹ç£ç›˜æ“ä½œçš„ä¼˜åŒ–ä¹Ÿéå¸¸å¤šï¼Œå¦‚é›¶æ‹·è´ã€direct I/Oã€å¼‚æ­¥I/Oç­‰ç­‰ï¼Œè¿™äº›ä¼˜åŒ–çš„ç›®çš„éƒ½æ˜¯ä¸ºäº†æé«˜ç³»ç»Ÿçš„ååé‡ï¼›å¦å¤–æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­ä¹Ÿæœ‰ç£ç›˜é«˜é€Ÿç¼“å­˜åŒºã€PageCacheã€TLBç­‰ï¼Œå¯ä»¥æœ‰æ•ˆçš„å‡å°‘ç£ç›˜çš„è®¿é—®æ¬¡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç°å®æƒ…å†µä¸­ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿåœ¨ç”±å°å˜å¤§çš„è¿‡ç¨‹ä¸­ï¼Œæœ€å…ˆå‡ºç°ç“¶é¢ˆçš„å°±æ˜¯I/Oï¼Œå°¤å…¶æ˜¯åœ¨ç°ä»£ç½‘ç»œåº”ç”¨ä»CPUå¯†é›†å‹è½¬å‘äº†I/Oå¯†é›†å‹çš„å¤§èƒŒæ™¯ä¸‹ï¼ŒI/Oè¶Šå‘æˆä¸ºå¤§å¤šæ•°åº”ç”¨çš„æ€§èƒ½ç“¶é¢ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¼ ç»Ÿçš„Linuxæ“ä½œç³»ç»Ÿçš„æ ‡å‡†I/Oæ¥å£æ˜¯åŸºäºæ•°æ®æ‹·è´æ“ä½œçš„ï¼Œå³I/Oæ“ä½œä¼šå¯¼è‡´æ•°æ®åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸åœ°å€ç©ºé—´çš„ç¼“å†²åŒºå’Œç”¨æˆ·è¿›ç¨‹åœ°å€ç©ºé—´å®šä¹‰çš„ç¼“å†²åŒºä¹‹é—´è¿›è¡Œä¼ è¾“ã€‚&lt;/span&gt;&lt;strong&gt;&lt;span&gt;è®¾ç½®ç¼“å†²åŒºæœ€å¤§çš„å¥½å¤„æ˜¯å¯ä»¥å‡å°‘ç£ç›˜I/Oçš„æ“ä½œ&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå¦‚æœæ‰€è¯·æ±‚çš„æ•°æ®å·²ç»å­˜æ”¾åœ¨æ“ä½œç³»ç»Ÿçš„é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨ä¸­ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†è¿›è¡Œå®é™…çš„ç‰©ç†ç£ç›˜I/Oæ“ä½œï¼›ç„¶è€Œä¼ ç»Ÿçš„Linux I/Oåœ¨æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•°æ®æ‹·è´æ“ä½œæ·±åº¦ä¾èµ–CPUï¼Œä¹Ÿå°±æ˜¯è¯´I/Oè¿‡ç¨‹éœ€è¦CPUå»æ‰§è¡Œæ•°æ®æ‹·è´çš„æ“ä½œï¼Œå› æ­¤å¯¼è‡´äº†æå¤§çš„ç³»ç»Ÿå¼€é”€ï¼Œé™åˆ¶äº†æ“ä½œç³»ç»Ÿæœ‰æ•ˆè¿›è¡Œæ•°æ®ä¼ è¾“æ“ä½œçš„èƒ½åŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç¯‡æ–‡ç« å°±ä»æ–‡ä»¶ä¼ è¾“åœºæ™¯ï¼Œä»¥åŠ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é›¶æ‹·è´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æŠ€æœ¯æ·±ç©¶Linux I/Oçš„å‘å±•è¿‡ç¨‹ã€ä¼˜åŒ–æ‰‹æ®µä»¥åŠå®é™…åº”ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9F812pnpTVKsrLmlcKHlIuuBvuwqeIqmOLOsD9nTpkow7FlAh45LKRLA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;éœ€è¦äº†è§£çš„è¯&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;DMAï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;DMAï¼Œå…¨ç§°Direct Memory Accessï¼Œå³ç›´æ¥å­˜å‚¨å™¨è®¿é—®ï¼Œæ˜¯ä¸ºäº†é¿å…CPUåœ¨ç£ç›˜æ“ä½œæ—¶æ‰¿æ‹…è¿‡å¤šçš„ä¸­æ–­è´Ÿè½½è€Œè®¾è®¡çš„ï¼›åœ¨ç£ç›˜æ“ä½œä¸­ï¼ŒCPUå¯å°†æ€»çº¿æ§åˆ¶æƒäº¤ç»™DMAæ§åˆ¶å™¨ï¼Œç”±DMAè¾“å‡ºè¯»å†™å‘½ä»¤ï¼Œç›´æ¥æ§åˆ¶RAMä¸I/Oæ¥å£è¿›è¡ŒDMAä¼ è¾“ï¼Œæ— éœ€CPUç›´æ¥æ§åˆ¶ä¼ è¾“ï¼Œä¹Ÿæ²¡æœ‰ä¸­æ–­å¤„ç†æ–¹å¼é‚£æ ·ä¿ç•™ç°åœºå’Œæ¢å¤ç°åœºè¿‡ç¨‹ï¼Œä½¿å¾—CPUçš„æ•ˆç‡å¤§å¤§æé«˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;MMUï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;Memory Management Unitâ€”å†…å­˜ç®¡ç†å•å…ƒï¼Œä¸»è¦å®ç°ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç«äº‰è®¿é—®ä¿æŠ¤ç®¡ç†éœ€æ±‚&lt;/span&gt;&lt;span&gt;ï¼šéœ€è¦ä¸¥æ ¼çš„è®¿é—®ä¿æŠ¤ï¼ŒåŠ¨æ€ç®¡ç†å“ªäº›å†…å­˜é¡µ/æ®µæˆ–åŒºï¼Œä¸ºå“ªäº›åº”ç”¨ç¨‹åºæ‰€ç”¨ã€‚è¿™å±äºèµ„æºçš„ç«äº‰è®¿é—®ç®¡ç†éœ€æ±‚ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é«˜æ•ˆçš„ç¿»è¯‘è½¬æ¢ç®¡ç†éœ€æ±‚ï¼šéœ€è¦å®ç°å¿«é€Ÿé«˜æ•ˆçš„æ˜ å°„ç¿»è¯‘è½¬æ¢ï¼Œå¦åˆ™ç³»ç»Ÿçš„è¿è¡Œæ•ˆç‡å°†ä¼šä½ä¸‹ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é«˜æ•ˆçš„è™šå®&lt;/span&gt;&lt;span&gt;å†…å­˜äº¤æ¢éœ€æ±‚ï¼šéœ€è¦åœ¨å®é™…çš„è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜è¿›è¡Œå†…å­˜é¡µ/æ®µäº¤æ¢è¿‡ç¨‹ä¸­å¿«é€Ÿé«˜æ•ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Page Cacheï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸ºäº†é¿å…æ¯æ¬¡è¯»å†™æ–‡ä»¶æ—¶ï¼Œéƒ½éœ€è¦å¯¹ç¡¬ç›˜è¿›è¡Œè¯»å†™æ“ä½œï¼ŒLinux å†…æ ¸ä½¿ç”¨é¡µç¼“å­˜ï¼ˆPage Cacheï¼‰æœºåˆ¶æ¥å¯¹æ–‡ä»¶ä¸­çš„æ•°æ®è¿›è¡Œç¼“å­˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6171428571428571&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wV9fZKCpcpOY0avGW6rNkJFKic7KhibgN4Yu855ibRDgYiccCKDhSAQ1kEvA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1750&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­¤å¤–ï¼Œç”±äºè¯»å–ç£ç›˜æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦æ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼Œä½†æ˜¯å¯¹äºæœºæ¢°ç£ç›˜æ¥è¯´ï¼Œå°±æ˜¯é€šè¿‡ç£å¤´æ—‹è½¬åˆ°æ•°æ®æ‰€åœ¨çš„æ‰‡åŒºï¼Œå†å¼€å§‹ã€Œé¡ºåºã€è¯»å–æ•°æ®ï¼Œä½†æ˜¯æ—‹è½¬ç£å¤´è¿™ä¸ªç‰©ç†åŠ¨ä½œæ˜¯éå¸¸è€—æ—¶çš„ï¼Œä¸ºäº†é™ä½å®ƒçš„å½±å“ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;PageCache ä½¿ç”¨äº†ã€Œé¢„è¯»åŠŸèƒ½ã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¯”å¦‚ï¼Œå‡è®¾readæ–¹æ³•æ¯æ¬¡åªä¼šè¯»32KBçš„å­—èŠ‚ï¼Œè™½ç„¶readåˆšå¼€å§‹åªä¼šè¯»0ï½32KBçš„å­—èŠ‚ï¼Œä½†å†…æ ¸ä¼šæŠŠå…¶åé¢çš„32ï½64KBä¹Ÿè¯»å–åˆ°PageCacheï¼Œè¿™æ ·åé¢è¯»å–32ï½64KBçš„æˆæœ¬å°±å¾ˆä½ï¼Œå¦‚æœåœ¨32ï½64KBæ·˜æ±°å‡ºPageCache å‰ï¼Œæœ‰è¿›ç¨‹è¯»å–åˆ°å®ƒäº†ï¼Œæ”¶ç›Šå°±éå¸¸å¤§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;è™šæ‹Ÿå†…å­˜ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨è®¡ç®—æœºé¢†åŸŸæœ‰ä¸€å¥å¦‚åŒæ‘©è¥¿åè¯«èˆ¬ç¥åœ£çš„å“²è¨€ï¼š&quot;&lt;/span&gt;&lt;strong&gt;&lt;span&gt;è®¡ç®—æœºç§‘å­¦é¢†åŸŸçš„ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªé—´æ¥çš„ä¸­é—´å±‚æ¥è§£å†³&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&quot;ï¼Œä»å†…å­˜ç®¡ç†ã€ç½‘ç»œæ¨¡å‹ã€å¹¶å‘è°ƒåº¦ç”šè‡³æ˜¯ç¡¬ä»¶æ¶æ„ï¼Œéƒ½èƒ½çœ‹åˆ°è¿™å¥å“²è¨€åœ¨é—ªçƒç€å…‰èŠ’ï¼Œè€Œè™šæ‹Ÿå†…å­˜åˆ™æ˜¯è¿™ä¸€å“²è¨€çš„å®Œç¾å®è·µä¹‹ä¸€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è™šæ‹Ÿå†…å­˜ä¸ºæ¯ä¸ªè¿›ç¨‹æä¾›äº†ä¸€ä¸ª&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸€è‡´çš„ã€ç§æœ‰ä¸”è¿ç»­å®Œæ•´çš„å†…å­˜ç©ºé—´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼›æ‰€æœ‰ç°ä»£æ“ä½œç³»ç»Ÿéƒ½ä½¿ç”¨è™šæ‹Ÿå†…å­˜ï¼Œä½¿ç”¨è™šæ‹Ÿåœ°å€å–ä»£ç‰©ç†åœ°å€ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹å¥½å¤„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ç‚¹ï¼Œåˆ©ç”¨ä¸Šè¿°çš„ç¬¬ä¸€æ¡ç‰¹æ€§å¯ä»¥ä¼˜åŒ–ï¼Œå¯ä»¥æŠŠ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´çš„è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°åŒä¸€ä¸ªç‰©ç†åœ°å€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œè¿™æ ·åœ¨I/Oæ“ä½œæ—¶å°±ä¸éœ€è¦æ¥å›å¤åˆ¶äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2367256637168142&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVK1oEoebrAVIWXLP8mwxiaEEtFwYibRw9oneDjW2Eraw9zwzk9Vmdt0iaQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;904&quot;/&gt;&lt;span&gt;ç¬¬äºŒç‚¹&lt;/span&gt;&lt;span&gt;ï¼Œ&lt;/span&gt;&lt;span&gt;å¤šä¸ªè™šæ‹Ÿå†…å­˜å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªç‰©ç†åœ°å€ï¼›&lt;/span&gt;&lt;span&gt;ç¬¬ä¸‰ç‚¹ï¼Œè™šæ‹Ÿå†…å­˜ç©ºé—´å¯ä»¥è¿œè¿œå¤§äºç‰©ç†å†…å­˜ç©ºé—´ï¼›&lt;/span&gt;&lt;span&gt;ç¬¬å››ç‚¹ï¼Œåº”&lt;/span&gt;&lt;span&gt;ç”¨å±‚é¢å¯ç®¡ç†è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå‡å°‘å‡ºé”™ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;NFS&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æ–‡ä»¶ç³»ç»Ÿï¼šç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæ˜¯FreeBSDæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ç§ï¼Œä¹Ÿè¢«ç§°ä¸ºNFSï¼›NFSå…è®¸ä¸€ä¸ªç³»ç»Ÿåœ¨ç½‘ç»œä¸Šä¸å®ƒäººå…±äº«ç›®å½•å’Œæ–‡ä»¶ï¼Œé€šè¿‡ä½¿ç”¨ NFSï¼Œç”¨æˆ·å’Œç¨‹åºå¯ä»¥è±¡è®¿é—®æœ¬åœ°æ–‡ä»¶ä¸€æ ·è®¿é—®è¿œç«¯ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;Copy-on-write&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å†™å…¥æ—¶å¤åˆ¶ï¼ˆCopy-on-writeï¼ŒCOWï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºç¨‹åºè®¾è®¡é¢†åŸŸçš„ä¼˜åŒ–ç­–ç•¥ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå¦‚æœæœ‰å¤šä¸ªè°ƒç”¨è€…ï¼ˆcallersï¼‰åŒæ—¶è¯·æ±‚ç›¸åŒèµ„æºï¼ˆå¦‚å†…å­˜æˆ–ç£ç›˜ä¸Šçš„æ•°æ®å­˜å‚¨ï¼‰ï¼Œä»–ä»¬ä¼šå…±åŒè·å–ç›¸åŒçš„æŒ‡é’ˆæŒ‡å‘ç›¸åŒçš„èµ„æºï¼Œç›´åˆ°æŸä¸ªè°ƒç”¨è€…è¯•å›¾ä¿®æ”¹èµ„æºçš„å†…å®¹æ—¶ï¼Œç³»ç»Ÿæ‰ä¼šçœŸæ­£å¤åˆ¶ä¸€ä»½ä¸“ç”¨å‰¯æœ¬ï¼ˆprivate copyï¼‰ç»™è¯¥è°ƒç”¨è€…ï¼Œè€Œå…¶ä»–è°ƒç”¨è€…æ‰€è§åˆ°çš„æœ€åˆçš„èµ„æºä»ç„¶ä¿æŒä¸å˜ã€‚è¿™è¿‡ç¨‹å¯¹å…¶ä»–çš„è°ƒç”¨è€…éƒ½æ˜¯é€æ˜çš„ã€‚æ­¤ä½œæ³•ä¸»è¦çš„ä¼˜ç‚¹æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¦‚æœè°ƒç”¨è€…æ²¡æœ‰ä¿®æ”¹è¯¥èµ„æºï¼Œå°±ä¸ä¼šæœ‰å‰¯æœ¬ï¼ˆprivate copyï¼‰è¢«åˆ›å»º&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå› æ­¤å¤šä¸ªè°ƒç”¨è€…åªæ˜¯è¯»å–æ“ä½œæ—¶å¯ä»¥å…±äº«åŒä¸€ä»½èµ„æºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9Fl62j5eylelCcZwNOEv5HRg9xicSj2KIwvdQMPbwiau3eqyIUpKbjQ6nA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;ä¸ºä»€ä¹ˆè¦æœ‰DMA&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åœ¨æ²¡æœ‰DMAæŠ€æœ¯å‰ï¼ŒI/Oçš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š&lt;/span&gt;&lt;span&gt;é¦–å…ˆï¼Œ&lt;/span&gt;&lt;span&gt;CP&lt;/span&gt;&lt;span&gt;Uå‘å‡ºå¯¹åº”çš„æŒ‡ä»¤ç»™ç£ç›˜æ§åˆ¶å™¨ï¼Œç„¶åè¿”å›ï¼›&lt;/span&gt;&lt;span&gt;å…¶æ¬¡ï¼Œç£ç›˜æ§åˆ¶å™¨æ”¶åˆ°æŒ‡ä»¤åï¼Œäºæ˜¯å°±å¼€å§‹å‡†å¤‡æ•°æ®ï¼Œä¼šæŠŠæ•°æ®æ”¾å…¥åˆ°ç£ç›˜æ§åˆ¶å™¨çš„å†…éƒ¨ç¼“å†²åŒºä¸­ï¼Œç„¶åäº§ç”Ÿä¸€ä¸ªä¸­æ–­ï¼›æœ€åï¼Œ&lt;/span&gt;&lt;span&gt;CPUæ”¶åˆ°ä¸­æ–­ä¿¡å·åï¼Œåœä¸‹æ‰‹å¤´çš„å·¥ä½œï¼Œæ¥ç€æŠŠç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºçš„æ•°æ®ä¸€æ¬¡ä¸€ä¸ªå­—èŠ‚åœ°è¯»è¿›è‡ªå·±çš„å¯„å­˜å™¨ï¼Œç„¶åå†æŠŠå¯„å­˜å™¨é‡Œçš„æ•°æ®å†™å…¥åˆ°å†…å­˜ï¼Œè€Œåœ¨æ•°æ®ä¼ è¾“çš„æœŸé—´CPUæ˜¯è¢«é˜»å¡çš„çŠ¶æ€ï¼Œæ— æ³•æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.587135377711294&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wV7gFianlh5zKgINwIjvo4LtKfbVbDcjT6Qe9nOJdgANbo2wwl27ke8BQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1337&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•´ä¸ªæ•°æ®çš„ä¼ è¾“è¿‡ç¨‹ï¼Œéƒ½è¦éœ€è¦CPUäº²è‡ªå‚ä¸æ‹·è´æ•°æ®ï¼Œè€Œä¸”è¿™æ—¶CPUæ˜¯è¢«é˜»å¡çš„ï¼›ç®€å•çš„æ¬è¿å‡ ä¸ªå­—ç¬¦æ•°æ®é‚£æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ç”¨åƒå…†ç½‘å¡æˆ–è€…ç¡¬ç›˜ä¼ è¾“å¤§é‡æ•°æ®çš„æ—¶å€™ï¼Œéƒ½ç”¨CPUæ¥æ¬è¿çš„è¯ï¼Œè‚¯å®šå¿™ä¸è¿‡æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è®¡ç®—æœºç§‘å­¦å®¶ä»¬å‘ç°äº†äº‹æƒ…çš„ä¸¥é‡æ€§åï¼Œäºæ˜¯å°±å‘æ˜äº†DMAæŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç›´æ¥å†…å­˜è®¿é—®ï¼ˆDirect Memory Accessï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æŠ€æœ¯ã€‚&lt;/span&gt;&lt;span&gt;ç®€å•ç†è§£å°±æ˜¯ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åœ¨è¿›è¡ŒI/O è®¾å¤‡å’Œå†…å­˜çš„æ•°æ®ä¼ è¾“çš„æ—¶å€™ï¼Œæ•°æ®æ¬è¿çš„å·¥ä½œå…¨éƒ¨äº¤ç»™DMAæ§åˆ¶å™¨ï¼Œè€Œ CPUä¸å†å‚ä¸ä»»ä½•ä¸æ•°æ®æ¬è¿ç›¸å…³çš„äº‹æƒ…ï¼Œè¿™æ ·CPUå°±å¯ä»¥å»å¤„ç†åˆ«çš„äº‹åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“æµç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.46944444444444444&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVI3tPk68kl2czZgaOYgAlXV7pyFFFUcdW4aSfxZbZmIBbrC4McOgJNg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1440&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œç”¨æˆ·è¿›ç¨‹è°ƒç”¨readæ–¹æ³•ï¼Œå‘æ“ä½œç³»ç»Ÿå‘å‡ºI/Oè¯·æ±‚ï¼Œè¯·æ±‚è¯»å–æ•°æ®åˆ°è‡ªå·±çš„å†…å­˜ç¼“å†²åŒºä¸­ï¼Œè¿›ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼›å…¶æ¬¡ï¼Œ&lt;/span&gt;&lt;span&gt;æ“ä½œç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œè¿›ä¸€æ­¥å°†I/Oè¯·æ±‚å‘é€DMAï¼Œé‡Šæ”¾CPUï¼›å†æ¬¡ï¼ŒDMAè¿›ä¸€æ­¥å°†I/Oè¯·æ±‚å‘é€ç»™ç£ç›˜ï¼›ä»æ¬¡ï¼Œç£ç›˜æ”¶åˆ°DMAçš„I/Oè¯·æ±‚ï¼ŒæŠŠæ•°æ®ä»ç£ç›˜è¯»å–åˆ°ç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºä¸­ï¼Œå½“ç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºè¢«è¯»æ»¡åï¼Œå‘DMAå‘èµ·ä¸­æ–­ä¿¡å·ï¼Œå‘ŠçŸ¥è‡ªå·±ç¼“å†²åŒºå·²æ»¡ï¼›æœ€åï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;DMAæ”¶åˆ°ç£ç›˜çš„ä¿¡å·ï¼Œå°†ç£ç›˜æ§åˆ¶å™¨ç¼“å†²åŒºä¸­çš„æ•°æ®æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºä¸­ï¼Œæ­¤æ—¶ä¸å ç”¨CPUï¼ŒCPUä¾ç„¶å¯ä»¥æ‰§è¡Œå…¶å®ƒäº‹åŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼›å¦å¤–ï¼Œå½“DMAè¯»å–äº†è¶³å¤Ÿå¤šçš„æ•°æ®ï¼Œå°±ä¼šå‘é€ä¸­æ–­ä¿¡å·ç»™CPUï¼›é™¤æ­¤ä¹‹å¤–ï¼ŒCPUæ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼Œå°†æ•°æ®ä»å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œç³»ç»Ÿè°ƒç”¨è¿”å›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æœ‰äº†DMAåï¼Œæ•´ä¸ªæ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ï¼ŒCPUä¸å†å‚ä¸ä¸ç£ç›˜äº¤äº’çš„æ•°æ®æ¬è¿å·¥ä½œï¼Œè€Œæ˜¯å…¨ç¨‹ç”±DMAå®Œæˆï¼Œä½†æ˜¯CPUåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå› ä¸ºä¼ è¾“ä»€ä¹ˆæ•°æ®ï¼Œä»å“ªé‡Œä¼ è¾“åˆ°å“ªé‡Œï¼Œéƒ½éœ€è¦CPUæ¥å‘Šè¯‰DMAæ§åˆ¶å™¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—©æœŸDMAåªå­˜åœ¨åœ¨ä¸»æ¿ä¸Šï¼Œå¦‚ä»Šç”±äºI/Oè®¾å¤‡è¶Šæ¥è¶Šå¤šï¼Œæ•°æ®ä¼ è¾“çš„éœ€æ±‚ä¹Ÿä¸å°½ç›¸åŒï¼Œæ‰€ä»¥æ¯ä¸ªI/Oè®¾å¤‡é‡Œé¢éƒ½æœ‰è‡ªå·±çš„DMAæ§åˆ¶å™¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;47&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FPB6mZB01WGXHsGUE2UYENHAJNeKa8y0qwiajZdfHR5lvk4rjnrQabwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;strong&gt;&lt;span&gt;ä¼ ç»Ÿæ–‡ä»¶ä¼ è¾“çš„ç¼ºé™·&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ‰äº†DMAåï¼Œæˆ‘ä»¬çš„ç£ç›˜I/Oå°±ä¸€åŠ³æ°¸é€¸äº†å—ï¼Ÿå¹¶ä¸æ˜¯çš„ï¼›æ‹¿æˆ‘ä»¬æ¯”è¾ƒç†Ÿæ‚‰çš„ä¸‹è½½æ–‡ä»¶ä¸¾ä¾‹ï¼ŒæœåŠ¡ç«¯è¦æä¾›æ­¤åŠŸèƒ½ï¼Œæ¯”è¾ƒç›´è§‚çš„æ–¹å¼å°±æ˜¯ï¼šå°†ç£ç›˜ä¸­çš„æ–‡ä»¶è¯»å‡ºåˆ°å†…å­˜ï¼Œå†é€šè¿‡ç½‘ç»œåè®®å‘é€ç»™å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“çš„I/Oå·¥ä½œæ–¹å¼æ˜¯ï¼Œæ•°æ®è¯»å–å’Œå†™å…¥æ˜¯ä»ç”¨æˆ·ç©ºé—´åˆ°å†…æ ¸ç©ºé—´æ¥å›å¤åˆ¶ï¼Œè€Œå†…æ ¸ç©ºé—´çš„æ•°æ®æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿå±‚é¢çš„I/Oæ¥å£ä»ç£ç›˜è¯»å–æˆ–å†™å…¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»£ç é€šå¸¸å¦‚ä¸‹ï¼Œä¸€èˆ¬ä¼šéœ€è¦ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;read&lt;/span&gt;(file, tmp_buf, len)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;write&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;socket&lt;/span&gt;, tmp_buf, len)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä»£ç å¾ˆç®€å•ï¼Œè™½ç„¶å°±ä¸¤è¡Œä»£ç ï¼Œä½†æ˜¯è¿™é‡Œé¢å‘ç”Ÿäº†ä¸å°‘çš„äº‹æƒ…ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5664556962025317&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVatfWDYmv53K3CL7jTicdF1htjUGH1PVBuSS1iaq4W53njYaGJTiaYszHw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1896&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™å…¶ä¸­æœ‰ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;4æ¬¡ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨read()å’Œwrite()ä¸­ï¼Œæ¯æ¬¡ç³»ç»Ÿè°ƒç”¨éƒ½å¾—å…ˆä»&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œç­‰å†…æ ¸å®Œæˆä»»åŠ¡åï¼Œå†ä»å†…æ ¸æ€åˆ‡æ¢å›ç”¨æˆ·æ€ï¼›&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„æˆæœ¬å¹¶ä¸å°ï¼Œä¸€æ¬¡åˆ‡æ¢éœ€è¦è€—æ—¶å‡ åçº³ç§’åˆ°å‡ å¾®ç§’ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å¾ˆå®¹æ˜“æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚ï¼ˆå‚è€ƒ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;çº¿ç¨‹åˆ‡æ¢å’Œåç¨‹åˆ‡æ¢çš„æˆæœ¬å·®åˆ«&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4æ¬¡æ•°æ®æ‹·è´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä¸¤æ¬¡ç”±DMAå®Œæˆæ‹·è´ï¼Œå¦å¤–ä¸¤æ¬¡åˆ™æ˜¯ç”±CPUå®Œæˆæ‹·è´ï¼›æˆ‘ä»¬åªæ˜¯æ¬è¿ä¸€ä»½æ•°æ®ï¼Œç»“æœå´æ¬è¿äº†4æ¬¡ï¼Œè¿‡å¤šçš„æ•°æ®æ‹·è´æ— ç–‘ä¼šæ¶ˆè€—é¢å¤–çš„èµ„æºï¼Œå¤§å¤§é™ä½äº†ç³»ç»Ÿæ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ‰€ä»¥ï¼Œè¦æƒ³æé«˜æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ï¼Œå°±éœ€è¦å‡å°‘&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å’Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å†…å­˜æ‹·è´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„æ¬¡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å¦‚ä½•ä¼˜åŒ–ä¼ ç»Ÿæ–‡ä»¶ä¼ è¾“â€”â€”&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;å‡å°‘ã€Œç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¯»å–ç£ç›˜æ•°æ®çš„æ—¶å€™ï¼Œä¹‹æ‰€ä»¥è¦å‘ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™æ˜¯å› ä¸ºç”¨æˆ·ç©ºé—´æ²¡æœ‰æƒé™æ“ä½œç£ç›˜æˆ–ç½‘å¡ï¼Œå†…æ ¸çš„æƒé™æœ€é«˜ï¼Œè¿™äº›æ“ä½œè®¾å¤‡çš„è¿‡ç¨‹éƒ½éœ€è¦äº¤ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å®Œæˆï¼Œæ‰€ä»¥ä¸€èˆ¬è¦é€šè¿‡å†…æ ¸å»å®ŒæˆæŸäº›ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨å¿…ç„¶ä¼šå‘ç”Ÿ2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šé¦–å…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå½“å†…æ ¸æ‰§è¡Œå®Œä»»åŠ¡åï¼Œå†åˆ‡æ¢å›ç”¨æˆ·æ€äº¤ç”±è¿›ç¨‹ä»£ç æ‰§è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å‡å°‘ã€Œæ•°æ®æ‹·è´ã€æ¬¡æ•°ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å‰é¢æåˆ°ï¼Œä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æ–¹å¼ä¼šå†ç»4æ¬¡æ•°æ®æ‹·è´ï¼›ä½†å¾ˆæ˜æ˜¾çš„å¯ä»¥çœ‹åˆ°ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä»å†…æ ¸çš„è¯»ç¼“å†²åŒºæ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒº&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å’Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä»ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œæ‹·è´åˆ°socketçš„ç¼“å†²åŒºã€&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¿™ä¸¤æ­¥æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› ä¸ºåœ¨ä¸‹è½½æ–‡ä»¶ï¼Œæˆ–è€…è¯´å¹¿ä¹‰çš„æ–‡ä»¶ä¼ è¾“åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦åœ¨ç”¨æˆ·ç©ºé—´å¯¹æ•°æ®è¿›è¡Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å†åŠ å·¥&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œæ‰€ä»¥æ•°æ®å¹¶ä¸éœ€è¦å›åˆ°ç”¨æˆ·ç©ºé—´ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9F9gEWETfj769ZEnnF4YHYbm1UBFpYldG1ibl6E9owa0M3yRB40WtEqLg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;é›¶æ‹·è´&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;é‚£ä¹ˆ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é›¶æ‹·è´&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;æŠ€æœ¯å°±åº”è¿è€Œç”Ÿäº†ï¼Œå®ƒå°±æ˜¯ä¸ºäº†è§£å†³æˆ‘ä»¬åœ¨ä¸Šé¢æåˆ°çš„åœºæ™¯â€”â€”è·¨è¿‡ä¸ç”¨æˆ·æ€äº¤äº’çš„è¿‡ç¨‹ï¼Œç›´æ¥å°†æ•°æ®ä»æ–‡ä»¶ç³»ç»Ÿç§»åŠ¨åˆ°ç½‘ç»œæ¥å£è€Œäº§ç”Ÿçš„æŠ€æœ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰é›¶æ‹·è´å®ç°åŸç†&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;é›¶æ‹·è´æŠ€æœ¯å®ç°çš„æ–¹å¼é€šå¸¸æœ‰3ç§ï¼š&lt;/span&gt;&lt;span&gt;mmap+wr&lt;/span&gt;&lt;span&gt;iteã€&lt;/span&gt;&lt;span&gt;sendfileã€&lt;/span&gt;&lt;span&gt;spliceã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;åœ¨å‰é¢æˆ‘ä»¬çŸ¥é“ï¼Œread()ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹ä¸­ä¼šæŠŠå†…æ ¸ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œï¼Œäºæ˜¯ä¸ºäº†çœå»è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨mmap()æ›¿æ¢read()ç³»ç»Ÿè°ƒç”¨å‡½æ•°ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;makefile&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;buf = mmap(file, len)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;write(sockfd, buf, len)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;mmapçš„å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; *&lt;span class=&quot;code-snippet__title&quot;&gt;mmap&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; *addr, &lt;span class=&quot;code-snippet__keyword&quot;&gt;size_t&lt;/span&gt; length, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; prot, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; flags, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; fd, &lt;span class=&quot;code-snippet__keyword&quot;&gt;off_t&lt;/span&gt; offset)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;mmap()ç³»ç»Ÿè°ƒç”¨å‡½æ•°ä¼šåœ¨è°ƒç”¨è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ˜ å°„ï¼Œç›´æ¥æŠŠå†…æ ¸ç¼“å†²åŒºé‡Œçš„æ•°æ®ã€Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ˜ å°„&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€åˆ°ç”¨æˆ·ç©ºé—´ï¼Œè¿™æ ·ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä¸ç”¨æˆ·ç©ºé—´å°±ä¸éœ€è¦å†è¿›è¡Œä»»ä½•çš„æ•°æ®æ‹·è´æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6154545454545455&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVCaarECoIc8jWrgL48libQX17cDerswwpEPZ1wibR6B79oXvr5yicg06Tw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;span&gt;é¦–å…ˆï¼Œåº”ç”¨è¿›ç¨‹è°ƒç”¨äº†mmap()åï¼ŒDMAä¼šæŠŠç£ç›˜çš„æ•°æ®æ‹·è´åˆ°å†…æ ¸çš„ç¼“å†²åŒºé‡Œï¼Œåº”ç”¨è¿›ç¨‹è·Ÿæ“ä½œç³»ç»Ÿå†…æ ¸ã€Œå…±äº«ã€è¿™ä¸ªç¼“å†²åŒºï¼›&lt;/span&gt;&lt;span&gt;å…¶æ¬¡ï¼Œåº”ç”¨è¿›ç¨‹å†è°ƒç”¨write()ï¼Œæ“ä½œç³»ç»Ÿç›´æ¥å°†å†…æ ¸ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ° socketç¼“å†²åŒºä¸­ï¼Œè¿™ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨å†…æ ¸æ€ï¼Œç”±CPUæ¥æ¬è¿æ•°æ®ï¼›&lt;/span&gt;&lt;span&gt;æœ€åï¼ŒæŠŠå†…æ ¸çš„socketç¼“å†²åŒºé‡Œçš„æ•°æ®ï¼Œæ‹·è´åˆ°ç½‘å¡çš„ç¼“å†²åŒºé‡Œï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ç”±DMAæ¬è¿çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;é€šè¿‡ä½¿ç”¨mmap()æ¥ä»£æ›¿read()ï¼Œå¯ä»¥å‡å°‘ä¸€æ¬¡æ•°æ®æ‹·è´çš„è¿‡ç¨‹ã€‚&lt;/span&gt;&lt;span&gt;ä½†è¿™è¿˜ä¸æ˜¯æœ€ç†æƒ³çš„é›¶æ‹·è´ï¼Œå› ä¸ºä»ç„¶éœ€è¦é€šè¿‡CPUæŠŠå†…æ ¸ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ°socketç¼“å†²åŒºé‡Œï¼Œä¸”ä»ç„¶éœ€è¦4æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå› ä¸ºç³»ç»Ÿè°ƒç”¨è¿˜æ˜¯2æ¬¡&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Linuxå†…æ ¸ç‰ˆæœ¬2.1ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªä¸“é—¨å‘é€æ–‡ä»¶çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°sendfile()å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;#&lt;span class=&quot;code-snippet__meta-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;code-snippet__meta-string&quot;&gt;&amp;lt;sys/socket.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;ssize_t&lt;/span&gt; sendfile(&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; out_fd, &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; in_fd, &lt;span class=&quot;code-snippet__keyword&quot;&gt;off_t&lt;/span&gt; *offset, &lt;span class=&quot;code-snippet__keyword&quot;&gt;size_t&lt;/span&gt; count);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å®ƒçš„å‰ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ç›®çš„ç«¯å’Œæºç«¯çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ˜¯æºç«¯çš„åç§»é‡å’Œå¤åˆ¶æ•°æ®çš„é•¿åº¦ï¼Œè¿”å›å€¼æ˜¯å®é™…å¤åˆ¶æ•°æ®çš„é•¿åº¦ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œå®ƒå¯ä»¥æ›¿ä»£å‰é¢çš„read()å’Œwrite()è¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œè¿™æ ·å°±å¯ä»¥å‡å°‘ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œä¹Ÿå°±å‡å°‘äº†2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ã€‚&lt;/span&gt;&lt;span&gt;å…¶æ¬¡ï¼Œè¯¥ç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥ç›´æ¥æŠŠå†…æ ¸ç¼“å†²åŒºé‡Œçš„æ•°æ®æ‹·è´åˆ°socketç¼“å†²åŒºé‡Œï¼Œä¸å†æ‹·è´åˆ°ç”¨æˆ·æ€ï¼Œè¿™æ ·å°±åªæœ‰2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå’Œ3æ¬¡æ•°æ®æ‹·è´ã€‚&lt;/span&gt;&lt;span&gt;å¦‚ä¸‹å›¾ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6236363636363637&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVGqRBQLgFtqxsaOYVs8yKA3KwqhHibpROr6Qy9459Wkh4yjEYQ237UJA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h4&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å¸¦æœ‰scatter/gatherçš„sendfile æ–¹å¼ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Linux 2.4å†…æ ¸è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæä¾›äº†å¸¦æœ‰scatter/gatherçš„sendfileæ“ä½œï¼Œè¿™ä¸ªæ“ä½œå¯ä»¥æŠŠæœ€åä¸€æ¬¡CPU COPYå»é™¤ã€‚å…¶åŸç†å°±æ˜¯åœ¨å†…æ ¸ç©ºé—´Read BUfferå’ŒSocket Bufferä¸åšæ•°æ®å¤åˆ¶ï¼Œè€Œæ˜¯å°†Read Bufferçš„å†…å­˜åœ°å€ã€åç§»é‡è®°å½•åˆ°ç›¸åº”çš„Socket Bufferä¸­ï¼Œè¿™æ ·å°±ä¸éœ€è¦å¤åˆ¶ã€‚å…¶æœ¬è´¨å’Œè™šæ‹Ÿå†…å­˜çš„è§£å†³æ–¹æ³•æ€è·¯ä¸€è‡´ï¼Œå°±æ˜¯å†…å­˜åœ°å€çš„è®°å½•ã€‚&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½ å¯ä»¥åœ¨ä½ çš„Linuxç³»ç»Ÿé€šè¿‡ä¸‹é¢è¿™ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹ç½‘å¡æ˜¯å¦æ”¯æŒscatter-gatherç‰¹æ€§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;shell&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;$&lt;/span&gt; ethtool -k eth0 | grep scatter-gather&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;scatter-gather: on&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;äºæ˜¯ï¼Œä»Linuxå†…æ ¸2.4ç‰ˆæœ¬å¼€å§‹èµ·ï¼Œå¯¹äºæ”¯æŒç½‘å¡æ”¯æŒSG-DMAæŠ€æœ¯çš„æƒ…å†µä¸‹ï¼Œsendfile()ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹å‘ç”Ÿäº†ç‚¹å˜åŒ–ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸€æ­¥ï¼Œé€šè¿‡DMAå°†ç£ç›˜ä¸Šçš„æ•°æ®æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºé‡Œï¼›&lt;/span&gt;&lt;span&gt;ç¬¬äºŒæ­¥ï¼Œç¼“å†²åŒºæè¿°ç¬¦å’Œæ•°æ®é•¿åº¦ä¼ åˆ°socketç¼“å†²åŒºï¼Œè¿™æ ·ç½‘å¡çš„SG-DMA æ§åˆ¶å™¨å°±å¯ä»¥ç›´æ¥å°†å†…æ ¸ç¼“å­˜ä¸­çš„æ•°æ®æ‹·è´åˆ°ç½‘å¡çš„ç¼“å†²åŒºé‡Œï¼Œæ­¤è¿‡ç¨‹ä¸éœ€è¦å°†æ•°æ®ä»æ“ä½œç³»ç»Ÿå†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°socketç¼“å†²åŒºä¸­ï¼Œè¿™æ ·å°±å‡å°‘äº†ä¸€æ¬¡æ•°æ®æ‹·è´ã€‚&lt;/span&gt;&lt;span&gt;æ‰€ä»¥ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹‹ä¸­ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;åªè¿›è¡Œäº†2æ¬¡æ•°æ®æ‹·è´&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5913793103448276&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVLd8w8YkJvcfvgoIibwaFJuliaO5cHHMPMjQexzBX1FzyqFf4VGXn5NBw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1160&quot;/&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;spliceè°ƒç”¨å’Œsendfileéå¸¸ç›¸ä¼¼ï¼Œç”¨æˆ·åº”ç”¨ç¨‹åºå¿…é¡»æ‹¥æœ‰ä¸¤ä¸ªå·²ç»æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€ä¸ªè¡¨ç¤ºè¾“å…¥è®¾å¤‡ï¼Œä¸€ä¸ªè¡¨ç¤ºè¾“å‡ºè®¾å¤‡ã€‚ä¸sendfileä¸åŒçš„æ˜¯ï¼Œspliceå…è®¸ä»»æ„ä¸¤ä¸ªæ–‡ä»¶äº’ç›¸è¿æ¥ï¼Œè€Œå¹¶ä¸åªæ˜¯æ–‡ä»¶ä¸socketè¿›è¡Œæ•°æ®ä¼ è¾“ã€‚å¯¹äºä»ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å‘é€æ•°æ®åˆ°socketè¿™ç§ç‰¹ä¾‹æ¥è¯´ï¼Œä¸€ç›´éƒ½æ˜¯ä½¿ç”¨sendfileç³»ç»Ÿè°ƒç”¨ï¼Œè€Œspliceä¸€ç›´ä»¥æ¥å°±åªæ˜¯ä¸€ç§æœºåˆ¶ï¼Œå®ƒå¹¶ä¸ä»…é™äºsendfileçš„åŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´&lt;/span&gt;&lt;span&gt;&lt;strong&gt;sendfileæ˜¯spliceçš„ä¸€ä¸ªå­é›†&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;splice()æ˜¯åŸºäºLinuxçš„ç®¡é“ç¼“å†²åŒº(pipe buffer)æœºåˆ¶å®ç°çš„ï¼Œæ‰€ä»¥splice()çš„ä¸¤ä¸ªå…¥å‚æ–‡ä»¶æè¿°ç¬¦è¦æ±‚å¿…é¡»æœ‰ä¸€ä¸ªæ˜¯ç®¡é“è®¾å¤‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä½¿ç”¨splice()å®Œæˆä¸€æ¬¡ç£ç›˜æ–‡ä»¶åˆ°ç½‘å¡çš„è¯»å†™è¿‡ç¨‹å¦‚ä¸‹&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œç”¨æˆ·è¿›ç¨‹è°ƒç”¨pipe()ï¼Œä»ç”¨æˆ·æ€é™·å…¥å†…æ ¸æ€ï¼›åˆ›å»ºåŒ¿åå•å‘ç®¡é“ï¼Œpipe()è¿”å›ï¼Œä¸Šä¸‹æ–‡ä»å†…æ ¸æ€åˆ‡æ¢å›ç”¨æˆ·æ€ï¼›&lt;/span&gt;&lt;span&gt;å…¶æ¬¡ï¼Œç”¨æˆ·è¿›ç¨‹è°ƒç”¨splice()ï¼Œä»ç”¨æˆ·æ€é™·å…¥å†…æ ¸æ€ï¼›&lt;/span&gt;&lt;span&gt;å†æ¬¡ï¼ŒDMAæ§åˆ¶å™¨å°†æ•°æ®ä»ç¡¬ç›˜æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºï¼Œä»ç®¡é“çš„å†™å…¥ç«¯&quot;æ‹·è´&quot;è¿›ç®¡é“ï¼Œsplice()è¿”å›ï¼Œä¸Šä¸‹æ–‡ä»å†…æ ¸æ€å›åˆ°ç”¨æˆ·æ€ï¼›&lt;/span&gt;&lt;span&gt;ä»æ¬¡ï¼Œç”¨æˆ·è¿›ç¨‹å†æ¬¡è°ƒç”¨splice()ï¼Œä»ç”¨æˆ·æ€é™·å…¥å†…æ ¸æ€ï¼›&lt;/span&gt;&lt;span&gt;æœ€åï¼Œå†…æ ¸æŠŠæ•°æ®ä»ç®¡é“çš„è¯»å–ç«¯æ‹·è´åˆ°socketç¼“å†²åŒºï¼ŒDMAæ§åˆ¶å™¨å°†æ•°æ®ä»socketç¼“å†²åŒºæ‹·è´åˆ°ç½‘å¡ï¼›&lt;/span&gt;&lt;span&gt;å¦å¤–ï¼Œsplice()è¿”å›ï¼Œä¸Šä¸‹æ–‡ä»å†…æ ¸æ€åˆ‡æ¢å›ç”¨æˆ·æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.57&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVXzErsS5by2XQiaPQPMLPFzuAiaX1Fa6NGrM9qz0rVoxQhRHiaAE6uTiatw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Linux2.6.17ç‰ˆæœ¬å¼•å…¥äº†spliceï¼Œè€Œåœ¨Linux 2.6.23ç‰ˆæœ¬ä¸­ï¼Œsendfileæœºåˆ¶çš„å®ç°å·²ç»æ²¡æœ‰äº†ï¼Œä½†æ˜¯å…¶APIåŠç›¸åº”çš„åŠŸèƒ½è¿˜åœ¨ï¼Œåªä¸è¿‡APIåŠç›¸åº”çš„åŠŸèƒ½æ˜¯åˆ©ç”¨äº†spliceæœºåˆ¶æ¥å®ç°çš„ã€‚&lt;/span&gt;&lt;span&gt;å’Œsendfileä¸åŒçš„æ˜¯ï¼Œspliceä¸éœ€è¦ç¡¬ä»¶æ”¯æŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FibDz8VdeMtTPP6QGg7Qg03rhEzsPz8nRZlEVnmBdT96EyJFHfMz0iavQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;strong&gt;&lt;span&gt;é›¶æ‹·è´çš„å®é™…åº”ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰Kafka&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;äº‹å®ä¸Šï¼ŒKafkaè¿™ä¸ªå¼€æºé¡¹ç›®ï¼Œå°±åˆ©ç”¨äº†ã€Œé›¶æ‹·è´ã€æŠ€æœ¯ï¼Œä»è€Œå¤§å¹…æå‡äº† I/Oçš„ååç‡ï¼Œè¿™ä¹Ÿæ˜¯Kafkaåœ¨å¤„ç†æµ·é‡æ•°æ®ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«çš„åŸå› ä¹‹ä¸€ã€‚&lt;/span&gt;&lt;span&gt;å¦‚æœä½ è¿½æº¯Kafkaæ–‡ä»¶ä¼ è¾“çš„ä»£ç ï¼Œä½ ä¼šå‘ç°ï¼Œæœ€ç»ˆå®ƒè°ƒç”¨äº†Java NIOåº“é‡Œçš„ transferToæ–¹æ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Overridepublic&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;transferFrom&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(FileChannel fileChannel, &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; position, &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; count)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; IOException &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; fileChannel.transferTo(position, count, socketChannel);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å¦‚æœLin&lt;/span&gt;&lt;span&gt;uxç³»ç»Ÿæ”¯æŒsendfile()ç³»ç»Ÿè°ƒç”¨ï¼Œé‚£ä¹ˆtransferTo()å®é™…ä¸Šæœ€åå°±ä¼šä½¿ç”¨åˆ°sendfile()ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰Nginx&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;Nginxä¹Ÿæ”¯æŒé›¶æ‹·è´æŠ€æœ¯ï¼Œä¸€èˆ¬é»˜è®¤æ˜¯å¼€å¯é›¶æ‹·è´æŠ€æœ¯ï¼Œè¿™æ ·æœ‰åˆ©äºæé«˜æ–‡ä»¶ä¼ è¾“çš„æ•ˆç‡ï¼Œæ˜¯å¦å¼€å¯é›¶æ‹·è´æŠ€æœ¯çš„é…ç½®å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;http&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;sendfile&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe97wd1kjBtWzys9nG2SWzoiabw5V7EdjQsD9xVByPSSQwIdCa4YpoKGZCP5ZbMK6SBl0eqVapQznw0g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¤§æ–‡ä»¶ä¼ è¾“åœºæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰é›¶æ‹·è´è¿˜æ˜¯æœ€ä¼˜é€‰å—&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;åœ¨å¤§æ–‡ä»¶ä¼ è¾“çš„åœºæ™¯ä¸‹ï¼Œé›¶æ‹·è´æŠ€æœ¯å¹¶ä¸æ˜¯æœ€ä¼˜é€‰æ‹©ï¼›å› ä¸ºåœ¨é›¶æ‹·è´çš„ä»»ä½•ä¸€ç§å®ç°ä¸­ï¼Œéƒ½ä¼šæœ‰ã€ŒDMAå°†æ•°æ®ä»ç£ç›˜æ‹·è´åˆ°å†…æ ¸ç¼“å­˜åŒºâ€”â€”Page Cacheã€è¿™ä¸€æ­¥ï¼Œä½†æ˜¯ï¼Œåœ¨ä¼ è¾“å¤§æ–‡ä»¶ï¼ˆGBçº§åˆ«çš„æ–‡ä»¶ï¼‰çš„æ—¶å€™ï¼ŒPageCacheä¼šä¸èµ·ä½œç”¨ï¼Œé‚£å°±ç™½ç™½æµªè´¹DMAå¤šåšçš„ä¸€æ¬¡æ•°æ®æ‹·è´ï¼Œé€ æˆæ€§èƒ½çš„é™ä½ï¼Œå³ä½¿ä½¿ç”¨äº†PageCacheçš„é›¶æ‹·è´ä¹Ÿä¼šæŸå¤±æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ˜¯å› ä¸ºåœ¨å¤§æ–‡ä»¶ä¼ è¾“åœºæ™¯ä¸‹ï¼Œæ¯å½“ç”¨æˆ·è®¿é—®è¿™äº›å¤§æ–‡ä»¶çš„æ—¶å€™ï¼Œå†…æ ¸å°±ä¼šæŠŠå®ƒä»¬è½½å…¥PageCacheä¸­ï¼ŒPageCacheç©ºé—´å¾ˆå¿«è¢«è¿™äº›å¤§æ–‡ä»¶å æ»¡ï¼›ä¸”ç”±äºæ–‡ä»¶å¤ªå¤§ï¼Œå¯èƒ½æŸäº›éƒ¨åˆ†çš„æ–‡ä»¶æ•°æ®è¢«å†æ¬¡è®¿é—®çš„æ¦‚ç‡æ¯”è¾ƒä½ï¼Œè¿™æ ·å°±ä¼šå¸¦æ¥2ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;span&gt;PageCacheç”±äºé•¿æ—¶é—´è¢«å¤§æ–‡ä»¶å æ®ï¼Œå…¶ä»–ã€Œçƒ­ç‚¹ã€çš„å°æ–‡ä»¶å¯èƒ½å°±æ— æ³•å……åˆ†ä½¿ç”¨åˆ°PageCacheï¼Œäºæ˜¯è¿™æ ·ç£ç›˜è¯»å†™çš„æ€§èƒ½å°±ä¼šä¸‹é™äº†ï¼›&lt;/span&gt;&lt;span&gt;PageCacheä¸­çš„å¤§æ–‡ä»¶æ•°æ®ï¼Œç”±äºæ²¡æœ‰äº«å—åˆ°ç¼“å­˜å¸¦æ¥çš„å¥½å¤„ï¼Œä½†å´è€—è´¹DMAå¤šæ‹·è´åˆ°PageCacheä¸€æ¬¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰å¼‚æ­¥I/O+direct I/O&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;é‚£ä¹ˆå¤§æ–‡ä»¶ä¼ è¾“åœºæ™¯ä¸‹æˆ‘ä»¬è¯¥é€‰æ‹©ä»€ä¹ˆæ–¹æ¡ˆå‘¢ï¼Ÿè®©æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨æ–‡ç« å¼€å¤´ä»‹ç»DMAæ—¶æœ€æ—©æåˆ°è¿‡çš„åŒæ­¥I/Oï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.587135377711294&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wV7gFianlh5zKgINwIjvo4LtKfbVbDcjT6Qe9nOJdgANbo2wwl27ke8BQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1337&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™é‡Œçš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ä½“ç°åœ¨å½“è¿›ç¨‹è°ƒç”¨readæ–¹æ³•è¯»å–æ–‡ä»¶æ—¶ï¼Œè¿›ç¨‹å®é™…ä¸Šä¼šé˜»å¡åœ¨ readæ–¹æ³•è°ƒç”¨ï¼Œå› ä¸ºè¦ç­‰å¾…ç£ç›˜æ•°æ®çš„è¿”å›ï¼Œå¹¶ä¸”æˆ‘ä»¬å½“ç„¶ä¸å¸Œæœ›è¿›ç¨‹åœ¨è¯»å–å¤§æ–‡ä»¶æ—¶è¢«é˜»å¡ï¼Œå¯¹äºé˜»å¡çš„é—®é¢˜ï¼Œå¯ä»¥ç”¨å¼‚æ­¥I/Oæ¥è§£å†³ï¼Œå³ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5986787778695293&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVicaCTswibZkXpTdK4n3bicwS8tPcib4yHp7R4L2jmgSpIm2sRHqkSrGEVA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1211&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®ƒæŠŠè¯»æ“ä½œåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š&lt;/span&gt;&lt;span&gt;å‰åŠéƒ¨åˆ†ï¼Œå†…æ ¸å‘ç£ç›˜å‘èµ·è¯»è¯·æ±‚ï¼Œä½†æ˜¯å¯ä»¥&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸ç­‰å¾…æ•°æ®å°±ä½å°±è¿”å›&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œäºæ˜¯è¿›ç¨‹æ­¤æ—¶å¯ä»¥å¤„ç†å…¶ä»–ä»»åŠ¡ï¼›&lt;/span&gt;&lt;span&gt;ååŠéƒ¨åˆ†ï¼Œå½“å†…æ ¸å°†ç£ç›˜ä¸­çš„æ•°æ®æ‹·è´åˆ°è¿›ç¨‹ç¼“å†²åŒºåï¼Œè¿›ç¨‹å°†æ¥æ”¶åˆ°å†…æ ¸çš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é€šçŸ¥&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œå†å»å¤„ç†æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œä¸”ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¼‚æ­¥I/Oå¹¶æ²¡æœ‰æ¶‰åŠåˆ°PageCacheï¼›ä½¿ç”¨å¼‚æ­¥I/Oå°±æ„å‘³ç€è¦ç»•å¼€PageCacheï¼Œå› ä¸ºå¡«å……PageCacheçš„è¿‡ç¨‹åœ¨å†…æ ¸ä¸­å¿…é¡»é˜»å¡ã€‚&lt;/span&gt;&lt;span&gt;æ‰€ä»¥å¼‚æ­¥I/Oä¸­ä½¿ç”¨çš„æ˜¯direct I/Oï¼ˆå¯¹æ¯”ä½¿ç”¨PageCacheçš„buffer I/Oï¼‰ï¼Œè¿™æ ·æ‰èƒ½ä¸é˜»å¡è¿›ç¨‹ï¼Œç«‹å³è¿”å›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;direct I/Oåº”ç”¨åœºæ™¯å¸¸è§çš„ä¸¤ç§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ä¸€ç§ï¼Œåº”ç”¨ç¨‹åºå·²ç»å®ç°äº†ç£ç›˜æ•°æ®çš„ç¼“å­˜ï¼Œé‚£ä¹ˆå¯ä»¥ä¸éœ€è¦ PageCacheå†æ¬¡ç¼“å­˜ï¼Œå‡å°‘é¢å¤–çš„æ€§èƒ½æŸè€—ã€‚åœ¨MySQLæ•°æ®åº“ä¸­ï¼Œå¯ä»¥é€šè¿‡å‚æ•°è®¾ç½®å¼€å¯direct I/Oï¼Œé»˜è®¤æ˜¯ä¸å¼€å¯ï¼›&lt;/span&gt;&lt;span&gt;ç¬¬äºŒç§ï¼Œä¼ è¾“å¤§æ–‡ä»¶çš„æ—¶å€™ï¼Œç”±äºå¤§æ–‡ä»¶éš¾ä»¥å‘½ä¸­PageCacheç¼“å­˜ï¼Œè€Œä¸”ä¼šå æ»¡PageCacheå¯¼è‡´ã€Œçƒ­ç‚¹ã€æ–‡ä»¶æ— æ³•å……åˆ†åˆ©ç”¨ç¼“å­˜ï¼Œä»è€Œå¢å¤§äº†æ€§èƒ½å¼€é”€ï¼Œå› æ­¤ï¼Œè¿™æ—¶åº”è¯¥ä½¿ç”¨`direct I/Oã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç„¶ï¼Œç”±äºdirect I/Oç»•è¿‡äº†PageCacheï¼Œå°±æ— æ³•äº«å—å†…æ ¸çš„è¿™ä¸¤ç‚¹çš„ä¼˜åŒ–ï¼š&lt;/span&gt;&lt;span&gt;å†…æ ¸çš„I/Oè°ƒåº¦ç®—æ³•ä¼šç¼“å­˜å°½å¯èƒ½å¤šçš„I/Oè¯·æ±‚åœ¨PageCacheä¸­ï¼Œæœ€åã€Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åˆå¹¶&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€æˆä¸€ä¸ªæ›´å¤§çš„I/Oè¯·æ±‚å†å‘ç»™ç£ç›˜ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†å‡å°‘ç£ç›˜çš„å¯»å€æ“ä½œï¼›&lt;/span&gt;&lt;span&gt;å†…æ ¸ä¹Ÿä¼šã€Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é¢„è¯»&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€åç»­çš„I/Oè¯·æ±‚æ”¾åœ¨PageCacheä¸­ï¼Œä¸€æ ·æ˜¯ä¸ºäº†å‡å°‘å¯¹ç£ç›˜çš„æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®é™…åº”ç”¨ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„é…ç½®ï¼Œåœ¨ nginx ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹é…ç½®ï¼Œæ¥æ ¹æ®æ–‡ä»¶çš„å¤§å°æ¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼ä¼ è¾“ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;location&lt;/span&gt; /video/ {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attribute&quot;&gt;sendfile&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attribute&quot;&gt;aio&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attribute&quot;&gt;directio&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;1024m&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å½“æ–‡ä»¶å¤§å°å¤§äºdirectioå€¼åï¼Œä½¿ç”¨ã€Œå¼‚æ­¥ I/O + ç›´æ¥ I/Oã€ï¼Œå¦åˆ™ä½¿ç”¨ã€Œé›¶æ‹·è´æŠ€æœ¯ã€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰ä½¿ç”¨direct I/Oéœ€è¦æ³¨æ„çš„ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œè´´ä¸€ä¸‹æˆ‘ä»¬çš„Linus(Linus Torvalds)å¯¹O_DIRECTçš„è¯„ä»·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;&quot;The thing that has always disturbed me about O_DIRECT is that the whole interface is just stupid, and was probably designed by a deranged monkey on some serious mind-controlling substances.&quot; â€”Linus&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span&gt;ä¸€èˆ¬æ¥è¯´èƒ½å¼•å¾—Linuså¼€éª‚çš„ä¸œè¥¿ï¼Œé‚£æ˜¯ä¸€å®šæœ‰å¾ˆå¤šå‘çš„ã€‚&lt;/span&gt;&lt;span&gt;åœ¨Linuxçš„man pageä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°O_DIRECTä¸‹æœ‰ä¸€ä¸ªNoteï¼Œè¿™é‡Œæˆ‘å°±ä¸è´´å‡ºæ¥äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ€»ç»“ä¸€ä¸‹å…¶ä¸­éœ€è¦æ³¨æ„çš„ç‚¹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¬¬ä¸€ç‚¹ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åœ°å€å¯¹é½é™åˆ¶ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;O_DIRECTä¼šå¸¦æ¥å¼ºåˆ¶çš„åœ°å€å¯¹é½é™åˆ¶ï¼Œè¿™ä¸ªå¯¹é½çš„å¤§å°ä¹Ÿè·Ÿæ–‡ä»¶ç³»ç»Ÿ/å­˜å‚¨ä»‹è´¨ç›¸å…³ï¼Œå¹¶ä¸”å½“å‰æ²¡æœ‰ä¸ä¾èµ–æ–‡ä»¶ç³»ç»Ÿè‡ªèº«çš„æ¥å£æä¾›æŒ‡å®šæ–‡ä»¶/æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦æœ‰è¿™äº›é™åˆ¶çš„ä¿¡æ¯&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Linux 2.6ä»¥å‰ï¼Œæ€»ä¼ è¾“å¤§å°ã€ç”¨æˆ·çš„å¯¹é½ç¼“å†²åŒºèµ·å§‹åœ°å€ã€æ–‡ä»¶åç§»é‡å¿…é¡»éƒ½æ˜¯é€»è¾‘æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®å—å¤§å°çš„å€æ•°ï¼Œè¿™é‡Œè¯´çš„æ•°æ®å—(block)æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µï¼Œæ˜¯æ–‡ä»¶ç³»ç»Ÿæ†ç»‘ä¸€å®šæ•°é‡çš„è¿ç»­æ‰‡åŒºè€Œæ¥ï¼Œå› æ­¤é€šå¸¸ç§°ä¸º â€œæ–‡ä»¶ç³»ç»Ÿé€»è¾‘å—â€ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å–ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;blockdev&lt;/span&gt; --getss&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Linux2.6ä»¥åå¯¹é½çš„åŸºæ•°å˜ä¸ºç‰©ç†ä¸Šçš„å­˜å‚¨ä»‹è´¨çš„sector sizeæ‰‡åŒºå¤§å°ï¼Œå¯¹åº”ç‰©ç†å­˜å‚¨ä»‹è´¨çš„æœ€å°å­˜å‚¨ç²’åº¦ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å–ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;blockdev&lt;/span&gt; --getpbsz&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¸¦æ¥è¿™ä¸ªé™åˆ¶çš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œå†…å­˜å¯¹é½è¿™ä»¶å°äº‹é€šå¸¸æ˜¯å†…æ ¸æ¥å¤„ç†çš„ï¼Œè€Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;O_DIRECT&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ç»•è¿‡äº†å†…æ ¸ç©ºé—´ï¼Œé‚£ä¹ˆå†…æ ¸å¤„ç†çš„æ‰€æœ‰äº‹æƒ…éƒ½éœ€è¦ç”¨æˆ·è‡ªå·±æ¥å¤„ç†ï¼Œåå°å›å¤â€œLinux I/Oâ€è·å–è¯¦ç»†è§£é‡Šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¬¬äºŒç‚¹ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;O_DIRECT å¹³å°ä¸å…¼å®¹ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;è¿™åº”è¯¥æ˜¯å¤§éƒ¨åˆ†è·¨å¹³å°åº”ç”¨éœ€è¦æ³¨æ„åˆ°çš„ç‚¹ï¼ŒO_DIRECTæœ¬èº«å°±æ˜¯Linuxä¸­æ‰æœ‰çš„ä¸œè¥¿ï¼Œåœ¨è¯­è¨€å±‚é¢/åº”ç”¨å±‚é¢éœ€è¦è€ƒè™‘è¿™é‡Œçš„å…¼å®¹æ€§ä¿è¯ï¼Œæ¯”å¦‚åœ¨Windowsä¸‹å…¶å®ä¹Ÿæœ‰ç±»ä¼¼çš„æœºåˆ¶FILE_FLAG_NO_BUFFERINç”¨æ³•ç±»ä¼¼ï¼›å†æ¯”å¦‚macOSä¸‹çš„F_NOCACHEè™½ç„¶ç±»ä¼¼O_DIRECTï¼Œä½†å®é™…ä½¿ç”¨ä¸­ä¹Ÿæœ‰å·®è·ã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¬¬ä¸‰ç‚¹&lt;/span&gt;&lt;span&gt;ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸è¦å¹¶å‘åœ°è¿è¡Œ fork å’Œ O_DIRECT I/Oã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;å¦‚æœO_DIRECT I/Oä¸­ä½¿ç”¨åˆ°çš„å†…å­˜bufferæ˜¯ä¸€æ®µç§æœ‰çš„æ˜ å°„ï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰ï¼Œå¦‚ä»»ä½•ä½¿ç”¨ä¸Šæ–‡ä¸­æåˆ°è¿‡çš„mmapå¹¶ä»¥MAP_PRIVATE flag å£°æ˜çš„è™šæ‹Ÿå†…å­˜ï¼Œé‚£ä¹ˆç›¸å…³çš„O_DIRECT I/Oï¼ˆä¸ç®¡æ˜¯å¼‚æ­¥ I/O / å…¶å®ƒå­çº¿ç¨‹ä¸­çš„ I/Oï¼‰éƒ½å¿…é¡»åœ¨è°ƒç”¨forkç³»ç»Ÿè°ƒç”¨å‰æ‰§è¡Œå®Œæ¯•ï¼›å¦åˆ™ä¼šé€ æˆæ•°æ®æ±¡æŸ“æˆ–äº§ç”Ÿæœªå®šä¹‰çš„è¡Œä¸º&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»¥ä¸‹æƒ…å†µè¿™ä¸ªé™åˆ¶ä¸å­˜åœ¨ï¼š&lt;/span&gt;&lt;span&gt;ç›¸å…³çš„å†…å­˜bufferæ˜¯ä½¿ç”¨shmatåˆ†é…æˆ–æ˜¯ä½¿&lt;/span&gt;&lt;span&gt;ç”¨mmapä»¥MAP_SHARED flagå£°æ˜çš„ï¼›&lt;/span&gt;&lt;span&gt;ç›¸å…³çš„å†…å­˜bufferæ˜¯ä½¿ç”¨madviseä»¥MADV_DONTFORKå£°æ˜çš„ï¼ˆæ³¨æ„è¿™ç§æ–¹å¼ä¸‹è¯¥å†…å­˜bufferåœ¨å­è¿›ç¨‹ä¸­ä¸å¯ç”¨ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç¬¬å››ç‚¹ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;é¿å…å¯¹åŒä¸€æ–‡ä»¶æ··åˆä½¿ç”¨ O_DIRECT å’Œæ™®é€š I/Oã€‚&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åœ¨åº”ç”¨å±‚éœ€è¦é¿å…å¯¹åŒä¸€æ–‡ä»¶ï¼ˆ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å°¤å…¶æ˜¯å¯¹åŒä¸€æ–‡ä»¶çš„ç›¸åŒåç§»åŒºé—´å†…&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼‰æ··åˆä½¿ç”¨O_DIRECTå’Œæ™®é€šI/Oï¼›å³ä½¿æˆ‘ä»¬çš„æ–‡ä»¶ç³»ç»Ÿèƒ½å¤Ÿå¸®æˆ‘ä»¬å¤„ç†å’Œä¿è¯è¿™é‡Œçš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸€è‡´æ€§é—®é¢˜&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œæ€»ä½“æ¥è¯´æ•´ä¸ªI/Oååé‡ä¹Ÿä¼šæ¯”å•ç‹¬ä½¿ç”¨æŸä¸€ç§I/Oæ–¹å¼è¦å°ã€‚&lt;/span&gt;&lt;span&gt;åŒæ ·çš„ï¼Œåº”ç”¨å±‚ä¹Ÿè¦é¿å…å¯¹åŒä¸€æ–‡ä»¶æ··åˆä½¿ç”¨direct I/Oå’Œmmapã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬äº”ç‚¹ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;NFS åè®®ä¸‹çš„ O_DIRECT&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;span&gt;è™½ç„¶NFSæ–‡ä»¶ç³»ç»Ÿå°±æ˜¯ä¸ºäº†è®©ç”¨æˆ·åƒè®¿é—®æœ¬åœ°æ–‡ä»¶ä¸€æ ·å»è®¿é—®ç½‘ç»œæ–‡ä»¶ï¼Œä½†O_DIRECTåœ¨NFSæ–‡ä»¶ç³»ç»Ÿä¸­çš„è¡¨ç°å’Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸åŒï¼Œæ¯”è¾ƒè€ç‰ˆæœ¬çš„å†…æ ¸æˆ–æ˜¯é­”æ”¹è¿‡çš„å†…æ ¸å¯èƒ½å¹¶ä¸æ”¯æŒè¿™ç§ç»„åˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ˜¯å› ä¸ºåœ¨NFSåè®®ä¸­å¹¶ä¸æ”¯æŒä¼ é€’&lt;/span&gt;&lt;strong&gt;&lt;span&gt;flagå‚æ•°&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥O_DIRECT I/Oå®é™…ä¸Šåªç»•è¿‡äº†æœ¬åœ°å®¢æˆ·ç«¯çš„Page Cacheï¼Œä½†æœåŠ¡ç«¯/åŒæ­¥å®¢æˆ·ç«¯ä»ç„¶ä¼šå¯¹è¿™äº›I/Oè¿›è¡Œcacheã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡ç«¯è¿›è¡ŒI/OåŒæ­¥æ¥ä¿è¯O_DIRECTçš„åŒæ­¥è¯­ä¹‰æ—¶ï¼Œä¸€äº›æœåŠ¡å™¨çš„æ€§èƒ½è¡¨ç°ä¸ä½³ï¼ˆå°¤å…¶æ˜¯å½“è¿™äº›I/Oå¾ˆå°æ—¶ï¼‰ï¼›è¿˜æœ‰ä¸€äº›æœåŠ¡å™¨å¹²è„†è®¾ç½®ä¸º&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ¬ºéª—å®¢æˆ·ç«¯&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œç›´æ¥è¿”å›å®¢æˆ·ç«¯ã€Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®å·²å†™å…¥å­˜å‚¨ä»‹è´¨&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€ï¼Œè¿™æ ·å°±å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé¿å…I/OåŒæ­¥å¸¦æ¥çš„æ€§èƒ½æŸå¤±ï¼Œä½†å¦ä¸€æ–¹é¢ï¼Œå½“æœåŠ¡ç«¯æ–­ç”µæ—¶å°±æ— æ³•ä¿è¯æœªå®ŒæˆI/OåŒæ­¥çš„æ•°æ®çš„&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®å®Œæ•´æ€§&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;äº†ã€‚&lt;/span&gt;&lt;span&gt;Linuxçš„NFSå®¢æˆ·ç«¯ä¹Ÿæ²¡æœ‰ä¸Šé¢è¯´è¿‡çš„åœ°å€å¯¹é½çš„é™åˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰åœ¨ Golang ä¸­ä½¿ç”¨ direct I/O&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;direct ioå¿…é¡»è¦æ»¡è¶³3ç§å¯¹é½è§„åˆ™ï¼šioåç§»æ‰‡åŒºå¯¹é½ï¼Œé•¿åº¦æ‰‡åŒºå¯¹é½ï¼Œå†…å­˜ buffer åœ°å€æ‰‡åŒºå¯¹é½ï¼›å‰ä¸¤ä¸ªè¿˜æ¯”è¾ƒå¥½æ»¡è¶³ï¼Œä½†æ˜¯åˆ†é…çš„å†…å­˜åœ°å€ä»…å‡­åŸç”Ÿçš„æ‰‹æ®µæ˜¯æ— æ³•ç›´æ¥è¾¾æˆçš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…ˆå¯¹æ¯”ä¸€ä¸‹cè¯­è¨€ï¼Œlibcåº“æ˜¯è°ƒç”¨posix_memalign ç›´æ¥åˆ†é…å‡ºç¬¦åˆè¦æ±‚çš„å†…å­˜å—ï¼Œä½†Golangä¸­è¦æ€ä¹ˆå®ç°å‘¢ï¼Ÿ&lt;/span&gt;&lt;span&gt;åœ¨Golangä¸­ï¼Œioçš„bufferå…¶å®å°±æ˜¯å­—èŠ‚æ•°ç»„ï¼Œè‡ªç„¶æ˜¯ç”¨makeæ¥åˆ†é…ï¼Œå¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;buffer := &lt;span class=&quot;code-snippet__built_in&quot;&gt;make&lt;/span&gt;([]&lt;span class=&quot;code-snippet__keyword&quot;&gt;byte&lt;/span&gt;, &lt;span class=&quot;code-snippet__number&quot;&gt;4096&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä½†bufferä¸­çš„dataå­—èŠ‚æ•°ç»„é¦–åœ°å€å¹¶ä¸ä¸€å®šæ˜¯å¯¹é½çš„ã€‚&lt;/span&gt;&lt;span&gt;æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å…ˆåˆ†é…ä¸€ä¸ªæ¯”é¢„æœŸè¦å¤§çš„å†…å­˜å—ï¼Œç„¶ååœ¨è¿™ä¸ªå†…å­˜å—é‡Œæ‰¾å¯¹é½ä½ç½®&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼›è¿™æ˜¯ä¸€ä¸ªä»»ä½•è¯­è¨€çš†é€šç”¨çš„æ–¹æ³•ï¼Œåœ¨ Go é‡Œä¹Ÿæ˜¯å¯ç”¨çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¯”å¦‚ï¼Œæˆ‘ç°åœ¨éœ€è¦ä¸€ä¸ª4096å¤§å°çš„å†…å­˜å—ï¼Œè¦æ±‚åœ°å€æŒ‰ç…§ 512 å¯¹é½ï¼Œå¯ä»¥è¿™æ ·åšï¼š&lt;/span&gt;&lt;span&gt;å…ˆåˆ†é…4096+512å¤§å°çš„å†…å­˜å—ï¼Œå‡è®¾å¾—åˆ°çš„å†…å­˜å—é¦–åœ°å€æ˜¯ p1ï¼›&lt;/span&gt;&lt;span&gt;ç„¶ååœ¨[p1, p1+512] è¿™ä¸ªåœ°å€èŒƒå›´æ‰¾ï¼Œä¸€å®šèƒ½æ‰¾åˆ°512å¯¹é½çš„åœ°å€p2ï¼›&lt;/span&gt;&lt;span&gt;è¿”å› p2ï¼Œç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ [p2, p2+4096] è¿™ä¸ªèŒƒå›´çš„å†…å­˜å—è€Œä¸è¶Šç•Œã€‚&lt;/span&gt;&lt;span&gt;ä»¥ä¸Šå°±æ˜¯åŸºæœ¬åŸç†äº†ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;alignment&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(block []&lt;span class=&quot;code-snippet__keyword&quot;&gt;byte&lt;/span&gt;, AlignSize &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;int&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;uintptr&lt;/span&gt;(unsafe.Pointer(&amp;amp;block[&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;])) &amp;amp; &lt;span class=&quot;code-snippet__keyword&quot;&gt;uintptr&lt;/span&gt;(AlignSize&lt;span class=&quot;code-snippet__number&quot;&gt;-1&lt;/span&gt;))&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;AlignedBlock&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(BlockSize &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;)&lt;/span&gt; []&lt;span class=&quot;code-snippet__title&quot;&gt;byte&lt;/span&gt;&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   block := &lt;span class=&quot;code-snippet__built_in&quot;&gt;make&lt;/span&gt;([]&lt;span class=&quot;code-snippet__keyword&quot;&gt;byte&lt;/span&gt;, BlockSize+AlignSize)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   a := alignment(block, AlignSize)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   offset := &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; a != &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      offset = AlignSize - a&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   block = block[offset : offset+BlockSize]&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; BlockSize != &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      a = alignment(block, AlignSize)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; a != &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         log.Fatal(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Failed to align block&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;      }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; block&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;æ‰€ä»¥ï¼Œé€šè¿‡ä»¥ä¸ŠAlignedBlockå‡½æ•°åˆ†é…å‡ºæ¥çš„å†…å­˜ä¸€å®šæ˜¯ 512 åœ°å€å¯¹é½çš„ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;åœ¨åˆ†é…è¾ƒå°å†…å­˜å—æ—¶å¯¹é½çš„é¢å¤–å¼€é”€æ˜¾å¾—æ¯”è¾ƒå¤§&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å¼€æºå®ç°ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Githubä¸Šå°±æœ‰å¼€æºçš„Golang direct I/Oå®ç°ï¼š&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ncw/directio&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;span&gt;ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œ&lt;/span&gt;&lt;span&gt;O_DIRECTæ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼š&lt;/span&gt;&lt;/h5&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;fp, err := directio.OpenFile(file, os.O_RDONLY, &lt;span class=&quot;code-snippet__number&quot;&gt;0666&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯»æ•°æ®ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;go&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;buffer := directio.AlignedBlock(directio.BlockSize)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;_, err := io.ReadFull(fp, buffer)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe97wd1kjBtWzys9nG2SWzoiabWMmQ9biaEIlibqKMMFiaJldegzc8CcAf2gdqKkx15PCU8nUDdElvnibV5Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;å†…æ ¸ç¼“å†²åŒºå’Œç”¨æˆ·ç¼“å†²åŒºä¹‹é—´çš„ä¼ è¾“ä¼˜åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºçš„zero-copyæŠ€æœ¯éƒ½æ˜¯åŸºäºå‡å°‘ç”šè‡³æ˜¯é¿å…ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ä¹‹é—´çš„CPUæ•°æ®æ‹·è´çš„ï¼Œè™½ç„¶æœ‰ä¸€äº›æŠ€æœ¯éå¸¸é«˜æ•ˆï¼Œä½†æ˜¯å¤§å¤šéƒ½æœ‰é€‚ç”¨æ€§å¾ˆçª„çš„é—®é¢˜ï¼Œæ¯”å¦‚ sendfile()ã€splice() è¿™äº›ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯éƒ½åªé€‚ç”¨äºé‚£äº›ç”¨æˆ·è¿›ç¨‹&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ä¸éœ€è¦å†å¤„ç†æ•°æ®&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;çš„åœºæ™¯ï¼Œæ¯”å¦‚é™æ€æ–‡ä»¶æœåŠ¡å™¨æˆ–è€…æ˜¯ç›´æ¥è½¬å‘æ•°æ®çš„ä»£ç†æœåŠ¡å™¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‰é¢æåˆ°è¿‡çš„è™šæ‹Ÿå†…å­˜æœºåˆ¶å’Œmmapç­‰éƒ½è¡¨æ˜ï¼Œé€šè¿‡åœ¨ä¸åŒçš„è™šæ‹Ÿåœ°å€ä¸Šé‡æ–°æ˜ å°„é¡µé¢å¯ä»¥å®ç°åœ¨ç”¨æˆ·è¿›ç¨‹å’Œå†…æ ¸ä¹‹é—´è™šæ‹Ÿå¤åˆ¶å’Œå…±äº«å†…å­˜ï¼›å› æ­¤å¦‚æœè¦åœ¨å®ç°åœ¨ç”¨æˆ·è¿›ç¨‹å†…å¤„ç†æ•°æ®ï¼ˆè¿™ç§åœºæ™¯æ¯”ç›´æ¥è½¬å‘æ•°æ®æ›´åŠ å¸¸è§ï¼‰ä¹‹åå†å‘é€å‡ºå»çš„è¯ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´çš„æ•°æ®ä¼ è¾“å°±æ˜¯ä¸å¯é¿å…çš„&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œæ—¢ç„¶é¿æ— å¯é¿ï¼Œé‚£å°±åªèƒ½é€‰æ‹©ä¼˜åŒ–äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸¤ç§ä¼˜åŒ–ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´æ•°æ®ä¼ è¾“çš„æŠ€æœ¯ï¼š&lt;/span&gt;&lt;span&gt;åŠ¨æ€é‡æ˜ å°„ä¸å†™æ—¶æ‹·è´ (Copy-on-Write)ã€&lt;/span&gt;&lt;span&gt;ç¼“å†²åŒºå…±äº«(Buffer Sharing)ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰å†™æ—¶æ‹·è´ (Copy-on-Write)&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;å‰é¢æåˆ°è¿‡è¿‡åˆ©ç”¨å†…å­˜æ˜ å°„(mmap)æ¥å‡å°‘æ•°æ®åœ¨ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ä¹‹é—´çš„å¤åˆ¶ï¼Œé€šå¸¸ç”¨æˆ·è¿›ç¨‹æ˜¯å¯¹å…±äº«çš„ç¼“å†²åŒºè¿›è¡ŒåŒæ­¥é˜»å¡è¯»å†™çš„ï¼Œè¿™æ ·ä¸ä¼šæœ‰&lt;/span&gt;&lt;strong&gt;&lt;span&gt;çº¿ç¨‹å®‰å…¨&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;é—®é¢˜ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾è¿™ç§æ¨¡å¼ä¸‹æ•ˆç‡å¹¶ä¸é«˜ï¼Œè€Œæå‡æ•ˆç‡çš„ä¸€ç§æ–¹æ³•å°±æ˜¯&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¼‚æ­¥åœ°å¯¹å…±äº«ç¼“å†²åŒºè¿›è¡Œè¯»å†™&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œè€Œè¿™æ ·çš„è¯å°±å¿…é¡»å¼•å…¥ä¿æŠ¤æœºåˆ¶æ¥é¿å…&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ•°æ®å†²çª&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;é—®é¢˜ï¼ŒCOW(Copy on Write) å°±æ˜¯è¿™æ ·çš„ä¸€ç§æŠ€æœ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;COWæ˜¯ä¸€ç§å»ºç«‹åœ¨è™šæ‹Ÿå†…å­˜é‡æ˜ å°„æŠ€æœ¯ä¹‹ä¸Šçš„æŠ€æœ¯ï¼Œå› æ­¤å®ƒéœ€è¦ MMU çš„ç¡¬ä»¶æ”¯æŒï¼ŒMMUä¼šè®°å½•å½“å‰å“ªäº›å†…å­˜é¡µè¢«æ ‡è®°æˆåªè¯»ï¼Œå½“æœ‰è¿›ç¨‹å°è¯•å¾€è¿™äº›å†…å­˜é¡µä¸­å†™æ•°æ®çš„æ—¶å€™ï¼ŒMMU å°±ä¼šæŠ›ä¸€ä¸ªå¼‚å¸¸ç»™æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå†…æ ¸å¤„ç†è¯¥å¼‚å¸¸æ—¶ä¸ºè¯¥è¿›ç¨‹åˆ†é…ä¸€ä»½ç‰©ç†å†…å­˜å¹¶å¤åˆ¶æ•°æ®åˆ°æ­¤å†…å­˜åœ°å€ï¼Œé‡æ–°å‘ MMU å‘å‡ºæ‰§è¡Œè¯¥è¿›ç¨‹çš„å†™æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹å›¾ä¸ºCOWåœ¨Linuxä¸­çš„åº”ç”¨ä¹‹ä¸€ï¼šfork/cloneï¼Œforkå‡ºçš„å­è¿›ç¨‹å…±äº«çˆ¶è¿›ç¨‹çš„ç‰©ç†ç©ºé—´ï¼Œå½“çˆ¶å­è¿›ç¨‹&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æœ‰å†…å­˜å†™å…¥æ“ä½œæ—¶&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œread-onlyå†…å­˜é¡µå‘ç”Ÿä¸­æ–­ï¼Œ&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å°†è§¦å‘çš„å¼‚å¸¸çš„å†…å­˜é¡µå¤åˆ¶ä¸€ä»½&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;(å…¶ä½™çš„é¡µè¿˜æ˜¯å…±äº«çˆ¶è¿›ç¨‹çš„)ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7563025210084033&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/j3gficicyOvatwBdF9wMkW8xQCnxEdD3wVKek37k9qwFDwkqdjcTrdKm6A1TUUwUFIKzPCjPJJ8oZj3ZxGOw8qOg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1428&quot;/&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/h5&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å±€é™æ€§ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;COWè¿™ç§é›¶æ‹·è´æŠ€æœ¯æ¯”è¾ƒé€‚ç”¨äºé‚£ç§&lt;/span&gt;&lt;strong&gt;&lt;span&gt;å¤šè¯»å°‘å†™ä»è€Œä½¿å¾—COWäº‹ä»¶å‘ç”Ÿè¾ƒå°‘çš„åœºæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œè€Œåœ¨å…¶å®ƒåœºæ™¯ä¸‹åè€Œå¯èƒ½é€ æˆè´Ÿä¼˜åŒ–ï¼Œå› ä¸ºCOWäº‹ä»¶æ‰€å¸¦æ¥çš„ç³»ç»Ÿå¼€é”€è¦è¿œè¿œé«˜äºä¸€æ¬¡CPUæ‹·è´æ‰€äº§ç”Ÿçš„ã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­¤å¤–ï¼Œåœ¨å®é™…åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†é¿å…é¢‘ç¹çš„å†…å­˜æ˜ å°„ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨åŒä¸€æ®µå†…å­˜ç¼“å†²åŒºï¼Œå› æ­¤ï¼Œä½ ä¸éœ€è¦åœ¨åªç”¨è¿‡ä¸€æ¬¡å…±äº«ç¼“å†²åŒºä¹‹åå°±è§£é™¤æ‰å†…å­˜é¡µçš„æ˜ å°„å…³ç³»ï¼Œè€Œæ˜¯é‡å¤å¾ªç¯ä½¿ç”¨ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†è¿™ç§å†…å­˜é¡µæ˜ å°„çš„æŒä¹…åŒ–å¹¶ä¸ä¼šå‡å°‘ç”±äºé¡µè¡¨å¾€è¿”ç§»åŠ¨/æ¢é¡µå’ŒTLB flushæ‰€å¸¦æ¥çš„ç³»ç»Ÿå¼€é”€ï¼Œå› ä¸ºæ¯æ¬¡æ¥æ”¶åˆ°COWäº‹ä»¶ä¹‹åå¯¹å†…å­˜é¡µè€Œè¿›è¡ŒåŠ é”æˆ–è€…è§£é”çš„æ—¶å€™ï¼Œå†…å­˜é¡µçš„åªè¯»æ ‡å¿— (read-ony) éƒ½è¦è¢«æ›´æ”¹ä¸º (write-only)ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h5 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;COWçš„å®é™…åº”ç”¨â€”â€”&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span&gt;Redisçš„æŒä¹…åŒ–æœºåˆ¶ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Redisä½œä¸ºå…¸å‹çš„å†…å­˜å‹åº”ç”¨ï¼Œä¸€å®šæ˜¯æœ‰å†…æ ¸ç¼“å†²åŒºå’Œç”¨æˆ·ç¼“å†²åŒºä¹‹é—´çš„ä¼ è¾“ä¼˜åŒ–çš„ã€‚&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Redisçš„æŒä¹…åŒ–æœºåˆ¶ä¸­ï¼Œå¦‚æœé‡‡ç”¨bgsaveæˆ–è€…bgrewriteaof å‘½ä»¤ï¼Œé‚£ä¹ˆä¼š fork ä¸€ä¸ªå­è¿›ç¨‹æ¥å°†æ•°æ®å­˜åˆ°ç£ç›˜ä¸­ã€‚æ€»ä½“æ¥è¯´&lt;/span&gt;&lt;span&gt;&lt;strong&gt;Redisçš„è¯»æ“ä½œæ˜¯æ¯”å†™æ“ä½œå¤šçš„ï¼ˆåœ¨æ­£ç¡®çš„ä½¿ç”¨åœºæ™¯ä¸‹ï¼‰ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨COWå¯ä»¥å‡å°‘ fork() æ“ä½œçš„é˜»å¡æ—¶é—´&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h6 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;è¯­è¨€å±‚é¢çš„åº”ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/h6&gt;&lt;p&gt;&lt;span&gt;å†™æ—¶å¤åˆ¶çš„æ€æƒ³åœ¨å¾ˆå¤šè¯­è¨€ä¸­ä¹Ÿæœ‰åº”ç”¨ï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„æ·±å±‚å¤åˆ¶ï¼Œèƒ½å¸¦æ¥å¾ˆå¤§æ€§èƒ½æå‡ï¼›æ¯”å¦‚C++98æ ‡å‡†ä¸‹çš„ std::string å°±é‡‡ç”¨äº†å†™æ—¶å¤åˆ¶çš„å®ç°ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cpp&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;std&lt;/span&gt;::&lt;span class=&quot;code-snippet__built_in&quot;&gt;string&lt;/span&gt; y = x;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;y += &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;, World!&quot;&lt;/span&gt;;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;Golangä¸­çš„string,sliceä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„æ€æƒ³ï¼Œåœ¨å¤åˆ¶/åˆ‡ç‰‡ç­‰æ“ä½œæ—¶éƒ½ä¸ä¼šæ”¹å˜åº•å±‚æ•°ç»„çš„æŒ‡å‘ï¼Œå˜é‡å…±äº«åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œä»…å½“è¿›è¡Œappend / ä¿®æ”¹ç­‰æ“ä½œæ—¶æ‰å¯èƒ½è¿›è¡ŒçœŸæ­£çš„copyï¼ˆappendæ—¶å¦‚æœè¶…è¿‡äº†å½“å‰åˆ‡ç‰‡çš„å®¹é‡ï¼Œå°±éœ€è¦åˆ†é…æ–°çš„å†…å­˜ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰ç¼“å†²åŒºå…±äº«(Buffer Sharing)&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;ä»å‰é¢çš„ä»‹ç»å¯ä»¥çœ‹å‡ºï¼Œä¼ ç»Ÿçš„Linux I/Oæ¥å£ï¼Œéƒ½æ˜¯åŸºäºå¤åˆ¶/æ‹·è´çš„ï¼šæ•°æ®éœ€è¦åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´çš„ç¼“å†²åŒºä¹‹é—´è¿›è¡Œæ‹·è´ã€‚åœ¨è¿›è¡ŒI/Oæ“ä½œä¹‹å‰ï¼Œç”¨æˆ·è¿›ç¨‹éœ€è¦é¢„å…ˆåˆ†é…å¥½ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºï¼Œä½¿ç”¨read()ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œå†…æ ¸ä¼šå°†ä»å­˜å‚¨å™¨æˆ–è€…ç½‘å¡ç­‰è®¾å¤‡è¯»å…¥çš„æ•°æ®æ‹·è´åˆ°è¿™ä¸ªç”¨æˆ·ç¼“å†²åŒºé‡Œã€‚è€Œä½¿ç”¨write()ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œåˆ™æ˜¯æŠŠ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ç”¨æˆ·å†…å­˜ç¼“å†²åŒºçš„æ•°æ®æ‹·è´è‡³å†…æ ¸ç¼“å†²åŒº&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†å®ç°è¿™ç§ä¼ ç»Ÿçš„I/Oæ¨¡å¼ï¼ŒLinuxå¿…é¡»è¦åœ¨æ¯ä¸€ä¸ªI/Oæ“ä½œæ—¶éƒ½è¿›è¡Œå†…å­˜è™šæ‹Ÿæ˜ å°„å’Œè§£é™¤ã€‚è¿™ç§å†…å­˜é¡µé‡æ˜ å°„çš„æœºåˆ¶çš„æ•ˆç‡ä¸¥é‡å—é™äºç¼“å­˜ä½“ç³»ç»“æ„ã€MMUåœ°å€è½¬æ¢é€Ÿåº¦å’ŒTLBå‘½ä¸­ç‡ã€‚å¦‚æœèƒ½å¤Ÿé¿å…å¤„ç†I/Oè¯·æ±‚çš„è™šæ‹Ÿåœ°å€è½¬æ¢å’ŒTLBåˆ·æ–°æ‰€å¸¦æ¥çš„å¼€é”€ï¼Œåˆ™æœ‰å¯èƒ½æå¤§åœ°æå‡I/Oæ€§èƒ½ã€‚è€Œç¼“å†²åŒºå…±äº«å°±æ˜¯ç”¨æ¥è§£å†³ä¸Šè¿°é—®é¢˜çš„ä¸€ç§æŠ€æœ¯ï¼ˆè¯´å®è¯æˆ‘è§‰å¾—æœ‰äº›å¥—å¨ƒçš„å‘³é“äº†ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ“ä½œç³»ç»Ÿå†…æ ¸å¼€å‘è€…ä»¬å®ç°äº†ä¸€ç§å«fbufsçš„ç¼“å†²åŒºå…±äº«çš„æ¡†æ¶ï¼Œä¹Ÿå³å¿«é€Ÿç¼“å†²åŒºï¼ˆFast Buffersï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œä½¿ç”¨ä¸€ä¸ªfbufç¼“å†²åŒºä½œä¸ºæ•°æ®ä¼ è¾“çš„æœ€å°å•ä½ã€‚ä½¿ç”¨è¿™ç§æŠ€æœ¯éœ€è¦è°ƒç”¨æ–°çš„æ“ä½œç³»ç»ŸAPIï¼Œç”¨æˆ·åŒºå’Œå†…æ ¸åŒºã€å†…æ ¸åŒºä¹‹é—´çš„æ•°æ®éƒ½å¿…é¡»ä¸¥æ ¼åœ°åœ¨fbufsè¿™ä¸ªä½“ç³»ä¸‹è¿›è¡Œé€šä¿¡ã€‚fbufsä¸ºæ¯ä¸€ä¸ªç”¨æˆ·è¿›ç¨‹åˆ†é…ä¸€ä¸ª buffer poolï¼Œé‡Œé¢ä¼šå‚¨å­˜é¢„åˆ†é…(ä¹Ÿå¯ä»¥ä½¿ç”¨çš„æ—¶å€™å†åˆ†é…)å¥½çš„ buffersï¼Œè¿™äº›buffersä¼šè¢«åŒæ—¶æ˜ å°„åˆ°ç”¨æˆ·å†…å­˜ç©ºé—´å’Œå†…æ ¸å†…å­˜ç©ºé—´ã€‚fbufsåªéœ€é€šè¿‡ä¸€æ¬¡è™šæ‹Ÿå†…å­˜æ˜ å°„æ“ä½œå³å¯åˆ›å»ºç¼“å†²åŒºï¼Œæœ‰æ•ˆåœ°æ¶ˆé™¤é‚£äº›ç”±å­˜å‚¨ä¸€è‡´æ€§ç»´æŠ¤æ‰€å¼•å‘çš„å¤§å¤šæ•°æ€§èƒ½æŸè€—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…±äº«ç¼“å†²åŒºæŠ€æœ¯çš„å®ç°éœ€è¦&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ä¾èµ–äºç”¨æˆ·è¿›ç¨‹ã€æ“ä½œç³»ç»Ÿå†…æ ¸ã€ä»¥åŠI/Oå­ç³»ç»Ÿ(è®¾å¤‡é©±åŠ¨ç¨‹åºï¼Œæ–‡ä»¶ç³»ç»Ÿç­‰)ä¹‹é—´ååŒå·¥ä½œ&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚æ¯”å¦‚ï¼Œè®¾è®¡å¾—ä¸å¥½çš„ç”¨æˆ·è¿›ç¨‹å®¹æ˜“å°±ä¼šä¿®æ”¹å·²ç»å‘é€å‡ºå»çš„fbufä»è€Œæ±¡æŸ“æ•°æ®ï¼Œæ›´è¦å‘½çš„æ˜¯è¿™ç§é—®é¢˜å¾ˆéš¾debugã€‚è™½ç„¶è¿™ä¸ªæŠ€æœ¯çš„è®¾è®¡æ–¹æ¡ˆéå¸¸ç²¾å½©ï¼Œä½†æ˜¯å®ƒçš„é—¨æ§›å’Œé™åˆ¶å´ä¸æ¯”å‰é¢ä»‹ç»çš„å…¶ä»–æŠ€æœ¯å°‘ï¼šé¦–å…ˆä¼šå¯¹æ“ä½œç³»ç»ŸAPIé€ æˆå˜åŠ¨ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„ä¸€äº›APIè°ƒç”¨ï¼Œå…¶æ¬¡è¿˜éœ€è¦è®¾å¤‡é©±åŠ¨ç¨‹åºé…åˆæ”¹åŠ¨ï¼Œè¿˜æœ‰ç”±äºæ˜¯å†…å­˜å…±äº«ï¼Œå†…æ ¸éœ€è¦å¾ˆå°å¿ƒè°¨æ…åœ°å®ç°å¯¹è¿™éƒ¨åˆ†å…±äº«çš„å†…å­˜è¿›è¡Œæ•°æ®ä¿æŠ¤å’ŒåŒæ­¥çš„æœºåˆ¶ï¼Œè€Œè¿™ç§å¹¶å‘çš„åŒæ­¥æœºåˆ¶æ˜¯éå¸¸å®¹æ˜“å‡ºbugçš„ä»è€Œåˆå¢åŠ äº†å†…æ ¸çš„ä»£ç å¤æ‚åº¦ï¼Œç­‰ç­‰ã€‚å› æ­¤è¿™ä¸€ç±»çš„æŠ€æœ¯è¿˜è¿œè¿œæ²¡æœ‰åˆ°å‘å±•æˆç†Ÿå’Œå¹¿æ³›åº”ç”¨çš„é˜¶æ®µï¼Œç›®å‰å¤§å¤šæ•°çš„å®ç°éƒ½è¿˜å¤„äºå®éªŒé˜¶æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe97wd1kjBtWzys9nG2SWzoiabqT4VBv3lNNiay4vP8Bnic3lnws0QSJ5WNc8ZiablIdxD7MXJn4Gxk9fDQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;strong&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ä»æ—©æœŸçš„I/Oåˆ°DMAï¼Œè§£å†³äº†é˜»å¡CPUçš„é—®é¢˜ï¼›è€Œä¸ºäº†çœå»I/Oè¿‡ç¨‹ä¸­ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œæ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œé›¶æ‹·è´æŠ€æœ¯å°±å‡ºç°äº†ã€‚&lt;/span&gt;&lt;span&gt;æ‰€è°“çš„é›¶æ‹·è´(Zero-copy)æŠ€æœ¯ï¼Œå°±æ˜¯å®Œå®Œå…¨å…¨ä¸éœ€è¦åœ¨å†…å­˜å±‚é¢æ‹·è´æ•°æ®ï¼Œçœå»CPUæ¬è¿æ•°æ®çš„è¿‡ç¨‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é›¶æ‹·è´æŠ€æœ¯çš„æ–‡ä»¶ä¼ è¾“æ–¹å¼ç›¸æ¯”ä¼ ç»Ÿæ–‡ä»¶ä¼ è¾“çš„æ–¹å¼ï¼Œå‡å°‘äº†2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œæ•°æ®æ‹·è´æ¬¡æ•°&lt;/span&gt;&lt;strong&gt;&lt;span&gt;ï¼Œåªéœ€è¦2æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œæ•°æ®æ‹·è´æ¬¡æ•°ï¼Œå°±å¯ä»¥å®Œæˆæ–‡ä»¶çš„ä¼ è¾“ï¼Œè€Œä¸”2æ¬¡çš„æ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œéƒ½ä¸éœ€è¦é€šè¿‡CPUï¼Œ2æ¬¡éƒ½æ˜¯ç”±DMAæ¥æ¬è¿&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;span&gt;æ€»ä½“æ¥çœ‹ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é›¶æ‹·è´æŠ€æœ¯è‡³å°‘å¯ä»¥æŠŠæ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½æé«˜ä¸€å€ä»¥ä¸Š&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œä»¥ä¸‹æ˜¯å„æ–¹æ¡ˆè¯¦ç»†çš„æˆæœ¬å¯¹æ¯”ï¼š&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.48164464023494863&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe96ljvIP4ibXCT25tCxrBGy3KhHmichRYekicodamgzibAhopMiawdJfGaeeNibaYZVXK9ROMpzX9rCfDBMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;681&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;é›¶æ‹·è´æŠ€æœ¯æ˜¯åŸºäºPageCacheçš„ï¼ŒPageCacheä¼šç¼“å­˜æœ€è¿‘è®¿é—®çš„æ•°æ®ï¼Œæå‡äº†è®¿é—®ç¼“å­˜æ•°æ®çš„æ€§èƒ½ï¼ŒåŒæ—¶ï¼Œä¸ºäº†è§£å†³æœºæ¢°ç¡¬ç›˜å¯»å€æ…¢çš„é—®é¢˜ï¼Œå®ƒè¿˜ååŠ© I/Oè°ƒåº¦ç®—æ³•å®ç°äº†I/Oåˆå¹¶ä¸é¢„è¯»ï¼Œè¿™ä¹Ÿæ˜¯é¡ºåºè¯»æ¯”éšæœºè¯»æ€§èƒ½å¥½çš„åŸå› ä¹‹ä¸€ï¼›è¿™äº›ä¼˜åŠ¿ï¼Œè¿›ä¸€æ­¥æå‡äº†é›¶æ‹·è´çš„æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†å½“é¢å¯¹å¤§æ–‡ä»¶ä¼ è¾“æ—¶ï¼Œä¸èƒ½ä½¿ç”¨é›¶æ‹·è´ï¼Œå› ä¸ºå¯èƒ½ç”±äºPageCacheè¢«å¤§æ–‡ä»¶å æ®ï¼Œå¯¼è‡´ã€Œçƒ­ç‚¹ã€å°æ–‡ä»¶æ— æ³•åˆ©ç”¨åˆ°PageCacheçš„é—®é¢˜ï¼Œå¹¶ä¸”å¤§æ–‡ä»¶çš„ç¼“å­˜å‘½ä¸­ç‡ä¸é«˜ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ã€Œå¼‚æ­¥I/O+direct I/Oã€çš„æ–¹å¼ï¼›&lt;/span&gt;&lt;strong&gt;&lt;span&gt;åœ¨ä½¿ç”¨direct I/Oæ—¶ä¹Ÿéœ€è¦æ³¨æ„è®¸å¤šçš„å‘ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œæ¯•ç«Ÿè¿Linusä¹Ÿä¼šè¢«O_DIRECT &#x27;disturbed&#x27;åˆ°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œåœ¨æ›´å¹¿æ³›çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„åˆ°å†…&lt;/span&gt;&lt;strong&gt;&lt;span&gt;æ ¸ç¼“å†²åŒºå’Œç”¨æˆ·ç¼“å†²åŒºä¹‹é—´çš„ä¼ è¾“ä¼˜åŒ–&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼Œè¿™ç§æ–¹å¼ä¾§é‡äºåœ¨ç”¨æˆ·è¿›ç¨‹çš„ç¼“å†²åŒºå’Œæ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ä¹‹é—´çš„CPU æ‹·è´çš„ä¼˜åŒ–ï¼Œå»¶ç»­äº†ä»¥å¾€é‚£ç§ä¼ ç»Ÿçš„é€šä¿¡æ–¹å¼ï¼Œä½†æ›´çµæ´»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;I/Oç›¸å…³çš„å„ç±»ä¼˜åŒ–è‡ªç„¶ä¹Ÿå·²ç»æ·±å…¥åˆ°äº†æ—¥å¸¸æˆ‘ä»¬æ¥è§¦åˆ°çš„è¯­è¨€ã€ä¸­é—´ä»¶ä»¥åŠæ•°æ®åº“çš„æ–¹æ–¹é¢é¢ï¼Œé€šè¿‡äº†è§£å’Œå­¦ä¹ è¿™äº›æŠ€æœ¯å’Œæ€æƒ³ï¼Œä¹Ÿèƒ½å¯¹æ—¥åè‡ªå·±çš„ç¨‹åºè®¾è®¡ä»¥åŠæ€§èƒ½ä¼˜åŒ–ä¸Šæœ‰æ‰€å¯å‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä½ å¯èƒ½æ„Ÿå…´è¶£çš„è…¾è®¯å·¥ç¨‹å¸ˆä½œå“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/M6IC6IoU4PwMicRZB4dKAVUhfw1GR9CJvqeqIWic50hQeGiaVgjY4oK8BXrMNsMra2MQ3f4LAlLKT6ibW9GdTvibUtg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;24&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2&quot; data-w=&quot;24&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/sPQicVg8nzU0ceHDyC83Jm2vibsTbUia3blLRW1z0KUrw4OIV2eOibRmEWfWJYVXuyN6TOno2sLg9ZU7meG4uAY2jg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247570280&amp;amp;idx=1&amp;amp;sn=2d6a13b5a9965c7dc064c2457b7affd2&amp;amp;chksm=eaa9c938ddde402e7f662ae4c10305a276d2e1abc4c457024681b128a8bdced3501f5c631be9&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç”±æµ…å…¥æ·±è¯»é€vueæºç ï¼šdiffç®—æ³•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ç”±æµ…å…¥æ·±è¯»é€vueæºç ï¼šdiffç®—æ³•&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247569534&amp;amp;idx=1&amp;amp;sn=a89d76deaae4d9d8ecaae27706772ed3&amp;amp;chksm=eaa9ca2eddde4338f09e279eec39963711e714dd4142f2d3d9569faadffb5cb84f8f220ec951&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä¼˜é›…åº”å¯¹æ•…éšœï¼šQQéŸ³ä¹æ€ä¹ˆåšé«˜å¯ç”¨æ¶æ„ä½“ç³»ï¼Ÿ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ä¼˜é›…åº”å¯¹æ•…éšœï¼šQQéŸ³ä¹æ€ä¹ˆåšé«˜å¯ç”¨æ¶æ„ä½“ç³»ï¼Ÿ&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568983&amp;amp;idx=1&amp;amp;sn=fee3d132d2e61d92d5e69fe3f9e4e86c&amp;amp;chksm=eaa9d407ddde5d1124f55ee09135b2b714dddd4aca5c0c3fd9510671f074a6d714b130b60e38&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;PB çº§æ•°æ®ç§’çº§åˆ†æï¼šè…¾è®¯äº‘åŸç”Ÿæ¹–ä»“DLC æ¶æ„æ­ç§˜&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;PB çº§æ•°æ®ç§’çº§åˆ†æï¼šè…¾è®¯äº‘åŸç”Ÿæ¹–ä»“DLC æ¶æ„æ­ç§˜&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;|Â &lt;/span&gt;&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568678&amp;amp;idx=1&amp;amp;sn=d02ba2da9fe835b7c18650def3124d1c&amp;amp;chksm=eaa9d776ddde5e605f2d3220fda2f54ab28ba0a612b16f3ba61ce044d18b402a031ccaed1847&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¯¦è§£å…¨ç½‘æœ€å¿«Goæ³›å‹è·³è¡¨ã€å†…é™„æºç ã€‘&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;è¯¦è§£å…¨ç½‘æœ€å¿«Goæ³›å‹è·³è¡¨ã€å†…é™„æºç ã€‘&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æŠ€æœ¯ç›²ç›’ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568617&amp;amp;idx=1&amp;amp;sn=d3409583764c4877964765a6b774b1de&amp;amp;chksm=eaa9d6b9ddde5faff511c416033948f76b056b209df76c6eb12adfea3f618422297b9b11895b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å‰ç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;å‰ç«¯&lt;/a&gt;&lt;span&gt;&lt;strong&gt;ï½œ&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568512&amp;amp;idx=1&amp;amp;sn=5a2e887c0ac511e9a4fe5cd68a388e48&amp;amp;chksm=eaa9d6d0ddde5fc6376f1ffcc6e7b050fefded23d5b24c5f7b801885f509df06cd53d99f0a45&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;åç«¯&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568656&amp;amp;idx=1&amp;amp;sn=98f7033418fc1fd7d019eeb18008b616&amp;amp;chksm=eaa9d740ddde5e56aa0b7df55dc2f70c65f329d37246453c2b3316356f3f84cc9f87eb6b8db4&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;AIä¸ç®—æ³•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;AIä¸ç®—æ³•&lt;/a&gt;&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568672&amp;amp;idx=1&amp;amp;sn=85e4b3e1c46289058398b216edb40941&amp;amp;chksm=eaa9d770ddde5e669cfaa25c37887ae058c433e4296ca04f8ff5373184bc76d4420f1d2049a7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¿ç»´ï½œ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;è¿ç»´&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568677&amp;amp;idx=1&amp;amp;sn=e95255553777c53d38cb1e64c1c16432&amp;amp;chksm=eaa9d775ddde5e633a75d20eb484181c0e03cb6f8237a4141c599e4f13ad3af6748c5e8d1a9a&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å·¥ç¨‹å¸ˆæ–‡åŒ–&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;å·¥ç¨‹å¸ˆæ–‡åŒ–&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åå°å›å¤â€œ&lt;/span&gt;&lt;span&gt;Linux I/O&lt;/span&gt;&lt;span&gt;&lt;span&gt;â€ï¼Œ&lt;/span&gt;&lt;span&gt;é¢†æœ¬æ–‡ä½œè€…æ¨èèµ„æ–™ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5294117647058824&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/FBfnpCtdk5Ua19DY7eDCCw2Ib0OB5dRiclmhic9dsa8hk0M6mcNLn6oE88gJNz6hVhZGcvgbJyicQSuBsfr7ppw4w/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;68&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8e9301e073076ba12941a59917688bce</guid>
<title>æ”¯ä»˜ç³»ç»Ÿå°±è¯¥è¿™ä¹ˆè®¾è®¡ï¼ˆä¸‡èƒ½é€šç”¨ï¼‰ï¼Œç¨³çš„ä¸€æ‰¹ï¼</title>
<link>https://toutiao.io/k/wcj32rn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>07a9f73ea53ed4353c368280be6dfc70</guid>
<title>å¸¦ä½ é€æè®¤è¯† Seata åˆ†å¸ƒå¼äº‹åŠ¡æœåŠ¡çš„åŸç†å’Œæµç¨‹ï¼ˆ1ï¼‰</title>
<link>https://toutiao.io/k/o87ktyv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;article_content&quot; class=&quot;article_content clearfix&quot;&gt;
        
        
                &lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h2&gt;&lt;a id=&quot;_0&quot;/&gt;åˆ†å¸ƒå¼äº‹åŠ¡çš„èƒŒæ™¯&lt;/h2&gt; 
&lt;p&gt;éšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•ï¼Œå•ä½“æ¶æ„å·²ç»æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œåˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„é€æ¸æˆä¸ºå¤§å‹äº’è”ç½‘å¹³å°çš„é¦–é€‰ï¼Œä½†æ‰€æœ‰ä½¿ç”¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„çš„åº”ç”¨éƒ½å¿…é¡»é¢ä¸´ä¸€ä¸ªååˆ†æ£˜æ‰‹çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯â€œåˆ†å¸ƒå¼äº‹åŠ¡â€é—®é¢˜ã€‚&lt;/p&gt; 
&lt;p&gt;åœ¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå‡ ä¹æ‰€æœ‰ä¸šåŠ¡æ“ä½œéƒ½éœ€è¦å¤šä¸ªæœåŠ¡åä½œæ‰èƒ½å®Œæˆã€‚å¯¹äºå…¶ä¸­çš„æŸä¸ªæœåŠ¡è€Œè¨€ï¼Œå®ƒçš„æ•°æ®ä¸€è‡´æ€§å¯ä»¥äº¤ç”±å…¶è‡ªèº«æ•°æ®åº“äº‹åŠ¡æ¥ä¿è¯ï¼Œä½†ä»æ•´ä¸ªåˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„æ¥çœ‹ï¼Œå…¶å…¨å±€æ•°æ®çš„ä¸€è‡´æ€§å´æ˜¯æ— æ³•ä¿è¯çš„ã€‚&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;Seata_6&quot;/&gt;Seataæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt; 
&lt;p&gt;Seata æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†æ¡†æ¶ï¼Œä¹Ÿæ˜¯ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œç”±é˜¿é‡Œå·´å·´å’Œèš‚èšé‡‘æœå…±åŒå¼€æºçš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿåœ¨å¾®æœåŠ¡æ¶æ„ä¸‹æä¾›é«˜æ€§èƒ½ä¸”ç®€å•æ˜“ç”¨çš„åˆ†å¸ƒå¼äº‹åŠ¡æœåŠ¡ï¼Œè‡´åŠ›äºæä¾›é«˜æ€§èƒ½å’Œç®€å•æ˜“ç”¨çš„åˆ†å¸ƒå¼äº‹åŠ¡æœåŠ¡ã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;Seata_10&quot;/&gt;Seataç›¸å…³èµ„æ–™&lt;/h3&gt; 
 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/973ef9dce6abf74fdb6cd47410d1e651.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/9c9f43cc053ef7141243b4c092bd23c8.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;Seata_20&quot;/&gt;Seataçš„å‘å±•å†ç¨‹&lt;/h3&gt; 
&lt;p&gt;é˜¿é‡Œå·´å·´ä½œä¸ºå›½å†…æœ€æ—©ä¸€æ‰¹è¿›è¡Œåº”ç”¨åˆ†å¸ƒå¼ï¼ˆå¾®æœåŠ¡åŒ–ï¼‰æ”¹é€ çš„ä¼ä¸šï¼Œå¾ˆæ—©å°±é‡åˆ°å¾®æœåŠ¡æ¶æ„ä¸‹çš„åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ï¼Œé˜¿é‡Œå·´å·´å¯¹äºåˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜å…ˆåå‘å¸ƒäº†ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;2014 å¹´ï¼Œé˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿå‘å¸ƒ TXCï¼ˆTaobao Transaction Constructorï¼‰ï¼Œä¸ºé›†å›¢å†…åº”ç”¨æä¾›åˆ†å¸ƒå¼äº‹åŠ¡æœåŠ¡ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;2016 å¹´ï¼ŒTXC åœ¨ç»è¿‡äº§å“åŒ–æ”¹é€ åï¼Œä»¥ GTSï¼ˆGlobal Transaction Serviceï¼‰ çš„èº«ä»½ç™»é™†é˜¿é‡Œäº‘ï¼Œæˆä¸ºå½“æ—¶ä¸šç•Œå”¯ä¸€ä¸€æ¬¾äº‘ä¸Šåˆ†å¸ƒå¼äº‹åŠ¡äº§å“ã€‚åœ¨é˜¿äº‘é‡Œçš„å…¬æœ‰äº‘ã€ä¸“æœ‰äº‘è§£å†³æ–¹æ¡ˆä¸­ï¼Œå¼€å§‹æœåŠ¡äºä¼—å¤šå¤–éƒ¨å®¢æˆ·ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;2019 å¹´èµ·ï¼ŒåŸºäº TXC å’Œ GTS çš„æŠ€æœ¯ç§¯ç´¯ï¼Œé˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿå‘èµ·äº†å¼€æºé¡¹ç›® Fescarï¼ˆFast &amp;amp; EaSy Commit And Rollback, FESCARï¼‰ï¼Œå’Œç¤¾åŒºä¸€èµ·å»ºè®¾è¿™ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;2019 å¹´ fescar è¢«é‡å‘½åä¸ºäº†seataï¼ˆsimple extensiable autonomous transaction architectureï¼‰ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;TXCã€GTSã€Fescarä»¥åŠseataä¸€è„‰ç›¸æ‰¿ï¼Œä¸ºè§£å†³å¾®æœåŠ¡æ¶æ„ä¸‹çš„åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜äº¤å‡ºäº†ä¸€ä»½ä¸ä¼—ä¸åŒçš„ç­”å·ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h3&gt;&lt;a id=&quot;_34&quot;/&gt;äº‹åŠ¡ç›¸å…³æ¦‚å¿µ&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;äº‹åŠ¡&lt;/strong&gt;ï¼šç”±ä¸€ç»„æ“ä½œæ„æˆçš„å¯é ã€ç‹¬ç«‹çš„å·¥ä½œå•å…ƒï¼Œäº‹åŠ¡å…·å¤‡ ACID çš„ç‰¹æ€§ï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;h4&gt;&lt;a id=&quot;_38&quot;/&gt;åˆ†å¸ƒå¼äº‹åŠ¡çš„ç›¸å…³æ¦‚å¿µ&lt;/h4&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;åˆ†å¸ƒå¼äº‹åŠ¡çš„åŸºæœ¬åŸåˆ™å¯ä»¥ç†è§£æˆ&lt;strong&gt;ä¸€ä¸ªåŒ…å«äº†è‹¥å¹²ä¸ªåˆ†æ”¯äº‹åŠ¡çš„å…¨å±€äº‹åŠ¡&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/b97cae9d3276d7c59e293e42e57ffc4f.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;p&gt;åˆ†å¸ƒå¼äº‹åŠ¡ä¸»è¦æ¶‰åŠä»¥ä¸‹æ¦‚å¿µ&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt;&lt;strong&gt;æœ¬åœ°äº‹åŠ¡&lt;/strong&gt;ï¼šæœ¬åœ°äº‹åŠ¡ç”±æœ¬åœ°èµ„æºç®¡ç†å™¨ï¼ˆé€šå¸¸æŒ‡æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ DBMSï¼Œä¾‹å¦‚ MySQLã€Oracle ç­‰ï¼‰ç®¡ç†ï¼Œä¸¥æ ¼åœ°æ”¯æŒ ACID ç‰¹æ€§ï¼Œé«˜æ•ˆå¯é ã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;å…¨å±€äº‹åŠ¡&lt;/strong&gt;ï¼šå…¨å±€äº‹åŠ¡æŒ‡çš„æ˜¯ä¸€æ¬¡æ€§æ“ä½œå¤šä¸ªèµ„æºç®¡ç†å™¨å®Œæˆçš„äº‹åŠ¡ï¼Œç”±ä¸€ç»„åˆ†æ”¯äº‹åŠ¡ç»„æˆã€‚&lt;/li&gt;&lt;li&gt;&lt;strong&gt;åˆ†æ”¯äº‹åŠ¡&lt;/strong&gt;ï¼šåœ¨åˆ†å¸ƒå¼äº‹åŠ¡ä¸­ï¼Œå°±æ˜¯ä¸€ä¸ªå—å…¨å±€äº‹åŠ¡ç®¡è¾–å’Œåè°ƒçš„æœ¬åœ°äº‹åŠ¡ã€‚&lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/e03085ff4124cb8a1b8e24f3ccbb2b13.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šæœ¬åœ°äº‹åŠ¡ä¸å…·å¤‡åˆ†å¸ƒå¼äº‹åŠ¡çš„å¤„ç†èƒ½åŠ›ï¼Œéš”ç¦»çš„æœ€å°å•ä½å—é™äºèµ„æºç®¡ç†å™¨ï¼Œå³æœ¬åœ°äº‹åŠ¡åªèƒ½å¯¹è‡ªå·±æ•°æ®åº“çš„æ“ä½œè¿›è¡Œæ§åˆ¶ï¼Œå¯¹äºå…¶ä»–æ•°æ®åº“çš„æ“ä½œåˆ™æ— èƒ½ä¸ºåŠ›&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h5&gt;&lt;a id=&quot;_54&quot;/&gt;å…¨å±€äº‹åŠ¡&lt;/h5&gt; 
&lt;p&gt;å…¨å±€äº‹åŠ¡çš„èŒè´£æ˜¯åè°ƒå…¶ç®¡è¾–çš„å„ä¸ªåˆ†æ”¯äº‹åŠ¡è¾¾æˆä¸€è‡´ï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸæäº¤ï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥å›æ»šã€‚æ­¤å¤–ï¼Œé€šå¸¸åˆ†æ”¯äº‹åŠ¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ»¡è¶³ ACIDç‰¹æ€§çš„æœ¬åœ°äº‹åŠ¡ã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;Seata_58&quot;/&gt;Seataçš„è¿ä½œåŸç†&lt;/h3&gt; 
&lt;p&gt;Seataå¯¹åˆ†å¸ƒå¼äº‹åŠ¡çš„åè°ƒå’Œæ§åˆ¶ï¼Œä¸»è¦æ˜¯é€šè¿‡XIDå’Œ3ä¸ªæ ¸å¿ƒç»„ä»¶å®ç°çš„ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;XID_62&quot;/&gt;XID&lt;/h4&gt; 
&lt;p&gt;&lt;strong&gt;XIDæ˜¯å…¨å±€äº‹åŠ¡å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥åœ¨æœåŠ¡çš„è°ƒç”¨é“¾è·¯ä¸­ä¼ é€’ï¼Œç»‘å®šåˆ°æœåŠ¡çš„äº‹åŠ¡ä¸Šä¸‹æ–‡ä¸­&lt;/strong&gt;ã€‚&lt;/p&gt; 
&lt;h4&gt;&lt;a id=&quot;_66&quot;/&gt;æ ¸å¿ƒç»„ä»¶&lt;/h4&gt; 
&lt;p&gt;Seataå®šä¹‰äº†3ä¸ªæ ¸å¿ƒç»„ä»¶&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;TCï¼ˆTransaction Coordinatorï¼‰&lt;/strong&gt;ï¼šäº‹åŠ¡åè°ƒå™¨ï¼Œå®ƒæ˜¯äº‹åŠ¡çš„åè°ƒè€…ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯ SeataæœåŠ¡å™¨ï¼‰ï¼Œä¸»è¦è´Ÿè´£ç»´æŠ¤å…¨å±€äº‹åŠ¡å’Œåˆ†æ”¯äº‹åŠ¡çš„çŠ¶æ€ï¼Œ&lt;strong&gt;é©±åŠ¨å…¨å±€äº‹åŠ¡æäº¤æˆ–å›æ»š&lt;/strong&gt;ã€‚&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;TMï¼ˆTransaction Managerï¼‰&lt;/strong&gt;ï¼šäº‹åŠ¡ç®¡ç†å™¨ï¼Œå®ƒæ˜¯äº‹åŠ¡çš„å‘èµ·è€…ï¼Œè´Ÿè´£å®šä¹‰å…¨å±€äº‹åŠ¡çš„èŒƒå›´ï¼Œå¹¶æ ¹æ®TC&lt;strong&gt;ç»´æŠ¤çš„å…¨å±€äº‹åŠ¡å’Œåˆ†æ”¯äº‹åŠ¡çŠ¶æ€&lt;/strong&gt;ï¼Œåšå‡º&lt;strong&gt;å¼€å§‹äº‹åŠ¡ã€æäº¤äº‹åŠ¡ã€å›æ»šäº‹åŠ¡çš„å†³è®®&lt;/strong&gt;ã€‚&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/c544335082b933942db46c86ba3ca7c3.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;RMï¼ˆResource Managerï¼‰&lt;/strong&gt;ï¼šèµ„æºç®¡ç†å™¨ï¼Œå®ƒæ˜¯èµ„æºçš„ç®¡ç†è€…ï¼ˆè¿™é‡Œå¯ä»¥å°†å…¶ç†è§£ä¸ºå„æœåŠ¡ä½¿ç”¨çš„æ•°æ®åº“ï¼‰ã€‚å®ƒè´Ÿè´£ç®¡ç†åˆ†æ”¯äº‹åŠ¡ä¸Šçš„èµ„æºï¼Œå‘TCæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œæ±‡æŠ¥åˆ†æ”¯äº‹åŠ¡çŠ¶æ€ï¼Œé©±åŠ¨åˆ†æ”¯äº‹åŠ¡çš„æäº¤æˆ–å›æ»šã€‚&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/a0685cf0e082c8550bae9fa4a7327fc8.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;ä»¥ä¸Šä¸‰ä¸ªç»„ä»¶ç›¸äº’åä½œï¼ŒTC ä»¥ Seata æœåŠ¡å™¨ï¼ˆServerï¼‰å½¢å¼ç‹¬ç«‹éƒ¨ç½²ï¼ŒTM å’Œ RM åˆ™æ˜¯ä»¥ Seata Clientçš„å½¢å¼é›†æˆåœ¨å¾®æœåŠ¡ä¸­è¿è¡Œã€‚&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;Seata_81&quot;/&gt;Seataçš„è¿è¡Œæµç¨‹&lt;/h3&gt; 
&lt;p&gt;Seata çš„æ•´ä½“å·¥ä½œæµç¨‹å¦‚ä¸‹&lt;/p&gt; 
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdnimg.cn/img_convert/b99dc8c12e3266876a15963f524466ba.png&quot; alt=&quot;&quot;/&gt;&lt;/p&gt; 
&lt;ol&gt;&lt;li&gt;TMå‘TCç”³è¯·å¼€å¯ä¸€ä¸ªå…¨å±€äº‹åŠ¡ï¼Œå…¨å±€äº‹åŠ¡åˆ›å»ºæˆåŠŸåï¼ŒTCä¼šé’ˆå¯¹è¿™ä¸ªå…¨å±€äº‹åŠ¡ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„XIDï¼›&lt;/li&gt;&lt;li&gt;XID é€šè¿‡æœåŠ¡çš„è°ƒç”¨é“¾ä¼ é€’åˆ°å…¶ä»–æœåŠ¡;&lt;/li&gt;&lt;li&gt;RMå‘TCæ³¨å†Œä¸€ä¸ªåˆ†æ”¯äº‹åŠ¡ï¼Œå¹¶å°†å…¶çº³å…¥XIDå¯¹åº”å…¨å±€äº‹åŠ¡çš„ç®¡è¾–ï¼›&lt;/li&gt;&lt;li&gt;TMæ ¹æ®TCæ”¶é›†çš„å„ä¸ªåˆ†æ”¯äº‹åŠ¡çš„æ‰§è¡Œç»“æœï¼Œå‘TCå‘èµ·å…¨å±€äº‹åŠ¡æäº¤æˆ–å›æ»šå†³è®®ï¼›&lt;/li&gt;&lt;li&gt;TCè°ƒåº¦XIDä¸‹ç®¡è¾–çš„æ‰€æœ‰åˆ†æ”¯äº‹åŠ¡å®Œæˆæäº¤æˆ–å›æ»šæ“ä½œã€‚&lt;/li&gt;&lt;/ol&gt; 
&lt;h3&gt;&lt;a id=&quot;Seata_93&quot;/&gt;Seataçš„äº‹åŠ¡æ¨¡å¼&lt;/h3&gt; 
&lt;p&gt;ç›®å‰Seataä¸ºç”¨æˆ·æä¾›äº† ATã€TCCã€SAGA å’Œ XA äº‹åŠ¡æ¨¡å¼ï¼Œä¸ºç”¨æˆ·æ‰“é€ ä¸€ç«™å¼çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å¿«é€Ÿæœ‰æ•ˆåœ°å¯¹åˆ†å¸ƒå¼äº‹åŠ¡è¿›è¡Œæ§åˆ¶ã€‚&lt;/p&gt; 
&lt;p&gt;åœ¨è¿™å››ç§äº‹åŠ¡æ¨¡å¼ä¸­ä½¿ç”¨æœ€å¤šï¼Œæœ€æ–¹ä¾¿çš„å°±æ˜¯ AT æ¨¡å¼ã€‚ä¸å…¶ä»–äº‹åŠ¡æ¨¡å¼ç›¸æ¯”ï¼ŒAT æ¨¡å¼å¯ä»¥åº”å¯¹å¤§å¤šæ•°çš„ä¸šåŠ¡åœºæ™¯ï¼Œä¸”åŸºæœ¬å¯ä»¥åšåˆ°æ— ä¸šåŠ¡å…¥ä¾µï¼Œå¼€å‘äººå‘˜èƒ½å¤Ÿæœ‰æ›´å¤šçš„ç²¾åŠ›å…³æ³¨äºä¸šåŠ¡é€»è¾‘å¼€å‘ã€‚&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;Seata_99&quot;/&gt;Seataæœ€åç»“è®º&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;æ¥ä¸‹æ¥ä¼šé’ˆå¯¹äºSeataçš„æ¯ç§äº‹åŠ¡æ¨¡å¼è¿›è¡Œå®æˆ˜æŒ‡å—ã€‚&lt;/p&gt; 
&lt;/blockquote&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>