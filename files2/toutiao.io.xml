<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>3d118c2e31438a47014e34138dfd3c44</guid>
<title>ç²¾é€šé‚£ä¹ˆå¤šæŠ€æœ¯ï¼Œä½ ä¸ºä½•è¿˜æ˜¯å—ä¸åˆ°é‡ç”¨ï¼Ÿ| ç å†œå‘¨åˆŠç¬¬ 324 æœŸ</title>
<link>https://toutiao.io/k/3ininot</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;body class=&quot;issue&quot; id=&quot;readabilityBody&quot;&gt;
        &lt;h1&gt;ç²¾é€šé‚£ä¹ˆå¤šæŠ€æœ¯ï¼Œä½ ä¸ºä½•è¿˜æ˜¯å—ä¸åˆ°é‡ç”¨ï¼Ÿ| ç å†œå‘¨åˆŠç¬¬ 324 æœŸ&lt;/h1&gt;
        &lt;h2&gt;ç å†œå‘¨åˆŠç¬¬324æœŸï¼ˆ2020-11-11ï¼‰&lt;/h2&gt;
        &lt;p&gt;â˜Â &lt;a href=&quot;https://weekly.manong.io/bounce?nid=324&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3240&quot; target=&quot;_blank&quot;&gt;åŒåä¸€ï¼Œä¹°å®ƒä¹°å®ƒä¹°å®ƒï¼&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;a href=&quot;https://weekly.manong.io/bounce?nid=324&amp;amp;aid=19568&amp;amp;url=https%3A%2F%2Fvip.manong.io%2F%3F3240&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_324.png&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;br/&gt;&amp;#13;
&lt;small&gt;&lt;a href=&quot;https://weekly.manong.io/bounce?nid=324&amp;amp;aid=19185&amp;amp;url=https%3A%2F%2Fjinshuju.net%2Ff%2FV7DxN9&quot; target=&quot;_blank&quot;&gt;å•†åŠ¡åˆä½œ&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
        
        &lt;h3 id=&quot;ç¨‹åºè®¾è®¡&quot;&gt;ç¨‹åºè®¾è®¡&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;
        
        &lt;p&gt;åŸºäº Kubernetes çš„äº‘åŸç”Ÿæ‰¹é‡è®¡ç®—å¹³å°&lt;/p&gt;
        
        &lt;p&gt;è¯¦ç»†ä»‹ç»&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;VIPä¼šå‘˜ä¸“åŒº&quot;&gt;VIPä¼šå‘˜ä¸“åŒº&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;å·¥ä½œåœ°ç‚¹ï¼šæˆéƒ½ | è–ªèµ„ï¼š15-30K | ç®€å†æŠ•é€’é‚®ç®±ï¼šxiexiaofang@huobi.com&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;å¯¹ä»¥ Transformer ä¸ºåŸºç¡€çš„åºåˆ—ç‰¹å¾æå–å™¨ (Encoder) å’Œè‡ªå›å½’çš„åºåˆ—è§£ç å™¨ (Decoder) åšäº†æ·±åº¦ä¼˜åŒ–&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;æŠ€æœ¯é›·è¾¾æ˜¯ ThoughtWorks æ¯åŠå¹´å‘å¸ƒä¸€æ¬¡çš„æŠ€æœ¯è¶‹åŠ¿æŠ¥å‘Š&amp;#13;
&lt;/p&gt;
        
        &lt;p&gt;è¿™æ˜¯å¾·å‹¤ç¬¬ 11 å¹´å‘å¸ƒæŠ€æœ¯è¶‹åŠ¿å¹´åº¦æŠ¥å‘Š&lt;/p&gt;
        &lt;h3 id=&quot;å·¥å…·èµ„æ–™&quot;&gt;å·¥å…·èµ„æ–™&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ä¸ªäººç»å†&lt;/p&gt;
        
        &lt;p&gt;ä½ çŸ¥é“å—ï¼Ÿ&lt;/p&gt;
        
        &lt;p&gt;è¯•è¯•å§&lt;/p&gt;
        
        &lt;p&gt;ç®€æ˜ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒæ€»ç»“&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;
        
        &lt;p&gt;è¯¦ç»†ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;æ¬¢è¿æ¢è®¨&lt;/p&gt;
        
        &lt;p&gt;ç»éªŒåˆ†äº«&lt;/p&gt;
        
        &lt;p&gt;å›¾æ–‡å¹¶èŒ‚&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;æ¬¢è¿æ¢è®¨&lt;/p&gt;
        
        &lt;p&gt;ç³»åˆ—æ–‡ç« &lt;/p&gt;
        
        &lt;p&gt;é€‚åˆå…¥é—¨&lt;/p&gt;
        
        &lt;p&gt;ç»“åˆä»£ç &lt;/p&gt;
        
        &lt;p&gt;æ·±å…¥æ¢è®¨&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;h3 id=&quot;ç¼–ç¨‹è¯­è¨€&quot;&gt;ç¼–ç¨‹è¯­è¨€&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ç®€æ˜ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;è¯¦è§£&lt;/p&gt;
        
        &lt;p&gt;åŸºäº Swift æ¨å‡ºçš„å‡½æ•°å“åº”æ¡†æ¶&lt;/p&gt;
        
        &lt;p&gt;ä½¿ç”¨ JavaScript æ¥è‡ªåŠ¨åŒ– iOS&lt;/p&gt;
        
        &lt;p&gt;ç³»åˆ—æ–‡ç« &lt;/p&gt;
        
        &lt;p&gt;å®è·µæ€»ç»“&lt;/p&gt;
        
        &lt;p&gt;ä¾›å‚è€ƒ&lt;/p&gt;
        
        &lt;p&gt;ç»†è‡´è®²è§£&lt;/p&gt;
        
        &lt;p&gt;ä»£ç ç¤ºä¾‹&lt;/p&gt;
        
        &lt;p&gt;è¯¦ç»†ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;ç®€æ˜ä»‹ç»&lt;/p&gt;
        
        &lt;p&gt;è¯¦è§£&lt;/p&gt;
        
        &lt;p&gt;è¯•è¯•å§&lt;/p&gt;
        &lt;h3 id=&quot;æ¯å‘¨ç‹¬å®¶å·æ¨è&quot;&gt;æ¯å‘¨ç‹¬å®¶å·æ¨è&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;7å¹´å·¥ä½œç»éªŒï¼ŒæŠ€æœ¯æ€»ç›‘&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 451915 å³å¯&lt;/p&gt;
        
        &lt;p&gt;åšæŒåŸåˆ›ï¼ŒæŒç»­åˆ†äº«æŠ€æœ¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šåˆ†å¸ƒå¼ã€å¾®æœåŠ¡æ¶æ„ï¼Œspring cloudã€Dubboå¾®æœåŠ¡æ¡†æ¶ï¼ŒJavaæ ¸å¿ƒæŠ€æœ¯ï¼ŒRedisç¼“å­˜ã€Kafkaæ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ç­‰ã€‚&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 450130 å³å¯&lt;/p&gt;
        
        &lt;p&gt;ä¸€ä¸ªå·¥ä½œ10å¹´çš„ç¨‹åºçŒ¿ï¼Œåˆ†äº«æŠ€æœ¯å¹²è´§åŠå†…å¿ƒçš„å£°éŸ³ã€‚&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 413084 å³å¯&lt;/p&gt;
        
        &lt;p&gt;è¯¦è§£æ•°æ®ç»“æ„ä¸ç®—æ³•&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 142771 å³å¯&lt;/p&gt;
        
        &lt;p&gt;Webå‰ç«¯ã€æœåŠ¡ç«¯ã€å°ç¨‹åºã€Appã€å­¦ä¹ èµ„æ–™ã€å·¥å…·ã€èµ„è®¯&lt;br/&gt;è®¢é˜…æ–¹æ³•ï¼šä½¿ç”¨&lt;a href=&quot;http://toutiao.io/download?ref=v4.1.0&quot; target=&quot;_blank&quot;&gt;å¼€å‘è€…å¤´æ¡å®¢æˆ·ç«¯&lt;/a&gt;ï¼Œå‘ç° &amp;gt; æœç´¢ 125297 å³å¯&lt;/p&gt;
        &lt;h3 id=&quot;æ¯å‘¨ä¸€ä¹¦&quot;&gt;æ¯å‘¨ä¸€ä¹¦&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;&lt;a href=&quot;https://weekly.manong.io/bounce?nid=324&amp;amp;aid=20115&amp;amp;url=http%3A%2F%2Fproduct.dangdang.com%2F29132383.html&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://img.toutiao.io/ads/book_324.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/a&gt;&lt;/p&gt;
        &lt;h3 id=&quot;ç¼–ç¨‹ä¹‹å¤–&quot;&gt;ç¼–ç¨‹ä¹‹å¤–&lt;/h3&gt;
        &lt;p/&gt;
        
        &lt;p&gt;ä¸€ä¸ªæŠ€æœ¯æ€»ç›‘çš„å¿ å‘Š&lt;/p&gt;
        
        &lt;p&gt;å†™ä½œä¸æ˜“&lt;/p&gt;
        
        &lt;p&gt;åŒç†å¿ƒ&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://img.toutiao.io/ads/vip_3041.jpeg&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;
        &lt;p&gt;
        &lt;/p&gt;
        
        
        
        
        &lt;div class=&quot;qrcode&quot;&gt;
  &lt;img src=&quot;https://img.toutiao.io/ads/vip_qrcode.png&quot; alt=&quot;Qrcode 258&quot;/&gt;&lt;span&gt;åŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;/span&gt;
&lt;/div&gt;
    &lt;/body&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9ccbda2bb77b243e4b4043aead0664ad</guid>
<title>åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆï¼šSAGA æ¨¡å¼</title>
<link>https://toutiao.io/k/5oci732</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¬¢è¿é˜…è¯» ğŸ‘&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æ–‡ç›®çš„æ˜¯è®²æ¸…æ¥š SAGA è¿™ç§åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆçš„å®ç°æ€è·¯ï¼Œä¸åŒ…æ‹¬å…·ä½“å®ç°ä»£ç ï¼Œå…·ä½“å®ç°æ¨èä½¿ç”¨é˜¿é‡Œçš„ &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4Nzc4MjI4MQ==&amp;amp;mid=2652403185&amp;amp;idx=1&amp;amp;sn=fdc73d943e780942a6a8982e2f1a2edf&amp;amp;chksm=8bd8f317bcaf7a0162f029c41c7bdb0a6672ea61cf5d8680200a796a23cee30350c112eb8356&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Seata&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Seata&lt;/a&gt; æ¡†æ¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†…å®¹åŒ…æ‹¬ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜æè¿°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;SAGA - Choreography ç­–ç•¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;SAGA - Orchestration ç­–ç•¥&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¡¥å……ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆè¿˜åŒ…æ‹¬ &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4Nzc4MjI4MQ==&amp;amp;mid=2652403141&amp;amp;idx=1&amp;amp;sn=1a0bfe708055a9d385557615638809ea&amp;amp;chksm=8bd8f323bcaf7a356f922f947d7b2e1564fa004cc0d42bce45858501e370ba0ef02cf6144b1b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;TCC&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;TCC&lt;/a&gt;ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA4Nzc4MjI4MQ==&amp;amp;mid=2652403126&amp;amp;idx=1&amp;amp;sn=92074b9b3531f65c2d1fb39d74ef6f71&amp;amp;chksm=8bd8f350bcaf7a46326b52d01cdb6859de760a997c30370d930fde83d1f5d1ac13828efcb43c&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å¯é æ¶ˆæ¯æ¨¡å¼&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å¯é æ¶ˆæ¯æ¨¡å¼&lt;/a&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1. åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜æè¿°&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3837902264600715&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92X6fls7nkLXEg8ptfRRU11JSHTe0WdZ2BYdonFgibnvnq18ohDkqf8z7NpU36KL9ZBymmPKYvDw7g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1678&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚è¯´ç”µå•†ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·ä¸‹å•äº†ï¼Œåç«¯éœ€è¦è°ƒç”¨ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡ï¼Œåˆ›å»ºè®¢å•&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åº“å­˜æœåŠ¡ï¼Œæ”¹å•†å“çš„åº“å­˜&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç‰©æµæœåŠ¡ï¼Œåˆ›å»ºç‰©æµå•ï¼Œå‡†å¤‡å‘è´§&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åˆ†å¸ƒå¼çš„å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œæ¯ä¸ªæœåŠ¡éƒ½ä¼šæœ‰è‡ªå·±ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªä¸‹å•çš„åŠ¨ä½œå°±æ¶‰åŠåˆ°äº†å‘å¤šä¸ªæ•°æ®åº“ä¸­å†™å…¥æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºä¸æ˜¯åœ¨åŒä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œæ‰€ä»¥å°±ä¸èƒ½ä¾èµ–æ•°æ®åº“çš„äº‹åŠ¡æœºåˆ¶äº†ï¼Œä½†æ˜¯åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œè¿™å‡ ä¸ªå†™åº“æ“ä½œå°±åº”è¯¥æ˜¯ä¸€ä¸ªäº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚è®¢å•æœåŠ¡ã€åº“å­˜æœåŠ¡ä¸­éƒ½å†™å…¥æˆåŠŸäº†ï¼Œä½†ç‰©æµç³»ç»Ÿå‡ºç°å¼‚å¸¸äº†ï¼Œé‚£ä¹ˆè®¢å•æœåŠ¡ã€åº“å­˜æœåŠ¡å°±åº”è¯¥è¿›è¡Œå›æ»šï¼Œæ¥ä¿è¯æ•´ä½“æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä½•åœ¨è·¨æ•°æ®åº“çš„æƒ…å†µä¸‹å®ç°äº‹åŠ¡å‘¢ï¼Ÿè¿™å°±æ˜¯åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SAGA å°±æ˜¯ä¸€ç§è€ç‰Œçš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼Œå·²ç»æœ‰20æ¥å¹´äº†ï¼Œå…¶å®ç°æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢ä»‹ç»ä¸€ä¸‹å„è‡ªçš„å®ç°æ€è·¯ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2. SAGA - Choreography ç­–ç•¥&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.71796875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92X6fls7nkLXEg8ptfRRU11sjVgW4CGkgNncBXYiaF8cuas8IAiaPiadV3tcQ4BUkZC1UKBMOqYKpGGQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Choreography æ˜¯ç¼–èˆçš„æ„æ€ï¼Œå°±æ˜¯æŠŠèˆè€…ä¹‹é—´çš„åŠ¨ä½œé…åˆéƒ½ç¼–æ’å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹åº”åˆ°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå°±å¯ä»¥æŠŠå„ä¸ªæœåŠ¡ç†è§£ä¸ºèˆè€…ï¼ŒSAGA çš„ Choreography ç­–ç•¥å°±æ˜¯è¦å®šä¹‰å¥½å…ˆæ‰§è¡Œå“ªä¸ªæœåŠ¡ï¼Œæ ¹æ®æ‰§è¡Œç»“æœå†è§¦å‘å“ªäº›æœåŠ¡çš„æ‰§è¡Œã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.38896746817538896&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92X6fls7nkLXEg8ptfRRU11uGACas2sNhTC2Y4LGLEbzBM4eKrP1cVdWKicMnSuGsA3qK6pdCg8Ohg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1414&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šå›¾ï¼Œæ•´ä½“åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†æµç¨‹ä¸ºï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡å†™è‡ªå·±çš„ä¸šåŠ¡æ•°æ®ï¼Œå¹¶åœ¨æ•°æ®åº“ä¸­&lt;strong&gt;è®°å½•&lt;/strong&gt;ä¸€ä¸‹è®¢å•çš„æ•´ä½“&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;ï¼Œæ¯”å¦‚è®°ä¸º &quot;å·²ä¸‹å•&quot;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡å‘å¸ƒã€è®¢å•åˆ›å»ºæˆåŠŸã€‘äº‹ä»¶ï¼Œåº“å­˜æœåŠ¡ä¼šç›‘å¬æ­¤äº‹ä»¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åº“å­˜æœåŠ¡æ”¶åˆ°äº‹ä»¶é€šçŸ¥åï¼Œå†™è‡ªå·±çš„ä¸šåŠ¡æ•°æ®ï¼Œç„¶åå‘å¸ƒã€åº“å­˜ä¿®æ”¹æˆåŠŸã€‘äº‹ä»¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡ä¼šç›‘å¬æ­¤äº‹ä»¶ï¼Œæ”¶åˆ°äº‹ä»¶é€šçŸ¥åï¼Œä¿®æ”¹è®¢å•çŠ¶æ€ï¼Œæ¯”å¦‚ &quot;å¾…å‘è´§&quot;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç‰©æµæœåŠ¡ä¹Ÿä¼šç›‘å¬æ­¤äº‹ä»¶ï¼Œæ”¶åˆ°äº‹ä»¶é€šçŸ¥åï¼Œå†™è‡ªå·±çš„ä¸šåŠ¡æ•°æ®ï¼Œç„¶åå‘å¸ƒã€ç‰©æµå¤„ç†æˆåŠŸã€‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡ä¼šç›‘å¬æ­¤äº‹ä»¶ï¼Œæ”¶åˆ°é€šçŸ¥åï¼Œä¿®æ”¹è®¢å•çŠ¶æ€ï¼Œæ”¹ä¸º &quot;å·²å‘è´§&quot;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ï¼Œé€šè¿‡äº‹ä»¶æœºåˆ¶ï¼Œå„ä¸ªæœåŠ¡ä¹‹é—´å®ŒæˆååŒé…åˆï¼Œå®ç°äº†åˆ†å¸ƒå¼äº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢çœ‹å¼‚å¸¸æƒ…å†µçš„å¤„ç†ï¼Œæ¯”å¦‚ç‰©æµæœåŠ¡å¼‚å¸¸äº†ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.38375350140056025&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92X6fls7nkLXEg8ptfRRU11voMO5u2ukJa8ichGq9BftbLdOFbnuiaYePoickVmjeGTmicOk3uhhWDt0g/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1428&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‡ç‚¹çœ‹å¼‚å¸¸å¤„ç†æµç¨‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ç‰©æµæœåŠ¡ä¼šå‘å¸ƒäº‹ä»¶ã€ç‰©æµå¤„ç†å¼‚å¸¸ã€‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡ã€åº“å­˜æœåŠ¡éƒ½ç›‘å¬æ­¤äº‹ä»¶ï¼Œæ‰€ä»¥ä¼šæ”¶åˆ°ç‰©æµå¼‚å¸¸çš„é€šçŸ¥ã€‚å›¾ä¸­ï¼ˆ8ï¼‰ã€ï¼ˆ9ï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡æ‰§è¡Œè‡ªå·±çš„å›æ»šé€»è¾‘ã€‚å›¾ä¸­ï¼ˆ10ï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åº“å­˜æœåŠ¡æ‰§è¡Œè‡ªå·±çš„å›æ»šé€»è¾‘ã€‚å›¾ä¸­ï¼ˆ11ï¼‰ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·å°±å®ç°äº†åˆ†å¸ƒå¼äº‹åŠ¡çš„å¼‚å¸¸å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;SAGA Choreography ç­–ç•¥æ˜¯é€šè¿‡ã€äº‹ä»¶æœºåˆ¶ã€‘å®ç°çš„ï¼Œå„ä¸ªæœåŠ¡éƒ½å®šä¹‰å¥½æ­£å¸¸ã€å¼‚å¸¸çš„å¤„ç†æ–¹æ³•ï¼Œç„¶åç›‘å¬ç›®æ ‡äº‹ä»¶ï¼Œæ ¹æ®ä¸åŒçš„äº‹ä»¶æ¥è°ƒç”¨ä¸åŒçš„å¤„ç†æ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤ç­–ç•¥å¥½å¤„æ˜¯å®ç°ç®€å•ï¼Œåå¤„æ˜¯æ•´ä½“äº‹ä»¶é€»è¾‘ä¼šæ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚æœ‰10ä¸ªæœåŠ¡å‚ä¸å…¶ä¸­ï¼Œé‚£ä¹ˆæ•´ä½“äº‹ä»¶è®¢é˜…å…³ç³»å°±ä¼šå¾ˆå‡Œä¹±ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3. SAGA - Orchestration&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6664285714285715&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/wv3K6j4ibl92X6fls7nkLXEg8ptfRRU11ZV3egumMMnxye1bUzoJFNHVIyu1XlE3d2Yy0Qe6U05MHeCp6QibCkKA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1400&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Orchestration æ˜¯ä¹é˜Ÿç¼–æ’çš„æ„æ€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹åº”åˆ°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå„ä¸ªæœåŠ¡å°±æ˜¯ä¹é˜Ÿä¸­çš„å„ä¸ªæ¼”å¥è€…ï¼Œè¿˜éœ€è¦ä¸€ä¸ªã€æ€»æŒ‡æŒ¥ã€‘ï¼Œæ‰€ä»¥åœ¨ SAGA - Orchestration ç­–ç•¥ä¸­ä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªæ­¤è§’è‰²ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;![image-20201111184654838](/Users/a/Library/Application Support/typora-user-images/image-20201111184654838.png)&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸Šå›¾ï¼Œæ­£å¸¸å¤„ç†æµç¨‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡å†™è‡ªå·±çš„ä¸šåŠ¡æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡å‘æ€»æŒ‡æŒ¥æŠ¥å‘Šè‡ªå·±å®Œæˆäº†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ€»æŒ‡æŒ¥å‘åº“å­˜æœåŠ¡å‘é€æ‰§è¡ŒæŒ‡ä»¤&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åº“å­˜æœåŠ¡å†™æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åº“å­˜æœåŠ¡æŠ¥å‘Šè‡ªå·±å®Œæˆäº†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ€»æŒ‡æŒ¥å‘è®¢å•æœåŠ¡å‘é€æŒ‡ä»¤&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è®¢å•æœåŠ¡æ›´æ–°è®¢å•çŠ¶æ€&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ€»æŒ‡æŒ¥å‘ç‰©æµæœåŠ¡å‘é€æŒ‡ä»¤&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;......&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åé¢çš„å°±ä¸ç»†è¯´ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ€è·¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼‚å¸¸å¤„ç†çš„æ€è·¯ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿˜æ˜¯å‡è®¾ç‰©æµæœåŠ¡å¼‚å¸¸äº†ï¼Œé‚£ä¹ˆå®ƒä¼šå‘æ€»æŒ‡æŒ¥æŠ¥å‘Šï¼Œæ€»æŒ‡æŒ¥å°±ä¼šå‘è®¢å•æœåŠ¡ã€åº“å­˜æœåŠ¡å‘é€å›æ»šçš„æŒ‡ä»¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ Orchestration ç­–ç•¥çš„é‡ç‚¹åœ¨äºæ€»æŒ‡æŒ¥ï¼Œéœ€è¦ä¸ºå…¶å®šä¹‰æŒ‡æŒ¥æ‰‹å†Œï¼Œä»¥ä¾¿æ€»æŒ‡æŒ¥åœ¨ä¸åŒçš„æ—¶åˆ»å‘ç›¸åº”çš„æœåŠ¡å‘é€å¯¹åº”çš„æŒ‡ä»¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ€»æŒ‡æŒ¥å®é™…ä¸Šæ˜¯é€šè¿‡ã€çŠ¶æ€æœºã€‘æ¥å®ç°çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤ç­–ç•¥å¥½å¤„æ˜¯æœåŠ¡ä¹‹é—´æ²¡æœ‰å…³è”äº†ï¼Œæ•´ä½“ç»“æ„æ¸…æ™°ã€‚åå¤„æ˜¯éƒ½äº†ä¸€ä¸ªæ€»æŒ‡æŒ¥çš„è§’è‰²ï¼Œå¢åŠ äº†å¤æ‚åº¦ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;4. å°ç»“&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Choreography ç­–ç•¥æ˜¯é€šè¿‡äº‹ä»¶æœºåˆ¶å®ç°çš„ï¼Œæ¯ä¸ªæœåŠ¡éƒ½ç›‘å¬è‡ªå·±æ‰€å…³å¿ƒçš„äº‹ä»¶ï¼Œæ¯ä¸ªæœåŠ¡æ‰§è¡Œåä¼šå‘é€ç›¸åº”çš„äº‹ä»¶ï¼Œç›‘å¬æ­¤äº‹ä»¶çš„æœåŠ¡æ‰§è¡Œç›¸åº”çš„å¤„ç†é€»è¾‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Orchestration æ˜¯é€šè¿‡çŠ¶æ€æœºæ¥å®ç°çš„æ•´ä½“æ§åˆ¶ï¼Œå®šä¹‰è¿˜æ•´ä½“çš„å¤„ç†æµç¨‹ï¼Œä¸åŒçŠ¶æ€ä¸‹éœ€è¦è§¦å‘çš„åŠ¨ä½œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰ Orchestration æ˜¯ä¸»æµçš„ç­–ç•¥ï¼Œé˜¿é‡Œçš„ Seata åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶ä¸­å®ç°äº†æ­¤ç­–ç•¥ï¼Œæœ‰å…´è¶£å¯ä»¥å»äº†è§£ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;em&gt;&lt;strong&gt;Happy Learning ãƒ¾(ï¿£â–½ï¿£)Bye~Bye~&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>eb906a13ef6140018cdc4ebd5769dad4</guid>
<title>Java ä¸­ 9 ç§å¸¸è§çš„ CMS GC é—®é¢˜åˆ†æä¸è§£å†³</title>
<link>https://toutiao.io/k/mlyha8z</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;äº†è§£å¤§æ¦‚ä»€ä¹ˆåŸå› åï¼Œå¦‚ä½•å®šä½å’Œè§£å†³å°±å¾ˆç®€å•äº†ï¼Œå¯ä»¥ dump å¿«ç…§ä¹‹åé€šè¿‡ JProfiler æˆ– MAT è§‚å¯Ÿ Classes çš„ Histogramï¼ˆ&lt;/span&gt;&lt;span&gt;ç›´æ–¹å›¾&lt;/span&gt;&lt;span&gt;ï¼‰ å³å¯ï¼Œæˆ–è€…ç›´æ¥é€šè¿‡å‘½ä»¤å³å¯å®šä½ï¼Œ jcmd æ‰“å‡ æ¬¡ Histogram çš„å›¾ï¼Œçœ‹ä¸€ä¸‹å…·ä½“æ˜¯å“ªä¸ªåŒ…ä¸‹çš„ Class å¢åŠ è¾ƒå¤šå°±å¯ä»¥å®šä½äº†ã€‚ä¸è¿‡æœ‰æ—¶å€™ä¹Ÿè¦ç»“åˆInstBytesã€KlassBytesã€Bytecodesã€MethodAll ç­‰å‡ é¡¹æŒ‡æ ‡ç»¼åˆæ¥çœ‹ä¸‹ã€‚å¦‚ä¸‹å›¾ä¾¿æ˜¯ç¬”è€…ä½¿ç”¨ jcmd æ’æŸ¥åˆ°ä¸€ä¸ª Orika çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;jcmdÂ &amp;lt;PID&amp;gt;Â GC.class_stats|awkÂ &#x27;{print$13}&#x27;|sedÂ Â &#x27;s/\(.*\)\.\(.*\)/\1/g&#x27;|sortÂ |uniqÂ -c|sortÂ -nrk1&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.17981072555205047&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFayJzpZjA0ibzYr9NCJMgrsx3e5tLicASAjLLflmImMgTfcmtfOicAsnAQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1268&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæ— æ³•ä»æ•´ä½“çš„è§’åº¦å®šä½ï¼Œå¯ä»¥æ·»åŠ  &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+TraceClassLoading&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å’Œ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+TraceClassUnLoading&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‚æ•°è§‚å¯Ÿè¯¦ç»†çš„ç±»åŠ è½½å’Œå¸è½½ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.3.4 å°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŸç†ç†è§£æ¯”è¾ƒå¤æ‚ï¼Œä½†å®šä½å’Œè§£å†³é—®é¢˜ä¼šæ¯”è¾ƒç®€å•ï¼Œç»å¸¸ä¼šå‡ºé—®é¢˜çš„å‡ ä¸ªç‚¹æœ‰ Orika çš„ classMapã€JSON çš„ ASMSerializerã€Groovy åŠ¨æ€åŠ è½½ç±»ç­‰ï¼ŒåŸºæœ¬éƒ½é›†ä¸­åœ¨åå°„ã€Javasisit å­—èŠ‚ç å¢å¼ºã€CGLIB åŠ¨æ€ä»£ç†ã€OSGi è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç­‰çš„æŠ€æœ¯ç‚¹ä¸Šã€‚å¦å¤–å°±æ˜¯åŠæ—¶ç»™ MetaSpace åŒºçš„ä½¿ç”¨ç‡åŠ ä¸€ä¸ªç›‘æ§ï¼Œå¦‚æœæŒ‡æ ‡æœ‰æ³¢åŠ¨æå‰å‘ç°å¹¶è§£å†³é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4.4 åœºæ™¯å››ï¼šè¿‡æ—©æ™‹å‡ *Â &lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.4.1 ç°è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç§åœºæ™¯ä¸»è¦å‘ç”Ÿåœ¨åˆ†ä»£çš„æ”¶é›†å™¨ä¸Šé¢ï¼Œä¸“ä¸šçš„æœ¯è¯­ç§°ä¸ºâ€œPremature Promotionâ€ã€‚90% çš„å¯¹è±¡æœç”Ÿå¤•æ­»ï¼Œåªæœ‰åœ¨ Young åŒºç»å†è¿‡å‡ æ¬¡ GC çš„æ´—ç¤¼åæ‰ä¼šæ™‹å‡åˆ° Old åŒºï¼Œæ¯ç»å†ä¸€æ¬¡ GC å¯¹è±¡çš„ GC Age å°±ä¼šå¢é•¿ 1ï¼Œæœ€å¤§é€šè¿‡ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:MaxTenuringThreshold&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¥æ§åˆ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿‡æ—©æ™‹å‡ä¸€èˆ¬ä¸ä¼šç›´æ¥å½±å“ GCï¼Œæ€»ä¼šä¼´éšç€æµ®åŠ¨åƒåœ¾ã€å¤§å¯¹è±¡æ‹…ä¿å¤±è´¥ç­‰é—®é¢˜ï¼Œä½†è¿™äº›é—®é¢˜ä¸æ˜¯ç«‹åˆ»å‘ç”Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä»¥ä¸‹å‡ ç§ç°è±¡æ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†è¿‡æ—©æ™‹å‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åˆ†é…é€Ÿç‡æ¥è¿‘äºæ™‹å‡é€Ÿç‡&lt;/strong&gt;ï¼Œå¯¹è±¡æ™‹å‡å¹´é¾„è¾ƒå°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;GC æ—¥å¿—ä¸­å‡ºç°â€œDesired survivor size 107347968 bytes, &lt;strong&gt;new threshold 1(max 6)&lt;/strong&gt;â€ç­‰ä¿¡æ¯ï¼Œè¯´æ˜æ­¤æ—¶ç»å†è¿‡ä¸€æ¬¡ GC å°±ä¼šæ”¾åˆ° Old åŒºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Full GC æ¯”è¾ƒé¢‘ç¹&lt;/strong&gt;ï¼Œä¸”ç»å†è¿‡ä¸€æ¬¡ GC ä¹‹å Old åŒºçš„&lt;strong&gt;å˜åŒ–æ¯”ä¾‹éå¸¸å¤§&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¯”å¦‚è¯´ Old åŒºè§¦å‘çš„å›æ”¶é˜ˆå€¼æ˜¯ 80%ï¼Œç»å†è¿‡ä¸€æ¬¡ GC ä¹‹åä¸‹é™åˆ°äº† 10%ï¼Œè¿™å°±è¯´æ˜ Old åŒºçš„ 70% çš„å¯¹è±¡å­˜æ´»æ—¶é—´å…¶å®å¾ˆçŸ­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒOld åŒºå¤§å°æ¯æ¬¡ GC åä» 2.1G å›æ”¶åˆ° 300Mï¼Œä¹Ÿå°±æ˜¯è¯´å›æ”¶æ‰äº† 1.8G çš„åƒåœ¾ï¼Œåªæœ‰ &lt;strong&gt;300M çš„æ´»è·ƒå¯¹è±¡&lt;/strong&gt;ã€‚æ•´ä¸ª Heap ç›®å‰æ˜¯ 4Gï¼Œæ´»è·ƒå¯¹è±¡åªå äº†ä¸åˆ°ååˆ†ä¹‹ä¸€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3925845147219193&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFHDZHUjKX9Dtz7VrxC55B3ao4SJian1pe8yf0xptDICJEzMaXYz4Ewmg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;917&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;è¿‡æ—©æ™‹å‡çš„å±å®³ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Young GC é¢‘ç¹ï¼Œæ€»çš„ååé‡ä¸‹é™ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Full GC é¢‘ç¹ï¼Œå¯èƒ½ä¼šæœ‰è¾ƒå¤§åœé¡¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;4.4.2 åŸå› &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸»è¦çš„åŸå› æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Young/Eden åŒºè¿‡å°ï¼š&lt;/strong&gt;è¿‡å°çš„ç›´æ¥åæœå°±æ˜¯ Eden è¢«è£…æ»¡çš„æ—¶é—´å˜çŸ­ï¼Œæœ¬åº”è¯¥å›æ”¶çš„å¯¹è±¡å‚ä¸äº† GC å¹¶æ™‹å‡ï¼ŒYoung GC é‡‡ç”¨çš„æ˜¯å¤åˆ¶ç®—æ³•ï¼Œç”±åŸºç¡€ç¯‡æˆ‘ä»¬çŸ¥é“ copying è€—æ—¶è¿œå¤§äº markï¼Œä¹Ÿå°±æ˜¯ Young GC è€—æ—¶æœ¬è´¨ä¸Šå°±æ˜¯ copy çš„æ—¶é—´ï¼ˆ&lt;/span&gt;&lt;span&gt;CMS æ‰«æ Card Table æˆ– G1 æ‰«æ Remember Set å‡ºé—®é¢˜çš„æƒ…å†µå¦è¯´&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œæ²¡æ¥åŠå›æ”¶çš„å¯¹è±¡å¢å¤§äº†å›æ”¶çš„ä»£ä»·ï¼Œæ‰€ä»¥ Young GC Â æ—¶é—´å¢åŠ ï¼ŒåŒæ—¶åˆæ— æ³•å¿«é€Ÿé‡Šæ”¾ç©ºé—´ï¼ŒYoung GC æ¬¡æ•°ä¹Ÿè·Ÿç€å¢åŠ ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åˆ†é…é€Ÿç‡è¿‡å¤§ï¼š&lt;/strong&gt;å¯ä»¥è§‚å¯Ÿå‡ºé—®é¢˜å‰å Mutator çš„åˆ†é…é€Ÿç‡ï¼Œå¦‚æœæœ‰æ˜æ˜¾æ³¢åŠ¨å¯ä»¥å°è¯•è§‚å¯Ÿç½‘å¡æµé‡ã€å­˜å‚¨ç±»ä¸­é—´ä»¶æ…¢æŸ¥è¯¢æ—¥å¿—ç­‰ä¿¡æ¯ï¼Œçœ‹æ˜¯å¦æœ‰å¤§é‡æ•°æ®è¢«åŠ è½½åˆ°å†…å­˜ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;åŒæ—¶æ— æ³• GC æ‰å¯¹è±¡è¿˜ä¼šå¸¦æ¥å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œå¼•å‘åŠ¨æ€å¹´é¾„è®¡ç®—ï¼šJVM é€šè¿‡ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:MaxTenuringThreshold&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‚æ•°æ¥æ§åˆ¶æ™‹å‡å¹´é¾„ï¼Œæ¯ç»è¿‡ä¸€æ¬¡ GCï¼Œå¹´é¾„å°±ä¼šåŠ ä¸€ï¼Œè¾¾åˆ°æœ€å¤§å¹´é¾„å°±å¯ä»¥è¿›å…¥ Old åŒºï¼Œæœ€å¤§å€¼ä¸º 15ï¼ˆ&lt;/span&gt;&lt;span&gt;å› ä¸º JVM ä¸­ä½¿ç”¨ 4 ä¸ªæ¯”ç‰¹æ¥è¡¨ç¤ºå¯¹è±¡çš„å¹´é¾„&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚è®¾å®šå›ºå®šçš„ MaxTenuringThreshold å€¼ä½œä¸ºæ™‹å‡æ¡ä»¶ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;MaxTenuringThreshold å¦‚æœè®¾ç½®å¾—è¿‡å¤§ï¼ŒåŸæœ¬åº”è¯¥æ™‹å‡çš„å¯¹è±¡ä¸€ç›´åœç•™åœ¨ Survivor åŒºï¼Œç›´åˆ° Survivor åŒºæº¢å‡ºï¼Œä¸€æ—¦æº¢å‡ºå‘ç”Ÿï¼ŒEden + Survivor ä¸­å¯¹è±¡å°†ä¸å†ä¾æ®å¹´é¾„å…¨éƒ¨æå‡åˆ° Old åŒºï¼Œè¿™æ ·å¯¹è±¡è€åŒ–çš„æœºåˆ¶å°±å¤±æ•ˆäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;MaxTenuringThreshold å¦‚æœè®¾ç½®å¾—è¿‡å°ï¼Œè¿‡æ—©æ™‹å‡å³å¯¹è±¡ä¸èƒ½åœ¨ Young åŒºå……åˆ†è¢«å›æ”¶ï¼Œå¤§é‡çŸ­æœŸå¯¹è±¡è¢«æ™‹å‡åˆ° Old åŒºï¼ŒOld åŒºç©ºé—´è¿…é€Ÿå¢é•¿ï¼Œå¼•èµ·é¢‘ç¹çš„ Major GCï¼Œåˆ†ä»£å›æ”¶å¤±å»äº†æ„ä¹‰ï¼Œä¸¥é‡å½±å“ GC æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;ç›¸åŒåº”ç”¨åœ¨ä¸åŒæ—¶é—´çš„è¡¨ç°ä¸åŒï¼Œç‰¹æ®Šä»»åŠ¡çš„æ‰§è¡Œæˆ–è€…æµé‡æˆåˆ†çš„å˜åŒ–ï¼Œéƒ½ä¼šå¯¼è‡´å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåˆ†å¸ƒå‘ç”Ÿæ³¢åŠ¨ï¼Œé‚£ä¹ˆå›ºå®šçš„é˜ˆå€¼è®¾å®šï¼Œå› ä¸ºæ— æ³•åŠ¨æ€é€‚åº”å˜åŒ–ï¼Œä¼šé€ æˆå’Œä¸Šé¢é—®é¢˜ï¼Œæ‰€ä»¥ Hotspot ä¼šä½¿ç”¨åŠ¨æ€è®¡ç®—çš„æ–¹å¼æ¥è°ƒæ•´æ™‹å‡çš„é˜ˆå€¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“åŠ¨æ€è®¡ç®—å¯ä»¥çœ‹ä¸€ä¸‹ Hotspot æºç ï¼Œå…·ä½“åœ¨ /src/hotspot/share/gc/shared/ageTable.cpp çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;compute_tenuring_threshold&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–¹æ³•ä¸­ï¼š&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;compute_tenuring_threshold&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;uintÂ ageTable::compute_tenuring_threshold(size_tÂ survivor_capacity)Â {&lt;br/&gt;Â Â &lt;span&gt;//TargetSurvivorRatioé»˜è®¤50ï¼Œæ„æ€æ˜¯ï¼šåœ¨å›æ”¶ä¹‹åå¸Œæœ›survivoråŒºçš„å ç”¨ç‡è¾¾åˆ°è¿™ä¸ªæ¯”ä¾‹&lt;/span&gt;&lt;br/&gt;Â Â size_tÂ desired_survivor_sizeÂ =Â (size_t)((((double)Â survivor_capacity)*TargetSurvivorRatio)/&lt;span&gt;100&lt;/span&gt;);&lt;br/&gt;Â Â size_tÂ totalÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â uintÂ ageÂ =Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;Â Â assert(sizes[&lt;span&gt;0&lt;/span&gt;]Â ==Â &lt;span&gt;0&lt;/span&gt;,Â &lt;span&gt;&quot;noÂ objectsÂ withÂ ageÂ zeroÂ shouldÂ beÂ recorded&quot;&lt;/span&gt;);&lt;br/&gt;Â Â &lt;span&gt;while&lt;/span&gt;Â (ageÂ &amp;lt;Â table_size)Â {&lt;span&gt;//table_size=16&lt;/span&gt;&lt;br/&gt;Â Â Â Â totalÂ +=Â sizes[age];&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¦‚æœåŠ ä¸Šè¿™ä¸ªå¹´é¾„çš„æ‰€æœ‰å¯¹è±¡çš„å¤§å°ä¹‹åï¼Œå ç”¨é‡&amp;gt;æœŸæœ›çš„å¤§å°ï¼Œå°±è®¾ç½®ageä¸ºæ–°çš„æ™‹å‡é˜ˆå€¼&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (totalÂ &amp;gt;Â desired_survivor_size)Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â age++;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â uintÂ resultÂ =Â ageÂ &amp;lt;Â MaxTenuringThresholdÂ ?Â ageÂ :Â MaxTenuringThreshold;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (PrintTenuringDistributionÂ ||Â UsePerfData)Â {&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ‰“å°æœŸæœ›çš„survivorçš„å¤§å°ä»¥åŠæ–°è®¡ç®—å‡ºæ¥çš„é˜ˆå€¼ï¼Œå’Œè®¾ç½®çš„æœ€å¤§é˜ˆå€¼&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (PrintTenuringDistribution)Â {&lt;br/&gt;Â Â Â Â Â Â gclog_or_tty-&amp;gt;cr();&lt;br/&gt;Â Â Â Â Â Â gclog_or_tty-&amp;gt;print_cr(&lt;span&gt;&quot;DesiredÂ survivorÂ sizeÂ &quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;Â bytes,Â newÂ thresholdÂ %uÂ (maxÂ %u)&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â desired_survivor_size*oopSize,Â result,Â (int)Â MaxTenuringThreshold);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â totalÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â ageÂ =Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (ageÂ &amp;lt;Â table_size)Â {&lt;br/&gt;Â Â Â Â Â Â totalÂ +=Â sizes[age];&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (sizes[age]Â &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (PrintTenuringDistribution)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â gclog_or_tty-&amp;gt;print_cr(&lt;span&gt;&quot;-Â ageÂ %3u:Â &quot;&lt;/span&gt;Â SIZE_FORMAT_W(&lt;span&gt;10&lt;/span&gt;)Â &lt;span&gt;&quot;Â bytes,Â &quot;&lt;/span&gt;Â SIZE_FORMAT_W(&lt;span&gt;10&lt;/span&gt;)Â &lt;span&gt;&quot;Â total&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â age,Â Â Â Â sizes[age]*oopSize,Â Â Â Â Â Â Â Â Â Â total*oopSize);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (UsePerfData)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â _perf_sizes[age]-&amp;gt;set_value(sizes[age]*oopSize);&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â age++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (UsePerfData)Â {&lt;br/&gt;Â Â Â Â Â Â SharedHeap*Â shÂ =Â SharedHeap::heap();&lt;br/&gt;Â Â Â Â Â Â CollectorPolicy*Â policyÂ =Â sh-&amp;gt;collector_policy();&lt;br/&gt;Â Â Â Â Â Â GCPolicyCounters*Â gc_countersÂ =Â policy-&amp;gt;counters();&lt;br/&gt;Â Â Â Â Â Â gc_counters-&amp;gt;tenuring_threshold()-&amp;gt;set_value(result);&lt;br/&gt;Â Â Â Â Â Â gc_counters-&amp;gt;desired_survivor_size()-&amp;gt;set_value(&lt;br/&gt;Â Â Â Â Â Â Â Â desired_survivor_size*oopSize);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â result;&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;å¯ä»¥çœ‹åˆ° Hotspot éå†æ‰€æœ‰å¯¹è±¡æ—¶ï¼Œä»æ‰€æœ‰å¹´é¾„ä¸º 0 çš„å¯¹è±¡å ç”¨çš„ç©ºé—´å¼€å§‹ç´¯åŠ ï¼Œå¦‚æœåŠ ä¸Šå¹´é¾„ç­‰äº n çš„æ‰€æœ‰å¯¹è±¡çš„ç©ºé—´ä¹‹åï¼Œä½¿ç”¨ Survivor åŒºçš„æ¡ä»¶å€¼ï¼ˆ&lt;/span&gt;&lt;span&gt;TargetSurvivorRatio / 100ï¼ŒTargetSurvivorRatio é»˜è®¤å€¼ä¸º 50&lt;/span&gt;&lt;span&gt;ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥å¤§äºè¿™ä¸ªå€¼åˆ™ç»“æŸå¾ªç¯ï¼Œå°† n å’Œ MaxTenuringThreshold æ¯”è¾ƒï¼Œè‹¥ n å°ï¼Œåˆ™é˜ˆå€¼ä¸º nï¼Œè‹¥ n å¤§ï¼Œåˆ™åªèƒ½å»è®¾ç½®æœ€å¤§é˜ˆå€¼ä¸º MaxTenuringThresholdã€‚&lt;strong&gt;åŠ¨æ€å¹´é¾„è§¦å‘åå¯¼è‡´æ›´å¤šçš„å¯¹è±¡è¿›å…¥äº† Old åŒºï¼Œé€ æˆèµ„æºæµªè´¹&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4&gt;&lt;span&gt;4.4.3 ç­–ç•¥&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;çŸ¥é“é—®é¢˜åŸå› åæˆ‘ä»¬å°±æœ‰è§£å†³çš„æ–¹å‘ï¼Œå¦‚æœæ˜¯ &lt;strong&gt;Young/Eden åŒºè¿‡å°&lt;/strong&gt;ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ€»çš„ Heap å†…å­˜ä¸å˜çš„æƒ…å†µä¸‹é€‚å½“å¢å¤§ Young åŒºï¼Œå…·ä½“æ€ä¹ˆå¢åŠ ï¼Ÿä¸€èˆ¬æƒ…å†µä¸‹ Old çš„å¤§å°åº”å½“ä¸ºæ´»è·ƒå¯¹è±¡çš„ 2~3 å€å·¦å³ï¼Œè€ƒè™‘åˆ°æµ®åŠ¨åƒåœ¾é—®é¢˜æœ€å¥½åœ¨ 3 å€å·¦å³ï¼Œå‰©ä¸‹çš„éƒ½å¯ä»¥åˆ†ç»™ Young åŒºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ‹¿ç¬”è€…çš„ä¸€æ¬¡å…¸å‹è¿‡æ—©æ™‹å‡ä¼˜åŒ–æ¥çœ‹ï¼ŒåŸé…ç½®ä¸º Young 1.2G + Old 2.8Gï¼Œé€šè¿‡è§‚å¯Ÿ CMS GC çš„æƒ…å†µæ‰¾åˆ°å­˜æ´»å¯¹è±¡å¤§æ¦‚ä¸º 300~400Mï¼Œäºæ˜¯è°ƒæ•´ Old 1.5G å·¦å³ï¼Œå‰©ä¸‹ 2.5G åˆ†ç»™ Young åŒºã€‚ä»…ä»…è°ƒäº†ä¸€ä¸ª Young åŒºå¤§å°å‚æ•°ï¼ˆ&lt;/span&gt;&lt;code&gt;&lt;span&gt;-Xmn&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ï¼‰ï¼Œæ•´ä¸ª JVM ä¸€åˆ†é’Ÿ Young GC ä» 26 æ¬¡é™ä½åˆ°äº† 11 æ¬¡ï¼Œå•æ¬¡æ—¶é—´ä¹Ÿæ²¡æœ‰å¢åŠ ï¼Œæ€»çš„ GC æ—¶é—´ä» 1100ms é™ä½åˆ°äº† 500msï¼ŒCMS GC æ¬¡æ•°ä¹Ÿä» 40 åˆ†é’Ÿå·¦å³ä¸€æ¬¡é™ä½åˆ°äº† 7 å°æ—¶ 30 åˆ†é’Ÿä¸€æ¬¡ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.34178610804851156&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFnxFGw7OcJ1BZEyRZ4Ax4fZrJ6pPejxEpWTp64IVvOWKVeO7H0OOc9A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;907&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;br/&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3404255319148936&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFxUApAYSu0ymUGRoFbgTg7ibvTDQcjzXJrtdp43F4iav07MnTIT5hy6gA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;893&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;br/&gt;&lt;span&gt;å¦‚æœæ˜¯åˆ†é…é€Ÿç‡è¿‡å¤§ï¼š&lt;/span&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.4.4 å°ç»“&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿‡æ—©æ™‹å‡é—®é¢˜ä¸€èˆ¬ä¸ä¼šç‰¹åˆ«æ˜æ˜¾ï¼Œä½†æ—¥ç§¯æœˆç´¯ä¹‹åå¯èƒ½ä¼šçˆ†å‘ä¸€æ³¢æ”¶é›†å™¨é€€åŒ–ä¹‹ç±»çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯è¦æå‰é¿å…æ‰çš„ï¼Œå¯ä»¥çœ‹çœ‹è‡ªå·±ç³»ç»Ÿé‡Œé¢æ˜¯å¦æœ‰è¿™äº›ç°è±¡ï¼Œå¦‚æœæ¯”è¾ƒåŒ¹é…çš„è¯ï¼Œå¯ä»¥å°è¯•ä¼˜åŒ–ä¸€ä¸‹ã€‚ä¸€è¡Œä»£ç ä¼˜åŒ–çš„ ROI è¿˜æ˜¯å¾ˆé«˜çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœåœ¨è§‚å¯Ÿ Old åŒºå‰åæ¯”ä¾‹å˜åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¯ä»¥å›æ”¶çš„æ¯”ä¾‹éå¸¸å°ï¼Œå¦‚ä» 80% åªå›æ”¶åˆ°äº† 60%ï¼Œè¯´æ˜æˆ‘ä»¬å¤§éƒ¨åˆ†å¯¹è±¡éƒ½æ˜¯å­˜æ´»çš„ï¼ŒOld åŒºçš„ç©ºé—´å¯ä»¥é€‚å½“è°ƒå¤§äº›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.4.5 åŠ é¤&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…³äºåœ¨è°ƒæ•´ Young ä¸ Old çš„æ¯”ä¾‹æ—¶ï¼Œå¦‚ä½•é€‰å–å…·ä½“çš„ NewRatio å€¼ï¼Œè¿™é‡Œå°†é—®é¢˜æŠ½è±¡æˆä¸ºä¸€ä¸ªè“„æ°´æ± æ¨¡å‹ï¼Œæ‰¾åˆ°ä»¥ä¸‹å…³é”®è¡¡é‡æŒ‡æ ‡ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±åœºæ™¯è¿›è¡Œæ¨ç®—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.4410726887791108&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFibiaDbSnXafbyDCLsKbFtSdrq9sHia3DPdw9Xes7QAH09YsfBd0znO8cw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;5668&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.1702857142857143&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFariatlGZPAYYT7OzuzwlVjMFk5KWCxX5QiadqyjfOS7jMzdh5Sic5Y71Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1750&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;NewRatio çš„å€¼ r ä¸ v&lt;sub&gt;a&lt;/sub&gt;ã€v&lt;sub&gt;p&lt;/sub&gt;ã€v&lt;sub&gt;yc&lt;/sub&gt;ã€v&lt;sub&gt;oc&lt;/sub&gt;ã€r&lt;sub&gt;s&lt;/sub&gt; ç­‰å€¼å­˜åœ¨ä¸€å®šå‡½æ•°ç›¸å…³æ€§ï¼ˆ&lt;/span&gt;&lt;span&gt;r&lt;sub&gt;s&lt;/sub&gt; è¶Šå° r è¶Šå¤§ã€r è¶Šå° v&lt;sub&gt;p&lt;/sub&gt; è¶Šå°ï¼Œâ€¦ï¼Œä¹‹å‰å°è¯•ä½¿ç”¨ NN æ¥è¾…åŠ©å»ºæ¨¡ï¼Œä½†ç›®å‰è¿˜æ²¡æœ‰å®Œå…¨ç®—å‡ºå…·ä½“çš„å…¬å¼ï¼Œæœ‰æƒ³æ³•çš„åŒå­¦å¯ä»¥åœ¨è¯„è®ºåŒºç»™å‡ºä½ çš„ç­”æ¡ˆ &lt;/span&gt;&lt;span&gt;ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ€»åœé¡¿æ—¶é—´ T Â ä¸º Young GC æ€»æ—¶é—´ T&lt;sub&gt;yc&lt;/sub&gt; å’Œ Old GC æ€»æ—¶é—´ T&lt;sub&gt;oc&lt;/sub&gt; ä¹‹å’Œï¼Œå…¶ä¸­ T&lt;sub&gt;yc&lt;/sub&gt; ä¸ v&lt;sub&gt;yc&lt;/sub&gt; å’Œ v&lt;sub&gt;p&lt;/sub&gt; ç›¸å…³ï¼ŒT&lt;sub&gt;oc&lt;/sub&gt; ä¸ v&lt;sub&gt;oc&lt;/sub&gt;ç›¸å…³ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¿½ç•¥æ‰ GC æ—¶é—´åï¼Œä¸¤æ¬¡ Young GC çš„æ—¶é—´é—´éš”è¦å¤§äº TP9999 æ—¶é—´ï¼Œè¿™æ ·å°½é‡è®©å¯¹è±¡åœ¨ Eden åŒºå°±è¢«å›æ”¶ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šåœé¡¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4.5 åœºæ™¯äº”ï¼šCMS Old GC é¢‘ç¹ *&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.5.1 ç°è±¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Old åŒºé¢‘ç¹çš„åš CMS GCï¼Œä½†æ˜¯æ¯æ¬¡è€—æ—¶ä¸æ˜¯ç‰¹åˆ«é•¿ï¼Œæ•´ä½“æœ€å¤§ STW ä¹Ÿåœ¨å¯æ¥å—èŒƒå›´å†…ï¼Œä½†ç”±äº GC å¤ªé¢‘ç¹å¯¼è‡´ååä¸‹é™æ¯”è¾ƒå¤šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4.5.2 åŸå› &lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç§æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¸€æ¬¡ Young GC å®Œæˆåï¼Œè´Ÿè´£å¤„ç† CMS GC çš„ä¸€ä¸ªåå°çº¿ç¨‹ concurrentMarkSweepThread ä¼šä¸æ–­åœ°è½®è¯¢ï¼Œä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;shouldConcurrentCollect()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–¹æ³•åšä¸€æ¬¡æ£€æµ‹ï¼Œåˆ¤æ–­æ˜¯å¦è¾¾åˆ°äº†å›æ”¶æ¡ä»¶ã€‚å¦‚æœè¾¾åˆ°æ¡ä»¶ï¼Œä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;collect_in_background()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å¯åŠ¨ä¸€æ¬¡ Background æ¨¡å¼ GCã€‚è½®è¯¢çš„åˆ¤æ–­æ˜¯ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;sleepBeforeNextCycle()&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–¹æ³•ï¼Œé—´éš”å‘¨æœŸä¸º &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:CMSWaitDuration&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å†³å®šï¼Œé»˜è®¤ä¸º2sã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“ä»£ç åœ¨ï¼šsrc/hotspot/share/gc/cms/concurrentMarkSweepThread.cppã€‚&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;run_service()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;voidÂ ConcurrentMarkSweepThread::run_service()Â {&lt;br/&gt;Â Â assert(thisÂ ==Â cmst(),Â &lt;span&gt;&quot;justÂ checking&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (BindCMSThreadToCPUÂ &amp;amp;&amp;amp;Â !os::bind_to_processor(CPUForCMSThread))Â {&lt;br/&gt;Â Â Â Â log_warning(gc)(&lt;span&gt;&quot;Couldn&#x27;tÂ bindÂ CMSÂ threadÂ toÂ processorÂ &quot;&lt;/span&gt;Â UINTX_FORMAT,Â CPUForCMSThread);&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;while&lt;/span&gt;Â (!should_terminate())Â {&lt;br/&gt;Â Â Â Â sleepBeforeNextCycle();&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (should_terminate())Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â GCIdMarkÂ gc_id_mark;&lt;br/&gt;Â Â Â Â GCCause::CauseÂ causeÂ =Â _collector-&amp;gt;_full_gc_requestedÂ ?&lt;br/&gt;Â Â Â Â Â Â _collector-&amp;gt;_full_gc_causeÂ :Â GCCause::_cms_concurrent_mark;&lt;br/&gt;Â Â Â Â _collector-&amp;gt;collect_in_background(cause);&lt;br/&gt;Â Â }&lt;br/&gt;Â Â verify_ok_to_terminate();&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;sleepBeforeNextCycle()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;Â ConcurrentMarkSweepThread::sleepBeforeNextCycle()Â {&lt;br/&gt;Â Â &lt;span&gt;while&lt;/span&gt;Â (!should_terminate())Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;(&lt;span&gt;CMSWaitDuration&lt;/span&gt;Â &amp;gt;=Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â WaitÂ untilÂ theÂ nextÂ synchronousÂ GC,Â aÂ concurrentÂ fullÂ gc&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â requestÂ orÂ aÂ timeout,Â whicheverÂ isÂ earlier.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â wait_on_cms_lock_for_scavenge(&lt;span&gt;CMSWaitDuration&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â WaitÂ untilÂ anyÂ cms_lockÂ eventÂ orÂ checkÂ intervalÂ notÂ toÂ callÂ shouldConcurrentCollectÂ permanently&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â wait_on_cms_lock(&lt;span&gt;CMSCheckInterval&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â CheckÂ ifÂ weÂ shouldÂ startÂ aÂ CMSÂ collectionÂ cycle&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_collector-&amp;gt;shouldConcurrentCollect())Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â ..Â collectionÂ criterionÂ notÂ yetÂ met,Â let&#x27;sÂ goÂ back&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â andÂ waitÂ someÂ more&lt;/span&gt;&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;åˆ¤æ–­æ˜¯å¦è¿›è¡Œå›æ”¶çš„ä»£ç åœ¨ï¼š/src/hotspot/share/gc/cms/concurrentMarkSweepGeneration.cppã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;shouldConcurrentCollect()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;boolÂ CMSCollector::shouldConcurrentCollect()Â {&lt;br/&gt;Â Â LogTarget(Trace,Â gc)Â log;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (_full_gc_requested)Â {&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollector:Â collectÂ becauseÂ ofÂ explicitÂ Â gcÂ requestÂ (orÂ GCLocker)&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â FreelistLockerÂ x(this);&lt;br/&gt;Â Â &lt;span&gt;//Â ------------------------------------------------------------------&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â PrintÂ outÂ lotsÂ ofÂ informationÂ whichÂ affectsÂ theÂ initiationÂ of&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â aÂ collection.&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (log.is_enabled()Â &amp;amp;&amp;amp;Â stats().valid())Â {&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollectorÂ shouldConcurrentCollect:Â &quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â LogStreamÂ out(log);&lt;br/&gt;Â Â Â Â stats().print_on(&amp;amp;out);&lt;br/&gt;&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;time_until_cms_gen_fullÂ %3.7f&quot;&lt;/span&gt;,Â stats().time_until_cms_gen_full());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;free=&quot;&lt;/span&gt;Â SIZE_FORMAT,Â _cmsGen-&amp;gt;free());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;contiguous_available=&quot;&lt;/span&gt;Â SIZE_FORMAT,Â _cmsGen-&amp;gt;contiguous_available());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;promotion_rate=%g&quot;&lt;/span&gt;,Â stats().promotion_rate());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;cms_allocation_rate=%g&quot;&lt;/span&gt;,Â stats().cms_allocation_rate());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;occupancy=%3.7f&quot;&lt;/span&gt;,Â _cmsGen-&amp;gt;occupancy());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;initiatingOccupancy=%3.7f&quot;&lt;/span&gt;,Â _cmsGen-&amp;gt;initiating_occupancy());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;cms_time_since_begin=%3.7f&quot;&lt;/span&gt;,Â stats().cms_time_since_begin());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;cms_time_since_end=%3.7f&quot;&lt;/span&gt;,Â stats().cms_time_since_end());&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;metadataÂ initializedÂ %d&quot;&lt;/span&gt;,Â MetaspaceGC::should_concurrent_collect());&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;//Â ------------------------------------------------------------------&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (!UseCMSInitiatingOccupancyOnly)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (stats().valid())Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (stats().time_until_cms_start()Â ==Â &lt;span&gt;0.0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_cmsGen-&amp;gt;occupancy()Â &amp;gt;=Â _bootstrap_occupancy)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;Â CMSCollector:Â collectÂ forÂ bootstrappingÂ statistics:Â occupancyÂ =Â %f,Â bootÂ occupancyÂ =Â %f&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _cmsGen-&amp;gt;occupancy(),Â _bootstrap_occupancy);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (_cmsGen-&amp;gt;should_concurrent_collect())Â {&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSÂ oldÂ genÂ initiated&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â WeÂ startÂ aÂ collectionÂ ifÂ weÂ believeÂ anÂ incrementalÂ collectionÂ mayÂ fail;&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â thisÂ isÂ notÂ likelyÂ toÂ beÂ productiveÂ inÂ practiceÂ becauseÂ it&#x27;sÂ probablyÂ too&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â lateÂ anyway.&lt;/span&gt;&lt;br/&gt;Â Â CMSHeap*Â heapÂ =Â CMSHeap::heap();&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (heap-&amp;gt;incremental_collection_will_fail(&lt;span&gt;true&lt;/span&gt;Â &lt;span&gt;/*Â consult_youngÂ */&lt;/span&gt;))Â {&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollector:Â collectÂ becauseÂ incrementalÂ collectionÂ willÂ failÂ &quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (MetaspaceGC::should_concurrent_collect())Â {&lt;br/&gt;Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollector:Â collectÂ forÂ metadataÂ allocationÂ &quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â CMSTriggerIntervalÂ startsÂ aÂ CMSÂ cycleÂ ifÂ enoughÂ timeÂ hasÂ passed.&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (CMSTriggerIntervalÂ &amp;gt;=Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (CMSTriggerIntervalÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â TriggerÂ always&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â CheckÂ theÂ CMSÂ timeÂ sinceÂ beginÂ (weÂ doÂ notÂ checkÂ theÂ statsÂ validity&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â asÂ weÂ wantÂ toÂ beÂ ableÂ toÂ triggerÂ theÂ firstÂ CMSÂ cycleÂ asÂ well)&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (stats().cms_time_since_begin()Â &amp;gt;=Â (CMSTriggerIntervalÂ /Â ((double)Â MILLIUNITS)))Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (stats().valid())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollector:Â collectÂ becauseÂ ofÂ triggerÂ intervalÂ (timeÂ sinceÂ lastÂ beginÂ %3.7fÂ secs)&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stats().cms_time_since_begin());&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â log.&lt;span&gt;print&lt;/span&gt;(&lt;span&gt;&quot;CMSCollector:Â collectÂ becauseÂ ofÂ triggerÂ intervalÂ (firstÂ collection)&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;åˆ†æå…¶ä¸­é€»è¾‘åˆ¤æ–­æ˜¯å¦è§¦å‘ GCï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹æºç ä¸­çš„æ—¥å¿—æ‰“å°ï¼Œé€šè¿‡æ—¥å¿—æˆ‘ä»¬å°±å¯ä»¥æ¯”è¾ƒæ¸…æ¥šåœ°çŸ¥é“å…·ä½“çš„åŸå› ï¼Œç„¶åå°±å¯ä»¥ç€æ‰‹åˆ†æäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.5.3 ç­–ç•¥&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯æ‹¿æœ€å¸¸è§çš„è¾¾åˆ°å›æ”¶æ¯”ä¾‹è¿™ä¸ªåœºæ™¯æ¥è¯´ï¼Œä¸è¿‡æ—©æ™‹å‡ä¸åŒçš„æ˜¯è¿™äº›å¯¹è±¡ç¡®å®å­˜æ´»äº†ä¸€æ®µæ—¶é—´ï¼ŒSurvival Time è¶…è¿‡äº† TP9999 æ—¶é—´ï¼Œä½†æ˜¯åˆè¾¾ä¸åˆ°é•¿æœŸå­˜æ´»ï¼Œå¦‚å„ç§æ•°æ®åº“ã€ç½‘ç»œé“¾æ¥ï¼Œå¸¦æœ‰å¤±æ•ˆæ—¶é—´çš„ç¼“å­˜ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¤„ç†è¿™ç§å¸¸è§„å†…å­˜æ³„æ¼é—®é¢˜åŸºæœ¬æ˜¯ä¸€ä¸ªæ€è·¯ï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.30910543130990414&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFLmnSudH7SxmugG2SKjAHfdtLxx3ibZh6sGAaqHnLebOVNECUBU9jKicA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;7512&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;Dump Diff å’Œ Leak Suspects æ¯”è¾ƒç›´è§‚å°±ä¸ä»‹ç»äº†ï¼Œè¿™é‡Œè¯´ä¸‹å…¶å®ƒå‡ ä¸ªå…³é”®ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å†…å­˜ Dumpï¼š&lt;/strong&gt;ä½¿ç”¨ jmapã€arthas ç­‰ dump å †è¿›è¡Œå¿«ç…§æ—¶è®°å¾—æ‘˜æ‰æµé‡ï¼ŒåŒæ—¶&lt;strong&gt;åˆ†åˆ«åœ¨ CMS GC çš„å‘ç”Ÿå‰ååˆ†åˆ« dump ä¸€æ¬¡&lt;/strong&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åˆ†æ Top Componentï¼š&lt;/strong&gt;è¦è®°å¾—æŒ‰ç…§å¯¹è±¡ã€ç±»ã€ç±»åŠ è½½å™¨ã€åŒ…ç­‰å¤šä¸ªç»´åº¦è§‚å¯Ÿ Histogramï¼ŒåŒæ—¶ä½¿ç”¨ outgoing å’Œ incoming åˆ†æå…³è”çš„å¯¹è±¡ï¼Œå¦å¤–å°±æ˜¯ Soft Reference å’Œ Weak Referenceã€Finalizer ç­‰ä¹Ÿè¦çœ‹ä¸€ä¸‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;åˆ†æ Unreachableï¼š&lt;/strong&gt;é‡ç‚¹çœ‹ä¸€ä¸‹è¿™ä¸ªï¼Œå…³æ³¨ä¸‹ Shallow å’Œ Retained çš„å¤§å°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬”è€…ä¹‹å‰ä¸€æ¬¡ GC ä¼˜åŒ–ï¼Œå°±æ ¹æ® Unreachable Objects å‘ç°äº† Hystrix çš„æ»‘åŠ¨çª—å£é—®é¢˜ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.5316901408450704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyF5HBmxianlAngaW2SwUwgkNp1PUWAkia3HX9IxIdVG7YD8zUyBEzBRSPg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;852&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.5.4 å°ç»“&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»è¿‡æ•´ä¸ªæµç¨‹ä¸‹æ¥åŸºæœ¬å°±èƒ½å®šä½é—®é¢˜äº†ï¼Œä¸è¿‡åœ¨ä¼˜åŒ–çš„è¿‡ç¨‹ä¸­è®°å¾—ä½¿ç”¨&lt;strong&gt;æ§åˆ¶å˜é‡&lt;/strong&gt;çš„æ–¹æ³•æ¥ä¼˜åŒ–ï¼Œé˜²æ­¢ä¸€äº›ä¼šåŠ å‰§é—®é¢˜çš„æ”¹åŠ¨è¢«æ©ç›–ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4.6 åœºæ™¯å…­ï¼šå•æ¬¡ CMS Old GC è€—æ—¶é•¿ *&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.6.1 ç°è±¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;CMS GC å•æ¬¡ STW æœ€å¤§è¶…è¿‡ 1000msï¼Œä¸ä¼šé¢‘ç¹å‘ç”Ÿï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæœ€é•¿è¾¾åˆ°äº† 8000msã€‚æŸäº›åœºæ™¯ä¸‹ä¼šå¼•èµ·â€œé›ªå´©æ•ˆåº”â€ï¼Œè¿™ç§åœºæ™¯éå¸¸å±é™©ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…å‡ºç°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3243953732912723&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFMs1zibSgpvbLOX8UOKzykYavKgurJSkFAO17CZsLg5uWCDWKPw4SgAg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1902&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.6.2 åŸå› &lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;CMS åœ¨å›æ”¶çš„è¿‡ç¨‹ä¸­ï¼ŒSTW çš„é˜¶æ®µä¸»è¦æ˜¯ Init Mark å’Œ Final Remark è¿™ä¸¤ä¸ªé˜¶æ®µï¼Œä¹Ÿæ˜¯å¯¼è‡´ CMS Old GC æœ€å¤šçš„åŸå› ï¼Œå¦å¤–æœ‰äº›æƒ…å†µå°±æ˜¯åœ¨ STW å‰ç­‰å¾… Mutator çš„çº¿ç¨‹åˆ°è¾¾ SafePoint ä¹Ÿä¼šå¯¼è‡´æ—¶é—´è¿‡é•¿ï¼Œä½†è¿™ç§æƒ…å†µè¾ƒå°‘ï¼Œæˆ‘ä»¬åœ¨æ­¤å¤„ä¸»è¦è®¨è®ºå‰è€…ã€‚å‘ç”Ÿæ”¶é›†å™¨é€€åŒ–æˆ–è€…ç¢ç‰‡å‹ç¼©çš„åœºæ™¯è¯·çœ‹åœºæ™¯ä¸ƒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æƒ³è¦çŸ¥é“è¿™ä¸¤ä¸ªé˜¶æ®µä¸ºä»€ä¹ˆä¼šè€—æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹ä¸€ä¸‹è¿™ä¸¤ä¸ªé˜¶æ®µéƒ½ä¼šå¹²ä»€ä¹ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ ¸å¿ƒä»£ç éƒ½åœ¨ /src/hotspot/share/gc/cms/concurrentMarkSweepGeneration.cpp ä¸­ï¼Œå†…éƒ¨æœ‰ä¸ªçº¿ç¨‹ ConcurrentMarkSweepThread è½®è¯¢æ¥æ ¡éªŒï¼ŒOld åŒºçš„åƒåœ¾å›æ”¶ç›¸å…³ç»†èŠ‚è¢«å®Œå…¨å°è£…åœ¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;CMSCollector&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ä¸­ï¼Œè°ƒç”¨å…¥å£å°±æ˜¯ ConcurrentMarkSweepThread è°ƒç”¨çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;CMSCollector::collect_in_background&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å’Œ &lt;/span&gt;&lt;code&gt;&lt;span&gt;ConcurrentMarkSweepGeneration&lt;/span&gt;&lt;/code&gt;&lt;span&gt; è°ƒç”¨çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;CMSCollector::collect&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ–¹æ³•ï¼Œæ­¤å¤„æˆ‘ä»¬è®¨è®ºå¤§å¤šæ•°åœºæ™¯çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;collect_in_background&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ä¼š STW çš„ä¸»è¦æ˜¯ initial Mark å’Œ Final Remarkï¼Œæ ¸å¿ƒä»£ç åœ¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;VM_CMS_Initial_Mark&lt;/span&gt;&lt;/code&gt;&lt;span&gt; / &lt;/span&gt;&lt;code&gt;&lt;span&gt;VM_CMS_Final_Remark&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ä¸­ï¼Œæ‰§è¡Œæ—¶éœ€è¦å°†æ‰§è¡Œæƒäº¤ç”± VMThread æ¥æ‰§è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;CMSCollector::checkpointRootsInitialWork()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;voidÂ CMSCollector::checkpointRootsInitialWork()Â {&lt;br/&gt;Â Â assert(SafepointSynchronize::is_at_safepoint(),Â &lt;span&gt;&quot;worldÂ shouldÂ beÂ stopped&quot;&lt;/span&gt;);&lt;br/&gt;Â Â assert(_collectorStateÂ ==Â InitialMarking,Â &lt;span&gt;&quot;justÂ checking&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â AlreadyÂ haveÂ locks.&lt;/span&gt;&lt;br/&gt;Â Â assert_lock_strong(bitMapLock());&lt;br/&gt;Â Â assert(_markBitMap.isAllClear(),Â &lt;span&gt;&quot;wasÂ resetÂ atÂ endÂ ofÂ previousÂ cycle&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â SetupÂ theÂ verificationÂ andÂ classÂ unloadingÂ stateÂ forÂ this&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â CMSÂ collectionÂ cycle.&lt;/span&gt;&lt;br/&gt;Â Â setup_cms_unloading_and_verification_state();&lt;br/&gt;&lt;br/&gt;Â Â GCTraceTime(Trace,Â gc,Â phases)Â ts(&lt;span&gt;&quot;checkpointRootsInitialWork&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ResetÂ allÂ theÂ PLABÂ chunkÂ arraysÂ ifÂ necessary.&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (_survivor_plab_arrayÂ !=Â &lt;span&gt;NULL&lt;/span&gt;Â &amp;amp;&amp;amp;Â !CMSPLABRecordAlways)Â {&lt;br/&gt;Â Â Â Â reset_survivor_plab_arrays();&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â ResourceMarkÂ rm;&lt;br/&gt;Â Â HandleMarkÂ Â hm;&lt;br/&gt;&lt;br/&gt;Â Â MarkRefsIntoClosureÂ notOlder(_span,Â &amp;amp;_markBitMap);&lt;br/&gt;Â Â CMSHeap*Â heapÂ =Â CMSHeap::heap();&lt;br/&gt;&lt;br/&gt;Â Â verify_work_stacks_empty();&lt;br/&gt;Â Â verify_overflow_empty();&lt;br/&gt;&lt;br/&gt;Â Â heap-&amp;gt;ensure_parsability(&lt;span&gt;false&lt;/span&gt;);Â Â &lt;span&gt;//Â fillÂ TLABs,Â butÂ noÂ needÂ toÂ retireÂ them&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â UpdateÂ theÂ savedÂ marksÂ whichÂ mayÂ affectÂ theÂ rootÂ scans.&lt;/span&gt;&lt;br/&gt;Â Â heap-&amp;gt;save_marks();&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â weakÂ referenceÂ processingÂ hasÂ notÂ startedÂ yet.&lt;/span&gt;&lt;br/&gt;Â Â ref_processor()-&amp;gt;set_enqueuing_is_done(&lt;span&gt;false&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â NeedÂ toÂ rememberÂ allÂ newlyÂ createdÂ CLDs,&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â soÂ thatÂ weÂ canÂ guaranteeÂ thatÂ theÂ remarkÂ findsÂ them.&lt;/span&gt;&lt;br/&gt;Â Â ClassLoaderDataGraph::remember_new_clds(&lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â WheneverÂ aÂ CLDÂ isÂ found,Â itÂ willÂ beÂ claimedÂ beforeÂ proceedingÂ toÂ mark&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â theÂ klasses.Â TheÂ claimedÂ marksÂ needÂ toÂ beÂ clearedÂ beforeÂ markingÂ starts.&lt;/span&gt;&lt;br/&gt;Â Â ClassLoaderDataGraph::clear_claimed_marks();&lt;br/&gt;&lt;br/&gt;Â Â print_eden_and_survivor_chunk_arrays();&lt;br/&gt;&lt;br/&gt;Â Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (CMSParallelInitialMarkEnabled)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â TheÂ parallelÂ version.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â WorkGang*Â workersÂ =Â heap-&amp;gt;workers();&lt;br/&gt;Â Â Â Â Â Â assert(workersÂ !=Â &lt;span&gt;NULL&lt;/span&gt;,Â &lt;span&gt;&quot;NeedÂ parallelÂ workerÂ threads.&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â uintÂ n_workersÂ =Â workers-&amp;gt;active_workers();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â StrongRootsScopeÂ srs(n_workers);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â CMSParInitialMarkTaskÂ tsk(this,Â &amp;amp;srs,Â n_workers);&lt;br/&gt;Â Â Â Â Â Â initialize_sequential_subtasks_for_young_gen_rescan(n_workers);&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â IfÂ theÂ totalÂ workersÂ isÂ greaterÂ thanÂ 1,Â thenÂ multipleÂ workers&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â mayÂ beÂ usedÂ atÂ someÂ timeÂ andÂ theÂ initializationÂ hasÂ beenÂ set&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â suchÂ thatÂ theÂ singleÂ threadedÂ pathÂ cannotÂ beÂ used.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (workers-&amp;gt;total_workers()Â &amp;gt;Â &lt;span&gt;1&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â workers-&amp;gt;run_task(&amp;amp;tsk);&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â tsk.work(&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â TheÂ serialÂ version.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â CLDToOopClosureÂ cld_closure(&amp;amp;notOlder,Â &lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â heap-&amp;gt;rem_set()-&amp;gt;prepare_for_younger_refs_iterate(&lt;span&gt;false&lt;/span&gt;);Â &lt;span&gt;//Â NotÂ parallel.&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â StrongRootsScopeÂ srs(&lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â heap-&amp;gt;cms_process_roots(&amp;amp;srs,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;true&lt;/span&gt;,Â Â Â &lt;span&gt;//Â youngÂ genÂ asÂ roots&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â GenCollectedHeap::ScanningOption(roots_scanning_options()),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â should_unload_classes(),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;amp;notOlder,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;amp;cld_closure);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ClearÂ mod-unionÂ table;Â itÂ willÂ beÂ dirtiedÂ inÂ theÂ prologueÂ of&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â CMSÂ generationÂ perÂ eachÂ youngÂ generationÂ collection.&lt;/span&gt;&lt;br/&gt;Â Â assert(_modUnionTable.isAllClear(),&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&quot;WasÂ clearedÂ inÂ mostÂ recentÂ finalÂ checkpointÂ phase&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&quot;Â orÂ noÂ bitsÂ areÂ setÂ inÂ theÂ gc_prologueÂ beforeÂ theÂ startÂ ofÂ theÂ nextÂ &quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;&quot;subsequentÂ markingÂ phase.&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â assert(_ct-&amp;gt;cld_rem_set()-&amp;gt;mod_union_is_clear(),Â &lt;span&gt;&quot;MustÂ be&quot;&lt;/span&gt;);&lt;br/&gt;Â Â &lt;span&gt;//Â SaveÂ theÂ endÂ ofÂ theÂ used_regionÂ ofÂ theÂ constituentÂ generations&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â toÂ beÂ usedÂ toÂ limitÂ theÂ extentÂ ofÂ sweepÂ inÂ eachÂ generation.&lt;/span&gt;&lt;br/&gt;Â Â save_sweep_limits();&lt;br/&gt;Â Â verify_overflow_empty();&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;CMSParInitialMarkTask::work&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;voidÂ CMSParInitialMarkTask::work(uintÂ worker_id)Â {&lt;br/&gt;Â Â elapsedTimerÂ _timer;&lt;br/&gt;Â Â ResourceMarkÂ rm;&lt;br/&gt;Â Â HandleMarkÂ Â Â hm;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ----------Â scanÂ fromÂ rootsÂ --------------&lt;/span&gt;&lt;br/&gt;Â Â _timer.start();&lt;br/&gt;Â Â CMSHeap*Â heapÂ =Â CMSHeap::heap();&lt;br/&gt;Â Â ParMarkRefsIntoClosureÂ par_mri_cl(_collector-&amp;gt;_span,Â &amp;amp;(_collector-&amp;gt;_markBitMap));&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ----------Â youngÂ genÂ rootsÂ --------------&lt;/span&gt;&lt;br/&gt;Â Â {&lt;br/&gt;Â Â Â Â work_on_young_gen_roots(&amp;amp;par_mri_cl);&lt;br/&gt;Â Â Â Â _timer.stop();&lt;br/&gt;Â Â Â Â log_trace(gc,Â task)(&lt;span&gt;&quot;FinishedÂ youngÂ genÂ initialÂ markÂ scanÂ workÂ inÂ %dthÂ thread:Â %3.3fÂ sec&quot;&lt;/span&gt;,Â worker_id,Â _timer.seconds());&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ----------Â remainingÂ rootsÂ --------------&lt;/span&gt;&lt;br/&gt;Â Â _timer.reset();&lt;br/&gt;Â Â _timer.start();&lt;br/&gt;&lt;br/&gt;Â Â CLDToOopClosureÂ cld_closure(&amp;amp;par_mri_cl,Â &lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â heap-&amp;gt;cms_process_roots(_strong_roots_scope,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;false&lt;/span&gt;,Â Â Â Â Â &lt;span&gt;//Â ygÂ wasÂ scannedÂ above&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â GenCollectedHeap::ScanningOption(_collector-&amp;gt;CMSCollector::roots_scanning_options()),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _collector-&amp;gt;should_unload_classes(),&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;amp;par_mri_cl,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;amp;cld_closure,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;amp;_par_state_string);&lt;br/&gt;&lt;br/&gt;Â Â assert(_collector-&amp;gt;should_unload_classes()&lt;br/&gt;Â Â Â Â Â Â Â Â Â ||Â (_collector-&amp;gt;CMSCollector::roots_scanning_options()Â &amp;amp;Â GenCollectedHeap::SO_AllCodeCache),&lt;br/&gt;Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;ifÂ weÂ didn&#x27;tÂ scanÂ theÂ codeÂ cache,Â weÂ haveÂ toÂ beÂ readyÂ toÂ dropÂ nmethodsÂ withÂ expiredÂ weakÂ oops&quot;&lt;/span&gt;);&lt;br/&gt;Â Â _timer.stop();&lt;br/&gt;Â Â log_trace(gc,Â task)(&lt;span&gt;&quot;FinishedÂ remainingÂ rootÂ initialÂ markÂ scanÂ workÂ inÂ %dthÂ thread:Â %3.3fÂ sec&quot;&lt;/span&gt;,Â worker_id,Â _timer.seconds());&lt;br/&gt;}&lt;/span&gt;&lt;span/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;figure&gt;&lt;br/&gt;&lt;img data-ratio=&quot;0.0594059405940594&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFv4rUSNPUSNSp2Q9IEg8EZOON11moGRwucbkEXicWYHB0ZkynuQDYEPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;7272&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;æ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œä» GC Root å‡ºå‘æ ‡è®° Old ä¸­çš„å¯¹è±¡ï¼Œå¤„ç†å®Œæˆåå€ŸåŠ© BitMap å¤„ç†ä¸‹ Young åŒºå¯¹ Old åŒºçš„å¼•ç”¨ï¼Œæ•´ä¸ªè¿‡ç¨‹åŸºæœ¬éƒ½æ¯”è¾ƒå¿«ï¼Œå¾ˆå°‘ä¼šæœ‰è¾ƒå¤§çš„åœé¡¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;span&gt;CMSCollector::checkpointRootsFinalWork()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;voidÂ CMSCollector::checkpointRootsFinalWork()Â {&lt;br/&gt;Â Â GCTraceTime(Trace,Â gc,Â phases)Â tm(&lt;span&gt;&quot;checkpointRootsFinalWork&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;&lt;br/&gt;Â Â assert(haveFreelistLocks(),Â &lt;span&gt;&quot;mustÂ haveÂ freeÂ listÂ locks&quot;&lt;/span&gt;);&lt;br/&gt;Â Â assert_lock_strong(bitMapLock());&lt;br/&gt;&lt;br/&gt;Â Â ResourceMarkÂ rm;&lt;br/&gt;Â Â HandleMarkÂ Â Â hm;&lt;br/&gt;&lt;br/&gt;Â Â CMSHeap*Â heapÂ =Â CMSHeap::heap();&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (should_unload_classes())Â {&lt;br/&gt;Â Â Â Â CodeCache::gc_prologue();&lt;br/&gt;Â Â }&lt;br/&gt;Â Â assert(haveFreelistLocks(),Â &lt;span&gt;&quot;mustÂ haveÂ freeÂ listÂ locks&quot;&lt;/span&gt;);&lt;br/&gt;Â Â assert_lock_strong(bitMapLock());&lt;br/&gt;&lt;br/&gt;Â Â heap-&amp;gt;ensure_parsability(&lt;span&gt;false&lt;/span&gt;);Â Â &lt;span&gt;//Â fillÂ TLAB&#x27;s,Â butÂ noÂ needÂ toÂ retireÂ them&lt;/span&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â UpdateÂ theÂ savedÂ marksÂ whichÂ mayÂ affectÂ theÂ rootÂ scans.&lt;/span&gt;&lt;br/&gt;Â Â heap-&amp;gt;save_marks();&lt;br/&gt;&lt;br/&gt;Â Â print_eden_and_survivor_chunk_arrays();&lt;br/&gt;&lt;br/&gt;Â Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (CMSParallelRemarkEnabled)Â {&lt;br/&gt;Â Â Â Â Â Â GCTraceTime(Debug,Â gc,Â phases)Â t(&lt;span&gt;&quot;RescanÂ (parallel)&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;Â Â Â Â Â Â do_remark_parallel();&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â GCTraceTime(Debug,Â gc,Â phases)Â t(&lt;span&gt;&quot;RescanÂ (non-parallel)&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;Â Â Â Â Â Â do_remark_non_parallel();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;Â Â verify_work_stacks_empty();&lt;br/&gt;Â Â verify_overflow_empty();&lt;br/&gt;&lt;br/&gt;Â Â {&lt;br/&gt;Â Â Â Â GCTraceTime(Trace,Â gc,Â phases)Â ts(&lt;span&gt;&quot;refProcessingWork&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;Â Â Â Â refProcessingWork();&lt;br/&gt;Â Â }&lt;br/&gt;Â Â verify_work_stacks_empty();&lt;br/&gt;Â Â verify_overflow_empty();&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (should_unload_classes())Â {&lt;br/&gt;Â Â Â Â CodeCache::gc_epilogue();&lt;br/&gt;Â Â }&lt;br/&gt;Â Â JvmtiExport::gc_epilogue();&lt;br/&gt;Â Â assert(_markStack.isEmpty(),Â &lt;span&gt;&quot;NoÂ greyÂ objects&quot;&lt;/span&gt;);&lt;br/&gt;Â Â size_tÂ ser_ovflwÂ =Â _ser_pmc_remark_ovflwÂ +Â _ser_pmc_preclean_ovflwÂ +&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _ser_kac_ovflwÂ Â Â Â Â Â Â Â +Â _ser_kac_preclean_ovflw;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (ser_ovflwÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â log_trace(gc)(&lt;span&gt;&quot;MarkingÂ stackÂ overflowÂ (benign)Â (pmc_pc=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;,Â pmc_rm=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;,Â kac=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;,Â kac_preclean=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;)&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _ser_pmc_preclean_ovflw,Â _ser_pmc_remark_ovflw,Â _ser_kac_ovflw,Â _ser_kac_preclean_ovflw);&lt;br/&gt;Â Â Â Â _markStack.expand();&lt;br/&gt;Â Â Â Â _ser_pmc_remark_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â _ser_pmc_preclean_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â _ser_kac_preclean_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â _ser_kac_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â (_par_pmc_remark_ovflwÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;Â ||Â _par_kac_ovflwÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â log_trace(gc)(&lt;span&gt;&quot;WorkÂ queueÂ overflowÂ (benign)Â (pmc_rm=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;,Â kac=&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;)&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _par_pmc_remark_ovflw,Â _par_kac_ovflw);&lt;br/&gt;Â Â Â Â Â _par_pmc_remark_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â _par_kac_ovflwÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_markStack._hit_limitÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â log_trace(gc)(&lt;span&gt;&quot;Â (benign)Â HitÂ maxÂ stackÂ sizeÂ limitÂ (&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;)&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _markStack._hit_limit);&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_markStack._failed_doubleÂ &amp;gt;Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â log_trace(gc)(&lt;span&gt;&quot;Â (benign)Â FailedÂ stackÂ doublingÂ (&quot;&lt;/span&gt;Â SIZE_FORMATÂ &lt;span&gt;&quot;),Â currentÂ capacityÂ &quot;&lt;/span&gt;Â SIZE_FORMAT,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â _markStack._failed_double,Â _markStack.capacity());&lt;br/&gt;Â Â Â }&lt;br/&gt;Â Â _markStack._hit_limitÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â _markStack._failed_doubleÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;if&lt;/span&gt;Â ((VerifyAfterGCÂ ||Â VerifyDuringGC)Â &amp;amp;&amp;amp;&lt;br/&gt;Â Â Â Â Â Â CMSHeap::heap()-&amp;gt;total_collections()Â &amp;gt;=Â VerifyGCStartAt)Â {&lt;br/&gt;Â Â Â Â verify_after_remark();&lt;br/&gt;Â Â }&lt;br/&gt;&lt;br/&gt;Â Â _gc_tracer_cm-&amp;gt;report_object_count_after_gc(&amp;amp;_is_alive_closure);&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;//Â ChangeÂ underÂ theÂ freelistLocks.&lt;/span&gt;&lt;br/&gt;Â Â _collectorStateÂ =Â Sweeping;&lt;br/&gt;Â Â &lt;span&gt;//Â CallÂ isAllClear()Â underÂ bitMapLock&lt;/span&gt;&lt;br/&gt;Â Â assert(_modUnionTable.isAllClear(),&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&quot;ShouldÂ beÂ clearÂ byÂ endÂ ofÂ theÂ finalÂ marking&quot;&lt;/span&gt;);&lt;br/&gt;Â Â assert(_ct-&amp;gt;cld_rem_set()-&amp;gt;mod_union_is_clear(),&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&quot;ShouldÂ beÂ clearÂ byÂ endÂ ofÂ theÂ finalÂ marking&quot;&lt;/span&gt;);&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section&gt;&lt;figure&gt;&lt;br/&gt;&lt;/figure&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.04205607476635514&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFI780KrHWsqJaWv13HdIoE5ZY2Nzr2Q0Jvtw6pIAcc9YgGg322Mib64w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;10272&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;Final Remark æ˜¯æœ€ç»ˆçš„ç¬¬äºŒæ¬¡æ ‡è®°ï¼Œè¿™ç§æƒ…å†µåªæœ‰åœ¨ Background GC æ‰§è¡Œäº† InitialMarking æ­¥éª¤çš„æƒ…å½¢ä¸‹æ‰ä¼šæ‰§è¡Œï¼Œå¦‚æœæ˜¯ Foreground GC æ‰§è¡Œçš„ InitialMarking æ­¥éª¤åˆ™ä¸éœ€è¦å†æ¬¡æ‰§è¡Œ FinalRemarkã€‚Final Remark çš„å¼€å§‹é˜¶æ®µä¸ Init Mark å¤„ç†çš„æµç¨‹ç›¸åŒï¼Œä½†æ˜¯åç»­å¤šäº† Card Table éå†ã€Reference å®ä¾‹çš„æ¸…ç†å¹¶å°†å…¶åŠ å…¥åˆ° Reference ç»´æŠ¤çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;pend_list&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ä¸­ï¼Œå¦‚æœè¦æ”¶é›†å…ƒæ•°æ®ä¿¡æ¯ï¼Œè¿˜è¦æ¸…ç† SystemDictionaryã€CodeCacheã€SymbolTableã€StringTable ç­‰ç»„ä»¶ä¸­ä¸å†ä½¿ç”¨çš„èµ„æºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.6.3 ç­–ç•¥&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çŸ¥é“äº†ä¸¤ä¸ª STW è¿‡ç¨‹æ‰§è¡Œæµç¨‹ï¼Œæˆ‘ä»¬åˆ†æè§£å†³å°±æ¯”è¾ƒç®€å•äº†ï¼Œç”±äºå¤§éƒ¨åˆ†é—®é¢˜éƒ½å‡ºåœ¨ Final Remark è¿‡ç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿæ‹¿è¿™ä¸ªåœºæ™¯æ¥ä¸¾ä¾‹ï¼Œä¸»è¦æ­¥éª¤ï¼š&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;2019-02-27T19:55:37.920+0800:Â 516952.915:Â [GCÂ (CMSÂ FinalÂ Remark)Â 516952.915:Â [ParNew516952.939:Â [SoftReference,Â 0Â refs,Â 0.0003857Â secs]516952.939:Â [WeakReference,Â 1362Â refs,Â 0.0002415Â secs]516952.940:Â [FinalReference,Â 146Â refs,Â 0.0001233Â secs]516952.940:Â [PhantomReference,Â 0Â refs,Â 57Â refs,Â 0.0002369Â secs]516952.940:Â [JNIÂ WeakÂ Reference,Â 0.0000662Â secs]&lt;br/&gt;[&lt;span&gt;classÂ unloading,Â 0.1770490Â secs&lt;/span&gt;]516953.329:Â [&lt;span&gt;scrubÂ symbolÂ table,Â 0.0442567Â secs&lt;/span&gt;]516953.373:Â [&lt;span&gt;scrubÂ stringÂ table,Â 0.0036072Â secs&lt;/span&gt;][&lt;span&gt;1Â CMS-remark:Â 1638504K(2048000K)&lt;/span&gt;]Â 1667558K(4352000K),Â 0.5269311Â secs]Â [Times:Â user=1.20Â sys=0.03,Â real=0.53Â secs]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;section&gt;&lt;span&gt;CMSCollector::refProcessingWork()&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;Â (should_unload_classes())Â {&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â GCTraceTime(Debug,Â gc,Â phases)Â t(&lt;span&gt;&quot;ClassÂ Unloading&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//&lt;/span&gt;Â UnloadÂ classesÂ &lt;span&gt;and&lt;/span&gt;Â purgeÂ theÂ SystemDictionary.&lt;br/&gt;Â Â Â Â Â Â boolÂ purged_classÂ =Â SystemDictionary::do_unloading(_gc_timer_cm);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//&lt;/span&gt;Â UnloadÂ nmethods.&lt;br/&gt;Â Â Â Â Â Â CodeCache::do_unloading(&amp;amp;_is_alive_closure,Â purged_class);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//&lt;/span&gt;Â PruneÂ deadÂ klassesÂ fromÂ subklass/sibling/implementorÂ lists.&lt;br/&gt;Â Â Â Â Â Â Klass::clean_weak_klass_links(purged_class);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â GCTraceTime(Debug,Â gc,Â phases)Â t(&lt;span&gt;&quot;ScrubÂ SymbolÂ Table&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//&lt;/span&gt;Â CleanÂ upÂ unreferencedÂ symbolsÂ &lt;span&gt;in&lt;/span&gt;Â symbolÂ table.&lt;br/&gt;Â Â Â Â Â Â SymbolTable::unlink();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â GCTraceTime(Debug,Â gc,Â phases)Â t(&lt;span&gt;&quot;ScrubÂ StringÂ Table&quot;&lt;/span&gt;,Â _gc_timer_cm);&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//&lt;/span&gt;Â DeleteÂ entriesÂ &lt;span&gt;for&lt;/span&gt;Â deadÂ internedÂ strings.&lt;br/&gt;Â Â Â Â Â Â StringTable::unlink(&amp;amp;_is_alive_closure);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;4.6.4 å°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­£å¸¸æƒ…å†µè¿›è¡Œçš„ Background CMS GCï¼Œå‡ºç°é—®é¢˜åŸºæœ¬éƒ½é›†ä¸­åœ¨ Reference å’Œ Class ç­‰å…ƒæ•°æ®å¤„ç†ä¸Šï¼Œåœ¨ Reference ç±»çš„é—®é¢˜å¤„ç†æ–¹é¢ï¼Œä¸ç®¡æ˜¯ FinalReferenceï¼Œè¿˜æ˜¯ SoftReferenceã€WeakReference æ ¸å¿ƒçš„æ‰‹æ®µå°±æ˜¯æ‰¾å‡†æ—¶æœº dump å¿«ç…§ï¼Œç„¶åç”¨å†…å­˜åˆ†æå·¥å…·æ¥åˆ†æã€‚Class å¤„ç†æ–¹é¢ç›®å‰é™¤äº†å…³é—­ç±»å¸è½½å¼€å…³ï¼Œæ²¡æœ‰å¤ªå¥½çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ G1 ä¸­åŒæ ·æœ‰ Reference çš„é—®é¢˜ï¼Œå¯ä»¥è§‚å¯Ÿæ—¥å¿—ä¸­çš„ Ref Procï¼Œå¤„ç†æ–¹æ³•ä¸ CMS ç±»ä¼¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.7 åœºæ™¯ä¸ƒï¼šå†…å­˜ç¢ç‰‡&amp;amp;æ”¶é›†å™¨é€€åŒ–&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.7.1 ç°è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¹¶å‘çš„ CMS GC ç®—æ³•ï¼Œé€€åŒ–ä¸º Foreground å•çº¿ç¨‹ä¸²è¡Œ GC æ¨¡å¼ï¼ŒSTW æ—¶é—´è¶…é•¿ï¼Œæœ‰æ—¶ä¼šé•¿è¾¾åå‡ ç§’ã€‚å…¶ä¸­ CMS æ”¶é›†å™¨é€€åŒ–åå•çº¿ç¨‹ä¸²è¡Œ GC ç®—æ³•æœ‰ä¸¤ç§ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.7.2 åŸå› &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;CMS å‘ç”Ÿæ”¶é›†å™¨é€€åŒ–ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ™‹å‡å¤±è´¥ï¼ˆPromotion Failedï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¡¾åæ€ä¹‰ï¼Œæ™‹å‡å¤±è´¥å°±æ˜¯æŒ‡åœ¨è¿›è¡Œ Young GC æ—¶ï¼ŒSurvivor æ”¾ä¸ä¸‹ï¼Œå¯¹è±¡åªèƒ½æ”¾å…¥ Oldï¼Œä½†æ­¤æ—¶ Old ä¹Ÿæ”¾ä¸ä¸‹ã€‚ç›´è§‰ä¸Šä¹ä¸€çœ‹è¿™ç§æƒ…å†µå¯èƒ½ä¼šç»å¸¸å‘ç”Ÿï¼Œä½†å…¶å®å› ä¸ºæœ‰ concurrentMarkSweepThread å’Œæ‹…ä¿æœºåˆ¶çš„å­˜åœ¨ï¼Œå‘ç”Ÿçš„æ¡ä»¶æ˜¯å¾ˆè‹›åˆ»çš„ï¼Œé™¤éæ˜¯çŸ­æ—¶é—´å°† Old åŒºçš„å‰©ä½™ç©ºé—´è¿…é€Ÿå¡«æ»¡ï¼Œä¾‹å¦‚ä¸Šæ–‡ä¸­è¯´çš„åŠ¨æ€å¹´é¾„åˆ¤æ–­å¯¼è‡´çš„è¿‡æ—©æ™‹å‡ï¼ˆ&lt;/span&gt;&lt;span&gt;è§ä¸‹æ–‡çš„å¢é‡æ”¶é›†æ‹…ä¿å¤±è´¥&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚å¦å¤–è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯å†…å­˜ç¢ç‰‡å¯¼è‡´çš„ Promotion Failedï¼ŒYoung GC ä»¥ä¸º Old æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œç»“æœåˆ°åˆ†é…æ—¶ï¼Œæ™‹çº§çš„å¤§å¯¹è±¡æ‰¾ä¸åˆ°è¿ç»­çš„ç©ºé—´å­˜æ”¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨ CMS ä½œä¸º GC æ”¶é›†å™¨æ—¶ï¼Œè¿è¡Œè¿‡ä¸€æ®µæ—¶é—´çš„ Old åŒºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¸…é™¤ç®—æ³•å¯¼è‡´å†…å­˜å‡ºç°å¤šæ®µçš„ä¸è¿ç»­ï¼Œå‡ºç°å¤§é‡çš„å†…å­˜ç¢ç‰‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.30515759312320917&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFG5mFRX6WWV6XQQUetlIykPfbyXGcib33ewvQ7x2La7w6Dr91NeicwaWw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1396&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;ç¢ç‰‡å¸¦æ¥äº†ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç©ºé—´åˆ†é…æ•ˆç‡è¾ƒä½&lt;/strong&gt;ï¼šä¸Šæ–‡å·²ç»æåˆ°è¿‡ï¼Œå¦‚æœæ˜¯è¿ç»­çš„ç©ºé—´ JVM å¯ä»¥é€šè¿‡ä½¿ç”¨ pointer bumping çš„æ–¹å¼æ¥åˆ†é…ï¼Œè€Œå¯¹äºè¿™ç§æœ‰å¤§é‡ç¢ç‰‡çš„ç©ºé—²é“¾è¡¨åˆ™éœ€è¦é€ä¸ªè®¿é—® freelist ä¸­çš„é¡¹æ¥è®¿é—®ï¼ŒæŸ¥æ‰¾å¯ä»¥å­˜æ”¾æ–°å»ºå¯¹è±¡çš„åœ°å€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç©ºé—´åˆ©ç”¨æ•ˆç‡å˜ä½&lt;/strong&gt;ï¼šYoung åŒºæ™‹å‡çš„å¯¹è±¡å¤§å°å¤§äºäº†è¿ç»­ç©ºé—´çš„å¤§å°ï¼Œé‚£ä¹ˆå°†ä¼šè§¦å‘ Promotion Failed ï¼Œå³ä½¿æ•´ä¸ª Old åŒºçš„å®¹é‡æ˜¯è¶³å¤Ÿçš„ï¼Œä½†ç”±äºå…¶ä¸è¿ç»­ï¼Œä¹Ÿæ— æ³•å­˜æ”¾æ–°å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æœ¬æ–‡æ‰€è¯´çš„é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¢é‡æ”¶é›†æ‹…ä¿å¤±è´¥&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ†é…å†…å­˜å¤±è´¥åï¼Œä¼šåˆ¤æ–­ç»Ÿè®¡å¾—åˆ°çš„ Young GC æ™‹å‡åˆ° Old çš„å¹³å‡å¤§å°ï¼Œä»¥åŠå½“å‰ Young åŒºå·²ä½¿ç”¨çš„å¤§å°ä¹Ÿå°±æ˜¯æœ€å¤§å¯èƒ½æ™‹å‡çš„å¯¹è±¡å¤§å°ï¼Œæ˜¯å¦å¤§äº Old åŒºçš„å‰©ä½™ç©ºé—´ã€‚åªè¦ CMS çš„å‰©ä½™ç©ºé—´æ¯”å‰ä¸¤è€…çš„ä»»æ„ä¸€è€…å¤§ï¼ŒCMS å°±è®¤ä¸ºæ™‹å‡è¿˜æ˜¯å®‰å…¨çš„ï¼Œåä¹‹ï¼Œåˆ™ä»£è¡¨ä¸å®‰å…¨ï¼Œä¸è¿›è¡ŒYoung GCï¼Œç›´æ¥è§¦å‘Full GCã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ˜¾å¼ GC&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç§æƒ…å†µå‚è§åœºæ™¯äºŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¹¶å‘æ¨¡å¼å¤±è´¥ï¼ˆConcurrent Mode Failureï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åä¸€ç§æƒ…å†µï¼Œä¹Ÿæ˜¯å‘ç”Ÿæ¦‚ç‡è¾ƒé«˜çš„ä¸€ç§ï¼Œåœ¨ GC æ—¥å¿—ä¸­ç»å¸¸èƒ½çœ‹åˆ° Concurrent Mode Failure å…³é”®å­—ã€‚è¿™ç§æ˜¯ç”±äºå¹¶å‘ Background CMS GC æ­£åœ¨æ‰§è¡Œï¼ŒåŒæ—¶åˆæœ‰ Young GC æ™‹å‡çš„å¯¹è±¡è¦æ”¾å…¥åˆ°äº† Old åŒºä¸­ï¼Œè€Œæ­¤æ—¶ Old åŒºç©ºé—´ä¸è¶³é€ æˆçš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºä»€ä¹ˆ CMS GC æ­£åœ¨æ‰§è¡Œè¿˜ä¼šå¯¼è‡´æ”¶é›†å™¨é€€åŒ–å‘¢ï¼Ÿä¸»è¦æ˜¯ç”±äº CMS æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼ˆ&lt;/span&gt;&lt;span&gt;Floating Garbage&lt;/span&gt;&lt;span&gt;ï¼‰å¼•èµ·çš„ã€‚CMS çš„å¹¶å‘æ¸…ç†é˜¶æ®µï¼ŒMutator è¿˜åœ¨è¿è¡Œï¼Œå› æ­¤ä¸æ–­æœ‰æ–°çš„åƒåœ¾äº§ç”Ÿï¼Œè€Œè¿™äº›åƒåœ¾ä¸åœ¨è¿™æ¬¡æ¸…ç†æ ‡è®°çš„èŒƒç•´é‡Œï¼Œæ— æ³•åœ¨æœ¬æ¬¡ GC è¢«æ¸…é™¤æ‰ï¼Œè¿™äº›å°±æ˜¯æµ®åŠ¨åƒåœ¾ï¼Œé™¤æ­¤ä¹‹å¤–åœ¨ Remark ä¹‹å‰é‚£äº›æ–­å¼€å¼•ç”¨è„±ç¦»äº†è¯»å†™å±éšœæ§åˆ¶çš„å¯¹è±¡ä¹Ÿç®—æµ®åŠ¨åƒåœ¾ã€‚æ‰€ä»¥ Old åŒºå›æ”¶çš„é˜ˆå€¼ä¸èƒ½å¤ªé«˜ï¼Œå¦åˆ™é¢„ç•™çš„å†…å­˜ç©ºé—´å¾ˆå¯èƒ½ä¸å¤Ÿï¼Œä»è€Œå¯¼è‡´ Concurrent Mode Failure å‘ç”Ÿã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.7.3 ç­–ç•¥&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ†æåˆ°å…·ä½“åŸå› åï¼Œæˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹æ€§è§£å†³äº†ï¼Œå…·ä½“æ€è·¯è¿˜æ˜¯ä»æ ¹å› å‡ºå‘ï¼Œå…·ä½“è§£å†³ç­–ç•¥ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å†…å­˜ç¢ç‰‡ï¼š&lt;/strong&gt;é€šè¿‡é…ç½® &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:UseCMSCompactAtFullCollection=true&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¥æ§åˆ¶ Full GCçš„è¿‡ç¨‹ä¸­æ˜¯å¦è¿›è¡Œç©ºé—´çš„æ•´ç†ï¼ˆ&lt;/span&gt;&lt;span&gt;é»˜è®¤å¼€å¯ï¼Œæ³¨æ„æ˜¯Full GCï¼Œä¸æ˜¯æ™®é€šCMS GC&lt;/span&gt;&lt;span&gt;ï¼‰ï¼Œä»¥åŠ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX: CMSFullGCsBeforeCompaction=n&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¥æ§åˆ¶å¤šå°‘æ¬¡ Full GC åè¿›è¡Œä¸€æ¬¡å‹ç¼©ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¢é‡æ”¶é›†ï¼š&lt;/strong&gt;é™ä½è§¦å‘ CMS GC çš„é˜ˆå€¼ï¼Œå³å‚æ•° &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:CMSInitiatingOccupancyFraction&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„å€¼ï¼Œè®© CMS GC å°½æ—©æ‰§è¡Œï¼Œä»¥ä¿è¯æœ‰è¶³å¤Ÿçš„è¿ç»­ç©ºé—´ï¼Œä¹Ÿå‡å°‘ Old åŒºç©ºé—´çš„ä½¿ç”¨å¤§å°ï¼Œå¦å¤–éœ€è¦ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+UseCMSInitiatingOccupancyOnly&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¥é…åˆä½¿ç”¨ï¼Œä¸ç„¶ JVM ä»…åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨è®¾å®šå€¼ï¼Œåç»­åˆ™è‡ªåŠ¨è°ƒæ•´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æµ®åŠ¨åƒåœ¾ï¼š&lt;/strong&gt;è§†æƒ…å†µæ§åˆ¶æ¯æ¬¡æ™‹å‡å¯¹è±¡çš„å¤§å°ï¼Œæˆ–è€…ç¼©çŸ­æ¯æ¬¡ CMS GC çš„æ—¶é—´ï¼Œå¿…è¦æ—¶å¯è°ƒèŠ‚ NewRatio çš„å€¼ã€‚å¦å¤–å°±æ˜¯ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+CMSScavengeBeforeRemark&lt;/span&gt;&lt;/code&gt;&lt;span&gt; åœ¨è¿‡ç¨‹ä¸­æå‰è§¦å‘ä¸€æ¬¡ Young GCï¼Œé˜²æ­¢åç»­æ™‹å‡è¿‡å¤šå¯¹è±¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;4.7.4 å°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­£å¸¸æƒ…å†µä¸‹è§¦å‘å¹¶å‘æ¨¡å¼çš„ CMS GCï¼Œåœé¡¿éå¸¸çŸ­ï¼Œå¯¹ä¸šåŠ¡å½±å“å¾ˆå°ï¼Œä½† CMS GC é€€åŒ–åï¼Œå½±å“ä¼šéå¸¸å¤§ï¼Œå»ºè®®å‘ç°ä¸€æ¬¡åå°±å½»åº•æ ¹æ²»ã€‚åªè¦èƒ½å®šä½åˆ°å†…å­˜ç¢ç‰‡ã€æµ®åŠ¨åƒåœ¾ã€å¢é‡æ”¶é›†ç›¸å…³ç­‰å…·ä½“äº§ç”ŸåŸå› ï¼Œè¿˜æ˜¯æ¯”è¾ƒå¥½è§£å†³çš„ï¼Œå…³äºå†…å­˜ç¢ç‰‡è¿™å—ï¼Œå¦‚æœ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:CMSFullGCsBeforeCompaction&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„å€¼ä¸å¥½é€‰å–çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:PrintFLSStatistics&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¥è§‚å¯Ÿå†…å­˜ç¢ç‰‡ç‡æƒ…å†µï¼Œç„¶åå†è®¾ç½®å…·ä½“çš„å€¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åå°±æ˜¯åœ¨ç¼–ç çš„æ—¶å€™ä¹Ÿè¦é¿å…éœ€è¦è¿ç»­åœ°å€ç©ºé—´çš„å¤§å¯¹è±¡çš„äº§ç”Ÿï¼Œå¦‚è¿‡é•¿çš„å­—ç¬¦ä¸²ï¼Œç”¨äºå­˜æ”¾é™„ä»¶ã€åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–çš„ byte æ•°ç»„ç­‰ï¼Œè¿˜æœ‰å°±æ˜¯è¿‡æ—©æ™‹å‡é—®é¢˜å°½é‡åœ¨çˆ†å‘é—®é¢˜å‰å°±é¿å…æ‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4.8 åœºæ™¯å…«ï¼šå †å¤–å†…å­˜ OOM&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.8.1 ç°è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å†…å­˜ä½¿ç”¨ç‡ä¸æ–­ä¸Šå‡ï¼Œç”šè‡³å¼€å§‹ä½¿ç”¨ SWAP å†…å­˜ï¼ŒåŒæ—¶å¯èƒ½å‡ºç° GC æ—¶é—´é£™å‡ï¼Œçº¿ç¨‹è¢« Block ç­‰ç°è±¡ï¼Œ&lt;strong&gt;é€šè¿‡ top å‘½ä»¤å‘ç° Java è¿›ç¨‹çš„ RES ç”šè‡³è¶…è¿‡äº† &lt;/strong&gt;&lt;strong&gt;&lt;code&gt;-Xmx&lt;/code&gt; çš„å¤§å°&lt;/strong&gt;ã€‚å‡ºç°è¿™äº›ç°è±¡æ—¶ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯å‡ºç°äº†å †å¤–å†…å­˜æ³„æ¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.8.2 åŸå› &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JVM çš„å †å¤–å†…å­˜æ³„æ¼ï¼Œä¸»è¦æœ‰ä¸¤ç§çš„åŸå› ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.8.3 ç­–ç•¥&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å“ªç§åŸå› é€ æˆçš„å †å¤–å†…å­˜æ³„æ¼ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæ˜¯å“ªç§åŸå› å¯¼è‡´çš„å †å¤–å†…å­˜æ³„æ¼ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ NMTï¼ˆ&lt;/span&gt;&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;NativeMemoryTracking&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ï¼‰ è¿›è¡Œåˆ†æã€‚åœ¨é¡¹ç›®ä¸­æ·»åŠ  &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:NativeMemoryTracking=detail&lt;/span&gt;&lt;/code&gt;&lt;span&gt; JVMå‚æ•°åé‡å¯é¡¹ç›®ï¼ˆ&lt;/span&gt;&lt;span&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰“å¼€ NMT ä¼šå¸¦æ¥ 5%~10% çš„æ€§èƒ½æŸè€—&lt;/span&gt;&lt;span&gt;ï¼‰ã€‚ä½¿ç”¨å‘½ä»¤ &lt;/span&gt;&lt;code&gt;&lt;span&gt;jcmd pid VM.native_memory detail&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æŸ¥çœ‹å†…å­˜åˆ†å¸ƒã€‚é‡ç‚¹è§‚å¯Ÿ total ä¸­çš„ committedï¼Œå› ä¸º jcmd å‘½ä»¤æ˜¾ç¤ºçš„å†…å­˜åŒ…å«å †å†…å†…å­˜ã€Code åŒºåŸŸã€é€šè¿‡ &lt;/span&gt;&lt;code&gt;&lt;span&gt;Unsafe.allocateMemory&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å’Œ &lt;/span&gt;&lt;code&gt;&lt;span&gt;DirectByteBuffer&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ç”³è¯·çš„å†…å­˜ï¼Œä½†æ˜¯ä¸åŒ…å«å…¶ä»– Native Codeï¼ˆ&lt;/span&gt;&lt;span&gt;C ä»£ç &lt;/span&gt;&lt;span&gt;ï¼‰ç”³è¯·çš„å †å¤–å†…å­˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœ total ä¸­çš„ committed å’Œ top ä¸­çš„ RES ç›¸å·®ä¸å¤§ï¼Œåˆ™åº”ä¸ºä¸»åŠ¨ç”³è¯·çš„å †å¤–å†…å­˜æœªé‡Šæ”¾é€ æˆçš„ï¼Œå¦‚æœç›¸å·®è¾ƒå¤§ï¼Œåˆ™åŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯ JNI è°ƒç”¨é€ æˆçš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åŸå› ä¸€ï¼šä¸»åŠ¨ç”³è¯·æœªé‡Šæ”¾&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JVM ä½¿ç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:MaxDirectMemorySize=size&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‚æ•°æ¥æ§åˆ¶å¯ç”³è¯·çš„å †å¤–å†…å­˜çš„æœ€å¤§å€¼ã€‚åœ¨ Java 8 ä¸­ï¼Œå¦‚æœæœªé…ç½®è¯¥å‚æ•°ï¼Œé»˜è®¤å’Œ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-Xmx&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ç›¸ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;NIO å’Œ Netty éƒ½ä¼šå– &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:MaxDirectMemorySize&lt;/span&gt;&lt;/code&gt;&lt;span&gt; é…ç½®çš„å€¼ï¼Œæ¥é™åˆ¶ç”³è¯·çš„å †å¤–å†…å­˜çš„å¤§å°ã€‚NIO å’Œ Netty ä¸­è¿˜æœ‰ä¸€ä¸ªè®¡æ•°å™¨å­—æ®µï¼Œç”¨æ¥è®¡ç®—å½“å‰å·²ç”³è¯·çš„å †å¤–å†…å­˜å¤§å°ï¼ŒNIO ä¸­æ˜¯ &lt;/span&gt;&lt;code&gt;&lt;span&gt;java.nio.Bits#totalCapacity&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€Netty ä¸­ &lt;/span&gt;&lt;code&gt;&lt;span&gt;io.netty.util.internal.PlatformDependent#DIRECT_MEMORY_COUNTER&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç”³è¯·å †å¤–å†…å­˜æ—¶ï¼ŒNIO å’Œ Netty ä¼šæ¯”è¾ƒè®¡æ•°å™¨å­—æ®µå’Œæœ€å¤§å€¼çš„å¤§å°ï¼Œå¦‚æœè®¡æ•°å™¨çš„å€¼è¶…è¿‡äº†æœ€å¤§å€¼çš„é™åˆ¶ï¼Œä¼šæŠ›å‡º OOM çš„å¼‚å¸¸ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;NIO ä¸­æ˜¯ï¼š&lt;/span&gt;&lt;code&gt;&lt;span&gt;OutOfMemoryError: Direct buffer memory&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Netty ä¸­æ˜¯ï¼š&lt;/span&gt;&lt;code&gt;&lt;span&gt;OutOfDirectMemoryError: failed to allocate  capacity  byte(s) of direct memory (used: usedMemory , max: DIRECT_MEMORY_LIMIT )&lt;/span&gt;&lt;/code&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å¯ä»¥æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨å †å¤–å†…å­˜çš„ï¼ŒNIO æˆ–è€…æ˜¯ Nettyï¼Œé€šè¿‡åå°„ï¼Œè·å–åˆ°å¯¹åº”ç»„ä»¶ä¸­çš„è®¡æ•°å™¨å­—æ®µï¼Œå¹¶åœ¨é¡¹ç›®ä¸­å¯¹è¯¥å­—æ®µçš„æ•°å€¼è¿›è¡Œæ‰“ç‚¹ï¼Œå³å¯å‡†ç¡®åœ°ç›‘æ§åˆ°è¿™éƒ¨åˆ†å †å¤–å†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡ Debug çš„æ–¹å¼ç¡®å®šä½¿ç”¨å †å¤–å†…å­˜çš„åœ°æ–¹æ˜¯å¦æ­£ç¡®æ‰§è¡Œäº†é‡Šæ”¾å†…å­˜çš„ä»£ç ã€‚å¦å¤–ï¼Œéœ€è¦æ£€æŸ¥ JVM çš„å‚æ•°æ˜¯å¦æœ‰ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+DisableExplicitGC&lt;/span&gt;&lt;/code&gt;&lt;span&gt; é€‰é¡¹ï¼Œå¦‚æœæœ‰å°±å»æ‰ï¼Œå› ä¸ºè¯¥å‚æ•°ä¼šä½¿ System.gc å¤±æ•ˆã€‚ï¼ˆ&lt;/span&gt;&lt;span&gt;åœºæ™¯äºŒï¼šæ˜¾å¼ GC çš„å»ä¸ç•™&lt;/span&gt;&lt;span&gt;ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åŸå› äºŒï¼šé€šè¿‡ JNI è°ƒç”¨çš„ Native Code ç”³è¯·çš„å†…å­˜æœªé‡Šæ”¾&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç§æƒ…å†µæ’æŸ¥èµ·æ¥æ¯”è¾ƒå›°éš¾ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Google perftools + Btrace ç­‰å·¥å…·ï¼Œå¸®åŠ©æˆ‘ä»¬åˆ†æå‡ºé—®é¢˜çš„ä»£ç åœ¨å“ªé‡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;gperftools æ˜¯ Google å¼€å‘çš„ä¸€æ¬¾éå¸¸å®ç”¨çš„å·¥å…·é›†ï¼Œå®ƒçš„åŸç†æ˜¯åœ¨ Java åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå½“è°ƒç”¨ malloc æ—¶æ¢ç”¨å®ƒçš„ libtcmalloc.soï¼Œè¿™æ ·å°±èƒ½å¯¹å†…å­˜åˆ†é…æƒ…å†µåšä¸€äº›ç»Ÿè®¡ã€‚æˆ‘ä»¬ä½¿ç”¨ gperftools æ¥è¿½è¸ªåˆ†é…å†…å­˜çš„å‘½ä»¤ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡ gperftools å‘ç° &lt;/span&gt;&lt;code&gt;&lt;span&gt;Java_java_util_zip_Inflater_init&lt;/span&gt;&lt;/code&gt;&lt;span&gt; æ¯”è¾ƒå¯ç–‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.42979002624671914&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFC0gawic22114sP8s5ATTBGCSbqDVRoBmM5VoXdPjibqRWy2XCeJaZhGQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1524&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;æ¥ä¸‹æ¥å¯ä»¥ä½¿ç”¨ Btraceï¼Œå°è¯•å®šä½å…·ä½“çš„è°ƒç”¨æ ˆã€‚Btrace æ˜¯ Sun æ¨å‡ºçš„ä¸€æ¬¾ Java è¿½è¸ªã€ç›‘æ§å·¥å…·ï¼Œå¯ä»¥åœ¨ä¸åœæœºçš„æƒ…å†µä¸‹å¯¹çº¿ä¸Šçš„ Java ç¨‹åºè¿›è¡Œç›‘æ§ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé€šè¿‡ Btrace å®šä½å‡ºé¡¹ç›®ä¸­çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;ZipHelper&lt;/span&gt;&lt;/code&gt;&lt;span&gt; åœ¨é¢‘ç¹è°ƒç”¨ &lt;/span&gt;&lt;code&gt;&lt;span&gt;GZIPInputStream&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ï¼Œåœ¨å †å¤–å†…å­˜åˆ†é…å¯¹è±¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.43343465045592705&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFo2v6fzLUrRJfvZ3iao7PTpfY3R5jFdc0yicq5icktmV5CjVP786rJqsLQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1645&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;æœ€ç»ˆå®šä½åˆ°æ˜¯ï¼Œé¡¹ç›®ä¸­å¯¹ &lt;/span&gt;&lt;code&gt;&lt;span&gt;GIPInputStream&lt;/span&gt;&lt;/code&gt;&lt;span&gt; çš„ä½¿ç”¨é”™è¯¯ï¼Œæ²¡æœ‰æ­£ç¡®çš„ close()ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.2718720602069614&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFmFJoNUa6jLlVCfl1sibEciaKnN7jRx5Tt6ibjkzdqDNthRh0icUXNwpToQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2126&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;é™¤äº†é¡¹ç›®æœ¬èº«çš„åŸå› ï¼Œè¿˜å¯èƒ½æœ‰å¤–éƒ¨ä¾èµ–å¯¼è‡´çš„æ³„æ¼ï¼Œå¦‚ Netty å’Œ Spring Bootï¼Œè¯¦ç»†æƒ…å†µå¯ä»¥å­¦ä¹ ä¸‹è¿™ä¸¤ç¯‡æ–‡ç« ï¼š&lt;/span&gt;&lt;span&gt;ã€Š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651750037&amp;amp;idx=2&amp;amp;sn=847fb15d4413354355c33a46a7bccf55&amp;amp;chksm=bd12a7d88a652ecea5789073973abb9545e76a8972c843968a6efd1fb3a918ef07eed8abb37e&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ç–‘æ¡ˆè¿½è¸ªï¼šSpring Bootå†…å­˜æ³„éœ²æ’æŸ¥è®°&lt;/a&gt;ã€‹ã€ã€Š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NjQ5MTI5OA==&amp;amp;mid=2651749037&amp;amp;idx=2&amp;amp;sn=d1d6b0348eea5cd80e2c7a56c8a61fa9&amp;amp;chksm=bd12a3e08a652af684fd8d96e81fc0e0fded69dd847051e6b0f791f3726da0415c9552ee2615&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Nettyå †å¤–å†…å­˜æ³„éœ²æ’æŸ¥ç››å®´&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Nettyå †å¤–å†…å­˜æ³„éœ²æ’æŸ¥ç››å®´&lt;/a&gt;ã€‹&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;4.8.4 å°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆå¯ä»¥ä½¿ç”¨ NMT + jcmd åˆ†ææ³„æ¼çš„å †å¤–å†…å­˜æ˜¯å“ªé‡Œç”³è¯·ï¼Œç¡®å®šåŸå› åï¼Œä½¿ç”¨ä¸åŒçš„æ‰‹æ®µï¼Œè¿›è¡ŒåŸå› å®šä½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.3456913827655311&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFGGEWTylxLuu32uLTKCCE5uOSFJCbRxibJPDCDtNn68riasyJIGnH9nzQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;998&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4.9 åœºæ™¯ä¹ï¼šJNI å¼•å‘çš„ GC é—®é¢˜&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;4.9.1 ç°è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨ GC æ—¥å¿—ä¸­ï¼Œå‡ºç° GC Cause ä¸º GCLocker Initiated GCã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;2020&lt;span&gt;-09-23T16&lt;/span&gt;&lt;span&gt;:49:09.727+0800&lt;/span&gt;:Â 504426&lt;span&gt;.742&lt;/span&gt;:Â &lt;span&gt;[GCÂ (GCLockerÂ InitiatedÂ GC)Â 504426.742:Â [ParNewÂ (promotionÂ failed):Â 209716K-&amp;gt;6042K(1887488K),Â 0.0843330Â secs]&lt;/span&gt;Â 1449487&lt;span&gt;K-&lt;/span&gt;&amp;gt;1347626&lt;span&gt;K&lt;/span&gt;(3984640&lt;span&gt;K&lt;/span&gt;),Â 0&lt;span&gt;.0848963&lt;/span&gt;Â &lt;span&gt;secs&lt;/span&gt;]Â &lt;span&gt;[Times:Â user=0.19Â sys=0.00,Â real=0.09Â secs]&lt;/span&gt;&lt;br/&gt;2020&lt;span&gt;-09-23T16&lt;/span&gt;&lt;span&gt;:49:09.812+0800&lt;/span&gt;:Â 504426&lt;span&gt;.827&lt;/span&gt;:Â &lt;span&gt;[FullÂ GCÂ (GCLockerÂ InitiatedÂ GC)Â 504426.827:Â [CMS:Â 1341583K-&amp;gt;419699K(2097152K),Â 1.8482275Â secs]&lt;/span&gt;Â 1347626&lt;span&gt;K-&lt;/span&gt;&amp;gt;419699&lt;span&gt;K&lt;/span&gt;(3984640&lt;span&gt;K&lt;/span&gt;),Â &lt;span&gt;[Metaspace:Â 297780K-&amp;gt;297780K(1329152K)]&lt;/span&gt;,Â 1&lt;span&gt;.8490564&lt;/span&gt;Â &lt;span&gt;secs&lt;/span&gt;]Â &lt;span&gt;[Times:Â user=1.62Â sys=0.20,Â real=1.85Â secs]&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;4.9.2 åŸå› &lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JNIï¼ˆ&lt;/span&gt;&lt;span&gt;Java Native Interface&lt;/span&gt;&lt;span&gt;ï¼‰æ„ä¸º Java æœ¬åœ°è°ƒç”¨ï¼Œå®ƒå…è®¸ Java ä»£ç å’Œå…¶ä»–è¯­è¨€å†™çš„ Native ä»£ç è¿›è¡Œäº¤äº’ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JNI å¦‚æœéœ€è¦è·å– JVM ä¸­çš„ String æˆ–è€…æ•°ç»„ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äº Native ä»£ç ç›´æ¥ä½¿ç”¨äº† JVM å †åŒºçš„æŒ‡é’ˆï¼Œå¦‚æœè¿™æ—¶å‘ç”Ÿ GCï¼Œå°±ä¼šå¯¼è‡´æ•°æ®é”™è¯¯ã€‚å› æ­¤ï¼Œåœ¨å‘ç”Ÿæ­¤ç±» JNI è°ƒç”¨æ—¶ï¼Œç¦æ­¢ GC çš„å‘ç”Ÿï¼ŒåŒæ—¶é˜»æ­¢å…¶ä»–çº¿ç¨‹è¿›å…¥ JNI ä¸´ç•ŒåŒºï¼Œç›´åˆ°æœ€åä¸€ä¸ªçº¿ç¨‹é€€å‡ºä¸´ç•ŒåŒºæ—¶è§¦å‘ä¸€æ¬¡ GCã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;GC Locker å®éªŒï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;GCLockerTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â ITERSÂ =Â &lt;span&gt;100&lt;/span&gt;;&lt;br/&gt;Â Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â ARR_SIZEÂ =Â Â &lt;span&gt;10000&lt;/span&gt;;&lt;br/&gt;Â Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â WINDOWÂ =Â &lt;span&gt;10000000&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;native&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;acquire&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;[]Â arr)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;native&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;release&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;[]Â arr)&lt;/span&gt;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â Object[]Â windowÂ =Â &lt;span&gt;new&lt;/span&gt;Â Object[WINDOW];&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String...Â args)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ThrowableÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â System.loadLibrary(&lt;span&gt;&quot;GCLockerTest&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;[]Â arrÂ =Â &lt;span&gt;new&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;[ARR_SIZE];&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â ITERS;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â acquire(arr);&lt;br/&gt;Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;Acquired&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â cÂ =Â &lt;span&gt;0&lt;/span&gt;;Â cÂ &amp;lt;Â WINDOW;Â c++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â window[c]Â =Â &lt;span&gt;new&lt;/span&gt;Â Object();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ThrowableÂ t)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â omit&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;finally&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;Releasing&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â release(arr);&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â }&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;hr/&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;#&lt;span&gt;include&lt;/span&gt;Â &lt;span&gt;&amp;lt;jni.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;#&lt;span&gt;include&lt;/span&gt;Â &lt;span&gt;&quot;GCLockerTest.h&quot;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;static&lt;/span&gt;Â jbyte*Â sink;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;JNIEXPORTÂ &lt;span&gt;void&lt;/span&gt;Â JNICALLÂ &lt;span&gt;Java_GCLockerTest_acquire&lt;/span&gt;&lt;span&gt;(JNIEnv*Â env,Â jclassÂ klass,Â jintArrayÂ arr)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;sinkÂ =Â (*env)-&amp;gt;GetPrimitiveArrayCritical(env,Â arr,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;JNIEXPORTÂ &lt;span&gt;void&lt;/span&gt;Â JNICALLÂ &lt;span&gt;Java_GCLockerTest_release&lt;/span&gt;&lt;span&gt;(JNIEnv*Â env,Â jclassÂ klass,Â jintArrayÂ arr)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;(*env)-&amp;gt;ReleasePrimitiveArrayCritical(env,Â arr,Â sink,Â &lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;}&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;è¿è¡Œè¯¥ JNI ç¨‹åºï¼Œå¯ä»¥çœ‹åˆ°å‘ç”Ÿçš„ GC éƒ½æ˜¯ GCLocker Initiated GCï¼Œå¹¶ä¸”æ³¨æ„åœ¨ â€œAcquiredâ€ å’Œ â€œReleasedâ€ æ—¶ä¸å¯èƒ½å‘ç”Ÿ GCã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.42289719626168226&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFFeTUBhRYXPkib6QyGBwDSAANkTPQ2vpxVkMialIDHtkWiacZvb5Sytvbw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1712&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;GC Locker å¯èƒ½å¯¼è‡´çš„ä¸è‰¯åæœæœ‰ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœæ­¤æ—¶æ˜¯ Young åŒºä¸å¤Ÿ Allocation Failure å¯¼è‡´çš„ GCï¼Œç”±äºæ— æ³•è¿›è¡Œ Young GCï¼Œä¼šå°†å¯¹è±¡ç›´æ¥åˆ†é…è‡³ Old åŒºã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¦‚æœ Old åŒºä¹Ÿæ²¡æœ‰ç©ºé—´äº†ï¼Œåˆ™ä¼šç­‰å¾…é”é‡Šæ”¾ï¼Œå¯¼è‡´çº¿ç¨‹é˜»å¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯èƒ½è§¦å‘é¢å¤–ä¸å¿…è¦çš„ Young GCï¼ŒJDK æœ‰ä¸€ä¸ª Bugï¼Œæœ‰ä¸€å®šçš„å‡ ç‡ï¼Œæœ¬æ¥åªè¯¥è§¦å‘ä¸€æ¬¡ GCLocker Initiated GC çš„ Young GCï¼Œå®é™…å‘ç”Ÿäº†ä¸€æ¬¡ Allocation Failure GC åˆç´§æ¥ç€ä¸€æ¬¡ GCLocker Initiated GCã€‚æ˜¯å› ä¸º GCLocker Initiated GC çš„å±æ€§è¢«è®¾ä¸º fullï¼Œå¯¼è‡´ä¸¤æ¬¡ GC ä¸èƒ½æ”¶æ•›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;4.9.3 ç­–ç•¥&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;æ·»åŠ  &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX+PrintJNIGCStalls&lt;/span&gt;&lt;/code&gt;&lt;span&gt; å‚æ•°ï¼Œå¯ä»¥æ‰“å°å‡ºå‘ç”Ÿ JNI è°ƒç”¨æ—¶çš„çº¿ç¨‹ï¼Œè¿›ä¸€æ­¥åˆ†æï¼Œæ‰¾åˆ°å¼•å‘é—®é¢˜çš„ JNI è°ƒç”¨ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;JNI è°ƒç”¨éœ€è¦è°¨æ…ï¼Œä¸ä¸€å®šå¯ä»¥æå‡æ€§èƒ½ï¼Œåè€Œå¯èƒ½é€ æˆ GC é—®é¢˜ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å‡çº§ JDK ç‰ˆæœ¬åˆ° 14ï¼Œé¿å… &lt;/span&gt;&lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8048556&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;JDK-8048556&lt;/span&gt;&lt;/a&gt;&lt;span&gt; å¯¼è‡´çš„é‡å¤ GCã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.36304062909567497&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyF5cJichumdiaic5tm9H34IeT4YBmWbxEm19ibaQlfb1cWkNDf3BjagrwMcg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1526&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;strong&gt;4.9.4 å°ç»“&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;JNI äº§ç”Ÿçš„ GC é—®é¢˜è¾ƒéš¾æ’æŸ¥ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;5. æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠæ•´ä¸ªæ–‡ç« å†…å®¹æ€»ç»“ä¸€ä¸‹ï¼Œæ–¹ä¾¿å¤§å®¶æ•´ä½“åœ°ç†è§£å›é¡¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;5.1 å¤„ç†æµç¨‹ï¼ˆSOPï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸‹å›¾ä¸ºæ•´ä½“ GC é—®é¢˜æ™®é€‚çš„å¤„ç†æµç¨‹ï¼Œé‡ç‚¹çš„åœ°æ–¹ä¸‹é¢ä¼šå•ç‹¬æ ‡æ³¨ï¼Œå…¶ä»–çš„åŸºæœ¬éƒ½æ˜¯æ ‡å‡†å¤„ç†æµç¨‹ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ï¼Œæœ€ååœ¨æ•´ä¸ªé—®é¢˜éƒ½å¤„ç†å®Œä¹‹åæœ‰æ¡ä»¶çš„è¯å»ºè®®åšä¸€ä¸‹å¤ç›˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;img data-ratio=&quot;0.33172302737520126&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFMExlddOJ3WaM5BWEESfKsfpPhiczKk9KJ4wJ6XNmrKDTLd9YDJkFYQQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;7452&quot; title=&quot;&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åˆ¶å®šæ ‡å‡†ï¼š&lt;/strong&gt;è¿™å—å†…å®¹å…¶å®éå¸¸é‡è¦ï¼Œä½†å¤§éƒ¨åˆ†ç³»ç»Ÿéƒ½æ˜¯ç¼ºå¤±çš„ï¼Œç¬”è€…è¿‡å¾€é¢è¯•çš„åŒå­¦ä¸­åªæœ‰ä¸åˆ°ä¸€æˆçš„åŒå­¦èƒ½ç»™å‡ºè‡ªå·±çš„ç³»ç»Ÿ GC æ ‡å‡†åˆ°åº•ä»€ä¹ˆæ ·ï¼Œå…¶ä»–çš„éƒ½æ˜¯ç”¨çš„ç»Ÿä¸€æŒ‡æ ‡æ¨¡æ¿ï¼Œç¼ºå°‘é¢„è§æ€§ï¼Œå…·ä½“æŒ‡æ ‡åˆ¶å®šå¯ä»¥å‚è€ƒ 3.1 ä¸­çš„å†…å®¹ï¼Œéœ€è¦ç»“åˆåº”ç”¨ç³»ç»Ÿçš„ TP9999 æ—¶é—´å’Œå»¶è¿Ÿã€ååé‡ç­‰è®¾å®šå…·ä½“çš„æŒ‡æ ‡ï¼Œè€Œä¸æ˜¯è¢«é—®é¢˜é©±åŠ¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¿ç•™ç°åœºï¼š&lt;/strong&gt;ç›®å‰çº¿ä¸ŠæœåŠ¡åŸºæœ¬éƒ½æ˜¯åˆ†å¸ƒå¼æœåŠ¡ï¼ŒæŸä¸ªèŠ‚ç‚¹å‘ç”Ÿé—®é¢˜åï¼Œå¦‚æœæ¡ä»¶å…è®¸ä¸€å®šä¸è¦ç›´æ¥æ“ä½œé‡å¯ã€å›æ»šç­‰åŠ¨ä½œæ¢å¤ï¼Œä¼˜å…ˆé€šè¿‡æ‘˜æ‰æµé‡çš„æ–¹å¼æ¥æ¢å¤ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥å°†å †ã€æ ˆã€GC æ—¥å¿—ç­‰å…³é”®ä¿¡æ¯ä¿ç•™ä¸‹æ¥ï¼Œä¸ç„¶é”™è¿‡äº†å®šä½æ ¹å› çš„æ—¶æœºï¼Œåç»­è§£å†³éš¾åº¦å°†å¤§å¤§å¢åŠ ã€‚å½“ç„¶é™¤äº†è¿™äº›ï¼Œåº”ç”¨æ—¥å¿—ã€ä¸­é—´ä»¶æ—¥å¿—ã€å†…æ ¸æ—¥å¿—ã€å„ç§ Metrics æŒ‡æ ‡ç­‰å¯¹é—®é¢˜åˆ†æä¹Ÿæœ‰å¾ˆå¤§å¸®åŠ©ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;å› æœåˆ†æï¼š&lt;/strong&gt;åˆ¤æ–­ GC å¼‚å¸¸ä¸å…¶ä»–ç³»ç»ŸæŒ‡æ ‡å¼‚å¸¸çš„å› æœå…³ç³»ï¼Œå¯ä»¥å‚è€ƒç¬”è€…åœ¨ 3.2 ä¸­ä»‹ç»çš„æ—¶åºåˆ†æã€æ¦‚ç‡åˆ†æã€å®éªŒåˆ†æã€åè¯åˆ†æç­‰ 4 ç§å› æœåˆ†ææ³•ï¼Œé¿å…åœ¨æ’æŸ¥è¿‡ç¨‹ä¸­èµ°å…¥è¯¯åŒºã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ ¹å› åˆ†æï¼š&lt;/strong&gt;ç¡®å®æ˜¯ GC çš„é—®é¢˜åï¼Œå¯ä»¥å€ŸåŠ©ä¸Šæ–‡æåˆ°çš„å·¥å…·å¹¶é€šè¿‡ 5 Why æ ¹å› åˆ†ææ³•ä»¥åŠè·Ÿç¬¬ä¸‰èŠ‚ä¸­çš„ä¹ç§å¸¸è§çš„åœºæ™¯è¿›è¡Œé€ä¸€åŒ¹é…ï¼Œæˆ–è€…ç›´æ¥å‚è€ƒä¸‹æ–‡çš„æ ¹å› é±¼éª¨å›¾ï¼Œæ‰¾å‡ºé—®é¢˜å‘ç”Ÿæ ¹å› ï¼Œæœ€åå†é€‰æ‹©ä¼˜åŒ–æ‰‹æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;5.2 æ ¹å› é±¼éª¨å›¾&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€ä¸Šä¸€å¼ é—®é¢˜æ ¹å› é±¼éª¨å›¾ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åœ¨å¤„ç†ä¸€ä¸ª GC é—®é¢˜æ—¶ï¼Œåªè¦èƒ½å®šä½åˆ°é—®é¢˜çš„â€œç—…ç¶â€ï¼Œæœ‰çš„æ”¾çŸ¢ï¼Œå…¶å®å°±ç›¸å½“äºè§£å†³äº† 80%ï¼Œå¦‚æœåœ¨æŸäº›åœºæ™¯ä¸‹ä¸å¤ªå¥½å®šä½ï¼Œå¤§å®¶å¯ä»¥å€ŸåŠ©è¿™ç§æ ¹å› åˆ†æå›¾é€šè¿‡&lt;strong&gt;æ’é™¤æ³•&lt;/strong&gt;å»å®šä½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.6692708333333334&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFoVoSrZIyVnyoFyle8ZugSPicZ5lnSojiaaooxIXA6DibDjiaYK8pyLDQSw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1920&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;5.3 è°ƒä¼˜å»ºè®®&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;Trade Offï¼š&lt;/strong&gt;ä¸ CAP æ³¨å®šè¦ç¼ºä¸€è§’ä¸€æ ·ï¼ŒGC ä¼˜åŒ–è¦åœ¨å»¶è¿Ÿï¼ˆ&lt;/span&gt;&lt;span&gt;Latency&lt;/span&gt;&lt;span&gt;ï¼‰ã€ååé‡ï¼ˆ&lt;/span&gt;&lt;span&gt;Throughput&lt;/span&gt;&lt;span&gt;ï¼‰ã€å®¹é‡ï¼ˆ&lt;/span&gt;&lt;span&gt;Capacity&lt;/span&gt;&lt;span&gt;ï¼‰ä¸‰è€…ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æœ€ç»ˆæ‰‹æ®µï¼š&lt;/strong&gt;GC å‘ç”Ÿé—®é¢˜ä¸æ˜¯ä¸€å®šè¦å¯¹ JVM çš„ GC å‚æ•°è¿›è¡Œè°ƒä¼˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯é€šè¿‡ GC çš„æƒ…å†µæ‰¾å‡ºä¸€äº›ä¸šåŠ¡é—®é¢˜ï¼Œåˆ‡è®°ä¸Šæ¥å°±å¯¹ GC å‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œå½“ç„¶æœ‰æ˜ç¡®é…ç½®é”™è¯¯çš„åœºæ™¯é™¤å¤–ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ§åˆ¶å˜é‡ï¼š&lt;/strong&gt;æ§åˆ¶å˜é‡æ³•æ˜¯åœ¨è’™ç‰¹å¡æ´›ï¼ˆ&lt;/span&gt;&lt;span&gt;Monte Carlo&lt;/span&gt;&lt;span&gt;ï¼‰æ–¹æ³•ä¸­ç”¨äºå‡å°‘æ–¹å·®çš„ä¸€ç§æŠ€æœ¯æ–¹æ³•ï¼Œæˆ‘ä»¬è°ƒä¼˜çš„æ—¶å€™å°½é‡ä¹Ÿè¦ä½¿ç”¨ï¼Œæ¯æ¬¡è°ƒä¼˜è¿‡ç¨‹å°½å¯èƒ½åªè°ƒæ•´ä¸€ä¸ªå˜é‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å–„ç”¨æœç´¢ï¼š&lt;/strong&gt;ç†è®ºä¸Š 99.99% çš„ GC é—®é¢˜åŸºæœ¬éƒ½è¢«é‡åˆ°äº†ï¼Œæˆ‘ä»¬è¦å­¦ä¼šä½¿ç”¨æœç´¢å¼•æ“çš„é«˜çº§æŠ€å·§ï¼Œé‡ç‚¹å…³æ³¨ StackOverFlowã€Github ä¸Šçš„ Issueã€ä»¥åŠå„ç§è®ºå›åšå®¢ï¼Œå…ˆçœ‹çœ‹å…¶ä»–äººæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Œä¼šè®©è§£å†³é—®é¢˜äº‹åŠåŠŸå€ã€‚èƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œä½ çš„æœç´¢èƒ½åŠ›åŸºæœ¬è¿‡å…³äº†~&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;è°ƒä¼˜é‡ç‚¹ï¼š&lt;/strong&gt;æ€»ä½“ä¸Šæ¥è®²ï¼Œæˆ‘ä»¬å¼€å‘çš„è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ç±»å‹ä¹ŸåŸºæœ¬éƒ½ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œå¤ªç®€å•æˆ–å¤ªå¤æ‚çš„åŸºæœ¬é‡åˆ°çš„æ¦‚ç‡å¾ˆä½ï¼Œç¬”è€…è¿™é‡Œå°†ä¸­é—´æœ€é‡è¦çš„ä¸‰ä¸ªåœºæ™¯æ·»åŠ äº†â€œ*â€æ ‡è¯†ï¼Œå¸Œæœ›é˜…è¯»å®Œæœ¬æ–‡ä¹‹åå¯ä»¥è§‚å¯Ÿä¸‹è‡ªå·±è´Ÿè´£çš„ç³»ç»Ÿï¼Œæ˜¯å¦å­˜åœ¨ä¸Šè¿°é—®é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;GC å‚æ•°ï¼š&lt;/strong&gt;å¦‚æœå †ã€æ ˆç¡®å®æ— æ³•ç¬¬ä¸€æ—¶é—´ä¿ç•™ï¼Œä¸€å®šè¦ä¿ç•™ GC æ—¥å¿—ï¼Œè¿™æ ·æˆ‘ä»¬æœ€èµ·ç å¯ä»¥çœ‹åˆ° GC Causeï¼Œæœ‰ä¸€ä¸ªå¤§æ¦‚çš„æ’æŸ¥æ–¹å‘ã€‚å…³äº GC æ—¥å¿—ç›¸å…³å‚æ•°ï¼Œæœ€åŸºæœ¬çš„ &lt;/span&gt;&lt;code&gt;&lt;span&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;/span&gt;&lt;/code&gt;&lt;span&gt; ç­‰ä¸€äº›å‚æ•°å°±ä¸å†æäº†ï¼Œç¬”è€…å»ºè®®æ·»åŠ ä»¥ä¸‹å‚æ•°ï¼Œå¯ä»¥æé«˜æˆ‘ä»¬åˆ†æé—®é¢˜çš„æ•ˆç‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.43371757925072046&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/hEx03cFgUsXnsAxbADiam0icpM2GoDibIyFKhoF4nxicMez1ic1UJqkaZ2YRtzqO5oZXdWHSYGpaCfRkhDn9wyenibag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1388&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;6. å†™åœ¨æœ€å&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åï¼Œå†è¯´ç¬”è€…ä¸ªäººçš„ä¸€äº›å°å»ºè®®ï¼Œé‡åˆ°ä¸€äº› GC é—®é¢˜ï¼Œå¦‚æœæœ‰ç²¾åŠ›ï¼Œä¸€å®šè¦æ¢æœ¬ç©·æºï¼Œæ‰¾å‡ºæœ€æ·±å±‚æ¬¡çš„åŸå› ã€‚å¦å¤–ï¼Œåœ¨è¿™ä¸ªä¿¡æ¯æ³›æ»¥çš„æ—¶ä»£ï¼Œæœ‰ä¸€äº›è¢«â€œå¥‰ä¸ºåœ­è‡¬â€çš„ç»éªŒå¯èƒ½éƒ½æ˜¯é”™è¯¯çš„ï¼Œå°½é‡å…»æˆçœ‹æºç çš„ä¹ æƒ¯ï¼Œæœ‰ä¸€å¥è¯è¯´åˆ°â€œæºç é¢å‰ï¼Œäº†æ— ç§˜å¯†â€ï¼Œä¹Ÿå°±æ„å‘³ç€é‡åˆ°æä¸æ‡‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä»æºç ä¸­ä¸€çª¥ç©¶ç«Ÿï¼ŒæŸäº›åœºæ™¯ä¸‹ç¡®æœ‰å¥‡æ•ˆã€‚ä½†ä¹Ÿä¸æ˜¯åªé è¯»æºç æ¥å­¦ä¹ ï¼Œå¦‚æœç¡¬å•ƒæºç ä½†ä¸ç†ä¼šå…¶èƒŒåå¯èƒ½è•´å«çš„ç†è®ºåŸºç¡€ï¼Œé‚£å¾ˆå®¹æ˜“â€œæ¡èŠéº»ä¸¢è¥¿ç“œâ€ï¼Œâ€œåªè§æ ‘æœ¨ï¼Œä¸è§æ£®æ—â€ï¼Œè®©â€œäº†æ— ç§˜å¯†â€å˜æˆäº†ä¸€å¥ç©ºè¯ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ç»“åˆä¸€äº›å®é™…çš„ä¸šåŠ¡åœºæ™¯å»é’ˆå¯¹æ€§åœ°å­¦ä¹ ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä½ çš„æ—¶é—´åœ¨å“ªé‡Œï¼Œä½ çš„æˆå°±å°±ä¼šåœ¨å“ªé‡Œ&lt;/strong&gt;ã€‚ç¬”è€…ä¹Ÿæ˜¯åœ¨å‰ä¸¤å¹´æ‰å¼€å§‹é€æ­¥åœ°åœ¨ GC æ–¹å‘ä¸Šä¸æ–­æ·±å…¥ï¼ŒæŸ¥é—®é¢˜ã€çœ‹æºç ã€åšæ€»ç»“ï¼Œæ¯ä¸ª Case å½¢æˆä¸€ä¸ªå°çš„é—­ç¯ï¼Œç›®å‰åˆæ­¥æ‘¸åˆ°äº† GC é—®é¢˜å¤„ç†çš„ä¸€äº›é—¨é“ï¼ŒåŒæ—¶å°†ç»éªŒæ€»ç»“åº”ç”¨äºç”Ÿäº§ç¯å¢ƒå®è·µï¼Œæ…¢æ…¢åœ°å½¢æˆä¸€ä¸ªè‰¯æ€§å¾ªç¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯ä»‹ç»äº† CMS GC çš„ä¸€äº›å¸¸è§åœºæ™¯åˆ†æï¼Œå¦å¤–ä¸€äº›ï¼Œå¦‚ CodeCache é—®é¢˜å¯¼è‡´ JIT å¤±æ•ˆã€SafePoint å°±ç»ªæ—¶é—´é•¿ã€Card Table æ‰«æè€—æ—¶ç­‰é—®é¢˜ä¸å¤ªå¸¸è§å°±æ²¡æœ‰èŠ±å¤ªå¤šç¯‡å¹…å»è®²è§£ã€‚Java GC æ˜¯åœ¨â€œåˆ†ä»£â€çš„æ€æƒ³ä¸‹å†…å·äº†å¾ˆå¤šå¹´æ‰çªç ´åˆ°äº†â€œåˆ†åŒºâ€ï¼Œç›®å‰åœ¨ç¾å›¢ä¹Ÿå·²ç»å¼€å§‹ä½¿ç”¨ G1 æ¥æ›¿æ¢ä½¿ç”¨äº†å¤šå¹´çš„ CMSï¼Œè™½ç„¶åœ¨å°çš„å †æ–¹é¢ G1 è¿˜ç•¥é€Šè‰²äº CMSï¼Œä½†è¿™æ˜¯ä¸€ä¸ªè¶‹åŠ¿ï¼ŒçŸ­æ—¶é—´æ— æ³•å‡çº§åˆ° ZGCï¼Œæ‰€ä»¥æœªæ¥é‡åˆ°çš„ G1 çš„é—®é¢˜å¯èƒ½ä¼šé€æ¸å¢å¤šã€‚ç›®å‰å·²ç»æ”¶é›†åˆ° Remember Set ç²—åŒ–ã€Humongous åˆ†é…ã€Ergonomics å¼‚å¸¸ã€Mixed GC ä¸­ Evacuation Failure ç­‰é—®é¢˜ï¼Œé™¤æ­¤ä¹‹å¤–ä¹Ÿä¼šç»™å‡º CMS å‡çº§åˆ° G1 çš„ä¸€äº›å»ºè®®ï¼Œæ¥ä¸‹æ¥ç¬”è€…å°†ç»§ç»­å®Œæˆè¿™éƒ¨åˆ†æ–‡ç« æ•´ç†ï¼Œæ•¬è¯·æœŸå¾…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â€œé˜²ç«â€æ°¸è¿œè¦èƒœäºâ€œæ•‘ç«â€ï¼Œ&lt;strong&gt;ä¸æ”¾è¿‡ä»»ä½•ä¸€ä¸ªå¼‚å¸¸çš„å°æŒ‡æ ‡&lt;/strong&gt;ï¼ˆ&lt;/span&gt;&lt;span&gt;ä¸€èˆ¬æ¥è¯´ï¼Œä»»ä½•&lt;strong&gt;ä¸å¹³æ»‘çš„æ›²çº¿&lt;/strong&gt;éƒ½æ˜¯å€¼å¾—æ€€ç–‘çš„&lt;/span&gt;&lt;span&gt;ï¼‰ ï¼Œå°±æœ‰å¯èƒ½é¿å…ä¸€æ¬¡æ•…éšœçš„å‘ç”Ÿã€‚ä½œä¸º Java ç¨‹åºå‘˜åŸºæœ¬éƒ½ä¼šé‡åˆ°ä¸€äº› GC çš„é—®é¢˜ï¼Œç‹¬ç«‹è§£å†³ GC é—®é¢˜æ˜¯æˆ‘ä»¬å¿…é¡»è¿ˆè¿‡çš„ä¸€é“åã€‚å¼€ç¯‡ä¸­ä¹Ÿæåˆ°è¿‡ GC ä½œä¸ºç»å…¸çš„æŠ€æœ¯ï¼Œéå¸¸å€¼å¾—æˆ‘ä»¬å­¦ä¹ ï¼Œä¸€äº› GC çš„å­¦ä¹ ææ–™ï¼Œå¦‚ã€ŠThe Garbage Collection Handbookã€‹ã€ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ç­‰ä¹Ÿæ˜¯å¸¸è¯»å¸¸æ–°ï¼Œèµ¶ç´§åŠ¨èµ·æ¥ï¼Œè‹¦ç»ƒ GC åŸºæœ¬åŠŸå§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ€åçš„æœ€åï¼Œå†å¤šå•°å—¦ä¸€å¥ï¼Œç›®å‰æ‰€æœ‰ GC è°ƒä¼˜ç›¸å…³çš„æ–‡ç« ï¼Œç¬¬ä¸€å¥è®²çš„å°±æ˜¯â€œä¸è¦è¿‡æ—©ä¼˜åŒ–â€ï¼Œä½¿å¾—å¾ˆå¤šåŒå­¦å¯¹ GC ä¼˜åŒ–æœ›è€Œå´æ­¥ã€‚åœ¨è¿™é‡Œç¬”è€…æå‡ºä¸ä¸€æ ·çš„è§‚ç‚¹ï¼Œç†µå¢å®šå¾‹ï¼ˆ&lt;/span&gt;&lt;span&gt;åœ¨ä¸€ä¸ªå­¤ç«‹ç³»ç»Ÿé‡Œï¼Œå¦‚æœæ²¡æœ‰å¤–åŠ›åšåŠŸï¼Œå…¶æ€»æ··ä¹±åº¦ï¼ˆå³ç†µï¼‰ä¼šä¸æ–­å¢å¤§&lt;/span&gt;&lt;span&gt;ï¼‰åœ¨è®¡ç®—æœºç³»ç»ŸåŒæ ·é€‚ç”¨ï¼Œ&lt;strong&gt;å¦‚æœä¸ä¸»åŠ¨åšåŠŸä½¿ç†µå‡ï¼Œç³»ç»Ÿç»ˆç©¶ä¼šè„±ç¦»ä½ çš„æŒæ§&lt;/strong&gt;ï¼Œåœ¨æˆ‘ä»¬å¯¹ä¸šåŠ¡ç³»ç»Ÿå’Œ GC åŸç†æŒæ¡å¾—è¶³å¤Ÿæ·±çš„æ—¶å€™ï¼Œå¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°åšä¼˜åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬åŸºæœ¬å¯ä»¥é¢„æµ‹åˆ°æ¯ä¸€ä¸ªæ“ä½œçš„ç»“æœï¼Œæ”¾æ‰‹ä¸€æå§ï¼Œå°‘å¹´ï¼&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;7. å‚è€ƒèµ„æ–™&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[1]ã€Š&lt;/span&gt;&lt;a href=&quot;https://book.douban.com/subject/4881935/&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨å®Ÿè£…&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹ä¸­æ‘ æˆæ´‹ / ç›¸å· å…‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[2]ã€Š&lt;/span&gt;&lt;a href=&quot;https://book.douban.com/subject/6809987/&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;The Garbage Collection Handbook&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹ Richard Jones/ Antony Hosking / Eliot Moss&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[3]ã€Š&lt;/span&gt;&lt;a href=&quot;https://book.douban.com/subject/34907497/&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆç¬¬3ç‰ˆï¼‰&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹ å‘¨å¿—æ˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[4]ã€Š&lt;/span&gt;&lt;a href=&quot;https://docs.oracle.com/javase/9/gctuning/JSGCT.pdf&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[5]ã€Š&lt;/span&gt;&lt;a href=&quot;https://shipilev.net/&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Shipilev One Page Blog&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹ ShipilÃ«v&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[6]Â &lt;/span&gt;&lt;a href=&quot;https://openjdk.java.net/projects/jdk/15/&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;https://openjdk.java.net/projects/jdk/15/&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[7]Â &lt;/span&gt;&lt;a href=&quot;https://jcp.org/en/home/index&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;https://jcp.org/en/home/index&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[8]ã€Š&lt;/span&gt;&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.22.8915&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;A Generational Mostly-concurrent Garbage Collector&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹ Tony Printezis / David Detlefs&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[9]ã€Š&lt;/span&gt;&lt;a href=&quot;https://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Java Memory Management White Paper&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;[10]ã€Š&lt;/span&gt;&lt;a href=&quot;https://go.gale.com/ps/anonymous?id=GALE%7CA563359212&amp;amp;sid=googleScholar&amp;amp;v=2.1&amp;amp;it=r&amp;amp;linkaccess=abs&amp;amp;issn=00311723&amp;amp;p=AONE&amp;amp;sw=w&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;Stuff Happensï¼šUnderstanding Causation in Policy and Strategy&lt;/span&gt;&lt;/a&gt;&lt;span&gt;ã€‹AA Hill&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;8.Â ä½œè€…ç®€ä»‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;æ–°å®‡ï¼Œ2015 å¹´åŠ å…¥ç¾å›¢ï¼Œåˆ°åº—ä½å®¿é—¨ç¥¨ä¸šåŠ¡å¼€å‘å·¥ç¨‹å¸ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ¹˜é“­ï¼Œ2018 å¹´åŠ å…¥ç¾å›¢ï¼Œåˆ°åº—å®¢æˆ·å¹³å°å¼€å‘å·¥ç¨‹å¸ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç¥¥ç’ï¼Œ2018 å¹´åŠ å…¥ç¾å›¢ï¼Œåˆ°åº—å®¢æˆ·å¹³å°å¼€å‘å·¥ç¨‹å¸ˆã€‚&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a60eb2676df1ca13fbba0b3b67307ab7</guid>
<title>å‰ç«¯å¦‚ä½•çªç ´æŠ€æœ¯ä¸ä¸šåŠ¡çš„ç“¶é¢ˆï¼šShopee ä¸€å¹´åŠè®°</title>
<link>https://toutiao.io/k/0cgbfwn</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;RichText ztext Post-RichText&quot;&gt;&lt;p/&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5c52552c10c2e16d13920a484b92ec7b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1440&quot; data-rawheight=&quot;1080&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/v2-5c52552c10c2e16d13920a484b92ec7b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1440&quot; data-rawheight=&quot;1080&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic4.zhimg.com/v2-5c52552c10c2e16d13920a484b92ec7b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-5c52552c10c2e16d13920a484b92ec7b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt; ä½œè€…ï¼šææˆç†™ï¼ŒShopeeé‡‘èå•†å®¶å‰ç«¯å›¢é˜Ÿè´Ÿè´£äººã€‚2014å¹´åº¦æ¯•ä¸šåŠ å…¥è…¾è®¯AlloyTeamï¼Œå…ˆåè´Ÿè´£è¿‡QQç¾¤ã€èŠ±æ ·ç›´æ’­ã€è…¾è®¯æ–‡æ¡£ç­‰é¡¹ç›®ã€‚2018å¹´åŠ å…¥è…¾è®¯äº‘äº‘å¼€å‘å›¢é˜Ÿã€‚2019å¹´åŠ å…¥Shopeeé‡‘èå‰ç«¯å›¢é˜Ÿä»»ä¸€çº¿å‰ç«¯Leaderã€‚ä¸“æ³¨äºæ€§èƒ½ä¼˜åŒ–ã€å·¥ç¨‹åŒ–å’Œå°ç¨‹åºæœåŠ¡ã€‚æœªç»è®¸å¯ä¸èƒ½è½¬è½½&lt;br/&gt; &lt;/blockquote&gt;&lt;p&gt;ä¸Šæ¬¡å†™æ€»ç»“æ–‡ç« ï¼Œæ˜¯æ¥ Shopee åˆšå¥½åŠå¹´åï¼Œé‚£æ—¶åˆšåˆšé€‚åº”ä»ä¸ªäººè´¡çŒ®è€…åˆ°æŠ€æœ¯æ¶æ„å¸ˆå’Œç®¡ç†è€…çš„èº«ä»½è½¬å˜ï¼Œæœ‰ä¸€äº›æ„Ÿæ‚Ÿä¸å¿ƒå¾—ï¼Œæ‹¿å‡ºæ¥ä¸å¤§å®¶åˆ†äº«ã€‚ åˆä¸€å¹´è¿‡å»äº†ï¼Œæ¥ Shopee å·²ç»ä¸€å¹´åŠï¼Œå›¢é˜Ÿä»åˆšå¼€å§‹æ—¶çš„ 4 ä¸ªäººï¼Œåˆ°ç°åœ¨ 18 äººï¼Œå…¬å¸è‚¡ä»·ï¼Œä¹Ÿä»å½“åˆçš„ 20 ç¾é‡‘ï¼Œåˆ° 180 ç¾é‡‘ã€‚å¾ˆæœ‰å¹¸ï¼Œå…¬å¸åœ¨è¿›æ­¥ï¼Œæˆ‘ä¹Ÿåœ¨è¿›æ­¥ã€‚&lt;/p&gt;&lt;p&gt;ä»Šå¤©ä¸»è¦æƒ³åˆ†äº«ä¸‰ä¸ªä½œä¸ºå‰ç«¯ï¼Œå¯èƒ½ç»å†çš„ç“¶é¢ˆï¼Œç„¶åè®²è®²æˆ‘ä¸ºäº†çªç ´è¿™äº›ç“¶é¢ˆï¼Œæ‰€åšçš„ä¸€äº›æ€è€ƒä¸åŠªåŠ›ã€‚è¿™ä¸‰ä¸ªçªç ´ï¼Œåˆ†åˆ«æ˜¯&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä»ä¸ªäººè´¡çŒ®è€…åˆ°æŠ€æœ¯æ¶æ„å¸ˆä¸ç®¡ç†è€…è½¬å˜çš„çªç ´&lt;/li&gt;&lt;li&gt;ä»å¸¦é¢†å•é¡¹æŠ€æœ¯åˆ°å¸¦é¢†å¤šé¡¹æŠ€æœ¯çš„çªç ´&lt;/li&gt;&lt;li&gt;ä»å¸¦æŠ€æœ¯åˆ°å¸¦ä¸šåŠ¡çš„çªç ´&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;b&gt;ç“¶é¢ˆä¸€ï¼šä»ä¸ªäººè´¡çŒ®è€…åˆ°æŠ€æœ¯æ¶æ„å¸ˆä¸ç®¡ç†è€…è½¬å˜çš„çªç ´&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;å…¶å®è¿™ä¸ªå¯ä»¥ä»æ¶æ„èƒ½åŠ›ä¸ç®¡ç†èƒ½åŠ›ä¸¤ä¸ªå±‚é¢è®²ã€‚å’±ä»¬å…ˆæ¥è®²ä¸€ä¸‹æ¶æ„èƒ½åŠ›ã€‚&lt;/p&gt;&lt;h3&gt;&lt;b&gt;æ¶æ„å¸ˆ&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;æ‰€è°“æ¶æ„èƒ½åŠ›ï¼Œç®€å•åœ°è¯´å°±æ˜¯å°†ä¸åŒçš„æ¨¡å—ã€ç»„ä»¶ã€ç³»ç»Ÿç»„è£…èµ·æ¥ï¼Œè”åŠ¨å‘æŒ¥ä½œç”¨ï¼Œè§£å†³ä¸šåŠ¡æˆ–æŠ€æœ¯éœ€æ±‚çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œç½‘ä¸Šå¯èƒ½æœ‰æ›´è¯¦å°½çš„è§£é‡Šï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå»äº†è§£ã€‚å¼€å‘è€…åœ¨ä¸ªäººè´¡çŒ®è€…é˜¶æ®µï¼Œæ›´å¤šåªæ˜¯æ¥å—æ¶æ„å¸ˆæŒ‡æ´¾çš„ä»»åŠ¡ï¼Œå®Œæˆè‡ªå·±ä¸€ä¸ªå°æ¨¡å—çš„è®¾è®¡ä¸ä»£ç ã€‚è€Œåœ¨æ¶æ„å¸ˆçš„é˜¶æ®µï¼Œè¦æ‹…è´Ÿèµ·çš„è´£ä»»ä¸å·¥ä½œåˆ™æ›´å¤šï¼Œè€Œä¸”æ—¢è¦å…¼é¡¾å…¨å±€ï¼Œæœ‰æ—¶ä¹Ÿè¦ Review ç»†èŠ‚çš„è½å®ï¼Œæœ‰æ—¶å€™æ˜¯åˆå½“å»ºç­‘è®¾è®¡å¸ˆï¼Œåˆå½“å·¥åœ°ç›‘å·¥ã€‚&lt;/p&gt;&lt;p&gt;ä½œä¸ºæ¶æ„å¸ˆï¼Œé¦–å…ˆè¦å¯¹éœ€æ±‚çš„æŠŠæ¡éå¸¸æ¸…æ™°ï¼Œä¸€ä¸ªæ˜¯éœ€æ±‚è¦è½å®çš„åŠŸèƒ½ç‚¹ï¼Œå¦ä¸€ä¸ªæ˜¯è¦è€ƒè™‘ä¸€äº›ç‰¹æ€§ï¼Œè­¬å¦‚æ€§èƒ½ï¼Œæœªæ¥çš„æ‰©å±•æ€§ç­‰ç­‰ã€‚ä»¥æœ€è¿‘æˆ‘ä»¬è®¡åˆ’è¦åšçš„ä¸€ä¸ªäº§å“çš„å®˜ç½‘ä¸ºä¾‹ï¼Œè¿™ä¸ªå®˜ç½‘æ¯”è¾ƒæ ¸å¿ƒçš„ç‰¹æ€§ï¼Œä¸€ä¸ªæ˜¯å‘å¸ƒæ–°é—»ã€ä¸€äº›æ¨å¹¿æ´»åŠ¨è¿˜æœ‰å¸¸è§é—®ç­”ï¼Œå¦ä¸€ä¸ªæ˜¯å¯ä»¥æä¾›è¿™äº›å†…å®¹çš„ç›¸å…³æœç´¢ï¼Œè¿˜æœ‰å¯¹ä¸ªåˆ«å•†å®¶åšä¸€äº›æ’è¡Œæ¦œã€‚&lt;/p&gt;&lt;p&gt;ç”±äºåå°çš„äººåŠ›ä¸è¶³ï¼Œæˆ‘ä»¬æ˜¯è®¡åˆ’ç”±å‰ç«¯å®Œæˆå¤§éƒ¨ä»½çš„å‰ç«¯ä¸åå°å¼€å‘å·¥ä½œï¼Œè¿™é‡Œå°±éœ€è¦ç”±ä¸€ä½æ—¢æ‡‚å‰ç«¯ï¼Œåˆæ‡‚åå°çš„æ¶æ„å¸ˆå»è®¾è®¡æŠŠå…³è¿™é‡Œçš„æ¶æ„ï¼ˆå½“ç„¶åˆ†å¼€æ¶æ„ä¹Ÿå¯ä»¥ï¼‰ã€‚è¿™é‡Œä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆå‰ç«¯çš„æ¶æ„å¸ˆï¼Œæœ‰èƒ½åŠ›åœ¨è¿™ä¸ªéœ€æ±‚é‡Œï¼Œå¯¹å‰åå°åšæ¶æ„è®¾è®¡å‘¢ï¼Ÿå‰ç«¯çš„åŒäº‹æ˜¯ä½•å¾·ä½•èƒ½å¯ä»¥æ‰¿æ‹…è¿™é‡Œçš„å‰åå°å¼€å‘å‘¢ï¼Ÿè¿™é‡Œå°±æ¶‰åŠåˆ°æŠ€æœ¯ç®¡ç†çš„æ¢¯é˜Ÿå»ºè®¾ä¸æ‰èƒ½å‚¨å¤‡ï¼Œå’±ä»¬è®²ç®¡ç†çš„æ—¶å€™å†è¯¦èŠã€‚&lt;/p&gt;&lt;p&gt;åŸºäºè¯¥&lt;b&gt;éœ€æ±‚çš„ç‰¹æ€§&lt;/b&gt;ï¼Œæˆ‘ä»¬åœ¨åšè®¾è®¡ä¹‹å‰ï¼Œè¿˜éœ€è¦æ”¶é›†ä¸€ä¸‹è¿™ä¸ªç«™ç‚¹æœªæ¥å¯èƒ½çš„è®¿é—®é‡ï¼ˆ&lt;b&gt;æ•°æ®&lt;/b&gt;ï¼‰ï¼Œè¿™äº›æ•°æ®å¯¹æˆ‘ä»¬çš„æŠ€æœ¯é€‰å‹éå¸¸å…³é”®ï¼æ²¡é”™ï¼Œæˆ‘ä»¬ç‚¹å‡ºäº†æ¶æ„ç¬¬ä¸€ä¸ªé‡è¦çš„ç¯èŠ‚ï¼Œ&lt;b&gt;æŠ€æœ¯é€‰å‹&lt;/b&gt;ã€‚æ®äº†è§£ï¼Œè¯¥ç«™ç‚¹æ¯å¤©è®¿é—®é‡ï¼Œæ¯ç§’çš„å¹¶å‘éƒ½ä¸å¤§ï¼ŒåŸºæœ¬ä¸éœ€è¦ä¸Šåˆ°ä¸€äº›åº”å¯¹é«˜å¹¶å‘çš„æ‰‹æ®µã€‚å¦å¤–ï¼Œç”±äºè¦åšå†…å®¹çš„å…¨æ–‡æœç´¢ï¼Œå¦‚æœé€šè¿‡æ•°æ®åº“çš„å…¨æ–‡æ£€ç´¢ï¼Œå°½ç®¡ä½¿ç”¨é‡ä¸å¤§ï¼Œä½†éšç€å†…å®¹è¶Šæ¥è¶Šå¤šï¼ˆè¿è¥äººå‘˜æ›´æ–°å†…å®¹çš„é¢‘ç‡è¿˜æ˜¯å¾ˆé«˜çš„ï¼‰ï¼ŒæŸ¥è¯¢æ€§èƒ½ä¼šè¶Šæ¥è¶Šæ…¢ã€‚è€Œä¸”æˆ‘ä»¬çš„æ•°æ®åº“æš‚æ—¶è·Ÿä¸€äº›æ ¸å¿ƒäº¤æ˜“æ•°æ®æ”¾åœ¨åŒä¸€ä¸ªæ•°æ®åº“é›†ç¾¤é‡Œï¼Œè¿™ç§è€—æ—¶æ“ä½œå¯èƒ½ä¼šåŠ å¤§å¯¹æ•°æ®åº“é›†ç¾¤çš„å‹åŠ›ï¼Œå› æ­¤æˆ‘ä»¬å¯èƒ½éœ€è¦ç”¨åˆ°&lt;code&gt;ElasticSearch&lt;/code&gt;å¸®æˆ‘ä»¬åšåˆ‡è¯ä¸æœç´¢ã€‚è€Œå¯¹å•†å®¶æ•°æ®åšæ’è¡Œæ¦œï¼Œè¿™ä¸ªç”±äºæ¶‰åŠåˆ°æ ¸å¿ƒæ•°æ®ï¼Œæˆ‘è®¡åˆ’æ˜¯è®©åå°çš„å¾®æœåŠ¡å‡ºä¸€ä¸ª &lt;code&gt;API&lt;/code&gt;ï¼Œå†ç”±å’±ä»¬ &lt;code&gt;Node.js&lt;/code&gt;(ç”±äºæ˜¯å‰ç«¯æ¥å®ç°åå°èƒ½åŠ›ï¼ŒåŸºäº&lt;b&gt;ç†Ÿæ‚‰åº¦&lt;/b&gt;çš„è€ƒé‡ï¼Œç”¨&lt;code&gt;Node.js&lt;/code&gt;å¯¹äºå‰ç«¯æ¥è¯´ï¼Œå¼€å‘ä¸ç»´æŠ¤éƒ½ç›¸å½“æ–¹ä¾¿) æœåŠ¡å±‚å»è°ƒç”¨ã€‚&lt;/p&gt;&lt;p&gt;åœ¨æŠ€æœ¯é€‰å‹çš„åŸºç¡€ä¸Šï¼Œæ¶æ„å¸ˆå¹³æ—¶ç§¯ç´¯çš„ä¸€äº›&lt;b&gt;ç»éªŒ&lt;/b&gt;ã€&lt;b&gt;æ–¹æ³•è®º&lt;/b&gt;ã€&lt;b&gt;æŒ‡æ ‡å…³æ³¨é¢&lt;/b&gt;ï¼Œåœ¨æ¶æ„è®¾è®¡ä¸­ï¼Œä¹Ÿèµ·åˆ°æ¯”è¾ƒé‡è¦çš„ä½œç”¨ã€‚è¿™é‡Œä»¥å›¢é˜Ÿåšçš„çƒ­æ›´æ–°æœåŠ¡ã€é…ç½®ä¸­å¿ƒã€è¿è¥æ­å»ºé¡µé¢è¿™å‡ ä¸ªå¹³å°ä¸ºä¾‹ã€‚åˆšç»„å»ºå›¢é˜Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬äºŸéœ€çƒ­æ›´æ–°å¹³å°æ¥ç»™&lt;code&gt;React Native&lt;/code&gt;æä¾›åŠ¨æ€æ›´æ–°çš„èƒ½åŠ›ã€‚è¿™é‡Œå½“æ—¶æ˜¯é‡‡ç”¨äº†&lt;code&gt;MySQL + Redis + Node.js + Serverless Function(åšä»£ç å·®åˆ†)&lt;/code&gt;çš„æ¶æ„ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-126c4196ddbc59fb0c9841d6bb9a57a4_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;571&quot; data-rawheight=&quot;565&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-126c4196ddbc59fb0c9841d6bb9a57a4_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;571&quot; data-rawheight=&quot;565&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-126c4196ddbc59fb0c9841d6bb9a57a4_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-126c4196ddbc59fb0c9841d6bb9a57a4_b.jpg&quot;/&gt;&lt;figcaption&gt;çƒ­æ›´æ–°å¹³å°çš„æ¶æ„&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æœ‰äº†çƒ­æ›´æ–°æœåŠ¡çš„ç»éªŒï¼Œåé¢åœ¨åšé…ç½®ä¸­å¿ƒå’Œè¿è¥æ­å»ºé¡µé¢çš„æ—¶å€™ï¼Œä¹Ÿä»ä¸­å¸å–äº†ç»éªŒï¼Œç”¨äº†ç±»ä¼¼çš„æ¶æ„åšæ•°æ®çš„å­˜å‚¨ä¸ç¼“å­˜ã€‚ä½†éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œæˆ‘ä»¬å‘ç°ä¸ºäº†è®©ç³»ç»Ÿçš„&lt;b&gt;å¯ç”¨æ€§&lt;/b&gt;æ›´é«˜ã€&lt;b&gt;æ€§èƒ½&lt;/b&gt;æ›´å¥½ï¼Œåœ¨ä¸€äº›åœºæ™¯é‡Œï¼Œå¯¹æ•°æ®é‡æ¯”è¾ƒå¤§çš„è¯»å–ï¼Œç»å¸¸ä¼šå°†æ•°æ®æ”¾åˆ°å†…å­˜é‡Œï¼ˆRedis è¯»å–å¤§æ•°æ®ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼‰ï¼›å¦å¤–åœ¨åšå·®åˆ†çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯å‡†ç¡®æ€§ï¼Œè®¾è®¡äº†ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œä¿è¯ä»»åŠ¡ä¸ä¼šè¢«é‡å¤è¿è¡Œï¼Œä¹Ÿå®‰æ’äº†ä¸€äº›å¤±è´¥é‡è¯•ã€äººå·¥å¤„ç†ç­‰çš„æœºåˆ¶ã€‚åœ¨è®¾è®¡ä»»åŠ¡é˜Ÿåˆ—çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰è€ƒè™‘è¿‡å¼•å…¥ &lt;code&gt;Kafka&lt;/code&gt; è¿™ç±»ä¸­é—´ä»¶ï¼Œä½†å®è´¨ä¸Šç”¨&lt;code&gt;MySQL&lt;/code&gt;ä¹Ÿèƒ½æ»¡è¶³åˆ°è¯‰æ±‚ï¼Œé‚£è€ƒè™‘åˆ°&lt;b&gt;å¯ç§»æ¤æ€§&lt;/b&gt;ï¼Œå› æ­¤å’±ä»¬ç›´æ¥å°±ç”¨&lt;code&gt;MySQL&lt;/code&gt;é¡¶ä¸Šã€‚ä¸Šé¢è®²çš„è¿™äº›ä¾‹å­ï¼Œéƒ½æ˜¯åœ¨ä¸šåŠ¡å‘å±•è¿‡ç¨‹ä¸­ï¼Œæ¶æ„çš„æ¼”è¿›ï¼Œå¹¶ä¸”åœ¨è¿™ç§è¿­ä»£çš„è¿‡ç¨‹ä¸­ï¼Œè‡ªå·±çš„æ¶æ„ç»éªŒä¸æ–¹æ³•è®ºä¹Ÿä¸æ–­ä¸°å¯Œï¼Œæ—¥åé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå°±åƒç Œç§¯æœ¨é‚£æ ·å­ï¼Œæ¬å‡ºæ›¾ç»ç”¨è¿‡ã€æ€è€ƒè¿‡ã€éªŒè¯è¿‡çš„ç§ç§æ–¹æ¡ˆï¼Œæ„å»ºæˆå¿ƒç›®ä¸­çš„æ¨¡æ ·ã€‚ä½ å¯èƒ½ä¼šè¯´ï¼Œæ¶æ„å¸ˆçš„å·¥ä½œéš¾åº¦è›®å¤§çš„ï¼Œæ—¶åˆ»ä¼šé‡åˆ°è‡ªå·±æ— çŸ¥çš„é¢†åŸŸï¼Œæ¯”å¦‚è‡ªå·±ä¹‹å‰æ²¡æœ‰ç”¨è¿‡çš„ä¸€äº›ä¸­é—´ä»¶ï¼Œåœ¨çœŸæ­£é¢ä¸´éœ€æ±‚çš„æ—¶å€™ï¼Œæ€ä¹ˆä¼šæƒ³å¾—åˆ°ï¼Ÿè¿™é‡Œæ„Ÿè§‰å¹¶æ²¡æœ‰æ·å¾„ï¼Œåªæœ‰åœ¨æ—¥å¸¸å·¥ä½œä¸­ä¸æ–­æ¶‰çŒï¼Œæ‰“å¼€è‡ªå·±çš„çœ¼ç•Œï¼Œæ‰èƒ½åœ¨ä¸æ–­å˜åŒ–çš„éœ€æ±‚ä¸–ç•Œé‡Œæ›´ä¸ºä»å®¹ã€‚&lt;/p&gt;&lt;p&gt;å°ç»“ä¸€ä¸‹ï¼Œæˆä¸ºæ¶æ„å¸ˆéœ€è¦åšåˆ°çš„äº‹æƒ…ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ ¹æ®éœ€æ±‚ç‰¹æ€§ã€æŒ‡æ ‡æ•°æ®ã€å›¢é˜Ÿç†Ÿæ‚‰åº¦ï¼Œåšå¥½&lt;b&gt;æŠ€æœ¯é€‰å‹&lt;/b&gt;ã€‚&lt;/li&gt;&lt;li&gt;æ ¹æ®ç»éªŒã€æ–¹æ³•è®ºã€æŒ‡æ ‡æ•°æ®ï¼Œä¸æ–­ä¸°å¯Œä¸å®Œå–„è‡ªå·±çš„&lt;b&gt;æ¶æ„æ–¹æ¡ˆä¸å¥—ä»¶&lt;/b&gt;&lt;/li&gt;&lt;li&gt;ä¸æ–­å­¦ä¹ ï¼Œæ²¡æœ‰æ·å¾„&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;&lt;b&gt;ç®¡ç†è€…&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;æŠ€æœ¯ç®¡ç†è¿™ä¸ªè¯é¢˜ï¼Œå¯èƒ½è®²å‡ å¤©å‡ å¤œä¹Ÿè®²ä¸å®Œï¼Œè¿™é‡Œæˆ‘åªæ‘˜å–æˆ‘è®¤ä¸ºæœ€ä¸ºé‡è¦ä¸å…³é”®çš„ä¸€äº›åšæ³•ä¸ç†å¿µã€‚åœ¨ç†å¿µä¸Šï¼Œæˆ‘è®¤ä¸ºè¦è®©å¤§å®¶&lt;b&gt;é«˜æ•ˆå·¥ä½œ&lt;/b&gt;ã€&lt;b&gt;å¿«ä¹å·¥ä½œ&lt;/b&gt;ï¼Œåœ¨å®æ–½ä¸Šï¼Œè¦æƒ³å°½åŠæ³•ç»™å›¢é˜Ÿã€ç»™æˆå‘˜&lt;b&gt;èµ‹èƒ½&lt;/b&gt;ã€‚&lt;/p&gt;&lt;p&gt;ä»ä¸šç•Œçš„è¶‹åŠ¿æ¥çœ‹ï¼Œè®¸å¤šä¸šåŠ¡ã€æŠ€æœ¯é¢†åŸŸä¹Ÿå·²ç»èµ°åˆ°äº†æ·±æ°´åŒºã€å›½é™…æ¯”è¾ƒå‰æ²¿çš„é˜¶æ®µï¼Œä¸æ˜¯ç®€å•çš„æ‹¼äººåŠ›ã€æ‹¼æ—¶é—´å°±å¯ä»¥å°†äº‹æƒ…åšå¯¹ã€åšæ¼‚äº®çš„ï¼Œè®©å¤§å®¶æŠ±ç€å¿«ä¹çš„å¿ƒæƒ…ï¼Œå‘æŒ¥è‡ªå·±çš„åˆ›é€ åŠ›åœ°å»åšäº‹æƒ…ï¼Œæ¯”è®©å¤§å®¶æ‹¼å°½ä¸€åˆ‡æ—¶é—´ï¼Œè¿˜æ—¶ä¸æ—¶åœ¨å·¥ä½æ‘¸é±¼ï¼Œæ›´èƒ½å¯èƒ½å°†äº‹æƒ…åšå¥½ã€‚æ¯•ç«Ÿæˆ‘ä»¬æ˜¯å°†è¦åœ¨å›½é™…èˆå°ä¸Šè·Ÿå·¨å¤´æ‹¼åˆºåˆ€çš„å…¬å¸ï¼Œåœ¨æ‰¾å¯¹æ–¹å‘åï¼Œè·Ÿæ—¶é—´èµ›è·‘æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†åœ¨æ‰¾å¯¹æ–¹å‘ä¹‹å‰ç›²ç›®åœ°è™šè€—å¤§å®¶çš„ç²¾åŠ›ä¸åˆ›é€ åŠ›ï¼Œå¯èƒ½ä¼šå¼•å‘ä¸€å°†æ— èƒ½ï¼Œç´¯æ­»ä¸‰å†›çš„å±€é¢ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;é«˜æ•ˆå·¥ä½œ&lt;/b&gt;ï¼Œå¯ä»¥ä»ä¸ªäººä¸å›¢é˜Ÿä¸¤ä¸ªè§’åº¦è¿›è¡Œèµ‹èƒ½ã€‚&lt;/p&gt;&lt;p&gt;ä¸ªäººå±‚é¢ä¸Šï¼Œæœ¬è´¨å°±æ˜¯å¸Œæœ›ä¸ªäººçš„èƒ½åŠ›ä¸æ–­æå‡ï¼Œå¤§å®¶èƒ½å¤Ÿæ‰¾åˆ°è‡ªå·±å‘å±•çš„ç›®æ ‡ï¼ŒæŠ€èƒ½ä¸Šåšåˆ°ä¸€ä¸“å¤šé•¿ï¼Œå¹¶ä¸”æœ€ç»ˆè¾¾æˆä¸ºä¸€ä½è‡ªå¸¦â€œä½“ç³»â€çš„æŠ€æœ¯äººã€‚è­¬å¦‚ä»Šå¹´æˆ‘ä»¬å›¢é˜Ÿæ¥äº†ä¸€ä½ &lt;code&gt;React Native&lt;/code&gt; çš„å¤§ç‰›ï¼Œè‡ªå·±çš„æ›¾ç»çš„åˆ›ä¸šé¡¹ç›®ä¹Ÿæ˜¯æ•´ä½“ç”¨ &lt;code&gt;React Native&lt;/code&gt; æ­å»º &lt;code&gt;iOS&lt;/code&gt;å’Œ &lt;code&gt;Android&lt;/code&gt; çš„ &lt;code&gt;APP&lt;/code&gt;ã€‚ä½† &lt;code&gt;React Native&lt;/code&gt;ï¼Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§å°±æ˜¯çƒ­æ›´æ–°ï¼Œåœ¨ä»–ä¹‹å‰çš„é¡¹ç›®é‡Œè¿˜æ²¡ç”¨åˆ°è¿‡ï¼Œæ›´åˆ«è¯´è‡ªç ”äº†ã€‚æ¥æˆ‘ä»¬å›¢é˜Ÿåï¼Œæœ‰å¥‘æœºè®©ä»–å‚ä¸çƒ­æ›´æ–°é¡¹ç›®çš„ç ”å‘ï¼Œå¹¶ä¸”ä¹Ÿè®©ä»–å¤šäº†è§£å®¢æˆ·ç«¯å®ç°è¿™å¥—ä½“ç³»çš„ä¸€äº›åŸºæœ¬çš„é€»è¾‘ã€‚åç»­å¦‚æœå…¬å¸æœ‰æ–°çš„ä¸šåŠ¡æœ‰éœ€è¦åˆ° &lt;code&gt;React Native&lt;/code&gt;ï¼Œé‚£è¿™ä½åŒäº‹å°±å¯ä»¥ä½œä¸ºè‡ªå¸¦â€œä½“ç³»â€çš„æ¶æ„å¸ˆï¼Œå»å¸®å¿™æ­å»ºä¸šåŠ¡çš„æ¶æ„ï¼Œä¿ƒè¿›ä¸šåŠ¡çš„å‘å±•ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-caf4f50d0bac97b42517d135014f0593_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1270&quot; data-rawheight=&quot;1410&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/v2-caf4f50d0bac97b42517d135014f0593_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1270&quot; data-rawheight=&quot;1410&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic4.zhimg.com/v2-caf4f50d0bac97b42517d135014f0593_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-caf4f50d0bac97b42517d135014f0593_b.jpg&quot;/&gt;&lt;figcaption&gt;è¿™æ˜¯è‡ªå¸¦ä½“ç³»çš„ä¸€ä½åŒå­¦ï¼Œåœ¨å…¬å¸åšçƒ­æ›´æ–°å¹³å°çš„æŠ€æœ¯åˆ†äº«&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å›¢é˜Ÿå±‚é¢ä¸Šï¼Œåšå¥½&lt;b&gt;æ¨¡å—åˆ’åˆ†&lt;/b&gt;ã€&lt;b&gt;æµç¨‹ä¼˜åŒ–&lt;/b&gt;ã€&lt;b&gt;æŠ€æœ¯è§„åˆ’&lt;/b&gt;ä¸&lt;b&gt;æ¢¯é˜Ÿå»ºè®¾&lt;/b&gt;ã€‚&lt;/p&gt;&lt;p&gt;æ‰€è°“&lt;b&gt;æ¨¡å—åˆ’åˆ†&lt;/b&gt;ï¼Œå°±æ˜¯å¤§å®¶åœ¨ç›¸å¯¹ç¨³å®šçš„æ¨¡å—ä¸­å·¥ä½œï¼Œå½“ä½ æ¯”è¾ƒç†Ÿæ‚‰ä¸šåŠ¡é€»è¾‘çš„è¯ï¼Œå·¥ä½œéƒ½ç›¸å¯¹å®¹æ˜“ã€‚å½“ç„¶å¯¹ç›¸ä¼¼å·¥ä½œå†…å®¹äº§ç”Ÿå€¦æ€ äººçš†æœ‰ä¹‹ï¼Œè¿™ä¸ªåˆæ˜¯å¯ä»¥å¼€å¦ä¸€ä¸ªä¸“é¢˜é˜è¿°äº†ã€‚æ—©æœŸæˆ‘åœ¨è¿™é‡Œä¹Ÿè¸©è¿‡ä¸€äº›å‘ï¼Œä¹Ÿæ˜¯ç”±äºå›¢é˜Ÿæ—©æœŸçš„ä¸šåŠ¡æ¯”è¾ƒç´§ï¼Œå°½ç®¡åŒäº‹è¿˜æ˜¯ä¼šå°½é‡åšä»–ä»¬ç†Ÿæ‚‰çš„æ¨¡å—ï¼Œå¥ˆä½•ä¸åŒçš„ç‰ˆæœ¬ï¼Œä¸åŒæ¨¡å—çš„ä¸šåŠ¡å‹åŠ›å¤§å°ä¸å°½ç›¸åŒï¼Œä¼šç»å¸¸æŠ½è°ƒåŒäº‹å»è´Ÿè´£å…¨æ–°çš„æ¨¡å—ï¼Œè¿™æ ·å…¶å®å¯¹å·¥ä½œçš„æ•ˆç‡ä¸è´¨é‡éƒ½æ˜¯ä¸åˆ©çš„ï¼ŒèŠ±çš„æ—¶é—´é•¿ï¼Œäº§ç”Ÿçš„ BUG ä¹Ÿå¤šã€‚æ‰€ä»¥åç»­ä¹Ÿå°½é‡è®©äººå‘˜ç›¸å¯¹æ›´åŠ å›ºå®šï¼Œå³ä½¿åç»­æŸä¸ªæ¨¡å—éå¸¸å¿™ï¼Œä¹Ÿå°½é‡ç”±è´Ÿè´£è¯¥æ¨¡å—çš„åŒäº‹ä¸»å¯¼ä¸šåŠ¡å¼€å‘çš„å·¥ä½œï¼Œæ”¯æ´çš„åŒäº‹éœ€è¦åœ¨è‰¯å¥½çš„æŒ‡å¼•ä¸‹ï¼ˆæ–‡æ¡£ä¸€å®šè¦å®Œå¤‡ï¼‰å¼€å±•å·¥ä½œã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;æµç¨‹ä¼˜åŒ–&lt;/b&gt;ï¼Œå³ä½¿å‡å°‘å·¥ä½œä¸­çš„æµç¨‹å¯¹ç ”å‘äººå‘˜å¸¦æ¥çš„æ¡æ¢ã€‚å·¥ä½œæµç¨‹æœ‰è®¸å¤šï¼Œåˆ›å»ºæ–°é¡¹ç›®çš„æµç¨‹ï¼Œå¦‚Git å·¥ä½œæµã€ä»»åŠ¡å·¥ä½œå•ç®¡ç†æµç¨‹ç­‰ç­‰ã€‚å¦‚ä½•ä¼˜åŒ–æµç¨‹æˆ‘è®¤ä¸ºä¸»è¦æ˜¯&lt;b&gt;è¯†åˆ«åäººæ€§çš„æµç¨‹ï¼Œç„¶åç”¨å·¥å…·ä¼˜åŒ–ä¹‹&lt;/b&gt;ã€‚è¿™é‡Œä»¥å›¢é˜Ÿä¸­çš„ä»»åŠ¡å·¥ä½œå•æµç¨‹ä¼˜åŒ–ä¸ºä¾‹ï¼Œåœ¨ Shopeeï¼Œç ”å‘å›¢é˜Ÿæœ‰é‡‡ç”¨ä¸€æ¬¾ä»»åŠ¡å·¥ä½œå»ºå•å¹³å°åšç ”å‘æµç¨‹çš„ç®¡ç†çš„ï¼Œå¤§å®¶éƒ½ä¼šåœ¨è¿™ä¸ªå»ºå•å¹³å°ä¸Šé¢è®°å½•å·¥ä½œé‡ä»¥åŠæ‰­è½¬çŠ¶æ€ã€‚å›¢é˜Ÿåˆšå¼€å§‹çš„æ—¶å€™äººæ¯”è¾ƒå°‘ï¼Œè°å¿™è°é—²ä¸€ç›®äº†ç„¶ï¼Œä½†éšç€å›¢é˜Ÿäººå‘˜ä¸æ–­å¢åŠ ï¼Œå•çº¯é€šè¿‡è‚‰çœ¼ã€å¿ƒç®—å»çœ‹çœ‹å¤§å®¶çš„å¿™é—²ç¨‹åº¦ï¼Œåˆ†é…å·¥ä½œå°±å˜å¾—æå…·æŒ‘æˆ˜æ€§äº†ï¼Œåœ¨æ²¡æœ‰å·¥ä½œçš„å¸®åŠ©ä¸‹ï¼Œç®¡ç†åŠå¾„å°±ä¼šé™åˆ¶åœ¨ 5 - 8 ä¸ªäººå·¦å³ï¼Œè€Œä¸”ä¸ºäº†åˆ†é…å·¥ä½œä¼šæŠŠè‡ªå·±å¿™æ­»â€”â€”è¦åšå¤§é‡çš„æ‰‹åŠ¨ç»Ÿè®¡å·¥ä½œã€‚äºæ˜¯ä¸ºäº†æä¾›ç®¡ç†çš„æ•ˆç‡ï¼Œæˆ‘å†³å®šå†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œå¸®æˆ‘é€šè¿‡å»ºå•å¹³å°çš„å¼€æ”¾ APIï¼Œå°†å›¢é˜Ÿå†…æˆå‘˜çš„å·¥ä½œé‡ï¼Œå…¨éƒ¨éƒ½æ‹‰ä¸‹æ¥æ”¾åˆ° Excel é‡Œè¢«è‡ªåŠ¨å°†å·¥ä½œé‡æ€»é‡ç»Ÿè®¡å‡ºæ¥ã€‚è¿™æ ·åˆ†é…å·¥ä½œï¼Œåªéœ€è¦è·‘ä¸€ä¸ªè„šæœ¬ï¼Œå°±å¯ä»¥è½»æ¾ç»Ÿè®¡å‡ºæ¯ä¸ªäººçš„å·²ç»æ’çš„å·¥ä½œé‡ã€‚å½“ç„¶ï¼Œå¦‚æœèƒ½ç»Ÿè®¡å‡ºç”˜ç‰¹å›¾æ˜¯æœ€å®Œç¾çš„ï¼Œä½†å—é™äºä¸ªåˆ«æ•°æ®å›¢é˜Ÿæ²¡æœ‰è¦æ±‚å¡«ï¼ˆæ¯”å¦‚å·¥ä½œå¼€å§‹æ—¶é—´ï¼‰ï¼Œå› æ­¤å°±æ— æ³•ç”»å‡ºæ¥ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-dd71b45153cf6cde58e953bae141c16e_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2312&quot; data-rawheight=&quot;542&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-dd71b45153cf6cde58e953bae141c16e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2312&quot; data-rawheight=&quot;542&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-dd71b45153cf6cde58e953bae141c16e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-dd71b45153cf6cde58e953bae141c16e_b.jpg&quot;/&gt;&lt;figcaption&gt;è¿™ä½åŒäº‹æœ¬å‘¨å·²ç»æ’æ»¡äº†ï¼Œå†æ’å°±è¶…è´Ÿè·äº†&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;é™¤æ­¤ä»¥å¤–ï¼Œç”±äºé¡¹ç›®ç»ç†ä¸€äº›ç ”å‘ç»Ÿè®¡çš„éœ€è¦ï¼Œå¯¹æ¯ä¸ªåŒäº‹å»ºå·¥ä½œå•çš„è¦æ±‚ã€å¡«å­—æ®µçš„æ•°é‡éƒ½è¶Šæ¥è¶Šå¤šã€‚å°†å¿ƒæ¯”å·±ï¼Œå³ä½¿æ˜¯æˆ‘æœ¬äººä½œä¸º memberï¼Œéƒ½å¯èƒ½ä¼šç–å¿½æœªèƒ½å¡«å†™å®Œæˆå‡†ç¡®ã€‚è¿™äº›æªæ–½å¯¹ç®¡ç†ä¸Šå¯èƒ½ä¼šæ›´åŠ æ–¹ä¾¿ï¼Œä½†å¯¹æ¯ä¸ªç ”å‘æ¥è¯´éƒ½ä¼šå¢åŠ è´Ÿæ‹…ä¸å›°æ‰°ã€‚äºæ˜¯æˆ‘ä»¬ä¹Ÿè®¡åˆ’åšä¸€äº›å·¥å…·ä¸å¹³å°ï¼Œä¸€æ–¹é¢æ–¹ä¾¿ç®¡ç†è€…åšç»Ÿè®¡ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå‡å°‘ç ”å‘äººå‘˜åœ¨ä¸€äº›è¡Œæ”¿ã€æµç¨‹ä¸Šçš„äº‹æƒ…æµªè´¹è¿‡å¤šçš„æ—¶é—´ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;æŠ€æœ¯è§„åˆ’&lt;/b&gt;ï¼Œä¸»è¦å°±æ˜¯å¼•é¢†æ•´ä¸ªå›¢é˜Ÿçš„æŠ€æœ¯æ–¹å‘ï¼Œå¹¶åŠªåŠ›å°†ä¹‹è½åœ°ï¼Œè¿™ä¸ªæ˜¯æŠ€æœ¯ç®¡ç†è€…ä½“ç°ä»·å€¼çš„éå¸¸é‡è¦çš„ç¯èŠ‚ã€‚å› ä¸ºæ¨¡å—åˆ’åˆ†ã€æµç¨‹ä¼˜åŒ–ï¼Œæœ‰åšå¯¼å¸ˆå¸¦è¿‡å°é¡¹ç›®ä¹‹åï¼Œéƒ½èƒ½å¾—å¿ƒåº”æ‰‹ï¼Œä½†æŠ€æœ¯è§„åˆ’ï¼Œæ€ä¹ˆé¡ºåº”ç€ä¸šåŠ¡çš„å‘å±•å˜åŒ–ï¼Œæå‰åšä¸€äº›æŠ€æœ¯çš„å‚¨å¤‡ä¸å¸ƒå±€ï¼Œæ€ä¹ˆå°†å›¢é˜Ÿçš„æŠ€æœ¯æ°´å¹³å¸¦åˆ°ä¸šç•Œä¸€æµæ°´å¹³ï¼Œè¿™ä¸ªæ˜¯å½“ä¸ŠæŠ€æœ¯ç®¡ç†è€…ä¹‹åæ‰èƒ½å¾—åˆ°çš„ä½“ä¼šã€‚&lt;/p&gt;&lt;p&gt;æ‰€è°“çš„è§„åˆ’ï¼Œä¸èƒ½æ˜¯å•ç‚¹çš„çªç ´ï¼Œè€Œæ˜¯éœ€è¦å¤šç‚¹ï¼Œå¹¶ä¸”ç‚¹è¿æˆçº¿é¢ï¼›ä¸èƒ½åªç€é‡äºä¸€ä¸ªä¸ªå·¥å…·ä¸å¹³å°çš„å»ºè®¾ï¼Œè€Œæ›´è¦å…³æ³¨è¿™äº›å·¥å…·ä¸å¹³å°å¦‚ä½•æœ‰æœºåœ°ç»“åˆåœ¨ä¸€èµ·ï¼ŒååŒå‘æŒ¥ä½œç”¨ï¼Œå½¢æˆ&lt;b&gt;ä½“ç³»&lt;/b&gt;ã€‚å½“ç„¶ï¼Œä¹Ÿéœ€è¦è¿™äº›æŠ€æœ¯ä¸æ—¶ä¿±è¿›ï¼Œåœ¨æŠ€æœ¯çš„è§„åˆ’å‰è·¯ä¸Šï¼Œä¹Ÿé€æ­¥è¯†åˆ«å¹¶æ‘˜é™¤ä¸€äº›&lt;b&gt;æŠ€æœ¯å€ºåŠ¡&lt;/b&gt;ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-de8e36399cc01a5ee7d74a1319796610_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1984&quot; data-rawheight=&quot;1010&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-de8e36399cc01a5ee7d74a1319796610_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1984&quot; data-rawheight=&quot;1010&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-de8e36399cc01a5ee7d74a1319796610_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-de8e36399cc01a5ee7d74a1319796610_b.jpg&quot;/&gt;&lt;figcaption&gt;Shopeeé‡‘èå•†å®¶å‰ç«¯å›¢é˜Ÿçš„ä½“ç³»è§„åˆ’&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-fe4d31cb914b018cf829ae39b10797a4_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1994&quot; data-rawheight=&quot;1016&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-fe4d31cb914b018cf829ae39b10797a4_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1994&quot; data-rawheight=&quot;1016&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-fe4d31cb914b018cf829ae39b10797a4_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-fe4d31cb914b018cf829ae39b10797a4_b.jpg&quot;/&gt;&lt;figcaption&gt;Shopeeé‡‘èå•†å®¶å‰ç«¯å›¢é˜Ÿçš„ä¸€äº›ä½“ç³»è½åœ°çš„é‡Œç¨‹ç¢‘ä¸å±•æœ›&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-d0812abf8f1bb7850c089177c74a8df0_b.png&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2748&quot; data-rawheight=&quot;386&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-d0812abf8f1bb7850c089177c74a8df0_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2748&quot; data-rawheight=&quot;386&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-d0812abf8f1bb7850c089177c74a8df0_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-d0812abf8f1bb7850c089177c74a8df0_b.png&quot;/&gt;&lt;figcaption&gt;ç”¨è¡¨æ ¼è®°å½•æ¯ä¸ªä¸šåŠ¡æ¨¡å—çš„æŠ€æœ¯å€ºåŠ¡ä¸é—®é¢˜ï¼Œå¹¶å®‰æ’æ¸…ç†&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;æ¢¯é˜Ÿå»ºè®¾&lt;/b&gt;ä¹Ÿæ˜¯æˆ‘è®¤ä¸ºéå¸¸é‡è¦çš„ä¸€ç¯ã€‚èƒ½å¦è§„åˆ’ä¸ç»„å»ºä½ çš„å›¢é˜Ÿï¼Œæ˜¯æŠ€æœ¯ç®¡ç†è€…ä¸æ¶æ„å¸ˆéå¸¸é‡è¦çš„åŒºåˆ«ä¹‹ä¸€ã€‚æ¢¯é˜Ÿå»ºè®¾ä¸ºä»€ä¹ˆé‡è¦ï¼Œé‚£æ˜¯å› ä¸ºè‰¯å¥½çš„æ¢¯é˜Ÿå»ºè®¾ï¼Œä¸€æ–¹é¢èƒ½è®©ä½ çš„å›¢é˜Ÿäººå‘˜æ›´ç¨³å›ºï¼Œæ¯•ç«Ÿå¤§å®¶éƒ½æœ‰æˆé•¿çš„è¯‰æ±‚ï¼Œæ— è®ºæ˜¯å½“æŠ€æœ¯ç®¡ç†è¿˜æ˜¯æ¶æ„å¸ˆï¼Œéƒ½æˆ–å¤šæˆ–å°‘éœ€è¦å¸¦äººå®Œæˆæ›´å…·æŒ‘æˆ˜æ€§çš„é¡¹ç›®ï¼Œå•æ‰“ç‹¬æ–—èƒ½æˆäº‹è€…å¯¥å¯¥æ— å‡ ã€‚ä»Šå¹´å¹´ä¸­çš„æ—¶å€™ï¼Œå¤§æ‰¹æ ¡æ‹›ç”Ÿå‡†å¤‡è¿›åœºã€‚å½“æ—¶åˆ†æè‡ªå·±çš„å›¢é˜Ÿï¼Œæœ‰ 5 - 6 ä¸ªé«˜çº§æˆ–è€…å‡†é«˜çº§å·¥ç¨‹å¸ˆäº†ï¼Œè¿™äº›é«˜çº§çš„å·¥ç¨‹å¸ˆå·¥ä½œç»éªŒéƒ½æ¯”è¾ƒä¸°å¯Œäº†ï¼Œä½†ä¸€ç›´æ²¡æœ‰å¸¦äººçš„æœºä¼šï¼ŒåŒæ—¶ä¹Ÿç”±äºä¸šåŠ¡æ¯”è¾ƒç¹å¿™ï¼Œäºæ˜¯æˆ‘å°±è¶æœºä¼šè¦äº†è¶³å¤Ÿæ•°é‡çš„æ¯•ä¸šç”Ÿï¼Œè®©ä»–ä»¬å¸¦å¸¦äººã€‚æˆ‘æ˜¯å¸Œæœ›é€šè¿‡æ‰‹æŠŠæ‰‹å¸¦äººï¼Œå¯ä»¥æ›´å¥½åœ°æ¿€å‘ä»–ä»¬çš„è´£ä»»å¿ƒï¼Œä¹Ÿå¯ä»¥è®©æ¯•ä¸šç”Ÿè·Ÿç€ä»–ä»¬å»åšä¸€äº›æŠ€æœ¯è§„åˆ’é‡Œçš„é¡¹ç›®ï¼Œè®©è¿™äº›é«˜çº§å·¥ç¨‹å¸ˆä¹Ÿå¤šé”»ç‚¼æ¶æ„ä¸ç®¡ç†èƒ½åŠ›ã€‚è™½ç„¶æ—©æœŸéš¾å…ä¼šæœ‰é˜µç—›ï¼Œæ¯”å¦‚æ¯•ä¸šç”Ÿå¯¹æµç¨‹ä¸ç†Ÿæ‚‰ï¼Œç ”å‘è´¨é‡å¯èƒ½ä¼šæœ‰ä¸‹é™ï¼Œä½†ç»è¿‡ä¸‰ä¸ªæœˆçš„è¯•ç”¨æœŸåï¼Œæ¯•ä¸šç”Ÿçš„å·¥ä½œéƒ½æ­¥å…¥æ­£è§„ï¼Œæœ‰å……è¶³äººåŠ›çš„æƒ…å†µä¸‹ï¼Œè®¸å¤šçš„æŠ€æœ¯è§„åˆ’è½åœ°éƒ½æ¯”è¾ƒé¡ºåˆ©ã€‚&lt;/p&gt;&lt;p&gt;å…¶æ¬¡ï¼Œæ¢¯é˜Ÿå»ºè®¾çš„å¥½åï¼Œèƒ½å†³å®šä½ ä¹‹å‰çš„æŠ€æœ¯è§„åˆ’èƒ½å¦é¡ºåˆ©è½åœ°ã€‚é™¤äº†å‰é¢æåˆ°çš„ä¸åŒèŒçº§ä¸ç»éªŒçš„äººçš„æ¯”ä¾‹è¦å‡è¡¡ï¼Œè¿˜éœ€è¦åœ¨å„ä¸ªæŠ€æœ¯æ–¹å‘æœ‰æŠ€æœ¯å‚¨å¤‡ï¼Œæœ€å¥½æ˜¯æœ‰æŠ€æœ¯é¢†å¤´äººï¼Œç”šè‡³èƒ½æœ‰æŠ€æœ¯å°ç»„ï¼Œæ¯•ç«Ÿå­¤èº«ä¸€äººå»æ¢ç´¢æŸä¸ªæŠ€æœ¯æ–¹æ¡ˆè¿˜æ˜¯æŒºå­¤ç‹¬å¯‚å¯çš„ï¼Œä¹Ÿæ²¡æœ‰äººä¸€èµ·åšæŠ€æœ¯è®¨è®ºã€‚å¦å¤–æœ‰è¿™æ ·çš„ä¸€ä¸ªæŠ€æœ¯å°ç»„ï¼Œä¹Ÿå¯ä»¥æœ‰å¤‡ä»½äººã€‚åœ¨å›¢é˜Ÿä¸­ï¼Œå› åº”ç€å®šä¸‹çš„æŠ€æœ¯è§„åˆ’ï¼ŒåŸºæœ¬ä¸Šæ¯ä¸ªä½“ç³»çš„å»ºè®¾éƒ½ä¼šæˆç«‹ä¸€ä¸ªæŠ€æœ¯å°ç»„ï¼Œè¿™äº›äººå¯èƒ½åœ¨å…¬å¸ç»„ç»‡ä¸Šå¹¶ä¸æ˜¯åŒä¸€ä¸ªç»„ï¼Œä½†åªè¦ä»–ä»¬å¯¹è¿™å—æ„Ÿå…´è¶£ï¼Œæˆ–è€…åœ¨è¿™å—æœ‰å»ºæ ‘ï¼Œå°±å¯ä»¥å‚ä¸åˆ°è¿™å—çš„å»ºè®¾ä¸­ã€‚æ¯”å¦‚åœ¨ Web ä½“ç³»å»ºè®¾å°ç»„é‡Œé¢ï¼Œæœ‰ä¸‰ä½åŒäº‹ï¼Œè¿™å—éœ€è¦è´Ÿè´£çš„é¡¹ç›®æ¯”è¾ƒå¤šï¼ŒåŒ…æ‹¬ Web å‘å¸ƒçš„è‡ªåŠ¨åŒ–ã€ç²¾ç»†åŒ–ï¼ŒWeb ç»„ä»¶å»ºè®¾ï¼ŒFigma ç»„ä»¶ç”Ÿæˆè‡ªåŠ¨åŒ–ï¼ŒåŒæ„æ¸²æŸ“ç ”ç©¶ç­‰éƒ½å½’å±åˆ°è¿™é‡Œï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ä¸»æ”»çš„æ–¹å‘ï¼Œä½†æ¯ä¸€ä¸ªæ—¶æœŸä¾§é‡ç‚¹å¯èƒ½æœ‰ä¸åŒï¼Œæœ‰å¯èƒ½ä¼šæœ‰æœ‰å‡ ä¸ªäººå…±åŒå‚ä¸åˆ°æŸä¸€ä¸ªé¡¹ç›®çš„å»ºè®¾å½“ä¸­ï¼Œå¿«é€Ÿå°†è¯¥é¡¹ç›®å…ˆåšæˆã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9a316627c73efed10b89ee697e8379ef_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1302&quot; data-rawheight=&quot;982&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/v2-9a316627c73efed10b89ee697e8379ef_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1302&quot; data-rawheight=&quot;982&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic4.zhimg.com/v2-9a316627c73efed10b89ee697e8379ef_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9a316627c73efed10b89ee697e8379ef_b.jpg&quot;/&gt;&lt;figcaption&gt;æˆ‘åœ¨è·ŸWebä½“ç³»å»ºçš„åŒäº‹è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆ&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;é«˜æ•ˆå·¥ä½œ&lt;/b&gt; å¦‚æœè½å®å¾—å¥½ï¼Œ&lt;b&gt;å¿«ä¹å·¥ä½œ&lt;/b&gt;å…¶å®ä¹Ÿå°±è¾¾æˆä¸€åŠä»¥ä¸Šäº†ï¼Œå› ä¸ºé«˜æ•ˆå·¥ä½œå¯ä»¥è®©å·¥ä½œæ•ˆç‡æé«˜ï¼ŒåŠ ç­å‡å°‘ï¼Œä¹Ÿèƒ½è®©å¤§å®¶æœ‰æˆé•¿çš„å¿«æ„Ÿï¼Œå†åŠ ä¹‹ä»¥æ‰“é€ è‰¯å¥½çš„æŠ€æœ¯æ°›å›´ï¼ˆæŠ€æœ¯åˆ†äº«ã€å¤–å‡ºå‚ä¸æŠ€æœ¯ä¼šè®®ã€å†…éƒ¨å¼€æ”¾çš„æŠ€æœ¯è®¨è®ºï¼‰ï¼Œç›¸ä¿¡å‘˜å·¥çš„å·¥ä½œæ»¡æ„åº¦ä¼šç›¸å¯¹è¾ƒé«˜ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-6b4593fdd50bf02352add4f8732a373f_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1915&quot; data-rawheight=&quot;1079&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic4.zhimg.com/v2-6b4593fdd50bf02352add4f8732a373f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1915&quot; data-rawheight=&quot;1079&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic4.zhimg.com/v2-6b4593fdd50bf02352add4f8732a373f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-6b4593fdd50bf02352add4f8732a373f_b.jpg&quot;/&gt;&lt;figcaption&gt;ä»Facebookå›å›½çš„å‰ç«¯å¤§ç¥ï¼Œç»™æˆ‘ä»¬å¾’æ‰‹ç™½æ¿è®²è§£ç«¯åˆ°ç«¯åŠ å¯†&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å°ç»“ä¸€ä¸‹ï¼Œæˆä¸ºå¥½çš„ç®¡ç†è€…ï¼Œéœ€è¦é€šè¿‡&lt;b&gt;èµ‹èƒ½&lt;/b&gt;åšåˆ°ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;é«˜æ•ˆå·¥ä½œ&lt;br/&gt; &lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;æ¨¡å—åˆ’åˆ†ï¼Œè®©èŒè´£æ˜ç¡®ï¼Œä¸šåŠ¡ç†Ÿç»ƒ&lt;/li&gt;&lt;li&gt;æµç¨‹ä¼˜åŒ–ï¼Œå‡å°‘è¡Œæ”¿å·¥ä½œï¼Œæé«˜ä»£ç æ—¶é—´&lt;/li&gt;&lt;li&gt;æŠ€æœ¯è§„åˆ’ï¼ŒæŒ‡æ˜æ–¹å‘ï¼Œç”©æ‰å€ºåŠ¡ï¼Œæå‡ä¸ªäººæŠ€èƒ½ä¸å›¢é˜Ÿæ•ˆç›Š&lt;/li&gt;&lt;li&gt;æ¢¯é˜Ÿå»ºè®¾ï¼Œå‚¨å¤‡æŠ€æœ¯ä¸è½åœ°è§„åˆ’&lt;/li&gt;&lt;/ul&gt;&lt;ol&gt;&lt;li&gt;å¿«ä¹å·¥ä½œ&lt;br/&gt; &lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;&lt;b&gt;ç“¶é¢ˆäºŒï¼šä»å¸¦é¢†å•é¡¹æŠ€æœ¯åˆ°å¸¦é¢†å¤šé¡¹æŠ€æœ¯çš„çªç ´&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;éšç€èŒçº§çš„æå‡ï¼Œè¦è·Ÿè·¨å›¢é˜Ÿçš„æŠ€æœ¯åˆä½œã€ç”šè‡³å¸¦è·¨æŠ€æœ¯çš„é¡¹ç›®ã€åŒæ—¶å¸¦å…¶å®ƒçš„æŠ€æœ¯ç»„çš„æƒ…å†µä¼šè¶Šæ¥è¶Šå¤šã€‚å¦‚æœå€’æ¨å‡ å¹´ï¼Œå‰ç«¯è¦è¿›å…¥åå°ã€å®¢æˆ·ç«¯çš„é¢†åŸŸï¼Œéš¾åº¦è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¿™ä¸ªæ˜¯æ•´ä¸ªä¸šç•Œéƒ½å­˜åœ¨çš„é—®é¢˜ã€‚ä½†éšç€ä¸€äº›é‡è¦çš„æŠ€æœ¯çš„è¯ç”Ÿä¸æˆç†Ÿï¼Œæ¯”å¦‚ Node.jsï¼ŒReact Native, Electron è¿›å…¥å‰ç«¯äººçš„è§†é‡ï¼Œå‰ç«¯æœ‰æ›´å¤šçš„æœºä¼šå¯ä»¥å‚ä¸åˆ°è¿™äº›ã€‚æ‰€ä»¥ä»å¤§å±€ä¸Šã€å®è§‚ä¸Šè®²ï¼Œæˆ‘ä»¬è¦å¤šæ”¯æŒè¿™äº›æŠ€æœ¯çš„æˆé•¿ï¼Œæ— è®ºæ˜¯ç»™è¿™äº›å¼€æºé¡¹ç›®è´¡çŒ®æºç ã€å¸ƒé“ã€è´¡çŒ®æœ€ä½³å®è·µï¼Œæœ€ç»ˆéƒ½èƒ½è®©æˆ‘ä»¬è‡ªå·±å—ç›Šã€‚æ‰€ä»¥æˆ‘åœ¨å›¢é˜Ÿé‡Œä¹Ÿæ¯”è¾ƒé¼“åŠ±å¤§å®¶è´¡çŒ®å¼€æºé¡¹ç›®ï¼Œæˆ–è€…é€šè¿‡é€ å¼€æºé¡¹ç›®çš„å‘¨è¾¹å°è½®å­ç»ƒç»ƒæ‰‹ã€‚&lt;/p&gt;&lt;p&gt;ä½†ä»è‡ªå·±å›¢é˜Ÿçš„ä¸šåŠ¡ä¸æŠ€æœ¯å‘å±•ï¼Œè¿™ä¸ªå¾®è§‚çš„å±‚é¢æ¥çœ‹æ›´ç€é‡çœ‹çš„æ˜¯è‡ªå·±å›¢é˜Ÿåœ¨æŸå—è·¨é¢†åŸŸæŠ€æœ¯çš„çŸ¥è¯†å‚¨å¤‡ã€äººæ‰å‚¨å¤‡ä¸é¡¹ç›®å†ç»ƒã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœå‰ç«¯è¦èƒ½å¤Ÿæ‰¿æ¥ä¸ªåˆ«çš„ä¸­åå°ä¸šåŠ¡ï¼Œå¿…éœ€è¦å›¢é˜Ÿé‡Œé¢çš„ Node.js åŸºå»ºè®¾æ–½æ¯”è¾ƒå®Œå–„ï¼Œå¹¶ä¸”è¦æœ‰ç›¸å…³çš„äººæ‰èƒ½å¤Ÿ Hold å¾—ä½ï¼Œå¦åˆ™å“ªé‡ŒæŠ¥äº† Node.js çš„é”™è¯¯ï¼Œå“ªé‡Œäº§ç”Ÿçš„æ€§èƒ½ç“¶é¢ˆï¼Œå“ªé‡Œå‡ºç°ç–‘éš¾æ‚ç—‡ï¼Œæ²¡æœ‰äººæœ‰æ€è·¯è§£å†³ï¼Œè¿™å°±å¾ˆå¯èƒ½ä¼šé˜»å¡åˆ°ä¸šåŠ¡çš„è¿›å±•ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä¸ªäººçš„å»ºè®®æ˜¯ï¼Œé¦–å…ˆè¦è®©åŸºå»ºè®¾æ–½å®Œå¤‡ï¼Œè­¬å¦‚å°† Node.js éƒ¨ç½²åˆ° K8S çš„è®¾æ–½æ­å»ºèµ·æ¥ï¼ŒåŒ…æ‹¬è¿›ç¨‹ç®¡ç†å™¨ã€ä¸ŠæŠ¥åŸ‹ç‚¹çš„å·¥å…·åº“ã€Node.js çš„åŸºç¡€ Docker é•œåƒç­‰ç­‰ã€‚åŸºå»ºå®Œå¤‡åï¼Œæˆ‘ä»¬å…ˆç”¨ä¸€äº›æŠ€æœ¯é¡¹ç›®ç»ƒæ‰‹ï¼Œå°¤å…¶æ˜¯åœ¨è®¸å¤šè·Ÿå®¢æˆ·ç«¯ä¸€èµ·åˆä½œçš„é¡¹ç›®é‡Œï¼Œç”±äºæœ‰å‰ç«¯èƒ½å†™ Node.js çš„ç¼˜æ•…ï¼Œä¸€äº›å¤§å‰ç«¯çš„å…¬å…±å¹³å°ï¼Œæ¯”å¦‚çƒ­æ›´æ–°å‘å¸ƒå¹³å°ã€é…ç½®ä¸­å¿ƒç­‰çš„ä¸€äº›é¡¹ç›®ï¼Œéƒ½å¯ä»¥ç”±å‰ç«¯æ¥åšä¸»è¦æ¨æ‰‹ï¼Œé€šè¿‡è¿™äº›é¡¹ç›®æ¥ç§¯ç´¯ä¸€äº›é«˜å¹¶å‘ã€é«˜å¯ç”¨çš„åå°å¼€å‘ä¸è¿ç»´ç»éªŒï¼Œä»è€Œè·å–åå°å¼€å‘çš„ç»éªŒã€‚å¦‚æœä¸æƒ³å¦‚æ­¤çš„æ¿€è¿›ï¼Œä¹Ÿå¯ä»¥ä»ä¸€äº›åç®¡ç†åå°çš„é¡¹ç›®å¼€å§‹ï¼Œè¿™äº›è€æ¿ä»¬æ˜¯æ¯”è¾ƒæ”¾å¿ƒè®© Node.js æ¥å®ç°çš„ã€‚å½“æ‹¥æœ‰äº†åŸºç¡€çš„ Node.js å¼€å‘ä¸è¿ç»´ç»éªŒåï¼Œå¯ä»¥å¼€å§‹åœ¨ä¸šåŠ¡ä¸­åšä¸€äº›å°è¯•ï¼Œå°¤å…¶æ˜¯é‚£äº›ä¸­å°çš„æ¥å£è½¬å‘é¡¹ç›®ã€æˆ–è€…æ˜¯åŒæ„æ¸²æŸ“æå‡æ€§èƒ½çš„é¡¹ç›®ã€‚åªæœ‰è·¨è¶Šå‡ºæ¥ï¼Œèƒ½åšä¸€äº›ç”¨æˆ·ä¾§ä¸šåŠ¡çš„ Node.js æœåŠ¡ï¼Œè¿™æ ·æ‰èƒ½æ›´è¿›ä¸€æ­¥é€šè¿‡è§£å†³ç”¨æˆ·ä¾§çš„æœåŠ¡æŒ‘æˆ˜æ¥æå‡å›¢é˜Ÿçš„å®åŠ›ã€‚æˆ‘ä»¬å½“æ—¶æ˜¯é€‰æ‹©äº†ä¸€ä¸ªéå¸¸é€‚åˆå‰ç«¯ Node.js æ¥å®ç°çš„æœåŠ¡ï¼Œå°±æ˜¯ç”¨æˆ·è´­ä¹°å•†å“åçš„è®¢å•è¯¦æƒ…é¡µã€‚è¿™ä¸ªé¡µé¢ï¼Œäº§å“è¦æ±‚çš„åŠ¨æ€åŒ–éå¸¸é«˜ï¼Œä¸åŒäº§å“çš„å­—æ®µä¸å°½ç›¸åŒï¼Œè€Œä¸”å¯èƒ½æ—¶ä¸æ—¶è°ƒæ•´é¡ºåºæˆ–è€…æ·»åŠ å­—æ®µã€‚è€Œä¸”åå°æä¾›çš„å®šçš„æ¥å£ï¼Œåˆä¸å¤ªå¥½è¡¨ç°ä¸€äº›å­—æ®µçš„åˆ†ç±»ã€å­—æ®µçš„æ’åºã€å­—æ®µå±•ç¤ºçš„æ ¼å¼ç­‰ã€‚äºæ˜¯æˆ‘ä»¬å°±æå‡ºï¼Œç”¨ Node.js åšä¸€ä¸ªä¸­é—´æœåŠ¡ï¼Œå°†è¿™äº›å•†å“çš„è¯¦æƒ…å­—æ®µå…¨éƒ¨åšæˆå¯é…ç½®åŒ–ï¼Œå¹¶åœ¨ React Native ä¾§åšäº†ä¸€ä¸ªåŸºç¡€çš„å±•ç¤ºå¼•æ“ï¼ŒåŸºäºåå°è¿”å›çš„å­—æ®µåŠ¨æ€æ¸²æŸ“ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-80d419670b7fee43a1ed3af78b66f720_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;774&quot; data-rawheight=&quot;1524&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic1.zhimg.com/v2-80d419670b7fee43a1ed3af78b66f720_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;774&quot; data-rawheight=&quot;1524&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic1.zhimg.com/v2-80d419670b7fee43a1ed3af78b66f720_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-80d419670b7fee43a1ed3af78b66f720_b.jpg&quot;/&gt;&lt;figcaption&gt;ä¸åŒå•†å“çš„å­—æ®µçš„äº¤æ˜“è¯¦æƒ…é¡µå­—æ®µä¸å°½ç›¸åŒ&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-a95079e9976d67c0b5d1a7a12006ecfe_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1332&quot; data-rawheight=&quot;1070&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic3.zhimg.com/v2-a95079e9976d67c0b5d1a7a12006ecfe_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1332&quot; data-rawheight=&quot;1070&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic3.zhimg.com/v2-a95079e9976d67c0b5d1a7a12006ecfe_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-a95079e9976d67c0b5d1a7a12006ecfe_b.jpg&quot;/&gt;&lt;figcaption&gt;å°†äº¤æ˜“è¯¦æƒ…å­—æ®µå…¨æ•°åœ¨Node.jsæœåŠ¡ä¸­å®ç°å¯é…ç½®åŒ–&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æœ‰äº†ä¸å°‘çš„æŠ€æœ¯é¡¹ç›®è¿˜æœ‰è¿™æ¬¡ä¸šåŠ¡é¡¹ç›®çš„å®è·µæˆåŠŸï¼Œå¤§å¤§å¢å¼ºäº†å‰ç«¯çš„ä¿¡å¿ƒï¼Œç­‰åˆ°åç»­åå°ç”±äºäººåŠ›åŸå› æ— æ³•æŠ•å…¥å¤ªå¤šç²¾åŠ›åˆ°äº§å“å®˜ç½‘çš„å¼€å‘ï¼Œå‰ç«¯å°±é¡ºå…¶è‡ªç„¶åœ°æ¥å—äº†è¿™ä¸ªæŒ‘æˆ˜ï¼Œä¼šå»åšå…¨ç«™çš„å‰åå°å¼€å‘ä»»åŠ¡ï¼Œåœ¨ä¸šåŠ¡ä¸­æ›´æ·±å±‚æ¬¡åœ°ä½¿ç”¨ Node.jsã€‚&lt;/p&gt;&lt;p&gt;åšä¸€ä¸‹å°ç»“ï¼Œæƒ³çªç ´ç›®å‰å•ä¸€æŠ€æœ¯çš„ç®¡ç†ï¼Œå¦‚æœä»¥ä¸­åå°ä¸ºä¾‹çš„è¯ï¼Œå¯ä»¥å°è¯•èµ°ä»¥ä¸‹çš„æ­¥éª¤ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ­å¥½åŸºç¡€è®¾æ–½ï¼Œä»¥å°é¡¹ç›®ç»ƒæ‰‹&lt;/li&gt;&lt;li&gt;åœ¨å¤§å‰ç«¯ä¸­ä¸»å¯¼ä¸€äº›ç›¸å…³çš„åå°é¡¹ç›®å»ºè®¾ï¼Œèµ¢å¾—é«˜å¯ç”¨ã€é«˜æ€§èƒ½çš„ç»éªŒ&lt;/li&gt;&lt;li&gt;åˆ‡å…¥ä¸­å°ä¸šåŠ¡ï¼Œå°è¯•åå°æœåŠ¡çš„ä¸­é—´å±‚&lt;/li&gt;&lt;li&gt;å¾€â€œåâ€æ‹“å±•ï¼Œå¯å°è¯•éæ ¸å¿ƒä¸šåŠ¡çš„å…¨æ ˆè½åœ°&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;&lt;b&gt;ç“¶é¢ˆä¸‰ï¼šä»å¸¦æŠ€æœ¯åˆ°å¸¦ä¸šåŠ¡çš„çªç ´&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;å‰ç«¯ï¼Œä¹ƒè‡³å¤§éƒ¨ä»½çš„ç ”å‘ï¼Œè¢«ä½œä¸ºå·¥å…·äººï¼Œé•¿ä¹…åªæ˜¯éœ€æ±‚çš„å®ç°æœºå™¨ï¼Œèƒ½çœŸæ­£çªç ´ä»åšæŠ€æœ¯åˆ°å¸¦ä¸šåŠ¡çš„äººå°‘ä¹‹åˆå°‘ã€‚è¿™ä¸ªçªç ´æœ‰ä¸¤ä¸ªå±‚æ¬¡ï¼Œä¸€ä¸ªæ˜¯æˆä¸ºè¿™ä¸ªä¸šåŠ¡æ¨¡å—çš„æ•´ä½“æŠ€æœ¯è´Ÿè´£äººï¼Œå¦ä¸€ä¸ªå±‚æ¬¡æ˜¯ç›´æ¥æˆä¸ºè¿™ä¸ªä¸šåŠ¡çš„æ€»è´Ÿè´£äººã€‚é—æ†¾çš„æ˜¯ï¼Œæœ¬äººéƒ½æœªèƒ½è¾¾åˆ°è¿™äº›å±‚æ¬¡ï¼Œç›®å‰åªæ˜¯ç²—ç•¥åœ°è°ˆä¸€ä¸‹æˆ‘è‡ªå·±åšçš„ä¸€äº›å°è¯•ï¼Œè€Œä¸”ä¸»è¦æ˜¯ç¬¬ä¸€ä¸ªå±‚æ¬¡çš„å°è¯•ã€‚&lt;/p&gt;&lt;p&gt;ä¸€ä¸ªç ”å‘æ˜¯ä¸æ˜¯å…³æ³¨ä¸šåŠ¡ï¼Œå…¶å®åªè¦ä½ é—®ä¸€ä¸‹ä»–ï¼Œæ˜¯å¦çŸ¥é“è¿™ä¸ªäº§å“é¢å‘çš„ç”¨æˆ·ï¼Œç”¨æˆ·è§„æ¨¡ã€æ´»è·ƒç”¨æˆ·æœ‰å¤šå°‘ï¼ŒGMV æœ‰å¤šå°‘ç­‰ç­‰çš„ä¸€äº›å…³é”®ä¸šåŠ¡æ•°æ®ï¼Œå¦‚æœä»–èƒ½ç­”å‡ºä¸€äº›ï¼Œè€Œä¸æ˜¯å®Œå…¨ä¸çŸ¥é“ï¼Œé‚£è¯æ˜è¿™ä½ç ”å‘è¿˜æ˜¯æ¯”è¾ƒå…³å¿ƒä¸šåŠ¡çš„ã€‚æœ‰è¿™æ ·è‰¯å¥½çš„å…³å¿ƒä¸šåŠ¡æ•°æ®çš„ä¹ æƒ¯ï¼Œç›¸ä¿¡æ›´è¿›ä¸€æ­¥ï¼Œè®©è¿™ä½ç ”å‘ä¸ä»…åªäº†è§£è‡ªå·±æ¨¡å—çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥å°†åå°ã€å®¢æˆ·ç«¯è·ŸæŸä¸ªæ¨¡å—ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘éƒ½äº†è§£ä¸€éè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚å¹¶ä¸”è€æ¿ã€äº§å“ã€æµ‹è¯•äººå‘˜æ¥é—®çš„æ—¶å€™ï¼Œéƒ½èƒ½æ¯”è¾ƒæ¸…æ¥šåœ°åšå‡ºè§£é‡Šï¼Œé‚£è¿™ä½ç ”å‘ç†Ÿæ‚‰ä¸šåŠ¡çš„åå£°å°±å·²ç»è¿œæ’­äº†ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯ï¼Œæœ‰çš„æ—¶å€™å°½ç®¡ä½ å¯èƒ½å¯¹è¿™äº›ä¸šåŠ¡æœ‰æ‰€äº†è§£ï¼Œä½†ç”±äºåœ¨å‰ç«¯è¿™ä¸ªå²—ä½ä¸Šï¼Œå¤©ç„¶å¯èƒ½å°±æ¯”åå°æœ‰ä¸€å®šçš„åŠ£åŠ¿â€”â€”æ¯•ç«Ÿä¸šåŠ¡çš„æœ€ä¸»è¦çš„æµç¨‹æ˜¯åœ¨åå°å®æ–½çš„ã€‚è¿™äº›å¯¹äºé‡‘èã€ç”µå•†çš„è¡Œä¸šå°¤å…¶å¦‚æ­¤ï¼Œå¯èƒ½ç›¸æ¯”ä¹‹ä¸‹ï¼Œç¤¾äº¤ã€å†…å®¹ã€å·¥å…·ç­‰å¹³å°ï¼Œå‰ç«¯çš„è¯è¯­æƒå¯èƒ½åå€’æ›´å¤§ä¸€äº›ã€‚åŠ ä¸Šå¦‚æœä½ åšäº†å¤§é‡çš„æŠ€æœ¯é¡¹ç›®ï¼Œå°½ç®¡ä½ å¯¹ä¸šåŠ¡å…¶å®ä¹Ÿäº†è§£ï¼Œä¹Ÿå¯èƒ½ä¼šç»™åˆ«äººç•™ä¸‹è¿‡äºå…³æ³¨æŠ€æœ¯ï¼Œè€Œå¿½ç•¥ä¸šåŠ¡çš„å°è±¡â€”â€”æ¯•ç«Ÿæ¯æ¬¡é¡¹ç›®ä¼šä¸Šï¼Œéœ€è¦è§£å†³çš„åå°çš„é—®é¢˜ï¼Œæ¯”å‰ç«¯å’Œå®¢æˆ·ç«¯é«˜å‡ºä¸€å¤§æˆªï¼Œæˆ‘ä»¬ä¹Ÿä¸å¤ªå¥½å»æ’è¯ã€‚å› æ­¤ï¼Œåœ¨é‡è§†æŠ€æœ¯å»ºè®¾çš„åŒæ—¶ï¼Œä¹Ÿå¯ä»¥å¤šå¯¹ä¸šåŠ¡çš„æµç¨‹æå‡ºä¸€äº›ä¼˜åŒ–ï¼Œæ¯”å¦‚åç»­æˆ‘å°±å¸å–ä¸€äº›ç»éªŒæ•™è®­ï¼Œå¸Œæœ›åœ¨ä¸€äº›å•†å“ä¸Šæ–°çš„æµç¨‹ä¸Šåšä¸€äº›ç®€åŒ–ï¼Œå‡å°‘æ¯æ¬¡ä¸Šæ–°æŠ•å…¥çš„äººåŠ›ï¼Œä½¿æ•´ä¸ªé¡¹ç›®ç»„çš„äººåŠ›è§„åˆ’å¯ä»¥å‘å…¶å®ƒæ›´é‡è¦çš„äº‹æƒ…ä¸Šå€¾æ–œã€‚&lt;/p&gt;&lt;p&gt;æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•é’ˆå¯¹ä¸šåŠ¡å½“ä¸‹æˆ–è€…æœªæ¥çš„è¯‰æ±‚åšä¸€äº›äº§å“çš„å­µåŒ–ã€‚æ¯”å¦‚ä½œä¸ºé‡‘èç”µå•†å¹³å°ï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯ä¸€äº›å¸¸è§„è¿è¥é¡µé¢çš„æ­å»ºå·¥å…·ï¼Œæ¯•ç«Ÿå‰ç«¯åœ¨äº§å“åšç”¨æˆ·å¢é•¿è¿™å—ï¼Œè¿˜æ˜¯å¯ä»¥å‘æŒ¥æ¯”è¾ƒå¤§çš„ä½œç”¨ã€‚äºæ˜¯æ–­æ–­ç»­ç»­ï¼Œæˆ‘ä»¬å›¢é˜Ÿå°±æ­å»ºäº†ä¸€ä¸ªå¯ä»¥è·¨å¤šä¸ª APP è¿è¡Œçš„è¿è¥é¡µé¢æ­å»ºå·¥å…·ã€‚åœ¨åšè¿™äº›é¡¹ç›®çš„å­µåŒ–è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸æ˜¯ä¸€å¸†é£é¡ºçš„ï¼Œæ¯”æ–¹è¯´è¿™äº›äº§å“è¦ä»ç­–ç•¥ã€è®¾è®¡åˆ°è½åœ°éƒ½éœ€è¦å›¢é˜Ÿçš„äººä»å¤´åšèµ·ï¼Œæ¨åŠ¨è¿è¥äººå‘˜çš„ä½¿ç”¨ä¹Ÿå¹¶éä¸€å¸†é£é¡ºï¼Œä¹Ÿæˆå°±ä¹Ÿæœ‰æŒ«è´¥ã€‚ä½†ç»è¿‡è¿™äº›å†ç»ƒä¹‹åï¼Œè®©è‡ªå·±å¯¹ä¸šåŠ¡ã€äº§å“çš„æŠŠæ¡ä¹Ÿä¼šæœ‰å¦ä¸€ç•ªçš„è§è§£ã€‚è™½ç„¶ç›®å‰çš„è¿™äº›åŠªåŠ›æœªæœ‰å¾ˆæ˜æ˜¾çš„æˆæ•ˆï¼Œä½†å›¢é˜Ÿäººå‘˜åœ¨äº§å“è®¾è®¡ã€æ‰“ç£¨ã€è½åœ°æ–¹é¢çš„èƒ½åŠ›å¾—åˆ°äº†å‚¨å¤‡ï¼Œæ­£æ‰€è°“å…»å…µåƒæ—¥ï¼Œç”¨åœ¨ä¸€æ—¶ï¼Œç›¸ä¿¡æœªæ¥å¯èƒ½å°†ä¼šæœ‰è¿™äº›äº§å“ã€äººå‘˜å‘æŒ¥çš„åœ°æ–¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-a52b61953fa7806b5ec8ea955687806d_b.jpg&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3340&quot; data-rawheight=&quot;1684&quot; class=&quot;origin_image zh-lightbox-thumb&quot; data-original=&quot;https://pic2.zhimg.com/v2-a52b61953fa7806b5ec8ea955687806d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3340&quot; data-rawheight=&quot;1684&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; data-original=&quot;https://pic2.zhimg.com/v2-a52b61953fa7806b5ec8ea955687806d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-a52b61953fa7806b5ec8ea955687806d_b.jpg&quot;/&gt;&lt;figcaption&gt;å¯æ‹–æ‹½å¼è¿è¥é¡µé¢æ­å»ºå·¥å…·&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å°ç»“ä¸€ä¸‹ï¼Œä»å¸¦æŠ€æœ¯åˆ°å¸¦ä¸šåŠ¡çš„ä¸€äº›åŠªåŠ›ï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;å…³æ³¨ä¸šåŠ¡ï¼Œä»å…³æ³¨ä¸šåŠ¡çš„æ•°æ®ã€é€»è¾‘å¼€å§‹ï¼Œå¹¶ä¸”å¤šç«¯çš„é€»è¾‘éƒ½éœ€è¦ç†Ÿæ‚‰&lt;/li&gt;&lt;li&gt;æŠ€æœ¯é¡¹ç›®ä¸ä¸šåŠ¡é¡¹ç›®éƒ½è¦ä¸¤æ‰‹æŠ“ï¼Œå¹¶ä¸”éœ€è¦æœ‰è‡ªå·±å›¢é˜Ÿä¸»æ¨è½åœ°çš„ä¸€äº›æ ¸å¿ƒä¸šåŠ¡éœ€æ±‚ä¸ä¼˜åŒ–&lt;/li&gt;&lt;li&gt;å°è¯•å­µåŒ–ä¸ä¸šåŠ¡ç›¸å…³æˆ–è€…ä¸å…¬å¸å‘å±•æˆ˜ç•¥ä¸€è‡´çš„äº§å“&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;&lt;b&gt;æ€»ç»“&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;æ¥ Shopee ä¸€å¹´åŠï¼Œå˜åŒ–ç¿»å¤©è¦†åœ°ï¼Œä»æ¥ä¸æ•¢æƒ³è±¡è‡ªå·±ä¼šæœ‰æœºä¼šå»çªç ´è¿™äº›èŒä¸šçš„ç•Œé™ï¼Œæˆ–è€…æ‘¸åˆ°è¿™äº›èŒä¸šç•Œé™çš„å¤©èŠ±æ¿ã€‚å¸Œæœ›è¿™äº›ç²—æµ…çš„ç»éªŒèƒ½å¤Ÿå¯¹åæ¥éƒ½æœ‰äº›å¯å‘ï¼Œä¹Ÿå¸Œæœ›ä¸€äº›åŒè¡Œã€å‰è¾ˆå¯ä»¥å¤šå¤šæŒ‡ç‚¹ï¼Œä¸åèµæ•™ã€‚åŒæ—¶æ„Ÿè°¢æˆ‘å›¢é˜Ÿçš„åŒäº‹ä¸è€æ¿ï¼Œè¿™ä¸€å¹´å¤šä»¥æ¥å¯¹æˆ‘ä¸é—ä½™åŠ›çš„æ”¯æŒï¼&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a09baffdc3d01d291d001cc39a66c6d5</guid>
<title>[æ¨è] åŸæ¥ 10 å¼ å›¾å°±å¯ä»¥ææ‡‚åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»ŸåŸç†</title>
<link>https://toutiao.io/k/5xc996m</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.13914373088685014&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2piaibVveZKx6UpN0V8nuZvn6P329MBs3F3hibVnVdn1g0iccAyaRiaXA2nw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1308&quot;/&gt;&lt;/figure&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿä¸ºä»€ä¹ˆéœ€è¦é“¾è·¯è¿½è¸ªï¼Ÿ&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éšç€äº’è”ç½‘ä¸šåŠ¡å¿«é€Ÿæ‰©å±•ï¼Œè½¯ä»¶æ¶æ„ä¹Ÿæ—¥ç›Šå˜å¾—å¤æ‚ï¼Œä¸ºäº†é€‚åº”æµ·é‡ç”¨æˆ·é«˜å¹¶å‘è¯·æ±‚ï¼Œç³»ç»Ÿä¸­è¶Šæ¥è¶Šå¤šçš„ç»„ä»¶å¼€å§‹èµ°å‘åˆ†å¸ƒå¼åŒ–ï¼Œå¦‚å•ä½“æ¶æ„æ‹†åˆ†ä¸ºå¾®æœåŠ¡ã€æœåŠ¡å†…ç¼“å­˜å˜ä¸ºåˆ†å¸ƒå¼ç¼“å­˜ã€æœåŠ¡ç»„ä»¶é€šä¿¡å˜ä¸ºåˆ†å¸ƒå¼æ¶ˆæ¯ï¼Œè¿™äº›ç»„ä»¶å…±åŒæ„æˆäº†ç¹æ‚çš„åˆ†å¸ƒå¼ç½‘ç»œã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2BxpN3kVA9ic5O0oicuDafEUYRhOQBtGHe5zJrXfTIw8iaiaCLpbYDCOdUQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1020&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;å¾®æœåŠ¡æ¶æ„ï¼ˆæç®€ç‰ˆï¼‰&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡å¦‚ç°åœ¨æœ‰ä¸€ä¸ªç³»ç»Ÿéƒ¨ç½²äº†æˆåƒä¸Šä¸‡ä¸ªæœåŠ¡ï¼Œç”¨æˆ·é€šè¿‡æµè§ˆå™¨åœ¨ä¸»ç•Œé¢ä¸Šä¸‹å•ä¸€ç®±èŒ…å°é…’ï¼Œç»“æœç³»ç»Ÿç»™ç”¨æˆ·æç¤ºï¼šç³»ç»Ÿå†…éƒ¨é”™è¯¯ï¼Œç›¸ä¿¡ç”¨æˆ·æ˜¯å¾ˆå´©æºƒçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿è¥äººå‘˜å°†é—®é¢˜æŠ›ç»™å¼€å‘äººå‘˜å®šä½ï¼Œå¼€å‘äººå‘˜åªçŸ¥é“æœ‰å¼‚å¸¸ï¼Œä½†æ˜¯è¿™ä¸ªå¼‚å¸¸å…·ä½“æ˜¯ç”±å“ªä¸ªå¾®æœåŠ¡å¼•èµ·çš„å°±éœ€è¦é€ä¸ªæœåŠ¡æ’æŸ¥äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.2796486090775988&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t24wK4kjztvM6RrSdpTQmvjGdh0PNpAd7sEc9SBLJibsSYXGyliajwudCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1366&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;ç•Œé¢å‡ºç°å¼‚å¸¸éš¾ä»¥æ’æŸ¥åå°æœåŠ¡&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼€å‘äººå‘˜å€ŸåŠ©æ—¥å¿—é€ä¸ªæ’æŸ¥çš„æ•ˆç‡æ˜¯éå¸¸ä½çš„ï¼Œé‚£æœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆäº†ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”æ¡ˆæ˜¯&lt;strong&gt;å¼•å…¥é“¾è·¯è¿½è¸ªç³»ç»Ÿ&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»€ä¹ˆæ˜¯é“¾è·¯è¿½è¸ªï¼Ÿ&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªå°±æ˜¯å°†ä¸€æ¬¡åˆ†å¸ƒå¼è¯·æ±‚è¿˜åŸæˆè°ƒç”¨é“¾è·¯ï¼Œå°†ä¸€æ¬¡åˆ†å¸ƒå¼è¯·æ±‚çš„è°ƒç”¨æƒ…å†µé›†ä¸­å±•ç¤ºï¼Œæ¯”å¦‚å„ä¸ªæœåŠ¡èŠ‚ç‚¹ä¸Šçš„è€—æ—¶ã€è¯·æ±‚å…·ä½“åˆ°è¾¾å“ªå°æœºå™¨ä¸Šã€æ¯ä¸ªæœåŠ¡èŠ‚ç‚¹çš„è¯·æ±‚çŠ¶æ€ç­‰ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é“¾è·¯è·Ÿè¸ªä¸»è¦åŠŸèƒ½ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;æ•…éšœå¿«é€Ÿå®šä½&lt;/strong&gt;ï¼šå¯ä»¥é€šè¿‡è°ƒç”¨é“¾ç»“åˆä¸šåŠ¡æ—¥å¿—å¿«é€Ÿå®šä½é”™è¯¯ä¿¡æ¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;é“¾è·¯æ€§èƒ½å¯è§†åŒ–&lt;/strong&gt;ï¼šå„ä¸ªé˜¶æ®µé“¾è·¯è€—æ—¶ã€æœåŠ¡ä¾èµ–å…³ç³»å¯ä»¥é€šè¿‡å¯è§†åŒ–ç•Œé¢å±•ç°å‡ºæ¥ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;é“¾è·¯åˆ†æ&lt;/strong&gt;ï¼šé€šè¿‡åˆ†æé“¾è·¯è€—æ—¶ã€æœåŠ¡ä¾èµ–å…³ç³»å¯ä»¥å¾—åˆ°ç”¨æˆ·çš„è¡Œä¸ºè·¯å¾„ï¼Œæ±‡æ€»åˆ†æåº”ç”¨åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é“¾è·¯è¿½è¸ªåŸºæœ¬åŸç†&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é“¾è·¯è¿½è¸ªç³»ç»Ÿï¼ˆå¯èƒ½ï¼‰æœ€æ—©æ˜¯ç”±Goggleå…¬å¼€å‘å¸ƒçš„ä¸€ç¯‡è®ºæ–‡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€ŠDapper, a Large-Scale Distributed Systems Tracing Infrastructureã€‹&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¢«å¤§å®¶å¹¿æ³›ç†Ÿæ‚‰ï¼Œæ‰€ä»¥å„ä½æŠ€æœ¯å¤§ç‰›ä»¬å¦‚æœæœ‰é»‘æ­¦å™¨ä¸è¦è—èµ·æ¥èµ¶ç´§å»å‘è¡¨è®ºæ–‡å§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¿™ç¯‡è‘—åçš„è®ºæ–‡ä¸­ä¸»è¦è®²è¿°äº†Dapperé“¾è·¯è¿½è¸ªç³»ç»Ÿçš„åŸºæœ¬åŸç†å’Œå…³é”®æŠ€æœ¯ç‚¹ã€‚æ¥ä¸‹æ¥æŒ‘å‡ ä¸ªé‡ç‚¹çš„æŠ€æœ¯ç‚¹è¯¦ç»†ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Trace&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Traceçš„å«ä¹‰æ¯”è¾ƒç›´è§‚ï¼Œå°±æ˜¯é“¾è·¯ï¼ŒæŒ‡ä¸€ä¸ªè¯·æ±‚ç»è¿‡æ‰€æœ‰æœåŠ¡çš„è·¯å¾„ï¼Œå¯ä»¥ç”¨ä¸‹é¢æ ‘çŠ¶çš„å›¾å½¢è¡¨ç¤ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7918454935622318&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2FlTBpPzMXicOP6WCYTaqjFx6ic0Iwzkn94B20GhSbEH3KFoBEKiccuZzw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;932&quot;/&gt;&lt;figcaption&gt;traceIdä¸²è”è¯·æ±‚å½¢æˆé“¾è·¯&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å›¾ä¸­ä¸€æ¡å®Œæ•´çš„é“¾è·¯æ˜¯ï¼šchrome -&amp;gt; æœåŠ¡A -&amp;gt; æœåŠ¡B -&amp;gt; æœåŠ¡C -&amp;gt; æœåŠ¡D -&amp;gt; æœåŠ¡E -&amp;gt; æœåŠ¡C -&amp;gt; æœåŠ¡A -&amp;gt; chromeã€‚æœåŠ¡é—´ç»è¿‡çš„å±€éƒ¨é“¾è·¯æ„æˆäº†ä¸€æ¡å®Œæ•´çš„é“¾è·¯ï¼Œå…¶ä¸­æ¯ä¸€æ¡å±€éƒ¨é“¾è·¯éƒ½ç”¨ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„traceidæ¥æ ‡è¯†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Span&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šå›¾ä¸­å¯ä»¥çœ‹å‡ºæ¥è¯·æ±‚ç»è¿‡äº†æœåŠ¡Aï¼ŒåŒæ—¶æœåŠ¡Aåˆè°ƒç”¨äº†æœåŠ¡Bå’ŒæœåŠ¡Cï¼Œä½†æ˜¯å…ˆè°ƒçš„æœåŠ¡Bè¿˜æ˜¯æœåŠ¡Cå‘¢ï¼Ÿä»å›¾ä¸­å¾ˆéš¾çœ‹å‡ºæ¥ï¼Œåªæœ‰é€šè¿‡æŸ¥çœ‹æºç æ‰çŸ¥é“é¡ºåºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†è¡¨è¾¾è¿™ç§çˆ¶å­å…³ç³»å¼•å…¥äº†Spançš„æ¦‚å¿µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒä¸€å±‚çº§parent idç›¸åŒï¼Œspan idä¸åŒï¼Œspan idä»å°åˆ°å¤§è¡¨ç¤ºè¯·æ±‚çš„é¡ºåºï¼Œä»ä¸‹å›¾ä¸­å¯ä»¥å¾ˆæ˜æ˜¾çœ‹å‡ºæœåŠ¡Aæ˜¯å…ˆè°ƒäº†æœåŠ¡Bç„¶åå†è°ƒç”¨äº†Cã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šä¸‹å±‚çº§ä»£è¡¨è°ƒç”¨å…³ç³»ï¼Œå¦‚ä¸‹å›¾æœåŠ¡Cçš„span idä¸º2ï¼ŒæœåŠ¡Dçš„parent idä¸º2ï¼Œè¿™å°±è¡¨ç¤ºæœåŠ¡Cå’ŒæœåŠ¡Då½¢æˆäº†çˆ¶å­å…³ç³»ï¼Œå¾ˆæ˜æ˜¾æ˜¯æœåŠ¡Cè°ƒç”¨äº†æœåŠ¡Dã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.72568093385214&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2HyXEQxAbia3jCVGz0sw8D6FxunOtbypHHM96IZiaAhnqoNsCyGyia2VVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1028&quot;/&gt;&lt;figcaption&gt;Spanä½¿è¯·æ±‚å…·æœ‰çˆ¶å­å…³ç³»&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ€»ç»“ï¼šé€šè¿‡äº‹å…ˆåœ¨æ—¥å¿—ä¸­åŸ‹ç‚¹ï¼Œæ‰¾å‡ºç›¸åŒtraceIdçš„æ—¥å¿—ï¼Œå†åŠ ä¸Šparent idå’Œspan idå°±å¯ä»¥å°†ä¸€æ¡å®Œæ•´çš„è¯·æ±‚è°ƒç”¨é“¾ä¸²è”èµ·æ¥ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Annotations&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Dapperä¸­è¿˜å®šä¹‰äº†annotationçš„æ¦‚å¿µï¼Œç”¨äºç”¨æˆ·è‡ªå®šä¹‰äº‹ä»¶ï¼Œç”¨æ¥è¾…åŠ©å®šä½é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é€š&lt;strong&gt;&lt;strong&gt;å¸¸&lt;/strong&gt;&lt;/strong&gt;åŒ…å«å››ä¸ªæ³¨è§£ä¿¡æ¯&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;csï¼šClient Startï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼›&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;srï¼šServerReceivedï¼Œè¡¨ç¤ºæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼›&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ssï¼šServer Sendï¼Œè¡¨ç¤ºæœåŠ¡ç«¯å®Œæˆå¤„ç†ï¼Œå¹¶å°†ç»“æœå‘é€ç»™å®¢æˆ·ç«¯ï¼›&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;crï¼šClientReceivedï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯è·å–åˆ°æœåŠ¡ç«¯è¿”å›ä¿¡æ¯ï¼›&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.4038128249566724&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2UNIQ9UXLKmtu2F2gVhlNM3nxddsU8TzP8HKiaZWPtaDXFibFQgtCvhyA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1154&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;ä¸€æ¬¡è¯·æ±‚å’Œå“åº”è¿‡ç¨‹&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šå›¾ä¸­æè¿°äº†ä¸€æ¬¡è¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹ï¼Œå››ä¸ªç‚¹ä¹Ÿå°±æ˜¯å¯¹åº”å››ä¸ªAnnotationäº‹ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹é¢çš„å›¾è¡¨ç¤ºä»å®¢æˆ·ç«¯è°ƒç”¨æœåŠ¡ç«¯çš„ä¸€æ¬¡å®Œæ•´è¿‡ç¨‹ã€‚å¦‚æœè¦è®¡ç®—ä¸€æ¬¡è°ƒç”¨çš„è€—æ—¶ï¼Œåªéœ€è¦å°†å®¢æˆ·ç«¯æ¥æ”¶çš„æ—¶é—´ç‚¹å‡å»å®¢æˆ·ç«¯å¼€å§‹çš„æ—¶é—´ç‚¹ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­æ—¶é—´çº¿ä¸Šçš„T4 - T1ã€‚å¦‚æœè¦è®¡ç®—å®¢æˆ·ç«¯å‘é€ç½‘ç»œè€—æ—¶ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­æ—¶é—´çº¿ä¸Šçš„T2 - T1ï¼Œå…¶ä»–ç±»ä¼¼å¯è®¡ç®—ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3832807570977918&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2xrcclqZYwfcWvgd5P9KcTA4aeGX2lxI6IZUYD8Z7H6Daqxwj5h3PCQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1268&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;è¯·æ±‚å’Œå“åº”çš„æ—¶é—´çº¿&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¦å†…æ•°æ®ä¸å¸¦å¤–æ•°æ®&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é“¾è·¯ä¿¡æ¯çš„è¿˜åŸä¾èµ–äº&lt;strong&gt;å¸¦å†…&lt;/strong&gt;å’Œ&lt;strong&gt;å¸¦å¤–&lt;/strong&gt;ä¸¤ç§æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¦å¤–æ•°æ®æ˜¯å„ä¸ªèŠ‚ç‚¹äº§ç”Ÿçš„äº‹ä»¶ï¼Œå¦‚csï¼Œssï¼Œè¿™äº›æ•°æ®å¯ä»¥ç”±èŠ‚ç‚¹ç‹¬ç«‹ç”Ÿæˆï¼Œå¹¶ä¸”éœ€è¦é›†ä¸­ä¸ŠæŠ¥åˆ°å­˜å‚¨ç«¯ã€‚é€šè¿‡å¸¦å¤–æ•°æ®ï¼Œå¯ä»¥åœ¨å­˜å‚¨ç«¯åˆ†ææ›´å¤šé“¾è·¯çš„ç»†èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¦å†…æ•°æ®å¦‚traceid,spanid,parentidï¼Œç”¨æ¥æ ‡è¯†traceï¼Œspanï¼Œä»¥åŠspanåœ¨ä¸€ä¸ªtraceä¸­çš„ä½ç½®ï¼Œè¿™äº›æ•°æ®éœ€è¦ä»é“¾è·¯çš„èµ·ç‚¹ä¸€ç›´ä¼ é€’åˆ°ç»ˆç‚¹ã€‚é€šè¿‡å¸¦å†…æ•°æ®çš„ä¼ é€’ï¼Œå¯ä»¥å°†ä¸€ä¸ªé“¾è·¯çš„æ‰€æœ‰è¿‡ç¨‹ä¸²èµ·æ¥ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‡‡æ ·&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½ä¼šç”Ÿæˆä¸€ä¸ªé“¾è·¯ï¼Œä¸ºäº†å‡å°‘æ€§èƒ½æ¶ˆè€—ï¼Œé¿å…å­˜å‚¨èµ„æºçš„æµªè´¹ï¼Œdapperå¹¶ä¸ä¼šä¸ŠæŠ¥æ‰€æœ‰çš„spanæ•°æ®ï¼Œè€Œæ˜¯ä½¿ç”¨é‡‡æ ·çš„æ–¹å¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯ç§’æœ‰1000ä¸ªè¯·æ±‚è®¿é—®ç³»ç»Ÿï¼Œå¦‚æœè®¾ç½®é‡‡æ ·ç‡ä¸º1/1000ï¼Œé‚£ä¹ˆåªä¼šä¸ŠæŠ¥ä¸€ä¸ªè¯·æ±‚åˆ°å­˜å‚¨ç«¯ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.36893203883495146&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2fHMXGOwHGAyxBFQxfcCBnzhUJhAolA7F3qGnJNK94ezY3LDqTLbsGQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1442&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;æ•°æ®é‡‡æ ·&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡é‡‡é›†ç«¯è‡ªé€‚åº”åœ°è°ƒæ•´é‡‡æ ·ç‡ï¼Œæ§åˆ¶spanä¸ŠæŠ¥çš„æ•°é‡ï¼Œå¯ä»¥åœ¨å‘ç°æ€§èƒ½ç“¶é¢ˆçš„åŒæ—¶ï¼Œæœ‰æ•ˆå‡å°‘æ€§èƒ½æŸè€—ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å­˜å‚¨&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3399715504978663&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2B41uvPibpvZCBMTK8p3VnQ6LwmmmFlrfWVMtyRts9PAUur1cmTmiavBQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1406&quot;/&gt;&lt;figcaption&gt;å­˜å‚¨å¤šæ ·åŒ–&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é“¾è·¯ä¸­çš„spanæ•°æ®ç»è¿‡æ”¶é›†å’Œä¸ŠæŠ¥åä¼šé›†ä¸­å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹ï¼ŒDapperä½¿ç”¨äº†BigTableæ•°æ®ä»“åº“ï¼Œå¸¸ç”¨çš„å­˜å‚¨è¿˜æœ‰ElasticSearch, HBase, In-memory DBç­‰ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸šç•Œå¸¸ç”¨é“¾è·¯è¿½è¸ªç³»ç»Ÿ&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Google Dapperè®ºæ–‡å‘å‡ºæ¥ä¹‹åï¼Œå¾ˆå¤šå…¬å¸åŸºäºé“¾è·¯è¿½è¸ªçš„åŸºæœ¬åŸç†ç»™å‡ºäº†å„è‡ªçš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚Twitterçš„Zipkinï¼ŒUberçš„Jaegerï¼Œpinpointï¼ŒApacheå¼€æºçš„skywalkingï¼Œè¿˜æœ‰å›½äº§å¦‚é˜¿é‡Œçš„é¹°çœ¼ï¼Œç¾å›¢çš„Mtraceï¼Œæ»´æ»´Traceï¼Œæ–°æµªçš„Watchmanï¼Œäº¬ä¸œçš„Hydraï¼Œä¸è¿‡å›½å†…çš„è¿™äº›åŸºæœ¬éƒ½æ²¡æœ‰å¼€æºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†ä¾¿äºå„ç³»ç»Ÿé—´èƒ½å½¼æ­¤å…¼å®¹äº’é€šï¼ŒOpenTracingç»„ç»‡åˆ¶å®šäº†ä¸€ç³»åˆ—æ ‡å‡†ï¼Œæ—¨åœ¨è®©å„ç³»ç»Ÿæä¾›ç»Ÿä¸€çš„æ¥å£ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢å¯¹æ¯”ä¸€ä¸‹å‡ ä¸ªå¼€æºç»„ä»¶ï¼Œæ–¹ä¾¿æ—¥åå¤§å®¶åšæŠ€æœ¯é€‰å‹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.048936170212766&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2Xn8ugCkQUgIfHrX0DWIrqLJEG7mWObHZX8GbAApZicbv1bzbeCvSXNQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;940&quot;/&gt;&lt;figcaption&gt;å¼€æºç»„ä»¶å¯¹æ¯”&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™„å„å¤§å¼€æºç»„ä»¶çš„åœ°å€ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;zipkinÂ  -&amp;gt; https://zipkin.io/&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;JaegerÂ  -&amp;gt; https://www.jaegertracing.io/&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;PinpointÂ  -&amp;gt; https://github.com/pinpoint-apm/pinpoint&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;SkyWalkingÂ  -&amp;gt;Â  http://skywalking.apache.org/&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥ä¸‹æ¥ä»‹ç»ä¸€ä¸‹ZipkinåŸºæœ¬å®ç°ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªç³»ç»ŸZipkinå®ç°&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zipkin æ˜¯ Twitter çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒåŸºäº Google Dapper å®ç°ï¼Œå®ƒè‡´åŠ›äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç°ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ZipkinåŸºæœ¬æ¶æ„&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.4725415070242657&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t2MuK8yxl0LgibLveNHHzbkx2Xicd9rtrzibbqTJ1Y2t5dKmAD2KpfjaTpg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1566&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;figcaption&gt;Zipkinæ¶æ„&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æœåŠ¡è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå¾ˆå¤šé“¾è·¯ä¿¡æ¯ï¼Œäº§ç”Ÿæ•°æ®çš„åœ°æ–¹å¯ä»¥ç§°ä¹‹ä¸ºReporterã€‚å°†é“¾è·¯ä¿¡æ¯é€šè¿‡å¤šç§ä¼ è¾“æ–¹å¼å¦‚HTTPï¼ŒRPCï¼Œkafkaæ¶ˆæ¯é˜Ÿåˆ—ç­‰å‘é€åˆ°Zipkinçš„é‡‡é›†å™¨ï¼ŒZipkinå¤„ç†åæœ€ç»ˆå°†é“¾è·¯ä¿¡æ¯ä¿å­˜åˆ°å­˜å‚¨å™¨ä¸­ã€‚è¿ç»´äººå‘˜é€šè¿‡UIç•Œé¢è°ƒç”¨æ¥å£å³å¯æŸ¥è¯¢è°ƒç”¨é“¾ä¿¡æ¯ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Zipkinæ ¸å¿ƒç»„ä»¶&lt;/strong&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zipkinæœ‰å››å¤§æ ¸å¿ƒç»„ä»¶&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4457831325301205&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/RXvHpViaz3EqQTrt2zr8JQ5nb5HBmM7t26vbTGxvNng2K4ADiaW47BBxtAmcIVicgbLrs0gxlhPFDonDH6bKhL5iag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1328&quot;/&gt;&lt;figcaption&gt;Zipkinæ ¸å¿ƒç»„ä»¶&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ï¼ˆ1ï¼‰Collector&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€æ—¦Collectoré‡‡é›†çº¿ç¨‹è·å–åˆ°é“¾è·¯è¿½è¸ªæ•°æ®ï¼ŒZipkinå°±ä¼šå¯¹å…¶è¿›è¡ŒéªŒè¯ã€å­˜å‚¨å’Œç´¢å¼•ï¼Œå¹¶è°ƒç”¨å­˜å‚¨æ¥å£ä¿å­˜æ•°æ®ï¼Œä»¥ä¾¿è¿›è¡ŒæŸ¥æ‰¾ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ï¼ˆ2ï¼‰Storage&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zipkin Storageæœ€åˆæ˜¯ä¸ºäº†åœ¨Cassandraä¸Šå­˜å‚¨æ•°æ®è€Œæ„å»ºçš„ï¼Œå› ä¸ºCassandraæ˜¯å¯ä¼¸ç¼©çš„ï¼Œå…·æœ‰çµæ´»çš„æ¨¡å¼ï¼Œå¹¶ä¸”åœ¨Twitterä¸­å¤§é‡ä½¿ç”¨ã€‚é™¤äº†Cassandraï¼Œè¿˜æ”¯æŒæ”¯æŒElasticSearchå’ŒMySQLå­˜å‚¨ï¼Œåç»­å¯èƒ½ä¼šæä¾›ç¬¬ä¸‰æ–¹æ‰©å±•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ï¼ˆ3ï¼‰Query Service&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é“¾è·¯è¿½è¸ªæ•°æ®è¢«å­˜å‚¨å’Œç´¢å¼•ä¹‹åï¼Œwebui å¯ä»¥è°ƒç”¨query serviceæŸ¥è¯¢ä»»æ„æ•°æ®å¸®åŠ©è¿ç»´äººå‘˜å¿«é€Ÿå®šä½çº¿ä¸Šé—®é¢˜ã€‚query serviceæä¾›äº†ç®€å•çš„json apiæ¥æŸ¥æ‰¾å’Œæ£€ç´¢æ•°æ®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ï¼ˆ4ï¼‰Web UI&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Zipkin æä¾›äº†åŸºæœ¬æŸ¥è¯¢ã€æœç´¢çš„webç•Œé¢ï¼Œè¿ç»´äººå‘˜å¯ä»¥æ ¹æ®å…·ä½“çš„è°ƒç”¨é“¾ä¿¡æ¯å¿«é€Ÿè¯†åˆ«çº¿ä¸Šé—®é¢˜ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»ç»“&lt;/h1&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªå°±æ˜¯å°†æ¯ä¸€æ¬¡åˆ†å¸ƒå¼è¯·æ±‚è¿˜åŸæˆè°ƒç”¨é“¾è·¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é“¾è·¯è¿½è¸ªçš„æ ¸å¿ƒæ¦‚å¿µï¼šTraceã€Spanã€Annotationã€å¸¦å†…å’Œå¸¦å¤–æ•°æ®ã€é‡‡æ ·ã€å­˜å‚¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¸šç•Œå¸¸ç”¨çš„å¼€æºç»„ä»¶éƒ½æ˜¯åŸºäºè°·æ­ŒDapperè®ºæ–‡æ¼”å˜è€Œæ¥ï¼›&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;Zipkinæ ¸å¿ƒç»„ä»¶æœ‰ï¼šCollectorã€Storageã€Query Serviceã€Web UIã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>