<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>9846a65159a7c7a178a3f47e98ac8d7c</guid>
<title>7å¤©DAUè¶…äº¿çº§ï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹æŠ€æœ¯æ¶æ„å‡çº§å®æˆ˜</title>
<link>https://toutiao.io/k/526ntt6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.10084033613445378&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/VY8SELNGe95czZhnamWia6rvd1aenicicPiasMmUOHHu1wyeNicNJsWGa4syzF2PoOAePZEYtZX8jicbEDRPW3KsUlOw/640?wx_fmt=gif&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&quot; data-w=&quot;1071&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;å¯¼è¯­ | &lt;span&gt;åœ¨çŸ­çŸ­çš„7å¤©å†…ï¼Œç¾Šäº†ä¸ªç¾Šå°æ¸¸æˆçš„DAUçªç ´äº†1äº¿ã€‚ç„¶è€Œï¼Œå…¶æœ€åˆ&lt;span&gt;æŠ€æœ¯æ¶æ„ä»…æ”¯æ’‘5000QPSå¹¶å‘ï¼Œæ— è®ºæŠ€æœ¯ã€äººåŠ›ã€èµ„æºä»¥åŠæœåŠ¡éƒ½éš¾ä»¥åº”å¯¹ã€‚ç”¨æˆ·æ¶Œå…¥ã€æ•°æ®é£™å‡ï¼Œç»™åŸæœ‰çš„æŠ€æœ¯æ¶æ„ã€è¿ç»´ä½“ç³»ã€ä»¥åŠå®‰å…¨é˜²èŒƒç­‰æŠ€æœ¯ä½“ç³»éƒ½å¸¦æ¥äº†å·¨å¤§çš„æŒ‘æˆ˜ã€‚&lt;span&gt;å¦‚ä½•é€šè¿‡æ¶æ„ä¼˜åŒ–ï¼Œè®©ä¸€æ¬¾å°ç¨‹åºæ¸¸æˆå¯ä»¥åœ¨çŸ­æ—¶é—´å†…å®ç°å¯¹ä¸Šäº¿DAUçš„æ”¯æŒï¼Ÿæœ¬æ–‡å°†ä»æŠ€æœ¯è§’åº¦è§£è¯»è¿™èƒŒåçš„æŠ€æœ¯å®è·µå†ç¨‹ï¼Œå¸Œæœ›ä¸ºæ­£åœ¨ä»äº‹å°æ¸¸æˆå¼€å‘çš„æŠ€æœ¯åŒè¡Œå¸¦æ¥ä¸€äº›å‚è€ƒã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.3636363636363635&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/wprMnqDUJH6cGyaKFfNz8LBPUNI4OiaTm1xFeAQicqx4HvD995taYCVicLg8FibpERuzj3wz9MD4wcwMoks6RibdXKm1ibH4MT3Sn9/640?wx_fmt=svg&quot; data-w=&quot;11&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;p data-mid=&quot;&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç›®å½•&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;1 èƒŒ&lt;/span&gt;&lt;span&gt;æ™¯&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;2 æ¶æ„å…¨é¢å‡çº§&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3 æ’ä»¶é›†æˆ&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;187f729f1aabcd483fd11b8e9e1d3409&quot;&gt;&lt;span&gt;Â  Â  3.1 ä¸€å´©å†å´©ï¼Œè‡ªåŠ¨æ‰©å®¹ä¸ºä½•ä¸çµï¼Ÿ&lt;/span&gt;&lt;/h3&gt;&lt;section&gt;&lt;span&gt;Â Â  Â 3.2 è¿ç»´èƒ½åŠ›ä¸è¶³ï¼Œå¦‚ä½•å¿«é€Ÿè¡¥é½ï¼Ÿ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â Â Â  3.3 BOTåˆ·æ’è¡Œï¼Œå¦‚ä½•ä¿æŒæ¸¸æˆå…¬å¹³ï¼Ÿ&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;4 &lt;/span&gt;&lt;span&gt;å°æ¸¸æˆè®¾è®¡çš„â€œä¸‰é«˜â€åŸåˆ™&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img data-ratio=&quot;1.3636363636363635&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/UOlZKghBxaaFDCr9CbkR03IAZNGptnic2SGuu0JicCvYuVswicMoNLqwKSicE8zkJiaIOK8ianbJKHTAMYvxK9pcHPNKmOc2LpbneC/640?wx_fmt=svg&quot; data-w=&quot;11&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FiaZYIGick0nWJJXC1lSLI8zy2asbcicfNgvgJXexvB9rOnicPxbKFdEibPg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;èƒŒæ™¯&lt;/span&gt;&lt;/strong&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è°ä¹Ÿæ²¡æœ‰æƒ³åˆ°ï¼Œå»å¹´9æœˆï¼Œä¸€æ¬¾å¡é€šèƒŒæ™¯æ¶ˆé™¤é—¯å…³æ¸¸æˆã€Šç¾Šäº†ä¸ªç¾Šã€‹å…¨ç½‘è¿…é€Ÿåˆ·å±ã€‚&lt;/span&gt;&lt;span&gt;ä½†å‡¡ä¸€ä¸ªæ‹¿ç€æ‰‹æœºç›®ä¸è½¬ç›çš„äººï¼Œä¹æˆæ¦‚ç‡éƒ½åœ¨å¿™ç€é€šå…³ï¼Œè¿˜æœ‰å¤§æ‰¹çš„äººï¼Œå› ä¸ºä¸èƒ½é€šå…³è€Œé€šå®µè¾¾æ—¦ï¼Œå¤œä¸èƒ½å¯ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åå°æ•°æ®æ˜¾ç¤ºï¼Œåœ¨çŸ­çŸ­çš„7å¤©å†…ï¼Œè¿™æ¬¾å°æ¸¸æˆçš„DAUå°±çªç ´äº†1äº¿ã€‚è¦çŸ¥é“ï¼Œé™¤äº†ç‹è€…è£è€€ã€åŸç¥ç­‰å±ˆæŒ‡å¯æ•°çš„ç°è±¡çº§æ‰‹æ¸¸ä¹‹å¤–ï¼Œ1äº¿DAUæ˜¯è¿™ä¸ªè¡Œä¸šçš„å–œé©¬æ‹‰é›…å±±ï¼Œå¯æ˜¯ï¼Œå®ƒå´è¢«ä¸€ä¸ªçœ‹ä¸Šå»è®¾è®¡ç²—ç³™çš„å°ç¨‹åºæ¸¸æˆè½»æ¾å®ç°äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”¨æˆ·æ¶Œå…¥ã€æ•°æ®é£™å‡ï¼Œå®é™…ä¸Šç»™åŸæœ‰çš„æŠ€æœ¯æ¶æ„ã€è¿ç»´ä½“ç³»ã€ä»¥åŠå®‰å…¨é˜²èŒƒç­‰æŠ€æœ¯ä½“ç³»éƒ½å¸¦æ¥äº†å·¨å¤§çš„æŒ‘æˆ˜ï¼Œè¿™ä¸ªåˆ›ä¸šå›¢é˜Ÿä¸€å…±åªæœ‰å‡ ä¸ªäººï¼Œæœ€åˆçš„æŠ€æœ¯æ¶æ„ä»…æ”¯æ’‘5000QPSå¹¶å‘ï¼Œå› æ­¤ï¼Œæ— è®ºæŠ€æœ¯ã€äººåŠ›ã€èµ„æºä»¥åŠæœåŠ¡éƒ½è¶Šæ¥è¶Šéš¾ä»¥åº”å¯¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;strong&gt;å¦‚ä½•é€šè¿‡æ¶æ„ä¼˜åŒ–ï¼Œè®©ä¸€æ¬¾å°ç¨‹åºæ¸¸æˆå¯ä»¥åœ¨çŸ­æ—¶é—´å†…å®ç°å¯¹ä¸Šäº¿DAUçš„æ”¯æŒï¼Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;æœ¬æ–‡å°†ä»æŠ€æœ¯è§’åº¦è§£è¯»è¿™èƒŒåçš„æŠ€æœ¯å®è·µå†ç¨‹ï¼Œå¸Œæœ›ä¸ºæ­£åœ¨ä»äº‹å°æ¸¸æˆå¼€å‘çš„æŠ€æœ¯åŒè¡Œä¸€äº›å‚è€ƒã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9F812pnpTVKsrLmlcKHlIuuBvuwqeIqmOLOsD9nTpkow7FlAh45LKRLA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ¶æ„å…¨é¢å‡çº§&lt;/strong&gt;&lt;strong/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ä¸€æ¬¾å°æ¸¸æˆèƒ½ä¸èƒ½æˆåŠŸï¼Œä¸ä»…å’Œæœ¬èº«çš„é€šå…³è®¾è®¡æœ‰ç€å·¨å¤§çš„å…³ç³»ï¼Œè€Œä¸”è¿˜å’Œä¸Šé‡ä¹‹åï¼Œç³»ç»Ÿèƒ½å¦æŒç»­ç¨³å®šä¹Ÿå¯†åˆ‡ç›¸å…³ã€‚&lt;/span&gt;&lt;span&gt;ã€Šç¾Šäº†ä¸ªç¾Šã€‹è¿™æ¬¾å°æ¸¸æˆåœ¨çˆ†ç«ä¹‹åçš„å‰å‡ å¤©ï¼Œæ›¾ç»åœ¨æŠ€æœ¯æ¶æ„é¢ä¸´ä¸¥å³»è€ƒéªŒï¼Œè¿™å¯¹ä¸€æ¬¾æ­£åœ¨ç”¨æˆ·é‡å¿«é€Ÿçˆ¬å¡çš„å°æ¸¸æˆæ¥è¯´ï¼Œå¯ä»¥è¯´æ˜¯è‡´å‘½çš„æŒ‘æˆ˜ï¼Œå¦‚æœä¸èƒ½å¿«é€Ÿè§£å†³ï¼Œå°†ä¼šå¤§å¹…é™ä½ç©å®¶çš„æ¸¸æˆä½“éªŒï¼Œä»è€Œå¿«é€Ÿè¢«ç”¨æˆ·æŠ›å¼ƒã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ã€Šç¾Šäº†ä¸ªç¾Šã€‹åœ¨æœ€å¼€å§‹ä¹Ÿé‡åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œå°±æ˜¯ä¸€ç¬é—´ï¼Œæ¶Œå…¥æµ·é‡ç”¨æˆ·ï¼Œé€Ÿåº¦ä¹‹å¿«ï¼Œäººæ•°ä¹‹å¤šï¼Œè¶…è¿‡äº†æ‰€æœ‰äººçš„é¢„æœŸã€‚å°±åƒä¸€æ¡åŒå‘ä¸¤è½¦é“ï¼Œè½¦æµé‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œè¿˜èƒ½æ­£å¸¸è¡Œé©¶ï¼Œå¯ä¸€æ—¦æ¥äº†æˆåƒä¸Šä¸‡è¾†è½¦ï¼Œäº¤é€šçš„æ•ˆç‡è‚¯å®šå¤§æ‰“æŠ˜æ‰£ï¼Œç”šè‡³å µæ­»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç°åœ¨å›è¿‡å¤´çœ‹ï¼Œæœ€å¼€å§‹çš„æŠ€æœ¯æ¶æ„å› ä¸ºæŠ€æœ¯ä»¥åŠæ—¶é—´ç­‰å› ç´ ï¼Œåœ¨è®¾è®¡ä¸Šæœ‰äº›ç®€å•ï¼Œå¦‚ä¸‹å›¾1æ‰€ç¤ºï¼Œç©å®¶æµé‡é€šè¿‡ä¸€ä¸ªLBè¿›å…¥ï¼Œä¼ è¾“ç»™å‡ ä¸ªPODè¿›è¡Œæ¸¸æˆé€»è¾‘å¤„ç†ï¼Œ å†å°†æ•°æ®è¿›è¡Œå­˜å‚¨ï¼Œå…¶ä¸­ï¼Œçƒ­æ•°æ®å­˜å‚¨åœ¨Redisä¸­, æŒä¹…åŒ–æ•°æ®å­˜åœ¨MongoDBã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ç”±äºè®¾è®¡æ—¶ï¼Œå¯¹å¦‚æ­¤å¤§æµé‡ç¼ºä¹å……åˆ†è€ƒè™‘ï¼Œå®é™…ä¸Šä¹Ÿæ²¡æœ‰æ–™æƒ³åˆ°ä¼šæœ‰è¿™ä¹ˆå¤§çš„æµé‡ï¼Œè€Œä¸”&lt;/span&gt;&lt;span&gt;&lt;strong&gt;å•ç‚¹æœåŠ¡çš„æ€§èƒ½ç“¶é¢ˆï¼Œå†åŠ ä¸Šä»£ç æœªè¿›è¡Œå……åˆ†ä¼˜åŒ–ï¼Œé€ æˆå½“æ—¶çš„ç³»ç»Ÿæœ€é«˜åªèƒ½æ‰¿å—5000çš„QPS&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œä½†å®é™…æµé‡å¢é•¿å¾ˆå¿«ï¼Œ å¹¶ä¸”æŒç»­å‡é«˜å¹¶åˆ°è¾¾æ€§èƒ½ç“¶é¢ˆï¼Œæ¸¸æˆæœåŠ¡å¼€å§‹ç˜«ç—ªï¼Œå…¨éƒ¨ç©å®¶æ— æ³•å†è¿›è¡Œæ¸¸æˆã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;1.602661596958175&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9SmqmVtF4jdN5mtEHv9XRkCnBrOmXcp0KmrY7drg3FMEKqBlWfF3W7Mr9RVx2gSNh22CO19XoCViaoibVh6ZOnqw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;526&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ã€Šç¾Šäº†ä¸ªç¾Šã€‹æœ€å¼€å§‹æŠ€æœ¯æ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¢å¯¹æœåŠ¡ä¸­æ–­ï¼Œ ã€Šç¾Šäº†ä¸ªç¾Šã€‹å’Œè…¾è®¯äº‘æœåŠ¡å›¢é˜Ÿåœ¨è¯¦ç»†åˆ†æåŸæ¥æ¶æ„çš„ä¸è¶³ä¹‹åï¼Œå†³å®šä»ä¸‰ä¸ªæ–¹é¢ï¼Œé’ˆå¯¹åŸæœ‰æ¶æ„åšé‡ç‚¹ä¼˜åŒ–ï¼šåœ¨è®¡ç®—æ‰©å®¹å±‚ï¼Œä¾é è…¾è®¯äº‘äº‘åŸç”Ÿäº§å“ä¸ºåŸæœ‰æŠ€æœ¯æ¶æ„å‡çº§ï¼Œå®ç°æœåŠ¡é«˜å¯ç”¨ï¼›ä¸ºå¿«é€Ÿè¡¥é½è¿ç»´èƒ½åŠ›ï¼Œé€šè¿‡ä¸šåŠ¡æ—¥å¿—è¯Šæ–­ç¨‹åºæ€§èƒ½ï¼Œé…åˆä¸šåŠ¡è°ƒä¼˜ä»¥å‡å°‘æœåŠ¡å™¨å‹åŠ›ï¼›æœ€ååœ¨å®‰å…¨é˜²èŒƒé¢†åŸŸï¼Œé€šè¿‡å®‰å…¨æ–¹æ¡ˆæŠµæŠ—å¼‚å¸¸æµé‡æ”»å‡»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;0.8524426719840479&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9SmqmVtF4jdN5mtEHv9XRkCnBrOmXcp0xN2I5lDwb75X5Yibf8KTpESztbbBXI67Wp3PAPpvJt0g6qvBntHN3OA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1003&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ã€Šç¾Šäº†ä¸ªç¾Šã€‹æœ€æ–°æŠ€æœ¯æ¶æ„&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…·ä½“æªæ–½ä¸Šï¼Œé¦–å…ˆé€šè¿‡å¼•å…¥è…¾è®¯äº‘TKE Serverless çš„å¼¹æ€§æœºåˆ¶ï¼Œ å®ç°æ¸¸æˆæœè‡ªåŠ¨çºµå‘å’Œæ¨ªå‘æ‰©å±•ï¼Œå®ç°æœåŠ¡è§£è—•ï¼Œå¢åŠ å®¹é”™å’Œç†”æ–­æœºåˆ¶ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…¶æ¬¡ï¼Œé€šè¿‡è…¾è®¯äº‘å¼€ç®±å³ç”¨çš„æ—¥å¿—æœåŠ¡ CLSï¼Œå¯¹æ¸¸æˆæ¥å£ç¨³å®šæ€§/å¼‚å¸¸è°ƒç”¨è¶‹åŠ¿è¿›è¡Œç›‘æ§ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿè§‚æµ‹äº§å“è´¨é‡ ï¼Œå¹¶ç¬¬ä¸€æ—¶é—´è·å–åˆ°å¼‚å¸¸panicç»Ÿè®¡åˆ†æå’Œå‘Šè­¦ ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŒæ—¶ï¼Œè¿˜è¦é’ˆå¯¹è®¸å¤šæ¶æ„BOTæµé‡å¤§é‡æ¶Œå…¥åˆ°æ¸¸æˆä¸­ï¼Œå¯¼è‡´æ¸¸æˆæœåŠ¡å™¨ QPSã€å¸¦å®½å¿«é€Ÿå‡é«˜ï¼Œå½±å“æœåŠ¡å¯ç”¨æ€§ç­‰æƒ…å†µï¼Œå¼•å…¥WAF+é«˜é˜²åŒ…ï¼Œ æŠµå¾¡å¤–éƒ¨å¼‚å¸¸æµé‡æ”»å‡»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨æ­¤ä¹‹å¤–ï¼Œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;åŒæ–¹äº§ç ”å›¢é˜Ÿè¿˜é€šè¿‡å¯ç”¨CDNåšæ¸¸æˆåŠ¨é™æ€èµ„æºåˆ†ç¦»ï¼Œè®©ç©å®¶ä½¿ç”¨çš„æ¸¸æˆèµ„æºå®ç°å°±è¿‘ä¸‹è½½ï¼Œå‡è½»ç½‘ç»œç«¯å‹åŠ›&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼›è®¾è®¡å¤šLBå…¥å£å®ç°å…¥å£é«˜å¯ç”¨å’Œé™æµï¼Œé¿å…ç³»ç»Ÿè¢«è¶…é¢æµé‡è¿‡è½½ï¼›æŠŠMongoDBè½¬æ¢ä¸ºè¯»å†™åˆ†ç¦»æ¨¡å¼ï¼Œé…åˆä»£ç é€»è¾‘ä¼˜åŒ–å®ç°æ€§èƒ½æå‡ï¼Œå¼•å…¥åˆ†åº“å®ç°ä¸šåŠ¡åˆ†å±‚ä¸éš”ç¦»ï¼ŒRedisç¼“å­˜çƒ­æ•°æ®ï¼Œåˆ†æ‹…æ•°æ®åº“æŸ¥è¯¢å‹åŠ›ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»è¿‡ä¸Šè¿°ä¸€ç³»åˆ—æŠ€æœ¯å‡çº§ï¼Œ æ–°æ¶æ„ç»å—ä½äº†ä¸€æ³¢åˆä¸€æ³¢çš„æµé‡å³°å€¼è€ƒéªŒï¼Œç”šè‡³åœ¨é«˜å³°æœŸDAUè¿‡äº¿åï¼Œæ¸¸æˆæŠ€æœ¯ç³»ç»Ÿä¾æ—§è¡¨ç°ç¨³å®šï¼Œè¿™å¯¹äºä¸€ä¸ªå‘å¸ƒæ‰å‡ ä¸ªæœˆçš„å°æ¸¸æˆæ¥è¯´ï¼Œåœ¨å›½å†…ä¹Ÿå¾ˆéš¾å†æ‰¾åˆ°è¿™æ ·çš„ä¾‹å­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9Fl62j5eylelCcZwNOEv5HRg9xicSj2KIwvdQMPbwiau3eqyIUpKbjQ6nA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æŠ€æœ¯å®æˆ˜ï¼šæ‰©å®¹ã€è¿ç»´ã€å®‰å…¨&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;187f729f1aabcd483fd11b8e9e1d3409&quot;&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;ä¸‹é¢æˆ‘ä»¬å°†ä»&lt;/span&gt;&lt;span&gt;&lt;strong&gt;æ‰©å®¹ã€è¿ç»´ã€ä»¥åŠå®‰å…¨ä¸‰å¤§æ ¸å¿ƒç¯èŠ‚&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;å…¥æ‰‹ï¼Œè¯¦ç»†ä»‹ç»åœ¨å…·ä½“å®æ“è¿‡ç¨‹ä¸­ï¼ŒåŒæ–¹æ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;å¦‚ä½•åº”å¯¹æµé‡çš„çˆ†å‘æŒ‘æˆ˜&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;187f729f1aabcd483fd11b8e9e1d3409&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3.1 &lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;strong&gt;&lt;strong&gt;&lt;strong&gt;&lt;span&gt;ä¸€å´©å†å´©ï¼Œè‡ªåŠ¨æ‰©å®¹ä¸ºä½•ä¸çµï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å±•å¼€ä¹‹å‰ï¼Œå…ˆè¯´ä¸‹è¿™æ¬¡èµ·åˆ°è‡³å…³é‡è¦çš„ä¸€æ¬¾äº§å“----TKE Serverless ï¼Œå®ƒæ˜¯åŸºäºè…¾è®¯äº‘ TKE å®¹å™¨æœåŠ¡å­µåŒ–å‡ºæ¥çš„ä¸€ç§å…¨æ–°çš„æ— éœ€ç®¡ç†æœåŠ¡å™¨å½¢æ€çš„ Kubernetes å®¹å™¨æœåŠ¡å¹³å°ï¼Œæœ€æ ¸å¿ƒçš„åˆ©å™¨æ˜¯æ‹¥æœ‰ä¸€ä¸ªå…¨æ–°çš„é›†ç¾¤èŠ‚ç‚¹ç®¡ç†æ¨¡å¼ï¼Œç§°ä¹‹ä¸ºè¶…çº§èŠ‚ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸Šäº‘çš„å¼€å‘è€…éƒ½çŸ¥é“è™šæ‹Ÿæœºï¼Œè¶…çº§èŠ‚ç‚¹å°±ç±»ä¼¼äºä¸€å°è¶…å¤§è§„æ ¼çš„ CVM è™šæ‹Ÿæœºï¼Œå®ƒæ˜¯åŸºäº Serverless å®¹å™¨æŠ€æœ¯ï¼Œæ¨¡æ‹Ÿ Serverful æœ‰èŠ‚ç‚¹ç®¡ç†ä½“éªŒçš„æ–°å½¢æ€å®¹å™¨é›†ç¾¤èŠ‚ç‚¹ã€‚å¦‚æœç”¨æˆ·éœ€è¦è¿›è¡Œå›ºå®šèµ„æºçš„æ‰©ç¼©å®¹ï¼Œä»…éœ€è¦å¯¹è¿™å°â€œè¶…å¤§è§„æ ¼çš„ CVMâ€è¿›è¡Œå‡é™é…ï¼Œç®€å•ç‚¹å‡»å‡ ä¸ªé¼ æ ‡ï¼Œå°±å¯ä»¥é…ç½®å®Œæˆï¼Œèµ„æºç®¡ç†å˜å¾—æä¸ºç®€å•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å®é™…ä¸Šï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹åœ¨6æœˆä¸Šçº¿åˆæœŸå°±é‡‡ç”¨äº† TKE Serverless çš„äº‘åŸç”Ÿæ–¹å¼éƒ¨ç½²æ¸¸æˆç³»ç»Ÿï¼Œå¸Œæœ›å€ŸåŠ©äº§å“çš„å…è¿ç»´åŠå¿«é€Ÿæ‰©ç¼©å®¹èƒ½åŠ›ï¼Œæ”¯æ’‘æœªæ¥ç©å®¶çš„è§„æ¨¡å¢é•¿ï¼Œä½†åœ¨9æœˆä¸Šæ—¬ï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹çªç„¶ä¸€å¤œçˆ†ç«ï¼Œç©å®¶è§„æ¨¡æ€¥å‰§ä¸Šå‡ï¼Œæ¸¸æˆç³»ç»Ÿå¼€å§‹å‡ºç°ä¸ç¨³å®šçš„æƒ…å†µã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»è¿‡æ¢³ç†å‘ç°ï¼Œå› ä¸ºåˆå§‹é…ç½®çš„å®¹å™¨è§„æ ¼æ¯”è¾ƒä½ï¼Œå‰¯æœ¬æ•°ä¹Ÿç›¸å¯¹è¾ƒå°‘ï¼Œå½“åˆå§‹ç©å®¶è§„æ¨¡ä¸æ–­ä¸Šæ¶¨æ—¶ï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹å›¢é˜Ÿæ ¹æ® TKE æ§åˆ¶å°çš„ç›‘æ§/å‘Šè­¦èƒ½åŠ›ï¼Œå‘ç°å®¹å™¨çš„ CPU/å†…å­˜ç­‰å„é¡¹æŒ‡æ ‡éƒ½è¾¾åˆ°äº†æœ€å¤§å€¼ï¼Œè¿ç»´åŒå­¦å½“æ—¶éšå³åšå‡ºè°ƒæ•´ï¼Œæ¸¸æˆæœåŠ¡çš„å„é¡¹æŒ‡æ ‡ç¨³å®šäº†ä¸‹æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†éšç€ç©å®¶è§„æ¨¡ç»§ç»­ä¸Šæ¶¨è¾¾åˆ°åƒä¸‡çº§åˆ«æ—¶ï¼Œæ¸¸æˆåˆå¼€å§‹å‡ºç°äº†å¶å‘çš„ä¸ç¨³å®šé—®é¢˜ï¼Œè¡¨ç°ä¸ºå†…å­˜æŒ‡æ ‡å¿«é€Ÿå¢åŠ ç›´åˆ°æ‰“æ»¡æ•´ä¸ªå®¹å™¨ï¼Œä¸”æµé‡è¿˜åœ¨ä¸æ–­å¢é•¿ä¸­ã€‚è…¾è®¯äº‘å›¢é˜Ÿç´§æ€¥è”åˆã€Šç¾Šäº†ä¸ªç¾Šã€‹äº§ç ”å›¢é˜Ÿåˆ†æåº”ç”¨çš„ç“¶é¢ˆï¼Œå¿«é€Ÿè§£å†³äº†å¦‚æœåŠ¡å†…å­˜æ³„éœ²ã€æœåŠ¡åˆ†çº§ç¼“å­˜ç­–ç•¥ã€äº‘äº§å“é…é¢é™åˆ¶ç­‰å¤šä¸ªé—®é¢˜ï¼Œè¿™æ‰è®©æ¸¸æˆæœåŠ¡é€æ¸ç¨³å®šäº†ä¸‹æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç”±äºã€Šç¾Šäº†ä¸ªç¾Šã€‹æŠ€æœ¯å›¢é˜Ÿé…ç½®äº†åŸºäº CPU æŒ‡æ ‡çš„å®¹å™¨ HPA åŠ¨æ€æ‰©ç¼©å®¹ç­–ç•¥ï¼Œåœ¨æ¸¸æˆæ—¥æ´»æŒç»­é™¡å¢çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿèƒ½å¤Ÿåœ¨ç§’çº§è‡ªåŠ¨æ‰©å®¹äº†è¿‘ä¸‡æ ¸å®¹å™¨èµ„æºã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;åœ¨æ­¤æœŸé—´ï¼Œä¹Ÿæ— éœ€æŠ•å…¥äººåŠ›è¿ç»´ Kubernetes é›†ç¾¤ä»¥åŠæ‹…å¿ƒèµ„æºä¸è¶³ç­‰é—®é¢˜ï¼Œä»è€Œå¯ä»¥æŠŠç²¾åŠ›éƒ½æŠ•å…¥åˆ°æ¸¸æˆç©æ³•ä¼˜åŒ–ä¸Šæ¥ã€‚åœ¨éšåçš„ä¸¤å‘¨æ—¶é—´ï¼Œå°½ç®¡ç©å®¶è§„æ¨¡å¢é•¿åˆ°å‡ ç™¾å€ä»¥ä¸Šï¼Œæœ€ç»ˆè¾¾åˆ°äº†ä¸Šäº¿çš„æ—¥æ´»ï¼Œè¿™å¥—æœåŠ¡ä¾æ—§ä¿æŒç¨³å®šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3.2 è¿ç»´èƒ½åŠ›ä¸è¶³ï¼Œå¦‚ä½•å¿«é€Ÿè¡¥é½ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡æŠ€æœ¯æ¶æ„çš„è¿­ä»£ä»¥åŠä¸æ–­æ¿€å¢çš„ç”¨æˆ·ï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹æŠ€æœ¯å›¢é˜Ÿä¹Ÿè®¤è¯†åˆ°ï¼Œå› ä¸ºçˆ†ç«å¤ªå¿«ï¼Œæ›´éœ€è¦å¿«é€Ÿè¡¥é½è¿ç»´èƒ½åŠ›ï¼Œæ‰èƒ½æ›´å¥½çš„æŒç»­è°ƒæ•´å’Œæå‡æ¸¸æˆä½“éªŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºæ­¤ï¼Œã€Šç¾Šäº†ä¸ªç¾Šã€‹é€‰æ‹©äº†å¼€ç®±å³ç”¨çš„æ—¥å¿—æœåŠ¡ CLSï¼ŒCLS å¯¹æ¸¸æˆæ¥å£ç¨³å®šæ€§ã€å¼‚å¸¸è°ƒç”¨è¶‹åŠ¿çš„ç›‘æ§å¯å¸®åŠ©ä»–ä»¬å¿«é€Ÿè§‚æµ‹äº§å“è´¨é‡ ï¼Œå¹¶ç¬¬ä¸€æ—¶é—´è·å–åˆ°å¼‚å¸¸panicç»Ÿè®¡åˆ†æå’Œå‘Šè­¦ ï¼›åœ¨æ¸¸æˆè¿è¥æ–¹é¢ï¼Œç©å®¶ç™»å½•é“¾è·¯è€—æ—¶/å¯¹å±€æ—¶é—´ç­‰æ•°æ®äº¦å¯é€šè¿‡ CLS åˆ†æã€æ ¡éªŒåŠå¤„ç†ï¼Œè¿›è€Œè°ƒæ•´å’Œæå‡æ¸¸æˆä½“éªŒï¼›åŒæ—¶è¿˜èƒ½æ»¡è¶³æ¸¸æˆç”¨æˆ·è¡Œä¸ºåŠå®¡è®¡å¯¹è´¦ç­‰éœ€æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;TKE Serverlessåœ¨æä¾›å……è¶³çš„è®¡ç®—èµ„æºåï¼Œå¯ä»¥ä½¿ç”¨CLSçš„äº‘åŸç”Ÿç‰¹æ€§å®ç°ç¨³å®šæ€§å’Œç¨‹åºè°ƒä¼˜ã€‚&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ç”¨æˆ·ç ”å‘äººå‘˜ä»…éœ€åœ¨å®¹å™¨æ§åˆ¶å°ç‚¹å‡»æ–°å»ºæ—¥å¿—é‡‡é›†æŒ‰é’®å³å¯å®Œæˆæ•°æ®æ¥å…¥ï¼Œæ— éœ€åœ¨è¿ç»´ä¸ŠæŠ•å…¥äººåŠ›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å€ŸåŠ©äº‘åŸç”Ÿçš„èƒ½åŠ›å’ŒCLSçš„SQLåˆ†æã€ä»ªè¡¨ç›˜ã€ç›‘æ§å‘Šè­¦èƒ½åŠ›ï¼Œåˆ†æå‡ºç¨‹åºå¯ä¼˜åŒ–ç‚¹, è§£å†³æ¸¸æˆå¼€å‘å•†åœ¨åˆæœŸå’Œçˆ†å‘æœŸå¯¹æ¸¸æˆç¨³å®šæ€§å’Œè¿è¥æ•°æ®åˆ†æçš„éš¾é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é™¤äº†è¿ç»´æ•°æ®å¤–ï¼Œç”¨æˆ·è¿˜å°†éƒ¨åˆ†è¿è¥æ•°æ®æ¥å…¥CLSã€‚åœ¨æ¸¸æˆè°ƒæ•´ç©æ³•ã€åˆ†ææ´»åŠ¨æ•°æ®æ—¶ï¼Œè¿è¥äººå‘˜å¯å€ŸåŠ©CLSå¿«é€Ÿè§‚æµ‹æ•°æ®å˜åŒ–ï¼Œå¹¶ä½œå‡ºåº”å¯¹ç­–ç•¥ã€‚æ¸¸æˆå¼€å‘å•†åœ¨å°†CLSç”¨ä½œç®€å•è¿ç»´å·¥å…·æŸ¥æ—¥å¿—ã€åšæ¥å£è°ƒç”¨å‘Šè­¦å¤–çš„åŒæ—¶ï¼Œè¿˜å°†æ¸¸æˆçš„é€šå…³æ•°æ®ã€ç”¨æˆ·è¡Œä¸ºåˆ†æã€å®¡è®¡å¯¹è´¦ç­‰è¿è¥æ•°æ®åœ¨CLSä¸­å­˜å‚¨åˆ†æã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lines=&quot;1&quot; data-sign=&quot;187f729f1aabcd483fd11b8e9e1d3409&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;3.3&lt;/span&gt;&lt;/strong&gt; &lt;strong&gt;&lt;span&gt;æ¶æ„BOTæŠ¢åˆ·æ’è¡Œï¼Œå¦‚ä½•ä¿æŒæ¸¸æˆå…¬å¹³ï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å“ªé‡Œæœ‰æµé‡ï¼Œå“ªé‡Œå°±æœ‰é»‘äº§ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºè®¾è®¡ä¹‹åˆæ²¡æœ‰å……åˆ†è€ƒè™‘å®‰å…¨é—®é¢˜ï¼Œå› æ­¤å¼•æ¥å¤§é‡ä¸æ³•åˆ†å­é€šè¿‡æ¶æ„BOTæŠ¢åˆ·æ¸¸æˆæ’è¡Œï¼Œå‡ ä¹æ¯åˆ†æ¯ç§’ï¼Œéƒ½æœ‰æ¶æ„æµé‡è®¿é—®æ¸¸æˆæ¥å£ï¼Œå¹¶ä¸”è¿™ä¸€éƒ¨åˆ†æ¶æ„ç¾¤ä½“é€šè¿‡äº’è”ç½‘ã€QQç¾¤å’Œå¾®ä¿¡ç¾¤ä¸­ä¼ æ’­æ¶æ„åˆ·æ’è¡Œçš„è„šæœ¬ï¼Œæå¤§çš„ç ´åäº†æ¸¸æˆå…¬å¹³æ€§ï¼Œè®©æœ¬è¯¥å±äºæ¸¸æˆå¯¹æŠ—çš„ä¹è¶£è¢«æ¶æ„BOTæŠ¹æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è€Œä¸”æ›´é‡è¦çš„æ˜¯éšç€ç¾Šäº†ä¸ªç¾Šçƒ­åº¦çš„ä¸ä½†æ”€å‡ï¼Œè®¸å¤šæ¶æ„BOTæµé‡çš„å¤§é‡æ¶Œå…¥ï¼Œå¯¼è‡´æ¸¸æˆæœåŠ¡å™¨ QPSã€å¸¦å®½å¿«é€Ÿå‡é«˜ï¼Œä¸€åº¦å½±å“æœåŠ¡å¯ç”¨æ€§ã€‚&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ç»è¿‡åŒæ–¹äº§ç ”å›¢é˜Ÿåˆä½œï¼Œå†³å®šå¿«é€Ÿæ¥å…¥è…¾è®¯äº‘WAFè¿›è¡Œé˜²æŠ¤ï¼Œä¸€å¼€å§‹æ¥å…¥WAFçš„æ—¶å€™ï¼Œç›¸å…³ QPS å³°å€¼å·²è¾¾ 21Wï¼Œæ¥å…¥WAFä¹‹å‰CPUä¸€ç›´å¤„äºä¸´ç•Œå€¼æ°´ä½ ã€ç½‘ç»œé“¾æ¥æ‰“æ»¡çš„å¯¼è‡´æœåŠ¡ä¸å¯ç”¨çš„æƒ…å†µã€‚&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_img_placeholder&quot; data-ratio=&quot;0.45966850828729283&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9SmqmVtF4jdN5mtEHv9XRkCnBrOmXcp0zrOV28ibDCFqxcjtHfAZ5pIzCrQgD9ff3TqcxlsDdLChiat2qglcFcIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;905&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡é€‰æ‹©è´Ÿè½½å‡è¡¡å‹WAFå³å¯åœ¨ä¸æ”¹åŠ¨ç½‘ç»œæ¶æ„çš„æƒ…å†µä¸‹3ç§’å®Œæˆä¸šåŠ¡æ¥å…¥ï¼Œå®ç°åœ¨ç”¨æˆ·æ— æ„Ÿçš„æƒ…å†µä¸‹å¯¹æ¶æ„æµé‡è¿›è¡Œæ¸…æ´—åŠé˜²æŠ¤ã€‚ä¸ºäº†æœ‰æ•ˆæ‰“å‡»æ”»å‡»è€…çš„æ¶æ„æµé‡ï¼Œ WAF ä¸­ BOT è¡Œä¸ºç®¡ç†ä¹Ÿæä¾›äº†å…¨é“¾è·¯ã€å…¨ç”Ÿå‘½å‘¨æœŸçš„çš„æ¶æ„è¡Œä¸ºæµé‡ä½“ç³»ï¼Œå®ç°å¿«é€Ÿé«˜æ•ˆçš„æ¶æ„æµé‡æ²»ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.08148148148148149&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/VY8SELNGe94QeANounecCYXmibLibjDT9FPB6mZB01WGXHsGUE2UYENHAJNeKa8y0qwiajZdfHR5lvk4rjnrQabwg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å°æ¸¸æˆè®¾è®¡çš„â€œä¸‰é«˜â€åŸåˆ™&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;é€šè¿‡è…¾è®¯äº‘è¿™æ¬¡å®Œæ•´æ”¯æŒã€Šç¾Šäº†ä¸ªç¾Šã€‹å›¢é˜Ÿåœ¨å°æ¸¸æˆæ¶æ„æ‰©å®¹ã€ç³»ç»Ÿè¿ç»´ä»¥åŠå®‰å…¨é˜²èŒƒé¢†åŸŸçš„å®æˆ˜ç»éªŒï¼Œæˆ‘ä»¬ä¹Ÿå¾—åˆ°äº†ä¸€äº›å¯å‘ï¼Œå¸Œæœ›ç»™åŒè¡Œä¸€äº›å‚è€ƒã€‚æ¯”å¦‚é¢å¯¹çªå‘æµé‡ï¼Œå°æ¸¸æˆç³»ç»Ÿåœ¨è®¾è®¡çš„è¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘ä»¥ä¸‹èƒ½åŠ›ï¼šç¬¬ä¸€æ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é«˜æ€§èƒ½&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œèƒ½å¤Ÿæ‰¿è½½ç¬æ—¶çˆ†å‘æµé‡ï¼Œä¿è¯å“åº”æ—¶é•¿åœ¨å¯æ¥å—çš„èŒƒå›´ï¼›å…¶æ¬¡æ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é«˜å¯ç”¨&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼Œç³»ç»ŸæŒç»­æä¾›æœåŠ¡ï¼Œå°æ¦‚ç‡å‘ç”Ÿå®•æœºæ—¶ï¼Œè¿‡è½½ä¿æŠ¤å°†æ•…éšœæ§åˆ¶åœ¨å¯æ‰¿å—èŒƒå›´å†…ï¼Œä¸å½±å“æ ¸å¿ƒä¸šåŠ¡ï¼›æœ€åæ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é«˜æ‰©å±•&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ï¼ŒæœåŠ¡ç³»ç»Ÿåº”è¯¥å…·å¤‡æ°´å¹³å’Œå‚ç›´æ‰©å±•èƒ½åŠ›ï¼Œåœ¨æˆæœ¬å’Œå¯ç”¨æ€§ä¸­å®ç°æœ€ä½³å¹³è¡¡ç‚¹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æˆ‘ä»¬ä¹Ÿçœ‹åˆ°ï¼Œç›®å‰åœ¨å›½å†…ç”šè‡³å›½é™…ä¸Šï¼Œå°æ¸¸æˆå‘è¡Œå•†è¿˜æ˜¯ä»¥ä¸­å°å‹æ¸¸æˆå…¬å¸ä¸ºä¸»ï¼Œå…¬å¸å¤§éƒ½å¤„äºæ—©æœŸåˆ›ä¸šæˆ–èèµ„é˜¶æ®µï¼Œå¯¹äº‘äº§å“ä¸ç†Ÿæ‚‰ã€æŠ€æœ¯èƒ½åŠ›å‚å·®ä¸é½ï¼Œåœ¨ç®—åŠ›èµ„æºã€æŠ€æœ¯æ¶æ„ã€ä¸šåŠ¡é€»è¾‘ã€è¿ç»´ç»éªŒæ–¹é¢ç¼ºä¹æˆç†Ÿçš„ç»éªŒï¼Œè¿™äº›éƒ½æ˜¯å°æ¸¸æˆå…¬å¸æ—©æœŸéå¸¸å…¸å‹çš„å›°å¢ƒã€‚é€šè¿‡è…¾è®¯äº‘å’Œã€Šç¾Šäº†ä¸ªç¾Šã€‹äº§ç ”å›¢é˜Ÿçš„è¿™æ¬¡å¯†åˆ‡åˆä½œï¼Œä¸ä»…è®©è…¾è®¯äº‘åœ¨æœåŠ¡ç±»ä¼¼å®¢æˆ·ä¸Šç§¯ç´¯äº†å®è´µçš„ç»éªŒï¼Œä¹Ÿä¸ºæœªæ¥çš„å‘å±•æŒ‡æ˜äº†æ¸…æ™°çš„ç›®æ ‡ï¼Œå°±æ˜¯&lt;/span&gt;&lt;span&gt;&lt;strong&gt;é’ˆå¯¹ä¸åŒèµ›é“æ­å»ºæ ‡å‡†åŒ–æ¶æ„ï¼Œä¸ºæ¸¸æˆå…¬å¸çš„ä¸šåŠ¡ä¿é©¾æŠ¤èˆª&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ŠæœŸæ–‡ç« çš„å¼€å‘è€…è¯»è€…ä»¬å¤ªçƒ­æƒ…å•¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ğŸ˜»å°äº‘ç»§ç»­ç»™å„ä½åŠ èµ ç¦åˆ©ğŸ˜»&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ‰«ç ä¸‹å›¾ä¸€é”®é¢†çº¢åŒ…å°é¢&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;å¦‚è¢«é¢†å–å®Œ è¯·&lt;/span&gt;&lt;/span&gt;&lt;span&gt;å…³&lt;/span&gt;&lt;span&gt;æ³¨&lt;/span&gt;&lt;span&gt;å¼€å‘è€…&lt;/span&gt;&lt;span&gt;å…¬ä¼—&lt;/span&gt;&lt;span&gt;å·&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;åœ¨åå°å›å¤ã€2023ã€‘ç»§ç»­é¢†å–&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.5868263473053892&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe963blWxQqSA3pbGLCwleGUrYicQnxXGtVpGbGuLiaBx6icBP4c9x6kZJiazaSNyKQOQoVOrdDric6iaiaSpw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1002&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä½ å¯èƒ½æ„Ÿå…´è¶£çš„è…¾è®¯å·¥ç¨‹å¸ˆä½œå“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2&quot; data-w=&quot;24&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/M6IC6IoU4PwMicRZB4dKAVUhfw1GR9CJvqeqIWic50hQeGiaVgjY4oK8BXrMNsMra2MQ3f4LAlLKT6ibW9GdTvibUtg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;2&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/sPQicVg8nzU0ceHDyC83Jm2vibsTbUia3blLRW1z0KUrw4OIV2eOibRmEWfWJYVXuyN6TOno2sLg9ZU7meG4uAY2jg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;24&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247571906&amp;amp;idx=1&amp;amp;sn=4da401e74d5bae42b47fe9f17df31f1e&amp;amp;chksm=eaa9c392ddde4a84eaad051015f0af1bb2832eb35174d982aae1f5a0d5ef4f7371a2e8ebe0e2&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä½ çš„2022å¹´åº¦å¼€å‘è€…å…³é”®è¯ï¼Œè¯·æŸ¥æ”¶&amp;gt;&amp;gt;&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ä½ çš„2022å¹´åº¦å¼€å‘è€…å…³é”®è¯ï¼Œè¯·æŸ¥æ”¶&amp;gt;&amp;gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;|Â &lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247571091&amp;amp;idx=1&amp;amp;sn=59f966d59925222d3a535266bb3a59a5&amp;amp;chksm=eaa9ccc3ddde45d5a71e3d1b92661b88c02ae36fdd07c1cf7070a305c83eb946793cbef1d8f1&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Reactè¯­å¢ƒä¸‹å‰ç«¯DDDçš„é•¿å¹´æ¢ç´¢ç»éªŒ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Reactè¯­å¢ƒä¸‹å‰ç«¯DDDçš„é•¿å¹´æ¢ç´¢ç»éªŒ&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247570676&amp;amp;idx=1&amp;amp;sn=dbdef6eff7fee16efa6373f5caebfd36&amp;amp;chksm=eaa9cea4ddde47b25e60e32b5faeb0662481dd49a32f1a5f3fe8650da9264a54842a4e356318&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å›½æ°‘çº§åº”ç”¨ï¼šå¾®ä¿¡æ˜¯å¦‚ä½•é˜²æ­¢å´©æºƒçš„ï¼Ÿ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å›½æ°‘çº§åº”ç”¨ï¼šå¾®ä¿¡æ˜¯å¦‚ä½•é˜²æ­¢å´©æºƒçš„ï¼Ÿ&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;|&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;Â &lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247570454&amp;amp;idx=2&amp;amp;sn=fe5976e862b193d03de576d0761553d9&amp;amp;chksm=eaa9ce46ddde475058a75c8830ca36d8f233758168e7ac42a7e636b307b7b46a1825599cd1be&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä»Linuxé›¶æ‹·è´æ·±å…¥äº†è§£Linux-I/O&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;11&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ä»Linuxé›¶æ‹·è´æ·±å…¥äº†è§£Linux-I/O&lt;/a&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æŠ€æœ¯ç›²ç›’ï¼š&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568617&amp;amp;idx=1&amp;amp;sn=d3409583764c4877964765a6b774b1de&amp;amp;chksm=eaa9d6b9ddde5faff511c416033948f76b056b209df76c6eb12adfea3f618422297b9b11895b&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å‰ç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;å‰ç«¯&lt;/a&gt;&lt;span&gt;&lt;strong&gt;ï½œ&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568512&amp;amp;idx=1&amp;amp;sn=5a2e887c0ac511e9a4fe5cd68a388e48&amp;amp;chksm=eaa9d6d0ddde5fc6376f1ffcc6e7b050fefded23d5b24c5f7b801885f509df06cd53d99f0a45&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åç«¯&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;åç«¯&lt;/span&gt;&lt;/a&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568656&amp;amp;idx=1&amp;amp;sn=98f7033418fc1fd7d019eeb18008b616&amp;amp;chksm=eaa9d740ddde5e56aa0b7df55dc2f70c65f329d37246453c2b3316356f3f84cc9f87eb6b8db4&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;AIä¸ç®—æ³•&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;AIä¸ç®—æ³•&lt;/a&gt;&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568672&amp;amp;idx=1&amp;amp;sn=85e4b3e1c46289058398b216edb40941&amp;amp;chksm=eaa9d770ddde5e669cfaa25c37887ae058c433e4296ca04f8ff5373184bc76d4420f1d2049a7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¿ç»´ï½œ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;è¿ç»´&lt;strong&gt;&lt;span&gt;ï½œ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/a&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI2NDU4OTExOQ==&amp;amp;mid=2247568677&amp;amp;idx=1&amp;amp;sn=e95255553777c53d38cb1e64c1c16432&amp;amp;chksm=eaa9d775ddde5e633a75d20eb484181c0e03cb6f8237a4141c599e4f13ad3af6748c5e8d1a9a&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å·¥ç¨‹å¸ˆæ–‡åŒ–&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;&lt;span&gt;å·¥ç¨‹å¸ˆæ–‡åŒ–&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mid=&quot;&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable js_wx_tap_highlight&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzI2NDU4OTExOQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe97ibOIthe2pvwt1H0HqX0HVJVFK9WPNQKNsibXynR5yT5S7b45uIpzN7xeZdeJIfOibPjOflZ35rKZyw/0?wx_fmt=png&quot; data-nickname=&quot;è…¾è®¯äº‘å¼€å‘è€…&quot; data-alias=&quot;QcloudCommunity&quot; data-signature=&quot;è…¾è®¯äº‘å®˜æ–¹ç¤¾åŒºå…¬ä¼—å·ï¼Œæ±‡èšæŠ€æœ¯å¼€å‘è€…ç¾¤ä½“ï¼Œåˆ†äº«æŠ€æœ¯å¹²è´§ï¼Œæ‰“é€ æŠ€æœ¯å½±å“åŠ›äº¤æµç¤¾åŒºã€‚&quot; data-from=&quot;2&quot; data-is_biz_ban=&quot;0&quot; data-index=&quot;0&quot; data-origin_num=&quot;664&quot; data-isban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;ğŸ”¹&lt;/span&gt;å…³æ³¨æˆ‘å¹¶ç‚¹äº®æ˜Ÿæ ‡ğŸ”¹&lt;span/&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;å·¥ä½œæ—¥æ™š8ç‚¹Â &lt;/span&gt;çœ‹è…¾è®¯æŠ€æœ¯ã€å­¦ä¸“å®¶ç»éªŒ&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-id=&quot;94245&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;section data-brushtype=&quot;text&quot; mpa-from-tpl=&quot;t&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;&lt;span&gt;ç‚¹èµ|åˆ†äº«|åœ¨çœ‹ ä¼ é€’å¥½æŠ€æœ¯&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/section&gt;&lt;section mpa-from-tpl=&quot;t&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.3428571428571427&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/VY8SELNGe94zy8bmYPnbKTD0kTDBhW3GbAVfG1HMK2YU7rbobopxLeEulM2GREMf3LnMlkYw2yjuwop3WNcHlg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-w=&quot;35&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>754c148d6eb88a7511db47082dd2857c</guid>
<title>é’ˆå¯¹äºé™æµç†”æ–­ç»„ä»¶ Hystrix çš„åŸºæœ¬å‚æ•°å’Œå®ç°åŸç†ä»‹ç»åˆ†æ</title>
<link>https://toutiao.io/k/ke3yssc</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div id=&quot;content_views&quot; class=&quot;markdown_views prism-tomorrow-night&quot;&gt;
                    &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;
                        &lt;path stroke-linecap=&quot;round&quot; d=&quot;M5,0 0,2.5 5,5z&quot; id=&quot;raphael-marker-block&quot;/&gt;
                    &lt;/svg&gt;
                    &lt;h1&gt;&lt;a id=&quot;_0&quot;/&gt;[æ¯æ—¥ä¸€å¥]&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;ä¹Ÿè®¸ä½ åº¦è¿‡äº†å¾ˆç³Ÿç³•çš„ä¸€å¤©ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨ä½ ä¼šå› æ­¤åº¦è¿‡ç³Ÿç³•çš„ä¸€ç”Ÿã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h1&gt;&lt;a id=&quot;_4&quot;/&gt;[æ¸©é¦¨æç¤º]&lt;/h1&gt; 
&lt;p&gt;æ‰¿æ¥ç¬¬ä¸€ç¯‡æ–‡ç« &lt;a href=&quot;https://blog.csdn.net/l569590478/article/details/128714743?spm=1001.2014.3001.5501&quot;&gt;ğŸ¹ã€æ·±å…¥æµ…å‡ºSpringCloudåŸç†åŠå®æˆ˜ã€‘ã€ŒNetflixç³»åˆ—ä¹‹Hystrixã€é’ˆå¯¹äºé™æµç†”æ–­ç»„ä»¶Hystrixçš„åŸºæœ¬å‚æ•°å’Œå®ç°åŸç†ä»‹ç»åˆ†æ&lt;/a&gt;&lt;/p&gt; 
 
&lt;h1&gt;&lt;a id=&quot;_15&quot;/&gt;[èƒŒæ™¯ä»‹ç»]&lt;/h1&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;åˆ†å¸ƒå¼ç³»ç»Ÿçš„è§„æ¨¡å’Œå¤æ‚åº¦ä¸æ–­å¢åŠ ï¼Œéšç€è€Œæ¥çš„æ˜¯å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿå¯ç”¨æ€§çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ã€‚åœ¨å„ç§é«˜å¯ç”¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œã€ç†”æ–­ã€éš”ç¦»ã€é™çº§ã€é™æµã€‘æ˜¯ç»å¸¸è¢«ä½¿ç”¨çš„ã€‚è€Œç›¸å…³çš„æŠ€æœ¯ï¼ŒHystrixæœ¬èº«æ—©å·²ç®—ä¸ä¸Šä»€ä¹ˆæ–°æŠ€æœ¯ï¼Œä½†å®ƒå´æ˜¯æœ€ç»å…¸çš„æŠ€æœ¯ä½“ç³»ï¼ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;Hystrixä»¥å®ç°ç†”æ–­é™çº§çš„è®¾è®¡ï¼Œä»è€Œæé«˜äº†ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;Hystrixæ˜¯ä¸€ä¸ªåœ¨è°ƒç”¨ç«¯ä¸Šï¼Œå®ç°æ–­è·¯å™¨æ¨¡å¼ï¼Œä»¥åŠéš”èˆ±æ¨¡å¼ï¼Œé€šè¿‡é¿å…çº§è”æ•…éšœï¼Œæé«˜ç³»ç»Ÿå®¹é”™èƒ½åŠ›ï¼Œä»è€Œå®ç°é«˜å¯ç”¨è®¾è®¡çš„ä¸€ä¸ªJavaæœåŠ¡ç»„ä»¶åº“ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;Hystrixå®ç°äº†èµ„æºéš”ç¦»æœºåˆ¶&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h1&gt;&lt;a id=&quot;_26&quot;/&gt;[ç†”æ–­å™¨çŠ¶æ€]&lt;/h1&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;closed&lt;/strong&gt;ï¼šclosedæ˜¯å…³é—­çŠ¶æ€ï¼ŒæœåŠ¡è°ƒç”¨æ–¹æ¯æ¬¡è¯·æ±‚éƒ½åˆ°æœåŠ¡æä¾›æ–¹ï¼›&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;open&lt;/strong&gt;ï¼šæ˜¯openæ‰“å¼€çŠ¶æ€ï¼Œæ„æ€æ˜¯å¦‚æœæœåŠ¡æä¾›æ–¹çš„å¼‚å¸¸ç‡æˆ–è€…æ˜¯è¯·æ±‚çš„å¹¶å‘é‡è¶…è¿‡è®¾ç½®çš„é˜ˆå€¼ä¹‹åï¼Œå°±ä¼šå¼€å¯ç†”æ–­æœºåˆ¶ï¼Œå¼€å¯ç†”æ–­æœºåˆ¶ä¹‹åæœåŠ¡è°ƒç”¨æ–¹æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¸ä¼šåœ¨è¯·æ±‚åˆ°æœåŠ¡æä¾›æ–¹ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„æœåŠ¡é™çº§æ–¹æ³•ï¼›&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;half-open&lt;/strong&gt;ï¼šæ˜¯åŠæ‰“å¼€çŠ¶æ€ï¼ŒæœåŠ¡è°ƒç”¨æ–¹æ‰€æœ‰çš„è¯·æ±‚ä¾ç„¶ä¼šè¯·æ±‚åˆ°æœåŠ¡ç«¯ï¼Œhystrixä¹Ÿæœ‰è‡ªæˆ‘æ¢å¤æœºåˆ¶ï¼Œæ„æ€æ˜¯å½“æœåŠ¡æä¾›æ–¹çš„ç†”æ–­æœºåˆ¶å¤„äºæ‰“å¼€çŠ¶æ€æ—¶ï¼Œä¼šåœ¨å¼€å¯ä¸€ä¸ªæ—¶é—´çª—å£ï¼Œå°±æ˜¯ä¸€å®šæ—¶é—´åæˆ–è€…æ˜¯ä¸‹ä¸€æ¬¡è¯·æ±‚çš„æ—¶é—´å¤§äºæ—¶é—´çª—å£çš„æ—¶é—´ï¼Œhystrixå°±ä¼šé‡æ–°å°†è¿™æ¬¡è¯·æ±‚å†æ¬¡å‘é€åˆ°æœåŠ¡æä¾›æ–¹ï¼Œå¦‚æœæˆåŠŸå°±å°†çŠ¶æ€æ”¹ä¸ºhalf-opençŠ¶æ€ï¼Œå¦‚æœå¤±è´¥å°±ç»§ç»­å¤„äºå¼€å¯çŠ¶æ€ï¼Œå¹¶ä¸”é‡æ–°åˆ·æ–°æ—¶é—´çª—å£çš„æ—¶é—´ã€‚&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;h1&gt;&lt;a id=&quot;_34&quot;/&gt;[é…ç½®ä»‹ç»]&lt;/h1&gt; 
&lt;p&gt;&lt;a href=&quot;https://github.com/Netflix/Hystrix/wiki/Configuration&quot;&gt;ä¸»è¦å‚è€ƒ:&lt;/a&gt; https://github.com/Netflix/Hystrix/wiki/Configuration&lt;/p&gt; 
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;a href=&quot;https://my.oschina.net/liboware/blog/5076608&quot;&gt;ğŸ¹ã€HystrixæŠ€æœ¯æŒ‡å—ã€‘ï¼ˆ1ï¼‰åŸºæœ¬ä½¿ç”¨å’Œé…ç½®è¯´æ˜&lt;/a&gt;ä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸‹ç›¸å…³çš„ä½¿ç”¨æ–¹å¼ã€ä»¥åŠç›¸å…³çš„ä¸€äº›å®æˆ˜æ–¹é¢çš„é…ç½®ï¼Œæœ¬ç¯‡æ–‡ç« ä¼šé’ˆå¯¹äºé…ç½®è¿›è¡Œå…·ä½“ä»‹ç»ã€‚&lt;/p&gt; 
&lt;h2&gt;&lt;a id=&quot;Hystrix4_40&quot;/&gt;Hystrixå±æ€§çš„4ä¸­ä¼˜å…ˆçº§&lt;/h2&gt; 
&lt;ol&gt;&lt;li&gt;å†…ç½®å…¨å±€é»˜è®¤å€¼ï¼ˆGlobal default from codeï¼‰&lt;/li&gt;&lt;/ol&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;å¦‚æœä¸‹é¢3ç§éƒ½æ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨æ­¤ç§ï¼Œåé¢ç”¨â€œé»˜è®¤å€¼â€ä»£æŒ‡è¿™ç§ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ol start=&quot;2&quot;&gt;&lt;li&gt;åŠ¨æ€å…¨å±€é»˜è®¤å±æ€§ï¼ˆDynamic global default propertyï¼‰&lt;/li&gt;&lt;/ol&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;å¯ä»¥é€šè¿‡å±æ€§é…ç½®æ¥æ›´æ”¹å…¨å±€é»˜è®¤å€¼ï¼Œåé¢ç”¨â€œé»˜è®¤å±æ€§â€ä»£æŒ‡è¿™ç§ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ol start=&quot;3&quot;&gt;&lt;li&gt;å†…ç½®å®ä¾‹é»˜è®¤å€¼ï¼ˆInstance default from codeï¼‰&lt;/li&gt;&lt;/ol&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;åœ¨ä»£ç ä¸­ï¼Œè®¾ç½®çš„å±æ€§å€¼ï¼Œåé¢ç”¨â€œå®ä¾‹é»˜è®¤â€æ¥ä»£æŒ‡è¿™ç§ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ol start=&quot;4&quot;&gt;&lt;li&gt;åŠ¨æ€é…ç½®å®ä¾‹å±æ€§ï¼ˆDynamic instance propertyï¼‰&lt;/li&gt;&lt;/ol&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;å¯ä»¥é’ˆå¯¹ç‰¹å®šçš„å®ä¾‹ï¼ŒåŠ¨æ€é…ç½®å±æ€§å€¼ï¼Œæ¥ä»£æ›¿å‰é¢ä¸‰ç§ï¼Œåé¢ç”¨â€œå®ä¾‹å±æ€§â€æ¥ä»£æŒ‡è¿™ç§ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;ä¼˜å…ˆçº§ï¼š1 &amp;lt; 2 &amp;lt; 3 &amp;lt; 4&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;hystrix.command.defaultå’Œhystrix.threadpool.defaultä¸­çš„defaultä¸ºé»˜è®¤CommandKey&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;h1&gt;&lt;a id=&quot;_64&quot;/&gt;[å‘½ä»¤å±æ€§]&lt;/h1&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.isolation.strategy&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®HystrixCommand.run()çš„éš”ç¦»ç­–ç•¥ï¼Œæœ‰ä¸¤ç§é€‰é¡¹ï¼š&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;THREAD â€” å›ºå®šå¤§å°çº¿ç¨‹æ± ä¸­ï¼Œä»¥å•ç‹¬çº¿ç¨‹æ‰§è¡Œï¼Œå¹¶å‘è¯·æ±‚æ•°å—é™äºçº¿ç¨‹æ± å¤§å°ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;SEMAPHORE â€” åœ¨è°ƒç”¨çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé€šè¿‡ä¿¡å·é‡æ¥é™åˆ¶å¹¶å‘é‡ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;é»˜è®¤å€¼ï¼šTHREADï¼ˆExecutionIsolationStrategy.THREADï¼‰&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;å¯é€‰å€¼ï¼šTHREADï¼ŒSEMAPHORE&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼šéš”ç¦»ç­–ç•¥ï¼Œé»˜è®¤æ˜¯Thread, å¯é€‰Threadï½œSemaphore&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.execution.isolation.strategy

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.isolation.strategy
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;


&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionIsolationStrategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExecutionIsolationStrategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;THREAD&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;



&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionIsolationStrategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ExecutionIsolationStrategy&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SEMAPHORE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.isolation.thread.timeoutInMilliseconds&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;è®¾ç½®è°ƒç”¨è€…ç­‰å¾…å‘½ä»¤æ‰§è¡Œçš„è¶…æ—¶é™åˆ¶ï¼Œè¶…è¿‡æ­¤æ—¶é—´ï¼ŒHystrixCommandè¢«æ ‡è®°ä¸ºTIMEOUTï¼Œå¹¶æ‰§è¡Œå›é€€é€»è¾‘ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šè¶…æ—¶ä¼šä½œç”¨åœ¨HystrixCommand.queue()ï¼Œå³ä½¿è°ƒç”¨è€…æ²¡æœ‰è°ƒç”¨get()å»è·å¾—Futureå¯¹è±¡ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;é»˜è®¤å€¼ï¼š&lt;strong&gt;å‘½ä»¤æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤1000ms&lt;/strong&gt;&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§: hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.isolation.thread.timeoutInMilliseconds
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionTimeoutInMilliseconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.timeout.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;è®¾ç½®HystrixCommand.run()çš„æ‰§è¡Œæ˜¯å¦æœ‰è¶…æ—¶é™åˆ¶ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.execution.timeout.enabled

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.timeout.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionTimeoutEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.isolation.thread.interruptOnTimeout&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®HystrixCommand.run()çš„æ‰§è¡Œæ˜¯å¦åœ¨è¶…æ—¶å‘ç”Ÿæ—¶è¢«ä¸­æ–­ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;
é»˜è®¤å±æ€§ï¼šhystrix.command.default.execution.isolation.thread.interruptOnTimeout

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.isolation.thread.interruptOnTimeout

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionIsolationThreadInterruptOnTimeout&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.isolation.thread.interruptOnCancel&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®HystrixCommand.run()çš„æ‰§è¡Œä½†å–æ¶ˆåŠ¨ä½œå‘ç”Ÿæ—¶å€™å¯ä»¥å“åº”ä¸­æ–­ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.execution.isolation.thread.interruptOnCancel
å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.isolation.thread.interruptOnCancel
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionIsolationThreadInterruptOnCancel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;execution.isolation.semaphore.maxConcurrentRequests&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;æœ€å¤§å¹¶å‘è¯·æ±‚æ•°ï¼Œé»˜è®¤10ï¼Œè¯¥å‚æ•°å½“ä½¿ç”¨ExecutionIsolationStrategy.SEMAPHOREç­–ç•¥æ—¶æ‰æœ‰æ•ˆã€‚å¦‚æœè¾¾åˆ°æœ€å¤§å¹¶å‘è¯·æ±‚æ•°ï¼Œè¯·æ±‚ä¼šè¢«æ‹’ç»ã€‚ç†è®ºä¸Šé€‰æ‹©semaphore sizeçš„åŸåˆ™å’Œé€‰æ‹©thread sizeä¸€è‡´ï¼Œä½†é€‰ç”¨semaphoreæ—¶æ¯æ¬¡æ‰§è¡Œçš„å•å…ƒè¦æ¯”è¾ƒå°ä¸”æ‰§è¡Œé€Ÿåº¦å¿«ï¼ˆmsçº§åˆ«ï¼‰ï¼Œå¦åˆ™çš„è¯åº”è¯¥ç”¨threadã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;li&gt; &lt;p&gt;&lt;strong&gt;è®¾ç½®å½“ä½¿ç”¨ExecutionIsolationStrategy.SEMAPHOREæ—¶ï¼ŒHystrixCommand.run()æ–¹æ³•å…è®¸çš„æœ€å¤§è¯·æ±‚æ•°ã€‚å¦‚æœè¾¾åˆ°æœ€å¤§å¹¶å‘æ•°æ—¶ï¼Œåç»­è¯·æ±‚ä¼šè¢«æ‹’ç»ã€‚&lt;/strong&gt;&lt;/p&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;p&gt;ä¿¡å·é‡åº”è¯¥æ˜¯å®¹å™¨ï¼ˆæ¯”å¦‚Tomcatï¼‰çº¿ç¨‹æ± ä¸€å°éƒ¨åˆ†ï¼Œä¸èƒ½ç­‰äºæˆ–è€…ç•¥å°äºå®¹å™¨çº¿ç¨‹æ± å¤§å°ï¼Œå¦åˆ™èµ·ä¸åˆ°ä¿æŠ¤ä½œç”¨ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.execution.isolation.semaphore.maxConcurrentRequests

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.execution.isolation.semaphore.maxConcurrentRequests
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withExecutionIsolationSemaphoreMaxConcurrentRequests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;_211&quot;/&gt;&lt;strong&gt;å›é€€æ–¹æ³•&lt;/strong&gt;&lt;/h2&gt; 
&lt;p&gt;ä¸‹é¢çš„å±æ€§æ§åˆ¶HystrixCommand.getFallback()æ‰§è¡Œã€‚è¿™äº›å±æ€§å¯¹ExecutionIsolationStrategy.THREADå’ŒExecutionIsolationStrategy.SEMAPHOREéƒ½æœ‰æ•ˆã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;fallback.isolation.semaphore.maxConcurrentRequests&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.fallback.isolation.semaphore.maxConcurrentRequests

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.fallback.isolation.semaphore.maxConcurrentRequests

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withFallbackIsolationSemaphoreMaxConcurrentRequests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;fallback.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.fallback.enabled

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.fallback.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withFallbackEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;Circuit_Breaker_258&quot;/&gt;æ–­è·¯å™¨ï¼ˆCircuit Breakerï¼‰&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;è®¾ç½®æ–­è·¯å™¨æ˜¯å¦èµ·ä½œç”¨ï¼Œç”¨æ¥è·Ÿè¸ªcircuitçš„å¥åº·æ€§ï¼Œå¦‚æœæœªè¾¾æ ‡åˆ™è®©requestçŸ­è·¯ã€‚é»˜è®¤true&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.enabled

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.requestVolumeThreshold&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®åœ¨ä¸€ä¸ªæ»šåŠ¨çª—å£ä¸­ï¼Œæ‰“å¼€æ–­è·¯å™¨çš„æœ€å°‘è¯·æ±‚æ•°ã€‚&lt;/p&gt; 
 
&lt;p&gt;é»˜è®¤å€¼ï¼š20&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;
é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.requestVolumeThreshold

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.requestVolumeThreshold

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerRequestVolumeThreshold&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.sleepWindowInMilliseconds&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®åœ¨å›è·¯è¢«æ‰“å¼€ï¼Œæ‹’ç»è¯·æ±‚åˆ°å†æ¬¡å°è¯•è¯·æ±‚å¹¶å†³å®šå›è·¯æ˜¯å¦ç»§ç»­æ‰“å¼€çš„æ—¶é—´ï¼Œè§¦å‘çŸ­è·¯çš„æ—¶é—´å€¼ï¼Œå½“è¯¥å€¼è®¾ä¸º5000æ—¶ï¼Œåˆ™å½“è§¦å‘circuit breakåçš„5000æ¯«ç§’å†…éƒ½ä¼šæ‹’ç»requestï¼Œä¹Ÿå°±æ˜¯5000æ¯«ç§’åæ‰ä¼šå…³é—­circuitã€‚é»˜è®¤5000&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.sleepWindowInMilliseconds

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.sleepWindowInMilliseconds

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerSleepWindowInMilliseconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.errorThresholdPercentage&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®æ‰“å¼€å›è·¯å¹¶å¯åŠ¨å›é€€é€»è¾‘çš„é”™è¯¯æ¯”ç‡ï¼Œé”™è¯¯æ¯”ç‡é˜€å€¼ï¼Œå¦‚æœé”™è¯¯ç‡&amp;gt;=è¯¥å€¼ï¼Œcircuitä¼šè¢«æ‰“å¼€ï¼Œå¹¶çŸ­è·¯æ‰€æœ‰è¯·æ±‚è§¦å‘fallbackã€‚é»˜è®¤50&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.errorThresholdPercentage

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.errorThresholdPercentage

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerErrorThresholdPercentage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.forceOpen&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;å¦‚æœè¯¥å±æ€§è®¾ç½®ä¸ºtrueï¼Œå¼ºåˆ¶æ–­è·¯å™¨è¿›å…¥æ‰“å¼€çŠ¶æ€ï¼Œå°†ä¼šæ‹’ç»æ‰€æœ‰çš„è¯·æ±‚ï¼Œå¼ºåˆ¶æ‰“å¼€ç†”æ–­å™¨ï¼Œå¦‚æœæ‰“å¼€è¿™ä¸ªå¼€å…³ï¼Œé‚£ä¹ˆæ‹’ç»æ‰€æœ‰requestï¼Œé»˜è®¤false&lt;/p&gt; 
&lt;p&gt;&lt;strong&gt;è¯¥å±æ€§ä¼˜å…ˆçº§æ¯”circuitBreaker.forceClosedé«˜ã€‚&lt;/strong&gt;&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;
é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.forceOpen

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.forceOpen

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerForceOpen&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;circuitBreaker.forceClosed&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;å¦‚æœè¯¥å±æ€§è®¾ç½®ä¸ºtrueï¼Œå¼ºåˆ¶æ–­è·¯å™¨è¿›å…¥å…³é—­çŠ¶æ€ï¼Œå°†ä¼šå…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œæ— è§†é”™è¯¯ç‡ï¼Œå¼ºåˆ¶å…³é—­ç†”æ–­å™¨ å¦‚æœè¿™ä¸ªå¼€å…³æ‰“å¼€ï¼Œcircuitå°†ä¸€ç›´å…³é—­ä¸”å¿½ç•¥circuitBreaker.errorThresholdPercentage&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;
é»˜è®¤å±æ€§ï¼šhystrix.command.default.circuitBreaker.forceClosed

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.circuitBreaker.forceClosed

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCircuitBreakerForceClosed&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;_386&quot;/&gt;è¯·æ±‚ä¸Šä¸‹æ–‡&lt;/h2&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;requestCache.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®HystrixCommand.getCacheKey()æ˜¯å¦å¯ç”¨ï¼Œç”±HystrixRequestCacheé€šè¿‡è¯·æ±‚ç¼“å­˜æä¾›å»é‡å¤æ•°æ®åŠŸèƒ½ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.requestCache.enabled

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.requestCache.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withRequestCacheEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;requestLog.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®HystrixCommandæ‰§è¡Œå’Œäº‹ä»¶æ˜¯å¦è¦è®°å½•æ—¥å¿—åˆ°HystrixRequestLogã€‚&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å€¼ï¼štrue&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.command.default.requestLog.enabled

å®ä¾‹å±æ€§ï¼šhystrix.command.HystrixCommandKey.requestLog.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCommandProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withRequestLogEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h3&gt;&lt;a id=&quot;_428&quot;/&gt;å‹ç¼©å™¨å±æ€§&lt;/h3&gt; 
&lt;p&gt;ä¸‹é¢çš„å±æ€§å¯ä»¥æ§åˆ¶HystrixCollapserè¡Œä¸ºã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;maxRequestsInBatch&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®è§¦å‘æ‰¹å¤„ç†æ‰§è¡Œä¹‹å‰ï¼Œåœ¨æ‰¹å¤„ç†ä¸­å…è®¸çš„æœ€å¤§è¯·æ±‚æ•°ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.collapser.default.maxRequestsInBatch

å®ä¾‹å±æ€§ï¼šhystrix.collapser.HystrixCollapserKey.maxRequestsInBatch
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCollapserProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withMaxRequestsInBatch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;timerDelayInMilliseconds&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®æ‰¹å¤„ç†åˆ›å»ºåˆ°æ‰§è¡Œä¹‹é—´çš„æ¯«ç§’æ•°ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.collapser.default.timerDelayInMilliseconds

å®ä¾‹å±æ€§ï¼šhystrix.collapser.HystrixCollapserKey.timerDelayInMilliseconds
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCollapserProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withTimerDelayInMilliseconds&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;requestCache.enabled&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®è¯·æ±‚ç¼“å­˜æ˜¯å¦å¯¹HystrixCollapser.execute()å’ŒHystrixCollapser.queue()çš„è°ƒç”¨èµ·ä½œç”¨ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.collapser.default.requestCache.enabled

å®ä¾‹å±æ€§ï¼šhystrix.collapser.HystrixCollapserKey.requestCache.enabled

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixCollapserProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withRequestCacheEnabled&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;h2&gt;&lt;a id=&quot;_489&quot;/&gt;çº¿ç¨‹æ± å±æ€§&lt;/h2&gt; 
 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;coreSize&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®æ ¸å¿ƒçº¿ç¨‹æ± å¤§å°ã€‚&lt;/p&gt; 
&lt;ul&gt;&lt;li&gt; &lt;p&gt;é»˜è®¤å€¼ï¼š10&lt;/p&gt; 
  &lt;ul&gt;&lt;li&gt;çº¿ç¨‹æ•°é»˜è®¤å€¼10é€‚ç”¨äºå¤§éƒ¨åˆ†æƒ…å†µï¼ˆæœ‰æ—¶å¯ä»¥è®¾ç½®å¾—æ›´å°ï¼‰ï¼Œå¦‚æœéœ€è¦è®¾ç½®å¾—æ›´å¤§ï¼Œé‚£æœ‰ä¸ªåŸºæœ¬å¾—å…¬å¼å¯ä»¥followï¼š&lt;/li&gt;&lt;li&gt;requests per second at peak when healthy Ã— 99th percentile latency in seconds + some breathing room&lt;/li&gt;&lt;/ul&gt; &lt;/li&gt;&lt;/ul&gt; 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.coreSize

å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.coreSize
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixThreadPoolProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withCoreSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;maximumSize&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;1.5.9æ–°å¢å±æ€§ï¼Œè®¾ç½®çº¿ç¨‹æ± æœ€å¤§å€¼ã€‚è¿™ä¸ªæ˜¯åœ¨ä¸å¼€å§‹æ‹’ç»HystrixCommandçš„æƒ…å†µä¸‹æ”¯æŒçš„æœ€å¤§å¹¶å‘æ•°ã€‚è¿™ä¸ªå±æ€§èµ·ä½œç”¨çš„å‰ææ˜¯è®¾ç½®äº†allowMaximumSizeToDrivergeFromCoreSizeã€‚1.5.9ä¹‹å‰ï¼Œæ ¸å¿ƒçº¿ç¨‹æ± å¤§å°å’Œæœ€å¤§çº¿ç¨‹æ± å¤§å°æ€»æ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;maxQueueSize&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®BlockingQueueæœ€å¤§çš„é˜Ÿåˆ—å€¼ã€‚&lt;/p&gt; 
 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;ä¿®æ”¹SynchronousQueueå’ŒLinkedBlockingQueueéœ€è¦é‡å¯ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;é»˜è®¤å€¼ï¼š-1&lt;/p&gt; 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.maxQueueSize

å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.maxQueueSize
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixThreadPoolProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withMaxQueueSize&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;queueSizeRejectionThreshold&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®é˜Ÿåˆ—æ‹’ç»çš„é˜ˆå€¼â€”â€”ä¸€ä¸ªäººä¸ºè®¾ç½®çš„æ‹’ç»è®¿é—®çš„æœ€å¤§é˜Ÿåˆ—å€¼ï¼Œå³ä½¿maxQueueSizeè¿˜æ²¡æœ‰è¾¾åˆ°ã€‚&lt;/p&gt; 
&lt;p&gt;å½“å°†ä¸€ä¸ªçº¿ç¨‹æ”¾å…¥é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œæ—¶ï¼ŒHystrixCommandä½¿ç”¨è¯¥å±æ€§ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šå¦‚æœmaxQueueSizeè®¾ç½®ä¸º-1ï¼Œè¯¥å±æ€§ä¸å¯ç”¨ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.queueSizeRejectionThreshold

å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.queueSizeRejectionThreshold
&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixThreadPoolProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withQueueSizeRejectionThreshold&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;keepAliveTimeMinutes&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®å­˜æ´»æ—¶é—´ï¼Œå•ä½åˆ†é’Ÿã€‚å¦‚æœcoreSizeå°äºmaximumSizeï¼Œé‚£ä¹ˆè¯¥å±æ€§æ§åˆ¶ä¸€ä¸ªçº¿ç¨‹ä»å®ç”¨å®Œæˆåˆ°è¢«é‡Šæ”¾çš„æ—¶é—´ã€‚&lt;/p&gt; 
 
&lt;pre&gt;&lt;code&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.keepAliveTimeMinutes

å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.keepAliveTimeMinutes

&lt;/code&gt;&lt;/pre&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼š&lt;/p&gt; 
&lt;pre&gt;&lt;code class=&quot;prism language-java&quot;&gt;&lt;span class=&quot;token class-name&quot;&gt;HystrixThreadPoolProperties&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Setter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;withKeepAliveTimeMinutes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;int&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;allowMaximumSizeToDivergeFromCoreSize&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;åœ¨1.5.9ä¸­æ–°å¢çš„å±æ€§ã€‚è¯¥å±æ€§å…è®¸maximumSizeèµ·ä½œç”¨ã€‚å±æ€§å€¼å¯ä»¥ç­‰äºæˆ–è€…å¤§äºcoreSizeå€¼ï¼Œè®¾ç½®coreSizeå°äºmaximumSizeçš„çº¿ç¨‹æ± èƒ½å¤Ÿæ”¯æŒmaximumSizeçš„å¹¶å‘æ•°ï¼Œä½†æ˜¯ä¼šå°†ä¸æ´»è·ƒçš„çº¿ç¨‹è¿”å›åˆ°ç³»ç»Ÿä¸­å»ã€‚ï¼ˆè¯¦è§KeepAliveTimeMinutesï¼‰&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å€¼ï¼šfalse&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.allowMaximumSizeToDivergeFromCoreSize&lt;/p&gt; 
&lt;p&gt;å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.allowMaximumSizeToDivergeFromCoreSize&lt;/p&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼šHystrixThreadPoolProperties.Setter()&lt;/p&gt; 
&lt;p&gt;.withAllowMaximumSizeToDivergeFromCoreSize(boolean value)&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;metrics.rollingStats.timeInMilliseconds&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
 
&lt;p&gt;é»˜è®¤å€¼ï¼š10000ï¼ˆæ¯«ç§’ï¼‰&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.metrics.rollingStats.timeInMilliseconds&lt;/p&gt; 
&lt;p&gt;å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolKey.metrics.rollingStats.timeInMilliseconds&lt;/p&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼šHystrixThreadPoolProperties.Setter()&lt;/p&gt; 
&lt;p&gt;.withMetricsRollingStatisticalWindowInMilliseconds(int value)&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;metrics.rollingStats.numBuckets&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®æ»šåŠ¨çš„ç»Ÿè®¡çª—å£è¢«åˆ†æˆçš„æ¡¶ï¼ˆbucketï¼‰çš„æ•°ç›®ã€‚&lt;/p&gt; 
&lt;blockquote&gt; 
 &lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šâ€metrics.rollingStats.timeInMilliseconds % metrics.rollingStats.numBuckets == 0&quot;å¿…é¡»ä¸ºtrueï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/strong&gt;&lt;/p&gt; 
&lt;/blockquote&gt; 
&lt;p&gt;è®¾ç½®ä¸€ä¸ªrolling windowè¢«åˆ’åˆ†çš„æ•°é‡ï¼Œè‹¥numBucketsï¼10ï¼Œrolling windowï¼10000ï¼Œé‚£ä¹ˆä¸€ä¸ªbucketçš„æ—¶é—´å³1ç§’ã€‚å¿…é¡»ç¬¦åˆrolling window % numberBuckets == 0ã€‚é»˜è®¤10&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å€¼ï¼š10&lt;/p&gt; 
&lt;p&gt;å¯èƒ½çš„å€¼ï¼šä»»ä½•èƒ½è¢«metrics.rollingStats.timeInMillisecondsæ•´é™¤çš„å€¼ã€‚&lt;/p&gt; 
&lt;p&gt;é»˜è®¤å±æ€§ï¼šhystrix.threadpool.default.metrics.rollingStats.numBuckets&lt;/p&gt; 
&lt;p&gt;å®ä¾‹å±æ€§ï¼šhystrix.threadpool.HystrixThreadPoolProperties.metrics.rollingStats.numBuckets&lt;/p&gt; 
&lt;p&gt;å®ä¾‹é»˜è®¤çš„è®¾ç½®ï¼šHystrixThreadPoolProperties.Setter()&lt;/p&gt; 
&lt;p&gt;.withMetricsRollingStatisticalWindowBuckets(int value)&lt;/p&gt; 
&lt;h3&gt;&lt;a id=&quot;_642&quot;/&gt;å…¶ä»–é…ç½®å±æ€§&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;hystrix.command.default.metrics.rollingPercentile.enabledï¼šæ‰§è¡Œæ—¶æ˜¯å¦enableæŒ‡æ ‡çš„è®¡ç®—å’Œè·Ÿè¸ªï¼Œé»˜è®¤true&lt;/li&gt;&lt;li&gt;hystrix.command.default.metrics.rollingPercentile.timeInMillisecondsï¼šè®¾ç½®rolling percentile windowçš„æ—¶é—´ï¼Œé»˜è®¤60000&lt;/li&gt;&lt;li&gt;hystrix.command.default.metrics.rollingPercentile.numBucketsï¼šè®¾ç½®rolling percentile windowçš„numberBucketsã€‚é€»è¾‘åŒä¸Šã€‚é»˜è®¤6&lt;/li&gt;&lt;li&gt;hystrix.command.default.metrics.rollingPercentile.bucketSizeï¼šå¦‚æœbucket sizeï¼100ï¼Œwindowï¼10sï¼Œè‹¥è¿™10sé‡Œæœ‰500æ¬¡æ‰§è¡Œï¼Œåªæœ‰æœ€å100æ¬¡æ‰§è¡Œä¼šè¢«ç»Ÿè®¡åˆ°bucketé‡Œå»ã€‚å¢åŠ è¯¥å€¼ä¼šå¢åŠ å†…å­˜å¼€é”€ä»¥åŠæ’åºçš„å¼€é”€ã€‚é»˜è®¤100&lt;/li&gt;&lt;li&gt;hystrix.command.default.metrics.healthSnapshot.intervalInMilliseconds è®°å½•health å¿«ç…§ï¼ˆç”¨æ¥ç»Ÿè®¡æˆåŠŸå’Œé”™è¯¯ç»¿ï¼‰çš„é—´éš”ï¼Œé»˜è®¤500ms33 Request Context ç›¸å…³å‚æ•°&lt;/li&gt;&lt;li&gt;hystrix.command.default.requestCache.enabled é»˜è®¤trueï¼Œéœ€è¦é‡è½½getCacheKey()ï¼Œè¿”å›nullæ—¶ä¸ç¼“å­˜&lt;/li&gt;&lt;li&gt;hystrix.command.default.requestLog.enabled è®°å½•æ—¥å¿—åˆ°HystrixRequestLogï¼Œé»˜è®¤true&lt;/li&gt;&lt;/ul&gt; 
&lt;h3&gt;&lt;a id=&quot;Collapser_Properties__653&quot;/&gt;Collapser Properties ç›¸å…³å‚æ•°&lt;/h3&gt; 
&lt;ul&gt;&lt;li&gt;hystrix.collapser.default.maxRequestsInBatch å•æ¬¡æ‰¹å¤„ç†çš„æœ€å¤§è¯·æ±‚æ•°ï¼Œè¾¾åˆ°è¯¥æ•°é‡è§¦å‘æ‰¹å¤„ç†ï¼Œé»˜è®¤Integer.MAX_VALUE&lt;/li&gt;&lt;li&gt;hystrix.collapser.default.timerDelayInMilliseconds è§¦å‘æ‰¹å¤„ç†çš„å»¶è¿Ÿï¼Œä¹Ÿå¯ä»¥ä¸ºåˆ›å»ºæ‰¹å¤„ç†çš„æ—¶é—´ï¼‹è¯¥å€¼ï¼Œé»˜è®¤10&lt;/li&gt;&lt;li&gt;hystrix.collapser.default.requestCache.enabled æ˜¯å¦å¯¹HystrixCollapser.execute() and HystrixCollapser.queue()çš„cacheï¼Œé»˜è®¤true&lt;/li&gt;&lt;/ul&gt;
                &lt;/div&gt;
                
                
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a9bdc704ffadff30d29ae5cac977ae1e</guid>
<title>æ€æ ·å®ç° T+0 çš„å®æ—¶æŠ¥è¡¨ï¼Ÿ</title>
<link>https://toutiao.io/k/ia28ukl</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;T+0 çš„æ¦‚å¿µï¼Œè¿ç”¨æ¯”è¾ƒå¹¿æ³›çš„æ˜¯åœ¨é‡‘èé¢†åŸŸï¼ŒTï¼ˆTransactionï¼‰è¡¨ç¤ºäº¤æ˜“æ—¥æœŸï¼Œ+0 å°±æ˜¯æŒ‡äº¤æ˜“å½“å¤©ï¼Œ+N å°±ä»£è¡¨äº¤æ˜“çš„ N å¤©å&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç°åœ¨å¤§æ•°æ®ã€æ•°æ®åˆ†æé¢†åŸŸï¼Œä¹Ÿæ€»ç”¨åˆ°è¿™ä¸ªæ¦‚å¿µï¼Œå«ä¹‰ä»ç„¶ç›¸åŒï¼ŒT+0 è¡¨ç¤ºå½“å¤©çš„å®æ—¶æ•°æ®ï¼ŒT+N åˆ™è¡¨ç¤ºå½“å¤©çš„æ•°æ® N å¤©åæ‰èƒ½çœ‹åˆ°&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ”¾åˆ°æŠ¥è¡¨ä¸­ T+0 å°±æ˜¯ä»Šå¤©çš„æŠ¥è¡¨å°±å¯ä»¥çœ‹åˆ°ä»Šå¤©å®æ—¶çš„æ•°æ®ï¼ŒT+1 å°±æ˜¯ä»Šå¤©çš„æ•°æ®ï¼Œæ˜å¤©æ‰èƒ½çœ‹åˆ°&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;T+0 æŠ¥è¡¨çš„éš¾ç‚¹åœ¨å“ªé‡Œ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœæ‰€æœ‰æ•°æ®éƒ½å­˜åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œé‚£ T+0 æŠ¥è¡¨å…¶å®æ²¡ä»€ä¹ˆéš¾åº¦ï¼Œç›´æ¥æŸ¥å°±æ˜¯æœ€æ–°çš„å®æ—¶æ•°æ®&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†å®é™…åº”ç”¨ä¸­ï¼Œå¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæ•°æ®æ˜¯ä¼šåˆ†å¼€å­˜å‚¨çš„ï¼Œæ¯”å¦‚ä¸‹å›¾è¿™æ ·ï¼Œç”±äºå†å²æ•°æ®è¿‡äºåºå¤§ï¼Œä¸ºäº†ä¿è¯ä¸šåŠ¡åº“çš„æ€§èƒ½ä¸å—å½±å“ï¼Œå°±åªèƒ½æŠŠè€çš„å†å²æ•°æ®è¿ç§»åˆ°åˆ«çš„åº“å»å­˜å‚¨ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœæŠ¥è¡¨éœ€è¦åŒæ—¶åˆ†æå†å²æ•°æ®å’Œå½“å‰æœ€æ–°æ•°æ®åš T+0 æŠ¥è¡¨ï¼Œå°±éœ€è¦ä»ä¸åŒçš„åˆ†åº“ä¸­åŒæ—¶å–æ•°ï¼Œè€Œä¸”å†å²åº“å’Œä¸šåŠ¡åº“å¾ˆå¤šæ—¶å€™åˆä¸æ˜¯ä¸€ä¸ªç±»å‹ï¼Œ&lt;strong&gt;æ€ä¹ˆè·¨åº“æŸ¥è¯¢å–æ•°å°±æˆäº†ä¸€éš¾é¢˜&lt;/strong&gt;ï¼Œ&lt;strong&gt;è¿™ä¹Ÿæ­£æ˜¯ T+0 æŠ¥è¡¨çš„éš¾ç‚¹æ‰€åœ¨&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦‚æœè§£å†³ä¸äº†è¿™ä¸ªéš¾é¢˜ï¼Œé‚£å°±åªèƒ½ç”¨ ETL ç­‰æ–¹å¼ï¼Œå®šæ—¶æŠŠå†·çƒ­åº“çš„æ•°æ®æŠ½å–åˆ°ä¸€èµ·ï¼Œç„¶åå†å‡ºæŠ¥è¡¨ï¼Œé‚£å°±æ˜¯ T+1 ç”šè‡³ä¸¥é‡åˆ°ä¼š T+7 äº†&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5740072202166066&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/3dBJseibic1cfKfMXXPyUoxe92nHiaBTpH6Xq5egmvbeFJFPT3ibJ2icfsByXhjyOqqp1R7hVHiaqgCrSSuH0dMt6dIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;554&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;ç›®å‰æœ‰ä»€ä¹ˆæ‰‹æ®µ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;æŠ¥è¡¨æœ¬èº«çš„å¤šæ•°æ®é›†&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;å¥½ä¸€äº›çš„æŠ¥è¡¨å·¥å…·ï¼Œå…¶å®æä¾›äº†ä¸€ä¸ªåˆçº§çš„è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯æŠ¥è¡¨æœ¬èº«çš„å¤šæ•°æ®é›†åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç›´æ¥è¿›è¡Œè·¨åº“æŸ¥è¯¢ï¼Œè·å–æœ€æ–°æ•°æ®ï¼Œåšå‡º T+0 æŠ¥è¡¨ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2581227436823105&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/3dBJseibic1cfKfMXXPyUoxe92nHiaBTpH695De5gya38rjDYhAp8FmOicIX4H5km9Krky5gwN5tD8aiaVgQbPyF4yw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;554&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15162454873646208&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/3dBJseibic1cfKfMXXPyUoxe92nHiaBTpH6w2Q2DbLg8nWoBVl8ibN1zFs8ovFZk68lwQhqichw655icFdeNQY7kDkKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;554&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†æ˜¯æŠ¥è¡¨å·¥å…·è®¡ç®—èƒ½åŠ›æœ‰é™ï¼Œåªèƒ½åšä¸€äº›åˆçº§ç®€å•çš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„åˆ†ç»„æ±‡æ€»ï¼Œä¸¤ä¸ªæ•°æ®é›†çš„åˆ†ç»„æƒ…å†µå¦‚æœç›¸åŒï¼Œæˆ–è€…ç¬¬ä¸€ä¸ªæ•°æ®é›†åŒ…å«ç¬¬äºŒä¸ªçš„ï¼Œé‚£å¯ä»¥è¿™æ ·åšï¼Œå¦åˆ™åˆ†ç»„å°±ä¼šé”™ä¹±ï¼Œå°±ä¸å¥½åšäº†ï¼Œå°±å¾—ç”¨è‡ªå®šä¹‰æ•°æ®é›†æå‰æŠŠæ•°æ®åˆå¹¶å¥½äº†&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è¿˜æœ‰ä¸€äº›å…¶ä»–å¤æ‚çš„è®¡ç®—å•å‡­æŠ¥è¡¨çš„è®¡ç®—èƒ½åŠ›ä¹Ÿæ— æ³•å®ç°ï¼Œä¹Ÿå¾—ç”¨å®šä¹‰æ•°æ®é›†ç®—&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¦å¤–åˆ†åº“çš„æ•°æ®ä¸€èˆ¬æ•°æ®é‡éå¸¸å¤§ï¼Œå…¨éƒ¨æŠŠè®¡ç®—æ”¾åˆ°æŠ¥è¡¨å†…ï¼Œåœ¨æ€§èƒ½ä¸Šä¹Ÿä¸ä¸€å®šèƒ½ä¿è¯ï¼Œä¸æ˜¯å¾ˆé€‚ç”¨&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ‰€ä»¥æŠ¥è¡¨å·¥å…·çš„å¤šæºæ··ç®—åœ¨ç®€å•åœºæ™¯ä¸‹å¯ä»¥åšå‡º T+0 æŠ¥è¡¨ï¼Œå¤æ‚æƒ…å†µä¸‹ä¸èƒ½èƒœä»»ï¼Œæ˜¯æ¯”è¾ƒåˆçº§çš„åŠŸèƒ½&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;æ•°æ®åº“çš„è·¨åº“æŸ¥è¯¢&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;æ•°æ®åº“æœ¬èº«ä¹Ÿæœ‰è·¨åº“æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ Oracle çš„ DBLinkï¼ŒMySQL çš„ FEDERATED å¼•æ“ï¼Œéƒ½å¯ä»¥è¿›è¡Œè·¨åº“æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥åšåˆ° T+0 æŸ¥è¯¢ï¼Œå†æŠŠæ•°æ®ç»™åˆ°æŠ¥è¡¨ï¼Œå°±èƒ½åšå‡º T+0 æŠ¥è¡¨ï¼Œä½†æ˜¯è¿™äº›åŠŸèƒ½éƒ½å¯¹å¼‚æ„æ•°æ®æ”¯æŒçš„ä¸æ˜¯å¾ˆå¥½ï¼Œå¯¹éå…³ç³»å‹æ•°æ®æºæ›´æ˜¯æ— èƒ½ä¸ºåŠ›ï¼Œé€‚ç”¨çš„åœºæ™¯ä¹Ÿæ¯”è¾ƒçª„&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;JAVA ç¼–ç &lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;è¿™æ˜¯å·¥ç¨‹å¸ˆçš„æ€æ‰‹é”ï¼Œæ²¡æœ‰å¥½åŠæ³•ï¼Œé‚£å°±æ•²ä»£ç å‘—ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä»£ç æä¸å®šçš„ï¼Œä¸€ä¸ªè·¨åº“å–æ•°éš¾ä¸å€’ JAVA, ä¸ç®¡ä½ æ˜¯åŒæ„å¼‚æ„è¿˜æ˜¯éå…³ç³»æ•°æ®åº“ï¼Œå„ç§æƒ…å†µéƒ½èƒ½æå®š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ä½†è¯åˆè¯´å›æ¥ï¼Œä½†å‡¡æœ‰æ›´ç®€å•çš„åŠæ³•ï¼Œè°æ„¿æ„åšä¸ªæŸ¥è¯¢å–æ•°è¿˜å¾—ç”¨ JAVA å®ç°å‘¢&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;JAVA å†™èµ·æ¥éš¾ï¼Œç®—èµ·æ¥æ…¢&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;JAVA è¿™ç±»é«˜çº§è¯­è¨€ï¼Œå¯¹ç»“æ„åŒ–æ•°æ®çš„è®¡ç®—æ”¯æŒå¾ˆæœ‰é™ï¼Œè™½ç„¶éƒ½èƒ½åšï¼Œä½†å´èƒ½åŠ›æ¯”è¾ƒå¼±ï¼Œå†™èµ·æ¥éå¸¸ç¹çï¼Œç®€å•åšä¸ªæ±‚å’Œè¿ç®—éƒ½éœ€è¦å†™æ•°è¡Œä»£ç çš„å¾ªç¯æ¥å®ç°ï¼Œè€ŒæŠ¥è¡¨æ•°æ®æºå¤„ç†åˆ™å¤§é‡æ¶‰åŠæ‰¹é‡æ•°æ®è¿ç®—ï¼Œé‡‡ç”¨é«˜çº§è¯­è¨€å¼€å‘æ—¶ä¼šå¯¼è‡´åŠ¨è¾„æ•°ç™¾è¡Œçš„å†—é•¿ä»£ç ï¼Œç¼–å†™ã€è°ƒè¯•å’Œåç»­ç»´æŠ¤éƒ½ä¼šå¾ˆå›°éš¾ï¼Œè€Œä¸”æ€§èƒ½ä¹Ÿæ— æ³•ä¿è¯ï¼Œé«˜æ‰‹æ‡‚ç®—æ³•ï¼Œå†™å‡ºæ¥çš„å°±ç®—çš„å¿«ä¸€äº›ï¼Œæ™®é€šäººå†™çš„å¯èƒ½å°±ä¼šå‡ºç°æ€§èƒ½é—®é¢˜&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;JAVA è¿˜ç ´ååº”ç”¨æ¶æ„&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;JAVA ä»£ç éœ€è¦å’Œåº”ç”¨ç¨‹åºä¸€èµ·ç¼–è¯‘ã€æ‰“åŒ…ï¼Œé€ æˆå’Œåº”ç”¨çš„é«˜åº¦è€¦åˆï¼Œç»™åç»­ç»´æŠ¤å¸¦æ¥å›°éš¾&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ¯æ¬¡ä¿®æ”¹ï¼Œéƒ½å¾—é‡æ–°ç¼–è¯‘ï¼Œå°±éœ€è¦æ•´ä¸ªåº”ç”¨é™ªç€é‡å¯ç”šè‡³åœæœºï¼Œå½±å“åº”ç”¨ç¨³å®š&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ‰€ä»¥ JAVA è™½ç„¶ä»€ä¹ˆéƒ½å¯ä»¥æå®šï¼Œèƒ½åŠ›å¾ˆå¼ºï¼Œä½†å´ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;æ›´å¥½çš„æ–¹æ³•&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;çœ‹è¿‡å„ç§æ‰‹æ®µçš„ä¸è¶³åï¼Œæˆ‘ä»¬ä¹Ÿå°±æ˜äº†äº†ï¼Œæ›´å¥½çš„æ–¹æ¡ˆï¼Œéœ€è¦å®ƒæ”¯æŒè·¨åº“è¿ç®—ï¼Œæ”¯æŒåŒæ„å¼‚æ„æ•°æ®ï¼Œæ”¯æŒå„ç±»ä¸åŒæ•°æ®æºï¼Œæ”¯æŒå¤§æ•°æ®é‡ï¼Œä¹¦å†™ç®€å•ï¼Œæ€§èƒ½å¥½ï¼Œä¸ä¼šç ´ååº”ç”¨&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ‰è¿™æ ·çš„æ–¹æ¡ˆå—ï¼Ÿ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æœ‰&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;æ¶¦ä¹¾æŠ¥è¡¨&lt;/strong&gt;é›†æˆ&lt;strong&gt;SPL é›†ç®—å™¨&lt;/strong&gt;ä»¥åå°±å…·å¤‡äº†è¿™æ ·çš„èƒ½åŠ›&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4657039711191336&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3dBJseibic1cfKfMXXPyUoxe92nHiaBTpH66N5oIBwya1dRSQ2ktCluVRJtDfHrRicw7Y6OdRtiaW9tnlkRGtVJhf6w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;554&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;strong&gt;SPL&lt;/strong&gt; æ˜¯ä¸€æ¬¾æµè¡Œçš„ä¸“ä¸šçš„æ•°æ®è®¡ç®—å¤„ç†å·¥å…·ï¼Œå¾ˆå¤šé¡¹ç›®å¼€å‘å•†éƒ½åœ¨ç”¨ï¼Œå› ä¸ºå®ƒä¸ä»…å¥½ç”¨ï¼Œ&lt;strong&gt;è€Œä¸”è¿˜å…è´¹ï¼Œå¼€æº&lt;/strong&gt;ï¼Œæ˜¯å¸¸å¹´åšé¡¹ç›®ï¼Œæ€»éœ€è¦åšæ•°æ®å¤„ç†çš„å·¥ç¨‹å¸ˆçš„å¥½å¸®æ‰‹&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;SPL æ”¯æŒå„ç±»æ•°æ®æº&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;é›†æˆ SPL åï¼Œæ¶¦ä¹¾æŠ¥è¡¨ç›¸å½“äºå¤šäº†ä¸€ä¸ªè®¡ç®—å±‚ï¼Œè¿™ä¸ªè®¡ç®—å±‚æ”¯æŒå¸¸è§çš„å„ç±»æ•°æ®æºï¼Œå¯ä»¥åŒæ—¶è®¡ç®—æ¥è‡ªä¸åŒæ•°æ®æºçš„æ•°æ®ï¼Œä¸ç®¡å®ƒæ˜¯åŒæ„è¿˜æ˜¯å¼‚æ„ï¼Œä¸ç®¡ä½ æ€ä¹ˆåˆ†åº“ï¼Œåˆ†åˆ°å“ªé‡Œï¼Œéƒ½èƒ½åšåˆ° T+0&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5613718411552346&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3dBJseibic1cfKfMXXPyUoxe92nHiaBTpH6GcrLMfHDThnicfr9pdroqhH8R0MKpGJOuSdxJco9q4ZxtydvNibDAx2w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;554&quot;/&gt;&lt;/section&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;A&lt;/span&gt;&lt;/th&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;1&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=cold=db1.cursor(â€œselect * from orders where odate&amp;lt;?â€,date(now()))&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;/ å†·æ•°æ®ä»å†å²åº“ä¸­å–ï¼Œæ˜¨å¤©åŠä»¥å‰çš„æ•°æ®&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;2&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=hot=db2.cursor(â€œselect * from orders where odate&amp;gt;=?â€,date(now()))&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;/ çƒ­æ•°æ®ä»ç”Ÿäº§åº“ä¸­å–ï¼Œä»Šå¤©çš„æ•°æ®&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;3&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=[cold,hot].conjx()&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;4&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=A3.groups(area,customer;sum(amout):amout)&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;br/&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;å¼€å‘ç®€å•ï¼Œæ€§èƒ½å¥½&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;SPL ä¸ä»…å¯ä»¥åƒä¸Šé¢çš„ä»£ç ä¸€æ ·ï¼Œç®€å•å†™å‡ºè·¨åº“çš„å–æ•°æŸ¥è¯¢ï¼Œæ¯” JAVA ç®€å•çš„å¤šï¼Œå®ƒè¿˜æ¯” SQL å†™èµ·æ¥ç®€å•&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;çœ‹ä¸ªå°ä¾‹ï¼š&lt;strong&gt;æŸ¥å‡ºå„ç§‘æˆç»©éƒ½åœ¨å‰ 10 åçš„å­¦ç”Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç”¨ SQL å†™èµ·æ¥ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œä¹Ÿå¾ˆéš¾ç†è§£&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;from (&lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;name&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;name&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__keyword&quot;&gt;rank&lt;/span&gt;() &lt;span class=&quot;code-snippet__keyword&quot;&gt;over&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;partition&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; subject &lt;span class=&quot;code-snippet__keyword&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; score &lt;span class=&quot;code-snippet__keyword&quot;&gt;DESC&lt;/span&gt;) ranking&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; score_table)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;  &lt;span class=&quot;code-snippet__keyword&quot;&gt;where&lt;/span&gt; ranking&amp;lt;=&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;name&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;having&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;count&lt;/span&gt;(*)=(&lt;span class=&quot;code-snippet__keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;distinct&lt;/span&gt; subject) &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; score_table)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;ç”¨ SPLï¼Œåˆ™æŒ‰æ€è·¯è¿‡ç¨‹å†™å‡ºè®¡ç®—å°±è¡Œï¼Œå†™èµ·æ¥ç®€å•ï¼Œè¿˜å®¹æ˜“ç†è§£ï¼Œæ€§èƒ½ä¹Ÿæ¯” SQL è¦æ›´å¥½ï¼Œè€Œä¸”åœ¨ SPL ä¸­ï¼Œ è¿™æ ·çš„é«˜æ€§èƒ½å‡½æ•°å’Œç®—æ³•è¿˜æœ‰å¾ˆå¤šï¼Œè°éƒ½å¯ä»¥ç›´æ¥ç”¨ï¼Œä¸éœ€è¦éå¾—é«˜æ‰‹æ‰èƒ½å†™å‡ºæ€§èƒ½å¥½çš„ç®—æ³•äº†&lt;/span&gt;&lt;/p&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;br/&gt;&lt;/th&gt;&lt;th&gt;&lt;span&gt;A&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;1&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=score_table.group(subject)&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;2&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=A1.(~.rank(score).pselect@a(~&amp;lt;=10))&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;span&gt;3&lt;/span&gt;&lt;/td&gt;&lt;td&gt;&lt;span&gt;=A1.(~(A2(#)).(name)).isect()&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;span&gt;è¯´åˆ°æ€§èƒ½ï¼Œè¿˜è¦æåˆ°å¼€æº SPL æœ‰è‡ªå·±çš„å­˜å‚¨ï¼Œå®ƒæä¾›äº†&lt;strong&gt;é«˜æ•ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨æ–¹å¼&lt;/strong&gt;ï¼Œæ–‡ä»¶å­˜å‚¨å…·å¤‡å¾ˆå¤šä¼˜åŠ¿ï¼Œä¸ä»…è¯»å–æ•ˆç‡æ›´é«˜ï¼Œè¿˜å¯ä»¥æœ‰æ•ˆåˆ©ç”¨æ–‡ä»¶å‹ç¼©ã€å¹¶è¡Œç­‰æœºåˆ¶æé€Ÿï¼ŒåŒæ—¶è¿˜ä¸ä¼šåƒæ•°æ®åº“é‚£æ ·å®¹æ˜“å—åˆ°å®¹é‡çš„é™åˆ¶ï¼Œåœ¨ä¸€äº›ä¼ ç»Ÿçš„å†å²åº“æ— æ³•ä¿è¯è®¡ç®—æ€§èƒ½å’Œæ—¶æ•ˆçš„æƒ…å†µä¸‹ï¼Œç”šè‡³å¯ä»¥ç”¨ SPL çš„äºŒè¿›åˆ¶æ–‡ä»¶å­˜å‚¨å½“åšå†å²åº“æ¥æå‡æ€§èƒ½äº†&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;strong&gt;ä½è€¦åˆçƒ­åˆ‡æ¢&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section&gt;&lt;span&gt;SPL ä½œä¸ºæ¶¦ä¹¾æŠ¥è¡¨çš„è®¡ç®—å±‚ï¼Œå®ƒç¼–å†™çš„è®¡ç®—è„šæœ¬æ˜¯å­˜å‚¨åœ¨æŠ¥è¡¨æ¨¡æ¿é‡Œçš„ï¼Œæ˜¯è§£é‡Šæ‰§è¡Œçš„ï¼Œè¿™å°±é¿å…äº†å’Œåº”ç”¨çš„è€¦åˆ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;è§£é‡Šæ‰§è¡Œçš„ SPL åŒæ—¶ä¹Ÿå…·å¤‡äº†çƒ­åˆ‡æ¢çš„èƒ½åŠ›ï¼Œä¸ä¼šåƒ JAVA ä¸€æ ·å½±å“åº”ç”¨çš„ç¨³å®šäº†&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;å¤§æ•°æ®æ—¶ä»£ï¼Œæ•°æ®çš„åˆ†åº“å­˜å‚¨å¾ˆå¸¸è§ï¼ŒT+0 å®æ—¶æŠ¥è¡¨çš„éœ€æ±‚æ›´å¸¸è§ï¼Œç”¨å¸¸è§„çš„æ‰‹æ®µæ¥åšï¼Œç®€å•çš„ã€å°‘é‡çš„æƒ…å†µè¿˜èƒ½åº”ä»˜ï¼Œå¤æ‚ï¼Œå¤§é‡çš„æ—¶å€™ï¼Œå°±éœ€è¦ç”¨æ›´å¥½æ›´æ–°çš„æŠ€æœ¯äº†ï¼Œæ¶¦ä¹¾çš„ SPL è®¡ç®—å±‚ï¼Œä¸ä»…å¯ä»¥è½»æ¾åº”å¯¹å„ç±»è·¨åº“å®æ—¶æŸ¥è¯¢ï¼Œè€Œä¸”åœ¨å¼€å‘æ•ˆç‡å’Œæ€§èƒ½ä¸Šä¹Ÿæ¯”å¸¸è§„æ‰‹æ®µæ›´ç®€å•é«˜æ•ˆçš„å¤šï¼Œå®ƒè¿˜å¼€æºå…è´¹ï¼Œå¹¶ä¸éœ€è¦åœ¨æŠ¥è¡¨ä»¥å¤–å†å¤šåŠ æˆæœ¬ï¼Œå¦å¤–æ¶¦ä¹¾æŠ¥è¡¨æœ¬èº«ä»·æ ¼ä¹Ÿå¾ˆäº²æ°‘ï¼Œ&lt;strong&gt;1W ä¸€å¥—ï¼Œ3W ä¸€å¹´éšä¾¿ç”¨&lt;/strong&gt;ï¼Œä¸€å¥—æ¶¦ä¹¾ï¼Œå°±æŠŠæŠ¥è¡¨éœ€æ±‚å’Œå„ç±»æ•°æ®å‡†å¤‡çš„å¤–å›´éš¾é¢˜éƒ½è§£å†³äº†&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œè¯·è¯†åˆ«å³ä¾§äºŒç»´ç ä¸æˆ‘ä»¬è”ç³»&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å¾®ä¿¡å·ï½œRUNQIAN_RAQSOFT&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/3dBJseibic1ccQ5icibsj5In3tQSrniaticue8OGWvoBqBSJhBibeicuGu5Nrt33yiccCtKGodgGziaQad8gHyZlG2e6ibGRA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;430&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a41ff24632d32aa34c5f120f79aad459</guid>
<title>ã€æ¡ˆä¾‹åˆ†äº«ã€‘å¦‚ä½•åˆ©ç”¨äº¬ä¸œäº‘å»ºè®¾é«˜å¯ç”¨ä¸šåŠ¡æ¶æ„</title>
<link>https://toutiao.io/k/4v1vbxo</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;preview&quot;&gt;&lt;p&gt;&lt;strong&gt;ä½œè€…ï¼šäº¬ä¸œäº‘ å¼ ä¹…å¿—&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ä»¥2022å¹´ä¸€ä¸ªå®é™…é¡¹ç›®ä¸ºåŸºç¡€ï¼Œæ¥æ¼”ç¤ºåœ¨äº¬ä¸œäº‘ä¸Šæ„å»ºé«˜å¯ç”¨ä¸šåŠ¡çš„æ•´ä¸ªè¿‡ç¨‹ã€‚å…¬æœ‰äº‘åŠç§æœ‰äº‘å®¢æˆ·å¯é€šè¿‡ä½¿ç”¨äº¬ä¸œäº‘çš„å¼¹æ€§IAASã€PAASæœåŠ¡ï¼Œåˆ›å»ºé«˜å¯ç”¨ã€é«˜å¼¹æ€§ã€é«˜å¯æ‰©å±•ã€é«˜å®‰å…¨çš„äº‘ä¸Šä¸šåŠ¡ç¯å¢ƒï¼Œæå‡ä¸šåŠ¡SLA,æå‡è¿ç»´è‡ªåŠ¨åŒ–æ°´å¹³ï¼Œé™ä½èµ„æºæˆæœ¬åŠè¿ç»´æˆæœ¬ã€‚æœ‰ä¸šåŠ¡è¿ç§»ä¸Šäº‘éœ€æ±‚ï¼Œå¸Œæœ›æ„å»ºäº‘ä¸Šé«˜å¯ç”¨ä¸šåŠ¡æ¶æ„çš„å®¢æˆ·æˆ–å¯¹äº‘ä¸Šé«˜å¯ç”¨æ¶æ„è§„åˆ’æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥ä¸€çœ‹ã€‚&lt;/p&gt;

&lt;p&gt;å®¢æˆ·ä¸šåŠ¡ä¸ºå…¸å‹çš„webåº”ç”¨ï¼Œåœ¨äº¬ä¸œäº‘ä¸Šåˆ›å»ºä¸€ä¸ªé€šè¿‡å…¬ç½‘IP/åŸŸåè®¿é—®çš„é«˜å¯ç”¨çš„webç½‘ç«™ï¼ŒåŒ…å«é€šç”¨åº”ç”¨çš„æ ‡å‡†æ¡†æ¶ï¼ŒåŒ…æ‹¬è®¿é—®æ¥å…¥å±‚ã€APPå±‚ã€ç¼“å­˜å±‚ã€æ•°æ®åº“å±‚ã€‚æ•´ä½“ä¸šåŠ¡æ¶æ„è®¾è®¡æä¾›å¯ç”¨åŒº(AZ)çº§åˆ«çš„é«˜å¯ç”¨ç­‰çº§ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æœ¬æ–‡æ¼”ç¤ºåœºæ™¯åŒ…æ‹¬&lt;/strong&gt;å•AZå‡ºç°æ•…éšœå¯¼è‡´çš„ä¸»æœºæ•…éšœã€æ•°æ®åº“æ•…éšœã€ç¼“å­˜æ•…éšœåœºæ™¯ä¸‹ï¼Œä¸šåŠ¡èƒ½å¤Ÿæä¾›æŒç»­è®¿é—®èƒ½åŠ›ã€‚å¹¶ä¿éšœæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼ŒåŒæ—¶ï¼Œèƒ½å¤Ÿåœ¨æ— äººå¹²é¢„çš„æ¡ä»¶ä¸‹ï¼Œå®ç°ä¸šåŠ¡çš„å¼¹æ€§æ‰©å±•ï¼Œä¿éšœä¸šåŠ¡é«˜å¹¶å‘çš„åœºæ™¯ä¸‹æœ‰è‰¯å¥½çš„å“åº”æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„æ¶æ„ä¸ºæ¼”ç¤ºæ¶æ„ï¼Œ&lt;em&gt;å¹¶æœªä¸¥æ ¼éµå¾ªç”Ÿäº§ç¯å¢ƒ&lt;/em&gt;çš„ä¸šåŠ¡æ€§èƒ½åŠå®‰å…¨çš„æ•´ä½“è§„åˆ’æ­¥éª¤åŠè¦æ±‚ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè‡³å°‘åº”è¯¥å¯¹ä¸»æœºåŠCFSçš„å­˜å‚¨æ€§èƒ½è¿›è¡Œå‹æµ‹ï¼Œç¡®ä¿èƒ½å¤Ÿæ»¡è¶³å®é™…ä¸šåŠ¡éœ€æ±‚ï¼ŒåŒæ—¶ï¼Œé€šè¿‡åŸŸåè®¿é—®çš„webæœåŠ¡ï¼Œå»ºè®®ä½¿ç”¨WAFç­‰å®‰å…¨é˜²æŠ¤äº§å“ï¼Œä¿éšœä¸šåŠ¡çš„å…¥å£å®‰å…¨ã€‚&lt;/p&gt;

&lt;h1&gt;&lt;strong&gt;1&lt;/strong&gt;ã€äº¬ä¸œäº‘é«˜å¯ç”¨æ¶æ„è®¾è®¡&lt;/h1&gt;

&lt;p&gt;ä¸šåŠ¡æ¶æ„ä»¥æŸå•ä½çš„ä¸šåŠ¡éœ€æ±‚ä¸ºåŸºç¡€ï¼Œæ¨¡æ‹Ÿå…¶ä¸šåŠ¡ç”Ÿäº§ç¯å¢ƒï¼Œè§„åˆ’äº¬ä¸œäº‘ä¸Šçš„ä¸šåŠ¡æ•´ä½“æ¶æ„ï¼Œå…¶ä¸­ï¼ŒÂ  NATç½‘å…³ã€è´Ÿè½½å‡è¡¡ã€å ¡å’æœºå‡åˆ›å»ºåœ¨å…¬ç½‘è®¿é—®å­ç½‘ï¼Œå…¶ä½™ä¸»æœºåŠæ•°æ®åº“ç­‰ï¼Œåˆ›å»ºåœ¨å†…éƒ¨å­ç½‘å†…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f70e81156a5647d7a92a21a9a7fee997%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä¸­åº”ç”¨ä¸»æœºä½¿ç”¨é«˜å¯ç”¨ç»„åˆ›å»ºï¼Œ LBåç«¯ç›´æ¥æŒ‚è½½é«˜å¯ç”¨ç»„ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨é«˜å¯ç”¨ç»„çš„ç›®æ ‡æ˜¯å®ç°ä¸šåŠ¡é«˜å³°æœŸæ•…éšœæ—¶ï¼Œè®¡ç®—èµ„æºèƒ½è‡ªåŠ¨åŠ å…¥è´Ÿè½½å‡è¡¡åç«¯ï¼Œè‡ªåŠ¨åŒ–æ‰©å±•ä¸šåŠ¡å¤„ ç†èƒ½åŠ›ã€‚å‡å°‘è¿ç»´å¹²é¢„æˆæœ¬ã€‚&lt;/p&gt;

&lt;h1&gt;2ã€&lt;strong&gt;èµ„æºéœ€&lt;/strong&gt;&lt;strong&gt;æ±‚ï¼ˆæ‰€æœ‰&lt;/strong&gt;&lt;strong&gt;IP&lt;/strong&gt;&lt;strong&gt;åŠ&lt;/strong&gt;&lt;strong&gt;URL&lt;/strong&gt;&lt;strong&gt;å‡è°ƒæ•´ä¸ºéçœŸå®&lt;/strong&gt;&lt;strong&gt;IP&lt;/strong&gt;&lt;strong&gt;åŠ&lt;/strong&gt;&lt;strong&gt;URL&lt;/strong&gt;ï¼‰&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb11cd1ff80c41acbc9afa80027f537a%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;image.png&quot;/&gt;&lt;/p&gt;

&lt;h1&gt;&lt;strong&gt;3&lt;/strong&gt;ã€*&lt;strong&gt;&lt;em&gt;åº”ç”¨éƒ¨&lt;/em&gt;&lt;/strong&gt;*ç½²&lt;/h1&gt;

&lt;h2&gt;3.1 åŸºç¡€ç¯å¢ƒå‡†å¤‡&lt;/h2&gt;

&lt;p&gt;ä¸šåŠ¡ä»¥ä¸€ä¸ªå…¸å‹çš„wordpressçš„ç½‘ç«™ä¸ºä¾‹ï¼Œä¸šåŠ¡å®¹å™¨åŒ–éƒ¨ç½²äºäº‘ä¸»æœºä¸Šï¼Œé«˜å¯ç”¨ä¾èµ–äº¬ä¸œäº‘çš„äº‘ä¸»æœºé«˜å¯ç”¨ç»„ï¼Œä¸»æœºå®‰è£…dockerï¼Œå¹¶é…ç½®dockeræœåŠ¡è‡ªåŠ¨å¯åŠ¨ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#åˆ›å»ºåº”ç”¨æ•°æ®ç›®å½• é…ç½®ç›®å½•æƒé™ã€å®‰è£…dockerç­‰

Â mkdir -p /wp

Â chmod 777 /wp

Â yum install docker vim -y

Â systemctl enable docker

Â systemctl start docker

Â #æŒ‚è½½CFSæ–‡ä»¶ä½œä¸ºåº”ç”¨æ•°æ®ç›®å½•

Â yum install nfs-utils -y

Â systemctl enable rpcbind Â  Â 

Â systemctl start rpcbind

Â mount -t nfs -o vers=3 -o noresvport 10.0.0.200:/cfs /wp

#é…ç½®å¯åŠ¨è‡ªåŠ¨æŒ‚è½½CFSåŠå¯åŠ¨æœåŠ¡ï¼Œé€šè¿‡rc.localå®ç°ï¼š

#[root@wpha0 wp]# cat /etc/rc.local

#!/bin/bash

# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES

#

# It is highly advisable to create own systemd services or udev rules

# to run scripts during boot instead of using this file.

#

# In contrast to previous versions due to parallel execution during boot

# this script will NOT be run after all other services.

#

# Please note that you must run &#x27;chmod +x /etc/rc.d/rc.local&#x27; to ensure

# that this script will be executed during boot.

touch /var/lock/subsys/local

mount -t nfs -o vers=3 -o noresvport 10.0.0.200:/cfs /wp

#ï¼ˆè¯´æ˜ï¼Œç”Ÿäº§ç¯å¢ƒå¯åœ¨/etc/fstabæŒ‚è½½ï¼‰

bash /root/start.sh

start.shè§ä»¥ä¸‹ä»£ç 

[root@wpha0 wp]# cat /root/start.sh

docker stop wordpress

sleep 3

docker rm wordpress

sleep 3

docker run -d --name=wordpress --restart=unless-stopped -p 443:443 -p 80:80 -v /wp:/var/www/html wordpress

#[root@wpha0 wp]#

#å¯åŠ¨è„šæœ¬ç¼–è¾‘å®Œæˆåï¼Œå¹¶å†™å…¥rc.localåï¼Œrc.localè°ƒæ•´æˆå¯æ‰§è¡Œï¼Œä»¥å®ç°å¯åŠ¨ä¸»æœºè¿è¡Œè„šæœ¬ï¼Œ rc.localå®ç°äº†ä¸»æœºå¯åŠ¨åè‡ªåŠ¨æŒ‚è½½CFSåˆ°æŒ‡å®šç›®å½•ï¼Œç„¶åï¼Œé€šè¿‡start.shè‡ªåŠ¨æ¸…é™¤æ—§æ•°æ®ï¼Œé‡æ–°æ‹‰èµ·wordpressæœåŠ¡ã€‚

chmod +x /etc/rc.d/rc.local

#æ‹‰å–åº”ç”¨æ‰€éœ€é•œåƒ

Â docker pull wordpress

#æ‹‰å–é•œåƒåï¼Œè¿è¡ŒæœåŠ¡ã€‚

docker run -d --name=wordpress --restart=unless-stopped Â  Â -p 443:443 -p 80:80 Â -v /wp:/var/www/html Â wordpressÂ 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;[]()[](&amp;lt;&amp;gt; &quot;ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨&quot;)&lt;/p&gt;

&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªåœºæ™¯ä¸‹ï¼Œä¸»è¦è°ƒæ•´äº†å‡ ä¸ªä½ç½®ï¼š&lt;/p&gt;

&lt;p&gt;1ã€æŒ‚è½½CFSä¸ºwordpressçš„å·¥ä½œç›®å½•ï¼Œè¿™æ ·ï¼Œè°ƒæ•´é¡µé¢å†…å®¹ä»¥åŠæ‹‰èµ·æ–°ä¸»æœºåï¼Œç½‘ç«™å†…å®¹éƒ½ä¿æŒä¸€è‡´ã€‚ç›¸å…³è‡ªåŠ¨æŒ‚è½½æ–¹å¼ä¸ºåœ¨/etc/rc.localåŠ å…¥æŒ‚è½½å‘½ä»¤ï¼ŒåŒæ—¶chmod +x /etc/rc.d/rc.local æŠŠè¿™ä¸ªæ–‡ä»¶åŠ ä¸€ä¸‹å¯æ‰§è¡Œæƒé™ã€‚&lt;/p&gt;

&lt;p&gt;2ã€éœ€è¦æŠŠwpç›®å½•çš„æƒé™æ”¹ä¸º777 ï¼ˆæˆ–dockerå†…éƒ¨çš„ 33 tapeç­‰ï¼Œä¸è¿‡ä¸åŒç‰ˆæœ¬å¯èƒ½æœ‰åŒºåˆ«ï¼Œæ”¹æˆ777ç›¸å¯¹ç¨³å¦¥ï¼‰ï¼Œ å¦åˆ™æŒ‚è½½åï¼Œdockerå†…éƒ¨çš„wordpressæ— æ³•è·å–ç›®å½•è¯»å†™æƒé™ã€‚&lt;/p&gt;

&lt;p&gt;3ã€NFSæŒ‚è½½éœ€è¦å®‰è£…nfsæ’ä»¶ yum install nfs-utils -y å¹¶å¯åŠ¨rpcæœåŠ¡ systemctl enable rpcbind Â  systemctl start rpcbind&lt;/p&gt;

&lt;p&gt;WPç›®å½•ä¸º777 æƒé™&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eaa8d5cd6fe34c46b0bbdb562d929d52%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;åˆ°è¿™é‡ŒåŸºç¡€ä¸»æœºç¯å¢ƒå‡†å¤‡å®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹ä¸€æ­¥ï¼Œè¿›è¡Œwordpressåº”ç”¨çš„é…ç½®ï¼Œå®ç°é«˜å¯ç”¨å¯è§†åŒ–çš„æ¼”ç¤ºæ•ˆæœã€‚&lt;/p&gt;

&lt;h2&gt;3.2 ä¸šåŠ¡ä¾§ &lt;strong&gt;wordpress&lt;/strong&gt;é…ç½®&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;webåº”ç”¨ä½¿ç”¨wordpresséƒ¨ç½²ã€‚é€šè¿‡dockeréƒ¨ç½²ï¼Œå¹¶å®ç°é«˜å¯ç”¨ç»„ä¸»æœºè‡ªåŠ¨ä¼¸ç¼©è‡ªåŠ¨åŒ–æ‹‰èµ·ã€‚&lt;/p&gt;

&lt;p&gt;é€šè¿‡dockeræ‹‰å–wordpress&lt;/p&gt;

&lt;p&gt;docker pull wordpress&lt;/p&gt;

&lt;p&gt;æ‹‰å–é•œåƒå&lt;/p&gt;

&lt;p&gt;docker run -d --name=wordpress --restart=unless-stopped Â  Â -p 443:443 -p 80:80 Â -v /wp:/var/www/html Â wordpress&lt;/p&gt;

&lt;p&gt;å…¶ä¸­/wp æ˜¯æŒ‚è½½çš„CFSï¼Œä½œä¸ºå¤šä¸ªåº”ç”¨ä¸»æœºå…±åŒæŒ‚è½½ï¼Œä½œä¸ºwordpressçš„åº”ç”¨çš„åº”ç”¨æ–‡ä»¶ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;å¯åŠ¨wordpresså®¹å™¨ï¼Œå¹¶æŒ‚è½½CFSç›®å½•ä¸ºWPçš„åº”ç”¨ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šéƒ¨ç½²åœ¨3.1ä¸­å·²ç»å®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;å‰ç½®å‡†å¤‡å·¥ä½œ-è´Ÿè½½å‡è¡¡ï¼š&lt;/p&gt;

&lt;p&gt;é…ç½®ä¸€ä¸ªå¸¦å…¬ç½‘IPçš„è´Ÿè½½å‡è¡¡ï¼Œå¹¶é…ç½®ç›‘å¬å™¨ï¼Œç›‘å¬å™¨åç«¯æš‚æ—¶é…ç½®ä¸€ä¸ªå·²ç»æ‹‰èµ·äº†dockerçš„è¿™å°ä¸»æœº&lt;/p&gt;

&lt;p&gt;å‰ç½®å‡†å¤‡å·¥ä½œ-æ•°æ®åº“ï¼š&lt;/p&gt;

&lt;p&gt;åœ¨é…ç½®ç½‘ç«™å‰ï¼Œéœ€è¦é¦–å…ˆåœ¨äº‘æ§åˆ¶å°çš„RDSé‚£é‡Œä¸ºwordpressåˆ›å»ºä¸€ä¸ªè´¦æˆ·ï¼šwordpressï¼Œå¹¶è®¾ç½®å¯†ç ï¼Œå»ºç«‹ä¸€ä¸ªåº“ï¼šwordpressï¼ˆå› ä¸ºåç»­æ¼”ç¤ºæ–¹æ¡ˆæœ‰è°ƒæ•´ï¼Œæˆ‘åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°åº“wordpressbackupï¼Œå®é™…æ­£å¸¸æ¥è®²ä¸€ä¸ªåº“å°±å¯ä»¥äº†ï¼‰ï¼Œå¹¶æˆæƒwordpressåº“ç»™wordpressç”¨æˆ·ã€‚&lt;/p&gt;

&lt;p&gt;å‰ç½®å‡†å¤‡å·¥ä½œ-redisï¼š&lt;/p&gt;

&lt;p&gt;åœ¨æ§åˆ¶å°è´­ä¹°ä¸€ä¸ªredisï¼Œè®°å½•redisçš„URLï¼Œä¸ºåç»­é…ç½®redis ç¼“å­˜åšå‡†å¤‡ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·ï¼ŒåŸºæœ¬çš„åº”ç”¨ç¯å¢ƒå°±ç»ªäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;é€šè¿‡æµè§ˆå™¨è®¿é—®è´Ÿè½½å‡è¡¡(æ³¨æ„è®¿é—®LBï¼Œä¸ç›´æ¥è®¿é—®ä¸»æœº)çš„IPçš„80ç«¯å£ï¼Œå³å¯è¿›å…¥wordpressçš„é…ç½® é¡µé¢ï¼Œ wordpressçš„é…ç½®ï¼Œä¸»è¦æ˜¯æ•°æ®åº“çš„åœ°å€ä»¥åŠæ•°æ®åº“å‰ç¼€çš„é…ç½®ï¼Œè¾“å…¥æ­£ç¡®çš„æ•°æ®åº“çš„host åœ°å€åŠå¯†ç å³å¯ï¼Œå…¶ä½™ä¿æŒé»˜è®¤ï¼Œå…¶ä»–ä¾æ®å®˜ç½‘æ‰‹å†ŒæŒ‡å¯¼ä¿æŒé»˜è®¤é…ç½®å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;é…ç½®å®Œæˆåï¼Œwordpressä¼šè‡ªåŠ¨ä¸ºç½‘ç«™åˆ›å»ºç›¸å…³çš„è¡¨ï¼Œå¹¶æç¤ºé…ç½®wordpressçš„adminä»¥åŠç®¡ç†å¯†ç ã€‚&lt;/p&gt;

&lt;p&gt;å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç™»å½•æ•°æ®åº“æŸ¥çœ‹åˆ›å»ºçš„è¡¨ï¼Œåç»­MySQLé«˜å¯ç”¨æ¼”ç¤ºæ—¶ï¼Œä¹Ÿå¯ä»¥ç™»å½•åˆ°æ•°æ®åº“åšäº›å¸¸è§„ æ“ä½œï¼Œä¸å—é«˜å¯ç”¨åˆ‡æ¢å½±å“ã€‚&lt;/p&gt;

&lt;p&gt;åˆ°æ­¤ï¼ŒåŸºæœ¬çš„åº”ç”¨å°±å®‰è£…å®Œæˆäº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0966498ec7a4295bdcd0562ff2fd1ee%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é…ç½®&lt;strong&gt;redis&lt;/strong&gt;åŠ¨æ€ç¼“å­˜åŠ é€Ÿï¼š&lt;/p&gt;

&lt;p&gt;redisçš„è§’è‰²ï¼Œåœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œè¾¹ï¼Œåœ¨wordpressé‡Œ redis ä½œä¸ºä¸€ä¸ªåŠ¨æ€åŠ é€Ÿç¼“å­˜ä½¿ç”¨ï¼Œå¯¹åŠ é€Ÿç½‘ç«™è®¿é—®ï¼Œ å‡è½»æ•°æ®åº“å‹åŠ›èµ·åˆ°ä¸€å®šä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è½½wordpressçš„redisæ’ä»¶ï¼Œredis-cacheã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è½½åé€šè¿‡wordpressçš„ç®¡ç†é¡µé¢-plugin --addnew ç›´æ¥ä¸Šä¼ ï¼Œç„¶åä¾æ®æ’ä»¶æ“ä½œæ‰‹å†Œå®‰è£…é…ç½®å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4fc00a50244348f893cd1702784db988%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…redis-cacheä»¥åï¼Œä¼šåœ¨/wp/wp-content/plugins ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª redis-cacheç›®å½•ã€‚éœ€è¦åŒæ—¶åœ¨/wp/wp- content ä¸‹ç”Ÿæˆä¸€ä¸ª object-cache.phpæ–‡ä»¶ï¼Œæ­£å¸¸æ¥è®²ï¼Œéœ€è¦è°ƒæ•´ä¸€ä¸ªå‚æ•°hostæ”¹æˆredisçš„åŸŸåå³å¯ã€‚å¦‚æœé…ç½®äº†å¯†ç ï¼Œå°±éœ€è¦è°ƒæ•´è¿™ä¸ªä»¥åŠredis-cacheç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶æŠŠå¯†ç é…ç½®è¿›å»ï¼Œè¿™ä¸ªå› ä¸ºæ˜¯ æ¼”ç¤ºç¯å¢ƒï¼Œredisè®¾ç½® äº†å…å¯†ï¼Œç”Ÿäº§ç¯å¢ƒä¸€å®šè¦è®¾ç½®å¯†ç ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8c65929b92614b7d86f035a9844dd4f1%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…é…ç½®å®Œæˆåï¼Œåœ¨ç®¡ç†ç•Œé¢çš„settingé‡Œä¼šæœ‰redisçš„é…ç½®é€‰é¡¹ï¼Œè¿™ä¸ªå’Œç‰ˆæœ¬æœ‰å…³ç³»ï¼Œæœ‰äº›ç‰ˆæœ¬å¯èƒ½ä¼šè®© åœ¨è¿™é‡Œåšå‚æ•°é…ç½®ã€‚ç›´æ¥æ”¹æ–‡ä»¶å‚æ•°æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/813e43b27e0349ccad60bd0c1e53fd1b%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;mysql&lt;/strong&gt;åŠ&lt;strong&gt;redis&lt;/strong&gt;ç®¡ç†åŠç›¸å…³ç™»å½•æ–¹å¼ä»‹ç»ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;MySQLçš„ç™»å½•ï¼Œæ²¡æœ‰å®‰è£…clientï¼Œä½¿ç”¨äº†ä¸€ä¸ªmysqlçš„docker&lt;/p&gt;

&lt;p&gt;ç›¸å…³å‘½ä»¤ï¼š&lt;/p&gt;

&lt;p&gt;docker run --name mysql -p 3306:3306 Â --restart=unless-stopped -v /root/dbackup/:/db -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7&lt;/p&gt;

&lt;p&gt;è¿›å…¥mysqlçš„dockerä¸­ï¼š&lt;/p&gt;

&lt;p&gt;docker exec -it mysql bash&lt;/p&gt;

&lt;p&gt;è¿æ¥wordpressä½¿ç”¨çš„æ•°æ®åº“ï¼š&lt;/p&gt;

&lt;p&gt;mysql Â -h &lt;a href=&quot;http://mysql-xxxea04fc4c52.jdcloud.com&quot;&gt;mysql-xxxea04fc4c52.jdcloud.com&lt;/a&gt; -u wordpress -p&lt;/p&gt;

&lt;p&gt;use wordpressbackup;&lt;/p&gt;

&lt;p&gt;show tables;&lt;/p&gt;

&lt;p&gt;select id from wpbackup_posts;&lt;/p&gt;

&lt;p&gt;--ä¸­é—´å› ä¸ºåšäº†å¤šæ¬¡æ¼”ç»ƒå’Œæ•°æ®åº“åˆ‡æ¢ï¼Œä¸­é—´åšäº†wordpressæ•°æ®åº“å¯¼å‡ºå’Œå¯¼å…¥æ“ä½œ&lt;/p&gt;

&lt;p&gt;mysql æ•°æ®åº“å¯¼å‡ºï¼ˆå‡åœ¨mysqlçš„dockerå®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;mysqldump Â -h Â &lt;a href=&quot;http://mysql-xxxa04fc4c52.jdcloud.com&quot;&gt;mysql-xxxa04fc4c52.jdcloud.com&lt;/a&gt; -uwordpress -p --databases wordpressbackup &amp;gt;/db/wordpressbackup-0322.sql&lt;/p&gt;

&lt;p&gt;æ•°æ®å¯¼å…¥ï¼š&lt;/p&gt;

&lt;p&gt;è¿›å…¥æ•°æ®åº“ï¼Œ&lt;/p&gt;

&lt;p&gt;use wordpressbackup;&lt;/p&gt;

&lt;p&gt;source /db/wordpressbackup-0322.sql;&lt;/p&gt;

&lt;p&gt;----rediséªŒè¯&lt;/p&gt;

&lt;p&gt;rediséªŒè¯ï¼ŒåŒæ ·æ˜¯æ²¡æœ‰å®‰è£…clientï¼Œé€šè¿‡dockeré‡Œçš„å‘½ä»¤è¡Œå»è¿æ¥ï¼š&lt;/p&gt;

&lt;p&gt;docker run -d --name redis --memory=1G -p 7379:6379 Â  redis&lt;/p&gt;

&lt;p&gt;docker exec -it redis bash&lt;/p&gt;

&lt;p&gt;redis-cli -h &lt;a href=&quot;http://redis-j49rpxxx.jdcloud.com&quot;&gt;redis-j49rpxxx.jdcloud.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç™»å…¥åï¼ŒæŸ¥çœ‹ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;p&gt;KEYS *&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;wordpress&lt;/strong&gt;é…ç½®ä¸»é¡µæ˜¾ç¤º&lt;strong&gt;hostname&lt;/strong&gt;åŠæ¥æº&lt;strong&gt;IP&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;---è®©wordpressè·å–hostname å¹¶åœ¨é¡µé¢å±•ç¤º+è·å–è®¿å®¢åœ°å€ï¼Œä»¥å¢å¼ºæ¼”ç¤ºæ•ˆæœï¼Œæ˜ç¡®çœ‹åˆ°è®¿é—®çš„å®é™…ä¸» æœºä½ç½®ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†è®©è®¿é—®è€…çœ‹åˆ°è®¿é—®çš„IPæ˜¯å“ªä¸ªï¼ˆè¯å®é«˜å¯ç”¨ç»„çš„è‡ªåŠ¨æ‰©å®¹åŠä¸šåŠ¡çš„è‡ªåŠ¨æ‹‰èµ·ï¼‰ï¼Œéœ€è¦åœ¨æ‰€ä½¿ç”¨çš„ theme ç›®å½•çš„functioné‡ŒåŠ å…¥ç›¸å…³ä»£ç ã€‚Â  /wp/wp- content/themes/twentytwentytwo/function.php&lt;/p&gt;

&lt;p&gt;[root@AG-wordpress- HA-group1-c8705-2 twentytwentytwo]# vim /wp/wp-content/themes/twentytwentytwo/function.php&lt;/p&gt;

&lt;p&gt;åœ¨é‡Œè¾¹åŠ å…¥ä»¥ä¸‹ä»£ç ï¼Œä¸€ä¸ªæ˜¯show_ipå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯show_hostnameå‡½æ•°ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function get_the_user_ip() {
if ( ! empty( $_SERVER[&quot;HTTP_CLIENT_IP&quot;] ) ) {
//check ip from share internet
$ip = $_SERVER[&quot;HTTP_CLIENT_IP&quot;];
} elseif ( ! empty( $_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;] ) ) {
//to check ip is pass from proxy
$ip = $_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;];
} else {
$ip = $_SERVER[&quot;REMOTE_ADDR&quot;];
}
return apply_filters( &quot;wpb_get_ip&quot;, $ip );
}
add_shortcode(&quot;show_ip&quot;, &quot;get_the_user_ip&quot;);

function get_hostname()
{
     $hostname = gethostname();
          echo &quot;$hostname\n&quot;;
      return apply_filters( &quot;hostname&quot;, $hostname );
}

add_shortcode(&quot;show_hostname&quot;, &quot;get_hostname&quot;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åï¼Œåœ¨wordpressçš„siteé‡ŒåŠ å…¥çŸ­ä»£ç å®ç°ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad341fbad9fd4bd4b2b8b98f65035911%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;ä¿å­˜åï¼Œçœ‹åˆ°é¡µé¢å¯ä»¥æ˜¾ç¤ºç›¸å…³çš„IPåŠhostnameä¿¡æ¯äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f82b7768e9fc429ebd29757e9f284501%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;åˆ°è¿™é‡Œï¼ŒÂ  wordpressçš„åº”ç”¨ç¯å¢ƒé…ç½®å®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹ä¸€æ­¥é…ç½®ä¸šåŠ¡çš„é«˜å¯ç”¨ç¯å¢ƒï¼Œå®ç°è·¨AZçš„é«˜å¯ç”¨ç»„åŠä¸»æœºè‡ªåŠ¨å¼¹æ€§ä¼¸ç¼©ã€‚&lt;/p&gt;

&lt;h2&gt;&lt;strong&gt;3&lt;/strong&gt;.&lt;strong&gt;3&lt;/strong&gt; å®ä¾‹æ¨¡æ¿åŠé«˜å¯ç”¨ç»„ã€&lt;strong&gt;LB&lt;/strong&gt;é…ç½®&lt;/h2&gt;

&lt;p&gt;å•å°ä¸»æœºé…ç½®å®Œæˆåï¼Œé‡å¯èƒ½è‡ªåŠ¨æ‹‰èµ·åº”ç”¨ï¼Œè¿›è¡Œç¡®è®¤åï¼Œ å°†ç°æœ‰ä¸»æœºæ‰“ä¸€ä¸ªé•œåƒã€‚ä½œä¸ºé«˜å¯ç”¨ç»„çš„å®ä¾‹æ¨¡æ¿ã€‚åç»­LBåç«¯çš„é«˜å¯ç”¨ç»„é€šè¿‡è¿™ä¸ªæ¨¡æ¿åˆ›å»ºä¸»æœºã€‚&lt;/p&gt;

&lt;p&gt;å…¶ä½™åŒ…æ‹¬æ•°æ®åº“é…ç½®ã€ç½‘ç«™æ•°æ®ã€redisç¼“å­˜é…ç½®ç­‰ï¼Œå‡å®ç°äº†æœåŠ¡åŠæ•°æ®çš„åˆ†ç¦»ï¼Œå› æ­¤ï¼Œåœ¨åæœŸè¿›è¡ŒåŠ¨ æ€å¼¹æ€§æ‰©å®¹æ—¶ï¼Œä½¿ç”¨è¿™ä¸ªæ¨¡æ¿çš„é«˜å¯ç”¨ç»„ï¼Œå¯ä»¥ç›´æ¥æ‹‰èµ·æœåŠ¡ï¼Œå®ç°åŠ¨æ€å¼¹æ€§ä¼¸ç¼©ã€‚&lt;/p&gt;

&lt;p&gt;å®ä¾‹æ¨¡æ¿ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a5149fa2812f416091d2992f0049c7de%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7d9bbf1c75944feb7d3809ddea3f674%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„ï¼š&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„ä½¿ç”¨åˆ¶ä½œå¥½äº†wordpressçš„åº”ç”¨ä¸»æœºçš„é•œåƒã€‚åšåˆ°é«˜å¯ç”¨ç»„è‡ªåŠ¨å¼¹æ€§ä¼¸ç¼©å‡ºæ–°ä¸»æœº--æ–°ä¸»æœºè‡ªåŠ¨ æ‹‰èµ·wordpressåº”ç”¨--æ–°ä¸»æœºè‡ªåŠ¨æŒ‚è½½åˆ°LBæ¥æ”¶ä¸šåŠ¡æµé‡çš„æ¨¡å¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b7e37aa76594c32b16664419e052365%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38cdb2fdbf024bc299c808a5030f03bf%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3f97860d0ff47be8e049fced41b2fba%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;LB&lt;/strong&gt;é…ç½®ã€‚&lt;/p&gt;

&lt;p&gt;LBç›‘å¬å™¨é€‰æ‹©åç«¯æœåŠ¡ä¸ºé«˜å¯ç”¨ç»„ï¼Œå¹¶é…ç½®å¥åº·æ£€æŸ¥ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/caf0279920b64072ab1dc5695dfc8248%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/896afa40d0d34ef8910abb267db5c765%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„æŒ‚è½½åˆ°LBåç«¯ä»¥åï¼Œåº”ç”¨ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆã€‚&lt;/p&gt;

&lt;p&gt;å¯ä»¥è®¿é—®LBå…¥å£ï¼Œè®¿é—®åˆ°ç½‘ç«™ï¼Œå¹¶ä¸”ä¼šè½®è¯¢åˆ°ä¸åŒæœåŠ¡å™¨ï¼ŒåŒæ—¶ï¼Œè®¿é—®å•å°æœåŠ¡å™¨çš„å¤–ç½‘IP ä¹Ÿå¯ä»¥è®¿é—®ç½‘ç«™ä¸šåŠ¡ï¼š&lt;/p&gt;

&lt;p&gt;LBè®¿é—®æˆªå›¾(2å¼ ï¼Œåˆ†åˆ«è®¿é—®åˆ°äº†ä¸¤ä¸ªä¸»æœº)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a67569d61eb649398bc00bdc9b7f5808%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6fab3a2d83104d3fb61412ad6ae2238b%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;å•å°ä¸»æœºè®¿é—®æˆªå›¾ï¼ˆç›´æ¥è®¿é—®å•å°ä¸»æœºIPï¼Œåˆ·æ–°åä¸ä¼šè½®è¯¢ä¸»æœºï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/345d524519f1453cac886445997da756%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;æ¼”ç¤ºç¯å¢ƒå°±ç»ªã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹ä¸€æ­¥ï¼Œè¿›è¡Œç ´åæ€§æ¼”ç»ƒï¼Œæ£€éªŒé«˜å¯ç”¨ç¯å¢ƒçš„æ•ˆæœã€‚&lt;/p&gt;

&lt;h1&gt;&lt;strong&gt;4&lt;/strong&gt;ã€åº”ç”¨æ¼”ç¤º&lt;/h1&gt;

&lt;p&gt;é«˜å¯ç”¨æ¼”ç¤ºè„šæœ¬ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/162d3ba17cc34ee69dc11ffc162743d3%7Etplv-k3u1fbpfcp-watermark.image?&quot; alt=&quot;image.png&quot;/&gt;&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„ä¿¡æ¯ï¼Œç›®å‰LBåç«¯æŒ‚è½½çš„ä¸ºé«˜å¯ç”¨ç»„ï¼š&lt;/p&gt;

&lt;p&gt;æµ‹è¯•é¡µé¢ä¿¡æ¯ï¼ˆæ‰€æœ‰IPå‡ä¸ºéçœŸå®IPï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;ä¸šåŠ¡å…¥å£(LB)ï¼šÂ Â  &lt;a href=&quot;http://100.126.35.4/&quot;&gt;http://100.126.35.4/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„å•å°ä¸»æœºè®¿é—®å…¥å£ç›®å‰ä¸ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://100.126.38.13/&quot;&gt;http://100.126.38.13/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://100.126.38.16/&quot;&gt;http://100.126.38.16&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸»æœºçš„é«˜å¯ç”¨åŠè‡ªåŠ¨ä¼¸ç¼©ï¼š&lt;/p&gt;

&lt;p&gt;æ¼”ç¤ºæ‰€éœ€çš„ä¸€äº›è„šæœ¬ï¼š&lt;/p&gt;

&lt;p&gt;ä¸€ä¸ªæ˜¯æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒï¼Œå¯¹ä¸šåŠ¡ä¸»å…¥å£çš„LBæŒç»­è®¿é—®ï¼Œè¿™ä¸ªåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œä¸€ç›´å¯ä»¥è®¿é—®åˆ°ï¼Œä¸ä¼šä¸­æ–­ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash
#for ((i=1;i&amp;lt;=10;i++))
for i in {1..15000}
 do
curl 100.126.35.4
echo $i
echo $(date +%T)
sleep 3
  done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€ä¸ªæ˜¯æ¨¡æ‹Ÿå•æœºç¯å¢ƒï¼Œå¯¹ä¸šä¸»æœºå…¥å£çš„æŒç»­è®¿é—®ï¼Œè¿™ä¸ªåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå½“é’ˆå¯¹å•æœºå…³æœºæ—¶ï¼Œè®¿é—®ä¼šå¡ä½ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

#for ((i=1;i&amp;lt;=10;i++))

for i in {1..15000}

Â do

curl 100.126.38.16

echo $i

echo $(date +%T)

sleep 3

Â  done
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¼”ç¤ºè¿‡ç¨‹ä¸­ï¼Œé«˜å¯ç”¨ç»„è‡ªåŠ¨ä¼¸ç¼©åŠŸèƒ½ï¼Œèƒ½æ­£å¸¸æ‰©å®¹å‡ºæ–°çš„ä¸»æœºå¹¶æä¾›ä¸šåŠ¡è®¿é—®ã€‚&lt;/p&gt;

&lt;p&gt;é«˜å¯ç”¨ç»„çš„è‡ªåŠ¨ä¼¸ç¼©ï¼Œé€šè¿‡ stressæ¨¡æ‹Ÿå‹åŠ›&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å®‰è£…stressåï¼Œç›´æ¥è¿è¡Œï¼ˆä¸»æœºä¸º2Cï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;stress --CPU 2&lt;/p&gt;

&lt;p&gt;é€šè¿‡topå‘½ä»¤å¯ä»¥çœ‹åˆ°CPUè¢«æ‰“æ»¡ã€‚&lt;/p&gt;

&lt;p&gt;è¿‡2åˆ†é’Ÿï¼ˆé«˜å¯ç”¨ç»„ä¼¸ç¼©ç­–ç•¥é…ç½®çš„æ—¶é—´ï¼‰ï¼Œé«˜å¯ç”¨ç»„ä¼šè‡ªåŠ¨æ‰©å±•ä¸€å°ä¸»æœºï¼Œå¹¶ä½œä¸ºé«˜å¯ç”¨ç»„çš„ä¸€å°ä¸»æœºè‡ªåŠ¨æŒ‚è½½åˆ°LBçš„åç«¯ï¼Œå¯åœ¨LBåŠä¸»æœºç•Œé¢çœ‹åˆ°è‡ªåŠ¨æ‰©å®¹çš„ä¸»æœºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6f71ad612eda4d9b817c687bf01aa476%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;åœ¨æ§åˆ¶å°å°†ä¸€å°é«˜å¯ç”¨ç»„å†…ä¸»æœºå…³æœºï¼Œç„¶åå¯è§LBåç«¯æœåŠ¡å¥åº·æ£€æŸ¥å‘ç°æŒ‚è½½çš„é«˜å¯ç”¨ç»„ä¸€å°æœåŠ¡å™¨å¼‚å¸¸ï¼Œé«˜å¯ç”¨ç»„å¦‚é…ç½®æœ€å°çš„ä¸»æœºæ•°é‡ï¼Œåˆ™é«˜å¯ç”¨ç»„ä¹Ÿè‡ªåŠ¨æ‰©å‡ºä¸€å°ä¸»æœºï¼Œç»§ç»­æä¾›æœåŠ¡ã€‚åœ¨æ­¤æœŸé—´ï¼Œæµé‡ä¼šè½¬å‘ç»™åç«¯æ­£å¸¸ä¸»æœºï¼Œå¥åº·æ£€æŸ¥å¼‚å¸¸çš„ä¸»æœºä¸å†æ¥æ”¶æµé‡ï¼Œä¸šåŠ¡è®¿é—®æŒç»­æ­£å¸¸ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2520ad484806467e9ffdcb0cb0c1bb3e%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6228e2230996480fa94c354a732a6586%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;PAAS&lt;/strong&gt;æœåŠ¡çš„é«˜å¯ç”¨ï¼š&lt;/p&gt;

&lt;p&gt;æœ¬æ¼”ç¤ºä»¥MySQLåŠredisç ”å‘åœ¨åº•å±‚ç›´æ¥æ€dockerï¼Œç„¶åä¸šåŠ¡è®¿é—®ä¸ä¸­æ–­ï¼Œæ§åˆ¶å°ä¸Šä¼šå‡ºç°ä¸»ä»åˆ‡æ¢ç°è±¡åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¯¹ä¸šåŠ¡çš„è®¿é—®ä¸ä¼šä¸­æ–­ã€‚&lt;/p&gt;

&lt;p&gt;äº‘æ•°æ®åº“åŠç¼“å­˜çš„ç ´åæ€§æ“ä½œï¼Œåº•å±‚æ“ä½œç”±ç ”å‘æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;åº•å±‚è¿›è¡ŒRDSä¸»å¤‡åˆ‡æ¢ï¼ˆkillæ‰RDSä¸»åº“ï¼‰ï¼Œä¸šåŠ¡è®¿é—®åŒæ ·ä¸ä¼šä¸­æ–­ï¼Œç ”å‘æä¾›æˆªå›¾å¯ä»¥çœ‹åˆ°ä¸»ä»åˆ‡æ¢è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/691f3bc8a83548f69063bacc7cb844ac%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eae7e8dc0db94ef0b40d3d97103c73c4%7Etplv-k3u1fbpfcp-zoom-1.image&quot; alt=&quot;&quot;/&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡å®é™…éƒ¨ç½²ç¯å¢ƒä¸ºäº¬ä¸œä¸ºå®¢æˆ·æ­å»ºçš„ç§æœ‰äº‘ç¯å¢ƒï¼ˆJDSTACKï¼‰ï¼Œå…¬æœ‰äº‘ä¸ç§æœ‰äº‘ä¸ºç›¸åŒæŠ€æœ¯æ ˆï¼Œæ­å»ºåŠéªŒè¯è¿‡ç¨‹ç›¸ä¼¼ã€‚é™äºç¯‡å¹…ï¼ŒrediséªŒè¯éƒ¨åˆ†åŠä¸»æœºå¯è®¿é—®æ€§è„šæœ¬ç»“æœæœªæˆªå›¾ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯è‡ªè¡Œåœ¨äº‘ä¸Šé€šè¿‡æœ¬æ–‡æŒ‡å¼•è¿‡ç¨‹æ­å»ºéªŒè¯ã€‚&lt;/p&gt;
&lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>86fe9dcefd2c00ae87a0919db65c9a74</guid>
<title>MySQL æ•°æ®åŒæ­¥ Elasticsearch  4ä¸ª æ–¹æ¡ˆï¼</title>
<link>https://toutiao.io/k/xov50ug</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€ä¸‰ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œå®æˆ˜æŠ“åŒ…ï¼Œè®©æˆ‘è§‰å¾—å¯¹httpsæœ‰æ›´äº†æ·±çš„ç†è§£ï¼Œç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;æœ‰ä½è¯»è€…é—®èµ·ä¸€ä¸ªå¥‡æ€ªçš„äº‹æƒ…ï¼Œä»–è¯´ä»–æƒ³æŠ“ä¸€ä¸ª&lt;code&gt;baidu.com&lt;/code&gt;çš„æ•°æ®åŒ…ï¼Œä½“éªŒä¸‹çœ‹åŒ…çš„ä¹è¶£ã€‚&lt;/p&gt;&lt;p&gt;ä½†å´å‘ç°â€œ&lt;strong&gt;æŠ“ä¸åˆ°&lt;/strong&gt;â€ï¼Œè¿™å°±æœ‰äº›å¥‡æ€ªäº†ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘æ¥è¿˜åŸä¸‹ä»–çš„æ“ä½œæ­¥éª¤ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆï¼Œé€šè¿‡&lt;code&gt;ping&lt;/code&gt;å‘½ä»¤ï¼Œè·å¾—è®¿é—®ç™¾åº¦æ—¶ä¼šè¯·æ±‚å“ªä¸ªIPã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â pingÂ baidu.com&lt;br/&gt;PINGÂ baidu.comÂ (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;)Â &lt;span&gt;56&lt;/span&gt;(&lt;span&gt;84&lt;/span&gt;)Â bytesÂ ofÂ &lt;span&gt;data&lt;/span&gt;.&lt;br/&gt;&lt;span&gt;64&lt;/span&gt;Â bytesÂ fromÂ &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;Â (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;):Â icmp_seq=&lt;span&gt;1&lt;/span&gt;Â ttl=&lt;span&gt;49&lt;/span&gt;Â time=&lt;span&gt;30.6&lt;/span&gt;Â ms&lt;br/&gt;&lt;span&gt;64&lt;/span&gt;Â bytesÂ fromÂ &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;Â (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;):Â icmp_seq=&lt;span&gt;2&lt;/span&gt;Â ttl=&lt;span&gt;49&lt;/span&gt;Â time=&lt;span&gt;30.6&lt;/span&gt;Â ms&lt;br/&gt;&lt;span&gt;64&lt;/span&gt;Â bytesÂ fromÂ &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;Â (&lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;):Â icmp_seq=&lt;span&gt;3&lt;/span&gt;Â ttl=&lt;span&gt;49&lt;/span&gt;Â time=&lt;span&gt;30.6&lt;/span&gt;Â ms&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çŸ¥é“è¯·æ±‚&lt;code&gt;baidu.com&lt;/code&gt;æ—¶ä¼šå»è®¿é—®&lt;code&gt;39.156.66.10&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;äºæ˜¯ç”¨ä¸‹é¢çš„&lt;code&gt;tcpdump&lt;/code&gt;å‘½ä»¤è¿›è¡ŒæŠ“åŒ…ï¼Œå¤§æ¦‚çš„æ„æ€æ˜¯æŠ“&lt;code&gt;eth0&lt;/code&gt;ç½‘å¡ä¸”&lt;code&gt;ip&lt;/code&gt;ä¸º&lt;code&gt;39.156.66.10&lt;/code&gt;çš„ç½‘ç»œåŒ…ï¼Œä¿å­˜åˆ°&lt;code&gt;baidu.pcap&lt;/code&gt;æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â tcpdumpÂ &lt;span&gt;-i&lt;/span&gt;Â eth0Â hostÂ &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;Â &lt;span&gt;-w&lt;/span&gt;Â baidu.pcap&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€&lt;code&gt;baidu.com&lt;/code&gt;ç½‘é¡µã€‚æˆ–è€…åœ¨å¦å¤–ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œç›´æ¥ç”¨&lt;code&gt;curl&lt;/code&gt;å‘½ä»¤æ¥æ¨¡æ‹Ÿä¸‹ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â &lt;span&gt;curl&lt;/span&gt;Â &lt;span&gt;&#x27;https://baidu.com&#x27;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŒ‰ç†è¯´ï¼Œ&lt;strong&gt;è®¿é—®baidu.comçš„æ•°æ®åŒ…è‚¯å®šå·²ç»æŠ“ä¸‹æ¥äº†&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;ç„¶ååœæ­¢æŠ“åŒ…ã€‚&lt;/p&gt;&lt;p&gt;å†ç”¨&lt;code&gt;wireshark&lt;/code&gt;æ‰“å¼€&lt;code&gt;baidu.pcap&lt;/code&gt;æ–‡ä»¶ï¼Œåœ¨è¿‡æ»¤é‚£ä¸€æ é‡Œè¾“å…¥&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;æ­¤æ—¶å‘ç°ï¼Œä¸€æ— æ‰€è·ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22014925373134328&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCr3fo1ukjOibqXStCMs21EqsCvzzH7kB9CoKDwgLZl5IK8XKhahxuibGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1608&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;åœ¨wiresharkä¸­æœç´¢baiduçš„åŒ…ï¼Œå‘ç°ä¸€æ— æ‰€è·&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ˜¯ä¸ºå•¥ï¼Ÿ&lt;/p&gt;&lt;p&gt;åˆ°è¿™é‡Œï¼Œæœ‰ç»éªŒçš„å°ä¼™ä¼´ï¼Œå…¶å®å·²ç»çŸ¥é“é—®é¢˜å‡ºåœ¨å“ªé‡Œäº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h2&gt;ä¸ºä»€ä¹ˆæ²¡èƒ½æŠ“åˆ°åŒ…&lt;/h2&gt;&lt;p&gt;è¿™å…¶å®æ˜¯å› ä¸ºä»–è®¿é—®çš„æ˜¯HTTPSåè®®çš„baidu.comã€‚HTTPåè®®é‡Œçš„Hostå’Œå®é™…å‘é€çš„request bodyéƒ½ä¼šè¢«åŠ å¯†ã€‚&lt;/p&gt;&lt;p&gt;æ­£å› ä¸ºè¢«åŠ å¯†äº†ï¼Œæ‰€ä»¥æ²¡åŠæ³•é€šè¿‡&lt;code&gt;http.host&lt;/code&gt;è¿›è¡Œè¿‡æ»¤ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯ã€‚&lt;/p&gt;&lt;p&gt;è™½ç„¶åŠ å¯†äº†ï¼Œå¦‚æœæƒ³ç­›é€‰è¿˜æ˜¯å¯ä»¥ç­›çš„ã€‚&lt;/p&gt;&lt;p&gt;HTTPSæ¡æ‰‹ä¸­çš„Client Helloé˜¶æ®µï¼Œé‡Œé¢æœ‰ä¸ªæ‰©å±•&lt;code&gt;server_name&lt;/code&gt;ï¼Œä¼šè®°å½•ä½ æƒ³è®¿é—®çš„æ˜¯å“ªä¸ªç½‘ç«™ï¼Œé€šè¿‡ä¸‹é¢çš„ç­›é€‰æ¡ä»¶å¯ä»¥å°†å®ƒè¿‡æ»¤å‡ºæ¥ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;Â Â tls.handshake.extensions_server_nameÂ ==Â &lt;span&gt;&quot;baidu.com&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9059334298118669&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCggGplcUjOW6NAIv3untzR7kM4T1U5ggxia4Qkh5WMj5Agd4xWd1CrHQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1382&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;é€šè¿‡tlsçš„æ‰©å±•server_nameå¯ä»¥æœç´¢åˆ°baiduçš„åŒ…&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶é€‰ä¸­å…¶ä¸­ä¸€ä¸ªåŒ…ï¼Œç‚¹å‡»å³é”®ï¼Œé€‰ä¸­&lt;code&gt;Follow-TCP Stream&lt;/code&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4402224281742354&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCnVkRwxOibusnLUe2DBZsyeqRIicoue0vPYyNuibVvQEEqsYNmZJZ5JR9w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2158&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;å³é”®æ‰¾åˆ°tcp æµ&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è¿™ä¸ªTCPè¿æ¥çš„å…¶ä»–ç›¸å…³æŠ¥æ–‡å…¨éƒ½èƒ½è¢«å±•ç¤ºå‡ºæ¥ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6685689201053556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCibXOKeaPF230PzQIfuJianK8JVJ9OwMY81zZicoicKOICz6nGZUo39Ra9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2278&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;HTTPSæŠ“åŒ…&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ä»æˆªå›¾å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œé¢å®Œæ•´ç»å†äº†&lt;strong&gt;TCPæ¡æ‰‹&lt;/strong&gt;å’Œ&lt;strong&gt;TLSåŠ å¯†æ¡æ‰‹&lt;/strong&gt;æµç¨‹ï¼Œä¹‹åå°±æ˜¯&lt;strong&gt;ä¸¤æ®µåŠ å¯†ä¿¡æ¯&lt;/strong&gt;å’Œ&lt;strong&gt;TCPæŒ¥æ‰‹æµç¨‹&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥çœ‹å‡º18å·å’Œ20å·åŒ…ï¼Œä¸€ä¸ªæ˜¯ä»ç«¯å£56028å‘åˆ°443ï¼Œä¸€ä¸ªæ˜¯443åˆ°56028çš„å›åŒ…ã€‚&lt;/p&gt;&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œåƒ&lt;code&gt;56028&lt;/code&gt;è¿™ç§æ¯”è¾ƒå¤§ä¸”æ²¡å•¥è§„å¾‹çš„æ•°å­—ï¼Œéƒ½æ˜¯&lt;strong&gt;å®¢æˆ·ç«¯éšæœºç”Ÿæˆçš„ç«¯å£å·&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;è€Œ&lt;code&gt;443&lt;/code&gt;ï¼Œåˆ™æ˜¯HTTPSçš„æœåŠ¡å™¨ç«¯å£å·ã€‚&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;HTTPç”¨çš„æ˜¯80ç«¯å£ï¼Œå¦‚æœæ­¤æ—¶å¯¹ç€80ç«¯å£æŠ“åŒ…ï¼Œä¹Ÿä¼šæŠ“ä¸åˆ°æ•°æ®ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;ç²—ç•¥åˆ¤æ–­ï¼Œ18å·å’Œ20å·åŒ…åˆ†åˆ«æ˜¯å®¢æˆ·ç«¯è¯·æ±‚&lt;code&gt;baidu.com&lt;/code&gt;çš„è¯·æ±‚åŒ…å’Œå“åº”åŒ…ã€‚&lt;/p&gt;&lt;p&gt;ç‚¹è¿›å»çœ‹ä¼šå‘ç°&lt;strong&gt;URLå’Œbodyéƒ½è¢«åŠ å¯†äº†&lt;/strong&gt;ï¼Œä¸€æ— æ‰€è·ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ã€‚æœ‰æ²¡æœ‰åŠæ³•è§£å¯†é‡Œé¢çš„æ•°æ®å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;æœ‰åŠæ³•ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹æ€ä¹ˆåšã€‚&lt;/p&gt;&lt;h2&gt;è§£å¯†æ•°æ®åŒ…&lt;/h2&gt;&lt;p&gt;è¿˜æ˜¯å…ˆæ‰§è¡ŒtcpdumpæŠ“åŒ…&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â tcpdumpÂ &lt;span&gt;-i&lt;/span&gt;Â eth0Â hostÂ &lt;span&gt;39.156&lt;/span&gt;.&lt;span&gt;66.10&lt;/span&gt;Â &lt;span&gt;-w&lt;/span&gt;Â baidu.pcap&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååœ¨å¦å¤–ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ä¸‹æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œ&lt;strong&gt;ç›®çš„æ˜¯å°†åŠ å¯†çš„keyå¯¼å‡ºï¼Œå¹¶ç»™å‡ºå¯¹åº”çš„å¯¼å‡ºåœ°å€&lt;/strong&gt;æ˜¯&lt;code&gt;/Users/xiaobaidebug/ssl.key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â exportÂ SSLKEYLOGFILE=/Users/xiaobaidebug/ssl.key&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååœ¨åŒä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ä¸‹ï¼Œç»§ç»­æ‰§è¡Œcurlå‘½ä»¤æˆ–ç”¨å‘½ä»¤è¡Œæ‰“å¼€chromeæµè§ˆå™¨ã€‚&lt;strong&gt;ç›®çš„æ˜¯ä¸ºäº†è®©curlæˆ–chromeç»§æ‰¿è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;Â &lt;span&gt;curl&lt;/span&gt;Â &lt;span&gt;&#x27;https://baidu.com&#x27;&lt;/span&gt;&lt;br/&gt;æˆ–è€…&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;Â openÂ &lt;span&gt;-a&lt;/span&gt;Â Google\Â ChromeÂ &lt;span&gt;#åœ¨macé‡Œæ‰“å¼€chromeæµè§ˆå™¨&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ­¤æ—¶ä¼šçœ‹åˆ°åœ¨&lt;code&gt;/Users/xiaobaidebug/&lt;/code&gt;ä¸‹ä¼šå¤šäº†ä¸€ä¸ª&lt;code&gt;ssl.key&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ—¶å€™è·Ÿç€ä¸‹é¢çš„æ“ä½œä¿®æ”¹&lt;code&gt;wireshark&lt;/code&gt;çš„é…ç½®é¡¹ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6606741573033708&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwC27aib4vvXUvPuLkkqSuRqzBEKjjU6ibbwqfibc0e1KD4atHhvdmFLicxvg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;890&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;æ‰“å¼€wiresharkçš„é…ç½®é¡¹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ‰¾åˆ°Protocolsä¹‹åï¼Œä½¿åŠ²å¾€ä¸‹ç¿»ï¼Œæ‰¾åˆ°&lt;code&gt;TLS&lt;/code&gt;é‚£ä¸€é¡¹ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4778523489932886&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCY1AOFH9El2xntd1s7qfQsTlVASdJDwVHORL3nic04H68oiaD3pfQibsaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1490&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;åœ¨é…ç½®é¡¹ä¸­æ‰¾åˆ°Protocols&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å°†å¯¼å‡ºçš„&lt;code&gt;ssl.key&lt;/code&gt;æ–‡ä»¶è·¯å¾„è¾“å…¥åˆ°è¿™é‡Œå¤´ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5875139353400223&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCQhUsUMicGdmK4kQ6tz8GOgp7KdyGIdVxQg3QmhW0j3iaaH6w7Sz7Y2UQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1794&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;åœ¨Protocolsä¸­æ‰¾åˆ°TLSé‚£ä¸€æ &lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ç‚¹å‡»ç¡®å®šåï¼Œå°±èƒ½çœ‹åˆ°&lt;strong&gt;18å·å’Œ20å·æ•°æ®åŒ…å·²ç»è¢«è§£å¯†&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6542713567839196&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwClnA4gzqhPtiaVkMssKkCMvkEa1WVWJGbQhSpUK6AibyUly3WchXJOoRQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1990&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;è§£å¯†åçš„æ•°æ®åŒ…å†…å®¹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶å†ç”¨&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;ï¼Œå°±èƒ½è¿‡æ»¤å‡ºæ•°æ®äº†ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.22961104140526975&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCUoQ8olJPPMWUEep0TpTFHLlND4xgCiaibDs9k1CmGqrzRick0UBOPYmgg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1594&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;è§£å¯†åçš„æ•°æ®åŒ…ä¸­å¯ä»¥è¿‡æ»¤å‡ºbaiduçš„æ•°æ®åŒ…&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;åˆ°è¿™é‡Œï¼Œå…¶å®&lt;strong&gt;çœ‹ä¸äº†æ•°æ®åŒ…çš„é—®é¢˜&lt;/strong&gt;å°±è§£å†³äº†ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯ï¼Œæ–°çš„é—®é¢˜åˆæ¥äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ssl.keyæ–‡ä»¶æ˜¯ä¸ªå•¥ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;è¿™å°±è¦ä»HTTPSçš„åŠ å¯†åŸç†è¯´èµ·äº†ã€‚&lt;/p&gt;&lt;h3&gt;HTTPSæ¡æ‰‹è¿‡ç¨‹&lt;/h3&gt;&lt;p&gt;HTTPSçš„æ¡æ‰‹è¿‡ç¨‹æ¯”è¾ƒç¹çï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;å…ˆæ˜¯å»ºç«‹TCPè¿æ¥ï¼Œæ¯•ç«ŸHTTPæ˜¯åŸºäºTCPçš„åº”ç”¨å±‚åè®®ã€‚&lt;/p&gt;&lt;p&gt;åœ¨TCPæˆåŠŸå»ºç«‹å®Œåè®®åï¼Œå°±å¯ä»¥å¼€å§‹è¿›å…¥HTTPSé˜¶æ®µã€‚&lt;/p&gt;&lt;p&gt;HTTPSå¯ä»¥ç”¨TLSæˆ–è€…SSLå•¥çš„è¿›è¡ŒåŠ å¯†ï¼Œä¸‹é¢æˆ‘ä»¬ä»¥&lt;code&gt;TLS1.2&lt;/code&gt;ä¸ºä¾‹ã€‚&lt;/p&gt;&lt;p&gt;æ€»çš„æ¥è¯´ã€‚æ•´ä¸ªåŠ å¯†æµç¨‹å…¶å®åˆ†ä¸º&lt;strong&gt;ä¸¤é˜¶æ®µ&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€é˜¶æ®µ&lt;/strong&gt;æ˜¯TLSå››æ¬¡æ¡æ‰‹ï¼Œè¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯åˆ©ç”¨&lt;strong&gt;éå¯¹ç§°åŠ å¯†&lt;/strong&gt;çš„ç‰¹æ€§å„ç§äº¤æ¢ä¿¡æ¯ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ª&quot;ä¼šè¯ç§˜é’¥&quot;ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬äºŒé˜¶æ®µ&lt;/strong&gt;æ˜¯åˆ™æ˜¯åœ¨ç¬¬ä¸€é˜¶æ®µçš„&quot;ä¼šè¯ç§˜é’¥&quot;åŸºç¡€ä¸Šï¼Œè¿›è¡Œ&lt;strong&gt;å¯¹ç§°åŠ å¯†&lt;/strong&gt;é€šä¿¡ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCbaBD1Rgd5WGSPFKxwm3MjIGMCbXEiczk8cib8j7o0Jktl3kgWB2OwfjA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;4800&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;TLSå››æ¬¡æ¡æ‰‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ç¬¬ä¸€é˜¶æ®µçš„TLSå››æ¬¡æ¡æ‰‹æ˜¯æ€ä¹ˆæ ·çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬äºŒæ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬ä¸‰æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;â€¢Â &lt;code&gt;Client Key Exchange&lt;/code&gt;: æ­¤æ—¶å®¢æˆ·ç«¯å†ç”Ÿæˆ&lt;strong&gt;ä¸€ä¸ªéšæœºæ•°&lt;/strong&gt;ï¼Œå«Â &lt;code&gt;pre_master_keyÂ &lt;/code&gt;ã€‚ä»ç¬¬äºŒæ¬¡æ¡æ‰‹çš„&lt;strong&gt;æœåŠ¡å™¨è¯ä¹¦&lt;/strong&gt;é‡Œå–å‡ºæœåŠ¡å™¨å…¬é’¥ï¼Œç”¨å…¬é’¥åŠ å¯†Â &lt;code&gt;pre_master_key&lt;/code&gt;ï¼Œå‘ç»™æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â &lt;code&gt;Change Cipher Spec&lt;/code&gt;: å®¢æˆ·ç«¯è¿™è¾¹&lt;strong&gt;å·²ç»æ‹¥æœ‰ä¸‰ä¸ªéšæœºæ•°&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯éšæœºæ•°ï¼ŒæœåŠ¡å™¨éšæœºæ•°å’Œpre_master_keyï¼Œç”¨è¿™ä¸‰ä¸ªéšæœºæ•°è¿›è¡Œè®¡ç®—å¾—åˆ°ä¸€ä¸ª&quot;&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;&quot;ã€‚æ­¤æ—¶å®¢æˆ·ç«¯é€šçŸ¥æœåŠ¡ç«¯ï¼Œåé¢ä¼šç”¨è¿™ä¸ªä¼šè¯ç§˜é’¥è¿›è¡Œå¯¹ç§°æœºå¯†é€šä¿¡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â &lt;code&gt;Encrypted Handshake Message&lt;/code&gt;ï¼šå®¢æˆ·ç«¯ä¼šæŠŠè¿„ä»Šä¸ºæ­¢çš„é€šä¿¡æ•°æ®å†…å®¹ç”Ÿæˆä¸€ä¸ªæ‘˜è¦ï¼Œç”¨&quot;&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;&quot;åŠ å¯†ä¸€ä¸‹ï¼Œå‘ç»™æœåŠ¡å™¨åšæ ¡éªŒï¼Œæ­¤æ—¶å®¢æˆ·ç«¯è¿™è¾¹çš„æ¡æ‰‹æµç¨‹å°±ç»“æŸäº†ï¼Œå› æ­¤ä¹Ÿå«&lt;strong&gt;FinishedæŠ¥æ–‡&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;ç¬¬å››æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;â€¢Â &lt;code&gt;Change Cipher Spec&lt;/code&gt;ï¼šæœåŠ¡ç«¯æ­¤æ—¶æ‹¿åˆ°å®¢æˆ·ç«¯ä¼ æ¥çš„Â &lt;code&gt;pre_master_key&lt;/code&gt;ï¼ˆè™½ç„¶è¢«æœåŠ¡å™¨å…¬é’¥åŠ å¯†è¿‡ï¼Œä½†æœåŠ¡å™¨æœ‰ç§é’¥ï¼Œèƒ½è§£å¯†è·å¾—åŸæ–‡ï¼‰ï¼Œé›†é½ä¸‰ä¸ªéšæœºæ•°ï¼Œè·Ÿå®¢æˆ·ç«¯ä¸€æ ·ï¼Œç”¨è¿™ä¸‰ä¸ªéšæœºæ•°é€šè¿‡åŒæ ·çš„ç®—æ³•è·å¾—ä¸€ä¸ª&quot;&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;&quot;ã€‚æ­¤æ—¶æœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œåé¢ä¼šç”¨è¿™ä¸ª&quot;ä¼šè¯ç§˜é’¥&quot;è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â &lt;code&gt;Encrypted Handshake Message&lt;/code&gt;ï¼šè·Ÿå®¢æˆ·ç«¯çš„æ“ä½œä¸€æ ·ï¼Œå°†è¿„ä»Šä¸ºæ­¢çš„é€šä¿¡æ•°æ®å†…å®¹ç”Ÿæˆä¸€ä¸ªæ‘˜è¦ï¼Œç”¨&quot;&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;&quot;åŠ å¯†ä¸€ä¸‹ï¼Œå‘ç»™å®¢æˆ·ç«¯åšæ ¡éªŒï¼Œåˆ°è¿™é‡Œï¼ŒæœåŠ¡ç«¯çš„æ¡æ‰‹æµç¨‹ä¹Ÿç»“æŸäº†ï¼Œå› æ­¤è¿™ä¹Ÿå«&lt;strong&gt;FinishedæŠ¥æ–‡&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å››æ¬¡æ¡æ‰‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ€åéƒ½æ‹¥æœ‰&lt;strong&gt;ä¸‰ä¸ªéšæœºæ•°&lt;/strong&gt;ï¼Œä»–ä»¬å¾ˆå…³é”®ï¼Œæˆ‘ç‰¹åœ°åŠ ç²—äº†è¡¨ç¤ºã€‚&lt;/p&gt;&lt;p&gt;ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œäº§ç”Ÿçš„å®¢æˆ·ç«¯éšæœºæ•°ï¼Œå«&lt;code&gt;client random&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šäº§ç”Ÿä¸€ä¸ªæœåŠ¡å™¨éšæœºæ•°ï¼Œå«&lt;code&gt;server random&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼Œå®¢æˆ·ç«¯è¿˜ä¼šäº§ç”Ÿä¸€ä¸ªéšæœºæ•°ï¼Œå«&lt;code&gt;pre_master_key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸‰ä¸ªéšæœºæ•°å…±åŒæ„æˆæœ€ç»ˆçš„&lt;strong&gt;å¯¹ç§°åŠ å¯†ç§˜é’¥&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„&quot;&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;&quot;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2777777777777778&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCibY2A20oUu6XuKFnWvHYqcia7XKxb8iaNRzsE7Lb7uv2VJCX6p4d1PtSw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2700&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;ä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆå¯¹ç§°ç§˜é’¥&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ä½ å¯ä»¥ç®€å•çš„è®¤ä¸ºï¼Œ&lt;strong&gt;åªè¦çŸ¥é“è¿™ä¸‰ä¸ªéšæœºæ•°ï¼Œä½ å°±èƒ½ç ´è§£HTTPSé€šä¿¡ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;è€Œè¿™ä¸‰ä¸ªéšæœºæ•°ä¸­ï¼Œ&lt;code&gt;client random&lt;/code&gt;Â å’ŒÂ &lt;code&gt;server random&lt;/code&gt;Â éƒ½æ˜¯&lt;strong&gt;æ˜æ–‡&lt;/strong&gt;çš„ï¼Œè°éƒ½èƒ½çŸ¥é“ã€‚&lt;strong&gt;è€Œ&lt;code&gt;pre_master_key&lt;/code&gt;å´ä¸è¡Œï¼Œå®ƒè¢«æœåŠ¡å™¨çš„å…¬é’¥åŠ å¯†è¿‡ï¼Œåªæœ‰å®¢æˆ·ç«¯è‡ªå·±ï¼Œå’Œæ‹¥æœ‰å¯¹åº”æœåŠ¡å™¨ç§é’¥çš„äººèƒ½çŸ¥é“ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æ‰€ä»¥é—®é¢˜å°±å˜æˆäº†ï¼Œ&lt;strong&gt;æ€ä¹ˆæ‰èƒ½å¾—åˆ°è¿™ä¸ª&lt;code&gt;pre_master_key&lt;/code&gt;ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;h2&gt;æ€ä¹ˆå¾—åˆ°pre_master_key&lt;/h2&gt;&lt;p&gt;æœåŠ¡å™¨ç§é’¥ä¸æ˜¯è°éƒ½èƒ½æ‹¿åˆ°çš„ï¼Œæ‰€ä»¥é—®é¢˜å°±å˜æˆäº†ï¼Œ&lt;strong&gt;æœ‰æ²¡æœ‰åŠæ³•ä»å®¢æˆ·ç«¯é‚£æ‹¿åˆ°è¿™ä¸ª&lt;code&gt;pre_master_key&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;æœ‰çš„ã€‚&lt;/p&gt;&lt;p&gt;å®¢æˆ·ç«¯åœ¨ä½¿ç”¨HTTPSä¸æœåŠ¡ç«¯è¿›è¡Œæ•°æ®ä¼ è¾“æ—¶ï¼Œæ˜¯éœ€è¦å…ˆåŸºäºTCPå»ºç«‹HTTPè¿æ¥ï¼Œç„¶åå†è°ƒç”¨å®¢æˆ·ç«¯ä¾§çš„TLSåº“ï¼ˆOpenSSLã€NSSï¼‰ã€‚è§¦å‘TLSå››æ¬¡æ¡æ‰‹ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ—¶å€™å¦‚æœåŠ å…¥ç¯å¢ƒå˜é‡SSLKEYLOGFILEå°±å¯ä»¥å¹²é¢„TLSåº“çš„è¡Œä¸ºï¼Œè®©å®ƒè¾“å‡ºä¸€ä»½å«æœ‰&lt;code&gt;pre_master_key&lt;/code&gt;çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬ä¸Šé¢æåˆ°çš„&lt;code&gt;/Users/xiaobaidebug/ssl.key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.53&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwC48iahhIISwRmdLbZsMeoek4FHkZomIIdnozia5EMsVh2unjNpyEkM1Sg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;3000&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;å°†ç¯å¢ƒå˜é‡æ³¨å…¥åˆ°curlå’Œchromeä¸­&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;ä½†æ˜¯ï¼Œè™½ç„¶TLSåº“æ”¯æŒå¯¼å‡ºkeyæ–‡ä»¶ã€‚ä½†å‰æä¹Ÿæ˜¯ï¼Œä¸Šå±‚çš„åº”ç”¨ç¨‹åºåœ¨è°ƒç”¨TLSåº“çš„æ—¶å€™ï¼Œæ”¯æŒé€šè¿‡&lt;code&gt;SSLKEYLOGFILE&lt;/code&gt;ç¯å¢ƒè§¦å‘TLSåº“å¯¼å‡ºæ–‡ä»¶ã€‚å®é™…ä¸Šï¼Œä¹Ÿ&lt;strong&gt;å¹¶ä¸æ˜¯æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½æ”¯æŒå°†SSLKEYLOGFILE&lt;/strong&gt;ã€‚åªæ˜¯ç›®å‰å¸¸è§çš„curlå’Œchromeæµè§ˆå™¨éƒ½æ˜¯æ”¯æŒçš„ã€‚&lt;/p&gt;&lt;h2&gt;SSLKEYLOGFILEæ–‡ä»¶å†…å®¹&lt;/h2&gt;&lt;p&gt;å†å›è¿‡å¤´æ¥çœ‹&lt;code&gt;ssl.key&lt;/code&gt;æ–‡ä»¶é‡Œçš„å†…å®¹ã€‚&lt;/p&gt;&lt;pre&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;#Â SSL/TLSÂ secretsÂ logÂ file,Â generatedÂ byÂ NSS&lt;/span&gt;&lt;br/&gt;CLIENT_RANDOMÂ &lt;span&gt;5709&lt;/span&gt;aef8ba36a8eeac72bd6f970a74f7533172c52be41b200ca9b91354bd662bÂ &lt;span&gt;09&lt;/span&gt;d156a5e6c0d246549f6265e73bda72f0d6ee81032eaaa0bac9bea362090800174e0effc93b93c2ffa50cd8a715b0f0&lt;br/&gt;CLIENT_RANDOMÂ &lt;span&gt;57&lt;/span&gt;d269386549a4cec7f91158d85ca1376a060ef5a6c2ace04658fe88aec48776Â &lt;span&gt;48&lt;/span&gt;c16429d362bea157719da5641e2f3f13b0b3fee2695ef2b7cdc71c61958d22414e599c676ca96bbdb30eca49eb488a&lt;br/&gt;CLIENT_RANDOMÂ &lt;span&gt;5&lt;/span&gt;fca0f2835cbb5e248d7b3e75180b2b3aff000929e33e5bacf5f5a4bff63bbe5Â &lt;span&gt;424&lt;/span&gt;e1fcfff35e76d5bf88f21d6c361ee7a9d32cb8f2c60649135fd9b66d569d8c4add6c9d521e148c63977b7a95e8fe8&lt;br/&gt;CLIENT_RANDOMÂ be610cb1053e6f3a01aa3b88bc9e8c77a708ae4b0f953b2063ca5f925d673140Â c26e3cf83513a830af3d3401241e1bc4fdda187f98ad5ef9e14cae71b0ddec85812a81d793d6ec934b9dcdefa84bdcf3&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™é‡Œæœ‰ä¸‰åˆ—ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€åˆ—&lt;/strong&gt;æ˜¯CLIENT_RANDOMï¼Œæ„æ€æ˜¯æ¥ä¸‹æ¥çš„&lt;strong&gt;ç¬¬äºŒåˆ—&lt;/strong&gt;å°±æ˜¯&lt;strong&gt;å®¢æˆ·ç«¯éšæœºæ•°&lt;/strong&gt;ï¼Œå†æ¥ä¸‹æ¥çš„&lt;strong&gt;ç¬¬ä¸‰åˆ—&lt;/strong&gt;åˆ™æ˜¯&lt;code&gt;pre_master_key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯é—®é¢˜åˆæ¥äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;è¿™ä¹ˆå¤šè¡Œï¼Œwiresharkæ€ä¹ˆçŸ¥é“ç”¨å“ªè¡Œçš„pre_master_keyå‘¢ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;wireshark&lt;/code&gt;æ˜¯å¯ä»¥è·å¾—æ•°æ®æŠ¥æ–‡ä¸Šçš„&lt;code&gt;client random&lt;/code&gt;çš„ã€‚&lt;/p&gt;&lt;p&gt;æ¯”å¦‚ä¸‹å›¾è¿™æ ·ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6851106639839034&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCOYzB4M6qFotOibQGxsMOa6rQMRR90ic1hDvDmvkv1QuM4PwABMDsvG2Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1988&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;Client Hello é‡Œçš„å®¢æˆ·ç«¯éšæœºæ•°&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢çš„å®¢æˆ·ç«¯éšæœºæ•°æ˜¯ä»¥Â &lt;code&gt;&quot;bff63bbe5&quot;&lt;/code&gt;ç»“å°¾çš„ã€‚&lt;/p&gt;&lt;p&gt;åŒæ ·ï¼Œè¿˜èƒ½åœ¨æ•°æ®æŠ¥æ–‡é‡Œæ‹¿åˆ°&lt;strong&gt;server random&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.7634989200863931&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCTRrKwUrAlNcWd39GBKYMlc6mzkU61dUEnCsvSVvcY52ETWrsiaKFLIQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1852&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;æ‰¾åˆ°server random&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ­¤æ—¶å°†&lt;code&gt;client random&lt;/code&gt;æ”¾åˆ°ssl.keyçš„ç¬¬äºŒåˆ—é‡ŒæŒ¨ä¸ªå»åšåŒ¹é…ã€‚&lt;/p&gt;&lt;p&gt;å°±èƒ½æ‰¾åˆ°å¯¹åº”çš„é‚£ä¸€è¡Œè®°å½•ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15858585858585858&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/AnAgeMhDIialv6kg0JthaZDYINaceCvwCS1Od4bgLkMv2XTotWCL6R0LiabBpvYSTF7tLVBO2KicOcoyX6rRBN2wg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1980&quot; title=&quot;null&quot;/&gt;&lt;figcaption&gt;ssl.keyé‡Œçš„æ•°æ®&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æ³¨æ„ç¬¬äºŒåˆ—çš„é‚£ä¸²å­—ç¬¦ä¸²ï¼Œä¹Ÿæ˜¯ä»¥Â &lt;code&gt;&quot;bff63bbe5&quot;&lt;/code&gt;ç»“å°¾çš„ï¼Œå®ƒå…¶å®å°±æ˜¯å‰é¢æåˆ°çš„&lt;code&gt;client random&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;å†å–å‡ºè¿™ä¸€è¡Œçš„&lt;strong&gt;ç¬¬ä¸‰åˆ—&lt;/strong&gt;æ•°æ®ï¼Œå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„&lt;code&gt;pre_master_key&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆè¿™æ—¶å€™&lt;code&gt;wireshark&lt;/code&gt;å°±é›†é½äº†ä¸‰ä¸ªéšæœºæ•°ï¼Œæ­¤æ—¶å°±å¯ä»¥è®¡ç®—å¾—åˆ°&lt;strong&gt;ä¼šè¯ç§˜é’¥&lt;/strong&gt;ï¼Œé€šè¿‡å®ƒå¯¹æ•°æ®è¿›è¡Œè§£å¯†äº†ã€‚&lt;/p&gt;&lt;p&gt;åè¿‡æ¥ï¼Œæ­£å› ä¸ºéœ€è¦å®¢æˆ·ç«¯éšæœºæ•°ï¼Œæ‰èƒ½å®šä½åˆ°&lt;code&gt;ssl.key&lt;/code&gt;æ–‡ä»¶é‡Œå¯¹åº”çš„&lt;code&gt;pre_master_key&lt;/code&gt;æ˜¯å“ªä¸€ä¸ªã€‚è€Œåªæœ‰TLSç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼ˆ&lt;code&gt;client hello&lt;/code&gt;ï¼‰çš„æ—¶å€™æ‰ä¼šæœ‰è¿™ä¸ªéšæœºæ•°ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³ç”¨è§£å¯†HTTPSåŒ…ï¼Œå°±å¿…é¡»å°†TLSå››æ¬¡æ¡æ‰‹èƒ½æŠ“é½ï¼Œæ‰èƒ½è¿›è¡Œè§£å¯†ã€‚å¦‚æœè¿æ¥æ—©å·²ç»å»ºç«‹äº†ï¼Œæ•°æ®éƒ½æ¥å›ä¼ å¥½åŠå¤©äº†ï¼Œè¿™æ—¶å€™ä½ å†å»æŠ“åŒ…ï¼Œæ˜¯æ²¡åŠæ³•è§£å¯†çš„ã€‚&lt;/p&gt;&lt;h2&gt;æ€»ç»“&lt;/h2&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;â€¢Â æ–‡ç« å¼€å¤´é€šè¿‡æŠ“åŒ…baiduçš„æ•°æ®åŒ…ï¼Œå±•ç¤ºäº†ç”¨wiresharkæŠ“åŒ…çš„ç®€å•æ“ä½œæµç¨‹ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â HTTPSä¼šå¯¹HTTPçš„URLå’ŒRequest Bodyéƒ½è¿›è¡ŒåŠ å¯†ï¼Œå› æ­¤ç›´æ¥åœ¨&lt;code&gt;filteræ &lt;/code&gt;è¿›è¡Œè¿‡æ»¤&lt;code&gt;http.host == &quot;baidu.com&quot;&lt;/code&gt;ä¼šä¸€æ— æ‰€è·ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢ HTTPSæ¡æ‰‹çš„è¿‡ç¨‹ä¸­ä¼šå…ˆé€šè¿‡éå¯¹ç§°æœºå¯†å»äº¤æ¢å„ç§ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬3ä¸ªéšæœºæ•°ï¼Œå†é€šè¿‡è¿™ä¸‰ä¸ªéšæœºæ•°å»ç”Ÿæˆå¯¹ç§°æœºå¯†çš„ä¼šè¯ç§˜é’¥ï¼Œåç»­ä½¿ç”¨è¿™ä¸ªä¼šè¯ç§˜é’¥å»è¿›è¡Œå¯¹ç§°åŠ å¯†é€šä¿¡ã€‚å¦‚æœèƒ½è·å¾—è¿™ä¸‰ä¸ªéšæœºæ•°å°±èƒ½è§£å¯†HTTPSçš„åŠ å¯†æ•°æ®åŒ…ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â ä¸‰ä¸ªéšæœºæ•°ï¼Œåˆ†åˆ«æ˜¯å®¢æˆ·ç«¯éšæœºæ•°ï¼ˆclient randomï¼‰ï¼ŒæœåŠ¡ç«¯éšæœºæ•°ï¼ˆserver randomï¼‰ä»¥åŠpre_master_keyã€‚å‰ä¸¤ä¸ªï¼Œæ˜¯æ˜æ–‡ï¼Œç¬¬ä¸‰ä¸ªæ˜¯è¢«æœåŠ¡å™¨å…¬é’¥åŠ å¯†è¿‡çš„ï¼Œåœ¨å®¢æˆ·ç«¯ä¾§éœ€è¦é€šè¿‡SSLKEYLOGFILEå»å¯¼å‡ºã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;â€¢Â é€šè¿‡è®¾ç½®SSLKEYLOGFILEç¯å¢ƒå˜é‡ï¼Œå†è®©curlæˆ–chromeä¼šè¯·æ±‚HTTPSåŸŸåï¼Œä¼šè®©å®ƒä»¬åœ¨è°ƒç”¨TLSåº“çš„åŒæ—¶å¯¼å‡ºå¯¹åº”çš„sslkeyæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é‡ŒåŒ…å«äº†ä¸‰åˆ—ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ç¬¬äºŒåˆ—çš„client randomä¿¡æ¯ä»¥åŠç¬¬ä¸‰åˆ—çš„pre_master_keyã€‚ç¬¬äºŒåˆ—client randomç”¨äºå®šä½ï¼Œç¬¬ä¸‰åˆ—pre_master_keyç”¨äºè§£å¯†ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;&lt;p&gt;æå®¢æ—¶é—´ -ã€Šç½‘ç»œæ’æŸ¥æ¡ˆä¾‹è¯¾ã€‹&lt;/p&gt;&lt;h4/&gt;&lt;section&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-weui-theme=&quot;light&quot; data-id=&quot;MzkwODE5ODM0Ng==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWdFLJg0sAOqwHB1mb24icMADUgxm1qZQft5aN3H37NAmQnOvpGB7J9JVHxC6NSiacxbBP1DYdhIAeyA/0?wx_fmt=png&quot; data-nickname=&quot;ä¸‰åˆ†æ¶&quot; data-alias=&quot;Fighter3FullStack&quot; data-signature=&quot;CSDNåšå®¢ä¸“å®¶ã€ä¼˜è´¨åˆ›ä½œè€…ï¼Œåä¸ºäº‘äº‘äº«ä¸“å®¶ï¼›è‚è¿‡å¤–åŒ…ã€æ··è¿‡å›½ä¼ï¼Œç›®å‰åœ¨ä¸€å®¶è·¨å¢ƒç”µå•†æ¬ç –ï¼›å†™è¿‡è¯—ï¼Œæ‰“è¿‡æ‹³ï¼Œä½›ç³»å°ç å†œã€‚è®¤çœŸè®²æŠ€æœ¯ï¼Œéšæ€§ä¾ƒäººç”Ÿï¼Œå…³æ³¨æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·èµ°çš„æ›´è¿œã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>