<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>1b2100a495e521b58c55923f993ebddc</guid>
<title>Nettyã€Kafkaä¸­çš„é›¶æ‹·è´æŠ€æœ¯åˆ°åº•æœ‰å¤šç‰›?</title>
<link>https://toutiao.io/k/ussdz4q</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;strong&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5ODI5NDkxMw==&amp;amp;mid=2247611420&amp;amp;idx=1&amp;amp;sn=9efd0411ecd0072eeb09295a102e55b8&amp;amp;chksm=ecab7ff2dbdcf6e46831c02e8e8e235d4cb1eaf4ee57611fa17b484b22e45f413e2abf6d7ea1&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è…¾è®¯å‡ºæ‰‹äº†ï¼Œä½ çš„ç¾ç¾èŠå¤©è®°å½•å‡‰äº†ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;/&gt;ğŸ‘‡æ¨èå¤§å®¶å…³æ³¨ä¸€ä¸ªå…¬ä¼—å·ğŸ‘‡&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;Mzg2MTY2OTU3NA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/aCibia10yFyiacibGmLU5Wv21kO1xSlnXcf7YJqpicVWZibzHpVr2xibkPbwCwbtbPReiaxf4uAZ1b9rO2PHEc2sqJW2bQ/0?wx_fmt=png&quot; data-nickname=&quot;é¡¶çº§ç®—æ³•&quot; data-alias=&quot;&quot; data-signature=&quot;å­¦ç®—æ³•ï¼Œå­¦ç¼–ç¨‹ã€‚å¸®ç¨‹åºå‘˜ä¿®ç‚¼å†…åŠŸã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç‚¹å‡»ä¸Šæ–¹ &quot;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5ODI5NDkxMw==&amp;amp;mid=2247490920&amp;amp;idx=2&amp;amp;sn=84fa3d94375cac784eeb24472f885020&amp;amp;chksm=eca95686dbdedf90db774b5e1b09caaffbb95e72513a579a5c37c16325ccde7e1d75f0a4e736&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç¼–ç¨‹æŠ€æœ¯åœˆ&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot; hasload=&quot;1&quot;&gt;ç¼–ç¨‹æŠ€æœ¯åœˆ&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&quot;å…³æ³¨,Â &lt;span&gt;æ˜Ÿæ ‡æˆ–ç½®é¡¶ä¸€èµ·æˆé•¿&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;åå°å›å¤â€œ&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;å¤§ç¤¼åŒ…&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;â€æœ‰æƒŠå–œç¤¼åŒ…ï¼&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;figure&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;æ¯&lt;/strong&gt;&lt;strong&gt;æ—¥è‹±æ–‡&lt;/strong&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Man has to be crazy for once, whether it is for a person,a love story, a journey or a dream.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;äººçš„ä¸€ç”Ÿè¦ç–¯ç‹‚ä¸€æ¬¡ï¼Œæ— è®ºæ˜¯ä¸ºä¸€ä¸ªäººï¼Œä¸€æ®µæƒ…ï¼Œä¸€æ®µæ—…é€”ï¼Œæˆ–ä¸€ä¸ªæ¢¦æƒ³ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ¯æ—¥æå¿ƒè¯&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;äººç”Ÿå°±åƒè’²å…¬è‹±ï¼Œçœ‹ä¼¼è‡ªç”±ï¼Œå´å¾€å¾€èº«ä¸ç”±å·±ã€‚ç”Ÿæ´»æ²¡æœ‰å¦‚æœï¼Œåªæœ‰ç»“æœï¼Œè‡ªå·±å°½åŠ›äº†ï¼ŒåŠªåŠ›äº†ï¼Œå°±å¥½ã€‚&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;è´£ç¼–ï¼šä¹ä¹ | æ¥&lt;/span&gt;&lt;span&gt;è‡ª&lt;/span&gt;&lt;span&gt;ï¼šksfzhaohui&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é“¾æ¥ï¼šjuejin.im/post/5cad6f1ef265da039f0ef5df&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5ODI5NDkxMw==&amp;amp;mid=2247489132&amp;amp;idx=1&amp;amp;sn=c15c4bf118abad5bea9afc287585f760&amp;amp;chksm=eca95d82dbded494d33755649ad9879e32a3fe8b287cb2ecadb173238aa4ac65df3b6cf16aa7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç¨‹åºå‘˜å°ä¹(ID:study_tech)ç¬¬ 918 æ¬¡æ¨æ–‡Â  å›¾æºï¼šç™¾åº¦&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ç¼–ç¨‹æŠ€æœ¯åœˆ(ID:study_tech)&lt;/a&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5ODI5NDkxMw==&amp;amp;mid=2247489132&amp;amp;idx=1&amp;amp;sn=c15c4bf118abad5bea9afc287585f760&amp;amp;chksm=eca95d82dbded494d33755649ad9879e32a3fe8b287cb2ecadb173238aa4ac65df3b6cf16aa7&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ç¨‹åºå‘˜å°ä¹(ID:study_tech)ç¬¬ 918 æ¬¡æ¨æ–‡Â  å›¾æºï¼šç™¾åº¦&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ç¬¬ 1712Â æœŸæ¨æ–‡&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;p&gt;&lt;span&gt;å¾€æ—¥å›é¡¾ï¼š&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzI5ODI5NDkxMw==&amp;amp;mid=2247615358&amp;amp;idx=1&amp;amp;sn=2835104bd108ce8b3d5a275109d7e823&amp;amp;chksm=ecab4890dbdcc186985d3ec04d14b91a4534c639a2382f86a9e02f696bf6e73742dd8078d1fe&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®æ‰«é»„ï¼Œæ˜¯æ€æ ·å‘ç°ä½ çš„ï¼Ÿ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;æ•°æ®æ‰«é»„ï¼Œæ˜¯æ€æ ·å‘ç°ä½ çš„ï¼Ÿ&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;figure&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/figure&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>a4c5be668697757a598cea6f21eecf25</guid>
<title>5å¤§ä¸»æµæ–¹æ¡ˆå¯¹æ¯”ï¼šMySQLåƒäº¿çº§æ•°æ®çº¿ä¸Šå¹³æ»‘æ‰©å®¹å®æˆ˜</title>
<link>https://toutiao.io/k/92pt5g6</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.11849710982658959&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8b6Lib0A0eic09h7UM0oewibib4JBPLkw1Mvb2p6sOzeHRtSHexOpy15TTJxdbibwBu97iamYXeGnEAfibOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1038&quot;/&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzkwOTIxNDQ3OA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8YRIaicYx5pzj5Cxwick8DamnOgbTJu96QTibKyHEDZt1815yOV1r27oZ6HgoYTEYWYLRz4jIV4iasHgg/0?wx_fmt=png&quot; data-nickname=&quot;dbaplusç¤¾ç¾¤&quot; data-alias=&quot;dbaplus&quot; data-signature=&quot;å›´ç»•Databaseã€BigDataã€AIOpsçš„ä¼ä¸šçº§ä¸“ä¸šç¤¾ç¾¤ã€‚èµ„æ·±å¤§å’–ã€æŠ€æœ¯å¹²è´§ï¼Œæ¯å¤©ç²¾å“åŸåˆ›æ–‡ç« æ¨é€ï¼Œæ¯å‘¨çº¿ä¸ŠæŠ€æœ¯åˆ†äº«ï¼Œæ¯æœˆçº¿ä¸‹æŠ€æœ¯æ²™é¾™ï¼Œæ¯å­£åº¦Gdevops&amp;amp;DAMSè¡Œä¸šå¤§ä¼š.&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;ä¸€ã€æ‰©å®¹æ–¹æ¡ˆå‰–æ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;span&gt;&lt;strong&gt;1ã€æ‰©å®¹é—®é¢˜&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;åœ¨é¡¹ç›®åˆæœŸï¼Œæˆ‘ä»¬éƒ¨ç½²äº†ä¸‰ä¸ªæ•°æ®åº“Aã€Bã€Cï¼Œæ­¤æ—¶æ•°æ®åº“çš„è§„æ¨¡å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ã€‚ä¸ºäº†å°†æ•°æ®åšåˆ°å¹³å‡åˆ†é…ï¼Œæˆ‘ä»¬åœ¨ServiceæœåŠ¡å±‚ä½¿ç”¨uid%3è¿›è¡Œå–æ¨¡åˆ†ç‰‡ï¼Œä»è€Œå°†æ•°æ®å¹³å‡åˆ†é…åˆ°ä¸‰ä¸ªæ•°æ®åº“ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;405&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7127976190476191&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAweMHOw0yEwDOW9HiaFiclpVkdWiczf5cuaQ65mFx5NiaBHSNTp7fhpBsJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;672&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åæœŸéšç€ç”¨æˆ·é‡çš„å¢åŠ ï¼Œç”¨æˆ·äº§ç”Ÿçš„æ•°æ®ä¿¡æ¯è¢«æºæºä¸æ–­çš„æ·»åŠ åˆ°æ•°æ®åº“ä¸­ï¼Œæœ€ç»ˆè¾¾åˆ°æ•°æ®åº“çš„æœ€ä½³å­˜å‚¨å®¹é‡ã€‚å¦‚æœæ­¤æ—¶ç»§ç»­å‘æ•°æ®åº“ä¸­æ–°å¢æ•°æ®ï¼Œä¼šå¯¼è‡´æ•°æ®åº“çš„CRUDç­‰åŸºæœ¬æ“ä½œå˜æ…¢ï¼Œè¿›è€Œå½±å“æ•´ä¸ªæœåŠ¡çš„å“åº”é€Ÿåº¦ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¢åŠ æ–°çš„èŠ‚ç‚¹ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œæ°´å¹³æ‰©å®¹ï¼Œé‚£ä¹ˆåŠ å…¥æ–°çš„æ•°æ®åº“Dåï¼Œæ•°æ®åº“çš„è§„æ¨¡ç”±åŸæ¥çš„3ä¸ªå˜ä¸º4ä¸ªã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚å›¾æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;329&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5793103448275863&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rApNSC88BozdiaFxheykuY4dTgNaUcZHpLSrrRGQHrZQPhHc2x6ocsRRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;725&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ­¤æ—¶ç”±äºåˆ†ç‰‡è§„åˆ™å‘ç”Ÿäº†å˜åŒ–ï¼ˆuid%3 å˜ä¸ºuid%4ï¼‰ï¼Œå¯¼è‡´å¤§éƒ¨åˆ†çš„æ•°æ®ï¼Œæ— æ³•å‘½ä¸­åŸæœ‰çš„æ•°æ®ï¼Œéœ€è¦é‡æ–°è¿›è¡Œåˆ†é…ï¼Œè¦åšå¤§é‡çš„æ•°æ®è¿ç§»å¤„ç†ã€‚ä¾‹å¦‚ï¼Œ&lt;/span&gt;&lt;span&gt;ä¹‹å‰uidå¦‚æœæ˜¯uid=3å–æ¨¡3%3=0ï¼Œ æ˜¯åˆ†é…åœ¨Aåº“ä¸Šï¼Œæ–°åŠ å…¥Dåº“åï¼Œ uid=3å–æ¨¡3%4=3ï¼Œåˆ†é…åœ¨Dåº“ä¸Šã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;441&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7761780104712042&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAIckm7U7P8fkuWl6ePDjvNbYf7cckz9dN0wEvp5wqTtb6ZlM3ib7RG8w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;764&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ å¤§æ¦‚ä¼šæœ‰90%çš„æ•°æ®éœ€è¦è¿ç§»ï¼Œ è¿™æ ·ä¼šé¢ä¸´å¤§é‡çš„æ•°æ®å‹åŠ›ï¼Œå¹¶ä¸”å¯¹æœåŠ¡é€ æˆæå¤§çš„ä¸ç¨³å®šæ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ã€åœæœºæ–¹æ¡ˆ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;440&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7739816031537451&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAkzEhcJcYsPlibZVLqLBbnvgXfl1NIC8YcP6lbNXaxdlIba74dxXvcWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;761&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†è¿›è¡Œæ•°æ®çš„é‡æ–°æ‹†åˆ†ï¼Œåœ¨åœæ­¢æœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æå‰é€šçŸ¥ç”¨æˆ·ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬çš„æœåŠ¡ä¼šåœ¨yyyy-MM-ddè¿›è¡Œå‡çº§ï¼Œç»™æ‚¨å¸¦æ¥çš„ä¸ä¾¿æ•¬è¯·è°…è§£ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…³é—­Serviceã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å°†æ—§åº“ä¸­çš„æ•°æ®æŒ‰ç…§Serviceå±‚çš„ç®—æ³•ï¼Œå°†æ•°æ®æ‹†åˆ†ï¼Œé‡æ–°åˆ†é…æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¼€å‘å®šåˆ¶ä¸€ä¸ªç¨‹åºå¯¹æ—§åº“å’Œæ–°åº“ä¸­çš„æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œæ¯”å¯¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¿®æ”¹Serviceå±‚çš„é…ç½®ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å°†åŸæ¥çš„uid%3å˜ä¸ºuid%4ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é‡å¯ServiceæœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é’ˆå¯¹ä¸Šè¿°çš„æ¯ä¸ªæ­¥éª¤éƒ½è¦æœ‰æ•°æ®å›æ»šé¢„æ¡ˆï¼Œä¸€æ—¦æŸä¸ªç¯èŠ‚ï¼ˆå¦‚ï¼šæ•°æ®è¿ç§»ï¼Œæ¢å¤æœåŠ¡ç­‰ï¼‰æ‰§è¡Œå¤±è´¥ï¼Œç«‹åˆ»è¿›è¡Œå›æ»šï¼Œé‡æ–°å†æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœæ­¢æœåŠ¡ä¹‹åï¼Œ èƒ½å¤Ÿä¿è¯è¿ç§»å·¥ä½œçš„æ­£å¸¸è¿›è¡Œï¼Œ ä½†æ˜¯æœåŠ¡åœæ­¢ï¼Œä¼¤å®³ç”¨æˆ·ä½“éªŒï¼Œ å¹¶é€ æˆäº†æ—¶é—´å‹åŠ›ï¼Œ å¿…é¡»åœ¨æŒ‡å®šçš„æ—¶é—´å†…å®Œæˆè¿ç§»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;3ã€åœå†™æ–¹æ¡ˆ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;454&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7996742671009772&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAXvfvNPLZLDa9x9xSI7M8YicNcjWZtvJhgmQ5nAy9p3eYpcPTH4J9nEQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;614&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åº“æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œåœ¨æ‰©å®¹ä¹‹å‰ï¼Œæ¯ä¸ªæ•°æ®åº“éƒ½æä¾›äº†è¯»å†™åŠŸèƒ½ï¼Œæ•°æ®é‡æ–°åˆ†é…çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ¯ä¸ªæ•°æ®åº“è®¾ç½®ä¸ºåªè¯»çŠ¶æ€ï¼Œå…³é—­å†™çš„åŠŸèƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸ºäº†è¿›è¡Œæ•°æ®çš„é‡æ–°æ‹†åˆ†ï¼Œåœ¨åœå†™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æå‰é€šçŸ¥ç”¨æˆ·ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬çš„æœåŠ¡ä¼šåœ¨yyyy-MM-ddè¿›è¡Œå‡çº§ï¼Œç»™æ‚¨å¸¦æ¥çš„ä¸ä¾¿æ•¬è¯·è°…è§£ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Serviceå±‚å¯¹æ‰€æœ‰çš„å†™è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œç»Ÿä¸€è¿”å›æç¤ºä¿¡æ¯ï¼Œå¦‚ï¼šæœåŠ¡æ­£åœ¨å‡çº§ä¸­ï¼Œåªå¯¹å¤–æä¾›è¯»æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å°†æ—§åº“ä¸­çš„æ•°æ®æŒ‰ç…§Serviceå±‚çš„ç®—æ³•ï¼Œå°†æ•°æ®é‡æ–°åˆ†é…ï¼Œè¿ç§»ï¼ˆå¤åˆ¶æ•°æ®ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¼€å‘å®šåˆ¶ä¸€ä¸ªç¨‹åºå¯¹æ—§åº“ä¸­çš„æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œä½¿ç”¨å¤‡ä»½çš„æ•°æ®å’Œé‡æ–°åˆ†é…åçš„æ•°æ®è¿›è¡Œæ ¡éªŒï¼Œæ¯”å¯¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡é…ç½®ä¸­å¿ƒï¼Œä¿®æ”¹Serviceå±‚çš„é…ç½®ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å°†åŸæ¥çš„uid%3å˜ä¸ºuid%4ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸éœ€è¦é‡å¯æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è®¾ç½®æ•°æ®åº“æ¢å¤è¯»å†™åŠŸèƒ½ï¼Œå»é™¤Serviceå±‚çš„æ‹¦æˆªæç¤ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨deleteè¯­å¥å¯¹å†—ä½™æ•°æ®è¿›è¡Œåˆ é™¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é’ˆå¯¹ä¸Šè¿°çš„æ¯ä¸ªæ­¥éª¤éƒ½è¦æœ‰æ•°æ®å›æ»šé¢„æ¡ˆï¼Œä¸€æ—¦æŸä¸ªç¯èŠ‚ï¼ˆå¦‚ï¼šæ•°æ®è¿ç§»ç­‰ï¼‰æ‰§è¡Œå¤±è´¥ï¼Œç«‹åˆ»è¿›è¡Œå›æ»šï¼Œé‡æ–°å†æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¼ºç‚¹ï¼šåœ¨æ•°æ®çš„å¤åˆ¶è¿‡ç¨‹éœ€è¦æ¶ˆè€—å¤§é‡çš„æ—¶é—´ï¼Œåœå†™æ—¶é—´å¤ªé•¿ï¼Œæ•°æ®éœ€è¦å…ˆå¤åˆ¶ï¼Œå†æ¸…ç†å†—ä½™æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4ã€æ—¥å¿—æ–¹æ¡ˆ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;æ ¸å¿ƒæ˜¯é€šè¿‡æ—¥å¿—è¿›è¡Œæ•°æ®åº“çš„åŒæ­¥è¿ç§»ï¼Œ ä¸»è¦æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰æ•°æ®è¿ç§»ä¹‹å‰ï¼Œ ä¸šåŠ¡åº”ç”¨è®¿é—®æ—§çš„æ•°æ®åº“èŠ‚ç‚¹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;332&quot; data-backw=&quot;531&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6252354048964218&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAgMd08ia38tXuViazblZoUnd1ibHv61NpET5HFzFic8aX2XHYibVuzJvbz7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;531&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰æ—¥å¿—è®°å½•&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨å‡çº§ä¹‹å‰ï¼Œ è®°å½•â€œå¯¹æ—§æ•°æ®åº“ä¸Šçš„æ•°æ®ä¿®æ”¹â€çš„æ—¥å¿—ï¼ˆè¿™é‡Œä¿®æ”¹åŒ…æ‹¬å¢ã€åˆ ã€æ”¹ï¼‰ï¼Œè¿™ä¸ªæ—¥å¿—ä¸éœ€è¦è®°å½•è¯¦ç»†çš„æ•°æ®ä¿¡æ¯ï¼Œä¸»è¦è®°å½•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;240&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.4222222222222222&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rA1mmiaoQbqTn6acafHnphyuPTgCjiaBHLhkn5xyz4uPnvYQ2AiblcyRChg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;765&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—¥å¿—è®°å½•ä¸ç”¨å…³æ³¨æ–°å¢äº†å“ªäº›ä¿¡æ¯ï¼Œä¿®æ”¹çš„æ•°æ®æ ¼å¼ï¼Œåªéœ€è¦è®°å½•ä»¥ä¸Šæ•°æ®ä¿¡æ¯ï¼Œè¿™æ ·æ—¥å¿—æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œ è¿™æ ·èƒ½ä¿è¯æ–¹æ¡ˆçš„é€šç”¨æ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡å‡çº§æ—¥å¿—è®°å½•åŠŸèƒ½é£é™©è¾ƒå°ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰æ•°æ®è¿ç§»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç ”å‘å®šåˆ¶æ•°æ®è¿ç§»å·¥å…·ï¼Œ ä½œç”¨æ˜¯æŠŠæ—§åº“ä¸­çš„æ•°æ®è¿ç§»è‡³æ–°åº“ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;409&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7200598802395209&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAxp6vdNMzYCG4S2lNyAvjSuPOoicdRXqFoJfCdXPtsTRuAPLIPBuIz9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;668&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®è¿ç§»å®Œæˆä¹‹åï¼Œ å¹¶ä¸èƒ½åˆ‡æ¢è‡³æ–°åº“æä¾›æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› ä¸ºæ—§åº“ä¾ç„¶å¯¹çº¿ä¸Šæä¾›æœåŠ¡ï¼Œ åº“ä¸­çš„æ•°æ®éšæ—¶ä¼šå‘ç”Ÿå˜åŒ–ï¼Œ ä½†è¿™äº›å˜åŒ–çš„æ•°æ®å¹¶æ²¡æœ‰åŒæ­¥åˆ°æ–°åº“ä¸­ï¼Œ æ—§åº“å’Œæ–°åº“æ•°æ®ä¸ä¸€è‡´ï¼Œ æ‰€ä»¥ä¸èƒ½ç›´æ¥è¿›è¡Œåˆ‡æ¢ï¼Œ éœ€è¦å°†æ•°æ®åŒæ­¥å®Œæ•´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰æ—¥å¿—å¢é‡è¿ç§»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;418&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7367624810892587&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rANzmd5sUJSREtcnEpiarJoRNbT0VeGWYY3ZAIpITdibWORjbDRBUVLH8A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;661&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç ”å‘ä¸€ä¸ªæ—¥å¿—è¿ç§»å·¥å…·ï¼ŒæŠŠä¸Šé¢è¿ç§»æ•°æ®è¿‡ç¨‹ä¸­çš„å·®å¼‚æ•°æ®è¿½å¹³ï¼Œå¤„ç†æ­¥éª¤ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™æ ·å¯ä»¥æœ€å¤§ç¨‹åº¦çš„ä¿éšœæ•°æ®çš„ä¸€è‡´æ€§ã€‚é£é™©åˆ†æï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†æ˜¯ï¼Œ æ—¥å¿—å¢é‡åŒæ­¥å®Œæˆä¹‹åï¼Œ è¿˜ä¸èƒ½åˆ‡æ¢åˆ°æ–°çš„æ•°æ®åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å› ä¸ºæ—¥å¿—å¢é‡åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œæ—§åº“ä¸­å¯èƒ½æœ‰æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œ å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œæ‰€ä»¥éœ€è¦è¿›ä¸€æ­¥è¯»å–æ—¥å¿—ï¼Œ è¿½å¹³æ•°æ®è®°å½•ï¼›æ—¥å¿—å¢é‡åŒæ­¥è¿‡ç¨‹éšæ—¶å¯èƒ½ä¼šäº§ç”Ÿæ–°çš„æ•°æ®ï¼Œ æ–°åº“ä¸æ—§åº“çš„æ•°æ®è¿½å¹³ä¹Ÿä¼šæ˜¯ä¸€ä¸ªæ— é™é€¼è¿‘çš„è¿‡ç¨‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;5ï¼‰æ•°æ®æ ¡éªŒ&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‡†å¤‡å¥½æ•°æ®æ ¡éªŒå·¥å…·ï¼Œå°†æ—§åº“å’Œæ–°åº“ä¸­çš„æ•°æ®è¿›è¡Œæ¯”å¯¹ï¼Œç›´åˆ°æ•°æ®å®Œå…¨ä¸€è‡´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;410&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7209653092006033&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAfQdpJWfzVJvLicEa7eCGZ2jIibKfEwsjaUlib0PDAm7utcoPaAVWSaHVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;663&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;6ï¼‰åˆ‡æ¢æ–°åº“&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®æ¯”å¯¹å®Œæˆä¹‹åï¼Œ å°†æµé‡è½¬ç§»åˆ‡æ¢è‡³æ–°åº“ï¼Œ è‡³æ­¤æ–°åº“æä¾›æœåŠ¡ï¼Œ å®Œæˆè¿ç§»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;413&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7275449101796407&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAMQo4zqbFicRlDG1x9n01LC4no7WmpDwcic0HnL1mT9eeMSXJLVnIdqGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;668&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½†æ˜¯åœ¨æé™æƒ…å†µä¸‹ï¼Œ å³ä¾¿é€šè¿‡ä¸Šé¢çš„æ•°æ®æ ¡éªŒå¤„ç†ï¼Œ ä¹Ÿæœ‰å¯èƒ½å‡ºç°99.99%æ•°æ®ä¸€è‡´ï¼Œ ä¸èƒ½ä¿éšœå®Œå…¨ä¸€è‡´ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨æ—§åº“åšä¸€ä¸ªreadonlyåªè¯»åŠŸèƒ½ï¼Œ æˆ–è€…å°†æµé‡å±è”½é™çº§ï¼Œç­‰å¾…æ—¥å¿—å¢é‡åŒæ­¥å·¥å…·å®Œå…¨è¿½å¹³åï¼Œ å†è¿›è¡Œæ–°åº“çš„åˆ‡æ¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è‡³æ­¤ï¼Œå®Œæˆæ—¥å¿—æ–¹æ¡ˆçš„è¿ç§»æ‰©å®¹å¤„ç†ï¼Œ æ•´ä¸ªè¿‡ç¨‹èƒ½å¤ŸæŒç»­å¯¹çº¿ä¸Šæä¾›æœåŠ¡ï¼Œ åªä¼šçŸ­æš‚çš„å½±å“æœåŠ¡çš„å¯ç”¨æ€§ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ç§æ–¹æ¡ˆçš„å¼Šç«¯ï¼Œæ˜¯æ“ä½œç¹çï¼Œéœ€è¦é€‚é…å¤šä¸ªåŒæ­¥å¤„ç†å·¥å…·ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œ éœ€è¦åˆ¶å®šä¸ªæ€§åŒ–ä¸šåŠ¡çš„åŒæ­¥å¤„ç†ï¼Œ ä¸å…·å¤‡æ™®éæ€§ï¼Œè€—è´¹çš„æ—¶é—´å‘¨æœŸä¹Ÿè¾ƒé•¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;5ã€åŒå†™æ–¹æ¡ˆï¼ˆä¸­å°å‹æ•°æ®ï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;421&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7418918918918919&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAmS7oSNbfkFXp6CHib3lAeU78I6tICUbibcK8ZNRGCW0RWQb3bs2JCNtA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;740&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;åŒå†™æ–¹æ¡ˆå¯é€šè¿‡canalæˆ–mqåšå®ç°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;6ã€å¹³æ»‘2Næ–¹æ¡ˆï¼ˆå¤§æ•°æ®é‡ï¼‰&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;1ï¼‰çº¿ä¸Šæ•°æ®åº“ï¼Œä¸ºäº†ä¿éšœå…¶é«˜å¯ç”¨ï¼Œä¸€èˆ¬æ¯å°ä¸»åº“ä¼šé…ç½®ä¸€å°ä»åº“ï¼Œä¸»åº“è´Ÿè´£è¯»å†™ï¼Œä»åº“è´Ÿè´£è¯»å–ã€‚ä¸‹å›¾æ‰€ç¤ºï¼ŒAï¼ŒBæ˜¯ä¸»åº“ï¼ŒA0å’ŒB0æ˜¯ä»åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;457&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8051359516616314&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAWIdYLLiaM6oURaau1n7zBia2xar7Sd5N7WKgiatic6oiangLkBZg9ibJ820Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;662&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ï¼‰å½“éœ€è¦æ‰©å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠA0å’ŒB0å‡çº§ä¸ºæ–°çš„ä¸»åº“èŠ‚ç‚¹ï¼Œå¦‚æ­¤ç”±2ä¸ªåˆ†åº“å˜ä¸º4ä¸ªåˆ†åº“ã€‚åŒæ—¶åœ¨ä¸Šå±‚çš„åˆ†ç‰‡é…ç½®ï¼Œåšå¥½æ˜ å°„ï¼Œè§„åˆ™å¦‚ä¸‹:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;454&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.799396681749623&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAicKZfc4qUYGKTla32npGgy6ktdAwzVicCeWvoMwHPvKicnCibNiclwWbu6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;663&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ï¼‰å› ä¸ºAå’ŒA0åº“çš„æ•°æ®ç›¸åŒï¼ŒBå’ŒB0æ•°æ®ç›¸åŒï¼Œæ­¤æ—¶æ— éœ€åšæ•°æ®è¿ç§»ã€‚åªéœ€è°ƒæ•´å˜æ›´ä¸€ä¸‹åˆ†ç‰‡é…ç½®å³å¯ï¼Œé€šè¿‡é…ç½®ä¸­å¿ƒæ›´æ–°ï¼Œä¸éœ€è¦é‡å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;208&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.36594663278271916&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rArfz3fjD0JjjkmfUUeq2Ds0dZTuZ5r2aCficeThJ8rHwJwbquRNZzPNg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;787&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºä¹‹å‰uid%2çš„æ•°æ®æ˜¯åˆ†é…åœ¨2ä¸ªåº“é‡Œé¢ï¼Œæ‰©å®¹ä¹‹åéœ€è¦åˆ†å¸ƒåˆ°4ä¸ªåº“ä¸­ï¼Œä½†ç”±äºæ—§æ•°æ®ä»å­˜åœ¨ï¼ˆuid%4=0çš„èŠ‚ç‚¹,è¿˜æœ‰ä¸€åŠuid%4=2çš„æ•°æ®ï¼‰ï¼Œæ‰€ä»¥éœ€è¦å¯¹å†—ä½™æ•°æ®åšä¸€æ¬¡æ¸…ç†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿™ä¸ªæ¸…ç†ï¼Œå¹¶ä¸ä¼šå½±å“çº¿ä¸Šæ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¯ä»¥éšæ—¶éšåœ°è¿›è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4ï¼‰å¤„ç†å®Œæˆä¹‹åï¼Œä¸ºä¿è¯æ•°æ®çš„é«˜å¯ç”¨ï¼Œä»¥åŠå°†æ¥ä¸‹ä¸€æ­¥çš„æ‰©å®¹éœ€æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯ä»¥ä¸ºç°æœ‰çš„ä¸»åº“å†æ¬¡åˆ†é…ä¸€ä¸ªä»åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;494&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8703125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAvu7IL3L6beB7iaeb2kViarhP7ut4AP2frGOdqLlnxyrKqdWsm40tQDWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;640&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;äºŒã€å¹³æ»‘2Næ‰©å®¹æ–¹æ¡ˆå®è·µ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ã€å®ç°åº”ç”¨æœåŠ¡çº§åˆ«çš„åŠ¨æ€æ‰©å®¹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;æ‰©å®¹å‰éƒ¨ç½²æ¶æ„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;522&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.9191919191919192&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAEYcyv4O9jE2NTEoQiaV60ZLB0OAL8rlCaKp6O1Vv3YV5umkdJyeJw3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;594&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰MariaDBæœåŠ¡å®‰è£…&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  åˆ‡æ¢é˜¿é‡Œäº‘é•œåƒæœåŠ¡ï¼ˆYUMå®‰è£…è¿‡æ…¢å¯ä»¥åˆ‡æ¢ï¼‰&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;yum&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-y install wget&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;wget&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;wget&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-P /etc/yum.repos.d/ http://mirrors.aliyun.com/repo/epel-7.repo&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;yum&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;clean all&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;yum&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;makecache&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ é…ç½®YUMæº&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;vi&lt;/span&gt; /etc/yum.repos.d/mariadb-&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;.repo&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ini&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__section&quot;&gt;[mariadb]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;name&lt;/span&gt; = MariaDB&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;baseurl&lt;/span&gt; = https://mirrors.ustc.edu.cn/mariadb/yum/&lt;span class=&quot;code-snippet__number&quot;&gt;10.2&lt;/span&gt;/centos7-amd64&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;gpgkey&lt;/span&gt;=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;gpgcheck&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ æ‰§è¡Œå®‰è£…&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;yum -y &lt;span class=&quot;code-snippet__keyword&quot;&gt;install&lt;/span&gt; mariadb mariadb-&lt;span class=&quot;code-snippet__keyword&quot;&gt;server&lt;/span&gt; MariaDB-&lt;span class=&quot;code-snippet__keyword&quot;&gt;client&lt;/span&gt;  MariaDB-common&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘£ å¦‚æœä¹‹å‰å·²ç»å®‰è£…ï¼Œ éœ€è¦å…ˆåˆ é™¤&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼ˆå¦‚æœä¹‹å‰æ²¡æœ‰å®‰è£…ï¼Œ å¯ä»¥å¿½ç•¥æ­¤æ­¥éª¤ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;[&lt;span class=&quot;code-snippet__meta&quot;&gt;root@localhost yum.repos.d&lt;/span&gt;]&lt;span class=&quot;code-snippet__meta&quot;&gt;# ps -ef | grep mysql&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;root       &lt;span class=&quot;code-snippet__number&quot;&gt;1954&lt;/span&gt;      &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; Oct04 ?        &lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;05&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;43&lt;/span&gt; /usr/sbin/mysqld --wsrep-&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt;-cluster --user=root&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;root      &lt;span class=&quot;code-snippet__number&quot;&gt;89521&lt;/span&gt;  &lt;span class=&quot;code-snippet__number&quot;&gt;81403&lt;/span&gt;  &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;07&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;40&lt;/span&gt; pts/&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt;:&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; grep --color=auto mysql&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;[&lt;span class=&quot;code-snippet__meta&quot;&gt;root@localhost yum.repos.d&lt;/span&gt;]&lt;span class=&quot;code-snippet__meta&quot;&gt;# kill 1954&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;yum -y &lt;span class=&quot;code-snippet__keyword&quot;&gt;remove&lt;/span&gt; Maria*&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-rf /var/lib/mysql/*&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-rf /etc/my.cnf.d/&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;-rf /etc/my.cnf&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¤ å¯åŠ¨MariaDBåï¼Œæ‰§è¡Œå®‰å…¨é…ç½®å‘å¯¼å‘½ä»¤ï¼Œå¯æ ¹æ®å®‰å…¨é…ç½®å‘å¯¼æé«˜æ•°æ®åº“çš„å®‰å…¨æ€§&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;systemctl&lt;/span&gt; start mariadb&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql_secure_installation&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¥ å¼€å¯ç”¨æˆ·è¿œç¨‹è¿æ¥æƒé™&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å°†è¿æ¥ç”¨æˆ·rootå¼€å¯è¿œç¨‹è¿æ¥æƒé™ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;mysql&lt;/span&gt; -uroot -p654321&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¿›å…¥MySQLæœåŠ¡ï¼Œ æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;use&lt;/span&gt; mysql;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;user&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;GRANT&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;ALL&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;PRIVILEGES&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;ON&lt;/span&gt; *.* &lt;span class=&quot;code-snippet__keyword&quot;&gt;TO&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;root&#x27;&lt;/span&gt;@&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;%&#x27;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;IDENTIFIED&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;654321&#x27;&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;GRANT&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;OPTION&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;FLUSH&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;PRIVILEGES&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰MariaDBåŒä¸»åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  åœ¨Server1å¢åŠ é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨/etc/my.cnfä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ini&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__section&quot;&gt;[mysqld]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;server-id&lt;/span&gt;  = &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-bin&lt;/span&gt;=mysql-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;relay-log&lt;/span&gt; = mysql-relay-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=mysql.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=information_schema.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-slave-updates&lt;/span&gt;=&lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;slave-skip-errors&lt;/span&gt;=all&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-offset&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-increment&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;binlog_format&lt;/span&gt;=mixed&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;expire_logs_days&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„ï¼Œ Server1è‡ªå¢ä¸ºå¥‡æ•°ä½ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ åœ¨Server2å¢åŠ é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¿®æ”¹/etc/my.cnf:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ini&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__section&quot;&gt;[mysqld]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;server-id&lt;/span&gt; = &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-bin&lt;/span&gt;=mysql-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;relay-log&lt;/span&gt; = mysql-relay-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=mysql.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=information_schema.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-slave-updates&lt;/span&gt;=&lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;slave-skip-errors&lt;/span&gt;=all&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-offset&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-increment&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;binlog_format&lt;/span&gt;=mixed&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;expire_logs_days&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Server2è‡ªå¢ä¸ºå¶æ•°ä½ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é…ç½®ä¿®æ”¹å®Œæˆåï¼Œ é‡å¯æ•°æ®åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ åŒæ­¥æˆæƒé…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1åˆ›å»ºreplicaç”¨äºä¸»ä»åŒæ­¥çš„ç”¨æˆ·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; grant replication slave, replication client &lt;span class=&quot;code-snippet__keyword&quot;&gt;on&lt;/span&gt; *.* to &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;@&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;%&#x27;&lt;/span&gt; identified &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql&amp;gt; flush privileges;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸åç§»é‡ï¼Œå¼€å¯åŒæ­¥æ—¶éœ€ä½¿ç”¨ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; show master status;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;| File             |&lt;/span&gt; Position &lt;span class=&quot;code-snippet__params&quot;&gt;| Binlog_Do_DB |&lt;/span&gt; Binlog_Ignore_DB &lt;span class=&quot;code-snippet__params&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;|&lt;/span&gt; mysql-bin.&lt;span class=&quot;code-snippet__number&quot;&gt;000001&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;|      663 |&lt;/span&gt;              &lt;span class=&quot;code-snippet__params&quot;&gt;|                  |&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŒæ ·ï¼Œ åœ¨Server2åˆ›å»ºreplicaç”¨äºä¸»ä»åŒæ­¥çš„ç”¨æˆ·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; grant replication slave, replication client &lt;span class=&quot;code-snippet__keyword&quot;&gt;on&lt;/span&gt; *.* to &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;@&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;%&#x27;&lt;/span&gt; identified &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql&amp;gt; flush privileges;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æŸ¥è¯¢æ—¥å¿—æ–‡ä»¶ä¸åç§»é‡ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; show master status;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;| File             |&lt;/span&gt; Position &lt;span class=&quot;code-snippet__params&quot;&gt;| Binlog_Do_DB |&lt;/span&gt; Binlog_Ignore_DB &lt;span class=&quot;code-snippet__params&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;|&lt;/span&gt; mysql-bin.&lt;span class=&quot;code-snippet__number&quot;&gt;000001&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;|      663 |&lt;/span&gt;              &lt;span class=&quot;code-snippet__params&quot;&gt;|                  |&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘£ é…ç½®ä¸»ä»åŒæ­¥ä¿¡æ¯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.141&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000007&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;374&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server2ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.140&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000015&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;374&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¤ å¼€å¯åŒä¸»åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1å’ŒServer2ä¸­åˆ†åˆ«æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; start slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1æŸ¥è¯¢åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;MariaDB&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;[(none)]&amp;gt;  show slave status\G;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;***************************&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1. row ***************************&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_State&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Waiting for master to send event&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Host&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;10.10.20.126&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_User&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;replica&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Port&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Connect_Retry&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000001&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;span class=&quot;code-snippet__attr&quot;&gt;Read_Master_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;663&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-relay-bin.000002&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;555&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000001&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_SQL_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server2æŸ¥è¯¢åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;MariaDB&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;[(none)]&amp;gt;  show slave status\G;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;***************************&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1. row ***************************&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_State&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Waiting for master to send event&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Host&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;10.10.20.125&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_User&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;replica&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Port&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Connect_Retry&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000001&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;span class=&quot;code-snippet__attr&quot;&gt;Read_Master_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;663&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-relay-bin.000002&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;555&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000001&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_SQL_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;...&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Slave_IO_Runningå’ŒSlave_SQL_Running éƒ½æ˜¯Yesï¼Œè¯´æ˜åŒä¸»åŒæ­¥é…ç½®æˆåŠŸã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰KeepAlivedå®‰è£…ä¸é«˜å¯ç”¨é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  åœ¨Server1ä¸Server2ä¸¤å°èŠ‚ç‚¹å®‰è£…keepalived&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;yum&lt;/span&gt; -y install keepalived&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ å…³é—­é˜²ç«å¢™&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;systemctl&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;stop firewalld&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;systemctl&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;disable firewalld&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ è®¾ç½®ä¸»æœºåç§°&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Server1èŠ‚ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;bash&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;hostnamectl &lt;span class=&quot;code-snippet__built_in&quot;&gt;set&lt;/span&gt;-hostname vip1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Server2èŠ‚ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;bash&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;hostnamectl &lt;span class=&quot;code-snippet__built_in&quot;&gt;set&lt;/span&gt;-hostname vip2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘£ Server1èŠ‚ç‚¹é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;/etc/keepalived/keepalived.confï¼š&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;global_defs {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   router_id vip1           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;vrrp_instance VI_1 {            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;state&lt;/span&gt; BACKUP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    interface ens33               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_router_id &lt;span class=&quot;code-snippet__number&quot;&gt;111&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    priority &lt;span class=&quot;code-snippet__number&quot;&gt;100&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    advert_int &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    authentication {           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_type PASS         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_pass &lt;span class=&quot;code-snippet__number&quot;&gt;6666&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_ipaddress {         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;virtual_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt; {       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    delay_loop &lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;                 &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    lb_algo rr                  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    lb_kind DR                   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    persistence_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    protocol TCP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    real_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.140&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt; {    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    notify_down /usr/&lt;span class=&quot;code-snippet__keyword&quot;&gt;local&lt;/span&gt;/shell/mariadb.sh &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    weight &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    TCP_CHECK {              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;             &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       delay_before_retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_port &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ›å»ºå…³é—­è„šæœ¬mariadb.sh&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;/usr/local/shell/mariadb.shï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;pkill&lt;/span&gt; keepalived&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŠ å…¥æ‰§è¡Œæƒé™ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;a&lt;/span&gt;+&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mariadb&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¤ Server2èŠ‚ç‚¹é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;global_defs {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   router_id vip2           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;vrrp_instance VI_1 {            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;state&lt;/span&gt; BACKUP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    interface ens33               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_router_id &lt;span class=&quot;code-snippet__number&quot;&gt;111&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    priority &lt;span class=&quot;code-snippet__number&quot;&gt;98&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    advert_int &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    authentication {           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_type PASS         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_pass &lt;span class=&quot;code-snippet__number&quot;&gt;6666&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_ipaddress {         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;virtual_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt; {       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    delay_loop &lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;                 &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    lb_algo rr                  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    lb_kind DR                   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    persistence_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    protocol TCP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    real_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.141&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;{    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    notify_down /usr/&lt;span class=&quot;code-snippet__keyword&quot;&gt;local&lt;/span&gt;/shell/mariadb.sh &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    weight &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    TCP_CHECK {              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;             &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       delay_before_retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_port &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å’ŒServer1çš„å·®å¼‚é¡¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;router_id&lt;/span&gt; vip2   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;priority &lt;span class=&quot;code-snippet__number&quot;&gt;98&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;real_server &lt;span class=&quot;code-snippet__number&quot;&gt;10.10.20.126&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„ï¼šä¸¤å°èŠ‚ç‚¹éƒ½è®¾ä¸ºBACKUP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;111&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;state BACKUP&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¸æƒ³é‡å¯åï¼Œ äº‰å¤ºå¤‡ç”¨èŠ‚ç‚¹çš„VIPï¼Œ å¯ä»¥è®¾ç½®æ­¤é¡¹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;nopreempt&lt;/span&gt; &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„ï¼šè¿™ä¸ªé…ç½®åªèƒ½è®¾ç½®åœ¨backupä¸»æœºä¸Šï¼Œè€Œä¸”è¿™ä¸ªä¸»æœºä¼˜å…ˆçº§è¦æ¯”å¦å¤–ä¸€å°é«˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¥ éªŒè¯é«˜å¯ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœæ­¢ä¸»èŠ‚ç‚¹MariaDBæœåŠ¡ï¼Œ éªŒè¯æ˜¯å¦è‡ªåŠ¨åˆ‡æ¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰æ­å»ºåº”ç”¨æœåŠ¡å·¥ç¨‹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  ShardingJDBCçš„ä»‹ç»&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ShardingJDBCæ˜¯ShardingSphere ä¸‹çš„ä¸€ä¸ªäº§å“ï¼Œ&lt;/span&gt;&lt;span&gt;å®šä½ä¸ºè½»é‡çº§ Java æ¡†æ¶ï¼Œåœ¨ Java çš„ JDBC å±‚æä¾›çš„é¢å¤–æœåŠ¡ã€‚å®ƒä½¿ç”¨å®¢æˆ·ç«¯ç›´è¿æ•°æ®åº“ï¼Œä»¥ jar åŒ…å½¢å¼æä¾›æœåŠ¡ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„ JDBC é©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹ JDBC å’Œå„ç§ ORM æ¡†æ¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ”¯æŒä»»ä½•ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“è¿æ¥æ± ï¼Œå¦‚ï¼šDBCP, C3P0, BoneCP, Druid, HikariCP ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ ShardingJDBCåˆå§‹åŒ–æµç¨‹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1ï¼‰é…ç½®ShardingRuleConfigurationå¯¹è±¡&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ï¼‰é…ç½®è¡¨åˆ†ç‰‡è§„åˆ™TableRuleConfigurationå¯¹è±¡ï¼Œè®¾ç½®åˆ†åº“ã€åˆ†è¡¨ç­–ç•¥&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ï¼‰é€šè¿‡Factoryå¯¹è±¡å°†Ruleå¯¹è±¡ä¸DataSourceå¯¹è±¡è£…é…&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4ï¼‰ShardingJDBCä½¿ç”¨DataSourceå¯¹è±¡è¿›è¡Œåˆ†åº“&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;593&quot; data-backw=&quot;557&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.0646319569120288&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAcW80mQ3SU28ic5DLTPibE9jP55iadHORG5hUWa7ich1MkXe0NZ0LXIiaic7Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;557&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ ShardingJDBCé›†æˆé…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;è§„åˆ™é…ç½®application.yml&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åˆ›å»ºDataSource&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘£ éªŒè¯åº”ç”¨æœåŠ¡åŠ¨æ€æ‰©å®¹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;Properties properties = loadPropertiesFile(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;datasource1.properties&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    log.info(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;load datasource config url: &quot;&lt;/span&gt; + properties.get(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;url&quot;&lt;/span&gt;));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    DruidDataSource druidDataSource = (DruidDataSource) DruidDataSourceFactory.createDataSource(properties);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    druidDataSource.setRemoveAbandoned(&lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    druidDataSource.setRemoveAbandonedTimeout(&lt;span class=&quot;code-snippet__number&quot;&gt;600&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    druidDataSource.setLogAbandoned(&lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    druidDataSource.setTimeBetweenConnectErrorMillis(&lt;span class=&quot;code-snippet__number&quot;&gt;60000&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    druidDataSource.init();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    OrchestrationShardingDataSource dataSource = SpringContextUtil.getBean(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;tradeSystemDataSource&quot;&lt;/span&gt;, OrchestrationShardingDataSource.class);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt;, DataSource&amp;gt; dataSourceMap = dataSource.getDataSource().getDataSourceMap();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    dataSourceMap.put(DatasourceEnum.DATASOURCE_2.getValue(), druidDataSource);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt;, DataSourceConfiguration&amp;gt; dataSourceConfigMap = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt;, DataSourceConfiguration&amp;gt;();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; key : dataSourceMap.keySet()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        dataSourceConfigMap.put(key, DataSourceConfiguration.getDataSourceConfiguration(dataSourceMap.get(key)));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__built_in&quot;&gt;String&lt;/span&gt; result = SHARDING_RULE_TABLE_ORDER.replace(SHARDING_RULE_DATASOURCE, newRule);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    replaceActualDataNodes(result);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    SHARDING_RULE_DATASOURCE = newRule;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    dataSource.renew(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; DataSourceChangedEvent(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;/&quot;&lt;/span&gt; + DruidSystemDataSourceConfiguration.DYNAMIC_SHARDING + &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;/config/schema/logic_db/datasource&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        dataSourceConfigMap));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;} &lt;span class=&quot;code-snippet__keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    log.error(e.getMessage(), e);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¤ æ³¨æ„äº‹é¡¹&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Sharding JDBC, Mycat, Drds ç­‰äº§å“éƒ½æ˜¯åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶, ç›¸æ¯”ç›´æ¥çš„æ•°æ®æºæ“ä½œ, ä¼šå­˜åœ¨ä¸€äº›é™åˆ¶, Sharding JDBCåœ¨ä½¿ç”¨æ—¶, è¦æ³¨æ„ä»¥ä¸‹é—®é¢˜:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ã€å®ç°æ•°æ®åº“çš„ç§’çº§å¹³æ»‘2Næ‰©å®¹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;æ‰©å®¹éƒ¨ç½²æ¶æ„ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-backh=&quot;249&quot; data-backw=&quot;568&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.43813131313131315&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ufWcjcomw8ZmkbbGSLx7NAHtFokYK7rAcdibZVxjMFmkE5opaRtguzTCfsSb2eLDu4IZkgqr3Rpia2h5fGAK3NNQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;792&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰æ–°å¢æ•°æ®åº“VIP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  åœ¨Server2èŠ‚ç‚¹ï¼Œ å¢åŠ VIP&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¿®æ”¹/etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {            #vrrpå®ä¾‹å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP               #lvsçš„çŠ¶æ€æ¨¡å¼ï¼ŒMASTERä»£è¡¨ä¸»ï¼Œ BACKUPä»£è¡¨å¤‡ä»½èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33               #ç»‘å®šå¯¹å¤–è®¿é—®çš„ç½‘å¡&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;112        #è™šæ‹Ÿè·¯ç”±æ ‡ç¤ºï¼ŒåŒä¸€ä¸ªvrrpå®ä¾‹é‡‡ç”¨å”¯ä¸€æ ‡ç¤º&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;100               #ä¼˜å…ˆçº§ï¼Œ100ä»£è¡¨æœ€å¤§ä¼˜å…ˆçº§ï¼Œ æ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1              #masterä¸backupèŠ‚ç‚¹åŒæ­¥æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯ç§’&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{           #è®¾ç½®éªŒè¯ä¿¡æ¯&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS         #æœ‰PASSå’ŒAHä¸¤ç§&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666         #éªŒè¯å¯†ç ï¼ŒBACKUPå¯†ç é¡»ç›¸åŒ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{         #KeepAlivedè™šæ‹Ÿçš„IPåœ°å€&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.151&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.151 3306 {       #é…ç½®è™šæ‹ŸæœåŠ¡å™¨IPä¸è®¿é—®ç«¯å£&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6                 #å¥åº·æ£€æŸ¥æ—¶é—´&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0        #ä¼šè¯ä¿æŒæ—¶é—´ï¼Œè¿™é‡Œè¦åšæµ‹è¯•ï¼Œ æ‰€ä»¥è®¾ä¸º0ï¼Œ å®é™…å¯æ ¹æ®sessionæœ‰æ•ˆæ—¶é—´é…ç½®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP               #è½¬å‘åè®®ç±»å‹ï¼Œæ”¯æŒTCPå’ŒUDP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.141 3306{    #é…ç½®æœåŠ¡å™¨èŠ‚ç‚¹VIP1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1               #è®¾ç½®æƒé‡ï¼Œè¶Šå¤§æƒé‡è¶Šé«˜&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{              #rçŠ¶æ€ç›‘æµ‹è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10       #è¶…æ—¶é…ç½®ï¼Œ å•ä½ç§’&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3             #é‡è¯•æ¬¡æ•°&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3        #é‡è¯•é—´éš”&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306         #è¿æ¥ç«¯å£ï¼Œ å’Œä¸Šé¢ä¿æŒä¸€è‡´&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„é…ç½®é¡¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;112&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;priority &lt;span class=&quot;code-snippet__number&quot;&gt;100&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰åº”ç”¨æœåŠ¡å¢åŠ åŠ¨æ€æ•°æ®æº&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;3ï¼‰è§£é™¤åŸåŒä¸»åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;mysql -uroot -p654321&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  è¿›å…¥Server1&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; stop slave;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ è¿›å…¥Server2&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; stop slave;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ é€šè¿‡åº”ç”¨æœåŠ¡æ¥å£éªŒè¯æ•°æ®æ˜¯å¦è§£é™¤åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;4ï¼‰å®‰è£…MariaDBæ‰©å®¹æœåŠ¡å™¨&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘  æ–°å»ºä¸¤å°è™šæ‹Ÿæœºï¼Œ åˆ†åˆ«ä¸ºServer3å’ŒServer4&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¡ åœ¨Server3å’ŒServer4ä¸¤å°èŠ‚ç‚¹ä¸Šå®‰è£…MariaDBæœåŠ¡&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å‚è€ƒä¸Šæ–‡ä¸­MariaDBæœåŠ¡å®‰è£…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘¢ é…ç½®Server3ä¸Server1ï¼Œå®ç°æ–°çš„åŒä¸»åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ini&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__section&quot;&gt;[mysqld]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;server-id&lt;/span&gt; = &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-bin&lt;/span&gt;=mysql-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;relay-log&lt;/span&gt; = mysql-relay-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=mysql.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=information_schema.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-slave-updates&lt;/span&gt;=&lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;slave-skip-errors&lt;/span&gt;=all&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-offset&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-increment&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;binlog_format&lt;/span&gt;=mixed&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;expire_logs_days&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;service&lt;/span&gt; mariadb restart&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; grant replication slave, replication client &lt;span class=&quot;code-snippet__keyword&quot;&gt;on&lt;/span&gt; *.* to &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;@&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;%&#x27;&lt;/span&gt; identified &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql&amp;gt; flush privileges;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;mysqldump&lt;/span&gt; -uroot -p654321 --routines --single_transaction --master-data=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt; --databases smooth &amp;gt; server1.sql&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;diff&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;--&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;-- Position to start replication or point-in-time recovery from&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;--&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;-- CHANGE MASTER TO MASTER_LOG_FILE=&#x27;mysql-bin.000002&#x27;, MASTER_LOG_POS=17748;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;scp server1.sql root@192.&lt;span class=&quot;code-snippet__number&quot;&gt;168.116&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;142&lt;/span&gt;&lt;span class=&quot;code-snippet__symbol&quot;&gt;:/usr/local/&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql -uroot -p654321 &amp;lt; &lt;span class=&quot;code-snippet__regexp&quot;&gt;/usr/&lt;/span&gt;local/server1.sql&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®ä¸Šé¢çš„master statusä¿¡æ¯ï¼Œ åœ¨Server3ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.140&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000016&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;1754&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; start slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¦‚æœå‡ºç°é—®é¢˜ï¼Œ å¤åŸä¸»ä»åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; reset slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;MariaDB&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;[(none)]&amp;gt; show slave status \G&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;***************************&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1. row ***************************&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_State&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Waiting for master to send event&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Host&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;10.10.20.125&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_User&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;replica&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Port&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Connect_Retry&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000004&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;span class=&quot;code-snippet__attr&quot;&gt;Read_Master_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;11174&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-relay-bin.000002&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;1746&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000004&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_SQL_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æŸ¥çœ‹Server3çš„æ—¥å¿—ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; show master status;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;| File             |&lt;/span&gt; Position &lt;span class=&quot;code-snippet__params&quot;&gt;| Binlog_Do_DB |&lt;/span&gt; Binlog_Ignore_DB &lt;span class=&quot;code-snippet__params&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;|&lt;/span&gt; mysql-bin.&lt;span class=&quot;code-snippet__number&quot;&gt;000001&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;|     4781 |&lt;/span&gt;              &lt;span class=&quot;code-snippet__params&quot;&gt;|                  |&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1èŠ‚ç‚¹ï¼Œ é…ç½®åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; reset slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.142&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000005&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;6931&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; start slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;â‘£ é…ç½®Server4ä¸Server2çš„åŒä¸»åŒæ­¥&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ini&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__section&quot;&gt;[mysqld]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;server-id&lt;/span&gt; = &lt;span class=&quot;code-snippet__number&quot;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-bin&lt;/span&gt;=mysql-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;relay-log&lt;/span&gt; = mysql-relay-bin&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=mysql.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;replicate-wild-ignore-table&lt;/span&gt;=information_schema.%&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;log-slave-updates&lt;/span&gt;=&lt;span class=&quot;code-snippet__literal&quot;&gt;on&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;slave-skip-errors&lt;/span&gt;=all&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-offset&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;auto-increment-increment&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;binlog_format&lt;/span&gt;=mixed&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;expire_logs_days&lt;/span&gt;=&lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;service&lt;/span&gt; mariadb restart&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; grant replication slave, replication client &lt;span class=&quot;code-snippet__keyword&quot;&gt;on&lt;/span&gt; *.* to &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;@&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;%&#x27;&lt;/span&gt; identified &lt;span class=&quot;code-snippet__keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql&amp;gt; flush privileges;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;mysqldump&lt;/span&gt; -uroot -p654321 --routines --single_transaction --master-data=&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt; --databases smooth &amp;gt; server2.sql&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;diff&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;--&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;-- Position to start replication or point-in-time recovery from&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;--&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__deletion&quot;&gt;-- CHANGE MASTER TO MASTER_LOG_FILE=&#x27;mysql-bin.000003&#x27;, MASTER_LOG_POS=4208;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-role=&quot;list&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;scp server2.sql root@192.&lt;span class=&quot;code-snippet__number&quot;&gt;168.116&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;143&lt;/span&gt;&lt;span class=&quot;code-snippet__symbol&quot;&gt;:/usr/local/&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;javascript&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;mysql -uroot -p654321 &amp;lt; &lt;span class=&quot;code-snippet__regexp&quot;&gt;/usr/&lt;/span&gt;local/server2.sql&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®ä¸Šé¢çš„master statusä¿¡æ¯ï¼Œ åœ¨Server4ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.141&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000007&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;3006&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; start slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„ï¼Œ å¦‚æœå‡ºç°é—®é¢˜ï¼Œ å¤åŸä¸»ä»åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; reset slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;MariaDB&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;[(none)]&amp;gt; show slave status \G&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;***************************&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1. row ***************************&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_State&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Waiting for master to send event&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Host&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;10.10.20.125&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_User&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;replica&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                  &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Port&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Connect_Retry&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;              &lt;span class=&quot;code-snippet__attr&quot;&gt;Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000004&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          &lt;span class=&quot;code-snippet__attr&quot;&gt;Read_Master_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;11174&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-relay-bin.000002&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Log_Pos&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;1746&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;Relay_Master_Log_File&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;mysql-bin.000004&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_IO_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__attr&quot;&gt;Slave_SQL_Running&lt;/span&gt;: &lt;span class=&quot;code-snippet__string&quot;&gt;Yes&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æŸ¥çœ‹Server4çš„æ—¥å¿—ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;ruby&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(none)]&amp;gt; show master status;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;| File             |&lt;/span&gt; Position &lt;span class=&quot;code-snippet__params&quot;&gt;| Binlog_Do_DB |&lt;/span&gt; Binlog_Ignore_DB &lt;span class=&quot;code-snippet__params&quot;&gt;|&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;|&lt;/span&gt; mysql-bin.&lt;span class=&quot;code-snippet__number&quot;&gt;000001&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;|     3696 |&lt;/span&gt;              &lt;span class=&quot;code-snippet__params&quot;&gt;|                  |&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;+------------------+----------+--------------+------------------+&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server2èŠ‚ç‚¹ï¼Œ é…ç½®åŒæ­¥ä¿¡æ¯ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; reset slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;MariaDB [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.143&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000005&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;5787&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; start slave;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;00&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;5ï¼‰å¢åŠ KeepAlivedæœåŠ¡å®ç°é«˜å¯ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;global_defs {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   router_id vip3          &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;vrrp_instance VI_1 {            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;state&lt;/span&gt; BACKUP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    interface ens33               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_router_id &lt;span class=&quot;code-snippet__number&quot;&gt;111&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    priority &lt;span class=&quot;code-snippet__number&quot;&gt;98&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    advert_int &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    authentication {           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_type PASS         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_pass &lt;span class=&quot;code-snippet__number&quot;&gt;6666&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_ipaddress {         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;virtual_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.150&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt; {       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    delay_loop &lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;                 &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    persistence_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    protocol TCP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    real_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.142&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;{    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    notify_down /usr/&lt;span class=&quot;code-snippet__keyword&quot;&gt;local&lt;/span&gt;/shell/mariadb.sh&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    weight &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    TCP_CHECK {              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;             &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       delay_before_retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_port &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„é‡Œé¢IPé…ç½®æ­£ç¡®ï¼Œ ä¿®æ”¹å®Œæˆåé‡å¯æœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ›å»ºå…³é—­è„šæœ¬mariadb.sh&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;/usr/local/shell/mariadb.shï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;pkill&lt;/span&gt; keepalived&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åŠ å…¥æ‰§è¡Œæƒé™ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;a&lt;/span&gt;+&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mariadb&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;perl&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;global_defs {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   router_id vip4          &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;vrrp_instance VI_1 {            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;state&lt;/span&gt; BACKUP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    interface ens33               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_router_id &lt;span class=&quot;code-snippet__number&quot;&gt;112&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    priority &lt;span class=&quot;code-snippet__number&quot;&gt;98&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    advert_int &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    authentication {           &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_type PASS         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        auth_pass &lt;span class=&quot;code-snippet__number&quot;&gt;6666&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    virtual_ipaddress {         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.151&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;virtual_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.151&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt; {       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    delay_loop &lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;                 &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    persistence_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    protocol TCP               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    real_server &lt;span class=&quot;code-snippet__number&quot;&gt;192.168&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;116.143&lt;/span&gt; &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;{    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    notify_down /usr/&lt;span class=&quot;code-snippet__keyword&quot;&gt;local&lt;/span&gt;/shell/mariadb.sh&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    weight &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;               &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    TCP_CHECK {              &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_timeout &lt;span class=&quot;code-snippet__number&quot;&gt;10&lt;/span&gt;       &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;             &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       delay_before_retry &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       connect_port &lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åˆ›å»ºå…³é—­è„šæœ¬mariadb.sh&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;/usr/local/shell/mariadb.shï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;pkill&lt;/span&gt; keepalived&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç»™æ‰€æœ‰çš„ç”¨æˆ·ç»„åŠ å…¥æ‰§è¡Œæƒé™ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;a&lt;/span&gt;+&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mariadb&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;6ï¼‰æ¸…ç†æ•°æ®å¹¶éªŒè¯&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®å–æ¨¡è§„åˆ™ï¼Œ ä¿ç•™accountNoä¸ºå¶æ•°çš„æ•°æ®&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; t_trade_order &lt;span class=&quot;code-snippet__keyword&quot;&gt;where&lt;/span&gt; accountNo % &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt; != &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section data-role=&quot;list&quot;/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®å–æ¨¡è§„åˆ™ï¼Œ ä¿ç•™accountNoä¸ºå¥‡æ•°çš„æ•°æ®&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;from&lt;/span&gt; t_trade_order &lt;span class=&quot;code-snippet__keyword&quot;&gt;where&lt;/span&gt; accountNo % &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt; != &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86122&quot; data-custom=&quot;#138bde&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ä¸‰ã€keepalivedé«˜å¯ç”¨é…ç½®å¤§å…¨&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server1ï¼ˆ192.168.116.140ï¼‰ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.141&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000005&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;3207&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server2ï¼ˆ192.168.116.141ï¼‰ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.140&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000012&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;1951&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server3ï¼ˆ192.168.116.142ï¼‰ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.140&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000013&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;2781&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;åœ¨Server4ï¼ˆ192.168.116.143ï¼‰ä¸­æ‰§è¡Œï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;MariaDB&lt;/span&gt; [(&lt;span class=&quot;code-snippet__literal&quot;&gt;none&lt;/span&gt;)]&amp;gt; change master to master_host=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;192.168.116.141&#x27;&lt;/span&gt;,master_user=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_password=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;replica&#x27;&lt;/span&gt;, master_port=&lt;span class=&quot;code-snippet__number&quot;&gt;3306&lt;/span&gt;, master_log_file=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-bin.000005&#x27;&lt;/span&gt;, master_log_pos=&lt;span class=&quot;code-snippet__number&quot;&gt;7358&lt;/span&gt;, master_connect_retry=&lt;span class=&quot;code-snippet__number&quot;&gt;30&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;Query&lt;/span&gt; OK, &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt; rows affected (&lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;code-snippet__number&quot;&gt;01&lt;/span&gt; sec)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;1ã€Server1å’ŒServer2åŒä¸»å…³ç³»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot; draggable=&quot;true&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰Server1: keepalived.conf&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;vi /etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;111&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.150 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_algo&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;rr&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_kind&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;DR // NAT|DR|TUN&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.140 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;2ï¼‰Server2:keepalived.conf&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;vi /etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;111&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;98&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.150 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_algo&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;rr&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_kind&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;DR&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.141 3306{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;2ã€æ–°å¢æ•°æ®åº“VIP&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰Server2:keepalived.conf&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;vi /etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;112&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.151&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.151 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.141 3306{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;3ã€Server1å’ŒServer3åŒä¸»å…³ç³»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰Server3: keepalived.conf&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;vi /etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;111&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;98&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.150&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.150 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_algo&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;rr&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_kind&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;DR&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.142 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;86152&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;span data-bgopacity=&quot;40%&quot;/&gt; &lt;span data-bgopacity=&quot;25%&quot;/&gt; &lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;4ã€Server2å’ŒServer4åŒä¸»å…³ç³»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;1ï¼‰Server4: keepalived.conf&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;vi /etc/keepalived/keepalived.conf&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;properties&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;global_defs&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   &lt;span class=&quot;code-snippet__attr&quot;&gt;router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;vip4&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;vrrp_instance&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;VI_1 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;BACKUP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;ens33&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_router_id&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;112&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;priority&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;98&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;advert_int&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;authentication&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_type&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;PASS&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;auth_pass&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6666&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_ipaddress&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__attr&quot;&gt;192.168.116.151&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;virtual_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.151 3306 {&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_loop&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_algo&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;rr&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;lb_kind&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;DR&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;persistence_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;TCP&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;real_server&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;192.168.116.143 3306{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;notify_down&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;/usr/local/shell/mariadb.sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;TCP_CHECK&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_timeout&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;10&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;delay_before_retry&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;connect_port&lt;/span&gt; &lt;span class=&quot;code-snippet__string&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;       &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attr&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section&gt;&lt;span&gt;ä½œè€…ä¸¨åšå­¦è°·ç‹‚é‡æ¶æ„å¸ˆ&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;æ¥æºä¸¨ç½‘å€ï¼šhttps://juejin.cn/post/7121593515515068424&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;dbaplusç¤¾ç¾¤æ¬¢è¿å¹¿å¤§æŠ€æœ¯äººå‘˜æŠ•ç¨¿ï¼ŒæŠ•ç¨¿é‚®ç®±ï¼š&lt;/span&gt;&lt;span&gt;editor@dbaplus.cn&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>4abed3f68755f05b5aa33515109875dc</guid>
<title>ç¾å›¢ç®€å•ç‰ˆåŠ¨æ€çº¿ç¨‹æ± æºç å®ç°</title>
<link>https://toutiao.io/k/vkf7vh0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p&gt;æœ€è¿‘çœ‹åˆ°ç¾å›¢æŠ€æœ¯å›¢é˜Ÿçš„åŠ¨æ€çº¿ç¨‹æ± åˆ†ææ–‡ç« ï¼šhttps://tech.meituan.com/2020/04/02/java-pooling-pratice-in-meituan.html ä»¥åŠä¸€ä¸ªå¯¹åº”çš„å¼€æºé¡¹ç›®ï¼šhttps://github.com/dromara/dynamic-tp&lt;/p&gt;&lt;p&gt;æœ‰ç‚¹æ„æ€ï¼ŒåŒæ—¶ä¹Ÿè§‰å¾—åŠ¨æ€çº¿ç¨‹æ± åœ¨å·¥ä½œçš„å®ç”¨æ€§ï¼Œä¾¿é€šè¿‡æ­¤æ–‡æ¥åˆ†æä¸€ä¸‹åŠ¨æ€çº¿ç¨‹æ± çš„æ ¸å¿ƒå®ç°åŸç†ï¼Œæœ¬æ–‡å‚è€ƒäº†ç¾å›¢çš„æ–‡ç« å’Œå¼€æºé¡¹ç›®çš„å®ç°æ€è·¯ï¼Œç‰¹æ­¤æ„Ÿè°¢ã€‚&lt;/p&gt;&lt;h2&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;åŠ¨æ€çº¿ç¨‹æ± ï¼ŒæŒ‡çš„æ˜¯çº¿ç¨‹æ± ä¸­çš„å‚æ•°å¯ä»¥åŠ¨æ€ä¿®æ”¹å¹¶ç”Ÿæ•ˆï¼Œæ¯”å¦‚corePoolSizeã€maximumPoolSizeç­‰ã€‚&lt;/p&gt;&lt;p&gt;åœ¨å·¥ä½œä¸­ï¼Œçº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ç­‰å‚æ•°æ˜¯å¾ˆéš¾ä¼°è®¡å’Œå›ºå®šçš„ï¼Œå¦‚æœèƒ½åœ¨åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è¿›è¡Œè°ƒæ•´ï¼Œä¹Ÿå°±å¾ˆæœ‰å¿…è¦äº†ã€‚&lt;/p&gt;&lt;h2&gt;å‰ç½®æ¡ä»¶&lt;/h2&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â ç›´æ¥åŸºäºSpringBoot&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â æ”¯æŒNacosé…ç½®ä¸­å¿ƒé…ç½®&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;æ ¸å¿ƒé…ç½®é¡¹&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;dtp&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;enable&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;core&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;pool&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;size&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;maximum&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;pool&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;size&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;50&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘å¸Œæœ›ï¼Œèƒ½é€šè¿‡ä»¥ä¸Šé…ç½®å°±èƒ½é…ç½®å‡ºä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â dtpï¼šè¡¨ç¤ºdynamic thread poolï¼ŒåŠ¨æ€çº¿ç¨‹æ± çš„ç¼©å†™&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â enableï¼šè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨åŠ¨æ€çº¿ç¨‹æ± ï¼Œé»˜è®¤ä¸ºtrue&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;3.Â core-pool-sizeï¼šè¡¨ç¤ºdtpçš„æ ¸å¿ƒçº¿ç¨‹æ•°&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;4.Â maximum-pool-sizeï¼šè¡¨ç¤ºdtpçš„æœ€å¤§çº¿ç¨‹æ•°&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;5.Â å¯¹äºçº¿ç¨‹æ± çš„å…¶ä»–å‚æ•°ï¼Œå¯ä»¥åç»­å†æ‰©å±•&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;å¦å¤–ï¼Œæˆ‘å¸Œæœ›èƒ½åšåˆ°ï¼Œåªæœ‰é¡¹ç›®çš„é…ç½®ä¸­&lt;strong&gt;å­˜åœ¨dtpé…ç½®ï¼Œå¹¶ä¸”enableä¸ç­‰äºfalse&lt;/strong&gt;ï¼Œé‚£å°±è¡¨ç¤ºå¼€å¯åŠ¨æ€çº¿ç¨‹æ± ï¼Œå°±éœ€è¦å‘Springå®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªçº¿ç¨‹æ± å¯¹è±¡ä½œä¸ºä¸€ä¸ªBeanå¯¹è±¡ï¼Œè¿™æ ·å…¶ä»–Beanå°±èƒ½é€šè¿‡ä¾èµ–æ³¨å…¥æ¥ä½¿ç”¨åŠ¨æ€çº¿ç¨‹æ± äº†ã€‚&lt;/p&gt;&lt;p&gt;å¦å¤–ï¼Œå¯¹äºä¸Šé¢çš„é…ç½®ï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯é…ç½®åœ¨nacosä¸­ï¼Œè¿™æ ·æ‰èƒ½åŠ¨æ€ä¿®æ”¹ã€‚&lt;/p&gt;&lt;h2&gt;åŠ¨æ‰‹å®ç°&lt;/h2&gt;&lt;p&gt;&lt;span&gt;é¦–å…ˆåˆ›å»ºä¸¤ä¸ªé¡¹ç›®ï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4673684210526316&quot; data-type=&quot;png&quot; data-w=&quot;475&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOUGu09VALOd89L0nSQNxicObCMiclavjCqIrm3RnQ8bH9CuiczexoSJgNg/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;image.png&lt;/figcaption&gt;&lt;/figure&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â dtp-autoconfigurationï¼šè¡¨ç¤ºåŠ¨æ€çº¿ç¨‹æ± çš„è‡ªåŠ¨é…ç½®æ¨¡å—ï¼Œä¼šå­˜æ”¾ä¸€äº›ç›¸å…³çš„è‡ªåŠ¨é…ç½®ç±»&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â userï¼šè¡¨ç¤ºä¸€ä¸ªä¸šåŠ¡åº”ç”¨ï¼Œä¼šä½¿ç”¨åŠ¨æ€çº¿ç¨‹æ± &lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;ç„¶åæŠŠuseræ”¹å†™ä¸ºä¸€ä¸ªSpringBootåº”ç”¨ï¼š&lt;/p&gt;&lt;p&gt;å¼•å…¥ä¾èµ–ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;org.springframework.boot&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;spring-boot-dependencies&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;2.3.12.RELEASE&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;org.springframework.boot&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;spring-boot-starter-web&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–°å»ºå¯åŠ¨ç±»å’ŒControllerï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@SpringBootApplication&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;MyApplication&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;main&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;[]&lt;/span&gt;&lt;span&gt;Â args&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;SpringApplication&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;run&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;MyApplication&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â args&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ZhouyuController&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@GetMapping&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;/test&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ï¼Œæˆ‘å–œæ¬¢èƒ½åœ¨ZhouyuControllerä¸­ä½¿ç”¨åŠ¨æ€çº¿ç¨‹æ± ï¼Œå°±åƒå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ZhouyuController&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span&gt;Â threadPoolExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â éœ€è¦ä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@GetMapping&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;/test&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â threadPoolExecutor&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(()&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;-&amp;gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;æ‰§è¡Œä»»åŠ¡&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;});&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ®µè¦èƒ½å·¥ä½œï¼Œå¾—æœ‰å‡ ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â Springå®¹å™¨ä¸­å¾—æœ‰ä¸€ä¸ªThreadPoolExecutorç±»å‹çš„Bean&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â å¹¶ä¸”è¿™ä¸ªThreadPoolExecutorå¯¹è±¡è¿˜å¾—æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŠ¨æ€çº¿ç¨‹æ± å¯¹è±¡&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;å®šä¹‰DtpExecutor&lt;/h2&gt;&lt;p&gt;è¿™é‡Œå°±å¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆ°åº•è¯¥å¦‚ä½•è¡¨ç¤ºä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± ï¼ŒåŠ¨æ€çº¿ç¨‹æ± å’Œæ™®é€šçº¿ç¨‹æ± çš„åŒºåˆ«åœ¨äºï¼ŒåŠ¨æ€çº¿ç¨‹æ± èƒ½æ”¯æŒé€šè¿‡nacosæ¥ä¿®æ”¹å…¶å‚æ•°ã€‚&lt;/p&gt;&lt;p&gt;é‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯éœ€è¦æ–°å®šä¹‰ä¸€ä¸ªç±»æ¥è¡¨ç¤ºåŠ¨æ€çº¿ç¨‹æ± å‘¢ï¼Ÿæˆ‘ç»™çš„ç­”æ¡ˆæ˜¯éœ€è¦ï¼Œå› ä¸ºå¦‚æœä¸æ–°å®šä¹‰ä¸€ä¸ªï¼Œé‚£ä¹ˆå¯¹äºä¸Šè¿°ä»£ç ï¼Œå¦‚æœæˆ‘Springå®¹å™¨ä¸­å­˜åœ¨å¤šä¸ªThreadPoolExecutorç±»å‹çš„Beanå¯¹è±¡ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ‰¾åˆ°åŠ¨æ€çº¿ç¨‹æ± å‘¢ï¼Ÿåªèƒ½é€šè¿‡å±æ€§åå­—äº†ï¼Œæ¯”å¦‚å±æ€§åå­—ä¸ºdynamicThreadPoolExecutorï¼Œè¿™æ ·ä¹Ÿå°±éœ€è¦æˆ‘ä»¬åœ¨å¾€Springå®¹å™¨æ³¨å†ŒåŠ¨æ€çº¿ç¨‹æ± å¯¹è±¡æ—¶ï¼Œå¯¹äºçš„beanNameä¸€å®šå¾—æ˜¯dynamicThreadPoolExecutorã€‚&lt;/p&gt;&lt;p&gt;è€Œå¦‚æœæˆ‘ä»¬æ–°å®šä¹‰ä¸€ä¸ªç±»ï¼ˆdtp-aucotoncifurationé¡¹ç›®ä¸­ï¼‰ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;extends&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ThreadPoolExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â corePoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â maximumPoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;long&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â keepAliveTime&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;TimeUnit&lt;/span&gt;&lt;span&gt;Â unit&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;BlockingQueue&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;Runnable&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;Â workQueue&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;super&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â maximumPoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â keepAliveTime&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â unit&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â workQueue&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦ç”¨åŠ¨æ€çº¿ç¨‹æ± å°±æ–¹ä¾¿äº†ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ZhouyuController&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â éœ€è¦ä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@GetMapping&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;/test&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â dtpExecutor&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;execute&lt;/span&gt;&lt;span&gt;(()&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;-&amp;gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;æ‰§è¡Œä»»åŠ¡&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;});&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·ï¼Œä»£ç çœ‹èµ·æ¥å°±æ›´åŠ æ˜ç¡®äº†ã€‚&lt;/p&gt;&lt;p&gt;æ³¨æ„ï¼Œuserä¸­æ·»åŠ ä¾èµ–ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;org.example&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;dtp-autoconfiguration&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;1.0-SNAPSHOT&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;åˆ›å»ºDtpExecutor&lt;/h2&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥åˆ›å»ºDtpExecutorå¯¹è±¡å¹¶æ·»åŠ åˆ°Springå®¹å™¨ä¸­ï¼Œè¿™ä¸€æ­¥æ˜¯éå¸¸é‡è¦çš„ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœåº”ç”¨è¦å¼€å¯åŠ¨æ€çº¿ç¨‹æ± ï¼Œé‚£ä¹ˆå°±éœ€è¦åšä¸€æ­¥ï¼Œå¦åˆ™å°±ä¸éœ€è¦åšè¿™ä¸€æ­¥ï¼Œå¹¶ä¸”åœ¨åˆ›å»ºDtpExecutorå¯¹è±¡æ—¶ï¼Œå¾—ç”¨é…ç½®çš„å‚æ•°ï¼Œå¹¶ä¸”å¾—æ”¯æŒNacosï¼Œå¹¶ä¸”è¿˜å¾—æ”¾åˆ°Springå®¹å™¨ä¸­ã€‚&lt;/p&gt;&lt;p&gt;è¿™é‡Œå°±å¯ä»¥ç”¨åˆ°SpringBootçš„è‡ªåŠ¨é…ç½®ç±»äº†ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆåœ¨dtp-autoconfigurationä¸­æ·»åŠ spring-bootçš„ä¾èµ–ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;org.springframework.boot&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;spring-boot-dependencies&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;2.3.12.RELEASE&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;pom&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;scope&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencyManagement&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;org.springframework.boot&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;spring-boot-starter&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependencies&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¹¶ä¸”æ–°å»ºä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;@ConditionalOnProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;prefixÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;dtp&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â valueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;enable&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â havingValueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;true&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpAutoConfiguration&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¡¨ç¤ºè¿™ä¸ªé…ç½®ç±»ï¼Œåªæœ‰åœ¨dtp.anable=trueçš„æ—¶å€™æ‰ä¼šç”Ÿæ•ˆï¼Œæ²¡æœ‰è¿™ä¸ªé…ç½®é¡¹æˆ–ä¸ºfalseåˆ™ä¸ä¼šç”Ÿæ•ˆã€‚&lt;/p&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬å¯ä»¥å°±å¯ä»¥åœ¨DtpAutoConfigurationä¸­æ¥å®šä¹‰DtpExecutorçš„Beanäº†ï¼Œæˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯åˆ©ç”¨@Beanï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½†æ˜¯ï¼ŒDtpExecutorä¸­æ˜¯æ²¡æœ‰æ— å‚æ„é€ æ–¹æ³•çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨æ„é€ DtpExecutorå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿæ‹¿åˆ°é…ç½®é¡¹å‚æ•°ï¼Œé‚£æ€ä¹ˆæ‹¿å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;ç†Ÿæ‚‰Springçš„åŒå­¦ï¼Œå¯èƒ½ä¼šæƒ³åˆ°åˆ©ç”¨Enviromentå¯¹è±¡ï¼Œå› ä¸ºä¸ç®¡æˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºæœ¬åœ°çš„application.yamlä¸­çš„é…ç½®é¡¹ï¼Œè¿˜æ˜¯åœ¨nacosä¸­çš„é…ç½®é¡¹ï¼Œæœ€ç»ˆéƒ½æ˜¯æ”¾åœ¨äº†Environmentå¯¹è±¡ä¸­ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;@ConditionalOnProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;prefixÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;dtp&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â valueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;enable&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â havingValueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;true&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpAutoConfiguration&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Environment&lt;/span&gt;&lt;span&gt;Â environment&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;valueOf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;environment&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dpt.core-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;maximumPoolSize&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;valueOf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;environment&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dpt.maximum-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;));&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â maximumPoolSize&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;ç¬¬ä¸€æ¬¡æµ‹è¯•&lt;/h2&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å…ˆæ¥æµ‹è¯•ä¸€ä¸‹ï¼Œæ³¨æ„DtpAutoConfigurationè‡ªåŠ¨é…ç½®ç±»è¦èƒ½å¤Ÿç”Ÿæ•ˆï¼Œè¿˜éœ€è¦åˆ©ç”¨spring.factoriesï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2889366272824919&quot; data-type=&quot;png&quot; data-w=&quot;1862&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzO4Lo6TiamSictQ8MF6cv2U20cibZ0ht6F9kiav6E8rPLsPzypiaq4ZkgiaYDA/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å› ä¸ºæˆ‘ä»¬æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¾—åœ¨userä¸­é…ç½®dtpï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;dtp&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;enable&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;core&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;pool&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;size&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;10&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;maximum&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;pool&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;size&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;50&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¹¶ä¸”æŠŠZhouyuControllerçš„ä»£ç ä¹Ÿå¤§æ¦‚æ”¹ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ZhouyuController&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â éœ€è¦ä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@GetMapping&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;/test&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getCorePoolSize&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·å°±èƒ½æµ‹å‡ºæ¥ï¼Œèƒ½ä¸èƒ½ä½¿ç”¨åŠ¨æ€çº¿ç¨‹æ± ï¼Œå¹¶ä¸”æ˜¯å¦æ˜¯æˆ‘ä»¬æ‰€é…ç½®çš„å‚æ•°ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯åŠ¨Useråº”ç”¨ï¼Œç„¶åè®¿é—®localhost:8080/testï¼Œç»“æœä¸ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.13121546961325967&quot; data-type=&quot;png&quot; data-w=&quot;1448&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOgaFlVrpUJAClW1ZVdlpZtNyXAPPt9KUeISYvsGmQp0wicic8CfzBjmWw/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;&lt;br/&gt;&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;å‘ç°ï¼Œç»“æœæ­£å¸¸ã€‚å¦‚æœæœ‰é—®é¢˜ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼Œä¸€èµ·è®¨è®ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOTCNA9U59qpxy2VLv5JnPk7vsticB5KxQnJFWPtu9eYBCjzwPnWXP7aA/640?wx_fmt=jpeg&quot;/&gt;&lt;span/&gt;&lt;/figure&gt;&lt;p&gt;å¹¶ä¸”ï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•åœ¨nacosä¸­è¿›è¡Œé…ç½®ï¼Œé‚£æˆ‘ä»¬éœ€è¦åœ¨userä¸­å¼•å…¥nacos-clientï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;com.alibaba.boot&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;groupId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;nacos-config-spring-boot-starter&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;artifactId&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;0.2.7&lt;/span&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;version&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;&amp;lt;/&lt;/span&gt;&lt;span&gt;&lt;span&gt;dependency&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åé…ç½®nacos:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;nacos&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;config&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;server&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;addr&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;127.0&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;.1&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;8848&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtp&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;yaml&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;yaml&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;auto&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;refresh&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;bootstrap&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;enable&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;true&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ç„¶ååœ¨nacosä¸­é…ç½®dtp.yaml:&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.369727047146402&quot; data-type=&quot;png&quot; data-w=&quot;1612&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOFLicBOl3SCmJm6tibo2ibCVJQ27JwEPjv8OhExvzGSgaXybwAKYzH2uGA/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;image.png&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;å¯åŠ¨useråº”ç”¨ï¼Œè®¿é—®localhost:8080/testï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.15527426160337554&quot; data-type=&quot;png&quot; data-w=&quot;1185&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzO6675KQehYeT77UXp7JwtjDmHwfTufTkJEolfVkFOKr6SbdgUrTCTZw/640?wx_fmt=png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;ç»“æœä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œä»£ç å†™åˆ°è¿™ï¼Œæˆ‘ä»¬å®Œæˆäº†ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â èƒ½è¯»å–nacosä¸­çš„é…ç½®&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â å¹¶åˆ›å»ºDtpExecutorå¯¹è±¡&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;3.Â å¹¶æ”¾å…¥Springå®¹å™¨&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;NacosRefresher&lt;/h2&gt;&lt;p&gt;é‚£ä¹ˆæœ€æ ¸å¿ƒçš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼šåº”ç”¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœåœ¨nacosä¸­ä¿®æ”¹äº†é…ç½®ï¼Œå¦‚ä½•ç”Ÿæ•ˆï¼Ÿ&lt;/p&gt;&lt;p&gt;è¿™å°±éœ€è¦åœ¨useråº”ç”¨ä¸­èƒ½å¤Ÿå‘ç°nacosä¸­é…ç½®å†…å®¹æ˜¯å¦ä¿®æ”¹äº†ï¼Œè¿™å°±éœ€è¦åˆ©ç”¨åˆ°nacosçš„ç›‘å¬å™¨æœºåˆ¶ï¼Œæˆ‘ä»¬åœ¨auto-configurationæ¨¡å—æ¥å®šä¹‰ä¸€ä¸ªnacosçš„ç›‘å¬å™¨ï¼Œè¿™å°±éœ€è¦auto-configuratinoä¹Ÿä¾èµ–nacos-clientï¼Œæˆ‘ä»¬ç›´æ¥nacos-clientçš„ä¾èµ–ä»useræ¨¡å—è½¬ç§»åˆ°auto-configurationæ¨¡å—ä¸­å»ï¼Œè¿™æ ·å¯¹äºuseræ˜¯æ²¡æœ‰å½±å“çš„ï¼Œå› ä¸ºuserä¾èµ–äº†auto-configurationæ¨¡å—ï¼Œä»è€Œé—´æ¥çš„ä¾èµ–äº†nacos-clientã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬æ–°å»ºä¸€ä¸ªNacosç›‘å¬å™¨NacosRefresherï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;NacosRefresher&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;implements&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Listener&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;InitializingBean&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@NacosInjected&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;ConfigService&lt;/span&gt;&lt;span&gt;Â configService&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â åˆ©ç”¨Springçš„Beanåˆå§‹åŒ–æœºåˆ¶ï¼Œæ¥è®¾ç½®è¦ç›‘å¬çš„nacosçš„dataid&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â æš‚æ—¶å†™æ­»ï¼Œæœ€å¥½æ˜¯æ‹¿åˆ°ç¨‹åºå‘˜æ‰€é…ç½®çš„dataidå’Œgroup&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;afterPropertiesSet&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;NacosException&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â configService&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;addListener&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dtp.yaml&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;DEFAULT_GROUP&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â è¿™ä¸ªæ˜¯Nacosæ”¶åˆ°å˜æ›´äº‹ä»¶å¼‚æ­¥æ‰§è¡Œé€»è¾‘è¦ç”¨åˆ°çš„çº¿ç¨‹æ± ï¼Œè·ŸåŠ¨æ€çº¿ç¨‹æ± æ²¡å…³ç³»&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Executor&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;getExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Executors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;newFixedThreadPool&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â è¿™æ˜¯ç”¨æ¥æ¥æ”¶æ•°æ®å˜æ›´çš„ï¼Œcontentå°±æ˜¯å˜æ›´åçš„å†…å®¹&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;receiveConfigInfo&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â content&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;content&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦å¤–åœ¨DtpAutoConfigurationä¸­å®šä¹‰NacosRefresherä¸ºä¸€ä¸ªBean:&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;NacosRefresher&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;nacosRefresher&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;NacosRefresher&lt;/span&gt;&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¹Ÿå¯ä»¥åˆ©ç”¨@Importæ¥å¯¼å…¥NacosRefresherï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;@ConditionalOnProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;prefixÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;dtp&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â valueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;enable&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â havingValueÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&quot;true&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;@Import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;NacosRefresher&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;class&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpAutoConfiguration&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Autowired&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Environment&lt;/span&gt;&lt;span&gt;Â environment&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;valueOf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;environment&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dtp.core-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;maximumPoolSize&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;valueOf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;environment&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dtp.maximum-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;));&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â maximumPoolSize&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;æ›´æ–°DtpExecutor&lt;/h2&gt;&lt;p&gt;NacosRefresherä¸€æ—¦å°±åˆ°äº†æ•°æ®å˜æ›´äº‹ä»¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ›´æ–°DtpExecutoräº†ï¼Œé‚£ä¹ˆè¿™é‡Œæˆ‘ä»¬è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â è§£æcontentï¼Œå› ä¸ºcontentæ˜¯Stringï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œè§£æå¹¶å¾—åˆ°é…ç½®é¡¹å†…å®¹&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â æ›´æ–°Springå®¹å™¨ä¸­çš„DtpExecutorå¯¹è±¡ï¼Œé‚£å°±éœ€è¦èƒ½å¤Ÿæ‹¿åˆ°DtpExecutorå¯¹è±¡&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;æˆ‘ä»¬å…ˆå¯åŠ¨åº”ç”¨ï¼Œä¿®æ”¹ä¸€ä¸‹nacosçš„é…ç½®ï¼Œçœ‹çœ‹contexté•¿ä»€ä¹ˆæ ·ï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3800711743772242&quot; data-type=&quot;png&quot; data-w=&quot;1405&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOpDFzHicgPGZCzuSCkcMyngLnVguQDUvHMqGfRZ9ibOonPpDxTiaVRTSWA/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;image.png&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;æˆ‘åªæ˜¯ä¿®æ”¹äº†core-pool-sizeï¼Œä½†æ˜¯contentæ˜¯æ€ä¹ˆdtp.yamlçš„å†…å®¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥è¿›è¡Œè§£æï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;receiveConfigInfo&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â content&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;YamlPropertiesFactoryBean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;YamlPropertiesFactoryBean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â bean&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;setResources&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ByteArrayResource&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;content&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getBytes&lt;/span&gt;&lt;span&gt;()));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Properties&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â bean&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getObject&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;System&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;out&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;println&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ç»“æœä¸ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4827144686299616&quot; data-type=&quot;png&quot; data-w=&quot;1562&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOLrYbrtaaJ6mwB0Y1r36W59N5FTic9rnm1ia3EEz4vwITYlK45IrU0QEQ/640?wx_fmt=png&quot;/&gt;&lt;figcaption&gt;image.png&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;è¿™æ ·ï¼Œæˆ‘ä»¬å°±å°†contentè§£æä¸ºäº†Propertiesçš„æ ¼å¼ï¼Œè¿™æ ·å°±èƒ½æ›´åŠ æ–¹ä¾¿è·å–é…ç½®é¡¹äº†ã€‚&lt;/p&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªè¦èƒ½æ‹¿åˆ°Springå®¹å™¨ä¸­çš„DtpExecutorå¯¹è±¡ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ‹¿åˆ°å‘¢ï¼Œè¿™é‡Œå‚è€ƒå¼€æºé¡¹ç›®&lt;span&gt;dynamic-tp&lt;/span&gt;çš„åšæ³•ï¼Œåˆ©ç”¨BeanPostProcessoræ¥å­˜å…¥åˆ°ä¸€ä¸ªstaticçš„mapä¸­ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆæ–°å»ºä¸€ä¸ªDtpUtilï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpUtil&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;get&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;static&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;set&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;DtpUtil&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;dtpExecutorÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â dtpExecutor&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åæ–°å»ºä¸€ä¸ªBeanPostProcessorï¼Œä¼šæŠŠDtpExecutorå¯¹è±¡å­˜å…¥DtpUtilï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpBeanPostProcessor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;implements&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;BeanPostProcessor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Object&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;postProcessAfterInitialization&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;Object&lt;/span&gt;&lt;span&gt;Â bean&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â beanName&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;throws&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;BeansException&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;beanÂ &lt;/span&gt;&lt;span&gt;&lt;span&gt;instanceof&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;DtpUtil&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;set&lt;/span&gt;&lt;span&gt;((&lt;/span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;Â bean&lt;/span&gt;&lt;span&gt;);&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;return&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â bean&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦å¤–åœ¨DtpAutoConfigurationå¯¼å…¥DtpBeanPostProcessorã€‚&lt;/p&gt;&lt;p&gt;ç„¶åä¼šåˆ°NacosRefresherä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨DtpUtilè·å–åˆ°DtpExecutorå¯¹è±¡äº†ï¼Œå¹¶ä¸”å¯ä»¥ä¿®æ”¹å¯¹åº”çš„å‚æ•°ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;receiveConfigInfo&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;String&lt;/span&gt;&lt;span&gt;Â content&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;YamlPropertiesFactoryBean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;bean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;YamlPropertiesFactoryBean&lt;/span&gt;&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â bean&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;setResources&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;ByteArrayResource&lt;/span&gt;&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;content&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getBytes&lt;/span&gt;&lt;span&gt;()));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;Properties&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â bean&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getObject&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;DtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;dtpExecutor&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;DtpUtil&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â dtpExecutor&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;setCorePoolSize&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;parseInt&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dtp.core-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;)));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â dtpExecutor&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;setMaximumPoolSize&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;Integer&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;parseInt&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;properties&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;getProperty&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;&quot;dtp.maximum-pool-size&quot;&lt;/span&gt;&lt;/span&gt;&lt;span&gt;)));&lt;/span&gt;&lt;br/&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·å°±å®Œæˆäº†DtpExecutorçš„å‚æ•°ä¿®æ”¹ï¼Œåˆ°æ­¤ï¼Œä¸€ä¸ªç®€å•çš„åŠ¨æ€çº¿ç¨‹æ± å°±å®Œæˆäº†ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæµ‹è¯•ä¸€ä¸‹ï¼Œä¿®æ”¹Nacosé…ç½®ï¼Œçœ‹controlleré‚£è¾¹èƒ½ä¸èƒ½å®æ—¶æ‹¿åˆ°æœ€æ–°çš„corePoolSizeï¼Œæˆ‘æµ‹æ˜¯æ²¡é—®é¢˜çš„ã€‚&lt;/p&gt;&lt;h2&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;å¯¹äºå®ç°ä¸€ä¸ªåŠ¨æ€çº¿ç¨‹æ± ï¼Œæ ¸å¿ƒè¦ç‚¹ä¸ºï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â åŠ¨æ€çº¿ç¨‹æ± ä¸ºä¸€ä¸ªBeanå¯¹è±¡&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â èƒ½å®æ—¶å‘ç°é…ç½®çš„å˜æ›´&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;3.Â ä¸è¿‡æœ€ä¸ºæ ¸å¿ƒçš„æ˜¯çº¿ç¨‹æ± æœ¬èº«çš„æºç è®¾è®¡&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;æ¯”å¦‚ThreadPoolExecutorçš„setCorePoolSizeï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;void&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;setCorePoolSize&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â corePoolSize&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;corePoolSizeÂ &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;throw&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;new&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;IllegalArgumentException&lt;/span&gt;&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;delta&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â corePoolSizeÂ &lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;corePoolSize&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;this&lt;/span&gt;&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;corePoolSizeÂ &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;Â corePoolSize&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;workerCountOf&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;ctl&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;get&lt;/span&gt;&lt;span&gt;())&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;Â corePoolSize&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â interruptIdleWorkers&lt;/span&gt;&lt;span&gt;();&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;else&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;deltaÂ &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â WeÂ don&#x27;tÂ reallyÂ knowÂ howÂ manyÂ newÂ threadsÂ areÂ &quot;needed&quot;.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â AsÂ aÂ heuristic,Â prestartÂ enoughÂ newÂ workersÂ (upÂ toÂ new&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â coreÂ size)Â toÂ handleÂ theÂ currentÂ numberÂ ofÂ tasksÂ in&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;//Â queue,Â butÂ stopÂ ifÂ queueÂ becomesÂ emptyÂ whileÂ doingÂ so.&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;k&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;Math&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;min&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;delta&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â workQueue&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;size&lt;/span&gt;&lt;span&gt;());&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;while&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;k&lt;/span&gt;&lt;span&gt;--&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt;Â addWorker&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&lt;span&gt;null&lt;/span&gt;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;true&lt;/span&gt;&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;/span&gt;&lt;span&gt;Â &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;workQueue&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;isEmpty&lt;/span&gt;&lt;span&gt;())&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;&lt;span&gt;break&lt;/span&gt;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;br/&gt;&lt;span&gt;Â Â Â Â &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å®ƒä¼šåˆ¤æ–­ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;1.Â å¦‚æœå½“å‰å·¥ä½œçº¿ç¨‹å¤§äºæœ€æ–°corePoolSizeï¼Œé‚£ä¹ˆåˆ™ä¼šä¸­æ–­ç©ºé—²çº¿ç¨‹ï¼Œæœ€ç»ˆåªä¼šä¿æŠ¤corePoolSizeä¸ªç©ºé—²çº¿ç¨‹&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;2.Â å¦‚æœæ ¸å¿ƒçº¿ç¨‹æ•°å¢åŠ äº†ï¼Œé‚£ä¹ˆå°±ä¼šè°ƒç”¨addWorker(null, true)æ–¹æ³•æ¥æ–°å¢æ ¸å¿ƒçº¿ç¨‹&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;è€Œæ‰€è°“çš„åŠ¨æ€çº¿ç¨‹æ± ï¼Œå…¶å®å°±æ˜¯åŠ¨æ€çš„å»ä¿®æ”¹çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°é‡ï¼Œå°‘äº†å°±å¢åŠ ï¼Œå¤šäº†å°±ä¸­æ–­ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¸Œæœ›å¤§å®¶èƒ½æœ‰æ‰€æ”¶è·ï¼Œæœ‰é—®é¢˜å¯ä»¥å…³æ³¨æˆ‘ï¼Œä¸€èµ·è®¨è®ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot; title=&quot;null&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Zg93iapYic55HQzH1qH6ricJm86GoEgNbzOTCNA9U59qpxy2VLv5JnPk7vsticB5KxQnJFWPtu9eYBCjzwPnWXP7aA/640?wx_fmt=jpeg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>c3fd25f004c09a83059119107cfc5f7f</guid>
<title>Bç«™æµå¼ä¼ è¾“æ¶æ„çš„å‰ä¸–ä»Šç”Ÿ</title>
<link>https://toutiao.io/k/7ku2yyz</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;æœ¬æœŸä½œè€…&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1921182&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMAP2AToTAWC4FNwCAaCrE2Gkcl0UKNj4ibaC2BCMGcNnyqpoeyH6OXJQ/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;203&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;ç‹ç¿”å®‡&lt;/section&gt;&lt;section&gt;å“”å“©å“”å“©èµ„æ·±å¼€å‘å·¥ç¨‹å¸ˆ&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;Â 2017&lt;/span&gt;å¹´åŠ å…¥&lt;span&gt;B&lt;/span&gt;ç«™ï¼Œç°æœåŠ¡äºåŸºç¡€æ¶æ„å®æ—¶å›¢é˜Ÿã€‚å…ˆåè´Ÿè´£&lt;span&gt;B&lt;/span&gt;ç«™æ—¥å¿—ç³»ç»Ÿã€å®æ—¶æµå¼ä¼ è¾“å·¥ä½œã€‚&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-croporisrc=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMAnP4f8l5gL39YH0JMry2W0XJfbE88WibzgO0VNKS38gvtqIFOmDkEwA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-cropx1=&quot;0&quot; data-cropx2=&quot;566&quot; data-cropy1=&quot;0&quot; data-cropy2=&quot;566&quot; data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/8XkvNnTiapOPsqiaEYFljjISWW8vwZckYibOW1cic52yNvBeG9JdiaBDfMCINDgzjgdzmv6Pz9RsoviayPpCwn5JV7nw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;566&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;é­æ³½ä¸°&lt;/p&gt;&lt;p&gt;å“”å“©å“”å“©é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆ&lt;/p&gt;&lt;p&gt;&lt;span&gt;2021&lt;/span&gt;å¹´åŠ å…¥&lt;span&gt;B&lt;/span&gt;ç«™ï¼Œç°æœåŠ¡äºåŸºç¡€æ¶æ„å®æ—¶å›¢é˜Ÿï¼Œè´Ÿè´£å®æ—¶æµå¼ä¼ è¾“ä»¥åŠ&lt;span&gt;Flink CDC&lt;/span&gt;ç›¸å…³å·¥ä½œã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.821917808219178&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8XkvNnTiapOPsqiaEYFljjISWW8vwZckYibXSq02c5ILebKMuq0iaDibAfpV8udiaJmMrSibd0rkUWLzwGDh0PgcBbticw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;292&quot;/&gt;&lt;/p&gt;&lt;p&gt;é«˜ç‘è¶…&lt;/p&gt;&lt;p&gt;å“”å“©å“”å“©èµ„æ·±å¼€å‘å·¥ç¨‹å¸ˆ&lt;/p&gt;&lt;p&gt;&lt;span&gt;2021&lt;/span&gt;å¹´åŠ å…¥&lt;span&gt;B&lt;/span&gt;ç«™ï¼Œç°æœåŠ¡äºåŸºç¡€æ¶æ„å®æ—¶å›¢é˜Ÿï¼Œè´Ÿè´£å®æ—¶æµå¼ä¼ è¾“ä»¥åŠ&lt;span&gt;Flink connector&lt;/span&gt;ç›¸å…³å·¥ä½œã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;01 èƒŒæ™¯&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;Lanceræ˜¯Bç«™çš„å®æ—¶æµå¼ä¼ è¾“å¹³å°ï¼Œæ‰¿è½½å…¨ç«™æœåŠ¡ç«¯ã€å®¢æˆ·ç«¯çš„æ•°æ®ä¸ŠæŠ¥/é‡‡é›†ã€ä¼ è¾“ã€é›†æˆå·¥ä½œï¼Œç§’çº§å»¶è¿Ÿï¼Œä½œä¸ºæ•°ä»“å…¥å£æ˜¯Bç«™æ•°æ®å¹³å°çš„ç”Ÿå‘½çº¿ã€‚ç›®å‰æ¯æ—¥å³°å€¼ 5000w/s rps, 3PB/å¤©, 4K+æ¡æµçš„æ•°æ®åŒæ­¥èƒ½åŠ›ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3287037&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMcld0oT6DNOftQxhcvusfu9TL2atIzdqOrDcCanKfK60Cx0yOicNZCEQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æœåŠ¡å¦‚æ­¤å¤§çš„æ•°æ®è§„æ¨¡ï¼Œå¯¹äº§å“çš„å¯é æ€§ã€å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§æå‡ºäº†å¾ˆé«˜çš„è¦æ±‚ã€‚æµå¼ä¼ è¾“çš„å®ç°æ˜¯ä¸€ä¸ªå¾ˆæœ‰æŒ‘æˆ˜çš„äº‹æƒ…ï¼Œèšç„¦å¿«ã€å‡†ã€ç¨³çš„éœ€æ±‚,Â  Lanceræ•´ä½“æ¼”è¿›ç»å†äº†å¤§ç®¡é“æ¨¡å‹ã€BUç²’åº¦ç®¡é“æ¨¡å‹ã€å•æµå•ä½œä¸šæ¨¡å‹ä¸‰ä¸ªé˜¶æ®µçš„æ¼”è¿›ï¼Œä¸‹é¢æˆ‘ä»¬å¨“å¨“é“æ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;02 å…³é”®è¯è¯´æ˜&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;logidï¼šæ¯ä¸ªä¸šåŠ¡æ–¹ä¸ŠæŠ¥çš„æ•°æ®æµä»¥logidè¿›è¡Œæ ‡è¯†ï¼Œlogidæ˜¯æ•°æ®åœ¨ä¼ è¾“+é›†æˆè¿‡ç¨‹ä¸­çš„å…ƒä¿¡æ¯æ ‡è¯†ã€‚&lt;/p&gt;&lt;p&gt;æ•°æ®æºï¼šæ•°æ®è¿›å…¥åˆ°lancerçš„å…¥å£ï¼Œä¾‹å¦‚ï¼šlog-agentï¼Œbfe-agentï¼Œflink cdc&lt;/p&gt;&lt;p&gt;lancer-gatewayï¼ˆæ•°æ®ç½‘å…³ï¼‰ï¼šæ¥æ”¶æ•°æ®ä¸ŠæŠ¥çš„ç½‘å…³ã€‚&lt;/p&gt;&lt;p&gt;æ•°æ®ç¼“å†²å±‚ï¼šä¹Ÿå«åšå†…éƒ¨kafkaï¼Œç”¨äºè§£è€¦æ•°æ®ä¸ŠæŠ¥å’Œæ•°æ®åˆ†å‘ã€‚&lt;/p&gt;&lt;p&gt;lancer-collectorï¼ˆæ•°æ®åˆ†å‘å±‚ï¼‰ï¼šä¹Ÿå«åšæ•°æ®åŒæ­¥ï¼Œå¯ä»¥æ ¹æ®å®é™…åœºæ™¯å®Œæˆä¸åŒç«¯åˆ°ç«¯çš„æ•°æ®åŒæ­¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;03 æŠ€æœ¯æ¼”è¿›&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ•´ä¸ªBç«™æµå¼æ•°æ®ä¼ è¾“æ¶æ„çš„æ¼”è¿›å¤§è‡´ç»å†äº†ä¸‰ä¸ªé˜¶æ®µã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 3.1 æ¶æ„V1.0-åŸºäºflumeçš„&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å¤§ç®¡é“æ•°æ®ä¼ è¾“æ¶æ„(2019ä¹‹å‰)&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;Bç«™æµå¼ä¼ è¾“æ¶æ„å»ºç«‹ä¹‹åˆï¼Œæ•°æ®æµé‡å’Œæ•°æ®æµæ¡æ•°ç›¸å¯¹è¾ƒå°‘ï¼Œå› æ­¤é‡‡ç”¨äº†å…¨ç«™çš„æ•°æ®æµæ··åˆåœ¨ä¸€ä¸ªç®¡é“ä¸­è¿›è¡Œå¤„ç†ï¼ŒåŸºäºflumeäºŒæ¬¡å®šåˆ¶åŒ–çš„æ•°æ®ä¼ è¾“æ¶æ„ï¼Œæ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2824074&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMSAibVbsjBuC0HFxEzgvU1rnQKrsHNpSicpDoYZo5tbpnpChibd4rGVonQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;æ•´ä¸ªæ¶æ„ä»æ•°æ®ç”Ÿæˆåˆ°è½åœ°åˆ†ä¸ºï¼šæ•°æ®æºã€æ•°æ®ç½‘å…³ã€æ•°æ®ç¼“å†²ã€æ•°æ®åˆ†å‘å±‚ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®ä¸ŠæŠ¥ç«¯åŸºæœ¬é‡‡ç”¨sdkçš„æ–¹å¼ç›´æ¥å‘é€httpå’Œgrpcè¯·æ±‚ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®ç½‘å…³lancer-gatewayæ˜¯åŸºäºflumeäºŒæ¬¡è¿­ä»£çš„æ•°æ®ç½‘å…³ï¼Œç”¨äºæ‰¿è½½æ•°æ®çš„ä¸ŠæŠ¥ï¼Œæ”¯æŒä¸¤ç§åè®®ï¼šhttpç”¨äºæ‰¿è½½å…¬ç½‘æ•°æ®ä¸ŠæŠ¥ï¼ˆweb/appï¼‰ï¼Œgrpcç”¨äºæ‰¿è½½IDCå†…æœåŠ¡ç«¯æ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®ç¼“å†²å±‚ä½¿ç”¨kafkaå®ç°ï¼Œç”¨äºè§£è€¦æ•°æ®ä¸ŠæŠ¥å’Œæ•°æ®åˆ†å‘ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®åˆ†å‘å±‚lancer-collectoråŒæ ·æ˜¯åŸºäºflumeäºŒæ¬¡è¿­ä»£çš„æ•°æ®åˆ†å‘å±‚ï¼Œç”¨äºå°†æ•°æ®ä»ç¼“å†²å±‚åŒæ­¥åˆ°ODSã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;v1.0æ¶æ„åœ¨ä½¿ç”¨ä¸­æš´éœ²å‡ºä¸€äº›çš„ç—›ç‚¹ï¼š&lt;/p&gt;&lt;p&gt;1. æ•°æ®æºç«¯å¯¹äºæ•°æ®ä¸ŠæŠ¥çš„å¯æ§æ€§å’Œå®¹é”™æ€§è¾ƒå·®ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;&lt;p&gt;2. æ•´ä½“æ¶æ„æ˜¯ä¸€ä¸ªå¤§ç®¡é“æ¨¡å‹ï¼Œèµ„æºçš„åˆ’åˆ†å’Œéš”ç¦»ä¸æ˜ç¡®ï¼Œæ•´ä½“ç»´æŠ¤æˆæœ¬é«˜ï¼Œè‡ªèº«æ•…éšœéš”ç¦»æ€§å·®ã€‚&lt;/p&gt;&lt;p&gt;3. åŸºäºflumeäºŒæ¬¡è¿­ä»£çš„ä¸€äº›ç¼ºé™·ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 3.2 æ¶æ„V2.0-BUç²’åº¦çš„&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç®¡é“åŒ–æ¶æ„(2020-2021)&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;é’ˆå¯¹v1.0çš„ç¼ºé™·ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ¶æ„v2.0ï¼Œæ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3888889&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMwDEp5av81PJA4CLAft4NvicSIY6GwXINhCgcsxRGUKJWtNxY3KaJ5uQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ­¤æ¶æ„çš„å…³é”®ç»†èŠ‚å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;1. å¼ºåŒ–äº†æ•°æ®ä¸ŠæŠ¥æºç«¯çš„è¾¹ç¼˜å¯æ§èƒ½åŠ›&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;æœåŠ¡å™¨ä¸Šéƒ¨ç½²log-agentæ‰¿è½½æœåŠ¡ç«¯æ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;cdnä¸Šéƒ¨ç½²bfe-agentç”¨äºæ‰¿è½½å…¬ç½‘ï¼ˆwebç«¯ã€appç«¯ï¼‰æ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;log-agent/bfe-agentä¸­é›†æˆæ•°æ®ç¼“å†²ã€é¢„èšåˆã€æµæ§ã€é‡è¯•ã€é™çº§ç­‰èƒ½åŠ›ï¼Œæ•°æ®ä¸ŠæŠ¥sdkåªéœ€ä¸“æ³¨æ•°æ®çš„ç”Ÿæˆå’Œä¸ŠæŠ¥é€»è¾‘ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;agentç«¯åŸºäºlogidçš„BUå±æ€§ï¼Œå°†æ•°æ®è·¯ç”±åˆ°ä¸åŒçš„ç®¡é“ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;2. æ•°æ®ç®¡é“ä»¥BUä¸ºç²’åº¦æ­å»ºï¼Œç®¡é“é—´èµ„æºéš”ç¦»ï¼Œæ¯ä¸ªç®¡é“åŒ…å«æ•´å¥—ç‹¬ç«‹çš„å®Œæ•´æ•°æ®ä¼ è¾“é“¾è·¯ï¼Œå¹¶ä¸”æ•°æ®ç®¡é“æ”¯æŒåŸºäºairflowå¿«é€Ÿæ­å»ºã€‚æ•…éšœéš”ç¦»åšåˆ°BUçº§åˆ«ã€‚&lt;/p&gt;&lt;p&gt;3. æ•°æ®ç½‘å…³å‡çº§åˆ°è‡ªç ”lancer-gateway2.0ï¼Œé€»è¾‘ç²¾ç®€ï¼Œæ”¯æŒæµæ§åå‹ï¼Œå¹¶ä¸”é€‚é…kafka failoverï¼Œ åŸºäºk8sè¿›è¡Œéƒ¨ç½²ã€‚&lt;/p&gt;&lt;p&gt;4. hdfsåˆ†å‘åŸºäºflink jarè¿›è¡Œå®ç°ï¼šæ”¯æŒexactly onceè¯­ä¹‰ä¿è¯ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;V2.0æ¶æ„ç›¸å¯¹äºv1.0ï¼Œ é‡ç‚¹æå‡äº†æ•°æ®ä¸ŠæŠ¥è¾¹ç¼˜çš„å¯æ§åŠ›ã€BUç²’åº¦ç®¡é“é—´çš„èµ„æºåˆ’åˆ†å’Œéš”ç¦»æ€§ã€‚ä½†æ˜¯éšç€Bç«™æµå¼æ•°æ®ä¼ è¾“è§„æ¨¡çš„å¿«é€Ÿå¢åŠ ï¼Œå¯¹æ•°æ®ä¼ è¾“çš„æ—¶æ•ˆæ€§ã€æˆæœ¬ã€è´¨é‡ä¹Ÿæå‡ºäº†è¶Šæ¥è¶Šé«˜çš„è¦æ±‚ï¼ŒV2.0ä¹Ÿé€æ¸æš´éœ²å‡ºäº†ä¸€äº›ç¼ºé™·ï¼š&lt;/p&gt;&lt;p&gt;1. logidçº§åˆ«éš”ç¦»æ€§å·®ï¼š&lt;/p&gt;&lt;p&gt;2. ç½‘å…³æ˜¯å¼‚æ­¥å‘é€æ¨¡å‹ï¼Œæç«¯æƒ…å†µä¸‹ï¼ˆç»„ä»¶å´©æºƒï¼‰ï¼Œå­˜åœ¨æ•°æ®ä¸¢å¤±é£é™©ã€‚&lt;/p&gt;&lt;p&gt;3. odså±‚å±€éƒ¨çƒ­ç‚¹/æ•…éšœå½±å“æ”¾å¤§&lt;/p&gt;&lt;p&gt;4. hdfså°æ–‡ä»¶é—®é¢˜æ”¾å¤§&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;é’ˆå¯¹ä¸Šè¿°ç—›ç‚¹ï¼Œæœ€ç›´æ¥çš„è§£å†³æ€è·¯å°±æ˜¯æ•´ä½“æ¶æ„åšè¿›ä¸€æ­¥çš„éš”ç¦»ï¼Œä»¥å•logidä¸ºç»´åº¦å®ç°æ•°æ®ä¼ è¾“+åˆ†å‘ã€‚é¢ä¸´çš„æŒ‘æˆ˜ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å¦‚ä½•ä¿è¯å…¨é“¾è·¯ä»¥logidä¸ºå•ä½è¿›è¡Œéš”ç¦»ï¼Œå¦‚ä½•åœ¨èµ„æºä½¿ç”¨å¯æ§çš„æƒ…å†µä¸‹åˆç†æ§æµå¹¶ä¸”ä¿è¯æ•°æ®æµä¹‹é—´çš„éš”ç¦»æ€§&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;éœ€è¦ä¸å¤–éƒ¨ç³»ç»Ÿè¿›è¡Œå¤§é‡çš„äº¤äº’ï¼Œå¦‚ä½•é€‚é…å¤–éƒ¨ç³»ç»Ÿçš„å„ç§é—®é¢˜ï¼šå±€éƒ¨çƒ­ç‚¹ã€æ•…éšœ&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é›†æˆä½œä¸šçš„æ•°é‡æŒ‡æ•°çº§å¢åŠ ï¼Œå¦‚ä½•ä¿éšœé«˜æ€§èƒ½ã€ç¨³å®šæ€§çš„åŒæ—¶å¹¶ä¸”é«˜æ•ˆçš„è¿›è¡Œç®¡ç†ã€è¿ç»´ã€è´¨é‡ç›‘æ§ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 3.3 æ¶æ„V3.0-åŸºäºFlink SQLçš„&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å•æµå•ä½œä¸šæ•°æ®é›†æˆæ–¹æ¡ˆ&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åœ¨V3.0æ¶æ„ä¸­ï¼Œæˆ‘ä»¬å¯¹æ•´ä½“ä¼ è¾“é“¾è·¯è¿›è¡Œäº†å•ä½œä¸šå•æ•°æ®æµéš”ç¦»æ”¹é€ ï¼Œå¹¶ä¸”åŸºäºFlink SQLæ”¯æ’‘æ•°æ®åˆ†å‘åœºæ™¯ã€‚æ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4462963&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoM92iarl2RojRNficmaYTDeVexslK3OGnKVLWndDhiaX3ptwCk8DBE4ib49Q/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç›¸æ¯”v2.0, èµ„æºæ± å®¹é‡ç®¡ç†ä¸Šä¾ç„¶ä»¥BUä¸ºç²’åº¦ï¼Œä½†æ˜¯æ¯ä¸ªlogidçš„ä¼ è¾“å’Œåˆ†å‘ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚å…·ä½“é€»è¾‘å¦‚ä¸‹ ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;agentï¼šæ•´ä½“ä¸ŠæŠ¥SDKå’Œagentæ¥æ”¶+å‘é€é€»è¾‘æŒ‰ç…§logidè¿›è¡Œéš”ç¦»æ”¹é€ ï¼Œlogidé—´é‡‡é›†å‘é€ç›¸äº’éš”ç¦»ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;lancer-gateway3.0ï¼šlogidçš„è¯·æ±‚å¤„ç†ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œå½“kafkaå‘é€å—é˜»ï¼Œç›´æ¥åå‹ç»™agentç«¯ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®ç¼“å†²å±‚ï¼šæ¯ä¸ªlogidå¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„å†…éƒ¨kafka topicï¼Œå®ç°æ•°æ®çš„ç¼“å†²ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ•°æ®åˆ†å‘å±‚ï¼šåˆ†å‘å±‚å¯¹æ¯ä¸ªlogidçš„å¯åŠ¨ç‹¬ç«‹çš„flink sqlä½œä¸šè¿›è¡Œæ•°æ®çš„åˆ†å‘ï¼Œå•ä¸ªlogidå¤„ç†å—é˜»ï¼Œåªä¼šå¯¼è‡´å½“ä¸ªlogidçš„æ•°æ®å †ç§¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç›¸è¾ƒäºä¹‹å‰çš„å®ç°ï¼Œv3.0æ¶æ„å…·æœ‰ä»¥ä¸‹çš„ä¼˜åŠ¿ï¼š&lt;/p&gt;&lt;p&gt;1. å¯é æ€§ï¼š&lt;/p&gt;&lt;p&gt;2. å¯ç»´æŠ¤æ€§ä¸Šï¼š&lt;/p&gt;&lt;p&gt;3. å¯æ‰©å±•æ€§ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;04 V3.0æ¶æ„å…·ä½“å®ç°&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æˆ‘ä»¬é‡ç‚¹ä»‹ç»ä¸‹ï¼Œå½“å‰V3.0ç»“æ„å„ä¸ªåˆ†å±‚çš„å®ç°ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 4.1 æ•°æ®ä¸ŠæŠ¥è¾¹ç¼˜å±‚&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 4.1.1 log-agent&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åŸºäºgoè‡ªç ”ï¼Œæ’ä»¶åŒ–æ¶æ„ï¼Œéƒ¨ç½²äºç‰©ç†æœºï¼Œå¯é ã€é«˜æ•ˆçš„æ”¯æŒæœåŠ¡ç«¯æ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2444444&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMFOI3Ynnw4icNaHPXeuCqGJZCw4xDDJfmbWaMKibItgTx07Apib4tlYcXQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ—¶é—´æ¶æ„åˆ†ä¸ºæ”¶é›†ã€å¤„ç†ã€å‘é€ä¸‰å±‚ï¼Œå…·æœ‰ä»¥ä¸‹ä¸»è¦ç‰¹æ€§ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 4.1.2 bfe-agent&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åŸºäºgoè‡ªç ”ï¼Œéƒ¨ç½²äºcdnï¼Œç”¨äºæ‰¿è½½å…¬ç½‘æ•°æ®ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3611111&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoML7hCkh773jncf7LkFhfgNIfYnVtv9Tq5HXzYrMK4Us2mRwSDibPKMjw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;è¾¹ç¼˜cdnèŠ‚ç‚¹ï¼ŒcdnæœåŠ¡å™¨ä¸Šéƒ¨ç½²nginxå’Œbfe-agentï¼Œbfe-agentæ•´ä½“å®ç°æ¶æ„ä¸log-agentç±»ä¼¼ï¼Œå¯¹äºwebå’Œappç«¯æ•°æ®ä¸ŠæŠ¥è¯·æ±‚QPSé«˜ã€çªå‘æ€§å¼ºçš„ç‰¹ç‚¹ï¼Œä¸»è¦å¼ºåŒ–äº†ä»¥ä¸‹èƒ½åŠ›ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 4.2 æ•°æ®ä¸ŠæŠ¥ç½‘å…³å±‚&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;v3.0æ–¹æ¡ˆä¸­ï¼Œæ•°æ®æ•°æ®ç½‘å…³çš„æ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2583333&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMF6sOwJMuac5fusqeR6QJxVWSL8fWiaAZw9rrBF5vIRSlZibXDL6v2WAQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ•°æ®ç½‘å…³åŠŸèƒ½ç‰¹æ€§å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;kafkaçš„é€šç”¨ä»£ç†å±‚ï¼šæ”¯æŒgrpc /httpåè®®&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åŸºäºkafka send callbackå®ç°äº†åŒæ­¥å‘é€æ¨¡å‹ï¼Œä¿è¯æ•°æ®ä¸ä¸¢ï¼šæ•°æ®å†™å…¥kafkaåï¼Œå†å¯¹è¯·æ±‚è¿”å›ack&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;è¯·æ±‚ä¸æ‹†åˆ†ï¼šåŸºäºagentçš„èšåˆæœºåˆ¶ï¼Œåªæ”¯æŒå•æ¬¡è¯·æ±‚å•æ¡è®°å½•ï¼Œå› æ­¤ä¸€æ¡è®°å½•å¯¹åº”ä¸€æ¡ç¼“å­˜å±‚kakfaçš„æ¶ˆæ¯&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;lancer-gateway3.0æ ¹æ®è¯·æ±‚çš„topicä¿¡æ¯ï¼Œå‘é€è¯·æ±‚åˆ°å¯¹åº”çš„kafkaé›†ç¾¤&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;lancer-gateway3.0é€‚é…kafkaé›†ç¾¤çš„å±€éƒ¨çƒ­ç‚¹ï¼šæ”¯æŒpartitionåŠ¨æ€å‰”é™¤&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;logidä¸topicä¸€ä¸€å¯¹åº”ï¼Œå¤„ç†æµç¨‹ä¸­ç›¸äº’éš”ç¦»ï¼šä¸€ä¸ªtopicå‘é€å—é˜»ï¼Œä¸å½±å“å…¶ä»–çš„topic&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ•´ä¸ªæ•°æ®ç½‘å…³ä¸­çš„å®ç°éš¾ç‚¹æ˜¯ï¼šå•gatewayæ‰¿è½½å¤šlogidå¤„ç†çš„è¿‡ç¨‹ä¸­å¦‚ä½•ä¿è¯éš”ç¦»æ€§å’Œå…¬å¹³æ€§ï¼Œæˆ‘ä»¬å‚è€ƒäº†Golang ä¸­GMPçš„æœºåˆ¶ï¼Œæ•´ä½“æ•°æ®æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3851852&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMicKzHBGSuNWrq6o3jDrGlOsZPAW0FYiadtId8GkjjF38FBz8aj4fn0Ew/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;1. æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¼šæŠŠè¯·æ±‚æ”¾åˆ°logidå¯¹åº”çš„è¯·æ±‚é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—æ»¡ï¼Œç›´æ¥æ‹’ç»è¯·æ±‚&lt;/p&gt;&lt;p&gt;2. æ¯ä¸ªkafkaé›†ç¾¤ï¼Œä¼šåˆå§‹åŒ–ä¸€ä¸ªNå¤§å°çš„kafka producer poolï¼Œå…¶ä¸­æ¯ä¸ªproducerä¼šéå†æ‰€æœ‰çš„é˜Ÿåˆ—ï¼Œè¿›è¡Œæ•°æ®çš„å‘é€ã€‚&lt;/p&gt;&lt;p&gt;3. å¯¹äºæ¯ä¸ªlogidçš„è¯·æ±‚é˜Ÿåˆ—ï¼Œä¼šä»ä¸¤ä¸ªç»´æŠ¤é™åˆ¶èµ„æºçš„å ç”¨ï¼Œä»¥ä¿è¯å…¬å¹³æ€§å’Œéš”ç¦»æ€§&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 4.3 æ•°æ®ä¸ŠæŠ¥åˆ†å‘å±‚&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2601852&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMGOO1ALHhJeqrZ8tNKibYtg5giazhVJdLemVI28OY5micZEjccAvL9GTMQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;éšç€flinkåœ¨å®æ—¶è®¡ç®—é¢†åŸŸçš„æˆç†Ÿï¼Œå…¶é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿã€exactly onceè¯­ä¹‰ä¿è¯ã€æ‰¹æµä¸€ä½“ã€ä¸°å¯Œçš„æ•°æ®æºæ”¯æŒã€æ´»è·ƒçš„ç¤¾åŒºç­‰ä¼˜åŠ¿ï¼Œä¿ƒä½¿æˆ‘ä»¬é€‰æ‹©äº†ä»¥flink sqlä½œä¸ºæ•°æ®åˆ†å‘å±‚çš„è§£å†³æ–¹æ¡ˆã€‚å½“å‰æˆ‘ä»¬ä¸»è¦æ”¯æŒäº†kafkaâ†’hive, kafkaâ†’kafka, cdcâ†’kafka-&amp;gt;hudi/hiveä¸‰ç§åœºæ™¯ï¼š&lt;/p&gt;&lt;p&gt;1. kafkaâ†’hive&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;ä»¥æµå¼æ–¹å¼ï¼Œå®æ—¶å¯¼å…¥æ•°æ®åˆ°hiveã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;file rolling on checkï¼Œä¿è¯exactly onceã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æŒ‰ç…§event timeå†™å…¥åˆ†åŒºå’Œå½’æ¡£ï¼Œå½’æ¡£å»¶è¿Ÿå°äº15min&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ”¯æŒtext+lzo(è¡Œå­˜)å’Œ orc+zstdï¼ˆåˆ—å­˜ï¼‰ä¸¤ç§å­˜å‚¨æ ¼å¼ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ”¯æŒä¸‹æ¸¸ä½œä¸šå¢é‡åŒæ­¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;2. kafkaâ†’kafka&lt;/p&gt;&lt;p&gt;3. cdcâ†’kafka-&amp;gt;hudi/hive&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2564815&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoM1jg24A8jBJjvibdhsNHXPR323SYJbbFLyXvpaXknF4Db6vyh1Xic7CnA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;05 Flink connectoråŠŸèƒ½è¿­ä»£&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åœ¨Flink SQLæ•°æ®åˆ†å‘åœºæ™¯çš„æ”¯æŒä¸­ï¼Œé’ˆå¯¹æˆ‘ä»¬é‡åˆ°çš„å®é™…éœ€æ±‚ï¼Œå¯¹ç¤¾åŒºåŸç”Ÿconnectorè¿›è¡Œäº†å¯¹åº”çš„ä¼˜åŒ–ï¼Œæˆ‘ä»¬é’ˆå¯¹æ€§çš„ä»‹ç»ä¸‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 5.1 hive sink connectorä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;æ–­æµç©ºåˆ†åŒºæäº¤&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šBç«™ç¦»çº¿ä½œä¸šçš„æ‹‰èµ·ä¾èµ–ä¸Šæ¸¸åˆ†åŒºæäº¤ï¼ŒHDFSåˆ†åŒºæäº¤çš„åˆ¤æ–­ä¾èµ–äºä½œä¸šæ•´ä½“watermarkçš„æ¨è¿›ï¼Œä½†æ˜¯æŸäº›logidåœ¨æ–­æµçš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•è¿›è¡Œåˆ†åŒºçš„æäº¤å‘¢&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.412037&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMR7rJ0W0LruqaZnfENIp9Awtxvd2pDmtdLtic7CZicicicl9NCzgHpRvUNQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼šå½“æ‰€æœ‰çš„StreamFileWriterè¿ç»­ä¸¤æ¬¡checkpointå†…æœªå¤„ç†ä»»ä½•æ•°æ®çš„æƒ…å†µä¸‹ï¼ŒStreamingFileCommiterä¼šåˆ¤å®šå‘ç”Ÿäº†æ–­æµï¼ŒæŒ‰ç…§å½“å‰æ—¶é—´æäº¤åˆ†åŒºã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ”¯æŒä¸‹æ¸¸å¢é‡æ•°æ®åŒæ­¥&lt;/p&gt;&lt;p&gt;&lt;span&gt;èƒŒæ™¯ï¼šä¼ ç»Ÿæ–¹å¼odsåˆ°dwdçš„æ•°æ®åŒæ­¥åªæœ‰å½“odså±‚åˆ†åŒºreadyä¹‹åæ‰ä¼šå¼€å§‹ï¼Œæ—¶æ•ˆæ€§è¾ƒå·®ï¼Œå¦‚ä½•åŠ é€Ÿæ•°æ®çš„åŒæ­¥ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;è§£å†³åŠæ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¸ä¾èµ–odså±‚åˆ†åŒºreadyï¼Œå½“odsç›®å½•ä¸­æ–‡ä»¶ç”Ÿæˆåï¼Œå³å¯å¼€å§‹æ•°æ®çš„å¤„ç†ï¼Œä»¥å¢é‡çš„æ–¹å¼è¯»å–æ•°æ®æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é€šè¿‡HDFSçš„listæ“ä½œæ¥è·å–éœ€è¦è¯»å–çš„æ–‡ä»¶ï¼Œå¯¹NameNodeå‹åŠ›è¾ƒå¤§ï¼Œä¸ºæ­¤æˆ‘ä»¬æä¾›äº†æ–‡ä»¶liståˆ—è¡¨ç´¢å¼•ï¼ˆåŒ…æ‹¬æ–‡ä»¶åå’Œæ•°æ®æ¡æ•°ï¼‰ï¼Œä¸‹æ¸¸åªéœ€è¦è¯»å–ç´¢å¼•ï¼Œå³å¯è·å–å¢é‡æ–‡ä»¶åˆ—è¡¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å®ç°ä¸­ç´¢å¼•æ–‡ä»¶çŠ¶æ€è¢«æŒä¹…åŒ–åˆ°stateä¸­ï¼Œsnapshotä¸­ç”Ÿæˆ.inflightçŠ¶æ€ä¸´æ—¶æ–‡ä»¶ï¼ŒnotifyCheckpointCompleteä¸­å°†æ–‡ä»¶renameæˆcommitæ­£å¼æ–‡ä»¶, æä¾›exactly onceè¯­ä¹‰ä¿è¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¸‹æ¸¸ä½œä¸šè¯»å–æ–‡ä»¶ç´¢å¼•ï¼Œæ”¯æŒodsåˆ°dwdçš„å¢é‡æ•°æ®åŒæ­¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2268519&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMRSLtibHAr8B9xEEcYAcu1DIINX4f86W7jPpswJ0RB5xj9Sb8kPkWC5g/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.212963&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoM9j6fywYSOrlsUGcdLPBLv8AdFAyyOtKClluYQtWYwAOseFgXEwDqBQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;orc+zstd&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šç›¸è¾ƒäºè¡Œå¼å­˜å‚¨ï¼Œåˆ—å¼å­˜å‚¨åœ¨å‹ç¼©æ¯”ä¸Šæœ‰ç€æ˜¾è‘—çš„ä¼˜åŠ¿ã€‚&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼šæ”¯æŒorc+zstd, ç»è¿‡æµ‹è¯•ï¼Œç›¸è¾ƒäºtext+lzoï¼Œç©ºé—´èŠ‚çœåœ¨40%ä»¥ä¸Šã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;hdfså¼‚æ­¥close&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šsnapshoté˜¶æ®µflushæ•°æ®ï¼Œcloseæ–‡ä»¶ç»å¸¸å› ä¸ºä¸ªåˆ«æ–‡ä»¶æ…¢æ‹–ç´¯æ•´ä½“ååã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;è§£å†³åŠæ³•ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å°†closeè¶…æ—¶çš„æ–‡ä»¶æ‰”åˆ°å¼‚æ­¥é˜Ÿåˆ—ä¸­ã€‚ä¹Ÿå°±æ˜¯ close çš„åŠ¨ä½œä¸ä¼šå»å µå¡æ•´ä¸ªä¸»é“¾è·¯çš„å¤„ç†ï¼Œæå‡hdfså±€éƒ¨çƒ­ç‚¹æƒ…å†µä¸‹çš„ååã€‚å¼‚æ­¥close æ–‡ä»¶åˆ—è¡¨ä¿å­˜åˆ°pendingPartsForCurrentCheckpointï¼Œå¹¶ä¸”æŒä¹…åŒ–åˆ° state å½“ä¸­ã€‚æ•…éšœæ¢å¤æ—¶ï¼Œä¹Ÿèƒ½ç»§ç»­å¯¹æ–‡ä»¶è¿›è¡Œå…³é—­ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å¼‚æ­¥closeçš„å¼•å…¥ï¼Œä¼šå¼•å…¥åˆ†åŒºæå‰åˆ›å»ºçš„éšæ‚£ï¼Œä¸ºæ­¤å¼•å…¥äº†å¯¹äºbucketçŠ¶æ€çš„åˆ¤æ–­ã€‚å¯¹äºæŸåˆ†åŒºï¼Œåªæœ‰å½“éš¶å±äºæ­¤åˆ†åŒºçš„æ‰€æœ‰bucketä¸­çš„pendingPartsForCurrentCheckpointä¸ºç©ºï¼ˆæ‰€æœ‰æ–‡ä»¶éƒ½è¿›è¡Œäº†å…³é—­ï¼‰ï¼Œæ‰åœ¨commitç®—å­ä¸­è¿›è¡Œåˆ†åŒºçš„æäº¤ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å°æ–‡ä»¶åˆå¹¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šrolling on checkpointçš„æ»šåŠ¨ç­–ç•¥ï¼Œä¼šå¯¼è‡´æ–‡ä»¶æ•°é‡çš„è†¨èƒ€ï¼Œå¯¹namenodeäº§ç”Ÿè¾ƒå¤§çš„å‹åŠ›ã€‚&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1722222&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMWcG7HW2ylJfv2KjvKvAoicpKBDm64RQRlpLJPrOPrsdWl7YWlU51jNg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å¼•å…¥äº†å°æ–‡ä»¶åˆå¹¶åŠŸèƒ½ï¼Œåœ¨checkpointå®Œæˆåï¼Œç”± Streaming writer çš„ notifyCheckpointComplete æ–¹æ³•è§¦å‘åˆå¹¶æ“ä½œï¼Œå‘ä¸‹æ¸¸å‘é€EndCheckpointä¿¡å·ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;coordinator æ”¶åˆ°æ¯ä¸ªwriterçš„EndCheckpointåï¼Œå¼€å§‹è¿›è¡Œæ–‡ä»¶çš„åˆ†ç»„ï¼Œå°è£…æˆä¸€ä¸ªä¸ªcompactunitå¹¿æ’­ä¸‹æ¸¸ï¼Œå…¨éƒ¨unitå‘é€å®Œä¹‹åï¼Œå†å¹¿æ’­EndCompactionã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;compact operatoræ‰¾åˆ°å±äºè‡ªå·±çš„ä»»åŠ¡åå¼€å§‹å¤„ç†ï¼Œå½“æ”¶åˆ°EndCompactionåï¼Œå¾€ä¸‹æ¸¸å‘é€åˆ†åŒºæäº¤ä¿¡æ¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 5.2 kafka connectorä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;æ”¯æŒprotobuf format&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šç”¨æˆ·æœ‰å¤„ç†protobufæ ¼å¼æ•°æ®çš„éœ€æ±‚&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;kafka sinkæ”¯æŒè‡ªå®šä¹‰åˆ†æµ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šç”¨æˆ·å¸Œæœ›åœ¨ä¸€ä¸ªsqlä½œä¸šä¸­æ ¹æ®éœ€è¦ï¼Œçµæ´»å®šåˆ¶å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®škafka é›†ç¾¤å’Œtopicã€‚&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;c&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;CREATE TABLE &lt;span class=&quot;code-snippet__title&quot;&gt;sink_test&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â broker_name_arg varchar,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â topic_name_arg varchar,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â message &lt;span class=&quot;code-snippet__built_in&quot;&gt;string&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â t1 &lt;span class=&quot;code-snippet__built_in&quot;&gt;string&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;WITH&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;bootstrapServers&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;BrokerUdf(broker_name_arg)&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;bootstrapServers.udf.class&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;com.bilibili.lancer.udf.BrokerUdf&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;topic&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;TopicUdf(broker_name_arg, topic_name_arg)&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;topic.udf.class&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;com.bilibili.lancer.udf.TopicUdf&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;udf.cache.min&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;1&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;exclude.udf.field&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;false&#x27;&lt;/span&gt;, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;connector&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;kafka-diversion&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 5.3 cdc connectorä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;sqlåœºæ™¯ä¸‹å¤šåº“å¤šè¡¨åœºæ™¯æ”¯æŒ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šåŸç”Ÿçš„flink cdc sourceåœ¨å•ä¸ªsqlä»»åŠ¡ä¸­ï¼Œåªèƒ½åŒæ­¥ç›¸åŒDDLå®šä¹‰çš„è¡¨ï¼Œå¦‚æœéœ€è¦åŒæ­¥å¼‚æ„DDLï¼Œä¸å¾—ä¸å¯åŠ¨å¤šä¸ªç‹¬ç«‹çš„jobè¿›è¡ŒåŒæ­¥ã€‚è¿™æ ·ä¼šå­˜åœ¨èµ„æºçš„é¢å¤–å¼€é”€ã€‚&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6925926&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMpxSZmOAXI9uTg9MRXdBcgIxUssz8ygNbrMZXpVY7bGRPYIAQicIibPGg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;æ–­æµåœºæ™¯åˆ†åŒºæäº¤æ”¯æŒ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;èƒŒæ™¯ï¼šç”±äºæ•´ä¸ªcdcæ–¹æ¡ˆå­˜åœ¨ä¸Šæ¸¸å’Œä¸‹æ¸¸ä¸¤ä¸ªç‹¬ç«‹çš„jobï¼Œå¹¶ä¸”éƒ½æ˜¯åŸºäºevent timeæ¨è¿›watermarkåšåˆ†åŒºçš„æäº¤ï¼Œä¸‹æ¸¸watermarkçš„æ¨è¿›å—é˜»å¯èƒ½å—åˆ°æ•°æ®æ­£å¸¸æ–­æµæˆ–è€…ä¸Šæ¸¸ä½œä¸šå¼‚å¸¸ä¸¤ç§åŸå› çš„å½±å“ï¼Œå¦‚æœæ­£ç¡®åˆ¤æ–­å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5259259&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMia4yDibEwicxlbuOqWG79VuPUHHWSDcWPDNucSef1IuScmiap8U06BsYIA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;c&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;CREATE TABLE &lt;span class=&quot;code-snippet__title&quot;&gt;mysql_binlog&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â host_name STRING METADATA Â  Â  Â  Â  Â  Â  Â FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;host_name&#x27;&lt;/span&gt; VIRTUAL,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â db_name STRING METADATA Â  Â  Â  Â  Â  Â  Â  Â FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;database_name&#x27;&lt;/span&gt; VIRTUAL,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â table_name STRING METADATA Â  Â  Â  Â  Â  Â  FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;table_name&#x27;&lt;/span&gt; VIRTUAL,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â operation_ts TIMESTAMP(&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;) METADATA Â  Â  FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;op_ts&#x27;&lt;/span&gt; VIRTUAL,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â sequence BIGINT METADATA Â  Â  Â  Â  Â  Â  Â  FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;sequence&#x27;&lt;/span&gt; VIRTUAL, Â &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â heartbeat BOOLEAN METADATA Â  Â  Â  Â  Â  Â  FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;heartbeat&#x27;&lt;/span&gt;VIRTUAL, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â mtime TIMESTAMP(&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;) METADATA Â  Â  Â  Â  Â  Â FROM &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mtime&#x27;&lt;/span&gt;VIRTUAL, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â id BIGINT NOT &lt;span class=&quot;code-snippet__literal&quot;&gt;NULL&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â filed_list BYTES NOT &lt;span class=&quot;code-snippet__literal&quot;&gt;NULL&lt;/span&gt;, Â &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â PRIMARY KEY(id) NOT ENFORCED&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;code-snippet__params&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;connector&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;mysql-cdc&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;hostname&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;xxxx&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;port&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;3552&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;username&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;datacenter_cdc&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;password&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;xxx&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;database-name&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;xxx&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;debezium.format&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;bytes&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;table-name&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;xxx&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;server-time-zone&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;Asia/Shanghai&#x27;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;heartbeat.enable&#x27;&lt;/span&gt;=&lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;true&#x27;&lt;/span&gt;, Â &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; Â &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;scan.incremental.snapshot.chunk.size&#x27;&lt;/span&gt; = &lt;span class=&quot;code-snippet__string&quot;&gt;&#x27;80960&#x27;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;)&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;06Â æ¶æ„ç¨³å®šæ€§ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸ºäº†ä¿éšœæµå¼ä¼ è¾“ç¨³å®šå’Œé«˜æ•ˆè¿è¡Œï¼Œæˆ‘ä»¬åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œåˆ†åˆ«ä»‹ç»ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.1 ç®¡é“çƒ­ç‚¹ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä½œä¸šåœ¨æ­£å¸¸è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸é‡åˆ°å±€éƒ¨çƒ­ç‚¹é—®é¢˜ï¼Œä¾‹å¦‚kafka/hdfs ioçƒ­ç‚¹å¯¼è‡´å±€éƒ¨å¹¶è¡Œåº¦æ¶ˆè´¹é€Ÿåº¦ä¸‹é™æˆ–è€…å†™å…¥å—é˜»ã€yarné˜Ÿåˆ—æœºå™¨loadä¸å‡åŒ€å¯¼è‡´ä½œä¸šéƒ¨åˆ†å¹¶è¡Œåº¦æ¶ˆè´¹èƒ½åŠ›ä¸å¦‚ï¼Œè™½ç„¶åŸå› å¤šç§å¤šæ ·ï¼Œä½†æ˜¯æœ¬è´¨çœ‹ï¼Œè¿™äº›é—®é¢˜çš„ä¸€ä¸ªå…±æ€§å°±æ˜¯ç”±äºå±€éƒ¨çƒ­ç‚¹å¯¼è‡´å±€éƒ¨æ•°æ®å»¶è¿Ÿã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆ†åˆ«ä»å±€éƒ¨æµé‡è°ƒåº¦å’Œå…¨å±€æµé‡è°ƒåº¦ä¸¤ä¸ªç»´åº¦è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å±€éƒ¨æµé‡è°ƒåº¦&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;å±€éƒ¨æµé‡è°ƒåº¦çš„ä¼˜åŒ–æ€è·¯æ˜¯åœ¨å•ä¸ªproducerå’Œtaskå†…éƒ¨ï¼Œåˆ†åŒºä¹‹é—´è¿›è¡Œæµé‡çš„é‡åˆ†é…ã€‚ç›®å‰åœ¨ä¸¤ä¸ªç‚¹å°±è¡Œäº†ä¼˜åŒ–ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;bsql Task managerå†…éƒ¨subtaskä¸Šä¸‹æ¸¸é€šä¿¡ä¼˜åŒ–ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é›†æˆä½œä¸šå¹¶æ²¡æœ‰keybyçš„éœ€æ±‚ï¼ŒåŸºäºFlink Credit-based Flow Controlåå‹æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡Backlog Sizeåˆ¤æ–­ä¸‹æ¸¸ä»»åŠ¡çš„å¤„ç†è´Ÿè½½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†Round-robinå‘é€çš„æ–¹å¼ä¿®æ”¹ä¸ºæ ¹æ®Channelçš„Backlog Sizeä¿¡æ¯é€‰æ‹©è´Ÿè½½æ›´ä½çš„ä¸‹æ¸¸Channelå‘é€çš„æ–¹å¼ã€‚æ³¨æ„ï¼šæ­¤ç§ç­–ç•¥åªæœ‰sourceå’Œsinkç«¯ä¹‹é—´æ˜¯rebalance/rescaleæ—¶ï¼Œæ‰æœ‰æ•ˆæœã€‚ä¼šé€ æˆä¸€å®šçš„åºåˆ—åŒ–å¼€é”€ï¼Œä½†æ˜¯æµ‹è¯•ä¸‹æ¥å¯ä»¥æ¥å—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3222222&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMlj1AULzUmJoggwetGDAh5eIV58OIQ0XsNXNwnt26aicqe4SxRsfLvyg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;kafka producer partitionè‡ªåŠ¨å‰”é™¤æœºåˆ¶ï¼š&lt;/p&gt;&lt;p&gt;kafka produceråœ¨å‘é€æ•°æ®callbackå¼‚å¸¸ï¼ˆç»å¤§å¤šæ•°æ˜¯timeoutï¼‰è¶…å‡ºä¸€å®šçš„é˜ˆå€¼ï¼Œä¼šå°†å¯¹åº”tpä»available partition listä¸­è¿›è¡Œå‰”é™¤ï¼Œåç»­recordå°†ä¸å†å‘é€åˆ°å‰”é™¤çš„tpã€‚åŒæ—¶ï¼Œè¢«å‰”é™¤tpåç»­å°†è¿›è¡Œæ¢å¤æ€§æµ‹è¯•ï¼Œå¦‚æœæ•°æ®å¯ä»¥æ­£å¸¸å‘é€ï¼Œå°†é‡æ–°æ”¾å…¥åˆ°available partition listä¸­ã€‚ç›®å‰æ­¤æœºåˆ¶åœ¨flink kafka sink connectorå’Œæ ‡å‡†kafka clientéƒ½è¿›è¡Œäº†å®ç°ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å…¨å±€æµé‡è°ƒåº¦&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å…¨å±€æµé‡è°ƒåº¦çš„ä¼˜åŒ–æ€è·¯æ˜¯æ•´ä¸ªä¼ è¾“é“¾è·¯å±‚çº§ä¹‹é—´çš„æµé‡è°ƒé…ï¼Œç›®å‰æˆ‘ä»¬å°†ç”Ÿäº§è€…(lancer-gateway)ä¸æ¶ˆè´¹è€…(flink sql kafka source)è¿›è¡Œè”åŠ¨ï¼Œå½“æ¶ˆè´¹è€…å‡ºç°tpæ¶ˆè´¹lagçš„æƒ…å†µï¼Œé€šè¿‡æ³¨å†Œé»‘åå•ï¼ˆlag partitionï¼‰åˆ°zookeeperï¼Œä¸Šæ¸¸ç”Ÿäº§è€…æ„ŸçŸ¥é»‘åå•ï¼Œåœæ­¢å‘é«˜lag partitionä¸­ç»§ç»­å‘é€æ•°æ®ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3935185&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMRLjq48JgOyDveAECchWeOTvx8rF8CwzmSEyDdAPdyxfQmDn0ctxcDA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;Flink kafka sourceä¸­åŸºäºflink AggregateFunctionæœºåˆ¶ï¼Œkafka source subtaskä¸ŠæŠ¥lagåˆ°job managerï¼Œjob manageråŸºäºå…¨å±€lagåˆ¤æ–­æ³¨å†Œé»‘åå•åˆ°zookeeper&lt;/p&gt;&lt;p&gt;é»‘åå•åˆ¤æ–­é€»è¾‘ï¼šå½“å•tp lag &amp;gt; min(å…¨å±€lagå¹³å‡å€¼ï¼Œå…¨å±€lagä¸­ä½æ•°ï¼‰* å€æ•° &amp;amp;&amp;amp; å•tp lag å¤§äº lagç»å¯¹å€¼ï¼Œ å…¶ä¸­ &quot;å•tp lag å¤§äº lagç»å¯¹å€¼&quot; æ˜¯ä¸ºäº†è§„é¿æ­¤æœºåˆ¶è¿‡äºæ•æ„Ÿï¼Œ&quot;å•tp lag &amp;gt; min(å…¨å±€lagå¹³å‡å€¼ï¼Œå…¨å±€lagä¸­ä½æ•°ï¼‰* å€æ•°&quot; ç”¨äºç­›é€‰å‡ºå¤´éƒ¨çš„lag tpã€‚ä¸ºäº†é˜²æ­¢é»‘åå•æ¯”ä¾‹è¿‡å¤§ï¼Œé»‘åå•å‰”é™¤çš„tpæ•°é‡ä¸Šé™ä¸å¾—å¤§äºå…¨éƒ¨tpæ•°é‡çš„ä¸€å®šæ¯”ä¾‹ã€‚&lt;/p&gt;&lt;p&gt;å±€éƒ¨æµé‡è°ƒåº¦å’Œå…¨å±€æµé‡è°ƒåº¦åœ¨ç®¡é“çƒ­ç‚¹ä¼˜åŒ–æ•ˆæœä¸Šå­˜åœ¨ä¸€å®šçš„äº’è¡¥æ€§ï¼Œä½†æ˜¯ä¹Ÿå„æœ‰ä¼˜åŠ¿ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2888889&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMd3ic3IzxicBa8dNjj1D8Qlo82Jg3DBhpPBO6kic2fGUMkcbXHj7xGibylw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.2 å…¨é“¾è·¯åŸ‹ç‚¹è´¨é‡ç›‘æ§&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ•°æ®è´¨é‡æ˜¯é‡è¦ä¸€ç¯ï¼Œé€šå¸¸æ•°æ®è´¨é‡åŒ…å«å®Œæ•´æ€§ã€æ—¶æ•ˆæ€§ã€å‡†ç¡®æ€§ã€ä¸€è‡´æ€§ã€å”¯ä¸€æ€§ç­‰æ–¹é¢ï¼Œå¯¹äºæ•°æ®ä¼ è¾“åœºæ™¯ï¼Œå½“é¢æˆ‘ä»¬é‡ç‚¹å…³æ³¨å®Œæ•´æ€§å’Œæ—¶æ•ˆæ€§ä¸¤ä¸ªæ–¹é¢&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3594891&quot; data-type=&quot;png&quot; data-w=&quot;548&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoM2zgnXW6lxJGZ911vuQsibvk2FWHGDWP7D0IbS2dSefbotzoeB7qGMEA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ•´ä½“è´¨é‡æ–¹æ¡ˆå¤§è‡´åŒ…å«ç›‘æ§æ•°æ®é‡‡é›†å’Œè§„åˆ™é…ç½®ä¸¤ä¸ªå¤§çš„æ–¹å‘ï¼Œæ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3824074&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMIfptogEcMPnGgvLrAFhhicj6VmuhQSCajz0BjcqibqzjHkc9mRrp9Srw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç›‘æ§æ•°æ®é‡‡é›†&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æˆ‘ä»¬è‡ªç ”äº†traceç³»ç»Ÿï¼šä»¥logidä¸ºå•ä½ï¼Œæˆ‘ä»¬åœ¨æ•°æ®å¤„ç†æµç¨‹ä¸­çš„æ¯ä¸€å±‚éƒ½è¿›è¡Œäº†ç›‘æ§åŸ‹ç‚¹&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;æ¯å±‚åŸ‹ç‚¹åŒ…å«ä¸‰ä¸ªæ–¹é¢ï¼šæ¥æ”¶ã€å‘é€ã€å†…éƒ¨é”™è¯¯ã€‚æ‰€æœ‰åŸ‹ç‚¹æ•°æ®ä»¥æ•°æ®åˆ›å»ºæ—¶é—´ï¼ˆctimeï¼‰è¿›è¡Œçª—å£å¯¹é½ï¼Œå¹¶ä¸”é€šè¿‡æ›´æ–°utimeä»¥ç»Ÿè®¡å±‚é—´å’Œå±‚å†…çš„å¤„ç†è€—æ—¶ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é€šè¿‡ç›‘æ§åŸ‹ç‚¹å¯ä»¥å®æ—¶ç»Ÿè®¡å‡ºï¼šç«¯åˆ°ç«¯ã€å±‚çº§é—´ã€å±‚çº§å†…éƒ¨çš„æ•°æ®å¤„ç†è€—æ—¶ã€å®Œæ•´æ€§ã€é”™è¯¯æ•°ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å½“å‰æ–¹æ¡ˆç¼ºé™·ï¼šflink sqlæŒ‚æ‰ä»ckæ¢å¤ï¼Œç›‘æ§æ•°æ®ä¸èƒ½ä¿è¯å¹‚ç­‰ï¼Œåç»­éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.337963&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMnxuOCaLXezRRV3evZrwQn3osHtiaEcBOjubGFtE5uoCxAqWfz1iaYTAQ/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç›‘æ§æŠ¥è­¦è§„åˆ™&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æˆ‘ä»¬é’ˆå¯¹æ•°æ®æµè¿›è¡Œäº†åˆ†çº§ï¼Œæ¯ä¸ªç­‰çº§æŒ‡å®šäº†ä¸åŒçš„ä¿éšœçº§åˆ«ï¼ˆSLAï¼‰ï¼ŒSLAç ´çº¿ï¼ŒæŠ¥è­¦é€šçŸ¥oncallåŒå­¦å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;å»¶è¿Ÿå½’æ¡£æŠ¥è­¦ï¼šhdfsåˆ†åŒºæäº¤å»¶è¿Ÿï¼Œè§¦å‘æŠ¥è­¦ã€‚&lt;/p&gt;&lt;p&gt;å®æ—¶å®Œæ•´æ€§ç›‘æ§ï¼šåŸºäºtraceæ•°æ®ï¼Œå®æ—¶ç›‘æ§ç«¯åˆ°ç«¯çš„å®Œæ•´æ€§ï¼Œæ¥æ”¶æ¡æ•°/è½åœ°æ¡æ•°&lt;/p&gt;&lt;p&gt;ç¦»çº¿æ•°æ®å®Œæ•´æ€§ï¼šhdfsåˆ†åŒºreadyåï¼Œè§¦å‘dqcè§„åˆ™è¿è¡Œï¼Œå¯¹æ¯”æ¥æ”¶æ¡æ•°ï¼ˆtraceæ•°æ®ï¼‰/è½åœ°æ¡æ•°ï¼ˆhiveæŸ¥è¯¢æ¡æ•°ï¼‰&lt;/p&gt;&lt;p&gt;ä¼ è¾“å»¶è¿Ÿç›‘æ§ï¼šåŸºäºtraceæ•°æ®ï¼Œè®¡ç®—ç«¯åˆ°ç«¯æ•°æ®ä¼ è¾“å»¶è¿Ÿçš„åˆ†ä½æ•°ã€‚&lt;/p&gt;&lt;p&gt;DQCé˜»å¡ï¼šç¦»çº¿æ•°æ®å®Œæ•´æ€§å¼‚å¸¸åï¼Œé˜»å¡ä¸‹æ¸¸ä½œä¸šçš„è°ƒåº¦ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.3 kafkaåŒæ­¥æ–­æµé‡å¤ä¼˜åŒ–&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç›¸å¯¹æ¯”2.0æ–¹æ¡ˆä¸­flumeæ–¹æ¡ˆï¼ŒåŸºäºflink sqlçš„kafkaåˆ°kafkaçš„å®ç°æ–¹æ¡ˆæ˜æ˜¾çš„ä¸€ä¸ªå˜åŒ–å°±æ˜¯ä½œä¸šçš„é‡å¯ã€æ•…éšœæ¢å¤ä¼šå¯¼è‡´æ•´ä½“çš„æ–­æµå’Œä¸€å®šæ¯”ä¾‹çš„æ•°æ®é‡å¤ï¼ˆä»checkpointæ¢å¤ï¼‰ï¼Œå› æ­¤å¦‚ä½•é™ä½ç”¨æˆ·å¯¹æ­¤ç±»é—®é¢˜çš„æ„ŸçŸ¥ï¼Œè‡³å…³é‡è¦ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;é¦–å…ˆæ¢³ç†ä¸‹å¯èƒ½é€ æˆé—®é¢˜å‡ºç°çš„åŸå› ï¼š1ï¼‰ä½œä¸šå‡çº§é‡å¯ 2ï¼‰task manageræ•…éšœ 3ï¼‰job manager æ•…éšœ 4ï¼‰checkpointè¿ç»­å¤±è´¥ï¼ŒåŒæ—¶æ ¹æ®flink jobæ•´ä½“æäº¤æµç¨‹ï¼Œå½±å“ä½œä¸šæ¢å¤é€Ÿåº¦çš„å…³é”®ç¯èŠ‚æ˜¯èµ„æºçš„ç”³è¯·ã€‚æ ¹æ®ä¸Šè¿°åˆ†æå’Œé’ˆå¯¹æ€§æµ‹è¯•ï¼Œé’ˆå¯¹kafkaåŒæ­¥åœºæ™¯çš„æ–­æµé‡å¤é‡‡ç”¨äº†å¦‚ä¸‹ä¼˜åŒ–æ–¹å¼ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;checkpoint intervalè®¾ç½®æˆ10sï¼šé™ä½ä»checkpointæ¢å¤å¯¼è‡´çš„æ•°æ®é‡å¤æ¯”ä¾‹&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åŸºäºsessionæ¨¡å¼æäº¤ä½œä¸šï¼šä½œä¸šé‡å¯æ— éœ€é‡å¤ç”³è¯·èµ„æº&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;jobmanager.execution.failover-strategy=regionï¼Œå•ä¸ªtmæŒ‚æ‰åï¼Œåªæ¢å¤å¯¹åº”çš„regionï¼Œä¸ç”¨æ¢å¤æ•´ä¸ªä½œä¸šã€‚é›†æˆä½œä¸šDAGç›¸å¯¹ç®€å•ï¼Œå¯ä»¥å°½é‡è§„é¿rebalanceçš„å‡ºç°ï¼Œé™ä½æ¢å¤çš„æ¯”ä¾‹ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä½¿ç”¨å°èµ„æºç²’åº¦task managerï¼ˆ2core cpuï¼Œ8GB memoryï¼Œ2 slotï¼‰ï¼šåŒç­‰èµ„æºè§„æ¨¡ä¸‹ï¼Œtmæ•°é‡å˜å¤šï¼Œå•tmæŒ‚æ‰å½±å“ç¨‹åº¦æ˜æ˜¾å˜ä½ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é’ˆå¯¹é«˜ä¼˜ä½œä¸šå†—ä½™task managerï¼šå†—ä½™ä¸€ä¸ªtmï¼Œå½“å•ä¸ªtmæŒ‚æ‰æƒ…å†µä¸‹ï¼Œæµé‡å‡ ä¹æ²¡å—å½±å“&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åŸºäºzookeeperå®ç°job manager haï¼šåœ¨å¼€å¯jm haåï¼ŒjmæŒ‚æ‰ä»»åŠ¡æœªæ–­æµ&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é’ˆå¯¹checkpointè¿ç»­å¤±è´¥çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¼•å…¥äº†regional checkpointï¼Œä»¥regionï¼ˆè€Œä¸æ˜¯æ•´ä¸ªtopologyï¼‰ä½œä¸ºcheckpointç®¡ç†çš„å•ä½ï¼Œé˜²æ­¢ä¸ªåˆ«taskçš„ckå¤±è´¥é€ æˆæ•´ä¸ªä½œä¸šçš„å¤±è´¥ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢åœ¨ä¸ªåˆ«taskçš„ckè¿ç»­å¤±è´¥çš„æƒ…å†µä¸‹éœ€è¦å›æº¯çš„æ•°æ®é‡ï¼Œå‡å°é›†ç¾¤æ³¢åŠ¨ï¼ˆç½‘ç»œï¼ŒHDFS IOç­‰ï¼‰å¯¹checkpointçš„å½±å“&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ç»è¿‡ä¸Šè¿°ä¼˜åŒ–ï¼Œç»è¿‡æµ‹è¯•ä¸€ä¸ªï¼ˆ50coreï¼Œ400GB memoryï¼Œ50 slotï¼‰è§„æ¨¡çš„ä½œä¸šï¼Œä¼˜åŒ–æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2504708&quot; data-type=&quot;png&quot; data-w=&quot;1062&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMfDFrxyibX10iaUHiah0CsLBBaI3tLJ1ElcJsWzEQYFrLRhWSSxsetMQMw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.4 kafkaæµé‡åŠ¨æ€failoverèƒ½åŠ›&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸ºäº†ä¿è¯æ•°æ®åŠæ—¶ä¸ŠæŠ¥ï¼ŒLancerå¯¹äºæ•°æ®ç¼“å†²å±‚çš„kafkaçš„å‘é€æˆåŠŸç‡ä¾èµ–æ€§å¾ˆé«˜ï¼Œç»å¸¸é‡åˆ°çš„caseæ˜¯é«˜å³°æœŸæˆ–è€…æµé‡æŠ–åŠ¨å¯¼è‡´çš„kafkaå†™å…¥ç“¶é¢ˆã€‚å‚è€ƒNetflix Hystrix ç†”æ–­åŸç†ï¼Œæˆ‘ä»¬åœ¨ç½‘å…³å±‚å®ç°äº†ä¸€ç§åŠ¨æ€ kafka failoveræœºåˆ¶ï¼šç½‘å…³å¯ä»¥æ ¹æ®å®æ—¶çš„æ•°æ®å‘é€æƒ…å†µè®¡ç®—ç†”æ–­ç‡ï¼Œæ ¹æ®ç†”æ–­ç‡å°†æµé‡åœ¨normal kafkaå’Œfailover kafkaä¹‹é—´åŠ¨æ€è°ƒèŠ‚ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.1611111&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMOxJa4wpqDMy9AR3C2U5ibclDLGLtM21jWLQFM8XA8efwKbRlBVxF5Xg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.2722689&quot; data-type=&quot;png&quot; data-w=&quot;595&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoM6icichI5wb0CveTy8SibvOibBHnl67Jst39Gk8b0muvyvdQRH3gS7kurcA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.5 å…¨é“¾è·¯æµæ§ã€åå‹ã€é™çº§&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä»ç«¯ä¸Šä¸ŠæŠ¥åˆ°æ•°æ®è½åœ°çš„æ•´ä¸ªæµç¨‹ä¸­ï¼Œä¸ºäº†ä¿è¯ç¨³å®šæ€§å’Œå¯æ§æ€§ï¼Œé™¤äº†å‰è¿°æ‰‹æ®µï¼Œæˆ‘ä»¬è¿˜å¼•å…¥äº†æ•´ä½“æµæ§ã€åå‹ã€é™çº§ç­‰æŠ€æœ¯æ‰‹æ®µï¼Œä¸‹é¢ç»¼åˆä»‹ç»ä¸‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3805556&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMaskHtVVP999fXV9ZXkZg0qpAtyHD9ibNrGCqUOvampx2p5GQCaC41hw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä»åå‘å‰ï¼Œåˆ†ä¸ºå‡ ä¸ªç¯èŠ‚ï¼š&lt;/p&gt;&lt;p&gt;1. æ•°æ®åˆ†å‘å±‚:Â &lt;/p&gt;&lt;p&gt;2. æ•°æ®ç½‘å…³å±‚ï¼š&lt;/p&gt;&lt;p&gt;3. æ•°æ®ä¸ŠæŠ¥å±‚ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;é€‚é…æ•°æ®ç½‘å…³çš„æµæ§è¿”å›ï¼šåšé€€é¿é‡è¯•&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åŸºäºæœ¬åœ°ç£ç›˜è¿›è¡Œæ•°æ®çš„å †ç§¯&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é…ç½®åŠ¨æ€æ¨é€ç”Ÿæ•ˆä¸»åŠ¨é‡‡æ ·/é™çº§å †ç§¯&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;Â 6.6 å¼€å‘é˜¶æ®µè´¨é‡éªŒè¯&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸ºäº†åœ¨å¼€å‘é˜¶æ®µä¿è¯æ•´ä½“æœåŠ¡çš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§ï¼Œå¼€å‘é˜¶æ®µæˆ‘ä»¬è®¾è®¡äº†ä¸€å¥—å®Œæ•´çš„æµ‹è¯•æ¡†æ¶ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;07 æœªæ¥å±•æœ›&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4222222&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/1BMf5Ir754QRKRlIsGfFjTlJDQbp5EoMbzKWhA2NqZtZ7kvjUkAdpORh8SdlA8Zg36iazYhgJw9H4w5ZGKqjRgA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;é“¾è·¯æ¶æ„å‡çº§ï¼Œæ¥å…¥å…¬å¸çº§çš„æ•°æ®ç½‘å…³ï¼ˆDatabusï¼‰ï¼Œæ¶æ„ç»Ÿä¸€å¹¶ä¸”å¯ä»¥æ¶µç›–æ›´å¤šçš„æ•°æ®ä¸ŠæŠ¥åœºæ™¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;äº‘åŸç”Ÿï¼Œæ‹¥æŠ±K8Sï¼Œé¢å‘ç”¨æˆ·quotaç®¡ç†ï¼Œå¹¶ä¸”å®ç°è‡ªåŠ¨èµ„æºAutoScaleã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ‹¥æŠ±æ‰¹æµä¸€ä½“ï¼Œå¼ºåŒ–å¢é‡åŒ–é›†æˆï¼Œè¦†ç›–ç¦»çº¿æ‰¹é›†æˆåœºæ™¯ï¼Œæ‰“é€ ç»Ÿä¸€åŸºäºFlinkçš„ç»Ÿä¸€åŒ–é›†æˆæ¡†æ¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;â€”â€” æ´»åŠ¨æ¨èâ€”â€”&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong/&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;578&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;355&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6133333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/8XkvNnTiapON4pD16sJpLFFB7DUCsM9icweGC1rTcV4vvHgwW1NmWuZtTcz6eajczEpBa4sTZKgzD9nPHjYYEFqw/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;900&quot;/&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å‚è€ƒé˜…è¯»ï¼š&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ¬æ–‡ç”±é«˜å¯ç”¨æ¶æ„è½¬è½½ã€‚æŠ€æœ¯åŸåˆ›åŠæ¶æ„å®è·µæ–‡ç« ï¼Œæ¬¢è¿é€šè¿‡å…¬ä¼—å·èœå•ã€Œè”ç³»æˆ‘ä»¬ã€è¿›è¡ŒæŠ•ç¨¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mp-common-profile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAwMDU1MTE1OQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/8XkvNnTiapONl06YmHad4csRU93kcbJ76JIWzEAmOSVooibFHHkzfWzzkc7dpU4H06Wp9F6Z687vIghdawxvl47A/0?wx_fmt=png&quot; data-nickname=&quot;é«˜å¯ç”¨æ¶æ„&quot; data-alias=&quot;ArchNotes&quot; data-signature=&quot;é«˜å¯ç”¨æ¶æ„å…¬ä¼—å·ã€‚&quot; data-from=&quot;0&quot; data-is_biz_ban=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d9515e0a0934ccb8646e114c5ad2103d</guid>
<title>ä½ çœŸçš„ä¼šé¢è¯•å—ï¼Ÿ</title>
<link>https://toutiao.io/k/1zwlcj0</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                           autoTypeSetting24psection&amp;#10;                          &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Tomå“¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å°±ä»Šå¹´å¤§ç¯å¢ƒæ¥çœ‹ï¼Œè·³æ§½æˆåŠŸçš„éš¾åº¦æ¯”å¾€å¹´é«˜å¾ˆå¤šï¼Œä¸€ä¸ªæ˜æ˜¾çš„æ„Ÿå—ï¼šä»Šå¹´çš„JavaæŠ€æœ¯æ ˆé¢è¯•ï¼Œæ— è®ºä¸€é¢è¿˜æ˜¯äºŒé¢ï¼Œéƒ½ç‰¹åˆ«è€ƒéªŒJavaç¨‹åºå‘˜çš„æŠ€æœ¯åŠŸåº•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä»Šå¤©ï¼Œå°±æ¥èŠä¸€èŠé¢è¯•çš„ä¸€äº›ç»éªŒåˆ†äº«ï¼Œ&lt;span&gt;å¸Œæœ›èƒ½å¤§å®¶æä¾›ä¸€äº›å¸®åŠ©&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;åŸè´´é“¾æ¥ï¼šhttps://www.zhihu.com/question/414988138/answer/2181576552&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-pid=&quot;H2q46kuL&quot;&gt;&lt;span&gt;1ã€åˆ«è®©äººæ„Ÿè§‰ä½ åªä¼šå±±å¯¨åˆ«äººçš„ä»£ç &lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;11zDQoK9&quot;&gt;&lt;span&gt;æ¡†æ¶æ˜¯é‡ç‚¹ï¼Œä½†åˆ«è®©äººæ„Ÿè§‰ä½ åªä¼šå±±å¯¨åˆ«äººçš„ä»£ç ï¼åœ¨é¢è¯•å‰ï¼Œé¢è¯•å®˜ä¸€èˆ¬ä¼šé˜…è¯»ç®€å†ä»¥æŸ¥çœ‹å€™é€‰äººåœ¨æ¡†æ¶æ–¹é¢çš„é¡¹ç›®ç»éªŒï¼Œåœ¨å€™é€‰äººçš„é¡¹ç›®ä»‹ç»çš„ç¯èŠ‚ï¼Œé¢è¯•å®˜ä¹Ÿä¼šç€é‡å…³æ³¨å€™é€‰äººæœ€è¿‘çš„æ¡†æ¶ç»éªŒï¼Œç›®å‰æ¯”è¾ƒçƒ­é—¨çš„æ˜¯SSMã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;3ifH4mMf&quot;&gt;&lt;span&gt;ä¸è¿‡ï¼Œä¸€èˆ¬å·¥ä½œåœ¨5å¹´å†…çš„å€™é€‰äººï¼Œå¤§å¤šä»…ä»…æ˜¯èƒ½â€œå±±å¯¨â€åˆ«äººçš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´èƒ½åœ¨ç°æœ‰æ¡†æ¶çš„åŸºç¡€ä¸Šï¼Œç…§ç€åˆ«äººå†™çš„æµç¨‹ï¼Œæ‰©å±•å‡ºæ–°çš„åŠŸèƒ½æ¨¡å—ã€‚æ¯”å¦‚è¦å†™ä¸ªè‚¡ç¥¨æŒ‚å•çš„åŠŸèƒ½æ¨¡å—ï¼Œæ˜¯ä¼šæ¨¡ä»¿ç°æœ‰çš„ä¸‹å•æµç¨‹ï¼Œç„¶åä»å‰ç«¯åˆ°åç«¯å†åˆ°æ•°æ®åº“ï¼Œä¾æ ·ç”»è‘«èŠ¦å†™ä¸€éï¼Œæœ€å¤šæŠŠåŠŸèƒ½ç›¸å…³çš„ä»£ç ç‚¹æ”¹æ‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;9-q5JAmj&quot;&gt;&lt;span&gt;å…¶å®æˆ‘ä»¬æ¯ä¸ªäººéƒ½è¿™æ ·è¿‡æ¥çš„ï¼Œä½†åœ¨é¢è¯•æ—¶ï¼Œå¦‚æœä½ ä»…ä»…è¡¨ç°å‡ºè¿™æ ·çš„èƒ½åŠ›ï¼Œå°±å’Œå¤§å¤šæ•°äººçš„æ°´å¹³å·®ä¸å¤šäº†ï¼Œåœ¨è¿™ç‚¹å°±æ²¡æ³•ä½“ç°å‡ºä½ çš„ä¼˜åŠ¿äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;F6YXuCEB&quot;&gt;&lt;span&gt;æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœå•çº¯ä½¿ç”¨SSMæ¡†æ¶ï¼Œå¤§å¤šæ•°é¡¹ç›®éƒ½ä¼šæœ‰ç—›ç‚¹ã€‚æ¯”å¦‚æ•°æ®åº“æ€§èƒ½å·®ï¼Œæˆ–è€…ä¸šåŠ¡æ¨¡å—æ¯”è¾ƒå¤æ‚ï¼Œå¹¶å‘é‡æ¯”è¾ƒé«˜ï¼Œç”¨Spring MVCé‡Œçš„Controlleræ— æ³•æ»¡è¶³è·³è½¬çš„éœ€æ±‚ã€‚æ‰€ä»¥æˆ‘åœ¨é¢è¯•æ—¶ï¼Œé¢è¯•å®˜è¿˜é—®äº†ä¸€ä¸ªé—®é¢˜ï¼šé™¤äº†ä¾ç…§ç°æœ‰æ¡†æ¶å†™ä¸šåŠ¡ä»£ç æ—¶ï¼Œä½ è¿˜åšäº†å“ªäº›æ”¹åŠ¨ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;bqtYjBKf&quot;&gt;&lt;span&gt;æˆ‘çš„å›ç­”æ˜¯ï¼šå¢åŠ äº†Redisç¼“å­˜ï¼Œä»¥é¿å…é¢‘ç¹è°ƒç”¨ä¸€äº›ä¸å˜çš„æ•°æ®ã€‚æˆ–è€…ï¼Œåœ¨MyBitasçš„xmlé‡Œï¼Œselectè¯­å¥whereæ¡ä»¶æœ‰is nullï¼Œå³è¿™ä¸ªå€¼æœ‰å°±å¢åŠ ä¸€ä¸ªwhereæ¡ä»¶ï¼Œå¯¹æ­¤ï¼Œä¼šå¯¹ä»»ä½•ä¸€ä¸ªwhereå¢åŠ ä¸€ä¸ªä¸å¸¦is nullçš„æŸ¥è¯¢æ¡ä»¶ï¼Œä»¥å…è¯¥è¯­å¥å½“ä¼ å…¥å‚æ•°éƒ½æ˜¯nullæ—¶ï¼Œåšå…¨è¡¨æ‰«æã€‚æˆ–è€…ï¼Œå¹²è„†è¯´ï¼Œåç«¯å¼‚æ­¥è¿”å›çš„æ•°æ®é‡å¾ˆå¤§ï¼Œæ—¶é—´å¾ˆé•¿ï¼Œæˆ‘åœ¨é¡¹ç›®é‡Œå°±è°ƒå¤§äº†å¼‚æ­¥è¿”å›çš„æœ€å¤§æ—¶é—´ï¼Œæˆ–è€…å¯¹è¿”å›ä¿¡æ¯åšäº†å‹ç¼©å¤„ç†ï¼Œä»¥å¢åŠ ç½‘ç»œä¼ è¾“æ€§èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;NnHSpBSf&quot;&gt;&lt;span&gt;å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå…¶å®å¤§éƒ¨åˆ†çš„é¢è¯•å®˜æ˜¯ä¸åœ¨ä¹å¬åˆ°ä»€ä¹ˆå›ç­”ï¼Œåªå…³å¿ƒå›ç­”ç¬¦ä¸ç¬¦é€»è¾‘ã€‚ä¸€èˆ¬åªè¦ç­”å¯¹ï¼Œé¢è¯•å®˜éƒ½ä¼šç»™å‡ºâ€œåœ¨æ¡†æ¶å±‚é¢æœ‰è‡ªå·±çš„ä½“ä¼šï¼Œæœ‰ä¸€å®šçš„äº†è§£â€çš„åˆ¤æ–­ï¼Œå¦åˆ™ï¼Œå°±åªä¼šç»™å‡ºâ€œåªèƒ½åœ¨é¡¹ç›®ç»ç†å¸¦é¢†ä¸‹ç¼–å†™æ¡†æ¶ä»£ç ï¼Œå¯¹æ¡†æ¶æœ¬èº«äº†è§£ä¸å¤šâ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;5Bvllr0j&quot;&gt;&lt;span&gt;å…¶å®ï¼Œåœ¨å‡†å¤‡é¢è¯•æ—¶ï¼Œå½’çº³æ¡†æ¶é‡Œçš„è¦ç‚¹å¹¶ä¸éš¾ï¼Œæˆ‘å°±ä¸ä¿¡æ‰€æœ‰äººåœ¨åšé¡¹ç›®æ—¶ä¸€ç‚¹ç§¯ç´¯ä¹Ÿæ²¡ï¼Œåªè¦ä½ è¯´å‡ºæ¥ï¼Œå¯ä»¥è¯´ï¼Œè¿™æ–¹é¢ä½ å°±ç¢¾å‹äº†å°†è¿‘7æˆçš„ç«äº‰è€…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;2ã€å•æœºç‰ˆå¤Ÿç”¨ï¼Ÿé€‚å½“äº†è§£äº›åˆ†å¸ƒå¼&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;vEheZIb8&quot;&gt;&lt;span&gt;åˆ«å•çº¯çœ‹å•æœºç‰ˆçš„æ¡†æ¶ï¼Œé€‚å½“äº†è§£äº›åˆ†å¸ƒå¼ï¼æ­¤å¤–ï¼Œåœ¨æè¿°é¡¹ç›®é‡Œæ¡†æ¶æŠ€æœ¯æ—¶ï¼Œæœ€å¥½ä½ å†å¸¦äº›åˆ†å¸ƒå¼çš„æŠ€æœ¯ã€‚ä¸‹é¢æˆ‘åˆ—äº›å¤§å®¶å¯ä»¥å‡†å¤‡çš„åˆ†å¸ƒå¼æŠ€æœ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;j8NVZq-N&quot;&gt;&lt;span&gt;1ã€åå‘ä»£ç†æ–¹é¢ï¼Œnginxçš„åŸºæœ¬é…ç½®ï¼Œæ¯”å¦‚å¦‚ä½•é€šè¿‡ lua è¯­è¨€è®¾ç½®è§„åˆ™ï¼Œå¦‚ä½•è®¾ç½®sessionç²˜æ»ã€‚å¦‚æœå¯ä»¥ï¼Œå†çœ‹äº›nginxçš„åº•å±‚ï¼Œæ¯”å¦‚åè®®ï¼Œé›†ç¾¤è®¾ç½®ï¼Œå¤±æ•ˆè½¬ç§»ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;gCgSxags&quot;&gt;&lt;span&gt;2ã€è¿œç¨‹è°ƒç”¨dubboæ–¹é¢ï¼Œå¯ä»¥çœ‹ä¸‹dubboå’Œzookeeperæ•´åˆçš„çŸ¥è¯†ç‚¹ï¼Œå†æ·±ä¸€æ­¥ï¼Œäº†è§£ä¸‹dubbo åº•å±‚çš„ä¼ è¾“åè®®å’Œåºåˆ—åŒ–æ–¹å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;x0K7jPSN&quot;&gt;&lt;span&gt;3ã€æ¶ˆæ¯é˜Ÿåˆ—æ–¹é¢ï¼Œå¯ä»¥çœ‹ä¸‹kafkaæˆ–ä»»æ„ä¸€ç§ç»„ä»¶çš„ä½¿ç”¨æ–¹å¼ï¼Œç®€å•ç‚¹å¯ä»¥çœ‹ä¸‹é…ç½®ï¼Œå·¥ä½œç»„çš„è®¾ç½®ï¼Œå†æ·±å…¥ç‚¹ï¼Œå¯ä»¥çœ‹ä¸‹Kafkaé›†ç¾¤ï¼ŒæŒä¹…åŒ–çš„æ–¹å¼ï¼Œä»¥åŠå‘é€æ¶ˆæ¯æ˜¯ç”¨é•¿è¿æ¥è¿˜æ˜¯çŸ­æ‹¦æˆªã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;R5MR_QWt&quot;&gt;&lt;span&gt;ä»¥ä¸Šä»…ä»…æ˜¯ç”¨3ä¸ªç»„ä»¶ä¸¾ä¾‹ï¼Œå¤§å®¶è¿˜å¯ä»¥çœ‹ä¸‹Redisç¼“å­˜ï¼Œæ—¥å¿—æ¡†æ¶ï¼ŒMyCATåˆ†åº“åˆ†è¡¨ç­‰ã€‚å‡†å¤‡çš„æ–¹å¼æœ‰ä¸¤å¤§ç±»ï¼Œç¬¬ä¸€æ˜¯è¦ä¼šè¯´æ€ä¹ˆç”¨ï¼Œè¿™æ¯”è¾ƒç®€å•ï¼Œèƒ½é€šè¿‡é…ç½®æ–‡ä»¶æ­å»ºæˆä¸€ä¸ªåŠŸèƒ½æ¨¡å—å³å¯ï¼Œç¬¬äºŒæ˜¯å¯ä»¥é€‚å½“è¯»äº›åº•å±‚ä»£ç ï¼Œä»¥æ­¤äº†è§£ä¸‹åè®®ï¼Œé›†ç¾¤å’Œå¤±æ•ˆè½¬ç§»ä¹‹ç±»çš„é«˜çº§çŸ¥è¯†ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;Gg1F_Vtf&quot;&gt;&lt;span&gt;å¦‚æœèƒ½åœ¨é¢è¯•ä¸­ä¾ƒä¾ƒè€Œè°ˆåˆ†å¸ƒå¼ç»„ä»¶çš„åº•å±‚ï¼Œé‚£ä¹ˆå¾—åˆ°çš„è¯„ä»·å°±ä¼šæ¯”è¾ƒå¥½äº†ï¼Œæ¯”å¦‚â€œæ·±å…¥äº†è§£æ¡†æ¶åº•å±‚â€ï¼Œæˆ– â€œæ¡†æ¶ç»éªŒä¸°å¯Œâ€ï¼Œè¿™æ ·å°±ç®—å»é¢è¯•æ¶æ„å¸ˆä¹Ÿè¡Œäº†ï¼Œæ›´ä½•å†µæ˜¯é«˜çº§å¼€å‘ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;br/&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;3ã€æ•°æ®åº“æ–¹é¢ï¼Œåˆ«å°±çŸ¥é“å¢åˆ æ”¹æŸ¥ï¼Œå¾—äº†è§£æ€§èƒ½ä¼˜åŒ–&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;0NmOtP5x&quot;&gt;&lt;span&gt;æ•°æ®åº“æ–¹é¢ï¼Œåˆ«å°±çŸ¥é“å¢åˆ æ”¹æŸ¥ï¼Œå¾—äº†è§£æ€§èƒ½ä¼˜åŒ–ï¼åœ¨å®é™…é¡¹ç›®é‡Œï¼Œå¤§å¤šæ•°ç¨‹åºå‘˜ç”¨åˆ°çš„å¯èƒ½ä»…ä»…æ˜¯å¢åˆ æ”¹æŸ¥ï¼Œå½“æˆ‘ä»¬ç”¨ Mybatis æ—¶ï¼Œè¿™ä¸ªæƒ…å†µæ›´æ™®éã€‚ä¸è¿‡å¦‚æœä½ é¢è¯•æ—¶ä¹Ÿè¿™æ ·è¡¨ç°ï¼Œä¼°è®¡ä½ çš„èƒ½åŠ›å°±å’Œå…¶å®ƒç«äº‰è€…å·®ä¸å¤šäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;exnifqup&quot;&gt;&lt;span&gt;è¿™æ–¹é¢ï¼Œä½ å¯ä»¥å‡†å¤‡å¦‚ä¸‹çš„æŠ€èƒ½ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;SQLé«˜çº§æ–¹é¢ï¼Œæ¯”å¦‚ group byï¼Œhavingï¼Œå·¦è¿æ¥ï¼Œå­æŸ¥è¯¢ï¼ˆå¸¦inï¼‰ï¼Œ&lt;/span&gt;&lt;span&gt;è¡Œè½¬åˆ—ç­‰&lt;/span&gt;&lt;span&gt;é«˜çº§ç”¨æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å»ºè¡¨æ–¹é¢ï¼Œä½ å¯ä»¥è€ƒè™‘ä¸‹ï¼Œä½ é¡¹ç›®æ˜¯ç”¨&lt;/span&gt;&lt;span&gt;ä¸‰èŒƒå¼è¿˜&lt;/span&gt;&lt;span&gt;æ˜¯åèŒƒå¼ï¼Œç†ç”±æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å°¤å…¶æ˜¯ä¼˜åŒ–ï¼Œä½ å¯ä»¥å‡†å¤‡ä¸‹å¦‚ä½•é€šè¿‡æ‰§è¡Œè®¡åˆ’æŸ¥çœ‹SQLè¯­å¥æ”¹è¿›ç‚¹çš„æ–¹å¼ï¼Œæˆ–è€…å…¶å®ƒèƒ½æ”¹å–„SQLæ€§èƒ½çš„æ–¹å¼ï¼ˆæ¯”å¦‚å»ºç´¢å¼•ç­‰ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä½ æ„Ÿè§‰æœ‰èƒ½åŠ›ï¼Œè¿˜å¯ä»¥å‡†å¤‡äº›MySQLé›†ç¾¤ï¼ŒMyCATåˆ†åº“åˆ†è¡¨çš„æŠ€èƒ½ã€‚æ¯”å¦‚é€šè¿‡ LVS + Keepalived å®ç° MySQL è´Ÿè½½å‡è¡¡ï¼ŒMyCAT çš„é…ç½®æ–¹å¼ã€‚åŒæ ·ï¼Œå¦‚æœå¯ä»¥ï¼Œä¹Ÿçœ‹äº›ç›¸å…³çš„åº•å±‚ä»£ç ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-pid=&quot;Pccc31-6&quot;&gt;&lt;/p&gt;&lt;p data-pid=&quot;Pccc31-6&quot;&gt;&lt;span&gt;å“ªæ€•ä½ åœ¨å‰ä¸‰ç‚¹è¡¨ç°ä¸€èˆ¬ï¼Œé‚£ä¹ˆè‡³å°‘ä¹Ÿèƒ½è¶…è¶Šå°†è¿‘ä¸€åŠçš„å€™é€‰äººï¼Œå°¤å…¶å½“ä½ åœ¨SQLä¼˜åŒ–æ–¹é¢è¡¨ç°éå¸¸å¥½ï¼Œé‚£ä¹ˆä½ åœ¨é¢è¯•é«˜çº§å¼€å‘æ—¶ï¼Œæ•°æ®åº“å±‚é¢ä¸€å®šæ˜¯è¾¾æ ‡çš„ï¼Œå¦‚æœä½ è¿ç¬¬å››ç‚¹ä¹Ÿå›ç­”éå¸¸å¥½ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ åœ¨æ•°æ®åº“æ–¹é¢çš„èƒ½åŠ›ç”šè‡³è¾¾åˆ°äº†åˆçº§æ¶æ„çš„çº§åˆ«ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;Pccc31-6&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;4ã€Java æ ¸å¿ƒæ–¹é¢ï¼Œå›´ç»•æ•°æ®ç»“æ„å’Œæ€§èƒ½ä¼˜åŒ–å‡†å¤‡é¢è¯•é¢˜&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Javaæ ¸å¿ƒæ–¹é¢ï¼Œå›´ç»•æ•°æ®ç»“æ„å’Œæ€§èƒ½ä¼˜åŒ–å‡†å¤‡é¢è¯•é¢˜ï¼&lt;/span&gt;&lt;span&gt;Javaæ ¸å¿ƒè¿™å—ï¼Œç½‘ä¸Šçš„é¢è¯•é¢˜å¾ˆå¤šï¼Œä¸è¿‡åœ¨æ­¤ä¹‹å¤–ï¼Œå¤§å®¶è¿˜åº”å½“ç€é‡å…³æ³¨é›†åˆï¼ˆå³æ•°æ®ç»“æ„ï¼‰å’Œå¤šçº¿ç¨‹å¹¶å‘è¿™ä¸¤å—ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¤§å®¶å¯ä»¥å‡†å¤‡äº›è®¾è®¡æ¨¡å¼å’Œè™šæ‹Ÿæœºçš„è¯´è¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;4IK_cwwW&quot;&gt;&lt;span&gt;ä¸‹é¢åˆ—äº›æˆ‘ä¸€èˆ¬ä¼šé—®çš„éƒ¨åˆ†é—®é¢˜ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;String a = â€œ123â€; String b = â€œ123â€; a==b çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿè¿™åŒ…å«äº†å†…å­˜ï¼ŒStringå­˜å‚¨æ–¹å¼ç­‰è¯¸å¤šçŸ¥è¯†ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;HashMapé‡Œçš„hashcodeæ–¹æ³•å’Œequalæ–¹æ³•ä»€ä¹ˆæ—¶å€™éœ€è¦é‡å†™ï¼Ÿå¦‚æœä¸é‡å†™ä¼šæœ‰ä»€ä¹ˆåæœï¼Ÿå¯¹æ­¤å¤§å®¶å¯ä»¥è¿›ä¸€æ­¥äº†è§£HashMapï¼ˆç”šè‡³ConcurrentHashMapï¼‰çš„åº•å±‚å®ç°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ArrayListå’ŒLinkedListåº•å±‚å®ç°æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿå®ƒä»¬å„è‡ªé€‚ç”¨äºå“ªäº›åœºåˆï¼Ÿå¯¹æ­¤å¤§å®¶ä¹Ÿå¯ä»¥äº†è§£ä¸‹ç›¸å…³åº•å±‚ä»£ç ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;volatileå…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿç”±æ­¤å±•å¼€ï¼Œå¤§å®¶å¯ä»¥äº†è§£ä¸‹çº¿ç¨‹å†…å­˜å’Œå †å†…å­˜çš„å·®åˆ«ã€‚volatileå…³é”®å­—è§£æã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;CompletableFutureï¼Œè¿™ä¸ªæ˜¯JDK1.8é‡Œçš„æ–°ç‰¹æ€§ï¼Œé€šè¿‡å®ƒæ€ä¹ˆå®ç°å¤šçº¿ç¨‹å¹¶å‘æ§åˆ¶ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;JVMé‡Œï¼Œnewå‡ºæ¥çš„å¯¹è±¡æ˜¯åœ¨å“ªä¸ªåŒºï¼Ÿå†æ·±å…¥ä¸€ä¸‹ï¼Œé—®ä¸‹å¦‚ä½•æŸ¥çœ‹å’Œä¼˜åŒ–JVMè™šæ‹Ÿæœºå†…å­˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Javaçš„é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿæœ€å¥½ç»“åˆåº•å±‚ä»£ç æ¥è¯´ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-pid=&quot;pes-bwb6&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;pes-bwb6&quot;&gt;&lt;span&gt;é€šè¿‡ä¸Šè¿°çš„é—®é¢˜ç‚¹ï¼Œå…¶å®æˆ‘ä»¬ä¼šå‘ç°ä¸ä»…ä»…åœç•™åœ¨â€œä¼šç”¨â€çº§åˆ«ï¼Œå¤§å‚çš„é¢è¯•å®˜ä¸ä¼šé—®å¦‚ä½•åœ¨ArrayListé‡Œæ”¾å…ƒç´ ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°é—®é¢˜åŒ…å«äº†â€œå¤šçº¿ç¨‹å¹¶å‘â€ï¼Œâ€œJVMä¼˜åŒ–â€ï¼Œâ€œæ•°æ®ç»“æ„å¯¹è±¡åº•å±‚ä»£ç â€ç­‰ç»†èŠ‚ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ä¸¾ä¸€åä¸‰ï¼Œé€šè¿‡çœ‹ä¸€äº›é«˜çº§çŸ¥è¯†ï¼Œå¤šå‡†å¤‡äº›å…¶å®ƒç±»ä¼¼é¢è¯•é¢˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;kgAlI4u0&quot;&gt;&lt;span&gt;æˆ‘ä»¬çŸ¥é“ï¼Œç›®å‰Javaå¼€å‘æ˜¯ä»¥Webæ¡†æ¶ä¸ºä¸»ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦é—®Javaæ ¸å¿ƒçŸ¥è¯†ç‚¹å‘¢ï¼Ÿæˆ‘è¿™ä¸ªæ˜¯æœ‰åˆ‡èº«ä½“ä¼šçš„ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;beL2GOPM&quot;&gt;&lt;span&gt;ä¹‹å‰åœ¨æˆ‘å›¢é˜Ÿé‡Œï¼Œæˆ‘è§è¿‡ä¸¤ä¸ªäººï¼Œä¸€ä¸ªæ˜¯å°±ä¼šå¹²æ´»ï¼Œå…·ä½“è¡¨ç°æ˜¯ä¼šç”¨Javaæ ¸å¿ƒåŸºæœ¬çš„APIï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰æ·±å…¥äº†è§£çš„æ„æ„¿ï¼ˆä¼°è®¡ä¸çŸ¥é“è¯¥æ€ä¹ˆæ·±å…¥äº†è§£ï¼‰ï¼Œå¦ä¸€ä½å¹³æ—¶ä¸“é—¨ä¼šçœ‹äº›Javaå¹¶å‘ï¼Œè™šæ‹Ÿæœºç­‰çš„é«˜çº§çŸ¥è¯†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;Dxj_QM27&quot;&gt;&lt;span&gt;è¿‡äº†åŠå¹´ä»¥åï¼Œåè€…çš„èƒ½åŠ›å¿«é€Ÿå‡çº§åˆ°é«˜çº§å¼€å‘ï¼Œç”±äºå¯¹JAVAæ ¸å¿ƒçŸ¥è¯†ç‚¹äº†è§£å¾ˆé€å½»ï¼Œæ‰€ä»¥çœ‹ä¸€äº›åˆ†å¸ƒå¼ç»„ä»¶çš„åº•å±‚å®ç°æ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚è€Œå‰è€…ï¼Œä¸€ç›´åœ¨é‡å¤åŠ³åŠ¨ï¼Œèƒ½åŠ›ä¹Ÿåªä¸€ç›´åœç•™åœ¨â€œä¼šå¹²æ´»â€çš„å±‚é¢ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;KelNCgVJ&quot;&gt;&lt;span&gt;è€Œåœ¨ç°å®çš„é¢è¯•ä¸­ï¼Œå¦‚æœä¸ç†Ÿæ‚‰Javaæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œä¼°è®¡å‡é«˜çº§å¼€å‘éƒ½éš¾ï¼Œæ›´åˆ«è¯´æ˜¯é¢è¯•æ¶æ„å¸ˆçº§åˆ«çš„å²—ä½äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;KelNCgVJ&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;5ã€Linux æ–¹é¢ï¼Œè‡³å°‘äº†è§£å¦‚ä½•çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;_DKJghxn&quot;&gt;&lt;span&gt;Linuxæ–¹é¢ï¼Œè‡³å°‘äº†è§£å¦‚ä½•çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜ï¼å¦‚æœå€™é€‰äººèƒ½è¯æ˜è‡ªå·±æœ‰â€œ&lt;/span&gt;&lt;span&gt;æ’æŸ¥é—®é¢˜&lt;/span&gt;&lt;span&gt;â€ å’Œ â€œè§£å†³é—®é¢˜â€çš„èƒ½åŠ›ï¼Œè¿™ç»å¯¹æ˜¯ä¸ªåŠ åˆ†é¡¹ï¼Œä½†æ€ä¹ˆè¯æ˜ï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;A03xf3G8&quot;&gt;&lt;span&gt;ç›®å‰å¤§å¤šæ•°çš„äº’è”ç½‘é¡¹ç›®ï¼Œéƒ½æ˜¯éƒ¨ç½²åœ¨Linuxä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ—¥å¿—éƒ½æ˜¯åœ¨Linuxï¼Œä¸‹é¢å½’çº³äº›å®é™…çš„Linuxæ“ä½œã€‚Javaç¨‹åºå‘˜å¿…é¡»æŒæ¡çš„å¸¸ç”¨Linuxå‘½ä»¤ã€‚&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;èƒ½é€šè¿‡ less å‘½ä»¤æ‰“å¼€æ–‡ä»¶ï¼Œé€šè¿‡Shift+Gåˆ°è¾¾æ–‡ä»¶åº•éƒ¨ï¼Œå†é€šè¿‡?+å…³é”®å­—çš„æ–¹å¼æ¥æ ¹æ®å…³é”®æ¥æœç´¢ä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;èƒ½é€šè¿‡&lt;/span&gt;&lt;span&gt;grepÂ &lt;/span&gt;&lt;span&gt;æ–¹å¼æŸ¥å…³é”®å­—ï¼Œå…·ä½“ç”¨æ³•æ˜¯, grep å…³é”®å­— æ–‡ä»¶åï¼Œå¦‚æœè¦ä¸¤æ¬¡åœ¨ç»“æœé‡ŒæŸ¥æ‰¾çš„è¯ï¼Œå°±ç”¨grep å…³é”®å­—1 æ–‡ä»¶åå…³é”®å­—2 --colorã€‚æœ€åâ€“coloræ˜¯é«˜äº®å…³é”®å­—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;èƒ½é€šè¿‡ vi æ¥ç¼–è¾‘æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;èƒ½é€šè¿‡Â &lt;/span&gt;&lt;span&gt;chmod æ¥&lt;/span&gt;&lt;span&gt;è®¾ç½®æ–‡ä»¶çš„æƒé™ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-pid=&quot;y1qZ6CLn&quot;&gt;&lt;/p&gt;&lt;p data-pid=&quot;y1qZ6CLn&quot;&gt;&lt;span&gt;å½“ç„¶ï¼Œè¿˜æœ‰æ›´å¤šæ›´å®ç”¨çš„Linuxå‘½ä»¤ï¼Œä½†åœ¨å®é™…é¢è¯•è¿‡ç¨‹ä¸­ï¼Œä¸å°‘å€™é€‰äººè¿ä¸€æ¡linuxå‘½ä»¤ä¹Ÿä¸çŸ¥é“ã€‚è¿˜æ˜¯è¿™å¥è¯ï¼Œä½ å“ªæ€•çŸ¥é“äº›å¾ˆåŸºæœ¬çš„ï¼Œä¹Ÿæ¯”ä¸€èˆ¬äººå¼ºäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h2&gt;&lt;h2&gt;&lt;span&gt;6ã€é€šè¯»ä¸€æ®µåº•å±‚ä»£ç ï¼Œä½œä¸ºåŠ åˆ†é¡¹&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-pid=&quot;7Cv7c83L&quot;&gt;&lt;span&gt;å¦‚ä½•è¯æ˜è‡ªå·±å¯¹ä¸€ä¸ªçŸ¥è¯†ç‚¹éå¸¸äº†è§£ï¼Ÿè«è¿‡äºèƒ½é€šè¿‡åº•å±‚ä»£ç æ¥è¯´æ˜ã€‚æˆ‘åœ¨å’Œä¸å°‘å·¥ä½œç»éªŒåœ¨5å¹´ä¹‹å†…çš„ç¨‹åºå‘˜æ²Ÿé€šæ—¶ï¼Œä¸å°‘äººè®¤ä¸ºè¿™å¾ˆéš¾ï¼Ÿç¡®å®ï¼Œå¦‚æœè¦é€šè¿‡é˜…è¯»åº•å±‚ä»£ç äº†è§£åˆ†å¸ƒå¼ç»„ä»¶ï¼Œé‚£éš¾åº¦ä¸å°ï¼Œä½†å¦‚æœå¦‚ä¸‹éƒ¨åˆ†çš„åº•å±‚ä»£ç ï¼Œå¹¶ä¸éš¾æ‡‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ArrayListã€LinkedList çš„åº•å±‚ä»£ç é‡Œï¼ŒåŒ…å«ç€åŸºäºæ•°ç»„å’Œé“¾è¡¨çš„å®ç°æ–¹å¼ï¼Œå¦‚æœå¤§å®¶èƒ½ä»¥æ­¤è®²æ¸…æ¥šæ‰©å®¹ï¼Œâ€œé€šè¿‡æšä¸¾å™¨éå†â€œç­‰æ–¹å¼ï¼Œç»å¯¹èƒ½è¯æ˜è‡ªå·±ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;HashMap ç›´æ¥å¯¹åº”ç€Hashè¡¨è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œåœ¨HashMapçš„åº•å±‚ä»£ç é‡Œï¼ŒåŒ…å«ç€&lt;/span&gt;&lt;span&gt;hashcode çš„Â &lt;/span&gt;&lt;span&gt;putã€getç­‰çš„æ“ä½œï¼Œç”šè‡³åœ¨ConcurrentHashMapé‡Œï¼Œè¿˜åŒ…å«ç€Lockçš„é€»è¾‘ã€‚æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœå¤§å®¶åœ¨é¢è¯•ä¸­ï¼Œçœ‹çœ‹è€Œè¨€ConcurrentHashMapï¼Œå†ç»“åˆåœ¨çº¸ä¸Šè¾¹è¯´è¾¹ç”»ï¼Œé‚£ä¸€å®šèƒ½å¾æœé¢è¯•å®˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯ä»¥çœ‹ä¸‹é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†çš„å®ç°æ–¹å¼ï¼Œå†æ·±å…¥ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹ä¸‹Spring AOPé‡Œçš„å®ç°ä»£ç ã€‚è¯¦è§£ Java ä¸­çš„ä¸‰ç§ä»£ç†æ¨¡å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æˆ–è®¸Spirng IOCå’ŒMVCçš„åº•å±‚å®ç°ä»£ç æ¯”è¾ƒéš¾çœ‹æ‡‚ï¼Œä½†å¤§å®¶å¯ä»¥è¯´äº›å…³é”®çš„ç±»ï¼Œæ ¹æ®å…³é”®æµç¨‹è¯´ä¸‹å®ƒä»¬çš„å®ç°æ–¹å¼ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-pid=&quot;nyZkcDuT&quot;&gt;&lt;/p&gt;&lt;p data-pid=&quot;nyZkcDuT&quot;&gt;&lt;span&gt;å…¶å®å‡†å¤‡çš„åº•å±‚ä»£ç æœªå¿…è¦å¤šï¼Œè€Œä¸”ä¹Ÿä¸é™äºåœ¨å“ªä¸ªæ–¹é¢ï¼Œæ¯”å¦‚é›†åˆé‡ŒåŸºäºçº¢é»‘æ ‘çš„TreeSetï¼ŒåŸºäºNIOçš„å¼€æºæ¡†æ¶ï¼Œç”šè‡³åˆ†å¸ƒå¼ç»„ä»¶çš„Dubboï¼Œéƒ½å¯ä»¥å‡†å¤‡ã€‚è€Œä¸”å‡†å¤‡æ—¶æœªå¿…è¦èƒŒå‡ºæ‰€æœ‰çš„åº•å±‚ï¼ˆäº‹å®ä¸Šå¾ˆéš¾åšåˆ°ï¼‰ï¼Œä½ åªè¦èƒ½ç»“åˆä¸€äº›é‡è¦çš„ç±»å’Œæ–¹æ³•ï¼Œè®²æ¸…æ¥šæ€è·¯å³å¯ï¼ˆæ¯”å¦‚è®²æ¸…æ¥šHashMapå¦‚ä½•é€šè¿‡hashCodeå¿«é€Ÿå®šä½ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;A5ctBhUt&quot;&gt;&lt;span&gt;é‚£ä¹ˆåœ¨é¢è¯•æ—¶ï¼Œå¦‚ä½•æ‰¾åˆ°ä¸ªå¥½æœºä¼šè¯´å‡ºä½ å‡†å¤‡å¥½çš„ä¸Šè¿°åº•å±‚ä»£ç ï¼Ÿåœ¨é¢è¯•æ—¶ï¼Œæ€»ä¼šè¢«é—®åˆ°é›†åˆï¼ŒSpring MVCæ¡†æ¶ç­‰ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œä½ åœ¨å›ç­”æ—¶ï¼Œé¡ºä¾¿è¯´ä¸€å¥ï¼Œâ€œæˆ‘è¿˜äº†è§£è¿™å—çš„åº•å±‚å®ç°â€ï¼Œé‚£ä¹ˆé¢è¯•å®˜ä¸€å®šä¼šè¿½é—®ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥è¯´å‡ºæ¥äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;zrFcx7BF&quot;&gt;&lt;span&gt;ä¸è¦å°çœ‹è¿™ä¸ªå¯¹å€™é€‰äººçš„å¸®åŠ©ï¼Œä¸€æ—¦ä½ è®²äº†ï¼Œåªè¦æ„æ€åˆ°ä½ï¼Œé‚£ä¹ˆæœ€å°‘èƒ½å¾—åˆ°ä¸ªâ€œè‚¯ç§¯æä¸“ä¸šâ€œçš„è¯„ä»·ï¼Œå¦‚æœæè¿°å¾ˆæ¸…æ¥šï¼Œé‚£ä¹ˆè¯„ä»·å°±ä¼šå‡çº§åˆ°â€œç†Ÿæ‚‰Javaæ ¸å¿ƒæŠ€èƒ½ï¼ˆæˆ–Spring MVCï¼‰ï¼Œä¸”åŸºæœ¬åŠŸæ‰å®â€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;ecjb2AnC&quot;&gt;&lt;span&gt;è¦çŸ¥é“ï¼Œé¢è¯•ä¸­ï¼Œå¾ˆå°‘æœ‰äººèƒ½è®²æ¸…æ¥šåº•å±‚ä»£ç ï¼Œæ‰€ä»¥ä½ æŠ›å‡ºäº†è¿™ä¸ªè¯é¢˜ï¼Œå“ªæ€•æœ€åæ²¡è¾¾åˆ°é¢„æœŸæ•ˆæœï¼Œé¢è¯•å®˜ä¹Ÿä¸ä¼šç”±æ­¤å¯¹ä½ é™ä½è¯„ä»·ã€‚æ‰€ä»¥è¯´ï¼Œå‡†å¤‡è¿™å—ç»å¯¹æ˜¯â€œæœ‰ç™¾åˆ©è€Œæ— ä¸€å®³â€çš„æŒ£é’±ä¹°å–&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;ecjb2AnC&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;&lt;span&gt;7ã€ä¸€åˆ‡çš„ä¸€åˆ‡ï¼ŒæŠŠä¸Šè¿°æŠ€èƒ½åµŒå…¥åˆ°ä½ åšè¿‡çš„é¡¹ç›®é‡Œ&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-pid=&quot;eeEZZJrE&quot;&gt;&lt;span&gt;ä¸€åˆ‡çš„ä¸€åˆ‡ï¼ŒæŠŠä¸Šè¿°æŠ€èƒ½åµŒå…¥åˆ°ä½ åšè¿‡çš„é¡¹ç›®é‡Œï¼åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œè®¸å¤šå€™é€‰äººå¯¹SQL ä¼˜åŒ–æŠ€èƒ½è®²å¾—å¤´å¤´æ˜¯é“ï¼Œä½†æœ€åå¾—çŸ¥ï¼Œè¿™äº›éƒ½æ˜¯ä»–å¹³æ—¶è‡ªå­¦çš„ï¼Œå¹¶æ²¡ç”¨åœ¨å®é™…é¡¹ç›®é‡Œä½¿ç”¨ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;6nELWer5&quot;&gt;&lt;span&gt;å½“ç„¶è¿™æ€»æ¯”ä¸è¯´è¦å¥½ï¼Œæ‰€ä»¥æˆ‘åœ¨é¢è¯•æ—¶ä¼šå†™ä¸‹ â€œåœ¨å¹³æ—¶è‡ªå­¦è¿‡SQLä¼˜åŒ–æŠ€èƒ½â€ï¼Œä½†å¦‚æœåœ¨é¡¹ç›®é‡Œå®è·µè¿‡ï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šå†™ä¸‹â€œæœ‰å®é™…æ•°æ®åº“SQLä¼˜åŒ–çš„æŠ€èƒ½â€ã€‚å¤§å®¶å¯ä»¥å¯¹æ¯”ä¸‹ä¸¤è€…çš„å·®åˆ«ï¼Œä¸€ä¸ªæ˜¯åé‡ç†è®ºï¼Œä¸€ä¸ªæ˜¯ç›´æ¥èƒ½å¹²æ´»äº†ã€‚å…¶å®ï¼Œå¾ˆå¤šåœºæ™¯é‡Œï¼Œæˆ‘å°±ä¸ä¿¡åœ¨å®é™…é¡¹ç›®é‡Œä¸€å®šæ²¡æœ‰å®è·µè¿‡SQLä¼˜åŒ–æŠ€èƒ½ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;JC0m6ujo&quot;&gt;&lt;span&gt;ä»è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘æƒ³å‘Šè¯‰å¤§å®¶çš„æ˜¯ï¼Œä½ ä¹‹å‰è´¹äº†åƒè¾›ä¸‡è‹¦ï¼ˆå…¶å®æ–¹æ³•æ–¹å‘å¾—åˆ°ï¼Œä¹Ÿä¸ç”¨è´¹å¤ªå¤§ç²¾åŠ›ï¼‰å‡†å¤‡çš„å¾ˆå¤šæŠ€èƒ½å’Œè¯´è¾ï¼Œæœ€ååº”è¯¥è½å®åˆ°ä½ çš„å®é™…é¡¹ç›®é‡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;w71H40eR&quot;&gt;&lt;span&gt;æ¯”å¦‚ä½ æœ‰è¿‡åœ¨Linuxæ—¥å¿—é‡ŒæŸ¥è¯¢å…³é”®å­—æ’æŸ¥é—®é¢˜çš„ç»éªŒï¼Œåœ¨æè¿°æ—¶ä½ å¯ä»¥å¸¦ä¸€å¥ï¼Œåœ¨ä¹‹å‰çš„é¡¹ç›®é‡Œæˆ‘å°±è¿™æ ·å¹²çš„ã€‚åˆå¦‚ï¼Œä½ é€šè¿‡çœ‹åº•å±‚ä»£ç ï¼Œäº†è§£äº†TreeSetå’ŒHashSetçš„å·®åˆ«ä»¥åŠå®ƒä»¬çš„é€‚ç”¨èŒƒå›´ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥å›æƒ³ä¸‹ä½ ä¹‹å‰åšçš„é¡¹ç›®ï¼Œæ˜¯å¦æœ‰ä¸ªåœºæ™¯ä»…ä»…é€‚ç”¨äºTreeSetï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;a2MKEtKS&quot;&gt;&lt;span&gt;å¦‚æœæœ‰ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€‚å½“æè¿°ä¸‹é¡¹ç›®çš„éœ€æ±‚ï¼Œç„¶åè¯´ï¼Œé€šè¿‡è¯»åº•å±‚ä»£ç ï¼Œæˆ‘äº†è§£äº†ä¸¤è€…çš„å·®åˆ«ï¼Œè€Œä¸”åœ¨è¿™ä¸ªå®é™…éœ€æ±‚é‡Œï¼Œæˆ‘å°±ç”¨äº†TreeSetï¼Œè€Œä¸”æˆ‘è¿˜ä¸“é—¨åšäº†å¯¹æ¯”è¯•éªŒï¼Œå‘ç°ç”¨ TreeSet æ¯” HashSet è¦é«˜ xx ä¸ªç™¾åˆ†ç‚¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-pid=&quot;eMDPhsSt&quot;&gt;&lt;span&gt;è¯·è®°å¾—ï¼Œâ€œå®è·µç»éªŒâ€ ä¸€å®šæ¯” â€œç†è®ºç»éªŒâ€ å€¼é’±ï¼Œè€Œä¸”å¤§å¤šæ•°ä½ çŸ¥é“çš„ç†è®ºä¸Šçš„ç»éªŒï¼Œä¸€å®šåœ¨ä½ çš„é¡¹ç›®é‡Œç”¨è¿‡ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ ä»…ä»…è®©é¢è¯•å®˜æ„Ÿè§‰ä½ åªæœ‰â€œç†è®ºç»éªŒâ€ï¼Œé‚£å°±å¤ªäºäº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å…³äºæˆ‘ï¼šTomå“¥ï¼Œå‰é˜¿é‡ŒP7æŠ€æœ¯ä¸“å®¶ï¼Œofferæ”¶å‰²æœºï¼Œå‚åŠ å¤šæ¬¡æ·˜å®åŒ11å¤§ä¿ƒæ´»åŠ¨ã€‚æ¬¢è¿å…³æ³¨ï¼Œæˆ‘ä¼šæŒç»­è¾“å‡ºæ›´å¤šç»å…¸åŸåˆ›æ–‡ç« ï¼Œä¸ºä½ æ™‹çº§å¤§å‚åŠ©åŠ›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¾®ä¿¡8.0å°†å¥½å‹æ”¾å¼€åˆ°äº†ä¸€ä¸‡ï¼Œå°ä¼™ä¼´å¯ä»¥åŠ æˆ‘å¤§å·äº†ï¼Œå…ˆåˆ°å…ˆå¾—ï¼Œå†æ»¡å°±çœŸæ²¡äº†ã€‚&lt;/strong&gt;&lt;span&gt;æ‰«æä¸‹æ–¹äºŒç»´ç å³å¯åŠ æˆ‘å¾®ä¿¡å•¦ï¼Œ&lt;code&gt;2022ï¼ŒæŠ±å›¢å–æš–ï¼Œä¸€èµ·ç‰›é€¼ã€‚&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;section mp-original-font-size=&quot;17&quot; mp-original-line-height=&quot;27&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.092130518234165&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/2KTof9YshwdaSEqIP60fNXXqd7e15vycGo75wsfR2yTDKxOpJaKG0BKzFod8CQxLtibu2vMp1GKBMDJRbk3rpLw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;jpeg&quot; data-w=&quot;521&quot;/&gt;&lt;span/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ¨èé˜…è¯»ï¼š&lt;/span&gt;&lt;/h2&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;

          

          
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>