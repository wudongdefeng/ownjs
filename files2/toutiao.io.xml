<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>72806cfa33253887239c761c7d38f57d</guid>
<title>è¿™å‡ æ¬¾ JVM æ•…éšœè¯Šæ–­å¤„ç†å·¥å…·ä½ è¿˜ä¸ä¼šï¼Ÿ</title>
<link>https://toutiao.io/k/dux0ogl</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‰å‡ å¤©ä¸­åˆæ­£åœ¨å’ŒåŒäº‹æœ€è¿‘èŠè‚¡å¸‚è¾ƒå¥½ï¼Œè¿™å‡ å¤©æ¯å¤©éƒ½å¯ä»¥å–ç‚¹è‚‰æ±¤ï¼Œå¿ƒé‡Œè¿˜æ˜¯æŒºé«˜å…´çš„ï¼›æ­£åœ¨è¿™ä¸ªæ—¶å€™æ”¶åˆ°äº†çº¿ä¸Šå‘Šè­¦é‚®ä»¶å’Œè¿ç»´åŒå­¦çš„æ¶ˆæ¯ï¼Œâ€œä½ ä»¬æœ‰æœåŠ¡æŒ‚äº†ï¼â€ï¼Œå¿ƒé‡Œä¸€ç´§ï¼Œç«‹é©¬æ‰“å¼€ç”µè„‘çœ‹æ¥ä¸‹çº¿ä¸Šcatç›‘æ§å¤§ç›˜ï¼Œå‘ç°å¾ˆå¤šæœåŠ¡éƒ½åœ¨æŠ¥é”™ï¼Œæ ¹æ®catä¸Šçš„ç›‘æ§æ—¥å¿—å¾ˆå¿«å‘ç°äº†å…¶ä¸­ä¸€ä¸ªæœåŠ¡å†…å­˜æº¢å‡ºå¯¼è‡´å…¶ä»–è°ƒç”¨æœåŠ¡ä¹Ÿæœ‰é—®é¢˜ï¼Œç«Ÿç„¶å·²ç»å®šä½åˆ°äº†å‡ºé—®é¢˜çš„æœåŠ¡ï¼Œé‚£å°±ç®€å•äº†ï¼Œæ²¡æœ‰æ˜¯é‡å¯è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œé‡å¯ä¹‹åå¾ˆå¿«æœåŠ¡éƒ½æ¢å¤æ­£å¸¸äº†ã€‚å‡ åˆ†é’Ÿä¹‹ååˆæŠ¥é”™äº†ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¿™ä¸ªæœåŠ¡å†…å­˜æº¢å‡ºï¼Œç»è¿‡æ’æŸ¥åå‘ç°è¯¥æœåŠ¡çš„å †å†…å­˜è¢«æ”¹å°äº†ï¼Œå¥½å®¶ä¼™ï¼Œè¿ç»´åŒå­¦ä¸è®²æ­¦å¾·ï¼Œæå·è¢­ï¼Œè¶æˆ‘æ²¡ååº”è¿‡æ¥è°ƒäº†å†…å­˜ï¼Œå†…å­˜è°ƒæ•´å›å»ä¹‹åæœåŠ¡å°±æ¢å¤äº†æ­£å¸¸ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹åæŠŠçº¿ä¸Šçš„å¿«ç…§æ–‡ä»¶æ‹–äº†ä¸‹æ¥åˆ†æï¼Œå‘ç°æœ¬èº«è¿™ä¸ªé¡¹ç›®çš„ä»£ç ä¹Ÿæœ‰äº›é—®é¢˜ï¼Œæœ¬æ–‡å°±æ•´ç†äº†ä¸€ä¸‹JVMå¸¸ç”¨çš„åˆ†æå·¥å…·ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å®‰è£…å®ŒJDKä¹‹ååœ¨JAVA_HOME/binç›®å½•ä¸‹JDKå·²ç»æä¾›äº†å¾ˆå¤šå‘½ä»¤è¡Œçš„å·¥å…·&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.06375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3L6TRz9Y0UdvzxE2DGJosqxbc4qu9pJCWZejq6WtqCssK83AEK3UMrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯èƒ½æˆ‘ä»¬æœ€å¸¸ç”¨çš„å°±æ˜¯&lt;code&gt;java&lt;/code&gt;ã€&lt;code&gt;javac&lt;/code&gt;è¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œé™¤äº†è¿™ä¸¤ä¸ªå‘½ä»¤ä¹‹å¤–è¿˜æœ‰æä¾›å¾ˆå¤šå…¶ä»–çš„å®ç”¨å·¥å…·ï¼Œæœ¬æ–‡ä¸»è¦æ¥ä¸€èµ·å­¦ä¹ å¯¹JVMç›‘æ§è¯Šæ–­å·¥å…·&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;è™šæ‹Ÿæœºè¿›ç¨‹çŠ¶å†µå·¥å…·ï¼ˆjpsï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥å·¥å…·çš„åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œä¸linuxä¸­çš„psåŠŸèƒ½ç±»ä¼¼ï¼Œç”¨æ¥åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœºè¿›ç¨‹ï¼Œå¹¶æ˜¾ç¤ºå‡ºè¿è¡Œçš„ä¸»ç±»å’Œè¿›ç¨‹å·&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;code&gt;jps [option] [hostid]&lt;/code&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;å¦‚æœéœ€è¦æŸ¥çœ‹è¿œç¨‹æœºå™¨çš„jvmè¿›ç¨‹éœ€è¦å¡«å†™&lt;code&gt;hostid&lt;/code&gt;ï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨RMIï¼Œæ¯”å¦‚ï¼š&lt;code&gt;rmi://192.168.2.128:12345&lt;/code&gt;&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„é€‰é¡¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-q&lt;/code&gt; : åªæ˜¾ç¤ºå‡ºè™šæ‹Ÿæœºçš„è¿›ç¨‹idï¼ˆlvmidï¼‰ï¼Œçœç•¥ä¸»ç±»å&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-m&lt;/code&gt; : è¾“å‡ºå¯åŠ¨æ—¶ä¼ é€’ç»™ä¸»ç±»çš„å‚æ•°&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-l&lt;/code&gt; : æ˜¾ç¤ºå‡ºä¸»ç±»çš„å…¨åï¼ŒåŒ…æ‹¬jaråŒ…è·¯å¾„&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-v&lt;/code&gt; : è¾“å‡ºè™šæ‹Ÿæœºè¿›ç¨‹å¯åŠ¨æ—¶çš„JVMå‚æ•°&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.23290203327171904&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3zIQRpQAtZibR8uPLX3MU1OoibCvIQQZLFLia31ermSkeW8icYvYdPLLPnQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;541&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;è™šæ‹Ÿæœºç»Ÿè®¡ä¿¡æ¯ç›‘æ§å·¥å…·ï¼ˆjstatï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨äºç›‘æ§è™šæ‹Ÿæœºè¿è¡ŒçŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æä¾›å†…å­˜ï¼Œåƒåœ¾æ”¶é›†ç­‰è¿è¡Œæ—¶çš„æ•°æ®&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;code&gt;jstat [option vmid] [interval [s|ms] [count]]&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;intervalè¡¨ç¤ºé—´éš”å¤šä¹…æ—¶é—´æŸ¥è¯¢ä¸€æ¬¡ï¼Œcountè¡¨ç¤ºæŸ¥è¯¢å¤šå°‘æ¬¡ï¼Œæ¯”å¦‚ï¼šæ¯ä¸ªä¸¤ç§’æŸ¥è¯¢ä¸€æ¬¡è¿›ç¨‹52412çš„åƒåœ¾æ”¶é›†æƒ…å†µï¼Œå…±æŸ¥è¯¢5æ¬¡&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;jstatÂ -gcÂ 52412Â 2sÂ 5&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.10375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3OObJnsw4ho5Gam75mB4vIA1kMeuFBLmdoHYajmf15ibYh1iaPz1GkZxA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„é€‰é¡¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-class&lt;/code&gt;: ç›‘æ§ç±»è£…è½½ï¼Œå¸è½½æ¬¡æ•°å’Œæ€»ç©ºé—´ä»¥åŠåŠ è½½ç±»çš„è€—æ—¶&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-gc&lt;/code&gt;: ç›‘æ§javaå †çš„æƒ…å†µ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-gcutil&lt;/code&gt;: ä¸»è¦è¾“å‡ºå„ä¸ªç©ºé—´ä½¿ç”¨çš„ç™¾åˆ†æ¯”&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-gcnew&lt;/code&gt;: ä¸»è¦æ˜¯ç›‘æ§æ–°ç”Ÿä»£çš„GCçŠ¶å†µ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-gcold&lt;/code&gt;: ç›‘æ§è€å¹´ä»£çš„GCçŠ¶å†µ&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-compiler&lt;/code&gt;: è¾“å‡ºJITç¼–è¯‘å™¨ç¼–è¯‘è¿‡çš„æ–¹æ³•å’Œè€—æ—¶ä¿¡æ¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŸ¥çœ‹å †ç©ºé—´çš„ä½¿ç”¨ç™¾åˆ†æ¯”: &lt;code&gt;jstat -gcutil 52412 2s 5&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.16973684210526316&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN39ticu2fcOAGShUKaqFQzmIfZtLAgGceHoruTjg6AOZibahyoIT9bwPJA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;760&quot;/&gt;&lt;/figure&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;javaé…ç½®ä¿¡æ¯å·¥å…·ï¼ˆjinfoï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥é€šè¿‡&lt;code&gt;jinfo&lt;/code&gt;å®æ—¶çš„æŸ¥çœ‹å’Œè°ƒæ•´è™šæ‹Ÿæœºçš„å„é¡¹å‚æ•°ï¼›å¯ä»¥é€šè¿‡&lt;code&gt;jps -v&lt;/code&gt;æŸ¥çœ‹è™šæ‹Ÿæœºå¯åŠ¨æ—¶å€™æŒ‡å®šçš„å‚æ•°ä¿¡æ¯ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹æœªæ˜¾ç¤ºæŒ‡å®šçš„å‚æ•°é»˜è®¤å€¼ä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;jinfo -flag&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;jinfoÂ -flagÂ CMSInitiatingOccupancyFractionÂ 52412&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.08875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3HcQOFibOt6HbrdaIeRvEVMhicicPAfgichnqbgRCQSAjQes4J6ZtURl3Rw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;jinfoé™¤äº†å¯ä»¥æŸ¥çœ‹å‚æ•°ä»¥å¤–ï¼Œè¿˜å¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹ä¸€äº›å…è®¸è¢«ä¿®æ”¹çš„å‚æ•°&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;Javaå†…å­˜æ˜ åƒå·¥å…·ï¼ˆjmapï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;jmapç”¨äºç”ŸæˆJVMå †çš„å¿«ç…§æ–‡ä»¶ï¼Œé™¤äº†ä½¿ç”¨jmapå·¥å…·ï¼Œæˆ‘ä»¬é€šå¸¸ä¹Ÿä¼šåœ¨é…ç½®JVMçš„å¯åŠ¨å‚æ•° &lt;code&gt;-XX:+HeapDumpOnOutOfMemoryError&lt;/code&gt; è®©JVMåœ¨å‘é€å†…å­˜æº¢å‡ºä¹‹åè‡ªåŠ¨ç”Ÿæˆdumpæ–‡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;code&gt;jmap [option] vmid&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚ç”Ÿæˆjavaå †çš„å¿«ç…§æ–‡ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;jmapÂ -dump:live,format=b,file=/Users/huaan9527/Desktop/heap.hprofÂ 59950&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„é€‰é¡¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-F&lt;/code&gt;: å½“è™šæ‹Ÿæœºå¯¹-dumpé€‰é¡¹æ²¡æœ‰å“åº”æ—¶å¯ç”¨é€‰æ‹©ä½¿ç”¨è¿™ä¸ªå‚æ•°å¼ºåˆ¶ç”Ÿæˆå¿«ç…§&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-histo&lt;/code&gt;: æ˜¾ç¤ºå‡ºå †ä¸­å¯¹è±¡ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;å †æ ˆè·Ÿè¸ªå·¥å…·ï¼ˆjstackï¼‰&lt;/span&gt;&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨äºç”ŸæˆJVMå½“å‰çº¿ç¨‹çš„å¿«ç…§ä¿¡æ¯ã€‚é€šå¸¸ç”¨äºæŸ¥è¯¢ä»€ä¹ˆåŸå› å¯¼è‡´çº¿ç¨‹é•¿æ—¶é—´çš„åœé¡¿ï¼Œæ¯”å¦‚ï¼šçº¿ç¨‹æ­»å¾ªç¯ï¼Œæ­»é”ï¼Œç­‰å¾…ç½‘ç»œ/IO&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;code&gt;jstack [option] vmid&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¸¸ç”¨çš„é€‰é¡¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-F&lt;/code&gt;: å½“è¯·æ±‚ä¸è¢«å“åº”æ—¶å¼ºåˆ¶è¾“å‡º&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-l&lt;/code&gt;: é™¤äº†æ˜¾ç¤ºå †æ ˆå¤–ï¼Œè¿˜éœ€è¦æ˜¾ç¤ºé”çš„ä¿¡æ¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;-m&lt;/code&gt;: å¦‚æœè°ƒç”¨åˆ°æœ¬åœ°æ–¹æ³•ï¼Œæ˜¾ç¤ºå‡ºC/C++çš„å †æ ˆ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;VisualVM å¯è§†åŒ–å·¥å…·&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;VisualVMæ˜¯ç›®å‰JDKè‡ªå¸¦çš„åŠŸèƒ½æœ€å¼ºçš„è¿è¡Œç›‘è§†å’Œæ•…éšœå¤„ç†ç¨‹åºï¼Œåœ¨VisualVMä¹‹å‰ï¼ŒJDKä¹Ÿæä¾›äº†ä¸€æ¬¾å¯è§†åŒ–å·¥å…·JConsoleï¼Œç”±äºJConsoleçš„æ‰€æœ‰åŠŸèƒ½åœ¨VisualVMéƒ½æœ‰ï¼Œæ‰€ä»¥å¯è§†åŒ–å·¥å…·å¤§å®¶å‡ ä¹éƒ½é€‰æ‹©ä½¿ç”¨VisualVMã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;VisualVMæœ¬èº«æ˜¯åŸºäºNetbeanå¼€å‘çš„ï¼Œæ‰€ä»¥å…·å¤‡äº†æ’ä»¶æ‰©å±•åŠŸèƒ½ï¼Œå®‰è£…æ’ä»¶ä¹‹åä¸Šé¢ä»‹ç»çš„æ‰€æœ‰å‘½ä»¤è¡Œçš„å·¥å…·çš„åŠŸèƒ½éƒ½å¯ä»¥åœ¨VisualVMä¸­ä½¿ç”¨ã€‚å¯ä»¥åœ¨åœ¨JAVA_HOME/binç›®å½•ä¸‹æ‰§è¡Œ&lt;code&gt;jvisualvm&lt;/code&gt;å¯åŠ¨ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ’ä»¶å®‰è£…
é»˜è®¤æƒ…å†µVisualVMæä¾›çš„åŠŸèƒ½å¾ˆå°‘ï¼Œéœ€è¦æˆ‘ä»¬åœ¨èœå•æ -&amp;gt;å·¥å…·-&amp;gt;æ’ä»¶é‡Œé¢å®‰è£…æ’ä»¶ï¼Œæˆ‘è¿™æ˜¯å…¨éƒ¨æ’ä»¶éƒ½å®‰è£…äº†&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.59875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3QGVcxoRL0D1EaoyiaI5tEqpBEGL0yXhmHe2NfcKJtyvic20C2RRhJP1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;åŠŸèƒ½æ¼”ç¤º&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.46981627296587924&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3UEXOHP6iauXffDAODBG85QP4PqKosiajOGz9GVXUib8x6c9HDJed2DxVw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;762&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¾ç¤ºå‡ºå½“å‰æœ¬æœºæ‰€æœ‰çš„JVMè¿›ç¨‹ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å†…å®¹å’Œå‰é¢è¯´çš„å‘½ä»¤è¡Œ&lt;code&gt;jps&lt;/code&gt;æ˜¾ç¤ºçš„å†…å®¹ä¸€æ ·&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6975&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3ZZs5Y4qialznXKtKIj1MibSTrqWycDS8UYoiaadvzqXOn2IR9DOiaWc0Ww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“å‰è™šæ‹Ÿæœºå¯åŠ¨ä¿¡æ¯çš„å±•ç¤ºï¼Œæ¯”å¦‚ï¼šJVMå¯åŠ¨å‚æ•°ã€ç³»ç»Ÿå‚æ•°&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.66&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3IuCCtJENo62LdUe0eVNAlVESYFVCQGKQjJib0TPxwcpWVLIuuCj6ia8w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªé¡µé¢ç›¸å½“äºå‘½ä»¤jstatçš„åŠŸèƒ½ï¼Œæ˜¾ç¤ºå‡ºäº†CPU, å†…å­˜ï¼Œçº¿ç¨‹ï¼Œç±»è£…è½½å½“å‰å¤„äºä»€ä¹ˆæƒ…å†µ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”Ÿæˆdumpæ–‡ä»¶å¯ä»¥åœ¨åº”ç”¨ç¨‹åºçª—å£å³é”®èœå•ä¸­é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªé¡µé¢ç‚¹å‡»å³ä¸Šè§’çš„&lt;code&gt;å †dump&lt;/code&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Visual GC
æ­¤é¡µä¸»è¦å±•ç¤ºäº†GCç›¸å…³çš„ä¿¡æ¯ï¼Œè¿™æ˜¯åœ¨æ€§èƒ½è°ƒä¼˜æ—¶å¸¸ç”¨çš„é¡µé¢ä¹‹ä¸€&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3525&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3uMn8Ciaga5rTDzRsjfjMa36O6GGgez4Cuj1EozA2VjwHnEiczK8EfxjA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥å†™ä¸ªç¨‹åºæ¥è§‚çœ‹ä¸‹è¿™ä¸ªæˆªå›¾å„ä¸ªå†…å­˜åŒºåŸŸçš„å˜åŒ–æƒ…å†µï¼Œä¸ºäº†è®©å›¾çš„æ•ˆæœæ˜æ˜¾éœ€è¦ä¿®æ”¹JVMçš„å¯åŠ¨å‚æ•°&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;-Xmx100mÂ -Xms100mÂ -XX:+HeapDumpOnOutOfMemoryErrorÂ -XX:HeapDumpPath=/Users/huaan9527/Desktop&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;publicÂ staticÂ voidÂ main(String[]Â args)Â {&lt;br/&gt;Â Â Â Â List&amp;lt;DataTest&amp;gt;Â datasÂ =Â newÂ ArrayList&amp;lt;&amp;gt;();&lt;br/&gt;&lt;br/&gt;Â Â Â Â IntStream.range(0,Â 10000).forEach(indexÂ -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â datas.add(newÂ DataTest());&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â tryÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(50);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â catchÂ (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â });&lt;br/&gt;&lt;br/&gt;Â Â Â Â System.gc();&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;staticÂ classÂ DataTestÂ {&lt;br/&gt;Â Â Â Â byte[]Â bytesÂ =Â newÂ byte[1024];&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5325&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3TJRzV0hnQgqJyXvS7icdAw8Rdh0wDAeaY3evvibsq9kEloJF3VNYLxOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;çº¿ç¨‹
æœ¬é¡µçš„åŠŸèƒ½ç›¸å½“äºå‘½ä»¤è¡Œå·¥å…·&lt;code&gt;jstack&lt;/code&gt;ï¼Œä¸»è¦æ˜¯ç”¨äºæ£€æŸ¥ä»€ä¹ˆåŸå› å¯¼è‡´çº¿ç¨‹é•¿æ—¶é—´ç­‰å¾…ï¼Œæˆ‘ä»¬å†™ç¨‹åºæ¥æ¼”ç¤ºä¸‹ç­‰å¾…å¤–éƒ¨èµ„æºã€é”ç­‰å¾…ã€æ­»å¾ªç¯è¿™å‡ ç§è¯·æ±‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œç­‰å¾…å¤–éƒ¨èµ„æºã€&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOExceptionÂ {&lt;br/&gt;Â Â Â Â BufferedReaderÂ readerÂ =Â newÂ BufferedReader(newÂ InputStreamReader(System.in));&lt;br/&gt;Â Â Â Â System.out.println(reader.readLine());&lt;br/&gt;Â Â Â Â tryÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Thread.sleep(1000000);&lt;br/&gt;Â Â Â Â }Â catchÂ (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€‰ä¸­mainçº¿ç¨‹ï¼Œå³ä¾§ä¼šçœ‹åˆ°å½“å‰çº¿ç¨‹è¿è¡Œåˆ°äº†readBytesï¼Œç­‰å¾…é”®ç›˜è¾“å…¥&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.395&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN30YP4cEJicbw4ibpa7HpHV68d8qiaExhstP9l0eMdQmrltjZJrwS7Is9JQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“æˆ‘ä»¬åœ¨æ§åˆ¶å°è¾“å…¥ä¹‹åå†æ¬¡æŸ¥çœ‹mainçº¿ç¨‹çš„çŠ¶æ€ï¼Œæ­¤æ—¶è¿›å…¥äº†TIME_WAITçŠ¶æ€&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.24375&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3vF9IMG5fFrYAq5GkB0ta3yLZlHrm7ccRfCqU7VDHEz9hRVQJLsZKMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œé”ç­‰å¾…ã€&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOException,Â InterruptedExceptionÂ {&lt;br/&gt;Â Â Â Â ThreadÂ threadÂ =Â createLockThread(newÂ Object());&lt;br/&gt;Â Â Â Â thread.join();&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;publicÂ staticÂ ThreadÂ createLockThread(finalÂ ObjectÂ lock)Â {&lt;br/&gt;Â Â Â Â ThreadÂ lockThreadÂ =Â newÂ Thread(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â synchronizedÂ (lock)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â tryÂ {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â lock.wait();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â catchÂ (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â },Â &lt;span&gt;&quot;lockThread&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â lockThread.start();&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â lockThread;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.34125&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3TktpB0w3QcrBiadrLic8Jz2wErvo24dZRtXCCNc9os2CQJJrESuofvfw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;lockThreadçº¿ç¨‹åœ¨ç­‰å¾…lockå¯¹è±¡çš„notifyæ–¹æ³•è¢«è°ƒç”¨ï¼Œæ­¤æ—¶å¤„äºWAITINGçŠ¶æ€ï¼Œåœ¨è¢«å”¤é†’ä¹‹å‰æ˜¯ä¸ä¼šå†åˆ†é…æ‰§è¡Œæ—¶é—´&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œæ­»å¾ªç¯ã€&lt;/strong&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;publicÂ staticÂ voidÂ main(String[]Â args)Â throwsÂ IOException,Â InterruptedExceptionÂ {&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (&lt;span&gt;true&lt;/span&gt;)Â ;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.25625&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ggRgNal7zG9kicVo0UGe8hmEJFxcQSRN3LDibRDrJ6XM9pYXlHdpupiauyXORbYfdsDOsDzuACnEia4uURESibn4aWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;800&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹ä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œä»å †æ ˆè¿½è¸ªé‡Œå¯ä»¥çœ‹å‡ºä»£ç ä¸€ç›´åœç•™åœ¨äº†191è¡Œï¼Œåœ¨ç©ºå¾ªç¯ä¸Šç”¨å°½åˆ†é…çš„æ‰§è¡Œæ—¶é—´&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬ç¯‡ä»‹ç»äº†å‘½ä»¤è¡Œå·¥å…·å’Œå¯è§†åŒ–å·¥å…·ï¼Œä¸‹ç¯‡å®æˆ˜æ¼”ç¤ºä¸‹å¦‚ä½•é€šè¿‡è¿™äº›å·¥å…·å¯¹&lt;strong&gt;ã€ŒIdeaè¿è¡Œé€Ÿåº¦è°ƒä¼˜ã€&lt;/strong&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å†™åˆ°æœ€å&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–‡ä¸­æˆ–è®¸ä¼šå­˜åœ¨æˆ–å¤šæˆ–å°‘çš„ä¸è¶³ã€é”™è¯¯ä¹‹å¤„ï¼Œæœ‰å»ºè®®æˆ–è€…æ„è§ä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶ç»™æˆ‘ç•™è¨€ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œ&lt;strong&gt;ã€Œç™½å«–ä¸å¥½ï¼Œåˆ›ä½œä¸æ˜“ã€&lt;/strong&gt;ï¼Œå¸Œæœ›æœ‹å‹ä»¬å¯ä»¥&lt;strong&gt;ã€Œç‚¹èµã€&lt;/strong&gt;ï¼Œå› ä¸ºè¿™äº›å°±æ˜¯æˆ‘åˆ†äº«çš„å…¨éƒ¨åŠ¨åŠ›æ¥æºğŸ™&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>20ee1157d866bed603d03131c7cca4e6</guid>
<title>é¢è¯•å®˜é—®ï¼šâ€œåœ¨é¡¹ç›®ä¸­ç”¨è¿‡å¤šçº¿ç¨‹å—ï¼Ÿâ€ ä½ å°±æŠŠè¿™ä¸ªæ¡ˆä¾‹è®²ç»™ä»–å¬</title>
<link>https://toutiao.io/k/tgp1ua8</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨é¢è¯•å½“ä¸­ï¼Œæœ‰æ—¶å€™ä¼šé—®åˆ°&lt;strong&gt;ä½ åœ¨é¡¹ç›®ä¸­ç”¨è¿‡å¤šçº¿ç¨‹ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºæ™®é€šçš„åº”å±Šç”Ÿæˆ–è€…å·¥ä½œæ—¶é—´ä¸é•¿çš„åˆçº§å¼€å‘ Â ï¼Ÿï¼Ÿï¼Ÿâ€”â€” crudä»”æµä¸‹äº†æ²¡æœ‰æŠ€æœ¯çš„çœ¼æ³ªã€‚&lt;/p&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJjUTFMSmfLCYF8L6PlhgCQYp5sGBCIzm5HAVwv8sllu19YibQa32zfMg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;300&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšä¸»è¿™é‡Œæ•´ç†äº†é¡¹ç›®ä¸­ç”¨åˆ°äº†å¤šçº¿ç¨‹çš„ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¯å‘ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¤šçº¿ç¨‹å¼€å‘å®ä¾‹&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;åº”ç”¨èƒŒæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åº”ç”¨çš„èƒŒæ™¯éå¸¸ç®€å•ï¼Œåšä¸»åšçš„é¡¹ç›®æ˜¯ä¸€ä¸ªå®¡æ ¸ç±»çš„é¡¹ç›®ï¼Œå®¡æ ¸çš„æ•°æ®éœ€è¦æ¨é€ç»™ç¬¬ä¸‰æ–¹ç›‘ç®¡ç³»ç»Ÿï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„å¯¹æ¥ï¼Œä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éœ€è¦æ¨é€çš„æ•°æ®å¤§æ¦‚ä¸‰åä¸‡æ¡ï¼Œä½†æ˜¯ç¬¬ä¸‰æ–¹ç›‘ç®¡æä¾›çš„æ¥å£åªæ”¯æŒå•æ¡æ¨é€ï¼ˆåˆ«é—®ä¸ºä»€ä¹ˆä¸æ”¯æŒæ‰¹é‡ï¼Œé—®å°±æ˜¯æ²¡&lt;span&gt;è®¨&lt;/span&gt;æ’•&lt;span&gt;è®º&lt;/span&gt;æ¯”&lt;span&gt;å¥½&lt;/span&gt;è¿‡ï¼‰ã€‚å¯ä»¥ä¼°ç®—ä¸€ä¸‹ï¼Œä¸‰åä¸‡æ¡æ•°æ®ï¼Œä¸€æ¡æ•°æ®æŒ‰3ç§’ç®—ï¼Œå¤§æ¦‚éœ€è¦250ï¼ˆä¸ºä»€ä¹ˆæ°å¥½ä¼šæ˜¯è¿™ä¸ªæ•°ï¼‰ä¸ªå°æ—¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥å°±è€ƒè™‘åˆ°å¼•å…¥å¤šçº¿ç¨‹æ¥è¿›è¡Œå¹¶å‘æ“ä½œï¼Œé™ä½æ•°æ®æ¨é€çš„æ—¶é—´ï¼Œæé«˜æ•°æ®æ¨é€çš„å®æ—¶æ€§ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2850595783684693&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJoeKuibMZJrNYKWXOCuhKl5cib1GVQWTfibHN2qAozc2jkSM9X0OriaicicwQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1091&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;ä¸šåŠ¡ç¤ºä¾‹&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è®¾è®¡è¦ç‚¹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;é˜²æ­¢é‡å¤&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬æ¨é€ç»™ç¬¬ä¸‰æ–¹çš„æ•°æ®è‚¯å®šæ˜¯ä¸èƒ½é‡å¤æ¨é€çš„ï¼Œå¿…é¡»è¦æœ‰ä¸€ä¸ªæœºåˆ¶ä¿è¯å„ä¸ªçº¿ç¨‹æ¨é€æ•°æ®çš„éš”ç¦»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œæœ‰ä¸¤ä¸ªæ€è·¯ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å°†æ‰€æœ‰æ•°æ®å–åˆ°é›†åˆï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç„¶åè¿›è¡Œåˆ‡å‰²ï¼Œæ¯ä¸ªçº¿ç¨‹æ¨é€ä¸åŒæ®µçš„æ•°æ®&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;li&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/li&gt;&lt;ol class=&quot;list-paddingleft-2&quot; start=&quot;2&quot;&gt;&lt;li&gt;&lt;section&gt;åˆ©ç”¨ æ•°æ®åº“åˆ†é¡µçš„æ–¹å¼ï¼Œæ¯ä¸ªçº¿ç¨‹å– [start,limit] åŒºé—´çš„æ•°æ®æ¨é€ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯startçš„ä¸€è‡´æ€§&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œé‡‡ç”¨äº†ç¬¬äºŒç§æ–¹å¼ï¼Œå› ä¸ºè€ƒè™‘åˆ°å¯èƒ½æ•°æ®é‡åç»­ä¼šç»§ç»­å¢åŠ ï¼ŒæŠŠæ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¯èƒ½ä¼šæœ‰æ¯”è¾ƒå¤§çš„å†…å­˜å ç”¨ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;å¤±è´¥æœºåˆ¶&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬è¿˜å¾—è€ƒè™‘åˆ°çº¿ç¨‹æ¨é€æ•°æ®å¤±è´¥çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ˜¯è‡ªå·±çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤šçº¿ç¨‹è°ƒç”¨çš„æ–¹æ³•æŠ½å‡ºæ¥åŠ ä¸€ä¸ªäº‹åŠ¡ï¼Œä¸€ä¸ªçº¿ç¨‹å¼‚å¸¸ï¼Œæ•´ä½“å›æ»šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯æ˜¯å’Œç¬¬ä¸‰æ–¹çš„å¯¹æ¥ï¼Œæˆ‘ä»¬éƒ½æ²¡æ³•åšäº‹åŠ¡çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ç›´æ¥åœ¨æ•°æ®åº“è®°å½•å¤±è´¥çŠ¶æ€çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨åé¢ç”¨å…¶å®ƒæ–¹å¼å¤„ç†å¤±è´¥çš„æ•°æ®ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;&lt;span/&gt;çº¿ç¨‹æ± é€‰æ‹©&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬è‚¯å®šæ˜¯è¦ç”¨åˆ°çº¿ç¨‹æ± æ¥ç®¡ç†çº¿ç¨‹ï¼Œå…³äºçº¿ç¨‹æ± ï¼Œæˆ‘ä»¬å¸¸ç”¨ ThreadPoolExecutoræä¾›çš„çº¿ç¨‹æ± æœåŠ¡ï¼ŒSpringBootä¸­åŒæ ·ä¹Ÿæä¾›äº†çº¿ç¨‹æ± å¼‚æ­¥çš„æ–¹å¼ï¼Œè™½ç„¶SprignBootå¼‚æ­¥å¯èƒ½æ›´æ–¹ä¾¿ä¸€ç‚¹ï¼Œä½†æ˜¯ä½¿ç”¨ThreadPoolExecutoræ›´åŠ ç›´è§‚åœ°æ§åˆ¶çº¿ç¨‹æ± ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ThreadPoolExecutoræ„é€ æ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§æ¦‚çš„æŠ€æœ¯è®¾è®¡ç¤ºæ„å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4625322997416021&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJ5Ndqibz0WmpUMk6xZmaO0wo6pO34Sode5OnXrQ0m7O6R1QbAjs1NhaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;774&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;è®¾è®¡ç¤ºæ„å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ ¸å¿ƒä»£ç &lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢å­å­äº†ä¸€å †ï¼Œåˆ°äº†show you codeçš„ç¯èŠ‚äº†ã€‚æˆ‘å°†é¡¹ç›®é‡Œçš„ä»£ç æŠ½å–å‡ºæ¥ï¼Œç®€åŒ–å‡ºäº†ä¸€ä¸ªç¤ºä¾‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;/**&lt;br/&gt;Â *Â &lt;span&gt;@Author&lt;/span&gt;Â ä¸‰åˆ†æ¶&lt;br/&gt;Â *Â &lt;span&gt;@Date&lt;/span&gt;Â 2021/3/5&lt;br/&gt;Â *Â &lt;span&gt;@Description&lt;/span&gt;&lt;br/&gt;Â */&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;PushProcessServiceImpl&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;PushProcessService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â PushUtilÂ pushUtil;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â PushProcessMapperÂ pushProcessMapper;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â LoggerÂ loggerÂ =Â LoggerFactory.getLogger(PushProcessServiceImpl&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//æ¯ä¸ªçº¿ç¨‹æ¯æ¬¡æŸ¥è¯¢çš„æ¡æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â IntegerÂ LIMITÂ =Â &lt;span&gt;5000&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;//èµ·çš„çº¿ç¨‹æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â IntegerÂ THREAD_NUMÂ =Â &lt;span&gt;5&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;//åˆ›å»ºçº¿ç¨‹æ± &lt;/span&gt;&lt;br/&gt;Â Â Â Â ThreadPoolExecutorÂ poolÂ =Â &lt;span&gt;new&lt;/span&gt;Â ThreadPoolExecutor(THREAD_NUM,Â THREAD_NUMÂ *Â &lt;span&gt;2&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;,Â TimeUnit.SECONDS,Â &lt;span&gt;new&lt;/span&gt;Â LinkedBlockingQueue&amp;lt;&amp;gt;(&lt;span&gt;100&lt;/span&gt;));&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;pushData&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExecutionException,Â InterruptedExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è®¡æ•°å™¨ï¼Œéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æœªæ¨é€æ•°æ®æ€»æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â IntegerÂ totalÂ =Â pushProcessMapper.countPushRecordsByState(&lt;span&gt;0&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â logger.info(&lt;span&gt;&quot;æœªæ¨é€æ•°æ®æ¡æ•°ï¼š{}&quot;&lt;/span&gt;,Â total);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//è®¡ç®—éœ€è¦å¤šå°‘è½®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â numÂ =Â totalÂ /Â (LIMITÂ *Â THREAD_NUM)Â +Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â logger.info(&lt;span&gt;&quot;è¦ç»è¿‡çš„è½®æ•°:{}&quot;&lt;/span&gt;,Â num);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//ç»Ÿè®¡æ€»å…±æ¨é€æˆåŠŸçš„æ•°æ®æ¡æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â totalSuccessCountÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â num;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//æ¥æ”¶çº¿ç¨‹è¿”å›ç»“æœ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â List&amp;lt;Future&amp;lt;Integer&amp;gt;&amp;gt;Â futureListÂ =Â &lt;span&gt;new&lt;/span&gt;Â ArrayList&amp;lt;&amp;gt;(&lt;span&gt;32&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//èµ·THREAD_NUMä¸ªçº¿ç¨‹å¹¶è¡ŒæŸ¥è¯¢æ›´æ–°åº“ï¼ŒåŠ é”&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â THREAD_NUM;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (PushProcessServiceImpl&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â startÂ =Â countÂ *Â LIMIT;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â count++;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//æäº¤çº¿ç¨‹ï¼Œç”¨æ•°æ®èµ·å§‹ä½ç½®æ ‡è¯†çº¿ç¨‹&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Future&amp;lt;Integer&amp;gt;Â futureÂ =Â pool.submit(&lt;span&gt;new&lt;/span&gt;Â PushDataTask(start,Â LIMIT,Â start));&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//å…ˆä¸å–å€¼ï¼Œé˜²æ­¢é˜»å¡,æ”¾è¿›é›†åˆ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â futureList.add(future);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//ç»Ÿè®¡æœ¬è½®æ¨é€æˆåŠŸæ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (FutureÂ fÂ :Â futureList)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â totalSuccessCountÂ =Â totalSuccessCountÂ +Â (&lt;span&gt;int&lt;/span&gt;)Â f.get();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æ›´æ–°æ¨é€æ ‡å¿—&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â pushProcessMapper.updateAllState(&lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â logger.info(&lt;span&gt;&quot;æ¨é€æ•°æ®å®Œæˆï¼Œéœ€æ¨é€æ•°æ®:{},æ¨é€æˆåŠŸï¼š{}&quot;&lt;/span&gt;,Â total,Â totalSuccessCount);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;/**&lt;br/&gt;Â Â Â Â Â *Â æ¨é€æ•°æ®çº¿ç¨‹ç±»&lt;br/&gt;Â Â Â Â Â */&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;PushDataTask&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Callable&lt;/span&gt;&amp;lt;&lt;span&gt;Integer&lt;/span&gt;&amp;gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â start;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â limit;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â threadNo;Â Â Â &lt;span&gt;//çº¿ç¨‹ç¼–å·&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â PushDataTask(&lt;span&gt;int&lt;/span&gt;Â start,Â &lt;span&gt;int&lt;/span&gt;Â limit,Â &lt;span&gt;int&lt;/span&gt;Â threadNo)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.startÂ =Â start;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.limitÂ =Â limit;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;this&lt;/span&gt;.threadNoÂ =Â threadNo;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â IntegerÂ &lt;span&gt;call&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//æ¨é€çš„æ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â List&amp;lt;PushProcess&amp;gt;Â pushProcessListÂ =Â pushProcessMapper.findPushRecordsByStateLimit(&lt;span&gt;0&lt;/span&gt;,Â start,Â limit);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (CollectionUtils.isEmpty(pushProcessList))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â count;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â logger.info(&lt;span&gt;&quot;çº¿ç¨‹{}å¼€å§‹æ¨é€æ•°æ®&quot;&lt;/span&gt;,Â threadNo);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (PushProcessÂ processÂ :Â pushProcessList)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;boolean&lt;/span&gt;Â isSuccessÂ =Â pushUtil.sendRecord(process);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (isSuccess)Â {Â Â Â &lt;span&gt;//æ¨é€æˆåŠŸ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//æ›´æ–°æ¨é€æ ‡è¯†&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pushProcessMapper.updateFlagById(process.getId(),Â &lt;span&gt;1&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â count++;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {Â Â &lt;span&gt;//æ¨é€å¤±è´¥&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pushProcessMapper.updateFlagById(process.getId(),Â &lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â logger.info(&lt;span&gt;&quot;çº¿ç¨‹{}æ¨é€æˆåŠŸ{}æ¡&quot;&lt;/span&gt;,Â threadNo,Â count);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â count;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç å¾ˆé•¿ï¼Œæˆ‘ä»¬ç®€å•è¯´ä¸€ä¸‹å…³é”®çš„åœ°æ–¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;çº¿ç¨‹åˆ›å»ºï¼šçº¿ç¨‹å†…éƒ¨ç±»é€‰æ‹©äº†å®ç°Callableæ¥å£ï¼Œè¿™æ ·æ–¹ä¾¿è·å–çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œçš„ç»“æœï¼Œåœ¨ç¤ºä¾‹é‡Œç”¨äºç»Ÿè®¡çº¿ç¨‹æ¨é€æˆåŠŸçš„æ•°é‡&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;PushDataTask&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Callable&lt;/span&gt;&amp;lt;&lt;span&gt;Integer&lt;/span&gt;&amp;gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ ThreadPoolExecutor åˆ›å»ºçº¿ç¨‹æ± ï¼Œ&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â &lt;span&gt;//åˆ›å»ºçº¿ç¨‹æ± &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â ThreadPoolExecutorÂ poolÂ =Â &lt;span&gt;new&lt;/span&gt;Â ThreadPoolExecutor(THREAD_NUM,Â THREAD_NUMÂ *Â &lt;span&gt;2&lt;/span&gt;,Â &lt;span&gt;0&lt;/span&gt;,Â TimeUnit.SECONDS,Â &lt;span&gt;new&lt;/span&gt;Â LinkedBlockingQueue&amp;lt;&amp;gt;(&lt;span&gt;100&lt;/span&gt;));&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸»è¦æ„é€ å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;- Â corePoolSizeï¼šçº¿ç¨‹æ ¸å¿ƒå‚æ•°é€‰æ‹©äº†5&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;- maximumPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°é€‰æ‹©äº†æ ¸å¿ƒçº¿ç¨‹æ•°2å€æ•°&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;- keepAliveTimeï¼šéæ ¸å¿ƒé—²ç½®çº¿ç¨‹å­˜æ´»æ—¶é—´ç›´æ¥ç½®ä¸º0&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;- unitï¼šéæ ¸å¿ƒçº¿ç¨‹ä¿æŒå­˜æ´»çš„æ—¶é—´é€‰æ‹©äº† TimeUnit.SECONDS ç§’&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;- workQueueï¼šçº¿ç¨‹æ± ç­‰å¾…é˜Ÿåˆ—ï¼Œä½¿ç”¨ å®¹é‡åˆå§‹ä¸º100çš„ LinkedBlockingQueueé˜»å¡é˜Ÿåˆ—&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œè¿˜æœ‰æ²¡å†™å‡ºæ¥çš„çº¿ç¨‹æ± æ‹’ç»ç­–ç•¥ï¼Œé‡‡ç”¨äº†é»˜è®¤AbortPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ synchronized æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œä¿è¯è®¡æ•°å™¨çš„å¢åŠ æ˜¯æœ‰åºçš„&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (PushProcessServiceImpl&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;List&amp;lt;Future&amp;lt;Integer&amp;gt;&amp;gt;Â futureListÂ =Â &lt;span&gt;new&lt;/span&gt;Â ArrayList&amp;lt;&amp;gt;(&lt;span&gt;32&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¥½äº†ï¼Œä¸»è¦çš„ä»£ç å’Œç®€å•çš„è§£æå°±åˆ°è¿™é‡Œäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…³äºè¿™ä¸ªç®€å•çš„demoï¼Œè¿™é‡Œåªæ˜¯ç®€å•åœ°åšæ¨é€æ•°æ®å¤„ç†ã€‚è€ƒè™‘ä¸€ä¸‹ï¼Œè¿™ä¸ªå®ä¾‹æ˜¯ä¸æ˜¯å¯ä»¥ç”¨åœ¨ä½ é¡¹ç›®çš„æŸäº›åœ°æ–¹ã€‚ä¾‹å¦‚ç›‘ç®¡ç³»ç»Ÿçš„æ•°æ®æ ¡éªŒã€å®¡è®¡ç³»ç»Ÿçš„æ•°æ®ç»Ÿè®¡ã€ç”µå•†ç³»ç»Ÿçš„æ•°æ®åˆ†æç­‰ç­‰ï¼Œåªè¦æ˜¯æœ‰å¤§é‡æ•°æ®å¤„ç†çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥æŠŠè¿™ä¸ªä¾‹å­ç»“åˆåˆ°ä½ çš„é¡¹ç›®é‡Œï¼Œè¿™æ ·ä½ å°±æœ‰äº†å¤šçº¿ç¨‹å¼€å‘çš„ç»éªŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å®Œæ•´ä»£ç ä»“åº“åœ°å€åœ¨æ–‡ç« åº•éƒ¨ğŸ‘‡ğŸ‘‡&lt;/strong&gt;&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¯¹çº¿é¢è¯•å®˜&lt;/span&gt;&lt;span/&gt;&lt;/h1&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é¢è¯•å®˜ï¼šå°ä¼™å­ï¼Œä¸é”™ï¼Œä½ è¿™ä¸ªæ•´æŒºå¥½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è€ä¸‰ï¼šé‚£æ˜¯è‡ªç„¶ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é¢è¯•å®˜ï¼šå‘¦ï¼Œå°ä¼™å­ï¼ŒæŒºè‡ªä¿¡ï¼Œé‚£æˆ‘å¾—å¥½å¥½è€ƒè€ƒä½ ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è€ä¸‰ï¼šæ”¾é©¬è¿‡æ¥ï¼Œä½†è€ƒæ— å¦¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;img data-ratio=&quot;0.9817813765182186&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJplnicOJE2fe1ibB8MLlpJxFQJhx3CBhqdeXd2OIuicJTPuVwkST3VkeLA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;494&quot;/&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šå…ˆä»æœ€ç®€å•çš„å¼€å§‹ï¼Œè¯´è¯´ä»€ä¹ˆæ˜¯çº¿ç¨‹å§&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦è¯´çº¿ç¨‹ï¼Œå¿…å…ˆè¯´è¿›ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿›ç¨‹æ˜¯ç¨‹åºçš„â¼€æ¬¡æ‰§â¾è¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿â¾ç¨‹åºçš„åŸºæœ¬å•ä½ï¼Œå› æ­¤è¿›ç¨‹æ˜¯åŠ¨æ€çš„ã€‚ç³»ç»Ÿè¿â¾â¼€ä¸ªç¨‹åºå³æ˜¯â¼€ä¸ªè¿›ç¨‹ä»åˆ›å»ºï¼Œè¿â¾åˆ°æ¶ˆäº¡çš„è¿‡ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹ä¸è¿›ç¨‹ç›¸ä¼¼ï¼Œä½†çº¿ç¨‹æ˜¯â¼€ä¸ªâ½è¿›ç¨‹æ›´â¼©çš„æ‰§â¾å•ä½ã€‚â¼€ä¸ªè¿›ç¨‹åœ¨å…¶æ‰§â¾çš„è¿‡ç¨‹ä¸­å¯ä»¥äº§â½£å¤šä¸ªçº¿ç¨‹ã€‚ä¸è¿›ç¨‹ä¸åŒçš„æ˜¯åŒç±»çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å †å’Œâ½…æ³•åŒºèµ„æºï¼Œä½†æ¯ä¸ªçº¿ç¨‹æœ‰â¾ƒâ¼°çš„ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°â½…æ³•æ ˆï¼Œæ‰€ä»¥ç³»ç»Ÿåœ¨äº§â½£â¼€ä¸ªçº¿ç¨‹ï¼Œæˆ–æ˜¯åœ¨å„ä¸ªçº¿ç¨‹ä¹‹é—´ä½œåˆ‡æ¢â¼¯ä½œæ—¶ï¼Œè´Ÿæ‹…è¦â½è¿›ç¨‹â¼©å¾—å¤šï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œçº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºè½»é‡çº§è¿›ç¨‹ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´è¯´Javaé‡Œæ€ä¹ˆåˆ›å»ºçº¿ç¨‹å§&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Javaé‡Œåˆ›å»ºçº¿ç¨‹ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç»§æ‰¿ Threadç±»ï¼šThread ç±»æœ¬è´¨ä¸Šæ˜¯å®ç°äº† Runnable æ¥å£çš„ä¸€ä¸ªå®ä¾‹ï¼Œä»£è¡¨ä¸€ä¸ªçº¿ç¨‹çš„å®ä¾‹ã€‚å¯åŠ¨çº¿ç¨‹çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯é€šè¿‡ Thread ç±»çš„ start()å®ä¾‹æ–¹æ³•ã€‚start()æ–¹æ³•æ˜¯ä¸€ä¸ª native æ–¹æ³•ï¼Œå®ƒå°†å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œ run()æ–¹æ³•ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å®ç° Runnableæ¥å£ï¼šå¦‚æœè‡ªå·±çš„ç±»å·²ç» extends å¦ä¸€ä¸ªç±»ï¼Œå°±æ— æ³•ç›´æ¥ extends Threadï¼Œæ­¤æ—¶ï¼Œå¯ä»¥å®ç°ä¸€ä¸ªRunnable æ¥å£ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å®ç° Callableæ¥å£ï¼šå®ç°Callableæ¥å£ï¼Œé‡å†™call()æ–¹æ³•ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ª Futureç±»å‹çš„è¿”å›å€¼ã€‚æˆ‘åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œå°±æ˜¯ç”¨åˆ°äº†è¿™ç§æ–¹å¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨Javaä¸­ï¼Œçº¿ç¨‹å…±æœ‰å…­ç§çŠ¶æ€ï¼š&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;çŠ¶æ€&lt;/th&gt;&lt;th&gt;è¯´æ˜&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;NEW&lt;/td&gt;&lt;td&gt;åˆå§‹çŠ¶æ€ï¼šçº¿ç¨‹è¢«åˆ›å»ºï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;RUNNABLE&lt;/td&gt;&lt;td&gt;è¿è¡ŒçŠ¶æ€ï¼šJavaçº¿ç¨‹å°†æ“ä½œç³»ç»Ÿä¸­çš„å°±ç»ªå’Œè¿è¡Œä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä½œâ€œè¿è¡Œâ€&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;BLOCKED&lt;/td&gt;&lt;td&gt;é˜»å¡çŠ¶æ€ï¼šè¡¨ç¤ºçº¿ç¨‹é˜»å¡äºé”&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;WAITING&lt;/td&gt;&lt;td&gt;ç­‰å¾…çŠ¶æ€ï¼šè¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥è¯¥çŠ¶æ€è¡¨ç¤ºå½“å‰çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹åšå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;TIME_WAITING&lt;/td&gt;&lt;td&gt;è¶…æ—¶ç­‰å¾…çŠ¶æ€ï¼šè¯¥çŠ¶æ€ä¸åŒäº WAITINDï¼Œå®ƒæ˜¯å¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´è‡ªè¡Œè¿”å›çš„&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;TERMINATED&lt;/td&gt;&lt;td&gt;ç»ˆæ­¢çŠ¶æ€ï¼šè¡¨ç¤ºå½“å‰çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹åœ¨è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œ å¹¶ä¸æ˜¯å›ºå®šåœ°å¤„äºæŸä¸ªçŠ¶æ€ï¼Œè€Œæ˜¯éšç€ä»£ç çš„æ‰§è¡Œåœ¨ä¸åŒçš„çŠ¶æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ŒJavaçº¿ç¨‹çŠ¶æ€å˜åŒ–å¦‚å›¾ç¤ºï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6393688955672426&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJwMXbeLwuiar3nicJXFSHGzgnzpP9d2NNGKUYbcS8fibkFeOTmNpzEQ5dQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1331&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;Javaçº¿ç¨‹çŠ¶æ€å˜åŒ–&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ æåˆ°äº†çº¿ç¨‹é˜»å¡ï¼Œé‚£ä½ å†è¯´è¯´çº¿ç¨‹æ­»é”å§&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹æ­»é”æè¿°çš„æ˜¯è¿™æ ·â¼€ç§æƒ…å†µï¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶è¢«é˜»å¡ï¼Œå®ƒä»¬ä¸­çš„â¼€ä¸ªæˆ–è€…å…¨éƒ¨éƒ½åœ¨ç­‰å¾…æŸä¸ªèµ„æºè¢«é‡Šæ”¾ã€‚ç”±äºçº¿ç¨‹è¢«â½†é™æœŸåœ°é˜»å¡ï¼Œå› æ­¤ç¨‹åºä¸å¯èƒ½æ­£å¸¸ç»ˆâ½Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹ A æŒæœ‰èµ„æº 2ï¼Œçº¿ç¨‹ B æŒæœ‰èµ„æº 1ï¼Œä»–ä»¬åŒæ—¶éƒ½æƒ³ç”³è¯·å¯¹â½…çš„èµ„æºï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªçº¿ç¨‹å°±ä¼šäº’ç›¸ç­‰å¾…â½½è¿›â¼Šæ­»é”çŠ¶æ€ã€‚&lt;/p&gt;&lt;img data-ratio=&quot;0.6206896551724138&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJvsVBVbkFS5uejiao5Q2nbCe7vygjTchP3PviaNSMDPJjZYfjXvBiarD5g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;667&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº§ç”Ÿæ­»é”å¿…é¡»æ»¡è¶³å››ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;äº’æ–¥æ¡ä»¶ï¼šè¯¥èµ„æºä»»æ„â¼€ä¸ªæ—¶åˆ»åªç”±â¼€ä¸ªçº¿ç¨‹å â½¤ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šâ¼€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºâ½½é˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸å‰¥å¤ºæ¡ä»¶:çº¿ç¨‹å·²è·å¾—çš„èµ„æºåœ¨æœ«ä½¿â½¤å®Œä¹‹å‰ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹å¼ºâ¾å‰¥å¤ºï¼Œåªæœ‰â¾ƒâ¼°ä½¿â½¤å®Œæ¯•åæ‰é‡Šæ”¾èµ„æºã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¾ªç¯ç­‰å¾…æ¡ä»¶:è‹¥â¼²è¿›ç¨‹ä¹‹é—´å½¢æˆâ¼€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šæ€ä¹ˆé¿å…æ­»é”å‘¢ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä¸Šâ¾¯è¯´äº†äº§â½£æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Œä¸ºäº†é¿å…æ­»é”ï¼Œæˆ‘ä»¬åªè¦ç ´åäº§â½£æ­»é”çš„å››ä¸ªæ¡ä»¶ä¸­çš„å…¶ä¸­â¼€ä¸ªå°±å¯ä»¥äº†ã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç ´åäº’æ–¥æ¡ä»¶ ï¼šè¿™ä¸ªæ¡ä»¶æˆ‘ä»¬æ²¡æœ‰åŠæ³•ç ´åï¼Œå› ä¸ºæˆ‘ä»¬â½¤é”æœ¬æ¥å°±æ˜¯æƒ³è®©ä»–ä»¬äº’æ–¥çš„ï¼ˆä¸´ç•Œèµ„æºéœ€è¦äº’æ–¥è®¿é—®ï¼‰ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç ´åè¯·æ±‚ä¸ä¿æŒæ¡ä»¶ ï¼šâ¼€æ¬¡æ€§ç”³è¯·æ‰€æœ‰çš„èµ„æºã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç ´åä¸å‰¥å¤ºæ¡ä»¶ ï¼šå â½¤éƒ¨åˆ†èµ„æºçš„çº¿ç¨‹è¿›â¼€æ­¥ç”³è¯·å…¶ä»–èµ„æºæ—¶ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œå¯ä»¥ä¸»åŠ¨é‡Šæ”¾å®ƒå æœ‰çš„èµ„æºã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ ï¼šé æŒ‰åºç”³è¯·èµ„æºæ¥é¢„é˜²ã€‚æŒ‰æŸâ¼€é¡ºåºç”³è¯·èµ„æºï¼Œé‡Šæ”¾èµ„æºåˆ™ååºé‡Šæ”¾ã€‚ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šæˆ‘çœ‹ä½ çš„ä¾‹å­é‡Œç”¨åˆ°äº†synchronizedï¼Œè¯´è¯´ synchronizedçš„ç”¨æ³•å§&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œsynchronizedã€&lt;/strong&gt; å…³é”®å­—æœ€ä¸»è¦çš„ä¸‰ç§ä½¿â½¤â½…å¼ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œ1.&lt;strong&gt;ã€Œä¿®é¥°å®ä¾‹â½…æ³•ã€&lt;/strong&gt;:ã€&lt;/strong&gt; ä½œâ½¤äºå½“å‰å¯¹è±¡å®ä¾‹åŠ é”ï¼Œè¿›â¼ŠåŒæ­¥ä»£ç å‰è¦è·å¾— å½“å‰å¯¹è±¡å®ä¾‹çš„é”&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;synchronized&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;method&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â &lt;span&gt;//ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œ2.&lt;strong&gt;ã€Œä¿®é¥°é™æ€â½…æ³•ã€&lt;/strong&gt;:ã€&lt;/strong&gt; ä¹Ÿå°±æ˜¯ç»™å½“å‰ç±»åŠ é”ï¼Œä¼šä½œâ½¤äºç±»çš„æ‰€æœ‰å¯¹è±¡å®ä¾‹ ï¼Œè¿›â¼ŠåŒæ­¥ä»£ç å‰è¦è·å¾—å½“å‰ &lt;strong&gt;ã€Œclassã€&lt;/strong&gt; çš„é”ã€‚å› ä¸ºé™æ€æˆå‘˜ä¸å±äºä»»ä½•â¼€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ˜¯ç±»æˆå‘˜ï¼ˆ &lt;em&gt;static&lt;/em&gt; è¡¨æ˜è¿™æ˜¯è¯¥ç±»çš„â¼€ä¸ªé™æ€èµ„æºï¼Œä¸ç®¡ &lt;em&gt;new&lt;/em&gt; äº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œåªæœ‰â¼€ä»½ï¼‰ã€‚æ‰€ä»¥ï¼Œå¦‚æœâ¼€ä¸ªçº¿ç¨‹ A è°ƒâ½¤â¼€ä¸ªå®ä¾‹å¯¹è±¡çš„â¾®é™æ€ synchronized â½…æ³•ï¼Œâ½½çº¿ç¨‹ B éœ€è¦è°ƒâ½¤è¿™ä¸ªå®ä¾‹å¯¹è±¡æ‰€å±ç±»çš„é™æ€ synchronized â½…æ³•ï¼Œæ˜¯å…è®¸çš„ï¼Œä¸ä¼šå‘â½£äº’æ–¥ç°è±¡ï¼Œå› ä¸ºè®¿é—®é™æ€ &lt;strong&gt;ã€Œsynchronizedã€&lt;/strong&gt; â½…æ³•å â½¤çš„é”æ˜¯å½“å‰ç±»çš„é”ï¼Œâ½½è®¿é—®â¾®é™æ€ &lt;strong&gt;ã€Œsynchronizedã€&lt;/strong&gt; â½…æ³•å â½¤çš„é”æ˜¯å½“å‰å®ä¾‹å¯¹è±¡é”ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;synchronized&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â staicÂ &lt;span&gt;method&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â &lt;span&gt;//ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;**3.**ä¿®é¥°ä»£ç å— ï¼šæŒ‡å®šåŠ é”å¯¹è±¡ï¼Œå¯¹ç»™å®šå¯¹è±¡/ç±»åŠ é”ã€‚synchronized(this|object) è¡¨ç¤ºè¿›â¼ŠåŒæ­¥ä»£ç åº“å‰è¦è·å¾—ç»™å®šå¯¹è±¡çš„é”ã€‚synchronized(ç±».class) è¡¨ç¤ºè¿›â¼ŠåŒæ­¥ä»£ç å‰è¦è·å¾— å½“å‰ &lt;strong&gt;ã€Œclassã€&lt;/strong&gt; çš„é”&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;synchronized&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt;)Â {&lt;br/&gt;Â &lt;span&gt;//ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æˆ‘çš„ä¾‹å­é‡Œä½¿ç”¨synchronizedä¿®é¥°ä»£ç å—ï¼Œç»™PushProcessServiceImplç±»åŠ é”ï¼Œè¿›â¼ŠåŒæ­¥ä»£ç å‰è¦è·å¾— å½“å‰ &lt;strong&gt;ã€Œclassã€&lt;/strong&gt; çš„é”ï¼Œé˜²æ­¢PushProcessServiceImplç±»çš„å¯¹è±¡åœ¨æ§åˆ¶å±‚è°ƒç”¨æ¨é€æ•°æ®çš„æ–¹æ³•ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šé™¤äº†ä½¿ç”¨synchronizedï¼Œè¿˜æœ‰ä»€ä¹ˆåŠæ³•æ¥åŠ é”å—ï¼Ÿè¯¦ç»†è¯´ä¸€ä¸‹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥ä½¿ç”¨jucåŒ…æä¾›çš„é”ã€‚Lockæ¥å£ä¸»è¦ç›¸å…³çš„ç±»å’Œæ¥å£å¦‚ä¸‹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.3722044728434505&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJG4J44V9sDaKDh0FFLj48icG9E2fHqaJ4zST9FIbqC0Tl4hqvqrE8gMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;626&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306162316895&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Lockä¸­çš„ä¸»è¦æ–¹æ³•ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;lockï¼šç”¨æ¥è·å–é”ï¼Œå¦‚æœé”è¢«å…¶ä»–çº¿ç¨‹è·å–ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;lockInterruptiblyï¼šé€šè¿‡è¿™ä¸ªæ–¹æ³•å»è·å–é”æ—¶ï¼Œå¦‚æœçº¿ç¨‹æ­£åœ¨ç­‰å¾…è·å–é”ï¼Œåˆ™è¿™ä¸ªçº¿ç¨‹èƒ½å¤Ÿå“åº”ä¸­æ–­ï¼Œå³ä¸­æ–­çº¿ç¨‹çš„ç­‰å¾…çŠ¶æ€ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;tryLockï¼štryLockæ–¹æ³•æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå®ƒè¡¨ç¤ºç”¨æ¥å°è¯•è·å–é”ï¼Œå¦‚æœè·å–æˆåŠŸï¼Œåˆ™è¿”å›trueï¼Œå¦‚æœè·å–å¤±è´¥ï¼ˆå³é”å·²è¢«å…¶ä»–çº¿ç¨‹è·å–ï¼‰ï¼Œåˆ™è¿”å›falseã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;tryLockï¼ˆlongï¼ŒTimeUnitï¼‰ï¼šä¸tryLockç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯æœ‰ç­‰å¾…æ—¶é—´ï¼Œåœ¨ç­‰å¾…æ—¶é—´å†…è·å–åˆ°é”è¿”å›trueï¼Œè¶…æ—¶è¿”å›falseã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;unlockï¼šé‡Šæ”¾é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ƒæ¥å£å’Œç±»ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ReetrantLockï¼ˆå¯é‡å…¥é”ï¼‰ï¼šå®ç°äº†Lockæ¥å£ï¼Œå¯é‡å…¥é”ï¼Œå†…éƒ¨å®šä¹‰äº†å…¬å¹³é”ä¸éå…¬å¹³é”ã€‚å¯ä»¥å®Œæˆsynchronized æ‰€èƒ½å®Œæˆçš„æ‰€æœ‰å·¥ä½œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ReadWriteLockï¼ˆè¯»å†™é”ï¼‰ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;interface&lt;/span&gt;Â &lt;span&gt;ReadWriteLock&lt;/span&gt;Â &lt;/span&gt;{Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;LockÂ &lt;span&gt;readLock&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;Â Â Â Â Â Â Â &lt;span&gt;//è·å–è¯»é”Â Â &lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;LockÂ &lt;span&gt;writeLock&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;;Â Â Â Â Â Â &lt;span&gt;//è·å–å†™é”Â Â &lt;/span&gt;&lt;br/&gt;}Â Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªç”¨æ¥è·å–è¯»é”ï¼Œä¸€ä¸ªç”¨æ¥è·å–å†™é”ã€‚ä¹Ÿå°±æ˜¯è¯´å°†æ–‡ä»¶çš„è¯»å†™æ“ä½œåˆ†å¼€ï¼Œåˆ†æˆ2ä¸ªé”æ¥åˆ†é…ç»™çº¿ç¨‹ï¼Œä»è€Œä½¿å¾—å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿›è¡Œè¯»æ“ä½œã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ReetrantReadWriteLockï¼ˆå¯é‡å…¥è¯»å†™é”ï¼‰ï¼šReetrantReadWriteLockåŒæ ·æ”¯æŒå…¬å¹³æ€§é€‰æ‹©ï¼Œæ”¯æŒé‡è¿›å…¥ï¼Œé”é™çº§ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´è¯´synchronizedå’ŒLockçš„åŒºåˆ«&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;ç±»åˆ«&lt;/th&gt;&lt;th&gt;synchronized&lt;/th&gt;&lt;th&gt;Lock&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;å­˜åœ¨å±‚æ¬¡&lt;/td&gt;&lt;td&gt;Javaçš„å…³é”®å­—ï¼Œåœ¨jvmå±‚é¢ä¸Š&lt;/td&gt;&lt;td&gt;æ˜¯ä¸€ä¸ªæ¥å£ï¼Œapiçº§åˆ«&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;é”çš„é‡Šæ”¾&lt;/td&gt;&lt;td&gt;1ã€ä»¥è·å–é”çš„çº¿ç¨‹æ‰§è¡Œå®ŒåŒæ­¥ä»£ç ï¼Œé‡Šæ”¾é” 2ã€çº¿ç¨‹æ‰§è¡Œå‘ç”Ÿå¼‚å¸¸ï¼Œjvmä¼šè®©çº¿ç¨‹é‡Šæ”¾é”&lt;/td&gt;&lt;td&gt;åœ¨finallyä¸­å¿…é¡»é‡Šæ”¾é”ï¼Œä¸ç„¶å®¹æ˜“é€ æˆçº¿ç¨‹æ­»é”&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;é”çš„è·å–&lt;/td&gt;&lt;td&gt;å‡è®¾Açº¿ç¨‹è·å¾—é”ï¼ŒBçº¿ç¨‹ç­‰å¾…ã€‚å¦‚æœAçº¿ç¨‹é˜»å¡ï¼ŒBçº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…&lt;/td&gt;&lt;td&gt;åˆ†æƒ…å†µè€Œå®šï¼ŒLockæœ‰å¤šä¸ªé”è·å–çš„æ–¹å¼ï¼Œå…·ä½“ä¸‹é¢ä¼šè¯´é“ï¼Œå¤§è‡´å°±æ˜¯å¯ä»¥å°è¯•è·å¾—é”ï¼Œçº¿ç¨‹å¯ä»¥ä¸ç”¨ä¸€ç›´ç­‰å¾…&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;é”çŠ¶æ€&lt;/td&gt;&lt;td&gt;æ— æ³•åˆ¤æ–­&lt;/td&gt;&lt;td&gt;å¯ä»¥åˆ¤æ–­&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;é”ç±»å‹&lt;/td&gt;&lt;td&gt;å¯é‡å…¥ ä¸å¯ä¸­æ–­ éå…¬å¹³&lt;/td&gt;&lt;td&gt;å¯é‡å…¥ å¯åˆ¤æ–­ å¯å…¬å¹³ï¼ˆä¸¤è€…çš†å¯ï¼‰&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;æ€§èƒ½&lt;/td&gt;&lt;td&gt;å°‘é‡åŒæ­¥&lt;/td&gt;&lt;td&gt;å¤§é‡åŒæ­¥&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šä½ æåˆ°äº†synchronizedåŸºäºjvmå±‚é¢ï¼Œå¯¹è¿™ä¸ªæœ‰äº†è§£å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;synchronizedæ˜¯åˆ©ç”¨javaæä¾›çš„åŸâ¼¦æ€§å†…ç½®é”ï¼ˆ&lt;strong&gt;ã€Œmonitorã€&lt;/strong&gt; å¯¹è±¡ï¼‰ï¼Œæ¯ä¸ªå¯¹è±¡ä¸­éƒ½å†…ç½®äº†â¼€ä¸ª ObjectMonitor å¯¹è±¡ã€‚è¿™ç§å†…ç½®çš„å¹¶ä¸”ä½¿â½¤è€…çœ‹ä¸åˆ°çš„é”ä¹Ÿè¢«ç§°ä¸ºç›‘è§†å™¨é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;big&gt;åŒæ­¥è¯­å¥å—&lt;/big&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œsynchronizedã€&lt;/strong&gt; åŒæ­¥è¯­å¥å—çš„å®ç°ä½¿â½¤çš„æ˜¯ &lt;strong&gt;ã€Œmonitorenterã€&lt;/strong&gt; å’Œ &lt;strong&gt;ã€Œmonitorexitã€&lt;/strong&gt; æŒ‡ä»¤ï¼Œå…¶ä¸­&lt;strong&gt;ã€Œmonitorenterã€&lt;/strong&gt; æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®&lt;strong&gt;ã€Œmonitorexitã€&lt;/strong&gt; æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§â¾monitorenteræŒ‡ä»¤æ—¶ä¼šå°è¯•è·å–å†…ç½®é”ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰è¢«é”å®šæˆ–è€…å·²ç»è·å¾—äº†é”ï¼Œé”çš„è®¡æ•°å™¨+1ã€‚æ­¤æ—¶å…¶ä»–ç«äº‰é”çš„çº¿ç¨‹åˆ™ä¼šè¿›â¼Šç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§â¾monitorexitæŒ‡ä»¤æ—¶åˆ™ä¼šæŠŠè®¡æ•°å™¨-1ï¼Œå½“è®¡æ•°å™¨å€¼ä¸º0æ—¶ï¼Œåˆ™é”é‡Šæ”¾ï¼Œå¤„äºç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹å†ç»§ç»­ç«äº‰é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;big&gt; &lt;strong&gt;ã€Œsynchronized ä¿®é¥°â½…æ³•ã€&lt;/strong&gt;&lt;/big&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;synchronized ä¿®é¥°çš„â½…æ³•å¹¶æ²¡æœ‰ monitorenter æŒ‡ä»¤å’Œ monitorexit æŒ‡ä»¤ï¼Œå–å¾—ä»£ä¹‹çš„ç¡®å®æ˜¯ACC_SYNCHRONIZED æ ‡è¯†ï¼Œè¯¥æ ‡è¯†æŒ‡æ˜äº†è¯¥â½…æ³•æ˜¯â¼€ä¸ªåŒæ­¥â½…æ³•ã€‚JVM é€šè¿‡è¯¥ACC_SYNCHRONIZED è®¿é—®æ ‡å¿—æ¥è¾¨åˆ«â¼€ä¸ªâ½…æ³•æ˜¯å¦å£°æ˜ä¸ºåŒæ­¥â½…æ³•ï¼Œä»â½½æ‰§â¾ç›¸åº”çš„åŒæ­¥è°ƒâ½¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶ï¼ŒäºŒè€…ç»†èŠ‚ç•¥æœ‰ä¸åŒï¼Œä½†æœ¬è´¨ä¸Šéƒ½æ˜¯è·å–åŸå­æ€§å†…ç½®é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ·±å…¥ä¸€ç‚¹ï¼Œsynchronizedå®é™…ä¸Šæœ‰ä¸¤ä¸ªé˜Ÿåˆ—waitSetå’ŒentryListã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å½“å¤šä¸ªçº¿ç¨‹è¿›â¼ŠåŒæ­¥ä»£ç å—æ—¶ï¼Œâ¾¸å…ˆè¿›â¼ŠentryList&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æœ‰â¼€ä¸ªçº¿ç¨‹è·å–åˆ°monitoré”åï¼Œå°±èµ‹å€¼ç»™å½“å‰çº¿ç¨‹ï¼Œå¹¶ä¸”è®¡æ•°å™¨+1&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦‚æœçº¿ç¨‹è°ƒâ½¤waitâ½…æ³•ï¼Œå°†é‡Šæ”¾é”ï¼Œå½“å‰çº¿ç¨‹ç½®ä¸ºnullï¼Œè®¡æ•°å™¨-1ï¼ŒåŒæ—¶è¿›â¼ŠwaitSetç­‰å¾…è¢«å”¤é†’ï¼Œè°ƒâ½¤notifyæˆ–è€…notifyAllä¹‹åâ¼œä¼šè¿›â¼ŠentryListç«äº‰é”&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦‚æœçº¿ç¨‹æ‰§â¾å®Œæ¯•ï¼ŒåŒæ ·é‡Šæ”¾é”ï¼Œè®¡æ•°å™¨-1ï¼Œå½“å‰çº¿ç¨‹ç½®ä¸ºnull&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;img data-ratio=&quot;0.3701171875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJCQqkRia6AlWJCCkCiac1TAlGzgu2ShHRVnQmfG4c7q50pe9fEqa7Cuwg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1024&quot;/&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;synchronizedçš„ä¼˜åŒ–èƒ½è¯´ä¸€è¯´å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»JDK1.6ç‰ˆæœ¬ä¹‹åï¼Œsynchronizedæœ¬èº«ä¹Ÿåœ¨ä¸æ–­ä¼˜åŒ–é”çš„æœºåˆ¶ï¼Œæœ‰äº›æƒ…å†µä¸‹ä»–å¹¶ä¸ä¼šæ˜¯â¼€ä¸ªå¾ˆé‡é‡çº§çš„é”ã€‚ä¼˜åŒ–æœºåˆ¶åŒ…æ‹¬â¾ƒé€‚åº”é”ã€â¾ƒæ—‹é”ã€é”æ¶ˆé™¤ã€é”ç²—åŒ–ã€åå‘é”ã€è½»é‡çº§é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é”çš„çŠ¶æ€ä»ä½åˆ°â¾¼ä¾æ¬¡ä¸ºâ½†é”**-&amp;gt;&lt;strong&gt;ã€Œåå‘é”ã€&lt;/strong&gt;-&amp;gt;&lt;strong&gt;ã€Œè½»é‡çº§é”ã€&lt;/strong&gt;-&amp;gt;**é‡é‡çº§é”ï¼Œå‡çº§çš„è¿‡ç¨‹å°±æ˜¯ä»ä½åˆ°â¾¼ã€‚&lt;/p&gt;&lt;img data-ratio=&quot;0.08827785817655572&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJPvVAdbIhia0cc5ddicbLAWRLP9h8UzSw9w4iaa1zkellSYGwU1WPOrTAA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;691&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œè‡ªæ—‹é”ã€&lt;/strong&gt;ï¼šç”±äºâ¼¤éƒ¨åˆ†æ—¶å€™ï¼Œé”è¢«å â½¤çš„æ—¶é—´å¾ˆçŸ­ï¼Œå…±äº«å˜é‡çš„é”å®šæ—¶é—´ä¹Ÿå¾ˆçŸ­ï¼Œæ‰€æœ‰æ²¡æœ‰å¿…è¦æŒ‚èµ·çº¿ç¨‹ï¼Œâ½¤æˆ·æ€å’Œå†…æ ¸æ€çš„æ¥å›ä¸Šä¸‹â½‚åˆ‡æ¢ä¸¥é‡å½±å“æ€§èƒ½ã€‚â¾ƒæ—‹çš„æ¦‚å¿µå°±æ˜¯è®©çº¿ç¨‹æ‰§â¾â¼€ä¸ªå¿™å¾ªç¯ï¼Œå¯ä»¥ç†è§£ä¸ºå°±æ˜¯å•¥ä¹Ÿä¸â¼²ï¼Œé˜²â½Œä»â½¤æˆ·æ€è½¬â¼Šå†…æ ¸æ€ï¼Œâ¾ƒæ—‹é”å¯ä»¥é€šè¿‡è®¾ç½®-XX:+UseSpiningæ¥å¼€å¯ï¼Œâ¾ƒæ—‹çš„é»˜è®¤æ¬¡æ•°æ˜¯10æ¬¡ï¼Œå¯ä»¥ä½¿â½¤-XX:PreBlockSpinè®¾ç½®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œè‡ªé€‚åº”é”ã€&lt;/strong&gt;ï¼šè‡ªé€‚åº”é”å°±æ˜¯è‡ªé€‚åº”çš„è‡ªæ—‹é”ï¼Œè‡ªæ—‹é”çš„æ—¶é—´ä¸æ˜¯å›ºå®šæ—¶é—´ï¼Œè€Œæ˜¯ç”±å‰â¼€æ¬¡åœ¨åŒâ¼€ä¸ªé”ä¸Šçš„â¾ƒæ—‹æ—¶é—´å’Œé”çš„æŒæœ‰è€…çŠ¶æ€æ¥å†³å®šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œé”æ¶ˆé™¤ã€&lt;/strong&gt;ï¼šé”æ¶ˆé™¤æŒ‡çš„æ˜¯JVMæ£€æµ‹åˆ°â¼€äº›åŒæ­¥çš„ä»£ç å—ï¼Œå®Œå…¨ä¸å­˜åœ¨æ•°æ®ç«äº‰çš„åœºæ™¯ï¼Œä¹Ÿå°±æ˜¯ä¸éœ€è¦åŠ é”ï¼Œå°±ä¼šè¿›â¾é”æ¶ˆé™¤ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œé”ç²—åŒ–ã€&lt;/strong&gt;ï¼šé”ç²—åŒ–æŒ‡çš„æ˜¯æœ‰å¾ˆå¤šæ“ä½œéƒ½æ˜¯å¯¹åŒâ¼€ä¸ªå¯¹è±¡è¿›â¾åŠ é”ï¼Œå°±ä¼šæŠŠé”çš„åŒæ­¥èŒƒå›´æ‰©å±•åˆ°æ•´ä¸ªæ“ä½œåºåˆ—ä¹‹å¤–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œåå‘é”ã€&lt;/strong&gt;ï¼šå½“çº¿ç¨‹è®¿é—®åŒæ­¥å—è·å–é”æ—¶ï¼Œä¼šåœ¨å¯¹è±¡å¤´å’Œæ ˆå¸§ä¸­çš„é”è®°å½•â¾¥å­˜å‚¨åå‘é”çš„çº¿ç¨‹IDï¼Œä¹‹åè¿™ä¸ªçº¿ç¨‹å†æ¬¡è¿›â¼ŠåŒæ­¥å—æ—¶éƒ½ä¸éœ€è¦CASæ¥åŠ é”å’Œè§£é”äº†ï¼Œåå‘é”ä¼šæ°¸è¿œåå‘ç¬¬â¼€ä¸ªè·å¾—é”çš„çº¿ç¨‹ï¼Œå¦‚æœåç»­æ²¡æœ‰å…¶ä»–çº¿ç¨‹è·å¾—è¿‡è¿™ä¸ªé”ï¼ŒæŒæœ‰é”çš„çº¿ç¨‹å°±æ°¸è¿œä¸éœ€è¦è¿›â¾åŒæ­¥ï¼Œåä¹‹ï¼Œå½“æœ‰å…¶ä»–çº¿ç¨‹ç«äº‰åå‘é”æ—¶ï¼ŒæŒæœ‰åå‘é”çš„çº¿ç¨‹å°±ä¼šé‡Šæ”¾åå‘é”ã€‚å¯ä»¥â½¤è¿‡è®¾ç½®-XX:+UseBiasedLockingå¼€å¯åå‘é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œè½»é‡çº§é”ã€&lt;/strong&gt;ï¼šJVMçš„å¯¹è±¡çš„å¯¹è±¡å¤´ä¸­åŒ…å«æœ‰â¼€äº›é”çš„æ ‡å¿—ä½ï¼Œä»£ç è¿›â¼ŠåŒæ­¥å—çš„æ—¶å€™ï¼ŒJVMå°†ä¼šä½¿â½¤CASâ½…å¼æ¥å°è¯•è·å–é”ï¼Œå¦‚æœæ›´æ–°æˆåŠŸåˆ™ä¼šæŠŠå¯¹è±¡å¤´ä¸­çš„çŠ¶æ€ä½æ ‡è®°ä¸ºè½»é‡çº§é”ï¼Œå¦‚æœæ›´æ–°å¤±è´¥ï¼Œå½“å‰çº¿ç¨‹å°±å°è¯•â¾ƒæ—‹æ¥è·å¾—é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é”å‡çº§çš„è¿‡ç¨‹éå¸¸å¤æ‚ï¼Œç®€å•ç‚¹è¯´ï¼Œåå‘é”å°±æ˜¯é€šè¿‡å¯¹è±¡å¤´çš„åå‘çº¿ç¨‹IDæ¥å¯¹â½ï¼Œç”šâ¾„éƒ½ä¸éœ€è¦CASäº†ï¼Œâ½½è½»é‡çº§é”ä¸»è¦å°±æ˜¯é€šè¿‡CASä¿®æ”¹å¯¹è±¡å¤´é”è®°å½•å’Œâ¾ƒæ—‹æ¥å®ç°ï¼Œé‡é‡çº§é”åˆ™æ˜¯é™¤äº†æ‹¥æœ‰é”çš„çº¿ç¨‹å…¶ä»–å…¨éƒ¨é˜»å¡ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6295566502463055&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJiaFD7Ewdg0khfoiceO25NMrR1XWVmxiaapjd2BE5iaDCRGWO2caUliaUiaDg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1015&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306142412015&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹CAS&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;CASï¼ˆCompare And Swap/Setï¼‰æ¯”è¾ƒå¹¶äº¤æ¢ï¼ŒCAS ç®—æ³•çš„è¿‡ç¨‹æ˜¯è¿™æ ·ï¼šå®ƒåŒ…å« 3 ä¸ªå‚æ•°CAS(V,E,N)ã€‚V è¡¨ç¤ºè¦æ›´æ–°çš„å˜é‡(å†…å­˜å€¼)ï¼ŒE è¡¨ç¤ºé¢„æœŸå€¼(æ—§çš„)ï¼ŒN è¡¨ç¤ºæ–°å€¼ã€‚å½“ä¸”ä»…å½“ V å€¼ç­‰äº E å€¼æ—¶ï¼Œæ‰ä¼šå°† V çš„å€¼è®¾ä¸º Nï¼Œå¦‚æœ V å€¼å’Œ E å€¼ä¸åŒï¼Œåˆ™è¯´æ˜å·²ç»æœ‰å…¶ä»–çº¿ç¨‹åšäº†æ›´æ–°ï¼Œåˆ™å½“å‰çº¿ç¨‹ä»€ä¹ˆéƒ½ä¸åšã€‚æœ€åï¼ŒCAS è¿”å›å½“å‰ V çš„çœŸå®å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;CASæ˜¯ä¸€ç§ä¹è§‚é”ï¼Œå®ƒæ€»æ˜¯è®¤ä¸ºè‡ªå·±å¯ä»¥æˆåŠŸå®Œæˆæ“ä½œã€‚å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨ CAS æ“ä½œä¸€ä¸ªå˜é‡æ—¶ï¼Œåªæœ‰ä¸€ä¸ªä¼šèƒœå‡ºï¼Œå¹¶æˆåŠŸæ›´æ–°ï¼Œå…¶ä½™å‡ä¼šå¤±è´¥ã€‚å¤±è´¥çš„çº¿ç¨‹ä¸ä¼šè¢«æŒ‚èµ·ï¼Œä»…æ˜¯è¢«å‘ŠçŸ¥å¤±è´¥ï¼Œå¹¶ä¸”å…è®¸å†æ¬¡å°è¯•ï¼Œå½“ç„¶ä¹Ÿå…è®¸å¤±è´¥çš„çº¿ç¨‹æ”¾å¼ƒæ“ä½œã€‚åŸºäºè¿™æ ·çš„åŸç†ï¼ŒCAS æ“ä½œå³ä½¿æ²¡æœ‰é”ï¼Œä¹Ÿå¯ä»¥å‘ç°å…¶ä»–çº¿ç¨‹å¯¹å½“å‰çº¿ç¨‹çš„å¹²æ‰°ï¼Œå¹¶è¿›è¡Œæ°å½“çš„å¤„ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;java.util.concurrent.atomic åŒ…ä¸‹çš„ç±»å¤§å¤šæ˜¯ä½¿ç”¨ CAS æ“ä½œæ¥å®ç°çš„ (AtomicInteger,AtomicBoolean,AtomicLong)ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šCASä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;ABA é—®é¢˜ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚è¯´ä¸€ä¸ªçº¿ç¨‹ one ä»å†…å­˜ä½ç½® V ä¸­å–å‡º Aï¼Œè¿™æ—¶å€™å¦ä¸€ä¸ªçº¿ç¨‹ two ä¹Ÿä»å†…å­˜ä¸­å–å‡º Aï¼Œå¹¶ä¸” two è¿›è¡Œäº†ä¸€äº›æ“ä½œå˜æˆäº† Bï¼Œç„¶å two åˆå°† V ä½ç½®çš„æ•°æ®å˜æˆ Aï¼Œè¿™æ—¶å€™çº¿ç¨‹ one è¿›è¡Œ CAS æ“ä½œå‘ç°å†…å­˜ä¸­ä»ç„¶æ˜¯ Aï¼Œç„¶å one æ“ä½œæˆåŠŸã€‚å°½ç®¡çº¿ç¨‹ one çš„ CAS æ“ä½œæˆåŠŸï¼Œä½†å¯èƒ½å­˜åœ¨æ½œè—çš„é—®é¢˜ã€‚ä» Java1.5 å¼€å§‹ JDK çš„ atomic åŒ…é‡Œæä¾›äº†ä¸€ä¸ªç±» AtomicStampedReference æ¥è§£å†³ ABA é—®é¢˜ã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot; start=&quot;2&quot;&gt;&lt;li&gt;&lt;section&gt;å¾ªç¯æ—¶é—´é•¿å¼€é”€å¤§ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºèµ„æºç«äº‰ä¸¥é‡ï¼ˆçº¿ç¨‹å†²çªä¸¥é‡ï¼‰çš„æƒ…å†µï¼ŒCAS è‡ªæ—‹çš„æ¦‚ç‡ä¼šæ¯”è¾ƒå¤§ï¼Œä»è€Œæµªè´¹æ›´å¤šçš„ CPU èµ„æºï¼Œæ•ˆç‡ä½äº synchronizedã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot; start=&quot;3&quot;&gt;&lt;li&gt;&lt;section&gt;åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“å¯¹ä¸€ä¸ªå…±äº«å˜é‡æ‰§è¡Œæ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ªç¯ CAS çš„æ–¹å¼æ¥ä¿è¯åŸå­æ“ä½œï¼Œä½†æ˜¯å¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼Œå¾ªç¯ CAS å°±æ— æ³•ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨é”ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹è¯´ä¸‹ReentrantLockåŸç†å—&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ReentrantLock æ˜¯åŸºäº Lock å®ç°çš„å¯é‡å…¥é”ï¼Œæ‰€æœ‰çš„ Lock éƒ½æ˜¯åŸºäº AQS å®ç°çš„ï¼ŒAQS å’Œ Condition å„è‡ªç»´æŠ¤ä¸åŒçš„å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨ Lock å’Œ Condition æ—¶ï¼Œå…¶å®å°±æ˜¯ä¸¤ä¸ªé˜Ÿåˆ—çš„äº’ç›¸ç§»åŠ¨ã€‚å®ƒæ‰€æä¾›çš„å…±äº«é”ã€äº’æ–¥é”éƒ½æ˜¯åŸºäºå¯¹ state çš„æ“ä½œã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹AQSå—&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;AbstractQueuedSynchronizerï¼ŒæŠ½è±¡çš„é˜Ÿåˆ—å¼çš„åŒæ­¥å™¨ï¼ŒAQS å®šä¹‰äº†ä¸€å¥—å¤šçº¿ç¨‹è®¿é—®å…±äº«èµ„æºçš„åŒæ­¥å™¨æ¡†æ¶ï¼Œè®¸å¤šåŒæ­¥ç±»å®ç°éƒ½ä¾èµ–äºå®ƒï¼Œå¦‚å¸¸ç”¨çš„&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ReentrantLock/Semaphore/CountDownLatchã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€ŒAQSã€&lt;/strong&gt; æ ¸â¼¼æ€æƒ³æ˜¯ï¼Œå¦‚æœè¢«è¯·æ±‚çš„å…±äº«èµ„æºç©ºé—²ï¼Œåˆ™å°†å½“å‰è¯·æ±‚èµ„æºçš„çº¿ç¨‹è®¾ç½®ä¸ºæœ‰æ•ˆçš„â¼¯ä½œçº¿ç¨‹ï¼Œå¹¶ä¸”å°†å…±äº«èµ„æºè®¾ç½®ä¸ºé”å®šçŠ¶æ€ã€‚å¦‚æœè¢«è¯·æ±‚çš„å…±äº«èµ„æºè¢«å â½¤ï¼Œé‚£ä¹ˆå°±éœ€è¦â¼€å¥—çº¿ç¨‹é˜»å¡ç­‰å¾…ä»¥åŠè¢«å”¤é†’æ—¶é”åˆ†é…çš„æœºåˆ¶ï¼Œè¿™ä¸ªæœºåˆ¶ &lt;strong&gt;ã€ŒAQSã€&lt;/strong&gt; æ˜¯â½¤ &lt;strong&gt;ã€ŒCLHã€&lt;/strong&gt; é˜Ÿåˆ—é”å®ç°çš„ï¼Œå³å°†æš‚æ—¶è·å–ä¸åˆ°é”çš„çº¿ç¨‹åŠ â¼Šåˆ°é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹ä¸ª AQSåŸç†å›¾ï¼š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4160777385159011&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJmGic1XKMoG5Z3fN861cmupUyv3Z0cSb1nwicuSKj745fTUdTlvu5hn6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1132&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306144734263&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;AQS ä½¿â½¤â¼€ä¸ª int æˆå‘˜å˜é‡æ¥è¡¨ç¤ºåŒæ­¥çŠ¶æ€ï¼Œé€šè¿‡å†…ç½®çš„ FIFO é˜Ÿåˆ—æ¥å®Œæˆè·å–èµ„æºçº¿ç¨‹çš„æ’é˜Ÿâ¼¯ä½œã€‚AQS ä½¿â½¤ CAS å¯¹è¯¥åŒæ­¥çŠ¶æ€è¿›â¾åŸâ¼¦æ“ä½œå®ç°å¯¹å…¶å€¼çš„ä¿®æ”¹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;volatile&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â state;&lt;span&gt;//å…±äº«å˜é‡ï¼Œä½¿â½¤volatileä¿®é¥°ä¿è¯çº¿ç¨‹å¯â»…æ€§&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çŠ¶æ€ä¿¡æ¯é€šè¿‡ protected ç±»å‹çš„ getStateï¼ŒsetStateï¼ŒcompareAndSetState è¿›â¾æ“ä½œ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//è¿”å›åŒæ­¥çŠ¶æ€çš„å½“å‰å€¼&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;getState&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â state;Â }&lt;br/&gt;&lt;span&gt;//Â è®¾ç½®åŒæ­¥çŠ¶æ€çš„å€¼&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;setState&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â newState)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â stateÂ =Â newState;Â }&lt;br/&gt;&lt;span&gt;//åŸâ¼¦åœ°ï¼ˆCASæ“ä½œï¼‰å°†åŒæ­¥çŠ¶æ€å€¼è®¾ç½®ä¸ºç»™å®šå€¼updateå¦‚æœå½“å‰åŒæ­¥çŠ¶æ€çš„å€¼ç­‰äºexpectï¼ˆæœŸæœ›å€¼ï¼‰&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;compareAndSetState&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â expect,Â &lt;span&gt;int&lt;/span&gt;Â update)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â &lt;span&gt;return&lt;/span&gt;Â unsafe.compareAndSwapInt(&lt;span&gt;this&lt;/span&gt;,Â stateOffset,Â expect,Â update);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°è¯•åŠ é”çš„æ—¶å€™é€šè¿‡CAS(CompareAndSwap)ä¿®æ”¹å€¼ï¼Œå¦‚æœæˆåŠŸè®¾ç½®ä¸º1ï¼Œå¹¶ä¸”æŠŠå½“å‰çº¿ç¨‹IDèµ‹å€¼ï¼Œåˆ™ä»£è¡¨åŠ é”æˆåŠŸï¼Œâ¼€æ—¦è·å–åˆ°é”ï¼Œå…¶ä»–çš„çº¿ç¨‹å°†ä¼šè¢«é˜»å¡è¿›â¼Šé˜»å¡é˜Ÿåˆ—â¾ƒæ—‹ï¼Œè·å¾—é”çš„çº¿ç¨‹é‡Šæ”¾é”çš„æ—¶å€™å°†ä¼šå”¤é†’é˜»å¡é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹ï¼Œé‡Šæ”¾é”çš„æ—¶å€™åˆ™ä¼šæŠŠstateé‡æ–°ç½®ä¸º0ï¼ŒåŒæ—¶å½“å‰çº¿ç¨‹IDç½®ä¸ºç©ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.436308926780341&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJeSTAsNxmibRjUoOdxmKgItEMhuxaQGPvrgRuzox1eSOS69YJOIt0zWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;997&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306145019137&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹Semaphore/CountDownLatch/CyclicBarrierå—&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;Semaphore(ä¿¡å·é‡)&lt;/strong&gt;-å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼šsynchronized å’Œ ReentrantLock éƒ½æ˜¯ä¸€æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®æŸä¸ªèµ„æºï¼ŒSemaphore(ä¿¡å·é‡)å¯ä»¥æŒ‡å®šå¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®æŸä¸ªèµ„æºã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;CountDownLatch(å€’è®¡æ—¶å™¨)&lt;/strong&gt;ï¼šCountDownLatchæ˜¯ä¸€ä¸ªåŒæ­¥å·¥å…·ç±»ï¼Œç”¨æ¥åè°ƒå¤šä¸ªçº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ã€‚è¿™ä¸ªå·¥å…·é€šå¸¸ç”¨æ¥æ§åˆ¶çº¿ç¨‹ç­‰å¾…ï¼Œå®ƒå¯ä»¥è®©æŸä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ç›´åˆ°å€’è®¡æ—¶ç»“æŸï¼Œå†å¼€å§‹æ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;strong&gt;CyclicBarrier(å¾ªç¯æ …æ )&lt;/strong&gt;ï¼šCyclicBarrier å’Œ CountDownLatch éå¸¸ç±»ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥å®ç°çº¿ç¨‹é—´çš„æŠ€æœ¯ç­‰å¾…ï¼Œä½†æ˜¯å®ƒçš„åŠŸèƒ½æ¯” CountDownLatch æ›´åŠ å¤æ‚å’Œå¼ºå¤§ã€‚ä¸»è¦åº”ç”¨åœºæ™¯å’Œ CountDownLatch ç±»ä¼¼ã€‚CyclicBarrier çš„å­—é¢æ„æ€æ˜¯å¯å¾ªç¯ä½¿ç”¨ï¼ˆCyclicï¼‰çš„å±éšœï¼ˆBarrierï¼‰ã€‚å®ƒè¦åšçš„äº‹æƒ…æ˜¯ï¼Œè®©ä¸€ç»„çº¿ç¨‹åˆ°è¾¾ä¸€ä¸ªå±éšœï¼ˆä¹Ÿå¯ä»¥å«åŒæ­¥ç‚¹ï¼‰æ—¶è¢«é˜»å¡ï¼Œç›´åˆ°æœ€åä¸€ä¸ªçº¿ç¨‹åˆ°è¾¾å±éšœæ—¶ï¼Œå±éšœæ‰ä¼šå¼€é—¨ï¼Œæ‰€æœ‰è¢«å±éšœæ‹¦æˆªçš„çº¿ç¨‹æ‰ä¼šç»§ç»­å¹²æ´»ã€‚CyclicBarrieré»˜è®¤çš„æ„é€ æ–¹æ³•æ˜¯ CyclicBarrier(int parties)ï¼Œå…¶å‚æ•°è¡¨ç¤ºå±éšœæ‹¦æˆªçš„çº¿ç¨‹æ•°é‡ï¼Œæ¯ä¸ªçº¿ç¨‹è°ƒç”¨await()æ–¹æ³•å‘Šè¯‰ CyclicBarrier æˆ‘å·²ç»åˆ°è¾¾äº†å±éšœï¼Œç„¶åå½“å‰çº¿ç¨‹è¢«é˜»å¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;volatileåŸç†çŸ¥é“å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸â½synchronizedçš„åŠ é”â½…å¼æ¥è§£å†³å…±äº«å˜é‡çš„å†…å­˜å¯â»…æ€§é—®é¢˜ï¼Œvolatileå°±æ˜¯æ›´è½»é‡çš„é€‰æ‹©ï¼Œä»–æ²¡æœ‰ä¸Šä¸‹â½‚åˆ‡æ¢çš„é¢å¤–å¼€é”€æˆæœ¬ã€‚ä½¿â½¤volatileå£°æ˜çš„å˜é‡ï¼Œå¯ä»¥ç¡®ä¿å€¼è¢«æ›´æ–°çš„æ—¶å€™å¯¹å…¶ä»–çº¿ç¨‹â½´åˆ»å¯â»…ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;volatileä½¿â½¤&lt;strong&gt;å†…å­˜å±éšœ&lt;/strong&gt;æ¥ä¿è¯ä¸ä¼šå‘â½£æŒ‡ä»¤é‡æ’ï¼Œè§£å†³äº†å†…å­˜å¯â»…æ€§çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çŸ¥é“ï¼Œçº¿ç¨‹éƒ½æ˜¯ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡åˆ°â¼¯ä½œå†…å­˜æ¥æ“ä½œï¼Œå®Œæˆä¹‹åå†æŠŠç»“æœå†™ä¼šä¸»å†…å­˜ï¼Œä½†æ˜¯è¿™æ ·å°±ä¼šå¸¦æ¥å¯â»…æ€§é—®é¢˜ã€‚ä¸¾ä¸ªä¾‹â¼¦ï¼Œå‡è®¾ç°åœ¨æˆ‘ä»¬æ˜¯ä¸¤çº§ç¼“å­˜çš„åŒæ ¸CPUæ¶æ„ï¼ŒåŒ…å«L1ã€L2ä¸¤çº§ç¼“å­˜ã€‚&lt;/p&gt;&lt;img data-ratio=&quot;0.8811524609843937&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJp6C8HJnZuXTJhuyHtqPJ5plQKskBqhibvrR5Ukpib0HQj34ibc9ialicuibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;833&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚æœXå˜é‡â½¤volatileä¿®é¥°çš„è¯ï¼Œå½“çº¿ç¨‹Aå†æ¬¡è¯»å–å˜é‡Xçš„è¯ï¼ŒCPUå°±ä¼šæ ¹æ®ç¼“å­˜â¼€è‡´æ€§åè®®å¼ºåˆ¶çº¿ç¨‹Aé‡æ–°ä»ä¸»å†…å­˜åŠ è½½æœ€æ–°çš„å€¼åˆ°â¾ƒâ¼°çš„â¼¯ä½œå†…å­˜ï¼Œâ½½ä¸æ˜¯ç›´æ¥â½¤ç¼“å­˜ä¸­çš„å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å†æ¥è¯´&lt;strong&gt;å†…å­˜å±éšœ&lt;/strong&gt;çš„é—®é¢˜ï¼Œvolatileä¿®é¥°ä¹‹åä¼šåŠ â¼Šä¸åŒçš„å†…å­˜å±éšœæ¥ä¿è¯å¯â»…æ€§çš„é—®é¢˜èƒ½æ­£ç¡®æ‰§â¾ã€‚è¿™â¾¥å†™çš„å±éšœåŸºäºä¹¦ä¸­æä¾›çš„å†…å®¹ï¼Œä½†æ˜¯å®é™…ä¸Šç”±äºCPUæ¶æ„ä¸åŒï¼Œé‡æ’åºçš„ç­–ç•¥ä¸åŒï¼Œæä¾›çš„å†…å­˜å±éšœä¹Ÿä¸â¼€æ ·ï¼Œâ½å¦‚x86å¹³å°ä¸Šï¼Œåªæœ‰StoreLoadâ¼€ç§å†…å­˜å±éšœã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;StoreStoreå±éšœï¼Œä¿è¯ä¸Šâ¾¯çš„æ™®é€šå†™ä¸å’Œvolatileå†™å‘â½£é‡æ’åº&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;StoreLoadå±éšœï¼Œä¿è¯volatileå†™ä¸åâ¾¯å¯èƒ½çš„volatileè¯»å†™ä¸å‘â½£é‡æ’åº&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;LoadLoadå±éšœï¼Œç¦â½Œvolatileè¯»ä¸åâ¾¯çš„æ™®é€šè¯»é‡æ’åº&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;LoadStoreå±éšœï¼Œç¦â½Œvolatileè¯»å’Œåâ¾¯çš„æ™®é€šå†™é‡æ’åº&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;img data-ratio=&quot;1.159322033898305&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJXJHlLMQzpAEEw4TAosJ9ccLDurob0zCLQpFMLjqeFtzwQTjICzicib6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;590&quot;/&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´è¯´ä½ å¯¹Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰çš„ç†è§£ï¼Œä¸ºä»€ä¹ˆè¦ç”¨JMM&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬èº«éšç€CPUå’Œå†…å­˜çš„å‘å±•é€Ÿåº¦å·®å¼‚çš„é—®é¢˜ï¼Œå¯¼è‡´CPUçš„é€Ÿåº¦è¿œå¿«äºå†…å­˜ï¼Œæ‰€ä»¥ç°åœ¨çš„CPUåŠ â¼Šäº†â¾¼é€Ÿç¼“å­˜ï¼Œâ¾¼é€Ÿç¼“å­˜â¼€èˆ¬å¯ä»¥åˆ†ä¸ºL1ã€L2ã€L3ä¸‰çº§ç¼“å­˜ã€‚åŸºäºä¸Šâ¾¯çš„ä¾‹â¼¦æˆ‘ä»¬çŸ¥é“äº†è¿™å¯¼è‡´äº†ç¼“å­˜â¼€è‡´æ€§çš„é—®é¢˜ï¼Œæ‰€ä»¥åŠ â¼Šäº†ç¼“å­˜â¼€è‡´æ€§åè®®ï¼ŒåŒæ—¶å¯¼è‡´äº†å†…å­˜å¯â»…æ€§çš„é—®é¢˜ï¼Œâ½½ç¼–è¯‘å™¨å’ŒCPUçš„é‡æ’åºå¯¼è‡´äº†åŸâ¼¦æ€§å’Œæœ‰åºæ€§çš„é—®é¢˜ï¼ŒJMMå†…å­˜æ¨¡å‹æ­£æ˜¯å¯¹å¤šçº¿ç¨‹æ“ä½œä¸‹çš„â¼€ç³»åˆ—è§„èŒƒçº¦æŸï¼Œé€šè¿‡JMMæˆ‘ä»¬æ‰å±è”½äº†ä¸åŒç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†…å­˜çš„è®¿é—®å·®å¼‚ï¼Œè¿™æ ·ä¿è¯äº†Javaç¨‹åºåœ¨ä¸åŒçš„å¹³å°ä¸‹è¾¾åˆ°â¼€è‡´çš„å†…å­˜è®¿é—®æ•ˆæœï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¿è¯åœ¨â¾¼æ•ˆå¹¶å‘çš„æ—¶å€™ç¨‹åºèƒ½å¤Ÿæ­£ç¡®æ‰§â¾ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.7018121911037891&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJ00th6hBgy6hxkpJBuIzIRDMJSxHrOADPx9XRC986581P9mY8QMDqlw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;607&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306150619637&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šçœ‹ä½ ç”¨åˆ°äº†çº¿ç¨‹æ± ï¼Œèƒ½è¯´è¯´ä¸ºä»€ä¹ˆå—&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ï¼Œé™ä½èµ„æºçš„æ¶ˆè€—ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æé«˜å“åº”é€Ÿåº¦ï¼Œçº¿ç¨‹çš„åˆ›å»ºæ—¶é—´ä¸ºT1ï¼Œæ‰§è¡Œæ—¶é—´T2ï¼Œé”€æ¯æ—¶é—´T3ï¼Œç”¨çº¿ç¨‹æ± å¯ä»¥å…å»T1å’ŒT3çš„æ—¶é—´ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä¾¿äºç»Ÿä¸€ç®¡ç†çº¿ç¨‹å¯¹è±¡&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¯æ§åˆ¶æœ€å¤§å¹¶å‘æ•°&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šèƒ½è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°å—ï¼Ÿ&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥çœ‹ä¸€ThreadPoolExecutorçš„æ„é€ æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span&gt;(&lt;span&gt;int&lt;/span&gt;Â corePoolSize,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â maximumPoolSize,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;long&lt;/span&gt;Â keepAliveTime,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â TimeUnitÂ unit,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â BlockingQueue&amp;lt;Runnable&amp;gt;Â workQueue,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ThreadFactoryÂ threadFactory,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â RejectedExecutionHandlerÂ handler)&lt;/span&gt;Â &lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ ¸â¼¼çº¿ç¨‹æ•°corePoolSize Â :æ­¤å€¼æ˜¯ç”¨æ¥åˆå§‹åŒ–çº¿ç¨‹æ± ä¸­æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œå½“çº¿ç¨‹æ± ä¸­çº¿ç¨‹æ± æ•°&amp;lt; &lt;code&gt;corePoolSize&lt;/code&gt;æ—¶ï¼Œç³»ç»Ÿé»˜è®¤æ˜¯æ·»åŠ ä¸€ä¸ªä»»åŠ¡æ‰åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ã€‚å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;prestartAllCoreThreads&lt;/code&gt;æ–¹æ³•ä¸€æ¬¡æ€§çš„å¯åŠ¨&lt;code&gt;corePoolSize&lt;/code&gt;ä¸ªæ•°çš„çº¿ç¨‹ã€‚å½“çº¿ç¨‹æ•° = corePoolSizeæ—¶ï¼Œæ–°ä»»åŠ¡ä¼šè¿½åŠ åˆ°workQueueä¸­ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°maximumPoolSize:&lt;code&gt;maximumPoolSize&lt;/code&gt;è¡¨ç¤ºå…è®¸çš„æœ€å¤§çº¿ç¨‹æ•° = (éæ ¸å¿ƒçº¿ç¨‹æ•°+æ ¸å¿ƒçº¿ç¨‹æ•°)ï¼Œå½“&lt;code&gt;BlockingQueue&lt;/code&gt;ä¹Ÿæ»¡äº†ï¼Œä½†çº¿ç¨‹æ± ä¸­æ€»çº¿ç¨‹æ•° &amp;lt; &lt;code&gt;maximumPoolSize&lt;/code&gt;æ—¶å€™å°±ä¼šå†æ¬¡åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ´»è·ƒæ—¶é—´keepAliveTimeï¼šéæ ¸å¿ƒçº¿ç¨‹ =(maximumPoolSize - corePoolSize ) ,éæ ¸å¿ƒçº¿ç¨‹é—²ç½®ä¸‹æ¥ä¸å¹²æ´»æœ€å¤šå­˜æ´»æ—¶é—´ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¿æŒå­˜æ´»æ—¶é—´unitï¼šçº¿ç¨‹æ± ä¸­éæ ¸å¿ƒçº¿ç¨‹ä¿æŒå­˜æ´»çš„æ—¶é—´&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ç­‰å¾…é˜Ÿåˆ—workQueueï¼šçº¿ç¨‹æ±  ç­‰å¾…é˜Ÿåˆ—ï¼Œç»´æŠ¤ç€ç­‰å¾…æ‰§è¡Œçš„&lt;code&gt;Runnable&lt;/code&gt;å¯¹è±¡ã€‚å½“è¿è¡Œå½“çº¿ç¨‹æ•°= corePoolSizeæ—¶ï¼Œæ–°çš„ä»»åŠ¡ä¼šè¢«æ·»åŠ åˆ°&lt;code&gt;workQueue&lt;/code&gt;ä¸­ï¼Œå¦‚æœ&lt;code&gt;workQueue&lt;/code&gt;ä¹Ÿæ»¡äº†åˆ™å°è¯•ç”¨éæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œä»»åŠ¡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;çº¿ç¨‹å·¥å‚ threadFactoryï¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ—¶ä½¿ç”¨çš„å·¥å‚ï¼Œå¯ä»¥ç”¨æ¥è®¾å®šçº¿ç¨‹åã€æ˜¯å¦ä¸ºdaemonçº¿ç¨‹ç­‰ç­‰ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ‹’ç»ç­–ç•¥RejectedExecutionHandlerï¼š&lt;code&gt;corePoolSize&lt;/code&gt;ã€&lt;code&gt;workQueue&lt;/code&gt;ã€&lt;code&gt;maximumPoolSize&lt;/code&gt;éƒ½ä¸å¯ç”¨çš„æ—¶å€™æ‰§è¡Œçš„ é¥±å’Œç­–ç•¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šå®Œæ•´è¯´ä¸€ä¸‹çº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;çº¿ç¨‹æ± åˆšåˆ›å»ºæ—¶ï¼Œé‡Œé¢æ²¡æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ä»»åŠ¡é˜Ÿåˆ—æ˜¯ä½œä¸ºå‚æ•°ä¼ è¿›æ¥çš„ã€‚ä¸è¿‡ï¼Œå°±ç®—é˜Ÿåˆ—é‡Œé¢æœ‰ä»»åŠ¡ï¼Œçº¿ç¨‹æ± ä¹Ÿä¸ä¼šé©¬ä¸Šæ‰§è¡Œå®ƒä»¬ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å½“è°ƒç”¨ execute() æ–¹æ³•æ·»åŠ ä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåšå¦‚ä¸‹åˆ¤æ–­ï¼š&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;a) å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº corePoolSizeï¼Œé‚£ä¹ˆé©¬ä¸Šåˆ›å»ºçº¿ç¨‹è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;b) å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº corePoolSizeï¼Œé‚£ä¹ˆå°†è¿™ä¸ªä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;c) å¦‚æœè¿™æ—¶å€™é˜Ÿåˆ—æ»¡äº†ï¼Œè€Œä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº maximumPoolSizeï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦åˆ›å»ºéæ ¸å¿ƒçº¿ç¨‹ç«‹åˆ»è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;d) å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œè€Œä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº maximumPoolSizeï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šæ ¹æ®æ‹’ç»ç­–ç•¥æ¥å¯¹åº”å¤„ç†ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot; start=&quot;3&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡æ—¶ï¼Œå®ƒä¼šä»é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å½“ä¸€ä¸ªçº¿ç¨‹æ— äº‹å¯åšï¼Œè¶…è¿‡ä¸€å®šçš„æ—¶é—´ï¼ˆkeepAliveTimeï¼‰æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ¤æ–­ï¼Œå¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å¤§äº corePoolSizeï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±è¢«åœæ‰ã€‚æ‰€ä»¥çº¿ç¨‹æ± çš„æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼Œå®ƒæœ€ç»ˆä¼šæ”¶ç¼©åˆ° corePoolSize çš„å¤§å°ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;img data-ratio=&quot;0.5403788634097707&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJiabKkQuSUuAtzSXDvoGSaaYvVTbzPLyVvc3ibLpnIbknKcdHwEOAlCQg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1003&quot;/&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šæ‹’ç»ç­–ç•¥æœ‰å“ªäº›&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸»è¦æœ‰4ç§æ‹’ç»ç­–ç•¥ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;AbortPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ˜¯é»˜è®¤ç­–ç•¥&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;CallerRunsPolicyï¼šåªâ½¤è°ƒâ½¤è€…æ‰€åœ¨çš„çº¿ç¨‹æ¥å¤„ç†ä»»åŠ¡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;DiscardOldestPolicyï¼šä¸¢å¼ƒç­‰å¾…é˜Ÿåˆ—ä¸­æœ€æ—§çš„ä»»åŠ¡ï¼Œå¹¶æ‰§â¾å½“å‰ä»»åŠ¡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;DiscardPolicyï¼šç›´æ¥ä¸¢å¼ƒä»»åŠ¡ï¼Œä¹Ÿä¸æŠ›å‡ºå¼‚å¸¸&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹ä½ çš„æ ¸å¿ƒçº¿ç¨‹æ•°æ˜¯æ€ä¹ˆé€‰çš„&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹åœ¨Javaä¸­å±äºç¨€ç¼ºèµ„æºï¼Œçº¿ç¨‹æ± ä¸æ˜¯è¶Šå¤§è¶Šå¥½ä¹Ÿä¸æ˜¯è¶Šå°è¶Šå¥½ã€‚ä»»åŠ¡åˆ†ä¸ºè®¡ç®—å¯†é›†å‹ã€IOå¯†é›†å‹ã€æ··åˆå‹ã€‚&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;è®¡ç®—å¯†é›†å‹ä¸€èˆ¬æ¨èçº¿ç¨‹æ± ä¸è¦è¿‡å¤§ï¼Œä¸€èˆ¬æ˜¯CPUæ•° + 1ï¼Œ+1æ˜¯å› ä¸ºå¯èƒ½å­˜åœ¨&lt;strong&gt;ã€Œé¡µç¼ºå¤±ã€&lt;/strong&gt;(å°±æ˜¯å¯èƒ½å­˜åœ¨æœ‰äº›æ•°æ®åœ¨ç¡¬ç›˜ä¸­éœ€è¦å¤šæ¥ä¸€ä¸ªçº¿ç¨‹å°†æ•°æ®è¯»å…¥å†…å­˜)ã€‚å¦‚æœçº¿ç¨‹æ± æ•°å¤ªå¤§ï¼Œå¯èƒ½ä¼šé¢‘ç¹çš„ è¿›è¡Œçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢è·Ÿä»»åŠ¡è°ƒåº¦ã€‚è·å¾—å½“å‰CPUæ ¸å¿ƒæ•°ä»£ç å¦‚ä¸‹ï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Runtime.getRuntime().availableProcessors();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot; start=&quot;2&quot;&gt;&lt;li&gt;&lt;section&gt;IOå¯†é›†å‹ï¼šçº¿ç¨‹æ•°é€‚å½“å¤§ä¸€ç‚¹ï¼Œæœºå™¨çš„Cpuæ ¸å¿ƒæ•°*2ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ··åˆå‹ï¼šå¦‚æœå¯†é›†å‹ç«™å¤§å¤´åˆ™æ‹†åˆ†çš„å¿…è¦æ€§ä¸å¤§ï¼Œå¦‚æœIOå‹å æ®ä¸å°‘æœ‰å¿…è¦ï¼ŒMark ä¸‹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹æœ‰å“ªäº›å¸¸è§é˜»å¡é˜Ÿåˆ—&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ArrayBlockingQueue ï¼šç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;LinkedBlockingQueue ï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;PriorityBlockingQueue ï¼šæ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;DelayQueueï¼šä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°çš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;SynchronousQueueï¼šä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;LinkedTransferQueueï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;LinkedBlockingDequeï¼šç”±é“¾è¡¨ç»“æ„ç»„æˆçš„åŒå‘é˜»å¡é˜Ÿåˆ—&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é¢è¯•å®˜ï¼šè¯´ä¸€ä¸‹æœ‰å“ªå‡ ç§å¸¸è§çš„çº¿ç¨‹æ± å§&lt;/span&gt;&lt;span/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸Šé¢æˆ‘ä»¬ç›´æ¥ç”¨åˆ°äº†ThreadPoolExecutorçš„æ„é€ æ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡Executors åˆ›å»ºçº¿ç¨‹ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œå¼ºåˆ¶ç¦æ­¢ä½¿ç”¨Executorsåˆ›å»ºçº¿ç¨‹&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2937608318890815&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJ6Sf9ictaJYLZLV5nyqVTj2TlD5qhgic9FGOwsBRNyDmvZDsnibxM5ohicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1154&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306153832125&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”è¾ƒå…¸å‹å¸¸è§çš„å››ç§çº¿ç¨‹æ± åŒ…æ‹¬ï¼š&lt;code&gt;newFixedThreadPool&lt;/code&gt;ã€ &lt;code&gt;newSingleThreadExecutor&lt;/code&gt; ã€ &lt;code&gt;newCachedThreadPool&lt;/code&gt;ã€&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;newScheduledThreadPool&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;FixedThreadPool&lt;/strong&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å®šé•¿çš„çº¿ç¨‹æ± ï¼Œæœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œæ ¸å¿ƒçº¿ç¨‹çš„å³ä¸ºæœ€å¤§çš„çº¿ç¨‹æ•°é‡ï¼Œæ²¡æœ‰éæ ¸å¿ƒçº¿ç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä½¿ç”¨çš„&lt;strong&gt;ã€Œæ— ç•Œã€&lt;/strong&gt;çš„ç­‰å¾…é˜Ÿåˆ—æ˜¯&lt;code&gt;LinkedBlockingQueue&lt;/code&gt;ã€‚ä½¿ç”¨æ—¶å€™æœ‰å µæ»¡ç­‰å¾…é˜Ÿåˆ—çš„é£é™©ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.17851500789889416&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJj8iaqmShUicGYeYhblGRG5NAfqTicVTkyKvGXicVrVrxmVrxTM6nhLdtZw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;633&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306161851855&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;SingleThreadPool&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åªæœ‰ä¸€æ¡çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œé€‚ç”¨äºæœ‰é¡ºåºçš„ä»»åŠ¡çš„åº”ç”¨åœºæ™¯ï¼Œä¹Ÿæ˜¯ç”¨çš„&lt;strong&gt;ã€Œæ— ã€&lt;/strong&gt;ç•Œç­‰å¾…é˜Ÿåˆ—&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2006079027355623&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJCjQtia7UaYsRicWAZiaCjxKvXk4DciaS2yG8xicYdWnAZ4w6eoda9ceKj6g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;658&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306161915934&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt; CachedThreadPool&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ç¼“å­˜çš„çº¿ç¨‹æ± ï¼Œè¯¥çº¿ç¨‹æ± ä¸­æ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œéæ ¸å¿ƒçº¿ç¨‹çš„æ•°é‡ä¸ºInteger.max_valueï¼Œå°±æ˜¯æ— é™å¤§ï¼Œå½“æœ‰éœ€è¦æ—¶åˆ›å»ºçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œæ²¡æœ‰éœ€è¦æ—¶å›æ”¶çº¿ç¨‹ï¼Œé€‚ç”¨äºè€—æ—¶å°‘ï¼Œä»»åŠ¡é‡å¤§çš„æƒ…å†µã€‚ä»»åŠ¡é˜Ÿåˆ—ç”¨çš„æ˜¯SynchronousQueueå¦‚æœç”Ÿäº§å¤šå¿«æ¶ˆè´¹æ…¢ï¼Œåˆ™ä¼šå¯¼è‡´åˆ›å»ºå¾ˆå¤šçº¿ç¨‹éœ€æ³¨æ„ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.1841704718417047&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJRt6IRxgXUn7u7Ov5eRVDY18lI2yuCd0DhPF5c51rKVibEUUJ5WpxumA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;657&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306161950237&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt; ScheduledThreadPoolExecutor&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ã€Œå‘¨æœŸæ€§ã€&lt;/strong&gt;æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ± ï¼ŒæŒ‰ç…§æŸç§ç‰¹å®šçš„è®¡åˆ’æ‰§è¡Œçº¿ç¨‹ä¸­çš„ä»»åŠ¡ï¼Œæœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œä½†ä¹Ÿæœ‰éæ ¸å¿ƒçº¿ç¨‹ï¼Œéæ ¸å¿ƒçº¿ç¨‹çš„å¤§å°ä¹Ÿä¸ºæ— é™å¤§ã€‚é€‚ç”¨äºæ‰§è¡Œå‘¨æœŸæ€§çš„ä»»åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çœ‹æ„é€ å‡½æ•°ï¼šè°ƒç”¨çš„è¿˜æ˜¯&lt;code&gt;ThreadPoolExecutor&lt;/code&gt;æ„é€ å‡½æ•°ï¼ŒåŒºåˆ«ä¸åŒç‚¹åœ¨äºä»»åŠ¡é˜Ÿåˆ—æ˜¯ç”¨çš„DelayedWorkQueueã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.1598173515981735&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/PMZOEonJxWc9yZXvkT8ia6cWWtAvo4OgJWjOgicNxoqp79nVPJxq6UzYbSJWfmNHr8nhRGXCjNhcm3LnLIJJb8Xw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;657&quot;/&gt;&lt;figcaption&gt;&lt;span/&gt;image-20210306162020463&lt;/figcaption&gt;&lt;/figure&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é¢è¯•å®˜ï¼šè¿™äº›é¢˜éƒ½èƒ½å›ç­”å‡ºæ¥ï¼Œå¾ˆå¥½ï¼Œå°ä¼™å­ï¼Œå¾ˆæœ‰ç²¾ç¥ï¼&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è€ä¸‰ï¼šè°¢è°¢ã€‚é‚£é¢è¯•å®˜è€å¸ˆï¼Œä½ çœ‹è¿™ä¸€è½®é¢è¯•â€¦â€¦&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;é¢è¯•å®˜ï¼šè™½ç„¶ä½ ç­”çš„å¾ˆå¥½ï¼Œä½†ä½ çš„é¡¹ç›®æ•°æ®é‡åªæœ‰åä¸‡çº§ï¼Œä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚æ‰€ä»¥ï¼Œé¢è¯•ä¸èƒ½è®©ä½ è¿‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€ä¸‰ä¸Šå»å°±æ˜¯ä¸€ä¸ªå·¦åˆºæ‹³ï¼Œå†æ¥ä¸€ä¸ªå³æ­£è¹¬â€¦â€¦&lt;/p&gt;&lt;br data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;big&gt;&lt;strong&gt;ä»£ç åœ°å€ï¼šhttps://gitee.com/fighter3/thread-demo.git&lt;/strong&gt;&lt;/big&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â&lt;/span&gt;&lt;p&gt;å¥½äº†ï¼Œé€šè¿‡æœ¬æ–‡ï¼Œç›¸ä¿¡ä½ å¯¹å¤šçº¿ç¨‹çš„åº”ç”¨å’ŒåŸç†éƒ½æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚æ–‡ç« å¼€å¤´æåˆ°çš„crudä»”å°±æ˜¯åšä¸»æœ¬äººäº†ï¼ŒæŠ€æœ¯æ°´å¹³æœ‰é™ï¼Œéš¾å…é”™æ¼ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œè°¢è°¢ï¼&lt;/p&gt;&lt;span&gt;â&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;big&gt;&lt;strong&gt;å‚è€ƒï¼š&lt;/strong&gt;&lt;/big&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€1ã€‘ï¼š[ä½¿ç”¨å¤šçº¿ç¨‹æŸ¥è¯¢ç™¾ä¸‡æ¡ç”¨æˆ·æ•°æ®å°†æ±‰å­—è½¬åŒ–æˆæ‹¼éŸ³](https://juejin.cn/post/6844903665564647437)&lt;br/&gt;&lt;br/&gt;ã€2ã€‘ï¼š[è®²çœŸ è¿™æ¬¡ç»å¯¹è®©ä½ è½»æ¾å­¦ä¹ çº¿ç¨‹æ± ](https://mp.weixin.qq.com/s/dTMH1TdxiCKy5yotQ7u7cA)&lt;br/&gt;&lt;br/&gt;ã€3ã€‘ï¼š[SpringBootå­¦ä¹ ç¬”è®°ï¼ˆåä¸ƒï¼šå¼‚æ­¥è°ƒç”¨ï¼‰](https://blog.csdn.net/sinat_40770656/article/details/107351205?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522161495963016780274184752%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;amp;request_id=161495963016780274184752&amp;amp;biz_id=0&amp;amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_v2~rank_v29-1-107351205.pc_v2_rank_blog_default&amp;amp;utm_term=%E5%BC%82%E6%AD%A5)&lt;br/&gt;&lt;br/&gt;ã€4ã€‘ï¼šJavaGuideç¼–è‘—ã€ŠJavaGuideé¢è¯•çªå‡»ç‰ˆã€‹&lt;br/&gt;&lt;br/&gt;ã€5ã€‘ï¼šè‰¾å°ä»™ç¼–è‘— ã€Šæˆ‘æƒ³è¿›å¤§å‚é¢è¯•æ€»ç»“ã€‹&lt;br/&gt;&lt;br/&gt;ã€6ã€‘ï¼šä½šåç¼–è‘— ã€ŠJavaæ ¸å¿ƒçŸ¥è¯†ç‚¹æ•´ç†ã€‹&lt;br/&gt;&lt;br/&gt;ã€7ã€‘ï¼š[Javaå¹¶å‘åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ç”¨æ€ç»´å¯¼å›¾æ•´ç†å¥½äº†](https://blog.csdn.net/sinat_40770656/article/details/113612422)&lt;br/&gt;&lt;br/&gt;ã€8ã€‘ï¼š[å¹¶å‘ç¼–ç¨‹çš„é”æœºåˆ¶ï¼šsynchronizedå’Œlock ](https://juejin.cn/post/6844903542440869896#heading-11)&lt;br/&gt;&lt;br/&gt;ã€9ã€‘ï¼š[è¯¦è§£synchronizedä¸Lockçš„åŒºåˆ«ä¸ä½¿ç”¨](https://blog.csdn.net/u012403290/article/details/64910926)&lt;br/&gt;&lt;br/&gt;ã€10ã€‘ï¼šbugstackå°å‚…å“¥ç¼–è‘—ã€ŠJavaé¢ç»æ‰‹å†Œã€‹&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¾€æœŸç²¾é€‰:&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzkwODE5ODM0Ng==&amp;amp;mid=2247484838&amp;amp;idx=1&amp;amp;sn=01306c236ab7dc1bd744f07c2eb3ef69&amp;amp;chksm=c0cced03f7bb6415d36b294d7d3db382fad79e04be56c9424645547c16756f63c82f31a3d270&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;è¿™äº›ä¸å¯ä¸çŸ¥çš„JVMçŸ¥è¯†ï¼Œæˆ‘éƒ½ç”¨æ€ç»´å¯¼å›¾æ•´ç†å¥½äº†&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzkwODE5ODM0Ng==&amp;amp;mid=2247485058&amp;amp;idx=1&amp;amp;sn=7e4273c31e97f2be4ec25c2c16577488&amp;amp;chksm=c0ccee27f7bb6731a9b749c2a8658541461b1054dafe057f5d1eec06f2738eeb963ec8abbea1&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;MySQLç´¢å¼•ä»åŸºç¡€åˆ°åŸç†ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzkwODE5ODM0Ng==&amp;amp;mid=2247484269&amp;amp;idx=1&amp;amp;sn=4ed9f127f859fc6c06c4d6a28b68fbf2&amp;amp;chksm=c0ccebc8f7bb62deff86a8a13d32e31760aa86da15b94a3bb6d0f2946af4c32425dc34dfb56d&amp;amp;scene=21#wechat_redirect&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;è¿™äº›å¹¶å‘åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘éƒ½ç”¨æ€ç»´å¯¼å›¾æ•´ç†å¥½äº†&lt;/a&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>9c1dc4845b178637eddcd355d6fd336a</guid>
<title>ä¸‹ä¸€ä»£å¾®æœåŠ¡ Service Mesh åŸç†åŠå®è·µ</title>
<link>https://toutiao.io/k/hxrinvv</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¾®æœåŠ¡æ¶æ„ç—›ç‚¹&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸šåŠ¡å…³æ³¨æœåŠ¡ä¹‹é—´é€šä¿¡&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ä¼šå¯¼è‡´ä¸šåŠ¡è¿­ä»£é€Ÿåº¦å˜æ…¢&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å¾®æœåŠ¡æ¶æ„1.0&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.643&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmiajLDjc9MPXicibQiaAOrKpKhktXkwo2z5AvyvtbGM2G3zPx7EM1rAZHIA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2000&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ç½‘å…³å±‚1ä¸ªã€ä¸šåŠ¡é€»è¾‘å±‚å¤šä¸ªã€æ•°æ®è®¿é—®å±‚å¤šä¸ªã€DB/Cacheå¤šä¸ªï¼Œæ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒ&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å¾®æœåŠ¡2.0æ¶æ„-æœåŠ¡ç½‘æ ¼&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3867735470941884&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm04yhHth8b2E02ib2USEvHaksgazdibxTMQGWicTTrqD0cJOpTt1nDl4JA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1996&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åŸºç¡€è®¾æ–½å‡çº§å›°éš¾&lt;span/&gt;&lt;br/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;å½±å“åŸºç¡€è®¾æ–½å›¢é˜Ÿçš„äº¤ä»˜èƒ½åŠ›å’Œäº¤ä»˜é€Ÿåº¦&lt;br/&gt;å› ä¸ºåº”ç”¨ç¨‹åºé€šè¿‡jaråŒ…æ–¹å¼å¼•å…¥é€šä¿¡ç»„ä»¶&lt;br/&gt;é€šä¿¡ç»„ä»¶å‡çº§éœ€è¦åº”ç”¨ç¨‹åºé…åˆjaråŒ…ç‰ˆæœ¬å‡çº§&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.35850956696878145&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmuVcXnTB12CTiaZVfCDZD4XLTEMxuT7JD9dsQsD6yJdN6kH40neXsRpQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1986&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¤šç¼–ç¨‹è¯­è¨€ä¹‹é—´&#x27;é€šä¿¡&#x27;é—®é¢˜&lt;span/&gt;&lt;br/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ä¸šåŠ¡æ¯ç§è¯­è¨€ä¸€å¥—åŸºç¡€è®¾æ–½Â æˆæœ¬å¤§&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5065065065065065&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm0nkAfvnwft5wCfvspwQt3ia7UKuvn1duiatSHBlazZEfeb7yV48BwNjw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1998&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¾®æœåŠ¡æ¶æ„æ¼”è¿›&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.6202404809619239&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm82tn8Emsn1QQJ8Gd8oVkUOgNrjGbk5Qo8eibwrgticTdSEsUjF7XP53A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1996&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡ç½‘æ ¼å®šä¹‰&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.1494949494949495&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmdp8dbUuibwWlMgXtcKZMYHfjoGxouD6aP5llbqrpE6d5Ph50Vo4MOrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1980&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡ç½‘æ ¼æ¶æ„&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3587939698492462&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm7ldtRY15MtRTHt4CFvCK0B7hlXA1NwmU6rsPIDRLmw4y7AxXl6av9w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1990&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å¸¦æ¥çš„é—®é¢˜-é“¾è·¯ä¼šå˜é•¿&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;æ€§èƒ½é‡Œé¢çš„RTÂ å¹³å‡å“åº”å»¶è¿Ÿä¼šå˜é«˜&lt;br/&gt;ä½†æœ¬æœºä¹‹é—´å³åº”ç”¨ç¨‹åºæ”¾åˆ°æœ¬æœºçš„sidecaræŸè€—ä¸ä¼šè¶…è¿‡1æ¯«ç§’&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¼€æºæ¡†æ¶&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€æ—©ç‰ˆæœ¬linkerd&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5393145161290323&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmhqnkic7NVOkx4vic78f0T6Bb5sQCA0OdszPgw7ohciaEuHbPrjke1Q6bg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1984&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;åº”ç”¨ç¨‹åºå’Œsidecarä¹‹é—´é€šè®¯ç”¨tcpæˆ–http1.1ä»¥ä¸Šéƒ½å¯ä»¥ï¼›ä¸¤è€…éœ€è¦ä¿æŒé•¿è¿æ¥&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;istio&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5272177419354839&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmV5BVAcx02mtLnoX8k72PeIgfZ2fy57ybnMcrh18FCtchUETXwkNPqg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1984&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;æ§åˆ¶ä¸­å¿ƒ&lt;br/&gt;1ã€æ§åˆ¶proxyä¹‹é—´é€šè®¯&lt;br/&gt;2ã€è´Ÿè½½å‡è¡¡&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;æ•°æ®æ”¶é›†æœåŠ¡ï¼š&lt;br/&gt;&lt;br/&gt;proxyä¹‹é—´é€šè®¯å®Œä¹‹åÂ è¦ä¸ŠæŠ¥ä¸€äº›merticsä¿¡æ¯Â ï¼ˆè€—æ—¶ã€è¯·æ±‚æ¬¡æ•°ï¼‰&lt;br/&gt;å…¨éƒ¨åŒæ­¥ä¸ŠæŠ¥&lt;br/&gt;é›†ä¸­å¼Â ä¸é è°±&lt;br/&gt;å®ƒçš„æ€§èƒ½å½±å“proxyæœ¬èº«çš„æ€§èƒ½&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;åšé‰´æƒå®‰å…¨ç›¸å…³çš„&lt;br/&gt;proxyä¹‹é—´æƒé™é‰´æƒæ¯”å¦‚TLSã€SSL&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;sofa mesh&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;èš‚èšé‡‘æœå¼€æº&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;æ¶æ„&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5371485943775101&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmjb27vgyKDnVKosFmXPicLTPtNPaV3PeVibd8PCFnj6VRrdQOlTQhib0uw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1992&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€å°†istioä¸­çš„proxyé‡å†™&lt;br/&gt;isotioÂ proxyæ˜¯ç”¨c++å†™çš„&lt;br/&gt;sofaç”¨goé‡å†™&lt;br/&gt;2ã€istioæ•°æ®æ”¶é›†èŠ‚ç‚¹æ˜¯é›†ä¸­å¼çš„Â sofaæ˜¯åˆ†å¸ƒå¼çš„å³æ¯ä¸ªproxyä¸­éƒ½æœ‰ä¸€ä¸ªmixer&lt;br/&gt;3ã€ç›®å‰è¿˜æ²¡æœ‰å…¬å¸å¤§è§„æ¨¡åœ¨ç”¨Â ç¤¾åŒºä¸æ´»è·ƒÂ å»ºè®®ä½¿ç”¨istio&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ–°æµªweibo mesh&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5542046605876393&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm2AcJ10hv8sSMFHW5pnNv802fibw4icNZfxAkIlpdK3h0lh5IxypAqxGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1974&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡ç½‘æ ¼åšä»€ä¹ˆ&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5557809330628803&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmfqEgE9Iyuic9SDnQGfJF5lU2C32bibIZTfuB65QWzXxFAicbSdPL9xbmw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1972&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¦‚ä½•é€‰å‹&lt;br/&gt;&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.0440456769983686&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmoCLMeFcSWr3p7LHdyDm1sZbb56h6HF5y3u4oLH6RZeIrfVwCLWbmGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1226&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€ä¸šåŠ¡å‡çº§ä»£ä»·å¤ªé«˜Â è¦è®©ä¸šåŠ¡çš„å‡çº§æˆæœ¬é™ä½åˆ°0Â è¦å…¼å®¹æ‰€æœ‰rpcç”¨æ³•Â æ‰€ä»¥è‡ªç ”&lt;br/&gt;2ã€æœŸæœ›çš„æ˜¯ä¸šåŠ¡æ–¹åªéœ€è¦å°†rpcÂ jaråŒ…æ¢æˆè¿™ä¸ªrpcÂ meshÂ jaråŒ…å°±è¡Œäº†&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;è‡ªç ”æ€è·¯&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.6939655172413793&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmbQfriaJyu4Rc3C2ibSQicXoEww4Ple3YtpZ12M5c4MIQtQDc3akNFH2mA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1856&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€è¦å…¼å®¹ä¼ ç»Ÿ(ç‰©ç†æœºã€è™šæ‹Ÿæœº)å’Œäº‘&lt;br/&gt;2ã€æ§åˆ¶ä¸­å¿ƒåŒ…æ‹¬æœåŠ¡ç®¡ç†å¹³å°å’Œæ•°æ®æ”¶é›†ä¸­å¿ƒ&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¶æ„è®¾è®¡&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.624750499001996&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm6YibfraG2mpo9wpNsAs4fQVaxH903whNVe2ssxQUYIAbkiaamplfmqBg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2004&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€æ•°æ®æ”¶é›†ä¸­å¿ƒï¼š&lt;br/&gt;aã€Metric:æ”¶é›†è€—æ—¶ã€å“åº”æƒ…å†µ&lt;br/&gt;bã€Trace:åˆ†å¸ƒå¼è¯·æ±‚è·Ÿè¸ªç³»ç»ŸAPM&lt;br/&gt;cã€Alarmï¼šæŠ¥è­¦åŠŸèƒ½&lt;br/&gt;2ã€Protocol&lt;br/&gt;aã€RPC:å…¼å®¹è€çš„RPCåè®®&lt;br/&gt;bã€meshåŒ…æ‹¬é€šè®¯åè®®(http1.1å’Œ2.0)å’Œæ•°æ®åè®®(protobuff)&lt;br/&gt;&lt;br/&gt;ï¼ˆæ³¨ï¼šhttp1.0ä¸æ”¯æŒÂ å› ä¸ºæ˜¯çŸ­è¿æ¥;http1.1å’Œhttp2.0æ”¯æŒkeep aliveé•¿è¿æ¥;tpcæ˜¯é•¿è¿æ¥;è¿æ¥è¿˜åœ¨ serverçŸ­å¯ä»¥ç›´æ¥æ¨é€æ¶ˆæ¯ç»™clientï¼‰&lt;br/&gt;&lt;br/&gt;2ã€sidecarä¹‹é—´çš„å¥åº·æ£€æŸ¥æ²¡æœ‰é€šè¿‡æ³¨å†Œä¸­å¿ƒè€Œæ˜¯æœ¬èº«&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ€»ä½“æµç¨‹&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5563380281690141&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmrSJdXxcYt152vciaR2Ob4vQiagxHDFXu7AK2qTtD6qbiadr6oXczw4Y3Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1988&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;ç”¨æˆ·å‘èµ·ä¸€ä¸ªç†”æ–­æœåŠ¡Bçš„æŒ‡ä»¤&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.6687179487179488&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm2TJRQWtdicfY7JJaRtb3QRUad370WicLSQK8RDpLUWLb53ialyPKNqRQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1950&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€æœåŠ¡ç®¡ç†å¹³å°ã€æ§åˆ¶ä¸­å¿ƒã€æ•°æ®æ”¶é›†ä¸­å¿ƒéƒ½æ˜¯ç°æˆçš„æœåŠ¡ï¼ˆä¹‹å‰æ–‡ç« ä»‹ç»è¿‡ï¼‰é‚£ä¹ˆè‡ªç ”ServiceÂ Meshåªéœ€è¦å®ç°proxyå°±å¯ä»¥äº†&lt;br/&gt;2ã€ä¹‹å‰Serviceå’ŒProxyæ˜¯ä¸€ä¸ªè¿›ç¨‹&lt;br/&gt;ç°åœ¨éœ€è¦ä¿®æ”¹æˆ2ä¸ªç‹¬ç«‹çš„è¿›ç¨‹å³å¯&lt;br/&gt;3ã€å°†äºŒè€…æ”¾åˆ°åŒä¸€ä¸ªpodä¸­&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å¦‚æœsidecaræŒ‚äº†å¯¹æ•´ä½“æ˜¯å¦æœ‰å½±å“?&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;æ²¡æœ‰å½±å“ã€‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4915514592933948&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmha1K9PrBecoN7mhbfYdUAa1bledkmlrEMYdwwf9lWovsiaYndOL5I9w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1302&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;sidecaræŒ‚æ‰ podå¦‚ä½•å¤„ç†ï¼Ÿ&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;å¦‚æœsidecaræŒ‚æ‰äº†Â å°±ä¼šè¢«ç›‘æ§åˆ°Â ç›´æ¥æŠŠå½“å‰podæ€æ­»å°±è¡Œäº†Â k8sä¼šè‡ªåŠ¨é‡å¯ä¸€ä¸ªpod&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;2ä¸ªåº”ç”¨ç¨‹åºæ”¾åœ¨åŒä¸€ä¸ªç‰©ç†æœºä¸Šæ¶æ„æ€æ ·ï¼Ÿ&lt;/code&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.5741758241758241&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmVVtyS2E1ZDIlJRdTiceHsjug11thSR3uOZQtjtbuzwg9uPqM5wn3ldw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;728&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;æ¼‚ç§»&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€æ—¥å¿—æ¼‚ç§»&lt;br/&gt;&lt;br/&gt;æœåŠ¡å™¨1ä¸Šæœ‰æœåŠ¡1ç”Ÿæˆæ—¥å¿—1&lt;br/&gt;å¦‚æœæœåŠ¡å™¨1ä¸Šé¢çš„æœåŠ¡1æŒ‚äº†&lt;br/&gt;åœ¨æœåŠ¡å™¨2ä¸Šå¯åŠ¨æœåŠ¡2ç”Ÿæˆæ—¥å¿—2Â &lt;br/&gt;å¦‚æœæ—¥å¿—1å’Œæ—¥å¿—2æœ‰å¼ºä¾èµ–å…³ç³»Â &lt;br/&gt;é‚£ä¹ˆå¿…é¡»å¾—åœ¨æœåŠ¡å™¨1ä¸Šå¯åŠ¨æœåŠ¡1ç»§ç»­åœ¨æ—¥å¿—1çš„åŸºç¡€ä¸Šç”Ÿæˆæ—¥å¿—&lt;br/&gt;&lt;br/&gt;2ã€é‡è¯•æ¼‚ç§»&lt;br/&gt;podå¦‚æœæŒ‚äº†Â å†æ¬¡é‡å¯Â é‚£ä¹ˆipå°±ä¼šæ”¹å˜&lt;br/&gt;é‡è¯•æ¼‚ç§»åˆ°äº‘ä¸Šä»»ä½•èŠ‚ç‚¹éƒ½æ²¡æœ‰å…³ç³»&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å®Œæ•´æµç¨‹å›¾&lt;/h2&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;è¿™ä¸ªå®Œæ•´çš„æµç¨‹å›¾æ¶µç›–äº†&lt;br/&gt;DNSã€CDNã€Nginxã€FastDFSï¼ˆæˆ–Cephï¼‰ã€&lt;br/&gt;LVSã€ServiceMashã€æ•°æ®æ”¶é›†ä¸­å¿ƒã€&lt;br/&gt;æ³¨å†Œä¸­å¿ƒã€æ§åˆ¶ä¸­å¿ƒã€ç½‘å…³ã€ä¸šåŠ¡é€»è¾‘å±‚ã€&lt;br/&gt;æ•°æ®è®¿é—®å±‚ã€å­˜å‚¨å±‚ç­‰æ•°æ®äº¤äº’è¿‡ç¨‹&lt;br/&gt;&lt;br/&gt;ä»·å€¼ä¸è²Â æƒ³è¦çš„è¯Â &lt;br/&gt;å¯ä»¥æ·»åŠ æˆ‘å¾®ä¿¡15900411193&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;è°ƒç”¨é“¾è·¯&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3782696177062374&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmgLOSWZMwhkiaN5VeySCQn6QUbjIibuHr4MOWQGibSzNlhfuqibGBpyUHCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1988&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€åšåè®®è§£æçš„ç›®çš„æ˜¯å…¼å®¹è€çš„åè®®&lt;br/&gt;å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚åÂ åœ¨å®¢æˆ·ç«¯serviceå’ŒæœåŠ¡æ–¹serviceè¦åšåè®®è§£æ&lt;br/&gt;å¦‚æœéƒ½æ˜¯meshåè®®Â æ˜¯ä¸éœ€è¦åè®®è§£æçš„ã€åè®®å°è£…ä¹Ÿä¸éœ€è¦&lt;br/&gt;2ã€å®¢æˆ·ç«¯ä¸€å®šè¦åšåºåˆ—åŒ–ã€ååºåˆ—åŒ–Â è¿™å’Œé€šè®¯æ²¡å•¥å…³ç³»Â å°±æ˜¯ä¸€ä¸ªæ•°æ®åŒ…&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;è°ƒç”¨æ–¹æ—¶åºå›¾&lt;/h2&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;1.1094017094017095&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmo2ZqydDFr5mLALib7TFtOxoFyrW4put3x8MzSwP5TpsW6bgLplp3umw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1170&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡æ–¹æ—¶åºå›¾&lt;br/&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1.4110671936758894&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmA6dmticzO1uAO4jXEy5NC7T1wPfmuNmr99yWrOibPd2ic5iaXDKwB1E8xQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1012&quot;/&gt;&lt;/figure&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ç¼“å­˜ç®¡ç†Â å¤šä¸ªMap:&lt;br/&gt;æœåŠ¡æ–¹æä¾›å“ªäº›å‡½æ•°è°ƒç”¨Â é€šè¿‡æ‰«æjaråŒ…Â åå°„æœºåˆ¶Â è·å–æœåŠ¡æä¾›çš„ç±»åå’Œæ–¹æ³•å&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;åè®®è®¾è®¡&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ•°æ®åè®®&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€ProtocolÂ Buffer&lt;br/&gt;2ã€åˆ†å‰²ç¬¦ã€ç‰ˆæœ¬å·ã€Meshæ¶ˆæ¯æ„æˆ&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.19497487437185929&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmk1YhLJzQ3xd5E9GbDmX1anKKgIqD6tuiaNG4EQIV52TrWIHF4yXApEA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1990&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€ä¸€æ¬¡ä¼ è¾“åè®®ä¸­æœ‰ç‰ˆæœ¬å·Â &lt;br/&gt;æ¯”å¦‚Â ç‰ˆæœ¬å·1è¡¨ç¤ºrpcåè®®Â &lt;br/&gt;ç‰ˆæœ¬å·2è¡¨ç¤ºmeshåè®®&lt;br/&gt;é€šè¿‡ç‰ˆæœ¬å·å¯ä»¥åŒºåˆ†å…¼å®¹è€åè®®è¿˜æ˜¯æ–°åè®®&lt;br/&gt;2ã€å¤šä¸ªæ•°æ®åŒ…ä¹‹é—´é€šè¿‡å¤´å’Œå°¾åˆ†å‰²ç¬¦åˆ†å¼€&lt;br/&gt;3ã€åˆ†å‰²ç¬¦å 5ä¸ªå­—èŠ‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Meshé€šè®¯åè®®&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€TCPé•¿è¿æ¥&lt;br/&gt;2ã€Http1.1æˆ–2.0&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ··åˆäº‘éƒ¨ç½²&lt;/h2&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€è°ƒç”¨æ–¹&lt;br/&gt;aã€SideCar+Service(Mesh)&lt;br/&gt;bã€Service(RPC)&lt;br/&gt;2ã€æœåŠ¡æ–¹&lt;br/&gt;aã€SideCar+Service(Mesh)&lt;br/&gt;bã€Service(RPC)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;è®¿é—®æµç¨‹&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.3229689067201605&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm20ht2oGM3KHs0CDYics7JXYjRJrPIEYplfbpOYS7zhQ9tgAIXzD1kFQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1994&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€åœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™Â meshæœåŠ¡æˆ–æ™®é€šçš„RPCæœåŠ¡éƒ½ä¼šå»æ³¨å†Œä¸­å¿ƒæ³¨å†ŒÂ æ­¤æ—¶å°±çŸ¥é“äº†è¯¥èŠ‚ç‚¹çš„æœåŠ¡ç±»å‹&lt;br/&gt;2ã€è°ƒç”¨æ–¹ä¸‹æ‹‰æœåŠ¡ä¿¡æ¯Â ä¹Ÿå°±çŸ¥é“äº†æä¾›æ–¹æœåŠ¡ç±»å‹Â ç„¶åé€‰æ‹©ä¸åŒçš„åè®®å»è°ƒç”¨&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å°ç»†èŠ‚&lt;/h2&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;1ã€ç†”æ–­æ”¾åœ¨meshé‡Œé¢åšÂ ä¸éœ€è¦ä¸šåŠ¡æ–¹å‚ä¸&lt;br/&gt;2ã€ä¸‹æ¸¸é‡è¯•æ¬¡æ•°æ˜¯ä¸€æ ·çš„Â æ˜¯æœåŠ¡ç²’åº¦Â éæ¥å£ç²’åº¦&lt;br/&gt;3ã€proxy(mesh)ä¹‹é—´åšå¥åº·æ£€æµ‹Â æ˜¯åˆ†å¸ƒå¼çš„Â ä¸€æ—¦å‘ç°è‡ªå·±çš„ä¸Šæ¸¸æˆ–ä¸‹æ¸¸å‡ºç°äº†é—®é¢˜Â å°±æ›´æ–°æœ¬åœ°çš„è·¯ç”±è¡¨&lt;br/&gt;4ã€è´Ÿè½½å‡è¡¡ç®—æ³•:Randomã€RRã€Hash(ä¸»è¦ç”¨ä¸€è‡´æ€§&lt;span&gt;hash&lt;/span&gt;æ¥åš)&lt;br/&gt;ï¼ˆRRï¼š(å¾ªç¯è´Ÿè½½)&lt;br/&gt;ç¬¬ä¸€æ¬¡è¯·æ±‚è·¯ç”±åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ&lt;br/&gt;ç¬¬äºŒæ¬¡è¯·æ±‚è·¯ç”±åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œ&lt;br/&gt;ç¬¬ä¸‰æ¬¡è¯·æ±‚è·¯ç”±åˆ°ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œ&lt;br/&gt;ç¬¬å››æ¬¡è¯·æ±‚è·¯ç”±åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹&lt;br/&gt;....ï¼‰&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æ¶æ„æœªæ¥&lt;/h2&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;2å¹³å°1ä¸­å¿ƒ1è¶‹åŠ¿&lt;br/&gt;&lt;br/&gt;serviceÂ meshå¹³å°ä¸ä¸šåŠ¡è§£è€¦&lt;br/&gt;å®¹å™¨äº‘å¼¹æ€§å¹³å°&lt;br/&gt;æœåŠ¡æ²»ç†å¹³å°(æ§åˆ¶ä¸­å¿ƒã€æ³¨å†Œä¸­å¿ƒã€æ•°æ®æ”¶é›†ä¸­å¿ƒ)&lt;br/&gt;äººå·¥æ™ºèƒ½(AI)&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡ç®¡ç†å¹³å°çš„è°ƒç”¨å…³ç³»-æ•°æ®æ”¶é›†å­˜å‚¨æ–¹æ³•&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœåŠ¡æ–¹-è°ƒç”¨æ–¹è§’åº¦&lt;span/&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.4020100502512563&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rmnp3gibme5rHX7cQxzrJojyic7S72CvWH0Vr24WpDC8RGicKCuQYm2ogaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1990&quot;/&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;æœåŠ¡æ–¹:1åˆ†é’Ÿ500ä¸‡æ¡è®°å½•&lt;br/&gt;è°ƒç”¨æ–¹:50ä¸‡&lt;br/&gt;å…±550ä¸‡&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å­˜å‚¨æ–¹æ¡ˆ&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;æ–¹æ¡ˆ1&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.5426278836509528&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm0a7lakm422lTyImtA59Vo4GP3nsFjib63vAQQq6uuheS5AhqicIbW6rQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1994&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;æ–¹æ¡ˆäºŒ&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;é‡å¤æ•°æ®æå–å‡ºæ¥ä½œä¸ºå…ƒæ•°æ®&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.46598984771573604&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5Rm1ficWMZOiaX1GReepHV0qKPibWuE9zpYfhicnJ1a3EhXurnibZ7iaG6jRwWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1970&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;æ–¹æ¡ˆä¸‰&lt;/code&gt;&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;å®é™…è°ƒç”¨æµé‡ä»…ä¸ºæ–¹æ¡ˆ1çš„1/10&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img class=&quot;rich_pages&quot; data-ratio=&quot;0.295959595959596&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/wsYmlkqrXhPjFQ636VYHtdr2JOsWy5RmMekAzNGwEOiarZTiakpzeibcXlV36Cen0DhAcna6ictLUKddPVBeE4iaVfw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1980&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ã€&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>5daed062f927e6435ab95bf182f02b29</guid>
<title>ä»æŠ€æœ¯ä¸“å®¶åˆ°æŠ€æœ¯ç®¡ç†ï¼Œæˆ‘å¯¹ç®¡ç†çš„æ€è€ƒ</title>
<link>https://toutiao.io/k/r5kgujp</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;h2 data-lake-id=&quot;c59d3ce6d8f3de38bc41f0ddf54f9231&quot;&gt;å‰è¨€&lt;/h2&gt;&lt;p data-lake-id=&quot;af3634f9a47f9d77c40232118fb35431&quot;&gt;å·¥ä½œç¬¬ä¸ƒä¸ªå¹´å¤´ï¼Œæˆ‘ä»æŠ€æœ¯ä¸“å®¶ï¼Œå˜æˆäº†ä¸€åæŠ€æœ¯ç®¡ç†è€…ã€‚æœ€è¿‘ä¸€ç›´åœ¨å¿™ç¢Œä¸­æ€è€ƒå¦‚ä½•æˆä¸ºä¸€åä¼˜ç§€çš„æŠ€æœ¯ç®¡ç†è€…ã€‚è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦ä¼šä»ä¸¤ä¸ªè§‚ç‚¹å’Œç»´åº¦ï¼Œæ¥è°ˆè°ˆè‡ªå·±çš„ä¸€äº›è®¤çŸ¥å’Œæ€è€ƒæ€»ç»“ã€‚&lt;span data-mce-style=&quot;font-size: 10px&quot;/&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;8f2d278849f8aaa34c20d8cf8062c66a&quot;&gt;&lt;/p&gt;&lt;h2 data-lake-id=&quot;40b9e41847e55b8d4e1b3b023302ce0e&quot;&gt;è§‚ç‚¹&lt;/h2&gt;&lt;p data-lake-id=&quot;5b8334f08a8247b7564621261e23f7ab&quot;&gt;é¦–å…ˆï¼Œä»å·¥ç¨‹å¸ˆåˆ°æŠ€æœ¯ç®¡ç†çš„è½¬å˜ï¼Œæœ‰ä¸¤ä¸ªè§‚ç‚¹è¦æ˜ç¡®ï¼š&lt;/p&gt;&lt;p data-lake-id=&quot;e2d8767d6bcdfda62e182f65392ffc66&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;1ï¼‰æŠ€æœ¯Leaderæ˜¯å›¢é˜Ÿæœ€å¥½çš„å·¥ç¨‹å¸ˆä¹‹ä¸€ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;f2da4fbfc10ea20dd0e497a3fdc9f56e&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;2ï¼‰æŠ€æœ¯Leaderæ˜¯ä¸ºå›¢é˜ŸæœåŠ¡ï¼Œè§£å†³å›¢é˜Ÿçš„é—®é¢˜ï¼›&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;dda379e68872bf2ec7b133d94eefafc7&quot;&gt;&lt;span&gt;å·¥ç¨‹å¸ˆåªéœ€è¦å¯¹è‡ªå·±è´Ÿè´£ï¼Œè€Œç®¡ç†è€…éœ€è¦å¯¹å›¢é˜Ÿè´Ÿè´£ã€‚&lt;/span&gt;&lt;span&gt;è¿™ä¸¤ä¸ªèº«ä»½æ‰€ç«‹è¶³çš„æ ¸å¿ƒç‚¹æ˜¯ä¸€æ ·çš„ï¼Œé¦–å…ˆè¦æœ‰ç¬¦åˆè¦æ±‚çš„ä¸“ä¸šæ€§ï¼Œä¸“ä¸šæ€§è¶Šå¼ºè¶Šèƒ½å¤Ÿç»™ä»–äººå¸¦æ¥ä¿¡ä»»æ„Ÿï¼›å…¶æ¬¡æ˜¯è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›ã€‚ä½†æ˜¯è¿™ä¸¤ä»¶äº‹åœ¨ç®¡ç†è€…å’Œå·¥ç¨‹å¸ˆèº«ä¸Šçš„è¦æ±‚å’Œæ–¹å‘å´æœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lake-id=&quot;daf8d4ab8a1fd2ab2c5a66b8e7710085&quot;&gt;&lt;span&gt;ä¸“ä¸šæ€§&lt;/span&gt;&lt;/h3&gt;&lt;p data-lake-id=&quot;8c38524d3ed4bb5c6f0b7fa0ed3739b6&quot;&gt;&lt;span&gt; Â  Â Â å¯¹äºå·¥ç¨‹å¸ˆæ¥è¯´ï¼Œæ‰€è°“çš„ä¸“ä¸šæ€§å•çº¯çš„æŒ‡æŠ€æœ¯é¢†åŸŸçš„ä¸“ä¸šæ€§ï¼Œå› ä¸ºå·¥ç¨‹å¸ˆçš„æ ¸å¿ƒäº§å‡ºä¸»è¦ä¾èµ–äºå…¶æŠ€æœ¯é¢†åŸŸçš„é€ è¯£ï¼Œä¸»è¦çš„è¦æ±‚æ˜¯å¯¹è‡ªå·±çš„äº§å‡ºè´Ÿè´£ï¼Œæ‰€ä»¥éœ€è¦ä¸åœçš„é’»ç ”è‡ªå·±éœ€è¦ä¾èµ–çš„æŠ€æœ¯ï¼Œæ‰“ç£¨è‡ªå·±ä½¿ç”¨çš„å·¥å…·ï¼Œä¸æ–­æå‡è‡ªå·±èƒ½åšçš„äº‹æƒ…çš„è¾¹ç•Œï¼Œä¸æ–­çš„æå‡è‡ªå·±çš„æ·±åº¦ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;9641e0e95cae78d8bc10b47dfae46f64&quot;&gt;&lt;span&gt;å¯¹äºç®¡ç†è€…æ¥è¯´ï¼Œæ‰€è°“çš„ä¸“ä¸šæ€§åˆ™æ›´åŠ åå‘äºå¦‚ä½•æå‡å›¢é˜Ÿäº§å‡ºï¼Œæ‰€ä»¥æ ¸å¿ƒçš„è¦æ±‚ä¼šå’Œå·¥ç¨‹å¸ˆæœ‰æ‰€å˜åŒ–ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºå¯ä»¥æ‹†è§£åˆ°ä»¥ä¸‹å‡ æ–¹é¢ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul data-lake-id=&quot;44f581f6d7cbfb60d5cf135d9733c193&quot; start=&quot;1&quot; lake-indent=&quot;0&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;å›¢é˜Ÿå»ºè®¾&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šæ ¸å¿ƒåŒ…æ‹¬æ‹›è˜å’Œå›¢é˜Ÿå±‚æ¬¡æ­å»ºï¼Œå›¢é˜Ÿå’Œä¸ªäººæœ€ç›´æ¥çš„åŒºåˆ«å°±æ˜¯äººæ•°ï¼Œå›¢é˜Ÿæ˜¯ä¸€ä¸ªç»„ç»‡ï¼Œå¯¹äºç®¡ç†è€…æ¥è¯´ï¼Œé¦–å…ˆéœ€è¦çš„å°±æ˜¯æŠŠè¿™ä¸ªç»„ç»‡å»ºç«‹èµ·æ¥ï¼Œä¸€ä¸ªäººçš„ç»„ç»‡å¾ˆéš¾æ¯”10ä¸ªäººçš„ç»„ç»‡äº§å‡ºé«˜ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;è®¾å®šç›®æ ‡&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šå½“å›¢é˜Ÿå·²ç»æ­å»ºèµ·æ¥ä¹‹åï¼Œæœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯è¦åšä»€ä¹ˆäº†ï¼Œå¦‚æœå›¢é˜Ÿçš„ç›®æ ‡æ˜¯é”™è¯¯çš„ï¼Œé‚£å¾ˆå¯èƒ½å¯¼è‡´æ•´ä¸ªå›¢é˜Ÿè´Ÿå‘äº§å‡ºï¼Œæ‰€ä»¥ç›®æ ‡ä¸€å®šè¦å¯¹ã€‚åœ¨è¿™ä¸€ç‚¹ä¸Šæ˜¯æœ€ä½“ç°ç®¡ç†è€…çš„â€œä¸“ä¸šæ€§â€çš„ï¼Œæ–¹å‘èµ°å¯¹äº†ï¼Œæ•´ä¸ªå›¢é˜Ÿäº‹åŠåŠŸå€ï¼Œæ•´ä¸ªå›¢é˜Ÿéƒ½ä¼šä¿¡æœç®¡ç†è€…ï¼Œåä¹‹ï¼Œåˆ™å…¨æ˜¯ç®¡ç†è€…ä¸€ä¸ªäººçš„è´£ä»»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æå‡æ•ˆç‡&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼šä¸€èˆ¬æˆ‘ä»¬ç›´è§‚èƒ½æƒ³åˆ°çš„å°±æ˜¯æ‹›æ›´å¥½çš„äººæå‡æ•ˆç‡ï¼Œä½†ç«™åœ¨ç®¡ç†è€…çš„è§’åº¦è¿˜è¦è€ƒè™‘æ˜¯å¦èƒ½åœ¨å·¥å…·æˆ–æµç¨‹ä¸Šæ”¹é€ ï¼Œæ˜¯å¦èƒ½é æå‡å›¢é˜Ÿåˆ†å·¥æƒ…å†µæ¥æ”¹å–„æ•ˆç‡ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ ‘ç«‹æ¦œæ ·&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;ï¼š&lt;/span&gt;ç®¡ç†è€…æ˜¯å›¢é˜Ÿçš„æ¨¡ä»¿å¯¹è±¡ï¼Œæ˜¯å›¢é˜Ÿçš„è¡Œä¸ºæ ‡æ†ï¼Œå°†è‡ªèº«çš„èƒ½åŠ›ã€è¡Œä¸ºåˆ†äº«å’Œä¼ è¾¾ç»™å›¢é˜Ÿï¼Œå»ºç«‹ç§¯æçš„ç«äº‰æ°›å›´ã€‚ç«äº‰èƒ½å¤Ÿé«˜æ•ˆæ¿€å‘å‘˜å·¥çš„æ½œåŠ›ï¼Œè¦è®©å›¢é˜Ÿä¸­å‘˜å·¥å¤„ç†è‰¯æ€§ç«äº‰çŠ¶æ€ï¼Œç»™å›¢é˜Ÿåˆ›é€ â€œå±æœºæ„è¯†â€ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-lake-id=&quot;582e6e65ed96c968061f42c62070c0a4&quot;&gt;&lt;span&gt;èŒä¸šæ€§&lt;/span&gt;&lt;/h3&gt;&lt;p data-lake-id=&quot;7269550dd666ace24d32984db19d4b62&quot;&gt;&lt;span&gt;å¯¹äºå·¥ç¨‹å¸ˆæ¥è¯´ï¼Œæ ¸å¿ƒçš„æ²Ÿé€šæ–¹ä¸€èˆ¬æ˜¯å›¢é˜Ÿå†…éƒ¨å’Œäº§å“ï¼Œæ²Ÿé€šçš„è¦æ±‚ä¸»è¦æ˜¯èƒ½å’Œäº§å“æ²Ÿé€šæ¸…æ¥šéœ€æ±‚ï¼Œèƒ½è®²æ˜ç™½è‡ªå·±çš„æŠ€æœ¯æ–¹æ¡ˆå³å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;584bd55824a5a682718e668958c37a2c&quot;&gt;&lt;span&gt;å¯¹äºå›¢é˜Ÿç®¡ç†æ¥è¯´ï¼Œæ ¸å¿ƒçš„æ²Ÿé€šæ–¹éƒ½æ˜¯å…¶ä»–å›¢é˜Ÿï¼Œç®¡ç†è€…éœ€è¦å¸®å›¢é˜Ÿè§£å†³çš„ä¸€ä¸ªå¤§é—®é¢˜å°±æ˜¯å¤–éƒ¨èµ„æºä¾èµ–é—®é¢˜ï¼Œæ‰€ä»¥å¯¹æ²Ÿé€šçš„è¦æ±‚è¦é«˜å¾ˆå¤šï¼Œå¦‚ä½•èƒ½è¯´æœå…¶ä»–å›¢é˜Ÿæä¾›èµ„æºè§£å†³è‡ªå·±çš„é—®é¢˜æ˜¯ç®¡ç†è€…éœ€è¦è§£å†³çš„æ ¸å¿ƒå·¥ä½œä¹‹ä¸€ã€‚&lt;/span&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;ä½ æ¨è¿›çš„ä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„ã€è‡ªé—­ç¯çš„äº‹ã€‚ä½ éœ€è¦å¯¹ä¸Šæ²Ÿé€šï¼Œè·¨å›¢é˜Ÿæ²Ÿé€šï¼Œä»¥åŠå¯¹ä¸‹æ²Ÿé€šï¼Œå¼€å§‹éœ€è¦å­¦ä¹ å„ç§æŠ€èƒ½ï¼Œæ›´å¤šçš„æŒæ¡ä¸šåŠ¡ï¼Œç«™åœ¨ç”¨æˆ·è§’åº¦ï¼Œç„¶åå†æ¥æ€è€ƒå¦‚ä½•é€šè¿‡ç³»ç»Ÿæ¥æ»¡è¶³éœ€æ±‚ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;584bd55824a5a682718e668958c37a2c&quot;&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;e9d443b7a027bc82214a2f69ea675b43&quot;&gt;&lt;/p&gt;&lt;h2 data-lake-id=&quot;27d9eb02e9f9e9841111ab839d8e611c&quot;&gt;ç»´åº¦&lt;/h2&gt;&lt;h3 data-lake-id=&quot;a7f02a83be67ff42355179341ee11d2d&quot;&gt;å›¢é˜Ÿç»´åº¦&lt;/h3&gt;&lt;p data-lake-id=&quot;c54fbdcd3de056a1e2b620331c09527f&quot;&gt;&lt;span/&gt;ä»å›¢é˜Ÿç»´åº¦æ¥è®²ï¼Œä»ä¸€åå·¥ç¨‹å¸ˆåˆ°æŠ€æœ¯ç®¡ç†çš„è½¬å˜ï¼Œæˆ‘æ€»ç»“äº†å››ä¸ªæ–¹é¢ï¼š&lt;/p&gt;&lt;h4 data-lake-id=&quot;77ed77b111085a02c8009a414f1c5b0d&quot;&gt;1ã€èº¬èº«å…¥å±€&lt;/h4&gt;&lt;p data-lake-id=&quot;f0ef8e2f712a1c0a3964465a1f8f153d&quot;&gt;å¦‚æœåªæ˜¯ä»¥å·¥ç¨‹å¸ˆçš„è§’åº¦å»å·¥ä½œï¼Œå¯èƒ½åªä¼šå…³æ³¨é¡¹ç›®é‡Œé¢çš„æŸäº›ç‚¹ï¼Œå®¹æ˜“é™·å…¥æ€ç»´å®šåŠ¿ï¼Œä¸å¤ªå®¹æ˜“å»æ€è€ƒå…¨å±€ã€‚å› æ­¤åœ¨æœ€å¼€å§‹åº”è¯¥å­¦ä¼šâ€œèº¬èº«å…¥å±€â€ï¼Œäº†è§£å›¢é˜Ÿå·¥ä½œä¸­çš„é‡è¦èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯é«˜é«˜åœ¨ä¸Šã€‚å·¥ç¨‹å¸ˆå’ŒæŠ€æœ¯ç®¡ç†åªæ˜¯èŒè´£ä¸Šä¸åŒï¼Œè€ŒéèŒçº§æˆ–è€…â€œé˜¶çº§â€ä¸Šçš„åŒºåˆ†ã€‚&lt;/p&gt;&lt;h4 data-lake-id=&quot;0b7e2ddf968b095371ea0186a0f46bad&quot;&gt;2ã€æŠ“å¤§æ”¾å°&lt;/h4&gt;&lt;p data-lake-id=&quot;69e4d6d96d977350f4d77f8ec2cde27e&quot;&gt;å›¢é˜Ÿè¦åšçš„äº‹æƒ…ï¼Œä»å¤æ‚ç¨‹åº¦ä»¥åŠæ•°é‡å¤šå¯¡æ¥è¯´ï¼Œè‚¯å®šè¿œè¿œè¶…è¿‡ä¸ªäººã€‚å› æ­¤è¦å­¦ä¼šåˆ†è¾¨é‚£äº›æ˜¯é‡è¦ç´§æ€¥çš„äº‹é¡¹ï¼Œä»å…¨å±€è§’åº¦è€ƒè™‘ï¼Œå¯ä»¥é€‚å½“çš„åšâ€œå±€éƒ¨ç‰ºç‰²â€æ¥ä¿è¯æ•´ä½“æ‹¿åˆ°æ›´å¥½çš„ç»“æœã€‚&lt;/p&gt;&lt;h4 data-lake-id=&quot;d03f7208c6c181b5424a74ca99693490&quot;&gt;3ã€å‘ä¸‹èµ‹èƒ½&lt;/h4&gt;&lt;p data-lake-id=&quot;43e6bc147cdf3682113f453e68aaec1a&quot;&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;ä¸ªäººçš„æ—¶é—´å’Œç²¾åŠ›éƒ½æ˜¯æœ‰é™çš„ï¼Œ&lt;/span&gt;ä»å·¥ç¨‹å¸ˆåˆ°æŠ€æœ¯ç®¡ç†ï¼Œ&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;å¾ˆå¤šæ—¶å€™æ—¶é—´ä¸å†æ˜¯è‡ªå·±çš„ã€‚å°è¯•å»&lt;/span&gt;ç›¸ä¿¡å›¢é˜Ÿé‡Œé¢çš„æ¯ä¸ªåŒå­¦ï¼Œç»™ä»–ä»¬æœºä¼šå»åšä¸€äº›è¶…è¿‡ä¹‹å‰èŒè´£å’Œèƒ½åŠ›çš„äº‹æƒ…ï¼Œå½“ç„¶è¿‡ç¨‹ä¸­è¦åŠæ—¶ç»™äºˆæŒ‡å¯¼å’Œè¿‡ç¨‹æŠŠæ§ï¼Œç›¸ä¿¡ä»–ä»¬èƒ½æ‹¿åˆ°æ›´å¥½çš„ç»“æœã€‚&lt;/p&gt;&lt;h4 data-lake-id=&quot;7a8015eb4583869ba3e5fd2c3c27e1f7&quot;&gt;4ã€æŒç»­å­¦ä¹ &lt;br/&gt;&lt;/h4&gt;&lt;p data-lake-id=&quot;fe9939db6c761d62fe14a468984da890&quot;&gt;ä½œä¸ºæŠ€æœ¯å‡ºèº«çš„ç®¡ç†è€…ï¼Œè¦æ—¶åˆ»ä¿æŒå¯¹æ–°æŠ€æœ¯çš„å­¦ä¹ ï¼Œå¹¶åœ¨å¯èƒ½çš„èŒƒå›´ä¹‹å†…æ‰¿æ‹…ä¸€å®šçš„å¼€å‘&amp;amp;æµ‹è¯•å·¥ä½œæˆ–è€…è¯´è¦å¯¹å›¢é˜Ÿå†…æŠ€æœ¯é¡¹ç›®è¶³å¤Ÿæ·±å…¥ï¼Œåœ¨æˆå‘˜é‡åˆ°é—®é¢˜æ—¶è¦èƒ½ç»™å‡ºè§£å†³æ–¹æ¡ˆæˆ–è€…æ€è·¯ã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;17b9fc245d6e67143a08abb074ac1c4e&quot;&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;ä¿æŒè€æ€§ï¼Œæœ‰æœåŠ¡å’ŒæŒ‡å¯¼ä»¥åŠåŸ¹å…»å›¢é˜Ÿçš„çš„æ„è¯†ï¼Œæå‡æ•´ä¸ªå›¢é˜Ÿçš„å®åŠ›ã€‚æŠ€æœ¯ç®¡ç†è€…è¦èƒ½è§„åˆ’å’Œæå‡ºå›¢é˜Ÿçš„ç›®æ ‡ï¼Œæ˜ç¡®å›¢é˜Ÿå‰è¿›çš„æ–¹å‘ï¼Œå¹¶ç¡®ä¿å¤§å®¶èƒ½å¤Ÿä¸åç¦»è½¨é“ï¼Œä¸æ–­çº æ­£ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;17b9fc245d6e67143a08abb074ac1c4e&quot;&gt;&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-lake-id=&quot;a5b1d117be8845df5ae97a882966bd21&quot;&gt;ä¸ªäººç»´åº¦&lt;/h3&gt;&lt;h4 data-lake-id=&quot;5b1caf8796e87a80d15ebe35677c3f78&quot;&gt;1ã€æŒç»­å­¦ä¹ &lt;/h4&gt;&lt;p data-lake-id=&quot;46705897c7ea0c922b7dc80dba878926&quot;&gt;æŠ€æœ¯Leaderå¿…é¡»æ˜¯å›¢é˜Ÿæœ€å¥½çš„å·¥ç¨‹å¸ˆä¹‹ä¸€ï¼Œè¦èƒ½å¤ŸåŸºäºè‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›&amp;amp;ä¸šåŠ¡è®¤çŸ¥åšå†³ç­–ã€‚è¦ç¡®ä¿æŠ€æœ¯æˆé•¿çš„é€Ÿåº¦ï¼Œ&lt;span data-mce-style=&quot;font-size: 10px&quot;&gt;é€šè¿‡ç°è±¡çœ‹å‡ºèƒŒåçš„åŸå› æˆ–åŸç†ï¼Œè¦èƒ½æˆä¸ºé—®é¢˜ç»ˆç»“è€…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h4 data-lake-id=&quot;10ccd978a8ee82305faffc5a020edc87&quot;&gt;2ã€ç›®æ ‡æ˜ç¡®&lt;/h4&gt;&lt;p data-lake-id=&quot;dd1e107dc12d7571c28c4a74373d6a65&quot;&gt;å·¥ç¨‹å¸ˆæ›´å¤šæ˜¯é¢å‘æŠ€æœ¯ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå°çš„åœ†ï¼›æˆä¸ºæŠ€æœ¯ç®¡ç†è€…åï¼Œéœ€è¦è°ƒæ•´è‡ªå·±çš„è®¤çŸ¥è¾¹ç•Œï¼Œæˆä¸ºæ›´å¤§çš„åœ†ï¼ŒåŠæ—¶è¡¥é½ä¸åŒæ–¹é¢çš„èƒ½åŠ›ç¼ºå¤±ã€‚&lt;/p&gt;&lt;ul data-lake-id=&quot;19f80dc8ef98a32f19cf5daba461a606&quot; lake-indent=&quot;0&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä¸šåŠ¡&lt;/strong&gt;ï¼šä»å•ä¸€åŠŸèƒ½æ¨¡å—è®¾è®¡ã€å•ä¸€ç³»ç»Ÿè®¾è®¡åˆ°æ€è€ƒä¸šåŠ¡å‘å±•è¶‹åŠ¿ã€ç»“åˆç°é˜¶æ®µå…¬å¸æƒ…å†µèƒ½æ¯”è¾ƒæ¸…æ™°è®¤è¯†åˆ°ç°é˜¶æ®µã€ä¸­çŸ­æœŸã€ä¸­é•¿æœŸã€é•¿æœŸä¸šåŠ¡çš„å½¢æ€å’Œè¯¥åšçš„äº‹æƒ…ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;å›¢é˜Ÿ&lt;/strong&gt;ï¼šé¦–å…ˆè¦æœ‰èƒ½åŠ›æ‰“é€ å›¢é˜Ÿ(æ‹›è˜ã€æ•™åŒ–ã€å¼•å¯¼)ï¼Œç„¶åæ€è€ƒå›¢é˜Ÿç›®æ ‡æ˜¯ä»€ä¹ˆã€å›¢é˜Ÿé¢ä¸´çš„èŒè´£æˆ–ä½¿å‘½æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;è§„åˆ’&lt;/strong&gt;ï¼šè®¤æ¸…åšå¥½è§„åˆ’æ˜¯ä¸ºäº†è½åœ°å»å®ç°å®ƒè€Œä¸æ˜¯ä¸ºäº†PPTï¼Œéœ€è¦å…·å¤‡ä¸€å®šçš„è§„åˆ’èƒ½åŠ›ï¼Œè¿™å…¶ä¸­åŒ…å«äº†å¯¹ä¸Šå¯¹ä¸‹çš„ç›®æ ‡æ˜ç¡®ã€èµ„æºåè°ƒäº‰å–ã€å¯¹å¤–æ²Ÿé€šåˆä½œç­‰ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;å¯¹ä¸Šå¯¹ä¸‹&lt;/strong&gt;ï¼šå¯¹ä¸Šï¼Œæ˜ç¡®å…¬å¸ä¸šåŠ¡æˆ˜ç•¥æ–¹å‘ï¼ŒåŠæ—¶å¯¹é½ç›®æ ‡ï¼ŒåŠæ—¶åŒæ­¥è¿›å±•ï¼›å¯¹ä¸‹ï¼ŒåŠæ—¶æ²Ÿé€šäº†è§£ä¸ªæ€§äº†è§£è¿°æ±‚ã€åè°ƒèµ„æºç»™ä¸å¸®åŠ©ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4 data-lake-id=&quot;ca70dd28aeeae59523efbce9e02a8031&quot;&gt;3ã€ä¿æŒæ€è€ƒ&lt;/h4&gt;&lt;p data-lake-id=&quot;57f883033b72f711af1c175971975c90&quot;&gt;å½“ä½ ä½œä¸ºä¸€ä¸ªæŠ€æœ¯ç®¡ç†è€…ï¼Œéœ€è¦ä¿è¯ä¸€å®šçš„æ€è€ƒæ—¶é—´ï¼Œè½¬æ¢åŸ‹å¤´æ‰§è¡Œçš„å·¥ä½œæ–¹å¼ã€‚éœ€è¦ä»å•ç‚¹æ¨¡å¼çš„æ€è€ƒï¼Œå¿«é€Ÿè¿‡åº¦åˆ°ä¸€ä¸ªé¡¹ç›®ç”šè‡³æ›´é«˜ç»´åº¦çš„ä¸šåŠ¡å±‚çº§ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œç‚¹-çº¿-é¢â€çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¿æŒè€å¿ƒã€‚&lt;/p&gt;&lt;h4 data-lake-id=&quot;1915e6f9e47ae550be573d8689f9c329&quot;&gt;4ã€é€‚å½“æ”¾æ‰‹&lt;/h4&gt;&lt;p data-lake-id=&quot;7580b3010625bc238954b901fee38d35&quot;&gt;å­¦ä¼šæŠ“å¤§æ”¾å°ï¼Œç»“æœå¯¼å‘ã€‚ç²¾åŠ›æœ‰é™å¾ˆéš¾é¢é¢ä¿±åˆ°ï¼Œå­¦ä¼šæ”¾æ‰‹è®©æœ‰èƒ½åŠ›çš„äººå»å…·ä½“è½åœ°ï¼Œè‡ªå·±åšå¥½è·Ÿè¿›è¯†åˆ«ä¸šåŠ¡æ ¸å¿ƒã€æŠŠæ§æ–¹æ¡ˆè®¾è®¡ã€codereviewç­‰å·¥ä½œã€‚&lt;/p&gt;&lt;p data-lake-id=&quot;c31547fc9ec678828e3e191fa91e3b95&quot;&gt;&lt;/p&gt;&lt;p data-lake-id=&quot;5fbb517257a28e30ea61bc289260d500&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f36312a553d387c495a26ae10b5c582f</guid>
<title>iOS ç¨³å®šæ€§é—®é¢˜æ²»ç†ï¼šå¡æ­»å´©æºƒç›‘æ§åŸç†åŠæœ€ä½³å®è·µ</title>
<link>https://toutiao.io/k/8gc0m8s</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸åŒäº Android ç³»ç»Ÿä¸­çš„å¡æ­»ï¼ˆANRï¼‰é—®é¢˜ï¼Œç›®å‰ä¸šç•Œå¯¹ iOS ç³»ç»Ÿä¸­ App å‘ç”Ÿçš„å¡æ­»å´©æºƒé—®é¢˜å¹¶æ— æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦åŸå› æ˜¯ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é€šå¸¸ App å¡æ­»æ—¶é—´è¶…è¿‡ 20s ä¹‹åä¼šè§¦å‘æ“ä½œç³»ç»Ÿçš„ä¿æŠ¤æœºåˆ¶ï¼Œå‘ç”Ÿå´©æºƒï¼Œæ­¤æ—¶åœ¨ç”¨æˆ·çš„è®¾å¤‡ä¸­èƒ½æ‰¾åˆ°æ“ä½œç³»ç»Ÿç”Ÿæˆçš„å¡æ­»å´©æºƒæ—¥å¿—ï¼Œä½†æ˜¯å› ä¸º iOS ç³»ç»Ÿå°é—­ç”Ÿæ€çš„å…³ç³»ï¼ŒApp å±‚é¢æ²¡æœ‰æƒé™æ‹¿åˆ°å¡æ­»å´©æºƒçš„æ—¥å¿—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸€èˆ¬è€Œè¨€ç”¨æˆ·é‡åˆ°å¡æ­»é—®é¢˜çš„æ—¶å€™å¹¶æ²¡æœ‰è€å¿ƒç­‰å¾…é‚£ä¹ˆä¹…çš„æ—¶é—´ï¼Œå¯èƒ½åœ¨å¡ä½ 5s æ—¶å°±å·²ç»å¤±å»è€å¿ƒï¼Œç›´æ¥æ‰‹åŠ¨å…³é—­åº”ç”¨æˆ–è€…ç›´æ¥å°†åº”ç”¨é€€åˆ°åå°ï¼Œå› æ­¤è¿™ä¸¤ç§åœºæ™¯ä¸‹ç³»ç»Ÿä¹Ÿå°±ä¸ä¼šç”Ÿæˆå¡æ­»å´©æºƒæ—¥å¿—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºä¸Šé¢æåˆ°çš„ä¸¤ä¸ªåŸå› ï¼Œç›®å‰ä¸šç•Œ iOS ç”Ÿäº§ç¯å¢ƒä¸­çš„å¡æ­»ç›‘æ§æ–¹æ¡ˆå…¶å®ä¸»è¦æ˜¯åŸºäºå¡é¡¿ç›‘æ§ï¼Œå³å½“ç”¨æˆ·åœ¨ä½¿ç”¨ App çš„è¿‡ç¨‹ä¸­é¡µé¢å“åº”æ—¶é—´è¶…è¿‡ä¸€å®šçš„å¡é¡¿çš„é˜ˆå€¼ï¼ˆä¸€èˆ¬æ˜¯å‡ ç™¾ msï¼‰ä¹‹ååˆ¤å®šä¸ºä¸€æ¬¡å¡é¡¿ï¼Œç„¶åæŠ“å–åˆ°å½“æ—¶ç°åœºçš„è°ƒç”¨æ ˆå¹¶ä¸”ä¸ŠæŠ¥åˆ°åå°åˆ†æã€‚è¿™ç§æ–¹æ¡ˆçš„ç¼ºé™·ä¸»è¦ä½“ç°åœ¨ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ²¡æœ‰å°†æ¯”è¾ƒè½»å¾®çš„å¡é¡¿é—®é¢˜å’Œä¸¥é‡çš„å¡æ­»é—®é¢˜åŒºåˆ†å¼€ï¼Œå¯¼è‡´ä¸ŠæŠ¥çš„é—®é¢˜æ•°é‡å¤ªå¤šï¼Œå¾ˆéš¾èšç„¦åˆ°é‡ç‚¹ã€‚å®é™…ä¸Šè¿™éƒ¨åˆ†é—®é¢˜å¯¹ç”¨æˆ·ä½“éªŒçš„ä¼¤å®³å…¶å®æ˜¯è¿œè¿œå¤§äºå¡é¡¿çš„ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å› ä¸ºä¸€äº›ä½¿ç”¨ä½ç«¯æœºå‹çš„ç”¨æˆ·æ›´å®¹æ˜“åœ¨çŸ­æ—¶é—´å†…é‡åˆ°é¢‘ç¹çš„å¡é¡¿ï¼Œä½†æ˜¯è°ƒç”¨æ ˆæŠ“å–ï¼Œæ—¥å¿—å†™å…¥å’Œä¸ŠæŠ¥ç­‰ç›‘æ§æ‰‹æ®µéƒ½æ˜¯æ€§èƒ½æœ‰æŸçš„ï¼Œè¿™ä¹Ÿæ˜¯å¡é¡¿ç›‘æ§æ–¹æ¡ˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¸€èˆ¬åªèƒ½å°æµé‡è€Œä¸èƒ½å…¨é‡çš„åŸå› ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;è¯•æƒ³ä¸€æ¬¡å¡é¡¿æŒç»­äº† 100msï¼Œå‰ 99ms éƒ½å¡åœ¨ A æ–¹æ³•çš„æ‰§è¡Œä¸Šï¼Œä½†æ˜¯æœ€å 1ms åˆšå¥½åˆ‡æ¢åˆ°äº† B æ–¹æ³•åœ¨æ‰§è¡Œï¼Œè¿™æ—¶å€™å¡é¡¿ç›‘æ§æŠ“åˆ°çš„è°ƒç”¨æ ˆæ˜¯ B æ–¹æ³•çš„è°ƒç”¨æ ˆï¼Œå…¶å® B æ–¹æ³•å¹¶ä¸æ˜¯é€ æˆå¡é¡¿çš„ä¸»è¦åŸå› ï¼Œè¿™æ ·ä¹Ÿå°±é€ æˆäº†è¯¯å¯¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºäºä¸Šè¿°çš„ç—›ç‚¹ï¼Œå­—èŠ‚è·³åŠ¨ APM ä¸­å°å›¢é˜Ÿè‡ªç ”äº†ä¸€å¥—ä¸“é—¨ç”¨äºå®šä½ç”Ÿäº§ç¯å¢ƒä¸­çš„å¡æ­»å´©æºƒçš„è§£å†³æ–¹æ¡ˆï¼Œæœ¬æ–‡å°†è¯¦ç»†çš„ä»‹ç»è¯¥æ–¹æ¡ˆçš„æ€è·¯å’Œå…·ä½“å®ç°ï¼Œä»¥åŠé€šè¿‡æœ¬æ–¹æ¡ˆä¸Šçº¿åæ€»ç»“å‡ºæ¥çš„ä¸€äº›å…¸å‹é—®é¢˜å’Œæœ€ä½³å®è·µï¼ŒæœŸæœ›å¯¹å¤§å®¶æœ‰æ‰€å¯å‘ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¡æ­»å´©æºƒèƒŒæ™¯ä»‹ç»&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä»€ä¹ˆæ˜¯ watchdog&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæŸä¸€å¤©æˆ‘ä»¬çš„ App åœ¨å¯åŠ¨æ—¶å¡ä½å¤§æ¦‚ 20s ç„¶åå´©æºƒä¹‹åï¼Œä»è®¾å¤‡ä¸­å¯¼å‡ºçš„ç³»ç»Ÿå´©æºƒæ—¥å¿—å¾ˆå¯èƒ½æ˜¯ä¸‹é¢è¿™ç§æ ¼å¼ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ExceptionÂ Type:Â Â EXC_CRASHÂ (SIGKILL)&lt;br/&gt;ExceptionÂ Codes:Â 0x0000000000000000,Â 0x0000000000000000&lt;br/&gt;ExceptionÂ Note:Â Â EXC_CORPSE_NOTIFY&lt;br/&gt;TerminationÂ Reason:Â NamespaceÂ ASSERTIOND,Â CodeÂ 0x8badf00d&lt;br/&gt;TriggeredÂ byÂ Thread:Â Â 0&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢å°±å…¶ä¸­æœ€é‡è¦çš„å‰ 4 è¡Œä¿¡æ¯é€ä¸€è§£é‡Šï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Exception Type&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;EXC_CRASH&lt;/code&gt;ï¼šMach å±‚çš„å¼‚å¸¸ç±»å‹ï¼Œè¡¨ç¤ºè¿›ç¨‹å¼‚å¸¸é€€å‡ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;SIGKILL&lt;/code&gt;ï¼šBSD å±‚çš„ä¿¡å·ï¼Œè¡¨ç¤ºè¿›ç¨‹è¢«ç³»ç»Ÿç»ˆæ­¢ï¼Œè€Œä¸”è¿™ä¸ªä¿¡å·ä¸èƒ½è¢«é˜»å¡ã€å¤„ç†å’Œå¿½ç•¥ã€‚è¿™æ—¶å¯ä»¥æŸ¥çœ‹ &lt;code&gt;Termination Reason&lt;/code&gt; å­—æ®µäº†è§£ç»ˆæ­¢çš„åŸå› ã€‚&lt;/p&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Exception Codes&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªå­—æ®µä¸€èˆ¬ç”¨ä¸ä¸Šï¼Œå½“å´©æºƒæŠ¥å‘ŠåŒ…å«ä¸€ä¸ªæœªå‘½åçš„å¼‚å¸¸ç±»å‹æ—¶ï¼Œè¿™ä¸ªå¼‚å¸¸ç±»å‹å°†ç”¨è¿™ä¸ªå­—æ®µè¡¨ç¤ºï¼Œå½¢å¼æ˜¯åå…­è¿›åˆ¶æ•°å­—ã€‚&lt;/p&gt;&lt;ol start=&quot;3&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Exception Note&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;EXC_CORPSE_NOTIFY&lt;/code&gt; å’Œ &lt;code&gt;EXC_CRASH&lt;/code&gt; å®šä¹‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ„æ€æ˜¯è¿›ç¨‹å¼‚å¸¸è¿›å…¥ CORPSE çŠ¶æ€ã€‚&lt;/p&gt;&lt;ol start=&quot;4&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;Termination Reason&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸»è¦å…³æ³¨ &lt;code&gt;Code 0x8badf00d&lt;/code&gt;ï¼Œå¯ä»¥åœ¨è‹¹æœçš„å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹åˆ° &lt;code&gt;0x8badf00d&lt;/code&gt; æ„å‘³ç€ App &lt;code&gt;ate bad food&lt;/code&gt;ï¼Œè¡¨ç¤ºè¿›ç¨‹å› ä¸º &lt;code&gt;watchdog&lt;/code&gt; è¶…æ—¶è€Œè¢«æ“ä½œç³»ç»Ÿç»“æŸè¿›ç¨‹ã€‚é€šè¿‡ä¸Šè¿°å·²ç»ä¿¡æ¯å¯ä»¥å¾—å‡º &lt;code&gt;watchdog&lt;/code&gt; å´©æºƒçš„å®šä¹‰ï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;åœ¨iOSå¹³å°ä¸Šï¼ŒAppå¦‚æœåœ¨å¯åŠ¨ã€é€€å‡ºæˆ–è€…å“åº”ç³»ç»Ÿäº‹ä»¶æ—¶å› ä¸ºè€—æ—¶è¿‡é•¿è§¦å‘ç³»ç»Ÿä¿æŠ¤æœºåˆ¶ï¼Œæœ€ç»ˆå¯¼è‡´è¿›ç¨‹è¢«å¼ºåˆ¶ç»“æŸçš„è¿™ç§å¼‚å¸¸å®šä¹‰ä¸ºwatchdogç±»å‹çš„å´©æºƒã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€è°“çš„ &lt;code&gt;watchdog&lt;/code&gt; å´©æºƒä¹Ÿå°±æ˜¯æœ¬æ–‡æ‰€è¯´çš„å¡æ­»å´©æºƒã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸ºä»€ä¹ˆè¦ç›‘æ§å¡æ­»å´©æºƒ&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶éƒ½çŸ¥é“åœ¨å®¢æˆ·ç«¯ç ”å‘ä¸­ï¼Œå› ä¸ºä¼šé˜»æ–­ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨ï¼Œé—ªé€€å·²ç»æ˜¯æœ€ä¸¥é‡çš„ bugï¼Œä¼šç›´æ¥å½±å“ç•™å­˜ï¼Œæ”¶å…¥ç­‰å„é¡¹æœ€æ ¸å¿ƒçš„ä¸šåŠ¡æŒ‡æ ‡ã€‚ä¹‹å‰å¤§å®¶é‡ç‚¹å…³æ³¨çš„éƒ½æ˜¯è¯¸å¦‚ &lt;code&gt;unrecognized selector&lt;/code&gt;ã€&lt;code&gt;EXC_BAD_ACCESS&lt;/code&gt; ç­‰å¯ä»¥åœ¨ App è¿›ç¨‹å†…è¢«æ•è·çš„å´©æºƒï¼ˆä¸‹æ–‡ä¸­ç§°ä¹‹ä¸ºæ™®é€šå´©æºƒï¼‰ï¼Œä½†æ˜¯å¯¹äº &lt;code&gt;SIGKILL&lt;/code&gt; è¿™ç±»å› ä¸ºè¿›ç¨‹å¤–çš„æŒ‡ä»¤å¼ºåˆ¶é€€å‡ºå¯¼è‡´çš„å¼‚å¸¸ï¼ŒåŸæœ‰çš„ç›‘æ§åŸç†æ˜¯è¦†ç›–ä¸åˆ°çš„ï¼Œä¹Ÿå¯¼è‡´æ­¤ç±»å´©æºƒåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¢«é•¿æœŸå¿½è§†ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¦‚ä¸‹ç†ç”±ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å› ä¸ºå¡æ­»å´©æºƒæœ€å¸¸è§å‘ç”Ÿäº App å¯åŠ¨é˜¶æ®µï¼Œç”¨æˆ·åœ¨å¼€å±é¡µé¢å¡ä½ 20s åä»€ä¹ˆéƒ½åšä¸äº†ç´§æ¥ç€ App å°±é—ªé€€äº†ã€‚è¿™ç§ä½“éªŒå¯¹ç”¨æˆ·çš„ä¼¤å®³æ¯”æ™®é€šçš„å´©æºƒæ›´åŠ ä¸¥é‡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åœ¨å¡æ­»ç›‘æ§ä¸Šçº¿ä¹‹åˆï¼Œä»Šæ—¥å¤´æ¡ App æ¯å¤©å¡æ­»å´©æºƒå‘ç”Ÿçš„é‡çº§å¤§æ¦‚æ˜¯æ™®é€šå´©æºƒçš„ 3 å€ï¼Œå¯è§å¦‚æœä¸åšä»»ä½•æ²»ç†çš„è¯ï¼Œè¿™ç±»é—®é¢˜çš„å‘ç”Ÿé‡çº§æ˜¯éå¸¸å¤§çš„ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;OOM å´©æºƒä¹Ÿæ˜¯ç”± &lt;code&gt;SIGKILL&lt;/code&gt; å¼‚å¸¸ä¿¡å·æœ€ç»ˆè§¦å‘çš„ï¼Œç›®å‰ OOM å´©æºƒä¸»æµçš„ç›‘æ§åŸç†è¿˜æ˜¯æ’é™¤æ³•ã€‚ä¸è¿‡ä¼ ç»Ÿæ–¹æ¡ˆåœ¨åšæ’é™¤æ³•çš„æ—¶å€™æ¼æ‰äº†ä¸€ç±»é‡çº§éå¸¸å¤§çš„å…¶ä»–ç±»å‹çš„å´©æºƒå°±æ˜¯è¿™é‡Œçš„å¡æ­»å´©æºƒã€‚å¦‚æœèƒ½å‡†ç¡®çš„ç›‘æ§åˆ°å¡æ­»å´©æºƒï¼Œä¹ŸåŒæ ·èƒ½å¤§å¤§æé«˜ OOM å´©æºƒç›‘æ§çš„å‡†ç¡®æ€§ã€‚å…³äº OOM å´©æºƒçš„å…·ä½“ç›‘æ§åŸç†å’Œä¼˜åŒ–æ€è·¯å¯ä»¥å‚è€ƒï¼š&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI1MzYzMjE0MQ==&amp;amp;mid=2247486858&amp;amp;idx=1&amp;amp;sn=ec5964b0248b3526836712b26ef1b077&amp;amp;chksm=e9d0c668dea74f7e1e16cd5d65d1436c28c18e80e32bbf9703771bd4e0563f64723294ba1324&amp;amp;token=1483621236&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;iOS æ€§èƒ½ä¼˜åŒ–å®è·µï¼šå¤´æ¡æŠ–éŸ³å¦‚ä½•å®ç° OOM å´©æºƒç‡ä¸‹é™ 50%+&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› æ­¤ï¼ŒåŸºäºä»¥ä¸Šä¿¡æ¯æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šå¡æ­»å´©æºƒçš„ç›‘æ§å’Œæ²»ç†æ˜¯éå¸¸æœ‰å¿…è¦çš„ã€‚ç»è¿‡è¿‘ 2 å¹´çš„ç›‘æ§å’Œæ²»ç†ï¼Œç›®å‰ä»Šæ—¥å¤´æ¡ App å¡æ­»å´©æºƒæ¯å¤©å‘ç”Ÿçš„é‡çº§å¤§è‡´å’Œæ™®é€šå´©æºƒæŒå¹³ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¡æ­»å´©æºƒç›‘æ§åŸç†&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¡é¡¿ç›‘æ§åŸç†&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ä»ç”¨æˆ·ä½“éªŒå‡ºå‘çš„è¯ï¼Œå¡æ­»çš„å®šä¹‰å°±æ˜¯é•¿æ—¶é—´å¡ä½å¹¶ä¸”æœ€ç»ˆä¹Ÿæ²¡æœ‰æ¢å¤çš„é‚£éƒ¨åˆ†å¡é¡¿ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°±å…ˆå›é¡¾ä¸€ä¸‹å¡é¡¿ç›‘æ§çš„åŸç†ã€‚æˆ‘ä»¬çŸ¥é“åœ¨ iOS ç³»ç»Ÿä¸­ï¼Œä¸»çº¿ç¨‹ç»å¤§éƒ¨åˆ†è®¡ç®—æˆ–è€…ç»˜åˆ¶ä»»åŠ¡éƒ½æ˜¯ä»¥ &lt;code&gt;runloop&lt;/code&gt; ä¸ºå•ä½å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„ã€‚å•æ¬¡ &lt;code&gt;runloop&lt;/code&gt; å¾ªç¯å¦‚æœæ—¶é•¿è¶…è¿‡ 16msï¼Œå°±ä¼šå¯¼è‡´ UI ä½“éªŒçš„å¡é¡¿ã€‚é‚£å¦‚ä½•æ£€æµ‹å•æ¬¡ &lt;code&gt;runloop&lt;/code&gt; çš„è€—æ—¶å‘¢ï¼Ÿ&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.5203125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75Nyade54J1PC12ebfhThg3v25qsVLhcR8SJRfTLdkXsncGXtz5KJVwfj2NqQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬æ³¨å†Œä¸€ä¸ª &lt;code&gt;runloop&lt;/code&gt; ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„è§‚å¯Ÿè€…ï¼Œé‚£ä¹ˆåœ¨ &lt;code&gt;afterWaiting=&amp;gt;beforeTimersï¼ŒbeforeTimers=&amp;gt;beforeSources&lt;/code&gt; ä»¥åŠ &lt;code&gt;beforeSources=&amp;gt;beforeWaiting&lt;/code&gt; è¿™ä¸‰ä¸ªé˜¶æ®µéƒ½æœ‰å¯èƒ½å‘ç”Ÿè€—æ—¶æ“ä½œã€‚æ‰€ä»¥å¯¹äºå¡é¡¿é—®é¢˜çš„ç›‘æ§åŸç†å¤§æ¦‚åˆ†ä¸ºä¸‹é¢å‡ æ­¥ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ³¨å†Œ &lt;code&gt;runloop&lt;/code&gt; ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„è§‚å¯Ÿè€…ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åœ¨ &lt;code&gt;runloop&lt;/code&gt; ç”Ÿå‘½å‘¨æœŸå›è°ƒä¹‹é—´æ£€æµ‹è€—æ—¶ï¼Œä¸€æ—¦æ£€æµ‹åˆ°é™¤ä¼‘çœ é˜¶æ®µä¹‹å¤–çš„å…¶ä»–ä»»æ„ä¸€ä¸ªé˜¶æ®µè€—æ—¶è¶…è¿‡æˆ‘ä»¬é¢„å…ˆè®¾å®šçš„å¡é¡¿é˜ˆå€¼ï¼Œåˆ™è§¦å‘å¡é¡¿åˆ¤å®šå¹¶ä¸”è®°å½•å½“æ—¶çš„è°ƒç”¨æ ˆã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åœ¨åˆé€‚çš„æ—¶æœºä¸ŠæŠ¥åˆ°åç«¯å¹³å°åˆ†æã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•´ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.4015625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadeCHGiaWN6QTUs7sn2B5sLIkqajxcLHeLnQFAq8k7e22sHuee0Dra4M7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¦‚ä½•åˆ¤å®šä¸€æ¬¡å¡é¡¿ä¸ºä¸€æ¬¡å¡æ­»&lt;br/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®é€šè¿‡ä¸Šé¢çš„ä¸€äº›æ€»ç»“æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œé•¿æ—¶é—´çš„å¡é¡¿æœ€ç»ˆæ— è®ºæ˜¯è§¦å‘äº†ç³»ç»Ÿçš„å¡æ­»å´©æºƒï¼Œè¿˜æ˜¯ç”¨æˆ·å¿å—ä¸äº†ä¸»åŠ¨ç»“æŸè¿›ç¨‹æˆ–è€…é€€åå°ï¼Œä»–ä»¬çš„å…±åŒç‰¹å¾å°±æ˜¯å‘ç”Ÿäº†é•¿æœŸæ—¶é—´å¡é¡¿ä¸”æœ€ç»ˆæ²¡æœ‰æ¢å¤ï¼Œé˜»æ–­äº†ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨æµç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºäºè¿™ä¸ªç†è®ºçš„æŒ‡å¯¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ä¸ªæµç¨‹æ¥åˆ¤å®šæŸæ¬¡å¡é¡¿åˆ°åº•æ˜¯ä¸æ˜¯å¡æ­»ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æŸæ¬¡é•¿æ—¶é—´çš„å¡é¡¿è¢«æ£€æµ‹åˆ°ä¹‹åï¼Œè®°å½•å½“æ—¶æ‰€æœ‰çº¿ç¨‹çš„è°ƒç”¨æ ˆï¼Œå­˜åˆ°æ•°æ®åº“ä¸­ä½œä¸ºå¡æ­»å´©æºƒçš„æ€€ç–‘å¯¹è±¡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å‡å¦‚åœ¨å½“å‰ &lt;code&gt;runloop&lt;/code&gt; çš„å¾ªç¯ä¸­è¿›å…¥åˆ°äº†ä¸‹ä¸€ä¸ªæ´»è·ƒçŠ¶æ€ï¼Œé‚£ä¹ˆè¯¥å¡é¡¿ä¸æ˜¯ä¸€æ¬¡å¡æ­»ï¼Œå°±ä»æ•°æ®åº“ä¸­åˆ é™¤è¯¥æ¡æ—¥å¿—ã€‚æœ¬æ¬¡ä½¿ç”¨å‘¨æœŸå†…ï¼Œä¸‹æ¬¡é•¿æ—¶é—´çš„å¡é¡¿è§¦å‘æ—¶å†é‡æ–°å†™å…¥ä¸€æ¡æ—¥å¿—ä½œä¸ºæ€€ç–‘å¯¹è±¡ï¼Œä¾æ­¤ç±»æ¨ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶æ£€æµ‹ä¸Šä¸€æ¬¡å¯åŠ¨æœ‰æ²¡æœ‰å¡æ­»çš„æ—¥å¿—ï¼ˆç”¨æˆ·ä¸€æ¬¡ä½¿ç”¨å‘¨æœŸæœ€å¤šåªä¼šå‘ç”Ÿä¸€æ¬¡å¡æ­»ï¼‰ï¼Œå¦‚æœæœ‰ï¼Œè¯´æ˜ç”¨æˆ·ä¸Šä¸€æ¬¡ä½¿ç”¨æœŸé—´æœ€ç»ˆé‡åˆ°äº†ä¸€æ¬¡é•¿æ—¶é—´çš„å¡é¡¿ï¼Œä¸”æœ€ç»ˆ runloop ä¹Ÿæ²¡èƒ½è¿›å…¥ä¸‹ä¸€ä¸ªæ´»è·ƒçŠ¶æ€ï¼Œåˆ™æ ‡è®°ä¸ºä¸€æ¬¡å¡æ­»å´©æºƒä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.4609375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadePt7iaxR1LicZJ0K4kxZmIbWHtSsu6zFbg1ns8VzxW9oAQBojibhe5fHmQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šè¿‡è¿™å¥—æµç¨‹åˆ†æä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æ£€æµ‹åˆ°ç³»ç»Ÿçš„å¡æ­»å´©æºƒï¼Œä¹Ÿå¯ä»¥æ£€æµ‹åˆ°ç”¨æˆ·å¿å—ä¸äº†é•¿æ—¶é—´å¡é¡¿æœ€ç»ˆæ€æ‰åº”ç”¨æˆ–è€…é€€åå°ä¹‹åè¢«ç³»ç»Ÿæ€æ­»ç­‰è¡Œä¸ºï¼Œè¿™äº›åœºæ™¯è™½ç„¶å¹¶æ²¡æœ‰å®é™…è§¦å‘ç³»ç»Ÿçš„å¡æ­»å´©æºƒï¼Œä½†æ˜¯ä¸¥é‡ç¨‹åº¦å…¶å®æ˜¯ç­‰åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´æœ¬æ–‡æåˆ°çš„å¡æ­»å´©æºƒç›‘æ§èƒ½åŠ›æ˜¯ç³»ç»Ÿå¡æ­»å´©æºƒçš„è¶…é›†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¡æ­»æ—¶é—´çš„é˜ˆå€¼å¦‚ä½•ç¡®å®š&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç³»ç»Ÿçš„å¡æ­»å´©æºƒæ—¥å¿—æ ¼å¼æˆªå–éƒ¨åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ExceptionÂ Type:Â Â EXC_CRASHÂ (SIGKILL)&lt;br/&gt;ExceptionÂ Codes:Â 0x0000000000000000,Â 0x0000000000000000&lt;br/&gt;ExceptionÂ Note:Â Â EXC_CORPSE_NOTIFYTermination&lt;br/&gt;Reason:Â NamespaceÂ ASSERTIOND,Â CodeÂ 0x8badf00d&lt;br/&gt;TriggeredÂ byÂ Thread:Â Â 0&lt;br/&gt;TerminationÂ Description:Â SPRINGBOARD,Â scene-&lt;span&gt;create&lt;/span&gt;Â watchdogÂ transgression:Â application&amp;lt;com.ss.iphone.article.News&amp;gt;:&lt;span&gt;2135&lt;/span&gt;Â exhaustedÂ &lt;span&gt;real&lt;/span&gt;Â (wallÂ clock)Â &lt;span&gt;time&lt;/span&gt;Â allowanceÂ &lt;span&gt;of&lt;/span&gt;Â &lt;span&gt;19.83&lt;/span&gt;Â &lt;span&gt;seconds&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹åˆ° iOS ç³»ç»Ÿçš„ä¿æŠ¤æœºåˆ¶åªæœ‰åœ¨ App å¡æ­»æ—¶é—´è¶…è¿‡ä¸€ä¸ªå¼‚å¸¸é˜ˆå€¼ä¹‹åæ‰ä¼šè§¦å‘ï¼Œé‚£ä¹ˆè¿™ä¸ªå¡æ­»æ—¶é—´çš„é˜ˆå€¼å°±æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„å‚æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é—æ†¾çš„æ˜¯ï¼Œç›®å‰æ²¡æœ‰å®˜æ–¹çš„æ–‡æ¡£æˆ–è€… apiï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°ç³»ç»Ÿåˆ¤å®šå¡æ­»å´©æºƒçš„é˜ˆå€¼ã€‚è¿™é‡Œ &lt;code&gt;exhausted real (wall clock) time allowance of 19.83 seconds&lt;/code&gt; å…¶ä¸­çš„ 19.83 å¹¶ä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„æ•°å­—ï¼Œåœ¨ä¸åŒçš„ä½¿ç”¨é˜¶æ®µï¼Œä¸åŒç³»ç»Ÿç‰ˆæœ¬çš„å®ç°é‡Œéƒ½å¯èƒ½æœ‰å·®å¼‚ï¼Œåœ¨ä¸€äº›ç³»ç»Ÿçš„å´©æºƒæ—¥å¿—ä¸­ä¹Ÿé‡åˆ°è¿‡ 10s çš„ caseã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œä¸ºäº†è¦†ç›–åˆ°å¤§éƒ¨åˆ†ç”¨æˆ·å¯ä»¥æ„ŸçŸ¥åˆ°çš„åœºæ™¯ï¼Œå±è”½ä¸åŒç³»ç»Ÿç‰ˆæœ¬å®ç°çš„å·®å¼‚ï¼Œæˆ‘ä»¬è®¤ä¸ºç³»ç»Ÿè§¦å‘å¡æ­»å´©æºƒçš„æ—¶é—´é˜ˆå€¼ä¸º 10sï¼Œå®é™…ä¸Šæœ‰ç›¸å½“ä¸€éƒ¨åˆ†ç”¨æˆ·åœ¨é‡åˆ° App é•¿æ—¶é—´å¡é¡¿çš„æ—¶å€™ä¼šä¹ æƒ¯æ€§çš„æ‰‹åŠ¨ç»“æŸè¿›ç¨‹é‡å¯è€Œä¸æ˜¯ä¸€ç›´ç­‰å¾…ï¼Œå› æ­¤è¿™ä¸ªé˜ˆå€¼ä¸å®œè¿‡é•¿ã€‚ä¸ºäº†ç»™è§¦å‘å¡æ­»åˆ¤å®šä¹‹åçš„æŠ“æ ˆï¼Œæ—¥å¿—å†™å…¥ç­‰æ“ä½œé¢„ç•™è¶³å¤Ÿçš„æ—¶é—´ï¼Œæ‰€ä»¥æœ€ç»ˆæœ¬æ–¹æ¡ˆçš„å¡æ­»æ—¶é—´é˜ˆå€¼ç¡®å®šä¸º 8sã€‚å‘ç”Ÿ 8s å¡æ­»çš„æ¦‚ç‡æ¯”å‘ç”Ÿå‡ ç™¾ ms å¡é¡¿çš„æ¦‚ç‡è¦ä½çš„å¤šï¼Œå› æ­¤è¯¥å¡æ­»ç›‘æ§æ–¹æ¡ˆå¹¶æ²¡æœ‰å¤ªå¤§çš„æ€§èƒ½æŸè€—ï¼Œä¹Ÿå°±å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯¹å…¨é‡ç”¨æˆ·å¼€æ”¾ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¦‚ä½•æ£€æµ‹åˆ°ç”¨æˆ·ä¸€æ¬¡å¡æ­»çš„æ—¶é—´&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å¡æ­»å‘ç”Ÿä¹‹åï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¹Ÿä¼šå…³æ³¨ä¸€æ¬¡å¡æ­»æœ€ç»ˆåˆ°åº•å¡ä½äº†å¤šä¹…ï¼Œå¡æ­»æ—¶é—´è¶Šé•¿ï¼Œå¯¹ç”¨æˆ·ä½¿ç”¨ä½“éªŒçš„ä¼¤å®³ä¹Ÿå°±è¶Šå¤§ï¼Œæ›´åº”è¯¥è¢«é«˜ä¼˜è§£å†³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è§¦å‘å¡æ­»é˜ˆå€¼ä¹‹åæˆ‘ä»¬å¯ä»¥å†ä»¥ä¸€ä¸ªæ—¶é—´é—´éš”æ¯”è¾ƒçŸ­çš„å®šæ—¶å™¨ï¼ˆç›®å‰ç­–ç•¥é»˜è®¤ 1sï¼Œçº¿ä¸Šå¯è°ƒæ•´ï¼‰ï¼Œæ¯éš” 1s å°±æ£€æµ‹å½“å‰ &lt;code&gt;runloop&lt;/code&gt; æœ‰æ²¡æœ‰è¿›å…¥åˆ°ä¸‹ä¸€ä¸ªæ´»è·ƒçŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å½“å‰çš„å¡æ­»æ—¶é—´å°±ç´¯åŠ  1sï¼Œç”¨è¿™ç§æ–¹å¼å³ä½¿æœ€ç»ˆå‘ç”Ÿäº†é—ªé€€ä¹Ÿå¯ä»¥é€¼è¿‘å®é™…çš„å¡æ­»æ—¶é—´ï¼Œè¯¯å·®ä¸è¶…è¿‡ 1sï¼Œæœ€ç»ˆçš„å¡æ­»æ—¶é—´ä¹Ÿä¼šå†™å…¥åˆ°æ—¥å¿—ä¸­ä¸€èµ·ä¸ŠæŠ¥ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.43733333333333335&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadeNoBBcmXkPrtB4B00fHaBURwIwo4kjZrvLCweibCN05v8Oa9sIvy29dA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;750&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯è¿™ç§æ–¹æ¡ˆåœ¨ä¸Šçº¿åé‡åˆ°äº†ä¸€äº›å¡æ­»æ—¶é•¿ç‰¹åˆ«é•¿çš„ caseï¼Œè¿™ç§é—®é¢˜å¤šå‘ç”Ÿåœ¨ App åˆ‡åå°çš„åœºæ™¯ã€‚å› ä¸ºåœ¨åå°æƒ…å†µä¸‹ï¼ŒApp çš„è¿›ç¨‹ä¼šè¢«æŒ‚èµ·(suspend)åï¼Œå°±å¯èƒ½è¢«åˆ¤å®šä¸ºæŒç»­å¾ˆä¹…çš„å¡æ­»çŠ¶æ€ã€‚è€Œæˆ‘ä»¬åœ¨è®¡ç®—å¡æ­»æ—¶é—´çš„æ—¶å€™ï¼Œé‡‡ç”¨çš„æ˜¯ç°å®ä¸–ç•Œçš„æ—¶é—´å·®ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰ App åœ¨åå°è¢«æŒ‚èµ· 10s ååˆæ¢å¤æ—¶ï¼Œæˆ‘ä»¬ä¼šè®¤ä¸º App å¡æ­»äº† 10sï¼Œè½»æ˜“çš„è¶…è¿‡äº†æˆ‘ä»¬è®¾å®šçš„å¡æ­»é˜ˆå€¼ï¼Œä½†å…¶å® App å¹¶æ²¡æœ‰çœŸæ­£å¡æ­»ï¼Œè€Œæ˜¯æ“ä½œç³»ç»Ÿçš„è°ƒåº¦è¡Œä¸ºã€‚è¿™ç§è¯¯æŠ¥å¸¸å¸¸æ˜¯ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸçš„ã€‚è¯¯æŠ¥çš„åœºæ™¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.51875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75Nyade3fACkT1ME5v3Wb1zIxM4a8n6hemgYrYK1F19hPmgVLeZmSM8RLmbUw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¦‚ä½•è§£å†³ä¸»çº¿ç¨‹è°ƒç”¨æ ˆå¯èƒ½æœ‰è¯¯æŠ¥çš„é—®é¢˜&lt;br/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨å¤šæ®µç­‰å¾…çš„æ–¹å¼æ¥é™ä½çº¿ç¨‹è°ƒåº¦ã€æŒ‚èµ·å¯¼è‡´çš„ç¨‹åºè¿è¡Œæ—¶é—´ä¸ç°å®æ—¶é—´ä¸åŒ¹é…çš„é—®é¢˜ï¼Œä»¥ä¸‹å›¾ä¸ºä¾‹ã€‚åœ¨ 8s çš„å¡æ­»é˜ˆå€¼å‰ï¼Œé‡‡ç”¨é—´éš”ç­‰å¾…çš„æ–¹å¼ï¼Œæ¯éš” 1s è¿›è¡Œä¸€æ¬¡ç­‰å¾…ã€‚ç­‰å¾…è¶…æ—¶åå¯¹å½“å‰å¡æ­»çš„æ—¶é—´è¿›è¡Œç´¯åŠ  1sã€‚å¦‚æœåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒApp è¢«æŒ‚èµ·ï¼Œæ— è®ºè¢«æŒ‚èµ·å¤šä¹…ï¼Œå†æ¢å¤æ—¶æœ€å¤šä¼šé€ æˆ 1s çš„è¯¯å·®ï¼Œè¿™ä¸ä¹‹å‰çš„æ–¹æ¡ˆç›¸æ¯”æå¤§çš„å¢åŠ äº†ç¨³å®šæ€§å’Œå‡†ç¡®æ€§ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.434375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadeplOZ827THRxuwGA4GiagKgMEnBIib3wpMlamTWJ7lCEocuAHR7XHayVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦å¤–ï¼Œå¾…å¡æ­»æ—¶é—´è¶…è¿‡äº†è®¾å®šçš„å¡æ­»é˜ˆå€¼åï¼Œä¼šå¯¹å…¨çº¿ç¨‹è¿›è¡ŒæŠ“æ ˆã€‚ä½†æ˜¯ä»…å‡­è¿™ä¸€æ—¶åˆ»çš„çº¿ç¨‹è°ƒç”¨æ ˆå¹¶ä¸ä¿è¯èƒ½å¤Ÿå‡†ç¡®å®šä½é—®é¢˜ã€‚å› ä¸ºæ­¤æ—¶ä¸»çº¿ç¨‹æ‰§è¡Œçš„å¯èƒ½æ˜¯ä¸€ä¸ªéè€—æ—¶ä»»åŠ¡ï¼ŒçœŸæ­£è€—æ—¶çš„ä»»åŠ¡å·²ç»ç»“æŸï¼›æˆ–è€…åœ¨åç»­ä¼šå‘ç”Ÿä¸€ä¸ªæ›´åŠ è€—æ—¶çš„ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡æ‰æ˜¯é€ æˆå¡æ­»çš„å…³é”®ã€‚å› æ­¤ï¼Œä¸ºäº†å¢åŠ å¡æ­»è°ƒç”¨æ ˆçš„ç½®ä¿¡åº¦ï¼Œåœ¨è¶…è¿‡å¡æ­»é˜ˆå€¼åï¼Œæ¯éš” 1s è¿›è¡Œä¸€æ¬¡é—´éš”ç­‰å¾…çš„åŒæ—¶ï¼Œå¯¹å½“å‰ä¸»çº¿ç¨‹çš„å †æ ˆè¿›è¡ŒæŠ“å–ã€‚ä¸ºäº†é¿å…å¡æ­»æ—¶é—´è¿‡é•¿é€ æˆçš„çº¿ç¨‹è°ƒç”¨æ ˆæ•°é‡è†¨èƒ€ï¼Œæœ€å¤šä¼šä¿ç•™è·ç¦» App å¼‚å¸¸é€€å‡ºå‰çš„æœ€è¿‘ 10 æ¬¡ä¸»çº¿ç¨‹è°ƒç”¨æ ˆã€‚ç»è¿‡å¤šæ¬¡é—´éš”ç­‰å¾…ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åœ¨ App å¼‚å¸¸é€€å‡ºå‰ä¸»çº¿ç¨‹éšç€æ—¶é—´å˜åŒ–çš„ä¸€ç»„å‡½æ•°è°ƒç”¨æ ˆã€‚é€šè¿‡è¿™ç»„å‡½æ•°è°ƒç”¨æ ˆï¼Œæˆ‘ä»¬å¯ä»¥å®šä½åˆ°ä¸»çº¿ç¨‹çœŸæ­£å¡æ­»çš„åŸå› ï¼Œå¹¶ç»“åˆå¡æ­»æ—¶é—´è¶…è¿‡é˜ˆå€¼æ—¶è·å–çš„å…¨çº¿ç¨‹è°ƒç”¨æ ˆè¿›ä¸€æ­¥å®šä½å¡æ­»åŸå› ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€ç»ˆçš„ç›‘æ§æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.5265625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75Nyade4c63UWFah6wic5XfHaazq7QWGOl40WGj7rgU2jiaQlftrH9UnYsVWHFw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºå›¾ç‰‡å¤§å°çš„é™åˆ¶ï¼Œè¿™é‡Œä»…ä»…æˆªäº†å¡æ­»å´©æºƒä¹‹å‰æœ€åä¸€æ¬¡çš„ä¸»çº¿ç¨‹è°ƒç”¨æ ˆï¼Œå®é™…ä½¿ç”¨çš„æ—¶å€™å¯ä»¥æŸ¥çœ‹å´©æºƒä¹‹å‰ä¸€æ®µæ—¶é—´å†…æ¯ä¸€ç§’çš„è°ƒç”¨æ ˆï¼Œå¦‚æœå‘ç°æ¯ä¸€æ¬¡ä¸»çº¿ç¨‹çš„è°ƒç”¨æ ˆéƒ½æ²¡æœ‰å˜åŒ–ï¼Œé‚£å°±èƒ½ç¡®è®¤è¿™ä¸ªå¡æ­»é—®é¢˜ä¸æ˜¯è¯¯æŠ¥ï¼Œä¾‹å¦‚è¿™é‡Œå°±æ˜¯ä¸€æ¬¡å¼‚å¸¸çš„è·¨è¿›ç¨‹é€šä¿¡å¯¼è‡´çš„å¡æ­»ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¡æ­»å´©æºƒå¸¸è§é—®é¢˜å½’ç±»åŠæœ€ä½³å®è·µ&lt;/h1&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¤šçº¿ç¨‹æ­»é”&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”è¾ƒå¸¸è§çš„å°±æ˜¯åœ¨ &lt;code&gt;dispatch_once&lt;/code&gt; ä¸­å­çº¿ç¨‹åŒæ­¥è®¿é—®ä¸»çº¿ç¨‹ï¼Œæœ€ç»ˆé€ æˆæ­»é”çš„é—®é¢˜ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿™ä¸ªæ­»é”çš„å¤ç°æ­¥éª¤æ˜¯ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;1.0743243243243243&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadeDnMibZHWGQBN7I06VAXD4d6KjBTdhB2EqquLbmiavc6tAugt6oibD5cCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1184&quot;/&gt;&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å­çº¿ç¨‹å…ˆè¿›å…¥ &lt;code&gt;dispatch_once&lt;/code&gt; çš„ block ä¸­å¹¶åŠ é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç„¶åä¸»çº¿ç¨‹å†è¿›å…¥ &lt;code&gt;dispatch_once&lt;/code&gt; å¹¶ç­‰å¾…å­çº¿ç¨‹è§£é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å­çº¿ç¨‹åˆå§‹åŒ–æ—¶è§¦å‘äº† &lt;code&gt;CTTelephonyNetworkInfo&lt;/code&gt; å¯¹è±¡åˆå§‹åŒ–æŠ›å‡ºäº†ä¸€ä¸ªé€šçŸ¥å´è¦æ±‚ä¸»çº¿ç¨‹åŒæ­¥å“åº”ï¼Œè¿™å°±é€ æˆäº†ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹å› ä¸ºäº’ç›¸ç­‰å¾…è€Œæ­»é”ï¼Œæœ€ç»ˆè§¦å‘äº†å¡æ­»å´©æºƒã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œçš„å…¶å®æ˜¯è¸©åˆ°äº† &lt;code&gt;CTTelephonyNetworkInfo&lt;/code&gt; ä¸€ä¸ªæ½œåœ¨çš„å‘ã€‚å¦‚æœè¿™é‡Œæ›¿æ¢æˆä¸€æ®µ &lt;code&gt;dispatch_sync&lt;/code&gt; åˆ° &lt;code&gt;dispatch_get_main_queue()&lt;/code&gt;çš„ä»£ç ï¼Œæ•ˆæœè¿˜æ˜¯ç­‰åŒçš„ï¼ŒåŒæ ·æœ‰å¡æ­»å´©æºƒçš„é£é™©ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€ä½³å®è·µ&lt;span/&gt;&lt;/h3&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;code&gt;dispatch_once&lt;/code&gt; ä¸­ä¸è¦æœ‰åŒæ­¥åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ–¹æ³•ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;&lt;code&gt;CTTelephonyNetworkInfo&lt;/code&gt; æœ€å¥½åœ¨ &lt;code&gt;+load&lt;/code&gt;æ–¹æ³•æˆ–è€… &lt;code&gt;main&lt;/code&gt; æ–¹æ³•ä¹‹å‰çš„å…¶ä»–æ—¶æœºæå‰åˆå§‹åŒ–ä¸€ä¸ªå…±äº«çš„å®ä¾‹ï¼Œé¿å…è¸©åˆ°å­çº¿ç¨‹æ‡’åŠ è½½æ—¶å€™è¦æ±‚ä¸»çº¿ç¨‹åŒæ­¥å“åº”çš„å‘ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸»çº¿ç¨‹æ‰§è¡Œä»£ç ä¸å­çº¿ç¨‹è€—æ—¶æ“ä½œå­˜åœ¨é”ç«äº‰&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªæ¯”è¾ƒå…¸å‹çš„é—®é¢˜æ˜¯å¡æ­»åœ¨&lt;code&gt;-[YYDiskCache containsObjectForKey:]&lt;/code&gt;ï¼Œ&lt;code&gt;YYDiskCache&lt;/code&gt; å†…éƒ¨é’ˆå¯¹ç£ç›˜å¤šçº¿ç¨‹è¯»å†™æ“ä½œï¼Œé€šè¿‡ä¸€ä¸ªä¿¡å·é‡é”ä¿è¯äº’æ–¥ã€‚é€šè¿‡åˆ†æå¡æ­»å †æ ˆå¯ä»¥å‘ç°æ˜¯å­çº¿ç¨‹å ç”¨é”èµ„æºè¿›è¡Œè€—æ—¶çš„å†™æ“ä½œæˆ–æ¸…ç†æ“ä½œå¼•å‘ä¸»çº¿ç¨‹å¡æ­»ï¼Œé—®é¢˜å‘ç”Ÿæ—¶ä¸€èˆ¬å¯ä»¥å‘ç°å¦‚ä¸‹çš„å­çº¿ç¨‹è°ƒç”¨æ ˆï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.4608333333333333&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75NyadecuGOATny1heickseSsCYgibJQKYqD7WKxhFQEREnfZC5XicgzFphjVo6g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1200&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€ä½³å®è·µ&lt;span/&gt;&lt;br/&gt;&lt;/h3&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æœ‰å¯èƒ½å­˜åœ¨é”ç«äº‰çš„ä»£ç å°½é‡ä¸åœ¨ä¸»çº¿ç¨‹åŒæ­¥æ‰§è¡Œã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦‚æœä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹ä¸å¯é¿å…çš„å­˜åœ¨ç«äº‰æ—¶ï¼ŒåŠ é”çš„ç²’åº¦è¦å°½é‡å°ï¼Œæ“ä½œè¦å°½é‡è½»ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç£ç›˜ IO è¿‡äºå¯†é›†&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤ç±»é—®é¢˜ï¼Œè¡¨ç°å½¢å¼å¯èƒ½å¤šç§å¤šæ ·ï¼Œä½†æ˜¯å½’æ ¹ç»“åº•éƒ½æ˜¯å› ä¸ºç£ç›˜ IO è¿‡äºå¯†é›†æœ€ç»ˆå¯¼è‡´ä¸»çº¿ç¨‹ç£ç›˜ IO è€—æ—¶è¿‡é•¿ã€‚å…¸å‹ case:&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸»çº¿ç¨‹å‹ç¼©/è§£å‹ç¼©ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸»çº¿ç¨‹åŒæ­¥å†™å…¥æ•°æ®åº“ï¼Œæˆ–è€…ä¸å­çº¿ç¨‹å¯èƒ½çš„è€—æ—¶æ“ä½œï¼ˆä¾‹å¦‚ &lt;code&gt;sqlite&lt;/code&gt; çš„ &lt;code&gt;vaccum&lt;/code&gt; æˆ–è€… &lt;code&gt;checkpoint&lt;/code&gt; ç­‰ï¼‰å¤ç”¨åŒä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—åŒæ­¥å†™å…¥ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸»çº¿ç¨‹ç£ç›˜ IO æ¯”è¾ƒè½»é‡ï¼Œä½†æ˜¯å­çº¿ç¨‹ IO è¿‡äºå¯†é›†ï¼Œå¸¸å‘ç”Ÿäºä¸€äº›ä½ç«¯è®¾å¤‡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€ä½³å®è·µ&lt;span/&gt;&lt;/h3&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;æ•°æ®åº“è¯»å†™ï¼Œæ–‡ä»¶å‹ç¼©/è§£å‹ç¼©ç­‰ç£ç›˜ IO è¡Œä¸ºä¸æ”¾åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¦‚æœå­˜åœ¨ä¸»çº¿ç¨‹å°†ä»»åŠ¡åŒæ­¥åˆ°ä¸²è¡Œé˜Ÿåˆ—ä¸­æ‰§è¡Œçš„åœºæ™¯ï¼Œç¡®ä¿è¿™äº›ä»»åŠ¡ä¸ä¸å­çº¿ç¨‹å¯èƒ½å­˜åœ¨çš„è€—æ—¶æ“ä½œå¤ç”¨åŒä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¯¹äºä¸€äº›å¯åŠ¨é˜¶æ®µéå¿…è¦åŒæ­¥åŠ è½½å¹¶ä¸”æœ‰æ¯”è¾ƒå¯†é›†ç£ç›˜ IO è¡Œä¸ºçš„ SDKï¼Œå¦‚å„ç§æ”¯ä»˜åˆ†äº«ç­‰ç¬¬ä¸‰æ–¹ SDK éƒ½å¯ä»¥å»¶è¿Ÿï¼Œé”™å¼€åŠ è½½ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç³»ç»Ÿ api åº•å±‚å®ç°å­˜åœ¨è·¨è¿›ç¨‹é€šä¿¡&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºè·¨è¿›ç¨‹é€šä¿¡éœ€è¦ä¸å…¶ä»–è¿›ç¨‹åŒæ­¥ï¼Œä¸€æ—¦å…¶ä»–è¿›ç¨‹å‘ç”Ÿå¼‚å¸¸æˆ–è€…æŒ‚èµ·ï¼Œå¾ˆæœ‰å¯èƒ½é€ æˆå½“å‰ App å¡æ­»ã€‚å…¸å‹ caseï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;UIPasteBoard&lt;/code&gt;ï¼Œç‰¹åˆ«æ˜¯ &lt;code&gt;OpenUDID&lt;/code&gt;ã€‚å› ä¸º &lt;code&gt;OpenUDID&lt;/code&gt; è¿™ä¸ªåº“ä¸ºäº†è·¨ App å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„ UDIDï¼Œé€šè¿‡åˆ›å»ºå‰ªåˆ‡æ¿å’Œè¯»å–å‰ªåˆ‡æ¿çš„æ–¹å¼æ¥å®ç°çš„è·¨ App é€šä¿¡ï¼Œå¤–éƒ¨æ¯æ¬¡è°ƒç”¨ &lt;code&gt;OpenUDID&lt;/code&gt; æ¥è·å–ä¸€æ¬¡ UDIDï¼ŒOpenUDID å†…éƒ¨éƒ½ä¼šå¾ªç¯ 100 æ¬¡ï¼Œä»å‰ªåˆ‡æ¿è·å– UDIDï¼Œå¹¶é€šè¿‡æ’åºè·å¾—å‡ºç°é¢‘ç‡æœ€é«˜çš„é‚£ä¸ª UDIDï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæµç¨‹å¯èƒ½æœ€ç»ˆä¼šå¯¼è‡´è®¿é—®å‰ªåˆ‡æ¿å¡æ­»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;NSUserDefaults&lt;/code&gt; åº•å±‚å®ç°ä¸­å­˜åœ¨ç›´æ¥æˆ–è€…é—´æ¥çš„è·¨è¿›ç¨‹é€šä¿¡ï¼Œåœ¨ä¸»çº¿ç¨‹åŒæ­¥è°ƒç”¨å®¹æ˜“å‘ç”Ÿå¡æ­»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;[[UIApplication sharedApplication] openURL]&lt;/code&gt;æ¥å£ï¼Œå†…éƒ¨å®ç°ä¹Ÿå­˜åœ¨åŒæ­¥çš„è·¨è¿›ç¨‹é€šä¿¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€ä½³å®è·µ&lt;span/&gt;&lt;/h3&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;åºŸå¼ƒ &lt;code&gt;OpenUDID&lt;/code&gt; è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œä¸€äº›ä¾èµ–äº† &lt;code&gt;UIPaseteBoard&lt;/code&gt; çš„ç¬¬ä¸‰æ–¹ SDK æ¨åŠ¨ç»´æŠ¤è€…ä¸‹æ‰å¯¹ UIPasteBoard çš„ä¾èµ–å¹¶æ›´æ–°ç‰ˆæœ¬ï¼›æˆ–è€…å°†è¿™äº› SDK çš„åˆå§‹åŒ–ç»Ÿä¸€æ”¾åœ¨éä¸»çº¿ç¨‹ï¼Œä¸è¿‡ç»éªŒæ¥çœ‹å­çº¿ç¨‹åˆå§‹åŒ–å¯èƒ½æœ‰ 5%çš„å¡æ­»è½¬åŒ–ä¸ºé—ªé€€ï¼Œå› æ­¤æœ€å¥½åŠ ä¸€ä¸ªå¼€å…³é€æ­¥æ”¾é‡è§‚å¯Ÿã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¯¹äº kv ç±»å­˜å‚¨éœ€æ±‚ï¼Œå¦‚æœé‡åº¦çš„ä½¿ç”¨å¯ä»¥è€ƒè™‘ &lt;code&gt;MMKV&lt;/code&gt;ï¼Œå¦‚æœè½»åº¦çš„ä½¿ç”¨å¯ä»¥å‚è€ƒ &lt;code&gt;firebase&lt;/code&gt; çš„å®ç°è‡ªå·±é‡å†™ä¸€ä¸ªæ›´è½»é‡çš„ UserDefaults ç±»ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;iOS10 åŠä»¥ä¸Šçš„ç³»ç»Ÿç‰ˆæœ¬ä½¿ç”¨&lt;code&gt;[[UIApplication sharedApplication] openURL:options:completionHandler:]&lt;/code&gt;è¿™ä¸ªæ¥å£æ›¿æ¢ï¼Œæ­¤æ¥å£å¯ä»¥å¼‚æ­¥è°ƒèµ·ï¼Œä¸ä¼šé€ æˆå¡æ­»ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;Objective-C Runtime Lock æ­»é”&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;é—®é¢˜æè¿°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤ç±»é—®é¢˜è™½ç„¶å‡ºç°æ¦‚ç‡ä¸å¤§ï¼Œä½†æ˜¯åœ¨ä¸€äº›å¤æ‚åœºæ™¯ä¸‹ä¹Ÿæ˜¯æ—¶æœ‰å‘ç”Ÿã€‚ä¸»çº¿ç¨‹çš„è°ƒç”¨æ ˆä¸€èˆ¬éƒ½ä¼šå¡æ­»åœ¨ä¸€ä¸ªçœ‹ä¼¼å¾ˆæ™®é€šçš„ OC æ–¹æ³•è°ƒç”¨ï¼Œéå¸¸éšæ™¦ï¼Œå› æ­¤æƒ³è¦å‘ç°è¿™ç±»é—®é¢˜ï¼Œå¡æ­»ç›‘æ§æ¨¡å—æœ¬èº«å°±ä¸èƒ½ç”¨ OC è¯­è¨€å®ç°ï¼Œè€Œåº”è¯¥æ”¹ä¸º C/C++ã€‚æ­¤é—®é¢˜ä¸€èˆ¬å¤šå‘äº&lt;code&gt;_dyld_register_func_for_add_image&lt;/code&gt; å›è°ƒæ–¹æ³•ä¸­åŒæ­¥è°ƒç”¨ OC æ–¹æ³•ï¼ˆå…ˆæŒæœ‰ dyld lock åæŒæœ‰ OC runtime lockï¼‰ï¼Œä»¥åŠ OC æ–¹æ³•åŒæ­¥è°ƒç”¨ &lt;code&gt;objc_copyClassNamesForImage&lt;/code&gt; æ–¹æ³•ï¼ˆå…ˆæŒæœ‰ OC runtime lock åæŒæœ‰ dyld lockï¼‰ã€‚å…¸å‹ caseï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;dyld lockã€ selector lock å’Œ OC runtime lock ä¸‰ä¸ªé”äº’ç›¸ç­‰å¾…é€ æˆæ­»é”çš„é—®é¢˜ã€‚ä¸‰ä¸ªé”äº’ç›¸ç­‰å¾…çš„åœºæ™¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img class=&quot;rich_pages js_insertlocalimg&quot; data-ratio=&quot;0.47734375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5EcwYhllQOiaziacofGoEA5eGYP75Nyadeic3w1PTtKNQ4dWR5M6vQmhKYmAkic6bXFQ6rWdUOo4vs5BWwbcTfHszg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨æŸæ¬¡è¿­ä»£çš„è¿‡ç¨‹ä¸­ APM SDK å†…éƒ¨åˆ¤å®šè®¾å¤‡æ˜¯å¦è¶Šç‹±çš„å®ç°æ”¹ä¸ºä¾èµ– &lt;code&gt;fork&lt;/code&gt; æ–¹æ³•èƒ½å¦è°ƒç”¨æˆåŠŸï¼Œä½†æ˜¯ &lt;code&gt;fork&lt;/code&gt; æ–¹æ³•ä¼šè°ƒç”¨ &lt;code&gt;_objc_atfork_prepare&lt;/code&gt;ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè·å– objc ç›¸å…³çš„ lockï¼Œä¹‹åä¼šè°ƒç”¨ &lt;code&gt;dyld_initializer&lt;/code&gt;ï¼Œå†…éƒ¨åˆä¼šè·å– dyld lockï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬çš„æŸä¸ªçº¿ç¨‹å·²ç»æŒæœ‰äº† dyld lockï¼Œåœ¨ç­‰å¾… OC runtime lockï¼Œå°±ä¼šå¼•å‘æ­»é”ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;æœ€ä½³å®è·µ&lt;span/&gt;&lt;/h3&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ…ç”¨&lt;code&gt;_dyld_register_func_for_add_image&lt;/code&gt; å’Œ &lt;code&gt;objc_copyClassNamesForImage&lt;/code&gt; è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯ä¸ OC æ–¹æ³•åŒæ­¥è°ƒç”¨çš„åœºæ™¯ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è¶Šç‹±æ£€æµ‹ï¼Œä¸ä¾èµ– &lt;code&gt;fork&lt;/code&gt; æ–¹æ³•çš„è°ƒç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;è¯•ç”¨è·¯å¾„&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰ï¼Œå­—èŠ‚ APM ä¸­å°è‡ªç ”çš„å¡æ­»ç›‘æ§åŠŸèƒ½å·²å¯¹å¤–å¼€å‘ï¼Œæ­è½½äºå­—èŠ‚è·³åŠ¨ç«å±±å¼•æ“æ——ä¸‹çš„åº”ç”¨æ€§èƒ½ç›‘æ§å¹³å°ä¸Šï¼Œä»¥ä¾›å¤–éƒ¨å¼€å‘è€…åŠä¼ä¸šä½¿ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åº”ç”¨æ€§èƒ½ç›‘æ§å¹³å°æ‰€é›†æˆçš„ç›¸å…³æŠ€æœ¯ï¼Œç»ä»Šæ—¥å¤´æ¡ã€æŠ–éŸ³ã€è¥¿ç“œè§†é¢‘ç­‰ä¼—å¤š APP çš„æ‰“ç£¨ï¼Œå·²æ²‰æ·€å‡ºä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿå®šä½ç§»åŠ¨ç«¯ã€æµè§ˆå™¨ã€å°ç¨‹åºç­‰å¤šç«¯é—®é¢˜ï¼Œé™¤äº†æ”¯æŒå´©æºƒã€é”™è¯¯ã€å¡é¡¿ã€ç½‘ç»œç­‰åŸºç¡€é—®é¢˜çš„åˆ†æï¼Œè¿˜æä¾›å…³è”åˆ°åº”ç”¨å¯åŠ¨ã€é¡µé¢æµè§ˆã€å†…å­˜ä¼˜åŒ–çš„ä¼—å¤šèƒ½åŠ›ï¼Œç›®å‰ Demo å·²å¼€æ”¾ï¼Œæ¬¢è¿å¤§å®¶è¯•ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç«å±±å¼•æ“è¿‘æœŸé’ˆå¯¹ä¸­å°ä¼ä¸šåŠä¸ªäººå¼€å‘è€…æ¨å‡ºäº†å¢é•¿èµ‹èƒ½è®¡åˆ’â€”â€”ã€Œç«ç§è®¡åˆ’ã€ã€‚ç¬¦åˆæ¡ä»¶çš„ä¼ä¸š/å¼€å‘è€…ä»…éœ€äºå®˜ç½‘æ³¨å†Œå¹¶æäº¤ç›¸åº”ç”³è¯·ï¼Œå³å¯å…è´¹ä½¿ç”¨åº”ç”¨æ€§èƒ½ç›‘æ§è¿™ä¸€å¹³å°ï¼Œæœ‰éœ€è¦çš„åŒå­¦æŠ“ç´§ç”³è¯·å§ï½&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¦æƒ…å¯ç‚¹å‡»ä¼ é€é—¨ï¼š&lt;span&gt;&lt;strong&gt;&lt;span&gt;https://zjsms.com/ed8ktbb/&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŠ å…¥æˆ‘ä»¬&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ¬æŠ€æœ¯æ–¹æ¡ˆç”±å­—èŠ‚è·³åŠ¨ APM ä¸­å°è®¾è®¡ç ”å‘ï¼Œæ¬¢è¿å¯¹æˆ‘ä»¬å›¢é˜Ÿæ„Ÿå…´è¶£çš„åŒå­¦åŠ å…¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å­—èŠ‚è·³åŠ¨ APM ä¸­å°ç›®å‰è‡´åŠ›äºæå‡æ•´ä¸ªé›†å›¢å†…å…¨ç³»äº§å“çš„æ€§èƒ½å’Œç¨³å®šæ€§è¡¨ç°ï¼ŒæŠ€æœ¯æ ˆè¦†ç›– iOS/Android/Flutter/Web/Hybrid/PC/æ¸¸æˆ/å°ç¨‹åºç­‰ï¼Œå·¥ä½œå†…å®¹åŒ…æ‹¬ä½†ä¸é™äºçº¿ä¸Šç›‘æ§ï¼Œçº¿ä¸Šè¿ç»´ï¼Œæ·±åº¦ä¼˜åŒ–ï¼Œçº¿ä¸‹é˜²åŠ£åŒ–ç­‰ã€‚é•¿æœŸæœŸæœ›ä¸ºä¸šç•Œè¾“å‡ºæ›´å¤šæ›´æœ‰å»ºè®¾æ€§çš„é—®é¢˜å‘ç°å’Œæ·±åº¦ä¼˜åŒ–æ‰‹æ®µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¬¢è¿å„ä½æœ‰è¯†ä¹‹å£«åŠ å…¥æˆ‘ä»¬ï¼Œä¸€èµ·ä¸ºäº†â€œæ›´å¿«ï¼Œæ›´ç¨³ï¼Œæ›´çœï¼Œæ›´æœ‰å“è´¨â€çš„æè‡´ç›®æ ‡æºæ‰‹å‰è¡Œã€‚æˆ‘ä»¬åœ¨åŒ—äº¬ï¼Œæ·±åœ³ä¸¤åœ°å‡æœ‰æ‹›è˜éœ€æ±‚ï¼Œç®€å†æŠ•é€’é‚®ç®±ï¼š&lt;span&gt;&lt;strong&gt;tech@bytedance.com&lt;/strong&gt;&lt;/span&gt; ï¼›é‚®ä»¶æ ‡é¢˜ï¼š&lt;span&gt;&lt;strong&gt;å§“å - å·¥ä½œå¹´é™ - APM ä¸­å° - æŠ€æœ¯æ ˆæ–¹å‘&lt;/strong&gt;&lt;/span&gt;ï¼ˆå¦‚ iOS/Android/Web/åç«¯ï¼‰ã€‚&lt;/p&gt;&lt;h1 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å‚è€ƒæ–‡çŒ®&lt;/h1&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;[1]https://developer.apple.com/documentation/xcode/diagnosing_issues_using_crash_reports_and_device_logs/identifying_the_cause_of_common_crashes/addressing_watchdog_terminations&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;[2]https://geek-is-stupid.github.io/2018-10-15-0x8badf00d-ate-bad-food/&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;[3]https://honchwong.github.io/2018/05/05/Crash%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%E4%B9%8B%E4%B8%80%EF%BC%9ALaunchDaemons%E4%B8%AD%E7%9A%84ReportCrash/&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;[4]https://zhuanlan.zhihu.com/p/37652140&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;[5]http://openfibers.github.io/blog/2016/10/22/deadlock-caused-by-dispatch-once/&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>