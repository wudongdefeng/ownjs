<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>fae532b3c3603114df73d958063ce428</guid>
<title>2021 å¹´é©¬ä¸Šå°±è¦ç»“æŸäº†ï¼æŠ“ç´§å•¦ï¼</title>
<link>https://toutiao.io/k/rf8ezjy</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;weui-dialog&quot;&gt;
      &lt;p class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot;&gt;&quot;Top Stories&quot; is disabled&lt;/strong&gt;&lt;/p&gt;
      &lt;p class=&quot;weui-dialog__bd&quot;&gt;
        Enable &quot;Top Stories&quot; in &quot;Settings&quot; &amp;gt; &quot;General&quot; &amp;gt; &quot;Manage Discover&quot;      &lt;/p&gt;
      
    &lt;/div&gt;
  &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>bc8cc5e07aeb5c4be54119245e8dbe79</guid>
<title>ThreadLocal&amp;MDCå†…å­˜æ³„æ¼é—®é¢˜</title>
<link>https://toutiao.io/k/k98aint</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p id=&quot;js_tags&quot; class=&quot;article-tag__list single-tag__wrp js_single js_wx_tap_highlight wx_tap_card&quot; data-len=&quot;1&quot; role=&quot;link&quot; aria-labelledby=&quot;js_article-tag-card__left js_a11y_comma js_article-tag-card__right&quot;&gt;
                                            
                                                                                    &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__left&quot; class=&quot;article-tag-card__left&quot;&gt;
                                    &lt;span class=&quot;article-tag-card__title&quot;&gt;æ”¶å½•äºè¯é¢˜&lt;/span&gt;
                                    &lt;span class=&quot;article-tag__item-wrp no-active js_tag&quot; data-url=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUzNjAxODg4MQ==&amp;amp;action=getalbum&amp;amp;album_id=2176378785174994948#wechat_redirect&quot; data-tag_id=&quot;&quot; data-album_id=&quot;2176378785174994948&quot; data-tag_source=&quot;4&quot;&gt;
                                        &lt;span class=&quot;article-tag__item&quot;&gt;#java&lt;/span&gt;
                                    &lt;/span&gt;
                                &lt;/span&gt;
                                &lt;span aria-hidden=&quot;true&quot; id=&quot;js_article-tag-card__right&quot; class=&quot;article-tag-card__right&quot;&gt;3ä¸ª&lt;/span&gt;
                                                                                        &lt;/p&gt;

                
                                
                
                

                
                                                                

                
                                


                
                
                
                
                                                
                                                                
                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;åœ¨&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUzNjAxODg4MQ==&amp;amp;mid=2247483678&amp;amp;idx=1&amp;amp;sn=2091e0f6b52cd859284fb14baec7565c&amp;amp;chksm=fafdebb0cd8a62a632c71b43bfd92c387520ca9a4c2a7038fab5c667efa935352e7793a6fe5d&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€Šå¤§è¯é«˜å¯ç”¨ã€‹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€Šå¤§è¯é«˜å¯ç”¨ã€‹&lt;/a&gt;é‡Œï¼Œä¹‹å‰çš„è€å¤§æœ‰è¿‡æ€»ç»“ï¼Œé«˜å¯ç”¨å°±æ˜¯ï¼š&lt;span&gt;åˆ«äººæ­»æˆ‘ä»¬ä¸æ­»ï¼Œè‡ªå·±ä¸ä½œæ­»ï¼Œä¸è¢«åˆ«äººææ­»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿™æ®µæ—¶é—´ï¼Œç½‘ä¸Šéƒ½åœ¨ä¼ Log4j2çš„lookupè¿œç¨‹æ‰§è¡Œä»£ç æ¼æ´ã€‚è¿™ä¸ªæ¼æ´è¦æƒ³é€ æˆå±å®³ï¼ŒåŸºæœ¬éƒ½æ˜¯è¢«åˆ«äººææ­»çš„ã€‚å› ä¸ºåªæœ‰urlé“¾æ¥æˆ–è€…é¡µé¢è¾“å…¥äº†å¯æ‰§è¡Œè„šæœ¬æ‰ä¼šè§¦å‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æœ€è¿‘åœ¨é‡æ„&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUzNjAxODg4MQ==&amp;amp;mid=2247484045&amp;amp;idx=2&amp;amp;sn=25cf3c0399cf92edbd57e207f18afea3&amp;amp;chksm=fafde823cd8a61354d12e2355829b78b0a84b422ec4d3569bbbff711cb9b1cb3315eafaef9ac&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€Šç®€æ˜æ—¥å¿—è§„èŒƒã€‹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€Šç®€æ˜æ—¥å¿—è§„èŒƒã€‹&lt;/a&gt;ï¼Œå°±æ˜¯é‡æ„æˆ‘è‡ªå·±ä¹‹å‰å¼€æºçš„ä¸€ä¸ªç»Ÿä¸€æ—¥å¿—çš„ç»„ä»¶ã€‚å¯¹org.slf4j.MDCä¸æ”¾å¿ƒï¼Œæ€•å¼•å‘å†…å­˜æ³„éœ²ç­‰çº¿ä¸Šé•¿æ—¶é—´è¿è¡Œæ‰äº§ç”Ÿçš„é—®é¢˜ã€‚è¦æ˜¯æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæ¯”Log4j2çš„æ¼æ´æ›´ä¸å¯åŸè°…ã€‚å› ä¸ºè¿™çº¯å±è‡ªå·±ä½œæ­»ã€‚æ‰€ä»¥åšäº†ä¸€ä¸ªå°ç ”ç©¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;MDCï¼ˆMapped Diagnostic Contextï¼Œæ˜ å°„è°ƒè¯•ä¸Šä¸‹æ–‡ï¼‰æ˜¯æ—¥å¿—ç³»ç»Ÿæä¾›çš„ä¸€ç§æ–¹ä¾¿åœ¨å¤šçº¿ç¨‹æ¡ä»¶ä¸‹è®°å½•æ—¥å¿—çš„åŠŸèƒ½ã€‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå­˜å‚¨å®¹å™¨ï¼ŒåŸç†æ˜¯å°†ä¿¡æ¯å­˜å‚¨åœ¨äº†ThreadLocalé‡Œã€‚ThreadLocalå’Œçº¿ç¨‹ç»‘å®šã€‚ç¨‹åºé‡Œç”¨çš„éƒ½æ˜¯çº¿ç¨‹æ± ï¼Œç†è®ºä¸Šåº”è¯¥ä¸ä¼šå‡ºç°æ— é™è†¨èƒ€çš„æƒ…å†µã€‚æ€»å½’è¿˜æ˜¯ä¸æ”¾å¿ƒã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;åˆ©ç”¨å‘¨æœ«æ—¶é—´è¿›è¡Œäº†æºç ç ”ç©¶å’Œæµ‹è¯•ï¼Œç»ˆäºæ”¾å¿ƒäº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;éªŒè¯&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;é¦–å…ˆè¯»äº†æºç ï¼Œä»MDCè·Ÿåˆ°ThreadLocalï¼Œåå¤çš„æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ°å­˜å‚¨ThreadLocalç›¸å…³ä¿¡æ¯çš„å®¹å™¨ã€‚å› ä¸ºè¦æ˜¯æœ‰ï¼Œä¸”é‡Šæ”¾åšçš„ä¸å¥½çš„è¯æ˜¯ä¼šæ— é™è†¨èƒ€çš„ã€‚å…ˆè¿›è¡Œäº†ç²—æµ…çš„ç†è®ºç ”ç©¶ä¹‹åã€‚æµ‹è¯•éªŒè¯ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;éªŒè¯ä»£ç å¦‚ä¸‹ï¼Œå®é™…ä¸ŠMDC.putçš„å†…å®¹æˆ‘æ”¾äº†1ä¸‡å­—ï¼Œä¾¿äºç¡®è®¤æ•ˆæœã€‚&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public static void &lt;/span&gt;&lt;span&gt;main&lt;/span&gt;(String[] args) {&lt;br/&gt;    ThreadPoolExecutor threadPoolExecutor = &lt;span&gt;new &lt;/span&gt;ThreadPoolExecutor(&lt;span&gt;2&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;&lt;span&gt;200&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;TimeUnit.&lt;span&gt;DAYS&lt;/span&gt;&lt;span&gt;, new &lt;/span&gt;LinkedTransferQueue&amp;lt;&amp;gt;())&lt;span&gt;;&lt;br/&gt;    for &lt;/span&gt;(&lt;span&gt;long &lt;/span&gt;i = &lt;span&gt;0&lt;/span&gt;&lt;span&gt;; &lt;/span&gt;i &amp;lt; Long.&lt;span&gt;MAX_VALUE&lt;/span&gt;&lt;span&gt;; &lt;/span&gt;i++) {&lt;br/&gt;        threadPoolExecutor.submit(&lt;span&gt;new &lt;/span&gt;Runnable() {&lt;br/&gt;            &lt;span&gt;@Override&lt;br/&gt;            &lt;/span&gt;&lt;span&gt;public void &lt;/span&gt;&lt;span&gt;run&lt;/span&gt;() {&lt;br/&gt;                &lt;span&gt;try &lt;/span&gt;{&lt;br/&gt;                   MDC.&lt;span&gt;put&lt;/span&gt;(&lt;span&gt;&quot;k&quot;&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;Thread.&lt;span&gt;currentThread&lt;/span&gt;().getName())&lt;span&gt;;&lt;br/&gt;                    &lt;/span&gt;Thread.&lt;span&gt;sleep&lt;/span&gt;(&lt;span&gt;100&lt;/span&gt;)&lt;span&gt;;&lt;br/&gt;                &lt;/span&gt;} &lt;span&gt;catch &lt;/span&gt;(Exception e) {&lt;br/&gt;                    e.printStackTrace()&lt;span&gt;;&lt;br/&gt;                &lt;/span&gt;}&lt;br/&gt;&lt;br/&gt;            }&lt;br/&gt;        })&lt;span&gt;;&lt;br/&gt;    &lt;/span&gt;}&lt;br/&gt;}&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯1&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å°†æœ€å¤§çº¿ç¨‹æ•°è°ƒåˆ°1Wï¼Œå†…å­˜å¢é•¿æ ¹æœ¬åœä¸ä¸‹æ¥ï¼Œæˆ‘çš„ç”µè„‘æ˜æ˜¾å¿ƒæœ‰ä½™åŠ›ä¸è¶³ï¼Œæ²¡æœ‰è¾¾åˆ°æ•ˆæœã€‚&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzUzNjAxODg4MQ==&amp;amp;mid=2247485666&amp;amp;idx=1&amp;amp;sn=281374a2c8b286fe9c993e2f4698a261&amp;amp;chksm=fafde24ccd8a6b5ad998f2e893045bb387b3e26b9c7e20802b12b8a2fb2f32dca3db1c2fcf51&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ã€ŠJavaçº¿ç¨‹æ± æ€»ç»“ã€‹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;ã€ŠJavaçº¿ç¨‹æ± æ€»ç»“ã€‹&lt;/a&gt;æœ‰å¯¹çº¿ç¨‹æ± å‚æ•°çš„è®²è§£ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯2&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ± æ•°10ï¼Œæœ€å¤§çº¿ç¨‹æ•°20ï¼Œåœ¨çº¿ç¨‹æ‰§è¡Œä»£ç çš„ç»“å°¾å¢åŠ MDC.clear()ã€‚å› ä¸ºå¤§å¤šæ•°çš„æœ€ä½³å®è·µæ˜¯ç»“æŸæ—¶éƒ½è¦åŠ ï¼Œé¿å…çº¿ç¨‹å¤ç”¨é€ æˆçš„å–å‡ºæ•°æ®ä¸å‡†ç¡®ã€‚æ—¥å¿—ä¸å‡†ç¡®æ˜¯ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ²¡æœ‰å†…å­˜æ³„éœ²è¿™ä¹ˆå¯æ€•ã€‚è¿™é‡ŒåŠ å’Œä¸åŠ åšå¯¹æ¯”ï¼ŒéªŒè¯å¦‚æœå¿˜è®°åŠ ä¼šä¸ä¼šå¯¹å†…å­˜é€ æˆå‹åŠ›ã€‚&lt;/p&gt;&lt;p&gt;ç»“æœè¿è¡Œçš„è¿›ç¨‹å 2095.1Mæ—¶è¾¾åˆ°ç¨³å®šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8259109311740891&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRliccfY8uUicHoibfkj1TpT97GxLrW69RpydnOyjuKibiclQEQPLheLjzCPeRVolMsDRUIMRggy8FNAQGjw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;988&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯3&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸Šé¢åœºæ™¯ä¸­å»æ‰MDC.clear()ã€‚&lt;/p&gt;&lt;p&gt;ç»“æœè¿è¡Œçš„è¿›ç¨‹å 2045.8Mæ—¶è¾¾åˆ°ç¨³å®šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.6504320502749411&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/2tk5ianItRliccfY8uUicHoibfkj1TpT97GxpicVP0aBqmtE4mibCJYMdiauia0L3SINVcq41RHmHYaxsTJsGaA9icPOY2w/640?wx_fmt=bmp&quot; data-type=&quot;bmp&quot; data-w=&quot;1273&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯4&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ ¸å¿ƒçº¿ç¨‹æ± æ•°1ï¼Œæœ€å¤§çº¿ç¨‹æ•°2ï¼Œåœ¨çº¿ç¨‹æ‰§è¡Œä»£ç çš„ç»“å°¾å¢åŠ MDC.clear()ã€‚&lt;/p&gt;&lt;p&gt;ç»“æœè¿è¡Œçš„è¿›ç¨‹å 2116.7Mæ—¶è¾¾åˆ°ç¨³å®šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7638888888888888&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRliccfY8uUicHoibfkj1TpT97GxcTDMibzYlU90Ss4UXpjw8FYnH54XS0zjvgQejXXLicicJJiamDZ3tp89Bw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1152&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯5&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸Šé¢åœºæ™¯ä¸­å»æ‰MDC.clear()ã€‚&lt;/p&gt;&lt;p&gt;ç»“æœè¿è¡Œçš„è¿›ç¨‹å 2109.3Mæ—¶è¾¾åˆ°ç¨³å®šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7054195804195804&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRliccfY8uUicHoibfkj1TpT97GxILsl5qz9faRtgTgrowrjxj18iaFB8lEdV3B4QoibcmbSiaBSX4iac0gxTw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1144&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;åœºæ™¯6&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸Šé¢åœºæ™¯ä¸­ä¿®æ”¹æ ¸å¿ƒçº¿ç¨‹æ± æ•°2ï¼Œæœ€å¤§çº¿ç¨‹æ•°4ã€‚&lt;/p&gt;&lt;p&gt;ç»“æœè¿è¡Œçš„è¿›ç¨‹å 2120.7Mæ—¶è¾¾åˆ°ç¨³å®šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7051170858629662&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRliccfY8uUicHoibfkj1TpT97GxhesCeZFmlibdoiar79ZsnteOmxrMjp3x2qdE1rHvLTp4Y00HS8GPJQDA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1153&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;è¯•éªŒç»“è®º&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ— è®ºæ˜¯å¦æ‰§è¡ŒMDC.clear()ã€‚æœ€ç»ˆå†…å­˜å ç”¨éƒ½ä¼šè¶‹äºç¨³å®šï¼Œæ— å†…å­˜æ³„éœ²ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç†è®ºåˆ†æ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è™½ç„¶éªŒè¯äº†ï¼Œè¿˜æ˜¯ä¸æ”¾å¿ƒã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåšäº†è¿™ä¹ˆä¹…çš„é¢è¯•å®˜ï¼Œæˆ‘æ·±çŸ¥ThreadLocalå†…å­˜æ¼æ´é—®é¢˜æ˜¯ä¸€é“ç»å…¸é¢è¯•é¢˜å•Šã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.08095952023988&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRl9s4DWWQHr4AsiasnOOFwuEwQ74jgXqTTCohictCAgFWBnia7QicicNJhkuB8HYAqyLe1OCU0JqTvas5HA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;667&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;MDCæ˜¯åŸºäºThreadLocalåšçš„ï¼ŒThreadLocalæ³„éœ²äº†ï¼ŒMDCå¯ä»¥å¹¸å…å—ï¼Ÿæµ‹è¯•æ²¡æœ‰æ³„éœ²æ˜¯ä¸æ˜¯æµ‹è¯•å§¿åŠ¿ä¸å¯¹ï¼Ÿ&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸ºäº†çŸ¥å…¶ç„¶è€ŒçŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä»ThreadLocalå†…å­˜æ³„éœ²çš„å…·ä½“æ¡ˆä¾‹å‡ºå‘ï¼Œæ›´åŠ ä»”ç»†çš„ç ”ç©¶äº†æºç ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ThreadLocalå†…å­˜æ³„éœ²é—®é¢˜&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸‹é¢è¿™æ®µæµ‹è¯•ä»£ç åœ¨å¾ªç¯ä¸­ä¼šå‡ºç°è†¨èƒ€ï¼Œå¾ªç¯è¿‡å¤šä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;public void &lt;/span&gt;test() &lt;span&gt;throws &lt;/span&gt;Exception {&lt;/span&gt;&lt;/p&gt;&lt;span&gt;&lt;span&gt;for &lt;/span&gt;(&lt;span&gt;int &lt;/span&gt;i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; &lt;span&gt;100&lt;/span&gt;; i++) {&lt;br/&gt;        ThreadLocal threadLocal = &lt;span&gt;new &lt;/span&gt;ThreadLocal();&lt;br/&gt;        threadLocal.set(&lt;span&gt;&quot;t1&quot;&lt;/span&gt;+i);&lt;br/&gt;        Thread t = Thread.&lt;span&gt;currentThread&lt;/span&gt;();&lt;br/&gt;        &lt;span&gt;log&lt;/span&gt;.info(t);&lt;br/&gt;    }&lt;br/&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;åŸå› ä»debugç°è±¡æ¥çœ‹ï¼Œéšç€å¾ªç¯æ•°içš„å¢é•¿ï¼Œtä¹Ÿå°±æ˜¯å½“å‰çº¿ç¨‹çš„threadLocalsæ•°éšä¹‹å¢é•¿ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.7197149643705463&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRl9s4DWWQHr4AsiasnOOFwuEwR2MmFlKIJ31v3HT36UCZufUsJBtV2CB56veOB0r3gYvDwACAdYAUiag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;842&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è·Ÿè¸ªthreadLocal.set(&quot;t1&quot;+i)ä»£ç åˆ°setæ–¹æ³•çš„æºç ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span&gt;&lt;span&gt;public void &lt;/span&gt;set(&lt;span&gt;T &lt;/span&gt;value) {&lt;br/&gt;    Thread t = Thread.&lt;span&gt;currentThread&lt;/span&gt;();&lt;br/&gt;    ThreadLocalMap map = getMap(t);&lt;br/&gt;    &lt;span&gt;if &lt;/span&gt;(map != &lt;span&gt;null&lt;/span&gt;)&lt;br/&gt;        map.set(&lt;span&gt;this&lt;/span&gt;, value);&lt;br/&gt;    &lt;span&gt;else&lt;br/&gt;        &lt;/span&gt;createMap(t, value);&lt;br/&gt;&lt;/span&gt;&lt;p&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1&amp;gt;threadLocalè·å–åˆ°å½“å‰çº¿ç¨‹ï¼Œè·å–å½“å‰çº¿ç¨‹çš„ThreadLoca&lt;/span&gt;lMapå¯¹è±¡ã€‚&lt;/p&gt;&lt;p&gt;2&amp;gt;å¦‚æœmapå­˜åœ¨ï¼Œåˆ™å°†å½“å‰&lt;span&gt;threadLocal&lt;/span&gt;å¯¹è±¡ä½œä¸ºkeyè®¾ç½®value=&quot;t1&quot;+i&lt;/p&gt;&lt;p&gt;3&amp;gt;å¦‚æœmapä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºä¸€ä¸ªmapï¼Œå¹¶&lt;span&gt;å°†å½“å‰&lt;/span&gt;&lt;span&gt;threadLocal&lt;/span&gt;&lt;span&gt;å¯¹è±¡ä½œä¸ºkeyè®¾ç½®value=&quot;t1&quot;+i&lt;/span&gt;ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å°±æ˜¯è¯´ä¸€ä¸ªçº¿ç¨‹å”¯ä¸€å¯¹åº”ä¸€ä¸ª&lt;span&gt;ThreadLocalMap&lt;/span&gt;å¯¹è±¡ã€‚&lt;span&gt;threadLocalå¯¹è±¡&lt;/span&gt;æ˜¯&lt;span&gt;ThreadLocalMapè¿™ä¸ªmapä¸­çš„ä¸€ä¸ªkeyã€‚å°†ä¸Šé¢çš„testæµ‹è¯•ç±»ç”¨ä¼ªä»£ç è°ƒæ•´æˆæ­£å¸¸çš„é¡ºåºå¤§å®¶åº”è¯¥å°±èƒ½ç†è§£äº†ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;span&gt;&lt;span&gt;public void &lt;/span&gt;test() &lt;span&gt;throws &lt;/span&gt;Exception {&lt;br/&gt;    Thread t = Thread.&lt;span&gt;currentThread&lt;/span&gt;();&lt;br/&gt;    ThreadLocalMap map = getMap(t);&lt;br/&gt;    &lt;span&gt;for &lt;/span&gt;(&lt;span&gt;int &lt;/span&gt;i = &lt;span&gt;0&lt;/span&gt;; i &amp;lt; &lt;span&gt;100&lt;/span&gt;; i++) {&lt;br/&gt;        ThreadLocal threadLocal = &lt;span&gt;new &lt;/span&gt;ThreadLocal();&lt;br/&gt;        map.set(threadLocal,&lt;span&gt;&quot;t1&quot;&lt;/span&gt;+i);&lt;br/&gt;        &lt;span&gt;log&lt;/span&gt;.info(t);&lt;br/&gt;    }&lt;br/&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;æ‰€ä»¥threadLocal çš„å¼•ç”¨ä¸€ç›´åœ¨å½“å‰çº¿ç¨‹çš„ThreadLocalMapæ‰‹é‡Œï¼Œå¹¶ä¸æ˜¯å¾ªç¯ä¸‹ä¸€ä¸ªè¿™ä¸ªå¼•ç”¨å°±ä¸å¯è¾¾äº†ã€‚æ‰€ä»¥ä¼šä¸€ç›´åˆ›å»ºæ–°çš„ä¿å­˜è€çš„ï¼Œç›´åˆ°å†…å­˜æº¢å‡ºï¼Œå¦‚ä¸‹é¢è¿è¡Œæˆªå›¾ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1.0647709320695102&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2tk5ianItRl9s4DWWQHr4AsiasnOOFwuEwA35oPJLJ2PPbr0JQwyWPBM18WWLialRcyHyJdYNqFAJL17uAurw3KUg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;633&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ç®€è€Œè¨€ä¹‹: threadLocalä½¿ç”¨ä¸å½“ï¼Œå¯èƒ½ä¼šå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;MDCä¸ºä»€ä¹ˆæ— å†…å­˜æ³„éœ²é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è·ŸMDC.put(&quot;k&quot;, Thread.currentThread().getName())åˆ°æºç å‘ç°å…¶å®putçš„çœŸæ­£æ‰¿è½½å®¹å™¨æ˜¯static MDCAdapter mdcAdapterã€‚è¿™æ˜¯ä¸€ä¸ªé™æ€ç±»ï¼Œåœ¨MDCç±»æºç çš„åº•éƒ¨æœ‰mdcAdapterçš„åˆå§‹åŒ–è¿‡ç¨‹staticé™æ€å—ï¼Œè¡¨æ˜äº†æ•´ä¸ªJVMåªæœ‰ä¸€ä»½ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;MDCAdapter æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…·ä½“çš„å®ç°å› ä¸ºè¿™æ˜¯slf4jé—¨é¢ä¸­çš„ã€‚å®ç°ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†logbackç­‰ä¸»æµæ—¥å¿—å®ç°éƒ½æ˜¯newä¸€ä¸ªThreadLocalï¼Œå°†Mapå®¹å™¨ç»‘å®šåˆ°ThreadLocalä¸­ã€‚ä»£ç ç‰‡æ®µæ„Ÿå—ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;span&gt;public class LogbackMDCAdapter implements MDCAdapter {&lt;br/&gt;    final ThreadLocal&amp;lt;Map&amp;lt;String, String&amp;gt;&amp;gt; copyOnThreadLocal = new ThreadLocal();&lt;/span&gt;&lt;/pre&gt;&lt;pre&gt;&lt;span&gt;public void put(String key, String val) throws IllegalArgumentException {&lt;br/&gt;    if (key == null) {&lt;br/&gt;        throw new IllegalArgumentException(&quot;key cannot be null&quot;);&lt;br/&gt;    } else {&lt;br/&gt;        Map&amp;lt;String, String&amp;gt; oldMap = (Map)this.copyOnThreadLocal.get();&lt;br/&gt;        Integer lastOp = this.getAndSetLastOperation(1);&lt;br/&gt;        if (!this.wasLastOpReadOrNull(lastOp) &amp;amp;&amp;amp; oldMap != null) {&lt;br/&gt;            oldMap.put(key, val);&lt;br/&gt;        } else {&lt;br/&gt;            Map&amp;lt;String, String&amp;gt; newMap = this.duplicateAndInsertNewMap(oldMap);&lt;br/&gt;            newMap.put(key, val);&lt;br/&gt;        }&lt;br/&gt;&lt;br/&gt;    }&lt;br/&gt;&lt;/span&gt;&lt;p&gt;&lt;span&gt;}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼šä¸€ä¸ªçº¿ç¨‹é¡¶å¤šä¼šåˆ›å»ºä¸€ä¸ªThreadLocalï¼Œæ‰€ä»¥ä¸ä¼šå†…å­˜æ³„éœ²ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ€»ç»“&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1ã€ä¸è¦å‡å®šï¼Œè¦è¯æ˜ã€‚è¯æ˜ä¹‹åè¦ç†è§£ï¼Œé€»è¾‘è‡ªæ´½ã€‚&lt;/p&gt;&lt;p&gt;2ã€&lt;span&gt;åˆ«äººæ­»æˆ‘ä»¬ä¸æ­»ï¼Œè‡ªå·±ä¸ä½œæ­»ï¼Œä¸è¢«åˆ«äººææ­»ã€‚&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>0d787e8687548ebeced32906e325ecac</guid>
<title>èŠèŠspringäº‹åŠ¡å¤±æ•ˆçš„12ç§åœºæ™¯ï¼Œå¤ªå‘äº†</title>
<link>https://toutiao.io/k/uf6yk96</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong data-darkmode-bgcolor-16346154121535=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16346154121535=&quot;#fff|rgb(255, 255, 255)|rgb(255, 255, 255)&quot; data-darkmode-color-16346154121535=&quot;rgb(163, 163, 163)&quot; data-darkmode-original-color-16346154121535=&quot;#fff|rgb(62, 62, 62)|rgb(0, 0, 0)&quot; data-style=&quot;outline: 0px; letter-spacing: 0.544px; text-align: left; white-space: normal; color: rgb(0, 0, 0); font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif; font-size: 16px; background-color: rgb(255, 255, 255);&quot; class=&quot;js_darkmode__2&quot;&gt;ç‚¹å‡»å…³æ³¨å…¬ä¼—å·ï¼ŒJavaå¹²è´§&lt;/strong&gt;&lt;span data-darkmode-bgcolor-16346154121535=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16346154121535=&quot;#fff|rgb(255, 255, 255)|rgb(255, 255, 255)&quot; data-darkmode-color-16346154121535=&quot;rgb(255, 76, 65)&quot; data-darkmode-original-color-16346154121535=&quot;#fff|rgb(62, 62, 62)|rgb(255, 76, 65)&quot; data-style=&quot;outline: 0px; letter-spacing: 0.544px; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif; font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(255, 76, 65);&quot; class=&quot;js_darkmode__3&quot;&gt;&lt;strong data-darkmode-bgcolor-16346154121535=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16346154121535=&quot;#fff|rgb(255, 255, 255)|rgb(255, 255, 255)&quot; data-darkmode-color-16346154121535=&quot;rgb(255, 76, 65)&quot; data-darkmode-original-color-16346154121535=&quot;#fff|rgb(62, 62, 62)|rgb(255, 76, 65)&quot;&gt;åŠæ—¶é€è¾¾ğŸ‘‡&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU4MDUyMDQyNQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/knmrNHnmCLEX3M6DvCn5gKuBOaMMVu9lUJAvwH2k66nV9VgGG0cyczd1ryib06P1z5pF72Le3HUr5loicnQx36lg/0?wx_fmt=png&quot; data-nickname=&quot;å°å“ˆå­¦Java&quot; data-alias=&quot;xiaoha_java&quot; data-signature=&quot;ä¸“æ³¨äºJavaé¢†åŸŸå¹²è´§åˆ†äº«ï¼Œä¸é™äºBATé¢è¯•, ç®—æ³•ï¼Œæ•°æ®åº“ï¼ŒSpring Boot, å¾®æœåŠ¡,é«˜å¹¶å‘, JVM, Dockerå®¹å™¨ï¼ŒELKç›¸å…³çŸ¥è¯†ï¼ŒæœŸå¾…ä¸æ‚¨ä¸€åŒè¿›æ­¥ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5645161290322581&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/knmrNHnmCLHoM2ib2hgLaZr0ruTQZDRYZlAFxVibcicZ18G3Llxx1ibOBNRVRWeex0qMOndOBUfLgh1K72Nm1G31zg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;496&quot;/&gt;&lt;span data-darkmode-bgcolor-16346154121535=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16346154121535=&quot;#fff|rgb(255, 255, 255)|rgb(255, 255, 255)&quot; data-darkmode-color-16346154121535=&quot;rgb(255, 76, 65)&quot; data-darkmode-original-color-16346154121535=&quot;#fff|rgb(62, 62, 62)|rgb(255, 76, 65)&quot; data-style=&quot;outline: 0px; letter-spacing: 0.544px; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, &amp;quot;PingFang SC&amp;quot;, Cambria, Cochin, Georgia, Times, &amp;quot;Times New Roman&amp;quot;, serif; font-size: 16px; background-color: rgb(255, 255, 255); color: rgb(255, 76, 65);&quot; class=&quot;js_darkmode__3&quot;&gt;&lt;strong data-darkmode-bgcolor-16346154121535=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16346154121535=&quot;#fff|rgb(255, 255, 255)|rgb(255, 255, 255)&quot; data-darkmode-color-16346154121535=&quot;rgb(255, 76, 65)&quot; data-darkmode-original-color-16346154121535=&quot;#fff|rgb(62, 62, 62)|rgb(255, 76, 65)&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºä»äº‹javaå¼€å‘å·¥ä½œçš„åŒå­¦æ¥è¯´ï¼Œspringçš„äº‹åŠ¡è‚¯å®šå†ç†Ÿæ‚‰ä¸è¿‡äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¦‚æœä¸€ä¸ªè¯·æ±‚ä¸­ï¼Œéœ€è¦åŒæ—¶&lt;span&gt;å†™å…¥&lt;/span&gt;å¤šå¼ è¡¨çš„æ•°æ®ã€‚ä¸ºäº†ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼ˆè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼‰ï¼Œé¿å…æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°springäº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¡®å®ï¼Œspringäº‹åŠ¡ç”¨èµ·æ¥è´¼çˆ½ï¼Œå°±ç”¨ä¸€ä¸ªç®€å•çš„æ³¨è§£ï¼š&lt;code&gt;@Transactional&lt;/code&gt;ï¼Œå°±èƒ½è½»æ¾æå®šäº‹åŠ¡ã€‚æˆ‘çŒœå¤§éƒ¨åˆ†å°ä¼™ä¼´ä¹Ÿæ˜¯è¿™æ ·ç”¨çš„ï¼Œè€Œä¸”ä¸€ç›´ç”¨ä¸€ç›´çˆ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ ä½¿ç”¨ä¸å½“ï¼Œå®ƒä¹Ÿä¼šå‘ä½ äºæ— å½¢ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·èŠèŠï¼Œäº‹åŠ¡å¤±æ•ˆçš„ä¸€äº›åœºæ™¯ï¼Œè¯´ä¸å®šä½ å·²ç»ä¸­æ‹›äº†ã€‚ä¸ä¿¡ï¼Œè®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9913419913419913&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/uL371281oDFI5ibhP1TXOMnqQtJhfb3XCnTbgmpiab2LDA8VVCmg2jMUoeJd70gAJsj7vL2IB0icYxsbsvnKIu9LQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1386&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸€ äº‹åŠ¡ä¸ç”Ÿæ•ˆ&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;1.è®¿é—®æƒé™é—®é¢˜&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¼—æ‰€å‘¨çŸ¥ï¼Œjavaçš„è®¿é—®æƒé™ä¸»è¦æœ‰å››ç§ï¼šprivateã€defaultã€protectedã€publicï¼Œå®ƒä»¬çš„æƒé™ä»å·¦åˆ°å³ï¼Œä¾æ¬¡å˜å¤§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœæˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒæŠŠæœ‰æŸäº›äº‹åŠ¡æ–¹æ³•ï¼Œå®šä¹‰äº†é”™è¯¯çš„è®¿é—®æƒé™ï¼Œå°±ä¼šå¯¼è‡´äº‹åŠ¡åŠŸèƒ½å‡ºé—®é¢˜ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°addæ–¹æ³•çš„è®¿é—®æƒé™è¢«å®šä¹‰æˆäº†&lt;code&gt;private&lt;/code&gt;ï¼Œè¿™æ ·ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆï¼Œspringè¦æ±‚è¢«ä»£ç†æ–¹æ³•å¿…é¡»æ˜¯&lt;code&gt;public&lt;/code&gt;çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´ç™½äº†ï¼Œåœ¨&lt;code&gt;AbstractFallbackTransactionAttributeSource&lt;/code&gt;ç±»çš„&lt;code&gt;computeTransactionAttribute&lt;/code&gt;æ–¹æ³•ä¸­æœ‰ä¸ªåˆ¤æ–­ï¼Œå¦‚æœç›®æ ‡æ–¹æ³•ä¸æ˜¯publicï¼Œåˆ™&lt;code&gt;TransactionAttribute&lt;/code&gt;è¿”å›nullï¼Œå³ä¸æ”¯æŒäº‹åŠ¡ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â TransactionAttributeÂ &lt;span&gt;computeTransactionAttribute&lt;/span&gt;&lt;span&gt;(MethodÂ method,Â @NullableÂ Class&amp;lt;?&amp;gt;Â targetClass)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â Don&#x27;tÂ allowÂ no-publicÂ methodsÂ asÂ required.&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (allowPublicMethodsOnly()Â &amp;amp;&amp;amp;Â !Modifier.isPublic(method.getModifiers()))Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â TheÂ methodÂ mayÂ beÂ onÂ anÂ interface,Â butÂ weÂ needÂ attributesÂ fromÂ theÂ targetÂ class.&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â IfÂ theÂ targetÂ classÂ isÂ null,Â theÂ methodÂ willÂ beÂ unchanged.&lt;/span&gt;&lt;br/&gt;Â Â Â Â MethodÂ specificMethodÂ =Â AopUtils.getMostSpecificMethod(method,Â targetClass);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â FirstÂ tryÂ isÂ theÂ methodÂ inÂ theÂ targetÂ class.&lt;/span&gt;&lt;br/&gt;Â Â Â Â TransactionAttributeÂ txAttrÂ =Â findTransactionAttribute(specificMethod);&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (txAttrÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â txAttr;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â SecondÂ tryÂ isÂ theÂ transactionÂ attributeÂ onÂ theÂ targetÂ class.&lt;/span&gt;&lt;br/&gt;Â Â Â Â txAttrÂ =Â findTransactionAttribute(specificMethod.getDeclaringClass());&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (txAttrÂ !=Â &lt;span&gt;null&lt;/span&gt;Â &amp;amp;&amp;amp;Â ClassUtils.isUserLevelMethod(method))Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â txAttr;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (specificMethodÂ !=Â method)Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â FallbackÂ isÂ toÂ lookÂ atÂ theÂ originalÂ method.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â txAttrÂ =Â findTransactionAttribute(method);&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (txAttrÂ !=Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â txAttr;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;//Â LastÂ fallbackÂ isÂ theÂ classÂ ofÂ theÂ originalÂ method.&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â txAttrÂ =Â findTransactionAttribute(method.getDeclaringClass());&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (txAttrÂ !=Â &lt;span&gt;null&lt;/span&gt;Â &amp;amp;&amp;amp;Â ClassUtils.isUserLevelMethod(method))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â txAttr;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå®šä¹‰çš„äº‹åŠ¡æ–¹æ³•ï¼ˆå³ç›®æ ‡æ–¹æ³•ï¼‰ï¼Œå®ƒçš„è®¿é—®æƒé™ä¸æ˜¯&lt;code&gt;public&lt;/code&gt;ï¼Œè€Œæ˜¯privateã€defaultæˆ–protectedçš„è¯ï¼Œspringåˆ™ä¸ä¼šæä¾›äº‹åŠ¡åŠŸèƒ½ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;2. æ–¹æ³•ç”¨finalä¿®é¥°&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰æ—¶å€™ï¼ŒæŸä¸ªæ–¹æ³•ä¸æƒ³è¢«å­ç±»é‡æ–°ï¼Œè¿™æ—¶å¯ä»¥å°†è¯¥æ–¹æ³•å®šä¹‰æˆfinalçš„ã€‚æ™®é€šæ–¹æ³•è¿™æ ·å®šä¹‰æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†å¦‚æœå°†äº‹åŠ¡æ–¹æ³•å®šä¹‰æˆfinalï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°addæ–¹æ³•è¢«å®šä¹‰æˆäº†&lt;code&gt;final&lt;/code&gt;çš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çœ‹è¿‡springäº‹åŠ¡çš„æºç ï¼Œå¯èƒ½ä¼šçŸ¥é“springäº‹åŠ¡åº•å±‚ä½¿ç”¨äº†aopï¼Œä¹Ÿå°±æ˜¯é€šè¿‡jdkåŠ¨æ€ä»£ç†æˆ–è€…cglibï¼Œå¸®æˆ‘ä»¬ç”Ÿæˆäº†ä»£ç†ç±»ï¼Œåœ¨ä»£ç†ç±»ä¸­å®ç°çš„äº‹åŠ¡åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœæŸä¸ªæ–¹æ³•ç”¨finalä¿®é¥°äº†ï¼Œé‚£ä¹ˆåœ¨å®ƒçš„ä»£ç†ç±»ä¸­ï¼Œå°±æ— æ³•é‡å†™è¯¥æ–¹æ³•ï¼Œè€Œæ·»åŠ äº‹åŠ¡åŠŸèƒ½ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æ³¨æ„ï¼šå¦‚æœæŸä¸ªæ–¹æ³•æ˜¯staticçš„ï¼ŒåŒæ ·æ— æ³•é€šè¿‡åŠ¨æ€ä»£ç†ï¼Œå˜æˆäº‹åŠ¡æ–¹æ³•ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;3.æ–¹æ³•å†…éƒ¨è°ƒç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åœ¨æŸä¸ªServiceç±»çš„æŸä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â UserMapperÂ userMapper;&lt;br/&gt;&lt;br/&gt;Â Â &lt;span/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â userMapper.insertUser(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â updateStatus(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;updateStatus&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â doSameThing();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬çœ‹åˆ°åœ¨äº‹åŠ¡æ–¹æ³•addä¸­ï¼Œç›´æ¥è°ƒç”¨äº‹åŠ¡æ–¹æ³•updateStatusã€‚ä»å‰é¢ä»‹ç»çš„å†…å®¹å¯ä»¥çŸ¥é“ï¼ŒupdateStatusæ–¹æ³•æ‹¥æœ‰äº‹åŠ¡çš„èƒ½åŠ›æ˜¯å› ä¸ºspring aopç”Ÿæˆä»£ç†äº†å¯¹è±¡ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ç›´æ¥è°ƒç”¨äº†thiså¯¹è±¡çš„æ–¹æ³•ï¼Œæ‰€ä»¥updateStatusæ–¹æ³•ä¸ä¼šç”Ÿæˆäº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±æ­¤å¯è§ï¼Œåœ¨åŒä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•ç›´æ¥å†…éƒ¨è°ƒç”¨ï¼Œä¼šå¯¼è‡´äº‹åŠ¡å¤±æ•ˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœæœ‰äº›åœºæ™¯ï¼Œç¡®å®æƒ³åœ¨åŒä¸€ä¸ªç±»çš„æŸä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨å®ƒè‡ªå·±çš„å¦å¤–ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.1 æ–°åŠ ä¸€ä¸ªServiceæ–¹æ³•&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ–¹æ³•éå¸¸ç®€å•ï¼Œåªéœ€è¦æ–°åŠ ä¸€ä¸ªServiceæ–¹æ³•ï¼ŒæŠŠ@Transactionalæ³¨è§£åŠ åˆ°æ–°Serviceæ–¹æ³•ä¸Šï¼ŒæŠŠéœ€è¦äº‹åŠ¡æ‰§è¡Œçš„ä»£ç ç§»åˆ°æ–°æ–¹æ³•ä¸­ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Servcie&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ServiceA&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â prvateÂ ServiceBÂ serviceB;&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;save&lt;/span&gt;&lt;span&gt;(UserÂ user)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData1();&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData2();&lt;br/&gt;Â Â Â Â Â Â Â Â Â serviceB.doSave(user);&lt;br/&gt;Â Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;br/&gt;Â &lt;span&gt;@Servcie&lt;/span&gt;&lt;br/&gt;Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ServiceB&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(rollbackFor=Exception&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doSave&lt;/span&gt;(&lt;span&gt;User&lt;/span&gt;Â &lt;span&gt;user&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â addData1();&lt;br/&gt;Â Â Â Â Â Â Â updateData2();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.2 åœ¨è¯¥Serviceç±»ä¸­æ³¨å…¥è‡ªå·±&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä¸æƒ³å†æ–°åŠ ä¸€ä¸ªServiceç±»ï¼Œåœ¨è¯¥Serviceç±»ä¸­æ³¨å…¥è‡ªå·±ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Servcie&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ServiceA&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â prvateÂ ServiceAÂ serviceA;&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;save&lt;/span&gt;&lt;span&gt;(UserÂ user)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData1();&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData2();&lt;br/&gt;Â Â Â Â Â Â Â Â Â serviceA.doSave(user);&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(rollbackFor=Exception&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doSave&lt;/span&gt;(&lt;span&gt;User&lt;/span&gt;Â &lt;span&gt;user&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â addData1();&lt;br/&gt;Â Â Â Â Â Â Â updateData2();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯èƒ½æœ‰äº›äººå¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼šè¿™ç§åšæ³•ä¼šä¸ä¼šå‡ºç°å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”æ¡ˆï¼šä¸ä¼šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®spring iocå†…éƒ¨çš„ä¸‰çº§ç¼“å­˜ä¿è¯äº†å®ƒï¼Œä¸ä¼šå‡ºç°å¾ªç¯ä¾èµ–é—®é¢˜ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3.3 é€šè¿‡AopContentç±»&lt;span/&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è¯¥Serviceç±»ä¸­ä½¿ç”¨AopContext.currentProxy()è·å–ä»£ç†å¯¹è±¡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„æ–¹æ³•2ç¡®å®å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ä»£ç çœ‹èµ·æ¥å¹¶ä¸ç›´è§‚ï¼Œè¿˜å¯ä»¥é€šè¿‡åœ¨è¯¥Serviceç±»ä¸­ä½¿ç”¨AOPProxyè·å–ä»£ç†å¯¹è±¡ï¼Œå®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Servcie&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;ServiceA&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;save&lt;/span&gt;&lt;span&gt;(UserÂ user)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData1();&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData2();&lt;br/&gt;Â Â Â Â Â Â Â Â Â ((ServiceA)AopContext.currentProxy()).doSave(user);&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(rollbackFor=Exception&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;br/&gt;Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doSave&lt;/span&gt;(&lt;span&gt;User&lt;/span&gt;Â &lt;span&gt;user&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â addData1();&lt;br/&gt;Â Â Â Â Â Â Â updateData2();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;4.æœªè¢«springç®¡ç†&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æˆ‘ä»¬å¹³æ—¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸ªç»†èŠ‚å¾ˆå®¹æ˜“è¢«å¿½ç•¥ã€‚å³ä½¿ç”¨springäº‹åŠ¡çš„å‰ææ˜¯ï¼šå¯¹è±¡è¦è¢«springç®¡ç†ï¼Œéœ€è¦åˆ›å»ºbeanå®ä¾‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡@Controllerã€@Serviceã€@Componentã€@Repositoryç­‰æ³¨è§£ï¼Œå¯ä»¥è‡ªåŠ¨å®ç°beanå®ä¾‹åŒ–å’Œä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæœ‰ä¸€å¤©ï¼Œä½ åŒ†åŒ†å¿™å¿™çš„å¼€å‘äº†ä¸€ä¸ªServiceç±»ï¼Œä½†å¿˜äº†åŠ @Serviceæ³¨è§£ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;//@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â }Â Â Â Â &lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°UserServiceç±»æ²¡æœ‰åŠ &lt;code&gt;@Service&lt;/code&gt;æ³¨è§£ï¼Œé‚£ä¹ˆè¯¥ç±»ä¸ä¼šäº¤ç»™springç®¡ç†ï¼Œæ‰€ä»¥å®ƒçš„addæ–¹æ³•ä¹Ÿä¸ä¼šç”Ÿæˆäº‹åŠ¡ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;5.å¤šçº¿ç¨‹è°ƒç”¨&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå¤šçº¿ç¨‹çš„ä½¿ç”¨åœºæ™¯è¿˜æ˜¯æŒºå¤šçš„ã€‚å¦‚æœspringäº‹åŠ¡ç”¨åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸­ï¼Œä¼šæœ‰é—®é¢˜å—ï¼Ÿ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â UserMapperÂ userMapper;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RoleServiceÂ roleService;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â userMapper.insertUser(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Thread(()Â -&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â roleService.doOtherThing();&lt;br/&gt;Â Â Â Â Â Â Â Â }).start();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;RoleService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doOtherThing&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;ä¿å­˜roleè¡¨æ•°æ®&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°äº‹åŠ¡æ–¹æ³•addä¸­ï¼Œè°ƒç”¨äº†äº‹åŠ¡æ–¹æ³•doOtherThingï¼Œä½†æ˜¯äº‹åŠ¡æ–¹æ³•doOtherThingæ˜¯åœ¨å¦å¤–ä¸€ä¸ªçº¿ç¨‹ä¸­è°ƒç”¨çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·ä¼šå¯¼è‡´ä¸¤ä¸ªæ–¹æ³•ä¸åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œè·å–åˆ°çš„æ•°æ®åº“è¿æ¥ä¸ä¸€æ ·ï¼Œä»è€Œæ˜¯ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ã€‚å¦‚æœæƒ³doOtherThingæ–¹æ³•ä¸­æŠ›äº†å¼‚å¸¸ï¼Œaddæ–¹æ³•ä¹Ÿå›æ»šæ˜¯ä¸å¯èƒ½çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœçœ‹è¿‡springäº‹åŠ¡æºç çš„æœ‹å‹ï¼Œå¯èƒ½ä¼šçŸ¥é“springçš„äº‹åŠ¡æ˜¯é€šè¿‡æ•°æ®åº“è¿æ¥æ¥å®ç°çš„ã€‚å½“å‰çº¿ç¨‹ä¸­ä¿å­˜äº†ä¸€ä¸ªmapï¼Œkeyæ˜¯æ•°æ®æºï¼Œvalueæ˜¯æ•°æ®åº“è¿æ¥ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â ThreadLocal&amp;lt;Map&amp;lt;Object,Â Object&amp;gt;&amp;gt;Â resourcesÂ =&lt;br/&gt;&lt;br/&gt;Â Â &lt;span&gt;new&lt;/span&gt;Â NamedThreadLocal&amp;lt;&amp;gt;(&lt;span&gt;&quot;TransactionalÂ resources&quot;&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬è¯´çš„åŒä¸€ä¸ªäº‹åŠ¡ï¼Œå…¶å®æ˜¯æŒ‡åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼Œåªæœ‰æ‹¥æœ‰åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥æ‰èƒ½åŒæ—¶æäº¤å’Œå›æ»šã€‚å¦‚æœåœ¨ä¸åŒçš„çº¿ç¨‹ï¼Œæ‹¿åˆ°çš„æ•°æ®åº“è¿æ¥è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æ˜¯ä¸åŒçš„äº‹åŠ¡ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;6.è¡¨ä¸æ”¯æŒäº‹åŠ¡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘¨æ‰€å‘¨çŸ¥ï¼Œåœ¨mysql5ä¹‹å‰ï¼Œé»˜è®¤çš„æ•°æ®åº“å¼•æ“æ˜¯&lt;code&gt;myisam&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒçš„å¥½å¤„å°±ä¸ç”¨å¤šè¯´äº†ï¼šç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†å¼€å­˜å‚¨çš„ï¼Œå¯¹äºæŸ¥å¤šå†™å°‘çš„å•è¡¨æ“ä½œï¼Œæ€§èƒ½æ¯”innodbæ›´å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº›è€é¡¹ç›®ä¸­ï¼Œå¯èƒ½è¿˜åœ¨ç”¨å®ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œåªéœ€è¦æŠŠ&lt;code&gt;ENGINE&lt;/code&gt;å‚æ•°è®¾ç½®æˆ&lt;code&gt;MyISAM&lt;/code&gt;å³å¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;CREATEÂ TABLEÂ `category`Â (&lt;br/&gt;Â Â `id`Â bigintÂ NOTÂ NULLÂ AUTO_INCREMENT,&lt;br/&gt;Â Â `one_category`Â varchar(&lt;span&gt;20&lt;/span&gt;)Â COLLATEÂ utf8mb4_binÂ DEFAULTÂ NULL,&lt;br/&gt;Â Â `two_category`Â varchar(&lt;span&gt;20&lt;/span&gt;)Â COLLATEÂ utf8mb4_binÂ DEFAULTÂ NULL,&lt;br/&gt;Â Â `three_category`Â varchar(&lt;span&gt;20&lt;/span&gt;)Â COLLATEÂ utf8mb4_binÂ DEFAULTÂ NULL,&lt;br/&gt;Â Â `four_category`Â varchar(&lt;span&gt;20&lt;/span&gt;)Â COLLATEÂ utf8mb4_binÂ DEFAULTÂ NULL,&lt;br/&gt;Â Â &lt;span&gt;PRIMARYÂ &lt;span&gt;KEY&lt;/span&gt;Â &lt;span&gt;(`id`)&lt;/span&gt;&lt;br/&gt;)Â ENGINE&lt;/span&gt;=MyISAMÂ AUTO_INCREMENT=&lt;span&gt;4&lt;/span&gt;Â DEFAULTÂ CHARSET=utf8mb4Â COLLATE=utf8mb4_bin&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;myisamå¥½ç”¨ï¼Œä½†æœ‰ä¸ªå¾ˆè‡´å‘½çš„é—®é¢˜æ˜¯ï¼š&lt;code&gt;ä¸æ”¯æŒäº‹åŠ¡&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåªæ˜¯å•è¡¨æ“ä½œè¿˜å¥½ï¼Œä¸ä¼šå‡ºç°å¤ªå¤§çš„é—®é¢˜ã€‚ä½†å¦‚æœéœ€è¦è·¨å¤šå¼ è¡¨æ“ä½œï¼Œç”±äºå…¶ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ•°æ®ææœ‰å¯èƒ½ä¼šå‡ºç°ä¸å®Œæ•´çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œmyisamè¿˜ä¸æ”¯æŒè¡Œé”å’Œå¤–é”®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œmyisamä½¿ç”¨çš„å¹¶ä¸å¤šã€‚åœ¨mysql5ä»¥åï¼Œmyisamå·²ç»é€æ¸é€€å‡ºäº†å†å²çš„èˆå°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯innodbã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æŸå¼ è¡¨çš„äº‹åŠ¡ä¸€ç›´éƒ½æ²¡æœ‰ç”Ÿæ•ˆï¼Œé‚£ä¸ä¸€å®šæ˜¯springäº‹åŠ¡çš„é”…ï¼Œæœ€å¥½ç¡®è®¤ä¸€ä¸‹ä½ ä½¿ç”¨çš„é‚£å¼ è¡¨ï¼Œæ˜¯å¦æ”¯æŒäº‹åŠ¡ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;7.æœªå¼€å¯äº‹åŠ¡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰æ—¶å€™ï¼Œäº‹åŠ¡æ²¡æœ‰ç”Ÿæ•ˆçš„æ ¹æœ¬åŸå› æ˜¯æ²¡æœ‰å¼€å¯äº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ çœ‹åˆ°è¿™å¥è¯å¯èƒ½ä¼šè§‰å¾—å¥½ç¬‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼€å¯äº‹åŠ¡ä¸æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæœ€æœ€æœ€åŸºæœ¬çš„åŠŸèƒ½å—ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆè¿˜ä¼šæ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ²¡é”™ï¼Œå¦‚æœé¡¹ç›®å·²ç»æ­å»ºå¥½äº†ï¼Œäº‹åŠ¡åŠŸèƒ½è‚¯å®šæ˜¯æœ‰çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ æ˜¯åœ¨æ­å»ºé¡¹ç›®demoçš„æ—¶å€™ï¼Œåªæœ‰ä¸€å¼ è¡¨ï¼Œè€Œè¿™å¼ è¡¨çš„äº‹åŠ¡æ²¡æœ‰ç”Ÿæ•ˆã€‚é‚£ä¹ˆä¼šæ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶åŸå› æœ‰å¾ˆå¤šï¼Œä½†æ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Œè¿™ä¸ªåŸå› æå…¶å®¹æ˜“è¢«å¿½ç•¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ ä½¿ç”¨çš„æ˜¯springbooté¡¹ç›®ï¼Œé‚£ä¹ˆä½ å¾ˆå¹¸è¿ã€‚å› ä¸ºspringbooté€šè¿‡&lt;code&gt;DataSourceTransactionManagerAutoConfiguration&lt;/code&gt;ç±»ï¼Œå·²ç»é»˜é»˜çš„å¸®ä½ å¼€å¯äº†äº‹åŠ¡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½ æ‰€è¦åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œåªéœ€è¦é…ç½®&lt;code&gt;spring.datasource&lt;/code&gt;ç›¸å…³å‚æ•°å³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ ä½¿ç”¨çš„è¿˜æ˜¯ä¼ ç»Ÿçš„springé¡¹ç›®ï¼Œåˆ™éœ€è¦åœ¨applicationContext.xmlæ–‡ä»¶ä¸­ï¼Œæ‰‹åŠ¨é…ç½®äº‹åŠ¡ç›¸å…³å‚æ•°ã€‚å¦‚æœå¿˜äº†é…ç½®ï¼Œäº‹åŠ¡è‚¯å®šæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“é…ç½®å¦‚ä¸‹ä¿¡æ¯ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;Â Â Â &lt;br/&gt;&amp;lt;!--Â é…ç½®äº‹åŠ¡ç®¡ç†å™¨Â --&amp;gt;Â &lt;br/&gt;&amp;lt;beanÂ &lt;span&gt;&lt;span&gt;class&lt;/span&gt;&lt;/span&gt;=&lt;span&gt;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&lt;/span&gt;Â id=&lt;span&gt;&quot;transactionManager&quot;&lt;/span&gt;&amp;gt;Â &lt;br/&gt;Â Â Â Â &amp;lt;propertyÂ name=&lt;span&gt;&quot;dataSource&quot;&lt;/span&gt;Â ref=&lt;span&gt;&quot;dataSource&quot;&lt;/span&gt;&amp;gt;&amp;lt;/property&amp;gt;Â &lt;br/&gt;&amp;lt;/bean&amp;gt;Â &lt;br/&gt;&amp;lt;tx:adviceÂ id=&lt;span&gt;&quot;advice&quot;&lt;/span&gt;Â transaction-manager=&lt;span&gt;&quot;transactionManager&quot;&lt;/span&gt;&amp;gt;Â &lt;br/&gt;Â Â Â Â &amp;lt;tx:attributes&amp;gt;Â &lt;br/&gt;Â Â Â Â Â Â Â Â &amp;lt;tx:methodÂ name=&lt;span&gt;&quot;*&quot;&lt;/span&gt;Â propagation=&lt;span&gt;&quot;REQUIRED&quot;&lt;/span&gt;/&amp;gt;&lt;br/&gt;Â Â Â Â &amp;lt;/tx:attributes&amp;gt;Â &lt;br/&gt;&amp;lt;/tx:advice&amp;gt;Â &lt;br/&gt;&amp;lt;!--Â ç”¨åˆ‡ç‚¹æŠŠäº‹åŠ¡åˆ‡è¿›å»Â --&amp;gt;Â &lt;br/&gt;&amp;lt;aop:config&amp;gt;Â &lt;br/&gt;Â Â Â Â &amp;lt;aop:pointcutÂ expression=&lt;span&gt;&quot;execution(*Â com.susan.*.*(..))&quot;&lt;/span&gt;Â id=&lt;span&gt;&quot;pointcut&quot;&lt;/span&gt;/&amp;gt;Â &lt;br/&gt;Â Â Â Â &amp;lt;aop:advisorÂ advice-ref=&lt;span&gt;&quot;advice&quot;&lt;/span&gt;Â pointcut-ref=&lt;span&gt;&quot;pointcut&quot;&lt;/span&gt;/&amp;gt;Â &lt;br/&gt;&amp;lt;/aop:config&amp;gt;Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é»˜é»˜çš„è¯´ä¸€å¥ï¼Œå¦‚æœåœ¨pointcutæ ‡ç­¾ä¸­çš„åˆ‡å…¥ç‚¹åŒ¹é…è§„åˆ™ï¼Œé…é”™äº†çš„è¯ï¼Œæœ‰äº›ç±»çš„äº‹åŠ¡ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;äºŒ äº‹åŠ¡ä¸å›æ»š&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;1.é”™è¯¯çš„ä¼ æ’­ç‰¹æ€§&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨&lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£æ—¶ï¼Œæ˜¯å¯ä»¥æŒ‡å®š&lt;code&gt;propagation&lt;/code&gt;å‚æ•°çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥å‚æ•°çš„ä½œç”¨æ˜¯æŒ‡å®šäº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ï¼Œspringç›®å‰æ”¯æŒ7ç§ä¼ æ’­ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;REQUIRED&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨äº‹åŠ¡ï¼Œé‚£ä¹ˆåŠ å…¥è¯¥äº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ›å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™æ˜¯é»˜è®¤çš„ä¼ æ’­å±æ€§å€¼ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;SUPPORTS&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æ”¯æŒäº‹åŠ¡åŠ å…¥äº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™ä½¿ç”¨éäº‹åŠ¡çš„æ–¹å¼æ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;MANDATORY&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨äº‹åŠ¡ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;REQUIRES_NEW&lt;/code&gt; æ¯æ¬¡éƒ½ä¼šæ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¹¶ä¸”åŒæ—¶å°†ä¸Šä¸‹æ–‡ä¸­çš„äº‹åŠ¡æŒ‚èµ·ï¼Œæ‰§è¡Œå½“å‰æ–°å»ºäº‹åŠ¡å®Œæˆä»¥åï¼Œä¸Šä¸‹æ–‡äº‹åŠ¡æ¢å¤å†æ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;NOT_SUPPORTED&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŒ‚èµ·å½“å‰äº‹åŠ¡ï¼Œç„¶åæ–°çš„æ–¹æ³•åœ¨æ²¡æœ‰äº‹åŠ¡çš„ç¯å¢ƒä¸­æ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;NEVER&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™åœ¨æ— äº‹åŠ¡ç¯å¢ƒä¸Šæ‰§è¡Œä»£ç ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;NESTED&lt;/code&gt; å¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åµŒå¥—äº‹åŠ¡æ‰§è¡Œï¼Œå¦‚æœä¸å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æ–°å»ºäº‹åŠ¡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæˆ‘ä»¬åœ¨æ‰‹åŠ¨è®¾ç½®propagationå‚æ•°çš„æ—¶å€™ï¼ŒæŠŠä¼ æ’­ç‰¹æ€§è®¾ç½®é”™äº†ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(propagationÂ =Â Propagation.NEVER)&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°addæ–¹æ³•çš„äº‹åŠ¡ä¼ æ’­ç‰¹æ€§å®šä¹‰æˆäº†Propagation.NEVERï¼Œè¿™ç§ç±»å‹çš„ä¼ æ’­ç‰¹æ€§ä¸æ”¯æŒäº‹åŠ¡ï¼Œå¦‚æœæœ‰äº‹åŠ¡åˆ™ä¼šæŠ›å¼‚å¸¸ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›®å‰åªæœ‰è¿™ä¸‰ç§ä¼ æ’­ç‰¹æ€§æ‰ä¼šåˆ›å»ºæ–°äº‹åŠ¡ï¼šREQUIREDï¼ŒREQUIRES_NEWï¼ŒNESTEDã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;2.è‡ªå·±åäº†å¼‚å¸¸&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº‹åŠ¡ä¸ä¼šå›æ»šï¼Œæœ€å¸¸è§çš„é—®é¢˜æ˜¯ï¼šå¼€å‘è€…åœ¨ä»£ç ä¸­æ‰‹åŠ¨try...catchäº†å¼‚å¸¸ã€‚æ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.error(e.getMessage(),Â e);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§æƒ…å†µä¸‹springäº‹åŠ¡å½“ç„¶ä¸ä¼šå›æ»šï¼Œå› ä¸ºå¼€å‘è€…è‡ªå·±æ•è·äº†å¼‚å¸¸ï¼Œåˆæ²¡æœ‰æ‰‹åŠ¨æŠ›å‡ºï¼Œæ¢å¥è¯è¯´å°±æ˜¯æŠŠå¼‚å¸¸åæ‰äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæƒ³è¦springäº‹åŠ¡èƒ½å¤Ÿæ­£å¸¸å›æ»šï¼Œå¿…é¡»æŠ›å‡ºå®ƒèƒ½å¤Ÿå¤„ç†çš„å¼‚å¸¸ã€‚å¦‚æœæ²¡æœ‰æŠ›å¼‚å¸¸ï¼Œåˆ™springè®¤ä¸ºç¨‹åºæ˜¯æ­£å¸¸çš„ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;3.æ‰‹åŠ¨æŠ›äº†åˆ«çš„å¼‚å¸¸&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å³ä½¿å¼€å‘è€…æ²¡æœ‰æ‰‹åŠ¨æ•è·å¼‚å¸¸ï¼Œä½†å¦‚æœæŠ›çš„å¼‚å¸¸ä¸æ­£ç¡®ï¼Œspringäº‹åŠ¡ä¹Ÿä¸ä¼šå›æ»šã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.error(e.getMessage(),Â e);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;throw&lt;/span&gt;Â &lt;span&gt;new&lt;/span&gt;Â Exception(e);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„è¿™ç§æƒ…å†µï¼Œå¼€å‘äººå‘˜è‡ªå·±æ•è·äº†å¼‚å¸¸ï¼Œåˆæ‰‹åŠ¨æŠ›å‡ºäº†å¼‚å¸¸ï¼šExceptionï¼Œäº‹åŠ¡åŒæ ·ä¸ä¼šå›æ»šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºspringäº‹åŠ¡ï¼Œé»˜è®¤æƒ…å†µä¸‹åªä¼šå›æ»š&lt;code&gt;RuntimeException&lt;/code&gt;ï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰å’Œ&lt;code&gt;Error&lt;/code&gt;ï¼ˆé”™è¯¯ï¼‰ï¼Œå¯¹äºæ™®é€šçš„Exceptionï¼ˆéè¿è¡Œæ—¶å¼‚å¸¸ï¼‰ï¼Œå®ƒä¸ä¼šå›æ»šã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;4.è‡ªå®šä¹‰äº†å›æ»šå¼‚å¸¸&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä½¿ç”¨@Transactionalæ³¨è§£å£°æ˜äº‹åŠ¡æ—¶ï¼Œæœ‰æ—¶æˆ‘ä»¬æƒ³è‡ªå®šä¹‰å›æ»šçš„å¼‚å¸¸ï¼Œspringä¹Ÿæ˜¯æ”¯æŒçš„ã€‚å¯ä»¥é€šè¿‡è®¾ç½®&lt;code&gt;rollbackFor&lt;/code&gt;å‚æ•°ï¼Œæ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœè¿™ä¸ªå‚æ•°çš„å€¼è®¾ç½®é”™äº†ï¼Œå°±ä¼šå¼•å‡ºä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(rollbackForÂ =Â BusinessException&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;(&lt;span&gt;UserModel&lt;/span&gt;Â &lt;span&gt;userModel&lt;/span&gt;)Â &lt;span&gt;throws&lt;/span&gt;Â &lt;span&gt;Exception&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â Â Â Â updateData(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåœ¨æ‰§è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œä¿å­˜å’Œæ›´æ–°æ•°æ®æ—¶ï¼Œç¨‹åºæŠ¥é”™äº†ï¼ŒæŠ›äº†SqlExceptionã€DuplicateKeyExceptionç­‰å¼‚å¸¸ã€‚è€ŒBusinessExceptionæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„å¼‚å¸¸ï¼ŒæŠ¥é”™çš„å¼‚å¸¸ä¸å±äºBusinessExceptionï¼Œæ‰€ä»¥äº‹åŠ¡ä¹Ÿä¸ä¼šå›æ»šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å³ä½¿rollbackForæœ‰é»˜è®¤å€¼ï¼Œä½†é˜¿é‡Œå·´å·´å¼€å‘è€…è§„èŒƒä¸­ï¼Œè¿˜æ˜¯è¦æ±‚å¼€å‘è€…é‡æ–°æŒ‡å®šè¯¥å‚æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºå¦‚æœä½¿ç”¨é»˜è®¤å€¼ï¼Œä¸€æ—¦ç¨‹åºæŠ›å‡ºäº†Exceptionï¼Œäº‹åŠ¡ä¸ä¼šå›æ»šï¼Œè¿™ä¼šå‡ºç°å¾ˆå¤§çš„bugã€‚æ‰€ä»¥ï¼Œå»ºè®®ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°†è¯¥å‚æ•°è®¾ç½®æˆï¼šExceptionæˆ–Throwableã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;5.åµŒå¥—äº‹åŠ¡å›æ»šå¤šäº†&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â UserMapperÂ userMapper;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RoleServiceÂ roleService;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â userMapper.insertUser(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â roleService.doOtherThing();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;RoleService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;(propagationÂ =Â Propagation.NESTED)&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doOtherThing&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;ä¿å­˜roleè¡¨æ•°æ®&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§æƒ…å†µä½¿ç”¨äº†åµŒå¥—çš„å†…éƒ¨äº‹åŠ¡ï¼ŒåŸæœ¬æ˜¯å¸Œæœ›è°ƒç”¨roleService.doOtherThingæ–¹æ³•æ—¶ï¼Œå¦‚æœå‡ºç°äº†å¼‚å¸¸ï¼Œåªå›æ»šdoOtherThingæ–¹æ³•é‡Œçš„å†…å®¹ï¼Œä¸å›æ»š userMapper.insertUseré‡Œçš„å†…å®¹ï¼Œå³å›æ»šä¿å­˜ç‚¹ã€‚ã€‚ä½†äº‹å®æ˜¯ï¼ŒinsertUserä¹Ÿå›æ»šäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;why?&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºdoOtherThingæ–¹æ³•å‡ºç°äº†å¼‚å¸¸ï¼Œæ²¡æœ‰æ‰‹åŠ¨æ•è·ï¼Œä¼šç»§ç»­å¾€ä¸ŠæŠ›ï¼Œåˆ°å¤–å±‚addæ–¹æ³•çš„ä»£ç†æ–¹æ³•ä¸­æ•è·äº†å¼‚å¸¸ã€‚æ‰€ä»¥ï¼Œè¿™ç§æƒ…å†µæ˜¯ç›´æ¥å›æ»šäº†æ•´ä¸ªäº‹åŠ¡ï¼Œä¸åªå›æ»šå•ä¸ªä¿å­˜ç‚¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€ä¹ˆæ ·æ‰èƒ½åªå›æ»šä¿å­˜ç‚¹å‘¢ï¼Ÿ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Slf&lt;/span&gt;4j&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â UserMapperÂ userMapper;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RoleServiceÂ roleService;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â userMapper.insertUser(userModel);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â roleService.doOtherThing();&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â log.error(e.getMessage(),Â e);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥å°†å†…éƒ¨åµŒå¥—äº‹åŠ¡æ”¾åœ¨try/catchä¸­ï¼Œå¹¶ä¸”ä¸ç»§ç»­å¾€ä¸ŠæŠ›å¼‚å¸¸ã€‚è¿™æ ·å°±èƒ½ä¿è¯ï¼Œå¦‚æœå†…éƒ¨åµŒå¥—äº‹åŠ¡ä¸­å‡ºç°å¼‚å¸¸ï¼Œåªå›æ»šå†…éƒ¨äº‹åŠ¡ï¼Œè€Œä¸å½±å“å¤–éƒ¨äº‹åŠ¡ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸‰ å…¶ä»–&lt;/span&gt;&lt;/h2&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;1 å¤§äº‹åŠ¡é—®é¢˜&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä½¿ç”¨springäº‹åŠ¡æ—¶ï¼Œæœ‰ä¸ªè®©äººéå¸¸å¤´ç–¼çš„é—®é¢˜ï¼Œå°±æ˜¯å¤§äº‹åŠ¡é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨æ–¹æ³•ä¸Š&lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£ï¼Œå¡«åŠ äº‹åŠ¡åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;UserService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RoleServiceÂ roleService;&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â query1();&lt;br/&gt;Â Â Â Â Â Â Â query2();&lt;br/&gt;Â Â Â Â Â Â Â query3();&lt;br/&gt;Â Â Â Â Â Â Â roleService.save(userModel);&lt;br/&gt;Â Â Â Â Â Â Â update(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;RoleService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;Â &lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â RoleServiceÂ roleService;&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;@Transactional&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;save&lt;/span&gt;&lt;span&gt;(UserModelÂ userModel)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â query4();&lt;br/&gt;Â Â Â Â Â Â Â query5();&lt;br/&gt;Â Â Â Â Â Â Â query6();&lt;br/&gt;Â Â Â Â Â Â Â saveData(userModel);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†&lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£ï¼Œå¦‚æœè¢«åŠ åˆ°æ–¹æ³•ä¸Šï¼Œæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯æ•´ä¸ªæ–¹æ³•éƒ½åŒ…å«åœ¨äº‹åŠ¡å½“ä¸­äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œåœ¨UserServiceç±»ä¸­ï¼Œå…¶å®åªæœ‰è¿™ä¸¤è¡Œæ‰éœ€è¦äº‹åŠ¡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;roleService.save(userModel);&lt;br/&gt;update(userModel);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨RoleServiceç±»ä¸­ï¼Œåªæœ‰è¿™ä¸€è¡Œéœ€è¦äº‹åŠ¡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;saveData(userModel);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°åœ¨çš„è¿™ç§å†™æ³•ï¼Œä¼šå¯¼è‡´æ‰€æœ‰çš„queryæ–¹æ³•ä¹Ÿè¢«åŒ…å«åœ¨åŒä¸€ä¸ªäº‹åŠ¡å½“ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœqueryæ–¹æ³•éå¸¸å¤šï¼Œè°ƒç”¨å±‚çº§å¾ˆæ·±ï¼Œè€Œä¸”æœ‰éƒ¨åˆ†æŸ¥è¯¢æ–¹æ³•æ¯”è¾ƒè€—æ—¶çš„è¯ï¼Œä¼šé€ æˆæ•´ä¸ªäº‹åŠ¡éå¸¸è€—æ—¶ï¼Œè€Œä»é€ æˆå¤§äº‹åŠ¡é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2759259259259259&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/uL371281oDEBCPPbyDJ73OtgGneSbqS4EPv3uEv9HEcX4hevWFJGDG8gPspHNL0abAiaEvxZoGZbBIkTbBQGfHQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;2.ç¼–ç¨‹å¼äº‹åŠ¡&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢èŠçš„è¿™äº›å†…å®¹éƒ½æ˜¯åŸºäº&lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£çš„ï¼Œä¸»è¦è¯´çš„æ˜¯å®ƒçš„äº‹åŠ¡é—®é¢˜ï¼Œæˆ‘ä»¬æŠŠè¿™ç§äº‹åŠ¡å«åšï¼š&lt;code&gt;å£°æ˜å¼äº‹åŠ¡&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œspringè¿˜æä¾›äº†å¦å¤–ä¸€ç§åˆ›å»ºäº‹åŠ¡çš„æ–¹å¼ï¼Œå³é€šè¿‡æ‰‹åŠ¨ç¼–å†™ä»£ç å®ç°çš„äº‹åŠ¡ï¼Œ&lt;span&gt;æˆ‘ä»¬æŠŠè¿™ç§äº‹åŠ¡å«åš&lt;/span&gt;ï¼š&lt;code&gt;ç¼–ç¨‹å¼äº‹åŠ¡&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;br/&gt;Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â &lt;span&gt;private&lt;/span&gt;Â TransactionTemplateÂ transactionTemplate;&lt;br/&gt;Â Â Â &lt;br/&gt;Â Â Â ...&lt;br/&gt;Â Â Â &lt;br/&gt;Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;save&lt;/span&gt;&lt;span&gt;(&lt;span&gt;final&lt;/span&gt;Â UserÂ user)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData1();&lt;br/&gt;Â Â Â Â Â Â Â Â Â queryData2();&lt;br/&gt;Â Â Â Â Â Â Â Â Â transactionTemplate.execute((status)Â =&amp;gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â addData1();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â updateData2();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â Boolean.TRUE;&lt;br/&gt;Â Â Â Â Â Â Â Â Â })&lt;br/&gt;Â Â Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨springä¸­ä¸ºäº†æ”¯æŒç¼–ç¨‹å¼äº‹åŠ¡ï¼Œä¸“é—¨æä¾›äº†ä¸€ä¸ªç±»ï¼šTransactionTemplateï¼Œåœ¨å®ƒçš„executeæ–¹æ³•ä¸­ï¼Œå°±å®ç°äº†äº‹åŠ¡çš„åŠŸèƒ½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸è¾ƒäº&lt;code&gt;@Transactional&lt;/code&gt;æ³¨è§£å£°æ˜å¼äº‹åŠ¡ï¼Œæˆ‘æ›´å»ºè®®å¤§å®¶ä½¿ç”¨ï¼ŒåŸºäº&lt;code&gt;TransactionTemplate&lt;/code&gt;çš„ç¼–ç¨‹å¼äº‹åŠ¡ã€‚ä¸»è¦åŸå› å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;é¿å…ç”±äºspring aopé—®é¢˜ï¼Œå¯¼è‡´äº‹åŠ¡å¤±æ•ˆçš„é—®é¢˜ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;èƒ½å¤Ÿæ›´å°ç²’åº¦çš„æ§åˆ¶äº‹åŠ¡çš„èŒƒå›´ï¼Œæ›´ç›´è§‚ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å»ºè®®åœ¨é¡¹ç›®ä¸­å°‘ä½¿ç”¨@Transactionalæ³¨è§£å¼€å¯äº‹åŠ¡ã€‚ä½†å¹¶ä¸æ˜¯è¯´ä¸€å®šä¸èƒ½ç”¨å®ƒï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰äº›ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”ä¸ç»å¸¸å˜åŠ¨ï¼Œä½¿ç”¨@Transactionalæ³¨è§£å¼€å¯äº‹åŠ¡å¼€å¯äº‹åŠ¡ä¹Ÿæ— å¦¨ï¼Œå› ä¸ºå®ƒæ›´ç®€å•ï¼Œå¼€å‘æ•ˆç‡æ›´é«˜ï¼Œä½†æ˜¯åƒä¸‡è¦å°å¿ƒäº‹åŠ¡å¤±æ•ˆçš„é—®é¢˜ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>baaf901d617cb9d028fdf52f30613716</guid>
<title>ä¸ºä»€ä¹ˆGOLANGçš„TIMERå®ç°ä½¿ç”¨å››å‰å †è€Œä¸æ˜¯äºŒå‰å †</title>
<link>https://toutiao.io/k/i3e1v7i</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;article id=&quot;post-39627&quot; class=&quot;post-content post-39627 post type-post status-publish format-standard hentry category-16 tag-heap tag-timer tag-498 tag-500 tag-497 h-entry h-as-article&quot; itemref=&quot;site-publisher&quot;&gt;
&lt;header class=&quot;entry-header&quot;&gt;
 &lt;/header&gt;

&lt;div class=&quot;entry-content e-content&quot; itemprop=&quot;description articleBody&quot;&gt;
&lt;pre&gt;&lt;code class=&quot;&quot;&gt;ç‰ˆæƒå£°æ˜ æœ¬ç«™åŸåˆ›æ–‡ç«  ç”± èŒå” å‘è¡¨
è½¬è½½è¯·æ³¨æ˜ èŒå” | http://vearne.cc
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;1.å¼•è¨€&lt;/h3&gt;
&lt;p&gt;Golangåœ¨Timer(è®¡æ—¶å™¨)çš„å®ç°ä¸­ä½¿ç”¨äº†å››å‰å †ï¼Œè€Œä¸æ˜¯å¸¸è§çš„äºŒå‰å †ï¼Œè¿™ä¸ªé—®é¢˜å¼•èµ·äº†æˆ‘çš„å…´è¶£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šçš„è§£é‡Šæ˜¯è¿™æ ·çš„&lt;br/&gt;
&lt;img src=&quot;http://ut-bucket01.sh1a.qingstor.com/woshiaotian/20211228/59f1eb2e-67a4-11ec-b5b4-1e00da114f95.jpeg&quot; alt=&quot;&quot; data-pagespeed-url-hash=&quot;967164888&quot;/&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æˆ‘ä»”ç»†æŸ¥é˜…äº†èµ„æ–™ä»¥åï¼Œæœ‰äº†ç‚¹æœ‰è¶£çš„å‘ç°ã€‚&lt;/p&gt;
&lt;h3&gt;2.è¯´æ˜&lt;/h3&gt;
&lt;p&gt;å‡è®¾: å †ä¸º&lt;code&gt;d&lt;/code&gt;å‰å †ï¼Œå †ä¸­å…±æœ‰&lt;code&gt;n&lt;/code&gt;ä¸ªèŠ‚ç‚¹&lt;br/&gt;
å¤‡æ³¨: æ—¶é—´å¤æ‚åº¦çš„è¯æ˜è§&lt;a href=&quot;https://en.wikipedia.org/wiki/D-ary_heap&quot;&gt;d-ary heap&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Timeræœ€å¸¸è§çš„2ä¸ªæ“ä½œ&lt;/p&gt;

&lt;p&gt;æ·»åŠ ä¸€ä¸ªè®¡æ—¶å™¨ã€‚æ¶‰åŠ &lt;em&gt;sift-up&lt;/em&gt;ï¼ˆä¸Šæ¨ï¼‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(log n / log d)&lt;/p&gt;
&lt;p&gt;Pythonä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-python &quot;&gt;import math
result = math.log(n, d)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;æ—¶é—´æ¶ˆè€—ï¼ˆéœ€è¦äº¤æ¢æˆ–è€…æ¯”è¾ƒçš„æ¬¡æ•°ï¼‰&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;n(æ•°é‡)&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;äºŒå‰å †&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;å››å‰å †&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;å…«å‰å †&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;1w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;13.3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;6.64&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.43&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;10w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;16.61&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;8.30&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;5.54&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;100w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;19.93&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;9.97&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;6.64&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;1000w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;23.25&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;11.63&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;7.75&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;æŒ‡å®šæ—¶é—´åˆ°è¾¾åï¼Œæ¸…é™¤è®¡æ—¶å™¨ã€‚æ¶‰åŠ &lt;em&gt;sift-down&lt;/em&gt;ï¼ˆä¸‹æ¨ï¼‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(d * log n / log d)&lt;/p&gt;
&lt;p&gt;Pythonä»£ç &lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-python &quot;&gt;import math
result = d * math.log(n, d)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;æ—¶é—´æ¶ˆè€—ï¼ˆéœ€è¦äº¤æ¢æˆ–è€…æ¯”è¾ƒçš„æ¬¡æ•°ï¼‰&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;left&quot;&gt;n(æ•°é‡)&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;äºŒå‰å †&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;å››å‰å †&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;å…«å‰å †&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;1w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;26.58&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;26.58&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;35.43&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;10w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33.33&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33.33&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;44.29&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;100w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;39.86&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;39.86&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;53.15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;left&quot;&gt;1000w&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;46.51&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;46.51&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;62.01&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;3. ç»“è®º&lt;/h3&gt;
&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ’å…¥æ“ä½œï¼šå¤šå‰å †æ‰§è¡Œæ€§èƒ½ä¼˜äºäºŒå‰å †; åˆ é™¤æ“ä½œï¼šå¤šå‰å †æ‰§è¡Œæ€§èƒ½å¼±äºäºŒå‰å †ã€‚&lt;br/&gt;
ä½†æ˜¯ç»†å¿ƒçš„æœ‹å‹åº”è¯¥å·²ç»å‘ç°ï¼Œ&lt;strong&gt;å››å‰å †æ’å…¥æ“ä½œçš„è€—æ—¶åªæœ‰äºŒå‰å †çš„ä¸€åŠï¼Œè€Œåˆ é™¤æ“ä½œçš„è€—æ—¶ä¸å››å‰å †å®Œå…¨ç›¸åŒã€‚&lt;/strong&gt; è¿™ä¹ˆä¸€å¯¹æ¯”ï¼Œä¼˜åŠ¿ç¡®å®æ˜¾è‘—ã€‚&lt;/p&gt;
&lt;h3&gt;å‚è€ƒèµ„æ–™&lt;/h3&gt;
&lt;p&gt;1.&lt;a href=&quot;https://en.wikipedia.org/wiki/Heap_(data_structure)&quot;&gt;Heap (data structure)&lt;/a&gt;&lt;br/&gt;
2.&lt;a href=&quot;https://en.wikipedia.org/wiki/Binary_heap&quot;&gt;Binary heap&lt;/a&gt;&lt;br/&gt;
3.&lt;a href=&quot;https://en.wikipedia.org/wiki/D-ary_heap&quot;&gt;d-ary heap&lt;/a&gt;&lt;br/&gt;
4.&lt;a href=&quot;https://www.cyhone.com/articles/analysis-of-golang-timer/&quot;&gt;Golang å®šæ—¶å™¨åº•å±‚å®ç°æ·±åº¦å‰–æ&lt;/a&gt;&lt;br/&gt;
5.&lt;a href=&quot;https://www.jianshu.com/p/6b526aa481b1&quot;&gt;æ•°æ®ç»“æ„ï¼šå †ï¼ˆHeapï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;hr/&gt;
&lt;h4&gt;è¯·æˆ‘å–ç“¶é¥®æ–™&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://static.zybuluo.com/woshiaotian/ohw8kvpn5k7hthgbuol4e4aq/WechatIMG29.jpg&quot; alt=&quot;å¾®ä¿¡æ”¯ä»˜ç &quot; data-pagespeed-url-hash=&quot;2495828515&quot;/&gt;&lt;/p&gt;

&lt;p class=&quot;clear&quot;/&gt;
&lt;/div&gt;
&lt;nav class=&quot;navigation post-navigation&quot; role=&quot;navigation&quot; aria-label=&quot;æ–‡ç« &quot;&gt;
&lt;h2 class=&quot;screen-reader-text&quot;&gt;æ–‡ç« å¯¼èˆª&lt;/h2&gt;

&lt;/nav&gt; &lt;p class=&quot;clear&quot;/&gt;

&lt;/article&gt;
&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d4d04f5f799f676a04ff1d4b276467d8</guid>
<title>æ›´å¿«çš„ Maven æ¥äº†</title>
<link>https://toutiao.io/k/x3pyz54</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;p class=&quot;original_area_primary&quot;&gt;
                                                                                                &lt;/p&gt;

                    
                                            &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;MavenÂ &lt;/span&gt;&lt;span&gt;ç»å¸¸è¢«æ‹¿æ¥å’ŒÂ &lt;/span&gt;&lt;span&gt;GradleÂ &lt;/span&gt;&lt;span&gt;åšå¯¹æ¯”ï¼Œæœ€å¤§çš„åŠ£åŠ¿ä¹‹ä¸€å°±æ˜¯Â &lt;/span&gt;&lt;span&gt;MavenÂ &lt;/span&gt;&lt;span&gt;æ„å»ºæ…¢ï¼Œ&lt;/span&gt;&lt;span&gt;GradleÂ &lt;/span&gt;&lt;span&gt;æ¯”Â &lt;/span&gt;&lt;span&gt;MavenÂ &lt;/span&gt;&lt;span&gt;æ„å»ºé€Ÿåº¦å¿« 2 åˆ° 10 å€ï¼Œè€Œå¦‚&lt;/span&gt;&lt;span&gt;ä»ŠÂ &lt;/span&gt;&lt;span&gt;MavenÂ &lt;/span&gt;&lt;span&gt;ä¹Ÿå¯ä»¥æ›´å¿«äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Apache MavenÂ å›¢é˜Ÿä»Â GradleÂ å’ŒÂ Takariï¼ˆMaven ç”Ÿå‘½å‘¨æœŸä¼˜åŒ–å™¨&lt;/span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;span&gt;ï¼‰ä¸­è·å¾—çµæ„Ÿï¼Œå¯¹Â MavenÂ è¿›è¡Œäº†å¼ºåŒ–ï¼Œè¡ç”Ÿå‡ºÂ maven-mvndÂ é¡¹ç›®&lt;span&gt;[&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ä»‹ç»&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;mvnd å¹¶ä¸æ˜¯å¯¹ Maven è¿›è¡Œäº†é‡æ„ï¼Œè€Œæ˜¯å†…ç½®äº† Mavenã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ª Maven å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æ¥æ‰§è¡Œå®é™…çš„æ„å»ºæœåŠ¡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹å®ä¾‹å¯ä»¥ä¸ºæ¥è‡ª mvnd å®¢æˆ·ç«¯çš„å¤šä¸ªè¿ç»­è¯·æ±‚æä¾› Maven æ„å»ºæœåŠ¡ã€‚å½“æ²¡æœ‰ç©ºé—²çš„å®ˆæŠ¤è¿›ç¨‹æ—¶æ¥æ”¯æ’‘æ„å»ºè¯·æ±‚æ—¶ï¼Œmvnd å¯ä»¥å¹¶è¡Œç”Ÿæˆå¤šä¸ªå®ˆæŠ¤ç¨‹åºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;ä½¿ç”¨ GraalVM ä»£æ›¿ JVM&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;mvnd ä¹‹æ‰€ä»¥å¿«ï¼Œæ˜¯å› ä¸ºå®ƒä½¿ç”¨äº† GraalVM æ›¿ä»£äº†ä¼ ç»Ÿçš„ JVMã€‚å› æ­¤å®ƒå¯åŠ¨æ›´å¿«ï¼Œå ç”¨å†…å­˜æ›´å°‘ï¼Œè€Œä¸”åœ¨å®è¡Œæ„å»ºæ—¶ä¸éœ€è¦ä¸ºæ¯ä¸ªæ„å»ºå¯åŠ¨æ–°çš„ JVMã€‚å¦å¤–ï¼ŒMaven æ’ä»¶åœ¨æ„å»ºæ—¶ä¸å†éœ€è¦å¤šæ¬¡åŠ è½½ï¼Œè€Œæ˜¯ç¼“å­˜åœ¨å¤šä¸ªæ„å»ºä¸­ã€‚SNAPSHOT ç‰ˆæœ¬çš„ Maven æ’ä»¶ä¸ä¼šè¢«ç¼“å­˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;æ”¯æŒJIT&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;GraalVM çš„ JITï¼ˆJust In Timeï¼‰å®æ—¶ç¼–è¯‘ç‰¹æ€§ä¹Ÿè¢«è¿ç”¨åˆ° Maven æ„å»ºä½œä¸šä¸­ã€‚JIT å¯ä»¥å¤§å¤§é™ä½ç¼–è¯‘æ—¶é—´ã€‚åœ¨é‡å¤æ„å»ºè¿‡ç¨‹ä¸­ï¼ŒJIT ä¼˜åŒ–ä»£ç ç«‹å³å¯ç”¨ï¼Œä¹Ÿæå¤§æé«˜äº†æ„å»ºæ•ˆç‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å¹¶è¡Œæ„å»º&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç›®å‰ Maven3 çš„å¹¶è¡Œæ„å»ºï¼ˆparallel buildsï¼‰è¿˜æ˜¯å®éªŒç‰¹æ€§ï¼Œè€Œä¸”è¦æ±‚ä½¿ç”¨çš„æ’ä»¶å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è€Œ mvnd é»˜è®¤å°±æ”¯æŒä½¿ç”¨å¤šä¸ª CPU å†…æ ¸è¿›è¡Œå¹¶è¡Œæ„å»ºã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„æºä»£ç ä¸æ”¯æŒå¹¶è¡Œæ„å»ºï¼Œä¹Ÿ&lt;/span&gt;&lt;span&gt;å¯ä»¥é€šè¿‡æ·»åŠ  -T1 å‚æ•°åˆ‡æ¢åˆ°ä¸²è¡Œæ„å»ºã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ç®€å•å°è¯•&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ¥ä¸‹æ¥ç®€å•å°è¯•ä¸€ä¸‹ mvndã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å®‰è£…&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç›®å‰ mvnd å·²ç»æ”¯æŒ Linuxã€MacOSã€Windows å¹³å°ã€‚ä½ å¯ä»¥åˆ†åˆ«é€šè¿‡ SDKMANã€Homebrewã€Chocolatey è¿™äº›åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ã€‚ä¹Ÿå¯ä»¥ç›´æ¥å» mvnd å‘è¡Œç‰ˆä»“åº“&lt;span&gt;[&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶è¿›è¡Œå®‰è£…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¿™é‡Œä»¥ Windows ä¸ºä¾‹ï¼Œæˆ‘é€‰æ‹© Chocolatey å®‰è£…ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;nginx&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__attribute&quot;&gt;choco&lt;/span&gt; install mvndaemon&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;span/&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ—¶é—´å¯èƒ½æ¯”è¾ƒé•¿ä¸€äº›ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;é…ç½®&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;é…ç½®å¾ˆç®€å•ï¼Œåªéœ€è¦æ³¨æ„ä¸¤ç‚¹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¦‚æœä¸ä½¿ç”¨åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ï¼Œè¯·ç¡®ä¿ mvnd çš„ bin ç›®å½•å…³è”åˆ° PATHï¼›&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¦‚æœæ²¡æœ‰é…ç½®æˆ–è€…ä¸æƒ³é…ç½® JAVA_HOME ç¯å¢ƒå˜é‡ï¼Œè¯·åœ¨ ~/.m2/mvnd.properties ä¸­è®¾ç½® java.home ä»¥æŒ‡å®š Java ç›®ã€‚ä¾‹å¦‚ java.home=C:\\AdoptOpenJDK\\jdk-8ã€‚å·²ç»é…ç½®ç¯å¢ƒå˜é‡çš„è¯·å¿½ç•¥è¯¥æ¡ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å…¶å®ƒé…ç½®é¡¹å¯å‚è€ƒ mvnd é…ç½®&lt;span&gt;[&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;ä½¿ç”¨&lt;/span&gt;&lt;/strong&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å®‰è£…é…ç½®å®Œæ¯•åï¼Œå‘½ä»¤è¡Œæ‰§è¡Œ mvnd --version å‡ºç°ä¸‹åˆ—ç»“æœï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;css&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mvnd&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;--version&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mvnd&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;native&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;client&lt;/span&gt; 0&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.1-windows-amd64&lt;/span&gt; (97&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;c587c11383a67b5bd0ff8388bd94c694b91c1e&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Terminal&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;org&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.jline&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.terminal&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.impl&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.jansi&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.win&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.JansiWinSysTerminal&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Apache&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Maven&lt;/span&gt; 3&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.8&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.3&lt;/span&gt; (&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;ff8e977a158738155dc465c6a97ffaf31982d739&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Maven&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;home&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;C&lt;/span&gt;:\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Program&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Files&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mvndaemon&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mvnd-0&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.1-windows-amd64&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;mvn&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Java&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;version&lt;/span&gt;: 1&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.8&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.0_282&lt;/span&gt;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;vendor&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;AdoptOpenJDK&lt;/span&gt;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;runtime&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;C&lt;/span&gt;:\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Program&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Files&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;AdoptOpenJDK&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;jdk-8&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.0&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.282&lt;/span&gt;&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.8-hotspot&lt;/span&gt;\&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;jre&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;Default&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;locale&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;zh_CN&lt;/span&gt;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;platform&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;encoding&lt;/span&gt;: &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;GBK&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;OS&lt;/span&gt; &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;name&lt;/span&gt;: &quot;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;windows&lt;/span&gt; 10&quot;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;version&lt;/span&gt;: &quot;10&lt;span class=&quot;code-snippet__selector-class&quot;&gt;.0&lt;/span&gt;&quot;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;arch&lt;/span&gt;: &quot;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;amd64&lt;/span&gt;&quot;, &lt;span class=&quot;code-snippet__selector-tag&quot;&gt;family&lt;/span&gt;: &quot;&lt;span class=&quot;code-snippet__selector-tag&quot;&gt;windows&lt;/span&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;br/&gt;&lt;span/&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ä¸ºäº†é™ä½å­¦ä¹ æˆæœ¬ï¼Œmvnd çš„æ–¹å¼å’Œä¼ ç»Ÿ Maven ç±»ä¼¼ï¼Œmvn å˜æˆäº† mvndã€‚ä¹Ÿå¯ä»¥é€šè¿‡ mvnd --help æ¥æŸ¥çœ‹å®Œæ•´çš„å‘½ä»¤é€‰é¡¹æ¸…å•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;è¯´å®è¯å¹¶è¡Œæ„å»ºå°±æ˜¯å¿«ï¼Œç®€ç›´åç«ç®­ä¸€èˆ¬ã€‚å¦å¤–ï¼Œæ§åˆ¶å°è¾“å‡ºä¹Ÿä¼˜åŒ–äº†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5399737876802096&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_gif/zuF5sJGRDCsYhLR7DMmm1HIU6O2tkJzA5q3I9zIFXtSUrqakNmfR31gYdqrHicZNicicosaHib6CYQFLsLTtlFNtSA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;763&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç”±äº GraalVM çš„åŠ æŒï¼Œè¿™ä¸ªå·¥å…·å¾ˆå¯èƒ½ä¼šå»¶é•¿ Maven çš„ç”Ÿå‘½ï¼Œé¿å…è¿‡æ—©è¢« Gradle æ‹‰å¼€å·®è·ã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œè¿™ä¸ªé¡¹ç›®å¯ä»¥è§‚æœ›ä¸€ä¸‹ï¼Œçœ‹çœ‹ Apache Maven å®˜æ–¹çš„è¿›ä¸€æ­¥åŠ¨ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;[1] Takariï¼ˆMavenç”Ÿå‘½å‘¨æœŸä¼˜åŒ–å™¨ï¼‰ï¼šhttp://takari.io/book/40-lifecycle.html&lt;br/&gt;[2] maven-mvndï¼šhttps://github.com/apache/maven-mvnd&lt;br/&gt;[3] mvnd å‘è¡Œç‰ˆä»“åº“ï¼šhttps://github.com/mvndaemon/mvnd/releases&lt;br/&gt;[4] mvndé…ç½®ï¼šhttps://github.com/mvndaemon/mvnd/blob/master/dist/src/main/distro/conf/mvnd.properties&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;- EOF -&lt;/span&gt;&lt;/p&gt;&lt;section donone=&quot;shifuMouseDownCard(&#x27;shifu_c_030&#x27;)&quot; label=&quot;Copyright Reserved by PLAYHUDONG.&quot;&gt;&lt;section&gt;&lt;span&gt;æ¨èé˜…è¯»&lt;/span&gt;Â Â &lt;span&gt;ç‚¹å‡»æ ‡é¢˜å¯è·³è½¬&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;1ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651493029&amp;amp;idx=1&amp;amp;sn=71c765e2793b4c98aa3384b75365b8a7&amp;amp;chksm=bd25feda8a5277cc9c3a97f3b96bfd277d6f21666547384bccd3b81097557cf1e54d08101695&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Maven ä¾èµ–ç®¡ç†&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Maven ä¾èµ–ç®¡ç†&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651483677&amp;amp;idx=1&amp;amp;sn=9748372e1cd8fa913cbca733437ccccd&amp;amp;chksm=bd2502628a528b74451b8114c5290d39e5b628c3698bb1ca4f6b7807100b8bd3880c6ebab914&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Maven è™æˆ‘åƒç™¾éï¼Œæˆ‘å¾… Maven å¦‚åˆæ‹&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Maven è™æˆ‘åƒç™¾éï¼Œæˆ‘å¾… Maven å¦‚åˆæ‹&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MjM5NzMyMjAwMA==&amp;amp;mid=2651478904&amp;amp;idx=2&amp;amp;sn=0a21fc3764df91c1376c20c9dc535430&amp;amp;chksm=bd2537078a52be11f541c12ec77c883071061e3a7e1df189ed522e87adbd454a15ce9c9bccd1&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Maven ä¸­ jar åŒ…å†²çªçš„æ’æŸ¥ç»éªŒè°ˆ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Maven ä¸­ jar åŒ…å†²çªçš„æ’æŸ¥ç»éªŒè°ˆ&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çœ‹å®Œæœ¬æ–‡æœ‰æ”¶è·ï¼Ÿè¯·è½¬å‘åˆ†äº«ç»™æ›´å¤šäºº&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;å…³æ³¨ã€ŒImportNewã€ï¼Œæå‡JavaæŠ€èƒ½&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-ratio=&quot;0.9166666666666666&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/2A8tXicCG8ylbWIGfdoDED35IRRySQZTXUkJ1eop9MHApzFibKnOo0diboXpl0rmS5mH78YJhsWQv0dhv718A6kUA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;600&quot; class=&quot;rich_pages wxw-img&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;ç‚¹èµå’Œåœ¨çœ‹å°±æ˜¯æœ€å¤§çš„æ”¯æŒ&lt;/span&gt;&lt;span&gt;â¤ï¸&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>