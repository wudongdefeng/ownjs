<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>2803f093afb1d608205eafe2f5d8a363</guid>
<title>å¦‚ä½•é€šè¿‡é¡¹ç›®å¤ç›˜æ¥åŠ é€Ÿä¸ªäººæˆé•¿</title>
<link>https://toutiao.io/k/ys08f63</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ ·å·¥ä½œå¹´é™çš„äººï¼Œèƒ½åŠ›å¯èƒ½å·®åˆ«å¾ˆå¤§ã€‚å·¥ä½œ 5 å¹´çš„å‰ç«¯ï¼Œæœ‰çš„åªä¼šåšç®€å•çš„ä»»åŠ¡ï¼Œæœ‰çš„å·²ç»å¯ä»¥ç‹¬å½“ä¸€é¢äº†ã€‚å¯¼è‡´è¿™ç§æƒ…å†µçš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ¬è´¨æ˜¯æˆé•¿çš„é€Ÿåº¦ä¸åŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜å¯ä»¥åŠ é€Ÿä¸ªäººæˆé•¿ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»ï¼Œä¸ªäººé€šè¿‡é¡¹ç›®å¤ç›˜æ¥åŠ é€Ÿæˆé•¿çš„æ–¹æ³•ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä»€ä¹ˆæ˜¯å¤ç›˜&lt;/h2&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å¤ç›˜æœ¬æ˜¯å›´æ£‹æœ¯è¯­ï¼Œæ„æŒ‡å¯¹å¼ˆè€…åœ¨ä¸‹å®Œä¸€ç›˜æ£‹åï¼ŒæŠŠå¯¹å¼ˆè¿‡ç¨‹é‡æ–°æ‘†ä¸€éï¼Œå¯»æ‰¾æ”¹è¿›ç‚¹ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜å°±æ˜¯ä»ç»éªŒä¸­å­¦ä¹ ã€‚åšå¾—ä¸å¥½çš„åœ°æ–¹ï¼Œé¿å…ä¸‹æ¬¡å†çŠ¯ã€‚åšå¾—å¥½çš„åœ°æ–¹ï¼Œäº‰å–ä¸‹æ¬¡èƒ½åšå¾—æ›´å¥½ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å»ºè®®åœ¨åšå®Œé¡¹ç›®çš„ä¸€å‘¨å†…åšå¤ç›˜ã€‚è¿™æ—¶ï¼Œå¯¹é¡¹ç›®çš„æ„Ÿè§¦æ˜¯æœ€æ–°é²œçš„~&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;å¤ç›˜çš„æ­¥éª¤&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšå¥½å¤ç›˜ï¼Œä¸»è¦åˆ†ä¸º 5 æ­¥ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å®šä¸»é¢˜&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åšå›é¡¾&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ‰¾æ ¹å› &lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å®šç­–ç•¥&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;è·Ÿè¸ªè½åœ°&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ 1 æ­¥: å®šä¸»é¢˜&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®šä¸»é¢˜å°±æ˜¯ç¡®å®šå¤ç›˜çš„ä¸»é¢˜ã€‚å¤ç›˜å‰ï¼Œå¦‚æœæ²¡ç¡®å®šä¸»é¢˜ï¼Œæƒ³æ³•æœ‰å¾ˆå¤šï¼Œä¼šæœ‰æ— ä»ä¸‹æ‰‹çš„æ„Ÿè§‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜çš„ä¸»é¢˜å¯ä»¥ä»é¡¹ç›®ç‰¹ç‚¹æ¥è€ƒè™‘ã€‚é¡¹ç›®çš„åŠŸèƒ½æ¯”è¾ƒå¤æ‚ï¼Œä¸»é¢˜å¯ä»¥æ˜¯: å¤æ‚ä¸šåŠ¡çš„ä»£ç ç»„ç»‡ã€‚é¡¹ç›®å¤§é‡ç”¨äº†æŸæ–°æŠ€æœ¯ï¼Œä¸»é¢˜å¯ä»¥æ˜¯: xxæŠ€æœ¯åˆ†æã€‚é¡¹ç›®æœ‰å¾ˆå¤šè·¨éƒ¨é—¨æ²Ÿé€šçš„å†…å®¹ï¼Œä¸»é¢˜å¯ä»¥æ˜¯ï¼šå¦‚ä½•åšå¥½è·¨éƒ¨é—¨æ²Ÿé€šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜çš„ä¸»é¢˜å¯ä»¥ä»é¡¹ç›®çš„ç»“æœæ¥è€ƒè™‘ã€‚ä¸»é¢˜å¯ä»¥æ˜¯ï¼šæˆåŠŸåŸå› åˆ†æï¼Œå¤±è´¥åŸå› åˆ†æã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜çš„ä¸»é¢˜å¯ä»¥ä»ä¸ªäººçš„èŒä½å’Œå‘å±•æ–¹å‘æ¥è€ƒè™‘ã€‚ä¸“æ³¨ä»£ç è´¨é‡çš„åŒå­¦ï¼Œä¸»é¢˜å¯ä»¥æ˜¯ï¼šé™ä½ä»£ç çš„å¤æ‚åº¦ã€‚ä¸“æ³¨æ€§èƒ½çš„åŒå­¦ï¼Œä¸»é¢˜å¯ä»¥æ˜¯ï¼šæ¸²æŸ“æ€§èƒ½ä¼˜åŒ–åˆ†æã€‚é¡¹ç›® Leader ä¸»é¢˜å¯ä»¥æ˜¯ï¼šæå‡å¼€å‘ä½“éªŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¦æ³¨æ„çš„æ˜¯ï¼Œä¸»é¢˜ä¸è¦å¤ªå¤§ã€‚ä¸»é¢˜è¶Šå¤§ï¼Œè€ƒè™‘çš„å†…å®¹å°±è¶Šå¤šï¼Œå®¹æ˜“æ²¡æœ‰é‡ç‚¹ï¼Œä¹Ÿè¶Šéš¾å†™ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœè§‰å¾—æ²¡æ³•ç”¨ä¸€ä¸ªä¸»é¢˜æè¿°ä¸€æ¬¡å¤ç›˜ã€‚å¯ä»¥æœ‰å¤šä¸ªä¸»é¢˜ã€‚å½“ç„¶ï¼Œå¦‚æœå®åœ¨ä¸çŸ¥é“èµ·ä»€ä¹ˆä¸»é¢˜ï¼Œé‚£å°±éšç¼˜å§XD&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ 2 æ­¥: åšå›é¡¾&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšå›é¡¾å°±æ˜¯ä»”ç»†å›é¡¾åšé¡¹ç›®çš„æ•´ä¸ªè¿‡ç¨‹ã€‚åœ¨å›é¡¾çš„è¿‡ç¨‹ä¸­ï¼Œç»“åˆä¸»é¢˜ï¼Œåˆ—å‡ºåšçš„å¥½çš„å’Œä¸å¥½çš„å†…å®¹ã€‚&lt;/p&gt;&lt;h4 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ä¸¾ä¸ªä¾‹å­&lt;span/&gt;&lt;/h4&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6244784422809457&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/mEakJnD74m9OaaDmwM9jKHcTw4vwZKtb8mXfoJgyaGicwCZZRiaRDLlibDeRt9jgYjo2hkQuojTnD66VeuX9Czf3Q/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1438&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šå›¾æ˜¯æˆ‘æœ€è¿‘åšäº†ä¸€ä¸ªå¤šæœˆçš„ä»»åŠ¡ï¼šé¡¹ç›®é›†çš„è®¡åˆ’é¡µã€‚é¡µé¢æ˜¾ç¤ºäº†ä»»åŠ¡å’Œé‡Œç¨‹ç¢‘çš„ç”˜ç‰¹å›¾ã€‚ç”¨æˆ·åœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œå¯ä»¥å¯¹ä»»åŠ¡å’Œé‡Œç¨‹ç¢‘è¿›è¡Œæ–°å»ºï¼Œç¼–è¾‘ï¼Œæ’åºï¼Œåˆ é™¤ç­‰æ“ä½œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŠ€æœ¯æ ˆæ˜¯ Reactã€‚ç»„ä»¶åŸºæœ¬éƒ½æ˜¯å‡½æ•°ç»„ä»¶ã€‚ç®¡ç†å¤šç»„ä»¶é—´å…±äº«çš„æ•°æ®ç”¨çš„æ˜¯ React è‡ªå¸¦çš„ &lt;span&gt;Context API&lt;/span&gt;&lt;sup&gt;[1]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤ç›˜çš„ä¸»é¢˜æ˜¯ï¼š&lt;strong&gt;æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–åˆ†æ&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšçš„å¥½çš„éƒ¨åˆ†ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;å¯¹å¤§éƒ¨åˆ†ç»„ä»¶éƒ½ç”¨äº† &lt;code&gt;React.memo&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å‡½æ•°å±æ€§åŸºæœ¬éƒ½ç”¨äº† &lt;code&gt;useCallback&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;åœ¨å¿…è¦çš„åœ°æ–¹ç”¨äº† &lt;code&gt;useMemo&lt;/code&gt;ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åšçš„ä¸å¥½çš„åœ°æ–¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æœ‰ 2 ä¸ªæ¯”è¾ƒå¤§çš„ Contextã€‚å¯¼è‡´ç”¨åˆ°è¿™ä¸¤ä¸ª Context çš„ç»„ä»¶æœ‰æ—¶ä¼šäº§ç”Ÿä¸å¿…è¦çš„æ¸²æŸ“ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ç”˜ç‰¹å›¾æ€§èƒ½ä¸å¥½ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ 3 æ­¥: æ‰¾æ ¹å› &lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰¾æ ¹å› å°±æ˜¯äº§ç”Ÿç»“æœçš„çš„æ ¹æœ¬åŸå› ã€‚æ‰¾æ ¹å› å¯ä»¥ç”¨&lt;span&gt;5whyåˆ†ææ³•&lt;/span&gt;&lt;sup&gt;[2]&lt;/sup&gt;:&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;5whyåˆ†ææ³•ï¼Œåˆç§°â€œ5é—®æ³•â€ï¼Œä¹Ÿå°±æ˜¯å¯¹ä¸€ä¸ªé—®é¢˜ç‚¹è¿ç»­ä»¥5ä¸ªâ€œä¸ºä»€ä¹ˆâ€æ¥è‡ªé—®ï¼Œä»¥è¿½ç©¶å…¶æ ¹æœ¬åŸå› ã€‚è™½ä¸º5ä¸ªä¸ºä»€ä¹ˆï¼Œä½†ä½¿ç”¨æ—¶ä¸é™å®šåªåšâ€œ5æ¬¡ä¸ºä»€ä¹ˆçš„æ¢è®¨â€ï¼Œä¸»è¦æ˜¯å¿…é¡»æ‰¾åˆ°æ ¹æœ¬åŸå› ä¸ºæ­¢ï¼Œæœ‰æ—¶å¯èƒ½åªè¦å‡ æ¬¡ï¼Œæœ‰æ—¶ä¹Ÿè®¸è¦åå‡ æ¬¡ï¼Œå¦‚å¤è¯æ‰€è¨€ï¼šæ‰“ç ´ç ‚é”…é—®åˆ°åº•ã€‚5whyæ³•çš„å…³é”®æ‰€åœ¨ï¼šé¼“åŠ±è§£å†³é—®é¢˜çš„äººè¦åŠªåŠ›é¿å¼€ä¸»è§‚æˆ–è‡ªè´Ÿçš„å‡è®¾å’Œé€»è¾‘é™·é˜±ï¼Œä»ç»“æœç€æ‰‹ï¼Œæ²¿ç€å› æœå…³ç³»é“¾æ¡ï¼Œé¡ºè—¤æ‘¸ç“œï¼Œç›´è‡³æ‰¾å‡ºåŸæœ‰é—®é¢˜çš„æ ¹æœ¬åŸå› ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ç”¨ 5whyåˆ†ææ³• æ¥åˆ†æï¼šç”˜ç‰¹å›¾æ€§èƒ½ä¸å¥½ã€‚&lt;br/&gt;&lt;img data-ratio=&quot;3.8434343434343434&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m9OaaDmwM9jKHcTw4vwZKtbDUdLSiakwTZ9EERJ18RjibghlsHwt4CImCtOHhguKUxUQDPeoJqWZ1xQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;198&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœæ ¹å› æœ‰å¾ˆå¤šä¸ªï¼Œå¯ä»¥ç”¨&lt;span&gt;é±¼éª¨å›¾&lt;/span&gt;&lt;sup&gt;[3]&lt;/sup&gt;æ¥åˆ†æã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;é±¼éª¨å›¾æ˜¯ä¸€ç§å‘ç°é—®é¢˜â€œæ ¹æœ¬åŸå› â€çš„æ–¹æ³•ï¼Œå®ƒä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºâ€œIshikawaâ€æˆ–è€…â€œå› æœå›¾â€ã€‚å…¶ç‰¹ç‚¹æ˜¯ç®€æ´å®ç”¨ï¼Œæ·±å…¥ç›´è§‚ã€‚å®ƒçœ‹ä¸Šå»æœ‰äº›åƒé±¼éª¨ï¼Œé—®é¢˜æˆ–ç¼ºé™·ï¼ˆå³åæœï¼‰æ ‡åœ¨â€œé±¼å¤´â€å¤„ã€‚åœ¨é±¼éª¨ä¸Šé•¿å‡ºé±¼åˆºï¼Œä¸Šé¢æŒ‰å‡ºç°æœºä¼šå¤šå¯¡åˆ—å‡ºäº§ç”Ÿé—®é¢˜çš„å¯èƒ½åŸå› ï¼Œæœ‰åŠ©äºè¯´æ˜å„ä¸ªåŸå› æ˜¯å¦‚ä½•å½±å“åæœçš„ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”å¦‚:&lt;img data-ratio=&quot;0.4536082474226804&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/mEakJnD74m9OaaDmwM9jKHcTw4vwZKtbz4biblrlN234nrK9WeThNjxM9znyzvKB5dVhyxjnp6j95vnxWHKkAfw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;970&quot;/&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ 4 æ­¥: å®šç­–ç•¥&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®šç­–ç•¥å°±æ˜¯å®šæ”¹è¿›çš„ç­–ç•¥ã€‚å¯ä»¥ç”¨æµ·æ˜Ÿå¤ç›˜å›¾æ¥å®šç­–ç•¥ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.9660326086956522&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/mEakJnD74m9OaaDmwM9jKHcTw4vwZKtbzhhQhDzL0mcIeeoAczXdsodLO0YtywReevUwSRNYDL80fUSdQmqicAA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1472&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æµ·æ˜Ÿå¤ç›˜å›¾å°†ç­–ç•¥åˆ†ä¸º5ç±»ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;Stop â€” æŒ‡é‚£äº›éä½†æ²¡æœ‰ç»™å›¢é˜Ÿæˆ–å®¢æˆ·å¸¦æ¥ä»·å€¼ï¼Œåè€Œå¸¦æ¥æµªè´¹çš„æ´»åŠ¨ã€‚&lt;br/&gt;Less â€” æŒ‡å›¢é˜Ÿè¿‡å»åšçš„ä¸€äº›æ´»åŠ¨ï¼Œä½†å¹¶æ²¡å¸¦æ¥æ›´å¤šæ”¶ç›Šï¼Œå›¢é˜Ÿä»¥åéœ€è¦èŠ±è´¹æ›´å°‘çš„ç²¾åŠ›åšè¿™äº›äº‹æƒ…ã€‚&lt;br/&gt;Keep â€” æŒ‡å›¢é˜Ÿæƒ³è¦ç»§ç»­ä¿ç•™çš„è‰¯å¥½å®è·µæˆ–æ´»åŠ¨ã€‚&lt;br/&gt;More â€” æŒ‡é‚£äº›å›¢é˜Ÿåº”è¯¥æ›´èšç„¦æˆ–æ›´ç»å¸¸è¿›è¡Œçš„æ´»åŠ¨ã€‚&lt;br/&gt;Start â€” æŒ‡æƒ³å¼•å…¥åˆ°å›¢é˜Ÿä¸­çš„æ´»åŠ¨æˆ–æƒ³æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¦ç»†ä»‹ç»è§: &lt;span&gt;å¦‚ä½•åšå¥½é¡¹ç›®å¤ç›˜ - æµ·æ˜Ÿå¤ç›˜å›¾&lt;/span&gt;&lt;sup&gt;[4]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;ç¬¬ 5 æ­¥: è·Ÿè¸ªè½åœ°&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è·Ÿè¸ªè½åœ°å°±æ˜¯å…·ä½“å®æ–½æ”¹è¿›çš„ç­–ç•¥ï¼Œå¹¶è¯„ä¼°ç»“æœã€‚åˆ¶å®šå®æ–½è®¡åˆ’å’Œè¯„ä¼°ç»“æœå¯ä»¥ä½¿ç”¨ &lt;span&gt;SMART åŸåˆ™&lt;/span&gt;&lt;sup&gt;[5]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åæ¨èä¸€æœ¬å…³äºå¤ç›˜çš„ä¹¦ï¼š&lt;span&gt;ã€Šå¤ç›˜+ï¼šæŠŠç»éªŒè½¬åŒ–ä¸ºèƒ½åŠ›ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹&lt;/span&gt;&lt;sup&gt;[6]ï¼š&lt;/sup&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;éšç€ç¯å¢ƒæ—¥è¶‹å¤šå˜ã€ä¸ç¡®å®šã€å¤æ‚ã€æ¨¡ç³Šï¼Œæ— è®ºæ˜¯ä¸ªäººè¿˜æ˜¯ç»„ç»‡ï¼Œéƒ½éœ€è¦æ›´å¿«æ›´æœ‰æ•ˆåœ°è¿›è¡Œåˆ›æ–°åº”å˜ã€æå‡èƒ½åŠ›ã€‚å¤ç›˜ä½œä¸ºä¸€ç§ä»ç»éªŒä¸­å­¦ä¹ çš„ç»“æ„åŒ–æ–¹æ³•ï¼Œæ»¡è¶³äº†å¿«é€Ÿå­¦ä¹ çš„éœ€æ±‚ï¼Œä¹Ÿæ˜¯æœ‰æ•ˆè¿›è¡ŒçŸ¥è¯†èƒå–ä¸å…±äº«çš„æœºåˆ¶ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€èµ·æ¥åšé¡¹ç›®å¤ç›˜å§~&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;Context API: &lt;em&gt;https://reactjs.org/docs/context.html&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;5whyåˆ†ææ³•: &lt;em&gt;https://baike.baidu.com/item/5why%E5%88%86%E6%9E%90%E6%B3%95&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;é±¼éª¨å›¾: &lt;em&gt;https://baike.baidu.com/item/%E9%B1%BC%E9%AA%A8%E5%9B%BE/6514245&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;å¦‚ä½•åšå¥½é¡¹ç›®å¤ç›˜ - æµ·æ˜Ÿå¤ç›˜å›¾: &lt;em&gt;https://juejin.cn/post/6844903817260040199&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[5]&lt;/span&gt;&lt;p&gt;SMART åŸåˆ™: &lt;em&gt;https://baike.baidu.com/item/SMART%E5%8E%9F%E5%88%99/8575850&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[6]&lt;/span&gt;&lt;p&gt;ã€Šå¤ç›˜+ï¼šæŠŠç»éªŒè½¬åŒ–ä¸ºèƒ½åŠ›ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹: &lt;em&gt;https://book.douban.com/subject/26838511/&lt;/em&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7b19ccbb6acdb62c991d7ab1ce59d8f6</guid>
<title>æŠ€æœ¯äººæ‰çš„çºµæ¨ªå‘å±•</title>
<link>https://toutiao.io/k/o31tkm7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    
                    
                    
                    &lt;p&gt;è¿‘æœŸç¢°åˆ°ä¸€äº›å·¥ç¨‹å¸ˆå¯¹èŒä¸šå‘å±•äº§ç”Ÿå¾ˆå¤šå›°æƒ‘ï¼Œè¯¸å¦‚:&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;æˆ‘ç°åœ¨åšçš„å·¥ä½œå¥½åƒç¦»æŠ€æœ¯è¶Šæ¥è¶Šè¿œäº†ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ¯å¤©éƒ½åœ¨å’ä¸šåŠ¡é€»è¾‘ï¼ŒæŠ€æœ¯ä¸Šæ²¡æœ‰ä»»ä½•æˆé•¿ï¼Œä»¥åæ˜¯ä¸æ˜¯ä¼šè¢«æ·˜æ±°æ‰ï¼Ÿ&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ¯å¤©éƒ½åœ¨æ’¸ä»£ç é€ è½®å­ï¼Œè€æ¿æ€»è§‰å¾—æˆ‘ä»¬ä¸å…³å¿ƒä¸šåŠ¡ï¼Œä¹Ÿä¸çŸ¥é“æˆ‘ä»¬åœ¨åšä»€ä¹ˆã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å†™é‚£ä¹ˆå¤šå¹´ä»£ç ï¼Œæ˜¯ä¸æ˜¯ç°åœ¨è¦è½¬ç®¡ç†æ‰ä¸ä¼šè¢«å¸‚åœºæ·˜æ±°ï¼Ÿ&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;é¦–å…ˆï¼Œå·¥ç¨‹å¸ˆå¯ä»¥ç²—çº¿æ¡çš„åˆ†ä¸ºå·¥ç¨‹å’Œäº§å“ä¸¤ä¸ªæ–¹å‘ï¼Œæ¨ªå‘å‘å±•è¾ƒå¤šçš„å·¥ç¨‹å¸ˆå¯ä»¥åŸ¹å…»ä¸ºç ”å‘leaderï¼Œçºµå‘å‘å±•è¾ƒå¤šçš„å¯ä»¥æˆä¸ºæŠ€æœ¯ä¸“å®¶ã€‚æ²¡æœ‰å­°ä¼˜å­°åŠ£ï¼Œä¸ªäººå®šä½è€Œå·²ï¼Œå°±è·Ÿä½ æƒ³åšä¸€ä¸ªé”€å”®è¿˜æ˜¯æŠ€æœ¯ä¸€æ ·çš„é—®é¢˜ã€‚Â &lt;/p&gt;&lt;h2&gt;å·¥ç¨‹æ–¹å‘å·¥ç¨‹å¸ˆ&lt;/h2&gt;&lt;p&gt;ä¸€èˆ¬éƒ½å±äºâ€œåŸºç¡€æ¶æ„â€å’Œâ€œæœåŠ¡å¹³å°â€è¿™ç§å›¢é˜Ÿï¼Œä¸‹é¢è¿™ä¸‰é¡¹è¦†ç›–äº†è¿™ä¸ªå›¢é˜Ÿleaderæˆ–è€…é«˜å·¥ä¸»è¦æ‰¿æ‹…çš„å·¥ä½œèŒƒå›´ï¼Œåªæ˜¯å„é¡¹æƒé‡æœ‰äº›ç»†å°å·®å¼‚ï¼Œç°é˜¶æ®µå“ªé¡¹æ¯”è¾ƒè–„å¼±è‡ªç„¶æƒé‡å°±é«˜ä¸€äº›ã€‚Â &lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;ä¿éšœä¸šåŠ¡ç¨³å®šè¿è¡Œï¼Œæ— çº¿ä¸Šæ•…éšœï¼Œæ— é‡å¤§å®‰å…¨é—®é¢˜ã€‚ä¸€äº›é‡åŒ–æŒ‡æ ‡æ¯”å¦‚æ ¸å¿ƒæœåŠ¡99.99%ï¼Œéæ ¸å¿ƒæœåŠ¡99.9%ï¼ŒæœåŠ¡æ¥å£å»¶æ—¶ä¸è¶…è¿‡300msï¼Œçº¿ä¸Šæ•…éšœå›æ»šä¸è¶…è¿‡120ç§’ï¼ŒæœåŠ¡æŠ¥è­¦å»¶æ—¶ä¸è¶…è¿‡5ç§’ç­‰ç­‰ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åˆ†é˜¶æ®µæŒç»­é‡åŒ–å’Œä¼˜åŒ–æ•´ä½“ä¸šåŠ¡çš„è¿ç»´æˆæœ¬ï¼Œä¸»è¦åŒ…æ‹¬æœåŠ¡å™¨ã€å¸¦å®½ã€ç¬¬ä¸‰æ–¹ä»˜è´¹æœåŠ¡ç­‰ã€‚æŒç»­æå‡ç ”å‘æ•ˆç‡ï¼Œé™ä½ç ”å‘äººåŠ›æˆæœ¬ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å¼€å‘å’Œç»´æŠ¤æ‰€æœ‰ä¸šåŠ¡é€šç”¨æ”¯æŒçš„æ ¸å¿ƒç³»ç»Ÿã€ä¸­é—´ä»¶ä»¥åŠæ ¸å¿ƒæœåŠ¡ï¼Œæ ¸å¿ƒç³»ç»Ÿã€ä¸­é—´ä»¶æœ‰MQã€Cacheã€RPCæ¡†æ¶ã€æŒä¹…åŒ–å­˜å‚¨DBå’ŒNoSQLä»¥åŠåˆ†å¸ƒå¼å­˜å‚¨ã€æŠ¥è­¦ç›‘æ§ç³»ç»Ÿç­‰ç­‰ï¼Œæ ¸å¿ƒæœåŠ¡æ¯”å¦‚å‘å·å™¨ã€å„ç§ç®€åŒ–ä¸šåŠ¡å¼€å‘å¤æ‚åº¦çš„proxyã€passportç³»ç»Ÿã€åä½œå¼Šç³»ç»Ÿç­‰ä»ä¸šåŠ¡å¼€å‘ä¸‹æ²‰åˆ°åŸºç¡€æ¶æ„çš„æœåŠ¡ã€‚è‡³äºå¼€æºè¿˜æ˜¯è‡ªç ”å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œå…¬å¸æŠ€æœ¯å‘å±•é˜¶æ®µæ¥è°ƒæ•´ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™ç±»å·¥ç¨‹å¸ˆæ ¸å¿ƒèƒ½åŠ›æ˜¯æŠ€æœ¯æŒ‘æˆ˜ã€æŠ€æœ¯æ·±åº¦ä»¥åŠç³»ç»Ÿè®¾è®¡èƒ½åŠ›ã€‚&lt;/p&gt;&lt;h2&gt;äº§å“æ–¹å‘å·¥ç¨‹å¸ˆ&lt;/h2&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;æ˜æ˜¾æå‡äº§å“DAUã€ç”¨æˆ·ç•™å­˜ã€ç”¨æˆ·ä½¿ç”¨æ—¶é•¿ç­‰åŠŸèƒ½éœ€æ±‚å¼€å‘ï¼ŒæŒç»­ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å¹¿å‘Šå˜ç°ã€ä¼šå‘˜ä¸šåŠ¡ã€æ”¯ä»˜å……å€¼ä¸šåŠ¡ç­‰æå‡å…¬å¸æ”¶å…¥çš„åŠŸèƒ½éœ€æ±‚å¼€å‘&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æå‡è¿è¥æ•ˆç‡çš„è¿è¥åå°ç³»ç»Ÿã€æ—¶æ•ˆæ€§å•†ä¸šè¿è¥æ´»åŠ¨ç­‰åŠŸèƒ½éœ€æ±‚å¼€å‘&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;è¿™ç±»å·¥ç¨‹å¸ˆæ ¸å¿ƒèƒ½åŠ›æ˜¯äº§å“å’Œæ•°æ®æ•æ„Ÿã€ç†Ÿæ‚‰ä¸šåŠ¡ã€å–„äºåè°ƒå’Œä½¿ç”¨å†…éƒ¨èµ„æºã€‚&lt;/p&gt;&lt;p&gt;èƒŒæ™¯è®²å®Œäº†ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·¥ç¨‹å’Œäº§å“ä¸¤ä¸ªæ–¹å‘çš„å·¥ä½œç›®æ ‡ä»¥åŠå…·ä½“äº§å‡ºå·®åˆ«è¾ƒå¤§ã€‚ç»™è‡ªå·±æ˜ç¡®å®šä½æ¸…æ¥šåï¼Œå°±è¦æŒç»­åŸ¹å…»å’Œå‘å±•è¯¥æ–¹å‘çš„æ ¸å¿ƒèƒ½åŠ›ã€‚Â &lt;/p&gt;&lt;h2&gt;çº æ­£å‡ ä¸ªè¯¯åŒºï¼Œè®©å·¥ç¨‹å¸ˆæ›´åŠ â€œå¥åº·è‡ªä¿¡â€çš„å‘å±•ã€‚&lt;/h2&gt;&lt;h3&gt;å•æ–¹é¢è¿½æ±‚è‡ªå·±çš„æŠ€æœ¯æ·±åº¦ï¼Œå…¬å¸çš„ä¸šåŠ¡å‘å±•è·Ÿæˆ‘å…³ç³»ä¸å¤§&lt;/h3&gt;&lt;p&gt;æŸä¸ªé¢†åŸŸçš„æŠ€æœ¯æ·±åº¦åŸºæœ¬ä¸Šæ˜¯å’Œå…¬å¸ä¸šåŠ¡å‘å±•æˆæ­£æ¯”çš„ï¼Œè¯¥é¢†åŸŸçš„ä¸“ç²¾äººæ‰ä¸€èˆ¬éƒ½åœ¨ä¸šåŠ¡æ’åtop3çš„å…¬å¸é‡Œé¢ã€‚åè¿‡æ¥è¯´ï¼Œå…¬å¸åœ¨è‡ªå·±æ ¸å¿ƒæŠ€æœ¯ä¸Šçš„æŠ•å…¥è‚¯å®šæ˜¯æœ€å¤§çš„ï¼Œä¹Ÿå®¹æ˜“å¸å¼•å’ŒåŸ¹å…»è¯¥é¢†åŸŸçš„ä¸“ç²¾äººæ‰ã€‚é«˜é€Ÿå‘å±•çš„ä¸šåŠ¡ä¼šç»™æŠ€æœ¯å¸¦æ¥å·¨å¤§çš„æŒ‘æˆ˜ï¼Œè¿™äº›æŒ‘æˆ˜ä¹Ÿä¼šå‚¬ç”Ÿå‡ºä¸€æ‰¹é«˜ç«¯çš„æŠ€æœ¯äººæ‰ï¼Œä¸€èˆ¬æ¥è®²ï¼Œä¸šåŠ¡å¾ˆä¸€èˆ¬çš„å…¬å¸ï¼Œå·¥ç¨‹å¸ˆçš„æŠ€æœ¯èƒ½åŠ›ä¹Ÿä¼šå¤§æ‰“æŠ˜æ‰£ã€‚æ‰€ä»¥æˆ‘ä»¬çš„æŠ€æœ¯è§„åˆ’è¦è·Ÿç€ä¸šåŠ¡èµ°ï¼Œå»è§£å†³ä¸šåŠ¡çš„ç—›ç‚¹ï¼ŒæŠ€æœ¯èƒ½é€‚åº”ç”šè‡³æ¨åŠ¨ä¸šåŠ¡å‘å±•ï¼Œå—ç›Šçš„æ˜¯æˆ‘ä»¬å·¥ç¨‹å¸ˆè‡ªå·±ã€‚Â &lt;/p&gt;&lt;h3&gt;æŠ€æœ¯é€‰å‹è·Ÿå…¬å¸ä¸šåŠ¡å…³ç³»ä¸å¤§ï¼Œå“ªä¸ªæŠ€æœ¯ç°åœ¨æµè¡Œé€‰å“ªä¸ª&lt;/h3&gt;&lt;p&gt;å¥½çš„æ¶æ„å¸ˆéƒ½æ˜¯å¯ä»¥åšå‡ºå¤æ‚åœºæ™¯ä¸‹æœ€ä¼˜è§£çš„å†³ç­–äººæ‰ï¼Œå°±è·Ÿåˆ†å¸ƒå¼é¢†åŸŸä¸­çš„CAPç†è®ºä¸€æ ·ï¼Œæ— éæ˜¯çœ‹ä½ é€‰æ‹©ä»€ä¹ˆæ”¾å¼ƒä»€ä¹ˆã€‚ç°å®ä¸­å¾€å¾€é€‰æ‹©äº†æ€§èƒ½å°±æ”¾å¼ƒäº†éƒ¨åˆ†å®‰å…¨ï¼Œæ‹¿ç©ºé—´å¤æ‚åº¦æ¢æ—¶é—´å¤æ‚åº¦ç­‰ç­‰ï¼ŒæŠ€æœ¯é€‰å‹ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¦æ ¹æ®ç›®å‰ä¸šåŠ¡çš„è§„æ¨¡å’Œé˜¶æ®µæ¥çœ‹ï¼Œé€‚åˆè‡ªå·±ä¸šåŠ¡çš„æ‰æ˜¯æœ€å¥½çš„ã€‚æœ‰ä¸€ä¸ªå…¬è®¤çš„åŸåˆ™ï¼šå¦‚æœä¸æ˜¯ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ï¼Œå°½é‡é€‰æ‹©è‡ªèº«ç ”å‘å›¢é˜Ÿç†Ÿæ‚‰çš„ï¼Œæœ‰è¯¥é¢†åŸŸä¸“ç²¾çš„äººæ‰æ›´å¥½ã€‚æŠ€æœ¯æŒ‘æˆ˜å¾ˆå¤§çš„å›¢é˜Ÿéƒ½çŸ¥é“ï¼Œå¼€æºç¤¾åŒºä¸€èˆ¬ç¢°ä¸åˆ°çš„é—®é¢˜è‡ªå·±éƒ½ä¼šç¢°åˆ°ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½éœ€è¦è‡ªå·±æŠ•å…¥äººåŠ›è§£å†³ã€‚æ‰€ä»¥ï¼Œå›¢é˜Ÿå·²æœ‰è¿™æ–¹é¢ä¸“å®¶æˆ–è€…æ—©æœŸå°±å¼€å§‹åŸ¹å…»è¿™æ–¹é¢æŠ€æœ¯ä¸“å®¶ï¼Œæ˜¯å›¢é˜Ÿleaderå¾ˆé‡è¦çš„ä¸€ä¸ªå·¥ä½œã€‚Â &lt;/p&gt;&lt;h3&gt;åŸºç¡€æ¶æ„æœåŠ¡äºä¸šåŠ¡ï¼Œä¸šåŠ¡å‘å±•å¥½ï¼ŒéæŠ€æœ¯èƒŒæ™¯çš„è€æ¿çœ‹ä¸åˆ°åŸºç¡€æ¶æ„çš„ä»·å€¼&lt;/h3&gt;&lt;p&gt;åŸºç¡€æ¶æ„çš„é«˜å·¥æˆ–è€…leaderæœ‰è´£ä»»å’Œä¹‰åŠ¡åšå¥½ç ”å‘å·¥ä½œçš„è§„åˆ’å’Œæˆæœé˜¶æ®µæ€§æ±‡æŠ¥ï¼Œå¯¹é½æ•´ä½“ä¸šåŠ¡çš„äº§å“è¿è¥èŠ‚å¥ï¼Œæå‰è§„åˆ’å’Œè§£å†³ä¸šåŠ¡çš„æŠ€æœ¯ç—›ç‚¹ï¼ŒåŠ ä¸Šä¸Šè¿°çš„ä¸‰æ–¹é¢å·¥ç¨‹æ–¹å‘KPIæ•´ä½“äº§å‡ºï¼Œè®©è€æ¿ä»¬å’Œäº§å“ã€è¿è¥ã€å•†ä¸šåŒ–ã€äººåŠ›èµ„æºè´Ÿè´£äººæ„Ÿå—åˆ°è¿™éƒ¨åˆ†å·¥ä½œçš„å½±å“åŠ›ï¼Œäº’é€šæœ‰æ— ã€‚éæŠ€æœ¯èƒŒæ™¯çš„è€æ¿ä¸ä»£è¡¨ä¸è®¤å¯æŠ€æœ¯ä»·å€¼ï¼Œç ”å‘è´Ÿè´£äººè¦åšå¥½å……åˆ†çš„å‘ä¸Šæ²Ÿé€šã€‚Â &lt;/p&gt;&lt;h3&gt;å·¥ç¨‹å¸ˆå²æ•°åˆ°äº†30å¤šå²ä»¥åè¦è½¬ç®¡ç†&lt;/h3&gt;&lt;p&gt;é˜¿é‡Œå·´å·´çš„ä¸€ä½HRé«˜ç®¡è¯´è¿‡ï¼šæŠŠç ”å‘äººåŠ›åˆ†ä¸ºPå’ŒMä¸¤ä¸ªæ™‹å‡åºåˆ—å¹¶ä¸”è®¾å®šä¸¤è€…çš„èŒçº§å¯¹åº”å…³ç³»ï¼Œæ˜¯ä¸ºäº†åˆ†åˆ«æ»¡è¶³ä¸“å®¶äººæ‰å’ŒæŠ€æœ¯ç®¡ç†äººæ‰çš„ä¸ªäººå‘å±•é¢„æœŸï¼Œç°åœ¨åŸºæœ¬æ‰€æœ‰å¤§å‹äº’è”ç½‘å…¬å¸çš„èŒçº§ä½“ç³»éƒ½æ˜¯è¿™ä¹ˆè®¾å®šçš„ã€‚èµ„æ·±çš„ç ”å‘å·¥ç¨‹å¸ˆè™½ç„¶ä¸æ˜¯ç»¼åˆæ€§çš„ç®¡ç†äººæ‰ï¼Œä½†ä¸å½±å“è‡ªå·±å¯¹å…¬å¸å¯¹ä¸šåŠ¡çš„è´¡çŒ®ï¼Œåªè¦åšåˆ°é‚£20%çš„ç»©ä¼˜äººæ‰å°±å¯ä»¥ã€‚æœ‰äº›å…¬å¸å°†å·¥ç¨‹å¸ˆç»†åˆ†ä¸ºå·¥ç¨‹æ–¹å‘å’Œäº§å“æ–¹å‘ï¼Œæ›´åŠ ç»†åŒ–äº†å·¥ç¨‹å¸ˆçš„é¢„æœŸç®¡ç†å’Œæ™‹å‡æ–¹å‘ï¼Œæ‰€ä»¥æŠ€æœ¯æ·±åº¦å’ŒæŠ€æœ¯ç®¡ç†æ— ä¼˜åŠ£ï¼Œå…³é”®æ˜¯ä¸ç®¡æ¨ªå‘è¿˜æ˜¯çºµå‘å‘å±•ï¼Œéƒ½è¦åŠ›æ±‚è¿›å…¥é‚£ç¾¤äººä¸­æœ€ä¼˜ç§€çš„TOP10%ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
                &lt;/div&gt;

                

                



                
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>7e9cf0027e543d686869492f128bbb5a</guid>
<title>æ— éœ€åˆ·æ–°å³å¯æ£€æµ‹ JavaScript ä¸­çš„ URL æ›´æ”¹</title>
<link>https://toutiao.io/k/nigs494</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;Post-body&quot;&gt;
                    &lt;p&gt;å¦‚ä½•ä¸º &lt;a href=&quot;https://nicelinks.site/post/604795465f9af714fe21dcbc&quot; rel=&quot; nofollow ugc&quot;&gt;Flarum&lt;/a&gt; è®ºå›æ·»åŠ  &lt;a href=&quot;https://github.com/francoischalifour/medium-zoom&quot; rel=&quot; nofollow ugc&quot;&gt;medium-zoom&lt;/a&gt;ï¼ˆç”¨äºç¼©æ”¾å›¾åƒçš„ JavaScript åº“ï¼Œå¦‚ Mediumï¼‰å‘¢ï¼Ÿæœ¬ç¯‡æ–‡ç« ï¼Œåœ¨äºåˆ†æå€ŸåŠ© &lt;strong&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/strong&gt; å‡½æ•°ï¼Œä»è€Œä¸º SPA åº”ç”¨ï¼Œæ·»åŠ äº›ç‰¹æ®Šå¤„ç†ï¼Œå¦‚æ·»åŠ  &lt;code&gt;medium-zoom&lt;/code&gt; åŠ¨ç”»ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://lovejade.oss-cn-shenzhen.aliyuncs.com/LakeSchreckseeBY.jpg&quot; title=&quot;&quot; alt=&quot;æ— éœ€åˆ·æ–°å³å¯æ£€æµ‹ JavaScript ä¸­çš„ URL æ›´æ”¹&quot;/&gt;&lt;/p&gt;

&lt;h2&gt;æ•…äº‹èƒŒæ™¯&lt;/h2&gt;

&lt;p&gt;åœ¨ä»Šå¹´å¹´åˆï¼Œæœ‰åŸºäº &lt;a href=&quot;https://nicelinks.site/redirect?url=https://flarum.org/&quot; rel=&quot; nofollow ugc&quot;&gt;Flarum&lt;/a&gt; æ­å»ºäº†&lt;a href=&quot;https://forum.lovejade.cn/&quot; rel=&quot; nofollow ugc&quot;&gt;æ‚ ç„¶å®œæƒ³äº­&lt;/a&gt;è¿™ä¸ªç«™ï¼ˆå…·ä½“ç”±æ¥ï¼Œåœ¨&lt;a href=&quot;https://forum.lovejade.cn/d/1&quot; rel=&quot; nofollow ugc&quot;&gt;å…³äºâ€œæ‚ ç„¶å®œæƒ³äº­â€çš„ç”±æ¥ï¼Œä»¥åŠæœªæ¥&lt;/a&gt;ä¸€æ–‡ä¸­ï¼Œæœ‰åšé˜è¿°ï¼‰ã€‚&lt;a href=&quot;https://nicelinks.site/redirect?url=https://flarum.org/&quot; rel=&quot; nofollow ugc&quot;&gt;Flarum&lt;/a&gt; æ˜¯ä¸€æ¬¾ä¼˜é›…ç®€æ´è®ºå›è½¯ä»¶ï¼Œè®©åœ¨çº¿äº¤æµå˜å¾—æ›´åŠ è½»æ¾æ„‰å¿«ã€‚å®ƒé‚£æç®€çš„éƒ¨ç½²æ–¹å¼ï¼Œå¼ºå¤§çš„åå°ç®¡ç†ï¼Œéƒ½ä»¤äººæ¬¢å–œä¸å·²ï¼›å½“ç„¶ï¼Œå‰ç«¯é¡µé¢ä¹Ÿæœ‰äº›ç¾ä¸­ä¸è¶³ï¼Œå¦‚å¸–å­çš„å›¾ç‰‡ï¼Œä¸èƒ½æ”¾å¤§åŒ–ï¼Œåƒ &lt;a href=&quot;https://nicelinks.site/post/5c3f3151a5957e07a40b30ff&quot; rel=&quot; nofollow ugc&quot;&gt;Ghost&lt;/a&gt; æˆ– medium é‚£æ ·ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/francoischalifour/medium-zoom&quot; rel=&quot; nofollow ugc&quot;&gt;medium-zoom&lt;/a&gt;ï¼šç”¨äºç¼©æ”¾å›¾åƒçš„ JavaScript åº“ï¼Œå¦‚ Mediumï¼ˆA JavaScript library for zooming images like Mediumï¼‰ï¼›å®ƒå…·æœ‰ï¼šğŸ“± å“åº”å¼ã€ğŸš€ é«˜æ€§èƒ½å’Œè½»é‡çº§ã€âš¡ï¸ é«˜æ¸…æ”¯æŒã€ğŸ” çµæ´»æ€§ã€ğŸ“¦ è‡ªå®šä¹‰ã€ğŸ”§ å¯æ’æ‹”ã€ğŸ–± é¼ æ ‡ã€é”®ç›˜å’Œæ‰‹åŠ¿å‹å¥½ç­‰ä¼˜ç‚¹ï¼›æ­¤å¤–ï¼Œ&lt;code&gt;medium-zoom&lt;/code&gt; çš„å®‰è£…å’Œä½¿ç”¨ï¼Œä¹Ÿéƒ½æå…¶ç®€å•ï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;// CSS selector
mediumZoom(&quot;[data-zoomable]&quot;);

// HTMLElement
mediumZoom(document.querySelector(&quot;#cover&quot;));

// NodeList
mediumZoom(document.querySelectorAll(&quot;[data-zoomable]&quot;));

// Array
const images = [
  document.querySelector(&quot;#cover&quot;),
  ...document.querySelectorAll(&quot;[data-zoomable]&quot;),
];

mediumZoom(images);&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†ï¼Œåœ¨ &lt;a href=&quot;https://nicelinks.site/redirect?url=https://flarum.org/&quot; rel=&quot; nofollow ugc&quot;&gt;Flarum&lt;/a&gt; é¡¹ç›®ä¸­ï¼Œç›´æ¥ä½¿ç”¨ &lt;a href=&quot;https://github.com/francoischalifour/medium-zoom&quot; rel=&quot; nofollow ugc&quot;&gt;medium-zoom&lt;/a&gt; ä¼šå­˜åœ¨ç‚¹å°é—®é¢˜ï¼›&lt;code&gt;Flarum&lt;/code&gt; æ˜¯å•é¡µï¼ˆSPAï¼‰åº”ç”¨ï¼Œå³æ›´æ”¹ URLï¼Œæ•´ä¸ªé¡µé¢å†…å®¹ä¸ä¼šå…¨éƒ¨åˆ·æ–°ï¼ˆä»…é™äºä¸»é¢˜å†…å®¹éƒ¨åˆ†ï¼‰ã€‚è¿™ä¹Ÿå°±ä½¿å¾—åœ¨åå° &lt;code&gt;Custom Header&lt;/code&gt; æ’å…¥çš„ä»£ç ï¼Œæ— æ³•åœ¨åˆ‡æ¢é¡µé¢æ—¶ä¹Ÿé‡æ–°è¿è¡Œï¼›æŒ‰æ‰¾æ­£å¸¸é€»è¾‘ï¼Œè¦å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå°±é¡»å¯¹ URL åšä¸‹ç›‘å¬ï¼Œå½“æ£€æµ‹åˆ°å˜åŒ–ï¼Œåˆ™é‡æ–°è¿è¡Œ mediumZoom ç›¸å…³ä»£ç ï¼Œä½¿å¾—ã€Œå›¾åƒç¼©æ”¾ã€åŠŸèƒ½ï¼Œå¯ä»¥åœ¨é¡µé¢åˆ‡æ¢åï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚&lt;/p&gt;

&lt;h2&gt;&lt;strong&gt;&lt;code&gt;MutationObserver&lt;/code&gt;&lt;/strong&gt; å‡½æ•°&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;MutationObserver()&lt;/code&gt;&lt;/strong&gt; å‡½æ•°ç”¨äºæ£€æµ‹æˆ–è§‚å¯Ÿå¯¹ DOM æ ‘æ‰€åšçš„æ›´æ”¹ã€‚å®ƒåªæ˜¯æ£€æµ‹ DOM å…ƒç´ æ›´æ”¹ä»¥åŠå•é¡µç½‘ç«™ï¼ˆå¦‚ React JS å’Œ Angular JSï¼‰ä¸Šçš„ URL æ›´æ”¹ã€‚æ¬²äº†è§£æ›´è¯¦ç»†å†…å®¹ï¼Œå¯å‚è§ &lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver&quot; rel=&quot; nofollow ugc&quot;&gt;MutationObserver | MDN Web Docs&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2&gt;æ— éœ€é¡µé¢åˆ·æ–°å³å¯æ£€æµ‹ JavaScript ä¸­ URL æ›´æ”¹çš„æºä»£ç &lt;/h2&gt;

&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;let lastUrl = location.href;
new MutationObserver(() =&amp;gt; {
  const url = location.href;
  if (url !== lastUrl) {
    lastUrl = url;
    onUrlChange();
  }
}).observe(document, { subtree: true, childList: true });

function onUrlChange() {
  alert(&quot;URL changed!&quot;, location.href);
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;&lt;li&gt;é¦–å…ˆåœ¨ä¸Šé¢çš„æºä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é¡µé¢çš„å½“å‰ URL &lt;strong&gt;&lt;code&gt;location.href;&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨ &lt;strong&gt;MutationObserver æ–¹æ³•&lt;/strong&gt; &lt;strong&gt;&lt;code&gt;observe()&lt;/code&gt;&lt;/strong&gt;é…ç½® &lt;strong&gt;MutationObserver å›è°ƒä»¥å¼€å§‹æ¥æ”¶&lt;/strong&gt;ä¸ç»™å®šé€‰é¡¹åŒ¹é…çš„&lt;strong&gt;DOM æ›´æ”¹é€šçŸ¥&lt;/strong&gt;ã€‚
  &lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;code&gt;observe(document, {subtree: true, childList: true});&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œæˆ‘ä»¬æ¯”è¾ƒ URLï¼Œç„¶åè°ƒç”¨æç¤ºæ–°ä½ç½® URL çš„å‡½æ•°ã€‚&lt;/li&gt;&lt;/ul&gt;

&lt;p&gt;æ‚¨å¯ä»¥å¤åˆ¶å®Œæ•´çš„ä»£ç ï¼Œä»¥ä¾¿åœ¨ç°æœ‰ç¨‹åºä¸Šæ£€æŸ¥æˆ–ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h2&gt;ä¸º Flarum è®ºå›æ·»åŠ  medium-zoom åº“&lt;/h2&gt;

&lt;p&gt;åªéœ€ï¼Œåœ¨ &lt;a href=&quot;https://nicelinks.site/redirect?url=https://flarum.org/&quot; rel=&quot; nofollow ugc&quot;&gt;Flarum&lt;/a&gt; åå° &lt;code&gt;Appearance&lt;/code&gt; =&amp;gt; &lt;code&gt;Custom Header&lt;/code&gt;ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå³å¯ä½¿å¾— Flarum å¸–å­ä¸­çš„å›¾ç‰‡ï¼Œåœ¨ç‚¹å‡»åå¯ã€Œæ”¾å¤§ã€ä»¥æ–¹ä¾¿æŸ¥çœ‹ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&amp;lt;script&amp;gt;
  let lastUrl = location.href;
  new MutationObserver(() =&amp;gt; {
    const url = location.href;
    if (url !== lastUrl) {
      lastUrl = url;
      onUrlChange();
    }
  }).observe(document, {subtree: true, childList: true});

  function onUrlChange() {
    setTimeout(function () {
       mediumZoom(document.querySelectorAll(&#x27;.Post-body img&#x27;));
    }, 500)
  }
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;çŒœæ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„æ–‡ç« &lt;/h2&gt;



                &lt;/div&gt;
            &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>17d5ee32adf30877a64bb2b4b9d325f3</guid>
<title>æ¡ˆä¾‹åˆ†äº«ï¼šDubbo 2.7.12 bug å¯¼è‡´çº¿ä¸Šæ•…éšœ</title>
<link>https://toutiao.io/k/zusnv14</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;èƒŒæ™¯&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€è¿‘æŸå¤©çš„æ·±å¤œï¼Œåˆšæ´—å®Œæ¾¡å°±æ¥åˆ°ä¸šåŠ¡æ–¹æ‰“æ¥ç”µè¯ï¼Œè¯´ä»–ä»¬çš„ dubbo æœåŠ¡å‡ºæ•…éšœäº†ï¼Œè¦æˆ‘ååŠ©æ’æŸ¥ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”µè¯é‡Œï¼Œè¯¢é—®äº†ä»–ä»¬å‡ ç‚¹&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ˜¯çº¿ä¸Šæœ‰æŸæ•…éšœå—ï¼Ÿâ€”â€”æ˜¯&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æ­¢æŸäº†å—ï¼Ÿâ€”â€”æ­¢æŸäº†&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æœ‰ä¿ç•™ç°åœºå—ï¼Ÿâ€”â€”æ²¡æœ‰&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯æˆ‘æ‰“å¼€ç”µè„‘ï¼Œè¿ä¸Š VPN çœ‹é—®é¢˜ã€‚ä¸ºäº†ä¾¿äºç†è§£ï¼Œæ¶æ„ç®€åŒ–å¦‚ä¸‹&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2844141069397042&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCmJ9fJr7VVWnoVLHl58eKQPl7TRsu049XhNWA7fenY2JjPYNNjAZVDg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1758&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åªéœ€è¦å…³æ³¨ Aã€Bã€C ä¸‰ä¸ªæœåŠ¡ï¼Œä»–ä»¬ä¹‹é—´è°ƒç”¨éƒ½æ˜¯ dubbo è°ƒç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‘ç”Ÿæ•…éšœæ—¶ B æœåŠ¡æœ‰å‡ å°æœºå™¨å®Œå…¨å¤¯æ­»ï¼Œå¤„ç†ä¸äº†è¯·æ±‚ï¼Œå‰©ä½™æ­£å¸¸æœºå™¨è¯·æ±‚é‡æ¿€å¢ï¼Œè€—æ—¶å¢åŠ ï¼Œå¦‚ä¸‹å›¾ï¼ˆå›¾ä¸€è¯·æ±‚é‡ã€å›¾äºŒè€—æ—¶ï¼‰&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6130952380952381&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCOyQsiaxWwj0yxRYQbHY9CDZOqLicib6yd8Vlb0B2xK12A4PMNic5TqFWOQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1680&quot;/&gt;&lt;/figure&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4183927091963546&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCkXKWDosXs7ErATg5RF6mIV3Dd6VyukxXD7y61F70NFLHS5TiaaHlC3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2414&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;é—®é¢˜æ’æŸ¥&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±äºç°åœºå·²è¢«ç ´åï¼Œåªèƒ½å…ˆçœ‹ç›‘æ§å’Œæ—¥å¿—&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é™¤äº†ä¸Šè¿°ç›‘æ§å¤–ï¼Œç¿»çœ‹äº† B æœåŠ¡ CPU å’Œå†…å­˜ç­‰åŸºç¡€ç›‘æ§ï¼Œå‘ç°æ•…éšœçš„å‡ å°æœºå™¨å†…å­˜ä¸Šæ¶¨æ¯”è¾ƒå¤šï¼Œéƒ½è¾¾åˆ°äº† 80% çš„æ°´å¹³çº¿ï¼Œä¸” CPU æ¶ˆè€—ä¹Ÿå˜å¤š&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.39628482972136225&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCxACts1SRK1r3W0T6w9rNxXSc0rxPYxrNmKEq2qpBOaGia5SrXHAkl4Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1938&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ—¶æ¯”è¾ƒæ€€ç–‘å†…å­˜é—®é¢˜ï¼Œäºæ˜¯çœ‹äº†ä¸‹ JVM çš„ fullGC ç›‘æ§&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4058536585365854&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCEOayEDTU9M4UgCzOTuU5GjQjLaFh1BONYYYIfutSxenTKhEud6awdQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2050&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœç„¶ fullGC æ—¶é—´ä¸Šæ¶¨å¾ˆå¤šï¼ŒåŸºæœ¬å¯ä»¥æ–­å®šæ˜¯å†…å­˜æ³„æ¼å¯¼è‡´æœåŠ¡ä¸å¯ç”¨äº†ã€‚ä½†ä¸ºä»€ä¹ˆä¼šå†…å­˜æ³„æ¼ï¼Œè¿˜æ— æ³•çœ‹å‡ºç«¯å€ªã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”³è¯·æœºå™¨æƒé™ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼Œå‘ç°äº†ä¸€æ¡å¾ˆå¥‡æ€ªçš„ WARN æ—¥å¿—&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;[dubbo-future-timeout-thread-1]Â WARNÂ org.apache.dubbo.common.timer.HashedWheelTimer&lt;span&gt;$HashedWheelTimeout&lt;/span&gt;&lt;br/&gt;(HashedWheelTimer.java:651)Â &lt;br/&gt;-Â Â [DUBBO]Â AnÂ exceptionÂ wasÂ thrownÂ byÂ TimerTask.,Â dubboÂ version:Â 2.7.12,Â currentÂ host:Â xxx.xxx.xxx.xxx&lt;br/&gt;java.util.concurrent.RejectedExecutionException:Â &lt;br/&gt;TaskÂ org.apache.dubbo.remoting.exchange.support.DefaultFuture&lt;span&gt;$TimeoutCheckTask&lt;/span&gt;$&lt;span&gt;$Lambda&lt;/span&gt;&lt;span&gt;$674&lt;/span&gt;/1067077932@13762d5aÂ &lt;br/&gt;rejectedÂ fromÂ java.util.concurrent.ThreadPoolExecutor@7a9f0e84[Terminated,Â poolÂ sizeÂ =Â 0,Â &lt;br/&gt;activeÂ threadsÂ =Â 0,Â queuedÂ tasksÂ =Â 0,Â completedÂ tasksÂ =Â 21]&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯ä»¥çœ‹å‡ºä¸šåŠ¡æ–¹ä½¿ç”¨çš„æ˜¯&lt;strong&gt;2.7.12&lt;/strong&gt;ç‰ˆæœ¬çš„ dubbo&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‹¿è¿™ä¸ªæ—¥å¿—å» dubbo çš„ github ä»“åº“æœäº†ä¸€ä¸‹ï¼Œæ‰¾åˆ°äº†å¦‚ä¸‹è¿™ä¸ª issueï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;https://github.com/apache/dubbo/issues/6820&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.4563335955940205&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCn7YCoLFgSkCxvIQdxUVBEfgNcznRFRtic82f6g6J1ib4btDWXM3BAzmg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2542&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¾ˆå¿«æ’é™¤äº†è¯¥é—®é¢˜ï¼Œå› ä¸ºåœ¨ 2.7.12 ç‰ˆæœ¬ä¸­å·²ç»æ˜¯ä¿®å¤è¿‡çš„ä»£ç äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»§ç»­åˆæ‰¾åˆ°äº†è¿™ä¸¤ä¸ª issueï¼š&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;https://github.com/apache/dubbo/issues/8172&lt;/p&gt;&lt;p&gt;https://github.com/apache/dubbo/pull/8188&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»æŠ¥é”™å’Œç‰ˆæœ¬ä¸Šæ¥çœ‹ï¼Œå®Œå…¨ç¬¦åˆï¼Œä½†æ²¡æœ‰æåŠå†…å­˜é—®é¢˜ï¼Œå…ˆä¸ç®¡å†…å­˜é—®é¢˜ï¼Œçœ‹çœ‹æ˜¯å¦å¯ä»¥æŒ‰ç…§ &lt;strong&gt;#8188&lt;/strong&gt; è¿™ä¸ª issue å¤ç°&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.411635565312843&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCB6zfHibqGkAOw0Yibl2Ap7SrK80X5ibaJzgIkRww5NCQLSYUknk4FibHpQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1822&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;issue ä¸­ä¹Ÿè¯´çš„æ¯”è¾ƒæ¸…æ¥šå¦‚ä½•å¤ç°ï¼Œäºæ˜¯æˆ‘æ­äº†è¿™æ ·ä¸‰ä¸ªæœåŠ¡æ¥å¤ç°ï¼Œåˆšå¼€å§‹è¿˜æ²¡æœ‰å¤ç°ã€‚é€šè¿‡ä¿®å¤ä»£ç æ¥åæ¨&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.2820299500831947&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCvUnS48ZA5wrq7pJg6JB8c9rJicmMhXXVKnOlk9rsJiaQQklU5W0mcZ2g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2404&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ é™¤ä»£ç éƒ¨åˆ†æ˜¯æœ‰é—®é¢˜ï¼Œä½†æˆ‘ä»¬å¤ç°å´éš¾ä»¥è¿›å…¥è¿™å—ï¼Œæ€ä¹ˆæ‰èƒ½è¿›å…¥å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œä¸€ä¸ª feature ä»£è¡¨ä¸€ä¸ªè¯·æ±‚ï¼Œåªæœ‰å½“è¯·æ±‚æ²¡æœ‰å®Œæˆæ—¶æ‰ä¼šè¿›å…¥ï¼Œè¿™å°±å¥½åŠäº†ï¼Œè®© provider ä¸€ç›´ä¸è¿”å›ï¼Œè‚¯å®šå¯ä»¥å®ç°ï¼Œäºæ˜¯åœ¨ provider ç«¯æµ‹è¯•ä»£ç åŠ å…¥&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;Thread.sleep(Integer.MAX_VALUE);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡æµ‹è¯•æœç„¶å¤ç°äº†ï¼Œå¦‚ issue æ‰€è¯´ï¼Œå½“ kill -9 æ‰ç¬¬ä¸€ä¸ª provider æ—¶ï¼Œæ¶ˆè´¹è€…å…¨å±€ ExecutorService è¢«å…³é—­ï¼Œå½“ kill -9 ç¬¬äºŒä¸ª provider æ—¶ï¼ŒSHARED_EXECUTOR ä¹Ÿè¢«å…³é—­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹æ± æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒåœ¨ &lt;strong&gt;HashedWheelTimer&lt;/strong&gt; ä¸­è¢«ç”¨æ¥æ£€æµ‹ consumer å‘å‡ºçš„è¯·æ±‚æ˜¯å¦è¶…æ—¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;HashedWheelTimer æ˜¯ dubbo å®ç°çš„ä¸€ç§æ—¶é—´è½®æ£€æµ‹è¯·æ±‚æ˜¯å¦è¶…æ—¶çš„ç®—æ³•ï¼Œå…·ä½“è¿™é‡Œä¸å†å±•å¼€ï¼Œæ”¹å¤©å¯ä»¥è¯¦ç»†å†™ä¸€ç¯‡ dubbo ä¸­æ—¶é—´è½®ç®—æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“è¯·æ±‚å‘å‡ºåï¼Œå¦‚æœå¯ä»¥æ­£å¸¸è¿”å›è¿˜å¥½ï¼Œä½†å¦‚æœè¶…è¿‡è®¾å®šçš„è¶…æ—¶æ—¶é—´è¿˜æœªè¿”å›ï¼Œåˆ™éœ€è¦è¿™ä¸ªçº¿ç¨‹æ± çš„ä»»åŠ¡æ¥æ£€æµ‹ï¼Œå¯¹å·²ç»è¶…æ—¶çš„ä»»åŠ¡è¿›è¡Œæ‰“æ–­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚ä¸‹ä»£ç ä¸ºæäº¤ä»»åŠ¡ï¼Œå½“è¿™ä¸ªçº¿ç¨‹æ± è¢«å…³é—­åï¼Œæäº¤ä»»åŠ¡å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¶…æ—¶ä¹Ÿå°±æ— æ³•æ£€æµ‹ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;expire&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!compareAndSetState(ST_INIT,Â ST_EXPIRED))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â task.run(&lt;span&gt;this&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (ThrowableÂ t)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (logger.isWarnEnabled())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â logger.warn(&lt;span&gt;&quot;AnÂ exceptionÂ wasÂ thrownÂ byÂ &quot;&lt;/span&gt;Â +Â TimerTask&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;.&lt;span&gt;getSimpleName&lt;/span&gt;()Â +Â &#x27;.&#x27;,Â &lt;span&gt;t&lt;/span&gt;)&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆ°è¿™é‡Œæç„¶å¤§æ‚Ÿï¼šå¦‚æœè¯·æ±‚ä¸€ç›´å‘é€ï¼Œä¸è¶…æ—¶ï¼Œé‚£æ˜¯ä¸æ˜¯æœ‰å¯èƒ½æ’‘çˆ†å†…å­˜ï¼Ÿäºæ˜¯æˆ‘åˆæ¨¡æ‹Ÿäº†ä¸€ä¸‹ï¼Œå¹¶ä¸”å¼€äº† 3 ä¸ªçº¿ç¨‹ä¸€ç›´è¯·æ±‚ Â providerï¼Œæœç„¶å¤ç°å‡ºå†…å­˜è¢«æ’‘çˆ†çš„åœºæ™¯ï¼Œè€Œå½“ä¸è§¦å‘è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå†…å­˜æ˜¯ä¸€ç›´ç¨³å®šåœ¨ä¸€ä¸ªä½æ°´å¹³ä¸Šã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;0.6542857142857142&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_png/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCsibib2FQ6xoyes5cj76FMxCsJmrFmW1hpML80fZbfHiaJNQDLKhE35STA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2100&quot;/&gt;&lt;/figure&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;è¿™é‡Œæˆ‘ç”¨çš„ arthas æ¥çœ‹çš„å†…å­˜å˜åŒ–ï¼Œéå¸¸æ–¹ä¾¿&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¾—å‡ºç»“è®º&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æœ¬åœ°å¤ç°åï¼Œäºæ˜¯è·Ÿä¸šåŠ¡æ–¹æ±‚è¯ä¸€ä¸‹ï¼Œè¿™ä¸ªé—®é¢˜å¤ç°è¿˜æ˜¯æ¯”è¾ƒè‹›åˆ»çš„ï¼Œé¦–å…ˆå¾—æ˜¯&lt;strong&gt;å¼‚æ­¥è°ƒç”¨&lt;/strong&gt;ï¼Œå…¶æ¬¡ &lt;strong&gt;provider éœ€è¦éæ­£å¸¸ä¸‹çº¿&lt;/strong&gt;ï¼Œæœ€åÂ &lt;strong&gt;provider éœ€è¦æœ‰é˜»å¡&lt;/strong&gt;ï¼Œå³è¯·æ±‚ä¸€ç›´ä¸è¿”å›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼‚æ­¥è°ƒç”¨å¾—åˆ°ä¸šåŠ¡æ–¹çš„ç¡®è®¤ï¼Œprovider éæ­£å¸¸ä¸‹çº¿ï¼Œè¿™ä¸ªæ¯”è¾ƒå¸¸è§ï¼Œç‰©ç†æœºçš„æ•…éšœå¯¼è‡´çš„å®¹å™¨æ¼‚ç§»å°±ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µï¼Œæœ€å provider æœ‰é˜»å¡è¿™ç‚¹ä¹Ÿå¾—åˆ°ä¸šåŠ¡æ–¹çš„ç¡®è®¤ï¼Œç¡®å® C æœåŠ¡æœ‰ä¸€å°æœºå™¨åœ¨é‚£ä¸ªæ—¶é—´ç‚¹é™„è¿‘åƒµæ­»ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ï¼Œä½†è¿›ç¨‹åˆæ˜¯å­˜æ´»çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥è¿™ä¸ªé—®é¢˜æ˜¯ dubbo 2.7.12 çš„ bug å¯¼è‡´ã€‚ç¿»çœ‹äº†ä¸‹è¿™ä¸ª bug æ˜¯ 2.7.10 å¼•å…¥ï¼Œ 2.7.13 ä¿®å¤ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å¤ç›˜&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å·®ä¸å¤šèŠ±äº†1å¤©çš„æ—¶é—´æ¥å®šä½å’Œå¤ç°ï¼Œè¿˜ç®—é¡ºåˆ©ï¼Œè¿æ°”ä¹Ÿæ¯”è¾ƒå¥½ï¼Œæ²¡æ€ä¹ˆèµ°å¼¯è·¯ï¼Œä½†è¿™ä¸­é—´ä¹Ÿéœ€è¦æœ‰äº›åœ°æ–¹éœ€è¦å¼•èµ·é‡è§†ã€‚&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;section&gt;æ­¢æŸçš„åŒæ—¶æœ€å¥½èƒ½ä¿ç•™ç°åœºï¼Œå¦‚æœ¬æ¬¡å¦‚æœåœ¨é‡å¯å‰ dump ä¸‹å†…å­˜æˆ–æ‘˜é™¤æµé‡ä¿ç•™æœºå™¨ç°åœºï¼Œå¯èƒ½ä¼šå¸®åŠ©åŠ é€Ÿå®šä½é—®é¢˜ã€‚å¦‚é…ç½® OOM æ—¶è‡ªåŠ¨ dump å†…å­˜ç­‰å…¶ä»–æ‰‹æ®µã€‚è¿™ä¹Ÿæ˜¯æœ¬èµ·äº‹æ•…ä¸­ä¸è¶³çš„ç‚¹&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;æœåŠ¡çš„å¯è§‚æµ‹æ€§éå¸¸é‡è¦ï¼Œä¸ç®¡æ˜¯æ—¥å¿—ã€ç›‘æ§æˆ–å…¶ä»–ï¼Œéƒ½è¦é½å…¨ã€‚åŸºæœ¬çš„å¦‚æ—¥å¿—ã€å‡ºå£ã€è¿›å£è¯·æ±‚ç›‘æ§ã€æœºå™¨æŒ‡æ ‡ï¼ˆå†…å­˜ã€CPUã€ç½‘ç»œç­‰ï¼‰ã€JVM ç›‘æ§ï¼ˆçº¿ç¨‹æ± ã€GC ç­‰ï¼‰ã€‚è¿™ç‚¹åšçš„è¿˜å¯ä»¥ï¼ŒåŸºæœ¬è¯¥æœ‰çš„éƒ½æœ‰&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;å¼€æºäº§å“ï¼Œå¯ä»å…³é”®æ—¥å¿—å»ç½‘ç»œæŸ¥æ‰¾ï¼Œæå¤§æ¦‚ç‡ä½ é‡åˆ°çš„é—®é¢˜å¤§å®¶ä¹Ÿé‡åˆ°è¿‡ã€‚è¿™ä¹Ÿæ˜¯è¿™æ¬¡å¹¸è¿çš„ç‚¹ï¼Œå°‘èµ°äº†å¾ˆå¤šå¼¯è·¯&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;æœç´¢å…³æ³¨å¾®ä¿¡å…¬ä¼—å·&quot;æ‰è™«å¤§å¸ˆ&quot;ï¼Œåç«¯æŠ€æœ¯åˆ†äº«ï¼Œæ¶æ„è®¾è®¡ã€æ€§èƒ½ä¼˜åŒ–ã€æºç é˜…è¯»ã€é—®é¢˜æ’æŸ¥ã€è¸©å‘å®è·µã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-src=&quot;https://mmbiz.qpic.cn/sz_mmbiz_jpg/xacdaKuBM0RsPot9ibD6IGMYFkhYP61mCiaEnjMV0AdaTia5o0xpU4ric0WOM9nzIG3QULiaRnDwZ7rRgG0urvE5BlA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot;/&gt;&lt;/figure&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>273ed205355050d46bc7e6ea7be52e07</guid>
<title>Redis æ ¸å¿ƒåŸç†ä¸å®è·µï¼šæ•£åˆ—ç±»å‹ä¸å­—å…¸ç»“æ„å®ç°åŸç†</title>
<link>https://toutiao.io/k/gomuz3y</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;p&gt;Redisæ•£åˆ—ç±»å‹å¯ä»¥å­˜å‚¨ä¸€ç»„æ— åºçš„é”®å€¼å¯¹ï¼Œå®ƒç‰¹åˆ«é€‚ç”¨äºå­˜å‚¨ä¸€ä¸ªå¯¹è±¡æ•°æ®ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&amp;gt;Â &lt;span&gt;HSET&lt;/span&gt;Â &lt;span&gt;fruit&lt;/span&gt;Â &lt;span&gt;name&lt;/span&gt;Â &lt;span&gt;apple&lt;/span&gt;Â &lt;span&gt;price&lt;/span&gt;Â 7&lt;span&gt;.6&lt;/span&gt;Â &lt;span&gt;origin&lt;/span&gt;Â &lt;span&gt;china&lt;/span&gt;&lt;br/&gt;3&lt;br/&gt;&amp;gt;Â &lt;span&gt;HGET&lt;/span&gt;Â &lt;span&gt;fruit&lt;/span&gt;Â &lt;span&gt;price&lt;/span&gt;&lt;br/&gt;&quot;7&lt;span&gt;.6&lt;/span&gt;&quot;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ¬æ–‡åˆ†æRedisä¸­æ•£åˆ—ç±»å‹ä»¥åŠå…¶åº•å±‚æ•°æ®ç»“æ„--å­—å…¸çš„å®ç°åŸç†ã€‚&lt;/p&gt;&lt;h2&gt;&lt;span&gt;å­—å…¸&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;Redisé€šå¸¸ä½¿ç”¨å­—å…¸ç»“æ„å­˜å‚¨ç”¨æˆ·æ•£åˆ—æ•°æ®ã€‚Â &lt;br/&gt;å­—å…¸æ˜¯Redisçš„é‡è¦æ•°æ®ç»“æ„ã€‚é™¤äº†æ•£åˆ—ç±»å‹ï¼ŒRedisæ•°æ®åº“ä¹Ÿä½¿ç”¨äº†å­—å…¸ç»“æ„ã€‚Â &lt;br/&gt;Redisä½¿ç”¨Hashè¡¨å®ç°å­—å…¸ç»“æ„ã€‚åˆ†æHashè¡¨ï¼Œæˆ‘ä»¬é€šå¸¸å…³æ³¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼šÂ &lt;br/&gt;ï¼ˆ1ï¼‰ä½¿ç”¨ä»€ä¹ˆHashç®—æ³•ï¼ŸÂ &lt;br/&gt;ï¼ˆ2ï¼‰Hashå†²çªå¦‚ä½•è§£å†³ï¼ŸÂ &lt;br/&gt;ï¼ˆ3ï¼‰Hashè¡¨å¦‚ä½•æ‰©å®¹ï¼Ÿ&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;æç¤ºï¼šæœ¬ç« ä»£ç å¦‚æ— ç‰¹åˆ«è¯´æ˜ï¼Œå‡åœ¨dict.hã€dict.cä¸­ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h3&gt;&lt;span&gt;å®šä¹‰&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;å­—å…¸ä¸­é”®å€¼å¯¹çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;dictEntry&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â *key;&lt;br/&gt;Â Â Â Â &lt;span&gt;union&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â *val;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;uint64_t&lt;/span&gt;Â u64;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;int64_t&lt;/span&gt;Â s64;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;double&lt;/span&gt;Â d;&lt;br/&gt;Â Â Â Â }Â v;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;dictEntry&lt;/span&gt;Â *&lt;span&gt;next&lt;/span&gt;;&lt;/span&gt;&lt;br/&gt;}Â dictEntry;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;&lt;p&gt;æç¤ºï¼šCè¯­è¨€unionå…³é”®å­—ç”¨äºå£°æ˜å…±ç”¨ä½“ï¼Œå…±ç”¨ä½“çš„æ‰€æœ‰å±æ€§å…±ç”¨åŒä¸€ç©ºé—´ï¼ŒåŒä¸€æ—¶é—´åªèƒ½å‚¨å­˜å…¶ä¸­ä¸€ä¸ªå±æ€§å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒdictEntry.vå¯ä»¥å­˜æ”¾valã€u64ã€s64ã€dä¸­çš„ä¸€ä¸ªå±æ€§å€¼ã€‚ä½¿ç”¨sizeofå‡½æ•°è®¡ç®—å…±ç”¨ä½“å¤§å°ï¼Œç»“æœä¸ä¼šå°äºå…±ç”¨ä½“ä¸­æœ€å¤§çš„æˆå‘˜å±æ€§å¤§å°ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;å­—å…¸ä¸­Hashè¡¨çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;dictht&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â dictEntryÂ **table;&lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â size;&lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â sizemask;&lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â used;&lt;br/&gt;}Â dictht;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;tableï¼šHashè¡¨æ•°ç»„ï¼Œè´Ÿè´£å­˜å‚¨æ•°æ®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;usedï¼šè®°å½•å­˜å‚¨é”®å€¼å¯¹çš„æ•°é‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;sizeï¼šHashè¡¨æ•°ç»„é•¿åº¦ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;dicthtçš„ç»“æ„å¦‚å›¾3-1æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.8448753462603878&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Of81vjDNtAyumicu56oibsfCjKpz4aue6ib88QUTibkibXSsrGDVUfCoqhom6dPN2mWtJG9xfaprsX4a6EsUOE6ibE4A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;361&quot; title=&quot;å›¾3-1&quot;/&gt;&lt;figcaption&gt;å›¾3-1&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å­—å…¸çš„å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;dict&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â dictTypeÂ *type;&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â *privdata;&lt;br/&gt;Â Â Â Â dicthtÂ ht[&lt;span&gt;2&lt;/span&gt;];&lt;br/&gt;Â Â Â Â &lt;span&gt;long&lt;/span&gt;Â rehashidx;Â &lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â iterators;&lt;br/&gt;}Â dict;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;typeï¼šæŒ‡å®šæ“ä½œæ•°æ®çš„å‡½æ•°æŒ‡é’ˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ht[2]ï¼šå®šä¹‰ä¸¤ä¸ªHashè¡¨ç”¨äºå®ç°å­—å…¸æ‰©å®¹æœºåˆ¶ã€‚é€šå¸¸åœºæ™¯ä¸‹åªä½¿ç”¨ht[0]ï¼Œè€Œåœ¨æ‰©å®¹æ—¶ï¼Œä¼šåˆ›å»ºht[1]ï¼Œå¹¶åœ¨æ“ä½œæ•°æ®æ—¶ä¸­é€æ­¥å°†ht[0]çš„æ•°æ®ç§»åˆ°ht[1]ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;rehashidxï¼šä¸‹ä¸€æ¬¡æ‰§è¡Œæ‰©å®¹å•æ­¥æ“ä½œè¦è¿ç§»çš„ht[0]Hashè¡¨æ•°ç»„ç´¢å¼•ï¼Œ-1ä»£è¡¨å½“å‰æ²¡æœ‰è¿›è¡Œæ‰©å®¹æ“ä½œã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;iteratorsï¼šå½“å‰è¿è¡Œçš„è¿­ä»£å™¨æ•°é‡ï¼Œè¿­ä»£å™¨ç”¨äºéå†å­—å…¸é”®å€¼å¯¹ã€‚Â &lt;br/&gt;dictTypeå®šä¹‰äº†å­—å…¸ä¸­ç”¨äºæ“ä½œæ•°æ®çš„å‡½æ•°æŒ‡é’ˆï¼Œè¿™äº›å‡½æ•°è´Ÿè´£å®ç°æ•°æ®å¤åˆ¶ã€æ¯”è¾ƒç­‰æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;dictType&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;uint64_t&lt;/span&gt;Â (*hashFunction)(&lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *key);&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â *(*keyDup)(&lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *key);&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â *(*valDup)(&lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *obj);&lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â (*keyCompare)(&lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *key1,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *key2);&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â (*keyDestructor)(&lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;void&lt;/span&gt;Â *key);&lt;br/&gt;Â Â Â Â &lt;span&gt;void&lt;/span&gt;Â (*valDestructor)(&lt;span&gt;void&lt;/span&gt;Â *privdata,Â &lt;span&gt;void&lt;/span&gt;Â *obj);&lt;br/&gt;}Â dictType;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é€šè¿‡dictTypeæŒ‡å®šæ“ä½œæ•°æ®çš„å‡½æ•°æŒ‡é’ˆï¼Œå­—å…¸å°±å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®äº†ã€‚ä½†åœ¨ä¸€ä¸ªå­—å…¸ä¸­ï¼Œé”®ã€å€¼å¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹ï¼Œä½†é”®å¿…é¡»ç±»å‹ç›¸åŒï¼Œå€¼ä¹Ÿå¿…é¡»ç±»å‹ç›¸åŒã€‚Â &lt;br/&gt;Redisä¸ºä¸åŒçš„å­—å…¸å®šä¹‰äº†ä¸åŒçš„dictTypeï¼Œå¦‚æ•°æ®åº“ä½¿ç”¨çš„server.c/dbDictTypeï¼Œæ•£åˆ—ç±»å‹ä½¿ç”¨çš„server.c/setDictTypeç­‰ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;æ“ä½œåˆ†æ&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;dictAddRawå‡½æ•°å¯ä»¥åœ¨å­—å…¸ä¸­æ’å…¥æˆ–æŸ¥æ‰¾é”®ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;dictEntryÂ *dictAddRaw(dictÂ *d,Â voidÂ *key,Â dictEntryÂ **existing)&lt;br/&gt;{&lt;br/&gt;Â Â Â Â longÂ index;&lt;br/&gt;Â Â Â Â dictEntryÂ *entry;&lt;br/&gt;Â Â Â Â dicthtÂ *ht;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [1]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (dictIsRehashing(d))Â _dictRehashStep(d);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [2]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â ((indexÂ =Â _dictKeyIndex(d,Â key,Â dictHashKey(d,key),Â existing))Â ==Â &lt;span&gt;-1&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;NULL&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [3]&lt;/span&gt;&lt;br/&gt;Â Â Â Â htÂ =Â dictIsRehashing(d)Â ?Â &amp;amp;d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;]Â :Â &amp;amp;d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;];&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [4]&lt;/span&gt;&lt;br/&gt;Â Â Â Â entryÂ =Â zmalloc(sizeof(*entry));&lt;br/&gt;Â Â Â Â entry-&amp;gt;nextÂ =Â ht-&amp;gt;table[index];&lt;br/&gt;Â Â Â Â ht-&amp;gt;table[index]Â =Â entry;&lt;br/&gt;Â Â Â Â ht-&amp;gt;used++;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [5]&lt;/span&gt;&lt;br/&gt;Â Â Â Â dictSetKey(d,Â entry,Â key);&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â entry;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;&lt;p&gt;ã€1ã€‘å¦‚æœè¯¥å­—å…¸æ­£åœ¨æ‰©å®¹ï¼Œåˆ™æ‰§è¡Œä¸€æ¬¡æ‰©å®¹å•æ­¥æ“ä½œã€‚Â &lt;br/&gt;ã€2ã€‘è®¡ç®—å‚æ•°keyçš„Hashè¡¨æ•°ç»„ç´¢å¼•ï¼Œè¿”å›-1ï¼Œä»£è¡¨é”®å·²å­˜åœ¨ï¼Œè¿™æ—¶dictAddRawå‡½æ•°è¿”å›NULLï¼Œä»£è¡¨è¯¥é”®å·²å­˜åœ¨ã€‚Â &lt;br/&gt;ã€3ã€‘å¦‚æœè¯¥å­—å…¸æ­£åœ¨æ‰©å®¹ï¼Œåˆ™å°†æ–°çš„dictEntryæ·»åŠ åˆ°ht[1]ä¸­ï¼Œå¦åˆ™æ·»åŠ åˆ°ht[0]ä¸­ã€‚Â &lt;br/&gt;ã€4ã€‘åˆ›å»ºdictEntryï¼Œå¤´æ’åˆ°Hashè¡¨æ•°ç»„å¯¹åº”ä½ç½®çš„é“¾è¡¨ä¸­ã€‚Rediså­—å…¸ä½¿ç”¨é“¾è¡¨æ³•è§£å†³Hashå†²çªï¼ŒHashè¡¨æ•°ç»„çš„å…ƒç´ éƒ½æ˜¯é“¾è¡¨ã€‚Â &lt;br/&gt;ã€5ã€‘å°†é”®è®¾ç½®åˆ°dictEntryä¸­ã€‚&lt;/p&gt;&lt;p&gt;dictAddRawå‡½æ•°åªä¼šæ’å…¥é”®ï¼Œå¹¶ä¸æ’å…¥å¯¹åº”çš„å€¼ã€‚å¯ä»¥ä½¿ç”¨è¿”å›çš„dictEntryæ’å…¥å€¼ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Â Â Â Â entryÂ =Â dictAddRaw(dict,mykey,&lt;span&gt;NULL&lt;/span&gt;);&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (entryÂ !=Â &lt;span&gt;NULL&lt;/span&gt;)Â dictSetSignedIntegerVal(entry,&lt;span&gt;1000&lt;/span&gt;);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Hashç®—æ³•&lt;/strong&gt; Â &lt;br/&gt;dictHashKeyå®è°ƒç”¨dictType.hashFunctionå‡½æ•°è®¡ç®—é”®çš„Hashå€¼ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;#&lt;span&gt;define&lt;/span&gt;Â dictHashKey(d,Â key)Â (d)-&amp;gt;type-&amp;gt;hashFunction(key)&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Redisä¸­å­—å…¸åŸºæœ¬éƒ½ä½¿ç”¨SipHashç®—æ³•ï¼ˆserver.c/dbDictTypeã€server.c/setDictTypeç­‰dictTypeçš„hashFunctionå±æ€§æŒ‡å‘çš„å‡½æ•°éƒ½ä½¿ç”¨äº†SipHashç®—æ³•ï¼‰ã€‚è¯¥ç®—æ³•èƒ½æœ‰æ•ˆåœ°é˜²æ­¢Hashè¡¨ç¢°æ’æ”»å‡»ï¼Œå¹¶æä¾›ä¸é”™çš„æ€§èƒ½ã€‚Â &lt;br/&gt;Hashç®—æ³•æ¶‰åŠè¾ƒå¤šçš„æ•°å­¦çŸ¥è¯†ï¼Œæœ¬ä¹¦å¹¶ä¸è®¨è®ºHashç®—æ³•çš„åŸç†åŠå®ç°ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œé˜…è¯»ç›¸å…³ä»£ç ã€‚&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;æç¤ºï¼šRedis 4.0ä¹‹å‰ä½¿ç”¨çš„Hashç®—æ³•æ˜¯MurmurHashã€‚å³ä½¿è¾“å…¥çš„é”®æ˜¯æœ‰è§„å¾‹çš„ï¼Œè¯¥ç®—æ³•è®¡ç®—çš„ç»“æœä¾ç„¶æœ‰å¾ˆå¥½çš„ç¦»æ•£æ€§ï¼Œå¹¶ä¸”è®¡ç®—é€Ÿåº¦éå¸¸å¿«ã€‚Redis 4.0å¼€å§‹æ›´æ¢ä¸ºSipHashç®—æ³•ï¼Œåº”è¯¥æ˜¯å‡ºäºå®‰å…¨çš„è€ƒè™‘ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;è®¡ç®—é”®çš„Hashå€¼åï¼Œè¿˜éœ€è¦è®¡ç®—é”®çš„Hashè¡¨æ•°ç»„ç´¢å¼•ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â _dictKeyIndex(dictÂ *d,Â &lt;span&gt;const&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â *key,Â &lt;span&gt;uint64_t&lt;/span&gt;Â hash,Â dictEntryÂ **existing)&lt;br/&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â idx,Â table;&lt;br/&gt;Â Â Â Â dictEntryÂ *he;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (existing)Â *existingÂ =Â &lt;span&gt;NULL&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [1]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (_dictExpandIfNeeded(d)Â ==Â DICT_ERR)&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;-1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [2]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (tableÂ =Â &lt;span&gt;0&lt;/span&gt;;Â tableÂ &amp;lt;=Â &lt;span&gt;1&lt;/span&gt;;Â table++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â idxÂ =Â hashÂ &amp;amp;Â d-&amp;gt;ht[table].sizemask;&lt;br/&gt;Â Â Â Â Â Â Â Â heÂ =Â d-&amp;gt;ht[table].table[idx];&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;(he)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (key==he-&amp;gt;keyÂ ||Â dictCompareKeys(d,Â key,Â he-&amp;gt;key))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (existing)Â *existingÂ =Â he;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;-1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â heÂ =Â he-&amp;gt;next;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â [3]&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!dictIsRehashing(d))Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â idx;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã€1ã€‘æ ¹æ®éœ€è¦è¿›è¡Œæ‰©å®¹æˆ–åˆå§‹åŒ–Hashè¡¨æ“ä½œã€‚Â &lt;br/&gt;ã€2ã€‘éå†ht[0]ã€ht[1]ï¼Œè®¡ç®—Hashè¡¨æ•°ç»„ç´¢å¼•ï¼Œå¹¶åˆ¤æ–­Hashè¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨å‚æ•°keyã€‚è‹¥å·²å­˜åœ¨ï¼Œåˆ™å°†å¯¹åº”çš„dictEntryèµ‹å€¼ç»™*existingã€‚Â &lt;br/&gt;ã€3ã€‘å¦‚æœå½“å‰æ²¡æœ‰è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œåˆ™è®¡ç®—ht[0]ç´¢å¼•åä¾¿é€€å‡ºï¼Œä¸éœ€è¦è®¡ç®—ht[1]ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;æ‰©å®¹&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;Redisä½¿ç”¨äº†ä¸€ç§æ¸è¿›å¼æ‰©å®¹æ–¹å¼ï¼Œè¿™æ ·è®¾è®¡ï¼Œæ˜¯å› ä¸ºRedisæ˜¯å•çº¿ç¨‹çš„ã€‚å¦‚æœåœ¨ä¸€ä¸ªæ“ä½œå†…å°†ht[0]æ‰€æœ‰æ•°æ®éƒ½è¿ç§»åˆ°ht[1]ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¼•èµ·çº¿ç¨‹é•¿æœŸé˜»å¡ã€‚æ‰€ä»¥ï¼ŒRediså­—å…¸æ‰©å®¹æ˜¯åœ¨æ¯æ¬¡æ“ä½œæ•°æ®æ—¶éƒ½æ‰§è¡Œä¸€æ¬¡æ‰©å®¹å•æ­¥æ“ä½œï¼Œæ‰©å®¹å•æ­¥æ“ä½œå³å°†ht[0].table[rehashidx]çš„æ•°æ®è¿ç§»åˆ°ht[1]ã€‚ç­‰åˆ°ht[0]çš„æ‰€æœ‰æ•°æ®éƒ½è¿ç§»åˆ°ht[1]ï¼Œä¾¿å°†ht[0]æŒ‡å‘ht[1]ï¼Œå®Œæˆæ‰©å®¹ã€‚Â &lt;br/&gt;_dictExpandIfNeededå‡½æ•°ç”¨äºåˆ¤æ–­Hashè¡¨æ˜¯å¦éœ€è¦æ‰©å®¹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;static&lt;/span&gt;Â intÂ _dictExpandIfNeeded(dictÂ *d)&lt;br/&gt;{&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].usedÂ &amp;gt;=Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].sizeÂ &amp;amp;&amp;amp;&lt;br/&gt;Â Â Â Â Â Â Â Â (dict_can_resizeÂ ||&lt;br/&gt;Â Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].used/d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].sizeÂ &amp;gt;Â dict_force_resize_ratio))&lt;br/&gt;Â Â Â Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â dictExpand(d,Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].used*&lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â DICT_OK;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ‰©å®¹éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼šÂ &lt;br/&gt;ï¼ˆ1ï¼‰d-&amp;gt;ht[0].usedâ‰¥d-&amp;gt;ht[0].sizeï¼šHashè¡¨å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡å¤§äºæˆ–ç­‰äºHashè¡¨æ•°ç»„çš„é•¿åº¦ã€‚Â &lt;br/&gt;ï¼ˆ2ï¼‰å¼€å¯äº†dict_can_resizeæˆ–è€…è´Ÿè½½å› å­å¤§äºdict_force_resize_ratioã€‚Â  &lt;br/&gt;d-&amp;gt;ht[0].used/d-&amp;gt;ht[0].sizeï¼Œå³Hashè¡¨å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡/Hashè¡¨æ•°ç»„çš„é•¿åº¦ï¼Œç§°ä¹‹ä¸ºè´Ÿè½½å› å­ã€‚dict_can_resizeé»˜è®¤å¼€å¯ï¼Œå³è´Ÿè½½å› å­ç­‰äº1å°±æ‰©å®¹ã€‚è´Ÿè½½å› å­ç­‰äº1å¯èƒ½å‡ºç°æ¯”è¾ƒé«˜çš„Hashå†²çªç‡ï¼Œä½†è¿™æ ·å¯ä»¥æé«˜Hashè¡¨çš„å†…å­˜ä½¿ç”¨ç‡ã€‚dict_force_resize_ratioå…³é—­æ—¶ï¼Œå¿…é¡»ç­‰åˆ°è´Ÿè½½å› å­ç­‰äº5æ—¶æ‰å¼ºåˆ¶æ‰©å®¹ã€‚ç”¨æˆ·ä¸èƒ½é€šè¿‡é…ç½®å…³é—­dict_force_resize_ratioï¼Œè¯¥å€¼çš„å¼€å…³ä¸RedisæŒä¹…åŒ–æœ‰å…³ï¼Œç­‰æˆ‘ä»¬åˆ†æRedisæŒä¹…åŒ–æ—¶å†è®¨è®ºè¯¥å€¼ã€‚&lt;/p&gt;&lt;p&gt;dictExpandå‡½æ•°å¼€å§‹æ‰©å®¹æ“ä½œï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;dictExpand&lt;/span&gt;&lt;span&gt;(dictÂ *d,Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â size)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [1]&lt;/span&gt;&lt;br/&gt;Â Â Â Â dicthtÂ n;Â &lt;br/&gt;Â Â Â Â &lt;span&gt;unsigned&lt;/span&gt;Â &lt;span&gt;long&lt;/span&gt;Â realsizeÂ =Â _dictNextPower(size);&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [2]&lt;/span&gt;&lt;br/&gt;Â Â Â Â n.sizeÂ =Â realsize;&lt;br/&gt;Â Â Â Â n.sizemaskÂ =Â realsize&lt;span&gt;-1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â n.tableÂ =Â zcalloc(realsize*&lt;span&gt;sizeof&lt;/span&gt;(dictEntry*));&lt;br/&gt;Â Â Â Â n.usedÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [3]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].tableÂ ==Â &lt;span&gt;NULL&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;]Â =Â n;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â DICT_OK;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [4]&lt;/span&gt;&lt;br/&gt;Â Â Â Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;]Â =Â n;&lt;br/&gt;Â Â Â Â d-&amp;gt;rehashidxÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â DICT_OK;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;&lt;p&gt;ã€1ã€‘_dictNextPowerå‡½æ•°ä¼šå°†sizeè°ƒæ•´ä¸º2çš„næ¬¡å¹‚ã€‚Â &lt;br/&gt;ã€2ã€‘æ„å»ºä¸€ä¸ªæ–°çš„Hashè¡¨dicthtã€‚Â &lt;br/&gt;ã€3ã€‘ht[0].table==NULLï¼Œä»£è¡¨å­—å…¸çš„Hashè¡¨æ•°ç»„è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œå°†æ–°dicthtèµ‹å€¼ç»™ht[0]ï¼Œç°åœ¨å®ƒå°±å¯ä»¥å­˜å‚¨æ•°æ®äº†ã€‚è¿™é‡Œå¹¶ä¸æ˜¯æ‰©å®¹æ“ä½œï¼Œè€Œæ˜¯å­—å…¸ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰çš„åˆå§‹åŒ–æ“ä½œã€‚Â &lt;br/&gt;ã€4ã€‘å¦åˆ™ï¼Œå°†æ–°dicthtèµ‹å€¼ç»™ht[1]ï¼Œå¹¶å°†rehashidxèµ‹å€¼ä¸º0ã€‚rehashidxä»£è¡¨ä¸‹ä¸€æ¬¡æ‰©å®¹å•æ­¥æ“ä½œè¦è¿ç§»çš„ht[0] Hashè¡¨æ•°ç»„ç´¢å¼•ã€‚&lt;/p&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¦å°†sizeè°ƒæ•´ä¸º2çš„næ¬¡å¹‚å‘¢ï¼Ÿè¿™æ ·æ˜¯ä¸ºäº†ht[1] Hashè¡¨æ•°ç»„é•¿åº¦æ˜¯ht[0] Hashè¡¨æ•°ç»„é•¿åº¦çš„å€æ•°ï¼Œæœ‰åˆ©äºht[0]çš„æ•°æ®å‡åŒ€åœ°è¿ç§»åˆ°ht[1]ã€‚Â &lt;br/&gt;æˆ‘ä»¬çœ‹ä¸€ä¸‹é”®çš„Hashè¡¨æ•°ç»„ç´¢å¼•è®¡ç®—æ–¹æ³•ï¼š&lt;code&gt;idx=hash&amp;amp;ht.sizemask&lt;/code&gt;ï¼Œç”±äº&lt;code&gt;sizemask= size-1&lt;/code&gt;ï¼Œè®¡ç®—æ–¹æ³•ç­‰ä»·äºï¼š&lt;code&gt;idx=hash%(ht.size)&lt;/code&gt;ã€‚Â &lt;br/&gt;å› æ­¤ï¼Œå‡å¦‚ht[0].sizeä¸ºnï¼Œht[1].sizeä¸º2Ã—nï¼Œå¯¹äºht[0]ä¸Šçš„å…ƒç´ ï¼Œht[0].table[k]çš„æ•°æ®ï¼Œè¦ä¸è¿ç§»åˆ°ht[1].table[k]ï¼Œè¦ä¸è¿ç§»åˆ°ht[1].table[k+n]ã€‚è¿™æ ·å¯ä»¥å°†ht[0].tableä¸­ä¸€ä¸ªç´¢å¼•ä½çš„æ•°æ®æ‹†åˆ†åˆ°ht[1]çš„ä¸¤ä¸ªç´¢å¼•ä½ä¸Šã€‚Â &lt;br/&gt;å›¾3-2å±•ç¤ºäº†ä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚Â &lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.5094339622641509&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Of81vjDNtAyumicu56oibsfCjKpz4aue6ibwmowzvXVWTJrPMviaIG64ZYgd0Gx05OSbBnk4qbleLelTrzDf1nXnjA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;371&quot; title=&quot;å›¾3-2&quot;/&gt;&lt;figcaption&gt;å›¾3-2&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;_dictRehashStepå‡½æ•°è´Ÿè´£æ‰§è¡Œæ‰©å®¹å•æ­¥æ“ä½œï¼Œå°†ht[0]ä¸­ä¸€ä¸ªç´¢å¼•ä½çš„æ•°æ®è¿ç§»åˆ°ht[1]ä¸­ã€‚dictAddRawã€dictGenericDeleteã€dictFindã€dictGetRandomKeyã€dictGetSomeKeysç­‰å‡½æ•°éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•°ï¼Œä»è€Œé€æ­¥å°†æ•°æ®è¿ç§»åˆ°æ–°çš„Hashè¡¨ä¸­ã€‚&lt;br/&gt;_dictRehashStepè°ƒç”¨dictRehashå‡½æ•°å®Œæˆæ‰©å®¹å•æ­¥æ“ä½œï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;intÂ dictRehash(dictÂ *d,Â intÂ n)Â {&lt;br/&gt;Â Â Â Â intÂ empty_visitsÂ =Â n*&lt;span&gt;10&lt;/span&gt;;Â &lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [1]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (!dictIsRehashing(d))Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;while&lt;/span&gt;(n--Â &amp;amp;&amp;amp;Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].usedÂ !=Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â dictEntryÂ *de,Â *nextde;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â assert(d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].sizeÂ &amp;gt;Â (unsignedÂ long)d-&amp;gt;rehashidx);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â [2]&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;(d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].table[d-&amp;gt;rehashidx]Â ==Â &lt;span&gt;NULL&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â d-&amp;gt;rehashidx++;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (--empty_visitsÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//Â [3]&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â deÂ =Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].table[d-&amp;gt;rehashidx];&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;(de)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â uint64_tÂ h;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â nextdeÂ =Â de-&amp;gt;next;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â hÂ =Â dictHashKey(d,Â de-&amp;gt;key)Â &amp;amp;Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;].sizemask;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â de-&amp;gt;nextÂ =Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;].table[h];&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;].table[h]Â =Â de;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].used--;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;].used++;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â deÂ =Â nextde;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].table[d-&amp;gt;rehashidx]Â =Â &lt;span&gt;NULL&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â d-&amp;gt;rehashidx++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//Â [4]&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].usedÂ ==Â &lt;span&gt;0&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â zfree(d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;].table);&lt;br/&gt;Â Â Â Â Â Â Â Â d-&amp;gt;ht[&lt;span&gt;0&lt;/span&gt;]Â =Â d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;];&lt;br/&gt;Â Â Â Â Â Â Â Â _dictReset(&amp;amp;d-&amp;gt;ht[&lt;span&gt;1&lt;/span&gt;]);&lt;br/&gt;Â Â Â Â Â Â Â Â d-&amp;gt;rehashidxÂ =Â &lt;span&gt;-1&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;&lt;p&gt;ã€1ã€‘å¦‚æœå­—å…¸å½“å‰å¹¶æ²¡æœ‰è¿›è¡Œæ‰©å®¹ï¼Œåˆ™ç›´æ¥é€€å‡ºå‡½æ•°ã€‚Â &lt;br/&gt;ã€2ã€‘ä»rehashidxå¼€å§‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºç´¢å¼•ä½ã€‚Â &lt;br/&gt;å¦‚æœè¿™é‡ŒæŸ¥æ‰¾çš„çš„ç©ºç´¢å¼•ä½çš„æ•°é‡å¤§äºnÃ—10ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚Â &lt;br/&gt;ã€3ã€‘éå†è¯¥ç´¢å¼•ä½é“¾è¡¨ä¸Šæ‰€æœ‰çš„å…ƒç´ ã€‚Â &lt;br/&gt;è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨ht[1]çš„Hashè¡¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œå°†å…ƒç´ ç§»åŠ¨åˆ°ht[1]ä¸­ã€‚Â &lt;br/&gt;ã€4ã€‘ht[0].used==0ï¼Œä»£è¡¨ht[0]çš„æ•°æ®å·²ç»å…¨éƒ¨ç§»åˆ°ht[1]ä¸­ã€‚Â  &lt;br/&gt;é‡Šæ”¾ht[0].tableï¼Œå°†ht[0]æŒ‡é’ˆæŒ‡å‘ht[1]ï¼Œå¹¶é‡ç½®rehashidxã€d-&amp;gt;ht[1]ï¼Œæ‰©å®¹å®Œæˆã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;ç¼©å®¹&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;æ‰§è¡Œåˆ é™¤æ“ä½œåï¼ŒRedisä¼šæ£€æŸ¥å­—å…¸æ˜¯å¦éœ€è¦ç¼©å®¹ï¼Œå½“Hashè¡¨é•¿åº¦å¤§äº4ä¸”è´Ÿè½½å› å­å°äº0.1æ—¶ï¼Œä¼šæ‰§è¡Œç¼©å®¹æ“ä½œï¼Œä»¥èŠ‚çœå†…å­˜ã€‚ç¼©å®¹å®é™…ä¸Šä¹Ÿæ˜¯é€šè¿‡dictExpandå‡½æ•°å®Œæˆçš„ï¼Œåªæ˜¯å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°sizeæ˜¯ç¼©å®¹åçš„å¤§å°ã€‚&lt;/p&gt;&lt;p&gt;dictå¸¸ç”¨çš„å‡½æ•°å¦‚è¡¨3-1æ‰€ç¤ºã€‚&lt;/p&gt;&lt;table data-sort=&quot;sortDisabled&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;å‡½æ•°&lt;/th&gt;&lt;th&gt;ä½œç”¨&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;dictAdd&lt;/td&gt;&lt;td&gt;æ’å…¥é”®å€¼å¯¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictReplace&lt;/td&gt;&lt;td&gt;æ›¿æ¢æˆ–æ’å…¥é”®å€¼å¯¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictDelete&lt;/td&gt;&lt;td&gt;åˆ é™¤é”®å€¼å¯¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictFind&lt;/td&gt;&lt;td&gt;æŸ¥æ‰¾é”®å€¼å¯¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictGetIterator&lt;/td&gt;&lt;td&gt;ç”Ÿæˆä¸å®‰å…¨è¿­ä»£å™¨ï¼Œå¯ä»¥å¯¹å­—å…¸è¿›è¡Œä¿®æ”¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictGetSafeIterator&lt;/td&gt;&lt;td&gt;ç”Ÿæˆå®‰å…¨è¿­ä»£å™¨ï¼Œä¸å¯å¯¹å­—å…¸è¿›è¡Œä¿®æ”¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictResize&lt;/td&gt;&lt;td&gt;å­—å…¸ç¼©å®¹&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;dictExpand&lt;/td&gt;&lt;td&gt;å­—å…¸æ‰©å®¹&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3&gt;&lt;span&gt;ç¼–ç &lt;/span&gt;&lt;/h3&gt;&lt;p&gt;æ•£åˆ—ç±»å‹æœ‰OBJ_ENCODING_HTå’ŒOBJ_ENCODING_ZIPLISTä¸¤ç§ç¼–ç ï¼Œåˆ†åˆ«ä½¿ç”¨dictã€ziplistç»“æ„å­˜å‚¨æ•°æ®ï¼ˆredisObject.ptræŒ‡å‘dictã€ziplistç»“æ„ï¼‰ã€‚Redisä¼šä¼˜å…ˆä½¿ç”¨ziplistå­˜å‚¨æ•£åˆ—å…ƒç´ ï¼Œä½¿ç”¨ä¸€ä¸ªziplistèŠ‚ç‚¹å­˜å‚¨é”®ï¼Œåé©±èŠ‚ç‚¹å­˜æ”¾å€¼ï¼ŒæŸ¥æ‰¾æ—¶éœ€è¦éå†ziplistã€‚ä½¿ç”¨dictå­˜å‚¨æ•£åˆ—å…ƒç´ ï¼Œå­—å…¸çš„é”®å’Œå€¼éƒ½æ˜¯sdsç±»å‹ã€‚æ•£åˆ—ç±»å‹ä½¿ç”¨OBJ_ENCODING_ZIPLISTç¼–ç ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼šÂ &lt;br/&gt;ï¼ˆ1ï¼‰æ•£åˆ—ä¸­æ‰€æœ‰é”®æˆ–å€¼çš„é•¿åº¦å°äºæˆ–ç­‰äºserver.hash_max_ziplist_valueï¼Œè¯¥å€¼å¯é€šè¿‡hash-max-ziplist-valueé…ç½®é¡¹è°ƒæ•´ã€‚Â &lt;br/&gt;ï¼ˆ2ï¼‰æ•£åˆ—ä¸­é”®å€¼å¯¹çš„æ•°é‡å°äºserver.hash_max_ziplist_entriesï¼Œè¯¥å€¼å¯é€šè¿‡hash-max- ziplist-entriesé…ç½®é¡¹è°ƒæ•´ã€‚Â &lt;br/&gt;æ•£åˆ—ç±»å‹çš„å®ç°ä»£ç åœ¨t_hash.cä¸­ï¼Œè¯»è€…å¯ä»¥æŸ¥çœ‹æºç äº†è§£æ›´å¤šå®ç°ç»†èŠ‚ã€‚&lt;/p&gt;&lt;h2&gt;&lt;span&gt;æ•°æ®åº“&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;Redisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œå†…éƒ¨å®šä¹‰äº†æ•°æ®åº“å¯¹è±¡server.h/redisDbè´Ÿè´£å­˜å‚¨æ•°æ®ï¼ŒredisDbä¹Ÿä½¿ç”¨äº†å­—å…¸ç»“æ„ç®¡ç†æ•°æ®ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;typedef&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;struct&lt;/span&gt;Â &lt;span&gt;redisDb&lt;/span&gt;Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â dictÂ *dict;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â dictÂ *expires;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â dictÂ *blocking_keys;Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â dictÂ *ready_keys;Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â dictÂ *watched_keys;Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;int&lt;/span&gt;Â id;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;br/&gt;Â Â Â Â ...&lt;br/&gt;}Â redisDb;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;dictï¼šæ•°æ®åº“å­—å…¸ï¼Œè¯¥redisDbæ‰€æœ‰çš„æ•°æ®éƒ½å­˜å‚¨åœ¨è¿™é‡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;expiresï¼šè¿‡æœŸå­—å…¸ï¼Œå­˜å‚¨äº†Redisä¸­æ‰€æœ‰è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®åŠå…¶å¯¹åº”çš„è¿‡æœŸæ—¶é—´ï¼Œè¿‡æœŸæ—¶é—´æ˜¯long longç±»å‹çš„UNIXæ—¶é—´æˆ³ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;blocking_keysï¼šå¤„äºé˜»å¡çŠ¶æ€çš„é”®å’Œç›¸åº”çš„å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ready_keysï¼šå‡†å¤‡å¥½æ•°æ®åå¯ä»¥è§£é™¤é˜»å¡çŠ¶æ€çš„é”®å’Œç›¸åº”çš„å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;watched_keysï¼šè¢«watchå‘½ä»¤ç›‘æ§çš„é”®å’Œç›¸åº”å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;idï¼šæ•°æ®åº“IDæ ‡è¯†ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Redisæ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•°æ®åº“ï¼Œå…¨ç§°ä¸ºRemote Dictionary Serverï¼ˆè¿œç¨‹å­—å…¸æœåŠ¡ï¼‰ï¼Œå®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå­—å…¸æœåŠ¡ã€‚redisDb.dictå­—å…¸ä¸­çš„é”®éƒ½æ˜¯sdsï¼Œå€¼éƒ½æ˜¯redisObjectã€‚è¿™ä¹Ÿæ˜¯redisObjectä½œç”¨ä¹‹ä¸€ï¼Œå®ƒå°†æ‰€æœ‰çš„æ•°æ®ç»“æ„éƒ½å°è£…ä¸ºredisObjectç»“æ„ï¼Œä½œä¸ºredisDbå­—å…¸çš„å€¼ã€‚Â &lt;br/&gt;ä¸€ä¸ªç®€å•çš„redisDbç»“æ„å¦‚å›¾3-3æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure&gt;&lt;img data-ratio=&quot;0.26785714285714285&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Of81vjDNtAyumicu56oibsfCjKpz4aue6ibjOrhhrdF5BBibqRJ05k6LnqKGGqo0QYicTKADVJ8ZwaUNzqwLKC1pXdQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;560&quot; title=&quot;å›¾3-3&quot;/&gt;&lt;figcaption&gt;å›¾3-3&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦æ“ä½œRedisæ•°æ®æ—¶ï¼Œéƒ½éœ€è¦ä»redisDbä¸­æ‰¾åˆ°è¯¥æ•°æ®ã€‚Â &lt;br/&gt;db.cä¸­å®šä¹‰äº†hashTypeLookupWriteOrCreateã€lookupKeyReadOrReplyç­‰å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡é”®æ‰¾åˆ°redisDb.dictä¸­å¯¹åº”çš„redisObjectï¼Œè¿™äº›å‡½æ•°éƒ½æ˜¯é€šè¿‡è°ƒç”¨dict APIå®ç°çš„ï¼Œè¿™é‡Œä¸ä¸€ä¸€å±•ç¤ºï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œé˜…è¯»ä»£ç ã€‚&lt;/p&gt;&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Rediså­—å…¸ä½¿ç”¨SipHashç®—æ³•è®¡ç®—Hashå€¼ï¼Œå¹¶ä½¿ç”¨é“¾è¡¨æ³•å¤„ç†Hashå†²çªã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Rediså­—å…¸ä½¿ç”¨æ¸è¿›å¼æ‰©å®¹æ–¹å¼ï¼Œåœ¨æ¯æ¬¡æ•°æ®æ“ä½œä¸­éƒ½æ‰§è¡Œä¸€æ¬¡æ‰©å®¹å•æ­¥æ“ä½œï¼Œç›´åˆ°æ‰©å®¹å®Œæˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ•£åˆ—ç±»å‹çš„ç¼–ç æ ¼å¼å¯ä»¥ä¸ºOBJ_ENCODING_HTã€OBJ_ENCODING_ZIPLISTã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;p&gt;æœ¬æ–‡å†…å®¹æ‘˜è‡ªä½œè€…æ–°ä¹¦&lt;strong&gt;ã€ŠRedisæ ¸å¿ƒåŸç†ä¸å®è·µã€‹&lt;/strong&gt;ï¼Œè¿™æœ¬ä¹¦æ·±å…¥åœ°åˆ†æäº†Rediså¸¸ç”¨ç‰¹æ€§çš„å†…éƒ¨æœºåˆ¶ä¸å®ç°æ–¹å¼ï¼Œå¤§éƒ¨åˆ†å†…å®¹æºè‡ªå¯¹Redis 6.0æºç çš„åˆ†æï¼Œå¹¶ä»ä¸­æ€»ç»“å‡ºè®¾è®¡æ€è·¯ã€å®ç°åŸç†ã€‚é€šè¿‡é˜…è¯»æœ¬ä¹¦ï¼Œè¯»è€…å¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°äº†è§£Redisçš„å†…éƒ¨è¿è¡Œæœºåˆ¶ã€‚Â &lt;br/&gt;ç»è¿‡è¯¥ä¹¦ç¼–è¾‘åŒæ„ï¼Œæˆ‘ä¼šç»§ç»­åœ¨ä¸ªäººæŠ€æœ¯å…¬ä¼—å·ï¼ˆbinecyï¼‰å‘å¸ƒä¹¦ä¸­éƒ¨åˆ†ç« èŠ‚å†…å®¹ï¼Œä½œä¸ºä¹¦çš„é¢„è§ˆå†…å®¹ï¼Œæ¬¢è¿å¤§å®¶æŸ¥é˜…ï¼Œè°¢è°¢ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>