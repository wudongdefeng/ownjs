<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>开发者头条</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>d8e8f268c30ebc00892f517e11c7dd83</guid>
<title>一年一度！GitHub 开发者大会「GitHub 热点速递 v.22.45」</title>
<link>https://toutiao.io/k/6bl3bzh</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdnice编辑器&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.56201171875&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqy3VhOp0ga6m8WsGdG0CE0C0TaI78hMwdU3DrGu7agdD4wpchMickLBA/640?wx_fmt=other&quot; data-type=&quot;other&quot; data-w=&quot;2048&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub 是全球最大的开源社区，它的一举一动都深受每一位开源爱好者的关注。这周末刚落下帷幕的《GitHub Universe 2022》是 GitHub 发布最新产品、功能、报告和计划的一场大秀。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;本期&lt;a target=&quot;_blank&quot; href=&quot;https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzA5MzYyNzQ0MQ==&amp;amp;action=getalbum&amp;amp;album_id=1332112026222641153&amp;amp;scene=173&amp;amp;from_msgid=2247514290&amp;amp;from_itemidx=1&amp;amp;count=3&amp;amp;nolastread=1#wechat_redirect&quot; textvalue=&quot;「GitHub 热点速递」&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;「GitHub 热点速递」&lt;/a&gt;就做了一个《GitHub 2022 开发者大会》专题，专门介绍今年的 GitHub Universe 盛会，内容主要分为 &lt;strong&gt;Universe 大会&lt;/strong&gt; 和 &lt;strong&gt;Octoverse 报告&lt;/strong&gt;两部分。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.7108695652173913&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqz5vdTABnnXXW1eXCkSWGkDlibzeMm728qFdBBTQLH4QdMq0AwrMzEuA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;920&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;HelloGitHub 不仅会介绍发布的新功能，还有数据报告解读，&lt;strong&gt;让你轻松掌握最新的开源风向&lt;/strong&gt;！&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;在一切开始之前，先看个 1 分钟的视频进行快速了解，顺便感受下 Universe 大会的气氛吧！&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span/&gt;&lt;/section&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;1. GitHub Universe 大会&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;下面提到的新功能，需要手动申请后才可以使用。&lt;/span&gt;&lt;/p&gt;&lt;blockquote data-tool=&quot;mdnice编辑器&quot;&gt;&lt;p&gt;申请地址：https://github.com/features/preview&lt;/p&gt;&lt;/blockquote&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;1.1 嘿，GitHub&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqDwHg6QxiaWAZgpGcma8LzJnic4KHbfr0iaoAiaBnp70kuFh0vAv6uXdeTA/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1920&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub Copilot 是去年的 GitHub 开发者大会上，发布的一款人工智能的编程辅助工具，它可以通过描述揣测开发者的意图自动编写代码，支持多种编程语言。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;不管是因为 Copilot 令人眼前一亮的便捷性，还是其存在的代码版权问题和舆论声讨，不可否认的是 GitHub Copilot 是一个划时代的产品。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;今年 GitHub 又为 Copilot 增加了新的功能：&lt;strong&gt;语音对话编程&lt;/strong&gt;。你可以通过”hi，GitHub”唤醒服务，然后用对话的方式告诉它，要写什么代码或者做什么操作，Copilot 就会自动编写代码或者运行程序。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;1.2 免费的 Codespaces&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5595703125&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqoaemDmUicoXls2oa7qthWqaB0ErH5qFRhh7svtg7lJ353u69CrtEKxg/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1024&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub Codespaces 是一个云开发环境服务，可以让开发者在几秒钟内，构建好所需要的开发环境，极大地简化了部署环境的步骤。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;现在，开发人员可以在 Codespaces 上选择使用 JetBrains 或 JupyterLab(支持 GPU) 的 IDE。重点是 Codespaces 将向 GitHub 上的所有用户&lt;strong&gt;免费开放（60 小时/月）&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;1.3 用 Markdown 管理项目&lt;/h3&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.5625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqdZ05s2rDfXdtd5gibkFwsP5XHAqrwxgG0dwrd1CBHChGO719y0B1Bew/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;1920&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub Projects 是 GitHub 提供的在线项目管理工具，这一年 GitHub 为它增加了 100 多项功能。这里，我简单介绍一个我很喜欢且经常用的功能：&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub issues 作为 Projects 的重要一部分，它目前已支持 Markdown 的 task 语法，然后 task 可以是关联 Issues 或者 Project view，实现了状态的变化实时+双向同步。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;比如：完成任务后，&lt;strong&gt;用 Markdown 修改 task 状态，就能同步到对应的 issues 和 view 啦，无需额外的操作&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4274193548387097&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqAnfoMJD1Dyu3j5LLlCK70IXkHxnFSaH35W3pWsq9QgFic42xV9jib0tw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2232&quot;/&gt;&lt;/figure&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;1.4 让开发者填饱肚子&lt;/h3&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;毫不夸张地说，开源有了今天的繁荣，离不开最早那批&lt;strong&gt;用爱发电的开源大佬&lt;/strong&gt;，排除极少数已经财富自由的神人，大多数开源项目作者还都是需要吃五谷杂粮的凡人，谁都离不开柴米油盐的烦恼。&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5498652291105122&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqzRKYozfSwvpDOSvVv7pLOHrn26P5vytuia7tBjqMzPLKP4SwWoL7C2g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1484&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;GitHub 希望通过 GitHub Accelerator、GitHub Fund 和 GitHub Sponsors 三个计划，让开源爱好者可以通过开源获得收入，甚至全职做开源。&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;GitHub Accelerator&lt;/span&gt;&lt;span&gt;：GitHub 加速器将为 20 名维护人员和团队提供 2 万美元的津贴和指导，帮助他们开启全职的开源职业生涯。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;GitHub Fund&lt;/span&gt;&lt;span&gt;：GitHub 基金与微软的风险投资部门 M12 合作，成了 1000 万美元的开源基金。投资重点将是处于种子阶段的开源的开发者工具，&lt;/span&gt;&lt;span&gt;CodeSee&lt;/span&gt;&lt;span&gt; 是他们的第一笔投资。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;GitHub Sponsors：打赏&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2. Octoverse 报告&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;Octoverse 是 GitHub 分析数百万的开源项目和开发者得出的数据报告。从 2012 年开始 GitHub 每年都会发布一份报告，今年正好是 10 周年。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;今年的话题是：&lt;strong&gt;开源对企业有什么影响？企业对开源有什么影响？&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;2.1 概览&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5755995828988529&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqbhcHacc57KEl89JPEPHyeEaUNd3ibLwoZ6Gzx0q8rSQkcP9NkLJ5UpQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1918&quot;/&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;GitHub 上有 9400 万的开发者&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;90% 的公司使用了开源代码&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;财富 100 强公司的 90% 以上都使用 GitHub&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;2022 年有 4.13 亿次开源贡献&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2.2 三个值得关注的趋势&lt;/span&gt;&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.21617293835068055&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqIWjZPGichvS6DKjBJzTo5f5htQNjVsM2osT29SdgtBBjLl8wfO22YNg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2498&quot;/&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;1、HCL 是 GitHub 上增长最快的语言&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;报告中指出开发者在 2022 年大量使用 HCL、Shell、Go 编程语言，这说明 GitHub 上的项目越来越多地采用基础设施即代码（IaC）的做法，即 &lt;strong&gt;IaC 越来越流行&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;这也说明了&lt;strong&gt;运营社区开始在开源世界中崭露头角&lt;/strong&gt;，而开源历史上更多地是以开发者为中心。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;补充解释&lt;/strong&gt;：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;HCL 全称 Hashicorp Configuration Language (HCL) 是 Terraform 的配置语言，它是 HashiCorp 发明的一种声明式语言，能够以更加简短和人性化的方式来描述资源。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;IaC 是 Infrastructure as Code 基础设施即代码的缩写，一种通过代码而非手动流程管理基础设施的方法。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;&lt;span&gt;2、财富 100 强公司中 30% 设立了 OSPO&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;2022 年，GitHub 上一些最大的开源项目得到了商业支持。这说明，资本开始对开源进行投资，鼓励越来越多的人加入开源，而且&lt;strong&gt;大型科技公司也在建立开源社区&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;补充解释&lt;/strong&gt;：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;OSPO 是 Open Source Program Office 的缩写，即开源规划办公室。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h4&gt;&lt;span&gt;3、50% 的 OSS 贡献者，首选有商业支持的项目&lt;/span&gt;&lt;/h4&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;贡献者更青睐有商业支持的项目&lt;/strong&gt;，这强调了有商业支持的开源项目，在发展更广泛的生态和品牌认知方面的重要性。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;从 Flutter 到 Next.js，从 React 到 VS Code，&lt;strong&gt;由公司主导的开源项目，在 GitHub 上已经成为普遍现象&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;补充解释&lt;/strong&gt;：&lt;/span&gt;&lt;/p&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;OSS 是 Open-source software 的缩写，即开源软件又称开放源代码软件，&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 data-tool=&quot;mdnice编辑器&quot;&gt;2.3 更多数据&lt;/h3&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.0315581854043392&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqwgyMO4M5NxQ2Ffz3ubQj2qLKry62ibLlXq7tmKr9e2RkFP95VTdRUdA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1014&quot;/&gt;&lt;/figure&gt;&lt;ul data-tool=&quot;mdnice编辑器&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;GitHub 今年新增了 2050 万开发者，其印度的开发者人数增长最快。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;JavaScript 是最常用的编程语言，第 2 名是 Python，后面依次是 Java、TypeScript，去年第 6 名的 PHP 下降至第 7名。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;贡献者最多的开源项目，前三名分别是：microsoft/vscode、home-assistant/core、flutter/flutter。&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1268498942917549&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqiaa2fKMia5JeC3h0a1a2SN9miamp24ibdNnpjibegsQOVY1aW0ibicH3mPRMg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;946&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;3. 最后&lt;/span&gt;&lt;/h2&gt;&lt;figure data-tool=&quot;mdnice编辑器&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5214827295703454&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/xBgIbW1vdNMnSfRhX3jN6GYka1KwJhyqzS9ibBoicFopMWngib5emDfZZoaVgPJN9sn9NLTs15bziaq0z3C0L9SBdg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2374&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;我看完本次的 GitHub 开发者大会，感到 GitHub 所做的一切都是让开发变得更加简单，正如他们&lt;strong&gt;用 GitHub 构建 GitHub&lt;/strong&gt;，当 GitHub 成为一种深受好评的开发方式时，开发者自然会留在这个平台。这正是 GitHub 希望看到的，因为开发者是 GitHub 最大的财富，就像创作者和社区的关系。&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;那么做开源项目的首要任务，就应该是让使用者产生依赖了吧？&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;另外，开源的流行趋势已经势不可挡，资本也以肉眼可见的速度加注开源，当开源不再靠“爱”发电，能否迎来&lt;strong&gt;开源盛世&lt;/strong&gt;，让我们拭目以待！&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;以上就是 GitHub Universe 和 Octoverse 报告的全部内容，由于篇幅有限我只介绍了我比较感兴趣的内容，完整内容可以查看&lt;/span&gt;&lt;span&gt;官方博客&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span&gt;&lt;strong&gt;你看完今年的 GitHub 开发者大会有什么感受？&lt;/strong&gt; 欢迎留言讨论。&lt;/span&gt;&lt;span&gt;如果您觉得这期内容还不错：求赞、求收藏、求转发，您的支持就是对我最大的鼓励！❤️&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdnice编辑器&quot;&gt;&lt;span/&gt;&lt;span&gt;- END -&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f09a0763c74aaf1f79c894cf81d4d6c5</guid>
<title>IM 通讯协议专题学习（一）：Protobuf 从入门到精通，一篇就够</title>
<link>https://toutiao.io/k/184gzpt</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;h2 data-mpa-powered-by=&quot;yiban.io&quot;&gt;一、引言&lt;/h2&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;在当今移动网络时代，手机流量和电量是宝贵的资源，对于移动端最常见的即时通讯IM应用，由于实时通信基于Socket长连接，它对于流量和电量的需求较一般应用来说更高（&lt;/span&gt;&lt;span&gt;详见《&lt;/span&gt;&lt;/span&gt;&lt;span&gt;移动端IM实践：WhatsApp、Line、微信的心跳策略分析&lt;/span&gt;&lt;span&gt;&lt;span&gt;》&lt;/span&gt;&lt;span&gt;）。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;在IM应用中，优化数据流量消耗过多的基本方法就是使用高度压缩的通讯协议，而数据压缩后流量减小带来的自然结果也就是省电：因为大数据量的传输必然需要更久的网络操作、数据序列化及反序列化操作，这些都是电量消耗过快的根源。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;当前IM应用中最热门的通讯协议无疑就是Google的Protobuf了，基于它的优秀表现，微信和手机QQ这样的主流IM应用也早已在使用它。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;本文作为《IM通讯协议专题学习》系列文章的首篇，将从初学者的角度，用通俗简洁的文字，从零开始为你介绍Protobuf的方方面面，特别适合新手入门。&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2962962962962963&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLDJkS2U0NAJUEsicQx0U5HZvlqk9T0k8MtweDKMvoFrLIxEibT9icxLuicWOzlERcBQu6UtBiaaW8AQnw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;567&quot; title=&quot;IM通讯协议专题学习(一)：Protobuf从入门到精通，一篇就够！_cover1-opti.png&quot;/&gt;&lt;/ignore_js_op&gt;&lt;/p&gt;&lt;h2&gt;二、本文目录&lt;/h2&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;1）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;引言&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;em&gt;&lt;span&gt;2）&lt;/span&gt;&lt;/em&gt;&lt;/strong&gt;&lt;span&gt;系列文章&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;3）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;什么是Protocol Buffer？&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;4）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;一个简单的例子&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.1安装Protobuf&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.2关于简单例子的描述    &lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.3书写 .proto 文件&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.4编译 .proto 文件&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.5编写 writer 和 Reader&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;4.6运行结果&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;5）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;和其他类似技术的比较&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;5.1概述&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;5.2Protobuf 的优点&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;5.3Protobuf 的不足&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;6）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;Protobuf 的更多细节&lt;/span&gt;&lt;/section&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;6.1概述&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;6.2Protobuf的Encoding&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;6.3封解包的速度&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;7）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;写在最后&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;em&gt;&lt;strong&gt;&lt;span&gt;8）&lt;/span&gt;&lt;/strong&gt;&lt;/em&gt;&lt;span&gt;参考资料&lt;/span&gt;&lt;/section&gt;&lt;h2&gt;三、系列文章&lt;/h2&gt;&lt;p&gt;&lt;span&gt;本文是系列文章中的第 &lt;em&gt;1&lt;/em&gt; 篇，本系列总目录如下：&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(一)：Protobuf从入门到精通，一篇就够！》（&lt;span&gt;* 本文&lt;/span&gt;）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(二)：快速理解ProtoBuf的背景、原理、使用、优缺点》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(三)：由浅入深，从通信编解码原理上理解Protobuf》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(四)：从Base64到Protobuf，详解Protobuf的数据编码原理》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(五)：Protobuf到底比JSON快几倍？请看全方位实测！》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(六)：手把手教你如何在Android上从零使用Protobuf》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(七)：手把手教你如何在NodeJS中从零使用Protobuf》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(八)：金蝶随手记团队的Protobuf应用实践(原理篇)  》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;《IM通讯协议专题学习(九)：金蝶随手记团队的Protobuf应用实践(实战篇) 》（稍后发布..）&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;span&gt;四、&lt;/span&gt;什么是Protocol Buffer？&lt;/h2&gt;&lt;p&gt;&lt;span&gt;什么是 Google Protocol Buffer？&lt;/span&gt;&lt;span&gt;&lt;br/&gt;&lt;br/&gt;假如您在网上搜索，应该会得到类似于下面这样的文字介绍：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Google Protocol Buffer（简称 Protobuf）是 Google 公司内部的混合语言数据标准，目前已经正在使用的有超过 48,162 种报文格式定义和超过 12,183 个 .proto 文件。他们常用于 RPC 系统和持续数据存储系统等应用场景。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;实际上：&lt;/span&gt;&lt;span&gt;Protocol Buffers（&lt;/span&gt;&lt;span&gt;简称 Protobuf&lt;/span&gt;&lt;span&gt;）是一种轻便高效的结构化数据存储格式，可以用于结构化数据串行化，或者说序列化。它很适合做数据存储或 RPC 数据交换格式。可用于通讯协议、数据存储等领域的语言无关、平台无关、可扩展的序列化结构数据格式。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;目前：&lt;/span&gt;&lt;span&gt;Protobuf官方工程主页上显示的已支持的开发语言多达10种，分别有：C++、Java、Python、Objective-C、C#、Ruby、Go、PHP、Dart、Javascript，基本上主流的语言都已支持（&lt;/span&gt;&lt;span&gt;具体详见Protobuf工程主页：&lt;/span&gt;&lt;/span&gt;&lt;span&gt;https://github.com/protocolbuffers/protobuf&lt;/span&gt;&lt;span&gt;）。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Protobuf已支持的开发语言如下图：&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6976351351351351&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLDJkS2U0NAJUEsicQx0U5HZusBZgvFicteaCnx0yRLMEodhdUiaWaDZS1A9XQtYDC6Y00APibicmrpibbQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;592&quot; title=&quot;IM通讯协议专题学习(一)：Protobuf从入门到精通，一篇就够！_1.png&quot;/&gt;&lt;/ignore_js_op&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;PS：&lt;/span&gt;&lt;span&gt;Protobuf的官网上有很多入门资料，有兴趣一定要看看：&lt;/span&gt;&lt;/span&gt;&lt;span&gt;https://developers.google.com/protocol-buffers&lt;/span&gt;&lt;span&gt;&lt;span&gt;（&lt;/span&gt;&lt;span&gt;如果不能直接访问，你懂的。。。&lt;/span&gt;&lt;span&gt;）&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;写到这里：&lt;/span&gt;&lt;span&gt;或许您和我一样，在第一次看完这些介绍后还是不明白 Protobuf 究竟是什么，那么我想一个简单的例子应该比较有助于理解它（&lt;/span&gt;&lt;span&gt;请继续往下阅读&lt;/span&gt;&lt;span&gt;）。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;五、一个简单的例子&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;5.1&lt;/span&gt;安装Protobuf&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;在网站 &lt;/span&gt;&lt;span&gt;https://developers.google.com/protocol-buffers&lt;/span&gt;&lt;span&gt;&lt;span&gt; 上可以下载 Protobuf 的源代码。然后解压编译安装便可以使用它了。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;安装步骤如下所示：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;1&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;6&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;tar&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;-xzf protobuf-2.1.0.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;tar&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;.gz&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;cd&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;protobuf-2.1.0&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;.&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;/configure&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;--prefix=$INSTALL_DIR&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;make&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;make&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;check&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;make&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;install&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;h3&gt;&lt;span&gt;5.2&lt;/span&gt;关于简单例子的描述&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;我打算使用 Protobuf 和 C++ 开发一个十分简单的例子程序。该程序由两部分组成。第一部分被称为 Writer，第二部分叫做 Reader。Writer 负责将一些结构化的数据写入一个磁盘文件，Reader 则负责从该磁盘文件中读取结构化数据并打印到屏幕上。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;准备用于演示的结构化数据是 HelloWorld，它包含两个基本数据：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;em&gt;1）&lt;/em&gt;&lt;/strong&gt;&lt;span&gt;ID&lt;/span&gt;：&lt;/span&gt;&lt;span&gt;为一个整数类型的数据；&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;em&gt;2）&lt;/em&gt;&lt;/strong&gt;&lt;span&gt;Str&lt;/span&gt;：&lt;/span&gt;&lt;span&gt;这是一个字符串。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;5.3&lt;/span&gt;书写 .proto 文件&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;首先我们需要编写一个 proto 文件，定义我们程序中需要处理的结构化数据，在 protobuf 的术语中，结构化数据被称为 Message。proto 文件非常类似 java 或者 C 语言的数据定义。代码清单 1 显示了例子应用中的 proto 文件内容。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;清单 1. proto 文件：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;1&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;5&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;6&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;7&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;package lm;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;message helloworld&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;required int32     id = 1;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;// ID&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;required string    str = 2;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;// str&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;   &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;optional int32     opt = 3;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;//optional field&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;一个比较好的习惯是认真对待 proto 文件的文件名。比如将命名规则定于如下：&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;1&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;packageName.MessageName.proto&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;在上例中，package 名字叫做 lm，定义了一个消息 helloworld，该消息有三个成员，类型为 int32 的 id，另一个为类型为 string 的成员 str。opt 是一个可选的成员，即消息中可以不包含该成员。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;5.4&lt;/span&gt;编译 .proto 文件&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;写好 proto 文件之后就可以用 Protobuf 编译器将该文件编译成目标语言了。本例中我们将使用 C++。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;假设您的 proto 文件存放在 $SRC_DIR 下面，您也想把生成的文件放在同一个目录下，则可以使用如下命令：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;1&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;protoc -I=$SRC_DIR --cpp_out=$DST_DIR $SRC_DIR&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;/addressbook&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;.proto&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;命令将生成两个文件：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;在生成的头文件中，定义了一个 C++ 类 helloworld，后面的 Writer 和 Reader 将使用这个类来对消息进行操作。诸如对消息的成员进行赋值，将消息序列化等等都有相应的方法。&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;5.5&lt;/span&gt;编写 writer 和 Reader&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;如前所述，Writer 将把一个结构化数据写入磁盘，以便其他人来读取。假如我们不使用 Protobuf，其实也有许多的选择。一个可能的方法是将数据转换为字符串，然后将字符串写入磁盘。转换为字符串的方法可以使用 &lt;/span&gt;&lt;span&gt;sprintf()&lt;/span&gt;&lt;span&gt;，这非常简单。数字 123 可以变成字符串“123”。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;这样做似乎没有什么不妥，但是仔细考虑一下就会发现，这样的做法对写 Reader 的那个人的要求比较高，Reader 的作者必须了 Writer 的细节。比如“123”可以是单个数字 123，但也可以是三个数字 1、2 和 3，等等。这么说来，我们还必须让 Writer 定义一种分隔符一样的字符，以便 Reader 可以正确读取。但分隔符也许还会引起其他的什么问题。最后我们发现一个简单的 Helloworld 也需要写许多处理消息格式的代码。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;如果使用 Protobuf，那么这些细节就可以不需要应用程序来考虑了。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;使用 Protobuf，Writer 的工作很简单，需要处理的结构化数据由 &lt;/span&gt;&lt;span&gt;.proto&lt;/span&gt;&lt;span&gt; 文件描述，经过上一节中的编译过程后，该数据化结构对应了一个 C++ 的类，并定义在 &lt;/span&gt;&lt;span&gt;lm.helloworld.pb.h&lt;/span&gt;&lt;span&gt; 中。对于本例，类名为 &lt;/span&gt;&lt;span&gt;lm::helloworld&lt;/span&gt;&lt;span&gt;。Writer 需要 include 该头文件，然后便可以使用这个类了。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;现在，在 Writer 代码中，将要存入磁盘的结构化数据由一个 &lt;/span&gt;&lt;span&gt;lm::helloworld&lt;/span&gt;&lt;span&gt; 类的对象表示，它提供了一系列的 get/set 函数用来修改和读取结构化数据中的数据成员，或者叫 field。当我们需要将该结构化数据保存到磁盘上时，类 &lt;/span&gt;&lt;span&gt;lm::helloworld&lt;/span&gt;&lt;span&gt; 已经提供相应的方法来把一个复杂的数据变成一个字节序列，我们可以将这个字节序列写入磁盘。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;对于想要读取这个数据的程序来说，也只需要使用类 &lt;/span&gt;&lt;span&gt;lm::helloworld&lt;/span&gt;&lt;span&gt; 的相应反序列化方法来将这个字节序列重新转换会结构化数据。这同我们开始时那个“123”的想法类似，不过 Protobuf 想的远远比我们那个粗糙的字符串转换要全面，因此，我们不如放心将这类事情交给 Protobuf 吧。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;程序清单 2 演示了 Writer 的主要代码，您一定会觉得很简单吧？&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;清单 2. Writer 的主要代码：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;01&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;02&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;03&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;04&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;05&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;06&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;07&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;08&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;09&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;10&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;11&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;12&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;13&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;14&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;15&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;16&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;17&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;18&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;19&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;#include &quot;lm.helloworld.pb.h&quot;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;…&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;int&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;main(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;void&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;lm::helloworld msg1;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;msg1.set_id(101);&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;msg1.set_str(“hello”);&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;    &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;// Write the new address book back to disk.&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;fstream output(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;&quot;./log&quot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;, ios::out | ios::trunc | ios::binary);&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;        &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;if&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;(!msg1.SerializeToOstream(&amp;amp;output)) {&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;cerr &amp;lt;&amp;lt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;&quot;Failed to write msg.&quot;&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;&amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;return&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;-1;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}        &lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;return&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;0;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;Msg1 是一个 helloworld 类的对象，set_id() 用来设置 id 的值。SerializeToOstream 将对象序列化后写入一个 fstream 流。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;代码清单 3 列出了 reader 的主要代码。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;清单 3. Reader：&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;01&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;02&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;03&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;04&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;05&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;06&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;07&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;08&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;09&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;10&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;11&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;12&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;13&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;14&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;15&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;16&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;17&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;18&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;19&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;20&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;21&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;22&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;#include &quot;lm.helloworld.pb.h&quot;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;…&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;void&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;ListMsg(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;lm::helloworld &amp;amp; msg) {&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;cout &amp;lt;&amp;lt; msg.id() &amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;cout &amp;lt;&amp;lt; msg.str() &amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;int&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;main(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;int&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;argc, &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;char&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;* argv[]) {&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;lm::helloworld msg1;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;fstream input(&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;&quot;./log&quot;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;, ios::in | ios::binary);&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;if&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;(!msg1.ParseFromIstream(&amp;amp;input)) {&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;cerr &amp;lt;&amp;lt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;&quot;Failed to parse address book.&quot;&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;&amp;lt;&amp;lt; endl;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;      &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;return&lt;/span&gt;&lt;/code&gt; &lt;code&gt;&lt;span&gt;-1;&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;span&gt; &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;ListMsg(msg1);&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;  &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;…&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;同样，Reader 声明类 helloworld 的对象 msg1，然后利用 ParseFromIstream 从一个 fstream 流中读取信息并反序列化。此后，ListMsg 中采用 get 方法读取消息的内部信息，并进行打印输出操作。&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;5.6&lt;/span&gt;运行结果&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;运行 Writer 和 Reader 的结果如下：&lt;/span&gt;&lt;/p&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;p&gt;&lt;span&gt;1&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4&lt;/span&gt;&lt;/p&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;&amp;gt;writer&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;&amp;gt;reader&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;101&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;p&gt;&lt;code&gt;&lt;span&gt;Hello&lt;/span&gt;&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;Reader 读取文件 log 中的序列化信息并打印到屏幕上。本文中所有的例子代码都可以在附件中下载。您可以亲身体验一下。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;这个例子本身并无意义，但只要您稍加修改就可以将它变成更加有用的程序。比如将磁盘替换为网络 socket，那么就可以实现基于网络的数据交换任务。而存储和交换正是 Protobuf 最有效的应用领域。&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;六、和其他类似技术的比较&lt;/h2&gt;&lt;h3&gt;&lt;span&gt;&lt;span&gt;6.1&lt;/span&gt;概述&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;看完这个简单的例子之后，希望您已经能理解 Protobuf 能做什么了，那么您可能会说，世上还有很多其他的类似技术啊，比如 XML，JSON，Thrift 等等。和他们相比，Protobuf 有什么不同呢？&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;简单说来 Protobuf 的主要优点就是：简单，快。这有测试为证，项目 thrift-protobuf-compare 比较了这些类似的技术，下图显示了该项目的一项测试结果——Total Time。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;性能测试结果：&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;ignore_js_op&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.61&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/st3UArDtcvLDJkS2U0NAJUEsicQx0U5HZcnQ0iaIpSV8NktDZpoeh2VsWUmTgPwOVNibIpA947jB0cptNJYUGfwdA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;600&quot; title=&quot;IM通讯协议专题学习(一)：Protobuf从入门到精通，一篇就够！_2.png&quot;/&gt;&lt;/ignore_js_op&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Total Time 指一个对象操作的整个时间，包括创建对象，将对象序列化为内存中的字节序列，然后再反序列化的整个过程。从测试结果可以看到 Protobuf 的成绩很好，感兴趣的读者可以自行到网站 &lt;/span&gt;&lt;span&gt;https://github.com/eishay/jvm-serializers/wiki&lt;/span&gt;&lt;span&gt;上了解更详细的测试结果。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;6.2&lt;/span&gt;&lt;span&gt;Protobuf 的优点&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;Protobuf 有如 XML，不过它更小、更快、也更简单。你可以定义自己的数据结构，然后使用代码生成器生成的代码来读写这个数据结构。你甚至可以在无需重新部署程序的情况下更新数据结构。只需使用 Protobuf 对数据结构进行一次描述，即可利用各种不同语言或从各种不同数据流中对你的结构化数据轻松读写。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;它有一个非常棒的特性，即“向后”兼容性好，人们不必破坏已部署的、依靠“老”数据格式的程序就可以对数据结构进行升级。这样您的程序就可以不必担心因为消息结构的改变而造成的大规模的代码重构或者迁移的问题。因为添加新的消息中的 field 并不会引起已经发布的程序的任何改变。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;Protobuf 语义更清晰，无需类似 XML 解析器的东西（&lt;/span&gt;&lt;span&gt;因为 Protobuf 编译器会将 .proto 文件编译生成对应的数据访问类以对 Protobuf 数据进行序列化、反序列化操作&lt;/span&gt;&lt;span&gt;）。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;使用 Protobuf 无需学习复杂的文档对象模型，Protobuf 的编程模式比较友好，简单易学，同时它拥有良好的文档和示例，对于喜欢简单事物的人们而言，Protobuf 比其他的技术更加有吸引力。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;6.3&lt;/span&gt;&lt;span&gt;Protobuf 的不足&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;Protbuf 与 XML 相比也有不足之处。它功能简单，无法用来表示复杂的概念。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;XML 已经成为多种行业标准的编写工具，Protobuf 只是 Google 公司内部使用的工具，在通用性上还差很多。&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;由于文本并不适合用来描述数据结构，所以 Protobuf 也不适合用来对基于文本的标记文档（&lt;/span&gt;&lt;span&gt;如 HTML&lt;/span&gt;&lt;span&gt;）建模。另外，由于 XML 具有某种程度上的自解释性，它可以被人直接读取编辑，在这一点上 Protobuf 不行，它以二进制的方式存储，除非你有 .proto 定义，否则你没法直接读出 Protobuf 的任何内容。&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h2&gt;七、参考资料&lt;/h2&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;span/&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op/&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op/&gt;&lt;/ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;strong&gt;[1]&lt;/strong&gt; &lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;移动端IM实践：WhatsApp、Line、微信的心跳策略分析&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;http://www.52im.net/thread-121-1-2.html&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;strong&gt;&lt;span&gt;[2] &lt;/span&gt;&lt;/strong&gt;&lt;/ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;Protobuf通信协议详解：代码演示、详细原理介绍等&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-323-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[3] &lt;/span&gt;&lt;/strong&gt;&lt;span&gt;如何选择即时通讯应用的数据传输格式&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-276-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;强列建议将Protobuf作为你的即时通讯应用数据传输格式&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-277-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[5] &lt;/span&gt;&lt;/strong&gt;&lt;span&gt;APP与后台通信数据格式的演进：从文本协议到二进制协议&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-1536-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[6]&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;面试必考，史上最通俗大小端字节序详解&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-3101-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[7] &lt;/span&gt;&lt;/strong&gt;&lt;span&gt;移动端IM开发需要面对的技术问题（含通信协议选择）&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-133-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[8] &lt;/span&gt;&lt;/strong&gt;&lt;span&gt;简述移动端IM开发的那些坑：架构设计、通信协议和客户端&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-289-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[9]&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;理论联系实际：一套典型的IM通信协议设计详解&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-283-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;strong&gt;&lt;span&gt;[10]&lt;/span&gt;&lt;/strong&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;58到家实时消息系统的协议设计等技术实践分享&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;http://www.52im.net/thread-298-1-1.html&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;section&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;ignore_js_op&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/ignore_js_op&gt;&lt;/section&gt;&lt;h2&gt;八、全文链接&lt;/h2&gt;&lt;p&gt;&lt;span&gt;即时通讯网(52im.net)&lt;/span&gt;&lt;span&gt;&lt;span&gt;社区链接：&lt;/span&gt;&lt;span&gt;http://www.52im.net/thread-4080-1-1.html&lt;/span&gt;&lt;span&gt;，或点击下文的“&lt;/span&gt;&lt;span&gt;&lt;strong&gt;阅读原文&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;”！&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>da7f5b55fcfd781245bdd254ea5b98c0</guid>
<title>合约广告投放系统平台架构演进实践</title>
<link>https://toutiao.io/k/fz0dk15</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content js_underline_content             autoTypeSetting24psection&amp;#10;            &quot; id=&quot;js_content&quot;&gt;&lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;117&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.2025462962962963&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8oUMd8uzxic7tgn58OM1BxXNI1x9Lz8ic8bOZwheiclTWew9dl0dj9Z01QRVea4aicCDefnDqjRdzfKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;864&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;作者 | 王悦凯&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;导读 &lt;/p&gt;&lt;p&gt;&lt;span&gt;introduction&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;从事B端业务系统研发多年，不免会有这样的思考：B端系统的技术挑战是什么？什么样的业务架构算好架构？本文结合百度合约广告业务的发展历程，介绍广告投放平台从单体架构到微服务架构演进过程中碰到的问题和思考。希望通过本文的介绍，让大家更全面的理解B端系统的技术挑战。&lt;/span&gt;&lt;span/&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;全文11653字，预计阅读时间30分钟。&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;span/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;一、背景&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;GEEK TALK&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;1.1 &lt;/strong&gt;&lt;strong&gt;合约广告概念&lt;/strong&gt;&lt;strong/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;合约广告相比竞价广告，最大的特点是预先约定好广告价格，即价格是预先确定的。基于这样的特点，合约广告的投放流程大致可以概括为四个步骤：询价 -&amp;gt; 下单 -&amp;gt; 投放 -&amp;gt; 结算。&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;询价，销售根据客户的营销目标选择合适的营销产品，并提交具体的投放定向和时长，系统结合销售政策，自动计算产出各资源价格&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;下单，客户按照 1 中的报价结果，确认需要购买的资源和具体的付款方式，完成下单后生成订单，每个订单的金额是确认的&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;投放，2 中的订单完成审批后，系统按照事先约定的价格进行广告投放，客户在投中可通过系统进行投放和创意的管理，并可以实时获取投放数据&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;结算，合约广告按照投放模式分为按时间计费和展现量计费，两种计费方式的频次都是天，最终实现在投放周期内逐步地扣除订单全部金额。按天结算是对已产生投放部分的权益保障，毕竟合约广告存在更改甚至退款的场景。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;通常来说，合约广告这种广告采买方式更适合品牌展示类广告，效果类广告更多会采用实时竞价。相比竞价广告，合约广告在业务流程上更重投前。下面结合品牌广告业务发展的三个阶段，介绍下投放平台的变化历程。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;1.2 业务发展&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;3d23b974-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;第一阶段，品牌广告业务高速发展期&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;2011年，品牌专区产品开始平台化售卖，并逐步建立品牌投放平台：锦囊。在2013-2018 6年间，品牌业务高速发展，诞生了Ax、Bx、Cx等10+条产品线，虽然锦囊平台做为投放的统一入口，但各产品线的投放能力仍旧是独立建设，拥有各自的独立投放平台。在这种模式下，快速灵活地应对了市场的变化和需求，但同时也造成了投放平台多，业务流程割裂的问题。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;3d23b975-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;第二阶段，寻求产品整合和流程统一&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;2019年开始尝试对合约类平台进行整合，统一各产品售卖流程，包括产品线关停并转、投放平台融合、账户统一、资金池统一、标准化下单等项目。逐步落地合约广告一站式平台的建设 - 天启平台，真正实现合约广告的标准化投放流程，提升规模化投放效率，支撑业务发展。在这个阶段，各广告的投放平台入口逐步收敛，实现了操作入口的统一。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;3d23b976-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;第三阶段，满足复杂营销场景，整合营销&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;随着合约整合售卖（根据营销场景选择不同广告产品的组合售卖方案，即同一个合同下可下单多类广告，并享有对应的优惠政策）整体趋势的加速增长，原本非标断点式的支持方式已经无法满足业务的增长，平台化的解决方案是整合售卖规模化的必要条件。从2021年Q3起正式启动，天启平台正式定位：统一的合约产品整合售卖平台，满足从简单场景到复杂营销场景的全投放链路服务能力。从技术视角看，旨在通过一个平台（天启），实现多资源广告售卖场景下的统一，包括一个流程、一套账户、一套资金体系、一套投放表达。&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;1.3 架构演进&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;对应上述业务发展的三个阶段，合约平台的技术架构也经历了多个版本的演进，浓缩后，可以概括为2大类，2019年前的单体架构和之后的微服务架构。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;3d23b978-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;单体架构&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;2019年前的单体架构（简称『1.0架构』）图如下所示，整体上分三层，1）统一入口层，提供用户权限管理功能；2）各类广告投放平台独立建设，服务独立部署；3）抽象并沉淀基础工具库，避免各投放平台的重复开发。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;183&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.3171875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6swbYGoydIQtbRhGkKT2kZm0icFzyfVJLN88xP9s5VZbmUqVCwNnFQq3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△1.0 烟囱式架构&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;品牌 1.0 架构本质是一个&lt;strong&gt;烟囱式架构&lt;/strong&gt;，各产品线通过独立平台进行投放，开发、测试、上线互不影响，都能做到产品线维度的隔离，包括开发规范和迭代周期。这种架构配合当时品牌团队的组织架构，在品牌产品野蛮式生长的初期起到了很重要的作用，成功孵化了一些创新产品。但是烟囱式架构一个很大的弊端就是『信息孤岛』，随着业务的发展，各投放平台发散式迭代，逐步形成了一个一个的孤岛。从技术视角看，各平台大流程相似，但在实现细节上都不同，更严重的是，存在大量的重复性建设工作，从维护成本和人效上都有很大的优化空间。从业务视角看，各产品的打法也是各自为阵，横向缺少联动，没有形成1+1&amp;gt;2的局面，缺少整体视角的规划。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;7085b750-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;微服务架构&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;业务方面，合约广告场景化营销和精细化服务的需求显著；团队方面，各合约类广告平台深度融合，孤岛边界逐步打破。原本烟囱式架构无论在业务复杂度的应对，还是服务稳定性及质量的保障，亦或是研发效能的提升，都已经遇到了瓶颈。基于软件设计的最大目标：『&lt;strong&gt;设计符合业务的构造定律的演进方式，一种可以以最小的开发维护成本， 使业务更快更好的流动发展的方式&lt;/strong&gt;』，19年后，合约平台架构逐步向微服务架构演进，以领域驱动设计为准则，按照合约广告的领域模型划分微服务，构建了业务前台、业务中台、技术组件、基础设施的四层业务架构。另外，基于消息机制解耦各服务，辅以组装式业务流程的理念，拆解各种繁杂的业务流程，抽象并沉淀系统的 meta feature，灵活构造多种差异化的业务解决方案，提升系统的『可玩性』，从架构层面管理了系统风险和业务复杂度（&lt;strong&gt;百级别&lt;/strong&gt;不同类型的售卖和投放场景）。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;说到这，有些人会有疑问，对于品牌业务，微服务架构演进是否是必须的呢？是否存在过度设计？&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;当然，假如不考虑性能、健壮性、可移植性、可修改性、开发成本、时间约束等因素，用任何的架构、任何的方法，系统的功能总是可以实现的，项目总是能开发完成的，只是开发时间、以后的维护成本、功能扩展的容易程度不同。从后验来看（包括系统可用性、扩展性、灵活性三方面），采用微服务架构的决策是正确的，或者说利远大于弊。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;在架构的演进过程中遇到了很多技术挑战，后面的内容重点挑了几个方面进行详细阐述。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;二、技术实现&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;GEEK TALK&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;2.1 &lt;strong&gt;&lt;span&gt;服务架构&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;首先，整体看下合约广告平台的微服务架构，如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;307&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.53125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sicBWWj662aFdkD8eWCyniawQVvNnnOtTE9nvfUEibL6qXGicYVt6EwMoGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;合约广告平台微服务架构&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;总共分为四层，业务前台、业务中台、技术组件（PAAS）、基础设施（IAAS）。&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;业务前台&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，总共分三个模块，天启平台、运营平台、业务前台。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;天启平台&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：面向广告主，提供合约广告询价、资源预订、资源下单、投放设置、物料制作等核心能力，支持品专矩阵、展示矩阵、品牌全景3大类产品矩阵，多达300+广告资源的售卖。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;运营平台&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：面向销售和内部运营，帮助他们精细化运营广告售卖各阶段，目前售中的投放干预和运营管控能力建设相对完善，在开屏大促和品牌广告日常运营工作中大幅提升操作的效率和安全性，让原本一些『非标』操作通过平台能力让运营实现自助化。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;业务前台&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;：主要两个作用，1）对天启平台和运营平台的公共部分进行抽象并下沉，避免重复的业务逻辑和流程散布在两个模块，减少开发和运维成本；2) 对各业务中台的公共部分进行上抽，统一沉淀至此模块，比如批量处理，让各业务中台的职责更加纯粹，关注自己领域的建模。另外，针对跨多中台的读写逻辑也统一在这一层实现，起到业务流程编排的作用。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;业务中台&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，按照合约广告的业务流程和领域知识，划分各业务服务，总共分为9个业务中心和2个技术中心，每个业务中心都围绕特定的业务领域展开，业务边界非常明确。需要注意的是，9大业务中心仅仅是从业务视角进行定义和划分，并不代表每个中心就只有一个服务。基于技术架构和业务职责，每个业务中心可以继续划分为多个模块，例如投放中心又被划分为 检索适配服务、物料审核服务、实验投放服务等。另外，服务之间严格划定上下游关系（按照响应数据流向定义上下游概念），下游服务可以调用上游服务，上游服务严禁调用下游服务，上游服务的变更对下游服务产生影响必须通过领域事件（异步）的方式来实现，避免服务循环依赖（在服务治理章节中会展开介绍）。因此在整体系统中大量采用异步消息的方式，将业务实体的状态变更视为事件，驱动上游服务，虽然增加了测试阶段的复杂度，但是有效保障了服务间关系的有序性。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;技术组件&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，微服务架构后，各模块的代码库也是独立的，对于一些公共能力，如何能够让各服务低成本、无门槛的接入，从而达到统一各模块业务解决方案的目标，减缓业务架构的腐化和熵增。鉴于此，通过 springboot starter 的方式构建了品牌团队的业务中间件 brand-starters，成功收敛了30+模块的实现细节，在系统稳定性和架构健康度方面做出巨大贡献，包括消息发送和消费、异步事件处理、异常报警、分布式锁、分级缓存、常用工具及辅助类等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;基础设施&lt;/span&gt;&lt;/strong&gt;&lt;span&gt;，主要指部门级别的基础设施和中台，比如微服务解决方案 ，包括RPC框架、注册中心、全链路追踪、服务网关、虚拟化容器部署、FAAS。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;2.2 &lt;/strong&gt;&lt;strong&gt;模块结构&lt;/strong&gt;&lt;strong/&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;上一节从整体视角介绍了合约广告平台的业务架构，这节从微观视角介绍每个中台的业务架构。各业务中台采用多模块的代码结构，具体模块划分如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;160&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.2765625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6skR75QtVyBAFiczQEHiaUe1nl5nRicCicJqtxm81ib30xicF00Ch7aqIyZFdw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;各模块的依赖关系如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;316&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.54609375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sCR9LVpqcruicxvfCFpVxgjsB1tjDkdmnUH9tZ0SNMnIHgzfk3AhoNWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△模块结构&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;值得注意的是：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;各模块间的依赖关系，demo-web、demo-task、demo-consumer 做为顶层模块，非常薄，这一层的主要作用是&lt;strong&gt;独立发布及部署，实现应用级别的隔离&lt;/strong&gt;。顶层模块调用 demo-app，app模块作为服务的实现，存放了各个业务的实现类，主要分command和query（CQRS 理念）。demo-app 可以调用 demo-domain，也可以调用基础设施层 demo-infrastructure，domain做为领域层主要分3块，model 领域实体，可以是充血模型（DDD的概念）；ability 领域能力，是领域对外暴露的服务能力；gateway 领域网关，主要是接口定义，这里的接口可以粗略的理解成一种SPI，也就是交给infrastructure层去实现的接口。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;demo-client 是服务对外透出的 API，API 的实现存放于 demo-app 模块。出于运维考虑，或者读写分离的设计，可以方便的将需要独立部署的 API 从 app 模块上抽至顶层，做为独立模块进行流水线发布和部署。&lt;strong&gt;实现服务的隔离部署，同时又能获得共享同一个代码库的好处&lt;/strong&gt;。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;前面提到的domain和infrastructure层的&lt;strong&gt;依赖倒置&lt;/strong&gt;，是一个非常有用的设计，进一步解耦了取数逻辑的实现。domain层依赖接口，不感知具体实现，例如 CustomerGateway 里定义了接口 getByById，要求 infrastructure 的实现类必须定义如何通过消费者Id获取消费者实体信息，而 infrastructure 层可以实现任何数据源逻辑，比如，从 MySQL 获取，从 Redis 获取，还是从外部 API 获取等等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;领域与功能的分包策略，每个模块的分包策略都遵循准则：&lt;strong&gt;先按照领域分包，再按照功能分包&lt;/strong&gt;，这样做的其中一点好处是能将腐烂控制在该业务域内。比如消费者 customer 和订单 order两个领域，在 domain 模块下先分成 customer 和 order 两个包，然后再按照 model、ability、gateway 进行功能划分。假设 customer 和 order 是两个后端开发并行开发，两个人对于 dto，util 这些文件夹的命名习惯都不同，那么只会腐烂在各自的业务包下面，而不会将 dto，util，config 等文件夹放在一起，极容易引发文件冲突。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;通过上面的应用架构划分，统一了各业务中台的分模块和分包策略，成功降低了各模块的学习和上手成本，较好控制了业务架构和模块代码的腐化程度。同时通过顶层模块的划分，灵活实现了同一代码库多应用部署的能力，从物理层面隔离web服务、定时任务、消息消费、rpc服务，使服务具备灵活按需扩展的能力，进一步提升服务的稳定性。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;2.3 服务治理&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;微服务架构后，服务之间的交互通过网络进行而非单体时代的内存方式，所以整体来说系统会变得更加脆弱，服务治理就是为了解决此类问题。常规的服务治理有四板斧：第一，一定要设置服务调用的超时时间；第二，要考虑重试的逻辑；第三，考虑熔断的逻辑，不要被下游拖死；第四，一定要有限流的逻辑，不要被上游打死。即超时、重试、熔断和限流。没错，这四板斧的确是服务治理中的常规手段，但在我看来，服务治理并不局限于此。我们以终为始，看看服务治理的终极目标是什么？我认为主要3个方面：&lt;strong&gt;服务可用性、系统可观测、架构防腐化。&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;a89b5231-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;strong&gt;&lt;span&gt;可用性&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;服务可用性的建设包括系统性能优化、服务自愈和自检能力建设。&lt;/span&gt;&lt;/p&gt;&lt;h4 data-morpho-type=&quot;heading&quot; data-uuid=&quot;a89b5232-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;服务性能&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;1.微服务框架升级&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;服务 RPC 框架整体迁移至部门最新的云原生解决方案 gravity+starlight，取代了原先的 zookeeper+stargate。在服务性能和治理方面有了大幅提升：&lt;/span&gt;&lt;/p&gt;&lt;ul data-morpho-type=&quot;unordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通信性能提升：starlight采用新版的网络通信库与更灵活的线程池模型。提升2倍通信交互性能&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;稳定性增强：starlight基于gravity做更高效稳定的注册中心，定制无损升级、异常实例摘除等能力。轻松赋能达标99.99%+稳定性。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;跨语言能力：starlight采用设计更合理的brpc协议作为主协议，可跨语言与C++ Go等brpc服务通信。降低跨语言通信学习成本。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;云原生治理：starlight+gravity支持更云原生的治理能力，接入统一控制中心增强可控性、实现灰度发布。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;日志规范排查提速：规范化的日志。秒级定位超时问题、序列化失败问题&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;迁移过程中，gravity 与 zk 双向同步服务注册信息，实现业务的平滑无感迁移。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;2.系统性能深度优化&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;对合约广告系统进行了全面的性能盘点和优化，性能整体提升2倍，总结为如下7个优化点：&lt;/span&gt;&lt;/p&gt;&lt;ul data-morpho-type=&quot;unordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;单元化，对单个服务进行拆分瘦身（模块结构章节中提到的顶层模块，将定时任务、消息消费与web服务剥离），实现资源隔离，降低等待获取连接的耗时&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;网络传输，统一团队服务部署至北方机房，平响降低60%&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;循环IO，IO 包括远程服务调用和数据库操作，通过批量化改造、多线程并发的手段大幅缩短耗时&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;多级缓存，通过本地 + redis 构建二级缓存，大幅降低读接口耗时&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;异步化，对于耗时的写操作，采用eventlog组件实现异步化 + 自动重试（后面一节会详细展开），例如物料送审、批量创建投放等&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;慢SQL，基于业务查询场景，优化数据表索引定义&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;接口拆分，联合前端，对于非主干流程的耗时数据进行接口拆分，实现非阻塞请求&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;/p&gt;&lt;h4 data-morpho-type=&quot;heading&quot; data-uuid=&quot;a89b5233-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;strong&gt;&lt;span&gt;服务自愈和自检&lt;/span&gt;&lt;/strong&gt;&lt;/h4&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;为了更好的保障系统的可用性，服务需要具备自愈和自检能力。服务自愈能力主要通过幂等处理 + 事件持久化 + 逻辑重试来实现，通过自愈能力的建设，可以大幅降低微服务架构升级后带来的 IO 通信不稳定问题，同时让系统对性能和稳定性较差的外部服务有更好的容忍性，有效提升系统的整体可用性。系统的自愈能力主要解决的是『偶发性』技术问题，比如网络抖动导致的远程调用失败、事务并发导致的乐观锁冲突等，对于代码bug、业务逻辑错误、数据不一致等问题无能为力。所以除了自愈能力，服务还需要具备自检能力，能够将错误自动检测出来，并及时通知到对应人员进行处理。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;服务的幂等处理这里简单提一下，不做过多展开，主要有几种方案：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据库唯一键，通过数据库的约束实现新增和删除操作的幂等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据库乐观锁，通过增加额外字段（版本号）实现更新操作的幂等。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;防重token令牌，调用方在调用接口的时候先向后端请求一个全局ID做为token，后续请求的时候都带有此token（建议放到 Headers 中），可以解决客户端连续点击或者调用方超时重试等情况，适用于新增、更新和删除操作&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;下游传递唯一序列号，与3不同的是，这个唯一序列号由调用方生成，生成方式可以是无业务含义的全局ID，也可以是带有业务含义的ID，比如订单行ID。服务方通过此ID记录进行存在和不存在的操作（结合redis实现操作的记录），适用于新增、更新和删除操作&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h5 data-morpho-type=&quot;heading&quot; data-uuid=&quot;a89b5234-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;自愈能力 - eventlog 基础组件&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h5&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;span&gt;利用 springboot-starter 机制沉淀 e&lt;/span&gt;&lt;/span&gt;&lt;span&gt;ventlog 基础组件，让业务方低成本接入，使服务具备自愈能力。组件整体架构图如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;130&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.22421875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6swe7hIlviaV38vib5qeOQeY87VBBHibCWicQ7pDHlQIhBbSRP9vbWb510og/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;eventlog 基础组件&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;步骤1是同步持久化事件，由业务方引入组件后调用现成方法实现；步骤2是异步消费处理事件，整体处理流程采用模板模式+ 策略模式，通过模板模式实现处理流程的业务编排，对事件处理前、中、后都设置扩展点，兼顾业务模块的接入成本和扩展灵活度。事件处理采用策略模式，将事件类型做为策略路由，实现各类事件处理的互相隔离和高扩展性。另外通过可视化配置（amis配置，即爱速搭，低代码前端页面搭建平台），统一监控事件日志表，对超时处理的事件进行报警、清理等操作。&lt;/span&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;事件日志实体模型采用 event_type + biz_code 的二级模型，event_type 唯一标识了一类事件，是事件处理时的策略路由key，biz_code 由业务方自定义，用来唯一标识某类实体。attach是扩展字段，供业务方自定义，attach不宜过大，如果过大，建议通过biz_code后反查业务数据。&lt;/span&gt;&lt;/p&gt;&lt;h5 data-morpho-type=&quot;heading&quot; data-uuid=&quot;c7bc1230-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;strong&gt;&lt;span&gt;自检能力 - 核检中心&lt;/span&gt;&lt;/strong&gt;&lt;/h5&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;服务的自检能力主要通过核检中心来实现，核检中心功能上分两部分，核检任务 + 消息中心。核检任务按业务场景对数据进行核对校验，解决微服务架构后分布式事务造成的数据不一致，同时，端到端的核检也可以做为在线监控，第一时间感知系统bug；然后通过消息中心将异常通知到对应人员。同时，面对大量的报警信息（系统错误、数据一致性、业务正确性等），消息中心做为统一的管理端，提供了按场景分组报警、历史报警信息查询、报警优先级设定、误报热屏蔽、报警群进组热修改等功能，提升监控的有效性和处理效率。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;核检中心整体模块图如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;282&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.48828125&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sLCJHxzuV7C2DlOZY9CmDHiaXdp7IAkGJGBIfA2EkvdBl1JHBOd3xJAw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;核检中心模块图&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;ul data-morpho-type=&quot;unordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;应用层，两块主要功能，客户端接入和可视化管理。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;能力层，对应核检中心服务端，整体模块结构遵循上述提到的 COLA，并使用CQRS和事件驱动的设计理念，提升模块的可用性。在消息发送事件的处理模块中，采用策略模式实现多种类型的消息发送，大幅提升模块扩展性，遵循开闭原则。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;实体层，按照十亿级别数据量进行模型设计和数据库选型。在实体设计中，抽象消息场景的业务概念，较好的聚合了一类共同特征的消息，『共同特征』完全交由业务方定义，很好的平衡了业务灵活性和消息可管理。在数据库选型方面，采用部门开源解决方案BaikalDB（一个分布式可扩展的HTAP存储系统，采用类spanner的架构，支持PB级结构化数据的随机实时读写）。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;dfc15cf0-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;strong&gt;&lt;span&gt;可观测&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;系统的可观测程度也是服务治理的一个非常重要目标。提到服务的可观测性，大家容易想到的一般都是：微服务调用关系（拓扑图呈现）、接口性能（各种分位值指标，性能优化利器）、系统异常（各种监控配置）、资源利用率、日志链路追踪（线上排查必不可少）等，这部分主要依托于部门的微服务解决方案 Jarvis平台实现，所以在这里不做过多介绍，这里主要想介绍的服务可观测主要是指上层业务应用。&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;企业级微服务解决方案Jarvis是商业平台部基础技术团队研发的面向复杂业务系统的应用托管平台，为商业应用提供高可用和分布式的微服务架构解决方案。Jarvis提供了一系列强大的功能，充分利用百度资源虚拟化能力，提供分布式服务框架、服务治理、统一配置管理、分布式链路跟踪、容量规划、高可用及数据化运营等功能。&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;前面其实已经提到过，合约广告的整体业务链路比较长，经历了售前询价 -&amp;gt; 下单 -&amp;gt; 合同审批 -&amp;gt; 物料制作 -&amp;gt; 投放 -&amp;gt; 计费，每个环节都可能成为广告投放的卡点，如果出现问题，比如流程阻塞，如何能够快速定位问题，甚至提前感知问题，做到整个流程的透明化、可观测呢？&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;整体思路是以业务实体为中心，记录实体全生命周期的变化，当某个阶段（实体状态）停留时间超出预期，就有可能存在潜在的异常，通过服务看板和消息中心，及时通知对应的运营进行处理跟进。通过追踪业务实体的生命周期，实现系统业务流程的可观测性，为后续流程优化、业务提效提供数据分析基础。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;业务实体生命周期的追踪实现方案主要如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;88&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.15234375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6s5KDJNhZv5HGaeuhEMpTLoibSB6Y0LjzzbaWFBcgicn1wKpbzuTNF0Pgw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;业务实体生命周期追踪&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;总结来说就是三种方案：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通过订阅 mysql binlong，监控业务实体的核心状态字段（对应部门已有解决方案 WATT），一旦字段变更就会触发增量消息，服务端消费后持久化，再以服务看板的形式对外呈现。这种方式的优势是对业务模块无侵入，劣势是依赖业务模块的数据库设计，另外有些实体的生命周期并不一定体现在数据表的字段变更，无法通过订阅 binglog 的方式感知&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;通过日志打印 -&amp;gt; 采集 -&amp;gt; 解析的方式实现实体全生命周期的追踪。这个方式的优势是百度已有一整套现成的解决方案，可以直接复用；劣势是需要侵入业务代码，按照规范打印日志，同时日志采集和解析的配置门槛较高，调试较困难，不容易上手&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;提供用于追踪实体生命周期的埋点 sdk，在需要监控的地方埋点。这个方式的优势是灵活度非常高，可以实现任何追踪需求；劣势是侵入业务代码，需要业务模块显式进行调用&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;最终我们采用了 1 和 3，业务实体的追踪主要通过方案 3来实现埋点，一些额外辅助信息通过 方案 1 进行同步。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;h3 data-morpho-type=&quot;heading&quot; data-uuid=&quot;f0752e50-5e41-11ed-a81d-9d9ff8a2081a&quot; data-slate-node=&quot;element&quot;&gt;&lt;strong&gt;&lt;span&gt;防腐化&lt;/span&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;很多科学家提到的熵增定律非常好的揭示了自然现象的本质：任何孤立系统，在没有外力作用的情况下，其总混乱度（熵）会不断增大。当然软件系统也是如此，随着软件系统的功能不断增加，系统的混乱度也在不断增大。为了降低软件系统混乱的速度，必须要对其施以外力。那么这里的『外力』可以从哪些角度入手呢？&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;分析每个应用的修改频次，哪些应用频繁修改，哪些应用相对稳定。对于频繁修改的应用，是否引起修改的业务需求是相同的。那么这些大概率绑定在一起修改的服务被拆分在不同的应用，是否是不合理的，值得进一步商榷。如果一个应用，无论什么需求都需要升级，那么这个应用是否已经足够小，是否需要进一步拆分，剥离变与不变，将不变的部分进行抽离和沉淀？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;定期观察每个服务的调用情况，包括次数、性能和拓扑。是否存在一些冗余服务可以清理？是否存在一些服务性能呈现恶化趋势，需要及时介入优化？是否存在某些业务流程中存在重复调用的情况？如果有，需要制定计划进行治理，否则就会成立历史债务，让业务架构逐步腐化。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;需要定期去扫描检查应用代码，包括重复逻辑是否散布于多个应用、是否存在不规范的代码逻辑（每个团队根据实践总结沉淀，比如 枚举类的使用、IO 循环调用等）、是否存在冗余代码需要清理、模块结构和分包策略是否符合规范&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;定期的CR各应用代码，是否存在跨领域的逻辑，比如报价中心处理了订单中心的逻辑（非报价域的逻辑），导致微服务的划分边界模糊&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;防腐化这块工作其实很重要，目前也还处于初级的摸索阶段，需要进一步结合业务实际，沉淀最佳实践。这里先以微服务循环依赖治理为例，做个简单介绍。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;当微服务中的循环依赖形成闭环后会造成2类主要危害：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;服务间强耦合导致各服务很难独立部署，违反了微服务『自治与隔离』的设计初衷，最终微服务架构会逐步演变为『分布式大单体』，失去了微服务架构演进的意义。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;循环依赖可能会导致一些循环调用或并发问题，造成一些复杂难以定位的问题，下面以用户中心和订单中心为例来说明&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;457&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.79140625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sGNvqkibRrPtmsDQcibyNmqeYMB0cpHKMUNDN8hSiaDs7Zf2OIicMFqnwKQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;循环依赖导致的并发问题&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;上述图中有两个服务，订单和用户中心，蓝色箭头表示订单中心对外提供的服务 ，实现订单状态更新，其中会调用用户服务更新客户状态，标记此客户已有下单记录。红色箭头表示用户中心调用订单中心，用户服务在标记完客户状态后反过来会调用订单服务，持久化订单上客户信息。上述调用形成了闭环，最终会引起订单数据库中的版本冲突，导致更新失败。那么如何避免这种循环依赖呢？总结以下几个准则：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;明确服务边界和定位，划分上下游服务，下游服务可以调用上游服务，但是上游服务不能依赖下游，如果要进行通信，采用领域事件的方式，比如消息通知。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;数据不要过多冗余，尽量通过数据 id（能够唯一代表数据且不变的属性）来进行关联，即只存引用。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;如果存在必须要通过上游服务同步调用下游服务才能完成的功能，得反思是否上游服务缺少了相应的业务域。如果不是，可以借业务前台来实现各服务的调用编排，或者肯能存在微服务拆分不合理，这种场景需要重新规划，拆分出一个更上游的服务供调用。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;回到刚才的实际例子，治理方案是采用领域事件的改造方式，订单服务是下游服务，用户服务是上游服务，用户服务更新订单客户信息从同步调用方式改为消息通知，不感知具体的订阅方，实现解耦。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;2.4 &lt;/strong&gt;&lt;strong&gt;服务迭代&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;微服务架构改造后，原来单体架构的迭代方式已经不再适用，我们看一个实际例子：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;218&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.37734375&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sarxLM8xibzsagmgoAe5eicjG3D43RF5F6FvQc23kNoJL5elaTODlU0qQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;从上述例子中可以看到，微服务架构后，一个业务需求会涉及多个模块，复杂度不尽相同，如果中台服务的每个升级无法做到向前兼容，那么势必会导致需求间的耦合，一旦并行开发的分支增多，因模块间的耦合导致的整体回滚概率将会指数级增长。仍旧是上述这个例子，如果需求1中的中台B有BUG，需要回滚，那么是否导致需求2中的所有模块都要回滚，包括中台D，即使它的改动点非常小。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;总结以下，造成上述局面的2个主要原因：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;迭代升级的视角只有需求维度，中台服务被割裂，缺少另一个以中台为主的视角&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;自动化测试能力不足，过度依赖黑盒测试会导致风险后置&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;针对这两个问题，我们的解法主要有3个方向：&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;规范需求迭代流程，强化以中台为轴的虚拟团队。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;从需求评审、技术详设、开发、联调、测试到上线，制定详细的全流程规范，保障团队有序运转。同时，强调各中台的自治，迭代升级必须做到向前兼容，依赖模块的回滚不影响自身的上线计划，反复强调容错、兼容、演进式的设计理念。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;加强自动化测试能力，达到自动准出标准。自动化测试能力包括各模块的单测和集成测试。模块单测通过插件集成至流水线，对于没有达到覆盖率的代码禁止合入，特殊情况下，可以说明理由，让模块负责人豁免。集成测试从业务前台出发，按照业务场景优先级逐步建设，触发方式分为每日例行任务和回归测试时的手动触发。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;提供服务 mock 能力，在合适的场景下可以解耦对其他服务的依赖。落地联调中心，实现服务级别的动态 mock 能力，并通过 starter 方式让业务模块低成本接入。整体设计分为两部分，client端和server端，如下图：&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;154&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.265625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6ssRmJ5hQgrLBP3HlOJhH85tGpsX0HNSUBIQ79y29wIjeZTSA5OxsY7A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;h2&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;△&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;em&gt;&lt;span&gt;&lt;em&gt;&lt;span&gt;mock 中心&lt;/span&gt;&lt;/em&gt;&lt;/span&gt;&lt;/em&gt;&lt;/h2&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;其中，服务端的可视化 mock 规则配置支持动态规则，对于一些无法用动态规则描述的需求也可以通过低成本的代码开发实现定制化逻辑。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;最终期望能够让每个中台服务达到『自治与隔离』，从而解耦各需求点的上线，如下图：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;131&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.2265625&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/5p8giadRibbO8CTUfjk49wlQibvGIIhpF6sFIjxWPZC3qProaT2jiag7WJopg1CJHAoJhzBZcN3m5psS7IHTSjnlJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;/&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;可以看到，上线粒度从需求维度细化到了中台 fetaure，使整体交付风险指数级下降。当然，对于微服务架构系统，如何做到高效联调和测试仍是一个正在不断探索的方向。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;三、总结&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;GEEK TALK&lt;/section&gt;&lt;/section&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;本文主要介绍了合约广告微服务架构演进中的一些最佳实践，做一个简单的总结。&lt;/span&gt;&lt;/p&gt;&lt;ol data-morpho-type=&quot;ordered-list-item&quot; data-slate-node=&quot;element&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;服务拆分&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;：从实际业务出发，基于领域驱动模型的理念，建立合适的业务模型。这部分一定要深入业务细节，理解业务运转原理，抽象出业务本质。通过合理服务拆分，可以更高效地解决复杂业务问题，如果将7个业务中台类比为正交的坐标轴，那么原来低维的复杂问题（单体架构）投射到高维后（微服务架构），大概率会变得没那么复杂；另外，对于本质业务复杂度问题，通过服务拆分，可以很好的将复杂性隔离至对应领域服务，更好地管理复杂度，防止外溢。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;模块结构&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;：借鉴COLA架构，结合实际情况，制定规范，其中包含了多种设计理念：DDD、事件驱动模式、CQRS模式、依赖倒置。相比服务拆分，模块结构是从微观视角制定各微服务的代码组织，减缓腐化速度。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;服务治理&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;：总结了系统性能、业务可观测性和防腐化三个方面的一些心得和最佳实践，在我看来，一个好的业务架构，能够很好的管控业务复杂度，甄别业务中的『变』和『不变』。所以，定期梳理分析各服务的升级频率、调用关系等是非常重要的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;服务迭代&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;：服务及架构的迭代需要平滑有序，做到容错、兼容、演进式，避免大量应用改造。同时各微服务要做到自治与隔离，降低相互之间的耦合，做到在架构演进过程中每个服务都能顺利地『死去』与『重生』，就像生物进化一样。（本文多次提到的领域事件方式是降低服务耦合的有效手段）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;所以回到本文开头的2个问题，B端系统最大的技术挑战我认为是&lt;/span&gt;&lt;span&gt;&lt;strong&gt;业务复杂度的治理&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，通过合适的技术选型在赋能业务的同时又能很好地管控技术和业务复杂度。我心目中好的业务架构标准就是&lt;/span&gt;&lt;span&gt;&lt;strong&gt;提升效率&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;，这里的效率包括交付效率、运维效率以及演进效率。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span&gt;最后想说：没有完美的业务架构，贴合业务实际的就是好架构，一个好的业务架构一定是结合业务实际演进而来的。&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;span data-darkmode-bgcolor-16400839961158=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16400839961158=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16400839961158=&quot;rgb(118, 169, 250)&quot; data-darkmode-original-color-16400839961158=&quot;#fff|rgb(62, 62, 62)|rgb(120, 172, 254)&quot; data-style=&quot;outline: 0px; color: rgb(120, 172, 254); letter-spacing: 0.544px; caret-color: rgb(63, 63, 63); font-size: 15px; white-space: pre-line; font-family: Avenir, -apple-system-font, 微软雅黑, sans-serif; font-weight: bolder;&quot; data-darkmode-bgcolor-16447677597489=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16447677597489=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16447677597489=&quot;rgb(118, 169, 250)&quot; data-darkmode-original-color-16447677597489=&quot;#fff|rgb(62, 62, 62)|rgb(120, 172, 254)&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;/p&gt;&lt;p data-morpho-type=&quot;paragraph&quot; data-slate-node=&quot;element&quot;&gt;&lt;/p&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;pre&gt;&lt;section data-recommend-type=&quot;list-normal&quot; data-recommend-tid=&quot;2&quot; data-mpa-template=&quot;t&quot; data-mid=&quot;&quot; data-from=&quot;yb-recommend&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501257_1&quot; data-recommend-article-time=&quot;1636251616&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/zc3KLDBfJlm8bD2WBlwbvnsktMdtfSudNaJWbHr1Iyr6HkwCxETHiaiceaWYLmq7tWmHV29U8Xv8UnoeCAOYNj9Q/0?wx_fmt=jpeg&amp;amp;amp;random=0.27521905775014543&quot; data-recommend-article-title=&quot;强势开源一款小程序！&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501257&amp;amp;idx=1&amp;amp;sn=7b4e27cdb1d3146a5e7e1951b5bdc9e8&amp;amp;chksm=c1ca33f9f6bdbaefd3874fa6313e422c8fb6b2799b40d09f36620f0ceaed4fd63c820da1f3ff#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501257&amp;amp;idx=1&amp;amp;sn=7b4e27cdb1d3146a5e7e1951b5bdc9e8&amp;amp;chksm=c1ca33f9f6bdbaefd3874fa6313e422c8fb6b2799b40d09f36620f0ceaed4fd63c820da1f3ff&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;强势开源一款小程序！&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-11-07&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42592592592592593&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zc3KLDBfJlm8bD2WBlwbvnsktMdtfSudNaJWbHr1Iyr6HkwCxETHiaiceaWYLmq7tWmHV29U8Xv8UnoeCAOYNj9Q/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501242_1&quot; data-recommend-article-time=&quot;1634952613&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UWibGeSzVdcKHzDRdVHusb9CJicA5FdhDVPAiaicdTbibx5XoRkhKA3O7Q727cTSurBkJpciczjLrF2wkA/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;强力推荐一个完善的物流（WMS）管理项目（附代码）&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501242&amp;amp;idx=1&amp;amp;sn=aa2297b69874de0993f62ea404376bab&amp;amp;chksm=c1ca338af6bdba9cf3e051ff3001e1f31f9fa97350f3851c797d6486eca360df537196dbe67b#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501242&amp;amp;idx=1&amp;amp;sn=aa2297b69874de0993f62ea404376bab&amp;amp;chksm=c1ca338af6bdba9cf3e051ff3001e1f31f9fa97350f3851c797d6486eca360df537196dbe67b&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;强力推荐一个完善的物流（WMS）管理项目（附代码）&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-10-23&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.425&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UWibGeSzVdcKHzDRdVHusb9CJicA5FdhDVPAiaicdTbibx5XoRkhKA3O7Q727cTSurBkJpciczjLrF2wkA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501238_1&quot; data-recommend-article-time=&quot;1634606700&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VduLA9tc9dQkaw5HWIV6pqNrOiciaE17jeIeTtoLfgLbyu67dWkRj3tjKX7AFIMrV0rKD5ic6kwicyxg/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;推荐一个 Spring Boot + MyBatis + Vue 音乐网站&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501238&amp;amp;idx=1&amp;amp;sn=d7e873d752a28b582d70bc9f7a981ddb&amp;amp;chksm=c1ca3386f6bdba9031ce115e734ce04c9b6728e8e027fbcf17d8d07f1e029ea5bea04f4a6273#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501238&amp;amp;idx=1&amp;amp;sn=d7e873d752a28b582d70bc9f7a981ddb&amp;amp;chksm=c1ca3386f6bdba9031ce115e734ce04c9b6728e8e027fbcf17d8d07f1e029ea5bea04f4a6273&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;推荐一个 Spring Boot + MyBatis + Vue 音乐网站&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-10-19&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42592592592592593&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VduLA9tc9dQkaw5HWIV6pqNrOiciaE17jeIeTtoLfgLbyu67dWkRj3tjKX7AFIMrV0rKD5ic6kwicyxg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501208_1&quot; data-recommend-article-time=&quot;1632101100&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VibcP3PNgQvXGZ7UJkVeu0JZsrldvF1urHlmNwhUP89IeKHz1PfJ12es2ArTwkYibAh3Y0soOib2rjA/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;分享一套家庭理财系统（附源码）&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501208&amp;amp;idx=1&amp;amp;sn=44fcdfe2d7f81a26845faf33750ea9bb&amp;amp;chksm=c1ca33a8f6bdbabec8ff34719f438465adf745cbef30bfb92be53897c714d8c13bdd01989d17#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501208&amp;amp;idx=1&amp;amp;sn=44fcdfe2d7f81a26845faf33750ea9bb&amp;amp;chksm=c1ca33a8f6bdbabec8ff34719f438465adf745cbef30bfb92be53897c714d8c13bdd01989d17&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;分享一套家庭理财系统（附源码）&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-09-20&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42407407407407405&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VibcP3PNgQvXGZ7UJkVeu0JZsrldvF1urHlmNwhUP89IeKHz1PfJ12es2ArTwkYibAh3Y0soOib2rjA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501192_1&quot; data-recommend-article-time=&quot;1630718700&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UG0pYPldneUCCVsPia3Rtr9j3hlFHakhItFlOXuwLicUqQvP1PhkTM28CUU9BpRCWfWPfHYredCBiaA/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;推荐一个互联网企业级别的开源支付系统&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501192&amp;amp;idx=1&amp;amp;sn=444404a565f02a8c532d291d99678a7b&amp;amp;chksm=c1ca33b8f6bdbaaeb7c65d9f6f0c399f609fb203f065b6e88a3ad5431473713dbb5ae3507b32#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501192&amp;amp;idx=1&amp;amp;sn=444404a565f02a8c532d291d99678a7b&amp;amp;chksm=c1ca33b8f6bdbaaeb7c65d9f6f0c399f609fb203f065b6e88a3ad5431473713dbb5ae3507b32&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;推荐一个互联网企业级别的开源支付系统&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-09-04&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.425&quot; data-type=&quot;jpeg&quot; data-w=&quot;1080&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UG0pYPldneUCCVsPia3Rtr9j3hlFHakhItFlOXuwLicUqQvP1PhkTM28CUU9BpRCWfWPfHYredCBiaA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501176_1&quot; data-recommend-article-time=&quot;1629509100&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VQRwetNLhDOB2Ej0fDZK4eRXsYlRNicgmsWwmuvlhibooic3N3su1lbMQPqWD186JiaOC5yJ9iaaic8bzw/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;推荐一套开源通用后台管理系统（附源码）&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501176&amp;amp;idx=1&amp;amp;sn=68e3ae7a9dc33fbbd379906ddcefdf5b&amp;amp;chksm=c1ca3348f6bdba5e1774625745f5ef40081c9b8eb0189073734b6808efb872720781d25b8dc0#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501176&amp;amp;idx=1&amp;amp;sn=68e3ae7a9dc33fbbd379906ddcefdf5b&amp;amp;chksm=c1ca3348f6bdba5e1774625745f5ef40081c9b8eb0189073734b6808efb872720781d25b8dc0&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;推荐一套开源通用后台管理系统（附源码）&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-08-21&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4265625&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VQRwetNLhDOB2Ej0fDZK4eRXsYlRNicgmsWwmuvlhibooic3N3su1lbMQPqWD186JiaOC5yJ9iaaic8bzw/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501153_1&quot; data-recommend-article-time=&quot;1627704022&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UbyFoOMqOObokEYiahCar20LiaY8ZLGKzU7NYQQoGycgnhrmIzNJibPicGcNia3cbbXlYib6bcLJVV5aww/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;一款神仙接私活儿软件，吊到不行！&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501153&amp;amp;idx=1&amp;amp;sn=bb29cffa56431b72a92709c0ae993af7&amp;amp;chksm=c1ca3351f6bdba4729c671cdcd0ee8b6af75c6ce8a7003e6c032942b849aab5bfedecd0f9d3b#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501153&amp;amp;idx=1&amp;amp;sn=bb29cffa56431b72a92709c0ae993af7&amp;amp;chksm=c1ca3351f6bdba4729c671cdcd0ee8b6af75c6ce8a7003e6c032942b849aab5bfedecd0f9d3b&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;一款神仙接私活儿软件，吊到不行！&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-07-31&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4265625&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7UbyFoOMqOObokEYiahCar20LiaY8ZLGKzU7NYQQoGycgnhrmIzNJibPicGcNia3cbbXlYib6bcLJVV5aww/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501139_1&quot; data-recommend-article-time=&quot;1626571500&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VGxZrbRFy96Sm9cXQzVEhiaLibUUYhYH1SJL4HUXenau3DCeq0KEOsguY4CWjaEd1BeAicJd24qFM2w/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;基于 SpringBoot 的仿豆瓣平台【源码分享】&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501139&amp;amp;idx=1&amp;amp;sn=f133e70bda8abae27459ccc4d3d6d8fd&amp;amp;chksm=c1ca3363f6bdba75b9a4145510d9b6108c56146a3146b2e2e6d660a08221618b01c815d55642#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501139&amp;amp;idx=1&amp;amp;sn=f133e70bda8abae27459ccc4d3d6d8fd&amp;amp;chksm=c1ca3363f6bdba75b9a4145510d9b6108c56146a3146b2e2e6d660a08221618b01c815d55642&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;基于 SpringBoot 的仿豆瓣平台【源码分享】&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-07-18&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42427884615384615&quot; data-type=&quot;jpeg&quot; data-w=&quot;832&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VGxZrbRFy96Sm9cXQzVEhiaLibUUYhYH1SJL4HUXenau3DCeq0KEOsguY4CWjaEd1BeAicJd24qFM2w/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501105_1&quot; data-recommend-article-time=&quot;1623979500&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7Xw68Ow8vZian4lanQFAu09f4JOZlXbC85jsByb8V6StkOpibAdgPamPWoPPY3G7S3nic50QvxxuGNrg/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;干掉 Wordpress！这个开源建站神器有点吊！&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501105&amp;amp;idx=1&amp;amp;sn=caf01186b6d2e4a38e940ce07d822238&amp;amp;chksm=c1ca3301f6bdba17ba7127da24e28963ae40f944e587f14b57405e2a9ee9d8cdbcb835c880c8#rd&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501105&amp;amp;idx=1&amp;amp;sn=caf01186b6d2e4a38e940ce07d822238&amp;amp;chksm=c1ca3301f6bdba17ba7127da24e28963ae40f944e587f14b57405e2a9ee9d8cdbcb835c880c8&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;干掉 Wordpress！这个开源建站神器有点吊！&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;2021-06-18&lt;/p&gt;&lt;/section&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42578125&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7Xw68Ow8vZian4lanQFAu09f4JOZlXbC85jsByb8V6StkOpibAdgPamPWoPPY3G7S3nic50QvxxuGNrg/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;/a&gt;&lt;/section&gt;&lt;section data-mpa-template=&quot;t&quot; data-recommend-article-type=&quot;list-normal&quot; data-recomment-template-id=&quot;2&quot; data-recommend-article-id=&quot;2247501098_2&quot; data-recommend-article-time=&quot;1623461160&quot; data-recommend-article-cover=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VzIP6xibP6U8htKa7YEad1iaTE02ZbsOfvDX1D8LoTiaNsMVgdjFOdm5LahpnNXFe3ibSp8S4FJ39KkA/0?wx_fmt=jpeg&quot; data-recommend-article-title=&quot;从朋友那里搞了 20 个实战项目，速领！&quot; data-recommend-article-content-url=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501098&amp;amp;idx=2&amp;amp;sn=520b81839bb5b4f1c990278e03e1991d&amp;amp;chksm=c1ca331af6bdba0c0e3435da519fadda3be81744168e30c56a823180bd458a5ec8a6b499f2a4#rd&quot;&gt;&lt;section data-recommend-content=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;section data-mid=&quot;&quot;&gt;&lt;p data-recommend-title=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501098&amp;amp;idx=2&amp;amp;sn=520b81839bb5b4f1c990278e03e1991d&amp;amp;chksm=c1ca331af6bdba0c0e3435da519fadda3be81744168e30c56a823180bd458a5ec8a6b499f2a4&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;从朋友那里搞了 20 个实战项目，速领！&lt;/a&gt;&lt;/p&gt;&lt;p data-recommend-date=&quot;t&quot; data-mid=&quot;&quot;&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501098&amp;amp;idx=2&amp;amp;sn=520b81839bb5b4f1c990278e03e1991d&amp;amp;chksm=c1ca331af6bdba0c0e3435da519fadda3be81744168e30c56a823180bd458a5ec8a6b499f2a4&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot; wah-hotarea=&quot;click&quot;&gt;2021-06-12&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzkyNTI5NTQ1NQ==&amp;amp;mid=2247501098&amp;amp;idx=2&amp;amp;sn=520b81839bb5b4f1c990278e03e1991d&amp;amp;chksm=c1ca331af6bdba0c0e3435da519fadda3be81744168e30c56a823180bd458a5ec8a6b499f2a4&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;1&quot; wah-hotarea=&quot;click&quot;&gt;&lt;span class=&quot;js_jump_icon h5_image_link&quot; data-positionback=&quot;static&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;jpeg&quot; data-w=&quot;200&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/Baq5lYpIw7VzIP6xibP6U8htKa7YEad1iaTE02ZbsOfvDX1D8LoTiaNsMVgdjFOdm5LahpnNXFe3ibSp8S4FJ39KkA/640?wx_fmt=jpeg&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4703703703703704&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/Baq5lYpIw7X6YPYGQITyP8Zdk96ab7CX0Ind5E05VokoepTP9Adic0xRwiaQrAvfTeC7iafngRibhBShpVqibqNcCCA/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot; data-type=&quot;png&quot; data-w=&quot;1080&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;如有收获，点个在看，诚挚感谢&lt;/span&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-fileid=&quot;100018364&quot; data-ratio=&quot;1&quot; data-type=&quot;png&quot; data-w=&quot;19&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/fEsWkVrSk54JM0xl7WLNGnqqwbcXQBWIOCMuOgPHRoOjMamXzrCqMS2xgOo5ibic9icPk7u3zsVgic3s1ZUYJ4xHXg/640?wx_fmt=png&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1&quot;/&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;&lt;span data-darkmode-bgcolor-16400839961158=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16400839961158=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16400839961158=&quot;rgb(0, 179, 139)&quot; data-darkmode-original-color-16400839961158=&quot;#fff|rgb(62, 62, 62)|rgb(0, 179, 139)&quot; data-darkmode-bgcolor-16447677597489=&quot;rgb(25, 25, 25)&quot; data-darkmode-original-bgcolor-16447677597489=&quot;#fff|rgb(255, 255, 255)&quot; data-darkmode-color-16447677597489=&quot;rgb(0, 179, 139)&quot; data-darkmode-original-color-16447677597489=&quot;#fff|rgb(62, 62, 62)|rgb(0, 179, 139)&quot;/&gt;&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;mp-style-type data-value=&quot;3&quot;/&gt;&lt;/p&gt;&lt;/div&gt;

          
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>d5f4a4c8aec134f3161a88e70fe51ddf</guid>
<title>深入浅出学习透析 Nginx 服务器的基本原理和配置指南（进阶实践篇）</title>
<link>https://toutiao.io/k/v3n8meq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;editor-container container am-engine&quot; id=&quot;container&quot; data-element=&quot;root&quot;&gt;&lt;h3 id=&quot;h0&quot;&gt;proxy_pass的疑问？&lt;/h3&gt;&lt;p&gt;很多小伙伴们跟我沟通说之前章节的介绍的proxy_pass介绍的并不是很详细和清晰，那么我们就针对于Nginx proxy_pass 使用在进行复习回顾一下。&lt;/p&gt;&lt;h4 id=&quot;h1&quot;&gt;proxy_pass的使用场景&lt;/h4&gt;&lt;p&gt;在使用Nginx服务，很多情况Nginx用于反向代理，那就离不开使用proxy_pass，它的作用主要用于路由转发到后台服务使用，作为代理到后台服务而已。而针对于proxy_pass后面的url是否以/结尾的场景还有很多学问哦！&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;如果你不知道后面url添加其它路由等场景，下面来聊聊这些分别代表什么含义和实现。&lt;/p&gt;&lt;/blockquote&gt;&lt;h4 id=&quot;h2&quot;&gt;proxy_pass的详解介绍&lt;/h4&gt;&lt;h5 id=&quot;h7723ecd-TZGbKidW&quot;&gt;第一种场景 后面url加 /&lt;/h5&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;location /statistic/ {&lt;br/&gt;    proxy_pass http://127.0.0.1/;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;那么当客户端请求URL到Nginx所在的服务器时候，Nginx所在的服务器IP地址为：172.168.2.21，那么请求URL：​&lt;a rel=&quot;nofollow&quot; href=&quot;https://172.168.2.21/statistic/index.html&quot;&gt;​https://172.168.2.21/statistic/index.html​&lt;/a&gt;​&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;结果：代理到URL：&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://127.0.0.1/index.html%EF%BC%8C&quot;&gt;​&lt;strong&gt;http://127.0.0.1/index.html，&lt;/strong&gt;​&lt;/a&gt;​&lt;strong&gt;​ 所以你应该明白了，他会将客户传递的statistic的这段path直接忽略掉和strip掉&lt;/strong&gt;。&lt;/p&gt;&lt;/blockquote&gt;&lt;h5 id=&quot;h7723ecd-jkDLgG5D&quot;&gt;第二种场景 后面url没有 /&lt;/h5&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;location /statistic/ {&lt;br/&gt;    proxy_pass http://127.0.0.1;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;结果：代理到URL：&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://127.0.0.1/statistic/index.html&quot;&gt;​&lt;strong&gt;http://127.0.0.1/statistic/index.html&lt;/strong&gt;​&lt;/a&gt;​&lt;/p&gt;&lt;/blockquote&gt;&lt;h5 id=&quot;h7723ecd-eaHT63Wa&quot;&gt;第三种场景 后面url添加其它路由，并且最后添加 /&lt;/h5&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;location /statistic/ {&lt;br/&gt;    proxy_pass http://127.0.0.1/customer/;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;结果：代理到URL：&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://127.0.0.1/customer/index.html&quot;&gt;​&lt;strong&gt;http://127.0.0.1/customer/index.html&lt;/strong&gt;​&lt;/a&gt;​&lt;/p&gt;&lt;/blockquote&gt;&lt;h5 id=&quot;h7723ecd-l3lTmNKB&quot;&gt;第四种场景 后面url添加其它路由，但最后没有添加 /&lt;/h5&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;location /statistic/ {&lt;br/&gt;    proxy_pass http://127.0.0.1/customer;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;结果：代理到URL：&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://127.0.0.1/customerindex.html&quot;&gt;​&lt;strong&gt;http://127.0.0.1/customerindex.html&lt;/strong&gt;​&lt;/a&gt;​&lt;/p&gt;&lt;/blockquote&gt;&lt;hr/&gt;&lt;h3 id=&quot;h3&quot;&gt;进入正题，实战开发技巧&lt;/h3&gt;&lt;h4 id=&quot;h4&quot;&gt;夯实server_name的路由代理机制&lt;/h4&gt;&lt;p&gt;通过server_name指令实现选择服务器块(server block)的选择。如果具体细节还可以参考”​&lt;a rel=&quot;nofollow&quot; href=&quot;http://nginx.org/en/docs/http/request_processing.html&quot;&gt;​How nginx processes a request“​&lt;/a&gt;​。&lt;/p&gt;&lt;h5 id=&quot;h7723ecd-4iBbn660&quot;&gt;使用精确名称&lt;/h5&gt;&lt;p&gt;使用精确匹配模式：匹配server_name的值为wiz.org或者www.wiz.biz 的值。&lt;/p&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server {&lt;br/&gt;    listen       80;&lt;br/&gt;    server_name  wiz.org  www.wiz.biz;&lt;br/&gt;    ...&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;h5 id=&quot;h7723ecd-FbRoR9SZ&quot;&gt;使用通配符&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;通配符名称可以在名称的开头和结尾包含星号，并且只能紧挨着点号(.)&lt;/strong&gt;。server_name “&lt;em&gt;.wiz.org” 不仅可以匹配 &lt;/em&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://wiz.wiz.org&quot;&gt;​&lt;em&gt;wiz.wiz.org&lt;/em&gt;​&lt;/a&gt;​&lt;em&gt; &lt;/em&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://xn--www-vs9dy1rf5an50zmpc.test.wiz.org&quot;&gt;&lt;em&gt;​还可以匹配www.test.wiz.org​&lt;/em&gt;&lt;/a&gt;​&lt;em&gt;. “.wiz.org”这种特殊的通配符名称可以用于匹配精确名称”&lt;/em&gt;​​&lt;a rel=&quot;nofollow&quot; href=&quot;http://wiz.org&quot;&gt;&lt;em&gt;​wiz.org​&lt;/em&gt;&lt;/a&gt;​​&lt;em&gt;”和通配符名称”&lt;/em&gt;.wiz.org”.&lt;/p&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server {&lt;br/&gt;    listen       80;&lt;br/&gt;    server_name  *.wiz.org;&lt;br/&gt;    ...&lt;br/&gt;}&lt;br/&gt;server {&lt;br/&gt;    listen       80;&lt;br/&gt;    server_name  wiz.*;&lt;br/&gt;    ...&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;上面主要就是通过 * 这个特殊符号进行匹配选择对应的server块，下面就是监听了80端口的两个server服务块，最后选择以.wiz.org结尾的server块，还是以wiz.* 为开始部分的host值，如果有两个都命中了，则会选择配置位置靠前的，目前就是优先会去选择*.wiz.org。&lt;/p&gt;&lt;h5 id=&quot;h7723ecd-iEL6TLHH&quot;&gt;使用正则表达式&lt;/h5&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;Nginx的正则表达式兼容于Perl编程语言(PCRE)。为了使用正则表达式， server_name必须以波浪号(~)开头&lt;/strong&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server {&lt;br/&gt;    listen       80;&lt;br/&gt;    server_name  ~^(?&amp;lt;www&amp;gt;.+)\.wiz\.biz$;&lt;br/&gt;    ...&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;注意：server_name  ~^(?.+)\.wiz\.biz&lt;p&gt;&lt;span&gt;&lt;img src=&quot;data:image/png;base64,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&quot; alt=&quot;&quot;/&gt;&lt;/span&gt;&lt;/p&gt;”锚点&lt;/strong&gt;。虽然语法上没要求，但是逻辑上需要他们。还要注意域名的点号要使用反斜杠做转义，包含字符”{“和”}”的正则表达式需要使用引号：&lt;/p&gt;&lt;/blockquote&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server_name  &quot;~^(?&amp;lt;name&amp;gt;\w\d{1,3}+)\.example\.net$&quot;;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;否则nginx会启动失败并显示错误信息：&lt;/p&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;directive &quot;server_name&quot; is not terminated by &quot;;&quot; in ...&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;h6 id=&quot;hd854a1c-immdYP9d&quot;&gt;被命名的正则表达式捕获器可以随后作为变量使用：&lt;/h6&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server {&lt;br/&gt;    server_name   ~^(www\.)?(?&amp;lt;domain&amp;gt;.+)$;&lt;br/&gt;    location / {&lt;br/&gt;        root   /sites/$domain;&lt;br/&gt;    }&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;上面的配置很容易理解，在root定向指令的时候，可以使用之前匹配到的domain对应的实际数据值，进行映射，形成动态映射的模式&lt;/strong&gt;&lt;/p&gt;&lt;h5 id=&quot;h7723ecd-BtQYXXXC&quot;&gt;匹配模式优先级选择&lt;/h5&gt;&lt;p&gt;当通过server_name搜索服务器时， 如果名字和多个指定的变量匹配， 例如同时匹配通配符和正则表达式，在下面的优先级次序中，第一个匹配的变量将被选择：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;精确名称&lt;/li&gt;&lt;li&gt;星号开头的最长的通配符名称, 例如 “*.wiz.biz”&lt;/li&gt;&lt;li&gt;星号结束的最长的通配符名称, 例如 “wiz.*”&lt;/li&gt;&lt;li&gt;第一个匹配的正则表达式(按照出现在配置文件中的顺序)&lt;/li&gt;&lt;/ul&gt;&lt;h3 id=&quot;h5&quot;&gt;index指令的作用&lt;/h3&gt;&lt;blockquote&gt;&lt;p&gt;index指令的作用和目的就是通过Nginx配置，设置网站的默认请求内容（页面）。&lt;/p&gt;&lt;/blockquote&gt;&lt;h4 id=&quot;h6&quot;&gt;index指令简介&lt;/h4&gt;&lt;p&gt;index指令后面可以跟多个内容，并且采用空格隔开；&lt;/p&gt;&lt;ul&gt;&lt;li&gt;如果包括多个请求内容，如果访问的时候没有指定具体访问的资源，则会依次进行查找，找到第一个为止；&lt;/li&gt;&lt;li&gt;文件可以是相对路径也可以是绝对路径，绝对路径需要放在最后；&lt;/li&gt;&lt;li&gt;文件可以使用变量$来命名；&lt;/li&gt;&lt;/ul&gt;&lt;h5 id=&quot;h7723ecd-e1u1gXoZ&quot;&gt;案例配置&lt;/h5&gt;&lt;div data-card-loading=&quot;true&quot; data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;location / {&lt;br/&gt;  root /usr/local/nginx/html;&lt;br/&gt;  index index.html index.htm;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;访问该location的时候，可以通过 ​​http://ip​​:port/，地址后面如果不添加任何内容，则默认依次访问/usr/local/nginx/html/index.html和/usr/local/nginx/html/index.htm，找到第一个来进行返回。&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;该指令拥有默认值，index index.html ，即，如果没有给出index，默认初始页为index.html&lt;/strong&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;hr/&gt;&lt;h4 id=&quot;h7&quot;&gt;总结实战案例&lt;/h4&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;创建服务名称为：&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://wiz.test.org&quot;&gt;​&lt;strong&gt;wiz.test.org&lt;/strong&gt;​&lt;/a&gt;​&lt;strong&gt;​，目标&lt;/strong&gt;​&lt;a rel=&quot;nofollow&quot; href=&quot;http://wiz.test.org&quot;&gt;&lt;strong&gt;​http://wiz.test.org​&lt;/strong&gt;&lt;/a&gt;​&lt;strong&gt; 和 http://*.test.net 应该都指向同一个虚拟主机&lt;/strong&gt;。&lt;/p&gt;&lt;/blockquote&gt;&lt;div data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;server {&lt;br/&gt;       listen 80;&lt;br/&gt;       server_name wiz.test.org *.test.net;&lt;br/&gt;       root /var/html/wiz;&lt;br/&gt;       index index.html;&lt;br/&gt;}&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;然后建立 /var/html/wiz目录，准备好站点的html文件。&lt;/p&gt;&lt;p&gt;配置完成之后，在重新转载前，先验证一下：&lt;/p&gt;&lt;div data-card-editable=&quot;false&quot; data-syntax=&quot;plain&quot;&gt;&lt;div class=&quot;&quot;&gt;&lt;div&gt;&lt;pre&gt;$ sudo nginx -t&lt;br/&gt;nginx: the configuration file /etc/nginx/nginx.conf syntax is ok&lt;br/&gt;nginx: configuration file /etc/nginx/nginx.conf test is successful&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;验证通过，再重新装载：&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;最后访问一下对应的nginx服务看看是否可以保证访问到对应的 /var/html/wiz/index.html呢？&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>0299fcac506b8b51d268eca80a3d72c6</guid>
<title>DDD 之业务系统搭建的设计思考</title>
<link>https://toutiao.io/k/783naw9</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;profile_inner&quot;&gt;
                  &lt;strong class=&quot;profile_nickname&quot;&gt;蚂蚁研发效能&lt;/strong&gt;
                  &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;/&gt;

                  &lt;p class=&quot;profile_meta&quot;&gt;
                  &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                  &lt;span class=&quot;profile_meta_value&quot;&gt;AntLinkE&lt;/span&gt;
                  &lt;/p&gt;

                  &lt;p class=&quot;profile_meta&quot;&gt;
                  &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                  &lt;span class=&quot;profile_meta_value&quot;&gt;蚂蚁集团研发效能部有业界领先的工程和学术造诣，致力于为蚂蚁和多家金融企业提供核电级的全生命周期研发产品。&lt;/span&gt;
                  &lt;/p&gt;
                &lt;/div&gt;
                &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>