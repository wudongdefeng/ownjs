<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>1c8e84c47e205a0d99975cb331a50f15</guid>
<title>èŠ±äº†ä¸€å‘¨ï¼Œæˆ‘æ€»ç»“äº†120ä¸ªæ•°æ®åˆ†ææŒ‡æ ‡ä¸æœ¯è¯­ã€‚</title>
<link>https://toutiao.io/k/9pzybmk</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzU4NjgzNzk4MQ==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/CWCpl8m0oQC18panFv8VgOcQGCz2HKrUBayxrxsYu5OH4OpSvEaqSFkmunggw6JIYWRoavAfypwxjh1pdfUzng/0?wx_fmt=png&quot; data-nickname=&quot;å¤§é±¼çš„æ•°æ®äººç”Ÿ&quot; data-alias=&quot;dayu_data&quot; data-signature=&quot;æˆ‘æ˜¯å¤§é±¼å…ˆç”Ÿï¼ŒCDOï¼Œè·Ÿä½ åˆ†äº«æœ‰å…³æ•°æ®çš„ä¸€åˆ‡ï¼&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°äº”ã€‚&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ•°æ®åˆ†ææ€»æ˜¯ç¦»ä¸å¼€å„ç§æŒ‡æ ‡å’Œæœ¯è¯­ï¼Œæœ€è¿‘æˆ‘èŠ±äº†ä¸€å‘¨æ•´ç†äº†å…±120ä¸ªæ•°æ®åˆ†ææŒ‡æ ‡ä¸æœ¯è¯­ï¼š&lt;/span&gt;&lt;span&gt;ç”¨æˆ·æ•°æ®æŒ‡æ ‡ã€è¡Œä¸ºæ•°æ®æŒ‡æ ‡ã€ä¸šåŠ¡æ•°æ®æŒ‡æ ‡ã€æ•°æ®åˆ†ææœ¯è¯­ã€ç»Ÿè®¡å­¦å¸¸ç”¨è¯­ã€æ•°æ®æŠ¥å‘Šå¸¸ç”¨æœ¯è¯­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4479495268138801&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8e69iadGbxGPPj5oiaQ7Z9rdO1eZtkKdxzMrcOTGFecxbZ3TdfCEDZzkQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;634&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ–‡ç« è¾ƒé•¿ï¼Œå»ºè®®å¤§å®¶å…ˆç‚¹å‡»æœ¬æ–‡å³ä¸Šè§’æ”¶è—ä¿å­˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ç”¨æˆ·æ•°æ®æŒ‡æ ‡&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;IPã€UVã€PVã€VV&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;IPï¼ˆInternet Protocolï¼‰ï¼šç‹¬ç«‹IPæ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;UVï¼ˆUnique Visitorï¼‰ï¼šç‹¬ç«‹è®¿é—®å®¢æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;PVï¼ˆPage Viewï¼‰ï¼šé¡µé¢æµè§ˆé‡/é˜…è¯»é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;VVï¼ˆVisit Viewï¼‰ï¼šè®¿é—®æ¬¡æ•°ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;&lt;span&gt;æ³¨&lt;/span&gt;&lt;span&gt;ï¼š&lt;/span&gt;&lt;span&gt;åœ¨å¯¹è§†é¢‘äº§å“çš„æ•°æ®åˆ†æä¸­ï¼ŒVV(Video View)æ˜¯æ’­æ”¾ç±»æŒ‡æ ‡ï¼Œæ˜¯æŒ‡åœ¨ä¸€ä¸ªç»Ÿè®¡å‘¨æœŸå†…ï¼Œè§†é¢‘è¢«æ‰“å¼€çš„æ¬¡æ•°ä¹‹å’Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;DAU&lt;/strong&gt;(Daily Active User)ï¼šæ—¥æ´»è·ƒç”¨æˆ·æ•°&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;MAU&lt;/strong&gt;(Monthly Active users)ï¼šæœˆæ´»è·ƒç”¨æˆ·æ•°&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24971493728620298&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8rKMrBWuIJv9EZeR5ZaaUjrItKiaKu8KoicskGyxzJLxPVRh8TLibpHhJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;877&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;DNU&lt;/strong&gt;(Day New User)ï¼šæ—¥æ–°å¢ç”¨æˆ·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ´»è·ƒç•™å­˜ç‡&lt;/strong&gt;ï¼šæŒ‡æŸæ—¥æ–°å¢ç”¨æˆ·åœ¨å…¶åNæ—¥ä»å¯åŠ¨è¯¥APPçš„ç”¨æˆ·æ•°ï¼Œå æ‰€é€‰æ—¥æœŸæ–°å¢ç”¨æˆ·æ•°çš„æ¯”ä¾‹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.517274472168906&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8rgcFkBkVmzNZmWd6qsp8eFeicT9llTPpYtNun3ZlC7rTiawlZbmGeO1g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1042&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;TGI&lt;/strong&gt;&lt;span&gt;ï¼ˆTarget Group Index)ï¼š&lt;/span&gt;&lt;span&gt;ç›®æ ‡ç¾¤ä½“æŒ‡æ•°ã€‚&lt;/span&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3926470588235294&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8xGAhxUNico9ZpgIjUSHFqCePFsZxKnGPgAAYl0ib3H5ibcbFicPD39AMcQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;680&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;TGIæŒ‡æ•°é«˜äº100ï¼Œä»£è¡¨è¯¥ç±»ç”¨æˆ·è¯¥ç‰¹å¾æ¯”ä¾‹é«˜äºæ•´ä½“æ°´å¹³ï¼Œå³å…·æœ‰æ›´é«˜çš„ç›¸å…³å€¾å‘æˆ–åå¥½ï¼›å°äº100ï¼Œåˆ™è¯´æ˜è¯¥ç±»ç”¨æˆ·ç›¸å…³å€¾å‘è¾ƒå¼±ï¼›ç­‰äº100è¡¨ç¤ºåœ¨å¹³å‡æ°´å¹³ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;TGIæŒ‡æ•°å¸¸ç”¨äºç”¨æˆ·ç”»åƒçš„è¯„åˆ¤ä¸­ï¼Œå®ƒå¯ä»¥æ¸…æ™°åœ°åæ˜ ä¸åŒç¾¤ä½“æŸä¸€ç‰¹å¾çš„å…³è”ç¨‹åº¦ï¼Œå¹¶è¿›è¡Œç›´è§‚çš„æ¯”è¾ƒï¼ŒæŒ–æ˜æ›´å¤šæ½œåœ¨çš„ç”¨æˆ·ä»·å€¼ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4782608695652174&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8tfmuicrvDTZNGk2ibX6MF5E7JicDiaicIeiaJpe8vbhNdfqfyXI8NdV2zajQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;667&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;è¡Œä¸ºæ•°æ®æŒ‡æ ‡&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰æˆ‘æ›¾ç»æ€»ç»“è¿‡&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzU5Nzg5ODQ3NQ==&amp;amp;mid=2247519961&amp;amp;idx=2&amp;amp;sn=1ae01914226203c3354b99f728d8c208&amp;amp;chksm=fe4eab5dc939224b1f07849b125aa8625be0c23682edff27c1a070a85236f79f680b484d6b3e&amp;amp;token=170624943&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;ç”¨æˆ·è¡Œä¸ºåˆ†æçš„5ç±»æŒ‡æ ‡&lt;/a&gt;ï¼Œè¿™é‡Œçš„è¡Œä¸ºæ•°æ®æŒ‡æ ‡ä¾¿ç›´æ¥å¼•ç”¨å‰æ–‡&lt;sup&gt;[1]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨æˆ·è®¿é—®ç±»çš„æŒ‡æ ‡æœ‰13ä¸ªï¼š&lt;strong&gt;PVã€UVã€DVã€æ—¥æ–°å¢ç”¨æˆ·æ•°ã€è·å®¢æˆæœ¬ã€ç”¨æˆ·è®¿é—®æ—¶é•¿ã€äººå‡é¡µé¢è®¿é—®é‡ã€äººå‡æµè§ˆé¡µæ•°ã€å¹³å‡è®¿é—®é¡µé¢ã€è®¿é—®æ¥æºã€å¹³å‡åœç•™æ—¶é—´ã€è·³å‡ºç‡ã€æœç´¢è®¿é—®æ¬¡æ•°å æ¯”&lt;/strong&gt;ã€‚ï¼ˆå…¶ä¸­PVã€UVã€æ—¥æ–°å¢ç”¨æˆ·æ•°å‰æ–‡å·²ä»‹ç»ï¼Œå…¶ä½™æŒ‡æ ‡å…·ä½“å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ï¼‰&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6563829787234042&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8A1t1MZFUvQS9Ocu0Xvck6udY3IlQwMeeeKoXrzNdCe6J44EmcBECibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;940&quot;/&gt;&lt;figcaption&gt;â–³ç‚¹å‡»æŸ¥çœ‹å¤§å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨æˆ·è½¬åŒ–ç±»æŒ‡æ ‡å…±æœ‰15ä¸ªï¼š&lt;strong&gt;æœ€è¿‘è´­ä¹°é—´éš”ã€è´­ä¹°é¢‘ç‡ã€è´­ä¹°å•†å“ç§ç±»ã€å¹³å‡æ¯æ¬¡æ¶ˆè´¹é¢ã€å•æ¬¡æœ€é«˜æ¶ˆè´¹é¢ã€æ—¥åº”ç”¨ä¸‹è½½é‡ã€ä¸€æ¬¡ä¼šè¯ç”¨æˆ·æ•°ã€ç”¨æˆ·ä¼šè¯æ¬¡æ•°ã€æ¼æ–—è½¬åŒ–â€”ç¬¬ä¸€æ­¥è¿›å…¥æ¬¡æ•°ã€æ¼æ–—è½¬åŒ–â€”ä¸­é—´æ­¥è¿›å…¥æ¬¡æ•°ï¼ˆæ¼æ–—ä¸­ï¼‰ã€è¿›æ¼æ–—è½¬åŒ–â€”è¿›å…¥ç‡ï¼ˆæ¼æ–—ä¸­ï¼‰ã€æ¼æ–—è½¬åŒ–â€”è¿›å…¥æ¬¡æ•°ï¼ˆæ¼æ–—ä¸­ï¼‰ã€æ¼æ–—è½¬åŒ–â€”è¿›å…¥ç‡ï¼ˆæ¼æ–—ä¸­ï¼‰ã€æ¼æ–—è½¬åŒ–â€”é€€å‡ºæ¬¡æ•°ã€æ¼æ–—è½¬åŒ–â€”é€€å‡ºç‡&lt;/strong&gt;ï¼Œè¿™äº›æŒ‡æ ‡å…·ä½“å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8311258278145696&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8WFOIUsvjbyRweZjqvib12uIVA20ia3L2VHjv5Z75SsxxNic9INBS0QDgg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;906&quot;/&gt;&lt;figcaption&gt;â–³ç‚¹å‡»æŸ¥çœ‹å¤§å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨æˆ·ç•™å­˜ç±»æŒ‡æ ‡å…±æœ‰15ä¸ªï¼š&lt;strong&gt;ç”¨æˆ·ç•™å­˜ç‡ã€æ¸ é“ç•™å­˜ç‡ã€æ¬¡æ—¥ç•™å­˜ç‡ã€é€€å‡ºç‡ã€æ´»è·ƒåº¦ã€æ´»åŠ¨å‚ä¸ç‡ã€æ´»è·ƒäº¤æ˜“ç”¨æˆ·æ•°ã€DAUã€MAUã€ç”¨æˆ·å›è®¿ç‡ã€ç”¨æˆ·æµå¤±ç‡ã€åŠŸèƒ½ä½¿ç”¨ç‡ã€GMVã€å¤è´­ç‡ã€é€€è´§ç‡&lt;/strong&gt;ï¼Œè¿™äº›æŒ‡æ ‡å…·ä½“å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.125984251968504&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8jw2bVxoAODf18KUzCWTffhK3OGiaibZs96P9f3VK2d7OfzGOYyEhV3lA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;762&quot;/&gt;&lt;figcaption&gt;â–³ç‚¹å‡»æŸ¥çœ‹å¤§å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨æˆ·ç¤¾äº¤ç±»æŒ‡æ ‡å…±æœ‰8ä¸ªï¼š&lt;strong&gt;å¥½å‹æ•°é‡ã€å¸–å­æ•°é‡ã€çœ‹å¸–æ•°é‡ã€å›å¤æ•°é‡ã€åˆ†äº«æ•°é‡ã€ç‚¹èµæ•°é‡ã€è½¬å‘æ•°é‡ã€è¯„è®ºæ•°é‡&lt;/strong&gt;ï¼Œè¿™äº›æŒ‡æ ‡å…·ä½“å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.364551863041289&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8da2T6ho9lnnKeYraC8aQLBtCV3CA0tFsz2jr8GJTQKouNfGnicNCNeQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;993&quot;/&gt;&lt;figcaption&gt;â–³ç‚¹å‡»æŸ¥çœ‹å¤§å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸šåŠ¡æ•°æ®æŒ‡æ ‡&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äº’è”ç½‘çº¿ä¸Šæ¨å¹¿æ¸ é“æ€»ä½“ä¸Šå¯ä»¥åˆ†ä¸º5ç§ç±»å‹ï¼šåŸç”Ÿå¹¿å‘Šç±»ç¤¾äº¤åª’ä½“ã€æ™®é€šç¤¾äº¤åª’ä½“ã€æœç´¢å¼•æ“ã€è½¯ä»¶å•†åº—å’Œæ¢é‡è”ç›Ÿã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¸ é“æŠ•æ”¾ç›¸å…³çš„æ•°æ®æŒ‡æ ‡æœ‰ï¼š&lt;strong&gt;æ›å…‰é‡ã€CPMã€CPCã€CPAå’ŒROI&lt;/strong&gt;ï¼Œè¿™5ä¸ªæŒ‡æ ‡çš„å…·ä½“å«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.24190213645761544&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8BYRWqpYiaLNKCNr7gv8IXBOYkLPABYicEQOqhWdkCIheYrfPsfzcgmibg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1451&quot;/&gt;&lt;figcaption&gt;â–³ç‚¹å‡»æŸ¥çœ‹å¤§å›¾&lt;/figcaption&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œè¿˜æœ‰æŒ‡æ ‡&lt;strong&gt;ARPU&lt;/strong&gt;ä¸&lt;strong&gt;ARRPU&lt;/strong&gt;ï¼Œè¿™äºŒè€…åˆ†åˆ«çš„å«ä¹‰ä¸ºï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ARPUï¼ˆAverage Revenue Per Userï¼‰ï¼šæ¯ç”¨æˆ·å¹³å‡æ”¶å…¥ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ARRPUï¼ˆAverage Revenue Per Paying Userï¼‰ï¼šæ¯ä»˜è´¹ç”¨æˆ·å¹³å‡æ”¶ç›Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ€åï¼Œå…³äºå¹¿å‘Šæ¸ é“æŠ•æ”¾çš„å¸¸è§CPMã€CPCã€CPAç­‰æŒ‡æ ‡ï¼Œè¿˜åŒ…æ‹¬ä»¥ä¸‹6ä¸ªæŒ‡æ ‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;CTR&lt;/strong&gt;ï¼ˆclick through rateï¼‰ï¼šç‚¹å‡»ç‡ï¼Œæ˜¯è¡¡é‡å¹¿å‘Šæ•ˆæœéå¸¸é‡è¦çš„ä¸€ä¸ªæŒ‡æ ‡ï¼šå†…å®¹è¢«ç‚¹å‡»çš„æ¬¡æ•°/å†…å®¹å±•ç°çš„æ¬¡æ•°ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.35714285714285715&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8Xsic3kg9UiaDHJoBDlWX56MSyyt1zEM8bagdgjckcUuXHZTwhFNqaaeQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;756&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;CVR&lt;/strong&gt;(Click Value Rate)ï¼šè½¬åŒ–ç‡ã€è¡¡é‡CPAå¹¿å‘Šæ•ˆæœçš„æŒ‡æ ‡ã€‘&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;CAC&lt;/strong&gt;(Customer Acquisition Cost)ï¼šè·å®¢æˆæœ¬ã€è·å–ä¸€ä¸ªå®¢æˆ·æ‰€èŠ±è´¹çš„æˆæœ¬ã€‘&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;CPR&lt;/strong&gt;(Cost Per Response)ï¼šæ¯å›åº”æˆæœ¬ã€ä»¥æµè§ˆè€…çš„æ¯ä¸€ä¸ªå›åº”è®¡è´¹ã€‘&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ADPV&lt;/strong&gt;(Advertisement Page View)ï¼šè½½æœ‰å¹¿å‘Šçš„pa-geviewæµé‡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ADimp&lt;/strong&gt;(ADimpression)ï¼šå•ä¸ªå¹¿å‘Šçš„å±•ç¤ºæ¬¡æ•°&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ•°æ®åˆ†ææœ¯è¯­&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç”¨æˆ·ç”»åƒ&lt;/strong&gt;ç®€å•æ¥è¯´ï¼Œç”¨æˆ·ç”»åƒæ˜¯æ ¹æ®ç”¨æˆ·çš„ç¤¾ä¼šå±æ€§ã€ç”Ÿæ´»ä¹ æƒ¯ã€æ¶ˆè´¹è¡Œä¸ºç­‰ä¿¡æ¯è€ŒæŠ½è±¡å¾—å‡ºçš„ä¸€ä¸ªæ ‡ç­¾åŒ–ç”¨æˆ·æ¨¡å‹ã€‚å‹¾ç”»ç”¨æˆ·ç”»åƒçš„æ ¸å¿ƒåœ¨äºç»™ç”¨æˆ·è´´â€œæ ‡ç­¾â€ã€‚ï¼ˆæ¶‰åŠçš„å…ƒç´ æ¯”å¦‚ç”¨æˆ·çš„å§“åã€å¹´é¾„ã€æ”¶å…¥ã€å–œå¥½ã€è´­ç‰©ä¹ æƒ¯ç­‰ç­‰ï¼‰&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.708&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/tXYict40xfLiabFY74YEysG3BDzgoUCGib8j8czNPftcvuxmc5UTaQicpjc0eYjXmpR8J04zxfttc2licwicgqu6xXnQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;500&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æµ·ç›—æ¨¡å‹ï¼ˆAARRRï¼‰&lt;/strong&gt;è·å–ç”¨æˆ·ï¼ˆAcquisitionï¼‰ã€æé«˜æ´»è·ƒåº¦ï¼ˆActivationï¼‰ã€æé«˜ç•™å­˜ç‡ï¼ˆRetentionï¼‰ã€è·å–æ”¶å…¥ï¼ˆReve-nue)ã€è‡ªä¼ æ’­ï¼ˆRefer)ï¼Œè¿™ä¸ªäº”ä¸ªå•è¯çš„ç¼©å†™ï¼Œåˆ†åˆ«å¯¹åº”ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä¸­çš„5ä¸ªé‡è¦ç¯èŠ‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;RARRAæ¨¡å‹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;AARRRæ¨¡å‹çš„æ ¸å¿ƒåœ¨äºè·å®¢ï¼Œè€Œåœ¨RARRAçš„æ¨¡å‹ä¸‹ï¼Œä¸“æ³¨ç”¨æˆ·çš„ç•™å­˜ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zHbzQPKIBPiahB3GYGNicej7hwxZo5MZUBp0rvkRpFzdibHyxbp6gImhEXbH4xJMAthMzU5VD8Q0KsmPHd61mlJTw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-ratio=&quot;1&quot; data-w=&quot;140&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;OSMæ¨¡å‹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;OSMæ¨¡å‹ï¼ˆObject-Strategy-Measureï¼‰å°±æ˜¯æŠŠå®å¤§çš„ç›®æ ‡æ‹†è§£ï¼Œ[å¯¹åº”åˆ°éƒ¨é—¨å†…å„ä¸ªå°ç»„å…·ä½“çš„ã€å¯è½åœ°ã€å¯åº¦é‡çš„è¡Œä¸ºä¸Šï¼Œä»ä¿è¯æ‰§è¡Œè®¡åˆ’æ²¡æœ‰åç¦»å¤§æ–¹å‘](http://www.woshipm.com/pd/4356866.html ã€ŠOSMæ¨¡å‹ï¼Œæœ€æ¥åœ°æ°”çš„ä¸šåŠ¡åˆ†ææ¡†æ¶ã€‹)ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;UJMæ¨¡å‹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;UJMæ¨¡å‹ï¼ˆUser Journey Mapï¼Œç”¨æˆ·æ—…ç¨‹åœ°å›¾ï¼‰å°±æ˜¯æˆ‘ä»¬åœ¨è®¾è®¡ä¸€æ¬¾äº§å“çš„è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»è¦å»æ¢³ç†çš„ç”¨æˆ·ç”Ÿå‘½æ—…ç¨‹ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.502&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/tXYict40xfLiabFY74YEysG3BDzgoUCGib8aIZPqe1PnUrXjbkg75ibAQSv76ELy1ZRMKn5eMn5UXwoNY2ZUbU3zWw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1000&quot;/&gt;&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;RFM&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ ¹æ®å®¢æˆ·çš„äº¤æ˜“é¢‘æ¬¡å’Œäº¤æ˜“é¢è¡¡é‡å®¢æˆ·çš„ä»·å€¼ï¼Œå¯¹å®¢æˆ·è¿›è¡Œç»†åˆ†ã€‚RFMæ˜¯è¡¡é‡å®¢æˆ·ä»·å€¼çš„ä¸‰ä¸ªç»´åº¦ï¼Œåˆ†åˆ«ä¸ºRï¼ˆRecencyï¼‰äº¤æ˜“é—´éš”ã€Fï¼ˆFrequencyï¼‰äº¤æ˜“é¢‘åº¦ã€Mï¼ˆMonetaryï¼‰äº¤æ˜“é‡‘é¢ç»„æˆã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ABTest&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ABæµ‹è¯•æ˜¯ä¸ºAPPæˆ–Webçš„ç•Œé¢/æµç¨‹åˆ¶ä½œä¸¤ä¸ªï¼ˆA/Bï¼‰æˆ–å¤šä¸ªï¼ˆA/B/nï¼‰ç‰ˆæœ¬ï¼Œåœ¨åŒä¸€æ—¶é—´ç»´åº¦ä¸­ï¼Œåˆ†åˆ«è®©ç»„æˆæˆåˆ†ç›¸åŒ/ç›¸ä¼¼çš„è®¿å®¢ç¾¤ç»„ï¼ˆç›®æ ‡äººç¾¤ï¼‰éšæœºçš„è®¿é—®è¿™äº›ç‰ˆæœ¬ï¼Œæ”¶é›†å„ç¾¤ç»„çš„ç”¨æˆ·ä½“éªŒæ•°æ®å’Œä¸šåŠ¡æ•°æ®ï¼Œæœ€ååˆ†æã€è¯„ä¼°å‡ºæœ€ä¼˜ç‰ˆæœ¬ï¼Œæ­£å¼é‡‡ç”¨ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.330550918196995&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8jzgysHvra0McTI6UdjVnk80xltJuWg81MpibvesW4aJiaFn91gSwHOpA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1198&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ•°æ®åŸ‹ç‚¹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•°æ®åŸ‹ç‚¹æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®é‡‡é›†æ–¹æ³•ï¼Œæ˜¯æ•°æ®äº§å“ç»ç†ã€æ•°æ®è¿è¥ä»¥åŠæ•°æ®åˆ†æå¸ˆï¼ŒåŸºäºä¸šåŠ¡éœ€æ±‚æˆ–äº§å“éœ€æ±‚å¯¹ç”¨æˆ·åœ¨åº”ç”¨å†…äº§ç”Ÿè¡Œä¸ºçš„æ¯ä¸€ä¸ªäº‹ä»¶å¯¹åº”çš„é¡µé¢å’Œä½ç½®æ¤å…¥ç›¸å…³ä»£ç ï¼Œå¹¶é€šè¿‡é‡‡é›†å·¥å…·ä¸ŠæŠ¥ç»Ÿè®¡æ•°æ®ï¼Œä»¥ä¾¿ç›¸å…³äººå‘˜è¿½è¸ªç”¨æˆ·è¡Œä¸ºå’Œåº”ç”¨ä½¿ç”¨æƒ…å†µï¼Œæ¨åŠ¨äº§å“ä¼˜åŒ–æˆ–æŒ‡å¯¼è¿è¥çš„ä¸€é¡¹å·¥ç¨‹&lt;sup&gt;[2]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;LTVï¼ˆlife time valueï¼‰ä¹Ÿå°±æ˜¯ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼Œæ˜¯äº§å“ä»ç”¨æˆ·è·å–åˆ°æµå¤±æ‰€å¾—åˆ°çš„å…¨éƒ¨æ”¶ç›Šçš„æ€»å’Œã€‚LTVç”¨äºè¡¡é‡ç”¨æˆ·å¯¹äº§å“æ‰€äº§ç”Ÿçš„ä»·å€¼ï¼Œæ˜¯æ‰€æœ‰ç”¨æˆ·è¿è¥æ‰‹æ®µä¸ºäº†æ”¹å–„çš„ç»ˆææŒ‡æ ‡ï¼ŒåŒæ—¶LTVä¹Ÿåº”è¯¥æ˜¯æ‰€æœ‰è¿è¥æ‰‹æ®µçš„æœ€ç»ˆè¡¡é‡æŒ‡æ ‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å½’å› åˆ†æ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨æ•°æ®æ—¶ä»£ï¼Œå¹¿å‘Šçš„æŠ•æ”¾æ•ˆæœè¯„ä¼°å¾€å¾€ä¼šäº§ç”Ÿå¾ˆå¤šçš„é—®é¢˜ã€‚è€Œå½’å› åˆ†æï¼ˆAttribution Analysisï¼‰è¦è§£å†³çš„é—®é¢˜å°±æ˜¯å¹¿å‘Šæ•ˆæœçš„äº§ç”Ÿï¼Œå…¶åŠŸåŠ³åº”è¯¥å¦‚ä½•åˆç†çš„åˆ†é…ç»™å“ªäº›æ¸ é“&lt;sup&gt;[3]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5467741935483871&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8m4YL9syicaVpHDf9L6r2wNNaGuczwOUnh12EU2QvicYZxflaGK5XtZOw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1240&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ç»Ÿè®¡å­¦å¸¸ç”¨è¯­&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç»å¯¹æ•°å’Œç›¸å¯¹æ•°&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»å¯¹æ•°ï¼šæ˜¯ååº”å®¢è§‚ç°è±¡æ€»ä½“åœ¨ä¸€å®šæ—¶é—´ã€ä¸€å®šåœ°ç‚¹ä¸‹çš„æ€»è§„æ¨¡ã€æ€»æ°´å¹³çš„ç»¼åˆæ€§æŒ‡æ ‡ï¼Œä¹Ÿæ˜¯æ•°æ®åˆ†æä¸­å¸¸ç”¨çš„æŒ‡æ ‡ã€‚æ¯”å¦‚å¹´GDPï¼Œæ€»äººå£ç­‰ç­‰&lt;sup&gt;[4]&lt;/sup&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸å¯¹æ•°ï¼šæ˜¯æŒ‡ä¸¤ä¸ªæœ‰è”ç³»çš„æŒ‡æ ‡è®¡ç®—è€Œå¾—å‡ºçš„æ•°å€¼ï¼Œå®ƒæ˜¯ååº”å®¢è§‚ç°è±¡ä¹‹é—´çš„æ•°é‡è”ç³»ç´§å¯†ç¨‹åº¦çš„ç»¼åˆæŒ‡æ ‡ã€‚ç›¸å¯¹æ•°ä¸€èˆ¬ä»¥å€æ•°ã€ç™¾åˆ†æ•°ç­‰è¡¨ç¤ºã€‚ç›¸å¯¹æ•°çš„è®¡ç®—å…¬å¼ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸å¯¹æ•°=æ¯”è¾ƒå€¼ï¼ˆæ¯”æ•°ï¼‰/åŸºç¡€å€¼ï¼ˆåŸºæ•°ï¼‰&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç™¾åˆ†æ¯”å’Œç™¾åˆ†ç‚¹&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç™¾åˆ†æ¯”ï¼šæ˜¯ç›¸å¯¹æ•°ä¸­çš„ä¸€ç§ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæ•°æ˜¯å¦ä¸€ä¸ªæ•°çš„ç™¾åˆ†ä¹‹å‡ ï¼Œä¹Ÿç§°ä¸ºç™¾åˆ†ç‡æˆ–ç™¾åˆ†æ•°ã€‚ç™¾åˆ†æ¯”çš„åˆ†æ¯æ˜¯100ï¼Œä¹Ÿå°±æ˜¯ç”¨1%ä½œä¸ºåº¦é‡å•ä½ï¼Œå› æ­¤ä¾¿äºæ¯”è¾ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç™¾åˆ†ç‚¹ï¼šæ˜¯æŒ‡ä¸åŒæ—¶æœŸä»¥ç™¾åˆ†æ•°çš„å½¢å¼è¡¨ç¤ºçš„ç›¸å¯¹æŒ‡æ ‡çš„å˜åŠ¨å¹…åº¦ï¼Œ1%ç­‰äº1ä¸ªç™¾åˆ†ç‚¹ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.42213883677298314&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8k76libjybODVsFpMCOQ5mTHicUXTJABZBkW1iaibpFDWiaV1yASz25bLPbw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;533&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;é¢‘æ•°å’Œé¢‘ç‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¢‘æ•°ï¼šä¸€ä¸ªæ•°æ®åœ¨æ•´ä½“ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¢‘ç‡ï¼šæŸä¸€äº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°ä¸æ€»çš„äº‹ä»¶æ•°ä¹‹æ¯”ã€‚é¢‘ç‡é€šå¸¸ç”¨æ¯”ä¾‹æˆ–ç™¾åˆ†æ•°è¡¨ç¤ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ¯”ä¾‹ä¸æ¯”ç‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”ä¾‹ï¼šæ˜¯æŒ‡åœ¨æ€»ä½“ä¸­å„æ•°æ®å æ€»ä½“çš„æ¯”é‡ï¼Œé€šå¸¸åæ˜ æ€»ä½“çš„æ„æˆå’Œæ¯”ä¾‹ï¼Œå³éƒ¨åˆ†ä¸æ•´ä½“ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¯”ç‡ï¼šæ˜¯æ ·æœ¬(æˆ–æ€»ä½“)ä¸­å„ä¸åŒç±»åˆ«æ•°æ®ä¹‹é—´çš„æ¯”å€¼ï¼Œç”±äºæ¯”ç‡ä¸æ˜¯éƒ¨åˆ†ä¸æ•´ä½“ä¹‹é—´çš„å¯¹æ¯”å…³ç³»ï¼Œå› è€Œæ¯”å€¼å¯èƒ½å¤§äº1ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å˜é‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å˜é‡æ¥æºäºæ•°å­¦ï¼Œæ˜¯è®¡ç®—æœºè¯­è¨€ä¸­èƒ½å‚¨å­˜è®¡ç®—ç»“æœæˆ–èƒ½è¡¨ç¤ºå€¼æŠ½è±¡æ¦‚å¿µã€‚å˜é‡å¯ä»¥é€šè¿‡å˜é‡åè®¿é—®ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;è¿ç»­å˜é‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ç»Ÿè®¡å­¦ä¸­ï¼Œå˜é‡æŒ‰å˜é‡å€¼æ˜¯å¦è¿ç»­å¯åˆ†ä¸ºè¿ç»­å˜é‡ä¸ç¦»æ•£å˜é‡ä¸¤ç§ã€‚åœ¨ä¸€å®šåŒºé—´å†…å¯ä»¥ä»»æ„å–å€¼çš„å˜é‡å«è¿ç»­å˜é‡ï¼Œå…¶æ•°å€¼æ˜¯è¿ç»­ä¸æ–­çš„ï¼Œç›¸é‚»ä¸¤ä¸ªæ•°å€¼å¯ä½œæ— é™åˆ†å‰²ï¼Œå³å¯å–æ— é™ä¸ªæ•°å€¼ã€‚å¦‚:å¹´é¾„ã€ä½“é‡ç­‰å˜é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¦»æ•£å˜é‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¦»æ•£å˜é‡çš„å„å˜é‡å€¼ä¹‹é—´éƒ½æ˜¯ä»¥æ•´æ•°æ–­å¼€çš„ï¼Œå¦‚äººæ•°ã€å·¥å‚æ•°ã€æœºå™¨å°æ•°ç­‰ï¼Œéƒ½åªèƒ½æŒ‰æ•´æ•°è®¡ç®—ã€‚ç¦»æ•£å˜é‡çš„æ•°å€¼åªèƒ½ç”¨è®¡æ•°çš„æ–¹æ³•å–å¾—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å®šæ€§å˜é‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆååˆ†ç±»å˜é‡ï¼šè§‚æµ‹çš„ä¸ªä½“åªèƒ½å½’å±äºå‡ ç§äº’ä¸ç›¸å®¹ç±»åˆ«ä¸­çš„ä¸€ç§æ—¶ï¼Œä¸€èˆ¬æ˜¯ç”¨éæ•°å­—æ¥è¡¨è¾¾å…¶ç±»åˆ«ï¼Œè¿™æ ·çš„è§‚æµ‹æ•°æ®ç§°ä¸ºå®šæ€§å˜é‡ã€‚å¯ä»¥ç†è§£æˆå¯ä»¥åˆ†ç±»åˆ«çš„å˜é‡ï¼Œå¦‚å­¦å†ã€æ€§åˆ«ã€å©šå¦ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å‡å€¼&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å³å¹³å‡å€¼ï¼Œå¹³å‡æ•°æ˜¯è¡¨ç¤ºä¸€ç»„æ•°æ®é›†ä¸­è¶‹åŠ¿çš„é‡æ•°ï¼Œæ˜¯æŒ‡åœ¨ä¸€ç»„æ•°æ®ä¸­æ‰€æœ‰æ•°æ®ä¹‹å’Œå†é™¤ä»¥è¿™ç»„æ•°æ®çš„ä¸ªæ•°ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4649122807017544&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8iaoytCKiaEkrOxDKOuOH02kLDq2UABE47PzRBB4cQzNVO2gfMpPNjiaZw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;684&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ä¸­ä½æ•°&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºæœ‰é™çš„æ•°é›†ï¼Œå¯ä»¥é€šè¿‡æŠŠæ‰€æœ‰è§‚å¯Ÿå€¼é«˜ä½æ’åºåæ‰¾å‡ºæ­£ä¸­é—´çš„ä¸€ä¸ªä½œä¸ºä¸­ä½æ•°ã€‚å¦‚æœè§‚å¯Ÿå€¼æœ‰å¶æ•°ä¸ªï¼Œé€šå¸¸å–æœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°å€¼çš„å¹³å‡æ•°ä½œä¸ºä¸­ä½æ•°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;ç¼ºå¤±å€¼&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒæŒ‡çš„æ˜¯ç°æœ‰æ•°æ®é›†ä¸­æŸä¸ªæˆ–æŸäº›å±æ€§çš„å€¼æ˜¯ä¸å®Œå…¨çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¼‚å¸¸å€¼&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æŒ‡ä¸€ç»„æµ‹å®šå€¼ä¸­ä¸å¹³å‡å€¼çš„åå·®è¶…è¿‡ä¸¤å€æ ‡å‡†å·®çš„æµ‹å®šå€¼ï¼Œä¸å¹³å‡å€¼çš„åå·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®çš„æµ‹å®šå€¼ï¼Œç§°ä¸ºé«˜åº¦å¼‚å¸¸çš„å¼‚å¸¸å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ–¹å·®&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ˜¯è¡¡é‡éšæœºå˜é‡æˆ–ä¸€ç»„æ•°æ®æ—¶ç¦»æ•£ç¨‹åº¦çš„åº¦é‡ã€‚æ¦‚ç‡è®ºä¸­æ–¹å·®ç”¨æ¥åº¦é‡éšæœºå˜é‡å’Œå…¶æ•°å­¦æœŸæœ›ï¼ˆå³å‡å€¼ï¼‰ä¹‹é—´çš„åç¦»ç¨‹åº¦ã€‚ç»Ÿè®¡ä¸­çš„æ–¹å·®ï¼ˆæ ·æœ¬æ–¹å·®ï¼‰æ˜¯æ¯ä¸ªæ ·æœ¬å€¼ä¸å…¨ä½“æ ·æœ¬å€¼çš„å¹³å‡æ•°ä¹‹å·®çš„å¹³æ–¹å€¼çš„å¹³å‡æ•°ã€‚åœ¨è®¸å¤šå®é™…é—®é¢˜ä¸­ï¼Œç ”ç©¶æ–¹å·®å³åç¦»ç¨‹åº¦æœ‰ç€é‡è¦æ„ä¹‰ã€‚æ–¹å·®æ˜¯è¡¡é‡æºæ•°æ®å’ŒæœŸæœ›å€¼ç›¸å·®çš„åº¦é‡å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æ ‡å‡†å·®&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åˆå¸¸ç§°å‡æ–¹å·®ï¼Œæ˜¯ç¦»å‡å·®å¹³æ–¹çš„ç®—æœ¯å¹³å‡æ•°çš„å¹³æ–¹æ ¹ï¼Œç”¨Ïƒè¡¨ç¤ºã€‚æ ‡å‡†å·®æ˜¯æ–¹å·®çš„ç®—æœ¯å¹³æ–¹æ ¹ã€‚æ ‡å‡†å·®èƒ½åæ˜ ä¸€ä¸ªæ•°æ®é›†çš„ç¦»æ•£ç¨‹åº¦ã€‚å¹³å‡æ•°ç›¸åŒçš„ä¸¤ç»„æ•°æ®ï¼Œæ ‡å‡†å·®æœªå¿…ç›¸åŒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;çš®å°”æ£®ç›¸å…³ç³»æ•°&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çš®å°”æ£®ç›¸å…³ç³»æ•°æ˜¯ç”¨æ¥åæ˜ ä¸¤ä¸ªå˜é‡çº¿æ€§ç›¸å…³ç¨‹åº¦çš„ç»Ÿè®¡é‡ã€‚ç›¸å…³ç³»æ•°ç”¨rè¡¨ç¤ºï¼Œå…¶ä¸­nä¸ºæ ·æœ¬é‡ï¼Œåˆ†åˆ«ä¸ºä¸¤ä¸ªå˜é‡çš„è§‚æµ‹å€¼å’Œå‡å€¼ã€‚ræè¿°çš„æ˜¯ä¸¤ä¸ªå˜é‡é—´çº¿æ€§ç›¸å…³å¼ºå¼±çš„ç¨‹åº¦ã€‚rçš„ç»å¯¹å€¼è¶Šå¤§è¡¨æ˜ç›¸å…³æ€§è¶Šå¼ºã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;æ•°æ®æŠ¥å‘Šå¸¸ç”¨æœ¯è¯­&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å€æ•°å’Œç•ªæ•°&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å€æ•°ï¼šç”¨ä¸€ä¸ªæ•°æ®é™¤ä»¥å¦ä¸€ä¸ªæ•°æ®è·å¾—ï¼Œå€æ•°ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºä¸Šå‡ã€å¢é•¿å¹…åº¦ï¼Œä¸€èˆ¬ä¸è¡¨ç¤ºå‡å°‘å¹…åº¦ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¿»nç•ªï¼šæŒ‡åŸæ¥æ•°é‡çš„2çš„næ¬¡æ–¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åŒæ¯”å’Œç¯æ¯”&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒæ¯”ï¼šæŒ‡çš„æ˜¯ä¸å†å²åŒæ—¶æœŸçš„æ•°æ®ç›¸æ¯”è¾ƒè€Œè·å¾—çš„æ¯”å€¼ï¼Œååº”äº‹ç‰©å‘å±•çš„ç›¸å¯¹æ€§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¯æ¯”ï¼šæŒ‡ä¸ä¸Šä¸€ä¸ªç»Ÿè®¡æ—¶æœŸçš„å€¼è¿›è¡Œå¯¹æ¯”è·å¾—çš„å€¼ï¼Œä¸»è¦åæ˜ äº‹ç‰©çš„é€æœŸå‘å±•çš„æƒ…å†µã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6209964412811388&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/tXYict40xfLiabFY74YEysG3BDzgoUCGib8fQd6hCNAIpKxLDSiap6djFBqcZic2VuBolFNl3tZMjroG9qTzvu4UdxA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;562&quot;/&gt;&lt;/figure&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¢é‡&lt;/strong&gt;ï¼šå¢é•¿çš„ç»å¯¹é‡=ç°æœŸé‡-åŸºæœŸé‡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¢é€Ÿ&lt;/strong&gt;ï¼šå¢é•¿é€Ÿåº¦=ï¼ˆç°æœŸé‡-åŸºæœŸé‡ï¼‰Ã·åŸºæœŸé‡&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¢é•¿ç‡&lt;/strong&gt;ï¼šå¢é‡ä¸åŸºæœŸé‡ä¹‹æ¯”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;å¢å¹…&lt;/strong&gt;ï¼šå³å¢é•¿çš„å¹…åº¦ï¼Œä¹Ÿå¯ç†è§£ä¸ºå¢é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;åŸºæœŸå’Œç°æœŸ&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸºæœŸï¼šè¢«ç”¨ä½œå‚ç…§ç‰©çš„æ—¶æœŸç§°ä¸ºåŸºæœŸï¼Œæè¿°åŸºæœŸçš„é‡å³ä¸ºåŸºæœŸé‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç°æœŸï¼šç›¸å¯¹äºåŸºæœŸçš„ç§°ä¸ºç°æœŸï¼Œæè¿°ç°æœŸçš„é‡å³ä¸ºç°æœŸé‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;YTD&lt;/strong&gt;:æˆªæ­¢åˆ°ä»Šå¤©ä¸ºæ­¢ä»Šå¹´çš„&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;LY&lt;/strong&gt;:last yearå»å¹´&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;YoY&lt;/strong&gt;â€”â€”è·Ÿä¸Šå¹´ç›¸æ¯”&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;MAT&lt;/strong&gt;ï¼ˆmoving annual totalï¼‰ï¼šå¹´åº¦åŠ¨æ€å˜åŒ–æ€»å€¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;Q4/Q1&lt;/strong&gt;ï¼š4å­£åº¦/1å­£åº¦&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;GDP&lt;/strong&gt;:å›½å†…ç”Ÿäº§æ€»å€¼&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;GNH&lt;/strong&gt;ï¼ˆgross national happinessï¼‰ï¼šå›½æ°‘å¹¸ç¦æŒ‡æ•°&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;GNP&lt;/strong&gt;:å›½æ°‘ç”Ÿäº§æ€»å€¼&lt;/p&gt;&lt;hr data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;/&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ•´ç†ä¸æ˜“ï¼Œå¦‚æœçœ‹åˆ°æ–‡æœ«çš„åŒå­¦ï¼Œéº»çƒ¦ç»™å³ä¸‹è§’ç‚¹ä¸ªèµå†èµ°å§ğŸ‘&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºæ–‡ç« è¾ƒé•¿&lt;/span&gt;&lt;span&gt;ï¼Œå»ºè®®ç‚¹å‡»å³ä¸Šè§’æ”¶è—ï¼Œéœ€è¦æ—¶å¤§å®¶å¯ä»¥ä½¿ç”¨æœç´¢åŠŸèƒ½æŸ¥çœ‹è‡ªå·±æ„Ÿå…´è¶£çš„æŒ‡æ ‡/æœ¯è¯­å«ä¹‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‚è€ƒèµ„æ–™&lt;/span&gt;&lt;/h3&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;&lt;span&gt;[1]&lt;/span&gt;&lt;p&gt;ä¹¦ç±: &lt;span&gt;ã€Šå¤§æ•°æ®ç”¨æˆ·è¡Œä¸ºåˆ†æç”»åƒå®æ“æŒ‡å—ã€‹&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[2]&lt;/span&gt;&lt;p&gt;é€šä¿—æ˜“æ‡‚çš„ç†è§£ï¼šä»€ä¹ˆæ˜¯æ•°æ®åŸ‹ç‚¹ï¼Ÿ: &lt;span&gt;https://blog.csdn.net/qq_38128179/article/details/108746513&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[3]&lt;/span&gt;&lt;p&gt;4ä¸ªæ–¹é¢è§£æï¼šå½’å› åˆ†ææ¨¡å‹: &lt;span&gt;http://www.woshipm.com/marketing/3839887.html&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;span&gt;&lt;span&gt;[4]&lt;/span&gt;&lt;p&gt;ä¸€æ¬¡æ€§æ€»ç»“ï¼š64ä¸ªæ•°æ®åˆ†æå¸¸ç”¨æœ¯è¯­ï¼: &lt;span&gt;https://mp.weixin.qq.com/s/gVc1rTVYKtECSztau_I7RA&lt;/span&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8eefc934adf3263bfe06ac3d2f91d61c</guid>
<title>Vueé¡¹ç›®ä¸­çš„preset-env, core-js, browserslistæ˜¯å¹²å˜›çš„</title>
<link>https://toutiao.io/k/6jf8esr</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚é¢˜è¿™ä¸‰ä¸ªä¸œè¥¿ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½è§è¿‡ï¼Œä¹Ÿéƒ½ä¼šç”¨ä¼šé…ç½®ï¼Œä½†è¦æ˜¯è®©ä½ è¯´å‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼Œææ€•è¿˜ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ›¾ç»çš„æˆ‘ï¼Œä¸€è¾¹googleä¸€è¾¹é…ç½®ï¼Œåªè¦èƒ½ç”¨å°±ä¸‡äº‹å¤§å‰äº†ï¼Œä¸”æ¯æ¬¡googleå‡ºæ¥çš„ä¼¼ä¹è¿˜è·Ÿä¸Šæ¬¡çš„éƒ½æœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥æ¯æ¬¡é…ç½®é¡¹ç›®æ—¶ï¼Œæœ‰å·®å¼‚çš„ã€‚ç„¶è€Œå´å¾ˆå°‘å»æ·±ç©¶ä¸ºå•¥ï¼Ÿä¸ºå•¥è¿™æ ·é…ä¹Ÿå¯ä»¥ï¼Œé‚£æ ·é…ä¹Ÿå¯ä»¥ï¼Œé‚£åˆ°åº•æ€æ ·é…ç½®æ‰æ˜¯æœ€ä½³çš„ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢å°±æ¥ç®€å•è¯´è¯´æˆ‘çš„ç†è§£ï¼Œä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;åç§°è§£é‡Š&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;preset-env&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»åç§°çœ‹æœ‰ä¸ªenvï¼Œè¿™é‡Œå°±æ˜¯åŒ…å«â€œç¯å¢ƒâ€ä¹‹æ„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨preset-envå‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±çŸ¥é“è¦ç”¨ä»€ä¹ˆes6çš„ç‰¹æ€§ï¼Œç„¶åè‡ªå·±å»babelçš„é…ç½®æ–‡ä»¶ä¸­åŠ è¿›å»ï¼Œå¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;br/&gt;Â Â &lt;span&gt;&quot;plugins&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&quot;@babel/plugin-transform-arrow-functions&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&quot;@babel/plugin-transform-classes&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;&quot;@babel/plugin-transform-spread&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â ...&lt;br/&gt;Â Â ]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·åšéå¸¸ç¹çï¼Œå¼€å‘ä½“éªŒä¹Ÿä¸å¥½ã€‚å†åæ¥ï¼Œåæ¥å°±å‡ºç°äº†@babel/preset-envã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;@babel/preset-envå¯ä»¥é€šè¿‡targetå±æ€§é…ç½®ä¸€ä¸ªç›®æ ‡ç¯å¢ƒï¼Œbabelä¼šæ ¹æ®ç¯å¢ƒæ¥è½¬æ¢é‚£äº›å®ƒä¸æ”¯æŒçš„è¯­æ³•ï¼Œè¿™æ ·å°±ä¸éœ€è¦æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªçš„å»è‡ªå·±åŠ å…¥æ‰€è¦æ”¯æŒçš„es6ç‰¹æ€§ã€‚å¦‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â Â Â Â Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;,Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;target&quot;&lt;/span&gt;:Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;browsers&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;lastÂ 2Â versions&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;ieÂ &amp;gt;=Â 7&quot;&lt;/span&gt;]&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }]&lt;br/&gt;Â Â Â Â ]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰€ä»¥ï¼Œ@babel/preset-envçš„ä½œç”¨å°±æ˜¯å°†å¸¸ç”¨çš„ES6ç‰¹æ€§æ”¾åˆ°ä¸€èµ·äº†ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªå¯ä»¥é…ç½®çš„ç›®æ ‡ç¯å¢ƒï¼Œå®ƒè‡ªå·±å†³å®šè¦è½¬æ¢é‚£äº›ES6ç‰¹æ€§ï¼Œè¿™æ ·å¼€å‘ä½“éªŒå°±å¥½å¾ˆå¤šã€‚è¿™æ ·è™½ç„¶ä¸éœ€è¦æˆ‘ä»¬é…ç½®ES6ç‰¹æ€§ï¼Œä½†éœ€è¦æˆ‘ä»¬è‡ªå·±é…ç½®ç›®æ ‡ç¯å¢ƒï¼Œä¸”è¿™ä¸ªç¯å¢ƒåªæ˜¯babelè‡ªå·±çŸ¥é“ï¼Œå¦‚æœè¿˜æœ‰å…¶ä»–åº”ç”¨ï¼Œå¦‚ESLintï¼ŒTSç­‰ç­‰ï¼Œå…¶ä»–åº”ç”¨ä¹Ÿéœ€è¦è¯»å–ç›®æ ‡ç¯å¢ƒæ¥å†³å®šè¡Œä¸ºï¼Œè¿˜å¾—é…ç½®â€¦â€¦æ‰€ä»¥browserslistå‡ºç°äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;browserslist&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;browserslistæä¾›äº†ä¸€ç§é¡¹ç›®å…±äº«çš„ç›®æ ‡ç¯å¢ƒé…ç½®ï¼Œæ•´ä¸ªé¡¹ç›®çš„babelã€eslintï¼Œtsç­‰éƒ½å¯ä»¥è¯»å–åˆ°ã€‚å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;#Â BrowsersÂ thatÂ weÂ support&lt;br/&gt;&lt;br/&gt;[modern]&lt;br/&gt;FirefoxÂ &amp;gt;=Â &lt;span&gt;53&lt;/span&gt;&lt;br/&gt;EdgeÂ &amp;gt;=Â &lt;span&gt;15&lt;/span&gt;&lt;br/&gt;ChromeÂ &amp;gt;=Â &lt;span&gt;58&lt;/span&gt;&lt;br/&gt;iOSÂ &amp;gt;=Â &lt;span&gt;10.1&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;[legacy]&lt;br/&gt;&amp;gt;Â &lt;span&gt;1&lt;/span&gt;%&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒæœ‰è‡ªå·±çš„é…ç½®è¯­æ³•ï¼Œä¸€çœ‹å°±ä¼šï¼Œå®ƒæœ‰å¤šç§å…·ä½“æ–‡æ¡£ï¼šhttps://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fbrowserslist%2Fbrowserslist&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰äº†browserslistçš„é…ç½®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨é…ç½®@babel/preset-envçš„targetäº†ã€‚browserslistçš„é…ç½®å¯ä»¥å†™åœ¨package.jsoné‡Œé¢ä¹Ÿå¯ä»¥ç”¨ç‹¬ç«‹çš„.browserslistrcæ–‡ä»¶ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;core-js&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç›¸ä¿¡å¾ˆå¤šäººä¸€å¼€å§‹å¹¶ä¸æ¸…æ¥šcore-jsæ˜¯å¹²å˜›çš„ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»æœ‰babeläº†ï¼Œä¸ºä½•è¿˜è¦core-jså‘¢ï¼Ÿå¦‚æœä½ è¿™ä¹ˆæƒ³ï¼Œé‚£å°±æ˜¯æœ‰ä¸ªå…³é”®çš„æ¦‚å¿µæ²¡æœ‰ææ¸…æ¥šã€‚ä¸€èˆ¬babelåªæ˜¯ç”¨æ¥å°†ES6+çš„è¯­æ³•è½¬ä¸ºES5ï¼Œå®ƒå¹¶ä¸å¤„ç†ES6æ–°å¢çš„APIï¼Œå¦‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;const&lt;/span&gt;Â tÂ =Â [&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;];&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(...t);&lt;br/&gt;&lt;span&gt;const&lt;/span&gt;Â xÂ =Â t.includes(&lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(x);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è½¬æ¢å&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&quot;useÂ strict&quot;&lt;/span&gt;;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â _console;&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â tÂ =Â [&lt;span&gt;1&lt;/span&gt;,Â &lt;span&gt;2&lt;/span&gt;,Â &lt;span&gt;3&lt;/span&gt;];&lt;br/&gt;(_consoleÂ =Â &lt;span&gt;console&lt;/span&gt;).log.apply(_console,Â t);&lt;br/&gt;&lt;span&gt;var&lt;/span&gt;Â xÂ =Â t.includes(&lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;&lt;span&gt;console&lt;/span&gt;.log(x);&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„æ‰©å±•è¿ç®—ç¬¦æ˜¯å±äºè¯­æ³•çš„èŒƒç•´ï¼Œè€Œæ•°ç»„çš„includesæ–¹æ³•æ˜¯å±äºES6æ–°å¢çš„APIï¼Œæ‰€ä»¥babelåªæ˜¯è½¬æ¢äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œè€Œå¹¶æ²¡æœ‰å¤„ç†includesæ–¹æ³•ã€‚æ‰€ä»¥å½“æˆ‘ä»¬åœ¨æ¯”è¾ƒè€æ—§çš„æµè§ˆå™¨ä¸­è¿è¡Œæ—¶ä¼šæŠ¥é”™ï¼Œå¦‚ä½•è®©è¿™äº›è€æ—§çš„æµè§ˆå™¨ä¹Ÿèƒ½è®¤è¯†ES6æ–°å¢çš„è¿™äº›APIï¼Œè¿™å°±æ˜¯core-jsè¦åšçš„äº‹æƒ…äº†ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;ä¸€èµ·ä½¿ç”¨&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;core-jsæä¾›äº†å„ç§â€œè€æ—§æµè§ˆå™¨â€éœ€è¦çš„ES6æ–°APIçš„å®ç°ï¼Œbrowserslistæä¾›äº†æŒ‡å®šå“ªäº›â€œè€æ—§æµè§ˆå™¨â€çš„åŠŸèƒ½ï¼Œè€Œ@babel/preset-envæä¾›äº†é’ˆå¯¹browserslistæŒ‡å®šçš„è€æ—§æµè§ˆå™¨æ¥è½¬æ¢ES6åˆ°ES5ï¼ŒåŒæ—¶è¿˜èƒ½æ ¹æ®browserslistæŒ‡å®šçš„ç¯å¢ƒä»core-jsä¸­æå–éœ€è¦çš„ES6æ–°å¢APIçš„å®ç°ã€‚ç®€å•è¯´@babel/preset-envä½¿ç”¨core-jsã€browserslisté€šè¿‡é€‚å½“çš„é…ç½®æ¥æ”¯æŒå„ç§è€æ—§çš„ç¯å¢ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢ç”¨ä¸€äº›ç®€å•çš„ä»£ç æ¥æ¼”ç¤ºå¦‚ä½•ä¸€èµ·ä½¿ç”¨ï¼Œå‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹index.jsæ–‡ä»¶&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;init();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;init&lt;/span&gt;(&lt;span/&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â pÂ =Â &lt;span&gt;new&lt;/span&gt;Â &lt;span&gt;Map&lt;/span&gt;();&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â tÂ =Â &lt;span&gt;Object&lt;/span&gt;.entries({&lt;span&gt;a&lt;/span&gt;:&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;b&lt;/span&gt;:&lt;span&gt;2&lt;/span&gt;})&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â yÂ =Â [&lt;span&gt;1&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;,&lt;span&gt;3&lt;/span&gt;].findIndex(&lt;span&gt;&lt;span&gt;x&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â xÂ ===Â &lt;span&gt;3&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â t1Â =Â &lt;span&gt;new&lt;/span&gt;Â &lt;span&gt;Promise&lt;/span&gt;(&lt;span&gt;(&lt;span&gt;resolve&lt;/span&gt;)Â =&amp;gt;&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â setTimeout(resolve,Â &lt;span&gt;1000&lt;/span&gt;,Â &lt;span&gt;3&lt;/span&gt;,&lt;span&gt;2&lt;/span&gt;);&lt;br/&gt;Â Â Â Â });&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;const&lt;/span&gt;Â objÂ =Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;maps&lt;/span&gt;:Â [p],&lt;br/&gt;Â Â Â Â Â Â Â Â printArr()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;console&lt;/span&gt;.log(...t);&lt;br/&gt;Â Â Â Â Â Â Â Â },&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;async&lt;/span&gt;Â p()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â t1;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â };&lt;br/&gt;&lt;br/&gt;Â Â Â Â obj.printArr();&lt;br/&gt;Â Â Â Â obj.p().then(&lt;span&gt;&lt;span&gt;s&lt;/span&gt;Â =&amp;gt;&lt;/span&gt;Â {&lt;span&gt;console&lt;/span&gt;.log(s)});&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;.browserslistrcåªæŒ‡å®šie11&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ieÂ 11&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;babel.config.jsonï¼ŒæŒ‡å®šusageæ–¹å¼å¼•å…¥core-jsï¼Œä»¥åŠæŒ‡å®šä½¿ç”¨çš„core-jsç‰ˆæœ¬&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;presets&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â Â Â Â Â [&lt;span&gt;&quot;@babel/preset-env&quot;&lt;/span&gt;,Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;useBuiltIns&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;usage&quot;&lt;/span&gt;,&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&quot;corejs&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;3&quot;&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }]&lt;br/&gt;Â Â Â Â ]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç„¶åé€šè¿‡babelå‘½ä»¤è¡Œè½¬è¯‘&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&quot;useÂ strict&quot;&lt;/span&gt;;&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.symbol.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.symbol.description.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.symbol.iterator.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.array.from.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.array.slice.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.function.name.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.regexp.exec.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;regenerator-runtime/runtime.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.array.iterator.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.map.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.object.to-string.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.string.iterator.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/web.dom-collections.iterator.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.object.entries.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.array.find-index.js&quot;&lt;/span&gt;);&lt;br/&gt;require(&lt;span&gt;&quot;core-js/modules/es.promise.js&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â asyncGeneratorStep(gen,Â resolve,Â reject,Â _next,Â _throw,Â key,Â arg)Â {Â tryÂ {Â varÂ infoÂ =Â gen[key](arg);Â varÂ valueÂ =Â info.value;Â }Â catchÂ (error)Â {Â reject(error);Â &lt;span&gt;return&lt;/span&gt;;Â }Â &lt;span&gt;if&lt;/span&gt;Â (info.done)Â {Â resolve(value);Â }Â &lt;span&gt;else&lt;/span&gt;Â {Â Promise.resolve(value).&lt;span&gt;then&lt;/span&gt;(_next,Â _throw);Â }Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _asyncToGenerator(fn)Â {Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;/span&gt;Â ()Â {Â varÂ selfÂ =Â this,Â argsÂ =Â arguments;Â &lt;span&gt;return&lt;/span&gt;Â newÂ Promise(&lt;span&gt;function&lt;/span&gt;Â (resolve,Â reject)Â {Â varÂ genÂ =Â fn.apply(self,Â args);Â &lt;span&gt;function&lt;/span&gt;Â _next(value)Â {Â asyncGeneratorStep(gen,Â resolve,Â reject,Â _next,Â _throw,Â &lt;span&gt;&quot;next&quot;&lt;/span&gt;,Â value);Â }Â &lt;span&gt;function&lt;/span&gt;Â _throw(err)Â {Â asyncGeneratorStep(gen,Â resolve,Â reject,Â _next,Â _throw,Â &lt;span&gt;&quot;throw&quot;&lt;/span&gt;,Â err);Â }Â _next(undefined);Â });Â };Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _toConsumableArray(arr)Â {Â &lt;span&gt;return&lt;/span&gt;Â _arrayWithoutHoles(arr)Â ||Â _iterableToArray(arr)Â ||Â _unsupportedIterableToArray(arr)Â ||Â _nonIterableSpread();Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;_nonIterableSpread&lt;/span&gt;&lt;/span&gt;()Â {Â throwÂ newÂ TypeError(&lt;span&gt;&quot;InvalidÂ attemptÂ toÂ spreadÂ non-iterableÂ instance.\nInÂ orderÂ toÂ beÂ iterable,Â non-arrayÂ objectsÂ mustÂ haveÂ aÂ [Symbol.iterator]()Â method.&quot;&lt;/span&gt;);Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _unsupportedIterableToArray(o,Â minLen)Â {Â &lt;span&gt;if&lt;/span&gt;Â (!o)Â &lt;span&gt;return&lt;/span&gt;;Â &lt;span&gt;if&lt;/span&gt;Â (typeofÂ oÂ ===Â &lt;span&gt;&quot;string&quot;&lt;/span&gt;)Â &lt;span&gt;return&lt;/span&gt;Â _arrayLikeToArray(o,Â minLen);Â varÂ nÂ =Â Object.prototype.toString.call(o).slice(8,Â -1);Â &lt;span&gt;if&lt;/span&gt;Â (nÂ ===Â &lt;span&gt;&quot;Object&quot;&lt;/span&gt;Â &amp;amp;&amp;amp;Â o.constructor)Â nÂ =Â o.constructor.name;Â &lt;span&gt;if&lt;/span&gt;Â (nÂ ===Â &lt;span&gt;&quot;Map&quot;&lt;/span&gt;Â ||Â nÂ ===Â &lt;span&gt;&quot;Set&quot;&lt;/span&gt;)Â &lt;span&gt;return&lt;/span&gt;Â Array.from(o);Â &lt;span&gt;if&lt;/span&gt;Â (nÂ ===Â &lt;span&gt;&quot;Arguments&quot;&lt;/span&gt;Â ||Â /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.&lt;span&gt;test&lt;/span&gt;(n))Â &lt;span&gt;return&lt;/span&gt;Â _arrayLikeToArray(o,Â minLen);Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _iterableToArray(iter)Â {Â &lt;span&gt;if&lt;/span&gt;Â (typeofÂ SymbolÂ !==Â &lt;span&gt;&quot;undefined&quot;&lt;/span&gt;Â &amp;amp;&amp;amp;Â iter[Symbol.iterator]Â !=Â nullÂ ||Â iter[&lt;span&gt;&quot;@@iterator&quot;&lt;/span&gt;]Â !=Â null)Â &lt;span&gt;return&lt;/span&gt;Â Array.from(iter);Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _arrayWithoutHoles(arr)Â {Â &lt;span&gt;if&lt;/span&gt;Â (Array.isArray(arr))Â &lt;span&gt;return&lt;/span&gt;Â _arrayLikeToArray(arr);Â }&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â _arrayLikeToArray(arr,Â len)Â {Â &lt;span&gt;if&lt;/span&gt;Â (lenÂ ==Â nullÂ ||Â lenÂ &amp;gt;Â arr.length)Â lenÂ =Â arr.length;Â &lt;span&gt;for&lt;/span&gt;Â (varÂ iÂ =Â 0,Â arr2Â =Â newÂ Array(len);Â iÂ &amp;lt;Â len;Â i++)Â {Â arr2[i]Â =Â arr[i];Â }Â &lt;span&gt;return&lt;/span&gt;Â arr2;Â }&lt;br/&gt;&lt;br/&gt;init();&lt;br/&gt;&lt;br/&gt;&lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;init&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â varÂ pÂ =Â newÂ Map();&lt;br/&gt;Â Â varÂ tÂ =Â Object.entries({&lt;br/&gt;Â Â Â Â a:Â 1,&lt;br/&gt;Â Â Â Â b:Â 2&lt;br/&gt;Â Â });&lt;br/&gt;Â Â varÂ yÂ =Â [1,Â 2,Â 3].findIndex(&lt;span&gt;function&lt;/span&gt;Â (x)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â xÂ ===Â 3;&lt;br/&gt;Â Â });&lt;br/&gt;Â Â varÂ t1Â =Â newÂ Promise(&lt;span&gt;function&lt;/span&gt;Â (resolve)Â {&lt;br/&gt;Â Â Â Â setTimeout(resolve,Â 1000,Â 3,Â 2);&lt;br/&gt;Â Â });&lt;br/&gt;Â Â varÂ objÂ =Â {&lt;br/&gt;Â Â Â Â maps:Â [p],&lt;br/&gt;Â Â Â Â printArr:Â &lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;printArr&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â varÂ _console;&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â (_consoleÂ =Â console).log.apply(_console,Â _toConsumableArray(t));&lt;br/&gt;Â Â Â Â },&lt;br/&gt;Â Â Â Â p:Â &lt;span&gt;function&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;p&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â _asyncToGenerator(Â /*&lt;span&gt;#__PURE__*/regeneratorRuntime.mark(functionÂ _callee()Â {&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â regeneratorRuntime.wrap(&lt;span&gt;function&lt;/span&gt;Â _callee$(_context)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â switchÂ (_context.prevÂ =Â _context.next)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â 0:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â _context.abrupt(&lt;span&gt;&quot;return&quot;&lt;/span&gt;,Â t1);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â 1:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;case&lt;/span&gt;Â &lt;span&gt;&quot;end&quot;&lt;/span&gt;:&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â _context.stop();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â },Â _callee);&lt;br/&gt;Â Â Â Â Â Â }))();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â };&lt;br/&gt;Â Â obj.printArr();&lt;br/&gt;Â Â obj.p().&lt;span&gt;then&lt;/span&gt;(&lt;span&gt;function&lt;/span&gt;Â (s)Â {&lt;br/&gt;Â Â Â Â console.log(s);&lt;br/&gt;Â Â });&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è½¬æ¢åçš„ä»£ç æœ‰ç‚¹å¤šï¼Œä½†è¿™å·²ç»æ˜¯babelæ ¹æ®browserslistæŒ‡å®šç¯å¢ƒè½¬æ¢çš„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°babelæå–äº†å¾ˆå¤šcore-jsä¸­çš„å®ç°ï¼Œå¦‚ï¼šrequire(&quot;core-js/modules/es.array.from.js&quot;)ç­‰â€¦â€¦ï¼Œè¿˜æœ‰ä¸€äº›å‡½æ•°ï¼Œå¦‚ï¼š&lt;code&gt;_asyncToGenerator&lt;/code&gt;ç­‰æˆ‘ä»¬ç§°ä¸ºbabelè¿è¡Œæ—¶(åé¢ä¼šè¯´åˆ°)ã€‚è¦å¼„æ¸…æ¥šè½¬è¯‘åçš„æ–‡ä»¶ä¸ºä½•è¿™æ ·ï¼Œæˆ‘ä»¬å¾—ç†è§£@babel/preset-envçš„é…ç½®é¡¹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;useBuiltIns&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸»è¦ç”¨äºæŒ‡å®šbabelå¦‚ä½•ä»core-jsä¸­æå–åˆé€‚çš„ES6æ–°ç‰¹æ€§çš„å®ç°ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;usageï¼šæˆ‘ä»¬ä¸éœ€è¦åœ¨å…¥å£å¤„å¯¼å…¥core-jsï¼Œbabelä¼šæ ¹æ®ä»£ç ä¸­ä½¿ç”¨çš„ES6 APIæ¥å†³å®šæå–å“ªäº›ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;entryï¼šæˆ‘ä»¬é€šè¿‡importåœ¨å…¥å£å¼•å…¥core-jsï¼Œbabelä¼šæ ¹æ®å¼•å…¥çš„core-jsæ¨¡å—æ¥è¯†åˆ«å’Œæ‹†åˆ†æ›´ç»†çš„å¯¼å…¥ï¼Œå¦‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;//Â æºæ–‡ä»¶&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/es/array&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/proposals/math-extensions&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;//Â è¾“å‡º&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/es.array.unscopables.flat&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/es.array.unscopables.flat-map&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.clamp&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.deg-per-rad&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.degrees&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.fscale&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.rad-per-deg&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.radians&quot;&lt;/span&gt;;&lt;br/&gt;importÂ &lt;span&gt;&quot;core-js/modules/esnext.math.scale&quot;&lt;/span&gt;;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;corejs&lt;/strong&gt;ç”¨äºæŒ‡å®šcore-jsçš„ç‰ˆæœ¬ï¼Œå› ä¸ºcore-jsæœ‰2å’Œ3çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œbabelé»˜è®¤ä¼šä½¿ç”¨2çš„ç‰ˆæœ¬ï¼Œè¿™é‡Œå»ºè®®ç”¨3çš„ç‰ˆæœ¬ã€‚babelè¿˜å»ºè®®æŒ‡å®šcore-jsçš„minorç‰ˆæœ¬ï¼Œè¿™æ ·èƒ½å°†æœ€æ–°å®ç°çš„APIåŒ…å«è¿›æ¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œbabelåªä¼šæå–ç¨³å®šçš„APIå®ç°ï¼Œå¦‚æœä½ æƒ³å°†è¿˜åœ¨ææ¡ˆé˜¶æ®µçš„APIä¹ŸåŒ…å«è¿›æ¥ï¼Œå¯ä»¥è¿™æ ·é…ç½®ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;corejs&quot;&lt;/span&gt;:Â {Â version:Â &lt;span&gt;&quot;3.8&quot;&lt;/span&gt;,Â proposals:Â &lt;span&gt;true&lt;/span&gt;Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ€»çš„æ¥è¯´ï¼ŒuseBuiltInsé…ç½®ä¸ºusageï¼Œcorejsé…ç½®ä¸º{ version: &quot;3.8&quot;, proposals: true }ä¼šæ˜¯å¤§éƒ¨åˆ†åœºæ™¯çš„é€‰æ‹©ï¼Œä¸è¿‡åé¢è¿˜æœ‰æ›´å¤šçš„ä¸œè¥¿ã€‚ã€‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œè€…ï¼šç”ŸçŸ³ç°
é“¾æ¥ï¼šhttps://juejin.cn/post/7088702716465119268&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>8d5f80cf6592e9872494360192ae69a2</guid>
<title>èŠèŠå¹¶å‘ç¼–ç¨‹çš„10ä¸ªå‘</title>
<link>https://toutiao.io/k/ajkvysg</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;å‰è¨€&lt;/span&gt;&lt;br/&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¯¹äºä»äº‹åç«¯å¼€å‘çš„åŒå­¦æ¥è¯´ï¼Œå¹¶å‘ç¼–ç¨‹è‚¯å®šå†ç†Ÿæ‚‰ä¸è¿‡äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´å®è¯ï¼Œåœ¨javaä¸­å¹¶å‘ç¼–ç¨‹æ˜¯ä¸€å¤§éš¾ç‚¹ï¼Œè‡³å°‘æˆ‘æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„ã€‚ä¸å…‰ç†è§£èµ·æ¥æ¯”è¾ƒè´¹åŠ²ï¼Œä½¿ç”¨èµ·æ¥æ›´å®¹æ˜“è¸©å‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ä¿¡ï¼Œè®©ç»§ç»­å¾€ä¸‹é¢çœ‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»Šå¤©é‡ç‚¹è·Ÿå¤§å®¶ä¸€èµ·èŠèŠå¹¶å‘ç¼–ç¨‹çš„10ä¸ªå‘ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚&lt;/p&gt;&lt;figure data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.9125364431486881&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibJZVicC7nz5gWohqZCBBOjUa71ia1g9GfqdJ8DVraxPmJaLo7ZpoQAzpGsUoxJr7088BJWVsGAtveDo4kibBloNjA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1372&quot;/&gt;&lt;/figure&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;1. SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨java8ä¹‹å‰ï¼Œæˆ‘ä»¬å¯¹æ—¶é—´çš„æ ¼å¼åŒ–å¤„ç†ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨çš„&lt;code&gt;SimpleDateFormat&lt;/code&gt;ç±»å®ç°çš„ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleDateFormatService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â DateÂ &lt;span&gt;time&lt;/span&gt;&lt;span&gt;(StringÂ time)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ParseExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â SimpleDateFormatÂ dateFormatÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleDateFormat(&lt;span&gt;&quot;yyyy-MM-ddÂ HH:mm:ss&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â dateFormat.parse(time);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœä½ çœŸçš„è¿™æ ·å†™ï¼Œæ˜¯æ²¡é—®é¢˜çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å°±æ€•å“ªå¤©æŠ½é£ï¼Œä½ è§‰å¾—dateFormatæ˜¯ä¸€æ®µå›ºå®šçš„ä»£ç ï¼Œåº”è¯¥è¦æŠŠå®ƒæŠ½å–æˆå¸¸é‡ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;äºæ˜¯æŠŠä»£ç æ”¹æˆä¸‹é¢çš„è¿™æ ·ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleDateFormatService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleDateFormatÂ dateFormatÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleDateFormat(&lt;span&gt;&quot;yyyy-MM-ddÂ HH:mm:ss&quot;&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â DateÂ &lt;span&gt;time&lt;/span&gt;&lt;span&gt;(StringÂ time)&lt;/span&gt;Â &lt;span&gt;throws&lt;/span&gt;Â ParseExceptionÂ &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â dateFormat.parse(time);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;dateFormatå¯¹è±¡è¢«å®šä¹‰æˆäº†é™æ€å¸¸é‡ï¼Œè¿™æ ·å°±èƒ½è¢«æ‰€æœ‰å¯¹è±¡å…±ç”¨ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåªæœ‰ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨timeæ–¹æ³•ï¼Œä¹Ÿä¸ä¼šå‡ºç°é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†Serivceç±»çš„æ–¹æ³•ï¼Œå¾€å¾€æ˜¯è¢«Controllerç±»è°ƒç”¨çš„ï¼Œè€ŒControllerç±»çš„æ¥å£æ–¹æ³•ï¼Œåˆ™ä¼šè¢«&lt;code&gt;tomcat&lt;/code&gt;çš„&lt;code&gt;çº¿ç¨‹æ± &lt;/code&gt;è°ƒç”¨ã€‚æ¢å¥è¯è¯´ï¼Œå¯èƒ½ä¼šå‡ºç°å¤šä¸ªçº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªControllerç±»çš„åŒä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä¼šå‡ºç°å¤šä¸ªçº¿ç¨‹ä¼šåŒæ—¶è°ƒç”¨timeæ–¹æ³•çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œtimeæ–¹æ³•ä¼šè°ƒç”¨&lt;code&gt;SimpleDateFormat&lt;/code&gt;ç±»çš„&lt;code&gt;parse&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â DateÂ &lt;span&gt;parse&lt;/span&gt;&lt;span&gt;(StringÂ text,Â ParsePositionÂ pos)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;Â Â Â Â DateÂ parsedDate;&lt;br/&gt;Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â parsedDateÂ =Â calb.establish(calendar).getTime();&lt;br/&gt;Â Â Â Â Â Â Â Â ...&lt;br/&gt;Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (IllegalArgumentExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â pos.errorIndexÂ =Â start;&lt;br/&gt;Â Â Â Â Â Â Â Â pos.indexÂ =Â oldStart;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;null&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â &lt;span&gt;return&lt;/span&gt;Â parsedDate;&lt;br/&gt;}Â &lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥æ–¹æ³•ä¼šè°ƒç”¨&lt;code&gt;establish&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;CalendarÂ &lt;span&gt;establish&lt;/span&gt;&lt;span&gt;(CalendarÂ cal)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;Â Â Â Â &lt;span&gt;//1.æ¸…ç©ºæ•°æ®&lt;/span&gt;&lt;br/&gt;Â Â Â Â cal.clear();&lt;br/&gt;Â Â Â Â &lt;span&gt;//2.è®¾ç½®æ—¶é—´&lt;/span&gt;&lt;br/&gt;Â Â Â Â cal.set(...);&lt;br/&gt;Â Â Â Â &lt;span&gt;//3.è¿”å›&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â cal;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶ä¸­çš„æ­¥éª¤1ã€2ã€3æ˜¯éåŸå­æ“ä½œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœcalå¯¹è±¡æ˜¯å±€éƒ¨å˜é‡è¿˜å¥½ï¼Œåå°±ååœ¨parseæ–¹æ³•è°ƒç”¨establishæ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„calendaræ˜¯&lt;code&gt;SimpleDateFormat&lt;/code&gt;ç±»çš„çˆ¶ç±»&lt;code&gt;DateFormat&lt;/code&gt;çš„æˆå‘˜å˜é‡ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;abstract&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;DateFormat&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;Forma&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â ....&lt;br/&gt;Â Â Â Â &lt;span&gt;protected&lt;/span&gt;Â CalendarÂ calendar;&lt;br/&gt;Â Â Â Â ...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·å°±å¯èƒ½ä¼šå‡ºç°å¤šä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå¯¹è±¡å³ï¼šdateFormatï¼Œä»–çš„åŒä¸€ä¸ªæˆå‘˜å˜é‡å³ï¼šCalendarå€¼çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·å¯èƒ½ä¼šå‡ºç°ï¼ŒæŸä¸ªçº¿ç¨‹è®¾ç½®å¥½äº†æ—¶é—´ï¼Œåˆè¢«å…¶ä»–çš„çº¿ç¨‹ä¿®æ”¹äº†ï¼Œä»è€Œå‡ºç°æ—¶é—´é”™è¯¯çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;SimpleDateFormatç±»çš„å¯¹è±¡ä¸è¦å®šä¹‰æˆé™æ€çš„ï¼Œå¯ä»¥æ”¹æˆæ–¹æ³•çš„å±€éƒ¨å˜é‡ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨ThreadLocalä¿å­˜SimpleDateFormatç±»çš„æ•°æ®ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;ä½¿ç”¨java8çš„DateTimeFormatterç±»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;2. åŒé‡æ£€æŸ¥é”çš„æ¼æ´&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å•ä¾‹æ¨¡å¼&lt;/code&gt;æ— è®ºåœ¨å®é™…å·¥ä½œï¼Œè¿˜æ˜¯åœ¨é¢è¯•ä¸­ï¼Œéƒ½å‡ºç°å¾—æ¯”è¾ƒå¤šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå•ä¾‹æ¨¡å¼æœ‰ï¼š&lt;code&gt;é¥¿æ±‰æ¨¡å¼&lt;/code&gt;å’Œ&lt;code&gt;æ‡’æ±‰æ¨¡å¼&lt;/code&gt;ä¸¤ç§ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¥¿æ±‰æ¨¡å¼ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleSingleton&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;//æŒæœ‰è‡ªå·±ç±»çš„å¼•ç”¨&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â SimpleSingletonÂ INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;//ç§æœ‰çš„æ„é€ æ–¹æ³•&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;SimpleSingleton&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;//å¯¹å¤–æä¾›è·å–å®ä¾‹çš„é™æ€æ–¹æ³•&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingletonÂ &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨é¥¿æ±‰æ¨¡å¼çš„å¥½å¤„æ˜¯ï¼šæ²¡æœ‰çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ï¼Œä½†å¸¦æ¥çš„åå¤„ä¹Ÿå¾ˆæ˜æ˜¾ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â SimpleSingletonÂ INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€å¼€å§‹å°±å®ä¾‹åŒ–å¯¹è±¡äº†ï¼Œå¦‚æœå®ä¾‹åŒ–è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œå¹¶ä¸”æœ€åè¿™ä¸ªå¯¹è±¡æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä¸æ˜¯ç™½ç™½é€ æˆèµ„æºæµªè´¹å—ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜çœŸæ˜¯å•Šã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªæ—¶å€™ä½ ä¹Ÿè®¸ä¼šæƒ³åˆ°ï¼Œä¸ç”¨æå‰å®ä¾‹åŒ–å¯¹è±¡ï¼Œåœ¨çœŸæ­£ä½¿ç”¨çš„æ—¶å€™å†å®ä¾‹åŒ–ä¸å°±å¯ä»¥äº†ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™å°±æ˜¯æˆ‘æ¥ä¸‹æ¥è¦ä»‹ç»çš„ï¼š&lt;code&gt;æ‡’æ±‰æ¨¡å¼&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleSingleton2&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton2Â INSTANCE;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;SimpleSingleton2&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton2Â &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton2();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¤ºä¾‹ä¸­çš„INSTANCEå¯¹è±¡ä¸€å¼€å§‹æ˜¯ç©ºçš„ï¼Œåœ¨è°ƒç”¨getInstanceæ–¹æ³•æ‰ä¼šçœŸæ­£å®ä¾‹åŒ–ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å—¯ï¼Œä¸é”™ä¸é”™ã€‚ä½†è¿™æ®µä»£ç è¿˜æ˜¯æœ‰é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡å¦‚æœ‰å¤šä¸ªçº¿ç¨‹ä¸­éƒ½è°ƒç”¨äº†getInstanceæ–¹æ³•ï¼Œé‚£ä¹ˆéƒ½èµ°åˆ° if (INSTANCE == null) åˆ¤æ–­æ—¶ï¼Œå¯èƒ½åŒæ—¶æˆç«‹ï¼Œå› ä¸ºINSTANCEåˆå§‹åŒ–æ—¶é»˜è®¤å€¼æ˜¯nullã€‚è¿™æ ·ä¼šå¯¼è‡´å¤šä¸ªçº¿ç¨‹ä¸­åŒæ—¶åˆ›å»ºINSTANCEå¯¹è±¡ï¼Œå³INSTANCEå¯¹è±¡è¢«åˆ›å»ºäº†å¤šæ¬¡ï¼Œè¿èƒŒäº†åªåˆ›å»ºä¸€ä¸ªINSTANCEå¯¹è±¡çš„åˆè¡·ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºäº†è§£å†³&lt;code&gt;é¥¿æ±‰æ¨¡å¼&lt;/code&gt;å’Œ&lt;code&gt;æ‡’æ±‰æ¨¡å¼&lt;/code&gt;å„è‡ªçš„é—®é¢˜ï¼Œäºæ˜¯å‡ºç°äº†ï¼š&lt;code&gt;åŒé‡æ£€æŸ¥é”&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleSingleton4&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton4Â INSTANCE;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;SimpleSingleton4&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton4Â &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (SimpleSingleton4&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton4();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦åœ¨&lt;code&gt;synchronized&lt;/code&gt;å‰åä¸¤æ¬¡åˆ¤ç©ºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æˆ‘è¦å‘Šè¯‰ä½ çš„æ˜¯ï¼šè¿™æ®µä»£ç æœ‰æ¼æ´çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton4Â &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;span&gt;//1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (SimpleSingleton4&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;span&gt;//2&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;span&gt;//3&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton4();&lt;span&gt;//4&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;span&gt;//5&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;getInstanceæ–¹æ³•çš„è¿™æ®µä»£ç ï¼Œæˆ‘æ˜¯æŒ‰1ã€2ã€3ã€4ã€5è¿™ç§é¡ºåºå†™çš„ï¼Œå¸Œæœ›ä¹ŸæŒ‰è¿™ä¸ªé¡ºåºæ‰§è¡Œã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯javaè™šæ‹Ÿæœºå®é™…ä¸Šä¼šåšä¸€äº›ä¼˜åŒ–ï¼Œå¯¹ä¸€äº›ä»£ç æŒ‡ä»¤è¿›è¡Œé‡æ’ã€‚é‡æ’ä¹‹åçš„é¡ºåºå¯èƒ½å°±å˜æˆäº†ï¼š1ã€3ã€2ã€4ã€5ï¼Œè¿™æ ·åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹åŒæ ·ä¼šåˆ›å»ºå¤šæ¬¡å®ä¾‹ã€‚é‡æ’ä¹‹åçš„ä»£ç å¯èƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton4Â &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;span&gt;//1&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;span&gt;//3&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (SimpleSingleton4&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;span&gt;//2&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton4();&lt;span&gt;//4&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;span&gt;//5&lt;/span&gt;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸæ¥å¦‚æ­¤ï¼Œé‚£æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šå¯ä»¥åœ¨å®šä¹‰INSTANCEæ˜¯åŠ ä¸Š&lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;SimpleSingleton7&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;volatile&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton7Â INSTANCE;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;SimpleSingleton7&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â SimpleSingleton7Â &lt;span&gt;getInstance&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (SimpleSingleton7&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;)Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (INSTANCEÂ ==Â &lt;span&gt;null&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â INSTANCEÂ =Â &lt;span&gt;new&lt;/span&gt;Â SimpleSingleton7();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â INSTANCE;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—å¯ä»¥ä¿è¯å¤šä¸ªçº¿ç¨‹çš„&lt;code&gt;å¯è§æ€§&lt;/code&gt;ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯&lt;code&gt;åŸå­æ€§&lt;/code&gt;ã€‚åŒæ—¶å®ƒä¹Ÿèƒ½&lt;code&gt;ç¦æ­¢æŒ‡ä»¤é‡æ’&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŒé‡æ£€æŸ¥é”çš„æœºåˆ¶æ—¢ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œåˆæ¯”ç›´æ¥ä¸Šé”æé«˜äº†æ‰§è¡Œæ•ˆç‡ï¼Œè¿˜èŠ‚çœäº†å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå•ä¾‹æ¨¡å¼çš„ç»†èŠ‚é—®é¢˜ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ã€Š&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&amp;amp;mid=2247490452&amp;amp;idx=1&amp;amp;sn=a4275112240ea660c3b8e03f4064971d&amp;amp;chksm=c0ebc37cf79c4a6aeb2671c2cd39c2d88ff3a38f9235db6c968175e9487af8c09525d122ce74&amp;amp;token=1069875911&amp;amp;lang=zh_CN&amp;amp;scene=21#wechat_redirect&quot; data-linktype=&quot;2&quot;&gt;å•ä¾‹æ¨¡å¼ï¼ŒçœŸä¸ç®€å•&lt;/a&gt;ã€‹&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;3. volatileçš„åŸå­æ€§&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“&lt;code&gt;volatile&lt;/code&gt;ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„å…³é”®å­—ï¼Œå®ƒèƒ½ä¿è¯å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹ä¸­çš„&lt;code&gt;å¯è§æ€§&lt;/code&gt;ï¼Œå®ƒä¹Ÿèƒ½&lt;code&gt;ç¦æ­¢æŒ‡ä»¤é‡æ’&lt;/code&gt;ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯&lt;code&gt;åŸå­æ€§&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨&lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œå‰é¢å·²ç»è¯´è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸èŠäº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;å¯è§æ€§&lt;/code&gt;ä¸»è¦ä½“ç°åœ¨ï¼šä¸€ä¸ªçº¿ç¨‹å¯¹æŸä¸ªå˜é‡ä¿®æ”¹äº†ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ¯æ¬¡éƒ½èƒ½è·å–åˆ°è¯¥å˜é‡çš„æœ€æ–°å€¼ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆä¸€èµ·çœ‹çœ‹åä¾‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;VolatileTest&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;Thread&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â Â &lt;span&gt;boolean&lt;/span&gt;Â stopFlagÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;isStopFlag&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â stopFlag;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;300&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â stopFlagÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(Thread.currentThread().getName()Â +Â &lt;span&gt;&quot;Â stopFlagÂ =Â &quot;&lt;/span&gt;Â +Â stopFlag);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â VolatileTestÂ vtÂ =Â &lt;span&gt;new&lt;/span&gt;Â VolatileTest();&lt;br/&gt;Â Â Â Â Â Â Â Â vt.start();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (&lt;span&gt;true&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (vt.isStopFlag())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;stop&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼ŒVolatileTestæ˜¯ä¸€ä¸ª&lt;code&gt;Thread&lt;/code&gt;ç±»çš„å­ç±»ï¼Œå®ƒçš„æˆå‘˜å˜é‡stopFlagé»˜è®¤æ˜¯falseï¼Œåœ¨å®ƒçš„runæ–¹æ³•ä¸­ä¿®æ”¹æˆäº†trueã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ç„¶ååœ¨mainæ–¹æ³•çš„ä¸»çº¿ç¨‹ä¸­ï¼Œç”¨vt.isStopFlag()æ–¹æ³•åˆ¤æ–­ï¼Œå¦‚æœå®ƒçš„å€¼æ˜¯trueæ—¶ï¼Œåˆ™æ‰“å°&lt;/span&gt;&lt;code&gt;stop&lt;/code&gt;&lt;span&gt;å…³é”®å­—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½è®©stopFlagçš„å€¼ä¿®æ”¹äº†ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸­é€šè¿‡vt.isStopFlag()æ–¹æ³•ï¼Œèƒ½å¤Ÿè·å–æœ€æ–°çš„å€¼å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­£ä¾‹å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;VolatileTest&lt;/span&gt;Â &lt;span&gt;extends&lt;/span&gt;Â &lt;span&gt;Thread&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;volatile&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â stopFlagÂ =Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;isStopFlag&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â stopFlag;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;300&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â stopFlagÂ =Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(Thread.currentThread().getName()Â +Â &lt;span&gt;&quot;Â stopFlagÂ =Â &quot;&lt;/span&gt;Â +Â stopFlag);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â VolatileTestÂ vtÂ =Â &lt;span&gt;new&lt;/span&gt;Â VolatileTest();&lt;br/&gt;Â Â Â Â Â Â Â Â vt.start();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (&lt;span&gt;true&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (vt.isStopFlag())Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;stop&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;break&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”¨&lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—ä¿®é¥°stopFlagå³å¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢é‡ç‚¹è¯´è¯´volatileçš„åŸå­æ€§é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨å¤šçº¿ç¨‹ç»™countåŠ 1ï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;VolatileTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;volatile&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â count++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;final&lt;/span&gt;Â VolatileTestÂ testÂ =Â &lt;span&gt;new&lt;/span&gt;Â VolatileTest();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â &lt;span&gt;20&lt;/span&gt;;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Thread()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â &lt;span&gt;1000&lt;/span&gt;;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â test.add();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }.start();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (Thread.activeCount()Â &amp;gt;Â &lt;span&gt;2&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//ä¿è¯å‰é¢çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.yield();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(test.count);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ‰§è¡Œç»“æœæ¯æ¬¡éƒ½ä¸ä¸€æ ·ï¼Œä½†å¯ä»¥è‚¯å®šçš„æ˜¯countå€¼æ¯æ¬¡éƒ½å°äº20000ï¼Œæ¯”å¦‚ï¼š19999ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ä¸ªä¾‹å­ä¸­countæ˜¯æˆå‘˜å˜é‡ï¼Œè™½è¯´è¢«å®šä¹‰æˆäº†volatileçš„ï¼Œä½†ç”±äºaddæ–¹æ³•ä¸­çš„count++æ˜¯éåŸå­æ“ä½œã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œcount++çš„æ•°æ®å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç”±æ­¤å¯è§ï¼Œ&lt;code&gt;volatile&lt;/code&gt;ä¸èƒ½ä¿è¯&lt;code&gt;åŸå­æ€§&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šä½¿ç”¨&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ”¹é€ åçš„ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;VolatileTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â countÂ =Â &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;synchronized&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â count++;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;final&lt;/span&gt;Â VolatileTestÂ testÂ =Â &lt;span&gt;new&lt;/span&gt;Â VolatileTest();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â iÂ =Â &lt;span&gt;0&lt;/span&gt;;Â iÂ &amp;lt;Â &lt;span&gt;20&lt;/span&gt;;Â i++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Thread()Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;for&lt;/span&gt;Â (&lt;span&gt;int&lt;/span&gt;Â jÂ =Â &lt;span&gt;0&lt;/span&gt;;Â jÂ &amp;lt;Â &lt;span&gt;1000&lt;/span&gt;;Â j++)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â test.add();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }.start();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;while&lt;/span&gt;Â (Thread.activeCount()Â &amp;gt;Â &lt;span&gt;2&lt;/span&gt;)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;//ä¿è¯å‰é¢çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œ&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Thread.yield();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â System.out.println(test.count);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;4. æ­»é”&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­»é”å¯èƒ½æ˜¯å¤§å®¶éƒ½ä¸å¸Œæœ›é‡åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºä¸€æ—¦ç¨‹åºå‡ºç°äº†æ­»é”ï¼Œå¦‚æœæ²¡æœ‰å¤–åŠ›çš„ä½œç”¨ï¼Œç¨‹åºå°†ä¼šä¸€ç›´å¤„äºèµ„æºç«äº‰çš„å‡æ­»çŠ¶æ€ä¸­ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­»é”ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;DeadLockTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â StringÂ OBJECT_1Â =Â &lt;span&gt;&quot;OBJECT_1&quot;&lt;/span&gt;;&lt;br/&gt;Â Â Â Â &lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â StringÂ OBJECT_2Â =Â &lt;span&gt;&quot;OBJECT_2&quot;&lt;/span&gt;;&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â LockAÂ lockAÂ =Â &lt;span&gt;new&lt;/span&gt;Â LockA();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Thread(lockA).start();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â LockBÂ lockBÂ =Â &lt;span&gt;new&lt;/span&gt;Â LockB();&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â Thread(lockB).start();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockA&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockA&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockB&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockB&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸€ä¸ªçº¿ç¨‹åœ¨è·å–OBJECT_1é”æ—¶ï¼Œæ²¡æœ‰é‡Šæ”¾é”ï¼Œåˆå»ç”³è¯·OBJECT_2é”ã€‚è€Œåˆšå¥½æ­¤æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è·å–åˆ°äº†OBJECT_2é”ï¼Œä¹Ÿæ²¡æœ‰é‡Šæ”¾é”ï¼Œå»ç”³è¯·OBJECT_1é”ã€‚ç”±äºOBJECT_1å’ŒOBJECT_2é”éƒ½æ²¡æœ‰é‡Šæ”¾ï¼Œä¸¤ä¸ªçº¿ç¨‹å°†ä¸€èµ·è¯·æ±‚ä¸‹å»ï¼Œé™·å…¥æ­»å¾ªç¯ï¼Œå³å‡ºç°&lt;code&gt;æ­»é”&lt;/code&gt;çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆå¦‚æœé¿å…æ­»é”é—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;4.1 ç¼©å°é”çš„èŒƒå›´&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡ºç°æ­»é”çš„æƒ…å†µï¼Œæœ‰å¯èƒ½æ˜¯åƒä¸Šé¢é‚£æ ·ï¼Œé”èŒƒå›´å¤ªå¤§äº†å¯¼è‡´çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆè§£å†³åŠæ³•å°±æ˜¯&lt;code&gt;ç¼©å°é”çš„èŒƒå›´&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockA&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockA&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockB&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockB&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨è·å–OBJECT_1é”çš„ä»£ç å—ä¸­ï¼Œä¸åŒ…å«è·å–OBJECT_2é”çš„ä»£ç ã€‚åŒæ—¶åœ¨è·å–OBJECT_2é”çš„ä»£ç å—ä¸­ï¼Œä¹Ÿä¸åŒ…å«è·å–OBJECT_1é”çš„ä»£ç ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span/&gt;&lt;span&gt;4.2 ä¿è¯é”çš„é¡ºåº&lt;/span&gt;&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å‡ºç°æ­»é”çš„æƒ…å†µè¯´ç™½äº†æ˜¯ï¼Œä¸€ä¸ªçº¿ç¨‹è·å–é”çš„é¡ºåºæ˜¯ï¼šOBJECT_1å’ŒOBJECT_2ã€‚è€Œå¦ä¸€ä¸ªçº¿ç¨‹è·å–é”çš„é¡ºåºåˆšå¥½ç›¸åä¸ºï¼šOBJECT_2å’ŒOBJECT_1ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä¿è¯æ¯æ¬¡è·å–é”çš„é¡ºåºéƒ½ç›¸åŒï¼Œå°±ä¸ä¼šå‡ºç°æ­»é”é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockA&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockA&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockB&lt;/span&gt;Â &lt;span&gt;implements&lt;/span&gt;Â &lt;span&gt;Runnable&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;@Override&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;run&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_1)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Thread.sleep(&lt;span&gt;500&lt;/span&gt;);&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &lt;span&gt;synchronized&lt;/span&gt;Â (DeadLockTest.OBJECT_2)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;LockB&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }Â &lt;span&gt;catch&lt;/span&gt;Â (InterruptedExceptionÂ e)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â e.printStackTrace();&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸¤ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯å…ˆè·å–OBJECT_1é”ï¼Œå†è·å–OBJECT_2é”ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;5. æ²¡é‡Šæ”¾é”&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨javaä¸­é™¤äº†ä½¿ç”¨&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—ï¼Œç»™æˆ‘ä»¬æ‰€éœ€è¦çš„ä»£ç å—åŠ é”ä¹‹å¤–ï¼Œè¿˜èƒ½é€šè¿‡&lt;code&gt;Lock&lt;/code&gt;å…³é”®å­—åŠ é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½¿ç”¨&lt;code&gt;synchronized&lt;/code&gt;å…³é”®å­—åŠ é”åï¼Œå¦‚æœç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œæˆ–è€…ç¨‹åºå‡ºç°å¼‚å¸¸æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½¿ç”¨&lt;code&gt;Lock&lt;/code&gt;å…³é”®å­—åŠ é”åï¼Œéœ€è¦å¼€å‘äººå‘˜åœ¨ä»£ç ä¸­æ‰‹åŠ¨é‡Šæ”¾é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;LockTest&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â ReentrantLockÂ rLockÂ =Â &lt;span&gt;new&lt;/span&gt;Â ReentrantLock();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;fun&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â rLock.lock();&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;try&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â System.out.println(&lt;span&gt;&quot;fun&quot;&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â }Â &lt;span&gt;finally&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â Â Â rLock.unlock();&lt;br/&gt;Â Â Â Â Â Â Â Â }&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä»£ç ä¸­å…ˆåˆ›å»ºä¸€ä¸ª&lt;code&gt;ReentrantLock&lt;/code&gt;ç±»çš„å®ä¾‹å¯¹è±¡rLockï¼Œè°ƒç”¨å®ƒçš„&lt;code&gt;lock&lt;/code&gt;æ–¹æ³•åŠ é”ã€‚ç„¶åæ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œæœ€åå†&lt;code&gt;finally&lt;/code&gt;ä»£ç å—ä¸­è°ƒç”¨&lt;code&gt;unlock&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ æ²¡æœ‰åœ¨&lt;code&gt;finally&lt;/code&gt;ä»£ç å—ä¸­ï¼Œè°ƒç”¨&lt;code&gt;unlock&lt;/code&gt;æ–¹æ³•æ‰‹åŠ¨é‡Šæ”¾é”ï¼Œçº¿ç¨‹æŒæœ‰çš„é”å°†ä¸ä¼šå¾—åˆ°é‡Šæ”¾ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;6. HashMapå¯¼è‡´å†…å­˜æº¢å‡º&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;HashMap&lt;/code&gt;åœ¨å®é™…çš„å·¥ä½œåœºæ™¯ä¸­ï¼Œä½¿ç”¨é¢‘ç‡è¿˜æ˜¯æŒºé«˜çš„ï¼Œæ¯”å¦‚ï¼šæ¥æ”¶å‚æ•°ï¼Œç¼“å­˜æ•°æ®ï¼Œæ±‡æ€»æ•°æ®ç­‰ç­‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†å¦‚æœä½ åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­ä½¿ç”¨HashMapï¼Œå¯èƒ½ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„åæœã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;HashMapService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â Map&amp;lt;Long,Â Object&amp;gt;Â hashMapÂ =Â &lt;span&gt;new&lt;/span&gt;Â HashMap&amp;lt;&amp;gt;();&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(UserÂ user)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â hashMap.put(user.getId(),Â user.getName());&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨HashMapServiceç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªHashMapçš„æˆå‘˜å˜é‡ï¼Œåœ¨addæ–¹æ³•ä¸­å¾€HashMapä¸­æ·»åŠ æ•°æ®ã€‚åœ¨controllerå±‚çš„æ¥å£ä¸­è°ƒç”¨addæ–¹æ³•ï¼Œä¼šä½¿ç”¨tomcatçš„çº¿ç¨‹æ± å»å¤„ç†è¯·æ±‚ï¼Œå°±ç›¸å½“äºåœ¨å¤šçº¿ç¨‹çš„åœºæ™¯ä¸‹è°ƒç”¨addæ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨jdk1.7ä¸­ï¼ŒHashMapä½¿ç”¨çš„æ•°æ®ç»“æ„æ˜¯ï¼š&lt;code&gt;æ•°ç»„&lt;/code&gt;+&lt;code&gt;é“¾è¡¨&lt;/code&gt;ã€‚å¦‚æœåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œä¸æ–­å¾€HashMapä¸­æ·»åŠ æ•°æ®ï¼Œå®ƒä¼šè°ƒç”¨&lt;code&gt;resize&lt;/code&gt;æ–¹æ³•è¿›è¡Œæ‰©å®¹ã€‚è¯¥æ–¹æ³•åœ¨å¤åˆ¶å…ƒç´ åˆ°æ–°æ•°ç»„æ—¶ï¼Œé‡‡ç”¨çš„å¤´æ’æ³•ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´é“¾è¡¨ä¼šå‡ºç°æ­»å¾ªç¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­»å¾ªç¯æœ€ç»ˆç»“æœä¼šå¯¼è‡´ï¼š&lt;code&gt;å†…å­˜æº¢å‡º&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ­¤å¤–ï¼Œå¦‚æœHashMapä¸­æ•°æ®éå¸¸å¤šï¼Œä¼šå¯¼è‡´é“¾è¡¨å¾ˆé•¿ã€‚å½“æŸ¥æ‰¾æŸä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦éå†æŸä¸ªé“¾è¡¨ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¸å¤ªé«˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºæ­¤ï¼Œjdk1.8ä¹‹åï¼Œå°†HashMapçš„æ•°æ®ç»“æ„æ”¹æˆäº†ï¼š&lt;code&gt;æ•°ç»„&lt;/code&gt;+&lt;code&gt;é“¾è¡¨&lt;/code&gt;+&lt;code&gt;çº¢é»‘æ ‘&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåŒä¸€ä¸ªæ•°ç»„å…ƒç´ ä¸­çš„æ•°æ®é¡¹å°äº8ä¸ªï¼Œåˆ™è¿˜æ˜¯ç”¨é“¾è¡¨ä¿å­˜æ•°æ®ã€‚å¦‚æœå¤§äº8ä¸ªï¼Œåˆ™è‡ªåŠ¨è½¬æ¢æˆçº¢é»‘æ ‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸ºä»€ä¹ˆè¦ç”¨çº¢é»‘æ ‘ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šé“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œè€Œçº¢é»‘æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(logn)ï¼Œçº¢é»‘æ ‘çš„å¤æ‚åº¦æ˜¯ä¼˜äºé“¾è¡¨çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ—¢ç„¶è¿™æ ·ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨çº¢é»‘æ ‘ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šæ ‘èŠ‚ç‚¹æ‰€å å­˜å‚¨ç©ºé—´æ˜¯é“¾è¡¨èŠ‚ç‚¹çš„ä¸¤å€ï¼ŒèŠ‚ç‚¹å°‘çš„æ—¶å€™ï¼Œå°½ç®¡åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šï¼Œçº¢é»‘æ ‘æ¯”é“¾è¡¨ç¨å¾®å¥½ä¸€äº›ã€‚ä½†æ˜¯ç”±äºçº¢é»‘æ ‘æ‰€å ç©ºé—´æ¯”è¾ƒå¤§ï¼ŒHashMapç»¼åˆè€ƒè™‘ä¹‹åï¼Œè®¤ä¸ºèŠ‚ç‚¹æ•°é‡å°‘çš„æ—¶å€™ç”¨å å­˜å‚¨ç©ºé—´æ›´å¤šçš„çº¢é»‘æ ‘ä¸åˆ’ç®—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;jdk1.8ä¸­HashMapå°±ä¸ä¼šå‡ºç°æ­»å¾ªç¯ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šé”™ï¼Œå®ƒåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä¾ç„¶ä¼šå‡ºç°æ­»å¾ªç¯ã€‚åœ¨æ‰©å®¹çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨é“¾è¡¨è½¬æ¢ä¸ºæ ‘çš„æ—¶å€™ï¼Œforå¾ªç¯ä¸€ç›´æ— æ³•è·³å‡ºï¼Œä»è€Œå¯¼è‡´æ­»å¾ªç¯ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚æœæƒ³å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨HashMapè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šä½¿ç”¨&lt;code&gt;ConcurrentHashMap&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;7. ä½¿ç”¨é»˜è®¤çº¿ç¨‹æ± &lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬éƒ½çŸ¥é“jdk1.5ä¹‹åï¼Œæä¾›äº†&lt;code&gt;ThreadPoolExecutor&lt;/code&gt;ç±»ï¼Œç”¨å®ƒå¯ä»¥&lt;code&gt;è‡ªå®šä¹‰çº¿ç¨‹æ± &lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹æ± çš„å¥½å¤„æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;é™ä½èµ„æºæ¶ˆè€—&lt;/code&gt;ï¼šé¿å…äº†é¢‘ç¹çš„åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹ï¼Œå¯ä»¥ç›´æ¥å¤ç”¨å·²æœ‰çº¿ç¨‹ã€‚è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;æä¾›é€Ÿåº¦&lt;/code&gt;ï¼šä»»åŠ¡è¿‡æ¥ä¹‹åï¼Œå› ä¸ºçº¿ç¨‹å·²å­˜åœ¨ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§&lt;/code&gt;ï¼šçº¿ç¨‹æ˜¯éå¸¸å®è´µçš„èµ„æºï¼Œå¦‚æœåˆ›å»ºè¿‡å¤šçš„çº¿ç¨‹ï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œç”šè‡³ä¼šå½±å“ç³»ç»Ÿçš„ç¨³å®šã€‚ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„åˆ›å»ºã€ç®¡ç†å’Œç›‘æ§çº¿ç¨‹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“ç„¶jdkä¸ºäº†æˆ‘ä»¬ä½¿ç”¨æ›´ä¾¿æ·ï¼Œ&lt;span&gt;ä¸“é—¨&lt;/span&gt;æä¾›äº†ï¼š&lt;code&gt;Executors&lt;/code&gt;&lt;span&gt;ç±»ï¼Œ&lt;/span&gt;ç»™æˆ‘ä»¬å¿«é€Ÿåˆ›å»ºçº¿ç¨‹æ± ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯¥ç±»ä¸­åŒ…å«äº†å¾ˆå¤šé™æ€æ–¹æ³•ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newCachedThreadPool&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å†²çš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹æ± å¤§å°è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newFixedThreadPool&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œå¦‚æœä»»åŠ¡æ•°é‡è¶…è¿‡çº¿ç¨‹æ± å¤§å°ï¼Œåˆ™å°†å¤šä½™çš„ä»»åŠ¡æ”¾åˆ°é˜Ÿåˆ—ä¸­ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newScheduledThreadPool&lt;/code&gt;ï¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ï¼Œå¹¶ä¸”èƒ½æ‰§è¡Œå®šæ—¶å‘¨æœŸä»»åŠ¡çš„çº¿ç¨‹æ± ã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newSingleThreadExecutor&lt;/code&gt;ï¼šåˆ›å»ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œä¿è¯æ‰€æœ‰çš„ä»»åŠ¡å®‰è£…é¡ºåºæ‰§è¡Œã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœå¤§å®¶ä½¿ç”¨è¿™äº›é™æ€æ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹æœ‰å“ªäº›é—®é¢˜ï¼Ÿ&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newFixedThreadPool&lt;/code&gt;ï¼šå…è®¸è¯·æ±‚çš„é˜Ÿåˆ—é•¿åº¦æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newSingleThreadExecutor&lt;/code&gt;ï¼šå…è®¸è¯·æ±‚çš„é˜Ÿåˆ—é•¿åº¦æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMã€‚&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;code&gt;newCachedThreadPool&lt;/code&gt;ï¼šå…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´OOMã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£æˆ‘ä»¬è¯¥æ€åŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¼˜å…ˆæ¨èä½¿ç”¨&lt;code&gt;ThreadPoolExecutor&lt;/code&gt;ç±»ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çº¿ç¨‹æ± ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;ExecutorServiceÂ threadPoolÂ =Â &lt;span&gt;new&lt;/span&gt;Â ThreadPoolExecutor(&lt;br/&gt;Â Â Â Â &lt;span&gt;8&lt;/span&gt;,Â &lt;span&gt;//corePoolSizeçº¿ç¨‹æ± ä¸­æ ¸å¿ƒçº¿ç¨‹æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;10&lt;/span&gt;,Â &lt;span&gt;//maximumPoolSizeÂ çº¿ç¨‹æ± ä¸­æœ€å¤§çº¿ç¨‹æ•°&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;60&lt;/span&gt;,Â &lt;span&gt;//çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ç©ºé—²çº¿ç¨‹å°†è¢«å›æ”¶&lt;/span&gt;&lt;br/&gt;Â Â Â Â TimeUnit.SECONDS,&lt;span&gt;//æ—¶é—´å•ä½&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â ArrayBlockingQueue(&lt;span&gt;500&lt;/span&gt;),Â &lt;span&gt;//é˜Ÿåˆ—&lt;/span&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;new&lt;/span&gt;Â ThreadPoolExecutor.CallerRunsPolicy());Â &lt;span&gt;//æ‹’ç»ç­–ç•¥&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä¸€äº›ä½å¹¶å‘åœºæ™¯ï¼Œä½¿ç”¨&lt;code&gt;Executors&lt;/code&gt;ç±»åˆ›å»ºçº¿ç¨‹æ± ä¹Ÿæœªå°ä¸å¯ï¼Œä¹Ÿä¸èƒ½å®Œå…¨ä¸€æ£å­æ‰“æ­»ã€‚åœ¨è¿™äº›ä½å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¾ˆéš¾å‡ºç°OOMé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;8. @Asyncæ³¨è§£çš„é™·é˜±&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¹‹å‰åœ¨javaå¹¶å‘ç¼–ç¨‹ä¸­å®ç°å¼‚æ­¥åŠŸèƒ½ï¼Œä¸€èˆ¬æ˜¯éœ€è¦ä½¿ç”¨&lt;code&gt;çº¿ç¨‹&lt;/code&gt;æˆ–è€…&lt;code&gt;çº¿ç¨‹æ± &lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;çº¿ç¨‹æ± çš„åº•å±‚ä¹Ÿæ˜¯ç”¨çš„çº¿ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œå®ç°ä¸€ä¸ªçº¿ç¨‹ï¼Œè¦ä¹ˆç»§æ‰¿&lt;code&gt;Thread&lt;/code&gt;ç±»ï¼Œè¦ä¹ˆå®ç°&lt;code&gt;Runnable&lt;/code&gt;æ¥å£ï¼Œç„¶ååœ¨runæ–¹æ³•ä¸­å†™å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¼€å‘springçš„å¤§ç¥ä»¬ï¼Œä¸ºäº†ç®€åŒ–è¿™ç±»å¼‚æ­¥æ“ä½œï¼Œå·²ç»å¸®æˆ‘ä»¬æŠŠå¼‚æ­¥åŠŸèƒ½å°è£…å¥½äº†ã€‚springä¸­æä¾›äº†&lt;code&gt;@Async&lt;/code&gt;æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒå³å¯å¼€å¯å¼‚æ­¥åŠŸèƒ½ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1.åœ¨&lt;code&gt;springboot&lt;/code&gt;çš„å¯åŠ¨ç±»ä¸Šé¢åŠ ä¸Š&lt;code&gt;@EnableAsync&lt;/code&gt;æ³¨è§£ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@EnableAsync&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@SpringBootApplication&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;Application&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;main&lt;/span&gt;&lt;span&gt;(String[]Â args)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â SpringApplication.run(Application&lt;span&gt;.&lt;span&gt;class&lt;/span&gt;,Â &lt;span&gt;args&lt;/span&gt;)&lt;/span&gt;;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2.åœ¨éœ€è¦æ‰§è¡Œå¼‚æ­¥è°ƒç”¨çš„ä¸šåŠ¡æ–¹æ³•åŠ ä¸Š&lt;code&gt;@Async&lt;/code&gt;æ³¨è§£ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@Service&lt;/span&gt;&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;CategoryService&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â &lt;span&gt;@Async&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(CategoryÂ category)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;//æ·»åŠ åˆ†ç±»&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;3.åœ¨controlleræ–¹æ³•ä¸­è°ƒç”¨è¿™ä¸ªä¸šåŠ¡æ–¹æ³•ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;@RestController&lt;/span&gt;&lt;br/&gt;&lt;span&gt;@RequestMapping&lt;/span&gt;(&lt;span&gt;&quot;/category&quot;&lt;/span&gt;)&lt;br/&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;CategoryController&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;&lt;br/&gt;Â Â Â Â Â &lt;span&gt;@Autowired&lt;/span&gt;&lt;br/&gt;Â Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â CategoryServiceÂ categoryService;&lt;br/&gt;Â Â &lt;br/&gt;Â Â Â Â Â &lt;span&gt;@PostMapping&lt;/span&gt;(&lt;span&gt;&quot;/add&quot;&lt;/span&gt;)&lt;br/&gt;Â Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;add&lt;/span&gt;&lt;span&gt;(@RequestBodyÂ category)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â categoryService.add(category);&lt;br/&gt;Â Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·å°±èƒ½å¼€å¯å¼‚æ­¥åŠŸèƒ½äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;æ˜¯ä¸æ˜¯å¾ˆeasyï¼Ÿ&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æœ‰ä¸ªåæ¶ˆæ¯æ˜¯ï¼š&lt;span&gt;ç”¨@Asyncæ³¨è§£å¼€å¯çš„å¼‚æ­¥åŠŸèƒ½ï¼Œä¼šè°ƒç”¨&lt;/span&gt;&lt;code&gt;AsyncExecutionAspectSupport&lt;/code&gt;&lt;span&gt;ç±»çš„&lt;/span&gt;&lt;code&gt;doSubmit&lt;/code&gt;&lt;span&gt;æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5632022471910112&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/ibJZVicC7nz5gWohqZCBBOjUa71ia1g9GfqQ2TOM39gBAF2ylQdKDnrWUWwfBSTxKHsibEwua1IvYNZXcfDiczjShXw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1424&quot;/&gt;é»˜è®¤æƒ…å†µä¼šèµ°elseé€»è¾‘ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€Œelseçš„é€»è¾‘æœ€ç»ˆä¼šè°ƒç”¨doExecuteæ–¹æ³•ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;protected&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doExecute&lt;/span&gt;&lt;span&gt;(RunnableÂ task)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â ThreadÂ threadÂ =Â (&lt;span&gt;this&lt;/span&gt;.threadFactoryÂ !=Â &lt;span&gt;null&lt;/span&gt;Â ?Â &lt;span&gt;this&lt;/span&gt;.threadFactory.newThread(task)Â :Â createThread(task));&lt;br/&gt;Â Â thread.start();&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘å»ï¼Œè¿™ä¸æ˜¯æ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹å—ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ²¡é”™ï¼Œä½¿ç”¨@Asyncæ³¨è§£å¼€å¯çš„å¼‚æ­¥åŠŸèƒ½ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´OOMé—®é¢˜ã€‚&lt;/p&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;p&gt;å»ºè®®å¤§å®¶åœ¨@Asyncæ³¨è§£å¼€å¯çš„å¼‚æ­¥åŠŸèƒ½æ—¶ï¼Œè¯·åˆ«å¿˜äº†å®šä¹‰ä¸€ä¸ª&lt;code&gt;çº¿ç¨‹æ± &lt;/code&gt;ã€‚&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;9. è‡ªæ—‹é”æµªè´¹cpuèµ„æº&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œ&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;æƒ³å¿…å¤§å®¶éƒ½å·²ç»è€³ç†Ÿèƒ½è¯¦äº†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è‡ªæ—‹é”æœ‰ä¸ªéå¸¸ç»å…¸çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯ï¼š&lt;code&gt;CAS&lt;/code&gt;ï¼ˆå³æ¯”è¾ƒå’Œäº¤æ¢ï¼‰ï¼Œå®ƒæ˜¯ä¸€ç§æ— é”åŒ–æ€æƒ³ï¼ˆè¯´ç™½äº†ç”¨äº†ä¸€ä¸ªæ­»å¾ªç¯ï¼‰ï¼Œç”¨æ¥è§£å†³é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œæ›´æ–°æ•°æ®çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è€ŒatomicåŒ…ä¸‹çš„å¾ˆå¤šç±»ï¼Œæ¯”å¦‚ï¼šAtomicIntegerã€AtomicLongã€AtomicBooleanç­‰ï¼Œéƒ½æ˜¯ç”¨CASå®ç°çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æˆ‘ä»¬ä»¥&lt;code&gt;AtomicInteger&lt;/code&gt;ç±»ä¸ºä¾‹ï¼Œå®ƒçš„&lt;code&gt;incrementAndGet&lt;/code&gt;æ²¡æœ‰æ¯æ¬¡éƒ½ç»™å˜é‡åŠ 1ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;incrementAndGet&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â unsafe.getAndAddInt(&lt;span&gt;this&lt;/span&gt;,Â valueOffset,Â &lt;span&gt;1&lt;/span&gt;)Â +Â &lt;span&gt;1&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å®ƒçš„åº•å±‚å°±æ˜¯ç”¨çš„è‡ªæ—‹é”å®ç°çš„ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â &lt;span&gt;int&lt;/span&gt;Â &lt;span&gt;getAndAddInt&lt;/span&gt;&lt;span&gt;(ObjectÂ var1,Â &lt;span&gt;long&lt;/span&gt;Â var2,Â &lt;span&gt;int&lt;/span&gt;Â var4)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â &lt;span&gt;int&lt;/span&gt;Â var5;&lt;br/&gt;Â Â &lt;span&gt;do&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â var5Â =Â &lt;span&gt;this&lt;/span&gt;.getIntVolatile(var1,Â var2);&lt;br/&gt;Â Â }Â &lt;span&gt;while&lt;/span&gt;(!&lt;span&gt;this&lt;/span&gt;.compareAndSwapInt(var1,Â var2,Â var5,Â var5Â +Â var4));&lt;br/&gt;&lt;br/&gt;Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â var5;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨do...whileæ­»å¾ªç¯ä¸­ï¼Œä¸åœè¿›è¡Œæ•°æ®çš„æ¯”è¾ƒå’Œäº¤æ¢ï¼Œå¦‚æœä¸€ç›´å¤±è´¥ï¼Œåˆ™ä¸€ç›´å¾ªç¯é‡è¯•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¦‚æœåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒcompareAndSwapIntä¼šå¾ˆå¤§æ¦‚ç‡å¤±è´¥ï¼Œå› æ­¤å¯¼è‡´äº†æ­¤å¤„cpuä¸æ–­çš„è‡ªæ—‹ï¼Œè¿™æ ·ä¼šä¸¥é‡æµªè´¹cpuèµ„æºã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚æœè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç­”ï¼šä½¿ç”¨&lt;code&gt;LockSupport&lt;/code&gt;ç±»çš„&lt;code&gt;parkNanos&lt;/code&gt;æ–¹æ³•ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…·ä½“ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;boolean&lt;/span&gt;Â &lt;span&gt;compareAndSwapInt2&lt;/span&gt;&lt;span&gt;(ObjectÂ var1,Â &lt;span&gt;long&lt;/span&gt;Â var2,Â &lt;span&gt;int&lt;/span&gt;Â var4,Â &lt;span&gt;int&lt;/span&gt;Â var5)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â &lt;span&gt;if&lt;/span&gt;(&lt;span&gt;this&lt;/span&gt;.compareAndSwapInt(var1,var2,var4,Â var5))Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;true&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â }Â &lt;span&gt;else&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â LockSupport.parkNanos(&lt;span&gt;10&lt;/span&gt;);&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â &lt;span&gt;false&lt;/span&gt;;&lt;br/&gt;Â Â Â Â Â Â }&lt;br/&gt;Â }&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å½“caså¤±è´¥ä¹‹åï¼Œè°ƒç”¨LockSupportç±»çš„parkNanosæ–¹æ³•ä¼‘çœ ä¸€ä¸‹ï¼Œç›¸å½“äºè°ƒç”¨äº†Thread.Sleepæ–¹æ³•ã€‚è¿™æ ·èƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘é¢‘ç¹è‡ªæ—‹å¯¼è‡´cpuèµ„æºè¿‡åº¦æµªè´¹çš„é—®é¢˜ã€‚&lt;/p&gt;&lt;h2 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;span&gt;10. ThreadLocalç”¨å®Œæ²¡æ¸…ç©º&lt;/span&gt;&lt;/h2&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„æŠ€æœ¯æœ‰å¾ˆå¤šï¼Œå¯ä»¥ä½¿ç”¨synchroizedã€Lockç­‰å…³é”®å­—ç»™ä»£ç å—åŠ é”ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†æ˜¯å®ƒä»¬æœ‰ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯åŠ é”ä¼šå¯¹ä»£ç çš„æ€§èƒ½æœ‰ä¸€å®šçš„æŸè€—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…¶å®ï¼Œåœ¨jdkä¸­è¿˜æä¾›äº†å¦å¤–ä¸€ç§æ€æƒ³å³ï¼š&lt;code&gt;ç”¨ç©ºé—´æ¢æ—¶é—´&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ²¡é”™ï¼Œä½¿ç”¨&lt;code&gt;ThreadLocal&lt;/code&gt;ç±»å°±æ˜¯å¯¹è¿™ç§æ€æƒ³çš„ä¸€ç§å…·ä½“ä½“ç°ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ThreadLocalä¸ºæ¯ä¸ªä½¿ç”¨å˜é‡çš„çº¿ç¨‹æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½èƒ½ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶å®ƒçº¿ç¨‹æ‰€å¯¹åº”çš„å‰¯æœ¬ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ThreadLocalçš„ç”¨æ³•å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;&lt;ol data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;å…ˆåˆ›å»ºä¸€ä¸ªCurrentUserç±»ï¼Œå…¶ä¸­åŒ…å«äº†ThreadLocalçš„é€»è¾‘ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;&lt;span&gt;class&lt;/span&gt;Â &lt;span&gt;CurrentUser&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â &lt;span&gt;private&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;final&lt;/span&gt;Â ThreadLocal&amp;lt;UserInfo&amp;gt;Â THREA_LOCALÂ =Â &lt;span&gt;new&lt;/span&gt;Â ThreadLocal();&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;set&lt;/span&gt;&lt;span&gt;(UserInfoÂ userInfo)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â Â THREA_LOCAL.set(userInfo);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â UserInfoÂ &lt;span&gt;get&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â THREA_LOCAL.get();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â &lt;br/&gt;Â Â Â Â &lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;static&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;remove&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â Â Â THREA_LOCAL.remove();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&quot;2&quot; data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;åœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨CurrentUserç±»ã€‚&lt;/section&gt;&lt;/li&gt;&lt;/ol&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doSamething&lt;/span&gt;&lt;span&gt;(UserDtoÂ userDto)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â UserInfoÂ userInfoÂ =Â convert(userDto);&lt;br/&gt;Â Â Â CurrentUser.set(userInfo);&lt;br/&gt;Â Â Â ...&lt;br/&gt;&lt;br/&gt;Â Â Â &lt;span&gt;//ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;Â Â Â UserInfoÂ userInfoÂ =Â CurrentUser.get();&lt;br/&gt;Â Â Â ...&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åœ¨ä¸šåŠ¡ä»£ç çš„ç¬¬ä¸€è¡Œï¼Œå°†userInfoå¯¹è±¡è®¾ç½®åˆ°CurrentUserï¼Œè¿™æ ·åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œå°±èƒ½é€šè¿‡CurrentUser.get()è·å–åˆ°åˆšåˆšè®¾ç½®çš„userInfoå¯¹è±¡ã€‚ç‰¹åˆ«æ˜¯å¯¹ä¸šåŠ¡ä»£ç è°ƒç”¨å±‚çº§æ¯”è¾ƒæ·±çš„æƒ…å†µï¼Œè¿™ç§ç”¨æ³•éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šä¸å¿…è¦ä¼ å‚ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½†åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¿™æ®µä»£ç æœ‰é—®é¢˜ï¼Œåªå¾€ThreadLocalå­˜æ•°æ®ï¼Œæ•°æ®ç”¨å®Œä¹‹åå¹¶æ²¡æœ‰åŠæ—¶æ¸…ç†ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ThreadLocalå³ä½¿ä½¿ç”¨äº†&lt;code&gt;WeakReference&lt;/code&gt;ï¼ˆå¼±å¼•ç”¨ï¼‰ä¹Ÿå¯èƒ½ä¼šå­˜åœ¨&lt;code&gt;å†…å­˜æ³„éœ²&lt;/code&gt;é—®é¢˜ï¼Œå› ä¸º entryå¯¹è±¡ä¸­åªæŠŠkey(å³threadLocalå¯¹è±¡)è®¾ç½®æˆäº†å¼±å¼•ç”¨ï¼Œä½†æ˜¯valueå€¼æ²¡æœ‰ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;doSamething&lt;/span&gt;&lt;span&gt;(UserDtoÂ userDto)&lt;/span&gt;Â &lt;/span&gt;{&lt;br/&gt;Â Â Â UserInfoÂ userInfoÂ =Â convert(userDto);&lt;br/&gt;Â Â Â &lt;br/&gt;Â Â Â &lt;span&gt;try&lt;/span&gt;{&lt;br/&gt;Â Â Â Â Â CurrentUser.set(userInfo);&lt;br/&gt;Â Â Â Â Â ...&lt;br/&gt;Â Â Â Â Â &lt;br/&gt;Â Â Â Â Â &lt;span&gt;//ä¸šåŠ¡ä»£ç &lt;/span&gt;&lt;br/&gt;Â Â Â Â Â UserInfoÂ userInfoÂ =Â CurrentUser.get();&lt;br/&gt;Â Â Â Â Â ...&lt;br/&gt;Â Â Â }Â &lt;span&gt;finally&lt;/span&gt;Â {&lt;br/&gt;Â Â Â Â Â Â CurrentUser.remove();&lt;br/&gt;Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;éœ€è¦åœ¨&lt;code&gt;finally&lt;/code&gt;ä»£ç å—ä¸­ï¼Œè°ƒç”¨removeæ–¹æ³•æ¸…ç†æ²¡ç”¨çš„æ•°æ®ã€‚&lt;span/&gt;&lt;/p&gt;&lt;/section&gt;
          &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>2b171205adb8396ca55cbb30fa657db4</guid>
<title>RabbitMQã€RocketMQã€Kafka ä¸‰å…ƒå½’ä¸€</title>
<link>https://toutiao.io/k/2gc8qxi</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;h3&gt;&lt;span&gt;RabbitMQ&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;RabbitMQå„ç»„ä»¶çš„åŠŸèƒ½&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Broker ï¼šä¸€ä¸ªRabbitMQå®ä¾‹å°±æ˜¯ä¸€ä¸ªBroker&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Virtual Host ï¼šè™šæ‹Ÿä¸»æœºã€‚&lt;strong&gt;ç›¸å½“äºMySQLçš„DataBase&lt;/strong&gt;ï¼Œä¸€ä¸ªBrokerä¸Šå¯ä»¥å­˜åœ¨å¤šä¸ªvhostï¼Œvhostä¹‹é—´ç›¸äº’éš”ç¦»ã€‚æ¯ä¸ªvhostéƒ½æ‹¥æœ‰è‡ªå·±çš„é˜Ÿåˆ—ã€äº¤æ¢æœºã€ç»‘å®šå’Œæƒé™æœºåˆ¶ã€‚vhostå¿…é¡»åœ¨è¿æ¥æ—¶æŒ‡å®šï¼Œé»˜è®¤çš„vhostæ˜¯/ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Exchange ï¼šäº¤æ¢æœºï¼Œç”¨æ¥æ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å°†è¿™äº›æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Queue ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æ¥ä¿å­˜æ¶ˆæ¯ç›´åˆ°å‘é€ç»™æ¶ˆè´¹è€…ã€‚å®ƒæ˜¯æ¶ˆæ¯çš„å®¹å™¨ã€‚ä¸€ä¸ªæ¶ˆæ¯å¯æŠ•å…¥ä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Banding ï¼šç»‘å®šå…³ç³»ï¼Œç”¨äº&lt;strong&gt;æ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢æœºä¹‹é—´çš„å…³è”&lt;/strong&gt;ã€‚é€šè¿‡è·¯ç”±é”®ï¼ˆ&lt;strong&gt;Routing Key&lt;/strong&gt;ï¼‰å°†äº¤æ¢æœºå’Œæ¶ˆæ¯é˜Ÿåˆ—å…³è”èµ·æ¥ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Channel ï¼šç®¡é“ï¼Œä¸€æ¡åŒå‘æ•°æ®æµé€šé“ã€‚ä¸ç®¡æ˜¯å‘å¸ƒæ¶ˆæ¯ã€è®¢é˜…é˜Ÿåˆ—è¿˜æ˜¯æ¥æ”¶æ¶ˆæ¯ï¼Œè¿™äº›åŠ¨ä½œéƒ½æ˜¯é€šè¿‡ç®¡é“å®Œæˆã€‚å› ä¸ºå¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œå»ºç«‹å’Œé”€æ¯TCPéƒ½æ˜¯éå¸¸æ˜‚è´µçš„å¼€é”€ï¼Œæ‰€ä»¥å¼•å…¥äº†ç®¡é“çš„æ¦‚å¿µï¼Œä»¥å¤ç”¨ä¸€æ¡TCPè¿æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Connection ï¼šç”Ÿäº§è€…/æ¶ˆè´¹è€… ä¸brokerä¹‹é—´çš„TCPè¿æ¥ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Publisher ï¼šæ¶ˆæ¯çš„ç”Ÿäº§è€…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Consumer ï¼šæ¶ˆæ¯çš„æ¶ˆè´¹è€…ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Message ï¼šæ¶ˆæ¯ï¼Œå®ƒæ˜¯ç”±æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ç»„æˆã€‚æ¶ˆæ¯å¤´åˆ™åŒ…æ‹¬&lt;strong&gt;Routing-Key&lt;/strong&gt;ã€&lt;strong&gt;Priority&lt;/strong&gt;ï¼ˆä¼˜å…ˆçº§ï¼‰ç­‰ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.2636363636363636&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv450CCK0SMtF8RUJxbDzueCoRuRfg1Bfj2sY7kkDgdtQAfshusQyRXHgQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;RabbitMQçš„å¤šç§äº¤æ¢æœºç±»å‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Exchange åˆ†å‘æ¶ˆæ¯ç»™ Queue æ—¶ï¼Œ Exchange çš„ç±»å‹å¯¹åº”ä¸åŒçš„åˆ†å‘ç­–ç•¥ï¼Œæœ‰3ç§ç±»å‹çš„ Exchange ï¼š&lt;strong&gt;Direct&lt;/strong&gt;ã€&lt;strong&gt;Fanout&lt;/strong&gt;ã€&lt;strong&gt;Topic&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Direct&lt;/strong&gt;ï¼šæ¶ˆæ¯ä¸­çš„ Routing Key å¦‚æœå’Œ Binding ä¸­çš„ Routing Key å®Œå…¨ä¸€è‡´ï¼Œ Exchange å°±ä¼šå°†æ¶ˆæ¯åˆ†å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Fanout&lt;/strong&gt;ï¼šæ¯ä¸ªå‘åˆ° Fanout ç±»å‹äº¤æ¢æœºçš„æ¶ˆæ¯éƒ½ä¼šåˆ†å‘åˆ°æ‰€æœ‰ç»‘å®šçš„é˜Ÿåˆ—ä¸Šå»ã€‚Fanoutäº¤æ¢æœºæ²¡æœ‰ Routing Key ã€‚&lt;strong&gt;å®ƒåœ¨ä¸‰ç§ç±»å‹çš„äº¤æ¢æœºä¸­è½¬å‘æ¶ˆæ¯æ˜¯æœ€å¿«çš„&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Topic&lt;/strong&gt;ï¼šTopicäº¤æ¢æœºé€šè¿‡æ¨¡å¼åŒ¹é…åˆ†é…æ¶ˆæ¯ï¼Œå°† Routing Key å’ŒæŸä¸ªæ¨¡å¼è¿›è¡ŒåŒ¹é…ã€‚å®ƒåªèƒ½è¯†åˆ«ä¸¤ä¸ª&lt;strong&gt;é€šé…ç¬¦&lt;/strong&gt;ï¼š&lt;strong&gt;&quot;#&quot;å’Œ&quot;*&quot;&lt;/strong&gt;ã€‚### åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå•è¯ï¼Œ * åŒ¹é…1ä¸ªå•è¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;TTL&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;TTLï¼ˆTime To Liveï¼‰ï¼šç”Ÿå­˜æ—¶é—´ã€‚RabbitMQæ”¯æŒæ¶ˆæ¯çš„è¿‡æœŸæ—¶é—´ï¼Œä¸€å…±2ç§ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç”Ÿäº§è€…çš„æ¶ˆæ¯ç¡®è®¤æœºåˆ¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Confirmæœºåˆ¶ï¼š&lt;/p&gt;&lt;p&gt;å¦‚ä½•å®ç°Confirmç¡®è®¤æ¶ˆæ¯ï¼Ÿ&lt;/p&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5218181818181818&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv458VekI6nAPdgwt3s7NKmSeppX1ylXIbcbq9dwh1bccTm39pbIZmHg2w/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;/section&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;åœ¨channelä¸Šå¼€å¯ç¡®è®¤æ¨¡å¼&lt;/strong&gt;ï¼šchannel.confirmSelect()&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;åœ¨channelä¸Šå¼€å¯ç›‘å¬&lt;/strong&gt;ï¼šaddConfirmListener ï¼Œç›‘å¬æˆåŠŸå’Œå¤±è´¥çš„å¤„ç†ç»“æœï¼Œæ ¹æ®å…·ä½“çš„ç»“æœå¯¹æ¶ˆæ¯è¿›è¡Œé‡æ–°å‘é€æˆ–è®°å½•æ—¥å¿—å¤„ç†ç­‰åç»­æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Returnæ¶ˆæ¯æœºåˆ¶ï¼š&lt;/p&gt;&lt;p&gt;Return Listener&lt;strong&gt;ç”¨äºå¤„ç†ä¸€äº›ä¸å¯è·¯ç”±çš„æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬çš„æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œé€šè¿‡æŒ‡å®šä¸€ä¸ªExchangeå’ŒRoutingï¼ŒæŠŠæ¶ˆæ¯é€è¾¾åˆ°æŸä¸€ä¸ªé˜Ÿåˆ—ä¸­å»ï¼Œç„¶åæˆ‘ä»¬çš„æ¶ˆè´¹è€…ç›‘å¬é˜Ÿåˆ—è¿›è¡Œæ¶ˆæ¯çš„æ¶ˆè´¹å¤„ç†æ“ä½œã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œå½“å‰çš„exchangeä¸å­˜åœ¨æˆ–è€…æŒ‡å®šçš„è·¯ç”±keyè·¯ç”±ä¸åˆ°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç›‘å¬è¿™ç§ä¸å¯è¾¾æ¶ˆæ¯ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°Returrn Listenerã€‚&lt;/p&gt;&lt;p&gt;åŸºç¡€APIä¸­æœ‰ä¸ªå…³é”®çš„é…ç½®é¡¹ Mandatory ï¼šå¦‚æœä¸ºtrueï¼Œç›‘å¬å™¨ä¼šæ”¶åˆ°è·¯ç”±ä¸å¯è¾¾çš„æ¶ˆæ¯ï¼Œç„¶åè¿›è¡Œå¤„ç†ã€‚å¦‚æœä¸ºfalseï¼Œbrokerç«¯ä¼šè‡ªåŠ¨åˆ é™¤è¯¥æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;åŒæ ·ï¼Œé€šè¿‡ç›‘å¬çš„æ–¹å¼ï¼Œ chennel.addReturnListener(ReturnListener rl) ä¼ å…¥å·²ç»é‡å†™è¿‡handleReturnæ–¹æ³•çš„ReturnListenerã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ¶ˆè´¹ç«¯ACKä¸NACK&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹çš„æ—¶å€™ï¼Œå¦‚æœç”±äºä¸šåŠ¡å¼‚å¸¸å¯ä»¥è¿›è¡Œæ—¥å¿—çš„è®°å½•ï¼Œç„¶åè¿›è¡Œè¡¥å¿ã€‚ä½†æ˜¯å¯¹äºæœåŠ¡å™¨å®•æœºç­‰ä¸¥é‡é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦&lt;strong&gt;æ‰‹åŠ¨ACK&lt;/strong&gt;ä¿éšœæ¶ˆè´¹ç«¯æ¶ˆè´¹æˆåŠŸã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;// deliveryTagï¼šæ¶ˆæ¯åœ¨mqä¸­çš„å”¯ä¸€æ ‡è¯†&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// multipleï¼šæ˜¯å¦æ‰¹é‡(å’Œqosè®¾ç½®ç±»ä¼¼çš„å‚æ•°)&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;// requeueï¼šæ˜¯å¦éœ€è¦é‡å›é˜Ÿåˆ—ã€‚æˆ–è€…ä¸¢å¼ƒæˆ–è€…é‡å›é˜Ÿé¦–å†æ¬¡æ¶ˆè´¹ã€‚&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;public&lt;/span&gt;Â &lt;span&gt;void&lt;/span&gt;Â &lt;span&gt;basicNack&lt;/span&gt;&lt;span&gt;(&lt;span&gt;long&lt;/span&gt;Â deliveryTag,Â &lt;span&gt;boolean&lt;/span&gt;Â multiple,Â &lt;span&gt;boolean&lt;/span&gt;Â requeue)&lt;/span&gt;Â &lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚ä¸Šä»£ç ï¼Œæ¶ˆæ¯åœ¨&lt;strong&gt;æ¶ˆè´¹ç«¯é‡å›é˜Ÿåˆ—&lt;/strong&gt;æ˜¯ä¸ºäº†å¯¹æ²¡æœ‰æˆåŠŸå¤„ç†æ¶ˆæ¯ï¼ŒæŠŠæ¶ˆæ¯é‡æ–°è¿”å›åˆ°Brokerã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå®é™…åº”ç”¨ä¸­éƒ½ä¼šå…³é—­é‡å›é˜Ÿåˆ—ï¼ˆ&lt;strong&gt;é¿å…è¿›å…¥æ­»å¾ªç¯&lt;/strong&gt;ï¼‰ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®ä¸ºfalseã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ­»ä¿¡é˜Ÿåˆ—DLX&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDLX Dead-Letter-Exchangeï¼‰ï¼šå½“æ¶ˆæ¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­å˜æˆæ­»ä¿¡ä¹‹åï¼Œå®ƒä¼šè¢«é‡æ–°æ¨é€åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—å°±æ˜¯æ­»ä¿¡é˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;p&gt;DLXä¹Ÿæ˜¯ä¸€ä¸ªæ­£å¸¸çš„Exchangeï¼Œå’Œä¸€èˆ¬çš„Exchangeæ²¡æœ‰åŒºåˆ«ï¼Œå®ƒèƒ½åœ¨ä»»ä½•çš„é˜Ÿåˆ—ä¸Šè¢«æŒ‡å®šï¼Œå®é™…ä¸Šå°±æ˜¯è®¾ç½®æŸä¸ªé˜Ÿåˆ—çš„å±æ€§ã€‚&lt;/p&gt;&lt;p&gt;å½“è¿™ä¸ªé˜Ÿåˆ—ä¸­æœ‰æ­»ä¿¡æ—¶ï¼Œ&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNjQwNzU2NQ==&amp;amp;mid=2650357391&amp;amp;idx=1&amp;amp;sn=98a68099613a0f3d22b1f75c90f27f27&amp;amp;chksm=83004a6db477c37b1cd81500be3e7a474475780d70c760804119dc841362d88bb375c47d4d70&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;RabbitMQ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;RabbitMQ&lt;/span&gt;&lt;/a&gt;å°±ä¼šè‡ªåŠ¨çš„å°†è¿™ä¸ªæ¶ˆæ¯é‡æ–°å‘å¸ƒåˆ°è®¾ç½®çš„Exchangeä¸Šå»ï¼Œè¿›è€Œè¢«è·¯ç”±åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ã€‚&lt;/p&gt;&lt;h3&gt;&lt;span&gt;RocketMQ&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;é˜¿é‡Œå·´å·´åŒåä¸€å®˜æ–¹æŒ‡å®šæ¶ˆæ¯äº§å“ï¼Œæ”¯æ’‘é˜¿é‡Œå·´å·´é›†å›¢æ‰€æœ‰çš„æ¶ˆæ¯æœåŠ¡ï¼Œå†ç»åä½™å¹´é«˜å¯ç”¨ä¸é«˜å¯é çš„ä¸¥è‹›è€ƒéªŒï¼Œæ˜¯é˜¿é‡Œå·´å·´äº¤æ˜“é“¾è·¯çš„æ ¸å¿ƒäº§å“ã€‚&lt;/p&gt;&lt;p&gt;Rocketï¼šç«ç®­çš„æ„æ€ã€‚&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5727272727272728&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45TG8Bo77icgLmDHLeE96iaH47UPxjbWXSoSWGPuQylfymN0eNRTh7nGUg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;span&gt;&lt;strong&gt;RocketMQçš„æ ¸å¿ƒæ¦‚å¿µ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä»–æœ‰ä»¥ä¸‹æ ¸å¿ƒæ¦‚å¿µï¼šBroker ã€ Topic ã€ Tag ã€ MessageQueue ã€ NameServer ã€ Group ã€ Offset ã€ Producer ä»¥åŠ Consumer ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢æ¥è¯¦ç»†ä»‹ç»ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Broker&lt;/strong&gt;ï¼šæ¶ˆæ¯ä¸­è½¬è§’è‰²ï¼Œè´Ÿè´£&lt;strong&gt;å­˜å‚¨æ¶ˆæ¯&lt;/strong&gt;ï¼Œè½¬å‘æ¶ˆæ¯ã€‚&lt;strong&gt;Broker&lt;/strong&gt;æ˜¯å…·ä½“æä¾›ä¸šåŠ¡çš„æœåŠ¡å™¨ï¼Œå•ä¸ªBrokerèŠ‚ç‚¹ä¸æ‰€æœ‰çš„NameServerèŠ‚ç‚¹ä¿æŒé•¿è¿æ¥åŠå¿ƒè·³ï¼Œå¹¶ä¼šå®šæ—¶å°†&lt;strong&gt;Topic&lt;/strong&gt;ä¿¡æ¯æ³¨å†Œåˆ°NameServerï¼Œé¡ºå¸¦ä¸€æåº•å±‚çš„é€šä¿¡å’Œè¿æ¥éƒ½æ˜¯&lt;strong&gt;åŸºäºNettyå®ç°&lt;/strong&gt;çš„ã€‚&lt;strong&gt;Broker&lt;/strong&gt;è´Ÿè´£æ¶ˆæ¯å­˜å‚¨ï¼Œä»¥Topicä¸ºçº¬åº¦æ”¯æŒè½»é‡çº§çš„é˜Ÿåˆ—ï¼Œå•æœºå¯ä»¥æ”¯æ’‘ä¸Šä¸‡é˜Ÿåˆ—è§„æ¨¡ï¼Œæ”¯æŒæ¶ˆæ¯æ¨æ‹‰æ¨¡å‹ã€‚å®˜ç½‘ä¸Šæœ‰æ•°æ®æ˜¾ç¤ºï¼šå…·æœ‰&lt;strong&gt;ä¸Šäº¿çº§æ¶ˆæ¯å †ç§¯èƒ½åŠ›&lt;/strong&gt;ï¼ŒåŒæ—¶å¯&lt;strong&gt;ä¸¥æ ¼ä¿è¯æ¶ˆæ¯çš„æœ‰åºæ€§&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Topic&lt;/strong&gt;ï¼šä¸»é¢˜ï¼å®ƒæ˜¯æ¶ˆæ¯çš„ç¬¬ä¸€çº§ç±»å‹ã€‚æ¯”å¦‚ä¸€ä¸ªç”µå•†ç³»ç»Ÿå¯ä»¥åˆ†ä¸ºï¼šäº¤æ˜“æ¶ˆæ¯ã€ç‰©æµæ¶ˆæ¯ç­‰ï¼Œä¸€æ¡æ¶ˆæ¯å¿…é¡»æœ‰ä¸€ä¸ª Topic ã€‚&lt;strong&gt;Topic&lt;/strong&gt;ä¸ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å…³ç³»éå¸¸æ¾æ•£ï¼Œä¸€ä¸ª Topic å¯ä»¥æœ‰0ä¸ªã€1ä¸ªã€å¤šä¸ªç”Ÿäº§è€…å‘å…¶å‘é€æ¶ˆæ¯ï¼Œä¸€ä¸ªç”Ÿäº§è€…ä¹Ÿå¯ä»¥åŒæ—¶å‘ä¸åŒçš„ Topic å‘é€æ¶ˆæ¯ã€‚ä¸€ä¸ª Topic ä¹Ÿå¯ä»¥è¢« 0ä¸ªã€1ä¸ªã€å¤šä¸ªæ¶ˆè´¹è€…è®¢é˜…ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Tag&lt;/strong&gt;ï¼šæ ‡ç­¾ï¼å¯ä»¥çœ‹ä½œå­ä¸»é¢˜ï¼Œå®ƒæ˜¯æ¶ˆæ¯çš„ç¬¬äºŒçº§ç±»å‹ï¼Œç”¨äºä¸ºç”¨æˆ·æä¾›é¢å¤–çš„çµæ´»æ€§ã€‚ä½¿ç”¨æ ‡ç­¾ï¼ŒåŒä¸€ä¸šåŠ¡æ¨¡å—ä¸åŒç›®çš„çš„æ¶ˆæ¯å°±å¯ä»¥ç”¨ç›¸åŒTopicè€Œä¸åŒçš„&lt;strong&gt;Tag&lt;/strong&gt;æ¥æ ‡è¯†ã€‚æ¯”å¦‚äº¤æ˜“æ¶ˆæ¯åˆå¯ä»¥åˆ†ä¸ºï¼šäº¤æ˜“åˆ›å»ºæ¶ˆæ¯ã€äº¤æ˜“å®Œæˆæ¶ˆæ¯ç­‰ï¼Œä¸€æ¡æ¶ˆæ¯å¯ä»¥æ²¡æœ‰&lt;strong&gt;Tag&lt;/strong&gt;ã€‚æ ‡ç­¾æœ‰åŠ©äºä¿æŒæ‚¨çš„ä»£ç å¹²å‡€å’Œè¿è´¯ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ä¸º&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNjQwNzU2NQ==&amp;amp;mid=2650357391&amp;amp;idx=1&amp;amp;sn=98a68099613a0f3d22b1f75c90f27f27&amp;amp;chksm=83004a6db477c37b1cd81500be3e7a474475780d70c760804119dc841362d88bb375c47d4d70&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;RabbitMQ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;RabbitMQ&lt;/span&gt;&lt;/a&gt;æä¾›çš„æŸ¥è¯¢ç³»ç»Ÿæä¾›å¸®åŠ©ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;MessageQueue&lt;/strong&gt;ï¼šä¸€ä¸ªTopicä¸‹å¯ä»¥è®¾ç½®å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‘é€æ¶ˆæ¯æ—¶æ‰§è¡Œè¯¥æ¶ˆæ¯çš„Topicï¼ŒRocketMQä¼šè½®è¯¢è¯¥Topicä¸‹çš„æ‰€æœ‰é˜Ÿåˆ—å°†æ¶ˆæ¯å‘å‡ºå»ã€‚æ¶ˆæ¯çš„ç‰©ç†ç®¡ç†å•ä½ã€‚ä¸€ä¸ªTopicä¸‹å¯ä»¥æœ‰å¤šä¸ªQueueï¼ŒQueueçš„å¼•å…¥ä½¿å¾—æ¶ˆæ¯çš„å­˜å‚¨å¯ä»¥åˆ†å¸ƒå¼é›†ç¾¤åŒ–ï¼Œå…·æœ‰äº†æ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;NameServer&lt;/strong&gt;ï¼šç±»ä¼¼Kafkaä¸­çš„ZooKeeperï¼Œä½†NameServeré›†ç¾¤ä¹‹é—´æ˜¯&lt;strong&gt;æ²¡æœ‰é€šä¿¡&lt;/strong&gt;çš„ï¼Œç›¸å¯¹ZKæ¥è¯´æ›´åŠ &lt;strong&gt;è½»é‡&lt;/strong&gt;ã€‚å®ƒä¸»è¦è´Ÿè´£å¯¹äºæºæ•°æ®çš„ç®¡ç†ï¼ŒåŒ…æ‹¬äº†å¯¹äº&lt;strong&gt;Topic&lt;/strong&gt;å’Œè·¯ç”±ä¿¡æ¯çš„ç®¡ç†ã€‚æ¯ä¸ªBrokeråœ¨å¯åŠ¨çš„æ—¶å€™ä¼šåˆ°NameServeræ³¨å†Œï¼ŒProduceråœ¨å‘é€æ¶ˆæ¯å‰ä¼šæ ¹æ®Topicå»NameServer&lt;strong&gt;è·å–å¯¹åº”Brokerçš„è·¯ç”±ä¿¡æ¯&lt;/strong&gt;ï¼ŒConsumerä¹Ÿä¼šå®šæ—¶è·å– Topic çš„è·¯ç”±ä¿¡æ¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Producer&lt;/strong&gt;ï¼šç”Ÿäº§è€…ï¼Œæ”¯æŒä¸‰ç§æ–¹å¼å‘é€æ¶ˆæ¯ï¼š&lt;strong&gt;åŒæ­¥ã€å¼‚æ­¥å’Œå•å‘&lt;/strong&gt;å•å‘å‘é€ ï¼šæ¶ˆæ¯å‘å‡ºå»åï¼Œå¯ä»¥ç»§ç»­å‘é€ä¸‹ä¸€æ¡æ¶ˆæ¯æˆ–æ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œä¸ç­‰å¾…æœåŠ¡å™¨å›åº”ï¼Œä¸”&lt;strong&gt;æ²¡æœ‰å›è°ƒå‡½æ•°&lt;/strong&gt;ã€‚å¼‚æ­¥å‘é€ ï¼šæ¶ˆæ¯å‘å‡ºå»åï¼Œå¯ä»¥ç»§ç»­å‘é€ä¸‹ä¸€æ¡æ¶ˆæ¯æˆ–æ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œä¸ç­‰å¾…æœåŠ¡å™¨å›åº”ï¼Œ&lt;strong&gt;æœ‰å›è°ƒå‡½æ•°&lt;/strong&gt;ã€‚åŒæ­¥å‘é€ ï¼šæ¶ˆæ¯å‘å‡ºå»åï¼Œç­‰å¾…æœåŠ¡å™¨å“åº”æˆåŠŸæˆ–å¤±è´¥ï¼Œæ‰èƒ½ç»§ç»­åé¢çš„æ“ä½œã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Consumer&lt;/strong&gt;ï¼šæ¶ˆè´¹è€…ï¼Œæ”¯æŒ PUSH å’Œ PULL ä¸¤ç§æ¶ˆè´¹æ¨¡å¼ï¼Œæ”¯æŒ&lt;strong&gt;é›†ç¾¤æ¶ˆè´¹&lt;/strong&gt;å’Œ&lt;strong&gt;å¹¿æ’­æ¶ˆè´¹&lt;/strong&gt;é›†ç¾¤æ¶ˆè´¹ ï¼šè¯¥æ¨¡å¼ä¸‹ä¸€ä¸ªæ¶ˆè´¹è€…é›†ç¾¤å…±åŒæ¶ˆè´¹ä¸€ä¸ªä¸»é¢˜çš„å¤šä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªé˜Ÿåˆ—åªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œå¦‚æœæŸä¸ªæ¶ˆè´¹è€…æŒ‚æ‰ï¼Œåˆ†ç»„å†…å…¶å®ƒæ¶ˆè´¹è€…ä¼šæ¥æ›¿æŒ‚æ‰çš„æ¶ˆè´¹è€…ç»§ç»­æ¶ˆè´¹ã€‚å¹¿æ’­æ¶ˆè´¹ ï¼šä¼šå‘ç»™æ¶ˆè´¹è€…ç»„ä¸­çš„æ¯ä¸€ä¸ªæ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹ã€‚ç›¸å½“äº&lt;strong&gt;RabbitMQ&lt;/strong&gt;çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Group&lt;/strong&gt;ï¼šåˆ†ç»„ï¼Œä¸€ä¸ªç»„å¯ä»¥è®¢é˜…å¤šä¸ªTopicã€‚åˆ†ä¸ºProducerGroupï¼ŒConsumerGroupï¼Œä»£è¡¨æŸä¸€ç±»çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œä¸€èˆ¬æ¥è¯´åŒä¸€ä¸ªæœåŠ¡å¯ä»¥ä½œä¸ºGroupï¼ŒåŒä¸€ä¸ªGroupä¸€èˆ¬æ¥è¯´å‘é€å’Œæ¶ˆè´¹çš„æ¶ˆæ¯éƒ½æ˜¯ä¸€æ ·çš„&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Offset&lt;/strong&gt;ï¼šåœ¨RocketMQä¸­ï¼Œæ‰€æœ‰æ¶ˆæ¯é˜Ÿåˆ—éƒ½æ˜¯æŒä¹…åŒ–ï¼Œé•¿åº¦æ— é™çš„æ•°æ®ç»“æ„ï¼Œæ‰€è°“é•¿åº¦æ— é™æ˜¯æŒ‡é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½æ˜¯å®šé•¿ï¼Œè®¿é—®å…¶ä¸­çš„å­˜å‚¨å•å…ƒä½¿ç”¨Offsetæ¥è®¿é—®ï¼ŒOffsetä¸ºJava Longç±»å‹ï¼Œ64ä½ï¼Œç†è®ºä¸Šåœ¨ 100å¹´å†…ä¸ä¼šæº¢å‡ºï¼Œæ‰€ä»¥è®¤ä¸ºæ˜¯é•¿åº¦æ— é™ã€‚ä¹Ÿå¯ä»¥è®¤ä¸ºMessage Queueæ˜¯ä¸€ä¸ªé•¿åº¦æ— é™çš„æ•°ç»„ï¼Œ&lt;strong&gt;Offset&lt;/strong&gt;å°±æ˜¯ä¸‹æ ‡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å»¶æ—¶æ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å¼€æºç‰ˆçš„RocketMQä¸æ”¯æŒä»»æ„æ—¶é—´ç²¾åº¦ï¼Œä»…æ”¯æŒç‰¹å®šçš„levelï¼Œä¾‹å¦‚å®šæ—¶5sï¼Œ10sï¼Œ1minç­‰ã€‚å…¶ä¸­ï¼Œlevel=0çº§è¡¨ç¤ºä¸å»¶æ—¶ï¼Œlevel=1è¡¨ç¤º1çº§å»¶æ—¶ï¼Œlevel=2è¡¨ç¤º2çº§å»¶æ—¶ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;&lt;p&gt;å»¶æ—¶ç­‰çº§å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;messageDelayLevel=&lt;span&gt;1s&lt;/span&gt;Â &lt;span&gt;5s&lt;/span&gt;Â &lt;span&gt;10s&lt;/span&gt;Â &lt;span&gt;30s&lt;/span&gt;Â &lt;span&gt;1&lt;/span&gt;mÂ &lt;span&gt;2&lt;/span&gt;mÂ &lt;span&gt;3&lt;/span&gt;mÂ &lt;span&gt;4&lt;/span&gt;mÂ &lt;span&gt;5&lt;/span&gt;mÂ &lt;span&gt;6&lt;/span&gt;mÂ &lt;span&gt;7&lt;/span&gt;mÂ &lt;span&gt;8&lt;/span&gt;mÂ &lt;span&gt;9&lt;/span&gt;mÂ &lt;span&gt;10&lt;/span&gt;mÂ &lt;span&gt;20&lt;/span&gt;mÂ &lt;span&gt;30&lt;/span&gt;mÂ &lt;span&gt;1&lt;/span&gt;hÂ &lt;span&gt;2&lt;/span&gt;h&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;é¡ºåºæ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯æœ‰åºæŒ‡çš„æ˜¯å¯ä»¥æŒ‰ç…§æ¶ˆæ¯çš„å‘é€é¡ºåºæ¥æ¶ˆè´¹ï¼ˆFIFOï¼‰ã€‚RocketMQå¯ä»¥ä¸¥æ ¼çš„ä¿è¯æ¶ˆæ¯æœ‰åºï¼Œå¯ä»¥åˆ†ä¸º åˆ†åŒºæœ‰åº æˆ–è€… å…¨å±€æœ‰åº ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;äº‹åŠ¡æ¶ˆæ¯&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.30363636363636365&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45jMVIRW6JxbVicpM6ZmicUsXnH2r68ehOA3EbxVa5aNZTPPiag69OcEMIg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—MQæä¾›ç±»ä¼¼X/Open XAçš„åˆ†å¸ƒå¼äº‹åŠ¡åŠŸèƒ½ï¼Œé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—MQäº‹åŠ¡æ¶ˆæ¯èƒ½è¾¾åˆ°åˆ†å¸ƒå¼äº‹åŠ¡çš„æœ€ç»ˆä¸€è‡´ã€‚ä¸Šå›¾è¯´æ˜äº†äº‹åŠ¡æ¶ˆæ¯çš„å¤§è‡´æµç¨‹ï¼šæ­£å¸¸äº‹åŠ¡æ¶ˆæ¯çš„å‘é€å’Œæäº¤ã€äº‹åŠ¡æ¶ˆæ¯çš„è¡¥å¿æµç¨‹ã€‚&lt;/p&gt;&lt;p&gt;äº‹åŠ¡æ¶ˆæ¯å‘é€åŠæäº¤ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å‘é€halfæ¶ˆæ¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æœåŠ¡ç«¯å“åº”æ¶ˆæ¯å†™å…¥ç»“æœ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®å‘é€ç»“æœæ‰§è¡Œæœ¬åœ°äº‹åŠ¡ï¼ˆå¦‚æœå†™å…¥å¤±è´¥ï¼Œæ­¤æ—¶halfæ¶ˆæ¯å¯¹ä¸šåŠ¡ä¸å¯è§ï¼Œæœ¬åœ°é€»è¾‘ä¸æ‰§è¡Œï¼‰ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®æœ¬åœ°äº‹åŠ¡çŠ¶æ€æ‰§è¡ŒCommitæˆ–Rollbackï¼ˆCommitæ“ä½œç”Ÿæˆæ¶ˆæ¯ç´¢å¼•ï¼Œæ¶ˆæ¯å¯¹æ¶ˆè´¹è€…å¯è§ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;äº‹åŠ¡æ¶ˆæ¯çš„è¡¥å¿æµç¨‹ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¯¹æ²¡æœ‰Commit/Rollbackçš„äº‹åŠ¡æ¶ˆæ¯ï¼ˆpendingçŠ¶æ€çš„æ¶ˆæ¯ï¼‰ï¼Œä»æœåŠ¡ç«¯å‘èµ·ä¸€æ¬¡â€œå›æŸ¥â€ï¼›&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Produceræ”¶åˆ°å›æŸ¥æ¶ˆæ¯ï¼Œæ£€æŸ¥å›æŸ¥æ¶ˆæ¯å¯¹åº”çš„æœ¬åœ°äº‹åŠ¡çš„çŠ¶æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ ¹æ®æœ¬åœ°äº‹åŠ¡çŠ¶æ€ï¼Œé‡æ–°Commitæˆ–RollBack&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;å…¶ä¸­ï¼Œè¡¥å¿é˜¶æ®µç”¨äºè§£å†³æ¶ˆæ¯Commitæˆ–Rollbackå‘ç”Ÿè¶…æ—¶æˆ–è€…å¤±è´¥çš„æƒ…å†µã€‚&lt;/p&gt;&lt;p&gt;äº‹åŠ¡æ¶ˆæ¯çŠ¶æ€ï¼š&lt;/p&gt;&lt;p&gt;äº‹åŠ¡æ¶ˆæ¯å…±æœ‰ä¸‰ç§çŠ¶æ€ï¼šæäº¤çŠ¶æ€ã€å›æ»šçŠ¶æ€ã€ä¸­é—´çŠ¶æ€ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;TransactionStatus.CommitTransactionï¼šæäº¤äº‹åŠ¡ï¼Œå®ƒå…è®¸æ¶ˆè´¹è€…æ¶ˆè´¹æ­¤æ¶ˆæ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;TransactionStatus.RollbackTransactionï¼šå›æ»šäº‹åŠ¡ï¼Œå®ƒä»£è¡¨è¯¥æ¶ˆæ¯å°†è¢«åˆ é™¤ï¼Œä¸å…è®¸è¢«æ¶ˆè´¹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;TransactionStatus.Unkonwnï¼šä¸­é—´çŠ¶æ€ï¼Œå®ƒä»£è¡¨éœ€è¦æ£€æŸ¥æ¶ˆæ¯é˜Ÿåˆ—æ¥ç¡®å®šæ¶ˆæ¯çŠ¶æ€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;RocketMQçš„é«˜å¯ç”¨æœºåˆ¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;â€&lt;/span&gt;RocketMQ&lt;span&gt;â€&lt;/span&gt;æ˜¯å¤©ç”Ÿæ”¯æŒåˆ†å¸ƒå¼çš„ï¼Œå¯ä»¥é…ç½®ä¸»ä»ä»¥åŠæ°´å¹³æ‰©å±•ã€‚&lt;/p&gt;&lt;p&gt;Masterè§’è‰²çš„Brokeræ”¯æŒè¯»å’Œå†™ï¼ŒSlaveè§’è‰²çš„Brokerä»…æ”¯æŒè¯»ï¼Œä¹Ÿå°±æ˜¯ Produceråªèƒ½å’ŒMasterè§’è‰²çš„Brokerè¿æ¥å†™å…¥æ¶ˆæ¯ï¼›Consumerå¯ä»¥è¿æ¥ Masterè§’è‰²çš„Brokerï¼Œä¹Ÿå¯ä»¥è¿æ¥Slaveè§’è‰²çš„Brokeræ¥è¯»å–æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯æ¶ˆè´¹çš„é«˜å¯ç”¨ï¼ˆä¸»ä»ï¼‰ï¼š&lt;/p&gt;&lt;p&gt;åœ¨Consumerçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸éœ€è¦è®¾ç½®æ˜¯ä»Masterè¯»è¿˜æ˜¯ä»Slaveè¯»ï¼Œå½“Masterä¸å¯ç”¨æˆ–è€…ç¹å¿™çš„æ—¶å€™ï¼ŒConsumerä¼šè¢«è‡ªåŠ¨åˆ‡æ¢åˆ°ä»Slaveè¯»ã€‚æœ‰äº†è‡ªåŠ¨åˆ‡æ¢Consumerè¿™ç§æœºåˆ¶ï¼Œå½“ä¸€ä¸ªMasterè§’è‰²çš„æœºå™¨å‡ºç°æ•…éšœåï¼ŒConsumerä»ç„¶å¯ä»¥ä»Slaveè¯»å–æ¶ˆæ¯ï¼Œä¸å½±å“Consumerç¨‹åºã€‚è¿™å°±è¾¾åˆ°äº†æ¶ˆè´¹ç«¯çš„é«˜å¯ç”¨æ€§ã€‚&lt;strong&gt;RocketMQç›®å‰è¿˜ä¸æ”¯æŒæŠŠSlaveè‡ªåŠ¨è½¬æˆMaster&lt;/strong&gt;ï¼Œå¦‚æœæœºå™¨èµ„æºä¸è¶³ï¼Œéœ€è¦æŠŠSlaveè½¬æˆMasterï¼Œåˆ™è¦æ‰‹åŠ¨åœæ­¢Slaveè§’è‰²çš„Brokerï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶ï¼Œç”¨æ–°çš„é…ç½®æ–‡ä»¶å¯åŠ¨Brokerã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯å‘é€é«˜å¯ç”¨ï¼ˆé…ç½®å¤šä¸ªä¸»èŠ‚ç‚¹ï¼‰ï¼š&lt;/p&gt;&lt;p&gt;åœ¨åˆ›å»ºTopicçš„æ—¶å€™ï¼ŒæŠŠTopicçš„å¤šä¸ªMessage Queueåˆ›å»ºåœ¨å¤šä¸ªBrokerç»„ä¸Šï¼ˆç›¸åŒBrokeråç§°ï¼Œä¸åŒ brokerIdçš„æœºå™¨ç»„æˆä¸€ä¸ªBrokerç»„ï¼‰ï¼Œè¿™æ ·å½“ä¸€ä¸ªBrokerç»„çš„Masterä¸å¯ç”¨åï¼Œå…¶ä»–ç»„çš„Masterä»ç„¶å¯ç”¨ï¼ŒProducerä»ç„¶å¯ä»¥å‘é€æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;ä¸»ä»å¤åˆ¶ï¼š&lt;/p&gt;&lt;p&gt;å¦‚æœä¸€ä¸ªBrokerç»„æœ‰Masterå’ŒSlaveï¼Œæ¶ˆæ¯éœ€è¦ä»Masterå¤åˆ¶åˆ°Slave ä¸Šï¼Œæœ‰åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å¤åˆ¶æ–¹å¼ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;åŒæ­¥å¤åˆ¶&lt;/strong&gt;ï¼šåŒæ­¥å¤åˆ¶æ–¹å¼æ˜¯ç­‰Masterå’ŒSlaveå‡å†™æˆåŠŸåæ‰åé¦ˆç»™å®¢æˆ·ç«¯å†™æˆåŠŸçŠ¶æ€ã€‚å¦‚æœMasterå‡ºæ•…éšœï¼Œ Slaveä¸Šæœ‰å…¨éƒ¨çš„å¤‡ä»½æ•°æ®ï¼Œå®¹æ˜“æ¢å¤åŒæ­¥å¤åˆ¶ä¼šå¢å¤§æ•°æ®å†™å…¥å»¶è¿Ÿï¼Œé™ä½ç³»ç»Ÿååé‡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;å¼‚æ­¥å¤åˆ¶&lt;/strong&gt;ï¼šå¼‚æ­¥å¤åˆ¶æ–¹å¼æ˜¯åªè¦Masterå†™æˆåŠŸ å³å¯åé¦ˆç»™å®¢æˆ·ç«¯å†™æˆåŠŸçŠ¶æ€ã€‚åœ¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ä¸‹ï¼Œç³»ç»Ÿæ‹¥æœ‰è¾ƒä½çš„å»¶è¿Ÿå’Œè¾ƒé«˜çš„ååé‡ï¼Œä½†æ˜¯å¦‚æœMasterå‡ºäº†æ•…éšœï¼Œæœ‰äº›æ•°æ®å› ä¸ºæ²¡æœ‰è¢«å†™ å…¥Slaveï¼Œæœ‰å¯èƒ½ä¼šä¸¢å¤±&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥æŠŠMasterå’ŒSaveé…ç½®æˆåŒæ­¥åˆ·ç›˜æ–¹å¼ï¼Œä¸»ä»ä¹‹é—´é…ç½®æˆå¼‚æ­¥çš„å¤åˆ¶æ–¹å¼ï¼Œè¿™æ ·å³ä½¿æœ‰ä¸€å°æœºå™¨å‡ºæ•…éšœï¼Œä»ç„¶èƒ½ä¿è¯æ•°æ®ä¸ä¸¢ï¼Œæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Producerè´Ÿè½½å‡è¡¡ï¼š&lt;/p&gt;&lt;p&gt;Producerç«¯ï¼Œæ¯ä¸ªå®ä¾‹åœ¨å‘æ¶ˆæ¯çš„æ—¶å€™ï¼Œé»˜è®¤ä¼š&lt;strong&gt;è½®è¯¢&lt;/strong&gt;æ‰€æœ‰çš„Message Queueå‘é€ï¼Œä»¥è¾¾åˆ°è®©æ¶ˆæ¯å¹³å‡è½åœ¨ä¸åŒçš„Queueä¸Šã€‚è€Œç”±äºQueueå¯ä»¥æ•£è½åœ¨ä¸åŒçš„Brokerï¼Œæ‰€ä»¥æ¶ˆæ¯å°±å‘é€åˆ°ä¸åŒçš„Brokerä¸‹ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.4618181818181818&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45otc9Egau54qXVCgI6evfdBoZ9s5gCn4JDZIKevpiaQpDIEwhtHRiaAYw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;Consumerè´Ÿè½½å‡è¡¡ï¼š&lt;/p&gt;&lt;p&gt;å¦‚æœConsumerå®ä¾‹çš„æ•°é‡æ¯”Message Queueçš„æ€»æ•°é‡è¿˜å¤šçš„è¯ï¼Œ&lt;strong&gt;å¤šå‡ºæ¥çš„Consumerå®ä¾‹å°†æ— æ³•åˆ†åˆ°Queue&lt;/strong&gt;ï¼Œä¹Ÿå°±æ— æ³•æ¶ˆè´¹åˆ°æ¶ˆæ¯ï¼Œä¹Ÿå°±æ— æ³•èµ·åˆ°åˆ†æ‘Šè´Ÿè½½çš„ä½œç”¨äº†ã€‚æ‰€ä»¥éœ€è¦æ§åˆ¶è®©Queueçš„æ€»æ•°é‡å¤§äºç­‰äºConsumerçš„æ•°é‡ã€‚&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹è€…çš„é›†ç¾¤æ¨¡å¼ï¼šå¯åŠ¨å¤šä¸ªæ¶ˆè´¹è€…å°±å¯ä»¥ä¿è¯æ¶ˆè´¹è€…çš„è´Ÿè½½å‡è¡¡ï¼ˆå‡æ‘Šé˜Ÿåˆ—ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;é»˜è®¤ä½¿ç”¨çš„æ˜¯å‡æ‘Šé˜Ÿåˆ—&lt;/strong&gt;ï¼šä¼šæŒ‰ç…§Queueçš„æ•°é‡å’Œå®ä¾‹çš„æ•°é‡å¹³å‡åˆ†é…Queueç»™æ¯ä¸ªå®ä¾‹ï¼Œè¿™æ ·æ¯ä¸ªæ¶ˆè´¹è€…å¯ä»¥å‡æ‘Šæ¶ˆè´¹çš„é˜Ÿåˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º6ä¸ªé˜Ÿåˆ—å’Œä¸‰ä¸ªç”Ÿäº§è€…ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å¦å¤–ä¸€ç§å¹³å‡çš„ç®—æ³•&lt;strong&gt;ç¯çŠ¶è½®æµåˆ†Queue&lt;/strong&gt;çš„å½¢å¼ï¼Œæ¯ä¸ªæ¶ˆè´¹è€…ï¼Œå‡æ‘Šä¸åŒä¸»èŠ‚ç‚¹çš„ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å¯¹äºå¹¿æ’­æ¨¡å¼å¹¶ä¸æ˜¯è´Ÿè½½å‡è¡¡çš„ï¼Œè¦æ±‚ä¸€æ¡æ¶ˆæ¯éœ€è¦æŠ•é€’åˆ°ä¸€ä¸ªæ¶ˆè´¹ç»„ä¸‹é¢æ‰€æœ‰çš„æ¶ˆè´¹è€…å®ä¾‹ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰æ¶ˆæ¯è¢«åˆ†æ‘Šæ¶ˆè´¹çš„è¯´æ³•ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ­»ä¿¡é˜Ÿåˆ—&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å½“ä¸€æ¡æ¶ˆæ¯æ¶ˆè´¹å¤±è´¥ï¼ŒRocketMQå°±ä¼šè‡ªåŠ¨è¿›è¡Œæ¶ˆæ¯é‡è¯•ã€‚è€Œå¦‚æœæ¶ˆæ¯è¶…è¿‡æœ€å¤§é‡è¯•æ¬¡æ•°ï¼ŒRocketMQå°±ä¼šè®¤ä¸ºè¿™ä¸ªæ¶ˆæ¯æœ‰é—®é¢˜ã€‚ä½†æ˜¯æ­¤æ—¶ï¼ŒRocketMQä¸ä¼šç«‹åˆ»å°†è¿™ä¸ªæœ‰é—®é¢˜çš„æ¶ˆæ¯ä¸¢å¼ƒï¼Œè€Œä¼šå°†å…¶å‘é€åˆ°è¿™ä¸ªæ¶ˆè´¹è€…ç»„å¯¹åº”çš„ä¸€ç§ç‰¹æ®Šé˜Ÿåˆ—ï¼šæ­»ä¿¡é˜Ÿåˆ—ã€‚æ­»ä¿¡é˜Ÿåˆ—çš„åç§°æ˜¯ %DLQ%+ConsumGroup ã€‚&lt;/p&gt;&lt;p&gt;æ­»ä¿¡é˜Ÿåˆ—å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¸€ä¸ªæ­»ä¿¡é˜Ÿåˆ—å¯¹åº”ä¸€ä¸ªGroup IDï¼Œ è€Œä¸æ˜¯å¯¹åº”å•ä¸ªæ¶ˆè´¹è€…å®ä¾‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¸€ä¸ªGroup IDæœªäº§ç”Ÿæ­»ä¿¡æ¶ˆæ¯ï¼Œæ¶ˆæ¯é˜Ÿåˆ—RocketMQä¸ä¼šä¸ºå…¶åˆ›å»ºç›¸åº”çš„æ­»ä¿¡é˜Ÿåˆ—ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä¸€ä¸ªæ­»ä¿¡é˜Ÿåˆ—åŒ…å«äº†å¯¹åº”Group IDäº§ç”Ÿçš„æ‰€æœ‰æ­»ä¿¡æ¶ˆæ¯ï¼Œä¸è®ºè¯¥æ¶ˆæ¯å±äºå“ªä¸ªTopicã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3&gt;&lt;span&gt;Kafka&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;Kafkaæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€æ”¯æŒåˆ†åŒºçš„ã€å¤šå‰¯æœ¬çš„ï¼Œ&lt;strong&gt;åŸºäºZooKeeper&lt;/strong&gt;åè°ƒçš„åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿã€‚&lt;/p&gt;&lt;p&gt;å®ƒæœ€å¤§çš„ç‰¹æ€§å°±æ˜¯å¯ä»¥å®æ—¶çš„å¤„ç†å¤§é‡æ•°æ®ä»¥æ»¡è¶³å„ç§éœ€æ±‚åœºæ™¯ï¼šæ¯”å¦‚åŸºäºHadoopçš„æ‰¹å¤„ç†ç³»ç»Ÿã€ä½å»¶è¿Ÿçš„å®æ—¶ç³»ç»Ÿã€Storm/Sparkæµå¼å¤„ç†å¼•æ“ï¼ŒWeb/Nginxæ—¥å¿—ã€è®¿é—®æ—¥å¿—ï¼Œæ¶ˆæ¯æœåŠ¡ç­‰ç­‰ï¼Œç”¨&lt;strong&gt;Scalaè¯­è¨€ç¼–å†™&lt;/strong&gt;ã€‚å±äºApacheåŸºé‡‘ä¼šçš„é¡¶çº§å¼€æºé¡¹ç›®ã€‚&lt;/p&gt;&lt;p&gt;å…ˆçœ‹ä¸€ä¸‹Kafkaçš„æ¶æ„å›¾ ï¼š&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5490909090909091&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45kvMMOEechP5WkiabadqsFS1qqqVtK1x4zyUx4l7RHk0THzEpedX9wHw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;span&gt;Kafkaçš„æ ¸å¿ƒæ¦‚å¿µ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨Kafkaä¸­æœ‰å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Broker&lt;/strong&gt;ï¼šæ¶ˆæ¯ä¸­é—´ä»¶å¤„ç†èŠ‚ç‚¹ï¼Œä¸€ä¸ªKafkaèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªBrokerï¼Œä¸€ä¸ªæˆ–è€…å¤šä¸ªBrokerå¯ä»¥ç»„æˆä¸€ä¸ªKafkaé›†ç¾¤&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Topic&lt;/strong&gt;ï¼šKafkaæ ¹æ®topicå¯¹æ¶ˆæ¯è¿›è¡Œå½’ç±»ï¼Œå‘å¸ƒåˆ°Kafkaé›†ç¾¤çš„æ¯æ¡æ¶ˆæ¯éƒ½éœ€è¦æŒ‡å®šä¸€ä¸ªtopic&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Producer&lt;/strong&gt;ï¼šæ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå‘Brokerå‘é€æ¶ˆæ¯çš„å®¢æˆ·ç«¯&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Consumer&lt;/strong&gt;ï¼šæ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œä»Brokerè¯»å–æ¶ˆæ¯çš„å®¢æˆ·ç«¯&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ConsumerGroup&lt;/strong&gt;ï¼šæ¯ä¸ªConsumerå±äºä¸€ä¸ªç‰¹å®šçš„ConsumerGroupï¼Œä¸€æ¡æ¶ˆæ¯å¯ä»¥è¢«å¤šä¸ªä¸åŒçš„ConsumerGroupæ¶ˆè´¹ï¼Œä½†æ˜¯ä¸€ä¸ªConsumerGroupä¸­åªèƒ½æœ‰ä¸€ä¸ªConsumerèƒ½å¤Ÿæ¶ˆè´¹è¯¥æ¶ˆæ¯&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Partition&lt;/strong&gt;ï¼šç‰©ç†ä¸Šçš„æ¦‚å¿µï¼Œä¸€ä¸ªtopicå¯ä»¥åˆ†ä¸ºå¤šä¸ªpartitionï¼Œæ¯ä¸ªpartitionå†…éƒ¨æ¶ˆæ¯æ˜¯æœ‰åºçš„&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Leader&lt;/strong&gt;ï¼šæ¯ä¸ªPartitionæœ‰å¤šä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä½œä¸ºLeaderï¼ŒLeaderæ˜¯è´Ÿè´£æ•°æ®è¯»å†™çš„Partitionã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Follower&lt;/strong&gt;ï¼šFollowerè·ŸéšLeaderï¼Œæ‰€æœ‰å†™è¯·æ±‚éƒ½é€šè¿‡Leaderè·¯ç”±ï¼Œæ•°æ®å˜æ›´ä¼šå¹¿æ’­ç»™æ‰€æœ‰Followerï¼ŒFollowerä¸Leaderä¿æŒæ•°æ®åŒæ­¥ã€‚å¦‚æœLeaderå¤±æ•ˆï¼Œåˆ™ä»Followerä¸­é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„Leaderã€‚å½“Followerä¸LeaderæŒ‚æ‰ã€å¡ä½æˆ–è€…åŒæ­¥å¤ªæ…¢ï¼ŒLeaderä¼šæŠŠè¿™ä¸ªFollowerä» ISRåˆ—è¡¨ ä¸­åˆ é™¤ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªFollowerã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;Offset&lt;/strong&gt;ï¼šåç§»é‡ã€‚Kafkaçš„å­˜å‚¨æ–‡ä»¶éƒ½æ˜¯æŒ‰ç…§offset.kafkaæ¥å‘½åï¼Œç”¨Offsetåšåå­—çš„å¥½å¤„æ˜¯æ–¹ä¾¿æŸ¥æ‰¾ã€‚ä¾‹å¦‚ä½ æƒ³æ‰¾ä½äº2049çš„ä½ç½®ï¼Œåªè¦æ‰¾åˆ°2048.kafkaçš„æ–‡ä»¶å³å¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å¯ä»¥è¿™ä¹ˆæ¥ç†è§£Topicï¼ŒPartitionå’ŒBrokerï¼š&lt;/p&gt;&lt;p&gt;ä¸€ä¸ªTopicï¼Œä»£è¡¨é€»è¾‘ä¸Šçš„ä¸€ä¸ªä¸šåŠ¡æ•°æ®é›†ï¼Œæ¯”å¦‚è®¢å•ç›¸å…³æ“ä½œæ¶ˆæ¯æ”¾å…¥è®¢å•Topicï¼Œç”¨æˆ·ç›¸å…³æ“ä½œæ¶ˆæ¯æ”¾å…¥ç”¨æˆ·Topicï¼Œå¯¹äºå¤§å‹ç½‘ç«™æ¥è¯´ï¼Œåç«¯æ•°æ®éƒ½æ˜¯æµ·é‡çš„ï¼Œè®¢å•æ¶ˆæ¯å¾ˆå¯èƒ½æ˜¯éå¸¸å·¨é‡çš„ï¼Œæ¯”å¦‚æœ‰å‡ ç™¾ä¸ªGç”šè‡³è¾¾åˆ°TBçº§åˆ«ï¼Œå¦‚æœæŠŠè¿™ä¹ˆå¤šæ•°æ®éƒ½æ”¾åœ¨ä¸€å°æœºå™¨ä¸Šå¯å®šä¼šæœ‰å®¹é‡é™åˆ¶é—®é¢˜ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨Topicå†…éƒ¨åˆ’åˆ†å¤šä¸ªPartitionæ¥åˆ†ç‰‡å­˜å‚¨æ•°æ®ï¼Œä¸åŒçš„Partitionå¯ä»¥ä½äºä¸åŒçš„æœºå™¨ä¸Šï¼Œç›¸å½“äº&lt;strong&gt;åˆ†å¸ƒå¼å­˜å‚¨&lt;/strong&gt;ã€‚æ¯å°æœºå™¨ä¸Šéƒ½è¿è¡Œä¸€ä¸ªKafkaçš„è¿›ç¨‹Brokerã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;Kafkaæ ¸å¿ƒæ€»æ§åˆ¶å™¨Controller&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨Kafkaé›†ç¾¤ä¸­ä¼šæœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªBrokerï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªBrokerä¼šè¢«é€‰ä¸¾ä¸ºæ§åˆ¶å™¨ï¼ˆKafka Controllerï¼‰ï¼Œå¯ä»¥ç†è§£ä¸º Broker-Leader ï¼Œå®ƒè´Ÿè´£ç®¡ç†æ•´ä¸ª é›†ç¾¤ä¸­æ‰€æœ‰åˆ†åŒºå’Œå‰¯æœ¬çš„çŠ¶æ€ã€‚&lt;/p&gt;&lt;pre&gt;&lt;code&gt;Partition-Leader&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;Controlleré€‰ä¸¾æœºåˆ¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨Kafkaé›†ç¾¤å¯åŠ¨çš„æ—¶å€™ï¼Œé€‰ä¸¾çš„è¿‡ç¨‹æ˜¯é›†ç¾¤ä¸­æ¯ä¸ªBrokeréƒ½ä¼šå°è¯•åœ¨ZooKeeperä¸Šåˆ›å»ºä¸€ä¸ª /controllerä¸´æ—¶èŠ‚ç‚¹ï¼ŒZooKeeperä¼šä¿è¯æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªBrokerèƒ½åˆ›å»ºæˆåŠŸï¼Œè¿™ä¸ªBrokerå°±ä¼šæˆä¸ºé›†ç¾¤çš„æ€»æ§å™¨Controllerã€‚&lt;/p&gt;&lt;p&gt;å½“è¿™ä¸ªControllerè§’è‰²çš„Brokerå®•æœºäº†ï¼Œæ­¤æ—¶ZooKeeperä¸´æ—¶èŠ‚ç‚¹ä¼šæ¶ˆå¤±ï¼Œé›†ç¾¤é‡Œå…¶ä»–Brokerä¼šä¸€ç›´ç›‘å¬è¿™ä¸ªä¸´æ—¶èŠ‚ ç‚¹ï¼Œå‘ç°ä¸´æ—¶èŠ‚ç‚¹æ¶ˆå¤±äº†ï¼Œå°±ç«äº‰å†æ¬¡åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„é€‰ä¸¾æœºåˆ¶ï¼ŒZooKeeperåˆä¼šä¿è¯æœ‰ä¸€ä¸ªBrokeræˆä¸ºæ–°çš„Controllerã€‚å…·å¤‡æ§åˆ¶å™¨èº«ä»½çš„Brokeréœ€è¦æ¯”å…¶ä»–æ™®é€šçš„Brokerå¤šä¸€ä»½èŒè´£ï¼Œå…·ä½“ç»†èŠ‚å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç›‘å¬Brokerç›¸å…³çš„å˜åŒ–&lt;/strong&gt;ã€‚ä¸ºZooKeeperä¸­çš„/brokers/ids/èŠ‚ç‚¹æ·»åŠ BrokerChangeListenerï¼Œç”¨æ¥å¤„ç†Brokerå¢å‡çš„å˜åŒ–ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç›‘å¬Topicç›¸å…³çš„å˜åŒ–&lt;/strong&gt;ã€‚ä¸ºZooKeeperä¸­çš„/brokers/topicsèŠ‚ç‚¹æ·»åŠ TopicChangeListenerï¼Œç”¨æ¥å¤„ç†Topicå¢å‡çš„å˜åŒ–ï¼›ä¸ºZooKeeperä¸­çš„/admin/delete_topicsèŠ‚ç‚¹æ·»åŠ TopicDeletionListenerï¼Œç”¨æ¥å¤„ç†åˆ é™¤Topicçš„åŠ¨ä½œã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ä»ZooKeeperä¸­è¯»å–è·å–å½“å‰æ‰€æœ‰ä¸Topicã€Partitionä»¥åŠBrokeræœ‰å…³çš„ä¿¡æ¯å¹¶è¿›è¡Œç›¸åº”çš„ç®¡ç† ã€‚å¯¹äºæ‰€æœ‰Topicæ‰€å¯¹åº”çš„ZooKeeperä¸­çš„/brokers/topics/èŠ‚ç‚¹æ·»åŠ PartitionModificationsListenerï¼Œç”¨æ¥ç›‘å¬Topicä¸­çš„åˆ†åŒºåˆ†é…å˜åŒ–ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ›´æ–°é›†ç¾¤çš„å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒæ­¥åˆ°å…¶ä»–æ™®é€šçš„BrokerèŠ‚ç‚¹ä¸­&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;Partitionå‰¯æœ¬é€‰ä¸¾Leaderæœºåˆ¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Controlleræ„ŸçŸ¥åˆ°åˆ†åŒºLeaderæ‰€åœ¨çš„BrokeræŒ‚äº†ï¼ŒControllerä¼šä»ISRåˆ—è¡¨ï¼ˆå‚æ•°&lt;br/&gt;unclean.leader.election.enable=falseçš„å‰æä¸‹ï¼‰é‡ŒæŒ‘ç¬¬ä¸€ä¸ªBrokerä½œä¸ºLeaderï¼ˆç¬¬ä¸€ä¸ªBrokeræœ€å…ˆæ”¾è¿›ISRåˆ—è¡¨ï¼Œå¯èƒ½æ˜¯åŒæ­¥æ•°æ®æœ€å¤šçš„å‰¯æœ¬ï¼‰ï¼Œå¦‚æœå‚æ•°unclean.leader.election.enableä¸ºtrueï¼Œä»£è¡¨åœ¨ISRåˆ—è¡¨é‡Œæ‰€æœ‰å‰¯æœ¬éƒ½æŒ‚äº†çš„æ—¶å€™å¯ä»¥åœ¨ISRåˆ—è¡¨ä»¥å¤–çš„å‰¯æœ¬ä¸­é€‰Leaderï¼Œè¿™ç§è®¾ç½®ï¼Œå¯ä»¥æé«˜å¯ç”¨æ€§ï¼Œä½†æ˜¯é€‰å‡ºçš„æ–°Leaderæœ‰å¯èƒ½æ•°æ®å°‘å¾ˆå¤šã€‚å‰¯æœ¬è¿›å…¥ISRåˆ—è¡¨æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å‰¯æœ¬èŠ‚ç‚¹ä¸èƒ½äº§ç”Ÿåˆ†åŒºï¼Œå¿…é¡»èƒ½ä¸ZooKeeperä¿æŒä¼šè¯ä»¥åŠè·ŸLeaderå‰¯æœ¬ç½‘ç»œè¿é€š&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å‰¯æœ¬èƒ½å¤åˆ¶Leaderä¸Šçš„æ‰€æœ‰å†™æ“ä½œï¼Œå¹¶ä¸”ä¸èƒ½è½åå¤ªå¤šã€‚ï¼ˆä¸Leaderå‰¯æœ¬åŒæ­¥æ»åçš„å‰¯æœ¬ï¼Œæ˜¯ç”±replica.lag.time.max.msé…ç½®å†³å®šçš„ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´éƒ½æ²¡æœ‰è·ŸLeaderåŒæ­¥è¿‡çš„ä¸€æ¬¡çš„å‰¯æœ¬ä¼šè¢«ç§»å‡ºISRåˆ—è¡¨ï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯çš„Offsetè®°å½•æœºåˆ¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;æ¯ä¸ªConsumerä¼šå®šæœŸå°†è‡ªå·±æ¶ˆè´¹åˆ†åŒºçš„Offsetæäº¤ç»™Kafkaå†…éƒ¨Topicï¼šconsumer_offsetsï¼Œæäº¤è¿‡å»çš„æ—¶å€™ï¼Œkeyæ˜¯consumerGroupId+topic+åˆ†åŒºå·ï¼Œvalueå°±æ˜¯å½“å‰Offsetçš„å€¼ï¼ŒKafkaä¼šå®šæœŸæ¸…ç†Topicé‡Œçš„æ¶ˆæ¯ï¼Œæœ€åå°±ä¿ç•™æœ€æ–°çš„é‚£æ¡æ•°æ®ã€‚&lt;/p&gt;&lt;p&gt;å› ä¸º__consumer_offsetså¯èƒ½ä¼šæ¥æ”¶é«˜å¹¶å‘çš„è¯·æ±‚ï¼ŒKafkaé»˜è®¤ç»™å…¶åˆ†é…50ä¸ªåˆ†åŒºï¼ˆå¯ä»¥é€šè¿‡&lt;br/&gt;offsets.topic.num.partitionsè®¾ç½®ï¼‰ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡åŠ æœºå™¨çš„æ–¹å¼æŠ—å¤§å¹¶å‘ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹è€…Rebalanceæœºåˆ¶&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Rebalanceå°±æ˜¯è¯´ å¦‚æœæ¶ˆè´¹ç»„é‡Œçš„æ¶ˆè´¹è€…æ•°é‡æœ‰å˜åŒ–æˆ–æ¶ˆè´¹çš„åˆ†åŒºæ•°æœ‰å˜åŒ–ï¼ŒKafkaä¼šé‡æ–°åˆ†é…æ¶ˆè´¹è€…ä¸æ¶ˆè´¹åˆ†åŒºçš„å…³ç³» ã€‚æ¯”å¦‚consumer groupä¸­æŸä¸ªæ¶ˆè´¹è€…æŒ‚äº†ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨æŠŠåˆ†é…ç»™ä»–çš„åˆ†åŒºäº¤ç»™å…¶ä»–çš„æ¶ˆè´¹è€…ï¼Œå¦‚æœä»–åˆé‡å¯äº†ï¼Œé‚£ä¹ˆåˆä¼šæŠŠä¸€äº›åˆ†åŒºé‡æ–°äº¤è¿˜ç»™ä»–ã€‚&lt;/p&gt;&lt;p&gt;æ³¨æ„ï¼šRebalanceåªé’ˆå¯¹subscribeè¿™ç§ä¸æŒ‡å®šåˆ†åŒºæ¶ˆè´¹çš„æƒ…å†µï¼Œå¦‚æœé€šè¿‡assignè¿™ç§æ¶ˆè´¹æ–¹å¼æŒ‡å®šäº†åˆ†åŒºï¼ŒKafkaä¸ä¼šè¿›è¡ŒRebalanceã€‚&lt;/p&gt;&lt;p&gt;å¦‚ä¸‹æƒ…å†µå¯èƒ½ä¼šè§¦å‘æ¶ˆè´¹è€…Rebalanceï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹ç»„é‡Œçš„Consumerå¢åŠ æˆ–å‡å°‘äº†&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åŠ¨æ€ç»™Topicå¢åŠ äº†åˆ†åŒº&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹ç»„è®¢é˜…äº†æ›´å¤šçš„Topic&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Rebalanceè¿‡ç¨‹ä¸­ï¼Œæ¶ˆè´¹è€…æ— æ³•ä»Kafkaæ¶ˆè´¹æ¶ˆæ¯ï¼Œè¿™å¯¹Kafkaçš„TPSä¼šæœ‰å½±å“ï¼Œå¦‚æœKafkaé›†ç¾¤å†…èŠ‚ç‚¹è¾ƒå¤šï¼Œæ¯”å¦‚æ•°ç™¾ ä¸ªï¼Œé‚£é‡å¹³è¡¡å¯èƒ½ä¼šè€—æ—¶æå¤šï¼Œæ‰€ä»¥åº”å°½é‡é¿å…åœ¨ç³»ç»Ÿé«˜å³°æœŸçš„é‡å¹³è¡¡å‘ç”Ÿã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;Rebalanceè¿‡ç¨‹å¦‚ä¸‹&lt;/span&gt;&lt;/p&gt;&lt;p&gt;å½“æœ‰æ¶ˆè´¹è€…åŠ å…¥æ¶ˆè´¹ç»„æ—¶ï¼Œæ¶ˆè´¹è€…ã€æ¶ˆè´¹ç»„åŠç»„åè°ƒå™¨ä¹‹é—´ä¼šç»å†ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.45454545454545453&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45OmZFGrPJ9asEn42xwyzXD6iciaDfU9OoJuEqCTJh1Qhpszb9nb5YMCJw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot;/&gt;&lt;strong&gt;ç¬¬ä¸€é˜¶æ®µï¼šé€‰æ‹©ç»„åè°ƒå™¨&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ç»„åè°ƒå™¨GroupCoordinatorï¼šæ¯ä¸ªconsumer groupéƒ½ä¼šé€‰æ‹©ä¸€ä¸ªBrokerä½œä¸ºè‡ªå·±çš„ç»„åè°ƒå™¨coordinatorï¼Œè´Ÿè´£ç›‘æ§è¿™ä¸ªæ¶ˆè´¹ç»„é‡Œçš„æ‰€æœ‰æ¶ˆè´¹è€…çš„å¿ƒè·³ï¼Œä»¥åŠåˆ¤æ–­æ˜¯å¦å®•æœºï¼Œç„¶åå¼€å¯æ¶ˆè´¹è€…Rebalanceã€‚consumer groupä¸­çš„æ¯ä¸ªconsumerå¯åŠ¨æ—¶ä¼šå‘Kafkaé›†ç¾¤ä¸­çš„æŸä¸ªèŠ‚ç‚¹å‘é€FindCoordinatorRequestè¯·æ±‚æ¥æŸ¥æ‰¾å¯¹åº”çš„ç»„åè°ƒå™¨GroupCoordinatorï¼Œå¹¶è·Ÿå…¶å»ºç«‹ç½‘ç»œè¿æ¥ã€‚ç»„åè°ƒå™¨é€‰æ‹©æ–¹å¼ï¼šé€šè¿‡å¦‚ä¸‹å…¬å¼å¯ä»¥é€‰å‡ºconsumeræ¶ˆè´¹çš„Offsetè¦æäº¤åˆ°__consumer_offsetsçš„å“ªä¸ªåˆ†åŒºï¼Œè¿™ä¸ªåˆ†åŒºLeaderå¯¹åº”çš„Brokerå°±æ˜¯è¿™ä¸ªconsumer groupçš„coordinatorå…¬å¼ï¼š&lt;/p&gt;&lt;p&gt;hash(consumer group id) % å¯¹åº”ä¸»é¢˜çš„åˆ†åŒºæ•°&lt;/p&gt;&lt;p&gt;&lt;strong&gt;ç¬¬äºŒé˜¶æ®µï¼šåŠ å…¥æ¶ˆè´¹ç»„JOIN GROUP&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åœ¨æˆåŠŸæ‰¾åˆ°æ¶ˆè´¹ç»„æ‰€å¯¹åº”çš„GroupCoordinatorä¹‹åå°±è¿›å…¥åŠ å…¥æ¶ˆè´¹ç»„çš„é˜¶æ®µï¼Œåœ¨æ­¤é˜¶æ®µçš„æ¶ˆè´¹è€…ä¼šå‘GroupCoordinatorå‘é€JoinGroupRequestè¯·æ±‚ï¼Œå¹¶å¤„ç†å“åº”ã€‚ç„¶åGroupCoordinatorä»ä¸€ä¸ªconsumer groupä¸­é€‰æ‹©ç¬¬ä¸€ä¸ªåŠ å…¥groupçš„consumerä½œä¸ºLeaderï¼ˆæ¶ˆè´¹ç»„åè°ƒå™¨ï¼‰ï¼ŒæŠŠconsumer groupæƒ…å†µå‘é€ç»™è¿™ä¸ªLeaderï¼Œæ¥ç€è¿™ä¸ªLeaderä¼šè´Ÿè´£åˆ¶å®šåˆ†åŒºæ–¹æ¡ˆã€‚&lt;/p&gt;&lt;p&gt;ç¬¬ä¸‰é˜¶æ®µï¼ˆSYNC GROUPï¼‰&lt;/p&gt;&lt;p&gt;consumer leaderé€šè¿‡ç»™GroupCoordinatorå‘é€SyncGroupRequestï¼Œæ¥ç€GroupCoordinatorå°±æŠŠåˆ†åŒºæ–¹æ¡ˆä¸‹å‘ç»™å„ä¸ªconsumerï¼Œä»–ä»¬ä¼šæ ¹æ®æŒ‡å®šåˆ†åŒºçš„Leader Brokerè¿›è¡Œç½‘ç»œè¿æ¥ä»¥åŠæ¶ˆæ¯æ¶ˆè´¹ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ¶ˆè´¹è€…Rebalanceåˆ†åŒºåˆ†é…ç­–ç•¥&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸»è¦æœ‰ä¸‰ç§Rebalanceçš„ç­–ç•¥ï¼šrange ã€ round-robin ã€ sticky ã€‚&lt;strong&gt;é»˜è®¤æƒ…å†µä¸ºrangeåˆ†é…ç­–ç•¥&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;p&gt;å‡è®¾ä¸€ä¸ªä¸»é¢˜æœ‰10ä¸ªåˆ†åŒºï¼ˆ0-9ï¼‰ï¼Œç°åœ¨æœ‰ä¸‰ä¸ªconsumeræ¶ˆè´¹ï¼š&lt;/p&gt;&lt;p&gt;rangeç­–ç•¥ï¼šæŒ‰ç…§åˆ†åŒºåºå·æ’åºåˆ†é… ï¼Œå‡è®¾nï¼åˆ†åŒºæ•°ï¼æ¶ˆè´¹è€…æ•°é‡ = 3ï¼Œ mï¼åˆ†åŒºæ•°%æ¶ˆè´¹è€…æ•°é‡ = 1ï¼Œé‚£ä¹ˆå‰ m ä¸ªæ¶ˆ è´¹è€…æ¯ä¸ªåˆ†é… n+1 ä¸ªåˆ†åŒºï¼Œåé¢çš„ï¼ˆæ¶ˆè´¹è€…æ•°é‡ï¼m ï¼‰ä¸ªæ¶ˆè´¹è€…æ¯ä¸ªåˆ†é… n ä¸ªåˆ†åŒºã€‚æ¯”å¦‚åˆ†åŒº0~ 3ç»™ä¸€ä¸ªconsumerï¼Œåˆ†åŒº4~ 6ç»™ä¸€ä¸ªconsumerï¼Œåˆ†åŒº7~9ç»™ä¸€ä¸ªconsumerã€‚&lt;/p&gt;&lt;p&gt;round-robinç­–ç•¥ï¼šè½®è¯¢åˆ†é… ï¼Œæ¯”å¦‚åˆ†åŒº0ã€3ã€6ã€9ç»™ä¸€ä¸ªconsumerï¼Œåˆ†åŒº1ã€4ã€7ç»™ä¸€ä¸ªconsumerï¼Œåˆ†åŒº2ã€5ã€ 8ç»™ä¸€ä¸ªconsumer&lt;/p&gt;&lt;p&gt;stickyç­–ç•¥ï¼šåˆå§‹æ—¶åˆ†é…ç­–ç•¥ä¸round-robinç±»ä¼¼ï¼Œä½†æ˜¯åœ¨rebalanceçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯å¦‚ä¸‹ä¸¤ä¸ªåŸåˆ™ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åˆ†åŒºçš„åˆ†é…è¦å°½å¯èƒ½å‡åŒ€ ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åˆ†åŒºçš„åˆ†é…å°½å¯èƒ½ä¸ä¸Šæ¬¡åˆ†é…çš„ä¿æŒç›¸åŒã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;å½“ä¸¤è€…å‘ç”Ÿå†²çªæ—¶ï¼Œç¬¬ä¸€ä¸ªç›®æ ‡ä¼˜å…ˆäºç¬¬äºŒä¸ªç›®æ ‡ ã€‚è¿™æ ·å¯ä»¥æœ€å¤§ç¨‹åº¦ç»´æŒåŸæ¥çš„åˆ†åŒºåˆ†é…çš„ç­–ç•¥ã€‚æ¯”å¦‚å¯¹äºç¬¬ä¸€ç§rangeæƒ…å†µçš„åˆ†é…ï¼Œå¦‚æœç¬¬ä¸‰ä¸ªconsumeræŒ‚äº†ï¼Œé‚£ä¹ˆé‡æ–°ç”¨stickyç­–ç•¥åˆ†é…çš„ç»“æœå¦‚ä¸‹ï¼šconsumer1é™¤äº†åŸæœ‰çš„0~ 3ï¼Œä¼šå†åˆ†é…ä¸€ä¸ª7 consumer2é™¤äº†åŸæœ‰çš„4~ 6ï¼Œä¼šå†åˆ†é…8å’Œ9ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;Producerå‘å¸ƒæ¶ˆæ¯æœºåˆ¶å‰–æ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;1ã€å†™å…¥æ–¹å¼&lt;/p&gt;&lt;p&gt;produceré‡‡ç”¨pushæ¨¡å¼å°†æ¶ˆæ¯å‘å¸ƒåˆ°brokerï¼Œæ¯æ¡æ¶ˆæ¯éƒ½è¢«appendåˆ°patitionä¸­ï¼Œå±äºé¡ºåºå†™ç£ç›˜ï¼ˆ&lt;strong&gt;é¡ºåºå†™ç£ç›˜ æ¯” éšæœºå†™ æ•ˆç‡è¦é«˜ï¼Œä¿éšœ kafka ååç‡&lt;/strong&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;2ã€æ¶ˆæ¯è·¯ç”±&lt;/p&gt;&lt;p&gt;producerå‘é€æ¶ˆæ¯åˆ°brokeræ—¶ï¼Œä¼šæ ¹æ®åˆ†åŒºç®—æ³•é€‰æ‹©å°†å…¶å­˜å‚¨åˆ°å“ªä¸€ä¸ªpartitionã€‚å…¶è·¯ç”±æœºåˆ¶ä¸ºï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;hash&lt;/span&gt;(key)%åˆ†åŒºæ•°&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3ã€å†™å…¥æµç¨‹&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.8072727272727273&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45wP8dNGScJ0duw1wkUEonuat1mzV0gF3azT9sj1NMbWOHy9cKia0kRSQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;producerå…ˆä»ZooKeeperçš„ &quot;/brokers/â€¦/state&quot; èŠ‚ç‚¹æ‰¾åˆ°è¯¥partitionçš„leader&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;producerå°†æ¶ˆæ¯å‘é€ç»™è¯¥leader&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;leaderå°†æ¶ˆæ¯å†™å…¥æœ¬åœ°log&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;followersä»leader pullæ¶ˆæ¯ï¼Œå†™å…¥æœ¬åœ°logåå‘leaderå‘é€ACK&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;leaderæ”¶åˆ°æ‰€æœ‰ISRä¸­çš„replicaçš„ACKåï¼Œå¢åŠ HWï¼ˆhigh watermarkï¼Œæœ€åcommitçš„offsetï¼‰å¹¶å‘producerå‘é€ACK&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span&gt;HWä¸LEO&lt;/span&gt;&lt;/p&gt;&lt;p&gt;HWä¿—ç§°é«˜æ°´ä½ ï¼ŒHighWatermarkçš„ç¼©å†™ï¼Œå–ä¸€ä¸ªpartitionå¯¹åº”çš„ISRä¸­æœ€å°çš„LEOï¼ˆlog-end-offsetï¼‰ä½œä¸ºHWï¼Œ consumeræœ€å¤šåªèƒ½æ¶ˆè´¹åˆ°HWæ‰€åœ¨çš„ä½ç½®ã€‚å¦å¤–æ¯ä¸ªreplicaéƒ½æœ‰HW,leaderå’Œfollowerå„è‡ªè´Ÿè´£æ›´æ–°è‡ªå·±çš„HWçš„çŠ¶ æ€ã€‚å¯¹äºleaderæ–°å†™å…¥çš„æ¶ˆæ¯ï¼Œconsumerä¸èƒ½ç«‹åˆ»æ¶ˆè´¹ï¼Œleaderä¼šç­‰å¾…è¯¥æ¶ˆæ¯è¢«æ‰€æœ‰ISRä¸­çš„replicasåŒæ­¥åæ›´æ–°HWï¼Œ æ­¤æ—¶æ¶ˆæ¯æ‰èƒ½è¢«consumeræ¶ˆè´¹ã€‚è¿™æ ·å°±ä¿è¯äº†å¦‚æœleaderæ‰€åœ¨çš„brokerå¤±æ•ˆï¼Œè¯¥æ¶ˆæ¯ä»ç„¶å¯ä»¥ä»æ–°é€‰ä¸¾çš„leaderä¸­è·å–ã€‚å¯¹äºæ¥è‡ªå†…éƒ¨brokerçš„è¯»å–è¯·æ±‚ï¼Œæ²¡æœ‰HWçš„é™åˆ¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—¥å¿—åˆ†æ®µå­˜å‚¨&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Kafkaä¸€ä¸ªåˆ†åŒºçš„æ¶ˆæ¯æ•°æ®å¯¹åº”å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œä»¥topicåç§°+åˆ†åŒºå·å‘½åï¼Œæ¶ˆæ¯åœ¨åˆ†åŒºå†…æ˜¯åˆ†æ®µå­˜å‚¨çš„ï¼Œ æ¯ä¸ªæ®µçš„æ¶ˆæ¯éƒ½å­˜å‚¨åœ¨ä¸ä¸€æ ·çš„logæ–‡ä»¶é‡Œï¼ŒKafkaè§„å®šäº†ä¸€ä¸ªæ®µä½çš„logæ–‡ä»¶æœ€å¤§ä¸º1Gï¼Œåšè¿™ä¸ªé™åˆ¶ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿æŠŠlogæ–‡ä»¶åŠ è½½åˆ°å†…å­˜å»æ“ä½œï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;1Â ###Â éƒ¨åˆ†æ¶ˆæ¯çš„&lt;span&gt;offset&lt;/span&gt;ç´¢å¼•æ–‡ä»¶ï¼Œ&lt;span&gt;kafka&lt;/span&gt;æ¯æ¬¡å¾€åˆ†åŒºå‘4&lt;span&gt;K&lt;/span&gt;(å¯é…ç½®)æ¶ˆæ¯å°±ä¼šè®°å½•ä¸€æ¡å½“å‰æ¶ˆæ¯çš„&lt;span&gt;offset&lt;/span&gt;åˆ°&lt;span&gt;index&lt;/span&gt;æ–‡ä»¶ï¼ŒÂ &lt;br/&gt;&lt;br/&gt;2Â ###Â å¦‚æœè¦å®šä½æ¶ˆæ¯çš„&lt;span&gt;offset&lt;/span&gt;ä¼šå…ˆåœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¿«é€Ÿå®šä½ï¼Œå†å»&lt;span&gt;log&lt;/span&gt;æ–‡ä»¶é‡Œæ‰¾å…·ä½“æ¶ˆæ¯Â &lt;br/&gt;&lt;br/&gt;3Â 00000000000000000000&lt;span&gt;.index&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;4Â ###Â æ¶ˆæ¯å­˜å‚¨æ–‡ä»¶ï¼Œä¸»è¦å­˜&lt;span&gt;offset&lt;/span&gt;å’Œæ¶ˆæ¯ä½“Â &lt;br/&gt;&lt;br/&gt;5Â 00000000000000000000&lt;span&gt;.log&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;6Â ###Â æ¶ˆæ¯çš„å‘é€æ—¶é—´ç´¢å¼•æ–‡ä»¶ï¼Œ&lt;span&gt;kafka&lt;/span&gt;æ¯æ¬¡å¾€åˆ†åŒºå‘4&lt;span&gt;K&lt;/span&gt;(å¯é…ç½®)æ¶ˆæ¯å°±ä¼šè®°å½•ä¸€æ¡å½“å‰æ¶ˆæ¯çš„å‘é€æ—¶é—´æˆ³ä¸å¯¹åº”çš„&lt;span&gt;offset&lt;/span&gt;åˆ°&lt;span&gt;timeindex&lt;/span&gt;æ–‡ä»¶ï¼ŒÂ &lt;br/&gt;&lt;br/&gt;7Â ###Â å¦‚æœéœ€è¦æŒ‰ç…§æ—¶é—´æ¥å®šä½æ¶ˆæ¯çš„&lt;span&gt;offset&lt;/span&gt;ï¼Œä¼šå…ˆåœ¨è¿™ä¸ªæ–‡ä»¶é‡ŒæŸ¥æ‰¾Â &lt;br/&gt;&lt;br/&gt;8Â 00000000000000000000&lt;span&gt;.timeindex&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;9Â &lt;br/&gt;&lt;br/&gt;10Â 00000000000005367851&lt;span&gt;.index&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;11Â 00000000000005367851&lt;span&gt;.log&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;12Â 00000000000005367851&lt;span&gt;.timeindex&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;13Â &lt;br/&gt;&lt;br/&gt;14Â 00000000000009936472&lt;span&gt;.index&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;15Â 00000000000009936472&lt;span&gt;.log&lt;/span&gt;Â &lt;br/&gt;&lt;br/&gt;16Â 00000000000009936472&lt;span&gt;.timeindex&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ä¸ª9936472ä¹‹ç±»çš„æ•°å­—ï¼Œå°±æ˜¯ä»£è¡¨äº†è¿™ä¸ªæ—¥å¿—æ®µæ–‡ä»¶é‡ŒåŒ…å«çš„èµ·å§‹ Offsetï¼Œä¹Ÿå°±è¯´æ˜è¿™ä¸ªåˆ†åŒºé‡Œè‡³å°‘éƒ½å†™å…¥äº†æ¥è¿‘1000ä¸‡æ¡æ•°æ®äº†ã€‚Kafka Brokeræœ‰ä¸€ä¸ªå‚æ•°ï¼Œlog.segment.bytesï¼Œé™å®šäº†æ¯ä¸ªæ—¥å¿—æ®µæ–‡ä»¶çš„å¤§å°ï¼Œæœ€å¤§å°±æ˜¯1GBã€‚ä¸€ä¸ªæ—¥å¿—æ®µæ–‡ä»¶æ»¡äº†ï¼Œå°±è‡ªåŠ¨å¼€ä¸€ä¸ªæ–°çš„æ—¥å¿—æ®µæ–‡ä»¶æ¥å†™å…¥ï¼Œé¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§ï¼Œå½±å“æ–‡ä»¶çš„è¯»å†™æ€§èƒ½ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšlog rollingï¼Œæ­£åœ¨è¢«å†™å…¥çš„é‚£ä¸ªæ—¥å¿—æ®µæ–‡ä»¶ï¼Œå«åšactive log segmentã€‚&lt;/p&gt;&lt;p&gt;æœ€åé™„ä¸€å¼ ZooKeeperèŠ‚ç‚¹æ•°æ®å›¾&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5690909090909091&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45ggBDW0YUjVVTf8OXTibgx2WriaYyZXDTZwkzEn1WGdtoCWTh50s7PLAg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;h3&gt;&lt;span&gt;MQå¸¦æ¥çš„ä¸€äº›é—®é¢˜ã€åŠè§£å†³æ–¹æ¡ˆ&lt;/span&gt;&lt;/h3&gt;&lt;h4&gt;&lt;span&gt;å¦‚ä½•ä¿è¯é¡ºåºæ¶ˆè´¹ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;h4&gt;&lt;span&gt;å¦‚ä½•å®ç°å»¶è¿Ÿæ¶ˆè´¹ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.3327272727272727&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45Xll8yDcESuou8slUhS7VB6tJCAq2mmGQTZ813htxe4UFUlWbarFJMQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNjQwNzU2NQ==&amp;amp;mid=2650357391&amp;amp;idx=1&amp;amp;sn=98a68099613a0f3d22b1f75c90f27f27&amp;amp;chksm=83004a6db477c37b1cd81500be3e7a474475780d70c760804119dc841362d88bb375c47d4d70&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;RabbitMQ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;RabbitMQ&lt;/span&gt;&lt;/a&gt;ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Broker--&amp;gt;æ¶ˆè´¹è€…ï¼šæ‰‹åŠ¨ACK&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç”Ÿäº§è€…--&amp;gt;Brokerï¼šä¸¤ç§æ–¹æ¡ˆ&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æ•°æ®åº“æŒä¹…åŒ–ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;1&lt;/span&gt;.å°†ä¸šåŠ¡è®¢å•æ•°æ®å’Œç”Ÿæˆçš„&lt;span&gt;Message&lt;/span&gt;è¿›è¡ŒæŒä¹…åŒ–æ“ä½œï¼ˆä¸€èˆ¬æƒ…å†µä¸‹æ’å…¥æ•°æ®åº“ï¼Œè¿™é‡Œå¦‚æœåˆ†åº“çš„è¯å¯èƒ½æ¶‰åŠåˆ°åˆ†å¸ƒå¼äº‹åŠ¡ï¼‰&lt;br/&gt;&lt;br/&gt;&lt;span&gt;2&lt;/span&gt;.å°†&lt;span&gt;Message&lt;/span&gt;å‘é€åˆ°BrokeræœåŠ¡å™¨ä¸­&lt;br/&gt;&lt;br/&gt;&lt;span&gt;3&lt;/span&gt;.é€šè¿‡RabbitMQçš„Confirmæœºåˆ¶ï¼Œåœ¨producerç«¯ï¼Œç›‘å¬æœåŠ¡å™¨æ˜¯å¦ACKã€‚&lt;br/&gt;&lt;br/&gt;&lt;span&gt;4&lt;/span&gt;.å¦‚æœACKäº†ï¼Œå°±å°†&lt;span&gt;Message&lt;/span&gt;è¿™æ¡æ•°æ®çŠ¶æ€æ›´æ–°ä¸ºå·²å‘é€ã€‚å¦‚æœå¤±è´¥ï¼Œä¿®æ”¹ä¸ºå¤±è´¥çŠ¶æ€ã€‚&lt;br/&gt;&lt;br/&gt;&lt;span&gt;5&lt;/span&gt;.åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŸ¥è¯¢æ•°æ®åº“&lt;span&gt;3&lt;/span&gt;åˆ†é’Ÿï¼ˆè¿™ä¸ªå…·ä½“æ—¶é—´åº”è¯¥æ ¹æ®çš„æ—¶æ•ˆæ€§æ¥å®šï¼‰ä¹‹å‰çš„å‘é€å¤±è´¥çš„æ¶ˆæ¯&lt;br/&gt;&lt;br/&gt;&lt;span&gt;6&lt;/span&gt;.é‡æ–°å‘é€æ¶ˆæ¯ï¼Œè®°å½•å‘é€æ¬¡æ•°&lt;br/&gt;&lt;br/&gt;&lt;span&gt;7&lt;/span&gt;.å¦‚æœå‘é€æ¬¡æ•°è¿‡å¤šä»ç„¶å¤±è´¥ï¼Œé‚£ä¹ˆå°±éœ€è¦äººå·¥æ’æŸ¥ä¹‹ç±»çš„æ“ä½œã€‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6854545454545454&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45xicXLt3BVv5qicffQBeQyiaXicej2QJicric3spOdzJxxt2y0v397UycY1bg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¼˜ç‚¹ï¼šèƒ½å¤Ÿä¿è¯æ¶ˆæ¯ç™¾åˆ†ç™¾ä¸ä¸¢å¤±ã€‚&lt;/p&gt;&lt;p&gt;ç¼ºç‚¹ï¼šç¬¬ä¸€æ­¥ä¼šæ¶‰åŠåˆ°åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯çš„å»¶è¿ŸæŠ•é€’ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;æµç¨‹å›¾ä¸­ï¼Œé¢œè‰²ä¸åŒçš„ä»£è¡¨ä¸åŒçš„&lt;span&gt;message&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;1&lt;/span&gt;.å°†ä¸šåŠ¡è®¢å•æŒä¹…åŒ–&lt;br/&gt;&lt;br/&gt;&lt;span&gt;2&lt;/span&gt;.å‘é€ä¸€æ¡&lt;span&gt;Message&lt;/span&gt;åˆ°broker(ç§°ä¹‹ä¸ºä¸»&lt;span&gt;Message&lt;/span&gt;)ï¼Œå†å‘é€ç›¸åŒçš„ä¸€æ¡åˆ°ä¸åŒçš„é˜Ÿåˆ—æˆ–è€…äº¤æ¢æœº(è¿™æ¡ç§°ä¸ºç¡®è®¤&lt;span&gt;Message&lt;/span&gt;)ä¸­ã€‚&lt;br/&gt;&lt;br/&gt;&lt;span&gt;3&lt;/span&gt;.ä¸»&lt;span&gt;Message&lt;/span&gt;ç”±å®é™…ä¸šåŠ¡å¤„ç†ç«¯æ¶ˆè´¹åï¼Œç”Ÿæˆä¸€æ¡å“åº”&lt;span&gt;Message&lt;/span&gt;ã€‚ä¹‹å‰çš„ç¡®è®¤&lt;span&gt;Message&lt;/span&gt;ç”±&lt;span&gt;Message&lt;/span&gt;Â Serviceåº”ç”¨å¤„ç†å…¥åº“ã€‚&lt;br/&gt;&lt;br/&gt;&lt;span&gt;4&lt;/span&gt;~&lt;span&gt;6&lt;/span&gt;.å®é™…ä¸šåŠ¡å¤„ç†ç«¯å‘é€çš„ç¡®è®¤&lt;span&gt;Message&lt;/span&gt;ç”±&lt;span&gt;Message&lt;/span&gt;Â Serviceæ¥æ”¶åï¼Œå°†åŸ&lt;span&gt;Message&lt;/span&gt;çŠ¶æ€ä¿®æ”¹ã€‚&lt;br/&gt;&lt;br/&gt;&lt;span&gt;7&lt;/span&gt;.å¦‚æœè¯¥æ¡&lt;span&gt;Message&lt;/span&gt;æ²¡æœ‰è¢«ç¡®è®¤ï¼Œåˆ™é€šè¿‡rpcè°ƒç”¨é‡æ–°ç”±producerè¿›è¡Œå…¨è¿‡ç¨‹ã€‚&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.33090909090909093&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45kHqQxeUIDn263JKDzY8eIiaeHToymHRCpv2OyJfcYsw8R51cVRW8Wrw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¼˜ç‚¹ï¼šç›¸å¯¹äºæŒä¹…åŒ–æ–¹æ¡ˆæ¥è¯´å“åº”é€Ÿåº¦æœ‰æ‰€æå‡&lt;/p&gt;&lt;p&gt;ç¼ºç‚¹ï¼šç³»ç»Ÿå¤æ‚æ€§æœ‰ç‚¹é«˜ï¼Œä¸‡ä¸€ä¸¤æ¡æ¶ˆæ¯éƒ½å¤±è´¥äº†ï¼Œæ¶ˆæ¯å­˜åœ¨ä¸¢å¤±æƒ…å†µï¼Œä»éœ€Confirmæœºåˆ¶åšè¡¥å¿ã€‚&lt;/p&gt;&lt;p&gt;&lt;span&gt;RocketMQ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ç”Ÿäº§è€…å¼„ä¸¢æ•°æ®ï¼š&lt;/p&gt;&lt;p&gt;Produceråœ¨æŠŠMessageå‘é€Brokerçš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºç½‘ç»œé—®é¢˜ç­‰å‘ç”Ÿä¸¢å¤±ï¼Œæˆ–è€…Messageåˆ°äº†Brokerï¼Œä½†æ˜¯å‡ºäº†é—®é¢˜ï¼Œæ²¡æœ‰ä¿å­˜ä¸‹æ¥ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œ&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNjQwNzU2NQ==&amp;amp;mid=2650347372&amp;amp;idx=1&amp;amp;sn=97a0803defeadc67931e65dc4d754a6a&amp;amp;chksm=8300638eb477ea983563bea2f1bb226b65b77581b44eea35f12775df411ee815cd4f3b703138&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;RocketMQ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;RocketMQ&lt;/span&gt;&lt;/a&gt;å¯¹Producerå‘é€æ¶ˆæ¯è®¾ç½®äº†3ç§æ–¹å¼ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;åŒæ­¥å‘é€&lt;br/&gt;å¼‚æ­¥å‘é€&lt;br/&gt;å•å‘å‘é€&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Brokerå¼„ä¸¢æ•°æ®ï¼š&lt;/p&gt;&lt;p&gt;Brokeræ¥æ”¶åˆ°Messageæš‚å­˜åˆ°å†…å­˜ï¼ŒConsumerè¿˜æ²¡æ¥å¾—åŠæ¶ˆè´¹ï¼ŒBrokeræŒ‚æ‰äº†ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥é€šè¿‡ æŒä¹…åŒ– è®¾ç½®å»è§£å†³ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åˆ›å»ºQueueçš„æ—¶å€™è®¾ç½®æŒä¹…åŒ–ï¼Œä¿è¯BrokeræŒä¹…åŒ–Queueçš„å…ƒæ•°æ®ï¼Œä½†æ˜¯ä¸ä¼šæŒä¹…åŒ–Queueé‡Œé¢çš„æ¶ˆæ¯&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å°†Messageçš„deliveryModeè®¾ç½®ä¸º2ï¼Œå¯ä»¥å°†æ¶ˆæ¯æŒä¹…åŒ–åˆ°ç£ç›˜ï¼Œè¿™æ ·åªæœ‰Messageæ”¯æŒåŒ–åˆ°ç£ç›˜ä¹‹åæ‰ä¼šå‘é€é€šçŸ¥Producer ack&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;è¿™ä¸¤æ­¥è¿‡åï¼Œå³ä½¿BrokeræŒ‚äº†ï¼ŒProducerè‚¯å®šæ”¶ä¸åˆ°ackçš„ï¼Œå°±å¯ä»¥è¿›è¡Œé‡å‘ã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆè´¹è€…å¼„ä¸¢æ•°æ®ï¼š&lt;/p&gt;&lt;p&gt;Consumeræœ‰æ¶ˆè´¹åˆ°Messageï¼Œä½†æ˜¯å†…éƒ¨å‡ºç°é—®é¢˜ï¼ŒMessageè¿˜æ²¡å¤„ç†ï¼ŒBrokerä»¥ä¸ºConsumerå¤„ç†å®Œäº†ï¼Œåªä¼šæŠŠåç»­çš„æ¶ˆæ¯å‘é€ã€‚è¿™æ—¶å€™ï¼Œå°±è¦ å…³é—­autoackï¼Œæ¶ˆæ¯å¤„ç†è¿‡åï¼Œè¿›è¡Œæ‰‹åŠ¨ack , å¤šæ¬¡æ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯ï¼Œä¼šè¿›å…¥ æ­»ä¿¡é˜Ÿåˆ— ï¼Œè¿™æ—¶å€™éœ€è¦äººå·¥å¹²é¢„ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;Kafka&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ç”Ÿäº§è€…å¼„ä¸¢æ•°æ®&lt;/p&gt;&lt;p&gt;è®¾ç½®äº† acks=all ï¼Œä¸€å®šä¸ä¼šä¸¢ï¼Œè¦æ±‚æ˜¯ï¼Œä½ çš„ leader æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œæ‰€æœ‰çš„ follower éƒ½åŒæ­¥åˆ°äº†æ¶ˆæ¯ä¹‹åï¼Œæ‰è®¤ä¸ºæœ¬æ¬¡å†™æˆåŠŸäº†ã€‚å¦‚æœæ²¡æ»¡è¶³è¿™ä¸ªæ¡ä»¶ï¼Œç”Ÿäº§è€…ä¼šè‡ªåŠ¨ä¸æ–­çš„é‡è¯•ï¼Œé‡è¯•æ— é™æ¬¡ã€‚&lt;/p&gt;&lt;p&gt;Brokerå¼„ä¸¢æ•°æ®&lt;/p&gt;&lt;p&gt;Kafka æŸä¸ª broker å®•æœºï¼Œç„¶åé‡æ–°é€‰ä¸¾ partition çš„ leaderã€‚å¤§å®¶æƒ³æƒ³ï¼Œè¦æ˜¯æ­¤æ—¶å…¶ä»–çš„ follower åˆšå¥½è¿˜æœ‰äº›æ•°æ®æ²¡æœ‰åŒæ­¥ï¼Œç»“æœæ­¤æ—¶ leader æŒ‚äº†ï¼Œç„¶åé€‰ä¸¾æŸä¸ª follower æˆ leader ä¹‹åï¼Œä¸å°±å°‘äº†ä¸€äº›æ•°æ®ï¼Ÿè¿™å°±ä¸¢äº†ä¸€äº›æ•°æ®å•Šã€‚&lt;/p&gt;&lt;p&gt;æ­¤æ—¶ä¸€èˆ¬æ˜¯è¦æ±‚èµ·ç è®¾ç½®å¦‚ä¸‹ 4 ä¸ªå‚æ•°ï¼š&lt;/p&gt;&lt;pre&gt;&lt;code&gt;replication.factor&lt;br/&gt;min.insync.replicas&lt;br/&gt;acks=all&lt;br/&gt;retries=MAX&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ‘ä»¬ç”Ÿäº§ç¯å¢ƒå°±æ˜¯æŒ‰ç…§ä¸Šè¿°è¦æ±‚é…ç½®çš„ï¼Œè¿™æ ·é…ç½®ä¹‹åï¼Œè‡³å°‘åœ¨ Kafka broker ç«¯å°±å¯ä»¥ä¿è¯åœ¨ leader æ‰€åœ¨ broker å‘ç”Ÿæ•…éšœï¼Œè¿›è¡Œ leader åˆ‡æ¢æ—¶ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆè´¹è€…å¼„ä¸¢æ•°æ®&lt;/p&gt;&lt;p&gt;ä½ æ¶ˆè´¹åˆ°äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œç„¶åæ¶ˆè´¹è€…é‚£è¾¹è‡ªåŠ¨æäº¤äº† offsetï¼Œè®© Kafka ä»¥ä¸ºä½ å·²ç»æ¶ˆè´¹å¥½äº†è¿™ä¸ªæ¶ˆæ¯ï¼Œä½†å…¶å®ä½ æ‰åˆšå‡†å¤‡å¤„ç†è¿™ä¸ªæ¶ˆæ¯ï¼Œä½ è¿˜æ²¡å¤„ç†ï¼Œä½ è‡ªå·±å°±æŒ‚äº†ï¼Œæ­¤æ—¶è¿™æ¡æ¶ˆæ¯å°±ä¸¢å’¯ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸æ˜¯è·Ÿ RabbitMQ å·®ä¸å¤šå—ï¼Œå¤§å®¶éƒ½çŸ¥é“ Kafka ä¼šè‡ªåŠ¨æäº¤ offsetï¼Œé‚£ä¹ˆåªè¦ å…³é—­è‡ªåŠ¨æäº¤ offsetï¼Œåœ¨å¤„ç†å®Œä¹‹åè‡ªå·±æ‰‹åŠ¨æäº¤ offsetï¼Œå°±å¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šä¸¢ã€‚ä½†æ˜¯æ­¤æ—¶ç¡®å®è¿˜æ˜¯å¯èƒ½ä¼šæœ‰é‡å¤æ¶ˆè´¹ï¼Œæ¯”å¦‚ä½ åˆšå¤„ç†å®Œï¼Œè¿˜æ²¡æäº¤ offsetï¼Œç»“æœè‡ªå·±æŒ‚äº†ï¼Œæ­¤æ—¶è‚¯å®šä¼šé‡å¤æ¶ˆè´¹ä¸€æ¬¡ï¼Œè‡ªå·±ä¿è¯å¹‚ç­‰æ€§å°±å¥½äº†ã€‚&lt;/p&gt;&lt;h4&gt;&lt;span&gt;å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¹‚ç­‰ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;ä»¥ RocketMQ ä¸ºä¾‹ï¼Œä¸‹é¢åˆ—å‡ºäº†æ¶ˆæ¯é‡å¤çš„åœºæ™¯ï¼š&lt;/p&gt;&lt;p&gt;å‘é€æ—¶æ¶ˆæ¯é‡å¤&lt;/p&gt;&lt;p&gt;å½“ä¸€æ¡æ¶ˆæ¯å·²è¢«æˆåŠŸå‘é€åˆ°æœåŠ¡ç«¯å¹¶å®ŒæˆæŒä¹…åŒ–ï¼Œæ­¤æ—¶å‡ºç°äº†ç½‘ç»œé—ªæ–­æˆ–è€…å®¢æˆ·ç«¯å®•æœºï¼Œå¯¼è‡´æœåŠ¡ç«¯å¯¹å®¢æˆ·ç«¯åº”ç­”å¤±è´¥ã€‚å¦‚æœæ­¤æ—¶ç”Ÿäº§è€…æ„è¯†åˆ°æ¶ˆæ¯å‘é€å¤±è´¥å¹¶å°è¯•å†æ¬¡å‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…åç»­ä¼šæ”¶åˆ°ä¸¤æ¡å†…å®¹ç›¸åŒå¹¶ä¸”Message IDä¹Ÿç›¸åŒçš„æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;æŠ•é€’æ—¶æ¶ˆæ¯é‡å¤&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯æ¶ˆè´¹çš„åœºæ™¯ä¸‹ï¼Œæ¶ˆæ¯å·²æŠ•é€’åˆ°æ¶ˆè´¹è€…å¹¶å®Œæˆä¸šåŠ¡å¤„ç†ï¼Œå½“å®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯åé¦ˆåº”ç­”çš„æ—¶å€™ç½‘ç»œé—ªæ–­ã€‚ä¸ºäº†ä¿è¯æ¶ˆæ¯è‡³å°‘è¢«æ¶ˆè´¹ä¸€æ¬¡ï¼Œæ¶ˆæ¯é˜Ÿåˆ—&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAwNjQwNzU2NQ==&amp;amp;mid=2650347372&amp;amp;idx=1&amp;amp;sn=97a0803defeadc67931e65dc4d754a6a&amp;amp;chksm=8300638eb477ea983563bea2f1bb226b65b77581b44eea35f12775df411ee815cd4f3b703138&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;RocketMQ&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;RocketMQ&lt;/span&gt;&lt;/a&gt;ç‰ˆçš„æœåŠ¡ç«¯å°†åœ¨ç½‘ç»œæ¢å¤åå†æ¬¡å°è¯•æŠ•é€’ä¹‹å‰å·²è¢«å¤„ç†è¿‡çš„æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…åç»­ä¼šæ”¶åˆ°ä¸¤æ¡å†…å®¹ç›¸åŒå¹¶ä¸”Message IDä¹Ÿç›¸åŒçš„æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;è´Ÿè½½å‡è¡¡æ—¶æ¶ˆæ¯é‡å¤ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºç½‘ç»œæŠ–åŠ¨ã€Brokeré‡å¯ä»¥åŠæ¶ˆè´¹è€…åº”ç”¨é‡å¯ï¼‰&lt;/p&gt;&lt;p&gt;å½“æ¶ˆæ¯é˜Ÿåˆ—RocketMQç‰ˆçš„Brokeræˆ–å®¢æˆ·ç«¯é‡å¯ã€æ‰©å®¹æˆ–ç¼©å®¹æ—¶ï¼Œä¼šè§¦å‘Rebalanceï¼Œæ­¤æ—¶æ¶ˆè´¹è€…å¯èƒ½ä¼šæ”¶åˆ°é‡å¤æ¶ˆæ¯ã€‚&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œæœ‰ä»€ä¹ˆè§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿç›´æ¥ä¸Šå›¾ã€‚&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1.1189591078066914&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv457m0jqUerbsd0yQt0Vbx1Tyr7pWWYZpJ7mAibfjg0QTpM224mHgKJoyg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1076&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;h4&gt;&lt;span&gt;å¦‚ä½•è§£å†³æ¶ˆæ¯ç§¯å‹çš„é—®é¢˜ï¼Ÿ&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæœ‰å‡ ä¸ªç‚¹éœ€è¦è€ƒè™‘ï¼š&lt;/p&gt;&lt;p&gt;å¦‚ä½•å¿«é€Ÿè®©ç§¯å‹çš„æ¶ˆæ¯è¢«æ¶ˆè´¹æ‰ï¼Ÿ&lt;/p&gt;&lt;p&gt;ä¸´æ—¶å†™ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘çš„æ¶ˆè´¹è€…ï¼ŒæŠŠç§¯å‹é˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯å‡åŒ€åˆ†å‘åˆ°Nä¸ªé˜Ÿåˆ—ä¸­ï¼ŒåŒæ—¶ä¸€ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œç›¸å½“äºæ¶ˆè´¹é€Ÿåº¦æé«˜äº†Nå€ã€‚&lt;/p&gt;&lt;p&gt;ä¿®æ”¹å‰ï¼š&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5664739884393064&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv45GAcfiaStESFibSicJibtosibbXyclkU52SqtYbPGYP4ib7Y6wEWaSvduSqMA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1038&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ä¿®æ”¹åï¼š&lt;/p&gt;&lt;figure&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.68&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/fEsWkVrSk55qufvUzRzyQYcrEmL4Cv457f3ibBDUDBbCyoydM9768IP9VV9CWknNnse4VbdQOticSFosRdpYREsw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1100&quot; title=&quot;&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç§¯å‹æ—¶é—´å¤ªä¹…ï¼Œå¯¼è‡´éƒ¨åˆ†æ¶ˆæ¯è¿‡æœŸï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ&lt;/p&gt;&lt;p&gt;æ‰¹é‡é‡å¯¼ã€‚åœ¨ä¸šåŠ¡ä¸ç¹å¿™çš„æ—¶å€™ï¼Œæ¯”å¦‚å‡Œæ™¨ï¼Œæå‰å‡†å¤‡å¥½ç¨‹åºï¼ŒæŠŠä¸¢å¤±çš„é‚£æ‰¹æ¶ˆæ¯æŸ¥å‡ºæ¥ï¼Œé‡æ–°å¯¼å…¥åˆ°MQä¸­ã€‚&lt;/p&gt;&lt;p&gt;æ¶ˆæ¯å¤§é‡ç§¯å‹ï¼ŒMQç£ç›˜è¢«å†™æ»¡äº†ï¼Œå¯¼è‡´æ–°æ¶ˆæ¯è¿›ä¸æ¥äº†ï¼Œä¸¢æ‰äº†å¤§é‡æ¶ˆæ¯ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ&lt;/p&gt;&lt;p&gt;è¿™ä¸ªæ²¡åŠæ³•ã€‚è°è®©ã€æ¶ˆæ¯åˆ†å‘çš„æ¶ˆè´¹è€…ã€‘å†™çš„å¤ªæ…¢äº†ï¼Œä½ ä¸´æ—¶å†™ç¨‹åºï¼Œæ¥å…¥æ•°æ®æ¥æ¶ˆè´¹ï¼Œæ¶ˆè´¹ä¸€ä¸ªä¸¢å¼ƒä¸€ä¸ªï¼Œéƒ½ä¸è¦äº†ï¼Œå¿«é€Ÿæ¶ˆè´¹æ‰æ‰€æœ‰çš„æ¶ˆæ¯ã€‚ç„¶åèµ°ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œåˆ°äº†æ™šä¸Šå†è¡¥æ•°æ®å§ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>769091fa4633e3f08f08d05de64a12df</guid>
<title>Linux ç¨‹åºç¼–è¯‘è¿‡ç¨‹è¯¦è§£</title>
<link>https://toutiao.io/k/o4hxpl5</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content                                       &quot; id=&quot;js_content&quot;&gt;
            &lt;p data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;span&gt;â†“&lt;/span&gt;&lt;span&gt;æ¨èå…³æ³¨â†“&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAwNjMxMTgwNw==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/IgylNib7ZE2L6Kv5EcGWb5mYVbzlgzP2R6qdGee7kZ03T7nia7rtkSnKvEvEOwnGxX4Zf2VVrlQNwWVrLlEhn4OQ/0?wx_fmt=png&quot; data-nickname=&quot;Goå¼€å‘å¤§å…¨&quot; data-alias=&quot;goprogrammer&quot; data-signature=&quot;ç‚¹å‡»è·å–6ä¸‡starçš„Goå¼€æºåº“ã€‚[ Goå¼€å‘å¤§å…¨ ] æ—¥å¸¸åˆ†äº« Go, äº‘åŸç”Ÿã€k8sã€Dockerå’Œå¾®æœåŠ¡æ–¹é¢çš„æŠ€æœ¯æ–‡ç« å’Œè¡Œä¸šåŠ¨æ€ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;h1&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section data-mpa-template=&quot;t&quot; mpa-paragraph-type=&quot;ignored&quot;&gt;&lt;section&gt;&lt;span&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/h1&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;å¤§å®¶è‚¯å®šéƒ½çŸ¥é“&lt;span&gt;è®¡ç®—æœºç¨‹åºè®¾è®¡è¯­è¨€é€šå¸¸åˆ†ä¸ºæœºå™¨è¯­è¨€ã€æ±‡ç¼–è¯­è¨€å’Œé«˜çº§è¯­è¨€ä¸‰ç±»ã€‚é«˜çº§è¯­è¨€éœ€è¦é€šè¿‡ç¿»è¯‘æˆæœºå™¨è¯­è¨€æ‰èƒ½æ‰§è¡Œï¼Œè€Œç¿»è¯‘çš„æ–¹å¼åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ç¼–è¯‘å‹ï¼Œå¦ä¸€ç§æ˜¯è§£é‡Šå‹ï¼Œå› æ­¤æˆ‘ä»¬åŸºæœ¬ä¸Šå°†é«˜çº§è¯­è¨€åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç§æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œä¾‹å¦‚Cï¼ŒC++ï¼ŒJavaï¼Œå¦ä¸€ç§æ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œä¾‹å¦‚Pythonã€Rubyã€MATLAB ã€JavaScriptã€‚&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°†é«˜å±‚çš„C/C++è¯­è¨€ç¼–å†™çš„ç¨‹åºè½¬æ¢æˆä¸ºå¤„ç†å™¨èƒ½å¤Ÿæ‰§è¡Œçš„äºŒè¿›åˆ¶ä»£&lt;/span&gt;&lt;span&gt;ç çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å››ä¸ªæ­¥éª¤ï¼š&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é¢„å¤„ç†ï¼ˆPreprocessingï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç¼–è¯‘ï¼ˆCompilationï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ±‡ç¼–ï¼ˆAssemblyï¼‰&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;é“¾æ¥ï¼ˆLinkingï¼‰&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5386904761904762&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/9sNwsXcN68r9HRG8EDyr4qibWuPueTNaDIwKfibUtPJyT1WQPZzrYuW22DEiat6NvACulo7UT3s38s4oZNEVt10rw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;672&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;GCC å·¥å…·é“¾ä»‹ç»&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;é€šå¸¸æ‰€è¯´çš„GCCæ˜¯GUN Compiler Collectionçš„ç®€ç§°ï¼Œæ˜¯Linuxç³»ç»Ÿä¸Šå¸¸ç”¨çš„ç¼–è¯‘å·¥å…·ã€‚GCCå·¥å…·é“¾è½¯ä»¶åŒ…æ‹¬GCCã€Binutilsã€Cè¿è¡Œåº“ç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;GCC&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;GCCï¼ˆGNU C Compilerï¼‰æ˜¯ç¼–è¯‘å·¥å…·ã€‚æœ¬æ–‡æ‰€è¦ä»‹ç»çš„å°†C/C++è¯­è¨€ç¼–å†™çš„ç¨‹åºè½¬æ¢æˆä¸ºå¤„ç†å™¨èƒ½å¤Ÿæ‰§è¡Œçš„äºŒè¿›åˆ¶ä»£ç çš„è¿‡ç¨‹å³ç”±ç¼–è¯‘å™¨å®Œæˆã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Binutils&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä¸€ç»„äºŒè¿›åˆ¶ç¨‹åºå¤„ç†å·¥å…·ï¼ŒåŒ…æ‹¬ï¼šaddr2lineã€arã€objcopyã€objdumpã€asã€ldã€lddã€readelfã€sizeç­‰ã€‚è¿™ä¸€ç»„å·¥å…·æ˜¯å¼€å‘å’Œè°ƒè¯•ä¸å¯ç¼ºå°‘çš„å·¥å…·ï¼Œåˆ†åˆ«ç®€ä»‹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;addr2lineï¼šç”¨æ¥å°†ç¨‹åºåœ°å€è½¬æ¢æˆå…¶æ‰€å¯¹åº”çš„ç¨‹åºæºæ–‡ä»¶åŠæ‰€å¯¹åº”çš„ä»£ç è¡Œï¼Œä¹Ÿå¯ä»¥å¾—åˆ°æ‰€å¯¹åº”çš„å‡½æ•°ã€‚è¯¥å·¥å…·å°†å¸®åŠ©è°ƒè¯•å™¨åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­å®šä½å¯¹åº”çš„æºä»£ç ä½ç½®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;asï¼šä¸»è¦ç”¨äºæ±‡ç¼–ï¼Œæœ‰å…³æ±‡ç¼–çš„è¯¦ç»†ä»‹ç»è¯·å‚è§åæ–‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ldï¼šä¸»è¦ç”¨äºé“¾æ¥ï¼Œæœ‰å…³é“¾æ¥çš„è¯¦ç»†ä»‹ç»è¯·å‚è§åæ–‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;arï¼šä¸»è¦ç”¨äºåˆ›å»ºé™æ€åº“ã€‚ä¸ºäº†ä¾¿äºåˆå­¦è€…ç†è§£ï¼Œåœ¨æ­¤ä»‹ç»åŠ¨æ€åº“ä¸é™æ€åº“çš„æ¦‚å¿µï¼š&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœè¦å°†å¤šä¸ª.oç›®æ ‡æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªåº“æ–‡ä»¶ï¼Œåˆ™å­˜åœ¨ä¸¤ç§ç±»å‹çš„åº“ï¼Œä¸€ç§æ˜¯é™æ€åº“ï¼Œå¦ä¸€ç§æ˜¯åŠ¨æ€åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨windowsä¸­é™æ€åº“æ˜¯ä»¥ .lib ä¸ºåç¼€çš„æ–‡ä»¶ï¼Œå…±äº«åº“æ˜¯ä»¥ .dll ä¸ºåç¼€çš„æ–‡ä»¶ã€‚åœ¨linuxä¸­é™æ€åº“æ˜¯ä»¥.aä¸ºåç¼€çš„æ–‡ä»¶ï¼Œå…±äº«åº“æ˜¯ä»¥.soä¸ºåç¼€çš„æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é™æ€åº“å’ŒåŠ¨æ€åº“çš„ä¸åŒç‚¹åœ¨äºä»£ç è¢«è½½å…¥çš„æ—¶åˆ»ä¸åŒã€‚é™æ€åº“çš„ä»£ç åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å·²ç»è¢«è½½å…¥å¯æ‰§è¡Œç¨‹åºï¼Œå› æ­¤ä½“ç§¯è¾ƒå¤§ã€‚å…±äº«åº“çš„ä»£ç æ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè¿è¡Œæ—¶æ‰è½½å…¥å†…å­˜çš„ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä»…ç®€å•çš„å¼•ç”¨ï¼Œå› æ­¤ä»£ç ä½“ç§¯è¾ƒå°ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç”¨lddå‘½ä»¤æŸ¥çœ‹ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä¾èµ–çš„å…±äº«åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä¸€ä¸ªç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªéœ€è¦åŒæ—¶è¿è¡Œçš„ç¨‹åºä¸”è¿™äº›ç¨‹åºä¹‹é—´å­˜åœ¨å…±äº«åº“ï¼Œé‚£ä¹ˆé‡‡ç”¨åŠ¨æ€åº“çš„å½¢å¼å°†æ›´èŠ‚çœå†…å­˜ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;lddï¼šå¯ä»¥ç”¨äºæŸ¥çœ‹ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä¾èµ–çš„å…±äº«åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;objcopyï¼šå°†ä¸€ç§å¯¹è±¡æ–‡ä»¶ç¿»è¯‘æˆå¦ä¸€ç§æ ¼å¼ï¼Œè­¬å¦‚å°†.binè½¬æ¢æˆ.elfã€æˆ–è€…å°†.elfè½¬æ¢æˆ.binç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;objdumpï¼šä¸»è¦çš„ä½œç”¨æ˜¯åæ±‡ç¼–ã€‚æœ‰å…³åæ±‡ç¼–çš„è¯¦ç»†ä»‹ç»ï¼Œè¯·å‚è§åæ–‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;readelfï¼šæ˜¾ç¤ºæœ‰å…³ELFæ–‡ä»¶çš„ä¿¡æ¯ï¼Œè¯·å‚è§åæ–‡äº†è§£æ›´å¤šä¿¡æ¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;sizeï¼šåˆ—å‡ºå¯æ‰§è¡Œæ–‡ä»¶æ¯ä¸ªéƒ¨åˆ†çš„å°ºå¯¸å’Œæ€»å°ºå¯¸ï¼Œä»£ç æ®µã€æ•°æ®æ®µã€æ€»å¤§å°ç­‰ï¼Œè¯·å‚è§åæ–‡äº†è§£ä½¿ç”¨sizeçš„å…·ä½“ä½¿ç”¨å®ä¾‹ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Cè¿è¡Œåº“&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Cè¯­è¨€æ ‡å‡†ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šä¸€éƒ¨åˆ†æè¿°Cçš„è¯­æ³•ï¼Œå¦ä¸€éƒ¨åˆ†æè¿°Cæ ‡å‡†åº“ã€‚Cæ ‡å‡†åº“å®šä¹‰äº†ä¸€ç»„æ ‡å‡†å¤´æ–‡ä»¶ï¼Œæ¯ä¸ªå¤´æ–‡ä»¶ä¸­åŒ…å«ä¸€äº›ç›¸å…³çš„å‡½æ•°ã€å˜é‡ã€ç±»å‹å£°æ˜å’Œå®å®šä¹‰ï¼Œè­¬å¦‚å¸¸è§çš„printfå‡½æ•°ä¾¿æ˜¯ä¸€ä¸ªCæ ‡å‡†åº“å‡½æ•°ï¼Œå…¶åŸå‹å®šä¹‰åœ¨stdioå¤´æ–‡ä»¶ä¸­ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;Cè¯­è¨€æ ‡å‡†ä»…ä»…å®šä¹‰äº†Cæ ‡å‡†åº“å‡½æ•°åŸå‹ï¼Œå¹¶æ²¡æœ‰æä¾›å®ç°ã€‚å› æ­¤ï¼ŒCè¯­è¨€ç¼–è¯‘å™¨é€šå¸¸éœ€è¦ä¸€ä¸ªCè¿è¡Œæ—¶åº“ï¼ˆC Run Time Librayï¼ŒCRTï¼‰çš„æ”¯æŒã€‚Cè¿è¡Œæ—¶åº“åˆå¸¸ç®€ç§°ä¸ºCè¿è¡Œåº“ã€‚ä¸Cè¯­è¨€ç±»ä¼¼ï¼ŒC++ä¹Ÿå®šä¹‰äº†è‡ªå·±çš„æ ‡å‡†ï¼ŒåŒæ—¶æä¾›ç›¸å…³æ”¯æŒåº“ï¼Œç§°ä¸ºC++è¿è¡Œæ—¶åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å‡†å¤‡å·¥ä½œ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;span&gt;ç”±äºGCCå·¥å…·é“¾ä¸»è¦æ˜¯åœ¨Linuxç¯å¢ƒä¸­è¿›è¡Œä½¿ç”¨ï¼Œå› æ­¤æœ¬æ–‡ä¹Ÿå°†ä»¥Linuxç³»ç»Ÿä½œä¸ºå·¥ä½œç¯å¢ƒã€‚ä¸ºäº†èƒ½å¤Ÿæ¼”ç¤ºç¼–è¯‘çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œæœ¬èŠ‚å…ˆå‡†å¤‡ä¸€ä¸ªCè¯­è¨€ç¼–å†™çš„ç®€å•Helloç¨‹åºä½œä¸ºç¤ºä¾‹ï¼Œå…¶æºä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;#&lt;span&gt;include&lt;/span&gt; &lt;span&gt;&amp;lt;stdio.h&amp;gt; &lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;//æ­¤ç¨‹åºå¾ˆç®€å•ï¼Œä»…ä»…æ‰“å°ä¸€ä¸ªHello Worldçš„å­—ç¬¦ä¸²ã€‚&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt; &lt;span&gt;main(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt; Â &lt;span&gt;printf&lt;/span&gt;(&lt;span&gt;&quot;Hello World! \n&quot;&lt;/span&gt;);&lt;br/&gt; Â &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç¼–è¯‘è¿‡ç¨‹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;1.é¢„å¤„ç†&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é¢„å¤„ç†çš„è¿‡ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹è¿‡ç¨‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å°†æ‰€æœ‰çš„#defineåˆ é™¤ï¼Œå¹¶ä¸”å±•å¼€æ‰€æœ‰çš„å®å®šä¹‰ï¼Œå¹¶ä¸”å¤„ç†æ‰€æœ‰çš„æ¡ä»¶é¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œæ¯”å¦‚#if #ifdef #elif #else #endifç­‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¤„ç†#includeé¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå°†è¢«åŒ…å«çš„æ–‡ä»¶æ’å…¥åˆ°è¯¥é¢„ç¼–è¯‘æŒ‡ä»¤çš„ä½ç½®ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åˆ é™¤æ‰€æœ‰æ³¨é‡Šâ€œ//â€å’Œâ€œ/* */â€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ·»åŠ è¡Œå·å’Œæ–‡ä»¶æ ‡è¯†ï¼Œä»¥ä¾¿ç¼–è¯‘æ—¶äº§ç”Ÿè°ƒè¯•ç”¨çš„è¡Œå·åŠç¼–è¯‘é”™è¯¯è­¦å‘Šè¡Œå·ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;ä¿ç•™æ‰€æœ‰çš„#pragmaç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œåç»­ç¼–è¯‘è¿‡ç¨‹éœ€è¦ä½¿ç”¨å®ƒä»¬ã€‚&lt;br/&gt;ä½¿ç”¨gccè¿›è¡Œé¢„å¤„ç†çš„å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc -E hello.c -o hello.i // å°†æºæ–‡ä»¶hello.cæ–‡ä»¶é¢„å¤„ç†ç”Ÿæˆhello.i&lt;/span&gt;&lt;br/&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // GCCçš„é€‰é¡¹-Eä½¿GCCåœ¨è¿›è¡Œå®Œé¢„å¤„ç†åå³åœæ­¢&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;hello.iæ–‡ä»¶å¯ä»¥ä½œä¸ºæ™®é€šæ–‡æœ¬æ–‡ä»¶æ‰“å¼€è¿›è¡ŒæŸ¥çœ‹ï¼Œå…¶ä»£ç ç‰‡æ®µå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;// hello.iä»£ç ç‰‡æ®µ&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;extern&lt;/span&gt; &lt;span&gt;void&lt;/span&gt; &lt;span&gt;funlockfile&lt;/span&gt; &lt;span&gt;(FILE *__stream)&lt;/span&gt; __&lt;span&gt;attribute__&lt;/span&gt; &lt;span&gt;((__nothrow__ , __leaf__)&lt;/span&gt;)&lt;/span&gt;;&lt;br/&gt;# &lt;span&gt;942&lt;/span&gt; &lt;span&gt;&quot;/usr/include/stdio.h&quot;&lt;/span&gt; &lt;span&gt;3&lt;/span&gt; &lt;span&gt;4&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;# &lt;span&gt;2&lt;/span&gt; &lt;span&gt;&quot;hello.c&quot;&lt;/span&gt; &lt;span&gt;2&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;# &lt;span&gt;3&lt;/span&gt; &lt;span&gt;&quot;hello.c&quot;&lt;/span&gt;&lt;br/&gt;&lt;span&gt;&lt;span&gt;int&lt;/span&gt;&lt;br/&gt;&lt;span&gt;main(&lt;span&gt;void&lt;/span&gt;)&lt;/span&gt;&lt;br/&gt;&lt;/span&gt;{&lt;br/&gt; Â &lt;span&gt;printf&lt;/span&gt;(&lt;span&gt;&quot;Hello World!&quot;&lt;/span&gt; &lt;span&gt;&quot;\n&quot;&lt;/span&gt;);&lt;br/&gt; Â &lt;span&gt;return&lt;/span&gt; &lt;span&gt;0&lt;/span&gt;;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.ç¼–è¯‘&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¼–è¯‘è¿‡ç¨‹å°±æ˜¯å¯¹é¢„å¤„ç†å®Œçš„æ–‡ä»¶è¿›è¡Œä¸€ç³»åˆ—çš„è¯æ³•åˆ†æï¼Œè¯­æ³•åˆ†æï¼Œè¯­ä¹‰åˆ†æåŠä¼˜åŒ–åç”Ÿæˆç›¸åº”çš„æ±‡ç¼–ä»£ç ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä½¿ç”¨gccè¿›è¡Œç¼–è¯‘çš„å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc -S hello.i -o hello.s // å°†é¢„å¤„ç†ç”Ÿæˆçš„hello.iæ–‡ä»¶ç¼–è¯‘ç”Ÿæˆæ±‡ç¼–ç¨‹åºhello.s&lt;/span&gt;&lt;br/&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // GCCçš„é€‰é¡¹-Sä½¿GCCåœ¨æ‰§è¡Œå®Œç¼–è¯‘ååœæ­¢ï¼Œç”Ÿæˆæ±‡ç¼–ç¨‹åº&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä¸Šè¿°å‘½ä»¤ç”Ÿæˆçš„æ±‡ç¼–ç¨‹åºhello.sçš„ä»£ç ç‰‡æ®µå¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶å…¨éƒ¨ä¸ºæ±‡ç¼–ä»£ç ã€‚&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;// hello.sä»£ç ç‰‡æ®µ&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;main:&lt;br/&gt;.LFB0:&lt;br/&gt; Â  Â .cfi_startproc&lt;br/&gt; Â  Â pushq Â  %rbp&lt;br/&gt; Â  Â .cfi_def_cfa_offset &lt;span&gt;16&lt;/span&gt;&lt;br/&gt; Â  Â .cfi_offset &lt;span&gt;6&lt;/span&gt;, &lt;span&gt;-16&lt;/span&gt;&lt;br/&gt; Â  Â movq Â  Â %rsp, %rbp&lt;br/&gt; Â  Â .cfi_def_cfa_register &lt;span&gt;6&lt;/span&gt;&lt;br/&gt; Â  Â movl Â  Â $.LC0, %edi&lt;br/&gt; Â  Â call Â  Â &lt;span&gt;puts&lt;/span&gt;&lt;br/&gt; Â  Â movl Â  Â $&lt;span&gt;0&lt;/span&gt;, %eax&lt;br/&gt; Â  Â popq Â  Â %rbp&lt;br/&gt; Â  Â .cfi_def_cfa &lt;span&gt;7&lt;/span&gt;, &lt;span&gt;8&lt;/span&gt;&lt;br/&gt; Â  Â ret&lt;br/&gt; Â  Â .cfi_endproc&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;3.æ±‡ç¼–&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ±‡ç¼–è¿‡ç¨‹è°ƒç”¨å¯¹æ±‡ç¼–ä»£ç è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆå¤„ç†å™¨èƒ½è¯†åˆ«çš„æŒ‡ä»¤ï¼Œä¿å­˜åœ¨åç¼€ä¸º.oçš„ç›®æ ‡æ–‡ä»¶ä¸­ã€‚ç”±äºæ¯ä¸€ä¸ªæ±‡ç¼–è¯­å¥å‡ ä¹éƒ½å¯¹åº”ä¸€æ¡å¤„ç†å™¨æŒ‡ä»¤ï¼Œå› æ­¤ï¼Œæ±‡ç¼–ç›¸å¯¹äºç¼–è¯‘è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡è°ƒç”¨Binutilsä¸­çš„æ±‡ç¼–å™¨asæ ¹æ®æ±‡ç¼–æŒ‡ä»¤å’Œå¤„ç†å™¨æŒ‡ä»¤çš„å¯¹ç…§è¡¨ä¸€ä¸€ç¿»è¯‘å³å¯ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å½“ç¨‹åºç”±å¤šä¸ªæºä»£ç æ–‡ä»¶æ„æˆæ—¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½è¦å…ˆå®Œæˆæ±‡ç¼–å·¥ä½œï¼Œç”Ÿæˆ.oç›®æ ‡æ–‡ä»¶åï¼Œæ‰èƒ½è¿›å…¥ä¸‹ä¸€æ­¥çš„é“¾æ¥å·¥ä½œã€‚æ³¨æ„ï¼šç›®æ ‡æ–‡ä»¶å·²ç»æ˜¯æœ€ç»ˆç¨‹åºçš„æŸä¸€éƒ¨åˆ†äº†ï¼Œä½†æ˜¯åœ¨é“¾æ¥ä¹‹å‰è¿˜ä¸èƒ½æ‰§è¡Œã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨gccè¿›è¡Œæ±‡ç¼–çš„å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc -c hello.s -o hello.o // å°†ç¼–è¯‘ç”Ÿæˆçš„hello.sæ–‡ä»¶æ±‡ç¼–ç”Ÿæˆç›®æ ‡æ–‡ä»¶hello.o&lt;/span&gt;&lt;br/&gt; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â // GCCçš„é€‰é¡¹-cä½¿GCCåœ¨æ‰§è¡Œå®Œæ±‡ç¼–ååœæ­¢ï¼Œç”Ÿæˆç›®æ ‡æ–‡ä»¶&lt;br/&gt;//æˆ–è€…ç›´æ¥è°ƒç”¨asè¿›è¡Œæ±‡ç¼–&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; as -c hello.s -o hello.o //ä½¿ç”¨Binutilsä¸­çš„aså°†hello.sæ–‡ä»¶æ±‡ç¼–ç”Ÿæˆç›®æ ‡æ–‡ä»¶&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;æ³¨æ„ï¼šhello.oç›®æ ‡æ–‡ä»¶ä¸ºELFï¼ˆExecutable and Linkable Formatï¼‰æ ¼å¼çš„å¯é‡å®šå‘æ–‡ä»¶ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4.é“¾æ¥&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;é“¾æ¥ä¹Ÿåˆ†ä¸ºé™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ï¼Œå…¶è¦ç‚¹å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;é™æ€é“¾æ¥æ˜¯æŒ‡åœ¨ç¼–è¯‘é˜¶æ®µç›´æ¥æŠŠé™æ€åº“åŠ å…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­å»ï¼Œè¿™æ ·å¯æ‰§è¡Œæ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ã€‚é“¾æ¥å™¨å°†å‡½æ•°çš„ä»£ç ä»å…¶æ‰€åœ¨åœ°ï¼ˆä¸åŒçš„ç›®æ ‡æ–‡ä»¶æˆ–é™æ€é“¾æ¥åº“ä¸­ï¼‰æ‹·è´åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œç¨‹åºä¸­ã€‚ä¸ºåˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé“¾æ¥å™¨å¿…é¡»è¦å®Œæˆçš„ä¸»è¦ä»»åŠ¡æ˜¯ï¼šç¬¦å·è§£æï¼ˆæŠŠç›®æ ‡æ–‡ä»¶ä¸­ç¬¦å·çš„å®šä¹‰å’Œå¼•ç”¨è”ç³»èµ·æ¥ï¼‰å’Œé‡å®šä½ï¼ˆæŠŠç¬¦å·å®šä¹‰å’Œå†…å­˜åœ°å€å¯¹åº”èµ·æ¥ç„¶åä¿®æ”¹æ‰€æœ‰å¯¹ç¬¦å·çš„å¼•ç”¨ï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åŠ¨æ€é“¾æ¥åˆ™æ˜¯æŒ‡é“¾æ¥é˜¶æ®µä»…ä»…åªåŠ å…¥ä¸€äº›æè¿°ä¿¡æ¯ï¼Œè€Œç¨‹åºæ‰§è¡Œæ—¶å†ä»ç³»ç»Ÿä¸­æŠŠç›¸åº”åŠ¨æ€åº“åŠ è½½åˆ°å†…å­˜ä¸­å»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨Linuxç³»ç»Ÿä¸­ï¼Œgccç¼–è¯‘é“¾æ¥æ—¶çš„åŠ¨æ€åº“æœç´¢è·¯å¾„çš„é¡ºåºé€šå¸¸ä¸ºï¼šé¦–å…ˆä»gccå‘½ä»¤çš„å‚æ•°-LæŒ‡å®šçš„è·¯å¾„å¯»æ‰¾ï¼›å†ä»ç¯å¢ƒå˜é‡LIBRARY_PATHæŒ‡å®šçš„è·¯å¾„å¯»å€ï¼›å†ä»é»˜è®¤è·¯å¾„/libã€/usr/libã€/usr/local/libå¯»æ‰¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨Linuxç³»ç»Ÿä¸­ï¼Œæ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ—¶çš„åŠ¨æ€åº“æœç´¢è·¯å¾„çš„é¡ºåºé€šå¸¸ä¸ºï¼šé¦–å…ˆæœç´¢ç¼–è¯‘ç›®æ ‡ä»£ç æ—¶æŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„ï¼›å†ä»ç¯å¢ƒå˜é‡LD_LIBRARY_PATHæŒ‡å®šçš„è·¯å¾„å¯»å€ï¼›å†ä»é…ç½®æ–‡ä»¶/etc/ld.so.confä¸­æŒ‡å®šçš„åŠ¨æ€åº“æœç´¢è·¯å¾„ï¼›å†ä»é»˜è®¤è·¯å¾„/libã€/usr/libå¯»æ‰¾ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥ç”¨lddå‘½ä»¤æŸ¥çœ‹ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä¾èµ–çš„å…±äº«åº“ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºé“¾æ¥åŠ¨æ€åº“å’Œé™æ€åº“çš„è·¯å¾„å¯èƒ½æœ‰é‡åˆï¼Œæ‰€ä»¥å¦‚æœåœ¨è·¯å¾„ä¸­æœ‰åŒåçš„é™æ€åº“æ–‡ä»¶å’ŒåŠ¨æ€åº“æ–‡ä»¶ï¼Œæ¯”å¦‚libtest.aå’Œlibtest.soï¼Œgccé“¾æ¥æ—¶é»˜è®¤ä¼˜å…ˆé€‰æ‹©åŠ¨æ€åº“ï¼Œä¼šé“¾æ¥libtest.soï¼Œå¦‚æœè¦è®©gccé€‰æ‹©é“¾æ¥libtest.aåˆ™å¯ä»¥æŒ‡å®šgccé€‰é¡¹-staticï¼Œè¯¥é€‰é¡¹ä¼šå¼ºåˆ¶ä½¿ç”¨é™æ€åº“è¿›è¡Œé“¾æ¥ã€‚ä»¥Hello Worldä¸ºä¾‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;å¦‚æœä½¿ç”¨å‘½ä»¤â€œgcc hello.c -o helloâ€åˆ™ä¼šä½¿ç”¨åŠ¨æ€åº“è¿›è¡Œé“¾æ¥ï¼Œç”Ÿæˆçš„ELFå¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼ˆä½¿ç”¨Binutilsçš„sizeå‘½ä»¤æŸ¥çœ‹ï¼‰å’Œé“¾æ¥çš„åŠ¨æ€åº“ï¼ˆä½¿ç”¨Binutilsçš„lddå‘½ä»¤æŸ¥çœ‹ï¼‰å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc hello.c -o hello&lt;/span&gt;&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; size hello Â //ä½¿ç”¨sizeæŸ¥çœ‹å¤§å°&lt;/span&gt;&lt;br/&gt; Â  text Â  Â data Â  Â  bss Â  Â  dec Â  Â  hex filename&lt;br/&gt; Â  1183 Â  Â  552 Â  Â  Â  8 Â  Â 1743 Â  Â  6cf Â  Â  hello&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; ldd hello //å¯ä»¥çœ‹å‡ºè¯¥å¯æ‰§è¡Œæ–‡ä»¶é“¾æ¥äº†å¾ˆå¤šå…¶ä»–åŠ¨æ€åº“ï¼Œä¸»è¦æ˜¯Linuxçš„glibcåŠ¨æ€åº“&lt;/span&gt;&lt;br/&gt; Â  Â  Â  Â linux-vdso.so.1 =&amp;gt; Â (0x00007fffefd7c000)&lt;br/&gt; Â  Â  Â  Â libc.so.6 =&amp;gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007fadcdd82000)&lt;br/&gt; Â  Â  Â  Â /lib64/ld-linux-x86-64.so.2 (0x00007fadce14c000)&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœä½¿ç”¨å‘½ä»¤â€œgcc -static hello.c -o helloâ€åˆ™ä¼šä½¿ç”¨é™æ€åº“è¿›è¡Œé“¾æ¥ï¼Œç”Ÿæˆçš„ELFå¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼ˆä½¿ç”¨Binutilsçš„sizeå‘½ä»¤æŸ¥çœ‹ï¼‰å’Œé“¾æ¥çš„åŠ¨æ€åº“ï¼ˆä½¿ç”¨Binutilsçš„lddå‘½ä»¤æŸ¥çœ‹ï¼‰å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc -static hello.c -o hello&lt;/span&gt;&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; size hello //ä½¿ç”¨sizeæŸ¥çœ‹å¤§å°&lt;/span&gt;&lt;br/&gt; Â  Â  text Â  Â data Â  Â  bss Â  Â  dec Â  Â  hex filename&lt;br/&gt; 823726 Â  Â 7284 Â  Â 6360 Â 837370 Â  cc6fa Â  Â  hello //å¯ä»¥çœ‹å‡ºtextçš„ä»£ç å°ºå¯¸å˜å¾—æå¤§&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; ldd hello&lt;/span&gt;&lt;br/&gt; Â  Â  Â  not a dynamic executable //è¯´æ˜æ²¡æœ‰é“¾æ¥åŠ¨æ€åº“&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;span&gt;é“¾æ¥å™¨é“¾æ¥åç”Ÿæˆçš„æœ€ç»ˆæ–‡ä»¶ä¸ºELFæ ¼å¼å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€ä¸ªELFå¯æ‰§è¡Œæ–‡ä»¶é€šå¸¸è¢«é“¾æ¥ä¸ºä¸åŒçš„æ®µï¼Œå¸¸è§çš„æ®µè­¬å¦‚.textã€.dataã€.rodataã€.bssç­‰æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;åˆ†æELFæ–‡ä»¶&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;1.ELFæ–‡ä»¶çš„æ®µ&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ELFæ–‡ä»¶æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½äºELF Headerå’ŒSection Header Tableä¹‹é—´çš„éƒ½æ˜¯æ®µï¼ˆSectionï¼‰ã€‚ä¸€ä¸ªå…¸å‹çš„ELFæ–‡ä»¶åŒ…å«ä¸‹é¢å‡ ä¸ªæ®µï¼š&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;.textï¼šå·²ç¼–è¯‘ç¨‹åºçš„æŒ‡ä»¤ä»£ç æ®µã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;.rodataï¼šroä»£è¡¨read onlyï¼Œå³åªè¯»æ•°æ®ï¼ˆè­¬å¦‚å¸¸æ•°constï¼‰ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;.dataï¼šå·²åˆå§‹åŒ–çš„Cç¨‹åºå…¨å±€å˜é‡å’Œé™æ€å±€éƒ¨å˜é‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;.bssï¼šæœªåˆå§‹åŒ–çš„Cç¨‹åºå…¨å±€å˜é‡å’Œé™æ€å±€éƒ¨å˜é‡ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;span&gt;.debugï¼šè°ƒè¯•ç¬¦å·è¡¨ï¼Œè°ƒè¯•å™¨ç”¨æ­¤æ®µçš„ä¿¡æ¯å¸®åŠ©è°ƒè¯•ã€‚&lt;/span&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.064&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9sNwsXcN68r9HRG8EDyr4qibWuPueTNaDEEMbDkyrgAZmfibeAvIXib52wSpHdamiaGVOqic8QPqr4WibP58aiaHAuZSA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;500&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;å¯ä»¥&lt;/span&gt;&lt;span&gt;ä½¿ç”¨readelf -SæŸ¥çœ‹å…¶å„ä¸ªsectionçš„ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; readelf -S hello&lt;/span&gt;&lt;br/&gt;There are 31 section headers, starting at offset 0x19d8:&lt;br/&gt;&lt;br/&gt;Section Headers:&lt;br/&gt; Â [Nr] Name Â  Â  Â  Â  Â  Â  Â Type Â  Â  Â  Â  Â  Â  Address Â  Â  Â  Â  Â  Offset&lt;br/&gt; Â  Â  Â  Size Â  Â  Â  Â  Â  Â  Â EntSize Â  Â  Â  Â  Â Flags Â Link Â Info Â Align&lt;br/&gt; Â [ 0] Â  Â  Â  Â  Â  Â  Â  Â  Â  NULL Â  Â  Â  Â  Â  Â  0000000000000000 Â 00000000&lt;br/&gt; Â  Â  Â  0000000000000000 Â 0000000000000000 Â  Â  Â  Â  Â  0 Â  Â  0 Â  Â  0&lt;br/&gt;â€¦â€¦&lt;br/&gt; Â [11] .init Â  Â  Â  Â  Â  Â  PROGBITS Â  Â  Â  Â  00000000004003c8 Â 000003c8&lt;br/&gt; Â  Â  Â  000000000000001a Â 0000000000000000 Â AX Â  Â  Â  0 Â  Â  0 Â  Â  4&lt;br/&gt;â€¦â€¦&lt;br/&gt; Â [14] .text Â  Â  Â  Â  Â  Â  PROGBITS Â  Â  Â  Â  0000000000400430 Â 00000430&lt;br/&gt; Â  Â  Â  0000000000000182 Â 0000000000000000 Â AX Â  Â  Â  0 Â  Â  0 Â  Â  16&lt;br/&gt; Â [15] .fini Â  Â  Â  Â  Â  Â  PROGBITS Â  Â  Â  Â  00000000004005b4 Â 000005b4&lt;br/&gt;â€¦â€¦&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2.åæ±‡ç¼–ELF&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç”±äºELFæ–‡ä»¶æ— æ³•è¢«å½“åšæ™®é€šæ–‡æœ¬æ–‡ä»¶æ‰“å¼€ï¼Œå¦‚æœå¸Œæœ›ç›´æ¥æŸ¥çœ‹ä¸€ä¸ªELFæ–‡ä»¶åŒ…å«çš„æŒ‡ä»¤å’Œæ•°æ®ï¼Œéœ€è¦ä½¿ç”¨åæ±‡ç¼–çš„æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;span&gt;ä½¿ç”¨objdump -Då¯¹å…¶è¿›è¡Œåæ±‡ç¼–å¦‚ä¸‹ï¼š&lt;/span&gt;&lt;/section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; objdump -D hello&lt;/span&gt;&lt;br/&gt;â€¦â€¦&lt;br/&gt;0000000000400526 &amp;lt;main&amp;gt;: Â // mainæ ‡ç­¾çš„PCåœ°å€&lt;br/&gt;//PCåœ°å€ï¼šæŒ‡ä»¤ç¼–ç  Â  Â  Â  Â  Â  Â  Â  Â  Â æŒ‡ä»¤çš„æ±‡ç¼–æ ¼å¼&lt;br/&gt; Â 400526: Â  Â 55 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â push Â  %rbp &lt;br/&gt; Â 400527: Â  Â 48 89 e5 Â  Â  Â  Â  Â  Â  Â  Â mov Â  Â %rsp,%rbp&lt;br/&gt; Â 40052a: Â  Â bf c4 05 40 00 Â  Â  Â  Â  Â mov Â  Â $0x4005c4,%edi&lt;br/&gt; Â 40052f: Â  Â e8 cc fe ff ff Â  Â  Â  Â  Â callq Â 400400 &amp;lt;puts@plt&amp;gt;&lt;br/&gt; Â 400534: Â  Â b8 00 00 00 00 Â  Â  Â  Â  Â mov Â  Â $0x0,%eax&lt;br/&gt; Â 400539: Â  Â 5d Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â pop Â  Â %rbp&lt;br/&gt; Â 40053a: Â  Â c3 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â retq Â  &lt;br/&gt; Â 40053b: Â  Â 0f 1f 44 00 00 Â  Â  Â  Â  Â nopl Â  0x0(%rax,%rax,1)&lt;br/&gt;â€¦â€¦&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;span&gt;ä½¿ç”¨objdump -Så°†å…¶åæ±‡ç¼–å¹¶ä¸”å°†å…¶Cè¯­è¨€æºä»£ç æ··åˆæ˜¾ç¤ºå‡ºæ¥ï¼š&lt;/span&gt;&lt;/p&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; gcc -o hello -g hello.c //è¦åŠ ä¸Š-gé€‰é¡¹&lt;/span&gt;&lt;br/&gt;&lt;span&gt;$&lt;/span&gt;&lt;span&gt; objdump -S hello&lt;/span&gt;&lt;br/&gt;â€¦â€¦&lt;br/&gt;0000000000400526 &amp;lt;main&amp;gt;:&lt;br/&gt;&lt;span&gt;#&lt;/span&gt;&lt;span&gt;include &amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;int&lt;br/&gt;main(void)&lt;br/&gt;{&lt;br/&gt; Â 400526: Â  Â 55 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â push Â  %rbp&lt;br/&gt; Â 400527: Â  Â 48 89 e5 Â  Â  Â  Â  Â  Â  Â  Â mov Â  Â %rsp,%rbp&lt;br/&gt; Â printf(&quot;Hello World!&quot; &quot;\n&quot;);&lt;br/&gt; Â 40052a: Â  Â bf c4 05 40 00 Â  Â  Â  Â  Â mov Â  Â $0x4005c4,%edi&lt;br/&gt; Â 40052f: Â  Â e8 cc fe ff ff Â  Â  Â  Â  Â callq Â 400400 &amp;lt;puts@plt&amp;gt;&lt;br/&gt; Â return 0;&lt;br/&gt; Â 400534: Â  Â b8 00 00 00 00 Â  Â  Â  Â  Â mov Â  Â $0x0,%eax&lt;br/&gt;}&lt;br/&gt; Â 400539: Â  Â 5d Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â pop Â  Â %rbp&lt;br/&gt; Â 40053a: Â  Â c3 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â retq Â  &lt;br/&gt; Â 40053b: Â  Â 0f 1f 44 00 00 Â  Â  Â  Â  Â nopl Â  0x0(%rax,%rax,1)&lt;br/&gt;&lt;/code&gt;&lt;p&gt;&lt;code&gt;â€¦â€¦&lt;/code&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;span/&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;span&gt;ä½œ&lt;/span&gt;&lt;span&gt;è€…ï¼šä»™å‡Œé˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;https://blog.csdn.net/qq_39221436/article/details/125638972&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;section&gt;&lt;span&gt;- EOF -&lt;/span&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;8&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;8&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;0&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;svg&quot; data-w=&quot;150&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/SQd7RF5caa2sRkiaG4Lib8FHMVW1Ne13lrN37SiaB2ibEDF4OD31Vxh71vWXuOC2VaWME2CltDJsGdA5LnsdhdJianUR3GkoXe1Nx/640?wx_fmt=svg&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;30&quot;&gt;&lt;p mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;30&quot;&gt;&lt;strong mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;30&quot;&gt;åŠ ä¸»é¡µå›å¾®ä¿¡ï¼Œä¸ä»…LinuxæŠ€èƒ½+1&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;0&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;0&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;8&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;8&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;0&quot;&gt;&lt;img data-ratio=&quot;1&quot; data-type=&quot;svg&quot; data-w=&quot;150&quot; class=&quot;rich_pages wxw-img&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_svg/SQd7RF5caa2sRkiaG4Lib8FHMVW1Ne13lr4b5vuiaNBnGZKzQI3kAgC4XOZVFnBxvvrXI2GOpiaH06UjrJSc4fqoPBZDKzPVRicCN/640?wx_fmt=svg&quot;/&gt;&lt;img class=&quot;rich_pages&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.8666666666666667&quot; data-s=&quot;300,640&quot; data-type=&quot;png&quot; data-w=&quot;720&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/UzDNI6O6hCFBc2O6VZiaHtzQn9pYBAmTD9EaEHCDBLkxE8Pln85fKLpIy3sRib8FX0Lzoagbs8TYxC5aAgTubZyw/640?wx_fmt=png&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;16&quot; mp-original-line-height=&quot;25.600000381469727&quot;&gt;&lt;section mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;p mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;ä¸»é¡µå›æ—¥å¸¸è¿˜ä¼šåœ¨ä¸ªäººå¾®ä¿¡åˆ†äº«&lt;span&gt;&lt;strong&gt;Linuxç›¸å…³&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;å·¥å…·&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;ã€&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;èµ„æº&lt;/strong&gt;&lt;/span&gt;å’Œ&lt;strong&gt;ç²¾é€‰&lt;/strong&gt;&lt;span&gt;&lt;strong&gt;æŠ€æœ¯æ–‡ç« &lt;/strong&gt;&lt;/span&gt;ï¼Œä¸å®šæœŸåˆ†äº«ä¸€äº›&lt;span&gt;&lt;strong&gt;æœ‰æ„æ€çš„æ´»åŠ¨&lt;/strong&gt;&lt;/span&gt;ã€&lt;span&gt;&lt;strong&gt;å²—ä½å†…æ¨&lt;/strong&gt;&lt;/span&gt;ä»¥åŠ&lt;span&gt;&lt;strong&gt;å¦‚ä½•ç”¨æŠ€æœ¯åšä¸šä½™é¡¹ç›®&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;p mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;147&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;147&quot; data-galleryid=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/9aPYe0E1fb19JTKibRMq2ZEp7XsU1dfgNDoHYFn1ic1ibOHjHFlADWjicibkZgL5XG60vbokfpic28IfLUe3Lj6k2uzQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;512&quot;/&gt;&lt;/p&gt;&lt;p mp-original-font-size=&quot;15&quot; mp-original-line-height=&quot;24&quot;&gt;&lt;span&gt;åŠ ä¸ªå¾®ä¿¡ï¼Œæ‰“å¼€ä¸€æ‰‡çª—&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;section donone=&quot;shifuMouseDownCard(&#x27;shifu_c_030&#x27;)&quot; label=&quot;Copyright Reserved by PLAYHUDONG.&quot;&gt;&lt;section&gt;&lt;span&gt;æ¨èé˜…è¯»&lt;/span&gt;Â Â &lt;span&gt;ç‚¹å‡»æ ‡é¢˜å¯è·³è½¬&lt;/span&gt;&lt;/section&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;1ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxODI5ODMwOA==&amp;amp;mid=2666564239&amp;amp;idx=2&amp;amp;sn=2b9ffe28f04c90a7619f1cf04d745563&amp;amp;chksm=80dc4e24b7abc73260e9af568ca286f8aea66fd1a0c25ff6b52ec65c795709bbcc5b2f9b880c&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Linux ç½‘ç»œåŸºç¡€ä¸æ€§èƒ½ä¼˜åŒ–&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Linux ç½‘ç»œåŸºç¡€ä¸æ€§èƒ½ä¼˜åŒ–&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxODI5ODMwOA==&amp;amp;mid=2666564201&amp;amp;idx=1&amp;amp;sn=c4ac4f36da47b30eade40fe5b37782cc&amp;amp;chksm=80dc4ec2b7abc7d4ea3e6a844ecaafdeeeba5a1f1c4b1d300f214819f50ba5cd1b22c2507cc1&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;å¾®è½¯å‘åŠ› Linuxï¼Œä»çº¢å¸½æŒ–èµ° Systemd ä½œè€…&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;å¾®è½¯å‘åŠ› Linuxï¼Œä»çº¢å¸½æŒ–èµ° Systemd ä½œè€…&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3ã€&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzAxODI5ODMwOA==&amp;amp;mid=2666564129&amp;amp;idx=1&amp;amp;sn=e703957057e3041af120945d13e6f867&amp;amp;chksm=80dc4e8ab7abc79c1a31631d89f5a38f60530d977256459a6cd1483cc83f8000f6fafd471ccf&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;Linux ä¹‹çˆ¶å‘è¯ï¼šRust å³å°†å‡ºç°åœ¨ Linux å†…æ ¸ä¸­&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;Linux ä¹‹çˆ¶å‘è¯ï¼šRust å³å°†å‡ºç°åœ¨ Linux å†…æ ¸ä¸­&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;çœ‹å®Œ&lt;/span&gt;&lt;span&gt;æœ¬æ–‡æœ‰æ”¶è·ï¼Ÿè¯·åˆ†äº«ç»™æ›´å¤šäºº&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æ¨èå…³æ³¨ã€ŒLinux çˆ±å¥½è€…ã€ï¼Œæå‡LinuxæŠ€èƒ½&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAxODI5ODMwOA==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/9aPYe0E1fb3sjicd8JxDra10FRIqT54Zke2sfhibTDdtdnVhv5Qh3wLHZmKPjiaD7piahMAzIH6Cnltd1Nco17Ihjw/0?wx_fmt=png&quot; data-nickname=&quot;Linuxçˆ±å¥½è€…&quot; data-alias=&quot;LinuxHub&quot; data-signature=&quot;ç‚¹å‡»è·å–ã€Šæ¯å¤©ä¸€ä¸ªLinuxå‘½ä»¤ã€‹ç³»åˆ—å’Œç²¾é€‰LinuxæŠ€æœ¯èµ„æºã€‚ã€ŒLinuxçˆ±å¥½è€…ã€æ—¥å¸¸åˆ†äº« Linux/Unix ç›¸å…³å†…å®¹ï¼ŒåŒ…æ‹¬ï¼šå·¥å…·èµ„æºã€ä½¿ç”¨æŠ€å·§ã€è¯¾ç¨‹ä¹¦ç±ç­‰ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span/&gt;&lt;span&gt;ç‚¹èµå’Œåœ¨çœ‹å°±æ˜¯æœ€å¤§çš„æ”¯æŒâ¤ï¸&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>