<?xml version="1.0" encoding="UTF-8"?>
        <rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
            <channel>
            <title>å¼€å‘è€…å¤´æ¡</title>
            <link>http://toutiao.io/</link>
            <description></description>
<item>
<guid>1ce00ceb3eddb3e112433ef4bf9a69a8</guid>
<title>æ•°ä½ä¸Šå¸‚å…¬å¸ CTO éƒ½åœ¨è®¢é˜…ï¼Œä½ è¿˜ç­‰ä»€ä¹ˆï¼Ÿ</title>
<link>https://toutiao.io/k/y2pfkty</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
            &lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ˜å¤©å‘¨äº”å•¦ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç¬¬ 085 æœŸã€Œç å†œå‘¨åˆŠ VIP ä¼šå‘˜ä¸“å±é‚®ä»¶å‘¨æŠ¥ã€ï¼Œå°†äºæœ¬å‘¨äº”æ™šå‘é€ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;æ•°ä½ä¸Šå¸‚å…¬å¸ CTO éƒ½åœ¨è®¢é˜…ï¼Œä½ è¿˜ç­‰ä»€ä¹ˆï¼Ÿ&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;img class=&quot;rich_pages js_insertlocalimg wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;255&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;255&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/t8lpVibticjQ4LlicrXjOxMtaQDWoib2X24FnCibVaaZDqGa6VhDuw5a6cJtG8eg35xVuS75hozib0Z3Kib07lhzJsTSA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;274&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;ç å†œå‘¨åˆŠæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;ç å†œå‘¨åˆŠæ˜¯ä¸€ä»½ä¸“ä¸ºå¹¿å¤§ç¨‹åºå‘˜ã€ç¼–ç¨‹çˆ±å¥½è€…ä»¬æ‰“é€ çš„ IT æŠ€æœ¯å‘¨åˆŠã€‚æ¯å‘¨å‘é€ã€‚&lt;br/&gt;2013 å¹´ 9 æœˆ 12 æ—¥åˆ›åˆŠè‡³ä»Šï¼Œå·²å‘é€ 300 å¤šæœŸï¼Œè®¢é˜…ç”¨æˆ·è¶… 20 ä¸‡ã€‚&lt;br/&gt;&lt;span&gt;ä¸“ä¸šã€ç®€å•ã€æœ‰ç”¨&lt;/span&gt;ï¼Œæ˜¯æˆ‘ä»¬ä¸€ç›´åšæŒçš„åŠåˆŠå®—æ—¨ã€‚ä¸€è·¯èµ°æ¥ï¼Œæˆ‘ä»¬è§è¯äº†ä¸å°‘è®¢é˜…ç”¨æˆ·ä»ç¼–ç¨‹æ–°æ‰‹è¿›é˜¶æˆäº†é«˜çº§ç¨‹åºå‘˜ã€æ¶æ„å¸ˆã€CTOâ€¦â€¦&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2020 å¹´ 4 æœˆï¼Œä¸ºäº†ç»™ç”¨æˆ·æä¾›æ›´ä¼˜è´¨çš„æœåŠ¡ï¼Œæˆ‘ä»¬æ¨å‡ºäº†ã€Œ&lt;span&gt;ç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;/span&gt;ã€æœåŠ¡ã€‚&lt;br/&gt;&lt;strong&gt;ä½ ä¸ BAT æŠ€æœ¯å¤§ç‰›ï¼Œåªå·®ä¸€ä»½ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€çš„è·ç¦»ï¼&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;VIPä¼šå‘˜ç‰¹æƒ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. 52 æœŸç å†œå‘¨åˆŠVIPä¼šå‘˜&lt;span&gt;ä¸“å±é‚®ä»¶å‘¨æŠ¥&lt;/span&gt;ï¼Œè®©ä½ åŠæ—¶æŒæ¡æŠ€æœ¯åŠ¨å‘ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. åªé™VIPä¼šå‘˜åŠ å…¥çš„&lt;span&gt;äº¤æµåœˆå­&lt;/span&gt;ï¼Œè®©ä½ ä¸æŠ€æœ¯å¤§ç‰›åˆ‡ç£‹å­¦ä¹ ï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;3. VIPä¼šå‘˜ç‹¬äº«çš„&lt;span&gt;å·¥ä½œæœºä¼š&lt;/span&gt;ï¼Œä¸ºä½ ä»‹ç»å¥½å…¬å¸çš„å¥½æœºä¼šï¼›&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;4. æ›´å¤šä¼šå‘˜ç‰¹æƒï¼ŒæŒç»­æ›´æ–°â€¦â€¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¦‚ä½•åŠ å…¥ã€Œç å†œå‘¨åˆŠVIPä¼šå‘˜ã€ï¼Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;1. å¾®ä¿¡æ‰«æä¸‹æ–¹äºŒç»´ç ï¼ŒåŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜çŸ¥è¯†æ˜Ÿçƒã€‚&lt;strong&gt;&lt;span&gt;ä¿ƒé”€æœŸé—´ï¼Œä¸€å¹´ä»…éœ€ 108 å…ƒï¼å¹³å‡ä¸€å¤©èŠ±è´¹ä¸åˆ° 3 æ¯›ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;391&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;425&quot; data-ratio=&quot;1.3478260869565217&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/t8lpVibticjQ6elqZKJKdKVMrGKUKjLwPpIFaDmrXyf1iaRtelGc6Fm6W4vp1uEAbb7Nz7QuBzxXNW96CiauDAL3Aw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;690&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;2. åŠ å…¥ç å†œå‘¨åˆŠVIPä¼šå‘˜çŸ¥è¯†æ˜Ÿçƒåï¼Œå®¢æœä¼šè”ç³»æ‚¨ï¼Œè¯·ç•™æ„çŸ¥è¯†æ˜Ÿçƒå†…çš„ç§ä¿¡ã€‚&lt;br/&gt;3. å®¢æœå‘æ‚¨å‘é€ç å†œå‘¨åˆŠVIPä¼šå‘˜æ¬¢è¿é‚®ä»¶ï¼Œå¼€å¯æ‚¨çš„ç å†œå‘¨åˆŠVIPä¼šå‘˜ä¹‹æ—…ã€‚&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¿ƒåŠ¨ä¸å¦‚å¿ƒåŠ¨ï¼Œèµ¶å¿«è®¢é˜…å§ï¼&lt;/strong&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>1fed054fbdb58d06d75c4467b34b13b3</guid>
<title>ã€ŒGoCNé…·Goæ¨èã€åç°ä»£æ—¶ä»£è¿œç¨‹åŠå…¬ç½‘ç»œé—®é¢˜çš„golangå¼€æºè§£å†³æ–¹æ¡ˆ â€”â€” PairMesh</title>
<link>https://toutiao.io/k/bnh6bt7</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
            &lt;section data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;PairMeshæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;Pairmeshæ˜¯ä¸€æ¬¾å…ˆè¿›çš„è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVPNï¼‰å·¥å…·ï¼Œç”¨æ¥æ­å»ºä¸è®¿é—®å®‰å…¨ï¼Œæ˜“ç”¨ï¼Œé«˜æ€§èƒ½çš„ç‚¹å¯¹ç‚¹çš„è½¯ä»¶å®šä¹‰è™šæ‹Ÿå±€åŸŸç½‘ï¼Œä¸ºè¿œç¨‹åŠå…¬çš„ç½‘ç»œè¿æ¥é—®é¢˜æä¾›äº†å¼€ç®±å³ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;æ‹¥æŠ±å¼€æºï¼Œæ‹¥æŠ±å¼€æ”¾&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;PairMeshæ˜¯ä¸»è¦ä½¿ç”¨goè¯­è¨€å¼€å‘å®ç°çš„å¼€æºé¡¹ç›®ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å¹¶è·å–PairMeshæºä»£ç ï¼šhttps://github.com/pairmesh/pairmesh&lt;/p&gt;&lt;p&gt;è¿™ä¸ªrepoåŒ…å«äº†PairMeshçš„å…¨éƒ¨ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ã€‚å…·ä½“çš„PairMeshæœåŠ¡ç»„ä»¶æ¶æ„å¦‚å›¾ï¼š&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.5355&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/vbERicIdYZbBlNcWrHkNTMmkWZwzicBk5CFtaGp1mnF2A1olUnVArDRicAzGQDUWUo0JUsnmoGiaZ7nmalXIspSWCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;2000&quot;/&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Peer Node&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä½¿ç”¨è€…åœ¨ç»ˆç«¯è®¡ç®—è®¾å¤‡å®‰è£…å¹¶å¯åŠ¨PairMeshåº”ç”¨ä¹‹åï¼ŒPairMeshå°†ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œç”¨æ¥è¿›è¡Œè™šæ‹Ÿå±€åŸŸç½‘å†…çš„æ”¶å‘ä¸è·¯ç”±ï¼Œæˆä¸ºä¸€ä¸ªç»ˆç«¯èŠ‚ç‚¹ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Portal Service&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Portal Serviceæ˜¯é›†ä¸­åŒ–çš„èŠ‚ç‚¹å…ƒæ•°æ®ç®¡ç†ä¸­å¿ƒã€‚æ‰€æœ‰çš„ç»ˆç«¯èŠ‚ç‚¹éœ€è¦ä¸å…¶è¿æ¥æ¥è¿›è¡ŒéªŒè¯ç™»å½•ï¼Œè·å–ç½‘ç»œæ¥å…¥æƒé™ï¼Œå¹¶å®šæœŸè¿›è¡Œç½‘ç»œæ‹“æ‰‘ä¿¡æ¯æ›´æ–°ï¼Œä»è€Œè·å¾—ç½‘ç»œå†…å…¶ä»–èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒèŠ‚ç‚¹é—´çš„å®é™…ç½‘ç»œä¿¡æ¯ä¼ è¾“å¹¶ä¸éœ€è¦ç»è¿‡Portalã€‚åŒæ—¶Portalä¹Ÿè´Ÿè´£ç”¨æˆ·çš„æ³¨å†Œï¼Œç™»å½•ã€‚å…¶å‰ç«¯ä½œä¸ºå¯è§†åŒ–æ˜¾ç¤ºé¢æ¿å‘ˆç°ç”¨æˆ·ï¼ŒèŠ‚ç‚¹ä¸ç½‘ç»œçš„è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯ã€‚Portalçš„åç«¯å…ƒæ•°æ®ç®¡ç†å’Œå‰ç«¯å¯è§†åŒ–å…±åŒæ„æˆPairMeshçš„Control Planeï¼ˆæ§åˆ¶å¹³é¢ï¼‰ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;Relay Service&lt;/span&gt;&lt;/p&gt;&lt;p&gt;åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç»ˆç«¯èŠ‚ç‚¹Aä¸Bä¹‹é—´å¯ä»¥å»ºç«‹ç¨³å®šé«˜é€Ÿçš„ç‚¹å¯¹ç‚¹ç›´è¿ç½‘ç»œè¿æ¥ã€‚ä½†æ˜¯åœ¨å°‘æ•°æƒ…å†µä¸‹ï¼Œç‚¹å¯¹ç‚¹çš„è¿æ¥æ— æ³•ç¨³å®šåˆ›å»ºï¼Œä¾‹å¦‚èŠ‚ç‚¹å¤„äºåŠ¨æ€SNATå†…ç½‘ç¯å¢ƒä¸­ã€‚è¿™æ—¶æˆ‘ä»¬è¿˜æ‹¥æœ‰relay serverä½œä¸ºä¸­è½¬æœåŠ¡å™¨ï¼Œç”¨æ¥æä¾›å¯é çš„ç½‘ç»œè½¬å‘ä¼ è¾“æœåŠ¡ã€‚ç»ˆç«¯èŠ‚ç‚¹åœ¨æ­¤æ—¶å°†ä¼šè‡ªåŠ¨åˆ‡æ¢è‡³relayæ¨¡å¼è¿›è¡Œç½‘ç»œä¼ è¾“ã€‚å¹¶ä¸”åœ¨å»ºç«‹è¿æ¥æ—¶ï¼Œè¿˜ä¼šé€šè¿‡å†…ç½®ç®—æ³•è‡ªåŠ¨å¯»æ‰¾æœ€ä¼˜çš„relay serverï¼Œæ¥ä½¿å¾—ä¸¤ç‚¹é—´çš„ä¼ è¾“å»¶è¿Ÿæœ€ä½ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;åç°ä»£æ—¶ä»£çš„è¿œç¨‹åŠå…¬&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;åœ¨è¢«Covid-19æ·±åˆ»å½±å“ä¸æ”¹å˜åçš„ä¸–ç•Œï¼Œæˆ‘ä»¬éƒ½çœ‹åˆ°äº†è¿œç¨‹åŠå…¬çš„æ„ä¹‰ä¸ä»·å€¼ã€‚è¿œç¨‹åŠå·¥/è¿œç¨‹ååŒçš„èƒ½åŠ›å·²æˆä¸ºä¼ä¸šITåŸºç¡€æ¶æ„çš„é‡è¦ç»„æˆéƒ¨åˆ†,å¹¶ä¹Ÿè®¸å°†æˆä¸ºè¡¡é‡ä¼ä¸šç«äº‰åŠ›ä¸å¸å¼•åŠ›çš„æ ‡å‡†ä¹‹ä¸€ã€‚&lt;/p&gt;&lt;p&gt;åœ¨è¿œç¨‹åŠå…¬çš„åœºæ™¯ä¸‹ï¼Œæ— è®ºåœ¨èˆ’é€‚çš„å®¶é‡Œï¼Œæ—…é€”çš„ç«è½¦æˆ–é£æœºä¸Šï¼Œè¿˜æ˜¯å‡ºå·®ä¼šè®®çš„é…’åº—ï¼Œæ‚¨éƒ½æƒ³è¦ä½¿ç”¨æ‰‹ä¸­çš„ç¬”è®°æœ¬ç”µè„‘æˆ–è€…ç§»åŠ¨è®¾å¤‡å»å¿«é€Ÿç¨³å®šåœ°è®¿é—®ä½äºå…¬å¸å†…ç½‘çš„èµ„æºï¼Œä¾‹å¦‚æ‚¨åœ¨å…¬å¸å†…éƒ¨çš„ä¸“æœ‰å¼€å‘ç”¨æœºï¼Œæˆ–æ˜¯å…¬å¸å†…éƒ¨çš„å…±äº«æ–‡æ¡£ç³»ç»Ÿã€‚&lt;/p&gt;&lt;p&gt;åœ¨è¿œç¨‹ååŒçš„åœºæ™¯ä¸‹ï¼Œæ‚¨çš„åŒäº‹ä¹Ÿåœ¨å®¶é‡Œè¿œç¨‹åŠå…¬ï¼Œå¹¶åœ¨æœ¬åœ°æ­å»ºäº†ä¸€ä¸ªäº§å“åŸå‹ï¼ˆä¾‹å¦‚æ¸¸æˆæœåŠ¡ï¼Œ3Då»ºæ¨¡ï¼Œæˆ–æ˜¯å•†ä¸šè®¡åˆ’ï¼‰ã€‚è€Œæ‚¨åœ¨è‡ªå·±çš„å®¶ä¸­æƒ³è¦ç›´æ¥è®¿é—®ï¼Œè¯•ç”¨ï¼Œè¯„ä¼°å¹¶æ¨åŠ¨è¿™ä¸ªåŸå‹çš„è¿­ä»£ã€‚è¿™ç”šè‡³ä¸éœ€è¦åŒäº‹å°†äº§å“åŸå‹éƒ¨ç½²åˆ°å…¬å¸çš„å†…ç½‘ä¸­å» - æ¯•ç«Ÿï¼Œåœ¨äº§å“çš„å¿«é€Ÿè¿­ä»£ä¸­ï¼Œæå‡çš„æ•ˆç‡æ„å‘³ç€é™ä½çš„æˆæœ¬å’Œå·¨å¤§çš„ä»·å€¼ã€‚&lt;/p&gt;&lt;p&gt;è€Œæ‰€æœ‰è¿™äº›ï¼ŒPairMeshéƒ½å¯ä»¥ä¸ºæ‚¨åšåˆ°ã€‚&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;&lt;span&gt;ç‚¹å¯¹ç‚¹çš„è½»å·§æ¶æ„&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;ä¼ ç»Ÿçš„è™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVPNï¼‰å·¥å…·é‡‡ç”¨ä¸­å¿ƒåŒ–æ¶æ„ - æ‰€æœ‰ç»ˆç«¯éƒ½é€šè¿‡åŠ å¯†tunnelï¼ˆéš§é“ï¼‰è¿æ¥åˆ°ä¸€ä¸ªè¿œç¨‹æœåŠ¡å™¨gateway serverï¼Œå¹¶ç”±è¿™ä¸ªæœåŠ¡å™¨ç»Ÿä¸€è¿›è¡Œä¿¡æ¯è§£å¯†ï¼Œè½¬è¯‘ä¸åˆ†å‘ã€‚è¿™æ ·çš„æ¶æ„å¸¦æ¥äº†å¦‚ä¸‹é—®é¢˜ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å•ç‚¹æ•…éšœé—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;ä¸€æ—¦gateway serverå‡ºç°æ•…éšœï¼Œæ‰€æœ‰è¿æ¥åœ¨å…¶ä¸Šçš„VPNç”¨æˆ·éƒ½å°†é¢ä¸´è¿æ¥æ–­å¼€çš„é£é™©ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;æ‰©å±•æ€§é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;gateway serverçš„å•æœºæ€§èƒ½ä¹Ÿæ˜¯æœ‰é™çš„ã€‚å½“è¿æ¥çš„ç»ˆç«¯è¿‡å¤šï¼Œç½‘ç»œæµé‡å’Œè®¡ç®—çš„è´Ÿè½½è¿‡å¤§æ—¶ï¼Œgateway serverå°†ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;ç½‘ç»œè·¯å¾„é—®é¢˜&lt;/span&gt;&lt;/p&gt;&lt;p&gt;è®¾æƒ³åœ¨æµ·æ·€åŒºçš„æ‚¨æƒ³è¦å’Œæœé˜³åŒºçš„åŒäº‹å‘èµ·è§†é¢‘é€šè¯ï¼Œä½†æ˜¯VPN gateway serveræ¶è®¾åœ¨ä½äºä¸Šæµ·çš„å…¬å¸æ€»éƒ¨ï¼Œé‚£ä¹ˆæ‰€æœ‰æ‚¨å’ŒåŒäº‹ä¹‹é—´çš„ç½‘ç»œä¼ è¾“å°†ä¸å¾—ä¸åœ¨åŒ—äº¬å’Œä¸Šæµ·ä¹‹é—´è¾—è½¬æŠ˜è¿”ï¼Œä»è€Œå¸¦æ¥å·¨å¤§çš„ç½‘ç»œå»¶è¿Ÿã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;éšç€ä¼ä¸šçš„è§„æ¨¡æ‰©å¤§ï¼Œå¹¶éšç€ä¼ä¸šå¯¹äºè¿œç¨‹åŠå…¬/åä½œçš„ç½‘ç»œç¨³å®šæ€§ä¸æ€§èƒ½è¦æ±‚çš„æ—¥ç›Šæé«˜ï¼Œä¼ ç»Ÿçš„VPNæ¶æ„é¢ä¸´ç€æ¥è‡ªä¼ä¸šéœ€æ±‚çš„ä¼—å¤šæŒ‘æˆ˜ã€‚&lt;/p&gt;&lt;p&gt;PairMeshé‡‡ç”¨æœ€æ–°çš„ç‚¹å¯¹ç‚¹åˆ†å¸ƒå¼æ¶æ„ã€‚åªè¦ç»ˆç«¯Aå’Œç»ˆç«¯Béƒ½ç™»å½•è¿›å…¥åŒä¸€ä¸ªè™šæ‹Ÿç½‘ç»œï¼Œå¹¶ä»portalè·çŸ¥å¯¹æ–¹çš„å­˜åœ¨ä¸ç›¸åº”ç½‘ç»œä¿¡æ¯ï¼Œä¸€ä¸ªåŠ å¯†tunnelä¾¿å°†ä¼šåœ¨Aå’ŒBä¹‹é—´ç›´æ¥å»ºç«‹ï¼Œåç»­çš„ç½‘ç»œä¼ è¾“å°†ä¸å†éœ€è¦ç»è¿‡ä»»ä½•ä¸­è½¬çš„gateway serverã€‚åœ¨è¿™æ ·çš„ç”±ä¼—å¤šç‚¹å¯¹ç‚¹ç›´è¿æ‰€æ„æˆçš„mesh(ç½‘æ ¼)ç½‘ç»œä¸‹ï¼Œæˆ‘ä»¬æœ‰æ•ˆè§£å†³äº†ä¼ ç»ŸVPNæ¶æ„æ‰€é¢ä¸´çš„æŒ‘æˆ˜ï¼š&lt;/p&gt;&lt;p&gt;*&lt;em&gt;å¦‚ä¸Šæ–‡æ‰€ä»‹ç»è¿‡ï¼Œåœ¨æŸäº›ç‰¹å®šç¯å¢ƒä¸‹ï¼Œç‚¹å¯¹ç‚¹tunnelæ— æ³•ç¨³å®šå»ºç«‹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æœ‰è¾…åŠ©çš„ä¸­è½¬æœåŠ¡å™¨relay serviceä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆã€‚&lt;/em&gt;&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ‚¨çš„ä¿¡æ¯å®‰å…¨ï¼Œæˆ‘ä»¬æœ€åœ¨ä¹&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;PairMeshä½¿ç”¨æœ€æ–°çš„ Noise Protocol åè®®æ¡†æ¶è¿›è¡ŒåŠ å¯†ä¼ è¾“ï¼Œå¹¶ä¸”åœ¨æ¡†æ¶ä¸‹é‡‡ç”¨å¤šç§å®‰å…¨ä¿éšœæªæ–½ï¼Œç¡®ä¿æ‚¨çš„ç½‘ç»œä¼ è¾“å®‰å…¨æ— è™ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å¯¹ç­‰å…¬é’¥å’Œéš§é“æº IP åœ°å€ä¹‹é—´çš„å…³è”ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä½¿ç”¨åŸºäº NoiseIK çš„å•æ¬¡å¾€è¿”å¯†é’¥äº¤æ¢.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä½¿ç”¨æ–°çš„è®¡æ—¶å™¨çŠ¶æ€æœºæœºåˆ¶å¯¹ç”¨æˆ·é€æ˜åœ°å¤„ç†æ‰€æœ‰ä¼šè¯åˆ›å»ºã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;çŸ­çš„é¢„å…±äº«é™æ€å¯†é’¥ï¼ˆCurve25519ç‚¹ï¼‰ç”¨äº OpenSSH é£æ ¼çš„ç›¸äº’è®¤è¯ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æä¾›é«˜åº¦çš„èº«ä»½éšè—ä¹‹å¤–ï¼Œè¿˜æä¾›äº†å¼ºå¤§çš„å®Œç¾å‰å‘ä¿å¯†æ€§ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä½¿ç”¨ ChaCha20Poly1305 èº«ä»½éªŒè¯åŠ å¯†å°†æ•°æ®åŒ…å°è£…åœ¨ UDP ä¸­å¯ä»¥å®ç°ä¼ è¾“é€Ÿåº¦ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;é€šè¿‡ PairMesh ç®¡æ§é¢ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„æ–¹å¼å¯¹ IP åœ°å€ç­¾åå¹¶åŒ…å«è¿‡æœŸæ—¶é—´ï¼Œé¿å… Credential æ³„éœ²ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ‰€æœ‰ä»ç»ˆç«¯èŠ‚ç‚¹å‘èµ·çš„ç™»å½•è¯·æ±‚ï¼Œåœ¨portalç«¯ä¸ä»…è¦è¿›è¡Œå¯†ä¿éªŒè¯ï¼ŒåŒæ—¶ä¹Ÿè¦éªŒè¯ç›¸åº”çš„æœºå™¨ä¿¡æ¯ï¼Œæ‰èƒ½å¤Ÿè¢«å…è®¸æ¥å…¥ç½‘ç»œã€‚è¿™æ ·å³ä½¿å¯†ç æˆ–Tokenæ³„éœ²ï¼Œéæ³•çš„èŠ‚ç‚¹ä¹Ÿæ— æ³•æ¥å…¥ç½‘ç»œã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åœ¨åˆ‡æ¢è‡³ä¸­è½¬æœåŠ¡å™¨relayæ¨¡å¼æ—¶ï¼Œåœ¨ç»ˆç«¯èŠ‚ç‚¹å’Œä¸­è½¬æœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰TCPè¿æ¥éƒ½éœ€è¦åœ¨æ¡æ‰‹é˜¶æ®µé€šè¿‡å¯¹èŠ‚ç‚¹çš„ä¿¡æ¯è¿›è¡ŒéªŒè¯æ‰èƒ½å¤Ÿå»ºç«‹ã€‚åªè¦é‚£äº›å·²ç»è¢«portalæ³¨å†Œè¿‡çš„èŠ‚ç‚¹æ‰èƒ½å¤Ÿè¢«å…è®¸æ¥å…¥ä¸­è½¬æœåŠ¡å™¨ï¼Œè¿›è¡Œåç»­çš„ç½‘ç»œä¼ è¾“ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;è¿å…¥åŒä¸€è™šæ‹Ÿå±€åŸŸç½‘ç»œçš„æ‰€æœ‰ç»ˆç«¯èŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸åŒçš„å¯†ä¿å¯†ç ï¼Œå¹¶ä¸”ä»»æ„ä¸€ç»„ç‚¹å¯¹ç‚¹è¿æ¥éƒ½ä½¿ç”¨ç‹¬ä¸€æ— äºŒçš„å”¯ä¸€å¯†ç è¿›è¡Œä¿æŠ¤ï¼Œæœ‰æ•ˆé˜²æ­¢å¯†ç æ³„éœ²å¯¹äºæ•´ä¸ªç½‘ç»œçš„å®‰å…¨å†²å‡»ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;å¼€ç®±å³ç”¨çš„SaaSä½“éªŒ&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;æƒ³è¦ç«‹å³å¼€å§‹PairMeshä¸ºæ‚¨å¸¦æ¥çš„é«˜æ•ˆä¾¿åˆ©çš„è¿œç¨‹åä½œä½“éªŒï¼Œæ‚¨åªéœ€è¦ï¼š&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;ç™»é™†Â https://www.pairmesh.com/&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä½¿ç”¨GitHubæˆ–å¾®ä¿¡è¿›è¡Œæ³¨å†Œä¸ç™»å½•&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ç™»å½•ä¹‹åè¿›å…¥ https://my.pairmesh.com/console/keys åˆ›å»ºå±äºæ‚¨çš„è®¾å¤‡å¯†ç ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;è®°å¾—æŠŠå®ƒä¿å­˜åˆ°ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹ã€‚å¯†ç ç”Ÿæˆä¹‹ååªä¼šä¸ºæ‚¨æ˜¾ç¤ºä¸€æ¬¡ã€‚è¿™ä¹Ÿæ˜¯å¯†ç å®‰å…¨ä¿éšœçš„æªæ–½ä¹‹ä¸€ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä¸‹è½½ä¸æ‚¨çš„ç»ˆç«¯è®¾å¤‡å¹³å°ä¸æ“ä½œç³»ç»Ÿç›¸åŒ¹é…çš„pairmeshåº”ç”¨ï¼Œå¹¶å®‰è£…è¿è¡Œã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;All Setï¼åœ¨ https://my.pairmesh.com/console/devices ä¸­æ‰¾åˆ°åœ¨åŒä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ç»œä¸­æ‚¨æƒ³è¦è¿æ¥çš„è¿œç¨‹åœ°å€ï¼Œç”¨æ‚¨æƒ³è¦çš„æ–¹å¼è¿æ¥å®ƒä»¬ï¼Œå³åˆ»å¼€å¯PairMeshä¸ºæ‚¨å¸¦æ¥çš„å¯é å¿«æ·çš„è¿œç¨‹åŠå…¬ååŒä½“éªŒï¼&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;æ­å»ºå±äºæ‚¨è‡ªå·±çš„PairMesh&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;å¦‚æœæ‚¨å¸Œæœ›æ­å»ºå±äºè‡ªå·±çš„ä¸€æ•´å¥—PairMeshæœåŠ¡ï¼Œæ‚¨å¯ä»¥:&lt;/p&gt;&lt;ol class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;ç¡®ä¿æ‚¨æœ‰å®Œæ•´çš„golangä¸nodejsçš„ç¼–è¯‘ä¸è¿è¡Œç¯å¢ƒã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;è·å–æˆ‘ä»¬çš„å¼€æºä»£ç ï¼š&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;git clone https://github.com/pairmesh/pairmesh&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;æ‰§è¡ŒÂ &lt;code&gt;make&lt;/code&gt;Â ç¼–è¯‘ä¹‹åï¼Œæ‚¨å°†è·å¾—&lt;code&gt;pairmesh&lt;/code&gt;,Â &lt;code&gt;pairrelay&lt;/code&gt;å’Œ&lt;code&gt;pairportal&lt;/code&gt;çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å°†&lt;code&gt;pairportal&lt;/code&gt;éƒ¨ç½²åœ¨å¯è®¿é—®çš„æœºå™¨ä¸Šã€‚ä½¿ç”¨yamlæ–‡ä»¶è¿›è¡Œç›¸å…³è®¾ç½®ã€‚å…·ä½“çš„yamlè®¾ç½®æ–¹å¼ä¸pairportalçš„å¯åŠ¨æ–¹å¼è¯¦è§repoçš„READMEã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;ä»£ç åº“çš„&lt;code&gt;webui&lt;/code&gt;æ–‡ä»¶å¤¹å†…æ˜¯portalçš„vueå‰ç«¯ã€‚éƒ¨ç½²å‰ç«¯ä½¿å…¶ä¸åç«¯pairportalè¿æ¥ï¼Œç„¶åé€šè¿‡å‰ç«¯è¿›è¡Œç”¨æˆ·çš„æ³¨å†Œä¸ç™»å½•ç­‰åˆå§‹åŒ–ç®¡ç†ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å°†&lt;code&gt;pairrelay&lt;/code&gt;éƒ¨ç½²åœ¨å¯è®¿é—®çš„æœºå™¨ä¸Šï¼Œå¹¶é€šè¿‡è®¾ç½®yamlæ–‡ä»¶ä½¿å…¶è¿æ¥è‡³æ‚¨çš„pairportalã€‚å…·ä½“çš„yamlè®¾ç½®æ–¹å¼ä¸pairrelayçš„å¯åŠ¨æ–¹å¼è¯·è¯¦è§repoçš„READMEã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;code&gt;pairmesh&lt;/code&gt;æ˜¯æ‚¨çš„ç»ˆç«¯èŠ‚ç‚¹åº”ç”¨ã€‚å°†å…¶åœ¨éœ€è¦æ¥å…¥è™šæ‹Ÿå±€åŸŸç½‘çš„ç»ˆç«¯è®¾å¤‡å†…å¯åŠ¨ï¼š&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;&lt;code&gt;&lt;span&gt;export&lt;/span&gt;Â PAIRMESH_GATEWAY_API=&amp;lt;æ‚¨çš„portalåç«¯æœåŠ¡éƒ¨ç½²åœ°å€&amp;gt;&lt;br/&gt;&lt;span&gt;export&lt;/span&gt;Â PAIRMESH_GATEWAY_MY=&amp;lt;æ‚¨çš„portalÂ vueç½‘ç«™åœ°å€&amp;gt;&lt;br/&gt;pairmeshÂ -kÂ &amp;lt;æ‚¨çš„å¯†ç æˆ–token&amp;gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;å³å¯å¼€å§‹ä½¿ç”¨æ‚¨æ­å»ºçš„PairMeshç³»ç»Ÿã€‚&lt;/p&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;strong&gt;æ¥å’Œæˆ‘ä»¬ä¸€èµ·è®©PairMeshå˜å¾—æ›´å¥½&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;æˆ‘ä»¬ç›¸ä¿¡ç¤¾åŒºçš„åŠ›é‡ã€‚æˆ‘ä»¬æœŸå¾…æ‚¨å¯ä»¥å¸®åŠ©PairMeshä½¿å®ƒå˜å¾—æ›´å¥½ã€‚æ‚¨æœ‰å¾ˆå¤šæ–¹å¼å¯ä»¥ä¸ºPairMeshåšå‡ºè´¡çŒ®ï¼š&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å‚ä¸PairMeshçš„å¼€å‘,æäº¤PRè‡³æˆ‘ä»¬çš„ä»£ç repoã€‚åœ¨READMEä¸­æ‚¨å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ‚¨å¯ä»¥æ”¹è¿›ä¼˜åŒ–PairMeshçš„åœ°æ–¹å’Œæ–¹å¼ã€‚repoåœ°å€ï¼šhttps://github.com/pairmesh/pairmesh&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;åœ¨Githubä¸Šæäº¤bug reportæˆ–è€…feature requestè®©æˆ‘ä»¬çœ‹è§ï¼Œæˆ‘ä»¬ä¼šç¬¬ä¸€æ—¶é—´ä¸ºæ‚¨åšå‡ºä¿®è¡¥ï¼Œè§£ç­”æˆ–åŠŸèƒ½å®ç°ã€‚æäº¤åœ°å€: https://github.com/pairmesh/pairmesh/issues&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å‚ä¸åˆ°æˆ‘ä»¬çš„ç¤¾åŒºè®¨è®ºã€‚æ¬¢è¿æ‚¨çš„å‘è¨€ã€‚ç¤¾åŒºåœ°å€ï¼šhttps://github.com/pairmesh/pairmesh/discussions&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å‘å¸ƒPairMeshçš„ä½¿ç”¨æ•™ç¨‹å’Œblogï¼Œè®©æ›´å¤šçš„äººå¯ä»¥ä½“éªŒPairMeshæœåŠ¡ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span&gt;å¦‚æœå–œæ¬¢PairMeshçš„è¯ï¼Œè®°å¾—åœ¨repoä¸Šç»™å‡ºæ‚¨çš„å°æ˜Ÿæ˜Ÿ&lt;/span&gt;â­&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;åœ¨ä½¿ç”¨ä¸­ï¼Œä¹Ÿæ¬¢è¿æ‚¨å°†é—®é¢˜ï¼Œå»ºè®®æˆ–åé¦ˆå‘é‚®ä»¶ç»™æˆ‘ä»¬ã€‚è”ç³»æ–¹å¼ï¼šcontact@pairmesh.com&lt;/p&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot;&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;ã€Š&lt;/span&gt;&lt;span&gt;é…·Goæ¨èã€‹æ‹›å‹Ÿï¼š&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å„ä½GopheråŒå­¦ï¼Œæœ€è¿‘æˆ‘ä»¬ç¤¾åŒºæ‰“ç®—æ¨å‡ºä¸€ä¸ªç±»ä¼¼GoCNæ¯æ—¥æ–°é—»çš„æ–°æ ç›®ã€Šé…·Goæ¨èã€‹ï¼Œä¸»è¦æ˜¯æ¯å‘¨æ¨èä¸€ä¸ªåº“æˆ–è€…å¥½çš„é¡¹ç›®ï¼Œç„¶åå†™ä¸€ç‚¹è¿™ä¸ªåº“ä½¿ç”¨æ–¹æ³•æˆ–è€…ä¼˜ç‚¹ä¹‹ç±»çš„ï¼Œè¿™æ ·å¯ä»¥çœŸæ­£çš„å¸®åŠ©åˆ°å¤§å®¶èƒ½å¤Ÿå­¦ä¹ åˆ°&lt;/p&gt;&lt;p&gt;æ–°çš„åº“ï¼Œå¹¶ä¸”çŸ¥é“æ€ä¹ˆç”¨ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¤§æ¦‚è§„åˆ™å’Œæ¯æ—¥æ–°é—»ç±»ä¼¼ï¼Œå¦‚æœæŠ¥åäººå¤šçš„è¯æ¯ä¸ªäººä¸€ä¸ªæœˆè½®åˆ°ä¸€æ¬¡ï¼Œæ¬¢è¿å¤§å®¶æŠ¥åï¼æˆ³ã€Œé˜…è¯»åŸæ–‡ã€ï¼Œå³å¯æŠ¥å&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;æƒ³è¦äº†è§£æ›´å¤š Golang ç›¸å…³çš„å†…å®¹ï¼Œæ¬¢è¿æ‰«æä¸‹æ–¹ğŸ‘‡Â &lt;/strong&gt;&lt;span&gt;&lt;strong&gt;å…³æ³¨Â &lt;/strong&gt;&lt;/span&gt;&lt;strong&gt;å…¬ä¼—å·&lt;/strong&gt;&lt;strong&gt;ï¼Œå›å¤å…³é”®è¯ [å®æˆ˜ç¾¤]Â  ,å°±æœ‰æœºä¼šè¿›ç¾¤&lt;/strong&gt;&lt;strong&gt;å’Œæˆ‘ä»¬è¿›è¡Œäº¤æµ~&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-galleryid=&quot;&quot; data-ratio=&quot;0.5763688760806917&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/vbERicIdYZbDrrBk1KBPqY1QNI320ZK2IIycDa77FcDQAeAFJRVb240xr8biceh23auy7ZpPibEYXPNOnmfsEewkw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;694&quot; data-backw=&quot;379&quot; data-backh=&quot;219&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
          &lt;/div&gt;

          

          



           
                                
                    
        &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>24ad3db8a01fddeca4d0b090edcc02f4</guid>
<title>æœ‰äº†jmespathï¼Œå¤„ç†pythonä¸­çš„jsonæ•°æ®å°±å˜æˆäº†ä¸€ç§äº«å—...</title>
<link>https://toutiao.io/k/92ci7ci</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
            &lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;109088&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot;&gt;ç‚¹å‡»è“å­—&lt;/section&gt;&lt;section&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;0.6785714285714286&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/oJZWTpJpiae90UpibicIKeZgQTNjebiaOwStbdoufQKQYljicXkk4DpIzOFibDodvsGSWn1KkDV4m8DTia2vlI43jQs8Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;140&quot; data-width=&quot;100%&quot;/&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;346:351&quot;&gt;å…³æ³¨æˆ‘ä»¬&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;p&gt;&lt;span&gt;jmespathæ˜¯pythonçš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ˜¯éœ€è¦é¢å¤–å®‰è£…çš„ã€‚&lt;/span&gt;&lt;span&gt;å®ƒåœ¨pythonåŸæœ‰çš„jsonæ•°æ®å¤„ç†ä¸Š&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;åšå‡ºäº†å¾ˆå¤§çš„è´¡çŒ®ï¼Œè‡³äºæ•ˆæœæ¥ä¸‹æ¥è¯•è¯•å°±çŸ¥é“äº†æœ‰å¤šæ–¹ä¾¿ã€‚&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥æ­£é¢˜â€¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æ—¢ç„¶æ˜¯ç¬¬ä¸‰æ–¹çš„åº“ï¼Œé‚£è‚¯å®šæ˜¯è¦å®‰è£…çš„ã€‚é€šè¿‡pipçš„æ–¹å¼å…ˆå°†jmespathåº“å®‰è£…å¥½â€¦&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;pipÂ installÂ jmespath&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;å°†å®‰è£…å¥½çš„æ¨¡å—å¯¼å…¥åˆ°ä»£ç å—ä¸­â€¦&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;import&lt;/span&gt;Â jmespathÂ &lt;span&gt;as&lt;/span&gt;Â jp&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;jmespathä¸­æœ‰ä¸€ä¸ªå¾ˆé‡è¦ã€å¾ˆæ–¹ä¾¿çš„å‡½æ•°é‚£å°±æ˜¯searchï¼Œä¸ç®¡ä½ çš„jsonæ•°æ®æœ‰å¤šä¹ˆå˜æ€ï¼Œå®ƒéƒ½èƒ½ç»™ä½ æ‰¾åˆ°ã€‚å†™å‡ºè¿™ä¸ªæ¡†æ¶çš„å¤§ä½¬ä¹Ÿæ˜¯è´¹å¿ƒäº†â€¦&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;æˆ‘å…ˆå‡†å¤‡äº†ä¸€ä¸ªæœ€ç®€å•çš„jsonæ•°æ®ç»“æ„çš„æ•°æ®ï¼Œæ•°æ®å±‚çº§ä¸º1ã€‚&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data1Â =Â {&lt;span&gt;&quot;name&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;PythonÂ é›†ä¸­è¥&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;age&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;10å¹´&quot;&lt;/span&gt;}&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(&lt;span&gt;&quot;name&quot;&lt;/span&gt;,Â json_data1)&lt;br/&gt;&lt;br/&gt;print(res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â PythonÂ é›†ä¸­è¥&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;å¦‚æœæ˜¯å¤šçº§çš„jsonæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨key1.key2.key3çš„æ–¹å¼æ¥è·å–valueå€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data2Â =Â {&lt;span&gt;&quot;names&quot;&lt;/span&gt;:Â {&lt;span&gt;&quot;name&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;PythonÂ é›†ä¸­è¥&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;age&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;5å¹´&quot;&lt;/span&gt;}}&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(&lt;span&gt;&quot;names.name&quot;&lt;/span&gt;,Â json_data2)&lt;br/&gt;&lt;br/&gt;print(res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â PythonÂ é›†ä¸­è¥&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;æ—¢ç„¶æ˜¯é’ˆå¯¹jsonæ•°æ®çš„å¤„ç†ï¼Œé‚£è‚¯å®šä¹Ÿæ˜¯æ”¯æŒæ•°ç»„å½¢å¼çš„æŸ¥æ‰¾çš„ã€‚å¯¹äºjsonæ•°æ®çš„æ•°ç»„å½¢å¼çš„æŸ¥æ‰¾ï¼Œä¸»è¦æ˜¯é€šè¿‡æ•°ç»„ä¸‹æ ‡çš„æ–¹å¼æ¥è·å–æ•°æ®valueå€¼çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data3Â =Â [&lt;span&gt;&#x27;PythonÂ é›†ä¸­è¥&#x27;&lt;/span&gt;,Â &lt;span&gt;&#x27;Sir.wang&#x27;&lt;/span&gt;]&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(&lt;span&gt;&quot;[0]&quot;&lt;/span&gt;,Â json_data3)&lt;br/&gt;&lt;br/&gt;print(res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â PythonÂ é›†ä¸­è¥&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;è‹¥æ˜¯æ•°ç»„å’Œå­—å…¸çš„å½¢å¼ç»“åˆç»„æˆçš„jsonæ•°æ®ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨æŸ¥æ‰¾æ–¹å¼ã€‚æ¯”å¦‚ï¼šæœ‰å¦‚ä¸‹çš„jsonæ•°æ®â€¦&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data4Â =Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;key1&quot;&lt;/span&gt;:Â {&lt;span&gt;&quot;key1_1&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;value1_1&quot;&lt;/span&gt;},&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;key2&quot;&lt;/span&gt;:Â {&lt;span&gt;&quot;key2_1&quot;&lt;/span&gt;:Â [&lt;span&gt;&quot;a&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;b&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;c&quot;&lt;/span&gt;]}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;mpcpc js_editor_cpcad=&quot;&quot; class=&quot;js_cpc_area cpc_iframe&quot; src=&quot;/cgi-bin/readtemplate?t=tmpl/cpc_tmpl#1648040015786&quot; data-category_id_list=&quot;1|16|17|24|28|29|31|35|36|37|39|41|42|43|46|47|48|5|50|51|55|6|7|8&quot; data-id=&quot;1648040015786&quot;/&gt;&lt;span&gt;&lt;span&gt;é¢å¯¹ç¨å¾®å¤æ‚ä¸€ç‚¹çš„jsonæ•°æ®å¯ä»¥å…ˆå®šä¹‰å¥½è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼Œæœ€åå†ä½¿ç”¨searchå‡½æ•°è¿›è¡Œæ•°æ®æŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼šéœ€è¦åœ¨jsonæ•°æ®ä¸­æ‰¾åˆ°å¦‚ä¸‹çš„æ•°ç»„â€¦&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;&lt;span&gt;#Â [&quot;a&quot;,Â &quot;b&quot;,Â &quot;c&quot;]&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;expÂ =Â &lt;span&gt;&quot;key2.key2_1[0]&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(exp,Â json_data4)&lt;br/&gt;&lt;br/&gt;print(&lt;span&gt;&quot;æ•°ç»„ä¸­çš„æ•°å€¼ï¼š&quot;&lt;/span&gt;,Â res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æ•°ç»„ä¸­çš„æ•°å€¼ï¼ša&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;é‚£ä¹ˆï¼Œå¦‚ä½•åœ¨jsonæ•°æ®ä¸­ä½¿ç”¨åˆ‡ç‰‡çš„æ–¹å¼æ¥æ‰¾åˆ°éœ€è¦çš„jsonæ•°æ®ï¼Œå½“ç„¶ä¹Ÿæ˜¯æ”¯æŒçš„â€¦&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data5Â =Â [&lt;span&gt;0&lt;/span&gt;,Â &lt;span&gt;1&lt;/span&gt;,Â &lt;span&gt;2&lt;/span&gt;,Â &lt;span&gt;3&lt;/span&gt;,Â &lt;span&gt;4&lt;/span&gt;,Â &lt;span&gt;5&lt;/span&gt;,Â &lt;span&gt;6&lt;/span&gt;,Â &lt;span&gt;7&lt;/span&gt;,Â &lt;span&gt;8&lt;/span&gt;,Â &lt;span&gt;9&lt;/span&gt;]&lt;br/&gt;&lt;br/&gt;expÂ =Â &lt;span&gt;&quot;[0:7]&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(exp,Â json_data5)&lt;br/&gt;&lt;br/&gt;print(&lt;span&gt;&quot;åˆ‡ç‰‡æ•°æ®ç»“æœ&quot;&lt;/span&gt;,Â res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â åˆ‡ç‰‡æ•°æ®ç»“æœÂ [0,Â 1,Â 2,Â 3,Â 4,Â 5,Â 6]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è¿˜æœ‰ä¸€ç§æŸ¥æ‰¾æ–¹å¼ï¼Œæ˜¯é€šè¿‡*ç¬¦å·é€šé…ç¬¦çš„æ–¹å¼ï¼Œä¸»è¦æ˜¯ç”¨åœ¨å¤–å±‚æ•°æ®ä¸ºæ•°ç»„çš„jsonæ•°æ®ä¸­ï¼Œæ¯”å¦‚æœ‰å¦‚ä¸‹çš„æ•°æ®â€¦&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;json_data6Â =Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;&quot;data&quot;&lt;/span&gt;:Â [&lt;br/&gt;Â Â Â Â Â Â Â Â {&lt;span&gt;&quot;name&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;PythonÂ é›†ä¸­è¥&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;age&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;5å¹´&quot;&lt;/span&gt;},&lt;br/&gt;Â Â Â Â Â Â Â Â {&lt;span&gt;&quot;name&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;Sir.wang&quot;&lt;/span&gt;,Â &lt;span&gt;&quot;age&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;28&quot;&lt;/span&gt;},&lt;br/&gt;Â Â Â Â Â Â Â Â {&lt;span&gt;&quot;dr&quot;&lt;/span&gt;:Â &lt;span&gt;&quot;nrg&quot;&lt;/span&gt;}&lt;br/&gt;Â Â Â Â ]&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è¿™ç§æ•°æ®å½¢å¼çš„è¯ï¼Œè¡¨è¾¾å¼å¯ä»¥è¿™æ ·å†™ã€‚å…ˆæ‰¾åˆ°dataä½œä¸ºé”®ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ç”¨data[*]å°±å¯ä»¥æ‰¾åˆ°dataä¸‹é¢çš„æ‰€æœ‰æ•°æ®ï¼Œåœ¨é€šè¿‡ä¸‹ä¸€ä¸ªå±‚çº§çš„é”®è¿›è¡ŒåŒ¹é…ã€‚&lt;/span&gt;&lt;/span&gt;&lt;span/&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;expÂ =Â &lt;span&gt;&quot;data[*].name&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;resÂ =Â jp.search(exp,json_data6)&lt;br/&gt;&lt;br/&gt;print(res)&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â [&#x27;PythonÂ é›†ä¸­è¥&#x27;,Â &#x27;Sir.wang&#x27;]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;è‹¥æ˜¯æƒ³åŒ¹é…åˆ°çš„é”®æ˜¯drï¼Œåˆ™å°†expè¡¨è¾¾å¼ä¿®æ”¹æˆä¸‹é¢è¿™æ ·å°±å¯ä»¥æ‰¾åˆ°äº†â€¦&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;section&gt;&lt;pre&gt;&lt;code&gt;expÂ =Â &lt;span&gt;&quot;data[*].dr&quot;&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â æŸ¥æ‰¾çš„ç»“æœåˆ™æ˜¯ä¸‹é¢è¿™æ ·çš„...&lt;/span&gt;&lt;br/&gt;&lt;br/&gt;&lt;span&gt;#Â [&#x27;nrg&#x27;]&lt;/span&gt;&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;ã€ŒPython é›†ä¸­è¥ã€&lt;/span&gt;&lt;/strong&gt;ï¼ŒåªåšçŸ¥è¯†åˆ†äº« ï¼&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzA3ODk1Mzg0Mg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/wzyc1ToJM6hibKwqc6pgs9eu9tgh5AeibzhIhhMcAiaKaoczZdvmic9lLBP6oAyjibayia3ctN1WXEFyVia1OXoD9y3ibQ/0?wx_fmt=png&quot; data-nickname=&quot;Python é›†ä¸­è¥&quot; data-alias=&quot;python_code1024&quot; data-signature=&quot;ç¼–ç¨‹æŠ€å·§ã€å®æˆ˜æ€»ç»“ï¼Œåœ¨ Python çš„è·¯ä¸Šè¶Šèµ°è¶Šå®½ï¼Œ+å…³æ³¨è‡ªåŠ¨é¢†å–Python å­¦ä¹ è§†é¢‘èµ„æ–™ï¼&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p&gt;&lt;span&gt;&lt;strong&gt;&lt;span&gt;&lt;strong&gt;&lt;span/&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-tools=&quot;135ç¼–è¾‘å™¨&quot; data-id=&quot;89843&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;section&gt;&lt;br/&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section data-brushtype=&quot;text&quot; hm_fix=&quot;364:266&quot;&gt;ç‚¹å‡»ä¸‹é¢çš„è¿æ¥ï¼ŒæŸ¥çœ‹å†å²æ–‡ç« &lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-brushtype=&quot;text&quot; data-width=&quot;100%&quot;&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851856&amp;amp;idx=1&amp;amp;sn=87f41abd2768e4c9030618b726d9b1e9&amp;amp;chksm=87bfcbcdb0c842db75f91b2784d5c29191efe1a677e3745ac8afaa41a29ec8e1731a48dcfd7a&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è§£é”ä¸€ä¸ªæ–°æŠ€èƒ½ï¼Œå¦‚ä½•åœ¨Pythonä»£ç ä¸­ä½¿ç”¨è¡¨æƒ…åŒ…...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;è§£é”ä¸€ä¸ªæ–°æŠ€èƒ½ï¼Œå¦‚ä½•åœ¨Pythonä»£ç ä¸­ä½¿ç”¨è¡¨æƒ…åŒ…...&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851845&amp;amp;idx=1&amp;amp;sn=65aee85fb64a34ffec780f766188c563&amp;amp;chksm=87bfcbd8b0c842ce9f3cf82833e91330e419bc2f7b476f12e164cc04cafbc23190e0c2910817&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä¸‡èƒ½çš„liståˆ—è¡¨ï¼Œpythonä¸­çš„å †æ ˆã€é˜Ÿåˆ—å®ç°å…¨é å®ƒï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ä¸‡èƒ½çš„liståˆ—è¡¨ï¼Œpythonä¸­çš„å †æ ˆã€é˜Ÿåˆ—å®ç°å…¨é å®ƒï¼&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851838&amp;amp;idx=1&amp;amp;sn=7d2181f8ff6dd024f3d4b88ddbfa8309&amp;amp;chksm=87bfcba3b0c842b5806962b3df66ef1e1a23a061858e2bd9578312c65607b92ba17f6dd3d6da&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;è¯¥æ€ä¹ˆç”¨pyqt5æ¥å®ç°æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥åŠŸèƒ½...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;è¯¥æ€ä¹ˆç”¨pyqt5æ¥å®ç°æ•°æ®çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥åŠŸèƒ½...&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851828&amp;amp;idx=1&amp;amp;sn=1842fd515b78c5f4f61fb1c3a3135cc4&amp;amp;chksm=87bfcba9b0c842bf9db09538588b376f846e22c3ef342fbff52dd71e736716c62c84f416c427&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;ä»‹ç»ä¸€ä¸ªæ–‡æœ¬è¯­éŸ³ç¥å™¨ï¼Œå‡ è¡Œä»£ç å°±èƒ½æå®šï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;ä»‹ç»ä¸€ä¸ªæ–‡æœ¬è¯­éŸ³ç¥å™¨ï¼Œå‡ è¡Œä»£ç å°±èƒ½æå®šï¼&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851821&amp;amp;idx=1&amp;amp;sn=9d7728b3436463cca1531d9f0058aa83&amp;amp;chksm=87bfcbb0b0c842a6a61c2911d389691281f860231f286c8de93b5b349c782a4526cef9279d58&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;pythonæ‰¹é‡è‡ªåŠ¨æ•´ç†æ–‡ä»¶&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;pythonæ‰¹é‡è‡ªåŠ¨æ•´ç†æ–‡ä»¶&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851810&amp;amp;idx=1&amp;amp;sn=5bc8f6019679cdbda76f25bdd96c7bb2&amp;amp;chksm=87bfcbbfb0c842a9c183c9b1f878793d41224c596590302f2fdbb214a691f6b1909ef7a1bd8e&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åˆå­¦è€…ç¦åˆ©ï¼šåˆ†äº«äº”ä¸ªå…è´¹çš„ Python å­¦ä¹ ç½‘ç«™ï¼ŒæŠ“ç´§æ”¶è—å§ï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;åˆå­¦è€…ç¦åˆ©ï¼šåˆ†äº«äº”ä¸ªå…è´¹çš„ Python å­¦ä¹ ç½‘ç«™ï¼ŒæŠ“ç´§æ”¶è—å§ï¼&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851795&amp;amp;idx=1&amp;amp;sn=25dafea5064f9c5d299da43410422ea5&amp;amp;chksm=87bfcb8eb0c842985e8d976a6b1219f499f7642729086c907dcceee8124cbc021fbeae998aed&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æœ‰è¶£çš„æ§åˆ¶å°ç©æ³•ï¼šä¸€è¡Œä»£ç ç»˜åˆ¶æ§åˆ¶å°å›¾åƒï¼&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æœ‰è¶£çš„æ§åˆ¶å°ç©æ³•ï¼šä¸€è¡Œä»£ç ç»˜åˆ¶æ§åˆ¶å°å›¾åƒï¼&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851788&amp;amp;idx=1&amp;amp;sn=bda3b827215220a23b869d2ad6ea90fb&amp;amp;chksm=87bfcb91b0c8428700c94b916122e0289fee96be59b0c7364a982588c9cd5ef1bf5686c30e13&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ•°æ®å¤„ç†å°å·¥å…·ï¼šExcel æ‰¹é‡æ•°æ®æ–‡ä»¶æ‹†åˆ†/æ•´åˆå™¨...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ•°æ®å¤„ç†å°å·¥å…·ï¼šExcel æ‰¹é‡æ•°æ®æ–‡ä»¶æ‹†åˆ†/æ•´åˆå™¨...&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851779&amp;amp;idx=1&amp;amp;sn=7a11ac1256669667a7281d57487f985c&amp;amp;chksm=87bfcb9eb0c84288bea7dea898a9c2825b7ca715d7be700d383820030589809215bb176082b2&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åŠå…¬è‡ªåŠ¨åŒ–ï¼šPDFæ–‡ä»¶åˆå¹¶å™¨ï¼Œå°†å¤šä¸ªPDFæ–‡ä»¶è¿›è¡Œåˆå¹¶...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;åŠå…¬è‡ªåŠ¨åŒ–ï¼šPDFæ–‡ä»¶åˆå¹¶å™¨ï¼Œå°†å¤šä¸ªPDFæ–‡ä»¶è¿›è¡Œåˆå¹¶...&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851770&amp;amp;idx=1&amp;amp;sn=63be71bde280d366d24f5399016a2687&amp;amp;chksm=87bfcb67b0c84271ba67da7b1dd2ca7cb7640a82f9748e0c10baaa68bbe3a5040e744d4120f9&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;GUIçŒœæ•°å­—æ¸¸æˆï¼Œç›´æ¥å¼€ç©...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;GUIçŒœæ•°å­—æ¸¸æˆï¼Œç›´æ¥å¼€ç©...&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851762&amp;amp;idx=1&amp;amp;sn=08bdd02f0b8a6112431abfc26a9c7515&amp;amp;chksm=87bfcb6fb0c842792bcee88abb3e7b581d7a308239a21907fe72b94c4659b565f21e822aedd8&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;æ‰‹æŠŠæ‰‹æ•™ä½ åšä¸€ä¸ªæ•°æ®å›¾è¡¨ç”Ÿæˆå™¨ï¼ˆé™„æºç ï¼‰...&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;æ‰‹æŠŠæ‰‹æ•™ä½ åšä¸€ä¸ªæ•°æ®å›¾è¡¨ç”Ÿæˆå™¨ï¼ˆé™„æºç ï¼‰...&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;&lt;a target=&quot;_blank&quot; href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3ODk1Mzg0Mg==&amp;amp;mid=2649851752&amp;amp;idx=1&amp;amp;sn=b8cadfdad7480a8eeb362f7471cf1689&amp;amp;chksm=87bfcb75b0c84263ea7e13a2170313f9c77414d0d8d4d8a37e249a1f6121a5b314ce45665c04&amp;amp;scene=21#wechat_redirect&quot; textvalue=&quot;åŠ¨æ€æŒ‡é’ˆæ—¶é’Ÿï¼šåˆ©ç”¨pyqt5åˆ¶ä½œæŒ‡é’ˆé’Ÿè¡¨æ˜¾ç¤ºå®æ—¶æ—¶é—´&quot; linktype=&quot;text&quot; imgurl=&quot;&quot; imgdata=&quot;null&quot; data-itemshowtype=&quot;0&quot; tab=&quot;innerlink&quot; data-linktype=&quot;2&quot;&gt;&lt;span&gt;åŠ¨æ€æŒ‡é’ˆæ—¶é’Ÿï¼šåˆ©ç”¨pyqt5åˆ¶ä½œæŒ‡é’ˆé’Ÿè¡¨æ˜¾ç¤ºå®æ—¶æ—¶é—´&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-role=&quot;paragraph&quot;&gt;&lt;section data-id=&quot;104587&quot; data-tools=&quot;135ç¼–è¾‘å™¨&quot;&gt;&lt;section data-role=&quot;animate&quot;&gt;&lt;svg viewbox=&quot;0 0 640 200&quot;&gt;&lt;text x=&quot;380&quot; y=&quot;130&quot; fill=&quot;#3e3e3e&quot; hm_fix=&quot;375:337&quot;&gt;ç‚¹ä¸ªâ€œåœ¨çœ‹â€æ¯å¤©æ”¶åˆ°æœ€æ–°æ¶ˆæ¯ï¼&lt;/text&gt;&lt;/svg&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
          &lt;/div&gt;

          

          



           
                          
              &lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>f4099a1c2ef0f35b9ca20256bc4cedf2</guid>
<title>æ—¶é—´è½®åŸç†åŠå…¶åœ¨æ¡†æ¶ä¸­çš„åº”ç”¨</title>
<link>https://toutiao.io/k/1dwwpfd</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;blockquote class=&quot;js_blockquote_wrap&quot; data-type=&quot;2&quot; data-url=&quot;&quot; data-author-name=&quot;&quot; data-content-utf8-length=&quot;28&quot; data-source-title=&quot;&quot;&gt;&lt;section class=&quot;js_blockquote_digest&quot;&gt;&lt;section&gt;ä½œè€…ï¼švivoäº’è”ç½‘æœåŠ¡å™¨å›¢é˜Ÿ-Li Wanghong&lt;/section&gt;&lt;/section&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;ä¸€ã€æ—¶é—´è½®ç®€ä»‹&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;1.1 ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ—¶é—´è½®&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šä¸å®šæ—¶ä»»åŠ¡æ‰“äº¤é“ã€‚ä¸‹é¢ä¸¾å‡ ä¸ªå®šæ—¶ä»»åŠ¡å¤„ç†çš„ä¾‹å­ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1ï¼‰å¿ƒè·³æ£€æµ‹&lt;/strong&gt;ã€‚åœ¨Dubboä¸­ï¼Œéœ€è¦æœ‰å¿ƒè·³æœºåˆ¶æ¥ç»´æŒConsumerä¸Providerçš„é•¿è¿æ¥ï¼Œé»˜è®¤çš„å¿ƒè·³é—´éš”æ˜¯60sã€‚å½“Provideråœ¨3æ¬¡å¿ƒè·³æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å¿ƒè·³å“åº”ï¼Œä¼šå…³é—­è¿æ¥é€šé“ã€‚å½“Consumeråœ¨3æ¬¡å¿ƒè·³æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å¿ƒè·³å“åº”ï¼Œä¼šè¿›è¡Œé‡è¿ã€‚Providerä¾§å’ŒConsumerä¾§çš„å¿ƒè·³æ£€æµ‹æœºåˆ¶éƒ½æ˜¯é€šè¿‡å®šæ—¶ä»»åŠ¡å®ç°çš„ï¼Œè€Œä¸”æ˜¯æœ¬ç¯‡æ–‡ç« è¦åˆ†æçš„æ—¶é—´è½®HashedWheelTimerå¤„ç†çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2ï¼‰è¶…æ—¶å¤„ç†&lt;/strong&gt;ã€‚åœ¨Dubboä¸­å‘èµ·RPCè°ƒç”¨æ—¶ï¼Œé€šå¸¸ä¼šé…ç½®è¶…æ—¶æ—¶é—´ï¼Œå½“æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡æä¾›è€…å‡ºç°è¶…æ—¶è¿›è¡Œä¸€å®šçš„é€»è¾‘å¤„ç†ã€‚é‚£ä¹ˆæ€ä¹ˆæ£€æµ‹ä»»åŠ¡è°ƒç”¨è¶…æ—¶äº†å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®šæ—¶ä»»åŠ¡ï¼Œæ¯æ¬¡åˆ›å»ºä¸€ä¸ªFutureï¼Œè®°å½•è¿™ä¸ªFutureçš„åˆ›å»ºæ—¶é—´ä¸è¶…æ—¶æ—¶é—´ï¼Œåå°æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡è¿›è¡Œæ£€æµ‹ï¼Œå½“Futureåˆ°è¾¾è¶…æ—¶æ—¶é—´å¹¶ä¸”æ²¡æœ‰è¢«å¤„ç†æ—¶ï¼Œå°±éœ€è¦å¯¹è¿™ä¸ªFutureæ‰§è¡Œè¶…æ—¶é€»è¾‘å¤„ç†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;3ï¼‰Redissonåˆ†å¸ƒå¼é”ç»­æœŸ&lt;/strong&gt;ã€‚åœ¨åˆ†å¸ƒå¼é”å¤„ç†ä¸­ï¼Œé€šå¸¸ä¼šæŒ‡å®šåˆ†å¸ƒå¼é”çš„è¶…æ—¶æ—¶é—´ï¼ŒåŒæ ·ä¼šåœ¨finallyå—é‡Œé‡Šæ”¾åˆ†å¸ƒå¼é”ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œé€šå¸¸åˆ†å¸ƒå¼é”çš„è¶…æ—¶æ—¶é—´ä¸å¥½åˆ¤æ–­ï¼Œå¦‚æœè®¾ç½®çŸ­äº†ä¸šåŠ¡å´æ²¡æ‰§è¡Œå®Œæˆå°±æŠŠé”é‡Šæ”¾æ‰äº†ï¼Œæˆ–è€…è¶…æ—¶æ—¶é—´è®¾ç½®å¾ˆé•¿ï¼ŒåŒæ ·ä¹Ÿä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ã€‚Redissonæä¾›äº†ä¸€ç§çœ‹é—¨ç‹—æœºåˆ¶ï¼Œé€šè¿‡æ—¶é—´è½®å®šæ—¶ç»™åˆ†å¸ƒå¼é”ç»­æœŸï¼Œä¹Ÿå°±æ˜¯å»¶é•¿åˆ†å¸ƒå¼é”çš„è¶…æ—¶æ—¶é—´ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°å‡ ä¸ªä¾‹å­éƒ½ä¸å®šæ—¶ä»»åŠ¡æœ‰å…³ï¼Œé‚£ä¹ˆä¼ ç»Ÿçš„å®šæ—¶ä»»åŠ¡æœ‰ä»€ä¹ˆç¼ºç‚¹å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ—¶é—´è½®æ¥å®ç°ï¼Ÿ&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å‡å¦‚ä½¿ç”¨æ™®é€šçš„å®šæ—¶ä»»åŠ¡å¤„ç†æœºåˆ¶æ¥å¤„ç†&lt;strong&gt;ä¾‹2ï¼‰&lt;/strong&gt;ä¸­çš„è¶…æ—¶æƒ…å†µï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;1ï¼‰ç®€å•åœ°ï¼Œå¯ä»¥é’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œç„¶åSleepåˆ°è¶…æ—¶æ—¶é—´ï¼Œä¹‹åè‹¥åˆ¤æ–­è¶…æ—¶åˆ™è¿›è¡Œè¶…æ—¶é€»è¾‘å¤„ç†ã€‚å­˜åœ¨çš„é—®é¢˜æ˜¯å¦‚æœé¢ä¸´æ˜¯é«˜å¹¶å‘è¯·æ±‚ï¼Œé’ˆå¯¹æ¯ä¸ªè¯·æ±‚éƒ½è¦å»åˆ›å»ºçº¿ç¨‹ï¼Œè¿™æ ·å¤ªè€—è´¹èµ„æºäº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;2ï¼‰é’ˆå¯¹æ–¹æ¡ˆ1çš„ä¸è¶³ï¼Œå¯ä»¥æ”¹æˆä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†æ‰€æœ‰çš„å®šæ—¶ä»»åŠ¡ï¼Œæ¯”å¦‚è¿™ä¸ªçº¿ç¨‹å¯ä»¥æ¯éš”50msæ‰«ææ‰€æœ‰éœ€è¦å¤„ç†çš„è¶…æ—¶ä»»åŠ¡ï¼Œå¦‚æœå‘ç°æœ‰è¶…æ—¶ä»»åŠ¡ï¼Œåˆ™è¿›è¡Œå¤„ç†ã€‚ä½†æ˜¯ï¼Œè¿™æ ·ä¹Ÿå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¯èƒ½ä¸€æ®µæ—¶é—´å†…éƒ½æ²¡æœ‰ä»»åŠ¡è¾¾åˆ°è¶…æ—¶æ—¶é—´ï¼Œé‚£ä¹ˆå°±è®©CPUå¤šäº†å¾ˆå¤šæ— ç”¨çš„è½®è¯¢éå†æ“ä½œã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;é’ˆå¯¹ä¸Šè¿°æ–¹æ¡ˆçš„ä¸è¶³ï¼Œå¯ä»¥é‡‡ç”¨æ—¶é—´è½®æ¥è¿›è¡Œå¤„ç†ã€‚ä¸‹é¢å…ˆæ¥ç®€å•ä»‹ç»ä¸‹æ—¶é—´è½®çš„æ¦‚å¿µã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;span&gt;1.2 å•å±‚æ—¶é—´è½®&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å…ˆä»¥å•å±‚æ—¶é—´è½®ä¸ºä¾‹ï¼Œå‡è®¾æ—¶é—´è½®çš„å‘¨æœŸæ˜¯1ç§’ï¼Œæ—¶é—´è½®ä¸­æœ‰10ä¸ªæ§½ä½ï¼Œåˆ™æ¯ä¸ªæ§½ä½ä»£è¡¨100msã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰3ä¸ªä»»åŠ¡ï¼Œåˆ†åˆ«æ˜¯ä»»åŠ¡Aï¼ˆ220msåæ‰§è¡Œï¼‰ã€Bï¼ˆ410msä¹‹åè¿è¡Œï¼‰ã€Cï¼ˆ1930msä¹‹åè¿è¡Œï¼‰ã€‚åˆ™è¿™ä¸‰ä¸ªä»»åŠ¡åœ¨æ—¶é—´è½®æ‰€å¤„çš„æ§½ä½å¦‚ä¸‹å›¾ï¼Œå¯ä»¥çœ‹åˆ°ä»»åŠ¡Aè¢«æ”¾åˆ°äº†æ§½ä½2ï¼Œä»»åŠ¡Bè¢«æ”¾åˆ°äº†æ§½ä½4ï¼Œä»»åŠ¡Cè¢«æ”¾åˆ°äº†æ§½ä½9ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å½“æ—¶é—´è½®è½¬åŠ¨åˆ°å¯¹åº”çš„æ§½æ—¶ï¼Œå°±ä¼šä»æ§½ä¸­å–å‡ºä»»åŠ¡åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œã€‚åŒæ—¶å¯ä»¥å‘ç°æœ‰ä¸€ä¸ªå‰©ä½™å‘¨æœŸçš„æ¦‚å¿µï¼Œè¿™æ˜¯å› ä¸ºä»»åŠ¡Cçš„æ‰§è¡Œæ—¶é—´ä¸º1930msï¼Œè¶…è¿‡äº†æ—¶é—´è½®çš„å‘¨æœŸ1ç§’ï¼Œæ‰€ä»¥å¯ä»¥æ ‡è®°å®ƒçš„å‰©ä½™å‘¨æœŸä¸º1ï¼Œå½“æ—¶é—´è½®ç¬¬ä¸€æ¬¡è½¬åŠ¨åˆ°å®ƒçš„ä½ç½®æ—¶ï¼Œå‘ç°å®ƒçš„å‰©ä½™å‘¨æœŸä¸º1ï¼Œè¡¨ç¤ºè¿˜æ²¡æœ‰åˆ°è¦å¤„ç†çš„æ—¶é—´ï¼Œå°†å‰©ä½™å‘¨æœŸå‡1ï¼Œæ—¶é—´è½®ç»§ç»­è½¬åŠ¨ï¼Œå½“ä¸‹ä¸€æ¬¡è½¬åŠ¨åˆ°Cä»»åŠ¡ä½ç½®æ—¶ï¼Œå‘ç°å‰©ä½™å‘¨æœŸä¸º0ï¼Œè¡¨ç¤ºæ—¶é—´åˆ°äº†éœ€è¦å¤„ç†è¯¥å®šæ—¶ä»»åŠ¡äº†ã€‚Dubboä¸­é‡‡ç”¨çš„å°±æ˜¯è¿™ç§å•å±‚æ—¶é—´è½®æœºåˆ¶ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-ratio=&quot;0.8234165067178503&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvoL7qrRAPH5Sjd5mXWGZYTdE1Dff4YUjYG60iagKEoTMl54fq1jGfc1w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;521&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;1.3 å¤šå±‚æ—¶é—´è½®&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æ—¢ç„¶æœ‰å•å±‚æ—¶é—´è½®ï¼Œé‚£ä¹ˆè‡ªç„¶è€Œç„¶å¯ä»¥æƒ³åˆ°åˆ©ç”¨å¤šå±‚æ—¶é—´è½®æ¥è§£å†³ä¸Šè¿°ä»»åŠ¡æ‰§è¡Œæ—¶é—´è¶…å‡ºæ—¶é—´è½®å‘¨æœŸçš„æƒ…å†µã€‚ä¸‹é¢ä»¥ä¸¤å±‚æ—¶é—´è½®ä¸ºä¾‹ï¼Œç¬¬ä¸€å±‚æ—¶é—´è½®å‘¨æœŸä¸º1ç§’ï¼Œç¬¬äºŒå±‚æ—¶é—´è½®å‘¨æœŸä¸º10ç§’ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;è¿˜æ˜¯ä»¥ä¸Šè¿°3ä¸ªä»»åŠ¡ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°ä»»åŠ¡Aå’ŒBåˆ†å¸ƒåœ¨ç¬¬ä¸€å±‚æ—¶é—´è½®ä¸Šï¼Œè€Œä»»åŠ¡Cåˆ†å¸ƒåœ¨ç¬¬äºŒå±‚æ—¶é—´è½®çš„æ§½1å¤„ã€‚å½“ç¬¬ä¸€å±‚æ—¶é—´è½®è½¬åŠ¨æ—¶ï¼Œä»»åŠ¡Aå’Œä»»åŠ¡Bä¼šè¢«å…ˆåæ‰§è¡Œã€‚1ç§’é’Ÿä¹‹åï¼Œç¬¬ä¸€å±‚æ—¶é—´è½®å®Œæˆäº†ä¸€ä¸ªå‘¨æœŸè½¬åŠ¨ã€‚ä»æ–°å¼€å§‹ç¬¬0è·³ï¼Œè¿™æ—¶ç¬¬äºŒå±‚æ—¶é—´è½®ä»æ§½0è·³åˆ°äº†æ§½1å¤„ï¼Œå°†æ§½1å¤„çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ä»»åŠ¡Cå–å‡ºæ”¾å…¥åˆ°ç¬¬ä¸€å±‚æ—¶é—´è½®çš„æ§½ä½9å¤„ï¼Œå½“ç¬¬ä¸€å±‚æ—¶é—´è½®è½¬åŠ¨åˆ°æ§½ä½9å¤„ï¼Œä»»åŠ¡Cå°±ä¼šè¢«æ‰§è¡Œã€‚è¿™ç§å°†ç¬¬äºŒå±‚çš„ä»»åŠ¡å–å‡ºæ”¾å…¥ç¬¬ä¸€å±‚ä¸­ç§°ä¸ºé™çº§ï¼Œå®ƒæ˜¯ä¸ºäº†ä¿è¯ä»»åŠ¡è¢«å¤„ç†çš„æ—¶é—´ç²¾åº¦ã€‚Kafkaå†…éƒ¨å°±æ˜¯é‡‡ç”¨çš„è¿™ç§å¤šå±‚æ—¶é—´è½®æœºåˆ¶ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;301&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.5205949656750573&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvArjABxkglzibdia54ficuEN81VNEvLAu5R2EBwxFNro15bVQsBpaIicocw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;874&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;äºŒã€æ—¶é—´è½®åŸç†&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸‹Dubboä¸­çš„æ—¶é—´è½®çš„ç»“æ„ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒå’Œæ—¶é’Ÿå¾ˆåƒï¼Œå®ƒè¢«åˆ’åˆ†æˆäº†ä¸€ä¸ªä¸ªBucketï¼Œæ¯ä¸ªBucketæœ‰ä¸€ä¸ªå¤´æŒ‡é’ˆå’Œå°¾æŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘åŒå‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼ŒåŒå‘é“¾è¡¨ä¸­å­˜å‚¨çš„å°±æ˜¯è¦å¤„ç†çš„ä»»åŠ¡ã€‚æ—¶é—´è½®ä¸åœè½¬åŠ¨ï¼Œå½“æŒ‡å‘Bucket0æ‰€è´Ÿè´£ç»´æŠ¤çš„åŒå‘é“¾è¡¨æ—¶ï¼Œå°±å°†å®ƒæ‰€å­˜å‚¨çš„ä»»åŠ¡éå†å–å‡ºæ¥å¤„ç†ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;405&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.7009063444108762&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvMgiba9hibt6JoX2NGjmuAeml6DdMHzNCunDaI6QXQRg5NEJj0IYLzcrw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;662&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å…ˆæ¥ä»‹ç»ä¸‹Dubboä¸­æ—¶é—´è½®HashedWheelTimeræ‰€æ¶‰åŠåˆ°çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µï¼Œåœ¨è®²è§£å®Œè¿™äº›æ ¸å¿ƒæ¦‚å¿µä¹‹åï¼Œå†æ¥å¯¹æ—¶é—´è½®çš„æºç è¿›è¡Œåˆ†æã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2.1 TimerTask&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åœ¨Dubboä¸­ï¼ŒTimerTaskå°è£…äº†è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå®ƒå°±æ˜¯ä¸Šå›¾åŒå‘é“¾è¡¨ä¸­èŠ‚ç‚¹æ‰€å°è£…çš„ä»»åŠ¡ã€‚æ‰€æœ‰çš„å®šæ—¶ä»»åŠ¡éƒ½éœ€è¦ç»§æ‰¿TimerTaskæ¥å£ã€‚å¦‚ä¸‹å›¾ï¼Œå¯ä»¥çœ‹åˆ°Dubboä¸­çš„å¿ƒè·³ä»»åŠ¡HeartBeatTaskã€æ³¨å†Œå¤±è´¥é‡è¯•ä»»åŠ¡FailRegisteredTaskç­‰éƒ½å®ç°äº†TimerTaskæ¥å£ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;TimerTask&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Timeout timeout)&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;throws&lt;/span&gt; Exception&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;153&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.264&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvlBwPu6NhLhYN3ttTY9HJd2FRPEfrzzvsHujH2Qew9zfQlZyjPmf7JA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;750&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2.2 Timeout&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;TimerTaskä¸­runæ–¹æ³•çš„å…¥å‚æ˜¯Timeoutï¼ŒTimeoutä¸TimerTaskä¸€ä¸€å¯¹åº”ï¼ŒTimeoutçš„å”¯ä¸€å®ç°ç±»HashedWheelTimeoutä¸­å°±å°è£…äº†TimerTaskå±æ€§ï¼Œå¯ä»¥ç†è§£ä¸ºHashedWheelTimeoutå°±æ˜¯ä¸Šè¿°åŒå‘é“¾è¡¨çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å®ƒä¹ŸåŒ…å«ä¸¤ä¸ªHashedWheelTimeoutç±»å‹çš„æŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__class&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;Timeout&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;Timer &lt;span class=&quot;code-snippet__title&quot;&gt;timer&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;TimerTask &lt;span class=&quot;code-snippet__title&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;isExpired&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;isCancelled&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;cancel&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelTimeoutæ˜¯Timeoutçš„å”¯ä¸€å®ç°ï¼Œå®ƒçš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;ä¸‹é¢æ¥çœ‹ä¸€ä¸‹Timeoutçš„å®ç°ç±»HashedWheelTimeoutçš„æ ¸å¿ƒå­—æ®µä¸å®ç°ã€‚&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ST_INIT = &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;ã€&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ST_CANCELLED = &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;ã€&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ST_EXPIRED = &lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   HashedWheelTimeouté‡Œå®šä¹‰äº†ä¸‰ç§çŠ¶æ€ï¼Œåˆ†åˆ«è¡¨ç¤ºä»»åŠ¡çš„åˆå§‹åŒ–çŠ¶æ€ã€è¢«å–æ¶ˆçŠ¶æ€ã€å·²è¿‡æœŸçŠ¶æ€&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;) STATE_UPDATER&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ç”¨äºæ›´æ–°å®šæ—¶ä»»åŠ¡çš„çŠ¶æ€&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;) HashedWheelTimer timer&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æŒ‡å‘æ—¶é—´è½®å¯¹è±¡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;4&lt;/span&gt;) TimerTask task&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   å®é™…è¦æ‰§è¡Œçš„ä»»åŠ¡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;5&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; deadline&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æŒ‡å®šæ—¶ä»»åŠ¡æ‰§è¡Œçš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯åœ¨åˆ›å»º HashedWheelTimeout æ—¶æŒ‡å®šçš„&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   è®¡ç®—å…¬å¼æ˜¯: currentTime(åˆ›å»º HashedWheelTimeout çš„æ—¶é—´) + delay(ä»»åŠ¡å»¶è¿Ÿæ—¶é—´)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;             - startTime(HashedWheelTimer çš„å¯åŠ¨æ—¶é—´)ï¼Œæ—¶é—´å•ä½ä¸ºçº³ç§’&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; state = ST_INIT&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ä»»åŠ¡åˆå§‹çŠ¶æ€&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;7&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; remainingRounds&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æŒ‡å½“å‰ä»»åŠ¡å‰©ä½™çš„æ—¶é’Ÿå‘¨æœŸæ•°. æ—¶é—´è½®æ‰€èƒ½è¡¨ç¤ºçš„æ—¶é—´é•¿åº¦æ˜¯æœ‰é™çš„ï¼Œ åœ¨ä»»åŠ¡åˆ°æœŸæ—¶é—´ä¸å½“å‰æ—¶åˆ»&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   çš„æ—¶é—´å·®è¶…è¿‡æ—¶é—´è½®å•åœˆèƒ½è¡¨ç¤ºçš„æ—¶é•¿ï¼Œå°±å‡ºç°äº†å¥—åœˆçš„æƒ…å†µï¼Œéœ€è¦è¯¥å­—æ®µå€¼è¡¨ç¤ºå‰©ä½™çš„æ—¶é’Ÿå‘¨æœŸ&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;8&lt;/span&gt;) HashedWheelTimeout nextã€HashedWheelTimeout prev&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   åˆ†åˆ«å¯¹åº”å½“å‰å®šæ—¶ä»»åŠ¡åœ¨é“¾è¡¨ä¸­çš„å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹ï¼Œè¿™ä¹ŸéªŒè¯äº†æ—¶é—´è½®ä¸­æ¯ä¸ªæ§½æ‰€å¯¹åº”çš„ä»»åŠ¡é“¾è¡¨æ˜¯&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ä¸€ä¸ªåŒé“¾è¡¨&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;9&lt;/span&gt;) HashedWheelBucket bucket&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®ä¸­çš„ä¸€ä¸ªæ§½ï¼Œå¯¹åº”æ—¶é—´è½®åœ†åœˆçš„ä¸€ä¸ªä¸ªå°æ ¼å­ï¼Œæ¯ä¸ªæ§½ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œå½“æ—¶é—´è½®æŒ‡é’ˆè½¬åˆ°å½“å‰&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ§½æ—¶ï¼Œå°±ä¼šä»æ§½æ‰€è´Ÿè´£çš„åŒå‘é“¾è¡¨ä¸­å–å‡ºä»»åŠ¡è¿›è¡Œå¤„ç†&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelTimeoutæä¾›äº†removeæ“ä½œï¼Œå¯ä»¥ä»åŒå‘é“¾è¡¨ä¸­ç§»é™¤å½“å‰è‡ªèº«èŠ‚ç‚¹ï¼Œå¹¶å°†å½“å‰æ—¶é—´è½®æ‰€ç»´æŠ¤çš„å®šæ—¶ä»»åŠ¡æ•°é‡å‡ä¸€ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;remove&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    HashedWheelBucket bucket = &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.bucket;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (bucket != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        bucket.&lt;span class=&quot;code-snippet__keyword&quot;&gt;remove&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timer.pendingTimeouts.decrementAndGet();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelTimeoutæä¾›äº†cancelæ“ä½œï¼Œå¯ä»¥å–æ¶ˆæ—¶é—´è½®ä¸­çš„å®šæ—¶ä»»åŠ¡ã€‚å½“å®šæ—¶ä»»åŠ¡è¢«å–æ¶ˆæ—¶ï¼Œå®ƒä¼šé¦–å…ˆè¢«æš‚å­˜åˆ°canceledTimeoutsé˜Ÿåˆ—ä¸­ã€‚åœ¨æ—¶é—´è½®è½¬åŠ¨åˆ°æ§½è¿›è¡Œä»»åŠ¡å¤„ç†ä¹‹å‰å’Œæ—¶é—´è½®é€€å‡ºè¿è¡Œæ—¶éƒ½ä¼šè°ƒç”¨cancelï¼Œè€Œcancelä¼šè°ƒç”¨removeï¼Œä»è€Œæ¸…ç†è¯¥é˜Ÿåˆ—ä¸­è¢«å–æ¶ˆçš„å®šæ—¶ä»»åŠ¡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; boolean cancel() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!compareAndSetState(ST_INIT, ST_CANCELLED)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    timer.cancelledTimeouts.add(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-snippet__literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelTimeoutæä¾›äº†expireæ“ä½œï¼Œå½“æ—¶é—´è½®æŒ‡é’ˆè½¬åŠ¨åˆ°æŸä¸ªæ§½æ—¶ï¼Œä¼šéå†è¯¥æ§½æ‰€ç»´æŠ¤çš„åŒå‘é“¾è¡¨ï¼Œåˆ¤æ–­èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¦‚æœå‘ç°ä»»åŠ¡å·²åˆ°æœŸï¼Œä¼šé€šè¿‡removeæ–¹æ³•ç§»é™¤ï¼Œç„¶åè°ƒç”¨expireæ–¹æ³•æ‰§è¡Œè¯¥å®šæ—¶ä»»åŠ¡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;expire&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!compareAndSetState(ST_INIT, ST_EXPIRED)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        task.run(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } &lt;span class=&quot;code-snippet__keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2.3 HashedWheelBucket&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;å‰é¢ä¹Ÿä»‹ç»è¿‡äº†ï¼Œå®ƒæ˜¯æ—¶é—´è½®ä¸­çš„æ§½ï¼Œå®ƒå†…éƒ¨ç»´æŠ¤äº†åŒå‘é“¾è¡¨çš„é¦–å°¾æŒ‡é’ˆã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒå†…éƒ¨çš„æ ¸å¿ƒèµ„æºå’Œå®ç°ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;1) HashedWheelTimeout headã€HashedWheelTimeout tail&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æŒ‡å‘è¯¥æ§½æ‰€ç»´æŠ¤çš„åŒå‘é“¾è¡¨çš„é¦–èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelBucketæä¾›äº†addTimeoutæ–¹æ³•ï¼Œç”¨äºæ·»åŠ ä»»åŠ¡åˆ°åŒå‘é“¾è¡¨çš„å°¾èŠ‚ç‚¹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;addTimeout&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(HashedWheelTimeout timeout)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;assert&lt;/span&gt; timeout.bucket == &lt;span class=&quot;code-snippet__keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    timeout.bucket = &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (head == &lt;span class=&quot;code-snippet__keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        head = tail = timeout;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        tail.next = timeout;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timeout.prev = tail;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        tail = timeout;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelBucketæä¾›äº†removeæ–¹æ³•ï¼Œç”¨äºä»åŒå‘é“¾è¡¨ä¸­åˆ é™¤æŒ‡å®šèŠ‚ç‚¹ã€‚æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ¹æ®è¦åˆ é™¤çš„èŠ‚ç‚¹æ‰¾åˆ°å…¶å‰ç½®èŠ‚ç‚¹å’Œåç½®èŠ‚ç‚¹ï¼Œç„¶ååˆ†åˆ«è°ƒæ•´å‰ç½®èŠ‚ç‚¹çš„nextæŒ‡é’ˆå’Œåç½®èŠ‚ç‚¹çš„prevæŒ‡é’ˆã€‚åˆ é™¤è¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘ä¸€äº›è¾¹ç•Œæƒ…å†µã€‚åˆ é™¤ä¹‹åå°†pendingTimeoutsï¼Œä¹Ÿå°±æ˜¯å½“å‰æ—¶é—´è½®çš„å¾…å¤„ç†ä»»åŠ¡æ•°å‡ä¸€ã€‚removeä»£ç é€»è¾‘è¾ƒç®€å•ï¼Œè¿™è¾¹å°±ä¸è´´ä»£ç äº†ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;259&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.44880546075085326&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvjNKodCNcQugf5JQlFp2yQoibg2aw3SnCcsw8IkbeS9vEf7QcicFWX7Rw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;586&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelBucketæä¾›äº†expireTimeoutsæ–¹æ³•ï¼Œå½“æ—¶é—´è½®æŒ‡é’ˆè½¬åŠ¨åˆ°æŸä¸ªæ§½æ—¶ï¼Œé€šè¿‡è¯¥æ–¹æ³•å¤„ç†è¯¥æ§½ä¸ŠåŒå‘é“¾è¡¨çš„å®šæ—¶ä»»åŠ¡ï¼Œåˆ†ä¸º3ç§æƒ…å†µï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;p&gt;å®šæ—¶ä»»åŠ¡å·²åˆ°æœŸï¼Œåˆ™ä¼šé€šè¿‡removeæ–¹æ³•å–å‡ºï¼Œå¹¶è°ƒç”¨å…¶expireæ–¹æ³•æ‰§è¡Œä»»åŠ¡é€»è¾‘ã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å®šæ—¶ä»»åŠ¡å·²è¢«å–æ¶ˆï¼Œåˆ™é€šè¿‡removeæ–¹æ³•å–å‡ºç›´æ¥ä¸¢å¼ƒã€‚&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;å®šæ—¶ä»»åŠ¡è¿˜æœªåˆ°æœŸï¼Œåˆ™ä¼šå°†remainingRoundsï¼ˆå‰©ä½™æ—¶é’Ÿå‘¨æœŸï¼‰å‡ä¸€ã€‚&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;expireTimeouts&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; deadline&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    HashedWheelTimeout timeout = head;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (timeout != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelTimeout next = timeout.next;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout.remainingRounds &amp;lt;= &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            next = &lt;span class=&quot;code-snippet__keyword&quot;&gt;remove&lt;/span&gt;(timeout);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout.deadline &amp;lt;= deadline) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                timeout.expire();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout.isCancelled()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            next = &lt;span class=&quot;code-snippet__keyword&quot;&gt;remove&lt;/span&gt;(timeout);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        } &lt;span class=&quot;code-snippet__keyword&quot;&gt;else&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            timeout.remainingRounds--;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timeout = next;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;HashedWheelBucketä¹Ÿæä¾›äº†clearTimeoutsæ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ—¶é—´è½®åœæ­¢çš„æ—¶å€™è¢«ä½¿ç”¨ï¼Œå®ƒä¼šéå†å¹¶ç§»é™¤æ‰€æœ‰åŒå‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›æ‰€æœ‰æœªè¶…æ—¶å’Œæœªè¢«å–æ¶ˆçš„ä»»åŠ¡ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2.4 Worker&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;Workerå®ç°äº†Runnableæ¥å£ï¼Œæ—¶é—´è½®å†…éƒ¨é€šè¿‡Workerçº¿ç¨‹æ¥å¤„ç†æ”¾å…¥æ—¶é—´è½®ä¸­çš„å®šæ—¶ä»»åŠ¡ã€‚ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸‹å®ƒçš„æ ¸å¿ƒå­—æ®µå’Œrunæ–¹æ³•é€»è¾‘ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;sql&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;1) &lt;span class=&quot;code-snippet__keyword&quot;&gt;Set&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;Timeout&lt;/span&gt;&amp;gt; unprocessedTimeouts&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   å½“æ—¶é—´è½®åœæ­¢æ—¶ï¼Œç”¨äºå­˜æ”¾æ—¶é—´è½®ä¸­æœªè¿‡æœŸçš„å’Œæœªè¢«å–æ¶ˆçš„ä»»åŠ¡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; tick&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®æŒ‡é’ˆï¼ŒæŒ‡å‘æ—¶é—´è½®ä¸­æŸä¸ªæ§½ï¼Œå½“æ—¶é—´è½®è½¬åŠ¨æ—¶è¯¥tickä¼šè‡ªå¢&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;729&quot; data-backw=&quot;578&quot; data-ratio=&quot;1.26171875&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvpuyqYmHbpeG02qJOSrNo4pp7FPsn8nw4jgpqoem0O62GIDkI5rXDPA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;768&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    startTime = System.nanoTime();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    startTimeInitialized.countDown();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;do&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        final &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; deadline = waitForNextTick();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (deadline &amp;gt; &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; idx = (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;) (tick &amp;amp; mask);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            processCancelledTasks();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            HashedWheelBucket bucket = wheel[idx];&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            transferTimeoutsToBuckets();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            bucket.expireTimeouts(deadline);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            tick++;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (WORKER_STATE_UPDATER.&lt;span class=&quot;code-snippet__keyword&quot;&gt;get&lt;/span&gt;(HashedWheelTimer.&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                                    == WORKER_STATE_STARTED);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (HashedWheelBucket bucket : wheel) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        bucket.clearTimeouts(unprocessedTimeouts);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (; ; ) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelTimeout timeout = timeouts.poll();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!timeout.isCancelled()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            unprocessedTimeouts.&lt;span class=&quot;code-snippet__keyword&quot;&gt;add&lt;/span&gt;(timeout);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    processCancelledTasks();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸‹é¢å¯¹runæ–¹æ³•ä¸­æ¶‰åŠåˆ°çš„ä¸€äº›æ–¹æ³•è¿›è¡Œä»‹ç»ï¼š&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1ï¼‰waitForNextTick&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œå®ƒä¼šåˆ¤æ–­æœ‰æ²¡æœ‰åˆ°è¾¾å¤„ç†ä¸‹ä¸€ä¸ªæ§½ä»»åŠ¡çš„æ—¶é—´äº†ï¼Œå¦‚æœè¿˜æ²¡æœ‰åˆ°è¾¾åˆ™sleepä¸€ä¼šã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;2ï¼‰processCancelledTasks&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;éå†cancelledTimeoutsï¼Œè·å–è¢«å–æ¶ˆçš„ä»»åŠ¡å¹¶ä»åŒå‘é“¾è¡¨ä¸­ç§»é™¤ã€‚&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;processCancelledTasks&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (; ; ) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelTimeout timeout = cancelledTimeouts.poll();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timeout.&lt;span class=&quot;code-snippet__keyword&quot;&gt;remove&lt;/span&gt;();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3ï¼‰transferTimeoutsToBuckets&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å½“è°ƒç”¨newTimeoutæ–¹æ³•æ—¶ï¼Œä¼šå…ˆå°†è¦å¤„ç†çš„ä»»åŠ¡ç¼“å­˜åˆ°timeoutsé˜Ÿåˆ—ä¸­ï¼Œç­‰æ—¶é—´è½®æŒ‡é’ˆè½¬åŠ¨æ—¶ç»Ÿä¸€è°ƒç”¨transferTimeoutsToBucketsæ–¹æ³•å¤„ç†ï¼Œå°†ä»»åŠ¡è½¬ç§»åˆ°æŒ‡å®šçš„æ§½å¯¹åº”çš„åŒå‘é“¾è¡¨ä¸­ï¼Œæ¯æ¬¡è½¬ç§»10ä¸‡ä¸ªï¼Œä»¥å…é˜»å¡æ—¶é—´è½®çº¿ç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;transferTimeoutsToBuckets&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;code-snippet__number&quot;&gt;100000&lt;/span&gt;; i++) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelTimeout timeout = timeouts.poll();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout == &lt;span class=&quot;code-snippet__keyword&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (timeout.state() == HashedWheelTimeout.ST_CANCELLED) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; calculated = timeout.deadline / tickDuration;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        timeout.remainingRounds = (calculated - tick) / wheel.length;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; ticks = Math.max(calculated, tick);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; stopIndex = (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt;) (ticks &amp;amp; mask);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        HashedWheelBucket bucket = wheel[stopIndex];&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        bucket.addTimeout(timeout);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;2.5 HashedWheelTimer&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬æ¥åˆ†ææ—¶é—´è½®HashedWheelTimerï¼Œå®ƒå®ç°äº†Timeræ¥å£ï¼Œæä¾›äº†newTimeoutæ–¹æ³•å¯ä»¥å‘æ—¶é—´è½®ä¸­æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡ä¼šå…ˆè¢«æš‚å­˜åˆ°timeoutsé˜Ÿåˆ—ä¸­ï¼Œç­‰æ—¶é—´è½®è½¬åŠ¨åˆ°æŸä¸ªæ§½æ—¶ï¼Œä¼šå°†è¯¥timeoutsé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡è½¬ç§»åˆ°æŸä¸ªæ§½æ‰€è´Ÿè´£çš„åŒå‘é“¾è¡¨ä¸­ã€‚å®ƒè¿˜æä¾›äº†stopæ–¹æ³•ç”¨äºç»ˆæ­¢æ—¶é—´è½®ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›æ—¶é—´è½®ä¸­æœªå¤„ç†çš„ä»»åŠ¡ã€‚å®ƒä¹Ÿæä¾›äº†isStopæ–¹æ³•ç”¨äºåˆ¤æ–­æ—¶é—´è½®æ˜¯å¦ç»ˆæ­¢äº†ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;å…ˆæ¥çœ‹ä¸€ä¸‹HashedWheelTimerçš„æ ¸å¿ƒå­—æ®µã€‚&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;) HashedWheelBucket[] wheel&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   è¯¥æ•°ç»„å°±æ˜¯æ—¶é—´è½®çš„ç¯å½¢é˜Ÿåˆ—ï¼Œæ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæ§½ï¼Œä¸€ä¸ªæ§½è´Ÿè´£ç»´æŠ¤ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œç”¨äºå­˜å‚¨å®šæ—¶&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ä»»åŠ¡ã€‚å®ƒä¼šè¢«åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œå½“æŒ‡å®šä¸ºnæ—¶ï¼Œå®ƒå®é™…ä¸Šä¼šå–æœ€é è¿‘nçš„ä¸”ä¸º&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;çš„å¹‚æ¬¡æ–¹å€¼ã€‚&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;2&lt;/span&gt;) Queue&amp;lt;HashedWheelTimeout&amp;gt; timeouts&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   timeoutsç”¨äºç¼“å­˜å¤–éƒ¨å‘æ—¶é—´è½®æäº¤çš„å®šæ—¶ä»»åŠ¡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;) Queue&amp;lt;HashedWheelTimeout&amp;gt; cancelledTimeouts&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   cancelledTimeoutsç”¨äºæš‚å­˜è¢«å–æ¶ˆçš„å®šæ—¶ä»»åŠ¡ï¼Œæ—¶é—´è½®ä¼šåœ¨å¤„ç†æ§½è´Ÿè´£çš„åŒå‘é“¾è¡¨ä¹‹å‰ï¼Œå…ˆå¤„ç†è¿™ä¸¤&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   ä¸ªé˜Ÿåˆ—ä¸­çš„æ•°æ®ã€‚&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;4&lt;/span&gt;) Worker worker&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®å¤„ç†å®šæ—¶ä»»åŠ¡çš„é€»è¾‘&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;5&lt;/span&gt;) Thread workerThread&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®å¤„ç†å®šæ—¶ä»»åŠ¡çš„çº¿ç¨‹&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;6&lt;/span&gt;) AtomicLong pendingTimeouts&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®å‰©ä½™çš„å¾…å¤„ç†çš„å®šæ—¶ä»»åŠ¡æ•°é‡&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;7&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; tickDuration&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®æ¯ä¸ªæ§½æ‰€ä»£è¡¨çš„æ—¶é—´é•¿åº¦&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;     &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__number&quot;&gt;8&lt;/span&gt;) &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; workerState&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;   æ—¶é—´è½®çŠ¶æ€ï¼Œå¯é€‰å€¼æœ‰initã€startedã€shut down&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;ä¸‹é¢æ¥çœ‹ä¸€ä¸‹æ—¶é—´è½®çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–ä¸€ä¸ªæ—¶é—´è½®ã€‚é¦–å…ˆå®ƒä¼šå¯¹ä¼ å…¥å‚æ•°ticksPerWheelè¿›è¡Œè½¬æ¢å¤„ç†ï¼Œè¿”å›å¤§äºè¯¥å€¼çš„2çš„å¹‚æ¬¡æ–¹ï¼Œå®ƒè¡¨ç¤ºæ—¶é—´è½®ä¸Šæœ‰å¤šå°‘ä¸ªæ§½ï¼Œé»˜è®¤æ˜¯512ä¸ªã€‚ç„¶ååˆ›å»ºå¤§å°ä¸ºè¯¥å€¼çš„HashedWheelBucket[]æ•°ç»„ã€‚æ¥ç€é€šè¿‡ä¼ å…¥çš„tickDurationå¯¹æ—¶é—´è½®çš„tickDurationèµ‹å€¼ï¼Œé»˜è®¤æ˜¯100msã€‚èŠ‚é€šè¿‡threadFactoryåˆ›å»ºworkerThreadå·¥ä½œçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹å°±æ˜¯è´Ÿè´£å¤„ç†æ—¶é—´è½®ä¸­çš„å®šæ—¶ä»»åŠ¡çš„çº¿ç¨‹ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;HashedWheelTimer&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;ThreadFactory threadFactory,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; tickDuration, TimeUnit unit,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ticksPerWheel,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; maxPendingTimeouts&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    wheel = createWheel(ticksPerWheel);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    mask = wheel.length - &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.tickDuration = unit.toNanos(tickDuration);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    workerThread = threadFactory.newThread(worker);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.maxPendingTimeouts = maxPendingTimeouts;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; HashedWheelBucket[] &lt;span class=&quot;code-snippet__title&quot;&gt;createWheel&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; ticksPerWheel&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ticksPerWheel = normalizeTicksPerWheel(ticksPerWheel);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    HashedWheelBucket[] wheel = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashedWheelBucket[ticksPerWheel];&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;; i &amp;lt; wheel.length; i++) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        wheel[i] = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashedWheelBucket();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; wheel;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åˆå§‹åŒ–æ—¶é—´è½®ä¹‹åï¼Œå°±å¯ä»¥å‘å…¶ä¸­æäº¤å®šæ—¶ä»»åŠ¡äº†ï¼Œå¯ä»¥é€šè¿‡æ—¶é—´è½®æä¾›çš„newTimeoutæ–¹æ³•æ¥å®Œæˆã€‚é¦–å…ˆå°†å¾…å¤„ç†çš„ä»»åŠ¡æ•°é‡åŠ 1ï¼Œç„¶åå¯åŠ¨æ—¶é—´è½®çº¿ç¨‹ï¼Œè¿™æ—¶workerçš„runæ–¹æ³•å°±ä¼šè¢«ç³»ç»Ÿè°ƒåº¦è¿è¡Œã€‚ç„¶åå°†è¯¥å®šæ—¶ä»»åŠ¡å°è£…æˆHashedWheelTimeoutåŠ å…¥åˆ°timeoutsé˜Ÿåˆ—ä¸­ã€‚startä¹‹åï¼Œæ—¶é—´è½®å°±å¼€å§‹è¿è¡Œèµ·æ¥äº†ï¼Œç›´åˆ°å¤–ç•Œè°ƒç”¨stopæ–¹æ³•ç»ˆæ­¢é€€å‡ºã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; Timeout &lt;span class=&quot;code-snippet__title&quot;&gt;newTimeout&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;TimerTask task, &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; delay, TimeUnit unit&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; pendingTimeoutsCount = pendingTimeouts.incrementAndGet();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    start();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; deadline = System.nanoTime() + unit.toNanos(delay) - startTime;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    HashedWheelTimeout timeout = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashedWheelTimeout(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;, task, deadline);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    timeouts.&lt;span class=&quot;code-snippet__keyword&quot;&gt;add&lt;/span&gt;(timeout);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; timeout;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;start&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;/&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;switch&lt;/span&gt; (WORKER_STATE_UPDATER.&lt;span class=&quot;code-snippet__keyword&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; WORKER_STATE_INIT:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (WORKER_STATE_UPDATER.compareAndSet(&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                     WORKER_STATE_INIT, WORKER_STATE_STARTED)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                workerThread.start();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; WORKER_STATE_STARTED:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;break&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;case&lt;/span&gt; WORKER_STATE_SHUTDOWN:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Error(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Invalid WorkerState&quot;&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;while&lt;/span&gt; (startTime == &lt;span class=&quot;code-snippet__number&quot;&gt;0&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            startTimeInitialized.&lt;span class=&quot;code-snippet__keyword&quot;&gt;await&lt;/span&gt;();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        } &lt;span class=&quot;code-snippet__keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException ignore) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;ä¸‰ã€æ—¶é—´è½®åº”ç”¨&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åˆ°è¿™é‡Œï¼ŒDubboä¸­çš„æ—¶é—´è½®åŸç†å°±åˆ†æå®Œäº†ã€‚æ¥ä¸‹æ¥å‘¼åº”æœ¬æ–‡å¼€å¤´çš„ä¸‰ä¸ªä¾‹å­ï¼Œç»“åˆå®ƒä»¬æ¥åˆ†æä¸‹æ—¶é—´è½®åœ¨Dubboæˆ–Redissonä¸­æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;1ï¼‰HeartbeatTimerTask&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;åœ¨Dubboçš„HeaderExchangeClientç±»ä¸­ä¼šå‘æ—¶é—´è½®ä¸­æäº¤è¯¥å¿ƒè·³ä»»åŠ¡ã€‚&lt;/p&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;startHeartBeatTask&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;URL url&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (!client.canHandleIdle()) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        AbstractTimerTask.ChannelProvider cp =&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;          () -&amp;gt; Collections.singletonList(HeaderExchangeClient.&lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;int&lt;/span&gt; heartbeat = getHeartbeat(url);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; heartbeatTick = calculateLeastDuration(heartbeat);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;this&lt;/span&gt;.heartBeatTimerTask =&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;               &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HeartbeatTimerTask(cp, heartbeatTick, heartbeat);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        IDLE_CHECK_TIMER.newTimeout(heartBeatTimerTask, heartbeatTick, TimeUnit.MILLISECONDS);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;final&lt;/span&gt; HashedWheelTimer IDLE_CHECK_TIMER =&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                              &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; HashedWheelTimer(&lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; NamedThreadFactory(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;dubbo-client-idleCheck&quot;&lt;/span&gt;, &lt;span class=&quot;code-snippet__keyword&quot;&gt;true&lt;/span&gt;), &lt;span class=&quot;code-snippet__number&quot;&gt;1&lt;/span&gt;, TimeUnit.SECONDS, TICKS_PER_WHEEL);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;java&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;/&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-snippet__keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;code-snippet__title&quot;&gt;doTask&lt;/span&gt;&lt;span class=&quot;code-snippet__params&quot;&gt;(Channel channel)&lt;/span&gt; &lt;/span&gt;{&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;try&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Long lastRead = lastRead(channel);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        Long lastWrite = lastWrite(channel);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; ((lastRead != &lt;span class=&quot;code-snippet__keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; now() - lastRead &amp;gt; heartbeat)&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            || (lastWrite != &lt;span class=&quot;code-snippet__keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; now() - lastWrite &amp;gt; heartbeat)) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            Request req = &lt;span class=&quot;code-snippet__keyword&quot;&gt;new&lt;/span&gt; Request();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            req.setVersion(Version.getProtocolVersion());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            req.setTwoWay(&lt;span class=&quot;code-snippet__keyword&quot;&gt;true&lt;/span&gt;);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            req.setEvent(HEARTBEAT_EVENT);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            channel.send(req);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    } &lt;span class=&quot;code-snippet__keyword&quot;&gt;catch&lt;/span&gt; (Throwable t) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;         &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;2ï¼‰Redissoné”ç»­æœŸæœºåˆ¶&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;å½“è·å–é”æˆåŠŸåï¼ŒRedissonä¼šå°è£…ä¸€ä¸ªé”ç»­æœŸä»»åŠ¡æ”¾å…¥æ—¶é—´è½®ä¸­ï¼Œé»˜è®¤10sæ£€æŸ¥ä¸€ä¸‹ï¼Œç”¨äºå¯¹è·å–åˆ°çš„é”è¿›è¡Œç»­æœŸï¼Œå»¶é•¿æŒæœ‰é”çš„æ—¶é—´ã€‚å¦‚æœä¸šåŠ¡æœºå™¨å®•æœºäº†ï¼Œé‚£ä¹ˆè¯¥ç»­æœŸçš„å®šæ—¶ä»»åŠ¡ä¹Ÿå°±æ²¡æ³•è·‘äº†ï¼Œå°±æ²¡æ³•ç»­æœŸäº†ï¼Œé‚£ç­‰åŠ é”æ—¶é—´åˆ°äº†é”å°±è‡ªåŠ¨é‡Šæ”¾äº†ã€‚é€»è¾‘å°è£…åœ¨RedissonLockä¸­çš„renewExpiration()æ–¹æ³•ä¸­ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;img class=&quot;rich_pages wxw-img js_insertlocalimg&quot; data-backh=&quot;194&quot; data-backw=&quot;578&quot; data-ratio=&quot;0.3363886342804766&quot; data-s=&quot;300,640&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_png/4g5IMGibSxt590uN0EGmkqXQFichIpeWUvd2SgvYgR98dCAEVAYibSSxpib3gIOaoMjJNpJzw1HtuB0G5Hbt2ZcGKA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1091&quot;/&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;kotlin&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;private&lt;/span&gt; void renewExpiration() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ExpirationEntry ee = EXPIRATION_RENEWAL_MAP.&lt;span class=&quot;code-snippet__keyword&quot;&gt;get&lt;/span&gt;(getEntryName());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (ee == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    Timeout task = commandExecutor.getConnectionManager().newTimeout(new TimerTask() {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__meta&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        &lt;span class=&quot;code-snippet__keyword&quot;&gt;public&lt;/span&gt; void run(Timeout timeout) throws Exception {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            ExpirationEntry ent = EXPIRATION_RENEWAL_MAP.&lt;span class=&quot;code-snippet__keyword&quot;&gt;get&lt;/span&gt;(getEntryName());&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (ent == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__built_in&quot;&gt;Long&lt;/span&gt; threadId = ent.getFirstThreadId();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (threadId == &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            RFuture&amp;lt;&lt;span class=&quot;code-snippet__built_in&quot;&gt;Boolean&lt;/span&gt;&amp;gt; future = renewExpirationAsync(threadId);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            future.onComplete((res, e) -&amp;gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (e != &lt;span class=&quot;code-snippet__literal&quot;&gt;null&lt;/span&gt;) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    log.error(&lt;span class=&quot;code-snippet__string&quot;&gt;&quot;Can&#x27;t update lock &quot;&lt;/span&gt; + getName() + &lt;span class=&quot;code-snippet__string&quot;&gt;&quot; expiration&quot;&lt;/span&gt;, e);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                &lt;span class=&quot;code-snippet__keyword&quot;&gt;if&lt;/span&gt; (res) {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                    renewExpiration();&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;            });&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;        }&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    }, internalLockLeaseTime / &lt;span class=&quot;code-snippet__number&quot;&gt;3&lt;/span&gt;, TimeUnit.MILLISECONDS);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    ee.setTimeout(task);&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section class=&quot;code-snippet__fix code-snippet__js&quot;&gt;&lt;pre class=&quot;code-snippet__js&quot; data-lang=&quot;cs&quot;&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;&lt;span class=&quot;code-snippet__function&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;protected&lt;/span&gt; RFuture&amp;lt;Boolean&amp;gt; &lt;span class=&quot;code-snippet__title&quot;&gt;renewExpirationAsync&lt;/span&gt;(&lt;span class=&quot;code-snippet__params&quot;&gt;&lt;span class=&quot;code-snippet__keyword&quot;&gt;long&lt;/span&gt; threadId&lt;/span&gt;)&lt;/span&gt; {&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;    &lt;span class=&quot;code-snippet__keyword&quot;&gt;return&lt;/span&gt; evalWriteAsync(getName(), LongCodec.INSTANCE, RedisCommands.EVAL_BOOLEAN,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;if (redis.call(&#x27;hexists&#x27;, KEYS[1], ARGV[2]) == 1) then &quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;redis.call(&#x27;pexpire&#x27;, KEYS[1], ARGV[1]); &quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;return 1; &quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;end; &quot;&lt;/span&gt; +&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          &lt;span class=&quot;code-snippet__string&quot;&gt;&quot;return 0;&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          Collections.singletonList(getName()),&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;                          internalLockLeaseTime, getLockName(threadId));&lt;/span&gt;&lt;/code&gt;&lt;code&gt;&lt;span class=&quot;code-snippet_outer&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;strong&gt;3ï¼‰è¶…æ—¶é‡è¯•&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;ä½¿ç”¨æ–¹å¼å’ŒHeartbeatTimerTaskæ–¹å¼ç±»ä¼¼ï¼Œè¯»è€…å¯ä»¥è‡ªå·±åŠ¨æ‰‹å»åˆ†æä¸‹å®ƒæ˜¯åœ¨å“ªé‡Œè¢«å¼•å…¥çš„ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;p&gt;å››ã€æ€»ç»“&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œå…ˆæ˜¯ä¸¾äº†3ä¸ªä¾‹å­æ¥è®ºè¿°ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ—¶é—´è½®ï¼Œä½¿ç”¨æ—¶é—´è½®çš„ä¼˜ç‚¹ï¼Œåœ¨æ–‡æœ«å¤„ä¹Ÿåˆ†åˆ«å¯¹è¿™3ä¸ªä¾‹å­åœ¨Dubboæˆ–Redissonä¸­çš„ä½¿ç”¨åšäº†ä»‹ç»ã€‚æ¥ç€é€šè¿‡ç”»å›¾è®²è§£äº†å•å±‚æ—¶é—´è½®ä¸å¤šå±‚æ—¶é—´è½®æœºåˆ¶ï¼Œè®©è¯»è€…å¯¹æ—¶é—´è½®ç®—æ³•æœ‰äº†ä¸€ä¸ªç®€å•çš„è®¤è¯†ã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œä¾æ¬¡è®²è§£äº†Dubboæ—¶é—´è½®ä¸­æ¶‰åŠåˆ°çš„TimerTaskã€Timeoutã€HashedWheelBucketã€Workerã€HashedWheelTimerï¼Œåˆ†æäº†å®ƒä»¬çš„åŸç†ä¸æºç å®ç°ã€‚&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;p&gt;END&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;section&gt;&lt;svg viewbox=&quot;0 0 1 1&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section powered-by=&quot;xiumi.us&quot;&gt;&lt;section&gt;&lt;span title=&quot;&quot; opera-tn-ra-cell=&quot;_$.pages:0.layers:0.comps:117.title1&quot;&gt;&lt;p&gt;çŒœä½ å–œæ¬¢&lt;/p&gt;&lt;/span&gt; &lt;/section&gt;&lt;section&gt;&lt;section powered-by=&quot;xiumi.us&quot;/&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
<item>
<guid>e1c9277fb79eb4e7dac62816973283da</guid>
<title>ä¸ä¼šè¿™ä¸ªæŠ€å·§ï¼Œæˆä¸äº†é«˜çº§å¼€å‘</title>
<link>https://toutiao.io/k/pjxqnnq</link>
<content:encoded>&lt;div&gt;&lt;div&gt;&lt;section data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; data-website=&quot;https://www.mdnice.com&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;section class=&quot;mp_profile_iframe_wrp&quot;&gt;&lt;mpprofile class=&quot;js_uneditable custom_select_card mp_profile_iframe&quot; data-pluginname=&quot;mpprofile&quot; data-id=&quot;MzAwNTM0ODY1Mg==&quot; data-headimg=&quot;http://mmbiz.qpic.cn/mmbiz_png/JJRW7FxQRExEUUR3RSCrwsjzAYNvk3jz2zK7JVGoMY7Lmls5U11TVz4dqvtoxhAlicstb2cmd1ljrsPn9qN9Hag/0?wx_fmt=png&quot; data-nickname=&quot;ç ä¸Šå®æˆ˜&quot; data-alias=&quot;Push-Code&quot; data-signature=&quot;å®æˆ˜æ¼”ç»ƒæ–¹å¯å¤§æˆï¼Œå…³æ³¨JavaåŸºç¡€åŠæœ€æ–°æŠ€æœ¯ã€‚&quot; data-from=&quot;0&quot;/&gt;&lt;/section&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é«˜çº§å¼€å‘èµ·ç å¾—ä¼šäº›é«˜çº§æŠ€å·§å§ï¼Ÿé‚£è¿™äº›é«˜çº§æŠ€å·§ä»å“ªé‡Œå–å¾—å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç¬¬ä¸€ç§æ–¹å¼è‚¯å®šæ˜¯è¯»ä¹¦ï¼Œä»€ä¹ˆï¼Ÿä½ æ²¡é‚£ä¹ˆå¤šæ—¶é—´ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;img class=&quot;rich_pages wxw-img&quot; data-ratio=&quot;1&quot; data-type=&quot;gif&quot; data-w=&quot;255&quot; data-src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/JJRW7FxQRExwnnunK9UdMEwS1DiclxF7nc79umKzesogVO7StI2jNLJvFhxBsZ39PWOtfxzSyvyichZ2icXOX9l2Q/640?wx_fmt=gif&quot;/&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å¹¸å¥½ï¼Œæˆ‘è¿™é‡Œå¸®ä½ å¼€å¯äº†é€Ÿè¯»æ¨¡å¼ï¼Œè·Ÿç€æˆ‘ä¸€èµ·å­¦ä¹  ã€Šé«˜æ•ˆJavaã€‹ç³»åˆ—ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å’±ä»¬ç¬¬ä¸€ç«™å°±æ¥åˆ°äº†: é™æ€å·¥å‚æ–¹æ³•&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;1. ä»€ä¹ˆæ˜¯é™æ€å·¥å‚æ–¹æ³•ï¼Ÿ&lt;span/&gt;&lt;/h3&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é™æ€å·¥å‚æ–¹æ³•æ˜¯ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;è¿™é‡Œçš„é™æ€å·¥å‚æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„å·¥å‚æ¨¡å¼ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é™æ€å·¥å‚æ–¹æ³•ä»…ä»…æ˜¯ç±»çš„ä¸€ä¸ªæ™®é€šçš„é™æ€æ–¹æ³•ï¼Œå®ƒçš„æœ€ç»ˆæ•ˆæœç­‰åŒäºæ„é€ å™¨ã€‚&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¯´äº†è¿™ä¹ˆå¤šï¼Œç»™ä½ ä¸¾ä¸ªä¾‹å­å°±æ˜ç™½äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;IntegerÂ &lt;span&gt;integer&lt;/span&gt;Â =Â Integer.valueOf(&lt;span&gt;&quot;1&quot;&lt;/span&gt;);&lt;br/&gt;BooleanÂ aBooleanÂ =Â Boolean.valueOf(&lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;CalendarÂ calendarÂ =Â Calendar.getInstance();&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢çš„ä¾‹å­ä¸­ &lt;code&gt;valueOf&lt;/code&gt; å’Œ &lt;code&gt;getInstance&lt;/code&gt; æ–¹æ³•å°±è¢«ç§°ä¸º &lt;strong&gt;é™æ€å·¥å‚æ–¹æ³•&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;2. é™æ€å·¥å‚æ–¹æ³•ä¼˜åŠ¿&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;é‚£ä¹ˆä¸ºä»€ä¹ˆé¼“åŠ±ç”¨é™æ€å·¥å‚æ–¹æ³•æ¥åˆ›é€ å¯¹è±¡ï¼Œè€Œä¸æ˜¯é¼“åŠ±ä½¿ç”¨æ„é€ å™¨å‘¢ï¼Ÿ&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;åŸå› æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;é™æ€å·¥å‚æ–¹æ³•æ‹¥æœ‰åç§°ï¼Œè€Œæ„é€ å™¨æ²¡æœ‰&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;ä¸å¿…åœ¨æ¯æ¬¡è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•æ—¶éƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å¯ä»¥è¿”å›å½“å‰ç±»çš„ä»»ä½•å­ç±»å‹å¯¹è±¡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å‡å°‘ä½¿ç”¨è€…å‡ºé”™çš„æ¦‚ç‡&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸‹é¢æˆ‘ä»¬æ¥é€ä¸€äº†è§£è¿™äº›ä¼˜ç‚¹ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.1 é™æ€å·¥å‚æ–¹æ³•æ‹¥æœ‰åç§°ï¼Œè€Œæ„é€ å™¨æ²¡æœ‰&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å› ä¸ºæ„é€ å™¨çš„æœ¬èº«å¹¶æ²¡æœ‰ç¡®åˆ‡çš„æè¿°è¢«è¿”å›çš„å¯¹è±¡ï¼Œè€Œé™æ€å·¥å‚æ–¹æ³•å› ä¸ºæœ‰æ–¹æ³•åï¼Œæ‰€ä»¥ä»–èƒ½å¤Ÿæ›´ä¸ºæ¸…æ¥šçš„æè¿°å°†è¢«è¿”å›çš„å¯¹è±¡ã€‚å°¤å…¶æ˜¯æ‹¥æœ‰å¤šä¸ªä¸åŒå‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œåœ¨é€‰æ‹©æ„é€ æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šè®©äººæœ‰äº›è¿·æƒ‘ï¼Œè€Œé™æ€å·¥å‚æ–¹æ³•åˆ™æ›´åŠ æ¸…æ¥šæ˜äº†ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Dateç±»&lt;br/&gt;DateÂ date0Â =Â newÂ Date();&lt;br/&gt;DateÂ date1Â =Â newÂ Date(2022L);&lt;br/&gt;DateÂ date2Â =Â newÂ Date(&lt;span&gt;&quot;2022&quot;&lt;/span&gt;);&lt;br/&gt;DateÂ date3Â =Â newÂ Date(2022,3,20);&lt;br/&gt;DateÂ date4Â =Â newÂ Date(2022,3,20,18,30,59);&lt;br/&gt;&lt;br/&gt;//Â LocalDateç±»&lt;br/&gt;publicÂ staticÂ LocalDateÂ &lt;span&gt;&lt;span&gt;now&lt;/span&gt;&lt;/span&gt;(){}&lt;br/&gt;publicÂ staticÂ LocalDateÂ ofEpochDay(longÂ epochDay){}&lt;br/&gt;publicÂ staticÂ LocalDateÂ of(intÂ year,Â MonthÂ month,Â intÂ dayOfMonth)Â {}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span&gt;â˜…&lt;/span&gt;&lt;p&gt;&lt;span&gt;çœ‹ä¸‹è¿™ä¹ˆå¤šä¸åŒå‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå¦‚æœä¸å»äº†è§£Dateï¼Œæ‡µä¸æ‡µï¼Ÿ&lt;/span&gt;&lt;span&gt; å†çœ‹çœ‹ Java8 &lt;/span&gt;ä¸­&lt;span&gt;çš„LocalDateç±»ã€‚&lt;/span&gt;&lt;/p&gt;&lt;span&gt;â€&lt;/span&gt;&lt;/blockquote&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.2 ä¸å¿…åœ¨æ¯æ¬¡è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•æ—¶éƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ„é€ å™¨æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•åˆ™å¯ä»¥ä¸å¿…æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æå‰åˆ›å»ºå¥½å¯¹è±¡æˆ–é‡ç”¨å·²æœ‰çš„å¯¹è±¡ï¼Œä»¥è¾¾åˆ°æå‡æ€§èƒ½çš„ç›®çš„ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¥æˆ‘ç»™ä½ ä»¬ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;1ã€Integer ç±»ä¸­çš„ &lt;code&gt;valueOf&lt;/code&gt; æ–¹æ³•ï¼Œå½“æ•°å€¼åœ¨ -128 ~ 127ä¹‹é—´æ—¶ï¼Œæ˜¯ä¸ä¼šåˆ›å»ºæ–°çš„Integerç±»çš„ï¼Œè€Œæ˜¯ä»ç¼“å­˜ä¸­å–å‡ºã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;publicÂ staticÂ IntegerÂ valueOf(intÂ i)Â {&lt;br/&gt;Â Â Â Â &lt;span&gt;if&lt;/span&gt;Â (iÂ &amp;gt;=Â IntegerCache.lowÂ &amp;amp;&amp;amp;Â iÂ &amp;lt;=Â IntegerCache.high)&lt;br/&gt;Â Â Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â IntegerCache.cache[iÂ +Â (-IntegerCache.low)];&lt;br/&gt;Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newÂ Integer(i);&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;2ã€Boolean ç±»ä¸­çš„ &lt;code&gt;valueOf&lt;/code&gt; æ–¹æ³•ï¼Œç›´æ¥å–å‡ºæå‰åˆ›å»ºå¥½çš„é™æ€å¸¸é‡è¿”å›ï¼Œä¹Ÿæ²¡æœ‰åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;publicÂ finalÂ classÂ Boolean{&lt;br/&gt;Â publicÂ staticÂ finalÂ BooleanÂ TRUEÂ =Â newÂ Boolean(&lt;span&gt;true&lt;/span&gt;);&lt;br/&gt;Â Â Â Â publicÂ staticÂ finalÂ BooleanÂ FALSEÂ =Â newÂ Boolean(&lt;span&gt;false&lt;/span&gt;);&lt;br/&gt;Â Â Â publicÂ staticÂ BooleanÂ valueOf(booleanÂ b)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (bÂ ?Â TRUEÂ :Â FALSE);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.3 å¯ä»¥è¿”å›åŸç±»å‹çš„ä»»ä½•å­ç±»å‹å¯¹è±¡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™é‡Œç‰µæ¶‰åˆ°æœ€åŸºç¡€çš„å¤šæ€ï¼š&lt;/p&gt;&lt;ul data-tool=&quot;mdniceç¼–è¾‘å™¨&quot; class=&quot;list-paddingleft-1&quot;&gt;&lt;li&gt;&lt;section&gt;&lt;p&gt;å‘ä¸Šè½¬å‹ï¼šå¤šæ€æœ¬èº«å°±æ˜¯å‘ä¸Šè½¬å‹è¿‡çš„è¿‡ç¨‹&lt;/p&gt;&lt;p&gt;ä½¿ç”¨æ ¼å¼ï¼šçˆ¶ç±»ç±»å‹ å˜é‡å=new å­ç±»ç±»å‹();&lt;/p&gt;&lt;/section&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿˜æœ‰å°±æ˜¯è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™ä¸­çš„&amp;lt;é‡Œæ°æ›¿æ¢åŸåˆ™&amp;gt;ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;publicÂ classÂ TestÂ {&lt;br/&gt;Â //é™æ€å·¥å‚æ–¹æ³•ï¼Œè¿”å›Testçš„å­ç±»å‹T1&lt;br/&gt;Â Â Â Â publicÂ staticÂ TestÂ &lt;span&gt;&lt;span&gt;valueOf&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newÂ T1();&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â privateÂ staticÂ classÂ T1Â extendsÂ Test{}&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è™½ç„¶å¯ä»¥è¿™æ ·ç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·ä½¿ç”¨ï¼Œå› ä¸ºè¿™æ ·ä¸åˆ©äºè§£è€¦ï¼Œçˆ¶ç±»æœ€å¥½ä¸è¦ä¾èµ–äºå­ç±»ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ¨èçš„åšæ³•æ˜¯ï¼šåƒ Collections ç±»ä¸€æ ·ï¼Œå®ƒåƒä¸€ä¸ªå·¥å…·ç±»ï¼Œå®ƒæä¾›äº†è®¸å¤šé™æ€å·¥å‚æ–¹æ³•ï¼Œä½ å»çœ‹ä¼šå‘ç°é™æ€å·¥å‚æ–¹æ³•è¿”å›çš„å¹¶ä¸æ˜¯ç¡®å®šçš„ç±»å‹ï¼Œè€Œæ˜¯Listæ¥å£çš„ä¸€äº›å­ç±»ï¼Œè¿™äº›å­ç±»è¢«ä½œä¸ºç§æœ‰ç±»å®šä¹‰åœ¨Collections ä¸­ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥æ„é€ è¿™äº›ç±»ï¼Œä½†å´å¯ä»¥é€šè¿‡é™æ€å·¥å‚æ–¹æ³•ä½¿ç”¨å®ƒã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™æ ·åšçš„ç›®çš„æ˜¯ç²¾å‡APIçš„æ•°é‡ï¼Œå¯¹å®¢æˆ·ç«¯æ¥è¯´ä¹Ÿæ˜¯ä¸€ç§å‡å‹ã€‚æˆ‘ä»¬æœ‰æ—¶ä¸å¿…çŸ¥é“è¿”å›çš„ç±»æ˜¯ä»€ä¹ˆï¼Œä½†æˆ‘ä»¬å¯ä»¥åƒæˆ‘ä»¬ç†ŸçŸ¥çš„æ¥å£ä¸€æ ·ä½¿ç”¨å®ƒã€‚&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;//Â SingletonListÂ æ˜¯ç§æœ‰çš„ï¼Œå®ç°Listæ¥å£çš„ç±»&lt;br/&gt;publicÂ staticÂ &amp;lt;T&amp;gt;Â List&amp;lt;T&amp;gt;Â singletonList(TÂ o)Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newÂ SingletonList&amp;lt;&amp;gt;(o);&lt;br/&gt;}&lt;br/&gt;//Â EmptyListÂ æ˜¯ç§æœ‰çš„ï¼Œå®ç°Listæ¥å£çš„ç±»&lt;br/&gt;publicÂ staticÂ finalÂ &amp;lt;T&amp;gt;Â List&amp;lt;T&amp;gt;Â &lt;span&gt;&lt;span&gt;emptyList&lt;/span&gt;&lt;/span&gt;()Â {&lt;br/&gt;Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â (List&amp;lt;T&amp;gt;)Â EMPTY_LIST;&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;strong&gt;2.4 å‡å°‘ä½¿ç”¨è€…å‡ºé”™çš„æ¦‚ç‡&lt;/strong&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;å…ˆçœ‹ä¸‹ä¾‹å­ï¼š&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;classÂ RunÂ {&lt;br/&gt;Â Â Â Â publicÂ staticÂ finalÂ intÂ RUNNINGÂ =Â 1;&lt;br/&gt;Â Â Â Â publicÂ staticÂ finalÂ intÂ STOPÂ =Â 2;&lt;br/&gt;Â Â Â Â protectedÂ intÂ state;&lt;br/&gt;Â Â Â Â publicÂ Run(intÂ state)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â this.stateÂ =Â state;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â publicÂ voidÂ &lt;span&gt;&lt;span&gt;process&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â //Â &lt;span&gt;if&lt;/span&gt;Â RUNNINGÂ /Â STOP&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘åªæƒ³å¯¹ RUNNING / STOP ä¸¤ç§çŠ¶æ€å¤„ç†ï¼Œä½†æˆ‘å´æ— æ³•æ§åˆ¶ä½¿ç”¨è€…çš„è¡Œä¸ºï¼Œæ¯”å¦‚ä»–å¯ä»¥è¿™æ ·è°ƒç”¨ï¼š&lt;code&gt;new Run(4)&lt;/code&gt;&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;è¿™ç§æƒ…å†µæ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;&lt;pre data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;code&gt;classÂ RunÂ {&lt;br/&gt;Â Â Â Â publicÂ staticÂ finalÂ intÂ RUNNINGÂ =Â 1;&lt;br/&gt;Â Â Â Â publicÂ staticÂ finalÂ intÂ STOPÂ =Â 2;&lt;br/&gt;Â Â Â Â protectedÂ intÂ state;&lt;br/&gt;Â Â Â Â //ç§æœ‰æ„é€ æ–¹æ³•å¤–éƒ¨æ— æ³•è°ƒç”¨&lt;br/&gt;Â Â Â Â privateÂ Run(intÂ state)Â {&lt;br/&gt;Â Â Â Â Â Â Â Â this.stateÂ =Â state;&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â publicÂ staticÂ RunÂ &lt;span&gt;&lt;span&gt;running&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newÂ Run(RUNNING);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â publicÂ staticÂ RunÂ &lt;span&gt;&lt;span&gt;stop&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â &lt;span&gt;return&lt;/span&gt;Â newÂ Run(STOP);&lt;br/&gt;Â Â Â Â }&lt;br/&gt;Â Â Â Â publicÂ voidÂ &lt;span&gt;&lt;span&gt;process&lt;/span&gt;&lt;/span&gt;(){&lt;br/&gt;Â Â Â Â Â Â Â Â //Â &lt;span&gt;if&lt;/span&gt;Â RUNNINGÂ /Â STOP&lt;br/&gt;Â Â Â Â }&lt;br/&gt;}&lt;br/&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ç»è¿‡è¿™æ ·æ”¹é€ åï¼Œæˆ‘ä»¬ä¸¥æ ¼æ§åˆ¶äº†å–å€¼èŒƒå›´ï¼Œä½¿ç”¨è€…å‡ºé”™çš„æœºä¼šå°±å¤§å¤§å‡å°‘äº†ã€‚&lt;/p&gt;&lt;h3 data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;&lt;span/&gt;3. æ€»ç»“&lt;span/&gt;&lt;/h3&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;ä½œä¸ºç±»çš„æä¾›è€…ï¼Œæˆ‘ä»¬è¦å°½é‡ç¡®ä¿è‡ªèº«æ€§èƒ½å¥½ï¼Œå…·æœ‰çµæ´»æ€§ï¼Œè®©ä½¿ç”¨è€…ä½¿ç”¨èµ·æ¥æ›´å®¹æ˜“ï¼Œæ›´ä¸å®¹æ˜“å‡ºé”™ã€‚&lt;/p&gt;&lt;p data-tool=&quot;mdniceç¼–è¾‘å™¨&quot;&gt;æ°æ°é™æ€å·¥å‚æ–¹æ³•å¯ä»¥è®©æˆ‘ä»¬åšåˆ°è¿™äº›ï¼Œæ‰€æœ‰&lt;span&gt;å»ºè®®åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•ã€‚&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/div&gt;&lt;/div&gt;</content:encoded>
</item>
</channel></rss>